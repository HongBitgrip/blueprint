Ext.define("com.coremedia.blueprint.base.components.previewhighlighting.PreviewHighlightingMessageTypes",function(PreviewHighlightingMessageTypes){function PreviewHighlightingMessageTypes$(){}return{constructor:PreviewHighlightingMessageTypes$,statics:{TO_HIGHLIGHT_MODE:"placements.addHighlight",TO_DEFAULT_MODE:"placements.removeHighlight"}}});Ext.define("com.coremedia.blueprint.base.components.previewhighlighting.PlacementHighlightMetadata",function(PlacementHighlightMetadata){function PlacementHighlightMetadata$(metadataService){this.metadataService$Dh_Y=metadataService}function previewContainsPlacementMetadata(){var metadataTree=this.metadataService$Dh_Y.getMetadataTree();if(!metadataTree)return undefined;var root=metadataTree.getRoot();if(!root)return undefined;var fragmentsOnPage=root.findChildrenBy(AS3.bind(this,"selectIsPlacementRequest$Dh_Y")).length;
var contains=fragmentsOnPage!==0;return contains}function selectIsPlacementRequest(node){var property=AS3.as(node.getProperty("placementRequest"),Array);if(property!==null&&property.length>0)return true;return false}return{metadataService$Dh_Y:null,constructor:PlacementHighlightMetadata$,previewContainsPlacementMetadata:previewContainsPlacementMetadata,selectIsPlacementRequest$Dh_Y:selectIsPlacementRequest}});Ext.define("com.coremedia.blueprint.base.components.previewhighlighting.PlacementHighlightButton",function(PlacementHighlightButton){function PlacementHighlightButton$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.base.components.previewhighlighting.PlacementHighlightButtonBase,{});var defaults_$1=AS3.cast(PlacementHighlightButton,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons",
"placement_view")));config_$1.enableToggle=true;AS3.setBindable(config_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.base.components.previewhighlighting.PlacementHighlightButton","PlacementHighlightButton_tooltip")));AS3.setBindable(config_$1,"tooltip",this.resourceManager.getString("com.coremedia.blueprint.base.components.previewhighlighting.PlacementHighlightButton","PlacementHighlightButton_tooltip"));net.jangaroo.ext.Exml.apply(config_$1,config);
this.super$H_nb(config_$1)}return{extend:"com.coremedia.blueprint.base.components.previewhighlighting.PlacementHighlightButtonBase",alias:"widget.com.coremedia.livecontext.studio.config.placementHighlightButton",constructor:PlacementHighlightButton$,super$H_nb:function(){com.coremedia.blueprint.base.components.previewhighlighting.PlacementHighlightButtonBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.blueprint.base.components.previewhighlighting.PlacementHighlightButtonBase",
"com.coremedia.blueprint.base.components.previewhighlighting.PlacementHighlightButton_properties","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.blueprint.base.components.previewhighlighting.PlacementHighlightButtonBase",function(PlacementHighlightButtonBase){function PlacementHighlightButtonBase$(config){if(arguments.length<=0)config=null;this.super$8ApM(config);this.showFragments$8ApM=readButtonSelection$static();this.toggle(this.showFragments$8ApM);this.hide();this.on("afterrender",AS3.bind(this,"initButton$8ApM"));this.addListener("click",AS3.bind(this,"handleButtonClick$8ApM"))}function handleButtonClick(){this.showFragments$8ApM=
!this.showFragments$8ApM;this.sendHighlightEvent$8ApM()}function sendHighlightEvent(){var frame=AS3.as(this.getPreviewPanel$8ApM().findByType(com.coremedia.cms.editor.sdk.preview.PreviewIFrame)[0],com.coremedia.cms.editor.sdk.preview.PreviewIFrame);var targetWindow=frame.getContentWindow();if(this.showFragments$8ApM){var returnMap=this.buildPlacementsMap$8ApM(this.resourceManager.getResourceBundle(null,"com.coremedia.cms.editor.ContentTypes").content);Ext.apply(returnMap,this.buildPlacementDescriptionMap$8ApM(this.resourceManager.getResourceBundle(null,
"com.coremedia.blueprint.base.components.previewhighlighting.PlacementHighlightButton").content));com.coremedia.cms.editor.sdk.messageService.sendMessage(targetWindow,com.coremedia.blueprint.base.components.previewhighlighting.PreviewHighlightingMessageTypes.TO_HIGHLIGHT_MODE,returnMap)}else com.coremedia.cms.editor.sdk.messageService.sendMessage(targetWindow,com.coremedia.blueprint.base.components.previewhighlighting.PreviewHighlightingMessageTypes.TO_DEFAULT_MODE,{});storeButtonSelection$static(this.showFragments$8ApM)}
function buildPlacementsMap(localizations){var placementsMap=new Object;for(var key in localizations)if(key.indexOf(PlacementHighlightButtonBase.PLACEMENT_LOCAL_IDENTIFIER)>=0&&key.indexOf(PlacementHighlightButtonBase.PLACEMENT_LOCAL_TEXT)>=0){var technicalKey=key.substr(PlacementHighlightButtonBase.PLACEMENT_LOCAL_IDENTIFIER.length);technicalKey=technicalKey.substr(0,technicalKey.indexOf(PlacementHighlightButtonBase.PLACEMENT_LOCAL_TEXT));placementsMap[technicalKey]=localizations[key]}return placementsMap}
function buildPlacementDescriptionMap(localizations){var descriptionsMap=new Object;for(var key in localizations)if(key.indexOf(PlacementHighlightButtonBase.PLACEMENTHIGHLIGHTING_LOCAL_IDENTIFIER)>=0)descriptionsMap[key]=localizations[key];return descriptionsMap}function initButton(){var this$=this;var metadataLoadedVE;metadataLoadedVE=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var ms=this$.getMetadataService();if(!ms)return undefined;var metadataTree=ms.getMetadataTree();
return metadataTree.getRoot()?true:false});var metadataPreviousLoadedRootVE;metadataPreviousLoadedRootVE=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var ms=this$.getMetadataService();if(!ms)return undefined;var metadataTree=ms.getMetadataTree();return metadataTree.getRoot()});if(!metadataLoadedVE.getValue())metadataLoadedVE.addChangeListener(AS3.bind(this,"reevaluateButtonState$8ApM"));else this.reevaluateButtonState$8ApM();metadataPreviousLoadedRootVE.addChangeListener(function(currentNode){if(currentNode.getValue()!==
this$.previousMetadatatreeRoot$8ApM)this$.reevaluateButtonState$8ApM();this$.previousMetadatatreeRoot$8ApM=currentNode.getValue()})}function reevaluateButtonState(){var containsPlacements=this.getPlacementHighlightMetadata$8ApM().previewContainsPlacementMetadata();if(containsPlacements)this.show();else this.hide()}function getPlacementHighlightMetadata(){if(!this.placementHighlightMetadata$8ApM)this.placementHighlightMetadata$8ApM=new com.coremedia.blueprint.base.components.previewhighlighting.PlacementHighlightMetadata(this.getMetadataService());
return this.placementHighlightMetadata$8ApM}function getPreviewPanel(){if(!this.previewPanelField$8ApM){var activeTab=AS3.as(com.coremedia.cms.editor.sdk.editorContext.getWorkArea().getActiveTab(),Ext.panel.Panel);if(activeTab){this.previewPanelField$8ApM=AS3.as(activeTab.findByType(com.coremedia.cms.editor.sdk.preview.PreviewPanel.xtype)[0],com.coremedia.cms.editor.sdk.preview.PreviewPanel);if(this.previewPanelField$8ApM)this.previewPanelField$8ApM.addListener("previewUrl",AS3.bind(this,"sendHighlightEvent$8ApM"))}}return this.previewPanelField$8ApM}
function getMetadataService(){if(!this.metadataService$8ApM){var previewPanel=this.getPreviewPanel$8ApM();if(previewPanel)this.metadataService$8ApM=previewPanel.getMetadataService()}return this.metadataService$8ApM}function storeButtonSelection$static(state){com.coremedia.ui.util.LocalStorageUtil.setItem(PlacementHighlightButtonBase.LOCAL_STARAGE_PLACEMENTHIGHLIGHTED,state.toString())}function readButtonSelection$static(){return com.coremedia.ui.util.LocalStorageUtil.getItem(PlacementHighlightButtonBase.LOCAL_STARAGE_PLACEMENTHIGHLIGHTED)===
"true"}return{extend:"com.coremedia.ui.components.IconButton",metadataService$8ApM:null,previewPanelField$8ApM:null,placementHighlightMetadata$8ApM:null,showFragments$8ApM:false,previousMetadatatreeRoot$8ApM:null,constructor:PlacementHighlightButtonBase$,super$8ApM:function(){com.coremedia.ui.components.IconButton.prototype.constructor.apply(this,arguments)},handleButtonClick$8ApM:handleButtonClick,sendHighlightEvent$8ApM:sendHighlightEvent,buildPlacementsMap$8ApM:buildPlacementsMap,buildPlacementDescriptionMap$8ApM:buildPlacementDescriptionMap,
initButton$8ApM:initButton,reevaluateButtonState$8ApM:reevaluateButtonState,getPlacementHighlightMetadata$8ApM:getPlacementHighlightMetadata,getPreviewPanel$8ApM:getPreviewPanel,getMetadataService:getMetadataService,statics:{PLACEMENT_LOCAL_IDENTIFIER:"CMChannel_placement-",PLACEMENT_LOCAL_TEXT:"_text",PLACEMENTHIGHLIGHTING_LOCAL_IDENTIFIER:"PlacementHighlighting_",LOCAL_STARAGE_PLACEMENTHIGHLIGHTED:"preview.placementHighlighted"},requires:["Ext","Ext.panel.Panel","com.coremedia.blueprint.base.components.previewhighlighting.PlacementHighlightButton_properties",
"com.coremedia.cms.editor.ContentTypes_properties","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.messageService","com.coremedia.cms.editor.sdk.preview.PreviewIFrame","com.coremedia.cms.editor.sdk.preview.PreviewPanel","com.coremedia.ui.components.IconButton","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.util.LocalStorageUtil"],uses:["com.coremedia.blueprint.base.components.previewhighlighting.PlacementHighlightMetadata","com.coremedia.blueprint.base.components.previewhighlighting.PreviewHighlightingMessageTypes"]}});Ext.define("com.coremedia.blueprint.base.components.previewhighlighting.AddPlacementHighlightButtonPlugin",function(AddPlacementHighlightButtonPlugin){function AddPlacementHighlightButtonPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.ui.plugins.AddItemsPlugin,{});var defaults_$1=AS3.cast(AddPlacementHighlightButtonPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"recursive",true);var bp$components_PlacementHighlightButton_19_5_$1=
AS3.cast(com.coremedia.blueprint.base.components.previewhighlighting.PlacementHighlightButton,{});bp$components_PlacementHighlightButton_19_5_$1.itemId="placementHighlightButton";bp$components_PlacementHighlightButton_19_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.TOOLBAR_DARK.getSkin());AS3.setBindable(config_$1,"items",[bp$components_PlacementHighlightButton_19_5_$1]);var component_23_5_$1=AS3.cast(Ext.Component,{});component_23_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.preview.PreviewIFrameToolbarBase.DEVICE_TYPE_SLIDER_SPACER_ITEM_ID);
AS3.setBindable(config_$1,"before",[component_23_5_$1]);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$2Kfn(config_$1)}return{extend:"com.coremedia.ui.plugins.AddItemsPlugin",constructor:AddPlacementHighlightButtonPlugin$,super$2Kfn:function(){com.coremedia.ui.plugins.AddItemsPlugin.prototype.constructor.apply(this,arguments)},requires:["Ext.Component","com.coremedia.cms.editor.sdk.preview.PreviewIFrameToolbarBase","com.coremedia.ui.plugins.AddItemsPlugin","com.coremedia.ui.skins.ButtonSkin",
"net.jangaroo.ext.Exml"],uses:["com.coremedia.blueprint.base.components.previewhighlighting.PlacementHighlightButton"]}});Ext.define("com.coremedia.blueprint.base.components.previewhighlighting.AddPlacementHighlightButtonPluginBase",function(AddPlacementHighlightButtonPluginBase){function AddPlacementHighlightButtonPluginBase$(config){if(arguments.length<=0)config=null;this.super$h2JY(config)}function init(component){com.coremedia.ui.plugins.AddItemsPlugin.prototype.init.call(this,component);var toolbar=AS3.as(component,com.coremedia.cms.editor.sdk.preview.PreviewIFrameToolbar);this.setValue(toolbar)}function getSeperatorVisibilityVE(){return com.coremedia.ui.data.ValueExpressionFactory.createFromValueHolder(this)}
function getValue(){return this.toolbar$h2JY}function setValue(value){if(this.toolbar$h2JY!==value){this.toolbar$h2JY=value;if(this.toolbar$h2JY.itemCollection.getCount()>1)return true}return false}return{extend:"com.coremedia.ui.plugins.AddItemsPlugin",mixins:["com.coremedia.ui.data.ValueHolder"],toolbar$h2JY:null,constructor:AddPlacementHighlightButtonPluginBase$,super$h2JY:function(){com.coremedia.ui.plugins.AddItemsPlugin.prototype.constructor.apply(this,arguments)},init:init,getSeperatorVisibilityVE:getSeperatorVisibilityVE,
getValue:getValue,setValue:setValue,requires:["com.coremedia.cms.editor.sdk.preview.PreviewIFrameToolbar","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.ValueHolder","com.coremedia.ui.plugins.AddItemsPlugin"]}});Ext.define("com.coremedia.blueprint.base.components.pictures.OpenCreateFromPicturesWindowActionBase",function(OpenCreateFromPicturesWindowActionBase){function OpenCreateFromPicturesWindowActionBase$(config){if(arguments.length<=0)config=null;this.multiSelect$FoLf=AS3.getBindable(config,"multiSelect");this.windowConfig$FoLf=AS3.getBindable(config,"windowConfig");this.super$FoLf(AS3.cast(com.coremedia.cms.editor.sdk.actions.ContentAction,Ext.apply({},config,{handler:AS3.bind(this,"showWindow$FoLf")})))}
function showWindow(){Ext.ComponentManager.create(Ext.apply({},this.windowConfig$FoLf,{selectedPictures:this.getContents()})).show()}function isHiddenFor(contents){if(!this.multiSelect$FoLf&&contents.length>1)return true;if(this.multiSelect$FoLf&&contents.length==1)return true;return contents.some(function(content){return!content.getState().readable||!content.isDocument()||!content.getType()||!content.getType().isSubtypeOf(mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.components.pictures.gallery.ImageGallery",
"image_gallery_action_content_type"))})}function calculateHidden(){if(!this.getContents()||this.getContents().length==0)return true;return com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.calculateHidden.call(this)}return{extend:"com.coremedia.cms.editor.sdk.actions.ContentAction",multiSelect$FoLf:false,windowConfig$FoLf:null,constructor:OpenCreateFromPicturesWindowActionBase$,super$FoLf:function(){com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.constructor.apply(this,arguments)},
showWindow$FoLf:showWindow,isHiddenFor:isHiddenFor,calculateHidden:calculateHidden,requires:["Ext","Ext.ComponentManager","com.coremedia.blueprint.base.components.pictures.gallery.ImageGallery_properties","com.coremedia.cms.editor.sdk.actions.ContentAction","mx.resources.ResourceManager"]}});Ext.define("com.coremedia.blueprint.base.components.pictures.spinner.CreateSpinnerWindow",function(CreateSpinnerWindow){function __initialize__(config){this.preferredName$PkMB=this.resourceManager.getString("com.coremedia.blueprint.base.components.pictures.spinner.Spinner","Spinner_dialog_new_spinner_name");this.targetFolder$PkMB=this.resourceManager.getString("com.coremedia.blueprint.base.components.pictures.spinner.Spinner","spinner_action_target_folder")}function CreateSpinnerWindow$(config){if(arguments.length<=
0)config=null;this.__initialize__$PkMB(config);var config_$1=AS3.cast(com.coremedia.blueprint.base.components.pictures.CreateFromPicturesWindow,{});var defaults_$1=AS3.cast(CreateSpinnerWindow,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.blueprint.base.components.pictures.spinner.Spinner","Spinner_dialog_new_spinner_title"));config_$1["id"]="spinnerWindow";AS3.setBindable(config_$1,"contentTypeName",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.base.components.pictures.spinner.Spinner",
"spinner_action_target_content_type")));AS3.setBindable(config_$1,"targetFolder",net.jangaroo.ext.Exml.asString(this.targetFolder$PkMB));AS3.setBindable(config_$1,"preferredName",net.jangaroo.ext.Exml.asString(this.preferredName$PkMB));AS3.setBindable(config_$1,"textFieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.base.components.pictures.spinner.Spinner","Spinner_dialog_new_spinner_name_label")));AS3.setBindable(config_$1,"textFieldEmptyText",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.base.components.pictures.spinner.Spinner",
"Spinner_dialog_new_spinner_empty_text")));AS3.setBindable(config_$1,"dataviewLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.base.components.pictures.spinner.Spinner","Spinner_dialog_preview_label")));var button_44_5_$1=AS3.cast(Ext.button.Button,{});button_44_5_$1.itemId="okBtn";button_44_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_PRIMARY.getSkin());AS3.setBindable(button_44_5_$1,"scale","small");AS3.setBindable(button_44_5_$1,
"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","CreateFolder_dialog_ok_button")));var bpb$components_CreateSpinnerAction_49_9_$1=AS3.cast(com.coremedia.blueprint.base.components.pictures.spinner.CreateSpinnerAction,{});AS3.setBindable(bpb$components_CreateSpinnerAction_49_9_$1,"viewModel",this.getViewModel2(this.preferredName$PkMB,this.targetFolder$PkMB,AS3.getBindable(config,"selectedPictures")));AS3.setBindable(bpb$components_CreateSpinnerAction_49_9_$1,
"callback",AS3.bind(this,"close"));button_44_5_$1.baseAction=new com.coremedia.blueprint.base.components.pictures.spinner.CreateSpinnerAction(bpb$components_CreateSpinnerAction_49_9_$1);var ui_BindPropertyPlugin_54_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_54_9_$1.componentProperty="disabled";ui_BindPropertyPlugin_54_9_$1.bindTo=this.isDisabledValueExpression();button_44_5_$1.plugins=[ui_BindPropertyPlugin_54_9_$1];var button_58_5_$1=AS3.cast(Ext.button.Button,
{});button_58_5_$1.itemId="cancelBtn";button_58_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_SECONDARY.getSkin());AS3.setBindable(button_58_5_$1,"scale","small");AS3.setBindable(button_58_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","dialog_defaultCancelButton_text")));AS3.setBindable(button_58_5_$1,"handler",AS3.bind(this,"close"));config_$1.buttons=[button_44_5_$1,button_58_5_$1];net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$PkMB(config_$1)}return{extend:"com.coremedia.blueprint.base.components.pictures.CreateFromPicturesWindow",alias:"widget.com.coremedia.blueprint.base.components.config.createSpinnerWindow",preferredName$PkMB:null,targetFolder$PkMB:null,__initialize__$PkMB:__initialize__,constructor:CreateSpinnerWindow$,super$PkMB:function(){com.coremedia.blueprint.base.components.pictures.CreateFromPicturesWindow.prototype.constructor.apply(this,arguments)},requires:["Ext.button.Button","com.coremedia.blueprint.base.components.pictures.CreateFromPicturesWindow",
"com.coremedia.blueprint.base.components.pictures.spinner.Spinner_properties","com.coremedia.cms.editor.Editor_properties","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.skins.ButtonSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.blueprint.base.components.pictures.spinner.CreateSpinnerAction"]}});Ext.define("com.coremedia.blueprint.base.components.pictures.spinner.CreateSpinnerActionBase",function(CreateSpinnerActionBase){var SPINNER_CONTENT_TYPE$static;function SPINNER_CONTENT_TYPE$static_(){SPINNER_CONTENT_TYPE$static=com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getContentType(mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.components.pictures.spinner.Spinner","spinner_action_target_content_type"))}function CreateSpinnerActionBase$(config){if(arguments.length<=
0)config=null;this.super$Zx92(config)}function executePicturesAction(selectedName,selectedFolder,selectedPictures,callback){com.coremedia.cms.editor.sdk.util.ContentCreationUtil.createRequiredSubfolders(selectedFolder,function(result){if(result.success)result.baseFolder.getChild(selectedName,function(doc,path){if(doc){var msg=Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.components.pictures.spinner.Spinner","CreateSpinnerAction_failure_exists"),
selectedName);Ext.MessageBox.alert(mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.components.pictures.spinner.Spinner","CreateSpinnerAction_failure_text"),msg)}else{var properties={};properties[mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.components.pictures.spinner.Spinner","spinner_action_target_property")]=selectedPictures;properties[mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.components.pictures.spinner.Spinner",
"spinner_action_target_title_property")]=selectedName;properties[mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.components.pictures.spinner.Spinner","spinner_action_target_title_teaser_property")]=selectedName;com.coremedia.cms.editor.sdk.util.ContentCreationUtil.createContent(result.baseFolder,true,false,selectedName,SPINNER_CONTENT_TYPE$static,callback,null,properties)}});else if(result.remoteError)com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showError(mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.components.pictures.spinner.Spinner",
"CreateSpinnerAction_failure_text"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.components.pictures.spinner.Spinner","CreateSpinnerAction_failure_msg")+" "+result.remoteError.errorName)})}return{extend:"com.coremedia.blueprint.base.components.pictures.CreateFromPicturesAction",constructor:CreateSpinnerActionBase$,super$Zx92:function(){com.coremedia.blueprint.base.components.pictures.CreateFromPicturesAction.prototype.constructor.apply(this,arguments)},executePicturesAction:executePicturesAction,
statics:{SPINNER_CONTENT_TYPE:undefined,__initStatics__:function(){SPINNER_CONTENT_TYPE$static_()}},requires:["Ext.String","Ext.window.MessageBox","com.coremedia.blueprint.base.components.pictures.CreateFromPicturesAction","com.coremedia.blueprint.base.components.pictures.spinner.Spinner_properties","com.coremedia.cap.common.SESSION","com.coremedia.cms.editor.sdk.util.ContentCreationUtil","com.coremedia.cms.editor.sdk.util.MessageBoxUtil","mx.resources.ResourceManager"]}});Ext.define("com.coremedia.blueprint.base.components.pictures.spinner.CreateSpinnerAction",function(CreateSpinnerAction){function CreateSpinnerAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.base.components.pictures.spinner.CreateSpinnerActionBase,{});var defaults_$1=AS3.cast(CreateSpinnerAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$YeVH(config_$1)}return{extend:"com.coremedia.blueprint.base.components.pictures.spinner.CreateSpinnerActionBase",
constructor:CreateSpinnerAction$,super$YeVH:function(){com.coremedia.blueprint.base.components.pictures.spinner.CreateSpinnerActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.blueprint.base.components.pictures.spinner.CreateSpinnerActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.blueprint.base.components.pictures.spinner.OpenCreateSpinnerWindowAction",function(OpenCreateSpinnerWindowAction){function OpenCreateSpinnerWindowAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.base.components.pictures.OpenCreateFromPicturesWindowAction,{});var defaults_$1=AS3.cast(OpenCreateSpinnerWindowAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"iconCls",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.components.pictures.spinner.Spinner",
"CreateSpinnerAction_icon_cls")));AS3.setBindable(config_$1,"text",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.components.pictures.spinner.Spinner","CreateSpinnerAction_text")));AS3.setBindable(config_$1,"tooltip",mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.components.pictures.spinner.Spinner","CreateSpinnerAction_tooltip"));AS3.setBindable(config_$1,"multiSelect",true);var bpb$components_CreateSpinnerWindow_25_5_$1=
AS3.cast(com.coremedia.blueprint.base.components.pictures.spinner.CreateSpinnerWindow,{});AS3.setBindable(config_$1,"windowConfig",bpb$components_CreateSpinnerWindow_25_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$yErt(config_$1)}return{extend:"com.coremedia.blueprint.base.components.pictures.OpenCreateFromPicturesWindowAction",constructor:OpenCreateSpinnerWindowAction$,super$yErt:function(){com.coremedia.blueprint.base.components.pictures.OpenCreateFromPicturesWindowAction.prototype.constructor.apply(this,
arguments)},requires:["com.coremedia.blueprint.base.components.pictures.OpenCreateFromPicturesWindowAction","com.coremedia.blueprint.base.components.pictures.spinner.Spinner_properties","mx.resources.ResourceManager","net.jangaroo.ext.Exml"],uses:["com.coremedia.blueprint.base.components.pictures.spinner.CreateSpinnerWindow"]}});Ext.define("com.coremedia.blueprint.base.components.pictures.gallery.CreateImageGalleryWindow",function(CreateImageGalleryWindow){function __initialize__(config){this.preferredName$EmnC=this.resourceManager.getString("com.coremedia.blueprint.base.components.pictures.gallery.ImageGallery","ImageGalleryDialog_new_gallery");this.targetFolder$EmnC=this.resourceManager.getString("com.coremedia.blueprint.base.components.pictures.gallery.ImageGallery","image_gallery_action_target_folder")}function CreateImageGalleryWindow$(config){if(arguments.length<=
0)config=null;this.__initialize__$EmnC(config);var config_$1=AS3.cast(com.coremedia.blueprint.base.components.pictures.CreateFromPicturesWindow,{});var defaults_$1=AS3.cast(CreateImageGalleryWindow,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.blueprint.base.components.pictures.gallery.ImageGallery","ImageGalleryDialog_new_gallery"));config_$1["id"]="imageGalleryWindow";AS3.setBindable(config_$1,"contentTypeName",
net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.base.components.pictures.gallery.ImageGallery","image_gallery_action_target_content_type")));AS3.setBindable(config_$1,"targetFolder",net.jangaroo.ext.Exml.asString(this.targetFolder$EmnC));AS3.setBindable(config_$1,"preferredName",net.jangaroo.ext.Exml.asString(this.preferredName$EmnC));AS3.setBindable(config_$1,"textFieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.base.components.pictures.gallery.ImageGallery",
"ImageGalleryDialog_new_image_gallery")));AS3.setBindable(config_$1,"textFieldEmptyText",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.base.components.pictures.gallery.ImageGallery","ImageGalleryDialog_new_image_gallery_empty_text")));AS3.setBindable(config_$1,"dataviewLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.base.components.pictures.gallery.ImageGallery","ImageGalleryDialog_preview_label")));var button_44_5_$1=
AS3.cast(Ext.button.Button,{});button_44_5_$1.itemId="okBtn";button_44_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_PRIMARY.getSkin());AS3.setBindable(button_44_5_$1,"scale","small");AS3.setBindable(button_44_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","CreateFolder_dialog_ok_button")));var bpb$components_CreateImageGalleryAction_49_9_$1=AS3.cast(com.coremedia.blueprint.base.components.pictures.gallery.CreateImageGalleryAction,
{});AS3.setBindable(bpb$components_CreateImageGalleryAction_49_9_$1,"viewModel",this.getViewModel2(this.preferredName$EmnC,this.targetFolder$EmnC,AS3.getBindable(config,"selectedPictures")));AS3.setBindable(bpb$components_CreateImageGalleryAction_49_9_$1,"callback",AS3.bind(this,"close"));button_44_5_$1.baseAction=new com.coremedia.blueprint.base.components.pictures.gallery.CreateImageGalleryAction(bpb$components_CreateImageGalleryAction_49_9_$1);var ui_BindPropertyPlugin_54_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,
{});ui_BindPropertyPlugin_54_9_$1.componentProperty="disabled";ui_BindPropertyPlugin_54_9_$1.bindTo=this.isDisabledValueExpression();button_44_5_$1.plugins=[ui_BindPropertyPlugin_54_9_$1];var button_58_5_$1=AS3.cast(Ext.button.Button,{});button_58_5_$1.itemId="cancelBtn";button_58_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_SECONDARY.getSkin());AS3.setBindable(button_58_5_$1,"scale","small");AS3.setBindable(button_58_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"dialog_defaultCancelButton_text")));AS3.setBindable(button_58_5_$1,"handler",AS3.bind(this,"close"));config_$1.buttons=[button_44_5_$1,button_58_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$EmnC(config_$1)}return{extend:"com.coremedia.blueprint.base.components.pictures.CreateFromPicturesWindow",alias:"widget.com.coremedia.blueprint.base.components.config.createImageGalleryWindow",preferredName$EmnC:null,targetFolder$EmnC:null,__initialize__$EmnC:__initialize__,constructor:CreateImageGalleryWindow$,
super$EmnC:function(){com.coremedia.blueprint.base.components.pictures.CreateFromPicturesWindow.prototype.constructor.apply(this,arguments)},requires:["Ext.button.Button","com.coremedia.blueprint.base.components.pictures.CreateFromPicturesWindow","com.coremedia.blueprint.base.components.pictures.gallery.ImageGallery_properties","com.coremedia.cms.editor.Editor_properties","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.skins.ButtonSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.blueprint.base.components.pictures.gallery.CreateImageGalleryAction"]}});Ext.define("com.coremedia.blueprint.base.components.pictures.gallery.CreateImageGalleryAction",function(CreateImageGalleryAction){function CreateImageGalleryAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.base.components.pictures.gallery.CreateImageGalleryActionBase,{});var defaults_$1=AS3.cast(CreateImageGalleryAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$NgwI(config_$1)}
return{extend:"com.coremedia.blueprint.base.components.pictures.gallery.CreateImageGalleryActionBase",constructor:CreateImageGalleryAction$,super$NgwI:function(){com.coremedia.blueprint.base.components.pictures.gallery.CreateImageGalleryActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.blueprint.base.components.pictures.gallery.CreateImageGalleryActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.blueprint.base.components.pictures.gallery.CreateImageGalleryActionBase",function(CreateImageGalleryActionBase){var IMAGE_GALLERY_CONTENT_TYPE$static;function IMAGE_GALLERY_CONTENT_TYPE$static_(){IMAGE_GALLERY_CONTENT_TYPE$static=com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getContentType(mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.components.pictures.gallery.ImageGallery","image_gallery_action_target_content_type"))}
function CreateImageGalleryActionBase$(config){if(arguments.length<=0)config=null;this.super$W923(config)}function executePicturesAction(selectedName,selectedFolder,selectedPictures,callback){com.coremedia.cms.editor.sdk.util.ContentCreationUtil.createRequiredSubfolders(selectedFolder,function(result){if(result.success)result.baseFolder.getChild(selectedName,function(doc,path){if(doc){var msg=Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.components.pictures.gallery.ImageGallery",
"CreateImageGalleryAction_failure_exists"),selectedName);Ext.MessageBox.alert(mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.components.pictures.gallery.ImageGallery","CreateImageGalleryAction_failure_text"),msg)}else{var properties={};properties[mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.components.pictures.gallery.ImageGallery","image_gallery_action_target_property")]=selectedPictures;properties[mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.components.pictures.gallery.ImageGallery",
"image_gallery_action_target_title_property")]=selectedName;properties[mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.components.pictures.gallery.ImageGallery","image_gallery_action_target_title_teaser_property")]=selectedName;com.coremedia.cms.editor.sdk.util.ContentCreationUtil.createContent(result.baseFolder,true,false,selectedName,IMAGE_GALLERY_CONTENT_TYPE$static,callback,null,properties)}});else if(result.remoteError)com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showError(mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.components.pictures.gallery.ImageGallery",
"CreateImageGalleryAction_failure_text"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.components.pictures.gallery.ImageGallery","CreateImageGalleryAction_failure_msg")+" "+result.remoteError.errorName)})}return{extend:"com.coremedia.blueprint.base.components.pictures.CreateFromPicturesAction",constructor:CreateImageGalleryActionBase$,super$W923:function(){com.coremedia.blueprint.base.components.pictures.CreateFromPicturesAction.prototype.constructor.apply(this,
arguments)},executePicturesAction:executePicturesAction,statics:{IMAGE_GALLERY_CONTENT_TYPE:undefined,__initStatics__:function(){IMAGE_GALLERY_CONTENT_TYPE$static_()}},requires:["Ext.String","Ext.window.MessageBox","com.coremedia.blueprint.base.components.pictures.CreateFromPicturesAction","com.coremedia.blueprint.base.components.pictures.gallery.ImageGallery_properties","com.coremedia.cap.common.SESSION","com.coremedia.cms.editor.sdk.util.ContentCreationUtil","com.coremedia.cms.editor.sdk.util.MessageBoxUtil",
"mx.resources.ResourceManager"]}});Ext.define("com.coremedia.blueprint.base.components.pictures.gallery.OpenCreateImageGalleryWindowAction",function(OpenCreateImageGalleryWindowAction){function OpenCreateImageGalleryWindowAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.base.components.pictures.OpenCreateFromPicturesWindowAction,{});var defaults_$1=AS3.cast(OpenCreateImageGalleryWindowAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"iconCls",
net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.icons.CoreIcons","create_type_image_gallery")));AS3.setBindable(config_$1,"text",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.components.pictures.gallery.ImageGallery","CreateImageGalleryAction_text")));AS3.setBindable(config_$1,"tooltip",mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.components.pictures.gallery.ImageGallery",
"CreateImageGalleryAction_tooltip"));AS3.setBindable(config_$1,"multiSelect",true);var bpb$components_CreateImageGalleryWindow_26_5_$1=AS3.cast(com.coremedia.blueprint.base.components.pictures.gallery.CreateImageGalleryWindow,{});AS3.setBindable(config_$1,"windowConfig",bpb$components_CreateImageGalleryWindow_26_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$q6OC(config_$1)}return{extend:"com.coremedia.blueprint.base.components.pictures.OpenCreateFromPicturesWindowAction",constructor:OpenCreateImageGalleryWindowAction$,
super$q6OC:function(){com.coremedia.blueprint.base.components.pictures.OpenCreateFromPicturesWindowAction.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.blueprint.base.components.pictures.OpenCreateFromPicturesWindowAction","com.coremedia.blueprint.base.components.pictures.gallery.ImageGallery_properties","com.coremedia.icons.CoreIcons_properties","mx.resources.ResourceManager","net.jangaroo.ext.Exml"],uses:["com.coremedia.blueprint.base.components.pictures.gallery.CreateImageGalleryWindow"]}});Ext.define("com.coremedia.blueprint.base.components.pictures.PictureUtilsPlugin",function(PictureUtilsPlugin){function __initialize__(config){this.selectionHolder$Y2Zp=AS3.as(AS3.getBindable(config,"cmp","DUMMY"),com.coremedia.cms.editor.sdk.collectionview.ICollectionView)}function PictureUtilsPlugin$(config){if(arguments.length<=0)config=null;this.__initialize__$Y2Zp(config);var config_$1=AS3.cast(com.coremedia.ui.plugins.NestedRulesPlugin,{});var defaults_$1=AS3.cast(PictureUtilsPlugin,{});config=
net.jangaroo.ext.Exml.apply(defaults_$1,config);var editor_SearchToolbar_28_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.SearchToolbar,{});var ui_AddItemsPlugin_30_9_$1=AS3.cast(com.coremedia.ui.plugins.AddItemsPlugin,{});var ui_IconButton_32_13_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_32_13_$1.itemId="createImageGallery";var bpb$components_OpenCreateImageGalleryWindowAction_34_17_$1=AS3.cast(com.coremedia.blueprint.base.components.pictures.gallery.OpenCreateImageGalleryWindowAction,
{});AS3.setBindable(bpb$components_OpenCreateImageGalleryWindowAction_34_17_$1,"contentValueExpression",this.selectionHolder$Y2Zp.getSelectedSearchItemsValueExpression());ui_IconButton_32_13_$1.baseAction=new com.coremedia.blueprint.base.components.pictures.gallery.OpenCreateImageGalleryWindowAction(bpb$components_OpenCreateImageGalleryWindowAction_34_17_$1);AS3.setBindable(ui_AddItemsPlugin_30_9_$1,"items",[ui_IconButton_32_13_$1]);var component_40_13_$1=AS3.cast(Ext.Component,{});component_40_13_$1.itemId=
"saveSearch";AS3.setBindable(ui_AddItemsPlugin_30_9_$1,"after",[component_40_13_$1]);editor_SearchToolbar_28_5_$1.plugins=[ui_AddItemsPlugin_30_9_$1];editor_SearchToolbar_28_5_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var editor_CollectionSearchContextMenu_46_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.CollectionSearchContextMenu,{});var ui_AddItemsPlugin_48_9_$1=AS3.cast(com.coremedia.ui.plugins.AddItemsPlugin,{});var menuSeparator_50_13_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_51_13_$1=
AS3.cast(Ext.menu.Item,{});menuItem_51_13_$1.itemId="createImageGallery";var bpb$components_OpenCreateImageGalleryWindowAction_53_17_$1=AS3.cast(com.coremedia.blueprint.base.components.pictures.gallery.OpenCreateImageGalleryWindowAction,{});AS3.setBindable(bpb$components_OpenCreateImageGalleryWindowAction_53_17_$1,"contentValueExpression",this.selectionHolder$Y2Zp.getSelectedSearchItemsValueExpression());menuItem_51_13_$1.baseAction=new com.coremedia.blueprint.base.components.pictures.gallery.OpenCreateImageGalleryWindowAction(bpb$components_OpenCreateImageGalleryWindowAction_53_17_$1);
AS3.setBindable(ui_AddItemsPlugin_48_9_$1,"items",[menuSeparator_50_13_$1,menuItem_51_13_$1]);var component_59_13_$1=AS3.cast(Ext.Component,{});component_59_13_$1.itemId="openInTab";AS3.setBindable(ui_AddItemsPlugin_48_9_$1,"after",[component_59_13_$1]);editor_CollectionSearchContextMenu_46_5_$1.plugins=[ui_AddItemsPlugin_48_9_$1];var editor_RepositoryToolbar_65_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.RepositoryToolbar,{});var ui_AddItemsPlugin_67_9_$1=AS3.cast(com.coremedia.ui.plugins.AddItemsPlugin,
{});var ui_IconButton_69_13_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_69_13_$1.itemId="createImageGallery";var bpb$components_OpenCreateImageGalleryWindowAction_71_17_$1=AS3.cast(com.coremedia.blueprint.base.components.pictures.gallery.OpenCreateImageGalleryWindowAction,{});AS3.setBindable(bpb$components_OpenCreateImageGalleryWindowAction_71_17_$1,"contentValueExpression",this.selectionHolder$Y2Zp.getSelectedItemsValueExpression());ui_IconButton_69_13_$1.baseAction=new com.coremedia.blueprint.base.components.pictures.gallery.OpenCreateImageGalleryWindowAction(bpb$components_OpenCreateImageGalleryWindowAction_71_17_$1);
AS3.setBindable(ui_AddItemsPlugin_67_9_$1,"items",[ui_IconButton_69_13_$1]);var component_77_13_$1=AS3.cast(Ext.Component,{});component_77_13_$1.itemId="createDocument";AS3.setBindable(ui_AddItemsPlugin_67_9_$1,"after",[component_77_13_$1]);editor_RepositoryToolbar_65_5_$1.plugins=[ui_AddItemsPlugin_67_9_$1];editor_RepositoryToolbar_65_5_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var editor_CollectionRepositoryContextMenu_83_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.CollectionRepositoryContextMenu,
{});var ui_AddItemsPlugin_85_9_$1=AS3.cast(com.coremedia.ui.plugins.AddItemsPlugin,{});var menuSeparator_87_13_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_88_13_$1=AS3.cast(Ext.menu.Item,{});menuItem_88_13_$1.itemId="createImageGallery";var bpb$components_OpenCreateImageGalleryWindowAction_90_17_$1=AS3.cast(com.coremedia.blueprint.base.components.pictures.gallery.OpenCreateImageGalleryWindowAction,{});AS3.setBindable(bpb$components_OpenCreateImageGalleryWindowAction_90_17_$1,"contentValueExpression",
this.selectionHolder$Y2Zp.getSelectedRepositoryItemsValueExpression());menuItem_88_13_$1.baseAction=new com.coremedia.blueprint.base.components.pictures.gallery.OpenCreateImageGalleryWindowAction(bpb$components_OpenCreateImageGalleryWindowAction_90_17_$1);AS3.setBindable(ui_AddItemsPlugin_85_9_$1,"items",[menuSeparator_87_13_$1,menuItem_88_13_$1]);var component_96_13_$1=AS3.cast(Ext.Component,{});component_96_13_$1.itemId="openInTab";AS3.setBindable(ui_AddItemsPlugin_85_9_$1,"after",[component_96_13_$1]);
editor_CollectionRepositoryContextMenu_83_5_$1.plugins=[ui_AddItemsPlugin_85_9_$1];var editor_CollectionRepositoryContextMenu_102_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.CollectionRepositoryContextMenu,{});var ui_AddItemsPlugin_104_9_$1=AS3.cast(com.coremedia.ui.plugins.AddItemsPlugin,{});var menuItem_106_13_$1=AS3.cast(Ext.menu.Item,{});menuItem_106_13_$1.itemId="createImageGallery";var bpb$components_OpenCreateImageGalleryWindowAction_108_17_$1=AS3.cast(com.coremedia.blueprint.base.components.pictures.gallery.OpenCreateImageGalleryWindowAction,
{});AS3.setBindable(bpb$components_OpenCreateImageGalleryWindowAction_108_17_$1,"contentValueExpression",this.selectionHolder$Y2Zp.getSelectedRepositoryItemsValueExpression());menuItem_106_13_$1.baseAction=new com.coremedia.blueprint.base.components.pictures.gallery.OpenCreateImageGalleryWindowAction(bpb$components_OpenCreateImageGalleryWindowAction_108_17_$1);AS3.setBindable(ui_AddItemsPlugin_104_9_$1,"items",[menuItem_106_13_$1]);var component_114_13_$1=AS3.cast(Ext.Component,{});component_114_13_$1.itemId=
"openInTab";AS3.setBindable(ui_AddItemsPlugin_104_9_$1,"after",[component_114_13_$1]);editor_CollectionRepositoryContextMenu_102_5_$1.plugins=[ui_AddItemsPlugin_104_9_$1];var editor_SearchToolbar_123_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.SearchToolbar,{});var ui_AddItemsPlugin_125_9_$1=AS3.cast(com.coremedia.ui.plugins.AddItemsPlugin,{});var ui_IconButton_127_13_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_127_13_$1.itemId="createImageMap";var bpb$components_OpenCreateImageMapWindowAction_129_17_$1=
AS3.cast(com.coremedia.blueprint.base.components.pictures.imagemap.OpenCreateImageMapWindowAction,{});AS3.setBindable(bpb$components_OpenCreateImageMapWindowAction_129_17_$1,"contentValueExpression",this.selectionHolder$Y2Zp.getSelectedSearchItemsValueExpression());ui_IconButton_127_13_$1.baseAction=new com.coremedia.blueprint.base.components.pictures.imagemap.OpenCreateImageMapWindowAction(bpb$components_OpenCreateImageMapWindowAction_129_17_$1);AS3.setBindable(ui_AddItemsPlugin_125_9_$1,"items",
[ui_IconButton_127_13_$1]);var component_135_13_$1=AS3.cast(Ext.Component,{});component_135_13_$1.itemId="createImageGallery";AS3.setBindable(ui_AddItemsPlugin_125_9_$1,"after",[component_135_13_$1]);editor_SearchToolbar_123_5_$1.plugins=[ui_AddItemsPlugin_125_9_$1];editor_SearchToolbar_123_5_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var editor_CollectionSearchContextMenu_141_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.CollectionSearchContextMenu,{});var ui_AddItemsPlugin_143_9_$1=
AS3.cast(com.coremedia.ui.plugins.AddItemsPlugin,{});var menuItem_145_13_$1=AS3.cast(Ext.menu.Item,{});menuItem_145_13_$1.itemId="createImageMap";var bpb$components_OpenCreateImageMapWindowAction_147_17_$1=AS3.cast(com.coremedia.blueprint.base.components.pictures.imagemap.OpenCreateImageMapWindowAction,{});AS3.setBindable(bpb$components_OpenCreateImageMapWindowAction_147_17_$1,"contentValueExpression",this.selectionHolder$Y2Zp.getSelectedSearchItemsValueExpression());menuItem_145_13_$1.baseAction=
new com.coremedia.blueprint.base.components.pictures.imagemap.OpenCreateImageMapWindowAction(bpb$components_OpenCreateImageMapWindowAction_147_17_$1);AS3.setBindable(ui_AddItemsPlugin_143_9_$1,"items",[menuItem_145_13_$1]);var component_153_13_$1=AS3.cast(Ext.Component,{});component_153_13_$1.itemId="showInFolder";AS3.setBindable(ui_AddItemsPlugin_143_9_$1,"after",[component_153_13_$1]);editor_CollectionSearchContextMenu_141_5_$1.plugins=[ui_AddItemsPlugin_143_9_$1];var editor_RepositoryToolbar_159_5_$1=
AS3.cast(com.coremedia.cms.editor.sdk.collectionview.RepositoryToolbar,{});var ui_AddItemsPlugin_161_9_$1=AS3.cast(com.coremedia.ui.plugins.AddItemsPlugin,{});var ui_IconButton_163_13_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_163_13_$1.itemId="createImageMap";var bpb$components_OpenCreateImageMapWindowAction_165_17_$1=AS3.cast(com.coremedia.blueprint.base.components.pictures.imagemap.OpenCreateImageMapWindowAction,{});AS3.setBindable(bpb$components_OpenCreateImageMapWindowAction_165_17_$1,
"contentValueExpression",this.selectionHolder$Y2Zp.getSelectedItemsValueExpression());ui_IconButton_163_13_$1.baseAction=new com.coremedia.blueprint.base.components.pictures.imagemap.OpenCreateImageMapWindowAction(bpb$components_OpenCreateImageMapWindowAction_165_17_$1);AS3.setBindable(ui_AddItemsPlugin_161_9_$1,"items",[ui_IconButton_163_13_$1]);var component_171_13_$1=AS3.cast(Ext.Component,{});component_171_13_$1.itemId="createImageGallery";AS3.setBindable(ui_AddItemsPlugin_161_9_$1,"after",[component_171_13_$1]);
editor_RepositoryToolbar_159_5_$1.plugins=[ui_AddItemsPlugin_161_9_$1];editor_RepositoryToolbar_159_5_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var editor_CollectionRepositoryContextMenu_177_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.CollectionRepositoryContextMenu,{});var ui_AddItemsPlugin_179_9_$1=AS3.cast(com.coremedia.ui.plugins.AddItemsPlugin,{});var menuItem_181_13_$1=AS3.cast(Ext.menu.Item,{});menuItem_181_13_$1.itemId="createImageMap";var bpb$components_OpenCreateImageMapWindowAction_183_17_$1=
AS3.cast(com.coremedia.blueprint.base.components.pictures.imagemap.OpenCreateImageMapWindowAction,{});AS3.setBindable(bpb$components_OpenCreateImageMapWindowAction_183_17_$1,"contentValueExpression",this.selectionHolder$Y2Zp.getSelectedRepositoryItemsValueExpression());menuItem_181_13_$1.baseAction=new com.coremedia.blueprint.base.components.pictures.imagemap.OpenCreateImageMapWindowAction(bpb$components_OpenCreateImageMapWindowAction_183_17_$1);AS3.setBindable(ui_AddItemsPlugin_179_9_$1,"items",
[menuItem_181_13_$1]);var component_189_13_$1=AS3.cast(Ext.Component,{});component_189_13_$1.itemId="openInTab";AS3.setBindable(ui_AddItemsPlugin_179_9_$1,"after",[component_189_13_$1]);editor_CollectionRepositoryContextMenu_177_5_$1.plugins=[ui_AddItemsPlugin_179_9_$1];var editor_SearchToolbar_198_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.SearchToolbar,{});var ui_AddItemsPlugin_200_9_$1=AS3.cast(com.coremedia.ui.plugins.AddItemsPlugin,{});var tbSeparator_202_13_$1=AS3.cast(Ext.toolbar.Separator,
{});var ui_IconButton_203_13_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_203_13_$1.itemId="createSpinner";var bpb$components_OpenCreateSpinnerWindowAction_205_17_$1=AS3.cast(com.coremedia.blueprint.base.components.pictures.spinner.OpenCreateSpinnerWindowAction,{});AS3.setBindable(bpb$components_OpenCreateSpinnerWindowAction_205_17_$1,"contentValueExpression",this.selectionHolder$Y2Zp.getSelectedSearchItemsValueExpression());ui_IconButton_203_13_$1.baseAction=new com.coremedia.blueprint.base.components.pictures.spinner.OpenCreateSpinnerWindowAction(bpb$components_OpenCreateSpinnerWindowAction_205_17_$1);
AS3.setBindable(ui_AddItemsPlugin_200_9_$1,"items",[tbSeparator_202_13_$1,ui_IconButton_203_13_$1]);var component_211_13_$1=AS3.cast(Ext.Component,{});component_211_13_$1.itemId="saveSearch";AS3.setBindable(ui_AddItemsPlugin_200_9_$1,"after",[component_211_13_$1]);editor_SearchToolbar_198_5_$1.plugins=[ui_AddItemsPlugin_200_9_$1];editor_SearchToolbar_198_5_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var editor_CollectionSearchContextMenu_217_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.CollectionSearchContextMenu,
{});var ui_AddItemsPlugin_219_9_$1=AS3.cast(com.coremedia.ui.plugins.AddItemsPlugin,{});var menuSeparator_221_13_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_222_13_$1=AS3.cast(Ext.menu.Item,{});menuItem_222_13_$1.itemId="createSpinner";var bpb$components_OpenCreateSpinnerWindowAction_224_17_$1=AS3.cast(com.coremedia.blueprint.base.components.pictures.spinner.OpenCreateSpinnerWindowAction,{});AS3.setBindable(bpb$components_OpenCreateSpinnerWindowAction_224_17_$1,"contentValueExpression",this.selectionHolder$Y2Zp.getSelectedSearchItemsValueExpression());
menuItem_222_13_$1.baseAction=new com.coremedia.blueprint.base.components.pictures.spinner.OpenCreateSpinnerWindowAction(bpb$components_OpenCreateSpinnerWindowAction_224_17_$1);AS3.setBindable(ui_AddItemsPlugin_219_9_$1,"items",[menuSeparator_221_13_$1,menuItem_222_13_$1]);var component_230_13_$1=AS3.cast(Ext.Component,{});component_230_13_$1.itemId="showInFolder";AS3.setBindable(ui_AddItemsPlugin_219_9_$1,"after",[component_230_13_$1]);editor_CollectionSearchContextMenu_217_5_$1.plugins=[ui_AddItemsPlugin_219_9_$1];
var editor_RepositoryToolbar_236_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.RepositoryToolbar,{});var ui_AddItemsPlugin_238_9_$1=AS3.cast(com.coremedia.ui.plugins.AddItemsPlugin,{});var ui_IconButton_240_13_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_240_13_$1.itemId="createSpinner";var bpb$components_OpenCreateSpinnerWindowAction_242_17_$1=AS3.cast(com.coremedia.blueprint.base.components.pictures.spinner.OpenCreateSpinnerWindowAction,{});AS3.setBindable(bpb$components_OpenCreateSpinnerWindowAction_242_17_$1,
"contentValueExpression",this.selectionHolder$Y2Zp.getSelectedItemsValueExpression());ui_IconButton_240_13_$1.baseAction=new com.coremedia.blueprint.base.components.pictures.spinner.OpenCreateSpinnerWindowAction(bpb$components_OpenCreateSpinnerWindowAction_242_17_$1);AS3.setBindable(ui_AddItemsPlugin_238_9_$1,"items",[ui_IconButton_240_13_$1]);var component_248_13_$1=AS3.cast(Ext.Component,{});component_248_13_$1.itemId="createDocument";AS3.setBindable(ui_AddItemsPlugin_238_9_$1,"after",[component_248_13_$1]);
editor_RepositoryToolbar_236_5_$1.plugins=[ui_AddItemsPlugin_238_9_$1];editor_RepositoryToolbar_236_5_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var editor_CollectionRepositoryContextMenu_254_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.CollectionRepositoryContextMenu,{});var ui_AddItemsPlugin_256_9_$1=AS3.cast(com.coremedia.ui.plugins.AddItemsPlugin,{});var menuSeparator_258_13_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_259_13_$1=AS3.cast(Ext.menu.Item,{});menuItem_259_13_$1.itemId=
"createSpinner";var bpb$components_OpenCreateSpinnerWindowAction_261_17_$1=AS3.cast(com.coremedia.blueprint.base.components.pictures.spinner.OpenCreateSpinnerWindowAction,{});AS3.setBindable(bpb$components_OpenCreateSpinnerWindowAction_261_17_$1,"contentValueExpression",this.selectionHolder$Y2Zp.getSelectedRepositoryItemsValueExpression());menuItem_259_13_$1.baseAction=new com.coremedia.blueprint.base.components.pictures.spinner.OpenCreateSpinnerWindowAction(bpb$components_OpenCreateSpinnerWindowAction_261_17_$1);
AS3.setBindable(ui_AddItemsPlugin_256_9_$1,"items",[menuSeparator_258_13_$1,menuItem_259_13_$1]);var component_267_13_$1=AS3.cast(Ext.Component,{});component_267_13_$1.itemId="openInTab";AS3.setBindable(ui_AddItemsPlugin_256_9_$1,"after",[component_267_13_$1]);editor_CollectionRepositoryContextMenu_254_5_$1.plugins=[ui_AddItemsPlugin_256_9_$1];config_$1.rules=[editor_SearchToolbar_28_5_$1,editor_CollectionSearchContextMenu_46_5_$1,editor_RepositoryToolbar_65_5_$1,editor_CollectionRepositoryContextMenu_83_5_$1,
editor_CollectionRepositoryContextMenu_102_5_$1,editor_SearchToolbar_123_5_$1,editor_CollectionSearchContextMenu_141_5_$1,editor_RepositoryToolbar_159_5_$1,editor_CollectionRepositoryContextMenu_177_5_$1,editor_SearchToolbar_198_5_$1,editor_CollectionSearchContextMenu_217_5_$1,editor_RepositoryToolbar_236_5_$1,editor_CollectionRepositoryContextMenu_254_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Y2Zp(config_$1)}return{extend:"com.coremedia.ui.plugins.NestedRulesPlugin",selectionHolder$Y2Zp:null,
__initialize__$Y2Zp:__initialize__,constructor:PictureUtilsPlugin$,super$Y2Zp:function(){com.coremedia.ui.plugins.NestedRulesPlugin.prototype.constructor.apply(this,arguments)},requires:["Ext.Component","Ext.menu.Item","Ext.menu.Separator","Ext.toolbar.Separator","com.coremedia.cms.editor.sdk.collectionview.CollectionRepositoryContextMenu","com.coremedia.cms.editor.sdk.collectionview.CollectionSearchContextMenu","com.coremedia.cms.editor.sdk.collectionview.ICollectionView","com.coremedia.cms.editor.sdk.collectionview.RepositoryToolbar",
"com.coremedia.cms.editor.sdk.collectionview.SearchToolbar","com.coremedia.ui.components.IconButton","com.coremedia.ui.plugins.AddItemsPlugin","com.coremedia.ui.plugins.NestedRulesPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.blueprint.base.components.pictures.gallery.OpenCreateImageGalleryWindowAction","com.coremedia.blueprint.base.components.pictures.imagemap.OpenCreateImageMapWindowAction","com.coremedia.blueprint.base.components.pictures.spinner.OpenCreateSpinnerWindowAction"]}});Ext.define("com.coremedia.blueprint.base.components.pictures.imagemap.CreateImageMapAction",function(CreateImageMapAction){function CreateImageMapAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.base.components.pictures.imagemap.CreateImageMapActionBase,{});var defaults_$1=AS3.cast(CreateImageMapAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$8$7p(config_$1)}return{extend:"com.coremedia.blueprint.base.components.pictures.imagemap.CreateImageMapActionBase",
constructor:CreateImageMapAction$,super$8$7p:function(){com.coremedia.blueprint.base.components.pictures.imagemap.CreateImageMapActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.blueprint.base.components.pictures.imagemap.CreateImageMapActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.blueprint.base.components.pictures.imagemap.CreateImageMapActionBase",function(CreateImageMapActionBase){var IMAGE_MAP_CONTENT_TYPE$static;function IMAGE_MAP_CONTENT_TYPE$static_(){IMAGE_MAP_CONTENT_TYPE$static=com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getContentType(mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.components.pictures.imagemap.ImageMap","ImageMap_action_target_content_type"))}function CreateImageMapActionBase$(config){if(arguments.length<=
0)config=null;this.super$Gpja(config)}function executePicturesAction(selectedName,selectedFolder,selectedPictures,callback){com.coremedia.cms.editor.sdk.util.ContentCreationUtil.createRequiredSubfolders(selectedFolder,function(result){if(result.success)result.baseFolder.getChild(selectedName,function(doc,path){if(doc){var msg=Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.components.pictures.imagemap.ImageMap","ImageMap_action_failure_exists"),
selectedName);Ext.MessageBox.alert(mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.components.pictures.imagemap.ImageMap","ImageMap_action_failure_text"),msg)}else{var properties={};properties[mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.components.pictures.imagemap.ImageMap","ImageMap_action_target_property")]=selectedPictures;properties[mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.components.pictures.imagemap.ImageMap",
"ImageMap_action_target_title_property")]=selectedName;properties[mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.components.pictures.imagemap.ImageMap","ImageMap_action_target_title_teaser_property")]=selectedName;com.coremedia.cms.editor.sdk.util.ContentCreationUtil.createContent(result.baseFolder,true,false,selectedName,IMAGE_MAP_CONTENT_TYPE$static,callback,null,properties)}});else if(result.remoteError)com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showError(mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.components.pictures.imagemap.ImageMap",
"ImageMap_action_failure_text"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.components.pictures.imagemap.ImageMap","ImageMap_action_failure_msg")+" "+result.remoteError.errorName)})}return{extend:"com.coremedia.blueprint.base.components.pictures.CreateFromPicturesAction",constructor:CreateImageMapActionBase$,super$Gpja:function(){com.coremedia.blueprint.base.components.pictures.CreateFromPicturesAction.prototype.constructor.apply(this,arguments)},executePicturesAction:executePicturesAction,
statics:{IMAGE_MAP_CONTENT_TYPE:undefined,__initStatics__:function(){IMAGE_MAP_CONTENT_TYPE$static_()}},requires:["Ext.String","Ext.window.MessageBox","com.coremedia.blueprint.base.components.pictures.CreateFromPicturesAction","com.coremedia.blueprint.base.components.pictures.imagemap.ImageMap_properties","com.coremedia.cap.common.SESSION","com.coremedia.cms.editor.sdk.util.ContentCreationUtil","com.coremedia.cms.editor.sdk.util.MessageBoxUtil","mx.resources.ResourceManager"]}});Ext.define("com.coremedia.blueprint.base.components.pictures.imagemap.OpenCreateImageMapWindowAction",function(OpenCreateImageMapWindowAction){function OpenCreateImageMapWindowAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.base.components.pictures.OpenCreateFromPicturesWindowAction,{});var defaults_$1=AS3.cast(OpenCreateImageMapWindowAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"iconCls",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.icons.CoreIcons",
"create_type_image_map")));AS3.setBindable(config_$1,"text",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.components.pictures.imagemap.ImageMap","ImageMap_library_btn_text")));AS3.setBindable(config_$1,"tooltip",mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.components.pictures.imagemap.ImageMap","ImageMap_library_btn_tooltip"));AS3.setBindable(config_$1,"multiSelect",false);var bpb$components_CreateImageMapWindow_27_5_$1=
AS3.cast(com.coremedia.blueprint.base.components.pictures.imagemap.CreateImageMapWindow,{});AS3.setBindable(config_$1,"windowConfig",bpb$components_CreateImageMapWindow_27_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$atuj(config_$1)}return{extend:"com.coremedia.blueprint.base.components.pictures.OpenCreateFromPicturesWindowAction",constructor:OpenCreateImageMapWindowAction$,super$atuj:function(){com.coremedia.blueprint.base.components.pictures.OpenCreateFromPicturesWindowAction.prototype.constructor.apply(this,
arguments)},requires:["com.coremedia.blueprint.base.components.pictures.OpenCreateFromPicturesWindowAction","com.coremedia.blueprint.base.components.pictures.imagemap.ImageMap_properties","com.coremedia.icons.CoreIcons_properties","mx.resources.ResourceManager","net.jangaroo.ext.Exml"],uses:["com.coremedia.blueprint.base.components.pictures.imagemap.CreateImageMapWindow"]}});Ext.define("com.coremedia.blueprint.base.components.pictures.imagemap.CreateImageMapWindow",function(CreateImageMapWindow){function __initialize__(config){this.preferredName$04_j=this.resourceManager.getString("com.coremedia.blueprint.base.components.pictures.imagemap.ImageMap","ImageMap_dialog_new_image_map_name");this.targetFolder$04_j=this.resourceManager.getString("com.coremedia.blueprint.base.components.pictures.imagemap.ImageMap","ImageMap_action_target_folder")}function CreateImageMapWindow$(config){if(arguments.length<=
0)config=null;this.__initialize__$04_j(config);var config_$1=AS3.cast(com.coremedia.blueprint.base.components.pictures.CreateFromPicturesWindow,{});var defaults_$1=AS3.cast(CreateImageMapWindow,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.blueprint.base.components.pictures.imagemap.ImageMap","ImageMap_dialog_new_image_map_title"));config_$1["id"]="imageMapWindow";AS3.setBindable(config_$1,"contentTypeName",
net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.base.components.pictures.imagemap.ImageMap","ImageMap_action_target_content_type")));AS3.setBindable(config_$1,"targetFolder",net.jangaroo.ext.Exml.asString(this.targetFolder$04_j));AS3.setBindable(config_$1,"preferredName",net.jangaroo.ext.Exml.asString(this.preferredName$04_j));AS3.setBindable(config_$1,"textFieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.base.components.pictures.imagemap.ImageMap",
"ImageMap_dialog_new_image_map_name_label")));AS3.setBindable(config_$1,"textFieldEmptyText",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.base.components.pictures.imagemap.ImageMap","ImageMap_dialog_new_image_map_empty_text")));AS3.setBindable(config_$1,"dataviewLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.base.components.pictures.imagemap.ImageMap","ImageMap_dialog_preview_label")));var button_44_5_$1=AS3.cast(Ext.button.Button,
{});button_44_5_$1.itemId="okBtn";button_44_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_PRIMARY.getSkin());AS3.setBindable(button_44_5_$1,"scale","small");AS3.setBindable(button_44_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","CreateFolder_dialog_ok_button")));var bpb$components_CreateImageMapAction_49_9_$1=AS3.cast(com.coremedia.blueprint.base.components.pictures.imagemap.CreateImageMapAction,{});AS3.setBindable(bpb$components_CreateImageMapAction_49_9_$1,
"viewModel",this.getViewModel2(this.preferredName$04_j,this.targetFolder$04_j,AS3.getBindable(config,"selectedPictures")));AS3.setBindable(bpb$components_CreateImageMapAction_49_9_$1,"callback",AS3.bind(this,"close"));button_44_5_$1.baseAction=new com.coremedia.blueprint.base.components.pictures.imagemap.CreateImageMapAction(bpb$components_CreateImageMapAction_49_9_$1);var ui_BindPropertyPlugin_54_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_54_9_$1.componentProperty=
"disabled";ui_BindPropertyPlugin_54_9_$1.bindTo=this.isDisabledValueExpression();button_44_5_$1.plugins=[ui_BindPropertyPlugin_54_9_$1];var button_58_5_$1=AS3.cast(Ext.button.Button,{});button_58_5_$1.itemId="cancelBtn";button_58_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_SECONDARY.getSkin());AS3.setBindable(button_58_5_$1,"scale","small");AS3.setBindable(button_58_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"dialog_defaultCancelButton_text")));AS3.setBindable(button_58_5_$1,"handler",AS3.bind(this,"close"));config_$1.buttons=[button_44_5_$1,button_58_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$04_j(config_$1)}return{extend:"com.coremedia.blueprint.base.components.pictures.CreateFromPicturesWindow",alias:"widget.com.coremedia.blueprint.base.components.config.createImageMapWindow",preferredName$04_j:null,targetFolder$04_j:null,__initialize__$04_j:__initialize__,constructor:CreateImageMapWindow$,
super$04_j:function(){com.coremedia.blueprint.base.components.pictures.CreateFromPicturesWindow.prototype.constructor.apply(this,arguments)},requires:["Ext.button.Button","com.coremedia.blueprint.base.components.pictures.CreateFromPicturesWindow","com.coremedia.blueprint.base.components.pictures.imagemap.ImageMap_properties","com.coremedia.cms.editor.Editor_properties","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.skins.ButtonSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.blueprint.base.components.pictures.imagemap.CreateImageMapAction"]}});Ext.define("com.coremedia.blueprint.base.components.pictures.OpenCreateFromPicturesWindowAction",function(OpenCreateFromPicturesWindowAction){function OpenCreateFromPicturesWindowAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.base.components.pictures.OpenCreateFromPicturesWindowActionBase,{});var defaults_$1=AS3.cast(OpenCreateFromPicturesWindowAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$nwPu(config_$1)}return{extend:"com.coremedia.blueprint.base.components.pictures.OpenCreateFromPicturesWindowActionBase",constructor:OpenCreateFromPicturesWindowAction$,super$nwPu:function(){com.coremedia.blueprint.base.components.pictures.OpenCreateFromPicturesWindowActionBase.prototype.constructor.apply(this,arguments)},config:{multiSelect:false,windowConfig:null},requires:["com.coremedia.blueprint.base.components.pictures.OpenCreateFromPicturesWindowActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.blueprint.base.components.pictures.CreateFromPicturesActionBase",function(CreateFromPicturesActionBase){function CreateFromPicturesActionBase$(config){if(arguments.length<=0)config=null;var superConfig=AS3.cast(Ext.Action,Ext.apply({},config));AS3.setBindable(superConfig,"handler",AS3.bind(this,"picturesActionHandler$bOtl"));this.super$bOtl(superConfig);this.viewModel$bOtl=AS3.getBindable(config,"viewModel");this.callback$bOtl=AS3.getBindable(config,"callback")}function picturesActionHandler(){this.executePicturesAction(this.viewModel$bOtl.get("name"),
this.viewModel$bOtl.get("folder"),this.viewModel$bOtl.get("pictures"),this.callback$bOtl)}function executePicturesAction(selectedName,selectedFolder,selectedPictures,callback){throw new AS3.Error("abstract method");}return{extend:"Ext.Action",viewModel$bOtl:null,callback$bOtl:null,constructor:CreateFromPicturesActionBase$,super$bOtl:function(){Ext.Action.prototype.constructor.apply(this,arguments)},picturesActionHandler$bOtl:picturesActionHandler,executePicturesAction:executePicturesAction,requires:["AS3.Error",
"Ext","Ext.Action"]}});Ext.define("com.coremedia.blueprint.base.components.pictures.CreateFromPicturesWindowBase",function(CreateFromPicturesWindowBase){function CreateFromPicturesWindowBase$(config){if(arguments.length<=0)config=null;this.super$E7wf(config)}function afterShow(animateTarget,callback,scope){switch(Math.max(arguments.length,1)){case 1:callback=null;case 2:scope=null}com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.afterShow.call(this,animateTarget,callback,scope);var nameField=AS3.as(this.queryById("documentName"),
Ext.form.field.Text);nameField.focus(true,300)}function afterRender(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.afterRender.call(this);CreateFromPicturesWindowBase.calculateWindowHeight(this);var imageView=AS3.as(this.queryById(this.ITEM_ID_IMAGE_VIEW),Ext.view.View);com.coremedia.ui.util.ThumbnailImage.registerDataViewAnimationHandlers(imageView)}function calculateWindowHeight$static(w){var workArea,calcHeight,windowHeight,offsetY;offsetY=160;workArea=AS3.as(Ext.getCmp("workarea"),
com.coremedia.cms.editor.sdk.desktop.WorkArea);calcHeight=workArea.getHeight();windowHeight=w.getHeight();if(windowHeight>=calcHeight)w.setHeight(calcHeight-offsetY)}function getModel(config){return this.getViewModel2(AS3.getBindable(config,"preferredName"),AS3.getBindable(config,"targetFolder"),AS3.getBindable(config,"selectedPictures"))}function getViewModel2(preferredName,targetFolder,selectedPictures){if(!this.model$E7wf)this.model$E7wf=com.coremedia.ui.data.beanFactory.createLocalBean({name:preferredName||
"",folder:CreateFromPicturesWindowBase.getFormattedTargetFolder(targetFolder,selectedPictures),pictures:selectedPictures||[]});return this.model$E7wf}function isDisabledValueExpression(){var this$=this;if(!this.disabledExpression$E7wf)this.disabledExpression$E7wf=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){return!this$.model$E7wf||!this$.model$E7wf.get("name")||!this$.model$E7wf.get("folder")||Array(this$.model$E7wf.get("pictures")).length===0});return this.disabledExpression$E7wf}
function validateName(value){if(value&&value.length>0)return true;this.model$E7wf.set("name",null);return false}function validateFolder(value){if(value&&value.length>0)return true;this.model$E7wf.set("folder",null);return false}function getFormattedTargetFolder$static(targetFolder,selectedPictures){var result=com.coremedia.cms.editor.sdk.util.PathFormatter.formatSitePath(targetFolder||"");if(!result&&selectedPictures&&selectedPictures.length>0){var picture=selectedPictures[0];result=com.coremedia.cms.editor.sdk.util.PathFormatter.formatSitePath(targetFolder||
"",picture);if(!result)result=picture.getParent().getPath()}return result}return{extend:"com.coremedia.cms.editor.sdk.components.StudioDialog",ITEM_ID_IMAGE_VIEW:"imageview",model$E7wf:null,disabledExpression$E7wf:null,constructor:CreateFromPicturesWindowBase$,super$E7wf:function(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.constructor.apply(this,arguments)},afterShow:afterShow,afterRender:afterRender,getModel:getModel,getViewModel2:getViewModel2,isDisabledValueExpression:isDisabledValueExpression,
validateName:validateName,validateFolder:validateFolder,statics:{calculateWindowHeight:calculateWindowHeight$static,getFormattedTargetFolder:getFormattedTargetFolder$static},requires:["Ext","Ext.form.field.Text","Ext.view.View","com.coremedia.blueprint.base.components.pictures.gallery.ImageGallery_properties","com.coremedia.cms.editor.sdk.components.StudioDialog","com.coremedia.cms.editor.sdk.desktop.WorkArea","com.coremedia.cms.editor.sdk.util.PathFormatter","com.coremedia.ui.data.ValueExpressionFactory",
"com.coremedia.ui.data.beanFactory","com.coremedia.ui.util.ThumbnailImage"]}});Ext.define("com.coremedia.blueprint.base.components.pictures.CreateFromPicturesWindow",function(CreateFromPicturesWindow){function __initialize__(config){this.folderFormatted$tv_u=com.coremedia.cms.editor.sdk.util.PathFormatter.formatSitePath(AS3.getBindable(config,"targetFolder"));this.model$tv_u=this.getModel(config)}function CreateFromPicturesWindow$(config){if(arguments.length<=0)config=null;this.__initialize__$tv_u(config);var config_$1=AS3.cast(com.coremedia.blueprint.base.components.pictures.CreateFromPicturesWindowBase,
{});var defaults_$1=AS3.cast(CreateFromPicturesWindow,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.modal=true;AS3.setBindable(config_$1,"width",645);config_$1.stateId="createFromPicturesWindowState";AS3.setBindable(config_$1,"stateful",true);config_$1.resizable=true;config_$1.resizeHandles="s";AS3.setBindable(config_$1,"scrollable",true);config_$1.constrainHeader=true;config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.WindowSkin.GRID_200.getSkin());var labelable_61_5_$1=
AS3.cast(Ext.form.Labelable,{});labelable_61_5_$1.labelSeparator="";labelable_61_5_$1.labelAlign="top";config_$1["defaultType"]=labelable_61_5_$1["xtype"];delete labelable_61_5_$1["xtype"];delete labelable_61_5_$1["xclass"];config_$1.defaults=labelable_61_5_$1;var layout_Anchor_65_5_$1=AS3.cast(Ext.layout.container.Anchor,{});AS3.setBindable(config_$1,"layout",layout_Anchor_65_5_$1);var textField_68_5_$1=AS3.cast(Ext.form.field.Text,{});AS3.setBindable(textField_68_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,
"textFieldLabel")));textField_68_5_$1.itemId="documentName";AS3.setBindable(textField_68_5_$1,"emptyText",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"textFieldEmptyText")));textField_68_5_$1.validator=AS3.bind(this,"validateName");textField_68_5_$1.anchor="100%";var ui_BindPropertyPlugin_74_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_74_9_$1.bidirectional=true;var ui_ValueExpression_76_13_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_76_13_$1,
"context",this.model$tv_u);AS3.setBindable(ui_ValueExpression_76_13_$1,"expression","name");ui_BindPropertyPlugin_74_9_$1.bindTo=new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_76_13_$1);var ui_BlockEnterPlugin_80_9_$1=AS3.cast(com.coremedia.ui.plugins.BlockEnterPlugin,{});textField_68_5_$1.plugins=[ui_BindPropertyPlugin_74_9_$1,ui_BlockEnterPlugin_80_9_$1];var editor_FolderCombo_83_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.foldercombo.FolderCombo,{});AS3.setBindable(editor_FolderCombo_83_5_$1,
"folders",this.folderFormatted$tv_u?[this.folderFormatted$tv_u]:[]);AS3.setBindable(editor_FolderCombo_83_5_$1,"contentType",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"contentTypeName")));editor_FolderCombo_83_5_$1.validator=AS3.bind(this,"validateFolder");editor_FolderCombo_83_5_$1.anchor="100%";var ui_ValueExpression_88_9_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_88_9_$1,"context",this.model$tv_u);AS3.setBindable(ui_ValueExpression_88_9_$1,
"expression","folder");AS3.setBindable(editor_FolderCombo_83_5_$1,"bindTo",new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_88_9_$1));var fieldContainer_92_5_$1=AS3.cast(Ext.form.FieldContainer,{});AS3.setBindable(fieldContainer_92_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"dataviewLabel")));fieldContainer_92_5_$1.anchor="100%";var layout_Fit_95_9_$1=AS3.cast(Ext.layout.container.Fit,{});AS3.setBindable(fieldContainer_92_5_$1,"layout",layout_Fit_95_9_$1);
var dataView_98_9_$1=AS3.cast(Ext.view.View,{});dataView_98_9_$1.itemId=net.jangaroo.ext.Exml.asString(this.ITEM_ID_IMAGE_VIEW);dataView_98_9_$1.itemSelector=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.thumbnail.ThumbDataViewBase.LIST_BLOCK.getCSSSelector());AS3.setBindable(dataView_98_9_$1,"minHeight",100);var ui_BindListPlugin_102_13_$1=AS3.cast(com.coremedia.ui.plugins.BindListPlugin,{});var data_AutoField_104_17_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_104_17_$1.name=
"name";var ui_DataField_105_17_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_105_17_$1.name="thumbnailImage";ui_DataField_105_17_$1.mapping="";ui_DataField_105_17_$1["convert"]=com.coremedia.cms.editor.sdk.collectionview.thumbnail.ThumbDataViewBase.computeThumbnailImage;ui_DataField_105_17_$1.ifUnreadable=null;ui_DataField_105_17_$1.allowNull=true;AS3.setBindable(ui_BindListPlugin_102_13_$1,"fields",[data_AutoField_104_17_$1,ui_DataField_105_17_$1]);var ui_ValueExpression_112_17_$1=
AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_112_17_$1,"context",this.model$tv_u);AS3.setBindable(ui_ValueExpression_112_17_$1,"expression","pictures");AS3.setBindable(ui_BindListPlugin_102_13_$1,"bindTo",new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_112_17_$1));dataView_98_9_$1.plugins=[ui_BindListPlugin_102_13_$1];dataView_98_9_$1.tpl=['\x3cdiv class\x3d"'+com.coremedia.cms.editor.sdk.collectionview.thumbnail.ThumbDataViewBase.LIST_BLOCK+" "+
com.coremedia.cms.editor.sdk.collectionview.thumbnail.ThumbDataViewBase.LIST_MODIFIER_FRAME+'"\x3e','\x3ctpl for\x3d"."\x3e','\x3cdiv class\x3d"'+com.coremedia.cms.editor.sdk.collectionview.thumbnail.ThumbDataViewBase.LIST_ELEMENT_ITEM+" "+com.coremedia.cms.editor.sdk.collectionview.thumbnail.ThumbDataViewBase.THUMBNAIL_BLOCK+" "+com.coremedia.cms.editor.sdk.collectionview.thumbnail.ThumbDataViewBase.THUMBNAIL_MODIFIER_NO_SELECTION+'"\x3e','{[values.thumbnailImage.render("'+com.coremedia.cms.editor.sdk.collectionview.thumbnail.ThumbDataViewBase.THUMBNAIL_IMAGE_MODIFIER_COLLECTION_VIEW.getCSSClass()+
'")]}','\x3cp class\x3d"'+com.coremedia.cms.editor.sdk.collectionview.thumbnail.ThumbDataViewBase.THUMBNAIL_ELEMENT_TEXT+' " data-qtip\x3d"{name}"\x3e{name} \x3c/p\x3e',"\x3c/div\x3e","\x3c/tpl\x3e","\x3c/div\x3e"];fieldContainer_92_5_$1.items=[dataView_98_9_$1];config_$1.items=[textField_68_5_$1,editor_FolderCombo_83_5_$1,fieldContainer_92_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$tv_u(config_$1)}return{extend:"com.coremedia.blueprint.base.components.pictures.CreateFromPicturesWindowBase",
alias:"widget.com.coremedia.blueprint.base.components.config.createFromPicturesWindow",folderFormatted$tv_u:null,model$tv_u:null,__initialize__$tv_u:__initialize__,constructor:CreateFromPicturesWindow$,super$tv_u:function(){com.coremedia.blueprint.base.components.pictures.CreateFromPicturesWindowBase.prototype.constructor.apply(this,arguments)},config:{selectedPictures:null,targetFolder:null,preferredName:null,textFieldLabel:null,textFieldEmptyText:null,contentTypeName:null,dataviewLabel:null,okAction:null},
requires:["Ext.data.field.Field","Ext.form.FieldContainer","Ext.form.Labelable","Ext.form.field.Text","Ext.layout.container.Anchor","Ext.layout.container.Fit","Ext.view.View","com.coremedia.blueprint.base.components.pictures.CreateFromPicturesWindowBase","com.coremedia.cms.editor.sdk.collectionview.thumbnail.ThumbDataViewBase","com.coremedia.cms.editor.sdk.foldercombo.FolderCombo","com.coremedia.cms.editor.sdk.util.PathFormatter","com.coremedia.ui.exml.ValueExpression","com.coremedia.ui.plugins.BindListPlugin",
"com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.BlockEnterPlugin","com.coremedia.ui.skins.WindowSkin","com.coremedia.ui.store.DataField","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.blueprint.base.components.pictures.CreateFromPicturesAction",function(CreateFromPicturesAction){function CreateFromPicturesAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.base.components.pictures.CreateFromPicturesActionBase,{});var defaults_$1=AS3.cast(CreateFromPicturesAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$0q7_(config_$1)}return{extend:"com.coremedia.blueprint.base.components.pictures.CreateFromPicturesActionBase",
constructor:CreateFromPicturesAction$,super$0q7_:function(){com.coremedia.blueprint.base.components.pictures.CreateFromPicturesActionBase.prototype.constructor.apply(this,arguments)},config:{viewModel:null,callback:null},requires:["com.coremedia.blueprint.base.components.pictures.CreateFromPicturesActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.blueprint.base.components.viewtypes.ViewtypeServices",function(ViewtypeServices){function collectViewtypeFolderPaths$static(viewTypeBasePaths,contentTypeNames){var viewTypePaths=[];viewTypeBasePaths.forEach(function(absolutePath){viewTypePaths.push(absolutePath);contentTypeNames.forEach(function(contentType){var absoluteSubfolderPath=absolutePath+contentType;viewTypePaths.push(absoluteSubfolderPath)})});return viewTypePaths}function makeAbsolute$static(paths,site){if(!paths)return[];
var absolutePaths=[];for(var $1=0;$1<paths.length;++$1){var path=paths[$1];var absolutePath=resolvePath$static(path,site);if(absolutePath===undefined)return undefined;if(absolutePath)absolutePaths.push(absolutePath)}return absolutePaths}function getTypeHierarchy$static(contentType,excludedDocTypes){var typeHierarchy=[];traverseTypeHierarchy$static(typeHierarchy,contentType,excludedDocTypes);return typeHierarchy}function decideAndFilterSiteRelativePaths$static(site,viewTypePaths){if(site)return viewTypePaths;
return viewTypePaths.filter(function(path,index,arr){return path.indexOf("/")===0})}function readConfiguredDoctypesForViewtype$static(){var viewTypeContentTypes=mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.components.viewtypes.Viewtypes","contentTypes");var configuredContentTypes=viewTypeContentTypes.split(",");return configuredContentTypes}function resolvePath$static(path,site){if(path.indexOf("/")===0)return path;if(!site)return null;var root=site.getSiteRootFolder();
var rootFolderPath=root.getPath();if(rootFolderPath===undefined)return undefined;return rootFolderPath+"/"+path}function traverseTypeHierarchy$static(typeHierarchy,contentType,excludedDocTypes){if(!excludedDocTypes||excludedDocTypes.indexOf(contentType.getName())==-1)typeHierarchy.push(contentType.getName());if(contentType.getParent())traverseTypeHierarchy$static(typeHierarchy,contentType.getParent(),excludedDocTypes)}function ViewtypeServices$(){}return{constructor:ViewtypeServices$,statics:{collectViewtypeFolderPaths:collectViewtypeFolderPaths$static,
makeAbsolute:makeAbsolute$static,getTypeHierarchy:getTypeHierarchy$static,decideAndFilterSiteRelativePaths:decideAndFilterSiteRelativePaths$static,readConfiguredDoctypesForViewtype:readConfiguredDoctypesForViewtype$static},requires:["mx.resources.ResourceManager"]}});Ext.define("com.coremedia.blueprint.base.components.viewtypes.ViewtypeLocalizationUtil",function(ViewtypeLocalizationUtil){var NO_IMAGE_TOOLTIP$static;function NO_IMAGE_TOOLTIP$static_(){NO_IMAGE_TOOLTIP$static=mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.components.viewtypes.Viewtypes","no_image")}function localizeText$static(content){return com.coremedia.blueprint.base.components.localization.ContentLocalizationUtil.localize(content,"_text",mx.resources.ResourceManager.getInstance().getResourceBundle(null,
"com.coremedia.blueprint.base.components.viewtypes.Viewtypes").content,getName$static)}function getName$static(content){var properties=content.getProperties();if(!properties)return undefined;var name=properties.get("layout");if(!name||name.length==0)name=content.getName();return name}function localizeDescription$static(content){return com.coremedia.blueprint.base.components.localization.ContentLocalizationUtil.localize(content,"_description",mx.resources.ResourceManager.getInstance().getResourceBundle(null,
"com.coremedia.blueprint.base.components.viewtypes.Viewtypes").content,null,getContentDescription$static)}function getContentDescription$static(viewtypeContent){return viewtypeContent?com.coremedia.ui.util.ObjectUtils.getPropertyAt(viewtypeContent,[com.coremedia.cap.content.ContentPropertyNames.PROPERTIES,"description"]):null}function getThumbnailTooltip$static(content){return com.coremedia.blueprint.base.components.viewtypes.ViewtypeUtil.getThumbnailUri(content)?ViewtypeLocalizationUtil.localizeText(content):
NO_IMAGE_TOOLTIP$static}function ViewtypeLocalizationUtil$(){}return{constructor:ViewtypeLocalizationUtil$,statics:{NO_IMAGE_TOOLTIP:undefined,localizeText:localizeText$static,localizeDescription:localizeDescription$static,getThumbnailTooltip:getThumbnailTooltip$static,__initStatics__:function(){NO_IMAGE_TOOLTIP$static_()}},requires:["com.coremedia.blueprint.base.components.viewtypes.Viewtypes_properties","com.coremedia.cap.content.ContentPropertyNames","com.coremedia.ui.util.ObjectUtils","mx.resources.ResourceManager"],
uses:["com.coremedia.blueprint.base.components.localization.ContentLocalizationUtil","com.coremedia.blueprint.base.components.viewtypes.ViewtypeUtil"]}});Ext.define("com.coremedia.blueprint.base.components.viewtypes.ViewtypePropertyField",function(ViewtypePropertyField){function ViewtypePropertyField$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.base.components.viewtypes.ViewTypePropertyFieldBase,{});var defaults_$1=AS3.cast(ViewtypePropertyField,{});AS3.setBindable(defaults_$1,"viewtypesFolderPaths",com.coremedia.blueprint.base.components.viewtypes.ViewTypePropertyFieldBase.DEFAULT_PATHS);config=net.jangaroo.ext.Exml.apply(defaults_$1,
config);AS3.setBindable(config_$1,"propertyName","viewtype");AS3.setBindable(config_$1,"displayField",net.jangaroo.ext.Exml.asString(com.coremedia.blueprint.base.components.viewtypes.ViewTypePropertyFieldBase.DISPLAY_FIELD_NAME));AS3.setBindable(config_$1,"comboBoxTemplate",com.coremedia.blueprint.base.components.viewtypes.ViewTypePropertyFieldBase.COMBO_BOX_TEMPLATE);AS3.setBindable(config_$1,"displayTemplate",com.coremedia.blueprint.base.components.viewtypes.ViewTypePropertyFieldBase.DISPLAY_TEMPLATE);
AS3.setBindable(config_$1,"offeredContentsValueExpression",this.getAvailableViewTypesExpression(config,["Document_","Content_","CMHasContexts"]));AS3.setBindable(config_$1,"emptyCls","cm-view-type-selector-default-value");AS3.setBindable(config_$1,"emptyText",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.base.components.viewtypes.Viewtypes","_text")));var ui_BindVisibilityPlugin_49_5_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_49_5_$1.bindTo=
this.getVisibleVE(config);config_$1.plugins=[ui_BindVisibilityPlugin_49_5_$1];config_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var ui_DataField_52_5_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_52_5_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.blueprint.base.components.viewtypes.ViewTypePropertyFieldBase.DISPLAY_FIELD_NAME);ui_DataField_52_5_$1.encode=false;ui_DataField_52_5_$1.mapping="";ui_DataField_52_5_$1["convert"]=com.coremedia.blueprint.base.components.viewtypes.ViewtypeLocalizationUtil.localizeText;
var data_AutoField_56_5_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_56_5_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.blueprint.base.components.viewtypes.ViewTypePropertyFieldBase.TITLE_FIELD_NAME);data_AutoField_56_5_$1.mapping="";data_AutoField_56_5_$1["convert"]=com.coremedia.blueprint.base.components.viewtypes.ViewtypeLocalizationUtil.localizeText;var data_AutoField_59_5_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_59_5_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.blueprint.base.components.viewtypes.ViewTypePropertyFieldBase.DESCRIPTION_FIELD_NAME);
data_AutoField_59_5_$1.mapping="";data_AutoField_59_5_$1["convert"]=com.coremedia.blueprint.base.components.viewtypes.ViewtypeLocalizationUtil.localizeDescription;var data_AutoField_62_5_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_62_5_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.blueprint.base.components.viewtypes.ViewTypePropertyFieldBase.SITE_FIELD_NAME);data_AutoField_62_5_$1.mapping="";data_AutoField_62_5_$1["convert"]=com.coremedia.blueprint.base.components.sites.SitesLocalizationUtil.localizeSiteInfo;
var data_AutoField_65_5_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_65_5_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.blueprint.base.components.viewtypes.ViewTypePropertyFieldBase.THUMBNAIL_URI_FIELD_NAME);data_AutoField_65_5_$1.mapping="";data_AutoField_65_5_$1["convert"]=com.coremedia.blueprint.base.components.viewtypes.ViewtypeUtil.getThumbnailUri;var data_AutoField_68_5_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_68_5_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.blueprint.base.components.viewtypes.ViewTypePropertyFieldBase.THUMBNAIL_TOOLTIP_FIELD_NAME);
data_AutoField_68_5_$1.mapping="";data_AutoField_68_5_$1["convert"]=com.coremedia.blueprint.base.components.viewtypes.ViewtypeLocalizationUtil.getThumbnailTooltip;AS3.setBindable(config_$1,"fields",[ui_DataField_52_5_$1,data_AutoField_56_5_$1,data_AutoField_59_5_$1,data_AutoField_62_5_$1,data_AutoField_65_5_$1,data_AutoField_68_5_$1]);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Fxc0(config_$1)}return{extend:"com.coremedia.blueprint.base.components.viewtypes.ViewTypePropertyFieldBase",
metadata:{"":["Resource",["","com.coremedia.blueprint.base.components.viewtypes.Viewtypes"]]},alias:"widget.com.coremedia.blueprint.base.components.config.viewtypePropertyField",constructor:ViewtypePropertyField$,super$Fxc0:function(){com.coremedia.blueprint.base.components.viewtypes.ViewTypePropertyFieldBase.prototype.constructor.apply(this,arguments)},config:{viewtypesFolderPaths:null,paths:null,handler:null},requires:["Ext.data.field.Field","com.coremedia.blueprint.base.components.viewtypes.ViewTypePropertyFieldBase",
"com.coremedia.ui.plugins.BindVisibilityPlugin","com.coremedia.ui.store.DataField","net.jangaroo.ext.Exml"],uses:["com.coremedia.blueprint.base.components.sites.SitesLocalizationUtil","com.coremedia.blueprint.base.components.viewtypes.ViewtypeLocalizationUtil","com.coremedia.blueprint.base.components.viewtypes.ViewtypeUtil"]}});Ext.define("com.coremedia.blueprint.base.components.viewtypes.ViewtypeUtil",function(ViewtypeUtil){var NOSITE$static="no_side";var hierarchyCache$static;function hierarchyCache$static_(){hierarchyCache$static=com.coremedia.ui.data.beanFactory.createLocalBean()}var viewTypeContentCache$static;function viewTypeContentCache$static_(){viewTypeContentCache$static=com.coremedia.ui.data.beanFactory.createLocalBean()}function createAvailableViewtypesExpression$static(referenceContentValueExpression,viewTypePaths,
staticPaths,excludedDocTypes){switch(Math.max(arguments.length,2)){case 2:staticPaths=null;case 3:excludedDocTypes=null}return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(computeAvailableViewtypes$static,referenceContentValueExpression,viewTypePaths,staticPaths,excludedDocTypes)}function computeAvailableViewtypes$static(referenceContentValueExpression,viewTypeBasePaths,staticPaths,excludedDocTypes){var referenceContent=AS3.as(referenceContentValueExpression.getValue(),com.coremedia.cap.content.Content);
if(!referenceContent)return undefined;var refContentTypeName=referenceContent.getType().getName();if(!refContentTypeName||!referenceContent.getPath())return undefined;var site=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getSiteFor(referenceContent);var cacheId=resolveCacheId$static(site,refContentTypeName);var siteAwareViewtypes=com.coremedia.blueprint.base.components.viewtypes.ViewtypeServices.decideAndFilterSiteRelativePaths(site,viewTypeBasePaths);var viewTypePaths=undefined;if(hierarchyCache$static.get(cacheId))viewTypePaths=
hierarchyCache$static.get(cacheId);if(!viewTypePaths){var absoluteSiteAwareViewtypePaths=com.coremedia.blueprint.base.components.viewtypes.ViewtypeServices.makeAbsolute(siteAwareViewtypes,site);if(absoluteSiteAwareViewtypePaths===undefined)return undefined;var absoluteStaticPaths=com.coremedia.blueprint.base.components.viewtypes.ViewtypeServices.makeAbsolute(staticPaths,site);if(absoluteStaticPaths===undefined)return undefined;viewTypePaths=computeViewTypePaths$static(referenceContent.getType(),absoluteSiteAwareViewtypePaths,
absoluteStaticPaths,excludedDocTypes);hierarchyCache$static.set(cacheId,viewTypePaths)}var configuredContentTypes=com.coremedia.blueprint.base.components.viewtypes.ViewtypeServices.readConfiguredDoctypesForViewtype();if(viewTypeContentCache$static.get(cacheId))return viewTypeContentCache$static.get(cacheId);var viewTypes=com.coremedia.blueprint.base.components.util.ContentLookupUtil.findContentsOfTypeInPaths(viewTypePaths,configuredContentTypes,referenceContent);if(!viewTypes)return undefined;viewTypeContentCache$static.set(cacheId,
[null].concat(viewTypes));return viewTypeContentCache$static.get(cacheId)}function resolveCacheId$static(site,contentTypeName){var cacheIdSitePrefix=resolveCacheIdSitePrefix$static(site);return cacheIdSitePrefix+contentTypeName}function resolveCacheIdSitePrefix$static(site){if(site)return site.getId();return NOSITE$static}function computeViewTypePaths$static(refContentType,viewTypeBasePaths,staticPaths,excludedDocTypes){var typeHierarchy=com.coremedia.blueprint.base.components.viewtypes.ViewtypeServices.getTypeHierarchy(refContentType,
excludedDocTypes);registerBaseFolderChangedListeners$static(viewTypeBasePaths,staticPaths);var viewTypeFolderPaths=com.coremedia.blueprint.base.components.viewtypes.ViewtypeServices.collectViewtypeFolderPaths(viewTypeBasePaths,typeHierarchy);registerViewtypeFolderChangedListeners$static(viewTypeFolderPaths);return viewTypeFolderPaths.concat(staticPaths)}function registerViewtypeFolderChangedListeners$static(viewTypeFolderPaths){for(var $1=0;$1<viewTypeFolderPaths.length;++$1){var viewTypeFolderPath=
viewTypeFolderPaths[$1];addFolderListener$static(viewTypeFolderPath,viewTypeFolderChanged$static)}}function registerBaseFolderChangedListeners$static(viewTypeBasePaths,staticPaths){var baseFolders=viewTypeBasePaths.concat(staticPaths);for(var $1=0;$1<baseFolders.length;++$1){var baseFolderPath=baseFolders[$1];addFolderListener$static(baseFolderPath,viewTypeBaseFolderChanged$static)}}function addFolderListener$static(absolutePath,onChange){com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getChild(absolutePath,
function(viewTypeBaseFolder){if(viewTypeBaseFolder)viewTypeBaseFolder.addPropertyChangeListener(com.coremedia.cap.content.ContentPropertyNames.CHILDREN,onChange)})}function viewTypeFolderChanged$static(){invalidateViewTypeCacheFor$static()}function viewTypeBaseFolderChanged$static(e){var children=AS3.as(e.bean,com.coremedia.cap.content.Content).getChildren();if(children)children.forEach(function(subFolder){subFolder.removePropertyChangeListener(com.coremedia.cap.content.ContentPropertyNames.CHILDREN,
viewTypeFolderChanged$static);subFolder.addPropertyChangeListener(com.coremedia.cap.content.ContentPropertyNames.CHILDREN,viewTypeFolderChanged$static)});invalidateViewTypeCacheFor$static()}function invalidateViewTypeCacheFor$static(){viewTypeContentCache$static=com.coremedia.ui.data.beanFactory.createLocalBean()}function getThumbnailUri$static(viewtype){if(viewtype&&viewtype.getProperties()){var icon=viewtype.getProperties().get("icon");if(icon)return icon.getUri()}return""}function ViewtypeUtil$(){}
return{constructor:ViewtypeUtil$,statics:{hierarchyCache:undefined,viewTypeContentCache:undefined,createAvailableViewtypesExpression:createAvailableViewtypesExpression$static,getThumbnailUri:getThumbnailUri$static,__initStatics__:function(){hierarchyCache$static_();viewTypeContentCache$static_()}},requires:["com.coremedia.blueprint.base.components.viewtypes.Viewtypes_properties","com.coremedia.cap.common.SESSION","com.coremedia.cap.content.Content","com.coremedia.cap.content.ContentPropertyNames",
"com.coremedia.cms.editor.sdk.editorContext","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.beanFactory"],uses:["com.coremedia.blueprint.base.components.util.ContentLookupUtil","com.coremedia.blueprint.base.components.viewtypes.ViewtypeServices"]}});Ext.define("com.coremedia.blueprint.base.components.viewtypes.ViewTypePropertyFieldBase",function(ViewTypePropertyFieldBase){function DEFAULT_PATHS$static_(){ViewTypePropertyFieldBase.DEFAULT_PATHS=["/Settings/Options/Viewtypes/","Options/Viewtypes/"]}function COMBO_BOX_TEMPLATE$static_(){ViewTypePropertyFieldBase.COMBO_BOX_TEMPLATE=com.coremedia.cms.editor.sdk.premular.fields.ComboBoxLinkPropertyFieldBase.getExtendedComboBoxTpl(ViewTypePropertyFieldBase.TITLE_FIELD_NAME,ViewTypePropertyFieldBase.DESCRIPTION_FIELD_NAME,
ViewTypePropertyFieldBase.THUMBNAIL_URI_FIELD_NAME,ViewTypePropertyFieldBase.THUMBNAIL_TOOLTIP_FIELD_NAME,ViewTypePropertyFieldBase.SITE_FIELD_NAME)}function DISPLAY_TEMPLATE$static_(){ViewTypePropertyFieldBase.DISPLAY_TEMPLATE=com.coremedia.cms.editor.sdk.premular.fields.ComboBoxLinkPropertyFieldBase.getExtendedDisplayTpl(ViewTypePropertyFieldBase.TITLE_FIELD_NAME,ViewTypePropertyFieldBase.DESCRIPTION_FIELD_NAME,ViewTypePropertyFieldBase.THUMBNAIL_URI_FIELD_NAME,ViewTypePropertyFieldBase.THUMBNAIL_TOOLTIP_FIELD_NAME,
ViewTypePropertyFieldBase.SITE_FIELD_NAME)}function ViewTypePropertyFieldBase$(config){if(arguments.length<=0)config=null;this.super$nyHH(config);this.getVisibleVE(config).addChangeListener(AS3.bind(this,"showOrHidePropFieldGroupParent$nyHH"));this.showOrHidePropFieldGroupParent$nyHH(this.getVisibleVE(config))}function showOrHidePropFieldGroupParent(ve){var parent=AS3.as(this.findParentByType(com.coremedia.cms.editor.sdk.premular.PropertyFieldGroup.xtype,false),com.coremedia.cms.editor.sdk.premular.PropertyFieldGroup);
if(!parent)return;var visible=ve.getValue();if(visible)parent.show();else parent.hide()}function getAvailableViewTypesExpression(config,excludedDocTypes){if(arguments.length<=1)excludedDocTypes=null;if(!this.availableViewTypesExpression$nyHH)this.availableViewTypesExpression$nyHH=AS3.getBindable(config,"handler")?AS3.getBindable(config,"handler").call(null,config,excludedDocTypes):com.coremedia.blueprint.base.components.viewtypes.ViewtypeUtil.createAvailableViewtypesExpression(AS3.getBindable(config,
"bindTo","DUMMY"),AS3.getBindable(config,"viewtypesFolderPaths"),AS3.getBindable(config,"paths"),excludedDocTypes);return this.availableViewTypesExpression$nyHH}function computeVisible(config){if(!config.hideForSingleChoice)return true;var selectedViewType=this.getLinkValueExpression(config).getValue();if(selectedViewType)return true;var availableViewTypes=this.getAvailableViewTypesExpression(config).getValue();if(availableViewTypes)return availableViewTypes.length>1}function getVisibleVE(config){if(!this.visibleVE$nyHH)this.visibleVE$nyHH=
com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"computeVisible"),config);return this.visibleVE$nyHH}function onDestroy(){if(this.hideForSingleChoice)this.getVisibleVE(AS3.as(this.initialConfig,com.coremedia.blueprint.base.components.viewtypes.ViewtypePropertyField)).removeChangeListener(AS3.bind(this,"showOrHidePropFieldGroupParent$nyHH"));com.coremedia.cms.editor.sdk.premular.fields.ComboBoxLinkPropertyField.prototype.onDestroy.call(this)}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.ComboBoxLinkPropertyField",
availableViewTypesExpression$nyHH:null,hideForSingleChoice:false,visibleVE$nyHH:null,constructor:ViewTypePropertyFieldBase$,super$nyHH:function(){com.coremedia.cms.editor.sdk.premular.fields.ComboBoxLinkPropertyField.prototype.constructor.apply(this,arguments)},showOrHidePropFieldGroupParent$nyHH:showOrHidePropFieldGroupParent,getAvailableViewTypesExpression:getAvailableViewTypesExpression,computeVisible:computeVisible,getVisibleVE:getVisibleVE,onDestroy:onDestroy,statics:{DEFAULT_PATHS:undefined,
DISPLAY_FIELD_NAME:"titleUnencoded",TITLE_FIELD_NAME:"title",DESCRIPTION_FIELD_NAME:"description",THUMBNAIL_URI_FIELD_NAME:"thumbnailUri",THUMBNAIL_TOOLTIP_FIELD_NAME:"thumbnailTooltip",SITE_FIELD_NAME:"site",COMBO_BOX_TEMPLATE:undefined,DISPLAY_TEMPLATE:undefined,__initStatics__:function(){DEFAULT_PATHS$static_();COMBO_BOX_TEMPLATE$static_();DISPLAY_TEMPLATE$static_()}},requires:["com.coremedia.cms.editor.sdk.premular.PropertyFieldGroup","com.coremedia.cms.editor.sdk.premular.fields.ComboBoxLinkPropertyField",
"com.coremedia.cms.editor.sdk.premular.fields.ComboBoxLinkPropertyFieldBase","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.blueprint.base.components.viewtypes.ViewtypePropertyField","com.coremedia.blueprint.base.components.viewtypes.ViewtypeUtil"]}});Ext.define("com.coremedia.blueprint.base.components.quickcreate.QuickCreateDialogBase",function(QuickCreateDialogBase){function QuickCreateDialogBase$(config){if(arguments.length<=0)config=null;this.editorRegistry$KFPH=[];if(!AS3.getBindable(config,"contentType"))AS3.setBindable(config,"contentType",AS3.getBindable(config,"contentTypeExpression").getValue());if(!AS3.getBindable(config,"model"))AS3.setBindable(config,"model",new com.coremedia.blueprint.base.components.quickcreate.processing.ProcessingData);
if(!AS3.getBindable(config,"defaultProperties"))AS3.setBindable(config,"defaultProperties",this.resourceManager.getString("com.coremedia.blueprint.base.components.quickcreate.QuickCreateSettings","default_properties"));positionWindow$static(config);this.super$KFPH(config);this.on("beforedestroy",AS3.bind(this,"cleanup$KFPH"))}function positionWindow$static(config){var typeString=config.stateId;if(!AS3.getBindable(config,"x","DUMMY")||!AS3.getBindable(config,"y","DUMMY")){AS3.setBindable(config,"x",
QuickCreateDialogBase.DEFAULT_X);AS3.setBindable(config,"y",QuickCreateDialogBase.DEFAULT_Y)}var result=Ext.ComponentQuery.query(com.coremedia.ui.util.createComponentSelector()._xtype(com.coremedia.blueprint.base.components.quickcreate.QuickCreateDialog.xtype).build());AS3.setBindable(config,"x",AS3.getBindable(config,"x","DUMMY")+result.length*QuickCreateDialogBase.OFFSET);AS3.setBindable(config,"y",AS3.getBindable(config,"y","DUMMY")+result.length*QuickCreateDialogBase.OFFSET)}function initComponent(){var this$=
this;com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.initComponent.call(this);if(AS3.getBindable(this,"processingDataFactory"))com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){return AS3.as(AS3.getBindable(this$,"processingDataFactory").call(null,AS3.getBindable(this$,"contentType"),AS3.getBindable(this$,"bindTo")),com.coremedia.blueprint.base.components.quickcreate.processing.ProcessingData)}).loadValue(function(data){AS3.setBindable(this$,"model",data);this$.initUI$KFPH();
this$.focus()});else this.initUI$KFPH()}function initUI(){var this$=this;AS3.getBindable(this,"model").addValueChangeListener(AS3.bind(this,"modelChangeListener$KFPH"));AS3.getBindable(this,"model").setContentType(AS3.getBindable(this,"contentType"));if(AS3.getBindable(this,"onSuccess"))AS3.getBindable(this,"model").set(com.coremedia.blueprint.base.components.quickcreate.processing.ProcessingData.ON_SUCCESS,function(content,data,callback){AS3.getBindable(this$,"onSuccess").call(null,content,data,
callback);this$.destroy()});if(AS3.getBindable(this,"skipInitializers")&&AS3.getBindable(this,"skipInitializers")===true)AS3.getBindable(this,"model").set(com.coremedia.blueprint.base.components.quickcreate.processing.ProcessingData.SKIP_INITIALIZERS,AS3.getBindable(this,"skipInitializers"));var propertiesString=AS3.getBindable(this,"defaultProperties");var additionalProperties=this.resolvePropertiesForContentType$KFPH(AS3.getBindable(this,"inheritEditors"));if(additionalProperties)if(propertiesString.length>
0)propertiesString=propertiesString+","+additionalProperties;else propertiesString=additionalProperties;var properties=propertiesString.split(",");var editContainer=AS3.as(this.queryById(QuickCreateDialogBase.EDITOR_CONTAINER_ITEM_ID),Ext.panel.Panel);for(var i=0;i<properties.length;i++)com.coremedia.blueprint.base.components.quickcreate.editors.QuickCreateEditorFactory.createEditor(AS3.getBindable(this,"bindTo"),properties[i],AS3.getBindable(this,"model"),function(editor,propertyName){if(arguments.length<=
1)propertyName=null;this$.editorRegistry$KFPH.push(editor);if(editor){editContainer.add(editor);if(AS3.is(editor,Ext.form.field.Field))this$.mon(editor,"validitychange",AS3.bind(this$,"modelChangeListener$KFPH"));if(propertyName){var nameField=AS3.as(this$.down(com.coremedia.ui.util.createComponentSelector().attr("name",propertyName).build()),com.coremedia.ui.components.StatefulTextField);if(nameField)if(AS3.getBindable(this$,"defaultNameExpression")&&AS3.getBindable(this$,"defaultNameExpression").getValue()){nameField.setValue(AS3.getBindable(this$,
"defaultNameExpression").getValue());AS3.getBindable(this$,"model").setName(AS3.getBindable(this$,"defaultNameExpression").getValue())}}}},AS3.bind(this,"enterPressed"));this.modelChangeListener$KFPH()}function resolvePropertiesForContentType(recursively){if(arguments.length<=0)recursively=true;var ctTypes=[AS3.getBindable(this,"contentType")];if(recursively)ctTypes=getContentTypeHierarchy$static(AS3.getBindable(this,"contentType"));var properties=[];for(var i=0;i<ctTypes.length;i++){var prop=this.resourceManager.getString("com.coremedia.blueprint.base.components.quickcreate.QuickCreateSettings",
"item_"+ctTypes[i]);if(prop&&properties.indexOf(prop)===-1)properties.push(prop)}if(properties.length>0)return properties.join(",");return undefined}function getContentTypeHierarchy$static(contentType){var ctTypes=[];ctTypes.push(contentType);var ctType=com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getContentType(contentType);while(ctType.getParent()){var parent=ctType.getParent();ctTypes.push(parent.getName());ctType=parent}return ctTypes}function enterPressed(){if(!this.getDisabledExpression().getValue())this.handleSubmit()}
function handleSubmit(){var this$=this;com.coremedia.blueprint.base.components.quickcreate.processing.ProcessorFactory.process(AS3.getBindable(this,"model"),function(data){var c=data.getContent();var sourceLinklist;if(AS3.getBindable(this$,"sourceLinkListVE"))sourceLinklist=AS3.getBindable(this$,"sourceLinkListVE");else if(AS3.getBindable(this$,"bindTo")&&AS3.getBindable(this$,"propertyName"))sourceLinklist=com.coremedia.cms.editor.sdk.util.LinkListUtil.createLinkValueExpression(AS3.getBindable(this$,
"bindTo"),AS3.getBindable(this$,"propertyName"),AS3.getBindable(this$,"linkType"),false);if(sourceLinklist){var oldValue=com.coremedia.ui.util.ArrayUtils.asArray(sourceLinklist.getValue());if(oldValue.indexOf(c)===-1)if(AS3.getBindable(this$,"appendResultAtEnd"))sourceLinklist.setValue(oldValue.concat(c));else{var newValue=[];newValue.push(c);sourceLinklist.setValue(newValue.concat(oldValue))}}c.invalidate(function(){var initializer=com.coremedia.cms.editor.sdk.editorContext.lookupContentInitializer(c.getType());
if(initializer)initializer(c);if(AS3.getBindable(this$,"openInTab")){com.coremedia.cms.editor.sdk.editorContext.getContentTabManager().openDocument(c);this$.openAdditionalContent$KFPH(data)}this$.destroy()})})}function openAdditionalContent(data){var additionalContent=data.getAdditionalContent();var reloadCount=additionalContent.length;for(var i=0;i<additionalContent.length;i++){var additional=additionalContent[i];additional.invalidate(function(){reloadCount--;if(reloadCount===0)com.coremedia.cms.editor.sdk.editorContext.getContentTabManager().openDocuments(additionalContent,
true)})}}function modelChangeListener(){var this$=this;this.getDisabledExpression().setValue(false);com.coremedia.ui.util.EventUtil.invokeLater(function(){for(var i=0;i<this$.editorRegistry$KFPH.length;i++){var editor=AS3.as(this$.editorRegistry$KFPH[i],Ext.form.field.Base);if(editor&&!editor.destroyed){var statefulEditor=AS3.as(editor,com.coremedia.ui.mixins.ValidationStateMixin);if(!editor.isValid()){this$.getDisabledExpression().setValue(true);if(statefulEditor)AS3.setBindable(statefulEditor,"validationState",
com.coremedia.ui.mixins.ValidationState.ERROR)}else if(statefulEditor)AS3.setBindable(statefulEditor,"validationState",undefined)}}})}function cleanup(){AS3.getBindable(this,"model").removeValueChangeListener(AS3.bind(this,"modelChangeListener$KFPH"))}function createTitle(ct,contentTypeExpression){var contentName=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.localizeDocumentTypeName(ct||contentTypeExpression.getValue());return Ext.String.format(this.resourceManager.getString("com.coremedia.blueprint.base.components.quickcreate.QuickCreate",
"dialog_title"),contentName)}function getDisabledExpression(){if(!this.disabledExpression$KFPH){this.disabledExpression$KFPH=com.coremedia.ui.data.ValueExpressionFactory.create("disabled",com.coremedia.ui.data.beanFactory.createLocalBean());this.disabledExpression$KFPH.setValue(true)}return this.disabledExpression$KFPH}return{extend:"com.coremedia.cms.editor.sdk.components.StudioDialog",disabledExpression$KFPH:null,editorRegistry$KFPH:null,constructor:QuickCreateDialogBase$,super$KFPH:function(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.constructor.apply(this,
arguments)},initComponent:initComponent,initUI$KFPH:initUI,resolvePropertiesForContentType$KFPH:resolvePropertiesForContentType,enterPressed:enterPressed,handleSubmit:handleSubmit,openAdditionalContent$KFPH:openAdditionalContent,modelChangeListener$KFPH:modelChangeListener,cleanup$KFPH:cleanup,createTitle:createTitle,getDisabledExpression:getDisabledExpression,config:{contentTypeExpression:null,onSuccess:null,skipInitializers:false,defaultProperties:null,appendResultAtEnd:false,openInTab:true,contentType:null,
bindTo:null,linkType:null,model:null,propertyName:null,inheritEditors:true,defaultNameExpression:null,processingDataFactory:null,sourceLinkListVE:null},statics:{OFFSET:10,DEFAULT_X:120,DEFAULT_Y:110,EDITOR_CONTAINER_ITEM_ID:"editorContainer"},requires:["Ext.ComponentQuery","Ext.String","Ext.form.field.Base","Ext.form.field.Field","Ext.panel.Panel","com.coremedia.blueprint.base.components.quickcreate.QuickCreateSettings_properties","com.coremedia.blueprint.base.components.quickcreate.QuickCreate_properties",
"com.coremedia.cap.common.SESSION","com.coremedia.cms.editor.sdk.components.StudioDialog","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil","com.coremedia.cms.editor.sdk.util.LinkListUtil","com.coremedia.ui.components.StatefulTextField","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.beanFactory","com.coremedia.ui.mixins.ValidationState","com.coremedia.ui.mixins.ValidationStateMixin","com.coremedia.ui.util.ArrayUtils","com.coremedia.ui.util.EventUtil",
"com.coremedia.ui.util.createComponentSelector"],uses:["com.coremedia.blueprint.base.components.quickcreate.QuickCreateDialog","com.coremedia.blueprint.base.components.quickcreate.editors.QuickCreateEditorFactory","com.coremedia.blueprint.base.components.quickcreate.processing.ProcessingData","com.coremedia.blueprint.base.components.quickcreate.processing.ProcessorFactory"]}});Ext.define("com.coremedia.blueprint.base.components.quickcreate.OpenQuickCreateAction",function(OpenQuickCreateAction){function OpenQuickCreateAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.base.components.quickcreate.OpenQuickCreateActionBase,{});var defaults_$1=AS3.cast(OpenQuickCreateAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$D9Ea(config_$1)}return{extend:"com.coremedia.blueprint.base.components.quickcreate.OpenQuickCreateActionBase",
metadata:{"":["PublicApi"]},constructor:OpenQuickCreateAction$,super$D9Ea:function(){com.coremedia.blueprint.base.components.quickcreate.OpenQuickCreateActionBase.prototype.constructor.apply(this,arguments)},config:{contentTypeExpression:null,bindTo:null,defaultNameExpression:null,sourceLinkListVE:null,contentType:null,inheritEditors:false,propertyName:null,linkType:null,model:null,skipInitializers:false,onSuccess:null,defaultProperties:null,appendResultAtEnd:false,openInTab:false,processingDataFactory:null},
requires:["com.coremedia.blueprint.base.components.quickcreate.OpenQuickCreateActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.blueprint.base.components.quickcreate.OpenQuickCreateActionBase",function(OpenQuickCreateActionBase){function OpenQuickCreateActionBase$(config){if(arguments.length<=0)config=null;this.qcConfig$sPoL={contentType:AS3.getBindable(config,"contentType"),contentTypeExpression:AS3.getBindable(config,"contentTypeExpression"),inheritEditors:AS3.getBindable(config,"inheritEditors"),propertyName:AS3.getBindable(config,"propertyName"),bindTo:AS3.getBindable(config,"bindTo"),linkType:AS3.getBindable(config,
"linkType"),model:AS3.getBindable(config,"model"),skipInitializers:AS3.getBindable(config,"skipInitializers"),defaultNameExpression:AS3.getBindable(config,"defaultNameExpression"),onSuccess:AS3.getBindable(config,"onSuccess"),defaultProperties:AS3.getBindable(config,"defaultProperties"),processingDataFactory:AS3.getBindable(config,"processingDataFactory"),appendResultAtEnd:AS3.getBindable(config,"appendResultAtEnd"),openInTab:AS3.getBindable(config,"openInTab"),sourceLinkListVE:AS3.getBindable(config,
"sourceLinkListVE")};var qcdConfig=AS3.cast(com.coremedia.blueprint.base.components.quickcreate.QuickCreateDialog,Ext.apply({},this.qcConfig$sPoL));AS3.setBindable(config,"dialog",qcdConfig);this.super$sPoL(config)}function handlerFunction(){if(OpenQuickCreateActionBase.overrideHandler)OpenQuickCreateActionBase.overrideHandler.call(null,this.qcConfig$sPoL);else com.coremedia.ui.actions.OpenDialogAction.prototype.handlerFunction.call(this)}return{extend:"com.coremedia.ui.actions.OpenDialogAction",
metadata:{"":["PublicApi"]},qcConfig$sPoL:null,constructor:OpenQuickCreateActionBase$,super$sPoL:function(){com.coremedia.ui.actions.OpenDialogAction.prototype.constructor.apply(this,arguments)},handlerFunction:handlerFunction,statics:{overrideHandler:null},requires:["Ext","com.coremedia.ui.actions.OpenDialogAction"],uses:["com.coremedia.blueprint.base.components.quickcreate.QuickCreateDialog"]}});Ext.define("com.coremedia.blueprint.base.components.quickcreate.QuickCreateMenuItemBase",function(QuickCreateMenuItemBase){function QuickCreateMenuItemBase$(config){if(arguments.length<=0)config=null;this.super$J1iR(config)}function afterRender(){Ext.menu.Item.prototype.afterRender.call(this);var parent=this.findParentByType(com.coremedia.cms.editor.sdk.desktop.FavoritesToolbar.xtype);if(parent)this.addCls("fav-menu-item")}return{extend:"Ext.menu.Item",constructor:QuickCreateMenuItemBase$,super$J1iR:function(){Ext.menu.Item.prototype.constructor.apply(this,
arguments)},afterRender:afterRender,requires:["Ext.menu.Item","com.coremedia.cms.editor.sdk.desktop.FavoritesToolbar"]}});Ext.define("com.coremedia.blueprint.base.components.quickcreate.QuickCreateLinklistMenu",function(QuickCreateLinklistMenu){function QuickCreateLinklistMenu$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.base.components.quickcreate.QuickCreateLinklistMenuBase,{});var defaults_$1=AS3.cast(QuickCreateLinklistMenu,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons",
"create_content")));config_$1.itemId="createFromLinkListMenuButton";AS3.setBindable(config_$1,"text",net.jangaroo.ext.Exml.asString(com.coremedia.ui.util.EncodingUtil.encodeForHTML(this.resourceManager.getString("com.coremedia.blueprint.base.components.quickcreate.QuickCreate","quick_create_tooltip"))));AS3.setBindable(config_$1,"tooltip",com.coremedia.ui.util.EncodingUtil.encodeForHTML(this.resourceManager.getString("com.coremedia.blueprint.base.components.quickcreate.QuickCreate","quick_create_tooltip")));
var editor_BindDisablePlugin_31_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin,{});AS3.setBindable(editor_BindDisablePlugin_31_5_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));editor_BindDisablePlugin_31_5_$1.bindTo=AS3.getBindable(config,"bindTo");config_$1.plugins=[editor_BindDisablePlugin_31_5_$1];var menu_35_5_$1=AS3.cast(Ext.menu.Menu,{});menu_35_5_$1.itemId="createFromLinkListMenu";menu_35_5_$1.items=[];config_$1.menu=
menu_35_5_$1;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$iGql(config_$1)}return{extend:"com.coremedia.blueprint.base.components.quickcreate.QuickCreateLinklistMenuBase",alias:"widget.com.coremedia.blueprint.base.components.config.quickCreateLinklistMenu",constructor:QuickCreateLinklistMenu$,super$iGql:function(){com.coremedia.blueprint.base.components.quickcreate.QuickCreateLinklistMenuBase.prototype.constructor.apply(this,arguments)},config:{forceReadOnlyValueExpression:null},requires:["Ext.menu.Menu",
"com.coremedia.blueprint.base.components.quickcreate.QuickCreateLinklistMenuBase","com.coremedia.blueprint.base.components.quickcreate.QuickCreate_properties","com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.util.EncodingUtil","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.blueprint.base.components.quickcreate.QuickCreateToolbarButtonBase",function(QuickCreateToolbarButtonBase){function QuickCreateToolbarButtonBase$(config){if(arguments.length<=0)config=null;this.super$vjNc(config)}function forceReadOnly(config){return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var forceReadOnlyExpression=AS3.getBindable(config,"forceReadOnlyValueExpression");if(forceReadOnlyExpression&&forceReadOnlyExpression.getValue())return true;
if(!AS3.getBindable(config,"bindTo")||!AS3.getBindable(config,"propertyName"))return false;var freeCapacity=com.coremedia.cms.editor.sdk.util.LinkListUtil.getFreeCapacity(AS3.getBindable(config,"bindTo"),AS3.getBindable(config,"propertyName"));return freeCapacity===0})}return{extend:"com.coremedia.ui.components.IconButton",constructor:QuickCreateToolbarButtonBase$,super$vjNc:function(){com.coremedia.ui.components.IconButton.prototype.constructor.apply(this,arguments)},forceReadOnly:forceReadOnly,
requires:["com.coremedia.cms.editor.sdk.util.LinkListUtil","com.coremedia.ui.components.IconButton","com.coremedia.ui.data.ValueExpressionFactory"]}});Ext.define("com.coremedia.blueprint.base.components.quickcreate.QuickCreateToolbarButton",function(QuickCreateToolbarButton){function QuickCreateToolbarButton$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.base.components.quickcreate.QuickCreateToolbarButtonBase,{});var defaults_$1=AS3.cast(QuickCreateToolbarButton,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"text",net.jangaroo.ext.Exml.asString(config.tooltip||this.resourceManager.getString("com.coremedia.blueprint.base.components.quickcreate.QuickCreate",
"quick_create_tooltip")));AS3.setBindable(config_$1,"tooltip",config.tooltip||this.resourceManager.getString("com.coremedia.blueprint.base.components.quickcreate.QuickCreate","quick_create_tooltip"));var bpb$components_OpenQuickCreateAction_102_5_$1=AS3.cast(com.coremedia.blueprint.base.components.quickcreate.OpenQuickCreateAction,{});AS3.setBindable(bpb$components_OpenQuickCreateAction_102_5_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons",
"create_content")));AS3.setBindable(bpb$components_OpenQuickCreateAction_102_5_$1,"text",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.localizeDocumentTypeName(AS3.getBindable(config,"contentType")||AS3.getBindable(config,"contentTypeExpression").getValue())));AS3.setBindable(bpb$components_OpenQuickCreateAction_102_5_$1,"contentType",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"contentType")));AS3.setBindable(bpb$components_OpenQuickCreateAction_102_5_$1,
"contentTypeExpression",AS3.getBindable(config,"contentTypeExpression"));AS3.setBindable(bpb$components_OpenQuickCreateAction_102_5_$1,"skipInitializers",AS3.getBindable(config,"skipInitializers"));AS3.setBindable(bpb$components_OpenQuickCreateAction_102_5_$1,"onSuccess",AS3.getBindable(config,"onSuccess"));AS3.setBindable(bpb$components_OpenQuickCreateAction_102_5_$1,"bindTo",AS3.getBindable(config,"bindTo"));AS3.setBindable(bpb$components_OpenQuickCreateAction_102_5_$1,"model",AS3.getBindable(config,
"model"));AS3.setBindable(bpb$components_OpenQuickCreateAction_102_5_$1,"openInTab",AS3.getBindable(config,"openInTab"));AS3.setBindable(bpb$components_OpenQuickCreateAction_102_5_$1,"processingDataFactory",AS3.getBindable(config,"processingDataFactory"));AS3.setBindable(bpb$components_OpenQuickCreateAction_102_5_$1,"defaultNameExpression",AS3.getBindable(config,"defaultNameExpression"));AS3.setBindable(bpb$components_OpenQuickCreateAction_102_5_$1,"defaultProperties",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,
"defaultProperties")));AS3.setBindable(bpb$components_OpenQuickCreateAction_102_5_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));AS3.setBindable(bpb$components_OpenQuickCreateAction_102_5_$1,"sourceLinkListVE",AS3.getBindable(config,"sourceLinkListVE"));config_$1.baseAction=new com.coremedia.blueprint.base.components.quickcreate.OpenQuickCreateAction(bpb$components_OpenQuickCreateAction_102_5_$1);var editor_BindDisablePlugin_119_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin,
{});AS3.setBindable(editor_BindDisablePlugin_119_5_$1,"forceReadOnlyValueExpression",this.forceReadOnly(config));editor_BindDisablePlugin_119_5_$1.bindTo=AS3.getBindable(config,"bindTo");config_$1.plugins=[editor_BindDisablePlugin_119_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$BHrr(config_$1)}return{extend:"com.coremedia.blueprint.base.components.quickcreate.QuickCreateToolbarButtonBase",alias:"widget.com.coremedia.blueprint.base.components.config.quickCreateToolbarButton",constructor:QuickCreateToolbarButton$,
super$BHrr:function(){com.coremedia.blueprint.base.components.quickcreate.QuickCreateToolbarButtonBase.prototype.constructor.apply(this,arguments)},config:{contentTypeExpression:null,bindTo:null,forceReadOnlyValueExpression:null,defaultNameExpression:null,sourceLinkListVE:null,contentType:null,propertyName:null,linkType:null,skipInitializers:false,openInTab:false,onSuccess:null,model:null,defaultProperties:null,processingDataFactory:null},requires:["com.coremedia.blueprint.base.components.quickcreate.QuickCreateToolbarButtonBase",
"com.coremedia.blueprint.base.components.quickcreate.QuickCreate_properties","com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin","com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil","com.coremedia.icons.CoreIcons_properties","net.jangaroo.ext.Exml"],uses:["com.coremedia.blueprint.base.components.quickcreate.OpenQuickCreateAction"]}});Ext.define("com.coremedia.blueprint.base.components.quickcreate.QuickCreateMenuItem",function(QuickCreateMenuItem){function QuickCreateMenuItem$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.base.components.quickcreate.QuickCreateMenuItemBase,{});var defaults_$1=AS3.cast(QuickCreateMenuItem,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.itemId=net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"contentType"));var bpb$components_OpenQuickCreateAction_84_5_$1=
AS3.cast(com.coremedia.blueprint.base.components.quickcreate.OpenQuickCreateAction,{});AS3.setBindable(bpb$components_OpenQuickCreateAction_84_5_$1,"text",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.localizeDocumentTypeName(AS3.getBindable(config,"contentType"))));AS3.setBindable(bpb$components_OpenQuickCreateAction_84_5_$1,"iconCls",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.getIconStyleClassForContentTypeName(AS3.getBindable(config,
"contentType"))));AS3.setBindable(bpb$components_OpenQuickCreateAction_84_5_$1,"contentType",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"contentType")));AS3.setBindable(bpb$components_OpenQuickCreateAction_84_5_$1,"defaultProperties",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"defaultProperties")));AS3.setBindable(bpb$components_OpenQuickCreateAction_84_5_$1,"model",AS3.getBindable(config,"model"));AS3.setBindable(bpb$components_OpenQuickCreateAction_84_5_$1,"bindTo",AS3.getBindable(config,
"bindTo"));AS3.setBindable(bpb$components_OpenQuickCreateAction_84_5_$1,"inheritEditors",AS3.getBindable(config,"inheritEditors"));AS3.setBindable(bpb$components_OpenQuickCreateAction_84_5_$1,"skipInitializers",AS3.getBindable(config,"skipInitializers"));AS3.setBindable(bpb$components_OpenQuickCreateAction_84_5_$1,"openInTab",AS3.getBindable(config,"openInTab"));AS3.setBindable(bpb$components_OpenQuickCreateAction_84_5_$1,"processingDataFactory",AS3.getBindable(config,"processingDataFactory"));AS3.setBindable(bpb$components_OpenQuickCreateAction_84_5_$1,
"onSuccess",AS3.getBindable(config,"onSuccess"));AS3.setBindable(bpb$components_OpenQuickCreateAction_84_5_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));AS3.setBindable(bpb$components_OpenQuickCreateAction_84_5_$1,"linkType",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"linkType")));AS3.setBindable(bpb$components_OpenQuickCreateAction_84_5_$1,"sourceLinkListVE",AS3.getBindable(config,"sourceLinkListVE"));config_$1.baseAction=new com.coremedia.blueprint.base.components.quickcreate.OpenQuickCreateAction(bpb$components_OpenQuickCreateAction_84_5_$1);
net.jangaroo.ext.Exml.apply(config_$1,config);this.super$1qKg(config_$1)}return{extend:"com.coremedia.blueprint.base.components.quickcreate.QuickCreateMenuItemBase",alias:"widget.com.coremedia.blueprint.base.components.config.quickCreateMenuItem",constructor:QuickCreateMenuItem$,super$1qKg:function(){com.coremedia.blueprint.base.components.quickcreate.QuickCreateMenuItemBase.prototype.constructor.apply(this,arguments)},config:{bindTo:null,sourceLinkListVE:null,contentType:null,propertyName:null,linkType:null,
onSuccess:null,model:null,defaultProperties:null,processingDataFactory:null,inheritEditors:false,skipInitializers:false,openInTab:false},requires:["com.coremedia.blueprint.base.components.quickcreate.QuickCreateMenuItemBase","com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil","net.jangaroo.ext.Exml"],uses:["com.coremedia.blueprint.base.components.quickcreate.OpenQuickCreateAction"]}});Ext.define("com.coremedia.blueprint.base.components.quickcreate.QuickCreate",function(QuickCreate){var iconClassMap$static;function iconClassMap$static_(){iconClassMap$static=com.coremedia.ui.data.beanFactory.createLocalBean()}function addQuickCreateDialogProperty$static(contentType,property,editorFactory,position){com.coremedia.blueprint.base.components.quickcreate.editors.QuickCreateEditorFactory.addEditor(contentType,property,editorFactory,position)}function addSuccessHandler$static(contentType,
onSuccess){com.coremedia.blueprint.base.components.quickcreate.processing.ProcessorFactory.addSuccessHandler(contentType,onSuccess)}function QuickCreate$(){}return{constructor:QuickCreate$,statics:{iconClassMap:undefined,addQuickCreateDialogProperty:addQuickCreateDialogProperty$static,addSuccessHandler:addSuccessHandler$static,__initStatics__:function(){iconClassMap$static_()}},requires:["com.coremedia.ui.data.beanFactory"],uses:["com.coremedia.blueprint.base.components.quickcreate.editors.QuickCreateEditorFactory",
"com.coremedia.blueprint.base.components.quickcreate.processing.ProcessorFactory"]}});Ext.define("com.coremedia.blueprint.base.components.quickcreate.QuickCreateDialog",function(QuickCreateDialog){function QuickCreateDialog$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.base.components.quickcreate.QuickCreateDialogBase,{});var defaults_$1=AS3.cast(QuickCreateDialog,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"title",this.createTitle(AS3.getBindable(config,"contentType"),AS3.getBindable(config,"contentTypeExpression")));
AS3.setBindable(config_$1,"width",430);AS3.setBindable(config_$1,"minWidth",430);config_$1.modal=false;config_$1.collapsible=false;config_$1.constrainHeader=true;AS3.setBindable(config_$1,"x",113);AS3.setBindable(config_$1,"y",84);config_$1.resizable=true;config_$1.draggable=true;config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.WindowSkin.GRID_200.getSkin());var panel_33_5_$1=AS3.cast(Ext.panel.Panel,{});panel_33_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.blueprint.base.components.quickcreate.QuickCreateDialogBase.EDITOR_CONTAINER_ITEM_ID);
panel_33_5_$1.items=[];var layout_VBox_37_9_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_37_9_$1,"align","stretch");AS3.setBindable(panel_33_5_$1,"layout",layout_VBox_37_9_$1);var labelable_40_9_$1=AS3.cast(Ext.form.Labelable,{});labelable_40_9_$1.labelSeparator="";labelable_40_9_$1.labelAlign="top";panel_33_5_$1["defaultType"]=labelable_40_9_$1["xtype"];delete labelable_40_9_$1["xtype"];delete labelable_40_9_$1["xclass"];panel_33_5_$1.defaults=labelable_40_9_$1;var ui_VerticalSpacingPlugin_44_9_$1=
AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});panel_33_5_$1.plugins=[ui_VerticalSpacingPlugin_44_9_$1];config_$1.items=[panel_33_5_$1];var layout_VBox_49_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_49_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_49_5_$1);var button_52_5_$1=AS3.cast(Ext.button.Button,{});button_52_5_$1.itemId="createBtn";button_52_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_PRIMARY.getSkin());
AS3.setBindable(button_52_5_$1,"scale","small");AS3.setBindable(button_52_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","CreateFolder_dialog_ok_button")));AS3.setBindable(button_52_5_$1,"handler",AS3.bind(this,"handleSubmit"));var ui_BindPropertyPlugin_58_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_58_9_$1.componentProperty="disabled";ui_BindPropertyPlugin_58_9_$1.bindTo=this.getDisabledExpression();
button_52_5_$1.plugins=[ui_BindPropertyPlugin_58_9_$1];var button_62_5_$1=AS3.cast(Ext.button.Button,{});button_62_5_$1.itemId="cancelBtn";button_62_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_SECONDARY.getSkin());AS3.setBindable(button_62_5_$1,"scale","small");AS3.setBindable(button_62_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","dialog_defaultCancelButton_text")));AS3.setBindable(button_62_5_$1,"handler",
AS3.bind(this,"close"));config_$1.buttons=[button_52_5_$1,button_62_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$zYjW(config_$1)}return{extend:"com.coremedia.blueprint.base.components.quickcreate.QuickCreateDialogBase",alias:"widget.com.coremedia.blueprint.base.components.config.quickCreateDialog",constructor:QuickCreateDialog$,super$zYjW:function(){com.coremedia.blueprint.base.components.quickcreate.QuickCreateDialogBase.prototype.constructor.apply(this,arguments)},requires:["Ext.button.Button",
"Ext.form.Labelable","Ext.layout.container.VBox","Ext.panel.Panel","com.coremedia.blueprint.base.components.quickcreate.QuickCreateDialogBase","com.coremedia.cms.editor.Editor_properties","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.VerticalSpacingPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.WindowSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.blueprint.base.components.quickcreate.QuickCreateLinklistMenuBase",function(QuickCreateLinklistMenuBase){function QuickCreateLinklistMenuBase$(config){if(arguments.length<=0)config=null;this.super$65YW(config);var contentTypesString=AS3.getBindable(config,"contentTypes")||this.resourceManager.getString("com.coremedia.blueprint.base.components.quickcreate.QuickCreateSettings","default_link_list_contentTypes");this.contentTypesArr$65YW=contentTypesString.split(",")}function afterRender(){com.coremedia.ui.components.IconButton.prototype.afterRender.call(this);
for(var i=0;i<this.contentTypesArr$65YW.length;i++){var name=this.contentTypesArr$65YW[i];var item=new com.coremedia.blueprint.base.components.quickcreate.QuickCreateMenuItem(AS3.cast(com.coremedia.blueprint.base.components.quickcreate.QuickCreateMenuItem,{contentType:name,bindTo:AS3.getBindable(this,"bindTo"),propertyName:AS3.getBindable(this,"propertyName"),defaultProperties:AS3.getBindable(this,"defaultProperties"),processingDataFactory:AS3.getBindable(this,"processingDataFactory"),skipInitializers:AS3.getBindable(this,
"skipInitializers"),openInTab:AS3.getBindable(this,"openInTab"),inheritEditors:AS3.getBindable(this,"inheritEditors"),linkType:AS3.getBindable(this,"linkType"),onSuccess:AS3.getBindable(this,"onSuccess"),sourceLinkListVE:AS3.getBindable(this,"sourceLinkListVE")}));AS3.getBindable(this,"menu","DUMMY").add(item)}}return{extend:"com.coremedia.ui.components.IconButton",contentTypesArr$65YW:null,constructor:QuickCreateLinklistMenuBase$,super$65YW:function(){com.coremedia.ui.components.IconButton.prototype.constructor.apply(this,
arguments)},afterRender:afterRender,config:{bindTo:null,defaultProperties:null,onSuccess:null,linkType:null,propertyName:null,contentTypes:null,processingDataFactory:null,openInTab:true,skipInitializers:false,inheritEditors:false,sourceLinkListVE:null},requires:["com.coremedia.blueprint.base.components.quickcreate.QuickCreateSettings_properties","com.coremedia.ui.components.IconButton"],uses:["com.coremedia.blueprint.base.components.quickcreate.QuickCreateMenuItem"]}});Ext.define("com.coremedia.blueprint.base.components.quickcreate.processing.ProcessorFactory",function(ProcessorFactory){function onSuccessHandlers$static_(){ProcessorFactory.onSuccessHandlers=com.coremedia.ui.data.beanFactory.createLocalBean()}function process$static(data,callback){resolvePath$static(data,function(path){com.coremedia.cms.editor.sdk.util.ContentCreationUtil.createRequiredSubfolders(path,function(result){if(result.success){AS3.trace("[INFO]","Quick create finished creation of path "+
path);data.set(com.coremedia.blueprint.base.components.quickcreate.processing.ProcessingData.FOLDER_PROPERTY,result.baseFolder);com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var folder=data.getFolder();if(AS3.is(folder,com.coremedia.cap.content.Content))return folder;if(AS3.is(folder,Function))return folder.call(null)}).loadValue(function(parent){com.coremedia.cms.editor.sdk.util.ContentCreationUtil.createContent(parent,false,data.doSkipInitializers(),data.getName(),data.getContentType(),
function(content){content.load(function(){data.setContent(content);executeDefaultProcessing$static(data);executeCustomPostProcessing$static(data,function(){executeOnSuccessCall$static(data,function(){AS3.trace("[INFO]","Quick create post processing finished, invoking callback with data: "+data);callback.call(null,data)})})})},ProcessorFactory.onError)})}},true)})}function onError$static(error){com.coremedia.ui.logging.Logger.error("Request failed: "+error.errorName+"/"+error.errorCode)}function resolvePath$static(data,
callback){AS3.trace("[INFO]","Quick create is resolving target path...");var path=AS3.as(data.get(com.coremedia.blueprint.base.components.quickcreate.processing.ProcessingData.FOLDER_PROPERTY),String);if(path)callback.call(null,path);else{var pathFunction=AS3.as(data.get(com.coremedia.blueprint.base.components.quickcreate.processing.ProcessingData.FOLDER_PROPERTY),Function);pathFunction.call(null,data,callback)}}function executeCustomPostProcessing$static(data,callback){var handlers=ProcessorFactory.onSuccessHandlers.get(data.getContentType().getName());
if(handlers&&handlers.length>0){var count=handlers.length;AS3.trace("[INFO]","Executing "+count+" success handler(s) for content type "+data.getContentType().getName());executeProcessorsSequential$static(0,data,handlers,callback)}else callback.call(null)}function executeProcessorsSequential$static(count,data,handlers,callback){if(count<handlers.length){AS3.trace("INFO","Finished sequential execution of post processor on position "+(count+1));executeSuccessHandler$static(handlers[count],data,function(){count++;
executeProcessorsSequential$static(count,data,handlers,callback)})}else callback.call(null)}function executeOnSuccessCall$static(data,callback){var handler=data.getOnSuccessCall();AS3.trace("[INFO]","Executing success handler");executeSuccessHandler$static(handler,data,callback)}function executeSuccessHandler$static(handler,data,callback){if(handler)handler.call(null,data.getContent(),data,function(){callback.call(null)});else callback.call(null)}function executeDefaultProcessing$static(data){var content=
data.getContent();var properties=mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.components.quickcreate.QuickCreateSettings","item_"+content.getType().getName());if(properties){var propertiesArray=properties.split(",");for(var i=0;i<propertiesArray.length;i++){var propertyName=propertiesArray[i];if(content.getType().getDescriptor(propertyName)){var value=data.get(propertyName);if(value)content.getProperties().set(propertyName,value)}else AS3.trace("[INFO]",'Skipped processing of "'+
propertyName+'": not a content property.')}}}function addSuccessHandler$static(contentType,onSuccess){var handlers=ProcessorFactory.onSuccessHandlers.get(contentType)||[];handlers.push(onSuccess);ProcessorFactory.onSuccessHandlers.set(contentType,handlers)}function ProcessorFactory$(){}return{constructor:ProcessorFactory$,statics:{onSuccessHandlers:undefined,process:process$static,onError:onError$static,addSuccessHandler:addSuccessHandler$static,__initStatics__:function(){onSuccessHandlers$static_()}},
requires:["AS3.trace","com.coremedia.blueprint.base.components.quickcreate.QuickCreateSettings_properties","com.coremedia.cap.content.Content","com.coremedia.cms.editor.sdk.util.ContentCreationUtil","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.beanFactory","com.coremedia.ui.logging.Logger","mx.resources.ResourceManager"],uses:["com.coremedia.blueprint.base.components.quickcreate.processing.ProcessingData"]}});Ext.define("com.coremedia.blueprint.base.components.quickcreate.processing.ProcessingData",function(ProcessingData){function additionalContent_(){this.additionalContent$9Yv7=[]}function ProcessingData$(){this.super$9Yv7();additionalContent_.call(this)}function getOnSuccessCall(){return this.get(ProcessingData.ON_SUCCESS)}function doSkipInitializers(){return this.get(ProcessingData.SKIP_INITIALIZERS)}function addAdditionalContent(c){if(this.additionalContent$9Yv7.indexOf(c)===-1)this.additionalContent$9Yv7.push(c)}
function getAdditionalContent(){return this.additionalContent$9Yv7}function setContentType(contentType){this.contentType$9Yv7=contentType}function getFolder(){return this.get(ProcessingData.FOLDER_PROPERTY)}function getName(){return this.get(ProcessingData.NAME_PROPERTY)}function setName(value){this.set(ProcessingData.NAME_PROPERTY,value)}function getContentType(){return com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getContentType(this.contentType$9Yv7)}function setContent(c){this.content$9Yv7=
c}function getContent(){return this.content$9Yv7}function toString(){var value="Processing Data: "+this.content$9Yv7+", skipInitializers:"+this.doSkipInitializers()+", additionalContent:"+this.additionalContent$9Yv7.length;return value}return{extend:"com.coremedia.ui.data.impl.BeanImpl",contentType$9Yv7:null,content$9Yv7:null,constructor:ProcessingData$,super$9Yv7:function(){com.coremedia.ui.data.impl.BeanImpl.prototype.constructor.apply(this,arguments)},getOnSuccessCall:getOnSuccessCall,doSkipInitializers:doSkipInitializers,
addAdditionalContent:addAdditionalContent,getAdditionalContent:getAdditionalContent,setContentType:setContentType,getFolder:getFolder,getName:getName,setName:setName,getContentType:getContentType,setContent:setContent,getContent:getContent,toString:toString,statics:{FOLDER_PROPERTY:"folder",NAME_PROPERTY:"name",SKIP_INITIALIZERS:"skipInitializers",ON_SUCCESS:"onSuccess",SITE_PROPERTY:"site"},requires:["com.coremedia.cap.common.SESSION","com.coremedia.ui.data.impl.BeanImpl"]}});Ext.define("com.coremedia.blueprint.base.components.quickcreate.AddQuickCreateLinklistMenuPlugin",function(AddQuickCreateLinklistMenuPlugin){function __initialize__(config){this.componentConfig$kDFZ=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyField,AS3.getBindable(config,"cmp","DUMMY").initialConfig)}function AddQuickCreateLinklistMenuPlugin$(config){if(arguments.length<=0)config=null;this.__initialize__$kDFZ(config);var config_$1=AS3.cast(com.coremedia.ui.plugins.NestedRulesPlugin,
{});var defaults_$1=AS3.cast(AddQuickCreateLinklistMenuPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var editor_LinkListPropertyFieldToolbar_24_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyFieldToolbar,{});var ui_AddItemsPlugin_26_9_$1=AS3.cast(com.coremedia.ui.plugins.AddItemsPlugin,{});var tbSeparator_28_13_$1=AS3.cast(Ext.toolbar.Separator,{});var bpb$components_QuickCreateLinklistMenu_29_13_$1=AS3.cast(com.coremedia.blueprint.base.components.quickcreate.QuickCreateLinklistMenu,
{});AS3.setBindable(bpb$components_QuickCreateLinklistMenu_29_13_$1,"bindTo",AS3.getBindable(this.componentConfig$kDFZ,"bindTo","DUMMY"));AS3.setBindable(bpb$components_QuickCreateLinklistMenu_29_13_$1,"forceReadOnlyValueExpression",AS3.getBindable(this.componentConfig$kDFZ,"forceReadOnlyValueExpression","DUMMY"));AS3.setBindable(bpb$components_QuickCreateLinklistMenu_29_13_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(this.componentConfig$kDFZ,"propertyName","DUMMY")));AS3.setBindable(bpb$components_QuickCreateLinklistMenu_29_13_$1,
"linkType",net.jangaroo.ext.Exml.asString(AS3.getBindable(this.componentConfig$kDFZ,"linkType","DUMMY")));AS3.setBindable(ui_AddItemsPlugin_26_9_$1,"items",[tbSeparator_28_13_$1,bpb$components_QuickCreateLinklistMenu_29_13_$1]);var component_35_13_$1=AS3.cast(Ext.Component,{});component_35_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyField.PASTE_BUTTON_ITEM_ID);AS3.setBindable(ui_AddItemsPlugin_26_9_$1,"after",[component_35_13_$1]);editor_LinkListPropertyFieldToolbar_24_5_$1.plugins=
[ui_AddItemsPlugin_26_9_$1];config_$1.rules=[editor_LinkListPropertyFieldToolbar_24_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$kDFZ(config_$1)}return{extend:"com.coremedia.ui.plugins.NestedRulesPlugin",componentConfig$kDFZ:null,__initialize__$kDFZ:__initialize__,constructor:AddQuickCreateLinklistMenuPlugin$,super$kDFZ:function(){com.coremedia.ui.plugins.NestedRulesPlugin.prototype.constructor.apply(this,arguments)},requires:["Ext.Component","Ext.toolbar.Separator","com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyField",
"com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyFieldToolbar","com.coremedia.ui.plugins.AddItemsPlugin","com.coremedia.ui.plugins.NestedRulesPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.blueprint.base.components.quickcreate.QuickCreateLinklistMenu"]}});Ext.define("com.coremedia.blueprint.base.components.quickcreate.editors.TextEditor",function(TextEditor){function TextEditor$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.ui.components.StatefulTextField,{});var defaults_$1=AS3.cast(TextEditor,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.name=net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName"));AS3.setBindable(config_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,
"label")));var ui_BindPropertyPlugin_27_5_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_27_5_$1.bidirectional=true;ui_BindPropertyPlugin_27_5_$1.skipIfUndefined=true;var ui_ValueExpression_29_9_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_29_9_$1,"context",AS3.getBindable(config,"model"));AS3.setBindable(ui_ValueExpression_29_9_$1,"expression",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));ui_BindPropertyPlugin_27_5_$1.bindTo=
new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_29_9_$1);var ui_BlockEnterPlugin_33_5_$1=AS3.cast(com.coremedia.ui.plugins.BlockEnterPlugin,{});config_$1.plugins=[ui_BindPropertyPlugin_27_5_$1,ui_BlockEnterPlugin_33_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Secp(config_$1)}return{extend:"com.coremedia.ui.components.StatefulTextField",alias:"widget.com.coremedia.blueprint.base.components.config.textEditor",constructor:TextEditor$,super$Secp:function(){com.coremedia.ui.components.StatefulTextField.prototype.constructor.apply(this,
arguments)},config:{model:null,propertyName:null,label:null},requires:["com.coremedia.ui.components.StatefulTextField","com.coremedia.ui.exml.ValueExpression","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.BlockEnterPlugin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.blueprint.base.components.quickcreate.editors.QuickCreateEditorFactory",function(QuickCreateEditorFactory){var editorRegistry$static;function editorRegistry$static_(){editorRegistry$static=com.coremedia.ui.data.beanFactory.createLocalBean()}var TEXT_EDITOR_BUFFER_TIME_MILLIS$static=10;function createEditor$static(bindTo,propertyName,data,callback,enterPressed){var contentTypeName=data.getContentType().getName();var editorLabel=com.coremedia.cms.editor.sdk.util.PropertyEditorUtil.getLocalizedString(contentTypeName,
propertyName,com.coremedia.cms.editor.sdk.util.PropertyEditorUtil.LABEL);var emptyTextLabel=com.coremedia.cms.editor.sdk.util.PropertyEditorUtil.getLocalizedString(contentTypeName,propertyName,com.coremedia.cms.editor.sdk.util.PropertyEditorUtil.EMPTY_TEXT);var properties={propertyName:propertyName,label:editorLabel,model:data,emptyText:emptyTextLabel,bindTo:bindTo};properties.siteExpression=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.blueprint.base.components.quickcreate.processing.ProcessingData.SITE_PROPERTY,
data);if(propertyName==com.coremedia.blueprint.base.components.quickcreate.processing.ProcessingData.NAME_PROPERTY){var textEditorConfig=AS3.cast(com.coremedia.blueprint.base.components.quickcreate.editors.TextEditor,properties);AS3.setBindable(textEditorConfig,"label",mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.components.quickcreate.QuickCreate","name_label"));AS3.setBindable(textEditorConfig,"emptyText",mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.components.quickcreate.QuickCreate",
"name_empty_text"));textEditorConfig.itemId=QuickCreateEditorFactory.NAME;textEditorConfig.allowBlank=false;textEditorConfig.checkChangeBuffer=TEXT_EDITOR_BUFFER_TIME_MILLIS$static;addEnterListener$static(textEditorConfig,enterPressed);var nameEditor=new com.coremedia.blueprint.base.components.quickcreate.editors.TextEditor(textEditorConfig);callback.call(null,nameEditor,propertyName)}else if(propertyName==com.coremedia.blueprint.base.components.quickcreate.processing.ProcessingData.FOLDER_PROPERTY){var folderVE=
com.coremedia.ui.data.ValueExpressionFactory.create(propertyName,data);var homeFolderExpression=getHomeFolderExpression$static(contentTypeName,bindTo);var folderComboConfig=AS3.cast(com.coremedia.cms.editor.sdk.foldercombo.FolderCombo,properties);AS3.setBindable(folderComboConfig,"emptyText",mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.foldercombo.FolderCombo","FolderCombo_emptyText"));AS3.setBindable(folderComboConfig,"contentType",contentTypeName);AS3.setBindable(folderComboConfig,
"folderPathsExpression",homeFolderExpression);AS3.setBindable(folderComboConfig,"bindTo",folderVE);folderComboConfig.allowBlank=false;var fc=new com.coremedia.cms.editor.sdk.foldercombo.FolderCombo(folderComboConfig);callback.call(null,fc,propertyName)}else if(isTextProperty$static(data)&&!isCustomEditor$static(contentTypeName,propertyName)){var config=AS3.cast(com.coremedia.blueprint.base.components.quickcreate.editors.TextEditor,properties);config.checkChangeBuffer=TEXT_EDITOR_BUFFER_TIME_MILLIS$static;
addEnterListener$static(config,enterPressed);callback.call(null,new com.coremedia.blueprint.base.components.quickcreate.editors.TextEditor(config),propertyName)}else if(isCustomEditor$static(contentTypeName,propertyName)){var factory=editorRegistry$static.get(contentTypeName+"_"+propertyName)||editorRegistry$static.get(propertyName);var editor=AS3.as(factory.call(null,data,properties,enterPressed),Ext.Component);callback.call(null,editor,propertyName)}else throw AS3.cast(AS3.Error,'No property editor found for dialog property "'+
propertyName+"', "+"maybe the property does not exists or it's type is not supported yet.");}function addEnterListener$static(config,enterPressed){config.listeners={specialkey:function(component,e){if(e.getKey()==Ext.event.Event.ENTER){e.stopEvent();component.el.blur();com.coremedia.ui.util.EventUtil.invokeLater(enterPressed)}}}}function getHomeFolderExpression$static(contentTypeName,bindTo){return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(name,bindTo){var site;if(bindTo){var content=
AS3.as(bindTo.getValue(),com.coremedia.cap.content.Content);if(content)site=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getSiteFor(content)}if(!site)site=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getPreferredSite();if(!site||!site.getSiteRootFolder())return undefined;var contentCreationSettings=site.getSiteRootFolder().getChild("Options/Settings/Content Creation");if(contentCreationSettings){if(!contentCreationSettings.isLoaded()){contentCreationSettings.load();
return undefined}var configurationStruct=contentCreationSettings.getProperties().get("settings");if(configurationStruct&&!configurationStruct.isLoaded()){configurationStruct.load();return undefined}var pathsStruct=configurationStruct.get("paths");if(pathsStruct&&pathsStruct.get(contentTypeName)){var pathContent=pathsStruct.get(contentTypeName);if(!pathContent.isLoaded()){pathContent.load();return undefined}return[pathContent.getPath()]}}var docTypeDefault=mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.components.quickcreate.QuickCreateSettings",
contentTypeName+"_home_folder");if(docTypeDefault){if(docTypeDefault.indexOf("/")===0)return[docTypeDefault];if(site)return[site.getSiteRootFolder().getPath()+"/"+docTypeDefault]}if(site)return[site.getSiteRootFolder().getPath()];return null},contentTypeName,bindTo)}function isCustomEditor$static(contentType,propertyName){var key=contentType+"_"+propertyName;if(editorRegistry$static.get(key)||editorRegistry$static.get(propertyName))return true;return false}function isTextProperty$static(data){var descriptors=
data.getContentType().getDescriptors();for(var i=0;i<descriptors.length;i++){var desc=descriptors[i];if(desc.type===com.coremedia.cap.common.CapPropertyDescriptorType.STRING)return true}return false}function addEditor$static(contentType,property,factoryMethod,position){var bundle=mx.resources.ResourceManager.getInstance().getResourceBundle(null,"com.coremedia.blueprint.base.components.quickcreate.QuickCreateSettings");if(!mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.components.quickcreate.QuickCreateSettings",
"item_"+contentType))bundle.content["item_"+contentType]=property;else{var properties=mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.components.quickcreate.QuickCreateSettings","item_"+contentType);var propertiesArray=properties.split(",");if(propertiesArray.indexOf(property)>=0)return;if(position===undefined||position<0)position=propertiesArray.length-1;propertiesArray.splice(position,0,property);bundle.content["item_"+contentType]=propertiesArray.join(",")}property=
contentType+"_"+property;editorRegistry$static.set(property,factoryMethod)}function QuickCreateEditorFactory$(){}return{constructor:QuickCreateEditorFactory$,statics:{NAME:"createContentNameField",editorRegistry:undefined,createEditor:createEditor$static,addEditor:addEditor$static,__initStatics__:function(){editorRegistry$static_()}},requires:["AS3.Error","Ext.Component","Ext.event.Event","com.coremedia.blueprint.base.components.quickcreate.QuickCreateSettings_properties","com.coremedia.blueprint.base.components.quickcreate.QuickCreate_properties",
"com.coremedia.cap.common.CapPropertyDescriptorType","com.coremedia.cap.content.Content","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.foldercombo.FolderCombo","com.coremedia.cms.editor.sdk.foldercombo.FolderCombo_properties","com.coremedia.cms.editor.sdk.util.PropertyEditorUtil","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.beanFactory","com.coremedia.ui.util.EventUtil","mx.resources.ResourceManager"],uses:["com.coremedia.blueprint.base.components.quickcreate.editors.TextEditor",
"com.coremedia.blueprint.base.components.quickcreate.processing.ProcessingData"]}});Ext.define("com.coremedia.blueprint.base.components.previewdate.PreviewDateSelectorButton",function(PreviewDateSelectorButton){function PreviewDateSelectorButton$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.base.components.previewdate.PreviewDateSelectorButtonBase,{});var defaults_$1=AS3.cast(PreviewDateSelectorButton,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"scale","medium");config_$1.enableToggle=true;config_$1.ui=
net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.WORKAREA.getSkin());AS3.setBindable(config_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","time")));AS3.setBindable(config_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.base.components.previewdate.PreviewDate","DateTimeSelector_tooltip")));AS3.setBindable(config_$1,"tooltip",this.resourceManager.getString("com.coremedia.blueprint.base.components.previewdate.PreviewDate",
"DateTimeSelector_tooltip"));var ui_OpenDialogAction_38_5_$1=AS3.cast(com.coremedia.ui.actions.OpenDialogAction,{});AS3.setBindable(ui_OpenDialogAction_38_5_$1,"useActionAsAnimationTarget",true);var bpb$components_PreviewDateSelectorDialog_40_9_$1=AS3.cast(com.coremedia.blueprint.base.components.previewdate.PreviewDateSelectorDialog,{});AS3.setBindable(bpb$components_PreviewDateSelectorDialog_40_9_$1,"previewPanel",AS3.getBindable(config,"previewPanel"));AS3.setBindable(bpb$components_PreviewDateSelectorDialog_40_9_$1,
"dateValueExpression",this.getDateExpression());AS3.setBindable(bpb$components_PreviewDateSelectorDialog_40_9_$1,"dummyValueExpression",this.getDummyExpression());AS3.setBindable(ui_OpenDialogAction_38_5_$1,"dialog",bpb$components_PreviewDateSelectorDialog_40_9_$1);config_$1.baseAction=new com.coremedia.ui.actions.OpenDialogAction(ui_OpenDialogAction_38_5_$1);var ui_BindPropertyPlugin_47_5_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_47_5_$1.componentProperty=
"disabled";ui_BindPropertyPlugin_47_5_$1.bindTo=com.coremedia.blueprint.base.components.previewdate.PreviewDateSelectorButtonBase.getDisabledValueExpression(AS3.getBindable(config,"previewPanel"));var editor_ReusabilityComponentStatePlugin_49_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.reusability.ReusabilityComponentStatePlugin,{});editor_ReusabilityComponentStatePlugin_49_5_$1.stateId=net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"itemId","DUMMY"));editor_ReusabilityComponentStatePlugin_49_5_$1.bindTo=
AS3.getBindable(AS3.getBindable(config,"previewPanel"),"bindTo","DUMMY");editor_ReusabilityComponentStatePlugin_49_5_$1.events=[com.coremedia.blueprint.base.components.previewdate.PreviewDateSelectorButtonBase.DATE_CHANGED_EVENT];editor_ReusabilityComponentStatePlugin_49_5_$1.applyStateFn=AS3.bind(this,"applyReusabilityState");editor_ReusabilityComponentStatePlugin_49_5_$1.saveStateFn=AS3.bind(this,"saveReusabilityState");config_$1.plugins=[ui_BindPropertyPlugin_47_5_$1,editor_ReusabilityComponentStatePlugin_49_5_$1];
net.jangaroo.ext.Exml.apply(config_$1,config);this.super$_1sZ(config_$1)}return{extend:"com.coremedia.blueprint.base.components.previewdate.PreviewDateSelectorButtonBase",alias:"widget.com.coremedia.blueprint.base.components.config.previewDateSelectorButton",constructor:PreviewDateSelectorButton$,super$_1sZ:function(){com.coremedia.blueprint.base.components.previewdate.PreviewDateSelectorButtonBase.prototype.constructor.apply(this,arguments)},config:{previewPanel:null},requires:["com.coremedia.blueprint.base.components.previewdate.PreviewDateSelectorButtonBase",
"com.coremedia.blueprint.base.components.previewdate.PreviewDate_properties","com.coremedia.cms.editor.sdk.desktop.reusability.ReusabilityComponentStatePlugin","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.actions.OpenDialogAction","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.skins.ButtonSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.blueprint.base.components.previewdate.PreviewDateSelectorDialog"]}});Ext.define("com.coremedia.blueprint.base.components.previewdate.PreviewDateSelectorBase",function(PreviewDateSelectorBase){function PreviewDateSelectorBase$(config){if(arguments.length<=0)config=null;this.super$WEM2(config);this.previewPanel$WEM2=AS3.getBindable(config,"previewPanel");this.dateValueExpression$WEM2=AS3.getBindable(config,"dateValueExpression");this.dateValueExpression$WEM2.addChangeListener(AS3.bind(this,"dateChanged$WEM2"))}function onDestroy(){Ext.container.Container.prototype.onDestroy.call(this);
this.dateValueExpression$WEM2.removeChangeListener(AS3.bind(this,"dateChanged$WEM2"))}function dateChanged(){var value=this.dateValueExpression$WEM2.getValue();var params=this.previewPanel$WEM2.getUrlParameterBean();if(value){var dateString=formatCalendar$static(value);params.set("previewDate",dateString)}else params.set("previewDate",null)}function formatCalendar$static(value){var date=value.getDateWithoutOffset();var format="d-m-Y H:i";var dateString=Ext.Date.format(date,format)+" "+value.getTimeZone();
return dateString}return{extend:"Ext.container.Container",previewPanel$WEM2:null,dateValueExpression$WEM2:null,constructor:PreviewDateSelectorBase$,super$WEM2:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},onDestroy:onDestroy,dateChanged$WEM2:dateChanged,requires:["Ext.Date","Ext.container.Container"]}});Ext.define("com.coremedia.blueprint.base.components.previewdate.PreviewDateSelectorDialogBase",function(PreviewDateSelectorDialogBase){function PreviewDateSelectorDialogBase$(config){if(arguments.length<=0)config=null;this.super$pEeg(config);this.previewPanel$pEeg=AS3.getBindable(config,"previewPanel");this.previewDateSelectorValidValueExpression=config.previewDateSelectorValidValueExpression}function okPressed(){this.reloadPreview$pEeg();this.hide()}function reloadPreview(){window.setTimeout(function(){var premular=
AS3.as(com.coremedia.cms.editor.sdk.editorContext.getWorkArea().getActiveTab(),Ext.panel.Panel);if(premular){var previewPanel=AS3.as(premular.queryById("previewPanel"),com.coremedia.cms.editor.sdk.preview.PreviewPanel);if(previewPanel)previewPanel.reloadFrame()}},300)}function close(){this.hide()}function getPreviewDateSelectorValidValueExpression(){if(!this.previewDateSelectorValidValueExpression)this.previewDateSelectorValidValueExpression=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(undefined);
return this.previewDateSelectorValidValueExpression}return{extend:"com.coremedia.cms.editor.sdk.components.StudioDialog",previewDateSelectorValidValueExpression:null,previewPanel$pEeg:null,constructor:PreviewDateSelectorDialogBase$,super$pEeg:function(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.constructor.apply(this,arguments)},okPressed:okPressed,reloadPreview$pEeg:reloadPreview,close:close,getPreviewDateSelectorValidValueExpression:getPreviewDateSelectorValidValueExpression,
requires:["Ext.panel.Panel","com.coremedia.cms.editor.sdk.components.StudioDialog","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.preview.PreviewPanel","com.coremedia.ui.data.ValueExpressionFactory"]}});Ext.define("com.coremedia.blueprint.base.components.previewdate.PreviewDateSelector",function(PreviewDateSelector){function __initialize__(config){this.model$briH=com.coremedia.ui.data.beanFactory.createLocalBean()}function getModel(){return this.model$briH}function PreviewDateSelector$(config){var this$=this;if(arguments.length<=0)config=null;this.__initialize__$briH(config);var config_$1=AS3.cast(com.coremedia.blueprint.base.components.previewdate.PreviewDateSelectorBase,{});var defaults_$1=AS3.cast(PreviewDateSelector,
{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var fx_Object_51_5_$1=Object({});fx_Object_51_5_$1.model=this.model$briH;fx_Object_51_5_$1.previewPanel=AS3.getBindable(config,"previewPanel");config_$1["defaultType"]=fx_Object_51_5_$1["xtype"];delete fx_Object_51_5_$1["xtype"];delete fx_Object_51_5_$1["xclass"];config_$1.defaults=fx_Object_51_5_$1;var editor_DateTimePropertyField_55_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.DateTimePropertyField,{});editor_DateTimePropertyField_55_5_$1.itemId=
net.jangaroo.ext.Exml.asString(PreviewDateSelector.DATE_TIME_FIELD_ITEM_ID);AS3.setBindable(editor_DateTimePropertyField_55_5_$1,"bindTo",AS3.getBindable(config,"dummyValueExpression"));AS3.setBindable(editor_DateTimePropertyField_55_5_$1,"propertyName","previewDate");editor_DateTimePropertyField_55_5_$1.expectNormalization=false;AS3.setBindable(editor_DateTimePropertyField_55_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.base.components.previewdate.PreviewDate",
"DateTimeSelector_description")));editor_DateTimePropertyField_55_5_$1.labelAlign="top";editor_DateTimePropertyField_55_5_$1.labelSeparator="";AS3.setBindable(editor_DateTimePropertyField_55_5_$1,"validValueExpression",AS3.getBindable(config,"dateTimePropertyFieldValidValueExpression"));var ui_HorizontalSpacingPlugin_68_9_$1=AS3.cast(com.coremedia.ui.plugins.HorizontalSpacingPlugin,{});AS3.setBindable(ui_HorizontalSpacingPlugin_68_9_$1,"modifier",com.coremedia.ui.bem.SpacingBEMEntities.HORIZONTAL_SPACING_MODIFIER_200);
editor_DateTimePropertyField_55_5_$1.plugins=[ui_HorizontalSpacingPlugin_68_9_$1];var object_71_9_$1={};object_71_9_$1.afterrender=function(labelable){var toolTipConfig=AS3.cast(Ext.tip.ToolTip,{});var toolTip=new Ext.tip.ToolTip(toolTipConfig);var toolTipText=this$.resourceManager.getString("com.coremedia.blueprint.base.components.previewdate.PreviewDate","DateTimeSelector_label_tooltip");toolTip.setTarget(labelable.labelEl);toolTip.mon(toolTip,"afterrender",function(){toolTip.update(toolTipText)})};
AS3.setBindable(editor_DateTimePropertyField_55_5_$1,"listeners",object_71_9_$1);config_$1.items=[editor_DateTimePropertyField_55_5_$1];var layout_HBox_83_5_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_83_5_$1,"align","start");AS3.setBindable(config_$1,"layout",layout_HBox_83_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$briH(config_$1)}return{extend:"com.coremedia.blueprint.base.components.previewdate.PreviewDateSelectorBase",alias:"widget.com.coremedia.blueprint.base.components.config.previewDateSelector",
model$briH:null,__initialize__$briH:__initialize__,getModel:getModel,constructor:PreviewDateSelector$,super$briH:function(){com.coremedia.blueprint.base.components.previewdate.PreviewDateSelectorBase.prototype.constructor.apply(this,arguments)},config:{dateValueExpression:null,dummyValueExpression:null,dateTimePropertyFieldValidValueExpression:null,previewPanel:null},statics:{DATE_TIME_FIELD_ITEM_ID:"dateTimeFieldItemId"},requires:["Ext.layout.container.HBox","Ext.tip.ToolTip","com.coremedia.blueprint.base.components.previewdate.PreviewDateSelectorBase",
"com.coremedia.cms.editor.sdk.premular.fields.DateTimePropertyField","com.coremedia.ui.bem.SpacingBEMEntities","com.coremedia.ui.data.beanFactory","com.coremedia.ui.plugins.HorizontalSpacingPlugin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.blueprint.base.components.previewdate.AddPreviewDateSelectorButtonPlugin",function(AddPreviewDateSelectorButtonPlugin){function AddPreviewDateSelectorButtonPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.ui.plugins.NestedRulesPlugin,{});var defaults_$1=AS3.cast(AddPreviewDateSelectorButtonPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var editor_PreviewPanelToolbar_28_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.preview.PreviewPanelToolbar,
{});var ui_AddItemsPlugin_30_9_$1=AS3.cast(com.coremedia.ui.plugins.AddItemsPlugin,{});var tbSeparator_32_13_$1=AS3.cast(Ext.toolbar.Separator,{});AS3.setBindable(tbSeparator_32_13_$1,"hidden",true);tbSeparator_32_13_$1.itemId=net.jangaroo.ext.Exml.asString(AddPreviewDateSelectorButtonPlugin.PREVIEW_TOOLBAR_SEP_FIRST_ITEM_ID);var bpb$components_PreviewDateSelectorButton_33_13_$1=AS3.cast(com.coremedia.blueprint.base.components.previewdate.PreviewDateSelectorButton,{});bpb$components_PreviewDateSelectorButton_33_13_$1.itemId=
"previewDateSelectorButton";AS3.setBindable(bpb$components_PreviewDateSelectorButton_33_13_$1,"previewPanel",AS3.cast(com.coremedia.cms.editor.sdk.preview.PreviewPanel,AS3.getBindable(config,"cmp","DUMMY")));var tbSeparator_35_13_$1=AS3.cast(Ext.toolbar.Separator,{});AS3.setBindable(tbSeparator_35_13_$1,"hidden",true);tbSeparator_35_13_$1.itemId=net.jangaroo.ext.Exml.asString(AddPreviewDateSelectorButtonPlugin.PREVIEW_TOOLBAR_SEP_SECOND_ITEM_ID);AS3.setBindable(ui_AddItemsPlugin_30_9_$1,"items",[tbSeparator_32_13_$1,
bpb$components_PreviewDateSelectorButton_33_13_$1,tbSeparator_35_13_$1]);editor_PreviewPanelToolbar_28_5_$1.plugins=[ui_AddItemsPlugin_30_9_$1];config_$1.rules=[editor_PreviewPanelToolbar_28_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$ngLT(config_$1)}return{extend:"com.coremedia.ui.plugins.NestedRulesPlugin",constructor:AddPreviewDateSelectorButtonPlugin$,super$ngLT:function(){com.coremedia.ui.plugins.NestedRulesPlugin.prototype.constructor.apply(this,arguments)},statics:{PREVIEW_TOOLBAR_SEP_FIRST_ITEM_ID:"previewToolbarSepFirst",
PREVIEW_TOOLBAR_SEP_SECOND_ITEM_ID:"previewToolbarSepSecond"},requires:["Ext.toolbar.Separator","com.coremedia.cms.editor.sdk.preview.PreviewPanel","com.coremedia.cms.editor.sdk.preview.PreviewPanelToolbar","com.coremedia.ui.plugins.AddItemsPlugin","com.coremedia.ui.plugins.NestedRulesPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.blueprint.base.components.previewdate.PreviewDateSelectorButton"]}});Ext.define("com.coremedia.blueprint.base.components.previewdate.PreviewDateSelectorDialog",function(PreviewDateSelectorDialog){function PreviewDateSelectorDialog$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.base.components.previewdate.PreviewDateSelectorDialogBase,{});var defaults_$1=AS3.cast(PreviewDateSelectorDialog,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.blueprint.base.components.previewdate.PreviewDate",
"DateTimeSelector_title"));AS3.setBindable(config_$1,"width",500);config_$1.stateId="previewDataSelectorDialogState";AS3.setBindable(config_$1,"stateful",true);config_$1.modal=true;config_$1.resizable=false;config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.WindowSkin.GRID_200.getSkin());config_$1.constrainHeader=true;var bpb$components_PreviewDateSelector_48_5_$1=AS3.cast(com.coremedia.blueprint.base.components.previewdate.PreviewDateSelector,{});bpb$components_PreviewDateSelector_48_5_$1.itemId=
"previewDateSelector";AS3.setBindable(bpb$components_PreviewDateSelector_48_5_$1,"previewPanel",AS3.getBindable(config,"previewPanel"));AS3.setBindable(bpb$components_PreviewDateSelector_48_5_$1,"dateValueExpression",AS3.getBindable(config,"dateValueExpression"));AS3.setBindable(bpb$components_PreviewDateSelector_48_5_$1,"dummyValueExpression",AS3.getBindable(config,"dummyValueExpression"));AS3.setBindable(bpb$components_PreviewDateSelector_48_5_$1,"dateTimePropertyFieldValidValueExpression",this.getPreviewDateSelectorValidValueExpression());
config_$1.items=[bpb$components_PreviewDateSelector_48_5_$1];var layout_Anchor_55_5_$1=AS3.cast(Ext.layout.container.Anchor,{});AS3.setBindable(config_$1,"layout",layout_Anchor_55_5_$1);var button_58_5_$1=AS3.cast(Ext.button.Button,{});button_58_5_$1.itemId="okBtn";button_58_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_PRIMARY.getSkin());AS3.setBindable(button_58_5_$1,"scale","small");AS3.setBindable(button_58_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"btn_ok")));AS3.setBindable(button_58_5_$1,"handler",AS3.bind(this,"okPressed"));var editor_BindDisablePlugin_64_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin,{});AS3.setBindable(editor_BindDisablePlugin_64_9_$1,"forceReadOnlyValueExpression",this.getPreviewDateSelectorValidValueExpression());editor_BindDisablePlugin_64_9_$1.transformer=function(value){return!value};button_58_5_$1.plugins=[editor_BindDisablePlugin_64_9_$1];config_$1.buttons=[button_58_5_$1];
net.jangaroo.ext.Exml.apply(config_$1,config);this.super$h$Ev(config_$1)}return{extend:"com.coremedia.blueprint.base.components.previewdate.PreviewDateSelectorDialogBase",alias:"widget.com.coremedia.blueprint.base.components.config.previewDateSelectorDialog",constructor:PreviewDateSelectorDialog$,super$h$Ev:function(){com.coremedia.blueprint.base.components.previewdate.PreviewDateSelectorDialogBase.prototype.constructor.apply(this,arguments)},config:{dateValueExpression:null,dummyValueExpression:null,
previewPanel:null},requires:["Ext.button.Button","Ext.layout.container.Anchor","com.coremedia.blueprint.base.components.previewdate.PreviewDateSelectorDialogBase","com.coremedia.blueprint.base.components.previewdate.PreviewDate_properties","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.WindowSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.blueprint.base.components.previewdate.PreviewDateSelector"]}});Ext.define("com.coremedia.blueprint.base.components.previewdate.PreviewDateSelectorButtonBase",function(PreviewDateSelectorButtonBase){function PreviewDateSelectorButtonBase$(config){if(arguments.length<=0)config=null;this.super$kWyK(config);this.initValidationStateMixin();this.getDateExpression().addChangeListener(AS3.bind(this,"dateChanged$kWyK"))}function dateChanged(){var date=AS3.as(this.getDateExpression().getValue(),com.coremedia.ui.data.Calendar);if(date){this.setPressed(true);AS3.setBindable(this,
"validationState",com.coremedia.ui.mixins.ValidationState.SUCCESS)}else{this.setPressed(false);AS3.setBindable(this,"validationState",null)}this.fireEvent(PreviewDateSelectorButtonBase.DATE_CHANGED_EVENT)}function getPreviewDateSelectorDialog(){return AS3.cast(com.coremedia.blueprint.base.components.previewdate.PreviewDateSelectorDialog,AS3.cast(com.coremedia.ui.actions.OpenDialogAction,this.baseAction).getDialog())}function getDummyExpression(){if(!this.dummyExpression$kWyK){var contentWrapperBean=
com.coremedia.ui.data.beanFactory.createLocalBean({properties:com.coremedia.ui.data.beanFactory.createLocalBean()});this.dummyExpression$kWyK=com.coremedia.ui.data.ValueExpressionFactory.create("",contentWrapperBean)}return this.dummyExpression$kWyK}function getDateExpression(){if(!this.dateExpression$kWyK){this.dateExpression$kWyK=this.getDummyExpression().extendBy("properties.previewDate");this.dateExpression$kWyK.setValue(null)}return this.dateExpression$kWyK}function getDisabledValueExpression$static(previewPanel){return com.coremedia.ui.data.ValueExpressionFactory.createTransformingValueExpression(AS3.getBindable(previewPanel,
"bindTo","DUMMY"),AS3.bind(Ext,"isEmpty"))}function applyReusabilityState(state){this.getDateExpression().setValue(state.date?state.date:null)}function saveReusabilityState(){return{date:this.getDateExpression().getValue()}}function onDestroy(){this.getDateExpression().removeChangeListener(AS3.bind(this,"dateChanged$kWyK"));com.coremedia.ui.components.IconButton.prototype.onDestroy.call(this)}return{extend:"com.coremedia.ui.components.IconButton",mixins:["com.coremedia.ui.mixins.ValidationStateMixin"],
dummyExpression$kWyK:null,dateExpression$kWyK:null,constructor:PreviewDateSelectorButtonBase$,super$kWyK:function(){com.coremedia.ui.components.IconButton.prototype.constructor.apply(this,arguments)},dateChanged$kWyK:dateChanged,getPreviewDateSelectorDialog:getPreviewDateSelectorDialog,getDummyExpression:getDummyExpression,getDateExpression:getDateExpression,applyReusabilityState:applyReusabilityState,saveReusabilityState:saveReusabilityState,onDestroy:onDestroy,statics:{DATE_CHANGED_EVENT:"dateChanged",
getDisabledValueExpression:getDisabledValueExpression$static},requires:["Ext","com.coremedia.ui.actions.OpenDialogAction","com.coremedia.ui.components.IconButton","com.coremedia.ui.data.Calendar","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.beanFactory","com.coremedia.ui.mixins.ValidationState","com.coremedia.ui.mixins.ValidationStateMixin"],uses:["com.coremedia.blueprint.base.components.previewdate.PreviewDateSelectorDialog"]}});Ext.define("com.coremedia.blueprint.base.components.navigationlink.PasteLinkActionBase",function(PasteLinkActionBase){function PasteLinkActionBase$(config){if(arguments.length<=0)config=null;AS3.setBindable(config,"handler",AS3.bind(this,"pasteFromClipboard$oUYW"));this.allowedDocTypes$oUYW=AS3.getBindable(config,"allowedDocTypes");this.super$oUYW(config);this.listExpression$oUYW=AS3.getBindable(config,"contentValueExpression");this.disabledExpression$oUYW=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,
"calculateDisabled$oUYW"));this.disabledExpression$oUYW.addChangeListener(AS3.bind(this,"updateDisabledStatus$oUYW"));com.coremedia.cms.editor.sdk.clipboard.Clipboard.getInstance().addValueChangeListener(AS3.bind(this,"updateDisabledStatus$oUYW"));this.updateDisabledStatus$oUYW()}function calculateDisabled(){var clipboard=com.coremedia.cms.editor.sdk.clipboard.Clipboard.getInstance();var contents=clipboard.getContents();return!contents||contents.length===0||this.isDisabledFor$oUYW(contents)}function getContents(){var value=
this.listExpression$oUYW.getValue();return AS3.is(value,com.coremedia.cap.content.Content)?[AS3.as(value,com.coremedia.cap.content.Content)]:AS3.is(value,Array)?AS3.as(value,Array):[]}function updateDisabledStatus(){var value=this.disabledExpression$oUYW.getValue();this.setDisabled(value===undefined||value)}function isDisabledFor(contents){for(var i=0;i<contents.length;i++){var content=contents[i];if(content.getType().isSubtypeOf(this.allowedDocTypes$oUYW)&&!content.isDeleted())return false}return true}
function pasteFromClipboard(){var clipboard=com.coremedia.cms.editor.sdk.clipboard.Clipboard.getInstance();var contentsToPaste=clipboard.getContents();this.listExpression$oUYW.setValue([contentsToPaste[0]])}function removeComponent(comp){Ext.Action.prototype.removeComponent.call(this,comp);if(this.items&&this.items.length===0){com.coremedia.cms.editor.sdk.clipboard.Clipboard.getInstance().removeValueChangeListener(AS3.bind(this,"updateDisabledStatus$oUYW"));this.disabledExpression$oUYW&&this.disabledExpression$oUYW.removeChangeListener(AS3.bind(this,
"updateDisabledStatus$oUYW"))}}return{extend:"Ext.Action",metadata:{"":["Deprecated",["since","1710.1","replacement","com.coremedia.cms.editor.sdk.actions.LinkListPasteAction"]]},listExpression$oUYW:null,disabledExpression$oUYW:null,allowedDocTypes$oUYW:null,constructor:PasteLinkActionBase$,super$oUYW:function(){Ext.Action.prototype.constructor.apply(this,arguments)},calculateDisabled$oUYW:calculateDisabled,getContents:getContents,updateDisabledStatus$oUYW:updateDisabledStatus,isDisabledFor$oUYW:isDisabledFor,
pasteFromClipboard$oUYW:pasteFromClipboard,removeComponent:removeComponent,requires:["Ext.Action","com.coremedia.cap.content.Content","com.coremedia.cms.editor.sdk.clipboard.Clipboard","com.coremedia.ui.data.ValueExpressionFactory"]}});Ext.define("com.coremedia.blueprint.base.components.navigationlink.NavigationLinkField",function(NavigationLinkField){function NavigationLinkField$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.base.components.navigationlink.NavigationLinkFieldBase,{});var defaults_$1=AS3.cast(NavigationLinkField,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"dropAreaHandler",AS3.bind(this,"openCollectionView"));AS3.setBindable(config_$1,
"selectedValuesExpression",this.getSelectedVE());AS3.setBindable(config_$1,"replaceOnDrop",true);AS3.setBindable(config_$1,"linkListWrapper",this.getLinkListWrapper(config));var ui_ContextMenuPlugin_34_5_$1=AS3.cast(com.coremedia.ui.plugins.ContextMenuPlugin,{});var editor_PropertyFieldContextMenu_36_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.PropertyFieldContextMenu,{});AS3.setBindable(editor_PropertyFieldContextMenu_36_9_$1,"selectedItemsVE",this.getSelectedVE());AS3.setBindable(ui_ContextMenuPlugin_34_5_$1,
"contextMenu",editor_PropertyFieldContextMenu_36_9_$1);config_$1.plugins=[ui_ContextMenuPlugin_34_5_$1];config_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var toolbar_41_5_$1=AS3.cast(Ext.toolbar.Toolbar,{});toolbar_41_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.FIELD);var ui_IconButton_43_9_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_43_9_$1.itemId="clearParentList";AS3.setBindable(ui_IconButton_43_9_$1,"handler",AS3.bind(this,"clearList"));
AS3.setBindable(ui_IconButton_43_9_$1,"disabled",true);AS3.setBindable(ui_IconButton_43_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_deleteSelectedLinks_icon")));AS3.setBindable(ui_IconButton_43_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.base.components.navigationlink.NavigationLinkField","delete_link_btn_tooltip_text")));AS3.setBindable(ui_IconButton_43_9_$1,
"tooltip",this.resourceManager.getString("com.coremedia.blueprint.base.components.navigationlink.NavigationLinkField","delete_link_btn_tooltip_text"));var ui_IconButton_49_9_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_49_9_$1.itemId="editParent";var editor_OpenInTabAction_51_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenInTabAction,{});AS3.setBindable(editor_OpenInTabAction_51_13_$1,"contentValueExpression",this.getListExpression(AS3.getBindable(config,"valueExpression")));
ui_IconButton_49_9_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.OpenInTabAction(editor_OpenInTabAction_51_13_$1);var tbSeparator_54_9_$1=AS3.cast(Ext.toolbar.Separator,{});var ui_IconButton_55_9_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_55_9_$1.itemId="copy";var actionRef_57_13_$1=AS3.cast(ext.ActionRef,{});actionRef_57_13_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.LinkListCopyAction.ACTION_ID);ui_IconButton_55_9_$1.baseAction=
actionRef_57_13_$1;var ui_IconButton_60_9_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_60_9_$1.itemId="paste";var actionRef_62_13_$1=AS3.cast(ext.ActionRef,{});actionRef_62_13_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.LinkListPasteAction.ACTION_ID);ui_IconButton_60_9_$1.baseAction=actionRef_62_13_$1;toolbar_41_5_$1.items=[ui_IconButton_43_9_$1,ui_IconButton_49_9_$1,tbSeparator_54_9_$1,ui_IconButton_55_9_$1,ui_IconButton_60_9_$1];config_$1.tbar=
toolbar_41_5_$1;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$SahO(config_$1)}return{extend:"com.coremedia.blueprint.base.components.navigationlink.NavigationLinkFieldBase",alias:"widget.com.coremedia.blueprint.base.components.config.navigationLinkField",constructor:NavigationLinkField$,super$SahO:function(){com.coremedia.blueprint.base.components.navigationlink.NavigationLinkFieldBase.prototype.constructor.apply(this,arguments)},requires:["Ext.toolbar.Separator","Ext.toolbar.Toolbar",
"com.coremedia.blueprint.base.components.navigationlink.NavigationLinkFieldBase","com.coremedia.blueprint.base.components.navigationlink.NavigationLinkField_properties","com.coremedia.cms.editor.sdk.actions.Actions_properties","com.coremedia.cms.editor.sdk.actions.LinkListCopyAction","com.coremedia.cms.editor.sdk.actions.LinkListPasteAction","com.coremedia.cms.editor.sdk.actions.OpenInTabAction","com.coremedia.cms.editor.sdk.premular.fields.PropertyFieldContextMenu","com.coremedia.ui.components.IconButton",
"com.coremedia.ui.plugins.ContextMenuPlugin","com.coremedia.ui.skins.ToolbarSkin","ext.ActionRef","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.blueprint.base.components.navigationlink.PasteLinkAction",function(PasteLinkAction){function PasteLinkAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.base.components.navigationlink.PasteLinkActionBase,{});var defaults_$1=AS3.cast(PasteLinkAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$gfql(config_$1)}return{extend:"com.coremedia.blueprint.base.components.navigationlink.PasteLinkActionBase",
metadata:{"":["Deprecated",["since","1710.1","replacement","com.coremedia.cms.editor.sdk.actions.LinkListPasteAction"]]},constructor:PasteLinkAction$,super$gfql:function(){com.coremedia.blueprint.base.components.navigationlink.PasteLinkActionBase.prototype.constructor.apply(this,arguments)},config:{contentValueExpression:null,allowedDocTypes:null},requires:["com.coremedia.blueprint.base.components.navigationlink.PasteLinkActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.blueprint.base.components.navigationlink.NavigationLinkFieldBase",function(NavigationLinkFieldBase){function NavigationLinkFieldBase$(config){if(arguments.length<=0)config=null;this.super$G9d9(config);AS3.getBindable(this,"valueExpression").addChangeListener(AS3.bind(this,"valueChanged$G9d9"))}function getLinkListWrapper(config){if(!this._linkListWrapper$G9d9){var wrapperCfg=AS3.cast(com.coremedia.cms.editor.sdk.util.MemoryLinkListWrapper,{});AS3.setBindable(wrapperCfg,"linksVE",
this.getListExpression(AS3.getBindable(config,"valueExpression")));AS3.setBindable(wrapperCfg,"linkTypeName",AS3.getBindable(config,"doctype"));AS3.setBindable(wrapperCfg,"maxCardinality",1);this._linkListWrapper$G9d9=new com.coremedia.cms.editor.sdk.util.MemoryLinkListWrapper(wrapperCfg)}return this._linkListWrapper$G9d9}function onDestroy(){AS3.getBindable(this,"valueExpression").removeChangeListener(AS3.bind(this,"valueChanged$G9d9"));com.coremedia.cms.editor.sdk.premular.fields.LinkListGridPanel.prototype.onDestroy.call(this)}
function valueChanged(){this.getTopToolbar().queryById("clearParentList").setDisabled(false);if(!this.listExpression$G9d9.getValue()||AS3.as(this.listExpression$G9d9.getValue(),Array).length===0)this.getTopToolbar().queryById("clearParentList").setDisabled(true)}function afterRender(){com.coremedia.cms.editor.sdk.premular.fields.LinkListGridPanel.prototype.afterRender.call(this);this.valueChanged$G9d9()}function openCollectionView(){var this$=this;this.computeBaseFolder$G9d9(function(baseFolder){com.coremedia.cms.editor.sdk.editorContext.getCollectionViewManager().openSearchForType(AS3.getBindable(this$,
"doctype"),null,baseFolder)})}function computeBaseFolder(callback){var preferredSite=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getPreferredSite();if(!preferredSite)callback(null);var navigationRootFolderVE=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var folder=com.coremedia.cms.editor.sdk.util.StudioConfigurationUtil.getConfiguration("Content Creation","paths.navigation");if(folder===undefined)return undefined;return folder});navigationRootFolderVE.loadValue(function(value){if(!value)callback(preferredSite.getSiteRootFolder());
value.load(function(){callback(value)})})}function clearList(){this.listExpression$G9d9.setValue([])}function getListExpression(valueExpression){if(!this.listExpression$G9d9){this.listExpression$G9d9=com.coremedia.ui.data.ValueExpressionFactory.create("items",com.coremedia.ui.data.beanFactory.createLocalBean());var list=[];var valueFromVE=valueExpression.getValue();if(valueFromVE)list.push(valueFromVE);this.listExpression$G9d9.setValue(list);this.listExpression$G9d9.addChangeListener(AS3.bind(this,
"listChanged$G9d9"))}return this.listExpression$G9d9}function listChanged(){var this$=this;if(this.listExpression$G9d9.getValue()&&AS3.as(this.listExpression$G9d9.getValue(),Array).length>0){var c=this.listExpression$G9d9.getValue()[0];c.invalidate(function(){if(!c.getType().isSubtypeOf(AS3.getBindable(this$,"doctype"))){this$.listExpression$G9d9.setValue([]);return}com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var site=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getSiteNameFor(c);
if(site===undefined)return undefined;return site}).loadValue(function(site){if(site!==com.coremedia.cms.editor.sdk.editorContext.getSitesService().getPreferredSiteName()){this$.showErrorMessageSite$G9d9(site);this$.listExpression$G9d9.setValue([]);return}if(c.isCheckedOutByOther())c.getEditor().load(function(){this$.showErrorMessageCheckedOut$G9d9(c);this$.listExpression$G9d9.setValue([])});else AS3.getBindable(this$,"valueExpression").setValue(c)})})}else AS3.getBindable(this,"valueExpression").setValue(null)}
function showErrorMessageSite(site){var msg=Ext.String.format(this.resourceManager.getString("com.coremedia.blueprint.base.components.navigationlink.NavigationLinkField","site_error_msg"),site,com.coremedia.cms.editor.sdk.editorContext.getSitesService().getPreferredSiteName());com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showError(this.resourceManager.getString("com.coremedia.blueprint.base.components.navigationlink.NavigationLinkField","layout_error"),msg)}function showErrorMessageCheckedOut(c){var msg=
Ext.String.format(this.resourceManager.getString("com.coremedia.blueprint.base.components.navigationlink.NavigationLinkField","layout_error_msg"),c.getEditor().getName());com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showError(this.resourceManager.getString("com.coremedia.blueprint.base.components.navigationlink.NavigationLinkField","layout_error"),msg)}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.LinkListGridPanel",listExpression$G9d9:null,_linkListWrapper$G9d9:null,constructor:NavigationLinkFieldBase$,
super$G9d9:function(){com.coremedia.cms.editor.sdk.premular.fields.LinkListGridPanel.prototype.constructor.apply(this,arguments)},getLinkListWrapper:getLinkListWrapper,onDestroy:onDestroy,valueChanged$G9d9:valueChanged,afterRender:afterRender,openCollectionView:openCollectionView,computeBaseFolder$G9d9:computeBaseFolder,clearList:clearList,getListExpression:getListExpression,listChanged$G9d9:listChanged,showErrorMessageSite$G9d9:showErrorMessageSite,showErrorMessageCheckedOut$G9d9:showErrorMessageCheckedOut,
config:{siteExpression:null,valueExpression:null,doctype:null},requires:["Ext.String","com.coremedia.blueprint.base.components.navigationlink.NavigationLinkField_properties","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.premular.fields.LinkListGridPanel","com.coremedia.cms.editor.sdk.util.MemoryLinkListWrapper","com.coremedia.cms.editor.sdk.util.MessageBoxUtil","com.coremedia.cms.editor.sdk.util.StudioConfigurationUtil","com.coremedia.ui.ckeditor.CKEditor_properties",
"com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.beanFactory"]}});Ext.define("com.coremedia.blueprint.base.components.navigationlink.NavigationLinkFieldWrapper",function(NavigationLinkFieldWrapper){function NavigationLinkFieldWrapper$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.form.FieldContainer,{});var defaults_$1=AS3.cast(NavigationLinkFieldWrapper,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"label")));config_$1.itemId="navigationGrid";
var local_NavigationLinkField_31_5_$1=AS3.cast(com.coremedia.blueprint.base.components.navigationlink.NavigationLinkField,{});AS3.setBindable(local_NavigationLinkField_31_5_$1,"doctype",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"doctype")));local_NavigationLinkField_31_5_$1.emptyText=net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"emptyText"));AS3.setBindable(local_NavigationLinkField_31_5_$1,"valueExpression",com.coremedia.ui.data.ValueExpressionFactory.create(AS3.getBindable(config,
"propertyName"),AS3.getBindable(config,"model")));AS3.setBindable(local_NavigationLinkField_31_5_$1,"siteExpression",AS3.getBindable(config,"siteExpression"));config_$1.items=[local_NavigationLinkField_31_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$bcwR(config_$1)}return{extend:"Ext.form.FieldContainer",alias:"widget.com.coremedia.blueprint.base.components.config.navigationLinkFieldWrapper",constructor:NavigationLinkFieldWrapper$,super$bcwR:function(){Ext.form.FieldContainer.prototype.constructor.apply(this,
arguments)},config:{model:null,siteExpression:null,propertyName:null,label:null,doctype:null,emptyText:null},requires:["Ext.form.FieldContainer","com.coremedia.ui.data.ValueExpressionFactory","net.jangaroo.ext.Exml"],uses:["com.coremedia.blueprint.base.components.navigationlink.NavigationLinkField"]}});Ext.define("com.coremedia.blueprint.base.components.timeline.Sequence",function(Sequence){function Sequence$(id,bindTo,propertyName){this.id$YLO2=id;this.bindTo$YLO2=bindTo;this.propertyName$YLO2=propertyName}function getSettingsStruct(){return AS3.as(this.bindTo$YLO2.extendBy(com.coremedia.cap.content.ContentPropertyNames.PROPERTIES).extendBy(this.propertyName$YLO2).getValue(),com.coremedia.cap.struct.Struct)}function getLinkedContentExpression(){if(!this.linkedContentExpression$YLO2)this.linkedContentExpression$YLO2=
this.bindTo$YLO2;return this.linkedContentExpression$YLO2}function getPositionExpression(){if(!this.positionExpression$YLO2){var structLinkPropertyName=this.propertyName$YLO2+"."+Sequence.SEQUENCES_PROPERTY_NAME+"."+this.id$YLO2;this.positionExpression$YLO2=this.bindTo$YLO2.extendBy(com.coremedia.cap.content.ContentPropertyNames.PROPERTIES).extendBy(structLinkPropertyName+"."+Sequence.POSITION_PROPERTY)}return this.positionExpression$YLO2}function getLinkContentPropertyName(){var structLinkPropertyName=
this.propertyName$YLO2+"."+Sequence.SEQUENCES_PROPERTY_NAME+"."+this.id$YLO2;return structLinkPropertyName+"."+Sequence.LINK_PROPERTY_NAME}function getStartTimeExpression(){if(!this.startTimeExpression$YLO2){var structLinkPropertyName=this.propertyName$YLO2+"."+Sequence.SEQUENCES_PROPERTY_NAME+"."+this.id$YLO2;this.startTimeExpression$YLO2=this.bindTo$YLO2.extendBy(com.coremedia.cap.content.ContentPropertyNames.PROPERTIES).extendBy(structLinkPropertyName+"."+Sequence.START_TIME_PROPERTY)}return this.startTimeExpression$YLO2}
function getIdExpression(){if(!this.idExpression$YLO2)this.idExpression$YLO2=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(this.id$YLO2);return this.idExpression$YLO2}return{linkedContentExpression$YLO2:null,startTimeExpression$YLO2:null,positionExpression$YLO2:null,idExpression$YLO2:null,id$YLO2:NaN,propertyName$YLO2:null,bindTo$YLO2:null,constructor:Sequence$,getSettingsStruct:getSettingsStruct,getLinkedContentExpression:getLinkedContentExpression,getPositionExpression:getPositionExpression,
getLinkContentPropertyName:getLinkContentPropertyName,getStartTimeExpression:getStartTimeExpression,getIdExpression:getIdExpression,statics:{DEFAULT_TARGET_PROPERTY_NAME:"defaultTarget",SEQUENCES_PROPERTY_NAME:"sequences",LINK_PROPERTY_NAME:"link",START_TIME_PROPERTY:"startTimeMillis",POSITION_PROPERTY:"position"},requires:["com.coremedia.cap.content.ContentPropertyNames","com.coremedia.cap.struct.Struct","com.coremedia.ui.data.ValueExpressionFactory"]}});Ext.define("com.coremedia.blueprint.base.components.timeline.TimelineEditorBase",function(TimelineEditorBase){function TimelineEditorBase$(config){if(arguments.length<=0)config=null;this.super$Wl80(config);this.initValidationStateMixin()}function removeSequence(sequence){var position=sequence.getPositionExpression().getValue();var settingsStruct=sequence.getSettingsStruct();settingsStruct.removeAt(com.coremedia.blueprint.base.components.timeline.Sequence.SEQUENCES_PROPERTY_NAME,sequence.getIdExpression().getValue());
var sequences=this.getSequencesVE(AS3.getBindable(this,"bindTo"),this.propertyName).getValue();for(var $1=0;$1<sequences.length;++$1){var s=sequences[$1];if(s.getPositionExpression().getValue()>position){var seqPos=s.getPositionExpression().getValue();seqPos--;s.getPositionExpression().setValue(seqPos)}}}function getSequencesVE(bindTo,propertyName){return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var sequences=[];var propertyVE=bindTo.extendBy(com.coremedia.cap.content.ContentPropertyNames.PROPERTIES+
"."+propertyName);var settingsStruct=propertyVE.getValue();if(settingsStruct===undefined)return undefined;var timelines=settingsStruct.get(com.coremedia.blueprint.base.components.timeline.Sequence.SEQUENCES_PROPERTY_NAME);if(timelines===undefined)return undefined;if(timelines)for(var i=0;i<timelines.length;i++){var sequence=new com.coremedia.blueprint.base.components.timeline.Sequence(i,bindTo,propertyName);sequences.push(sequence)}sequences.sort(function(s1,s2){return s1.getPositionExpression().getValue()-
s2.getPositionExpression().getValue()});return sequences})}function addSequence(){var propertyVE=AS3.getBindable(this,"bindTo").extendBy(com.coremedia.cap.content.ContentPropertyNames.PROPERTIES+"."+this.propertyName);var settingsStruct=propertyVE.getValue();var timelines=settingsStruct.get(com.coremedia.blueprint.base.components.timeline.Sequence.SEQUENCES_PROPERTY_NAME);if(!timelines){timelines=[];settingsStruct.getType().addStructListProperty(com.coremedia.blueprint.base.components.timeline.Sequence.SEQUENCES_PROPERTY_NAME)}var sequence=
{};sequence[com.coremedia.blueprint.base.components.timeline.Sequence.START_TIME_PROPERTY]=0;sequence[com.coremedia.blueprint.base.components.timeline.Sequence.POSITION_PROPERTY]=timelines.length;sequence[com.coremedia.blueprint.base.components.timeline.Sequence.LINK_PROPERTY_NAME]=null;sequence["$Struct"]=[com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorUtil.create({name:com.coremedia.blueprint.base.components.timeline.Sequence.LINK_PROPERTY_NAME,atomic:true,collection:false,minCardinality:1,
maxCardinality:1,type:com.coremedia.cap.common.CapPropertyDescriptorType.LINK,linkType:com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getContentType(AS3.getBindable(this,"linkType"))})];settingsStruct.addAt(com.coremedia.blueprint.base.components.timeline.Sequence.SEQUENCES_PROPERTY_NAME,timelines.length,sequence)}function getReorderEnabledVE(config){if(!this.reorderEnabledVE$Wl80){var readOnlyValueExpression=com.coremedia.cms.editor.sdk.util.PropertyEditorUtil.createReadOnlyValueExpression(AS3.getBindable(config,
"bindTo"),AS3.getBindable(config,"forceReadOnlyValueExpression"));this.reorderEnabledVE$Wl80=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){return readOnlyValueExpression.getValue()===false})}return this.reorderEnabledVE$Wl80}function dropHandler(dropIndex,dragItem){var draggableItem=AS3.as(dragItem,com.coremedia.ui.components.DraggableItem);var sequencePanel=AS3.as(draggableItem.getInnerCt(),com.coremedia.blueprint.base.components.timeline.SequencePanel);var droppedSequence=
AS3.getBindable(sequencePanel,"sequence");var dragIndex=droppedSequence.getPositionExpression().getValue();var sequences=this.getSequencesVE(AS3.getBindable(this,"bindTo"),this.propertyName).getValue();sequences.sort(function(s1,s2){return s1.getPositionExpression().getValue()-s2.getPositionExpression().getValue()});sequences.splice(dragIndex,1);sequences.splice(dropIndex,0,droppedSequence);for(var i=0;i<sequences.length;i++)sequences[i].getPositionExpression().setValue(i);return true}function getTemplateKey$static(mt){return mt.getIdExpression().getValue()}
function getShowEmptyTextExpression$static(bindTo,propertyName){return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var propertyVE=bindTo.extendBy(com.coremedia.cap.content.ContentPropertyNames.PROPERTIES+"."+propertyName);var settingsStruct=propertyVE.getValue();if(settingsStruct===undefined)return undefined;var timelines=settingsStruct.get(com.coremedia.blueprint.base.components.timeline.Sequence.SEQUENCES_PROPERTY_NAME);return!(timelines&&timelines.length>0)})}function openTimelineSearch(){if(!AS3.getBindable(this,
"searchType"))AS3.setBindable(this,"searchType",this.resourceManager.getString("com.coremedia.blueprint.base.components.timeline.Timeline","timeline_editor_default_linktype"));else if(AS3.getBindable(this,"searchType")==="CMLinkable")AS3.setBindable(this,"searchType",com.coremedia.cap.content.ContentTypeNames.DOCUMENT);TimelineEditorBase.openSearch(AS3.getBindable(this,"searchType"))}function openSearch$static(sType){var searchFolder=com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getRoot();
var site=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getPreferredSite();if(site)searchFolder=site.getSiteRootFolder();var collectionViewModel=AS3.cast(com.coremedia.cms.editor.sdk.EditorContextImpl,com.coremedia.cms.editor.sdk.editorContext).getCollectionViewModel();var state=new com.coremedia.cms.editor.sdk.collectionview.SearchState;state.contentType=sType;state.folder=searchFolder;collectionViewModel.setSearchState(true,com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants.LIST_VIEW,
state,searchFolder);com.coremedia.cms.editor.sdk.editorContext.getCollectionViewManager().openSearch(state,false,com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants.LIST_VIEW)}return{extend:"com.coremedia.ui.components.AdvancedFieldContainer",mixins:["com.coremedia.ui.mixins.ValidationStateMixin"],propertyName:null,reorderEnabledVE$Wl80:null,constructor:TimelineEditorBase$,super$Wl80:function(){com.coremedia.ui.components.AdvancedFieldContainer.prototype.constructor.apply(this,arguments)},
removeSequence:removeSequence,getSequencesVE:getSequencesVE,addSequence:addSequence,getReorderEnabledVE:getReorderEnabledVE,dropHandler:dropHandler,openTimelineSearch:openTimelineSearch,config:{bindTo:null,forceReadOnlyValueExpression:null,linkType:null,searchType:null},statics:{getTemplateKey:getTemplateKey$static,getShowEmptyTextExpression:getShowEmptyTextExpression$static,openSearch:openSearch$static},requires:["com.coremedia.blueprint.base.components.timeline.Timeline_properties","com.coremedia.cap.common.CapPropertyDescriptorType",
"com.coremedia.cap.common.SESSION","com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorUtil","com.coremedia.cap.content.ContentPropertyNames","com.coremedia.cap.content.ContentTypeNames","com.coremedia.cms.editor.sdk.EditorContextImpl","com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants","com.coremedia.cms.editor.sdk.collectionview.SearchState","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.util.PropertyEditorUtil","com.coremedia.ui.components.AdvancedFieldContainer",
"com.coremedia.ui.components.DraggableItem","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.mixins.ValidationStateMixin"],uses:["com.coremedia.blueprint.base.components.timeline.Sequence","com.coremedia.blueprint.base.components.timeline.SequencePanel"]}});Ext.define("com.coremedia.blueprint.base.components.timeline.TimelineEditor",function(TimelineEditor){function TimelineEditor$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.base.components.timeline.TimelineEditorBase,{});var defaults_$1=AS3.cast(TimelineEditor,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.itemId="timelineEditor";AS3.setBindable(config_$1,"searchType",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.base.components.timeline.Timeline",
"timeline_editor_default_linktype")));AS3.setBindable(config_$1,"linkType",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.base.components.timeline.Timeline","timeline_editor_default_linktype")));AS3.setBindable(config_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.base.components.timeline.Timeline","timeline_title")));config_$1.labelAlign="top";config_$1.labelSeparator="";AS3.setBindable(config_$1,"defaultField",
net.jangaroo.ext.Exml.asString(com.coremedia.ui.util.createComponentSelector().itemId(TimelineEditor.DRAGGABLE_ITEMS_CT_ITEM_ID).build()));config_$1.msgTarget="qtip";var editor_SetPropertyLabelPlugin_40_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin,{});editor_SetPropertyLabelPlugin_40_5_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(editor_SetPropertyLabelPlugin_40_5_$1,"propertyName",net.jangaroo.ext.Exml.asString(config.propertyName));var editor_PropertyFieldPlugin_42_5_$1=
AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin,{});AS3.setBindable(editor_PropertyFieldPlugin_42_5_$1,"propertyName",net.jangaroo.ext.Exml.asString(config.propertyName));var editor_ShowIssuesPlugin_43_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin,{});editor_ShowIssuesPlugin_43_5_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(editor_ShowIssuesPlugin_43_5_$1,"ifUndefined","");AS3.setBindable(editor_ShowIssuesPlugin_43_5_$1,"propertyName",net.jangaroo.ext.Exml.asString(config.propertyName));
AS3.setBindable(editor_ShowIssuesPlugin_43_5_$1,"hideIssues",false);config_$1.plugins=[editor_SetPropertyLabelPlugin_40_5_$1,editor_PropertyFieldPlugin_42_5_$1,editor_ShowIssuesPlugin_43_5_$1];var ui_DraggableItemsContainer_49_5_$1=AS3.cast(com.coremedia.ui.components.DraggableItemsContainer,{});ui_DraggableItemsContainer_49_5_$1.itemId=net.jangaroo.ext.Exml.asString(TimelineEditor.DRAGGABLE_ITEMS_CT_ITEM_ID);AS3.setBindable(ui_DraggableItemsContainer_49_5_$1,"itemsVE",this.getSequencesVE(AS3.getBindable(config,
"bindTo"),config.propertyName));AS3.setBindable(ui_DraggableItemsContainer_49_5_$1,"itemsConfigBeanParameterName","sequence");AS3.setBindable(ui_DraggableItemsContainer_49_5_$1,"itemsGetKey",com.coremedia.blueprint.base.components.timeline.TimelineEditorBase.getTemplateKey);AS3.setBindable(ui_DraggableItemsContainer_49_5_$1,"dropHandler",AS3.bind(this,"dropHandler"));AS3.setBindable(ui_DraggableItemsContainer_49_5_$1,"enabledVE",this.getReorderEnabledVE(config));AS3.setBindable(ui_DraggableItemsContainer_49_5_$1,
"margin","0 0 0 -12");var local_SequencePanel_57_9_$1=AS3.cast(com.coremedia.blueprint.base.components.timeline.SequencePanel,{});local_SequencePanel_57_9_$1.flex=1;AS3.setBindable(local_SequencePanel_57_9_$1,"linkType",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"linkType")));AS3.setBindable(local_SequencePanel_57_9_$1,"bindTo",AS3.getBindable(config,"bindTo"));AS3.setBindable(local_SequencePanel_57_9_$1,"openCollectionViewHandler",AS3.bind(this,"openTimelineSearch"));AS3.setBindable(local_SequencePanel_57_9_$1,
"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));AS3.setBindable(local_SequencePanel_57_9_$1,"propertyName",net.jangaroo.ext.Exml.asString(config.propertyName));AS3.setBindable(ui_DraggableItemsContainer_49_5_$1,"innerCtTemplate",local_SequencePanel_57_9_$1);var layout_VBox_65_9_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_65_9_$1,"align","stretch");AS3.setBindable(ui_DraggableItemsContainer_49_5_$1,"layout",layout_VBox_65_9_$1);var displayField_68_5_$1=
AS3.cast(Ext.form.field.Display,{});AS3.setBindable(displayField_68_5_$1,"value",this.resourceManager.getString("com.coremedia.blueprint.base.components.timeline.Timeline","timeline_emptyText"));var ui_BindVisibilityPlugin_71_9_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_71_9_$1.bindTo=com.coremedia.blueprint.base.components.timeline.TimelineEditorBase.getShowEmptyTextExpression(AS3.getBindable(config,"bindTo"),config.propertyName);displayField_68_5_$1.plugins=
[ui_BindVisibilityPlugin_71_9_$1];var toolbar_75_5_$1=AS3.cast(Ext.toolbar.Toolbar,{});toolbar_75_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.EMBEDDED_FOOTER.getSkin());var layout_HBox_77_9_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_77_9_$1,"pack","end");AS3.setBindable(toolbar_75_5_$1,"layout",layout_HBox_77_9_$1);var button_80_9_$1=AS3.cast(Ext.button.Button,{});AS3.setBindable(button_80_9_$1,"scale","medium");button_80_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.WORKAREA.getSkin());
AS3.setBindable(button_80_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.base.components.timeline.Timeline","timeline_add_sequence")));button_80_9_$1.itemId="addSequenceButton";AS3.setBindable(button_80_9_$1,"handler",AS3.bind(this,"addSequence"));var editor_BindDisablePlugin_86_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin,{});AS3.setBindable(editor_BindDisablePlugin_86_13_$1,"forceReadOnlyValueExpression",
AS3.getBindable(config,"forceReadOnlyValueExpression"));editor_BindDisablePlugin_86_13_$1.bindTo=AS3.getBindable(config,"bindTo");button_80_9_$1.plugins=[editor_BindDisablePlugin_86_13_$1];toolbar_75_5_$1.items=[button_80_9_$1];config_$1.items=[ui_DraggableItemsContainer_49_5_$1,displayField_68_5_$1,toolbar_75_5_$1];var layout_Anchor_94_5_$1=AS3.cast(Ext.layout.container.Anchor,{});layout_Anchor_94_5_$1.anchor="100%";AS3.setBindable(config_$1,"layout",layout_Anchor_94_5_$1);net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$7rQF(config_$1)}return{extend:"com.coremedia.blueprint.base.components.timeline.TimelineEditorBase",alias:"widget.com.coremedia.blueprint.base.components.config.timelineEditor",constructor:TimelineEditor$,super$7rQF:function(){com.coremedia.blueprint.base.components.timeline.TimelineEditorBase.prototype.constructor.apply(this,arguments)},config:{hideIssues:false},statics:{DRAGGABLE_ITEMS_CT_ITEM_ID:"draggableItemsContainer"},requires:["Ext.button.Button","Ext.form.field.Display",
"Ext.layout.container.Anchor","Ext.layout.container.HBox","Ext.layout.container.VBox","Ext.toolbar.Toolbar","com.coremedia.blueprint.base.components.timeline.TimelineEditorBase","com.coremedia.blueprint.base.components.timeline.Timeline_properties","com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin","com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin",
"com.coremedia.ui.components.DraggableItemsContainer","com.coremedia.ui.plugins.BindVisibilityPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.ToolbarSkin","com.coremedia.ui.util.createComponentSelector","net.jangaroo.ext.Exml"],uses:["com.coremedia.blueprint.base.components.timeline.SequencePanel"]}});Ext.define("com.coremedia.blueprint.base.components.timeline.SequencePanel",function(SequencePanel){function SequencePanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.panel.Panel,{});var defaults_$1=AS3.cast(SequencePanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.defaultFocus=net.jangaroo.ext.Exml.asString(com.coremedia.ui.util.createComponentSelector().itemId(SequencePanel.SEQUENCE_LINK_LIST_ITEM_ID).build());var ui_NestedRulesPlugin_65_5_$1=
AS3.cast(com.coremedia.ui.plugins.NestedRulesPlugin,{});var editor_LinkListPropertyFieldToolbar_67_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyFieldToolbar,{});var ui_AddItemsPlugin_69_13_$1=AS3.cast(com.coremedia.ui.plugins.AddItemsPlugin,{});var tbFill_71_17_$1=AS3.cast(Ext.toolbar.Fill,{});var ui_IconButton_72_17_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_72_17_$1.itemId="removeIntervalButton";ui_IconButton_72_17_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE_HIGHLIGHT.getSkin());
AS3.setBindable(ui_IconButton_72_17_$1,"handler",AS3.bind(this,"removePanel"));AS3.setBindable(ui_IconButton_72_17_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","remove_small")));AS3.setBindable(ui_IconButton_72_17_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.base.components.timeline.Timeline","timeline_sequence_remove_tooltip")));AS3.setBindable(ui_IconButton_72_17_$1,"tooltip",this.resourceManager.getString("com.coremedia.blueprint.base.components.timeline.Timeline",
"timeline_sequence_remove_tooltip"));var editor_BindDisablePlugin_79_21_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin,{});AS3.setBindable(editor_BindDisablePlugin_79_21_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));editor_BindDisablePlugin_79_21_$1.bindTo=AS3.getBindable(config,"bindTo");ui_IconButton_72_17_$1.plugins=[editor_BindDisablePlugin_79_21_$1];AS3.setBindable(ui_AddItemsPlugin_69_13_$1,"items",[tbFill_71_17_$1,
ui_IconButton_72_17_$1]);editor_LinkListPropertyFieldToolbar_67_9_$1.plugins=[ui_AddItemsPlugin_69_13_$1];ui_NestedRulesPlugin_65_5_$1.rules=[editor_LinkListPropertyFieldToolbar_67_9_$1];config_$1.plugins=[ui_NestedRulesPlugin_65_5_$1];config_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var panel_91_5_$1=AS3.cast(Ext.panel.Panel,{});var ui_VerticalSpacingPlugin_93_9_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});AS3.setBindable(ui_VerticalSpacingPlugin_93_9_$1,"modifier",com.coremedia.ui.bem.SpacingBEMEntities.VERTICAL_SPACING_MODIFIER_200);
panel_91_5_$1.plugins=[ui_VerticalSpacingPlugin_93_9_$1];var editor_LinkListPropertyField_96_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyField,{});AS3.setBindable(editor_LinkListPropertyField_96_9_$1,"linkType",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"linkType")||"CMTeasable"));AS3.setBindable(editor_LinkListPropertyField_96_9_$1,"openCollectionViewHandler",AS3.getBindable(config,"openCollectionViewHandler"));editor_LinkListPropertyField_96_9_$1.itemId=
net.jangaroo.ext.Exml.asString(SequencePanel.SEQUENCE_LINK_LIST_ITEM_ID);AS3.setBindable(editor_LinkListPropertyField_96_9_$1,"maxCardinality",1);AS3.setBindable(editor_LinkListPropertyField_96_9_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"sequence").getLinkContentPropertyName()));AS3.setBindable(editor_LinkListPropertyField_96_9_$1,"bindTo",AS3.getBindable(config,"sequence").getLinkedContentExpression());editor_LinkListPropertyField_96_9_$1.hideLabel=true;AS3.setBindable(editor_LinkListPropertyField_96_9_$1,
"showThumbnails",true);AS3.setBindable(editor_LinkListPropertyField_96_9_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));var editor_SearchContentLinkSuggester_106_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.util.SearchContentLinkSuggester,{});AS3.setBindable(editor_SearchContentLinkSuggester_106_13_$1,"contentValueExpression",AS3.getBindable(config,"bindTo"));AS3.setBindable(editor_SearchContentLinkSuggester_106_13_$1,"linkTypeName","CMProductTeaser");AS3.setBindable(editor_LinkListPropertyField_96_9_$1,
"linkSuggester",new com.coremedia.cms.editor.sdk.util.SearchContentLinkSuggester(editor_SearchContentLinkSuggester_106_13_$1));var panel_110_9_$1=AS3.cast(Ext.panel.Panel,{});var ui_HorizontalSpacingPlugin_112_13_$1=AS3.cast(com.coremedia.ui.plugins.HorizontalSpacingPlugin,{});AS3.setBindable(ui_HorizontalSpacingPlugin_112_13_$1,"modifier",com.coremedia.ui.bem.SpacingBEMEntities.HORIZONTAL_SPACING_MODIFIER_200);panel_110_9_$1.plugins=[ui_HorizontalSpacingPlugin_112_13_$1];var label_115_13_$1=AS3.cast(Ext.form.Label,
{});AS3.setBindable(label_115_13_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.base.components.timeline.Timeline","timeline_sequence_starttime")));var ui_StatefulNumberField_116_13_$1=AS3.cast(com.coremedia.ui.components.StatefulNumberField,{});AS3.setBindable(ui_StatefulNumberField_116_13_$1,"width",50);AS3.setBindable(ui_StatefulNumberField_116_13_$1,"minValue",0);ui_StatefulNumberField_116_13_$1.allowBlank=false;ui_StatefulNumberField_116_13_$1.itemId=
"startTimeNumberField";var ui_BindPropertyPlugin_121_17_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_121_17_$1.reverseTransformer=function(v){return v*1E3};ui_BindPropertyPlugin_121_17_$1.transformer=function(v){return v/1E3};ui_BindPropertyPlugin_121_17_$1.ifUndefined="0";ui_BindPropertyPlugin_121_17_$1.skipIfConsistent=false;ui_BindPropertyPlugin_121_17_$1.bindTo=AS3.getBindable(config,"sequence").getStartTimeExpression();ui_BindPropertyPlugin_121_17_$1.bidirectional=
true;var editor_BindDisablePlugin_127_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin,{});AS3.setBindable(editor_BindDisablePlugin_127_17_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));editor_BindDisablePlugin_127_17_$1.bindTo=AS3.getBindable(config,"bindTo");ui_StatefulNumberField_116_13_$1.plugins=[ui_BindPropertyPlugin_121_17_$1,editor_BindDisablePlugin_127_17_$1];var label_131_13_$1=AS3.cast(Ext.form.Label,{});AS3.setBindable(label_131_13_$1,
"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.base.components.timeline.Timeline","timeline_sequence_units")));panel_110_9_$1.items=[label_115_13_$1,ui_StatefulNumberField_116_13_$1,label_131_13_$1];var layout_HBox_134_13_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(panel_110_9_$1,"layout",layout_HBox_134_13_$1);panel_91_5_$1.items=[editor_LinkListPropertyField_96_9_$1,panel_110_9_$1];var layout_VBox_139_9_$1=AS3.cast(Ext.layout.container.VBox,
{});AS3.setBindable(layout_VBox_139_9_$1,"align","stretch");AS3.setBindable(panel_91_5_$1,"layout",layout_VBox_139_9_$1);config_$1.items=[panel_91_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$spKY(config_$1)}function removePanel(){this.getTimelineEditor$spKY().removeSequence(AS3.getBindable(this,"sequence"))}function getTimelineEditor(){return AS3.as(this.findParentByType(com.coremedia.blueprint.base.components.timeline.TimelineEditor.xtype),com.coremedia.blueprint.base.components.timeline.TimelineEditor)}
return{extend:"Ext.panel.Panel",alias:"widget.com.coremedia.blueprint.base.components.config.sequencePanel",constructor:SequencePanel$,super$spKY:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},removePanel:removePanel,getTimelineEditor$spKY:getTimelineEditor,config:{sequence:null,bindTo:null,forceReadOnlyValueExpression:null,linkType:null,maxCardinality:NaN,propertyName:null,openCollectionViewHandler:null},statics:{SEQUENCE_LINK_LIST_ITEM_ID:"sequenceLinkList"},requires:["Ext.form.Label",
"Ext.layout.container.HBox","Ext.layout.container.VBox","Ext.panel.Panel","Ext.toolbar.Fill","com.coremedia.blueprint.base.components.timeline.Timeline_properties","com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyField","com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyFieldToolbar","com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin","com.coremedia.cms.editor.sdk.util.SearchContentLinkSuggester","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.bem.SpacingBEMEntities",
"com.coremedia.ui.components.IconButton","com.coremedia.ui.components.StatefulNumberField","com.coremedia.ui.plugins.AddItemsPlugin","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.HorizontalSpacingPlugin","com.coremedia.ui.plugins.NestedRulesPlugin","com.coremedia.ui.plugins.VerticalSpacingPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.util.createComponentSelector","net.jangaroo.ext.Exml"],uses:["com.coremedia.blueprint.base.components.timeline.TimelineEditor"]}});Ext.define("com.coremedia.blueprint.base.components.sites.SiteAwareFeatureUtil",function(SiteAwareFeatureUtil){var STRINGLIST_PROPERTY_NAME$static="features";var STUDIO_FEATURES_BUNDLE_NAME$static="Studio Features";function SiteAwareFeatureUtil$(){throw new AS3.Error("utility class");}function createFeatureEnabledVE$static(bindTo,feature){return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var listOfFeatures;if(bindTo)listOfFeatures=com.coremedia.cms.editor.sdk.util.StudioConfigurationUtil.getConfiguration(STUDIO_FEATURES_BUNDLE_NAME$static,
STRINGLIST_PROPERTY_NAME$static,bindTo.getValue());else listOfFeatures=com.coremedia.cms.editor.sdk.util.StudioConfigurationUtil.getConfiguration(STUDIO_FEATURES_BUNDLE_NAME$static,STRINGLIST_PROPERTY_NAME$static);if(listOfFeatures===undefined)return undefined;return listOfFeatures!==null&&listOfFeatures.indexOf(feature)>-1})}function createFeatureDisabledVE$static(bindTo,feature){return com.coremedia.ui.data.ValueExpressionFactory.createTransformingValueExpression(SiteAwareFeatureUtil.createFeatureEnabledVE(bindTo,
feature),invertBoolean$static,invertBoolean$static)}function preLoadConfiguration$static(){var valueExpression=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var sites=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getSites();if(sites===undefined)return undefined;for(var $1=0;$1<sites.length;++$1){var site=sites[$1];var siteRootDocument=site.getSiteRootDocument();if(siteRootDocument===undefined)return undefined;var configuration=com.coremedia.cms.editor.sdk.util.StudioConfigurationUtil.getConfiguration(STUDIO_FEATURES_BUNDLE_NAME$static,
STRINGLIST_PROPERTY_NAME$static,siteRootDocument);if(configuration===undefined)return undefined}var globalConfiguration=com.coremedia.cms.editor.sdk.util.StudioConfigurationUtil.getConfiguration(STUDIO_FEATURES_BUNDLE_NAME$static,STRINGLIST_PROPERTY_NAME$static);if(globalConfiguration===undefined)return undefined;return true});valueExpression.loadValue(function(value){valueExpression=null})}function invertBoolean$static(b){return!b}return{constructor:SiteAwareFeatureUtil$,statics:{createFeatureEnabledVE:createFeatureEnabledVE$static,
createFeatureDisabledVE:createFeatureDisabledVE$static,preLoadConfiguration:preLoadConfiguration$static},requires:["AS3.Error","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.util.StudioConfigurationUtil","com.coremedia.ui.data.ValueExpressionFactory"]}});Ext.define("com.coremedia.blueprint.base.components.sites.SiteAwareFeatures",function(SiteAwareFeatures){function SiteAwareFeatures$(){this.super$HwL6()}return{extend:"com.coremedia.ui.util.Enum",super$HwL6:function(){com.coremedia.ui.util.Enum.prototype.constructor.apply(this,arguments)},constructor:SiteAwareFeatures$,statics:{EXTERNALLY_VISIBLE_DATE_FORM:"Externally Visible Date Form"},requires:["com.coremedia.ui.util.Enum"]}});Ext.define("com.coremedia.blueprint.base.components.sites.SiteAwareVisibilityPlugin",function(SiteAwareVisibilityPlugin){function SiteAwareVisibilityPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.base.components.sites.SiteAwareVisibilityPluginBase,{});var defaults_$1=AS3.cast(SiteAwareVisibilityPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.bindTo=this.getCalculateVisibilityValueExpression();net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$hb3k(config_$1)}return{extend:"com.coremedia.blueprint.base.components.sites.SiteAwareVisibilityPluginBase",constructor:SiteAwareVisibilityPlugin$,super$hb3k:function(){com.coremedia.blueprint.base.components.sites.SiteAwareVisibilityPluginBase.prototype.constructor.apply(this,arguments)},config:{feature:null,ifUndefined:false},requires:["com.coremedia.blueprint.base.components.sites.SiteAwareVisibilityPluginBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.blueprint.base.components.sites.SitesLocalizationUtil",function(SitesLocalizationUtil){function localizeSiteInfo$static(referenceContent){if(referenceContent===undefined)return undefined;if(referenceContent===null)return"";var site=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getSiteFor(referenceContent);var siteName=site?site.getName()+" - "+site.getLocale().getDisplayName():mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.components.sites.Sites",
"allSites");var localizedSiteInfo=Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.components.sites.Sites","forSiteText"),siteName);return localizedSiteInfo}function SitesLocalizationUtil$(){}return{constructor:SitesLocalizationUtil$,statics:{localizeSiteInfo:localizeSiteInfo$static},requires:["Ext.String","com.coremedia.blueprint.base.components.sites.Sites_properties","com.coremedia.cms.editor.sdk.editorContext","mx.resources.ResourceManager"]}});Ext.define("com.coremedia.blueprint.base.components.sites.SiteAwareVisibilityPluginBase",function(SiteAwareVisibilityPluginBase){function SiteAwareVisibilityPluginBase$(config){if(arguments.length<=0)config=null;this.super$FwJV(config);this.feature=AS3.getBindable(config,"feature");AS3.setBindable(this,"contentValueExpression",AS3.getBindable(config,"contentValueExpression"));this.ifUndefined=AS3.getBindable(config,"ifUndefined")}function getCalculateVisibilityValueExpression(){return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,
"calculateIsVisible"))}function calculateIsVisible(){var featureEnabledVE=com.coremedia.blueprint.base.components.sites.SiteAwareFeatureUtil.createFeatureEnabledVE(AS3.getBindable(this,"contentValueExpression"),this.feature);if(featureEnabledVE.getValue()===undefined)return this.ifUndefined||false;return featureEnabledVE.getValue()}return{extend:"com.coremedia.ui.plugins.BindVisibilityPlugin",feature:null,ifUndefined:false,constructor:SiteAwareVisibilityPluginBase$,super$FwJV:function(){com.coremedia.ui.plugins.BindVisibilityPlugin.prototype.constructor.apply(this,
arguments)},getCalculateVisibilityValueExpression:getCalculateVisibilityValueExpression,calculateIsVisible:calculateIsVisible,config:{contentValueExpression:null},requires:["com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.BindVisibilityPlugin"],uses:["com.coremedia.blueprint.base.components.sites.SiteAwareFeatureUtil"]}});Ext.define("com.coremedia.blueprint.base.components.util.UserUtil",function(UserUtil){var groups$static;function groups$static_(){groups$static=[]}var userName$static=null;var home$static=null;function init$static(){var user=com.coremedia.cap.common.SESSION.getUser();user.load(function(){userName$static=user.getName();home$static=user.getHomeFolder();home$static.load(function(){com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.cap.content.ContentPropertyNames.PATH,home$static).loadValue(function(){var groups=
user.getDirectGroups();for(var j=0;j<groups.length;j++){var directGroup=groups[j];loadGroup$static(directGroup)}})})})}function getHome$static(){return home$static}function loadGroup$static(group){group.load(function(){groups$static.push(group);var directGroups=group.getDirectGroups();directGroups.forEach(function(dGroup){loadGroup$static(dGroup)})})}function isInGroup$static(groupName,domainName){var name=groupName;var domain=domainName;if(groupName.indexOf("@")>0){name=groupName.substr(0,groupName.lastIndexOf("@"));
domain=groupName.substr(groupName.lastIndexOf("@")+1,groupName.length)}for(var i=0;i<groups$static.length;i++)if(groups$static[i].getName()===name){if(!domain)return true;if(groups$static[i].getDomain()===domain)return true}return false}function UserUtil$(){}return{constructor:UserUtil$,statics:{groups:undefined,init:init$static,getHome:getHome$static,isInGroup:isInGroup$static,__initStatics__:function(){groups$static_()}},requires:["com.coremedia.cap.common.SESSION","com.coremedia.cap.content.ContentPropertyNames",
"com.coremedia.ui.data.ValueExpressionFactory"]}});Ext.define("com.coremedia.blueprint.base.components.util.ContentLookupUtil",function(ContentLookupUtil){function findContentsOfTypeInPaths$static(paths,contentTypes,referenceContent){var result=[];var site=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getSiteFor(referenceContent);if(site===undefined)result=undefined;var contentRepository=com.coremedia.cms.editor.sdk.editorContext.getSession().getConnection().getContentRepository();var siteRootFolder=site&&site.getSiteRootFolder();for(var $2=
0;$2<paths.length;++$2){var path=paths[$2];var folder=contentRepository.getChild(path["trim"](),null,siteRootFolder);if(folder===undefined)result=undefined;else if(folder){var childDocuments=folder.getChildDocuments();if(childDocuments===undefined)result=undefined;else for(var $1=0;$1<childDocuments.length;++$1){var c=childDocuments[$1];var childContentType=c.getType();if(childContentType===undefined)result=undefined;else if(result&&contentTypes.indexOf(childContentType.getName())!==-1)result.push(c)}}}return result}
function ContentLookupUtil$(){}return{constructor:ContentLookupUtil$,statics:{findContentsOfTypeInPaths:findContentsOfTypeInPaths$static},requires:["com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.blueprint.base.components.BlueprintBaseComponentsStudioPlugin",function(BlueprintBaseComponentsStudioPlugin){function BlueprintBaseComponentsStudioPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.configuration.StudioPlugin,{});var defaults_$1=AS3.cast(BlueprintBaseComponentsStudioPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"rules",[]);var editor_CopyResourceBundleProperties_23_5_$1=
AS3.cast(com.coremedia.cms.editor.configuration.CopyResourceBundleProperties,{});AS3.setBindable(editor_CopyResourceBundleProperties_23_5_$1,"destination",mx.resources.ResourceManager.getInstance().getResourceBundle(null,"com.coremedia.cms.editor.sdk.validation.Validators"));AS3.setBindable(editor_CopyResourceBundleProperties_23_5_$1,"source",mx.resources.ResourceManager.getInstance().getResourceBundle(null,"com.coremedia.blueprint.base.components.Validation"));AS3.setBindable(config_$1,"configuration",
[new com.coremedia.cms.editor.configuration.CopyResourceBundleProperties(editor_CopyResourceBundleProperties_23_5_$1)]);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$wNNt(config_$1)}return{extend:"com.coremedia.cms.editor.configuration.StudioPlugin",alias:"widget.com.coremedia.blueprint.base.components.config.blueprintBaseComponentsStudioPlugin",constructor:BlueprintBaseComponentsStudioPlugin$,super$wNNt:function(){com.coremedia.cms.editor.configuration.StudioPlugin.prototype.constructor.apply(this,
arguments)},requires:["com.coremedia.blueprint.base.components.Validation_properties","com.coremedia.cms.editor.configuration.CopyResourceBundleProperties","com.coremedia.cms.editor.configuration.StudioPlugin","com.coremedia.cms.editor.sdk.validation.Validators_properties","mx.resources.ResourceManager","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.blueprint.base.components.localization.ContentLocalizationUtil",function(ContentLocalizationUtil){function getLocalizedContentSync$static(c){var folder=c.getParent();if(folder&&folder.getChildrenByName()){var name=c.getName();var locale=com.coremedia.cms.editor.sdk.util.LocaleUtil.getLocale();var locContent=folder.getChildrenByName()[name+"_"+locale];if(!locContent){var locFolder=folder.getChildrenByName()[locale];if(!locFolder)return c;else if(locFolder&&locFolder.getProperties()){if(locFolder.isFolder()){var locContentInFolder=
locFolder.getChildrenByName()[name];if(!locContentInFolder)return c;else if(locContentInFolder&&locContentInFolder.getProperties())return locContentInFolder;else return undefined}}else return undefined}else if(locContent&&locContent.getProperties())return locContent;else return undefined}else return undefined;return c}function localize$static(content,suffix,bundle,nameResolver,defaultResolver){switch(Math.max(arguments.length,3)){case 3:nameResolver=null;case 4:defaultResolver=null}if(content===undefined)return undefined;
var names=getNames$static(content,nameResolver);if(names===undefined)return undefined;var label=lookupAll$static(bundle,names,suffix);if(label)return label;if(defaultResolver){var defaultValue=defaultResolver(content);if(defaultValue===undefined)return undefined;if(defaultValue)return defaultValue}return names[0]}function getNames$static(content,nameResolver){var names=[];if(content===null)names.push("");else{var namesUndefined=false;if(nameResolver){var resolverName=nameResolver(content);if(resolverName===
undefined)namesUndefined=true;if(resolverName!==null)names.push(resolverName)}var name=com.coremedia.ui.util.ObjectUtils.getProperty(content,com.coremedia.cap.content.ContentPropertyNames.NAME);if(name===undefined)namesUndefined=true;else names.push(name);if(namesUndefined)names=undefined}return names}function lookupAll$static(bundle,names,suffix){for(var i=0;i<names.length;i++){var name=names[i];var label=lookup$static(bundle,name,suffix);if(label)return label}return null}function lookup$static(bundle,
resolverName,suffix){return bundle[resolverName.replace(/ /g,"")+suffix]}function ContentLocalizationUtil$(){}return{constructor:ContentLocalizationUtil$,statics:{getLocalizedContentSync:getLocalizedContentSync$static,localize:localize$static},requires:["com.coremedia.cap.content.ContentPropertyNames","com.coremedia.cms.editor.sdk.util.LocaleUtil","com.coremedia.ui.util.ObjectUtils"]}});Ext.define("com.coremedia.blueprint.base.components.timeline.Timeline_properties",{"timeline_editor_default_linktype":"CMTeasable","timeline_add_sequence":"Add Product","timeline_sequence_remove_tooltip":"Remove Product","timeline_sequence_starttime":"Show at","timeline_sequence_units":"seconds","timeline_emptyText":"No products assigned yet.","timeline_title":"Timeline"},function(){com.coremedia.blueprint.base.components.timeline.Timeline_properties.INSTANCE=new com.coremedia.blueprint.base.components.timeline.Timeline_properties});Ext.define("com.coremedia.blueprint.base.components.quickcreate.QuickCreate_properties",{"name_label":"Name","name_empty_text":"Enter name of content item.","parent_label":"Navigation Parent","dialog_title":"New {0}","quick_create_tooltip":"Create new content item","quick_create_missing_value":"This field must not be empty."},function(){com.coremedia.blueprint.base.components.quickcreate.QuickCreate_properties.INSTANCE=new com.coremedia.blueprint.base.components.quickcreate.QuickCreate_properties});Ext.define("com.coremedia.blueprint.base.components.quickcreate.QuickCreateSettings_properties",{"default_link_list_contentTypes":"CMArticle,CMTeaser,CMPicture,CMVideo,CMDownload,CMQueryList,CMCollection","default_properties":"name,folder","CMArticle_home_folder":"Editorial/Content","CMAudio_home_folder":"Editorial/Content","CMTeaser_home_folder":"Editorial/Content","CMSegment_home_folder":"/System/personalization/segments","CMPicture_home_folder":"Editorial/Content","CMProductTeaser_home_folder":"Editorial/Products",
"CMProductList_home_folder":"Editorial/Products","CMMarketingSpot_home_folder":"Navigation/e-Marketing Spots","CMExternalChannel_home_folder":"Navigation/Categories","CMSite_home_folder":"Editorial","CMChannel_home_folder":"Navigation","CMUserProfile_home_folder":"Options/Personalization/Profiles","CMSelectionRules_home_folder":"Editorial/Personalization","CMTaxonomy_home_folder":"/Settings/Taxonomies/Subject","CMLocTaxonomy_home_folder":"/Settings/Taxonomies/Location","CMVideo_home_folder":"Editorial/Content",
"CMImageMap_home_folder":"Editorial/Content","CMQueryList_home_folder":"Editorial/Content","CMCollection_home_folder":"Editorial/Content","CMGallery_home_folder":"Editorial/Content","CMP13NSearch_home_folder":"Editorial/Personalization","CMDownload_home_folder":"Editorial/Content"},function(){com.coremedia.blueprint.base.components.quickcreate.QuickCreateSettings_properties.INSTANCE=new com.coremedia.blueprint.base.components.quickcreate.QuickCreateSettings_properties});Ext.define("com.coremedia.blueprint.base.components.BlueprintComponents_properties",{"Context_reload_tooltip":"Reload contexts","ContextListPanel_list_header_site":"Site","ContextListPanel_list_header_name":"Name"},function(){com.coremedia.blueprint.base.components.BlueprintComponents_properties.INSTANCE=new com.coremedia.blueprint.base.components.BlueprintComponents_properties});Ext.define("com.coremedia.blueprint.base.components.sites.Sites_properties",{"forSiteText":"For the site: {0}","allSites":"all"},function(){com.coremedia.blueprint.base.components.sites.Sites_properties.INSTANCE=new com.coremedia.blueprint.base.components.sites.Sites_properties});Ext.define("com.coremedia.blueprint.base.components.pictures.imagemap.ImageMap_properties",{"ImageMap_action_source_content_type":"CMPicture","ImageMap_action_source_content_property":"data","ImageMap_action_target_folder":"Editorial/Content","ImageMap_action_target_content_type":"CMImageMap","ImageMap_action_target_property":"pictures","ImageMap_action_target_title_property":"title","ImageMap_action_target_title_teaser_property":"teaserTitle","ImageMap_action_failure_text":"Error","ImageMap_action_failure_msg":"Failed to create image map:",
"ImageMap_action_failure_exists":"An image map with name '{0}' already exists.","ImageMap_library_btn_text":"Create Image Map","ImageMap_library_btn_tooltip":"Create image map","ImageMap_dialog_new_image_map_title":"New Image Map","ImageMap_dialog_new_image_map_name_label":"Name","ImageMap_dialog_new_image_map_name":"New Image Map","ImageMap_dialog_new_image_map_empty_text":"Give the new image map a name","ImageMap_dialog_preview_label":"Chosen Picture for the New Image Map:"},function(){com.coremedia.blueprint.base.components.pictures.imagemap.ImageMap_properties.INSTANCE=
new com.coremedia.blueprint.base.components.pictures.imagemap.ImageMap_properties});Ext.define("com.coremedia.blueprint.base.components.pictures.spinner.Spinner_properties",{requires:["com.coremedia.icons.CoreIcons_properties"],"CreateSpinnerAction_failure_text":"Error","CreateSpinnerAction_failure_msg":"Failed to create 360° View:","CreateSpinnerAction_tooltip":"Create 360° View from selection","CreateSpinnerAction_failure_exists":"An 360� View with name '{0}' already exists.","CreateSpinnerAction_text":"Create 360° View","Spinner_dialog_new_spinner_title":"New 360° View","Spinner_dialog_new_spinner_name_label":"Name",
"Spinner_dialog_new_spinner_name":"New 360° View","Spinner_dialog_new_spinner_empty_text":"Give the new 360� View a name","Spinner_dialog_preview_label":"The following images will be part of the new 360° View","spinner_action_target_folder":"Editorial/360° View","spinner_action_target_content_type":"CMSpinner","spinner_action_target_property":"sequence","spinner_action_target_title_property":"title","spinner_action_target_title_teaser_property":"teaserTitle"},function(){this.prototype["CreateSpinnerAction_icon_cls"]=
com.coremedia.icons.CoreIcons_properties.INSTANCE.create_type_360_view;com.coremedia.blueprint.base.components.pictures.spinner.Spinner_properties.INSTANCE=new com.coremedia.blueprint.base.components.pictures.spinner.Spinner_properties});Ext.define("com.coremedia.blueprint.base.components.pictures.gallery.ImageGallery_properties",{"CreateImageGalleryAction_failure_text":"Error","CreateImageGalleryAction_failure_msg":"Failed to create image gallery:","CreateImageGalleryAction_tooltip":"Create image gallery from selection","CreateImageGalleryAction_failure_exists":"An image gallery with name '{0}' already exists.","CreateImageGalleryAction_text":"Create Image Gallery","ImageGalleryDialog_new_gallery":"New Gallery","ImageGalleryDialog_new_image_gallery":"Name",
"ImageGalleryDialog_new_image_gallery_empty_text":"Give the new gallery a name","ImageGalleryDialog_preview_label":"The following images will be part of the new gallery","image_gallery_action_target_folder":"Editorial/Galleries","image_gallery_action_target_content_type":"CMGallery","image_gallery_action_target_property":"items","image_gallery_action_target_title_property":"title","image_gallery_action_target_title_teaser_property":"teaserTitle","image_gallery_action_content_type":"CMPicture","image_gallery_action_preview_property":"data"},
function(){com.coremedia.blueprint.base.components.pictures.gallery.ImageGallery_properties.INSTANCE=new com.coremedia.blueprint.base.components.pictures.gallery.ImageGallery_properties});Ext.define("com.coremedia.blueprint.base.components.Validation_properties",{"Validator_sequence_target_not_set_text":"One or more product timelines are not linked to any content.","Validator_sequence_time_duplicate_text":"One or more product timelines have the same start time."},function(){com.coremedia.blueprint.base.components.Validation_properties.INSTANCE=new com.coremedia.blueprint.base.components.Validation_properties});Ext.define("com.coremedia.blueprint.base.components.previewhighlighting.PlacementHighlightButton_properties",{"PlacementHighlightButton_tooltip":"Highlight placements","PlacementHighlighting_emptyPlacement":"This placement is empty","PlacementHighlighting_notInLayout":'The current layout does not support a "(PLACEMENTNAME)" placement'},function(){com.coremedia.blueprint.base.components.previewhighlighting.PlacementHighlightButton_properties.INSTANCE=new com.coremedia.blueprint.base.components.previewhighlighting.PlacementHighlightButton_properties});Ext.define("com.coremedia.blueprint.base.components.viewtypes.Viewtypes_properties",{"_text":"Default","contentTypes":"CMViewtype","no_image":"No detailed image information available"},function(){com.coremedia.blueprint.base.components.viewtypes.Viewtypes_properties.INSTANCE=new com.coremedia.blueprint.base.components.viewtypes.Viewtypes_properties});Ext.define("com.coremedia.blueprint.base.components.navigationlink.NavigationLinkField_properties",{requires:["com.coremedia.icons.CoreIcons_properties"],"layout_error":"Invalid Page Selection","layout_error_msg":"The selected parent is currently edited by user '{0}'.","site_error_msg":"The content item belongs to site '{0}' but the active site is '{1}'. Please select a content item from the active site.","delete_link_btn_tooltip_text":"Delete","copy_link_btn_tooltip_text":"Copy","paste_link_btn_tooltip_text":"Paste"},
function(){this.prototype["copy_link_btn_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.copy;this.prototype["paste_link_btn_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.paste;com.coremedia.blueprint.base.components.navigationlink.NavigationLinkField_properties.INSTANCE=new com.coremedia.blueprint.base.components.navigationlink.NavigationLinkField_properties});Ext.define("com.coremedia.blueprint.base.components.previewdate.PreviewDate_properties",{"DateTimeSelector_tooltip":"Show preview for a specific time","DateTimeSelector_label_tooltip":"Shows the preview for the selected date and time.","DateTimeSelector_title":"Time Travel","DateTimeSelector_description":"Preview for this time"},function(){com.coremedia.blueprint.base.components.previewdate.PreviewDate_properties.INSTANCE=new com.coremedia.blueprint.base.components.previewdate.PreviewDate_properties});
//# sourceMappingURL=com.coremedia.blueprint.base__bpbase-studio-components.js.map
