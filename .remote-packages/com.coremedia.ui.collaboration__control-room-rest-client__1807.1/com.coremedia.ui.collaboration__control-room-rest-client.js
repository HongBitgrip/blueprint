Ext.define("com.coremedia.collaboration.controlroom.rest.WorkflowSetIssues",function(WorkflowSetIssues){function WorkflowSetIssues$(entity){this.super$BpVu(entity)}function equals(o){var that=AS3.as(o,WorkflowSetIssues);return that&&com.coremedia.ui.util.ObjectUtils.equal(this.getIssues(false),that.getIssues(false))}return{extend:"com.coremedia.ui.data.impl.LocalIssuesImpl",mixins:["com.coremedia.ui.util.WithEquals"],constructor:WorkflowSetIssues$,super$BpVu:function(){com.coremedia.ui.data.impl.LocalIssuesImpl.prototype.constructor.apply(this,
arguments)},equals:equals,statics:{ERROR_CODE_INTERNAL_ERROR:"internalError",INFO_CODE_EXTENDED_WORKFLOW:"extendedWorkflow",WARNING_CODE_EXTENDED_WORKFLOW_EXCEEDED:"limitforExtendedWorkflowExceeded",CODE_ASSIGNEES_NOT_AUTHORIZED:"assigneesNotAuthorized",ERROR_CODE_CHECKED_OUT_BY_OTHER:"documentCheckedOutByOther",ERROR_CODE_CONTENT_INVALID:"contentInvalid",ERROR_CODE_CONTENT_UNREMOVABLE_WITHDRAWAL:"contentUnremovableWithdrawal"},requires:["com.coremedia.ui.data.impl.LocalIssuesImpl","com.coremedia.ui.util.ObjectUtils",
"com.coremedia.ui.util.WithEquals"]}});Ext.define("com.coremedia.collaboration.controlroom.rest.CapListPropertyNames",function(CapListPropertyNames){function CapListPropertyNames$(){}return{constructor:CapListPropertyNames$,statics:{ID:"id",TYPE:"type",NAME:"name",ITEMS:"items",IS_PUBLIC:"public"}}});Ext.define("com.coremedia.collaboration.controlroom.rest.CapListImpl",function(CapListImpl){var CAPLIST_ID_PREFIX$static="coremedia:///cap/list/";function CapListImpl$(path,vars){var id=vars[com.coremedia.collaboration.controlroom.rest.CapListPropertyNames.ID];this.super$8g5B(path);this.setId(CAPLIST_ID_PREFIX$static+id)}function getId(){return this.get(com.coremedia.collaboration.controlroom.rest.CapListPropertyNames.ID)}function getType(){return this.get(com.coremedia.collaboration.controlroom.rest.CapListPropertyNames.TYPE)}
function getName(){return this.get(com.coremedia.collaboration.controlroom.rest.CapListPropertyNames.NAME)}function setName(name){var rsm=new com.coremedia.ui.data.impl.RemoteServiceMethod(this.getUriPath()+"/rename","POST",true);rsm.request({newName:name})}function getItems(){return this.get(com.coremedia.collaboration.controlroom.rest.CapListPropertyNames.ITEMS)}function removeItems(items,callback){if(arguments.length<=1)callback=null;var rsm=new com.coremedia.ui.data.impl.RemoteServiceMethod(this.getUriPath()+
"/remove","POST",true);rsm.request({items:items},callback,callback)}function removeDestroyedItems(callback){if(arguments.length<=0)callback=null;var rsm=new com.coremedia.ui.data.impl.RemoteServiceMethod(this.getUriPath()+"/removeDestroyed","POST",true);rsm.request(null,callback,callback)}function addItems(items,callback){if(arguments.length<=1)callback=null;var rsm=new com.coremedia.ui.data.impl.RemoteServiceMethod(this.getUriPath()+"/add","POST",true);rsm.request({items:items},callback,callback)}
function setItems(items,callback){if(arguments.length<=1)callback=null;var rsm=new com.coremedia.ui.data.impl.RemoteServiceMethod(this.getUriPath()+"/set","POST",true);rsm.request({items:items},callback,callback)}function share(members,isPublic,callback){switch(Math.max(arguments.length,1)){case 1:isPublic=true;case 2:callback=null}members=members||[];var rsm=new com.coremedia.ui.data.impl.RemoteServiceMethod(this.getUriPath()+"/share","POST",true);rsm.request({members:members,isPublic:isPublic},
callback,callback)}function unsubscribe(callback){if(arguments.length<=0)callback=null;var rsm=new com.coremedia.ui.data.impl.RemoteServiceMethod(this.getUriPath()+"/unsubscribe","POST",true);rsm.request(null,callback,callback)}function isPublic(){return this.get(com.coremedia.collaboration.controlroom.rest.CapListPropertyNames.IS_PUBLIC)}function setId(id){this.setImmediateProperty(com.coremedia.collaboration.controlroom.rest.CapListPropertyNames.ID,id)}function destroy(){var params=Array.prototype.slice.call(arguments);
var rsm=new com.coremedia.ui.data.impl.RemoteServiceMethod(this.getUriPath(),"DELETE",true);var callback=params[0];rsm.request(null,callback,callback)}return{extend:"com.coremedia.ui.data.impl.RemoteBeanImpl",mixins:["com.coremedia.collaboration.controlroom.rest.CapList"],metadata:{"":["RestResource",["uriTemplate","caplist/{id:[a-zA-Z0-9-]+}"]]},constructor:CapListImpl$,super$8g5B:function(){com.coremedia.ui.data.impl.RemoteBeanImpl.prototype.constructor.apply(this,arguments)},getId:getId,getType:getType,
getName:getName,setName:setName,getItems:getItems,removeItems:removeItems,removeDestroyedItems:removeDestroyedItems,addItems:addItems,setItems:setItems,share:share,unsubscribe:unsubscribe,isPublic:isPublic,setId:setId,destroy:destroy,requires:["com.coremedia.collaboration.controlroom.rest.CapList","com.coremedia.ui.data.impl.RemoteBeanImpl","com.coremedia.ui.data.impl.RemoteServiceMethod"],uses:["com.coremedia.collaboration.controlroom.rest.CapListPropertyNames"]}});Ext.define("com.coremedia.collaboration.controlroom.rest.CapListRepositoryImpl",function(CapListRepositoryImpl){function CapListRepositoryImpl$(path){this.super$hu7r(path);this.editedContentsFilterFnsVE$hu7r=com.coremedia.ui.data.ValueExpressionFactory.createFromValue([]);this.filteredEditedContentsVE$hu7r=this.getFilteredEditedContentsVE$hu7r()}function getFilteredEditedContentsVE(){var this$=this;return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var filteredEditedContents=
[];var editedContentsCapList=this$.getEditedContents();var editedContents=editedContentsCapList.get(com.coremedia.collaboration.controlroom.rest.CapListPropertyNames.ITEMS);editedContents&&editedContents.forEach(function(content){var filteredOut=this$.editedContentsFilterFnsVE$hu7r.getValue().some(function(filterFn){return filterFn(content)});if(!filteredOut)filteredEditedContents.push(content)});return filteredEditedContents})}function registerEditedContentsFilterFn(filterFn){var editedContentsFilterFns=
this.editedContentsFilterFnsVE$hu7r.getValue();if(editedContentsFilterFns.indexOf(filterFn)===-1){editedContentsFilterFns=editedContentsFilterFns.concat([filterFn]);this.editedContentsFilterFnsVE$hu7r.setValue(editedContentsFilterFns)}}function getInstance$static(){if(undefined===CapListRepositoryImpl["INSTANCE"]){var connectionImpl=com.coremedia.cap.common.impl.CapConnectionImpl.getInstance();var capListRepository=connectionImpl.get("capListRepository");if(capListRepository&&!AS3.is(capListRepository,
com.coremedia.collaboration.controlroom.rest.CapListRepository)){com.coremedia.ui.data.beanFactory.dispose(capListRepository);AS3.cast(com.coremedia.ui.data.impl.BeanFactoryImpl,com.coremedia.ui.data.beanFactory).registerRemoteBeanClass(CapListRepositoryImpl);capListRepository=com.coremedia.ui.data.beanFactory.getRemoteBean(capListRepository.getUriPath())}CapListRepositoryImpl["INSTANCE"]=capListRepository}return CapListRepositoryImpl["INSTANCE"]}function getUserSpecificCapList$static(key){var capListRepository=
CapListRepositoryImpl.getInstance();var numericId=com.coremedia.cap.common.SESSION.getUser().get("numericId");return com.coremedia.ui.data.beanFactory.getRemoteBean(capListRepository.getUriPath()+"/"+key+"-"+numericId)}function getCapListRemoteServiceMethod$static(method,writeJson){switch(arguments.length){case 0:method="GET";case 1:writeJson=false}return new com.coremedia.ui.data.impl.RemoteServiceMethod(CapListRepositoryImpl.getInstance().getUriPath(),method,writeJson)}function getEditedContents(){var capList=
AS3.cast(com.coremedia.collaboration.controlroom.rest.CapList,CapListRepositoryImpl.getUserSpecificCapList("EditedContents"));capList.getItems=AS3.bind(this,"getEditedContentsItems$hu7r");return capList}function getEditedContentsItems(){return this.filteredEditedContentsVE$hu7r.getValue()}function getContentSetList(){return AS3.cast(com.coremedia.collaboration.controlroom.rest.CapList,CapListRepositoryImpl.getUserSpecificCapList("ContentSetList"))}function getCompletedProcesses(){return AS3.cast(com.coremedia.collaboration.controlroom.rest.CapList,
CapListRepositoryImpl.getUserSpecificCapList("CompletedProcesses"))}function getPendingProcesses(){return AS3.cast(com.coremedia.collaboration.controlroom.rest.CapList,CapListRepositoryImpl.getUserSpecificCapList("PendingProcesses"))}function createContentSet(name,contents,callback){if(arguments.length<=2)callback=null;this.createCapList$hu7r({type:"ContentSet",name:name,items:contents},callback)}function createWorkflowSet(name,contents,callback){if(arguments.length<=2)callback=null;this.createCapList$hu7r({type:"WorkflowSet",
name:name,items:contents},callback)}function createCapList(params,callback){if(arguments.length<=1)callback=null;var createCapListMethod=CapListRepositoryImpl.getCapListRemoteServiceMethod("POST",true);createCapListMethod.request(params,function(rsmr){var capList=AS3.as(com.coremedia.ui.data.impl.BeanFactoryImpl.resolveBeans(Ext.JSON.decode(rsmr.response.responseText)),com.coremedia.collaboration.controlroom.rest.CapList);capList.load(function(){callback(capList)})},callback)}function deleteContentSets(capLists,
callback){if(arguments.length<=1)callback=null;this.deleteCapLists$hu7r({capLists:capLists},callback)}function deletePublicationSet(capList,callback){if(arguments.length<=1)callback=null;this.deleteCapLists$hu7r({capLists:new Array(capList)},callback)}function deleteCapLists(capLists,callback){if(arguments.length<=1)callback=null;var deleteCapListsMethod=CapListRepositoryImpl.getCapListRemoteServiceMethod("DELETE",true);deleteCapListsMethod.request(capLists,callback?callback:Ext.emptyFn,callback?
callback:Ext.emptyFn)}function shareContentSets(contentSets,members,isPublic,callback){switch(Math.max(arguments.length,2)){case 2:isPublic=true;case 3:callback=null}members=members||[];var latch=new com.coremedia.ui.util.ExecuteEventually(callback);contentSets.forEach(function(capList){capList.share(members,isPublic,latch.delay())});latch.proceed()}function addSharedContentSets(capLists,callback){if(arguments.length<=1)callback=null;var addSharedContentSetsMethod=new com.coremedia.ui.data.impl.RemoteServiceMethod(this.getContentSetList().getUriPath()+
"/add","POST",true);addSharedContentSetsMethod.request({items:capLists},callback?callback:Ext.emptyFn,callback?callback:Ext.emptyFn)}return{extend:"com.coremedia.ui.data.impl.RemoteBeanImpl",mixins:["com.coremedia.collaboration.controlroom.rest.CapListRepository"],metadata:{"":["RestResource",["uriTemplate","caplist"]]},editedContentsFilterFnsVE$hu7r:null,filteredEditedContentsVE$hu7r:null,constructor:CapListRepositoryImpl$,super$hu7r:function(){com.coremedia.ui.data.impl.RemoteBeanImpl.prototype.constructor.apply(this,
arguments)},getFilteredEditedContentsVE$hu7r:getFilteredEditedContentsVE,registerEditedContentsFilterFn:registerEditedContentsFilterFn,getEditedContents:getEditedContents,getEditedContentsItems$hu7r:getEditedContentsItems,getContentSetList:getContentSetList,getCompletedProcesses:getCompletedProcesses,getPendingProcesses:getPendingProcesses,createContentSet:createContentSet,createWorkflowSet:createWorkflowSet,createCapList$hu7r:createCapList,deleteContentSets:deleteContentSets,deletePublicationSet:deletePublicationSet,
deleteCapLists$hu7r:deleteCapLists,shareContentSets:shareContentSets,addSharedContentSets:addSharedContentSets,statics:{getInstance:getInstance$static,getUserSpecificCapList:getUserSpecificCapList$static,getCapListRemoteServiceMethod:getCapListRemoteServiceMethod$static},requires:["Ext","Ext.JSON","com.coremedia.cap.common.SESSION","com.coremedia.cap.common.impl.CapConnectionImpl","com.coremedia.collaboration.controlroom.rest.CapListRepository","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.beanFactory",
"com.coremedia.ui.data.impl.BeanFactoryImpl","com.coremedia.ui.data.impl.RemoteBeanImpl","com.coremedia.ui.data.impl.RemoteServiceMethod","com.coremedia.ui.util.ExecuteEventually"],uses:["com.coremedia.collaboration.controlroom.rest.CapList","com.coremedia.collaboration.controlroom.rest.CapListPropertyNames"]}});Ext.define("com.coremedia.collaboration.controlroom.rest.CapList",function(CapList){return{mixins:["com.coremedia.ui.data.RemoteBean"],requires:["com.coremedia.ui.data.RemoteBean"]}});Ext.define("com.coremedia.collaboration.controlroom.rest.TranslationSetIssuesService",function(TranslationSetIssuesService){function loadTranslationSetIssues$static(changeSet,assignedSites,validationCode,callback){if(arguments.length<=3)callback=null;var requestParameters={changeSet:changeSet,assignedSites:assignedSites,validationCode:validationCode};var rsm=new com.coremedia.ui.data.impl.RemoteServiceMethod("translationSetIssues","POST",true,false,null,true);rsm.request(requestParameters,function(rsmr){var remoteIssues=
com.coremedia.ui.data.impl.RemoteService.resolveResponse(rsmr.response.responseText,"");var translationSetIssues=new com.coremedia.collaboration.controlroom.rest.WorkflowSetIssues(null);if(remoteIssues&&remoteIssues["global"]){var remoteIssueArray=remoteIssues["global"];remoteIssueArray.forEach(function(issue){translationSetIssues.addFromIssue(issue)})}if(callback)callback(translationSetIssues)})}function TranslationSetIssuesService$(){}return{constructor:TranslationSetIssuesService$,statics:{loadTranslationSetIssues:loadTranslationSetIssues$static},
requires:["com.coremedia.ui.data.impl.RemoteService","com.coremedia.ui.data.impl.RemoteServiceMethod"],uses:["com.coremedia.collaboration.controlroom.rest.WorkflowSetIssues"]}});Ext.define("com.coremedia.collaboration.controlroom.rest.CapListRepository",function(CapListRepository){return{mixins:["com.coremedia.ui.data.RemoteBean"],requires:["com.coremedia.ui.data.RemoteBean"]}});Ext.define("com.coremedia.collaboration.controlroom.rest.PublicationSetIssuesService",function(PublicationSetIssuesService){function loadPublicationSetIssues$static(changeSet,assignedMembers,processName,callback){switch(arguments.length){case 0:changeSet=null;case 1:assignedMembers=null;case 2:processName=null;case 3:callback=null}var requestParameters={changeSet:changeSet,assignedMembers:assignedMembers,processName:processName};var rsm=new com.coremedia.ui.data.impl.RemoteServiceMethod("publicationSetIssues",
"POST",true,false,null,true);rsm.request(requestParameters,function(rsmr){if(!requestParameters.changeSet)requestParameters.changeSet=new com.coremedia.collaboration.controlroom.rest.CapListImpl(null,null);var remoteIssues=com.coremedia.ui.data.impl.RemoteService.resolveResponse(rsmr.response.responseText,"");var publicationSetIssues=new com.coremedia.collaboration.controlroom.rest.WorkflowSetIssues(null);if(remoteIssues&&remoteIssues["global"]){var remoteIssueArray=remoteIssues["global"];remoteIssueArray.forEach(function(issue){publicationSetIssues.addFromIssue(issue)})}if(callback)callback(publicationSetIssues)})}
function PublicationSetIssuesService$(){}return{constructor:PublicationSetIssuesService$,statics:{loadPublicationSetIssues:loadPublicationSetIssues$static},requires:["com.coremedia.ui.data.impl.RemoteService","com.coremedia.ui.data.impl.RemoteServiceMethod"],uses:["com.coremedia.collaboration.controlroom.rest.CapListImpl","com.coremedia.collaboration.controlroom.rest.WorkflowSetIssues"]}});
//# sourceMappingURL=com.coremedia.ui.collaboration__control-room-rest-client.js.map
