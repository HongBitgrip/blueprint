Ext.define("com.coremedia.cms.editor.controlroom.project.components.ProjectContentsPanel",function(ProjectContentsPanel){function ProjectContentsPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.components.ProjectContentsPanelBase,{});var defaults_$1=AS3.cast(ProjectContentsPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var collab_ProjectContentToolbar_17_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.components.ProjectContentToolbar,
{});AS3.setBindable(collab_ProjectContentToolbar_17_5_$1,"listOrThumbsViewVE",this.getListOrThumbViewVE());AS3.setBindable(collab_ProjectContentToolbar_17_5_$1,"selectedItemsVE",this.getSelectedItemsVE());AS3.setBindable(collab_ProjectContentToolbar_17_5_$1,"project",AS3.getBindable(config,"project"));var collab_ProjectContentContainer_20_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.components.ProjectContentContainer,{});AS3.setBindable(collab_ProjectContentContainer_20_5_$1,"project",
AS3.getBindable(config,"project"));AS3.setBindable(collab_ProjectContentContainer_20_5_$1,"listOrThumbsViewVE",this.getListOrThumbViewVE());AS3.setBindable(collab_ProjectContentContainer_20_5_$1,"selectedItemsVE",this.getSelectedItemsVE());config_$1.items=[collab_ProjectContentToolbar_17_5_$1,collab_ProjectContentContainer_20_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$68XO(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.project.components.ProjectContentsPanelBase",
alias:"widget.com.coremedia.cms.editor.controlroom.config.projectContentsPanel",constructor:ProjectContentsPanel$,super$68XO:function(){com.coremedia.cms.editor.controlroom.project.components.ProjectContentsPanelBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.controlroom.project.components.ProjectContentsPanelBase","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.project.components.ProjectContentContainer","com.coremedia.cms.editor.controlroom.project.components.ProjectContentToolbar"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.components.ProjectContentControlsToolbar",function(ProjectContentControlsToolbar){function __initialize__(config){this.selectedItemsOrAllItemsVE$YvIU=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var selectedItems=AS3.getBindable(config,"selectedItemsValueExpression").getValue();return selectedItems.length>0?selectedItems:AS3.getBindable(config,"project").getContents()});this.projectContentsListVE$YvIU=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){return[new com.coremedia.cms.editor.controlroom.project.model.ProjectContents(AS3.getBindable(config,
"project"),AS3.getBindable(config,"selectedItemsValueExpression").getValue())]});this.workflowNameVE$YvIU=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectPropertyNames.NAME,AS3.getBindable(config,"project"))}function ProjectContentControlsToolbar$(config){if(arguments.length<=0)config=null;this.__initialize__$YvIU(config);var config_$1=AS3.cast(Ext.toolbar.Toolbar,{});var defaults_$1=AS3.cast(ProjectContentControlsToolbar,{});config=
net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.FIELD.getSkin());var ui_IconButton_65_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_65_5_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectContentControlsToolbar.REMOVE_CONTENT_ITEM_ID);var collab_RemoveContentFromProjectAction_67_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.RemoveContentFromProjectAction,{});AS3.setBindable(collab_RemoveContentFromProjectAction_67_9_$1,
"projectContentsListVE",this.projectContentsListVE$YvIU);ui_IconButton_65_5_$1.baseAction=new com.coremedia.cms.editor.controlroom.project.actions.RemoveContentFromProjectAction(collab_RemoveContentFromProjectAction_67_9_$1);var ui_IconButton_70_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_70_5_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectContentControlsToolbar.OPEN_CONTENT_IN_TAB_ITEM_ID);var editor_OpenInTabAction_72_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenInTabAction,
{});AS3.setBindable(editor_OpenInTabAction_72_9_$1,"contentValueExpression",AS3.getBindable(config,"selectedItemsValueExpression"));ui_IconButton_70_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.OpenInTabAction(editor_OpenInTabAction_72_9_$1);var tbSeparator_75_5_$1=AS3.cast(Ext.toolbar.Separator,{});var ui_IconButton_76_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_76_5_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectContentControlsToolbar.CUT_CONTENT_TO_CLIPBOARD_ITEM_ID);
var collab_CutContentFromProjectAction_78_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.CutContentFromProjectAction,{});AS3.setBindable(collab_CutContentFromProjectAction_78_9_$1,"projectContentsListVE",this.projectContentsListVE$YvIU);ui_IconButton_76_5_$1.baseAction=new com.coremedia.cms.editor.controlroom.project.actions.CutContentFromProjectAction(collab_CutContentFromProjectAction_78_9_$1);var ui_IconButton_81_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_81_5_$1.itemId=
net.jangaroo.ext.Exml.asString(ProjectContentControlsToolbar.COPY_CONTENT_TO_CLIPBOARD_ITEM_ID);var editor_CopyToClipboardAction_83_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction,{});AS3.setBindable(editor_CopyToClipboardAction_83_9_$1,"contentValueExpression",AS3.getBindable(config,"selectedItemsValueExpression"));ui_IconButton_81_5_$1.baseAction=new com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction(editor_CopyToClipboardAction_83_9_$1);var ui_IconButton_86_5_$1=
AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_86_5_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectContentControlsToolbar.PASTE_CONTENT_FROM_CLIPBOARD_ITEM_ID);var collab_PasteFromClipboardToProjectAction_88_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.PasteFromClipboardToProjectAction,{});AS3.setBindable(collab_PasteFromClipboardToProjectAction_88_9_$1,"projects",[AS3.getBindable(config,"project")]);AS3.setBindable(collab_PasteFromClipboardToProjectAction_88_9_$1,
"contentValueExpression",AS3.getBindable(config,"selectedItemsValueExpression"));ui_IconButton_86_5_$1.baseAction=new com.coremedia.cms.editor.controlroom.project.actions.PasteFromClipboardToProjectAction(collab_PasteFromClipboardToProjectAction_88_9_$1);var tbSeparator_92_5_$1=AS3.cast(Ext.toolbar.Separator,{});var ui_IconButton_93_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});AS3.setBindable(ui_IconButton_93_5_$1,"tooltip",this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"Action_start_publication_tooltip"));AS3.setBindable(ui_IconButton_93_5_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","Action_showStartPublicationWorkflowWindow_icon")));ui_IconButton_93_5_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectContentControlsToolbar.START_PUBLICATION_WORKFLOW_ITEM_ID);var collab_ShowStartPublicationWorkflowWindowAction_98_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.actions.ShowStartPublicationWorkflowWindowAction,
{});AS3.setBindable(collab_ShowStartPublicationWorkflowWindowAction_98_9_$1,"contentValueExpression",this.selectedItemsOrAllItemsVE$YvIU);AS3.setBindable(collab_ShowStartPublicationWorkflowWindowAction_98_9_$1,"workflowNameValueExpression",this.workflowNameVE$YvIU);ui_IconButton_93_5_$1.baseAction=new com.coremedia.cms.editor.controlroom.actions.ShowStartPublicationWorkflowWindowAction(collab_ShowStartPublicationWorkflowWindowAction_98_9_$1);var ui_IconButton_102_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,
{});AS3.setBindable(ui_IconButton_102_5_$1,"tooltip",this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","Action_start_translation_tooltip"));AS3.setBindable(ui_IconButton_102_5_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","Action_showStartTranslationWorkflowWindow_icon")));ui_IconButton_102_5_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectContentControlsToolbar.START_PUSH_TRANSLATION_WORKFLOW_ITEM_ID);
var collab_ShowStartTranslationWorkflowWindowAction_107_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.actions.ShowStartTranslationWorkflowWindowAction,{});AS3.setBindable(collab_ShowStartTranslationWorkflowWindowAction_107_9_$1,"contentValueExpression",this.selectedItemsOrAllItemsVE$YvIU);AS3.setBindable(collab_ShowStartTranslationWorkflowWindowAction_107_9_$1,"workflowNameValueExpression",this.workflowNameVE$YvIU);ui_IconButton_102_5_$1.baseAction=new com.coremedia.cms.editor.controlroom.actions.ShowStartTranslationWorkflowWindowAction(collab_ShowStartTranslationWorkflowWindowAction_107_9_$1);
var collab_StartPullTranslationButton_112_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.components.StartPullTranslationButton,{});collab_StartPullTranslationButton_112_5_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectContentControlsToolbar.START_PULL_TRANSLATION_WORKFLOW_ITEM_ID);AS3.setBindable(collab_StartPullTranslationButton_112_5_$1,"contentValueExpression",this.selectedItemsOrAllItemsVE$YvIU);config_$1.items=[ui_IconButton_65_5_$1,ui_IconButton_70_5_$1,tbSeparator_75_5_$1,ui_IconButton_76_5_$1,
ui_IconButton_81_5_$1,ui_IconButton_86_5_$1,tbSeparator_92_5_$1,ui_IconButton_93_5_$1,ui_IconButton_102_5_$1,collab_StartPullTranslationButton_112_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$YvIU(config_$1)}return{extend:"Ext.toolbar.Toolbar",alias:"widget.com.coremedia.cms.editor.controlroom.config.projectContentControlsToolbar",selectedItemsOrAllItemsVE$YvIU:null,projectContentsListVE$YvIU:null,workflowNameVE$YvIU:null,__initialize__$YvIU:__initialize__,constructor:ProjectContentControlsToolbar$,
super$YvIU:function(){Ext.toolbar.Toolbar.prototype.constructor.apply(this,arguments)},config:{project:null,selectedItemsValueExpression:null},statics:{REMOVE_CONTENT_ITEM_ID:"removeContentItemId",OPEN_CONTENT_IN_TAB_ITEM_ID:"openContentInTabItemId",CUT_CONTENT_TO_CLIPBOARD_ITEM_ID:"cutContentToClipboardItemId",COPY_CONTENT_TO_CLIPBOARD_ITEM_ID:"copyContentToClipboardItemId",PASTE_CONTENT_FROM_CLIPBOARD_ITEM_ID:"pasteContentFromClipboardItemId",START_PUBLICATION_WORKFLOW_ITEM_ID:"startPublicationWorkflowItemId",
START_PUSH_TRANSLATION_WORKFLOW_ITEM_ID:"startPushTranslationWorkflowItemId",START_PULL_TRANSLATION_WORKFLOW_ITEM_ID:"startPullTranslationWorkflowItemId"},requires:["Ext.toolbar.Separator","Ext.toolbar.Toolbar","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.sdk.actions.OpenInTabAction","com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction","com.coremedia.ui.components.IconButton","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.skins.ToolbarSkin",
"net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.actions.ShowStartPublicationWorkflowWindowAction","com.coremedia.cms.editor.controlroom.actions.ShowStartTranslationWorkflowWindowAction","com.coremedia.cms.editor.controlroom.project.actions.CutContentFromProjectAction","com.coremedia.cms.editor.controlroom.project.actions.PasteFromClipboardToProjectAction","com.coremedia.cms.editor.controlroom.project.actions.RemoveContentFromProjectAction","com.coremedia.cms.editor.controlroom.project.model.ProjectContents",
"com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectPropertyNames","com.coremedia.cms.editor.controlroom.workflow.components.StartPullTranslationButton"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.components.ProjectContentsDragDropModel",function(ProjectContentsDragDropModel){function ProjectContentsDragDropModel$(project){this.project$B53w=project}function performDefaultAction(droppedNodeIds,targetNodeId,callback){var contentsForNodeIds=this.getContentsForNodeIds(droppedNodeIds);this.project$B53w.addContents(contentsForNodeIds)}function getContentsForNodeIds(droppedNodeIds){var result=[];droppedNodeIds.forEach(function(id){var index=
id.indexOf("content/");if(index>=0){var contentUri=id.substr(index);result.push(AS3.cast(com.coremedia.cap.content.Content,com.coremedia.ui.data.beanFactory.getRemoteBean(contentUri)))}});return result}function performAlternativeAction(droppedNodeIds,targetNodeId,callback){}function allowDefaultAction(source,nodeIds,targetNodeId){return this.getContentsForNodeIds(nodeIds).every(function(content){return content.isDocument()})}function allowAlternativeAction(source,nodeIds,targetNodeId){return false}
function getModelItemId(){return undefined}return{mixins:["com.coremedia.ui.models.DragDropModel"],project$B53w:null,constructor:ProjectContentsDragDropModel$,performDefaultAction:performDefaultAction,getContentsForNodeIds:getContentsForNodeIds,performAlternativeAction:performAlternativeAction,allowDefaultAction:allowDefaultAction,allowAlternativeAction:allowAlternativeAction,getModelItemId:getModelItemId,requires:["com.coremedia.cap.content.Content","com.coremedia.ui.data.beanFactory","com.coremedia.ui.models.DragDropModel"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.components.AddProjectMemberDialog",function(AddProjectMemberDialog){function AddProjectMemberDialog$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.components.AddProjectMemberDialogBase,{});var defaults_$1=AS3.cast(AddProjectMemberDialog,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.modal=true;AS3.setBindable(config_$1,"width",400);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.WindowSkin.GRID_200.getSkin());
config_$1.stateId="addProjectMemberDialogState";AS3.setBindable(config_$1,"stateful",true);config_$1.constrainHeader=true;config_$1.resizable=false;var ui_BindPropertyPlugin_38_5_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_38_5_$1.bindTo=this.getTitleVE();ui_BindPropertyPlugin_38_5_$1.componentProperty="title";config_$1.plugins=[ui_BindPropertyPlugin_38_5_$1];var editor_SelectMembersContainer_42_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.member.SelectMembersContainer,
{});editor_SelectMembersContainer_42_5_$1.itemId=net.jangaroo.ext.Exml.asString(AddProjectMemberDialog.MEMBER_SELECTION_PANEL_ITEM_ID);editor_SelectMembersContainer_42_5_$1.afterUpdateCallback=AS3.bind(this,"afterUpdateCallback");AS3.setBindable(editor_SelectMembersContainer_42_5_$1,"maxMembersCtHeight",200);AS3.setBindable(editor_SelectMembersContainer_42_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","AddProjectMemberDialog_label_text")));
AS3.setBindable(editor_SelectMembersContainer_42_5_$1,"membersValueExpression",this.getTheSelectedMembersValueExpression());config_$1.items=[editor_SelectMembersContainer_42_5_$1];var button_49_5_$1=AS3.cast(Ext.button.Button,{});button_49_5_$1.itemId=net.jangaroo.ext.Exml.asString(AddProjectMemberDialog.ADD_BUTTON_ITEM_ID);button_49_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_PRIMARY.getSkin());AS3.setBindable(button_49_5_$1,"scale","small");AS3.setBindable(button_49_5_$1,
"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","AddProjectMemberDialog_button_text")));AS3.setBindable(button_49_5_$1,"handler",AS3.bind(this,"share"));var ui_BindPropertyPlugin_55_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_55_9_$1.bindTo=this.getShareButtonDisabledValueExpression();ui_BindPropertyPlugin_55_9_$1.componentProperty="disabled";button_49_5_$1.plugins=[ui_BindPropertyPlugin_55_9_$1];
var button_59_5_$1=AS3.cast(Ext.button.Button,{});button_59_5_$1.itemId=net.jangaroo.ext.Exml.asString(AddProjectMemberDialog.CANCEL_BUTTON_ITEM_ID);button_59_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_SECONDARY.getSkin());AS3.setBindable(button_59_5_$1,"scale","small");AS3.setBindable(button_59_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","dialog_defaultCancelButton_text")));AS3.setBindable(button_59_5_$1,
"handler",AS3.bind(this,"close"));config_$1.fbar=[button_49_5_$1,button_59_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$T981(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.project.components.AddProjectMemberDialogBase",alias:"widget.com.coremedia.cms.editor.controlroom.config.addProjectMemberDialog",constructor:AddProjectMemberDialog$,super$T981:function(){com.coremedia.cms.editor.controlroom.project.components.AddProjectMemberDialogBase.prototype.constructor.apply(this,
arguments)},statics:{MEMBER_SELECTION_PANEL_ITEM_ID:"memberSelectionPanelItemId",ADD_BUTTON_ITEM_ID:"addButtonItemId",CANCEL_BUTTON_ITEM_ID:"cancelButtonItemId"},requires:["Ext.button.Button","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.project.components.AddProjectMemberDialogBase","com.coremedia.cms.editor.sdk.member.SelectMembersContainer","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.skins.ButtonSkin",
"com.coremedia.ui.skins.WindowSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.components.ProjectTab",function(ProjectTab){function __initialize__(config){this.computedProject$V59Z=AS3.getBindable(config,"project")||AS3.as(AS3.getBindable(config,"entity","DUMMY"),com.coremedia.cms.editor.controlroom.project.rest.Project)}function ProjectTab$(config){if(arguments.length<=0)config=null;this.__initialize__$V59Z(config);var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.components.ProjectTabBase,{});var defaults_$1=
AS3.cast(ProjectTab,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"scrollable",true);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.PanelSkin.DARK_200.getSkin());config_$1.bodyCls="cm-project-tab-body";var container_45_5_$1=AS3.cast(Ext.container.Container,{});container_45_5_$1.flex=1;var ui_VerticalSpacingPlugin_47_9_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});AS3.setBindable(ui_VerticalSpacingPlugin_47_9_$1,"modifier",
com.coremedia.ui.bem.SpacingBEMEntities.VERTICAL_SPACING_MODIFIER_200);container_45_5_$1.plugins=[ui_VerticalSpacingPlugin_47_9_$1];var collab_ProjectContentsPanel_50_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.components.ProjectContentsPanel,{});collab_ProjectContentsPanel_50_9_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectTab.CONTENT_VIEW_ID);AS3.setBindable(collab_ProjectContentsPanel_50_9_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"Project_content_title"));AS3.setBindable(collab_ProjectContentsPanel_50_9_$1,"project",this.computedProject$V59Z);var collab_ProjectTodosPanel_54_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.components.ProjectTodosPanel,{});collab_ProjectTodosPanel_54_9_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectTab.TODOS_PANEL_ID);AS3.setBindable(collab_ProjectTodosPanel_54_9_$1,"project",this.computedProject$V59Z);AS3.setBindable(collab_ProjectTodosPanel_54_9_$1,"selectedDateVE",this.getSelectedDateVE());
container_45_5_$1.items=[collab_ProjectContentsPanel_50_9_$1,collab_ProjectTodosPanel_54_9_$1];var container_59_5_$1=AS3.cast(Ext.container.Container,{});AS3.setBindable(container_59_5_$1,"width",380);var ui_VerticalSpacingPlugin_61_9_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});AS3.setBindable(ui_VerticalSpacingPlugin_61_9_$1,"modifier",com.coremedia.ui.bem.SpacingBEMEntities.VERTICAL_SPACING_MODIFIER_200);container_59_5_$1.plugins=[ui_VerticalSpacingPlugin_61_9_$1];var collab_ProjectGoalsPanel_64_9_$1=
AS3.cast(com.coremedia.cms.editor.controlroom.project.components.ProjectGoalsPanel,{});collab_ProjectGoalsPanel_64_9_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectTab.GOALS_PANEL_ID);AS3.setBindable(collab_ProjectGoalsPanel_64_9_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","Project_goals_title"));AS3.setBindable(collab_ProjectGoalsPanel_64_9_$1,"project",this.computedProject$V59Z);var collab_ProjectMembersPanel_67_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.components.ProjectMembersPanel,
{});collab_ProjectMembersPanel_67_9_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectTab.USERS_PANEL_ID);AS3.setBindable(collab_ProjectMembersPanel_67_9_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","Project_users_title"));AS3.setBindable(collab_ProjectMembersPanel_67_9_$1,"project",this.computedProject$V59Z);var collab_ProjectCalendarPanel_70_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.components.ProjectCalendarPanel,{});collab_ProjectCalendarPanel_70_9_$1.itemId=
net.jangaroo.ext.Exml.asString(ProjectTab.CALENDAR_PANEL_ID);AS3.setBindable(collab_ProjectCalendarPanel_70_9_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","Project_calendar_title"));AS3.setBindable(collab_ProjectCalendarPanel_70_9_$1,"project",this.computedProject$V59Z);AS3.setBindable(collab_ProjectCalendarPanel_70_9_$1,"selectedDateVE",this.getSelectedDateVE());container_59_5_$1.items=[collab_ProjectGoalsPanel_64_9_$1,collab_ProjectMembersPanel_67_9_$1,
collab_ProjectCalendarPanel_70_9_$1];config_$1.items=[container_45_5_$1,container_59_5_$1];var layout_HBox_78_5_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_78_5_$1,"align","stretchmax");AS3.setBindable(config_$1,"layout",layout_HBox_78_5_$1);var toolbar_81_5_$1=AS3.cast(Ext.toolbar.Toolbar,{});toolbar_81_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.WORKAREA.getSkin());var tbText_83_9_$1=AS3.cast(Ext.toolbar.TextItem,{});AS3.setBindable(tbText_83_9_$1,
"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","Project_toolbar_project")));tbText_83_9_$1.ui="workarea";toolbar_81_5_$1.items=[tbText_83_9_$1];config_$1.tbar=toolbar_81_5_$1;var ui_HorizontalSpacingPlugin_89_5_$1=AS3.cast(com.coremedia.ui.plugins.HorizontalSpacingPlugin,{});AS3.setBindable(ui_HorizontalSpacingPlugin_89_5_$1,"modifier",com.coremedia.ui.bem.SpacingBEMEntities.HORIZONTAL_SPACING_MODIFIER_200);config_$1.plugins=
[ui_HorizontalSpacingPlugin_89_5_$1];config_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$V59Z(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.project.components.ProjectTabBase",alias:"widget.com.coremedia.cms.editor.controlroom.config.projectTab",computedProject$V59Z:null,__initialize__$V59Z:__initialize__,constructor:ProjectTab$,super$V59Z:function(){com.coremedia.cms.editor.controlroom.project.components.ProjectTabBase.prototype.constructor.apply(this,
arguments)},statics:{CONTENT_VIEW_ID:"projectContentView",TODOS_PANEL_ID:"projectTodosPanel",GOALS_PANEL_ID:"projectGoalsPanel",USERS_PANEL_ID:"projectUsersPanel",CALENDAR_PANEL_ID:"projectCalendarPanel"},requires:["Ext.container.Container","Ext.layout.container.HBox","Ext.toolbar.TextItem","Ext.toolbar.Toolbar","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.project.components.ProjectTabBase","com.coremedia.ui.bem.SpacingBEMEntities","com.coremedia.ui.plugins.HorizontalSpacingPlugin",
"com.coremedia.ui.plugins.VerticalSpacingPlugin","com.coremedia.ui.skins.PanelSkin","com.coremedia.ui.skins.ToolbarSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.project.components.ProjectCalendarPanel","com.coremedia.cms.editor.controlroom.project.components.ProjectContentsPanel","com.coremedia.cms.editor.controlroom.project.components.ProjectGoalsPanel","com.coremedia.cms.editor.controlroom.project.components.ProjectMembersPanel","com.coremedia.cms.editor.controlroom.project.components.ProjectTodosPanel",
"com.coremedia.cms.editor.controlroom.project.rest.Project"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.components.ProjectGoalsPanel",function(ProjectGoalsPanel){function ProjectGoalsPanel$(config){var this$=this;if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.components.ProjectSubPanel,{});var defaults_$1=AS3.cast(ProjectGoalsPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var collab_ProjectDueDatePanel_27_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.components.ProjectDueDatePanel,
{});collab_ProjectDueDatePanel_27_5_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectGoalsPanel.DUE_DATE_PANEL_ID);AS3.setBindable(collab_ProjectDueDatePanel_27_5_$1,"project",AS3.getBindable(config,"project"));var ui_ResizableTextArea_29_5_$1=AS3.cast(com.coremedia.ui.components.ResizableTextArea,{});ui_ResizableTextArea_29_5_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectGoalsPanel.DESCRIPTION_TEXT_FIELD_ID);AS3.setBindable(ui_ResizableTextArea_29_5_$1,"height",100);ui_ResizableTextArea_29_5_$1.anchor=
"100%";AS3.setBindable(ui_ResizableTextArea_29_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","Project_notes_title")));var object_34_9_$1={};object_34_9_$1.resize=function(){this$.queryById(ProjectGoalsPanel.DESCRIPTION_TEXT_FIELD_ID).updateLayout()};AS3.setBindable(ui_ResizableTextArea_29_5_$1,"listeners",object_34_9_$1);var ui_BindPropertyPlugin_37_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_37_9_$1.bindTo=
com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectPropertyNames.DESCRIPTION,AS3.getBindable(config,"project"));ui_BindPropertyPlugin_37_9_$1.reverseTransformer=function(value){return value&&value["trim"]()};ui_BindPropertyPlugin_37_9_$1.bidirectional=true;ui_ResizableTextArea_29_5_$1.plugins=[ui_BindPropertyPlugin_37_9_$1];ui_ResizableTextArea_29_5_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;config_$1.items=[collab_ProjectDueDatePanel_27_5_$1,
ui_ResizableTextArea_29_5_$1];var layout_Anchor_45_5_$1=AS3.cast(Ext.layout.container.Anchor,{});AS3.setBindable(config_$1,"layout",layout_Anchor_45_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$ZLUM(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.project.components.ProjectSubPanel",alias:"widget.com.coremedia.cms.editor.controlroom.config.projectGoalsPanel",constructor:ProjectGoalsPanel$,super$ZLUM:function(){com.coremedia.cms.editor.controlroom.project.components.ProjectSubPanel.prototype.constructor.apply(this,
arguments)},statics:{DUE_DATE_PANEL_ID:"projectDueDatePanel",DESCRIPTION_TEXT_FIELD_ID:"projectDescriptionTextField"},requires:["Ext.layout.container.Anchor","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.project.components.ProjectSubPanel","com.coremedia.ui.components.ResizableTextArea","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.BindPropertyPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.project.components.ProjectDueDatePanel",
"com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectPropertyNames"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.components.ProjectContentListViewBase",function(ProjectContentListViewBase){function ProjectContentListViewBase$(config){if(arguments.length<=0)config=null;var copiedConfig=AS3.cast(com.coremedia.cms.editor.controlroom.project.components.ProjectContentListView,Ext.apply({},config));copiedConfig.columns=com.coremedia.cms.editor.sdk.collectionview.list.AbstractListViewBase.createColumnModel(com.coremedia.cms.editor.controlroom.controlRoomContext.getProjectListViewColumns(),
config);this.super$uaEx(copiedConfig)}function handleDropAreaDrop(contents){if(this._linkListWrapper$uaEx.acceptsLinks(contents)){this._linkListWrapper$uaEx.addLinks(contents);this.selectedItemsValueExpression.setValue(contents)}}function getLinkListWrapper(config){if(!this._linkListWrapper$uaEx){var linkListWrapperCfg=AS3.cast(com.coremedia.cms.editor.sdk.util.MemoryLinkListWrapper,{});AS3.setBindable(linkListWrapperCfg,"linksVE",AS3.getBindable(config,"contentsValueExpression"));this._linkListWrapper$uaEx=
new com.coremedia.cms.editor.sdk.util.MemoryLinkListWrapper(linkListWrapperCfg)}return this._linkListWrapper$uaEx}return{extend:"com.coremedia.cms.editor.sdk.collectionview.list.AbstractListView",_linkListWrapper$uaEx:null,constructor:ProjectContentListViewBase$,super$uaEx:function(){com.coremedia.cms.editor.sdk.collectionview.list.AbstractListView.prototype.constructor.apply(this,arguments)},handleDropAreaDrop:handleDropAreaDrop,getLinkListWrapper:getLinkListWrapper,requires:["Ext","com.coremedia.cms.editor.sdk.collectionview.list.AbstractListView",
"com.coremedia.cms.editor.sdk.collectionview.list.AbstractListViewBase","com.coremedia.cms.editor.sdk.util.MemoryLinkListWrapper"],uses:["com.coremedia.cms.editor.controlroom.controlRoomContext","com.coremedia.cms.editor.controlroom.project.components.ProjectContentListView"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.components.ProjectListViewTypeIconColumn",function(ProjectListViewTypeIconColumn){function ProjectListViewTypeIconColumn$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.list.ListViewTypeIconColumn,{});var defaults_$1=AS3.cast(ProjectListViewTypeIconColumn,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$JPc_(config_$1)}
function calculateIconCls(value,metadata,record,rowIndex,colIndex,store){if(AS3.is(value,com.coremedia.cap.content.ContentType))return com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.getIconStyleClassForContentType(value);else return value}return{extend:"com.coremedia.cms.editor.sdk.collectionview.list.ListViewTypeIconColumn",constructor:ProjectListViewTypeIconColumn$,super$JPc_:function(){com.coremedia.cms.editor.sdk.collectionview.list.ListViewTypeIconColumn.prototype.constructor.apply(this,
arguments)},calculateIconCls:calculateIconCls,requires:["com.coremedia.cap.content.ContentType","com.coremedia.cms.editor.sdk.collectionview.list.ListViewTypeIconColumn","com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.components.ProjectContentThumbDataViewBase",function(ProjectContentThumbDataViewBase){function ProjectContentThumbDataViewBase$(config){if(arguments.length<=0)config=null;this.super$u21F(config)}return{extend:"com.coremedia.cms.editor.sdk.collectionview.thumbnail.ThumbDataViewBase",constructor:ProjectContentThumbDataViewBase$,super$u21F:function(){com.coremedia.cms.editor.sdk.collectionview.thumbnail.ThumbDataViewBase.prototype.constructor.apply(this,
arguments)},requires:["com.coremedia.cms.editor.sdk.collectionview.thumbnail.ThumbDataViewBase"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.components.ProjectContentContainer",function(ProjectContentContainer){function ProjectContentContainer$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.components.ProjectContentContainerBase,{});var defaults_$1=AS3.cast(ProjectContentContainer,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var ui_SwitchingContainer_26_5_$1=AS3.cast(com.coremedia.ui.components.SwitchingContainer,
{});ui_SwitchingContainer_26_5_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectContentContainer.SWITCHING_CONTAINER_ITEM_ID);AS3.setBindable(ui_SwitchingContainer_26_5_$1,"activeItemValueExpression",AS3.getBindable(config,"listOrThumbsViewVE"));var collab_ProjectContentThumbView_29_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.components.ProjectContentThumbView,{});collab_ProjectContentThumbView_29_9_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectContentContainer.THUMB_VIEW_ITEM_ID);
AS3.setBindable(collab_ProjectContentThumbView_29_9_$1,"project",AS3.getBindable(config,"project"));AS3.setBindable(collab_ProjectContentThumbView_29_9_$1,"selectedItemsValueExpression",AS3.getBindable(config,"selectedItemsVE"));AS3.setBindable(collab_ProjectContentThumbView_29_9_$1,"contentsValueExpression",this.getProjectContentVE(config));AS3.setBindable(collab_ProjectContentThumbView_29_9_$1,"dropAreaHandler",com.coremedia.cms.editor.controlroom.project.components.ProjectContentContainerBase.dropAreaHandler);
var collab_ProjectContentListView_34_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.components.ProjectContentListView,{});collab_ProjectContentListView_34_9_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectContentContainer.LIST_VIEW_ITEM_ID);AS3.setBindable(collab_ProjectContentListView_34_9_$1,"viewUi",net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.TableViewSkin.DEFAULT.getSkin()));AS3.setBindable(collab_ProjectContentListView_34_9_$1,"project",AS3.getBindable(config,"project"));
collab_ProjectContentListView_34_9_$1.selectedItemsValueExpression=AS3.getBindable(config,"selectedItemsVE");AS3.setBindable(collab_ProjectContentListView_34_9_$1,"contentsValueExpression",this.getProjectContentVE(config));AS3.setBindable(collab_ProjectContentListView_34_9_$1,"dropAreaHandler",com.coremedia.cms.editor.controlroom.project.components.ProjectContentContainerBase.dropAreaHandler);ui_SwitchingContainer_26_5_$1.items=[collab_ProjectContentThumbView_29_9_$1,collab_ProjectContentListView_34_9_$1];
var layout_Card_42_9_$1=AS3.cast(Ext.layout.container.Card,{});layout_Card_42_9_$1.deferredRender=true;AS3.setBindable(ui_SwitchingContainer_26_5_$1,"layout",layout_Card_42_9_$1);config_$1.items=[ui_SwitchingContainer_26_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$21lw(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.project.components.ProjectContentContainerBase",alias:"widget.com.coremedia.cms.editor.controlroom.config.projectContentContainer",constructor:ProjectContentContainer$,
super$21lw:function(){com.coremedia.cms.editor.controlroom.project.components.ProjectContentContainerBase.prototype.constructor.apply(this,arguments)},statics:{SWITCHING_CONTAINER_ITEM_ID:"switchingCtItemId",THUMB_VIEW_ITEM_ID:"thumbViewItemId",LIST_VIEW_ITEM_ID:"listViewItemId"},requires:["Ext.layout.container.Card","com.coremedia.cms.editor.controlroom.project.components.ProjectContentContainerBase","com.coremedia.ui.components.SwitchingContainer","com.coremedia.ui.skins.TableViewSkin","net.jangaroo.ext.Exml"],
uses:["com.coremedia.cms.editor.controlroom.project.components.ProjectContentListView","com.coremedia.cms.editor.controlroom.project.components.ProjectContentThumbView"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.components.ProjectTodosPanel",function(ProjectTodosPanel){function ProjectTodosPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.components.ProjectTodosPanelBase,{});var defaults_$1=AS3.cast(ProjectTodosPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"layout","auto");config_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"Project_todos_title"));config_$1.titleCollapse=true;config_$1.bodyPadding=0;var ui_BindPropertyPlugin_58_5_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_58_5_$1.componentProperty="title";ui_BindPropertyPlugin_58_5_$1.bindTo=this.getTitleVE();config_$1.plugins=[ui_BindPropertyPlugin_58_5_$1];config_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var button_62_5_$1=AS3.cast(Ext.button.Button,{});button_62_5_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectTodosPanel.FILTER_BTN_ITEM_ID);
button_62_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE.getSkin());AS3.setBindable(button_62_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","Project_Todos_show_all")));AS3.setBindable(button_62_5_$1,"handler",AS3.bind(this,"removeDateSelection"));var ui_BindVisibilityPlugin_67_9_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_67_9_$1.bindTo=AS3.getBindable(config,
"selectedDateVE");button_62_5_$1.plugins=[ui_BindVisibilityPlugin_67_9_$1];AS3.setBindable(config_$1,"filterBtnCfg",button_62_5_$1);var ui_DraggableItemsContainer_72_5_$1=AS3.cast(com.coremedia.ui.components.DraggableItemsContainer,{});ui_DraggableItemsContainer_72_5_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectTodosPanel.TODOS_CT_ITEM_ID);AS3.setBindable(ui_DraggableItemsContainer_72_5_$1,"itemsVE",this.getTodosVE());AS3.setBindable(ui_DraggableItemsContainer_72_5_$1,"itemsConfigBeanParameterName",
"todo");AS3.setBindable(ui_DraggableItemsContainer_72_5_$1,"dropHandler",AS3.bind(this,"dropHandler"));AS3.setBindable(ui_DraggableItemsContainer_72_5_$1,"enabledVE",this.getIsNoFilterActiveVE());AS3.setBindable(ui_DraggableItemsContainer_72_5_$1,"additionalItemModifiersFunction",calculateAdditionalModifiers$static);var todo_TodoPanel_79_9_$1=AS3.cast(com.coremedia.cms.editor.todo.components.TodoPanel,{});todo_TodoPanel_79_9_$1.flex=1;AS3.setBindable(todo_TodoPanel_79_9_$1,"assigneesVE",this.getProjectMembersVE());
todo_TodoPanel_79_9_$1.editorModeListener=AS3.bind(this,"handleEditorModeSwitch");todo_TodoPanel_79_9_$1.additionalDueDatePickerModifiers=AS3.bind(this,"getAdditionalDueDatePickerModifiers");todo_TodoPanel_79_9_$1.dueDateIssueBuilder=AS3.bind(this,"dueDateIssueBuilder");AS3.setBindable(ui_DraggableItemsContainer_72_5_$1,"innerCtTemplate",todo_TodoPanel_79_9_$1);config_$1.items=[ui_DraggableItemsContainer_72_5_$1];var toolbar_89_5_$1=AS3.cast(Ext.toolbar.Toolbar,{});toolbar_89_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.EMBEDDED_FOOTER_GRID_100.getSkin());
AS3.setBindable(toolbar_89_5_$1,"dock","bottom");toolbar_89_5_$1["focusableContainer"]=false;var tbFill_93_9_$1=AS3.cast(Ext.toolbar.Fill,{});var button_94_9_$1=AS3.cast(Ext.button.Button,{});button_94_9_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectTodosPanel.NEW_TODO_BTN_ITEM_ID);button_94_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.INLINE.getSkin());AS3.setBindable(button_94_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"Project_todos_add_button_text")));AS3.setBindable(button_94_9_$1,"handler",AS3.bind(this,"newTodo"));var ui_BindVisibilityPlugin_99_13_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_99_13_$1.bindTo=this.getIsNoFilterActiveVE();button_94_9_$1.plugins=[ui_BindVisibilityPlugin_99_13_$1];toolbar_89_5_$1.items=[tbFill_93_9_$1,button_94_9_$1];config_$1.dockedItems=[toolbar_89_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$daw9(config_$1)}function DRAGGABLE_ITEM_MODIFIER_TODO_IN_PROGRESS$static_(){ProjectTodosPanel.DRAGGABLE_ITEM_MODIFIER_TODO_IN_PROGRESS=
com.coremedia.ui.components.DraggableItem.BLOCK.createModifier("todo-in-progress")}function DRAGGABLE_ITEM_MODIFIER_TODO_DONE$static_(){ProjectTodosPanel.DRAGGABLE_ITEM_MODIFIER_TODO_DONE=com.coremedia.ui.components.DraggableItem.BLOCK.createModifier("todo-done")}function calculateAdditionalModifiers$static(bean){var modifiers=undefined;var todo=AS3.as(bean,com.coremedia.cms.editor.todo.model.Todo);if(todo&&todo.isLoaded()){modifiers=[];if(todo.getTodoState()===com.coremedia.cms.editor.todo.rest.impl.TodoImpl.IN_PROGRESS_STATE)modifiers.push(ProjectTodosPanel.DRAGGABLE_ITEM_MODIFIER_TODO_IN_PROGRESS);
else modifiers.push(ProjectTodosPanel.DRAGGABLE_ITEM_MODIFIER_TODO_DONE)}return modifiers}return{extend:"com.coremedia.cms.editor.controlroom.project.components.ProjectTodosPanelBase",alias:"widget.com.coremedia.cms.editor.controlroom.config.projectTodosPanel",constructor:ProjectTodosPanel$,super$daw9:function(){com.coremedia.cms.editor.controlroom.project.components.ProjectTodosPanelBase.prototype.constructor.apply(this,arguments)},statics:{TODOS_CT_ITEM_ID:"todosCtItemId",NEW_TODO_BTN_ITEM_ID:"newTodoBtnItemId",
FILTER_BTN_ITEM_ID:"filterBtnItemId",DRAGGABLE_ITEM_MODIFIER_TODO_IN_PROGRESS:undefined,DRAGGABLE_ITEM_MODIFIER_TODO_DONE:undefined,__initStatics__:function(){DRAGGABLE_ITEM_MODIFIER_TODO_IN_PROGRESS$static_();DRAGGABLE_ITEM_MODIFIER_TODO_DONE$static_()}},requires:["Ext.button.Button","Ext.toolbar.Fill","Ext.toolbar.Toolbar","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.project.components.ProjectTodosPanelBase","com.coremedia.cms.editor.todo.components.TodoPanel",
"com.coremedia.cms.editor.todo.model.Todo","com.coremedia.cms.editor.todo.rest.impl.TodoImpl","com.coremedia.ui.components.DraggableItem","com.coremedia.ui.components.DraggableItemsContainer","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.BindVisibilityPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.ToolbarSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.components.ProjectContentListView",function(ProjectContentListView){function ProjectContentListView$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.components.ProjectContentListViewBase,{});var defaults_$1=AS3.cast(ProjectContentListView,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectContentListView.GRID_ITEM_ID);
AS3.setBindable(config_$1,"ddGroup","ContentLinkDD");AS3.setBindable(config_$1,"maxHeight",340);config_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","Project_content_title")+" "+this.resourceManager.getString("com.coremedia.cms.editor.Editor","ListView_suffix"));config_$1.emptyText=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","Project_content_empty_text"));
var ui_BindListPlugin_53_5_$1=AS3.cast(com.coremedia.ui.plugins.BindListPlugin,{});AS3.setBindable(ui_BindListPlugin_53_5_$1,"lazy",false);AS3.setBindable(ui_BindListPlugin_53_5_$1,"bindTo",AS3.getBindable(config,"contentsValueExpression"));var ui_DataField_56_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_56_9_$1.name="siteName";ui_DataField_56_9_$1.mapping="";ui_DataField_56_9_$1.ifUnreadable="";ui_DataField_56_9_$1["convert"]=com.coremedia.cms.editor.sdk.util.SiteUtil.getSiteNameFor;
var ui_DataField_60_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_60_9_$1.name="siteLocale";ui_DataField_60_9_$1.mapping="";ui_DataField_60_9_$1.ifUnreadable="";ui_DataField_60_9_$1["convert"]=com.coremedia.cms.editor.sdk.util.SiteUtil.getSiteLocaleNameFor;var ui_DataField_64_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_64_9_$1.name="typeCls";ui_DataField_64_9_$1.mapping="type";ui_DataField_64_9_$1.sortType=function(ct){if(AS3.is(ct,com.coremedia.cap.content.ContentType))return com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.localizeDocumentTypeName(ct.getName());
else return ct};ui_DataField_64_9_$1.ifError="";ui_DataField_64_9_$1.ifUnreadable=mx.resources.ResourceManager.getInstance().getString("com.coremedia.icons.CoreIcons","no_rights");var ui_DataField_75_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_75_9_$1.name="type";ui_DataField_75_9_$1.mapping="type.name";ui_DataField_75_9_$1.ifError="";ui_DataField_75_9_$1.ifUnreadable="";ui_DataField_75_9_$1["convert"]=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.localizeDocumentTypeName;
var ui_DataField_80_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_80_9_$1.name="name";ui_DataField_80_9_$1.ifUnreadable=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.formatNotReadableNameFromBeanRecord;ui_DataField_80_9_$1.encode=true;ui_DataField_80_9_$1.ifError="";ui_DataField_80_9_$1.sortType=function(s){return s?s.toLowerCase():s};var ui_DataField_85_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_85_9_$1.name="nameClass";ui_DataField_85_9_$1.ifUnreadable=
"";ui_DataField_85_9_$1.ifError="";ui_DataField_85_9_$1.mapping="";ui_DataField_85_9_$1["convert"]=com.coremedia.cms.editor.sdk.util.AccessControlUtil.calculateCSSClasses;var ui_DataField_90_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_90_9_$1.name="creationDate";ui_DataField_90_9_$1.ifUnreadable="";ui_DataField_90_9_$1.ifError="";var ui_DataField_93_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_93_9_$1.name="status";ui_DataField_93_9_$1.ifUnreadable="";ui_DataField_93_9_$1.ifError=
"";ui_DataField_93_9_$1.mapping="";ui_DataField_93_9_$1["convert"]=com.coremedia.cms.editor.sdk.util.ContentLifecycleUtil.getDetailedLifecycleStatus;var ui_DataField_98_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_98_9_$1.name="editor";ui_DataField_98_9_$1.ifUnreadable="";ui_DataField_98_9_$1.ifError="";ui_DataField_98_9_$1.mapping="editor.name";var ui_DataField_102_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_102_9_$1.name="freshness";ui_DataField_102_9_$1.ifUnreadable=
"";ui_DataField_102_9_$1.ifError="";ui_DataField_102_9_$1.mapping="modificationDate";AS3.setBindable(ui_BindListPlugin_53_5_$1,"fields",[ui_DataField_56_9_$1,ui_DataField_60_9_$1,ui_DataField_64_9_$1,ui_DataField_75_9_$1,ui_DataField_80_9_$1,ui_DataField_85_9_$1,ui_DataField_90_9_$1,ui_DataField_93_9_$1,ui_DataField_98_9_$1,ui_DataField_102_9_$1]);var ui_ContextMenuPlugin_108_5_$1=AS3.cast(com.coremedia.ui.plugins.ContextMenuPlugin,{});var collab_ProjectContentContextMenu_110_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.components.ProjectContentContextMenu,
{});AS3.setBindable(collab_ProjectContentContextMenu_110_9_$1,"project",AS3.getBindable(config,"project"));collab_ProjectContentContextMenu_110_9_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectContentListView.PROJECT_CONTENTS_LIST_VIEW_CONTEXT_MENU);AS3.setBindable(collab_ProjectContentContextMenu_110_9_$1,"selectedItemsValueExpression",config.selectedItemsValueExpression);AS3.setBindable(ui_ContextMenuPlugin_108_5_$1,"contextMenu",collab_ProjectContentContextMenu_110_9_$1);var editor_PersistColumnConfigurationPlugin_115_5_$1=
AS3.cast(com.coremedia.cms.editor.sdk.plugins.PersistColumnConfigurationPlugin,{});AS3.setBindable(editor_PersistColumnConfigurationPlugin_115_5_$1,"storeId","project-content-list");var ui_BEMPlugin_116_5_$1=AS3.cast(com.coremedia.ui.plugins.BEMPlugin,{});AS3.setBindable(ui_BEMPlugin_116_5_$1,"block",com.coremedia.ui.bem.LinkListBEMEntities.BLOCK);AS3.setBindable(ui_BEMPlugin_116_5_$1,"bodyElement",com.coremedia.ui.bem.LinkListBEMEntities.ELEMENT_LIST);AS3.setBindable(ui_BEMPlugin_116_5_$1,"modifier",
com.coremedia.ui.bem.LinkListBEMEntities.MODIFIER_NO_VALIDATION);config_$1.plugins=[ui_BindListPlugin_53_5_$1,ui_ContextMenuPlugin_108_5_$1,editor_PersistColumnConfigurationPlugin_115_5_$1,ui_BEMPlugin_116_5_$1];config_$1["plugins$at"]=net.jangaroo.ext.Exml.PREPEND;var collab_ProjectListViewTypeIconColumn_121_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.components.ProjectListViewTypeIconColumn,{});AS3.setBindable(collab_ProjectListViewTypeIconColumn_121_5_$1,"showTypeName",true);collab_ProjectListViewTypeIconColumn_121_5_$1.sortable=
true;var editor_ListViewNameColumn_123_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.list.ListViewNameColumn,{});editor_ListViewNameColumn_123_5_$1.sortable=true;editor_ListViewNameColumn_123_5_$1.flex=1;var editor_ListViewCreationDateColumn_125_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.list.ListViewCreationDateColumn,{});editor_ListViewCreationDateColumn_125_5_$1.sortable=true;var editor_FreshnessColumn_126_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.columns.grid.FreshnessColumn,
{});AS3.setBindable(editor_FreshnessColumn_126_5_$1,"hidden",true);editor_FreshnessColumn_126_5_$1.sortable=true;var editor_ListViewStatusColumn_128_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.list.ListViewStatusColumn,{});editor_ListViewStatusColumn_128_5_$1.sortable=true;AS3.setBindable(config_$1,"defaultColumns",[collab_ProjectListViewTypeIconColumn_121_5_$1,editor_ListViewNameColumn_123_5_$1,editor_ListViewCreationDateColumn_125_5_$1,editor_FreshnessColumn_126_5_$1,editor_ListViewStatusColumn_128_5_$1]);
var editor_LinkListDropAreaWithSuggestions_131_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.LinkListDropAreaWithSuggestions,{});AS3.setBindable(editor_LinkListDropAreaWithSuggestions_131_5_$1,"dock","bottom");AS3.setBindable(editor_LinkListDropAreaWithSuggestions_131_5_$1,"linkListWrapper",this.getLinkListWrapper(config));editor_LinkListDropAreaWithSuggestions_131_5_$1.suggestionsTemplate=com.coremedia.cms.editor.sdk.premular.fields.LinkListDropAreaUtils.getProjectContentSuggestionsTemplate();
AS3.setBindable(editor_LinkListDropAreaWithSuggestions_131_5_$1,"ddGroups",["ContentDD","ContentLinkDD"]);AS3.setBindable(editor_LinkListDropAreaWithSuggestions_131_5_$1,"handler",AS3.getBindable(config,"dropAreaHandler"));AS3.setBindable(editor_LinkListDropAreaWithSuggestions_131_5_$1,"appendOnDrop",false);AS3.setBindable(editor_LinkListDropAreaWithSuggestions_131_5_$1,"dropHandler",AS3.bind(this,"handleDropAreaDrop"));var ui_DataField_139_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_139_9_$1.name=
"path";ui_DataField_139_9_$1.mapping="";ui_DataField_139_9_$1["convert"]=function(c){return c.getPath()};ui_DataField_139_9_$1.encode=false;AS3.setBindable(editor_LinkListDropAreaWithSuggestions_131_5_$1,"extraFields",[ui_DataField_139_9_$1]);var ui_BEMMixin_145_9_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,{});AS3.setBindable(ui_BEMMixin_145_9_$1,"bemElement",com.coremedia.ui.bem.LinkListBEMEntities.ELEMENT_TAIL);delete ui_BEMMixin_145_9_$1["xtype"];delete ui_BEMMixin_145_9_$1["xclass"];net.jangaroo.ext.Exml.apply(editor_LinkListDropAreaWithSuggestions_131_5_$1,
ui_BEMMixin_145_9_$1);var editor_SearchContentLinkSuggester_148_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.util.SearchContentLinkSuggester,{});AS3.setBindable(editor_SearchContentLinkSuggester_148_9_$1,"linkTypeName","Document_");AS3.setBindable(editor_LinkListDropAreaWithSuggestions_131_5_$1,"linkSuggester",new com.coremedia.cms.editor.sdk.util.SearchContentLinkSuggester(editor_SearchContentLinkSuggester_148_9_$1));config_$1.dockedItems=[editor_LinkListDropAreaWithSuggestions_131_5_$1];net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$IhtA(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.project.components.ProjectContentListViewBase",alias:"widget.com.coremedia.cms.editor.controlroom.config.projectContentListView",constructor:ProjectContentListView$,super$IhtA:function(){com.coremedia.cms.editor.controlroom.project.components.ProjectContentListViewBase.prototype.constructor.apply(this,arguments)},config:{project:null,contentsValueExpression:null,dropAreaHandler:null},statics:{GRID_ITEM_ID:"gridItemId",
PROJECT_CONTENTS_LIST_VIEW_CONTEXT_MENU:"projectContentsListViewContextMenu"},requires:["com.coremedia.cap.content.ContentType","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.project.components.ProjectContentListViewBase","com.coremedia.cms.editor.sdk.collectionview.list.ListViewCreationDateColumn","com.coremedia.cms.editor.sdk.collectionview.list.ListViewNameColumn","com.coremedia.cms.editor.sdk.collectionview.list.ListViewStatusColumn","com.coremedia.cms.editor.sdk.columns.grid.FreshnessColumn",
"com.coremedia.cms.editor.sdk.plugins.PersistColumnConfigurationPlugin","com.coremedia.cms.editor.sdk.premular.fields.LinkListDropAreaUtils","com.coremedia.cms.editor.sdk.premular.fields.LinkListDropAreaWithSuggestions","com.coremedia.cms.editor.sdk.util.AccessControlUtil","com.coremedia.cms.editor.sdk.util.ContentLifecycleUtil","com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil","com.coremedia.cms.editor.sdk.util.SearchContentLinkSuggester","com.coremedia.cms.editor.sdk.util.SiteUtil","com.coremedia.ui.bem.LinkListBEMEntities",
"com.coremedia.ui.plugins.BEMMixin","com.coremedia.ui.plugins.BEMPlugin","com.coremedia.ui.plugins.BindListPlugin","com.coremedia.ui.plugins.ContextMenuPlugin","com.coremedia.ui.store.DataField","mx.resources.ResourceManager","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.project.components.ProjectContentContextMenu","com.coremedia.cms.editor.controlroom.project.components.ProjectListViewTypeIconColumn"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.components.ProjectContentToolbar",function(ProjectContentToolbar){function __initialize__(config){this.listView$mUKq=function(){AS3.getBindable(config,"listOrThumbsViewVE").setValue(com.coremedia.cms.editor.controlroom.project.components.ProjectContentContainer.LIST_VIEW_ITEM_ID)};this.thumbDataView$mUKq=function(){AS3.getBindable(config,"listOrThumbsViewVE").setValue(com.coremedia.cms.editor.controlroom.project.components.ProjectContentContainer.THUMB_VIEW_ITEM_ID)}}
function ProjectContentToolbar$(config){if(arguments.length<=0)config=null;this.__initialize__$mUKq(config);var config_$1=AS3.cast(Ext.toolbar.Toolbar,{});var defaults_$1=AS3.cast(ProjectContentToolbar,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.itemId="projectContentToolbar";config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.FIELD.getSkin());var collab_ProjectContentControlsToolbar_53_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.components.ProjectContentControlsToolbar,
{});collab_ProjectContentControlsToolbar_53_5_$1.itemId="projectContentControlsToolbar";AS3.setBindable(collab_ProjectContentControlsToolbar_53_5_$1,"project",AS3.getBindable(config,"project"));AS3.setBindable(collab_ProjectContentControlsToolbar_53_5_$1,"selectedItemsValueExpression",AS3.getBindable(config,"selectedItemsVE"));var tbFill_56_5_$1=AS3.cast(Ext.toolbar.Fill,{});var container_57_5_$1=AS3.cast(Ext.container.Container,{});container_57_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.GROUP.getSkin());
var ui_IconButton_59_9_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_59_9_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectContentToolbar.LIST_VIEW_ICON_BUTTON_ITEM_ID);ui_IconButton_59_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.TOOLBAR_GROUPED.getSkin());ui_IconButton_59_9_$1.toggleGroup=net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"project").getId()+"-toggle-group");ui_IconButton_59_9_$1.enableToggle=true;AS3.setBindable(ui_IconButton_59_9_$1,
"pressed",true);ui_IconButton_59_9_$1.allowDepress=false;AS3.setBindable(ui_IconButton_59_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","list_view")));AS3.setBindable(ui_IconButton_59_9_$1,"handler",this.listView$mUKq);AS3.setBindable(ui_IconButton_59_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","SearchArea_listView_btn_tooltip")));AS3.setBindable(ui_IconButton_59_9_$1,"tooltip",
this.resourceManager.getString("com.coremedia.cms.editor.Editor","SearchArea_listView_btn_tooltip"));var ui_IconButton_70_9_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_70_9_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectContentToolbar.THUMB_DATA_VIEW_ICON_BUTTON_ITEM_ID);ui_IconButton_70_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.TOOLBAR_GROUPED.getSkin());ui_IconButton_70_9_$1.toggleGroup=net.jangaroo.ext.Exml.asString(AS3.getBindable(config,
"project").getId()+"-toggle-group");ui_IconButton_70_9_$1.enableToggle=true;ui_IconButton_70_9_$1.allowDepress=false;AS3.setBindable(ui_IconButton_70_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","thumbnail_view")));AS3.setBindable(ui_IconButton_70_9_$1,"handler",this.thumbDataView$mUKq);AS3.setBindable(ui_IconButton_70_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","SearchArea_thumbnailView_btn_tooltip")));
AS3.setBindable(ui_IconButton_70_9_$1,"tooltip",this.resourceManager.getString("com.coremedia.cms.editor.Editor","SearchArea_thumbnailView_btn_tooltip"));container_57_5_$1.items=[ui_IconButton_59_9_$1,ui_IconButton_70_9_$1];var layout_HBox_82_9_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(container_57_5_$1,"layout",layout_HBox_82_9_$1);config_$1.items=[collab_ProjectContentControlsToolbar_53_5_$1,tbFill_56_5_$1,container_57_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$mUKq(config_$1)}
return{extend:"Ext.toolbar.Toolbar",alias:"widget.com.coremedia.cms.editor.controlroom.config.projectContentToolbar",listView$mUKq:null,thumbDataView$mUKq:null,__initialize__$mUKq:__initialize__,constructor:ProjectContentToolbar$,super$mUKq:function(){Ext.toolbar.Toolbar.prototype.constructor.apply(this,arguments)},config:{project:null,selectedItemsVE:null,listOrThumbsViewVE:null},statics:{LIST_VIEW_ICON_BUTTON_ITEM_ID:"listViewIconButtonItemId",THUMB_DATA_VIEW_ICON_BUTTON_ITEM_ID:"thumbDataViewIconButtonItemId"},
requires:["Ext.container.Container","Ext.layout.container.HBox","Ext.toolbar.Fill","Ext.toolbar.Toolbar","com.coremedia.cms.editor.Editor_properties","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.components.IconButton","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.ContainerSkin","com.coremedia.ui.skins.ToolbarSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.project.components.ProjectContentContainer","com.coremedia.cms.editor.controlroom.project.components.ProjectContentControlsToolbar"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.components.ProjectContentThumbDataView",function(ProjectContentThumbDataView){function ProjectContentThumbDataView$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.components.ProjectContentThumbDataViewBase,{});var defaults_$1=AS3.cast(ProjectContentThumbDataView,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.multiSelect=true;config_$1.itemSelector=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.thumbnail.ThumbDataViewBase.LIST_ELEMENT_ITEM.getCSSSelector());
config_$1.deferEmptyText=false;config_$1.loadingText=net.jangaroo.ext.Exml.asString(Ext.LoadMask["prototype"]["msg"]);var ui_BindListPlugin_51_5_$1=AS3.cast(com.coremedia.ui.plugins.BindListPlugin,{});AS3.setBindable(ui_BindListPlugin_51_5_$1,"bindTo",AS3.getBindable(config,"bindTo","DUMMY"));AS3.setBindable(ui_BindListPlugin_51_5_$1,"lazy",false);AS3.setBindable(ui_BindListPlugin_51_5_$1,"initialViewLimit",AS3.getBindable(config,"initialViewLimit"));AS3.setBindable(ui_BindListPlugin_51_5_$1,"viewLimitIncrement",
AS3.getBindable(config,"viewLimitIncrement"));var ui_DataField_56_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_56_9_$1.name="name";ui_DataField_56_9_$1.ifUnreadable=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.formatNotReadableNameFromBeanRecord;ui_DataField_56_9_$1.ifError="";ui_DataField_56_9_$1.sortType=function(s){return s?s.toLowerCase():s};var ui_DataField_60_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_60_9_$1.name="shortName";ui_DataField_60_9_$1.mapping=
"name";ui_DataField_60_9_$1.ifError="";ui_DataField_60_9_$1.ifUnreadable=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.formatNotReadableNameFromBeanRecord;var ui_DataField_64_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_64_9_$1.name="typeCls";ui_DataField_64_9_$1.mapping="type.name";ui_DataField_64_9_$1.ifError="";ui_DataField_64_9_$1.ifUnreadable="";ui_DataField_64_9_$1["convert"]=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.localizeDocumentTypeName;var ui_DataField_69_9_$1=
AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_69_9_$1.name="docTypeClass";ui_DataField_69_9_$1.mapping="type.name";ui_DataField_69_9_$1.ifError="";ui_DataField_69_9_$1.ifUnreadable=mx.resources.ResourceManager.getInstance().getString("com.coremedia.icons.CoreIcons","no_rights");ui_DataField_69_9_$1["convert"]=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.getIconStyleClassForContentTypeName;var ui_DataField_74_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_74_9_$1.name=
"imageUri";ui_DataField_74_9_$1.mapping="type.name";ui_DataField_74_9_$1.ifError="";ui_DataField_74_9_$1.ifUnreadable="";ui_DataField_74_9_$1["convert"]=com.coremedia.cms.editor.sdk.collectionview.thumbnail.ThumbDataViewBase.computeThumbnailImage;var ui_DataField_79_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_79_9_$1.name="siteName";ui_DataField_79_9_$1.mapping="";ui_DataField_79_9_$1.ifUnreadable="";ui_DataField_79_9_$1["convert"]=com.coremedia.cms.editor.sdk.util.SiteUtil.getSiteNameFor;
var ui_DataField_83_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_83_9_$1.name="siteLocale";ui_DataField_83_9_$1.mapping="";ui_DataField_83_9_$1.ifUnreadable="";ui_DataField_83_9_$1["convert"]=com.coremedia.cms.editor.sdk.util.SiteUtil.getSiteLocaleNameFor;var data_DateField_88_9_$1=AS3.cast(Ext.data.field.Date,{});data_DateField_88_9_$1.name="freshness";data_DateField_88_9_$1.mapping="modificationDate";data_DateField_88_9_$1.dateFormat="d.m.Y - G:i";var ui_DataField_92_13_$1=AS3.cast(com.coremedia.ui.store.DataField,
{});ui_DataField_92_13_$1.ifUnreadable="";ui_DataField_92_13_$1.ifError="";delete ui_DataField_92_13_$1["xtype"];delete ui_DataField_92_13_$1["xclass"];net.jangaroo.ext.Exml.apply(data_DateField_88_9_$1,ui_DataField_92_13_$1);var ui_DataField_96_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_96_9_$1.name="creationDate";ui_DataField_96_9_$1.ifUnreadable="";ui_DataField_96_9_$1.ifError="";var ui_DataField_99_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_99_9_$1.name=
"status";ui_DataField_99_9_$1.ifUnreadable="";ui_DataField_99_9_$1.ifError="";ui_DataField_99_9_$1.mapping="";ui_DataField_99_9_$1["convert"]=com.coremedia.cms.editor.sdk.util.ContentLifecycleUtil.getDetailedLifecycleStatus;var ui_DataField_104_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_104_9_$1.name="editor";ui_DataField_104_9_$1.ifUnreadable="";ui_DataField_104_9_$1.ifError="";ui_DataField_104_9_$1.mapping="editor.name";AS3.setBindable(ui_BindListPlugin_51_5_$1,"fields",[ui_DataField_56_9_$1,
ui_DataField_60_9_$1,ui_DataField_64_9_$1,ui_DataField_69_9_$1,ui_DataField_74_9_$1,ui_DataField_79_9_$1,ui_DataField_83_9_$1,data_DateField_88_9_$1,ui_DataField_96_9_$1,ui_DataField_99_9_$1,ui_DataField_104_9_$1]);var ui_BindSelectionPlugin_110_5_$1=AS3.cast(com.coremedia.ui.plugins.BindSelectionPlugin,{});AS3.setBindable(ui_BindSelectionPlugin_110_5_$1,"selectedValues",AS3.getBindable(config,"selectedItemsValueExpression","DUMMY"));config_$1.plugins=[ui_BindListPlugin_51_5_$1,ui_BindSelectionPlugin_110_5_$1];
net.jangaroo.ext.Exml.apply(config_$1,config);this.super$DWHU(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.project.components.ProjectContentThumbDataViewBase",alias:"widget.com.coremedia.cms.editor.controlroom.config.projectContentThumbDataView",constructor:ProjectContentThumbDataView$,super$DWHU:function(){com.coremedia.cms.editor.controlroom.project.components.ProjectContentThumbDataViewBase.prototype.constructor.apply(this,arguments)},config:{initialViewLimit:0,viewLimitIncrement:0},
requires:["Ext.LoadMask","Ext.data.field.Date","com.coremedia.cms.editor.controlroom.project.components.ProjectContentThumbDataViewBase","com.coremedia.cms.editor.sdk.collectionview.thumbnail.ThumbDataViewBase","com.coremedia.cms.editor.sdk.util.ContentLifecycleUtil","com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil","com.coremedia.cms.editor.sdk.util.SiteUtil","com.coremedia.ui.plugins.BindListPlugin","com.coremedia.ui.plugins.BindSelectionPlugin","com.coremedia.ui.store.DataField","mx.resources.ResourceManager",
"net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.components.ProjectTabBase",function(ProjectTabBase){function ProjectTabBase$(config){if(arguments.length<=0)config=null;AS3.setBindable(this,"project",AS3.as(AS3.getBindable(config,"project")||AS3.getBindable(config,"entity","DUMMY"),com.coremedia.cms.editor.controlroom.project.rest.Project));AS3.setBindable(config,"entity",AS3.getBindable(this,"project"));this.super$bUFK(config)}function initComponent(){var this$=this;com.coremedia.cms.editor.sdk.desktop.WorkAreaTab.prototype.initComponent.call(this);
this.getProjectMembersVE$bUFK().loadValue(function(){this$.closeIfSessionUserIsNotMember$bUFK(this$.getProjectMembersVE$bUFK())});this.addListeners$bUFK()}function onDestroy(){this.removeListeners$bUFK();com.coremedia.cms.editor.sdk.desktop.WorkAreaTab.prototype.onDestroy.call(this)}function addListeners(){this.getProjectMembersVE$bUFK().addChangeListener(AS3.bind(this,"closeIfSessionUserIsNotMember$bUFK"))}function removeListeners(){this.getProjectMembersVE$bUFK().removeChangeListener(AS3.bind(this,
"closeIfSessionUserIsNotMember$bUFK"))}function closeIfSessionUserIsNotMember(membersVE){var members=membersVE.getValue();if(members&&members.indexOf(com.coremedia.cap.common.SESSION.getUser())<0)this.removeFromTabPanel$bUFK()}function removeFromTabPanel(){var this$=this;if(!this.doRemoveFromTabPanel$bUFK(this.up()))this.mon(com.coremedia.cms.editor.sdk.editorContext.getWorkArea(),"add",function(ownerCt){this$.doRemoveFromTabPanel$bUFK(AS3.as(ownerCt,Ext.tab.Panel))})}function doRemoveFromTabPanel(container){var tabPanel=
AS3.as(container,Ext.tab.Panel);if(tabPanel){tabPanel.remove(this,true);return true}return false}function getSelectedDateVE(){if(!this.selectedDateVE$bUFK)this.selectedDateVE$bUFK=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(undefined);return this.selectedDateVE$bUFK}function calculateTitle(){if(com.coremedia.ui.data.RemoteBeanUtil.isAccessible(AS3.getBindable(this,"project")))return AS3.getBindable(this,"project").getName();return null}function calculateIcon(){return this.resourceManager.getString("com.coremedia.icons.CoreIcons",
"project")}function getProjectMembersVE(){var this$=this;if(!this.projectMembersVE$bUFK)this.projectMembersVE$bUFK=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){switch(com.coremedia.ui.data.RemoteBeanUtil.isAccessible(AS3.getBindable(this$,"project"))){case false:return[];case true:return AS3.getBindable(this$,"project").getMembers();default:return undefined}});return this.projectMembersVE$bUFK}return{extend:"com.coremedia.cms.editor.sdk.desktop.WorkAreaTab",projectMembersVE$bUFK:null,
selectedDateVE$bUFK:null,constructor:ProjectTabBase$,super$bUFK:function(){com.coremedia.cms.editor.sdk.desktop.WorkAreaTab.prototype.constructor.apply(this,arguments)},initComponent:initComponent,onDestroy:onDestroy,addListeners$bUFK:addListeners,removeListeners$bUFK:removeListeners,closeIfSessionUserIsNotMember$bUFK:closeIfSessionUserIsNotMember,removeFromTabPanel$bUFK:removeFromTabPanel,doRemoveFromTabPanel$bUFK:doRemoveFromTabPanel,getSelectedDateVE:getSelectedDateVE,calculateTitle:calculateTitle,
calculateIcon:calculateIcon,getProjectMembersVE$bUFK:getProjectMembersVE,config:{project:null},requires:["Ext.tab.Panel","com.coremedia.cap.common.SESSION","com.coremedia.cms.editor.sdk.desktop.WorkAreaTab","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.data.RemoteBeanUtil","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.controlroom.project.rest.Project"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.components.ProjectContentContextMenu",function(ProjectContentContextMenu){function __initialize__(config){this.projectContentsListVE$x2Jd=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){return[new com.coremedia.cms.editor.controlroom.project.model.ProjectContents(AS3.getBindable(config,"project"),AS3.getBindable(config,"selectedItemsValueExpression").getValue())]})}function ProjectContentContextMenu$(config){if(arguments.length<=
0)config=null;this.__initialize__$x2Jd(config);var config_$1=AS3.cast(Ext.menu.Menu,{});var defaults_$1=AS3.cast(ProjectContentContextMenu,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.plain=true;var ui_HideObsoleteSeparatorsPlugin_60_5_$1=AS3.cast(com.coremedia.ui.plugins.HideObsoleteSeparatorsPlugin,{});config_$1.plugins=[ui_HideObsoleteSeparatorsPlugin_60_5_$1];var menuItem_64_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_64_5_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectContentContextMenu.OPEN_IN_TAB_ITEM_ID);
var editor_OpenInTabAction_66_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenInTabAction,{});AS3.setBindable(editor_OpenInTabAction_66_9_$1,"contentValueExpression",AS3.getBindable(config,"selectedItemsValueExpression"));menuItem_64_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.OpenInTabAction(editor_OpenInTabAction_66_9_$1);var menuItem_70_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_70_5_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectContentContextMenu.SHOW_IN_LIBRARY_ITEM_ID);var editor_ShowInRepositoryAction_72_9_$1=
AS3.cast(com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction,{});AS3.setBindable(editor_ShowInRepositoryAction_72_9_$1,"contentValueExpression",AS3.getBindable(config,"selectedItemsValueExpression"));menuItem_70_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction(editor_ShowInRepositoryAction_72_9_$1);var menuSeparator_76_5_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_78_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_78_5_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectContentContextMenu.CUT_CONTENT_TO_CLIPBOARD_ITEM_ID);
var collab_CutContentFromProjectAction_80_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.CutContentFromProjectAction,{});AS3.setBindable(collab_CutContentFromProjectAction_80_9_$1,"projectContentsListVE",this.projectContentsListVE$x2Jd);menuItem_78_5_$1.baseAction=new com.coremedia.cms.editor.controlroom.project.actions.CutContentFromProjectAction(collab_CutContentFromProjectAction_80_9_$1);var menuItem_84_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_84_5_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectContentContextMenu.COPY_CONTENT_TO_CLIPBOARD_ITEM_ID);
var editor_CopyToClipboardAction_86_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction,{});AS3.setBindable(editor_CopyToClipboardAction_86_9_$1,"contentValueExpression",AS3.getBindable(config,"selectedItemsValueExpression"));menuItem_84_5_$1.baseAction=new com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction(editor_CopyToClipboardAction_86_9_$1);var menuItem_90_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_90_5_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectContentContextMenu.PASTE_CONTENT_FROM_CLIPBOARD_ITEM_ID);
var collab_PasteFromClipboardToProjectAction_92_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.PasteFromClipboardToProjectAction,{});AS3.setBindable(collab_PasteFromClipboardToProjectAction_92_9_$1,"projects",[AS3.getBindable(config,"project")]);AS3.setBindable(collab_PasteFromClipboardToProjectAction_92_9_$1,"contentValueExpression",AS3.getBindable(config,"selectedItemsValueExpression"));menuItem_90_5_$1.baseAction=new com.coremedia.cms.editor.controlroom.project.actions.PasteFromClipboardToProjectAction(collab_PasteFromClipboardToProjectAction_92_9_$1);
var menuSeparator_97_5_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_99_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_99_5_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectContentContextMenu.RENAME_CONTENT_ITEM_ITEM_ID);var editor_RenameContentItemAction_101_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.RenameContentItemAction,{});AS3.setBindable(editor_RenameContentItemAction_101_9_$1,"contentValueExpression",AS3.getBindable(config,"selectedItemsValueExpression"));menuItem_99_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.RenameContentItemAction(editor_RenameContentItemAction_101_9_$1);
var menuSeparator_105_5_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_107_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_107_5_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectContentContextMenu.START_PUBLICATION_WORKFLOW_ITEM_ID);var collab_ShowStartPublicationWorkflowWindowAction_109_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.actions.ShowStartPublicationWorkflowWindowAction,{});AS3.setBindable(collab_ShowStartPublicationWorkflowWindowAction_109_9_$1,"contentValueExpression",AS3.getBindable(config,
"selectedItemsValueExpression"));menuItem_107_5_$1.baseAction=new com.coremedia.cms.editor.controlroom.actions.ShowStartPublicationWorkflowWindowAction(collab_ShowStartPublicationWorkflowWindowAction_109_9_$1);var menuItem_114_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_114_5_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectContentContextMenu.START_PUSH_TRANSLATION_WORKFLOW_ITEM_ID);var collab_ShowStartTranslationWorkflowWindowAction_116_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.actions.ShowStartTranslationWorkflowWindowAction,
{});AS3.setBindable(collab_ShowStartTranslationWorkflowWindowAction_116_9_$1,"contentValueExpression",AS3.getBindable(config,"selectedItemsValueExpression"));menuItem_114_5_$1.baseAction=new com.coremedia.cms.editor.controlroom.actions.ShowStartTranslationWorkflowWindowAction(collab_ShowStartTranslationWorkflowWindowAction_116_9_$1);var menuItem_121_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_121_5_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectContentContextMenu.START_PULL_TRANSLATION_WORKFLOW_ITEM_ID);
var collab_StartPullTranslationWorkflowAction_123_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.actions.StartPullTranslationWorkflowAction,{});AS3.setBindable(collab_StartPullTranslationWorkflowAction_123_9_$1,"contentValueExpression",AS3.getBindable(config,"selectedItemsValueExpression"));menuItem_121_5_$1.baseAction=new com.coremedia.cms.editor.controlroom.actions.StartPullTranslationWorkflowAction(collab_StartPullTranslationWorkflowAction_123_9_$1);var menuSeparator_127_5_$1=AS3.cast(Ext.menu.Separator,
{});var menuItem_129_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_129_5_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectContentContextMenu.WITHDRAW_ITEM_ID);var editor_WithdrawAction_131_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.WithdrawAction,{});AS3.setBindable(editor_WithdrawAction_131_9_$1,"contentValueExpression",AS3.getBindable(config,"selectedItemsValueExpression"));menuItem_129_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.WithdrawAction(editor_WithdrawAction_131_9_$1);var menuItem_135_5_$1=
AS3.cast(Ext.menu.Item,{});menuItem_135_5_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectContentContextMenu.REMOVE_CONTENT_ITEM_ID);var collab_RemoveContentFromProjectAction_137_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.RemoveContentFromProjectAction,{});AS3.setBindable(collab_RemoveContentFromProjectAction_137_9_$1,"projectContentsListVE",this.projectContentsListVE$x2Jd);menuItem_135_5_$1.baseAction=new com.coremedia.cms.editor.controlroom.project.actions.RemoveContentFromProjectAction(collab_RemoveContentFromProjectAction_137_9_$1);
config_$1.items=[menuItem_64_5_$1,menuItem_70_5_$1,menuSeparator_76_5_$1,menuItem_78_5_$1,menuItem_84_5_$1,menuItem_90_5_$1,menuSeparator_97_5_$1,menuItem_99_5_$1,menuSeparator_105_5_$1,menuItem_107_5_$1,menuItem_114_5_$1,menuItem_121_5_$1,menuSeparator_127_5_$1,menuItem_129_5_$1,menuItem_135_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$x2Jd(config_$1)}return{extend:"Ext.menu.Menu",alias:"widget.com.coremedia.cms.editor.controlroom.config.projectContentContextMenu",projectContentsListVE$x2Jd:null,
__initialize__$x2Jd:__initialize__,constructor:ProjectContentContextMenu$,super$x2Jd:function(){Ext.menu.Menu.prototype.constructor.apply(this,arguments)},config:{project:null,selectedItemsValueExpression:null},statics:{OPEN_IN_TAB_ITEM_ID:"openProjectContentInTabMenuItemId",SHOW_IN_LIBRARY_ITEM_ID:"showProjectContentInLibraryMenuItemId",CUT_CONTENT_TO_CLIPBOARD_ITEM_ID:"cutContentToClipboardMenuItemId",COPY_CONTENT_TO_CLIPBOARD_ITEM_ID:"copyContentToClipboardMenuItemId",PASTE_CONTENT_FROM_CLIPBOARD_ITEM_ID:"pasteContentFromClipboardMenuItemId",
RENAME_CONTENT_ITEM_ITEM_ID:"renameContentMenuItemId",START_PUBLICATION_WORKFLOW_ITEM_ID:"startPublicationWorkflowMenuItemId",START_PUSH_TRANSLATION_WORKFLOW_ITEM_ID:"startPushTranslationWorkflowMenuItemId",START_PULL_TRANSLATION_WORKFLOW_ITEM_ID:"startPullTranslationWorkflowMenuItemId",WITHDRAW_ITEM_ID:"withdrawContentMenuItemId",REMOVE_CONTENT_ITEM_ID:"removeContentMenuItemId"},requires:["Ext.menu.Item","Ext.menu.Menu","Ext.menu.Separator","com.coremedia.cms.editor.sdk.actions.OpenInTabAction",
"com.coremedia.cms.editor.sdk.actions.RenameContentItemAction","com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction","com.coremedia.cms.editor.sdk.actions.WithdrawAction","com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.HideObsoleteSeparatorsPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.actions.ShowStartPublicationWorkflowWindowAction","com.coremedia.cms.editor.controlroom.actions.ShowStartTranslationWorkflowWindowAction",
"com.coremedia.cms.editor.controlroom.actions.StartPullTranslationWorkflowAction","com.coremedia.cms.editor.controlroom.project.actions.CutContentFromProjectAction","com.coremedia.cms.editor.controlroom.project.actions.PasteFromClipboardToProjectAction","com.coremedia.cms.editor.controlroom.project.actions.RemoveContentFromProjectAction","com.coremedia.cms.editor.controlroom.project.model.ProjectContents"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.components.ProjectContentsPanelBase",function(ProjectContentsPanelBase){function ProjectContentsPanelBase$(config){if(arguments.length<=0)config=null;this.super$Z1T9(config)}function getListOrThumbViewVE(){if(!this.listOrThumbViewVE$Z1T9)this.listOrThumbViewVE$Z1T9=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(com.coremedia.cms.editor.controlroom.project.components.ProjectContentContainer.LIST_VIEW_ITEM_ID);return this.listOrThumbViewVE$Z1T9}
function getSelectedItemsVE(){if(!this.selectedItemsVE$Z1T9)this.selectedItemsVE$Z1T9=com.coremedia.ui.data.ValueExpressionFactory.createFromValue([]);return this.selectedItemsVE$Z1T9}return{extend:"com.coremedia.cms.editor.controlroom.project.components.ProjectSubPanel",listOrThumbViewVE$Z1T9:null,selectedItemsVE$Z1T9:null,constructor:ProjectContentsPanelBase$,super$Z1T9:function(){com.coremedia.cms.editor.controlroom.project.components.ProjectSubPanel.prototype.constructor.apply(this,arguments)},
getListOrThumbViewVE:getListOrThumbViewVE,getSelectedItemsVE:getSelectedItemsVE,requires:["com.coremedia.cms.editor.controlroom.project.components.ProjectSubPanel","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.controlroom.project.components.ProjectContentContainer"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.components.ProjectCalendarPanelBase",function(ProjectCalendarPanelBase){var BEFORE_PROJECT_START_MODIFIER$static="before-project-start";var AFTER_PROJECT_END_MODIFIER$static="after-project-end";var HAS_OPEN_TODOS_MODIFIER$static="has-open-todos";var HAS_OVERDUE_TODOS_MODIFIER$static="has-overdue-todos";var HAS_FINISHED_TODOS_MODIFIER$static="has-finished-todos";function ProjectCalendarPanelBase$(config){if(arguments.length<=0)config=null;this.super$H5_b(config)}
function initComponent(){com.coremedia.cms.editor.controlroom.project.components.ProjectSubPanel.prototype.initComponent.call(this)}function getProjectStartDateVE(project){if(!this.projectStartDateVE$H5_b)this.projectStartDateVE$H5_b=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectPropertyNames.START_DATE,project);return this.projectStartDateVE$H5_b}function getProjectDueDateVE(project){project=project||AS3.getBindable(this,"project");
if(!this.projectDueDateVE$H5_b)this.projectDueDateVE$H5_b=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){if(!com.coremedia.ui.data.RemoteBeanUtil.isAccessible(project))return undefined;var dueDate=project.getDueDate();if(dueDate)dueDate=com.coremedia.cms.editor.sdk.util.TimeUtil.getDayAtMidnight(dueDate);return dueDate});return this.projectDueDateVE$H5_b}function calculateModifiersForDate(date){var minDate=this.getProjectStartDateVE(AS3.getBindable(this,"project")).getValue();
minDate=minDate&&com.coremedia.cms.editor.sdk.util.TimeUtil.getDayAtMidnight(minDate);var maxDate=this.getProjectDueDateVE(AS3.getBindable(this,"project")).getValue();maxDate=maxDate&&com.coremedia.cms.editor.sdk.util.TimeUtil.getDayAtMidnight(maxDate);var modifiers=[];if(minDate&&date<minDate)modifiers.push(BEFORE_PROJECT_START_MODIFIER$static);if(maxDate&&maxDate<date)modifiers.push(AFTER_PROJECT_END_MODIFIER$static);var todoByDate=this.getTodoByDateVE$H5_b().getValue()||{};if(todoByDate.hasOwnProperty(date)){var affectedTodos=
todoByDate[date]||[];if(affectedTodos.length>0){var now=new Date;var hasOverdueTodos=affectedTodos.some(function(todo){now.setHours(0,0,0,0);return todo.getDueDate()<now});var hasTodosInProgress=affectedTodos.some(function(todo){return todo.getTodoState()===com.coremedia.cms.editor.todo.rest.impl.TodoImpl.IN_PROGRESS_STATE});if(hasTodosInProgress&&hasOverdueTodos)modifiers.push(HAS_OVERDUE_TODOS_MODIFIER$static);else if(hasTodosInProgress)modifiers.push(HAS_OPEN_TODOS_MODIFIER$static);else modifiers.push(HAS_FINISHED_TODOS_MODIFIER$static)}}return modifiers}
function removeDateSelection(){AS3.getBindable(this,"selectedDateVE").setValue(undefined)}function getTodoByDateVE(){var this$=this;if(!this.todoByDate$H5_b)this.todoByDate$H5_b=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){if(!com.coremedia.ui.data.RemoteBeanUtil.isAccessible(AS3.getBindable(this$,"project")))return undefined;if(!AS3.getBindable(this$,"project").getTodos())return undefined;var todoByDate={};AS3.getBindable(this$,"project").getTodos().forEach(function(todo){var dateWithTime=
todo.getDueDate();if(dateWithTime){var date=com.coremedia.cms.editor.sdk.util.TimeUtil.getDayAtMidnight(dateWithTime);if(!todoByDate[date])todoByDate[date]=[];todoByDate[date].push(todo)}});return todoByDate});return this.todoByDate$H5_b}function getActiveFooterVE(){var this$=this;if(!this.activeFooterVE$H5_b)this.activeFooterVE$H5_b=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){if(AS3.getBindable(this$,"selectedDateVE")&&AS3.getBindable(this$,"selectedDateVE").getValue())return com.coremedia.cms.editor.controlroom.project.components.ProjectCalendarPanel.SHOW_ALL_TODOS_BTN_ITEM_ID;
return com.coremedia.cms.editor.controlroom.project.components.ProjectCalendarPanel.DATE_HELP_TEXT_ITEM_ID});return this.activeFooterVE$H5_b}return{extend:"com.coremedia.cms.editor.controlroom.project.components.ProjectSubPanel",projectStartDateVE$H5_b:null,projectDueDateVE$H5_b:null,todoByDate$H5_b:null,activeFooterVE$H5_b:null,constructor:ProjectCalendarPanelBase$,super$H5_b:function(){com.coremedia.cms.editor.controlroom.project.components.ProjectSubPanel.prototype.constructor.apply(this,arguments)},
initComponent:initComponent,getProjectStartDateVE:getProjectStartDateVE,getProjectDueDateVE:getProjectDueDateVE,calculateModifiersForDate:calculateModifiersForDate,removeDateSelection:removeDateSelection,getTodoByDateVE$H5_b:getTodoByDateVE,getActiveFooterVE:getActiveFooterVE,config:{selectedDateVE:null},requires:["com.coremedia.cms.editor.controlroom.project.components.ProjectSubPanel","com.coremedia.cms.editor.sdk.util.TimeUtil","com.coremedia.cms.editor.todo.rest.impl.TodoImpl","com.coremedia.ui.data.RemoteBeanUtil",
"com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.controlroom.project.components.ProjectCalendarPanel","com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectPropertyNames"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.components.ProjectMembersPanelBase",function(ProjectMembersPanelBase){function ProjectMembersPanelBase$(config){if(arguments.length<=0)config=null;this.super$Tr7E(config)}function getUserNameOrMe$static(member){if(member===com.coremedia.cap.common.SESSION.getUser())return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","Project_users_me");else return member.getName()}function removeProjectMember(member){var user=
AS3.as(member,com.coremedia.cap.user.User);if(!user)return;var config=AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.RemoveProjectMemberAction,{});AS3.setBindable(config,"projects",[AS3.getBindable(this,"project")]);AS3.setBindable(config,"member",user);var action=new com.coremedia.cms.editor.controlroom.project.actions.RemoveProjectMemberAction(config);action.execute()}function getProjectMembersVE(){var this$=this;if(!this.projectUsersVE$Tr7E)this.projectUsersVE$Tr7E=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){if(!com.coremedia.ui.data.RemoteBeanUtil.isAccessible(AS3.getBindable(this$,
"project")))return undefined;var members=AS3.getBindable(this$,"project").getMembers()||[];for(var i=0;i<members.length;i++){var memberName=members[i].getName();if(!memberName)return undefined}var sortedMembers=members.sort(function compare(member1,member2){var sessionUser=com.coremedia.cap.common.SESSION.getUser();if(member1===sessionUser)return-1;else if(member2===sessionUser)return 1;else{var member1Name=member1.getName();var member2Name=member2.getName();if(member1Name<member2Name)return-1;if(member1Name>
member2Name)return 1;return 0}});return sortedMembers});return this.projectUsersVE$Tr7E}function isMemberReadOnly$static(member){return member===com.coremedia.cap.common.SESSION.getUser()}return{extend:"com.coremedia.cms.editor.controlroom.project.components.ProjectSubPanel",projectUsersVE$Tr7E:null,constructor:ProjectMembersPanelBase$,super$Tr7E:function(){com.coremedia.cms.editor.controlroom.project.components.ProjectSubPanel.prototype.constructor.apply(this,arguments)},removeProjectMember:removeProjectMember,
getProjectMembersVE:getProjectMembersVE,statics:{getUserNameOrMe:getUserNameOrMe$static,isMemberReadOnly:isMemberReadOnly$static},requires:["com.coremedia.cap.common.SESSION","com.coremedia.cap.user.User","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.project.components.ProjectSubPanel","com.coremedia.ui.data.RemoteBeanUtil","com.coremedia.ui.data.ValueExpressionFactory","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.controlroom.project.actions.RemoveProjectMemberAction"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.components.ProjectSubPanel",function(ProjectSubPanel){function ProjectSubPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.CollapsiblePanel,{});var defaults_$1=AS3.cast(ProjectSubPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.PanelSkin.CARD_200.getSkin());net.jangaroo.ext.Exml.apply(config_$1,config);
this.super$1q6M(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.CollapsiblePanel",alias:"widget.com.coremedia.cms.editor.controlroom.config.projectSubPanel",constructor:ProjectSubPanel$,super$1q6M:function(){com.coremedia.cms.editor.sdk.premular.CollapsiblePanel.prototype.constructor.apply(this,arguments)},config:{project:null},requires:["com.coremedia.cms.editor.sdk.premular.CollapsiblePanel","com.coremedia.ui.skins.PanelSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.components.ProjectContentsDropZone",function(ProjectContentsDropZone){function ProjectContentsDropZone$(component,projectContentsDragDropModel,config,customGetTargetFromEvent,getActiveStoreOfComponent,selectedItemsVE){this.super$vwXd(component.getEl(),config);this.dropComponent$vwXd=component;this.customGetTargetFromEvent$vwXd=customGetTargetFromEvent;this.getActiveStoreOfComponent$vwXd=getActiveStoreOfComponent;this.projectContentsDragDropModel$vwXd=
projectContentsDragDropModel;this.selectedItemsVE$vwXd=selectedItemsVE;this.beanCollectionDropZoneHelper$vwXd=new com.coremedia.ui.util.BeanCollectionDropZoneHelper(projectContentsDragDropModel,false)}function notifyEnter(source,event,data){return this.beanCollectionDropZoneHelper$vwXd.notifyEnter(source,event,data)}function notifyOut(source,e,data){this.beanCollectionDropZoneHelper$vwXd.notifyOut(source,e,data)}function onNodeOver(nodeData,source,event,data){Ext.dd.DropZone.prototype.onNodeOver.call(this,
nodeData,source,event,data);return this.beanCollectionDropZoneHelper$vwXd.onNodeOver(nodeData,source,event,data)}function onNodeDrop(nodeData,source,dropEvent,data){var success=this.beanCollectionDropZoneHelper$vwXd.onNodeDrop(nodeData,source,dropEvent,data);if(success&&!this.beanCollectionDropZoneHelper$vwXd.isAlternativeRequested(dropEvent)&&this.getActiveStoreOfComponent$vwXd)this.selectDroppedNodesIfVisible$vwXd(this.getActiveStoreOfComponent$vwXd(this.dropComponent$vwXd),com.coremedia.ui.util.BeanCollectionDropZoneHelper.extractNodeIds(data));
return success}function selectDroppedNodesIfVisible(componentStore,droppedContentsUris){var this$=this;var droppedContents=this.projectContentsDragDropModel$vwXd.getContentsForNodeIds(droppedContentsUris)||[];com.coremedia.ui.util.ConcurrentUtil.executeWhen(function(){var allContentsInStore=droppedContents.every(function(content){return componentStore.findBy(function(record){return record.getBean()===content})!==-1});if(allContentsInStore)return true;com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(componentStore,
"load");return false},function(){com.coremedia.ui.util.EventUtil.invokeLater(function(){this$.selectedItemsVE$vwXd.setValue(droppedContents)})})}function getTargetFromEvent(e){return this.customGetTargetFromEvent$vwXd(e)}return{extend:"Ext.dd.DropZone",beanCollectionDropZoneHelper$vwXd:null,dropComponent$vwXd:null,customGetTargetFromEvent$vwXd:null,getActiveStoreOfComponent$vwXd:null,projectContentsDragDropModel$vwXd:null,selectedItemsVE$vwXd:null,constructor:ProjectContentsDropZone$,super$vwXd:function(){Ext.dd.DropZone.prototype.constructor.apply(this,
arguments)},notifyEnter:notifyEnter,notifyOut:notifyOut,onNodeOver:onNodeOver,onNodeDrop:onNodeDrop,selectDroppedNodesIfVisible$vwXd:selectDroppedNodesIfVisible,getTargetFromEvent:getTargetFromEvent,requires:["Ext.dd.DropZone","com.coremedia.ui.data.dependencies.DependencyTracker","com.coremedia.ui.util.BeanCollectionDropZoneHelper","com.coremedia.ui.util.ConcurrentUtil","com.coremedia.ui.util.EventUtil"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.components.ProjectDueDatePanelBase",function(ProjectDueDatePanelBase){function ProjectDueDatePanelBase$(config){var this$=this;if(arguments.length<=0)config=null;this.super$mhb5(config);this.dueDateField$mhb5=AS3.as(this.queryById(com.coremedia.cms.editor.controlroom.project.components.ProjectDueDatePanel.DUE_DATE_FIELD_ID),com.coremedia.ui.components.StatefulDateField);this.mon(this.dueDateField$mhb5,"afterrender",function(){this$.mon(this$.dueDateField$mhb5,
"select",function(dateField,date){AS3.getBindable(this$,"project").setDueDate(date)});var dueDateFieldElement=this$.dueDateField$mhb5.getEl();this$.mon(dueDateFieldElement,"keydown",function(e){if(e.keyCode===13){dueDateFieldElement.blur();this$.dueDateField$mhb5["triggerBlur"].apply(this$.dueDateField$mhb5)}})})}function getDueDateValueExpression(p){if(!this.dueDateValueExpression$mhb5)this.dueDateValueExpression$mhb5=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectPropertyNames.DUE_DATE,
p||AS3.getBindable(this,"project"));return this.dueDateValueExpression$mhb5}function getEmptyTextValueExpression(){if(!this.emptyTextValueExpression$mhb5)this.emptyTextValueExpression$mhb5=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","Project_dueDate_emptyText"));return this.emptyTextValueExpression$mhb5}function resetDate(){AS3.getBindable(this,"project").setDueDate(null);this.dueDateField$mhb5&&this.dueDateField$mhb5.reset()}
return{extend:"Ext.panel.Panel",dueDateField$mhb5:null,emptyTextValueExpression$mhb5:null,dueDateValueExpression$mhb5:null,constructor:ProjectDueDatePanelBase$,super$mhb5:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},getDueDateValueExpression:getDueDateValueExpression,getEmptyTextValueExpression:getEmptyTextValueExpression,resetDate:resetDate,config:{project:null},requires:["Ext.panel.Panel","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.ui.components.StatefulDateField",
"com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.controlroom.project.components.ProjectDueDatePanel","com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectPropertyNames"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.components.AddProjectMemberDialogBase",function(AddProjectMemberDialogBase){function AddProjectMemberDialogBase$(config){if(arguments.length<=0)config=null;this.super$2IHo(config);AS3.setBindable(this,"selectedMembersValueExpression",AS3.getBindable(this,"selectedMembersValueExpression")||AS3.getBindable(config,"selectedMembersValueExpression"));this.oldSelectedMembers$2IHo=[];this.selectedMembersContainer$2IHo=AS3.as(this.queryById(com.coremedia.cms.editor.sdk.member.SelectMembersContainer.SELECTED_MEMBERS_CT_ITEM_ID),
com.coremedia.cms.editor.sdk.member.MembersContainer);this.selectedMembersContainerBody$2IHo=AS3.as(this.selectedMembersContainer$2IHo.queryById(com.coremedia.cms.editor.sdk.member.MembersContainer.MEMBERS_CT_BODY_ITEM_ID),Ext.container.Container)}function initComponent(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.initComponent.call(this);this.addListeners$2IHo()}function onDestroy(){this.removeListeners$2IHo();com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.onDestroy.call(this)}
function addListeners(){this.getProjectMembersVE$2IHo().addChangeListener(AS3.bind(this,"closeOnRemoveFromProject$2IHo"))}function removeListeners(){this.getProjectMembersVE$2IHo().removeChangeListener(AS3.bind(this,"closeOnRemoveFromProject$2IHo"))}function afterUpdateCallback(){var this$=this;if(this.selectedMembersContainerBody$2IHo&&this.selectedMembersContainerBody$2IHo.isVisible(true)){var newSelectedMembers=this.getTheSelectedMembersValueExpression().getValue();if(this.oldSelectedMembers$2IHo.length===
0||newSelectedMembers.length>=this.oldSelectedMembers$2IHo.length&&this.oldSelectedMembers$2IHo[this.oldSelectedMembers$2IHo.length-1]!==newSelectedMembers[newSelectedMembers.length-1])if(this.selectedMembersContainer$2IHo.getHeight()>this.selectedMembersContainerBody$2IHo.getHeight())this.mon(this.selectedMembersContainer$2IHo,"afterlayout",function(){this$.scrollLastMemberIntoView$2IHo()},null,{single:true});else this.scrollLastMemberIntoView$2IHo()}this.oldSelectedMembers$2IHo&&(this.oldSelectedMembers$2IHo=
newSelectedMembers.concat([]))}function scrollLastMemberIntoView(){var lastMemberElement=this.selectedMembersContainerBody$2IHo.getComponent(this.selectedMembersContainerBody$2IHo.itemCollection.getCount()-1);lastMemberElement&&lastMemberElement.getEl()&&lastMemberElement.getEl().dom.scrollIntoView(false)}function getTitleVE(){var this$=this;if(!this.titleVE$2IHo)this.titleVE$2IHo=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){if(com.coremedia.ui.data.RemoteBeanUtil.isAccessible(AS3.getBindable(this$,
"project"))){var projectName=AS3.getBindable(this$,"project").getName();var projectNameEllipsed=Ext.util.Format.ellipsis(com.coremedia.ui.util.EncodingUtil.encodeForHTML(projectName),50,true);var titleText=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","AddProjectMemberDialog_title_text");return Ext.String.format(titleText,projectNameEllipsed)}return""});return this.titleVE$2IHo}function getTheSelectedMembersValueExpression(){if(!AS3.getBindable(this,
"selectedMembersValueExpression"))AS3.setBindable(this,"selectedMembersValueExpression",com.coremedia.ui.data.ValueExpressionFactory.createFromValue([]));return AS3.getBindable(this,"selectedMembersValueExpression")}function share(){var selectedMembers=this.getTheSelectedMembersValueExpression().getValue();if(com.coremedia.ui.data.RemoteBeanUtil.isAccessible(AS3.getBindable(this,"project")))AS3.getBindable(this,"project").addMembers(selectedMembers);this.close()}function getShareButtonDisabledValueExpression(){var this$=
this;return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var selectedMembers=this$.getTheSelectedMembersValueExpression().getValue();return selectedMembers.length===0})}function getProjectMembersVE(){var this$=this;if(!this.projectMembersVE$2IHo)this.projectMembersVE$2IHo=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){if(!com.coremedia.ui.data.RemoteBeanUtil.isAccessible(AS3.getBindable(this$,"project")))return undefined;return AS3.getBindable(this$,
"project").getMembers()});return this.projectMembersVE$2IHo}function closeOnRemoveFromProject(){var this$=this;AS3.getBindable(this,"project").load(function(project){if(!com.coremedia.ui.data.RemoteBeanUtil.isAccessible(project))this$.close();else project.getMembers(function(members){if(members.indexOf(com.coremedia.cap.common.SESSION.getUser())<0)this$.close()})})}return{extend:"com.coremedia.cms.editor.sdk.components.StudioDialog",oldSelectedMembers$2IHo:null,selectedMembersContainer$2IHo:null,
selectedMembersContainerBody$2IHo:null,titleVE$2IHo:null,projectMembersVE$2IHo:null,constructor:AddProjectMemberDialogBase$,super$2IHo:function(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.constructor.apply(this,arguments)},initComponent:initComponent,onDestroy:onDestroy,addListeners$2IHo:addListeners,removeListeners$2IHo:removeListeners,afterUpdateCallback:afterUpdateCallback,scrollLastMemberIntoView$2IHo:scrollLastMemberIntoView,getTitleVE:getTitleVE,getTheSelectedMembersValueExpression:getTheSelectedMembersValueExpression,
share:share,getShareButtonDisabledValueExpression:getShareButtonDisabledValueExpression,getProjectMembersVE$2IHo:getProjectMembersVE,closeOnRemoveFromProject$2IHo:closeOnRemoveFromProject,config:{project:null,selectedMembersValueExpression:null},requires:["Ext.String","Ext.container.Container","Ext.util.Format","com.coremedia.cap.common.SESSION","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.sdk.components.StudioDialog","com.coremedia.cms.editor.sdk.member.MembersContainer",
"com.coremedia.cms.editor.sdk.member.SelectMembersContainer","com.coremedia.ui.data.RemoteBeanUtil","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.util.EncodingUtil","mx.resources.ResourceManager"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.components.ProjectCalendarPanel",function(ProjectCalendarPanel){function ProjectCalendarPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.components.ProjectCalendarPanelBase,{});var defaults_$1=AS3.cast(ProjectCalendarPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var ui_CustomizableDatePicker_30_5_$1=AS3.cast(com.coremedia.ui.components.CustomizableDatePicker,
{});ui_CustomizableDatePicker_30_5_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectCalendarPanel.DATE_PICKER_ITEM_ID);ui_CustomizableDatePicker_30_5_$1.showToday=false;ui_CustomizableDatePicker_30_5_$1.scrollOnTopBar=true;AS3.setBindable(ui_CustomizableDatePicker_30_5_$1,"modifiersForDate",AS3.bind(this,"calculateModifiersForDate"));AS3.setBindable(ui_CustomizableDatePicker_30_5_$1,"selectedDateVE",AS3.getBindable(config,"selectedDateVE"));config_$1.items=[ui_CustomizableDatePicker_30_5_$1];var toolbar_37_5_$1=
AS3.cast(Ext.toolbar.Toolbar,{});toolbar_37_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.EMBEDDED_FOOTER_GRID_100.getSkin());toolbar_37_5_$1["focusableContainer"]=false;AS3.setBindable(toolbar_37_5_$1,"dock","bottom");var tbFill_41_9_$1=AS3.cast(Ext.toolbar.Fill,{});var ui_SwitchingContainer_42_9_$1=AS3.cast(com.coremedia.ui.components.SwitchingContainer,{});AS3.setBindable(ui_SwitchingContainer_42_9_$1,"activeItemValueExpression",this.getActiveFooterVE());var button_44_13_$1=
AS3.cast(Ext.button.Button,{});button_44_13_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE.getSkin());button_44_13_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectCalendarPanel.SHOW_ALL_TODOS_BTN_ITEM_ID);AS3.setBindable(button_44_13_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","Project_Todos_show_all")));AS3.setBindable(button_44_13_$1,"handler",AS3.bind(this,"removeDateSelection"));var ui_BindVisibilityPlugin_49_17_$1=
AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_49_17_$1.bindTo=AS3.getBindable(config,"selectedDateVE");button_44_13_$1.plugins=[ui_BindVisibilityPlugin_49_17_$1];var displayField_52_13_$1=AS3.cast(Ext.form.field.Display,{});displayField_52_13_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectCalendarPanel.DATE_HELP_TEXT_ITEM_ID);AS3.setBindable(displayField_52_13_$1,"margin","0 8 0 0");AS3.setBindable(displayField_52_13_$1,"value",this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"Project_Todos_select_day"));ui_SwitchingContainer_42_9_$1.items=[button_44_13_$1,displayField_52_13_$1];toolbar_37_5_$1.items=[tbFill_41_9_$1,ui_SwitchingContainer_42_9_$1];config_$1.dockedItems=[toolbar_37_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$6rwq(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.project.components.ProjectCalendarPanelBase",alias:"widget.com.coremedia.cms.editor.controlroom.config.projectCalendarPanel",constructor:ProjectCalendarPanel$,super$6rwq:function(){com.coremedia.cms.editor.controlroom.project.components.ProjectCalendarPanelBase.prototype.constructor.apply(this,
arguments)},statics:{DATE_PICKER_ITEM_ID:"datePickerItemId",SHOW_ALL_TODOS_BTN_ITEM_ID:"showAllTodosBtnItemId",DATE_HELP_TEXT_ITEM_ID:"dateHelpTextItemId"},requires:["Ext.button.Button","Ext.form.field.Display","Ext.toolbar.Fill","Ext.toolbar.Toolbar","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.project.components.ProjectCalendarPanelBase","com.coremedia.ui.components.CustomizableDatePicker","com.coremedia.ui.components.SwitchingContainer","com.coremedia.ui.plugins.BindVisibilityPlugin",
"com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.ToolbarSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.components.ProjectDueDatePanel",function(ProjectDueDatePanel){function ProjectDueDatePanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.components.ProjectDueDatePanelBase,{});var defaults_$1=AS3.cast(ProjectDueDatePanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var fieldContainer_25_5_$1=AS3.cast(Ext.form.FieldContainer,{});AS3.setBindable(fieldContainer_25_5_$1,
"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","Project_dueDate_title")));fieldContainer_25_5_$1.labelAlign="top";fieldContainer_25_5_$1.labelSeparator="";var ui_StatefulDateField_31_9_$1=AS3.cast(com.coremedia.ui.components.StatefulDateField,{});ui_StatefulDateField_31_9_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectDueDatePanel.DUE_DATE_FIELD_ID);ui_StatefulDateField_31_9_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"Date_property_field"));ui_StatefulDateField_31_9_$1.format=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","DateTimePropertyField_dateFormat"));ui_StatefulDateField_31_9_$1.enableKeyEvents=true;ui_StatefulDateField_31_9_$1.formatText="";var ui_BindPropertyPlugin_37_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_37_13_$1.bindTo=this.getDueDateValueExpression(AS3.getBindable(config,"project"));ui_BindPropertyPlugin_37_13_$1.reverseTransformer=
function(date){return AS3.as(date,Date)};ui_BindPropertyPlugin_37_13_$1.bidirectional=true;var ui_BindPropertyPlugin_40_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_40_13_$1.bindTo=this.getEmptyTextValueExpression();ui_BindPropertyPlugin_40_13_$1.componentProperty="emptyText";ui_StatefulDateField_31_9_$1.plugins=[ui_BindPropertyPlugin_37_13_$1,ui_BindPropertyPlugin_40_13_$1];var button_44_9_$1=AS3.cast(Ext.button.Button,{});button_44_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE.getSkin());
button_44_9_$1.itemId="reset";AS3.setBindable(button_44_9_$1,"handler",AS3.bind(this,"resetDate"));AS3.setBindable(button_44_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","DateTimePropertyField_dateReset_text")));fieldContainer_25_5_$1.items=[ui_StatefulDateField_31_9_$1,button_44_9_$1];var layout_HBox_50_9_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(fieldContainer_25_5_$1,"layout",layout_HBox_50_9_$1);config_$1.items=[fieldContainer_25_5_$1];
net.jangaroo.ext.Exml.apply(config_$1,config);this.super$1uXK(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.project.components.ProjectDueDatePanelBase",alias:"widget.com.coremedia.cms.editor.controlroom.config.projectDueDatePanel",constructor:ProjectDueDatePanel$,super$1uXK:function(){com.coremedia.cms.editor.controlroom.project.components.ProjectDueDatePanelBase.prototype.constructor.apply(this,arguments)},statics:{DUE_DATE_FIELD_ID:"projectDueDateField"},requires:["Ext.button.Button",
"Ext.form.FieldContainer","Ext.layout.container.HBox","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.project.components.ProjectDueDatePanelBase","com.coremedia.ui.components.StatefulDateField","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.skins.ButtonSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.components.ProjectContentThumbView",function(ProjectContentThumbView){function __initialize__(){this.emptyText$obKK='\x3cdiv class\x3d"collection-view-empty-text"\x3e'+this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","Project_content_empty_text")+"\x3c/div\x3e"}function ProjectContentThumbView$(config){if(arguments.length<=0)config=null;this.__initialize__$obKK();var config_$1=AS3.cast(Ext.panel.Panel,{});var defaults_$1=
AS3.cast(ProjectContentThumbView,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"scrollable",true);AS3.setBindable(config_$1,"maxHeight",340);var ui_BEMPlugin_66_5_$1=AS3.cast(com.coremedia.ui.plugins.BEMPlugin,{});AS3.setBindable(ui_BEMPlugin_66_5_$1,"block",com.coremedia.ui.bem.LinkListBEMEntities.BLOCK);AS3.setBindable(ui_BEMPlugin_66_5_$1,"modifier",com.coremedia.ui.bem.LinkListBEMEntities.MODIFIER_NO_VALIDATION);config_$1.plugins=[ui_BEMPlugin_66_5_$1];var collab_ProjectContentThumbDataView_70_5_$1=
AS3.cast(com.coremedia.cms.editor.controlroom.project.components.ProjectContentThumbDataView,{});collab_ProjectContentThumbDataView_70_5_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectContentThumbView.THUMB_DATA_VIEW_ITEM_ID);collab_ProjectContentThumbDataView_70_5_$1.dragDDGroup="ContentLinkDD";AS3.setBindable(collab_ProjectContentThumbDataView_70_5_$1,"emptyText",net.jangaroo.ext.Exml.asString(this.emptyText$obKK));AS3.setBindable(collab_ProjectContentThumbDataView_70_5_$1,"selectedItemsValueExpression",
AS3.getBindable(config,"selectedItemsValueExpression"));AS3.setBindable(collab_ProjectContentThumbDataView_70_5_$1,"bindTo",AS3.getBindable(config,"contentsValueExpression"));var ui_BEMMixin_76_9_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,{});AS3.setBindable(ui_BEMMixin_76_9_$1,"bemElement",com.coremedia.ui.bem.LinkListBEMEntities.ELEMENT_LIST);delete ui_BEMMixin_76_9_$1["xtype"];delete ui_BEMMixin_76_9_$1["xclass"];net.jangaroo.ext.Exml.apply(collab_ProjectContentThumbDataView_70_5_$1,ui_BEMMixin_76_9_$1);
var ui_ContextMenuPlugin_79_9_$1=AS3.cast(com.coremedia.ui.plugins.ContextMenuPlugin,{});var collab_ProjectContentContextMenu_81_13_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.components.ProjectContentContextMenu,{});AS3.setBindable(collab_ProjectContentContextMenu_81_13_$1,"project",AS3.getBindable(config,"project"));collab_ProjectContentContextMenu_81_13_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectContentThumbView.PROJECT_CONTENTS_THUMB_VIEW_CONTEXT_MENU);AS3.setBindable(collab_ProjectContentContextMenu_81_13_$1,
"selectedItemsValueExpression",AS3.getBindable(config,"selectedItemsValueExpression"));AS3.setBindable(ui_ContextMenuPlugin_79_9_$1,"contextMenu",collab_ProjectContentContextMenu_81_13_$1);collab_ProjectContentThumbDataView_70_5_$1.plugins=[ui_ContextMenuPlugin_79_9_$1];collab_ProjectContentThumbDataView_70_5_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;config_$1.items=[collab_ProjectContentThumbDataView_70_5_$1];var editor_LinkListDropAreaWithSuggestions_90_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.LinkListDropAreaWithSuggestions,
{});AS3.setBindable(editor_LinkListDropAreaWithSuggestions_90_5_$1,"dock","bottom");AS3.setBindable(editor_LinkListDropAreaWithSuggestions_90_5_$1,"linkListWrapper",this.getLinkListWrapper(config));editor_LinkListDropAreaWithSuggestions_90_5_$1.suggestionsTemplate=com.coremedia.cms.editor.sdk.premular.fields.LinkListDropAreaUtils.getProjectContentSuggestionsTemplate();AS3.setBindable(editor_LinkListDropAreaWithSuggestions_90_5_$1,"ddGroups",["ContentDD","ContentLinkDD"]);AS3.setBindable(editor_LinkListDropAreaWithSuggestions_90_5_$1,
"handler",AS3.getBindable(config,"dropAreaHandler"));AS3.setBindable(editor_LinkListDropAreaWithSuggestions_90_5_$1,"appendOnDrop",false);AS3.setBindable(editor_LinkListDropAreaWithSuggestions_90_5_$1,"dropHandler",AS3.bind(this,"handleDropAreaDrop"));var ui_DataField_98_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_98_9_$1.name="path";ui_DataField_98_9_$1.mapping="";ui_DataField_98_9_$1["convert"]=function(c){return c.getPath()};ui_DataField_98_9_$1.encode=false;AS3.setBindable(editor_LinkListDropAreaWithSuggestions_90_5_$1,
"extraFields",[ui_DataField_98_9_$1]);var ui_BEMMixin_104_9_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,{});AS3.setBindable(ui_BEMMixin_104_9_$1,"bemElement",com.coremedia.ui.bem.LinkListBEMEntities.ELEMENT_TAIL);delete ui_BEMMixin_104_9_$1["xtype"];delete ui_BEMMixin_104_9_$1["xclass"];net.jangaroo.ext.Exml.apply(editor_LinkListDropAreaWithSuggestions_90_5_$1,ui_BEMMixin_104_9_$1);var editor_SearchContentLinkSuggester_107_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.util.SearchContentLinkSuggester,
{});AS3.setBindable(editor_SearchContentLinkSuggester_107_9_$1,"linkTypeName","Document_");AS3.setBindable(editor_LinkListDropAreaWithSuggestions_90_5_$1,"linkSuggester",new com.coremedia.cms.editor.sdk.util.SearchContentLinkSuggester(editor_SearchContentLinkSuggester_107_9_$1));config_$1.dockedItems=[editor_LinkListDropAreaWithSuggestions_90_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$obKK(config_$1)}function handleDropAreaDrop(contents){AS3.getBindable(this,"selectedItemsValueExpression").setValue(contents)}
function getLinkListWrapper(config){if(!this._linkListWrapper$obKK){var linkListWrapperCfg=AS3.cast(com.coremedia.cms.editor.sdk.util.MemoryLinkListWrapper,{});AS3.setBindable(linkListWrapperCfg,"linksVE",AS3.getBindable(config,"contentsValueExpression"));this._linkListWrapper$obKK=new com.coremedia.cms.editor.sdk.util.MemoryLinkListWrapper(linkListWrapperCfg)}return this._linkListWrapper$obKK}return{extend:"Ext.panel.Panel",alias:"widget.com.coremedia.cms.editor.controlroom.config.projectContentThumbView",
emptyText$obKK:null,__initialize__$obKK:__initialize__,constructor:ProjectContentThumbView$,super$obKK:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},_linkListWrapper$obKK:null,handleDropAreaDrop:handleDropAreaDrop,getLinkListWrapper:getLinkListWrapper,config:{project:null,contentsValueExpression:null,selectedItemsValueExpression:null,dropAreaHandler:null},statics:{THUMB_DATA_VIEW_ITEM_ID:"thumbDataViewItemId",PROJECT_CONTENTS_THUMB_VIEW_CONTEXT_MENU:"projectContentsThumbViewContextMenu"},
requires:["Ext.panel.Panel","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.sdk.premular.fields.LinkListDropAreaUtils","com.coremedia.cms.editor.sdk.premular.fields.LinkListDropAreaWithSuggestions","com.coremedia.cms.editor.sdk.util.MemoryLinkListWrapper","com.coremedia.cms.editor.sdk.util.SearchContentLinkSuggester","com.coremedia.ui.bem.LinkListBEMEntities","com.coremedia.ui.plugins.BEMMixin","com.coremedia.ui.plugins.BEMPlugin","com.coremedia.ui.plugins.ContextMenuPlugin",
"com.coremedia.ui.store.DataField","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.project.components.ProjectContentContextMenu","com.coremedia.cms.editor.controlroom.project.components.ProjectContentThumbDataView"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.components.ProjectContentContainerBase",function(ProjectContentContainerBase){var SORT_COLUMN_ID$static="_id";var SORT_DIRECTION_ID$static="_direction";function ProjectContentContainerBase$(config){if(arguments.length<=0)config=null;this.super$PGdh(config);this.thumbViewStore$PGdh=this.findThumbViewStore$PGdh();this.thumbViewStore$PGdh.on("load",AS3.bind(this,"thumbViewLoaded$PGdh"));this.thumbViewStore$PGdh.on("datachanged",AS3.bind(this,"thumbViewChanged$PGdh"));
this.listViewStore$PGdh=this.findListViewStore$PGdh();this.listViewStore$PGdh.on("load",AS3.bind(this,"listViewLoaded$PGdh"));this.listViewStore$PGdh.on("datachanged",AS3.bind(this,"listViewChanged$PGdh"));this.addListener("afterrender",AS3.bind(this,"setupFolderContentDropZone$PGdh"))}function getProjectContentVE(config){if(!this.projectContentVE$PGdh)this.projectContentVE$PGdh=com.coremedia.ui.data.ValueExpressionFactory.createFromValueHolder(new com.coremedia.ui.data.BeanPropertyValueHolder(AS3.getBindable(config,
"project"),"contents",true));return this.projectContentVE$PGdh}function findListViewStore(){return AS3.as(this.queryById(com.coremedia.cms.editor.controlroom.project.components.ProjectContentContainer.LIST_VIEW_ITEM_ID),Ext.grid.Panel).getStore()}function findThumbViewStore(){return AS3.as(AS3.as(this.queryById(com.coremedia.cms.editor.controlroom.project.components.ProjectContentThumbView.THUMB_DATA_VIEW_ITEM_ID),Ext.view.View).getStore(),Ext.data.Store)}function thumbViewLoaded(){this.sortStore$PGdh(this.thumbViewStore$PGdh)}
function thumbViewChanged(){this.sortStore$PGdh(this.listViewStore$PGdh)}function listViewLoaded(){this.sortStore$PGdh(this.listViewStore$PGdh)}function listViewChanged(){this.sortStore$PGdh(this.thumbViewStore$PGdh)}function sortStore(store){var this$=this;if(!this.isSortDisabled$PGdh)try{this.previousSelectedItems$PGdh=AS3.getBindable(this,"selectedItemsVE").getValue()||[];this.isSortDisabled$PGdh=true;var sorters=this.listViewStore$PGdh.getSorters();if(sorters&&sorters.length>0){var listViewSortState=
sorters.getAt(0);if(listViewSortState){var listViewSortField=listViewSortState[SORT_COLUMN_ID$static];var listViewSortDir=listViewSortState[SORT_DIRECTION_ID$static];if(listViewSortField)store.sort(listViewSortField,listViewSortDir)}}}finally{this.isSortDisabled$PGdh=false}else if(this.previousSelectedItems$PGdh)com.coremedia.ui.util.EventUtil.invokeLater(function(){AS3.getBindable(this$,"selectedItemsVE").setValue(this$.previousSelectedItems$PGdh)})}function setupFolderContentDropZone(){var dropZoneConfig=
AS3.cast(Ext.dd.DropZone,{ddGroup:"ContentLinkDD"});this.projectContentsDropZone$PGdh=new com.coremedia.cms.editor.controlroom.project.components.ProjectContentsDropZone(AS3.as(this.queryById(com.coremedia.cms.editor.controlroom.project.components.ProjectContentContainer.SWITCHING_CONTAINER_ITEM_ID),Ext.Component),new com.coremedia.cms.editor.controlroom.project.components.ProjectContentsDragDropModel(AS3.getBindable(this,"project")),dropZoneConfig,AS3.bind(this,"customGetTargetFromEvent$PGdh"),AS3.bind(this,
"getActiveStore"),AS3.getBindable(this,"selectedItemsVE"));this.projectContentsDropZone$PGdh.addToGroup("ContentDD")}function beforeDestroy(){this.projectContentsDropZone$PGdh&&this.projectContentsDropZone$PGdh.unreg();Ext.container.Container.prototype.beforeDestroy.call(this)}function getActiveStore(){var listOrThumbView=AS3.getBindable(this,"listOrThumbsViewVE").getValue();if(listOrThumbView===com.coremedia.cms.editor.controlroom.project.components.ProjectContentContainer.THUMB_VIEW_ITEM_ID)return this.thumbViewStore$PGdh;
else if(listOrThumbView===com.coremedia.cms.editor.controlroom.project.components.ProjectContentContainer.LIST_VIEW_ITEM_ID)return this.listViewStore$PGdh;return undefined}function dropAreaHandler$static(searchTerm){var searchState=null;searchState=new com.coremedia.cms.editor.sdk.collectionview.SearchState;searchState.contentType=com.coremedia.cap.content.ContentTypeNames.DOCUMENT;if(searchTerm){var prefixSearch=searchTerm.length>=3&&searchTerm.charAt(searchTerm.length-1)!==" ";searchState.searchText=
prefixSearch?searchTerm+"*":searchTerm}com.coremedia.cms.editor.sdk.editorContext.getCollectionViewManager().openSearch(searchState)}function customGetTargetFromEvent(){return{node:{id:AS3.getBindable(this,"project").getId()}}}return{extend:"Ext.container.Container",projectContentVE$PGdh:null,projectContentsDropZone$PGdh:null,listViewStore$PGdh:null,thumbViewStore$PGdh:null,isSortDisabled$PGdh:false,previousSelectedItems$PGdh:null,constructor:ProjectContentContainerBase$,super$PGdh:function(){Ext.container.Container.prototype.constructor.apply(this,
arguments)},getProjectContentVE:getProjectContentVE,findListViewStore$PGdh:findListViewStore,findThumbViewStore$PGdh:findThumbViewStore,thumbViewLoaded$PGdh:thumbViewLoaded,thumbViewChanged$PGdh:thumbViewChanged,listViewLoaded$PGdh:listViewLoaded,listViewChanged$PGdh:listViewChanged,sortStore$PGdh:sortStore,setupFolderContentDropZone$PGdh:setupFolderContentDropZone,beforeDestroy:beforeDestroy,getActiveStore:getActiveStore,customGetTargetFromEvent$PGdh:customGetTargetFromEvent,config:{project:null,
listOrThumbsViewVE:null,selectedItemsVE:null},statics:{dropAreaHandler:dropAreaHandler$static},requires:["Ext.Component","Ext.container.Container","Ext.data.Store","Ext.dd.DropZone","Ext.grid.Panel","Ext.view.View","com.coremedia.cap.content.ContentTypeNames","com.coremedia.cms.editor.sdk.collectionview.SearchState","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.ui.data.BeanPropertyValueHolder","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.util.EventUtil"],uses:["com.coremedia.cms.editor.controlroom.project.components.ProjectContentContainer",
"com.coremedia.cms.editor.controlroom.project.components.ProjectContentThumbView","com.coremedia.cms.editor.controlroom.project.components.ProjectContentsDragDropModel","com.coremedia.cms.editor.controlroom.project.components.ProjectContentsDropZone"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.components.ProjectMembersPanel",function(ProjectMembersPanel){function ProjectMembersPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.components.ProjectMembersPanelBase,{});var defaults_$1=AS3.cast(ProjectMembersPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var editor_MembersContainer_29_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.member.MembersContainer,
{});AS3.setBindable(editor_MembersContainer_29_5_$1,"memberDisplayTransformer",com.coremedia.cms.editor.controlroom.project.components.ProjectMembersPanelBase.getUserNameOrMe);AS3.setBindable(editor_MembersContainer_29_5_$1,"memberReadOnlyPredicate",com.coremedia.cms.editor.controlroom.project.components.ProjectMembersPanelBase.isMemberReadOnly);AS3.setBindable(editor_MembersContainer_29_5_$1,"memberRemovedHandler",AS3.bind(this,"removeProjectMember"));AS3.setBindable(editor_MembersContainer_29_5_$1,
"membersValueExpression",this.getProjectMembersVE());config_$1.items=[editor_MembersContainer_29_5_$1];var toolbar_35_5_$1=AS3.cast(Ext.toolbar.Toolbar,{});toolbar_35_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.EMBEDDED_FOOTER_GRID_100.getSkin());AS3.setBindable(toolbar_35_5_$1,"dock","bottom");toolbar_35_5_$1["focusableContainer"]=false;var tbFill_39_9_$1=AS3.cast(Ext.toolbar.Fill,{});var button_41_9_$1=AS3.cast(Ext.button.Button,{});button_41_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE.getSkin());
button_41_9_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectMembersPanel.LEAVE_BTN_ITEM_ID);AS3.setBindable(button_41_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","Project_leaveProject_text")));AS3.setBindable(button_41_9_$1,"tooltip",this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","Project_leaveProject_tooltip"));AS3.setBindable(button_41_9_$1,"iconCls","");var collab_LeaveProjectsAction_47_13_$1=
AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.LeaveProjectsAction,{});AS3.setBindable(collab_LeaveProjectsAction_47_13_$1,"projects",[AS3.getBindable(config,"project")]);button_41_9_$1.baseAction=new com.coremedia.cms.editor.controlroom.project.actions.LeaveProjectsAction(collab_LeaveProjectsAction_47_13_$1);var button_51_9_$1=AS3.cast(Ext.button.Button,{});button_51_9_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectMembersPanel.ADD_BTN_ITEM_ID);button_51_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.INLINE.getSkin());
AS3.setBindable(button_51_9_$1,"scale","small");AS3.setBindable(button_51_9_$1,"iconCls","");var collab_ShowAddProjectMemberDialogAction_56_13_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.ShowAddProjectMemberDialogAction,{});AS3.setBindable(collab_ShowAddProjectMemberDialogAction_56_13_$1,"projects",[AS3.getBindable(config,"project")]);button_51_9_$1.baseAction=new com.coremedia.cms.editor.controlroom.project.actions.ShowAddProjectMemberDialogAction(collab_ShowAddProjectMemberDialogAction_56_13_$1);
toolbar_35_5_$1.items=[tbFill_39_9_$1,button_41_9_$1,button_51_9_$1];config_$1.dockedItems=[toolbar_35_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$vyrT(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.project.components.ProjectMembersPanelBase",alias:"widget.com.coremedia.cms.editor.controlroom.config.projectMembersPanel",constructor:ProjectMembersPanel$,super$vyrT:function(){com.coremedia.cms.editor.controlroom.project.components.ProjectMembersPanelBase.prototype.constructor.apply(this,
arguments)},statics:{LEAVE_BTN_ITEM_ID:"leaveBtnItemId",ADD_BTN_ITEM_ID:"addBtnItemId"},requires:["Ext.button.Button","Ext.toolbar.Fill","Ext.toolbar.Toolbar","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.project.components.ProjectMembersPanelBase","com.coremedia.cms.editor.sdk.member.MembersContainer","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.ToolbarSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.project.actions.LeaveProjectsAction",
"com.coremedia.cms.editor.controlroom.project.actions.ShowAddProjectMemberDialogAction"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.components.ProjectTodosPanelBase",function(ProjectTodosPanelBase){var DUE_DATE_VALIDATION_WARNING$static;function DUE_DATE_VALIDATION_WARNING$static_(){DUE_DATE_VALIDATION_WARNING$static=new com.coremedia.ui.data.impl.IssueImpl({severity:com.coremedia.ui.data.validation.Severity.WARN,code:mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","Project_Todo_due_after_project_due_date_warning_text")})}
var DUE_DATE_VALIDATION_ERROR$static;function DUE_DATE_VALIDATION_ERROR$static_(){DUE_DATE_VALIDATION_ERROR$static=new com.coremedia.ui.data.impl.IssueImpl({severity:com.coremedia.ui.data.validation.Severity.ERROR,code:mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","Project_Todo_due_date_overdue_error_text")})}function ProjectTodosPanelBase$(config){if(arguments.length<=0)config=null;if(AS3.getBindable(config,"filterBtnCfg")){this.reenableTitleCollapse$SLpw=
config.titleCollapse;config.titleCollapse=false}this.super$SLpw(config)}function afterRender(){var this$=this;com.coremedia.cms.editor.controlroom.project.components.ProjectSubPanel.prototype.afterRender.call(this);this.todosCt$SLpw=AS3.as(this.queryById(com.coremedia.cms.editor.controlroom.project.components.ProjectTodosPanel.TODOS_CT_ITEM_ID),Ext.container.Container);if(AS3.getBindable(this,"filterBtnCfg")){this.getHeader().add(AS3.getBindable(this,"filterBtnCfg"));if(this.reenableTitleCollapse$SLpw){this.getHeader().getTitle().el.on("click",
function(){if(this$.collapsible)AS3.getBindable(this$,"collapsed","DUMMY")?this$.expand():this$.collapse()});this.applyTitleCollapseStyle()}}}function getTodosVE(){var this$=this;if(!this.todosVE$SLpw)this.todosVE$SLpw=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){if(!com.coremedia.ui.data.RemoteBeanUtil.isAccessible(AS3.getBindable(this$,"project")))return undefined;var todos=AS3.getBindable(this$,"project").getTodos();if(!todos)return undefined;if(this$.getIsNoFilterActiveVE().getValue())return todos;
else{var selectedDate=AS3.as(AS3.getBindable(this$,"selectedDateVE").getValue(),Date);var normalizedSelectedDate=com.coremedia.cms.editor.sdk.util.TimeUtil.getDayAtMidnight(selectedDate);var result=[];todos.forEach(function(todo){if(!com.coremedia.ui.data.RemoteBeanUtil.isAccessible(todo))return;var todoDueDate=AS3.as(todo.getDueDate(),Date);if(todoDueDate&&com.coremedia.cms.editor.sdk.util.TimeUtil.compareDates(normalizedSelectedDate,com.coremedia.cms.editor.sdk.util.TimeUtil.getDayAtMidnight(todoDueDate))===
0)result.push(todo)});return result}});return this.todosVE$SLpw}function getProjectMembersVE(){var this$=this;if(!this.projectMembersVE$SLpw)this.projectMembersVE$SLpw=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){return AS3.getBindable(this$,"project").getMembers()});return this.projectMembersVE$SLpw}function handleEditorModeSwitch(isEditorMode){if(!isEditorMode)this.todosCt$SLpw.itemCollection.each(function(item){var todoPanel=AS3.as(item.getInnerCt(),com.coremedia.cms.editor.todo.components.TodoPanel);
if(todoPanel){var assigneeButton=AS3.as(todoPanel.queryById(com.coremedia.cms.editor.todo.components.TodoPanel.ASSIGNEE_BUTTON_ITEM_ID),Ext.button.Button);if(assigneeButton&&AS3.getBindable(assigneeButton,"menu","DUMMY").isVisible(true)){var delayedAssigneeButtonShowMenu=new Ext.util.DelayedTask(AS3.bind(assigneeButton,"showMenu"));delayedAssigneeButtonShowMenu.delay(com.coremedia.cms.editor.todo.components.TodoPanelBase.MODE_SWITCH_DELAY)}}})}function dropHandler(dropIndex,dragItem){var draggableItem=
AS3.as(dragItem,com.coremedia.ui.components.DraggableItem);var dragTodoPanel=AS3.as(draggableItem.getInnerCt(),com.coremedia.cms.editor.todo.components.TodoPanel);if(dragTodoPanel)if(this.todosCt$SLpw.itemCollection.indexOf(dragItem)!==-1){var dragTodo=AS3.getBindable(dragTodoPanel,"todo","DUMMY");var todos=AS3.getBindable(this,"project").getTodos();var todosWithoutDragTodo=todos.filter(function(todo){return todo!==dragTodo});var newTodos=todosWithoutDragTodo.slice(0,dropIndex).concat([dragTodo]).concat(todosWithoutDragTodo.slice(dropIndex));
AS3.getBindable(this,"project").setTodos(newTodos);return true}return false}function dueDateIssueBuilder(date){var dueDateIsssues=[];if(this.isInvalidDueDate$SLpw(date))dueDateIsssues.push(DUE_DATE_VALIDATION_WARNING$static);if(isOverdueDueDate$static(date))dueDateIsssues.push(DUE_DATE_VALIDATION_ERROR$static);return dueDateIsssues}function isOverdueDueDate$static(date){var now=new Date;now.setHours(0,0,0,0);return date<now}function isInvalidDueDate(date){var projectDueDate=AS3.getBindable(this,"project").getDueDate();
return!!(date&&projectDueDate&&date>projectDueDate)}function getIsNoFilterActiveVE(){var this$=this;if(!this.isNoFilterActiveVE$SLpw)this.isNoFilterActiveVE$SLpw=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){return!AS3.is(AS3.getBindable(this$,"selectedDateVE").getValue(),Date)});return this.isNoFilterActiveVE$SLpw}function getTitleVE(){var this$=this;if(!this.titleVE$SLpw)this.titleVE$SLpw=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var date=
AS3.as(AS3.getBindable(this$,"selectedDateVE").getValue(),Date);if(!date)return this$.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","Project_todos_title");var formattedDate=Ext.Date.format(date,this$.resourceManager.getString("com.coremedia.cms.editor.Editor","shortDateFormat"));return Ext.String.format(this$.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","Project_todos_title_filtered_by_due_date"),formattedDate)});return this.titleVE$SLpw}
function getAdditionalDueDatePickerModifiers(date){var minDate=AS3.as(AS3.getBindable(this,"project").getStartDate(),Date);minDate=minDate&&com.coremedia.cms.editor.sdk.util.TimeUtil.getDayAtMidnight(minDate);var maxDate=AS3.as(AS3.getBindable(this,"project").getDueDate(),Date);maxDate=maxDate&&com.coremedia.cms.editor.sdk.util.TimeUtil.getDayAtMidnight(maxDate);var modifiers=[];if(minDate&&date<minDate)modifiers.push("before-project-start");if(maxDate&&maxDate<date)modifiers.push("after-project-end");
return modifiers}function removeDateSelection(){AS3.getBindable(this,"selectedDateVE").setValue(undefined)}function newTodo(){com.coremedia.cms.editor.todo.rest.impl.TodoRepositoryImpl.getInstance().createTodo(AS3.getBindable(this,"project"),"",AS3.bind(this,"handleTodoCreated"))}function handleTodoCreated(todo){var this$=this;var panel;com.coremedia.ui.util.ConcurrentUtil.executeWhen(function(){com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(this$.todosCt$SLpw,"add");panel=
this$.findTodoPanel$SLpw(todo);return!!panel},function(){this$.openEditorForTodoPanel$SLpw(panel)})}function findTodoPanel(todo){var result=null;this.todosCt$SLpw&&this.todosCt$SLpw.itemCollection.each(function(item){var panel=AS3.as(item.getInnerCt(),com.coremedia.cms.editor.todo.components.TodoPanel);if(panel&&AS3.getBindable(panel,"todo","DUMMY")===todo)result=panel});return result}function openEditorForTodoPanel(panel){panel.switchToEditorMode();var textArea=AS3.as(panel.queryById(com.coremedia.cms.editor.todo.components.TodoPanel.TEXT_INPUT_ITEM_ID),
Ext.form.field.TextArea);if(!textArea)return;com.coremedia.ui.util.ConcurrentUtil.executeWhen(function(){com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(textArea,"afterrender");return textArea.rendered},function(){textArea.focus(true);panel.getEl().dom.scrollIntoView()})}return{extend:"com.coremedia.cms.editor.controlroom.project.components.ProjectSubPanel",reenableTitleCollapse$SLpw:false,todosVE$SLpw:null,projectMembersVE$SLpw:null,isNoFilterActiveVE$SLpw:null,titleVE$SLpw:null,
todosCt$SLpw:null,constructor:ProjectTodosPanelBase$,super$SLpw:function(){com.coremedia.cms.editor.controlroom.project.components.ProjectSubPanel.prototype.constructor.apply(this,arguments)},afterRender:afterRender,getTodosVE:getTodosVE,getProjectMembersVE:getProjectMembersVE,handleEditorModeSwitch:handleEditorModeSwitch,dropHandler:dropHandler,dueDateIssueBuilder:dueDateIssueBuilder,isInvalidDueDate$SLpw:isInvalidDueDate,getIsNoFilterActiveVE:getIsNoFilterActiveVE,getTitleVE:getTitleVE,getAdditionalDueDatePickerModifiers:getAdditionalDueDatePickerModifiers,
removeDateSelection:removeDateSelection,newTodo:newTodo,handleTodoCreated:handleTodoCreated,findTodoPanel$SLpw:findTodoPanel,openEditorForTodoPanel$SLpw:openEditorForTodoPanel,config:{selectedDateVE:null,filterBtnCfg:null},statics:{DUE_DATE_VALIDATION_WARNING:undefined,DUE_DATE_VALIDATION_ERROR:undefined,__initStatics__:function(){DUE_DATE_VALIDATION_WARNING$static_();DUE_DATE_VALIDATION_ERROR$static_()}},requires:["Ext.Date","Ext.String","Ext.button.Button","Ext.container.Container","Ext.form.field.TextArea",
"Ext.util.DelayedTask","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.project.components.ProjectSubPanel","com.coremedia.cms.editor.sdk.util.TimeUtil","com.coremedia.cms.editor.todo.components.TodoPanel","com.coremedia.cms.editor.todo.components.TodoPanelBase","com.coremedia.cms.editor.todo.rest.impl.TodoRepositoryImpl","com.coremedia.ui.components.DraggableItem","com.coremedia.ui.data.RemoteBeanUtil",
"com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.dependencies.DependencyTracker","com.coremedia.ui.data.impl.IssueImpl","com.coremedia.ui.data.validation.Severity","com.coremedia.ui.util.ConcurrentUtil","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.controlroom.project.components.ProjectTodosPanel"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.actions.ShowAddProjectMemberDialogAction",function(ShowAddProjectMemberDialogAction){function ShowAddProjectMemberDialogAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.ShowAddProjectMemberDialogActionBase,{});var defaults_$1=AS3.cast(ShowAddProjectMemberDialogAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);
this.super$xNGl(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.project.actions.ShowAddProjectMemberDialogActionBase",constructor:ShowAddProjectMemberDialogAction$,super$xNGl:function(){com.coremedia.cms.editor.controlroom.project.actions.ShowAddProjectMemberDialogActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.controlroom.project.actions.ShowAddProjectMemberDialogActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.actions.ShowProjectAction",function(ShowProjectAction){function ShowProjectAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.ShowProjectActionBase,{});var defaults_$1=AS3.cast(ShowProjectAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$VlSG(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.project.actions.ShowProjectActionBase",
constructor:ShowProjectAction$,super$VlSG:function(){com.coremedia.cms.editor.controlroom.project.actions.ShowProjectActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.controlroom.project.actions.ShowProjectActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.actions.CreateProjectFromMyEditedContentsAction",function(CreateProjectFromMyEditedContentsAction){function CreateProjectFromMyEditedContentsAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.CreateProjectFromMyEditedContentsActionBase,{});var defaults_$1=AS3.cast(CreateProjectFromMyEditedContentsAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$7LJA(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.project.actions.CreateProjectFromMyEditedContentsActionBase",constructor:CreateProjectFromMyEditedContentsAction$,super$7LJA:function(){com.coremedia.cms.editor.controlroom.project.actions.CreateProjectFromMyEditedContentsActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.controlroom.project.actions.CreateProjectFromMyEditedContentsActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.actions.AbstractProjectContentsAction",function(AbstractProjectContentsAction){function AbstractProjectContentsAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.AbstractProjectContentsActionBase,{});var defaults_$1=AS3.cast(AbstractProjectContentsAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$BYt5(config_$1)}
return{extend:"com.coremedia.cms.editor.controlroom.project.actions.AbstractProjectContentsActionBase",metadata:{"":["PublicApi"]},constructor:AbstractProjectContentsAction$,super$BYt5:function(){com.coremedia.cms.editor.controlroom.project.actions.AbstractProjectContentsActionBase.prototype.constructor.apply(this,arguments)},config:{projectContentsListVE:null,projectContentsList:null},requires:["com.coremedia.cms.editor.controlroom.project.actions.AbstractProjectContentsActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.actions.RenameProjectAction",function(RenameProjectAction){function RenameProjectAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.RenameProjectActionBase,{});var defaults_$1=AS3.cast(RenameProjectAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$6Apl(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.project.actions.RenameProjectActionBase",
constructor:RenameProjectAction$,super$6Apl:function(){com.coremedia.cms.editor.controlroom.project.actions.RenameProjectActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.controlroom.project.actions.RenameProjectActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.actions.AbstractProjectContentsActionBase",function(AbstractProjectContentsActionBase){function AbstractProjectContentsActionBase$(config){if(arguments.length<=0)config=null;this.projectContentsListVE$Hpus=AS3.getBindable(config,"projectContentsListVE");AS3.getBindable(config,"projectContentsList")&&this.setProjectContentsList$Hpus(AS3.getBindable(config,"projectContentsList"));this.super$Hpus(AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.AbstractProjectContentsAction,
net.jangaroo.ext.Exml.apply({},config)))}function getProjectContentsList(){return this.getProjectContentsListVE$Hpus().getValue()}function setProjectContentsList(projectContentsList){this.getProjectContentsListVE$Hpus().setValue(projectContentsList)}function calculateHidden(){this.loadProjectContentsList$Hpus();return this.checkHidden$Hpus()}function checkHidden(){return false}function calculateDisabled(){this.loadProjectContentsList$Hpus();return this.checkDisabled$Hpus()}function checkDisabled(){return!this.isValid()}
function iterateOverProjectContents(fun){var projectContentsList=AS3.as(this.getProjectContentsList$Hpus(),Array);projectContentsList&&projectContentsList.forEach(function(projectContents){var project=AS3.as(projectContents.getProject(),com.coremedia.cms.editor.controlroom.project.rest.Project);var contents=AS3.as(projectContents.getContents(),Array);if(project&&contents)fun(project,contents)})}function getProjectContentsListVE(){if(!this.projectContentsListVE$Hpus)this.projectContentsListVE$Hpus=
com.coremedia.ui.data.ValueExpressionFactory.createFromValue([]);return this.projectContentsListVE$Hpus}function isValid(){var isValid=true;var numberOfContents=0;this.iterateOverProjectContents(function(project,contents){numberOfContents+=contents.length;isValid=isValid&&contents.every(function(content){return AS3.is(content,com.coremedia.cap.content.Content)})});return isValid&&numberOfContents>0}function loadProjectContentsList(){this.getProjectContentsListVE$Hpus().getValue();this.iterateOverProjectContents(function(project,
contents){if(project&&contents){project.load();contents.forEach(function(content){if(AS3.is(content,com.coremedia.ui.data.RemoteBean))content.load()})}})}return{extend:"com.coremedia.ui.actions.DependencyTrackedAction",metadata:{"":["PublicApi"]},projectContentsListVE$Hpus:null,constructor:AbstractProjectContentsActionBase$,super$Hpus:function(){com.coremedia.ui.actions.DependencyTrackedAction.prototype.constructor.apply(this,arguments)},getProjectContentsList$Hpus:getProjectContentsList,setProjectContentsList$Hpus:setProjectContentsList,
calculateHidden:calculateHidden,checkHidden$Hpus:checkHidden,calculateDisabled:calculateDisabled,checkDisabled$Hpus:checkDisabled,iterateOverProjectContents:iterateOverProjectContents,getProjectContentsListVE$Hpus:getProjectContentsListVE,isValid:isValid,loadProjectContentsList$Hpus:loadProjectContentsList,requires:["com.coremedia.cap.content.Content","com.coremedia.ui.actions.DependencyTrackedAction","com.coremedia.ui.data.RemoteBean","com.coremedia.ui.data.ValueExpressionFactory","net.jangaroo.ext.Exml"],
uses:["com.coremedia.cms.editor.controlroom.project.actions.AbstractProjectContentsAction","com.coremedia.cms.editor.controlroom.project.rest.Project"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.actions.ShowAddProjectMemberDialogActionBase",function(ShowAddProjectMemberDialogActionBase){function ShowAddProjectMemberDialogActionBase$(config){if(arguments.length<=0)config=null;this.super$oJ_W(AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.ShowAddProjectMemberDialogAction,com.coremedia.cms.editor.controlroom.actions.ControlRoomConfigUtil.extendConfig(config,"showAddProjectMemberDialogAction",{handler:AS3.bind(this,"showDialog$oJ_W")})))}
function showDialog(){var project=this.getProject();if(project){var addProjectMemberDialogCfg=AS3.cast(com.coremedia.cms.editor.controlroom.project.components.AddProjectMemberDialog,{});AS3.setBindable(addProjectMemberDialogCfg,"project",project);var dialog=new com.coremedia.cms.editor.controlroom.project.components.AddProjectMemberDialog(addProjectMemberDialogCfg);dialog.show()}}function checkDisabled(){return this.getProject()===null}function checkHidden(){return this.checkDisabled()}return{extend:"com.coremedia.cms.editor.controlroom.project.actions.AbstractProjectAction",
constructor:ShowAddProjectMemberDialogActionBase$,super$oJ_W:function(){com.coremedia.cms.editor.controlroom.project.actions.AbstractProjectAction.prototype.constructor.apply(this,arguments)},showDialog$oJ_W:showDialog,checkDisabled:checkDisabled,checkHidden:checkHidden,requires:["com.coremedia.cms.editor.controlroom.project.actions.AbstractProjectAction"],uses:["com.coremedia.cms.editor.controlroom.actions.ControlRoomConfigUtil","com.coremedia.cms.editor.controlroom.project.actions.ShowAddProjectMemberDialogAction",
"com.coremedia.cms.editor.controlroom.project.components.AddProjectMemberDialog"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.actions.RenameProjectActionBase",function(RenameProjectActionBase){function RenameProjectActionBase$(config){if(arguments.length<=0)config=null;this.super$AXXW(AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.RenameProjectAction,com.coremedia.cms.editor.controlroom.actions.ControlRoomConfigUtil.extendConfig(config,"renameProject",{handler:AS3.bind(this,"renameProject$AXXW")})))}function renameProject(){com.coremedia.cms.editor.controlroom.project.ProjectHelper.renameProjectInMyProjects(this.getProject(),
false)}function checkDisabled(){return this.getProject()===null}function checkHidden(){return this.checkDisabled()}return{extend:"com.coremedia.cms.editor.controlroom.project.actions.AbstractProjectAction",constructor:RenameProjectActionBase$,super$AXXW:function(){com.coremedia.cms.editor.controlroom.project.actions.AbstractProjectAction.prototype.constructor.apply(this,arguments)},renameProject$AXXW:renameProject,checkDisabled:checkDisabled,checkHidden:checkHidden,requires:["com.coremedia.cms.editor.controlroom.project.actions.AbstractProjectAction"],
uses:["com.coremedia.cms.editor.controlroom.actions.ControlRoomConfigUtil","com.coremedia.cms.editor.controlroom.project.ProjectHelper","com.coremedia.cms.editor.controlroom.project.actions.RenameProjectAction"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.actions.LeaveProjectsActionBase",function(LeaveProjectsActionBase){function LeaveProjectsActionBase$(config){if(arguments.length<=0)config=null;this.super$LHys(AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.LeaveProjectsAction,com.coremedia.cms.editor.controlroom.actions.ControlRoomConfigUtil.extendConfig(config,"leaveProjects",{member:com.coremedia.cap.common.SESSION.getUser()})))}return{extend:"com.coremedia.cms.editor.controlroom.project.actions.RemoveProjectMemberAction",
constructor:LeaveProjectsActionBase$,super$LHys:function(){com.coremedia.cms.editor.controlroom.project.actions.RemoveProjectMemberAction.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cap.common.SESSION","com.coremedia.cms.editor.controlroom.project.actions.RemoveProjectMemberAction"],uses:["com.coremedia.cms.editor.controlroom.actions.ControlRoomConfigUtil","com.coremedia.cms.editor.controlroom.project.actions.LeaveProjectsAction"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.actions.AbstractProjectActionBase",function(AbstractProjectActionBase){function AbstractProjectActionBase$(config){if(arguments.length<=0)config=null;this.projectsVE$liHy=AS3.getBindable(config,"projectsVE");AS3.getBindable(config,"projects")&&this.setProjects(AS3.getBindable(config,"projects"));this.super$liHy(AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.AbstractProjectAction,net.jangaroo.ext.Exml.apply({},config)))}function setProjects(projects){this.getProjectsVE$liHy().setValue(projects)}
function getProjects(){return this.getProjectsVE$liHy().getValue()}function getProject(){var projects=this.getProjects();if(projects&&projects.length===1)return projects[0];return null}function getProjectsVE(){if(!this.projectsVE$liHy)this.projectsVE$liHy=com.coremedia.ui.data.ValueExpressionFactory.createFromValue([]);return this.projectsVE$liHy}function calculateDisabled(){this.loadProjects$liHy();return this.checkDisabled()}function calculateHidden(){this.loadProjects$liHy();return this.checkHidden()}
function checkDisabled(){throw new AS3.Error("must be overridden in subclasses");}function checkHidden(){return false}function loadProjects(){this.getProjectsVE$liHy().getValue().forEach(function(project){project.load()})}return{extend:"com.coremedia.ui.actions.DependencyTrackedAction",projectsVE$liHy:null,constructor:AbstractProjectActionBase$,super$liHy:function(){com.coremedia.ui.actions.DependencyTrackedAction.prototype.constructor.apply(this,arguments)},setProjects:setProjects,getProjects:getProjects,
getProject:getProject,getProjectsVE$liHy:getProjectsVE,calculateDisabled:calculateDisabled,calculateHidden:calculateHidden,checkDisabled:checkDisabled,checkHidden:checkHidden,loadProjects$liHy:loadProjects,requires:["AS3.Error","com.coremedia.ui.actions.DependencyTrackedAction","com.coremedia.ui.data.ValueExpressionFactory","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.project.actions.AbstractProjectAction"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.actions.CreateProjectFromMyEditedContentsActionBase",function(CreateProjectFromMyEditedContentsActionBase){var NON_SELECTED_CONTENT_TOOLTIP$static;function NON_SELECTED_CONTENT_TOOLTIP$static_(){NON_SELECTED_CONTENT_TOOLTIP$static=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","Action_createProject_selected_non_tooltip")}var SELECTED_CONTENT_TOOLTIP$static;function SELECTED_CONTENT_TOOLTIP$static_(){SELECTED_CONTENT_TOOLTIP$static=
mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","Action_createProject_selected_tooltip")}function CreateProjectFromMyEditedContentsActionBase$(config){if(arguments.length<=0)config=null;var conf=Ext.apply(config,{afterCreateHandler:AS3.bind(this,"afterCreateHandler$aLgx"),tooltip:NON_SELECTED_CONTENT_TOOLTIP$static});this.super$aLgx(AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.CreateProjectFromMyEditedContentsAction,conf))}function afterCreateHandler(project){com.coremedia.cms.editor.controlroom.project.ProjectHelper.renameProjectInMyProjects(project);
project.getContents(function(projectContents){var editedContents=com.coremedia.collaboration.controlroom.rest.CapListRepositoryImpl.getInstance().getEditedContents();var editedContentsList=editedContents.getItems();var contentsToRemoveFromEditedContents=editedContentsList.filter(function(item){var content=AS3.as(item,com.coremedia.cap.content.Content);if(content)return projectContents.indexOf(content)>-1;return false});editedContents.removeItems(contentsToRemoveFromEditedContents)})}function setSelectedItems(selectedItems){var ttip=
getTooltipForSelection$static(selectedItems);this.each(function(cmp){var btn=AS3.as(cmp,com.coremedia.ui.components.IconButton);if(btn){btn.setTooltip(ttip);btn.setText(ttip)}})}function getTooltipForSelection$static(selectedItems){if(selectedItems&&selectedItems.length===0)return NON_SELECTED_CONTENT_TOOLTIP$static;else return SELECTED_CONTENT_TOOLTIP$static}return{extend:"com.coremedia.cms.editor.controlroom.project.actions.CreateProjectAction",metadata:{setSelectedItems:["InjectFromExtParent"]},
constructor:CreateProjectFromMyEditedContentsActionBase$,super$aLgx:function(){com.coremedia.cms.editor.controlroom.project.actions.CreateProjectAction.prototype.constructor.apply(this,arguments)},afterCreateHandler$aLgx:afterCreateHandler,setSelectedItems:setSelectedItems,statics:{NON_SELECTED_CONTENT_TOOLTIP:undefined,SELECTED_CONTENT_TOOLTIP:undefined,__initStatics__:function(){NON_SELECTED_CONTENT_TOOLTIP$static_();SELECTED_CONTENT_TOOLTIP$static_()}},requires:["Ext","com.coremedia.cap.content.Content",
"com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.project.actions.CreateProjectAction","com.coremedia.collaboration.controlroom.rest.CapListRepositoryImpl","com.coremedia.ui.components.IconButton","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.controlroom.project.ProjectHelper","com.coremedia.cms.editor.controlroom.project.actions.CreateProjectFromMyEditedContentsAction"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.actions.RenameTabProjectAction",function(RenameTabProjectAction){function RenameTabProjectAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.RenameTabProjectActionBase,{});var defaults_$1=AS3.cast(RenameTabProjectAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$G5BQ(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.project.actions.RenameTabProjectActionBase",
constructor:RenameTabProjectAction$,super$G5BQ:function(){com.coremedia.cms.editor.controlroom.project.actions.RenameTabProjectActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.controlroom.project.actions.RenameTabProjectActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.actions.PasteFromClipboardToProjectAction",function(PasteFromClipboardToProjectAction){function PasteFromClipboardToProjectAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.PasteFromClipboardToProjectActionBase,{});var defaults_$1=AS3.cast(PasteFromClipboardToProjectAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$N6NP(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.project.actions.PasteFromClipboardToProjectActionBase",constructor:PasteFromClipboardToProjectAction$,super$N6NP:function(){com.coremedia.cms.editor.controlroom.project.actions.PasteFromClipboardToProjectActionBase.prototype.constructor.apply(this,arguments)},config:{contentValueExpression:null},requires:["com.coremedia.cms.editor.controlroom.project.actions.PasteFromClipboardToProjectActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.actions.AbstractProjectAction",function(AbstractProjectAction){function AbstractProjectAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.AbstractProjectActionBase,{});var defaults_$1=AS3.cast(AbstractProjectAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$FySB(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.project.actions.AbstractProjectActionBase",
constructor:AbstractProjectAction$,super$FySB:function(){com.coremedia.cms.editor.controlroom.project.actions.AbstractProjectActionBase.prototype.constructor.apply(this,arguments)},config:{projectsVE:null,projects:null},requires:["com.coremedia.cms.editor.controlroom.project.actions.AbstractProjectActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.actions.ShowTabProjectInControlRoomActionBase",function(ShowTabProjectInControlRoomActionBase){function ShowTabProjectInControlRoomActionBase$(config){if(arguments.length<=0)config=null;AS3.setBindable(config,"handler",AS3.bind(this,"showProject$xnDt"));this.super$xnDt(config)}function showProject(){var project=this.getProject();if(project)com.coremedia.ui.util.EventUtil.invokeLater(com.coremedia.cms.editor.controlroom.project.ProjectHelper.selectProjectsInMyProjects,
project)}return{extend:"com.coremedia.cms.editor.controlroom.project.actions.AbstractTabContextMenuProjectAction",constructor:ShowTabProjectInControlRoomActionBase$,super$xnDt:function(){com.coremedia.cms.editor.controlroom.project.actions.AbstractTabContextMenuProjectAction.prototype.constructor.apply(this,arguments)},showProject$xnDt:showProject,requires:["com.coremedia.cms.editor.controlroom.project.actions.AbstractTabContextMenuProjectAction","com.coremedia.ui.util.EventUtil"],uses:["com.coremedia.cms.editor.controlroom.project.ProjectHelper"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.actions.ShowTabProjectInControlRoomAction",function(ShowTabProjectInControlRoomAction){function ShowTabProjectInControlRoomAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.ShowTabProjectInControlRoomActionBase,{});var defaults_$1=AS3.cast(ShowTabProjectInControlRoomAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$pCk6(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.project.actions.ShowTabProjectInControlRoomActionBase",constructor:ShowTabProjectInControlRoomAction$,super$pCk6:function(){com.coremedia.cms.editor.controlroom.project.actions.ShowTabProjectInControlRoomActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.controlroom.project.actions.ShowTabProjectInControlRoomActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.actions.LeaveProjectsAction",function(LeaveProjectsAction){function LeaveProjectsAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.LeaveProjectsActionBase,{});var defaults_$1=AS3.cast(LeaveProjectsAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$L8x5(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.project.actions.LeaveProjectsActionBase",
constructor:LeaveProjectsAction$,super$L8x5:function(){com.coremedia.cms.editor.controlroom.project.actions.LeaveProjectsActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.controlroom.project.actions.LeaveProjectsActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.actions.PasteFromClipboardToProjectActionBase",function(PasteFromClipboardToProjectActionBase){function PasteFromClipboardToProjectActionBase$(config){if(arguments.length<=0)config=null;this.contentValueExpression$iqnA=AS3.getBindable(config,"contentValueExpression");this.super$iqnA(AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.PasteFromClipboardToProjectAction,com.coremedia.cms.editor.controlroom.actions.ControlRoomConfigUtil.extendConfig(config,
"pasteFromClipboardToProjects",{handler:AS3.bind(this,"pasteFromClipboardToProject$iqnA")})))}function pasteFromClipboardToProject(){var clipboard=com.coremedia.cms.editor.sdk.clipboard.Clipboard.getInstance();var contentsToPaste=clipboard.getContents();if(!contentsToPaste||contentsToPaste.length===0)return;this.getProjects().forEach(function(project){project.addContents(contentsToPaste)});this.contentValueExpression$iqnA&&this.contentValueExpression$iqnA.setValue(contentsToPaste)}function checkDisabled(){if(!this.getProjects()||
this.getProjects().length===0)return true;var clipboard=com.coremedia.cms.editor.sdk.clipboard.Clipboard.getInstance();var contentsToPaste=clipboard.getContents();return!contentsToPaste||contentsToPaste.length===0||contentsToPaste.some(isFolder$static)}function isFolder$static(content){return content.isFolder()}function checkHidden(){return false}return{extend:"com.coremedia.cms.editor.controlroom.project.actions.AbstractProjectAction",contentValueExpression$iqnA:null,constructor:PasteFromClipboardToProjectActionBase$,
super$iqnA:function(){com.coremedia.cms.editor.controlroom.project.actions.AbstractProjectAction.prototype.constructor.apply(this,arguments)},pasteFromClipboardToProject$iqnA:pasteFromClipboardToProject,checkDisabled:checkDisabled,checkHidden:checkHidden,requires:["com.coremedia.cms.editor.controlroom.project.actions.AbstractProjectAction","com.coremedia.cms.editor.sdk.clipboard.Clipboard"],uses:["com.coremedia.cms.editor.controlroom.actions.ControlRoomConfigUtil","com.coremedia.cms.editor.controlroom.project.actions.PasteFromClipboardToProjectAction"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.actions.AbstractTabContextMenuProjectActionBase",function(AbstractTabContextMenuProjectActionBase){function AbstractTabContextMenuProjectActionBase$(config){if(arguments.length<=0)config=null;this.super$i4UZ(config)}function checkDisabled(){return!getTabProject$static(this.getContextClickedTab())}function getProject(){var tabProject=getTabProject$static(this.getContextClickedTab());if(tabProject)if(com.coremedia.ui.data.RemoteBeanUtil.isAccessible(tabProject))return tabProject;
return undefined}function checkHidden(){return this.checkDisabled()}function getTabProject$static(tab){if(AS3.is(tab,com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxy))return AS3.as(AS3.getBindable(AS3.as(tab,com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxy),"proxyState","DUMMY").entity,com.coremedia.cms.editor.controlroom.project.rest.Project);return null}return{extend:"com.coremedia.ui.actions.AbstractTabContextMenuAction",constructor:AbstractTabContextMenuProjectActionBase$,
super$i4UZ:function(){com.coremedia.ui.actions.AbstractTabContextMenuAction.prototype.constructor.apply(this,arguments)},checkDisabled:checkDisabled,getProject:getProject,checkHidden:checkHidden,requires:["com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxy","com.coremedia.ui.actions.AbstractTabContextMenuAction","com.coremedia.ui.data.RemoteBeanUtil"],uses:["com.coremedia.cms.editor.controlroom.project.rest.Project"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.actions.RemoveProjectMemberAction",function(RemoveProjectMemberAction){function RemoveProjectMemberAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.RemoveProjectMemberActionBase,{});var defaults_$1=AS3.cast(RemoveProjectMemberAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$zTPZ(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.project.actions.RemoveProjectMemberActionBase",
constructor:RemoveProjectMemberAction$,super$zTPZ:function(){com.coremedia.cms.editor.controlroom.project.actions.RemoveProjectMemberActionBase.prototype.constructor.apply(this,arguments)},config:{member:null},requires:["com.coremedia.cms.editor.controlroom.project.actions.RemoveProjectMemberActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.actions.CreateProjectAction",function(CreateProjectAction){function CreateProjectAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.CreateProjectActionBase,{});var defaults_$1=AS3.cast(CreateProjectAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Z8Vn(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.project.actions.CreateProjectActionBase",
constructor:CreateProjectAction$,super$Z8Vn:function(){com.coremedia.cms.editor.controlroom.project.actions.CreateProjectActionBase.prototype.constructor.apply(this,arguments)},config:{mode:null,afterCreateHandler:null,tooltipMouseOffset:null},requires:["com.coremedia.cms.editor.controlroom.project.actions.CreateProjectActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.actions.CreateProjectActionBase",function(CreateProjectActionBase){function CreateProjectActionBase$(config){if(arguments.length<=0)config=null;this.mode$LA9Y=AS3.getBindable(config,"mode")||"empty";this.afterCreateHandler$LA9Y=AS3.getBindable(config,"afterCreateHandler");this.tooltipMouseOffset$LA9Y=AS3.getBindable(config,"tooltipMouseOffset")||undefined;this.originalCalculateDisabled$LA9Y=this["calculateDisabled"];this["calculateDisabled"]=
AS3.bind(this,"overriddenCalculateDisabled$LA9Y");this.super$LA9Y(AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.CreateProjectAction,com.coremedia.cms.editor.controlroom.actions.ControlRoomConfigUtil.extendConfig(config,"createProject_"+this.mode$LA9Y,{handler:AS3.bind(this,"createProject$LA9Y")},this.tooltipMouseOffset$LA9Y)))}function overriddenCalculateDisabled(){if(this.mode$LA9Y==="empty")return false;return this.originalCalculateDisabled$LA9Y()}function createProject(){var contents;
switch(this.mode$LA9Y){case "selected":contents=this.getContents();break;case "empty":default:contents=[];break}if(this.isDisabledFor(contents))return;com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectRepositoryImpl.getInstance().createProject(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","Action_createProject_new_name_text"),contents,this.afterCreateHandler$LA9Y)}return{extend:"com.coremedia.cms.editor.sdk.actions.ContentAction",
mode$LA9Y:null,tooltipMouseOffset$LA9Y:null,afterCreateHandler$LA9Y:null,originalCalculateDisabled$LA9Y:null,constructor:CreateProjectActionBase$,super$LA9Y:function(){com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.constructor.apply(this,arguments)},overriddenCalculateDisabled$LA9Y:overriddenCalculateDisabled,createProject$LA9Y:createProject,requires:["com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.sdk.actions.ContentAction","mx.resources.ResourceManager"],
uses:["com.coremedia.cms.editor.controlroom.actions.ControlRoomConfigUtil","com.coremedia.cms.editor.controlroom.project.actions.CreateProjectAction","com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectRepositoryImpl"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.actions.CutContentFromProjectActionBase",function(CutContentFromProjectActionBase){function CutContentFromProjectActionBase$(config){if(arguments.length<=0)config=null;this.super$$Y$T(AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.CutContentFromProjectAction,com.coremedia.cms.editor.controlroom.actions.ControlRoomConfigUtil.extendConfig(config,"cutContentFromProject",{handler:AS3.bind(this,"cutContentFromProject$$Y$T")})))}function cutContentFromProject(){var allContents=
[];this.iterateOverProjectContents(function(project,contents){if(project&&contents){project.removeContents(contents);contents.forEach(function(content){if(allContents.indexOf(content)===-1)allContents.push(content)})}});var clipboard=com.coremedia.cms.editor.sdk.clipboard.Clipboard.getInstance();clipboard.setValue(allContents,com.coremedia.cms.editor.sdk.clipboard.Clipboard.CUTLINK)}return{extend:"com.coremedia.cms.editor.controlroom.project.actions.AbstractProjectContentsAction",metadata:{"":["PublicApi"]},
constructor:CutContentFromProjectActionBase$,super$$Y$T:function(){com.coremedia.cms.editor.controlroom.project.actions.AbstractProjectContentsAction.prototype.constructor.apply(this,arguments)},cutContentFromProject$$Y$T:cutContentFromProject,requires:["com.coremedia.cms.editor.controlroom.project.actions.AbstractProjectContentsAction","com.coremedia.cms.editor.sdk.clipboard.Clipboard"],uses:["com.coremedia.cms.editor.controlroom.actions.ControlRoomConfigUtil","com.coremedia.cms.editor.controlroom.project.actions.CutContentFromProjectAction"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.actions.RenameTabProjectActionBase",function(RenameTabProjectActionBase){function RenameTabProjectActionBase$(config){if(arguments.length<=0)config=null;AS3.setBindable(config,"handler",AS3.bind(this,"doRename$vj3B"));this.super$vj3B(config)}function doRename(){var project=this.getProject();if(!project)return;var title=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","Action_renameTabProjectAction_title_text");
var message=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","Action_renameTabProjectAction_message_text");var callback=function(btn,newName){if(btn==="ok"&&newName&&Ext.util.Format.trim(newName).length!==0)project.setName(newName)};com.coremedia.cms.editor.sdk.util.MessageBoxUtil.prompt(title,message,callback,project.getName())}return{extend:"com.coremedia.cms.editor.controlroom.project.actions.AbstractTabContextMenuProjectAction",constructor:RenameTabProjectActionBase$,
super$vj3B:function(){com.coremedia.cms.editor.controlroom.project.actions.AbstractTabContextMenuProjectAction.prototype.constructor.apply(this,arguments)},doRename$vj3B:doRename,requires:["Ext.util.Format","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.project.actions.AbstractTabContextMenuProjectAction","com.coremedia.cms.editor.sdk.util.MessageBoxUtil","mx.resources.ResourceManager"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.actions.RemoveContentFromProjectAction",function(RemoveContentFromProjectAction){function RemoveContentFromProjectAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.RemoveContentFromProjectActionBase,{});var defaults_$1=AS3.cast(RemoveContentFromProjectAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$lW2o(config_$1)}
return{extend:"com.coremedia.cms.editor.controlroom.project.actions.RemoveContentFromProjectActionBase",constructor:RemoveContentFromProjectAction$,super$lW2o:function(){com.coremedia.cms.editor.controlroom.project.actions.RemoveContentFromProjectActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.controlroom.project.actions.RemoveContentFromProjectActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.actions.RemoveProjectMemberActionBase",function(RemoveProjectMemberActionBase){function RemoveProjectMemberActionBase$(config){if(arguments.length<=0)config=null;this.member$hMVK=AS3.getBindable(config,"member");this.super$hMVK(AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.RemoveProjectMemberAction,com.coremedia.cms.editor.controlroom.actions.ControlRoomConfigUtil.extendConfig(config,"removeProjectMember",{handler:AS3.bind(this,
"triggerAction")})))}function triggerAction(){this.confirmedRemoveProjectMember$hMVK()}function isMemberAssignedToOpenTodo(project){var this$=this;return!project.getTodos().every(function(todo){return todo.getTodoState()===com.coremedia.cms.editor.todo.rest.impl.TodoImpl.DONE||todo.getAssignees().indexOf(this$.member$hMVK)===-1})}function isMemberOnlyMemberOfAProject(project){var this$=this;return project.getMembers().filter(function(memb){return memb!==this$.member$hMVK}).length===0}function confirmedRemoveProjectMember(){var this$=
this;var projects=this.getProjects().concat([]);function loop(){var project=projects.pop();if(!project)return;if(this$.isMemberOnlyMemberOfAProject$hMVK(project))this$.removeAfterDeletionConfirmation$hMVK(project,loop);else if(this$.isMemberAssignedToOpenTodo$hMVK(project))this$.removeAfterTodoConfirmation$hMVK(project,loop);else{this$.doRemoveMember$hMVK(project);loop()}}loop()}function removeAfterTodoConfirmation(project,callback){var this$=this;var message;var buttonText;if(this.member$hMVK!==
com.coremedia.cap.common.SESSION.getUser()){message=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","Action_removeProjectMember_openTodos_confirm_message");message=Ext.String.format(message,project.getName(),this.member$hMVK.getName());buttonText=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","Action_removeProjectMember_openTodos_confirm_buttonText")}else{message=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"Action_removeProjectMember_openTodos_confirm_messageSelf");message=Ext.String.format(message,project.getName());buttonText=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","Action_removeProjectMember_openTodos_confirm_buttonTextSelf")}com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showConfirmation(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","Action_removeProjectMember_openTodos_confirm_title"),
message,buttonText,function(btn){if("ok"===btn)this$.doRemoveMember$hMVK(project);callback()})}function removeAfterDeletionConfirmation(project,callback){var this$=this;var message;var buttonText;if(this.member$hMVK!==com.coremedia.cap.common.SESSION.getUser()){message=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","Action_removeProjectMember_projectDeletion_confirm_message");message=Ext.String.format(message,project.getName(),this.member$hMVK.getName());
buttonText=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","Action_removeProjectMember_projectDeletion_confirm_buttonText")}else{message=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","Action_removeProjectMember_projectDeletion_confirm_messageSelf");message=Ext.String.format(message,project.getName());buttonText=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"Action_removeProjectMember_projectDeletion_confirm_buttonTextSelf")}com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showConfirmation(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","Action_removeProjectMember_projectDeletion_confirm_title"),message,buttonText,function(btn){if("ok"===btn)this$.doRemoveMember$hMVK(project);callback()})}function doRemoveMember(project){project.removeMembers([this.member$hMVK])}function checkDisabled(){if(this.checkHidden())return true;
var userProjects=com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectRepositoryImpl.getInstance().getProjectsOfSessionUser();var isInUserProjects=userProjects&&this.getProjects().every(function(project){return userProjects.indexOf(project)>-1});if(!isInUserProjects)return true;return!this.allRemoteBeansLoaded$hMVK()}function checkHidden(){return(this.getProjects()||[]).length===0}function allRemoteBeansLoaded(){return this.memberLoaded$hMVK()&&this.allProjectsLoaded$hMVK()}function memberLoaded(){return com.coremedia.ui.data.RemoteBeanUtil.isAccessible(this.member$hMVK)}
function allProjectsLoaded(){return this.getProjects().every(function(project){if(!com.coremedia.ui.data.RemoteBeanUtil.isAccessible(project))return false;var members=project.getMembers();if(!members)return false;var allMembersLoaded=members.every(function(member){return!!com.coremedia.ui.data.RemoteBeanUtil.isAccessible(member)});if(!allMembersLoaded)return false;var todos=project.getTodos();if(!todos)return false;var allAssigneesLoaded=todos.every(function(todo){if(!com.coremedia.ui.data.RemoteBeanUtil.isAccessible(todo))return false;
return todo.getAssignees()!==undefined});return allAssigneesLoaded})}return{extend:"com.coremedia.cms.editor.controlroom.project.actions.AbstractProjectAction",member$hMVK:null,constructor:RemoveProjectMemberActionBase$,super$hMVK:function(){com.coremedia.cms.editor.controlroom.project.actions.AbstractProjectAction.prototype.constructor.apply(this,arguments)},triggerAction:triggerAction,isMemberAssignedToOpenTodo$hMVK:isMemberAssignedToOpenTodo,isMemberOnlyMemberOfAProject$hMVK:isMemberOnlyMemberOfAProject,
confirmedRemoveProjectMember$hMVK:confirmedRemoveProjectMember,removeAfterTodoConfirmation$hMVK:removeAfterTodoConfirmation,removeAfterDeletionConfirmation$hMVK:removeAfterDeletionConfirmation,doRemoveMember$hMVK:doRemoveMember,checkDisabled:checkDisabled,checkHidden:checkHidden,allRemoteBeansLoaded$hMVK:allRemoteBeansLoaded,memberLoaded$hMVK:memberLoaded,allProjectsLoaded$hMVK:allProjectsLoaded,requires:["Ext.String","com.coremedia.cap.common.SESSION","com.coremedia.cms.editor.controlroom.ControlRoom_properties",
"com.coremedia.cms.editor.controlroom.project.actions.AbstractProjectAction","com.coremedia.cms.editor.sdk.util.MessageBoxUtil","com.coremedia.cms.editor.todo.rest.impl.TodoImpl","com.coremedia.ui.data.RemoteBeanUtil","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.controlroom.actions.ControlRoomConfigUtil","com.coremedia.cms.editor.controlroom.project.actions.RemoveProjectMemberAction","com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectRepositoryImpl"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.actions.ShowProjectActionBase",function(ShowProjectActionBase){function ShowProjectActionBase$(config){if(arguments.length<=0)config=null;this.super$B6e1(AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.ShowProjectAction,com.coremedia.cms.editor.controlroom.actions.ControlRoomConfigUtil.extendConfig(config,"showProject",{handler:AS3.bind(this,"showProject$B6e1")})))}function showProject(){com.coremedia.cms.editor.controlroom.project.ProjectHelper.openProjectInTab(this.getProject())}
function checkDisabled(){return this.getProject()===null}function checkHidden(){return this.checkDisabled()}return{extend:"com.coremedia.cms.editor.controlroom.project.actions.AbstractProjectAction",constructor:ShowProjectActionBase$,super$B6e1:function(){com.coremedia.cms.editor.controlroom.project.actions.AbstractProjectAction.prototype.constructor.apply(this,arguments)},showProject$B6e1:showProject,checkDisabled:checkDisabled,checkHidden:checkHidden,requires:["com.coremedia.cms.editor.controlroom.project.actions.AbstractProjectAction"],
uses:["com.coremedia.cms.editor.controlroom.actions.ControlRoomConfigUtil","com.coremedia.cms.editor.controlroom.project.ProjectHelper","com.coremedia.cms.editor.controlroom.project.actions.ShowProjectAction"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.actions.RemoveContentFromProjectActionBase",function(RemoveContentFromProjectActionBase){function RemoveContentFromProjectActionBase$(config){if(arguments.length<=0)config=null;this.super$gTAZ(AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.RemoveContentFromProjectAction,com.coremedia.cms.editor.controlroom.actions.ControlRoomConfigUtil.extendConfig(config,"removeContentFromProject",{handler:AS3.bind(this,"removeContentFromProject$gTAZ")})))}
function removeContentFromProject(){this.iterateOverProjectContents(remove$static)}function remove$static(project,contents){project.removeContents(contents)}return{extend:"com.coremedia.cms.editor.controlroom.project.actions.AbstractProjectContentsAction",constructor:RemoveContentFromProjectActionBase$,super$gTAZ:function(){com.coremedia.cms.editor.controlroom.project.actions.AbstractProjectContentsAction.prototype.constructor.apply(this,arguments)},removeContentFromProject$gTAZ:removeContentFromProject,
requires:["com.coremedia.cms.editor.controlroom.project.actions.AbstractProjectContentsAction"],uses:["com.coremedia.cms.editor.controlroom.actions.ControlRoomConfigUtil","com.coremedia.cms.editor.controlroom.project.actions.RemoveContentFromProjectAction"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.actions.CutContentFromProjectAction",function(CutContentFromProjectAction){function CutContentFromProjectAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.CutContentFromProjectActionBase,{});var defaults_$1=AS3.cast(CutContentFromProjectAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$zWhi(config_$1)}
return{extend:"com.coremedia.cms.editor.controlroom.project.actions.CutContentFromProjectActionBase",metadata:{"":["PublicApi"]},constructor:CutContentFromProjectAction$,super$zWhi:function(){com.coremedia.cms.editor.controlroom.project.actions.CutContentFromProjectActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.controlroom.project.actions.CutContentFromProjectActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.actions.AbstractTabContextMenuProjectAction",function(AbstractTabContextMenuProjectAction){function AbstractTabContextMenuProjectAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.AbstractTabContextMenuProjectActionBase,{});var defaults_$1=AS3.cast(AbstractTabContextMenuProjectAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$HlMo(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.project.actions.AbstractTabContextMenuProjectActionBase",constructor:AbstractTabContextMenuProjectAction$,super$HlMo:function(){com.coremedia.cms.editor.controlroom.project.actions.AbstractTabContextMenuProjectActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.controlroom.project.actions.AbstractTabContextMenuProjectActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidgetBase",function(ProjectsTodosWidgetBase){function ProjectsTodosWidgetBase$(config){if(arguments.length<=0)config=null;this.super$m4IF(config)}function transformProjects$static(projects){return!projects||projects.length===0}return{extend:"com.coremedia.cms.editor.controlroom.project.widget.AbstractProjectsTodosWidgetBase",constructor:ProjectsTodosWidgetBase$,super$m4IF:function(){com.coremedia.cms.editor.controlroom.project.widget.AbstractProjectsTodosWidgetBase.prototype.constructor.apply(this,
arguments)},statics:{transformProjects:transformProjects$static},requires:["com.coremedia.cms.editor.controlroom.project.widget.AbstractProjectsTodosWidgetBase"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidgetEditorBase",function(ProjectsTodosWidgetEditorBase){function ProjectsTodosWidgetEditorBase$(config){if(arguments.length<=0)config=null;this.super$GvKS(config)}function getProjectsOfUserValueExpression(){var this$=this;if(!this.projectsOfUserVE$GvKS){var projectRepository=com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectRepositoryImpl.getInstance();this.projectsOfUserVE$GvKS=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var result=
[{id:"",name:this$.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","Projects_Todos_Widget_project_selection_default")}];var projectsOfSessionUser=projectRepository.getProjectsOfSessionUser();if(projectsOfSessionUser&&projectsOfSessionUser.length>0){var sortedProjectsOfSessionUser=projectsOfSessionUser.sort(com.coremedia.cms.editor.controlroom.project.ProjectHelper.compareProjects);result=result.concat(sortedProjectsOfSessionUser)}return result})}return this.projectsOfUserVE$GvKS}
function transformAssignedUser$static(value){return value===undefined||value===ProjectsTodosWidgetEditorBase.MY_PROJECTS}return{extend:"com.coremedia.cms.editor.controlroom.project.widget.AbstractProjectsTodosWidgetBase",projectsOfUserVE$GvKS:null,constructor:ProjectsTodosWidgetEditorBase$,super$GvKS:function(){com.coremedia.cms.editor.controlroom.project.widget.AbstractProjectsTodosWidgetBase.prototype.constructor.apply(this,arguments)},getProjectsOfUserValueExpression:getProjectsOfUserValueExpression,
statics:{MY_PROJECTS:"my",ALL_PROJECTS:"all",transformAssignedUser:transformAssignedUser$static},requires:["com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.project.widget.AbstractProjectsTodosWidgetBase","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.controlroom.project.ProjectHelper","com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectRepositoryImpl"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidgetType",function(ProjectsTodosWidgetType){function ProjectsTodosWidgetType$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidgetTypeBase,{});var defaults_$1=AS3.cast(ProjectsTodosWidgetType,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"name",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"Projects_Todos_Widget_type")));AS3.setBindable(config_$1,"description",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","Projects_Todos_Widget_description")));AS3.setBindable(config_$1,"iconCls",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","Projects_Todos_Widget_icon")));var collab_ProjectsTodosWidget_23_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidget,
{});AS3.setBindable(config_$1,"widgetComponent",collab_ProjectsTodosWidget_23_5_$1);var collab_ProjectsTodosWidgetEditor_26_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidgetEditor,{});AS3.setBindable(config_$1,"editorComponent",collab_ProjectsTodosWidgetEditor_26_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$oCpu(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidgetTypeBase",constructor:ProjectsTodosWidgetType$,
super$oCpu:function(){com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidgetTypeBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidgetTypeBase","mx.resources.ResourceManager","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidget","com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidgetEditor"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidgetProjectBase",function(ProjectsTodosWidgetProjectBase){function ProjectsTodosWidgetProjectBase$(config){if(arguments.length<=0)config=null;AS3.setBindable(this,"project",AS3.getBindable(config,"project"));this.afterUpdateCallback$yG8C=AS3.getBindable(config,"afterUpdateCallback");this.super$yG8C(config)}function initComponent(){var this$=this;Ext.container.Container.prototype.initComponent.call(this);this.on("afterrender",
function(){this$.mon(this$.getEl(),"click",AS3.bind(this$,"delayedOpenProjectTab"))});this.getTodoListVE().addChangeListener(AS3.bind(this,"todoListChangeListener$yG8C"))}function destroy(){var params=Array.prototype.slice.call(arguments);this.getTodoListVE().removeChangeListener(AS3.bind(this,"todoListChangeListener$yG8C"));Ext.container.Container.prototype.destroy.call(this,params)}function getProjectNameVE(){var this$=this;if(!this.projectNameVE$yG8C)this.projectNameVE$yG8C=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){if(!com.coremedia.ui.data.RemoteBeanUtil.isAccessible(AS3.getBindable(this$,
"project")))return undefined;return AS3.getBindable(this$,"project").getName()});return this.projectNameVE$yG8C}function getProjectDueDateVE(){var this$=this;if(!this.projectDueDateVE$yG8C)this.projectDueDateVE$yG8C=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){if(!AS3.getBindable(this$,"project")||!com.coremedia.ui.data.RemoteBeanUtil.isAccessible(AS3.getBindable(this$,"project")))return undefined;return com.coremedia.cms.editor.sdk.util.TimeUtil.getRelativeDateString(AS3.getBindable(this$,
"project").getDueDate())});return this.projectDueDateVE$yG8C}function getProjectDueDateValidationStateVE(){var this$=this;if(!this.projectDueDateValidationStateVE$yG8C)this.projectDueDateValidationStateVE$yG8C=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var dueDate=AS3.getBindable(this$,"project").getDueDate();if(dueDate&&com.coremedia.cms.editor.sdk.util.TimeUtil.isBeforeToday(dueDate))return com.coremedia.ui.mixins.ValidationState.ERROR;return undefined});return this.projectDueDateValidationStateVE$yG8C}
function getTodoListVE(){var this$=this;if(!this.todoListVE$yG8C)this.todoListVE$yG8C=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var user=this$.getConfiguredUser$yG8C();if(!AS3.getBindable(this$,"project")||!com.coremedia.ui.data.RemoteBeanUtil.isAccessible(AS3.getBindable(this$,"project")))return undefined;var todoList=AS3.getBindable(this$,"project").getTodos();if(!todoList)return undefined;return com.coremedia.cms.editor.todo.TodoHelper.filterOpenTodos(todoList,
user)});return this.todoListVE$yG8C}function getAssigneesInfo(ignore,todo){var assignees=todo.getAssignees();var assigneesInfo=undefined;if(!this.getConfiguredUser$yG8C()){var sessionUser=com.coremedia.cms.editor.sdk.editorContext.getSession().getUser();if(assignees&&assignees.length>0)if(assignees.indexOf(sessionUser)!==-1)assigneesInfo=this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","Project_users_me");else{var assignee=AS3.as(assignees[0],com.coremedia.cap.user.User);
assigneesInfo=assignee.getName()}}return assigneesInfo}function getConfiguredUser(){var user=undefined;if(this.initialConfig.userVE&&this.initialConfig.userVE.getValue())user=this.initialConfig.userVE.getValue();return user}function getFirstLine$static(text){return text.replace(/\r/g,"").replace(/\n.*/g,"")}function todoListChangeListener(){if(this.afterUpdateCallback$yG8C)com.coremedia.ui.util.EventUtil.invokeLater(this.afterUpdateCallback$yG8C)}function delayedOpenProjectTab(){var this$=this;com.coremedia.ui.util.EventUtil.invokeLater(function(){com.coremedia.cms.editor.controlroom.project.ProjectHelper.openProjectInTab(AS3.getBindable(this$,
"project"))})}return{extend:"Ext.container.Container",afterUpdateCallback$yG8C:null,projectNameVE$yG8C:null,projectDueDateVE$yG8C:null,todoListVE$yG8C:null,projectDueDateValidationStateVE$yG8C:null,constructor:ProjectsTodosWidgetProjectBase$,super$yG8C:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},initComponent:initComponent,destroy:destroy,getProjectNameVE:getProjectNameVE,getProjectDueDateVE:getProjectDueDateVE,getProjectDueDateValidationStateVE:getProjectDueDateValidationStateVE,
getTodoListVE:getTodoListVE,getAssigneesInfo:getAssigneesInfo,getConfiguredUser$yG8C:getConfiguredUser,todoListChangeListener$yG8C:todoListChangeListener,delayedOpenProjectTab:delayedOpenProjectTab,config:{project:null},statics:{getFirstLine:getFirstLine$static},requires:["Ext.container.Container","com.coremedia.cap.user.User","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.util.TimeUtil","com.coremedia.cms.editor.todo.TodoHelper",
"com.coremedia.ui.data.RemoteBeanUtil","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.mixins.ValidationState","com.coremedia.ui.util.EventUtil"],uses:["com.coremedia.cms.editor.controlroom.project.ProjectHelper"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidget",function(ProjectsTodosWidget){function BLOCK$static_(){ProjectsTodosWidget.BLOCK=new com.coremedia.ui.models.bem.BEMBlock("cm-projects-todos-widget")}function ELEMENT_PROJECT$static_(){ProjectsTodosWidget.ELEMENT_PROJECT=ProjectsTodosWidget.BLOCK.createElement("project")}function ELEMENT_EMPTY$static_(){ProjectsTodosWidget.ELEMENT_EMPTY=ProjectsTodosWidget.BLOCK.createElement("empty")}function ProjectsTodosWidget$(config){if(arguments.length<=
0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidgetBase,{});var defaults_$1=AS3.cast(ProjectsTodosWidget,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"scrollable",true);AS3.setBindable(config_$1,"properties","assignedToUser,projectId");var container_34_5_$1=AS3.cast(Ext.container.Container,{});container_34_5_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectsTodosWidget.PROJECT_LIST_ITEM_ID);var ui_BindComponentsPlugin_36_9_$1=
AS3.cast(com.coremedia.ui.plugins.BindComponentsPlugin,{});AS3.setBindable(ui_BindComponentsPlugin_36_9_$1,"valueExpression",this.getProjectsVE());AS3.setBindable(ui_BindComponentsPlugin_36_9_$1,"configBeanParameterName","project");AS3.setBindable(ui_BindComponentsPlugin_36_9_$1,"afterUpdateCallback",AS3.bind(this,"updateLayout"));AS3.setBindable(ui_BindComponentsPlugin_36_9_$1,"reuseComponents",false);AS3.setBindable(ui_BindComponentsPlugin_36_9_$1,"clearBeforeUpdate",true);var collab_ProjectsTodosWidgetProject_42_13_$1=
AS3.cast(com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidgetProject,{});AS3.setBindable(collab_ProjectsTodosWidgetProject_42_13_$1,"userVE",this.getUserVE());AS3.setBindable(collab_ProjectsTodosWidgetProject_42_13_$1,"afterUpdateCallback",AS3.bind(this,"updateLayout"));var ui_BEMMixin_45_17_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,{});AS3.setBindable(ui_BEMMixin_45_17_$1,"bemElement",ProjectsTodosWidget.ELEMENT_PROJECT);delete ui_BEMMixin_45_17_$1["xtype"];delete ui_BEMMixin_45_17_$1["xclass"];
net.jangaroo.ext.Exml.apply(collab_ProjectsTodosWidgetProject_42_13_$1,ui_BEMMixin_45_17_$1);AS3.setBindable(ui_BindComponentsPlugin_36_9_$1,"template",collab_ProjectsTodosWidgetProject_42_13_$1);container_34_5_$1.plugins=[ui_BindComponentsPlugin_36_9_$1];var displayField_52_5_$1=AS3.cast(Ext.form.field.Display,{});displayField_52_5_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectsTodosWidget.PROJECT_NO_OPEN_TODOS_ITEM_ID);AS3.setBindable(displayField_52_5_$1,"value",this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"Projects_Todos_Widget_noOpenTodos_text"));var ui_BindVisibilityPlugin_55_9_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_55_9_$1.bindTo=this.getProjectsVE();AS3.setBindable(ui_BindVisibilityPlugin_55_9_$1,"transformer",com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidgetBase.transformProjects);displayField_52_5_$1.plugins=[ui_BindVisibilityPlugin_55_9_$1];var ui_BEMMixin_59_9_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,{});AS3.setBindable(ui_BEMMixin_59_9_$1,
"bemElement",ProjectsTodosWidget.ELEMENT_EMPTY);delete ui_BEMMixin_59_9_$1["xtype"];delete ui_BEMMixin_59_9_$1["xclass"];net.jangaroo.ext.Exml.apply(displayField_52_5_$1,ui_BEMMixin_59_9_$1);config_$1.items=[container_34_5_$1,displayField_52_5_$1];var ui_BEMPlugin_64_5_$1=AS3.cast(com.coremedia.ui.plugins.BEMPlugin,{});AS3.setBindable(ui_BEMPlugin_64_5_$1,"block",ProjectsTodosWidget.BLOCK);config_$1.plugins=[ui_BEMPlugin_64_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$KaYU(config_$1)}
return{extend:"com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidgetBase",alias:"widget.com.coremedia.cms.editor.controlroom.config.projectsTodosWidget",constructor:ProjectsTodosWidget$,super$KaYU:function(){com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidgetBase.prototype.constructor.apply(this,arguments)},statics:{PROJECT_LIST_ITEM_ID:"projectListItemId",PROJECT_NO_OPEN_TODOS_ITEM_ID:"projectNoOpenToDosItemId",BLOCK:undefined,ELEMENT_PROJECT:undefined,ELEMENT_EMPTY:undefined,
__initStatics__:function(){BLOCK$static_();ELEMENT_PROJECT$static_();ELEMENT_EMPTY$static_()}},requires:["Ext.container.Container","Ext.form.field.Display","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidgetBase","com.coremedia.ui.models.bem.BEMBlock","com.coremedia.ui.plugins.BEMMixin","com.coremedia.ui.plugins.BEMPlugin","com.coremedia.ui.plugins.BindComponentsPlugin","com.coremedia.ui.plugins.BindVisibilityPlugin",
"net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidgetProject"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidgetProject",function(ProjectsTodosWidgetProject){function PROJECT_BLOCK$static_(){ProjectsTodosWidgetProject.PROJECT_BLOCK=new com.coremedia.ui.models.bem.BEMBlock("cm-projects-todos-widget-project")}function PROJECT_ELEMENT_HEADER$static_(){ProjectsTodosWidgetProject.PROJECT_ELEMENT_HEADER=ProjectsTodosWidgetProject.PROJECT_BLOCK.createElement("header")}function PROJECT_ELEMENT_ICON$static_(){ProjectsTodosWidgetProject.PROJECT_ELEMENT_ICON=
ProjectsTodosWidgetProject.PROJECT_BLOCK.createElement("icon")}function PROJECT_ELEMENT_NAME$static_(){ProjectsTodosWidgetProject.PROJECT_ELEMENT_NAME=ProjectsTodosWidgetProject.PROJECT_BLOCK.createElement("name")}function PROJECT_ELEMENT_DUE_DATE$static_(){ProjectsTodosWidgetProject.PROJECT_ELEMENT_DUE_DATE=ProjectsTodosWidgetProject.PROJECT_BLOCK.createElement("due-date")}function PROJECT_ELEMENT_TODOS$static_(){ProjectsTodosWidgetProject.PROJECT_ELEMENT_TODOS=ProjectsTodosWidgetProject.PROJECT_BLOCK.createElement("todos")}
function PROJECT_ELEMENT_TODO$static_(){ProjectsTodosWidgetProject.PROJECT_ELEMENT_TODO=ProjectsTodosWidgetProject.PROJECT_BLOCK.createElement("todo")}function TODO_BLOCK$static_(){ProjectsTodosWidgetProject.TODO_BLOCK=new com.coremedia.ui.models.bem.BEMBlock("cm-projects-todos-widget-todo")}function TODO_ELEMENT_DESCRIPTION$static_(){ProjectsTodosWidgetProject.TODO_ELEMENT_DESCRIPTION=ProjectsTodosWidgetProject.TODO_BLOCK.createElement("description")}function TODO_ELEMENT_ASSIGNEES$static_(){ProjectsTodosWidgetProject.TODO_ELEMENT_ASSIGNEES=
ProjectsTodosWidgetProject.TODO_BLOCK.createElement("assignees")}function ProjectsTodosWidgetProject$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidgetProjectBase,{});var defaults_$1=AS3.cast(ProjectsTodosWidgetProject,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var container_54_5_$1=AS3.cast(Ext.container.Container,{});AS3.setBindable(container_54_5_$1,"layout","column");var ui_BEMMixin_56_9_$1=
AS3.cast(com.coremedia.ui.plugins.BEMMixin,{});AS3.setBindable(ui_BEMMixin_56_9_$1,"bemElement",ProjectsTodosWidgetProject.PROJECT_ELEMENT_HEADER);delete ui_BEMMixin_56_9_$1["xtype"];delete ui_BEMMixin_56_9_$1["xclass"];net.jangaroo.ext.Exml.apply(container_54_5_$1,ui_BEMMixin_56_9_$1);var button_59_9_$1=AS3.cast(Ext.button.Button,{});AS3.setBindable(button_59_9_$1,"scale","small");button_59_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE.getSkin());AS3.setBindable(button_59_9_$1,
"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","project")));AS3.setBindable(button_59_9_$1,"handler",AS3.bind(this,"delayedOpenProjectTab"));var ui_BEMMixin_64_13_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,{});AS3.setBindable(ui_BEMMixin_64_13_$1,"bemElement",ProjectsTodosWidgetProject.PROJECT_ELEMENT_ICON);delete ui_BEMMixin_64_13_$1["xtype"];delete ui_BEMMixin_64_13_$1["xclass"];net.jangaroo.ext.Exml.apply(button_59_9_$1,ui_BEMMixin_64_13_$1);
var displayField_67_9_$1=AS3.cast(Ext.form.field.Display,{});displayField_67_9_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectsTodosWidgetProject.PROJECT_NAME_ITEM_ID);displayField_67_9_$1["columnWidth"]=1;var ui_BindPropertyPlugin_70_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_70_13_$1.bindTo=this.getProjectNameVE();ui_BindPropertyPlugin_70_13_$1.componentProperty="value";ui_BindPropertyPlugin_70_13_$1.transformer=com.coremedia.ui.util.EncodingUtil.encodeForHTML;
displayField_67_9_$1.plugins=[ui_BindPropertyPlugin_70_13_$1];var ui_BEMMixin_75_13_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,{});AS3.setBindable(ui_BEMMixin_75_13_$1,"bemElement",ProjectsTodosWidgetProject.PROJECT_ELEMENT_NAME);delete ui_BEMMixin_75_13_$1["xtype"];delete ui_BEMMixin_75_13_$1["xclass"];net.jangaroo.ext.Exml.apply(displayField_67_9_$1,ui_BEMMixin_75_13_$1);var ui_IconDisplayField_78_9_$1=AS3.cast(com.coremedia.ui.components.IconDisplayField,{});ui_IconDisplayField_78_9_$1.itemId=
net.jangaroo.ext.Exml.asString(ProjectsTodosWidgetProject.PROJECT_DUE_DATE_ITEM_ID);AS3.setBindable(ui_IconDisplayField_78_9_$1,"width",80);var ui_BindPropertyPlugin_81_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_81_13_$1.bindTo=this.getProjectDueDateVE();ui_BindPropertyPlugin_81_13_$1.componentProperty="value";var ui_BindVisibilityPlugin_83_13_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_83_13_$1.bindTo=this.getProjectDueDateVE();
AS3.setBindable(ui_BindVisibilityPlugin_83_13_$1,"transformer",function(value){return value});var ui_BindPropertyPlugin_85_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_85_13_$1.componentProperty="validationState";ui_BindPropertyPlugin_85_13_$1.bindTo=this.getProjectDueDateValidationStateVE();ui_IconDisplayField_78_9_$1.plugins=[ui_BindPropertyPlugin_81_13_$1,ui_BindVisibilityPlugin_83_13_$1,ui_BindPropertyPlugin_85_13_$1];var ui_BEMMixin_89_13_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,
{});AS3.setBindable(ui_BEMMixin_89_13_$1,"bemElement",ProjectsTodosWidgetProject.PROJECT_ELEMENT_DUE_DATE);delete ui_BEMMixin_89_13_$1["xtype"];delete ui_BEMMixin_89_13_$1["xclass"];net.jangaroo.ext.Exml.apply(ui_IconDisplayField_78_9_$1,ui_BEMMixin_89_13_$1);container_54_5_$1.items=[button_59_9_$1,displayField_67_9_$1,ui_IconDisplayField_78_9_$1];var dataView_94_5_$1=AS3.cast(Ext.view.View,{});dataView_94_5_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectsTodosWidgetProject.TODO_LIST_ITEM_ID);dataView_94_5_$1.itemSelector=
net.jangaroo.ext.Exml.asString(ProjectsTodosWidgetProject.PROJECT_ELEMENT_TODO.getCSSSelector());AS3.setBindable(dataView_94_5_$1,"listeners",{"itemclick":AS3.bind(this,"delayedOpenProjectTab")});var ui_BindListPlugin_98_9_$1=AS3.cast(com.coremedia.ui.plugins.BindListPlugin,{});AS3.setBindable(ui_BindListPlugin_98_9_$1,"bindTo",this.getTodoListVE());var ui_DataField_100_13_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_100_13_$1.name="id";ui_DataField_100_13_$1.mapping=com.coremedia.cms.editor.todo.model.TodoPropertyNames.ID;
var ui_DataField_102_13_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_102_13_$1.name="description";ui_DataField_102_13_$1.mapping=com.coremedia.cms.editor.todo.model.TodoPropertyNames.DESCRIPTION;ui_DataField_102_13_$1["convert"]=com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidgetProjectBase.getFirstLine;var ui_DataField_106_13_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_106_13_$1.name="assignees";ui_DataField_106_13_$1.mapping=com.coremedia.cms.editor.todo.model.TodoPropertyNames.ID;
ui_DataField_106_13_$1["convert"]=AS3.bind(this,"getAssigneesInfo");AS3.setBindable(ui_BindListPlugin_98_9_$1,"fields",[ui_DataField_100_13_$1,ui_DataField_102_13_$1,ui_DataField_106_13_$1]);dataView_94_5_$1.plugins=[ui_BindListPlugin_98_9_$1];var ui_BEMMixin_113_9_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,{});AS3.setBindable(ui_BEMMixin_113_9_$1,"bemElement",ProjectsTodosWidgetProject.PROJECT_ELEMENT_TODOS);delete ui_BEMMixin_113_9_$1["xtype"];delete ui_BEMMixin_113_9_$1["xclass"];net.jangaroo.ext.Exml.apply(dataView_94_5_$1,
ui_BEMMixin_113_9_$1);dataView_94_5_$1.tpl=new Ext.XTemplate('\x3ctpl for\x3d"."\x3e','\x3cdiv class\x3d"'+ProjectsTodosWidgetProject.PROJECT_ELEMENT_TODO+" "+ProjectsTodosWidgetProject.TODO_BLOCK+'"\x3e','\x3cp class\x3d"'+ProjectsTodosWidgetProject.TODO_ELEMENT_DESCRIPTION+'"\x3e{description}'+'\x3ctpl if\x3d"assignees"\x3e\x3cspan class\x3d"'+ProjectsTodosWidgetProject.TODO_ELEMENT_ASSIGNEES+'"\x3e{assignees}\x3c/span\x3e\x3c/tpl\x3e'+"\x3c/p\x3e","\x3c/div\x3e","\x3c/tpl\x3e");config_$1.items=
[container_54_5_$1,dataView_94_5_$1];var ui_BEMPlugin_133_5_$1=AS3.cast(com.coremedia.ui.plugins.BEMPlugin,{});AS3.setBindable(ui_BEMPlugin_133_5_$1,"block",ProjectsTodosWidgetProject.PROJECT_BLOCK);config_$1.plugins=[ui_BEMPlugin_133_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$pqoR(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidgetProjectBase",alias:"widget.com.coremedia.cms.editor.controlroom.config.projectsTodosWidgetProject",constructor:ProjectsTodosWidgetProject$,
super$pqoR:function(){com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidgetProjectBase.prototype.constructor.apply(this,arguments)},config:{userVE:null,afterUpdateCallback:null},statics:{PROJECT_NAME_ITEM_ID:"projectNameItemId",PROJECT_DUE_DATE_ITEM_ID:"projectDueDateItemId",TODO_LIST_ITEM_ID:"todoListItemId",PROJECT_BLOCK:undefined,PROJECT_ELEMENT_HEADER:undefined,PROJECT_ELEMENT_ICON:undefined,PROJECT_ELEMENT_NAME:undefined,PROJECT_ELEMENT_DUE_DATE:undefined,PROJECT_ELEMENT_TODOS:undefined,
PROJECT_ELEMENT_TODO:undefined,TODO_BLOCK:undefined,TODO_ELEMENT_DESCRIPTION:undefined,TODO_ELEMENT_ASSIGNEES:undefined,__initStatics__:function(){PROJECT_BLOCK$static_();PROJECT_ELEMENT_HEADER$static_();PROJECT_ELEMENT_ICON$static_();PROJECT_ELEMENT_NAME$static_();PROJECT_ELEMENT_DUE_DATE$static_();PROJECT_ELEMENT_TODOS$static_();PROJECT_ELEMENT_TODO$static_();TODO_BLOCK$static_();TODO_ELEMENT_DESCRIPTION$static_();TODO_ELEMENT_ASSIGNEES$static_()}},requires:["Ext.XTemplate","Ext.button.Button",
"Ext.container.Container","Ext.form.field.Display","Ext.view.View","com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidgetProjectBase","com.coremedia.cms.editor.todo.model.TodoPropertyNames","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.components.IconDisplayField","com.coremedia.ui.models.bem.BEMBlock","com.coremedia.ui.plugins.BEMMixin","com.coremedia.ui.plugins.BEMPlugin","com.coremedia.ui.plugins.BindListPlugin","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.BindVisibilityPlugin",
"com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.store.DataField","com.coremedia.ui.util.EncodingUtil","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidgetEditor",function(ProjectsTodosWidgetEditor){function ProjectsTodosWidgetEditor$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidgetEditorBase,{});var defaults_$1=AS3.cast(ProjectsTodosWidgetEditor,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"properties","assignedToUser,projectId");var ui_LocalComboBox_27_5_$1=
AS3.cast(com.coremedia.ui.components.LocalComboBox,{});AS3.setBindable(ui_LocalComboBox_27_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","Projects_Todos_Widget_project_label")));ui_LocalComboBox_27_5_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectsTodosWidgetEditor.PROJECT_FILTER_ITEM_ID);AS3.setBindable(ui_LocalComboBox_27_5_$1,"displayField","value");ui_LocalComboBox_27_5_$1.valueField="id";ui_LocalComboBox_27_5_$1.anchor=
"100%";AS3.setBindable(ui_LocalComboBox_27_5_$1,"encodeItems",true);var ui_BindListPlugin_35_9_$1=AS3.cast(com.coremedia.ui.plugins.BindListPlugin,{});AS3.setBindable(ui_BindListPlugin_35_9_$1,"bindTo",this.getProjectsOfUserValueExpression());var data_AutoField_37_13_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_37_13_$1.name="id";data_AutoField_37_13_$1.mapping=com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectPropertyNames.ID;var ui_DataField_39_13_$1=AS3.cast(com.coremedia.ui.store.DataField,
{});ui_DataField_39_13_$1.name="value";ui_DataField_39_13_$1.mapping=com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectPropertyNames.NAME;ui_DataField_39_13_$1.defaultValue="";ui_DataField_39_13_$1.encode=false;AS3.setBindable(ui_BindListPlugin_35_9_$1,"fields",[data_AutoField_37_13_$1,ui_DataField_39_13_$1]);var ui_BindPropertyPlugin_45_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_45_9_$1.bidirectional=true;ui_BindPropertyPlugin_45_9_$1.componentEvent=
"change";ui_BindPropertyPlugin_45_9_$1.ifUndefined="";ui_BindPropertyPlugin_45_9_$1.bindTo=this.getSelectedProjectExpression();ui_LocalComboBox_27_5_$1.plugins=[ui_BindListPlugin_35_9_$1,ui_BindPropertyPlugin_45_9_$1];ui_LocalComboBox_27_5_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var ui_BoundRadioGroup_52_5_$1=AS3.cast(com.coremedia.ui.components.BoundRadioGroup,{});AS3.setBindable(ui_BoundRadioGroup_52_5_$1,"fieldLabel","");ui_BoundRadioGroup_52_5_$1.hideEmptyLabel=false;ui_BoundRadioGroup_52_5_$1.labelWidth=
90;ui_BoundRadioGroup_52_5_$1.columns=1;ui_BoundRadioGroup_52_5_$1.toValue=com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidgetEditorBase.transformAssignedUser;ui_BoundRadioGroup_52_5_$1.defaultValue=com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidgetEditorBase.MY_PROJECTS;ui_BoundRadioGroup_52_5_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectsTodosWidgetEditor.OPEN_TODO_FILTER_ITEM_ID);AS3.setBindable(ui_BoundRadioGroup_52_5_$1,"bindTo",this.getAssignedToUserExpression());
var radio_61_9_$1=AS3.cast(Ext.form.field.Radio,{});radio_61_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidgetEditorBase.MY_PROJECTS);AS3.setBindable(radio_61_9_$1,"boxLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","Projects_Todos_Widget_show_my_open_todos")));var radio_63_9_$1=AS3.cast(Ext.form.field.Radio,{});radio_63_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidgetEditorBase.ALL_PROJECTS);
AS3.setBindable(radio_63_9_$1,"boxLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","Projects_Todos_Widget_show_all_open_todos")));ui_BoundRadioGroup_52_5_$1.items=[radio_61_9_$1,radio_63_9_$1];config_$1.items=[ui_LocalComboBox_27_5_$1,ui_BoundRadioGroup_52_5_$1];var layout_Anchor_69_5_$1=AS3.cast(Ext.layout.container.Anchor,{});AS3.setBindable(config_$1,"layout",layout_Anchor_69_5_$1);var object_72_5_$1={};object_72_5_$1.assignedToUser=
true;AS3.setBindable(config_$1,"propertyDefaults",object_72_5_$1);var ui_VerticalSpacingPlugin_75_5_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});config_$1.plugins=[ui_VerticalSpacingPlugin_75_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$1UUh(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidgetEditorBase",alias:"widget.com.coremedia.cms.editor.controlroom.config.projectsTodosWidgetEditor",constructor:ProjectsTodosWidgetEditor$,
super$1UUh:function(){com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidgetEditorBase.prototype.constructor.apply(this,arguments)},statics:{PROJECT_FILTER_ITEM_ID:"projectFilter",OPEN_TODO_FILTER_ITEM_ID:"openTodoFilter"},requires:["Ext.data.field.Field","Ext.form.field.Radio","Ext.layout.container.Anchor","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidgetEditorBase","com.coremedia.ui.components.BoundRadioGroup",
"com.coremedia.ui.components.LocalComboBox","com.coremedia.ui.plugins.BindListPlugin","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.VerticalSpacingPlugin","com.coremedia.ui.store.DataField","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectPropertyNames"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.widget.AbstractProjectsTodosWidgetBase",function(AbstractProjectsTodosWidgetBase){function AbstractProjectsTodosWidgetBase$(config){if(arguments.length<=0)config=null;this.super$DiyD(config)}function initComponent(){com.coremedia.ui.components.StatefulContainer.prototype.initComponent.call(this);this.getWidgetTitleVE().addChangeListener(AS3.bind(this,"updateWidgetTitle$DiyD"))}function destroy(){var params=Array.prototype.slice.call(arguments);
this.getWidgetTitleVE().removeChangeListener(AS3.bind(this,"updateWidgetTitle$DiyD"));com.coremedia.ui.components.StatefulContainer.prototype.destroy.call(this,params)}function updateWidgetTitle(){var wrapper=AS3.as(this.findParentByType(com.coremedia.cms.editor.sdk.dashboard.WidgetWrapper.xtype),com.coremedia.cms.editor.sdk.dashboard.WidgetWrapper);wrapper.updateWidgetWrapper()}function getProjectsVE(){var this$=this;if(!this.projectsVE$DiyD)this.projectsVE$DiyD=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var projects=
[];var projectsOfSessionUser=com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectRepositoryImpl.getInstance().getProjectsOfSessionUser();if(!projectsOfSessionUser)return undefined;var projectId=this$.getSelectedProjectExpression().getValue();if(projectId){var project=com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectRepositoryImpl.getInstance().getProject(projectId);if(project&&com.coremedia.ui.data.RemoteBeanUtil.isAccessible(project)){if(projectsOfSessionUser.indexOf(project)===
-1){this$.removeSelectedProject$DiyD();return undefined}var todos=project.getTodos();if(!todos)return undefined;if(com.coremedia.cms.editor.todo.TodoHelper.filterOpenTodos(todos,this$.getUserVE().getValue()).length>0)projects=[project]}else{if(project.getState()===com.coremedia.ui.data.BeanState.NON_EXISTENT)this$.removeSelectedProject$DiyD();return undefined}}else{var assignedToUser=AS3.as(this$.getAssignedToUserExpression().getValue(),Boolean);if(assignedToUser!==false)projects=com.coremedia.cms.editor.todo.rest.impl.TodoRepositoryImpl.getInstance().getTargetsWithOpenTodosForSessionUser();
else projects=com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectRepositoryImpl.getInstance().getProjectsWithOpenTodosForSessionUser()}if(projects&&projects.length>1)projects.sort(com.coremedia.cms.editor.controlroom.project.ProjectHelper.compareProjects);return projects&&projects.concat([])});return this.projectsVE$DiyD}function removeSelectedProject(){this.getModel().set("projectId","")}function getWidgetTitleVE(){var this$=this;if(!this.widgetTitleVE$DiyD)this.widgetTitleVE$DiyD=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var projects=
this$.getProjectsVE().getValue();if(projects&&projects.length===1){var project=AS3.as(projects[0],com.coremedia.cms.editor.controlroom.project.rest.Project);if(com.coremedia.ui.data.RemoteBeanUtil.isAccessible(project))return project.getName()}return""});return this.widgetTitleVE$DiyD}function getUserVE(){var this$=this;if(!this.userVE$DiyD)this.userVE$DiyD=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var assignedToUser=AS3.as(this$.getAssignedToUserExpression().getValue(),
Boolean);if(assignedToUser!==false)return com.coremedia.cms.editor.sdk.editorContext.getSession().getUser();else return undefined});return this.userVE$DiyD}function getSelectedProjectExpression(){if(!this.selectedProjectVE$DiyD)this.selectedProjectVE$DiyD=com.coremedia.ui.data.ValueExpressionFactory.create("projectId",this.getModel());return this.selectedProjectVE$DiyD}function getAssignedToUserExpression(){if(!this.assignedToUserVE$DiyD)this.assignedToUserVE$DiyD=com.coremedia.ui.data.ValueExpressionFactory.create("assignedToUser",
this.getModel());return this.assignedToUserVE$DiyD}return{extend:"com.coremedia.ui.components.StatefulContainer",userVE$DiyD:null,projectsVE$DiyD:null,widgetTitleVE$DiyD:null,selectedProjectVE$DiyD:null,assignedToUserVE$DiyD:null,constructor:AbstractProjectsTodosWidgetBase$,super$DiyD:function(){com.coremedia.ui.components.StatefulContainer.prototype.constructor.apply(this,arguments)},initComponent:initComponent,destroy:destroy,updateWidgetTitle$DiyD:updateWidgetTitle,getProjectsVE:getProjectsVE,
removeSelectedProject$DiyD:removeSelectedProject,getWidgetTitleVE:getWidgetTitleVE,getUserVE:getUserVE,getSelectedProjectExpression:getSelectedProjectExpression,getAssignedToUserExpression:getAssignedToUserExpression,requires:["com.coremedia.cms.editor.sdk.dashboard.WidgetWrapper","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.todo.TodoHelper","com.coremedia.cms.editor.todo.rest.impl.TodoRepositoryImpl","com.coremedia.ui.components.StatefulContainer","com.coremedia.ui.data.BeanState",
"com.coremedia.ui.data.RemoteBeanUtil","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.controlroom.project.ProjectHelper","com.coremedia.cms.editor.controlroom.project.rest.Project","com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectRepositoryImpl"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidgetTypeBase",function(ProjectsTodosWidgetTypeBase){function ProjectsTodosWidgetTypeBase$(config){if(arguments.length<=0)config=null;this.super$IGlf(config)}function getTitle(state){var title=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","Projects_Todos_Widget_name");if(state.projectId){var project=com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectRepositoryImpl.getInstance().getProject(state.projectId);
if(project&&com.coremedia.ui.data.RemoteBeanUtil.isAccessible(project)){var encProjectName=com.coremedia.ui.util.EncodingUtil.encodeForHTML(project.getName());if(state.assignedToUser){var myProjectsTitle=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","Projects_Todos_Widget_name_with_project");title=Ext.String.format(myProjectsTitle,encProjectName)}else{var allProjectsTitle=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"Projects_Todos_Widget_name_with_project_for_all");title=Ext.String.format(allProjectsTitle,encProjectName)}}}else if(!state.assignedToUser)title=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","Projects_Todos_Widget_name_all");return title}return{extend:"com.coremedia.cms.editor.sdk.dashboard.ComponentBasedWidgetType",constructor:ProjectsTodosWidgetTypeBase$,super$IGlf:function(){com.coremedia.cms.editor.sdk.dashboard.ComponentBasedWidgetType.prototype.constructor.apply(this,
arguments)},getTitle:getTitle,requires:["Ext.String","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.sdk.dashboard.ComponentBasedWidgetType","com.coremedia.ui.data.RemoteBeanUtil","com.coremedia.ui.util.EncodingUtil","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectRepositoryImpl"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidgetState",function(ProjectsTodosWidgetState){function ProjectsTodosWidgetState$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.WidgetState,{});var defaults_$1=AS3.cast(ProjectsTodosWidgetState,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.widgetTypeId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidget.xtype);
net.jangaroo.ext.Exml.apply(config_$1,config);this.super$G3wJ(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.dashboard.WidgetState",constructor:ProjectsTodosWidgetState$,super$G3wJ:function(){com.coremedia.cms.editor.sdk.dashboard.WidgetState.prototype.constructor.apply(this,arguments)},config:{projectId:null,assignedToUser:false},requires:["com.coremedia.cms.editor.sdk.dashboard.WidgetState","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidget"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.ConfigureProjectListViewPluginBase",function(ConfigureProjectListViewPluginBase){function ConfigureProjectListViewPluginBase$(config){if(arguments.length<=0)config=null;this.projectListViewColumns$53dh=AS3.getBindable(config,"projectListViewColumns")}function init(editorContext){if(this.projectListViewColumns$53dh)com.coremedia.cms.editor.controlroom.controlRoomContext.setProjectListViewColumns(this.projectListViewColumns$53dh)}return{mixins:["com.coremedia.cms.editor.sdk.EditorPlugin"],
projectListViewColumns$53dh:null,constructor:ConfigureProjectListViewPluginBase$,init:init,requires:["com.coremedia.cms.editor.sdk.EditorPlugin"],uses:["com.coremedia.cms.editor.controlroom.controlRoomContext"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.rest.ProjectRepository",function(ProjectRepository){return{mixins:["com.coremedia.ui.data.RemoteBean"],requires:["com.coremedia.ui.data.RemoteBean"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.rest.Project",function(Project){return{mixins:["com.coremedia.ui.data.RemoteBean"],requires:["com.coremedia.ui.data.RemoteBean"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectPropertyNames",function(ProjectPropertyNames){function ProjectPropertyNames$(){}return{constructor:ProjectPropertyNames$,statics:{ID:"id",NAME:"name",DESCRIPTION:"description",START_DATE:"startDate",DUE_DATE:"dueDate"}}});Ext.define("com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectRepositoryImpl",function(ProjectRepositoryImpl){var instance$static=null;function getInstance$static(){if(!instance$static)instance$static=AS3.cast(com.coremedia.cms.editor.controlroom.project.rest.ProjectRepository,com.coremedia.ui.data.beanFactory.getRemoteBean("projects"));return instance$static}function ProjectRepositoryImpl$(path){this.super$wBJU(path)}function createProject(name,contents,callback){if(arguments.length<=
2)callback=null;var rsm=new com.coremedia.ui.data.impl.RemoteServiceMethod(this.getUriPath()+"/"+this.CREATE_URI_SEGMENT$wBJU,"POST",true);rsm.request({name:name,contents:contents},function success(rsmr){var project=AS3.as(com.coremedia.ui.data.impl.BeanFactoryImpl.resolveBeans(Ext.JSON.decode(rsmr.response.responseText)),com.coremedia.cms.editor.controlroom.project.rest.Project);callback&&callback(project)},function failure(rsmr){callback&&callback(rsmr.getError())})}function getProject(id){return AS3.as(com.coremedia.ui.data.beanFactory.getRemoteBean(com.coremedia.ui.util.IdUtil.formatProjectBean(id)),
com.coremedia.cms.editor.controlroom.project.rest.Project)}function getProjectsOfSessionUser(){var projectsBean=com.coremedia.ui.data.beanFactory.getRemoteBean(this.getUriPath()+"/"+com.coremedia.cms.editor.sdk.editorContext.getSession().getUser().get("numericId")+"/"+this.USER_PROJECTS_URI_SEGMENT$wBJU);if(com.coremedia.ui.data.RemoteBeanUtil.isAccessible(projectsBean))return projectsBean.get("items");else{projectsBean.load();return undefined}}function getProjectsWithOpenTodosForSessionUser(){var projectRepositoryBean=
com.coremedia.ui.data.beanFactory.getRemoteBean(this.getUriPath()+"/"+com.coremedia.cms.editor.sdk.editorContext.getSession().getUser().get("numericId")+"/"+this.PROJECTS_WITH_OPEN_TODOS_URI_SEGMENT$wBJU);if(com.coremedia.ui.data.RemoteBeanUtil.isAccessible(projectRepositoryBean))return projectRepositoryBean.get("items");else{projectRepositoryBean.load();return undefined}}return{extend:"com.coremedia.ui.data.impl.RemoteBeanImpl",mixins:["com.coremedia.cms.editor.controlroom.project.rest.ProjectRepository"],
metadata:{"":["RestResource",["uriTemplate","projects"]]},CREATE_URI_SEGMENT$wBJU:"create",USER_PROJECTS_URI_SEGMENT$wBJU:"userprojects",PROJECTS_WITH_OPEN_TODOS_URI_SEGMENT$wBJU:"opentodos",constructor:ProjectRepositoryImpl$,super$wBJU:function(){com.coremedia.ui.data.impl.RemoteBeanImpl.prototype.constructor.apply(this,arguments)},createProject:createProject,getProject:getProject,getProjectsOfSessionUser:getProjectsOfSessionUser,getProjectsWithOpenTodosForSessionUser:getProjectsWithOpenTodosForSessionUser,
statics:{getInstance:getInstance$static},requires:["Ext.JSON","com.coremedia.cms.editor.controlroom.project.rest.ProjectRepository","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.ui.data.RemoteBeanUtil","com.coremedia.ui.data.beanFactory","com.coremedia.ui.data.impl.BeanFactoryImpl","com.coremedia.ui.data.impl.RemoteBeanImpl","com.coremedia.ui.data.impl.RemoteServiceMethod","com.coremedia.ui.util.IdUtil"],uses:["com.coremedia.cms.editor.controlroom.project.rest.Project"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectImpl",function(ProjectImpl){function ADD_MEMBERS_URI_SEGMENT_(){this.ADD_MEMBERS_URI_SEGMENT$wRDq=this.MEMBERS_URI_SEGMENT$wRDq+"/add"}function REMOVE_MEMBERS_URI_SEGMENT_(){this.REMOVE_MEMBERS_URI_SEGMENT$wRDq=this.MEMBERS_URI_SEGMENT$wRDq+"/remove"}function ADD_CONTENTS_URI_SEGMENT_(){this.ADD_CONTENTS_URI_SEGMENT$wRDq=this.CONTENTS_URI_SEGMENT$wRDq+"/add"}function REMOVE_CONTENTS_URI_SEGMENT_(){this.REMOVE_CONTENTS_URI_SEGMENT$wRDq=
this.CONTENTS_URI_SEGMENT$wRDq+"/remove"}function ProjectImpl$(path){this.super$wRDq(path);ADD_MEMBERS_URI_SEGMENT_.call(this);REMOVE_MEMBERS_URI_SEGMENT_.call(this);ADD_CONTENTS_URI_SEGMENT_.call(this);REMOVE_CONTENTS_URI_SEGMENT_.call(this)}function getId(){return this.get(com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectPropertyNames.ID)}function getName(){return this.get(com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectPropertyNames.NAME)}function setName(name){this.set(com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectPropertyNames.NAME,
name)}function getDescription(){return this.get(com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectPropertyNames.DESCRIPTION)}function setDescription(description){this.set(com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectPropertyNames.DESCRIPTION,description)}function getStartDate(){return this.get(com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectPropertyNames.START_DATE)}function getDueDate(){return this.get(com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectPropertyNames.DUE_DATE)}
function setDueDate(dueDate){this.set(com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectPropertyNames.DUE_DATE,dueDate)}function getContents(callback){var this$=this;if(arguments.length<=0)callback=null;var contentsBean=com.coremedia.ui.data.beanFactory.getRemoteBean(this.getUriPath()+"/"+this.CONTENTS_URI_SEGMENT$wRDq);if(callback||!contentsBean.isLoaded()){contentsBean.load(function(){if(callback)callback(this$.getContents())});return undefined}return com.coremedia.ui.data.RemoteBeanUtil.isAccessible(contentsBean)?
contentsBean.get("items"):[]}function setContents(contents,success,failure){switch(Math.max(arguments.length,1)){case 1:success=null;case 2:failure=null}var rsm=new com.coremedia.ui.data.impl.RemoteServiceMethod(this.getUriPath()+"/"+this.ADD_CONTENTS_URI_SEGMENT$wRDq,"PUT",true);rsm.request({contents:contents||[]},function(rsmr){success&&success(rsmr.getResponseJSON())},function(rsmr){failure&&failure(rsmr.getError())})}function addContents(contents,success,failure){switch(Math.max(arguments.length,
1)){case 1:success=null;case 2:failure=null}var rsm=new com.coremedia.ui.data.impl.RemoteServiceMethod(this.getUriPath()+"/"+this.ADD_CONTENTS_URI_SEGMENT$wRDq,"PUT",true);rsm.request({contents:contents||[]},function(rsmr){success&&success(rsmr.getResponseJSON())},function(rsmr){failure&&failure(rsmr.getError())})}function removeContents(contents,success,failure){switch(Math.max(arguments.length,1)){case 1:success=null;case 2:failure=null}var rsm=new com.coremedia.ui.data.impl.RemoteServiceMethod(this.getUriPath()+
"/"+this.REMOVE_CONTENTS_URI_SEGMENT$wRDq,"PUT",true);rsm.request({contents:contents||[]},function(rsmr){success&&success(rsmr.getResponseJSON())},function(rsmr){failure&&failure(rsmr.getError())})}function getMembers(callback){var this$=this;if(arguments.length<=0)callback=null;var usersBean=com.coremedia.ui.data.beanFactory.getRemoteBean(this.getUriPath()+"/"+this.MEMBERS_URI_SEGMENT$wRDq);if(callback||!usersBean.isLoaded()){usersBean.load(function(){if(callback)callback(this$.getMembers())});return undefined}return com.coremedia.ui.data.RemoteBeanUtil.isAccessible(usersBean)?
usersBean.get("items"):[]}function setMembers(members,success,failure){switch(Math.max(arguments.length,1)){case 1:success=null;case 2:failure=null}var rsm=new com.coremedia.ui.data.impl.RemoteServiceMethod(this.getUriPath()+"/"+this.MEMBERS_URI_SEGMENT$wRDq,"PUT",true);rsm.request({members:members},function(rsmr){success&&success(rsmr.getResponseJSON())},function(rsmr){failure&&failure(rsmr.getError())})}function addMembers(members,success,failure){switch(Math.max(arguments.length,1)){case 1:success=
null;case 2:failure=null}var rsm=new com.coremedia.ui.data.impl.RemoteServiceMethod(this.getUriPath()+"/"+this.ADD_MEMBERS_URI_SEGMENT$wRDq,"PUT",true);rsm.request({members:members},function(rsmr){success&&success(rsmr.getResponseJSON())},function(rsmr){failure&&failure(rsmr.getError())})}function removeMembers(members,success,failure){switch(Math.max(arguments.length,1)){case 1:success=null;case 2:failure=null}var rsm=new com.coremedia.ui.data.impl.RemoteServiceMethod(this.getUriPath()+"/"+this.REMOVE_MEMBERS_URI_SEGMENT$wRDq,
"PUT",true);rsm.request({members:members},function(rsmr){success&&success(rsmr.getResponseJSON())},function(rsmr){failure&&failure(rsmr.getError())})}function getTodos(callback){var this$=this;if(arguments.length<=0)callback=null;var todosBean=com.coremedia.ui.data.beanFactory.getRemoteBean(this.getUriPath()+"/"+this.TODOS_URI_SEGMENT$wRDq);if(callback||!todosBean.isLoaded()){todosBean.load(function(){if(callback)callback(this$.getTodos())});return undefined}return com.coremedia.ui.data.RemoteBeanUtil.isAccessible(todosBean)?
todosBean.get("items"):[]}function setTodos(todos,success,failure){switch(Math.max(arguments.length,1)){case 1:success=null;case 2:failure=null}var rsm=new com.coremedia.ui.data.impl.RemoteServiceMethod(this.getUriPath()+"/"+this.TODOS_URI_SEGMENT$wRDq,"PUT",true);rsm.request({todos:todos},function(rsmr){success&&success(rsmr.getResponseJSON())},function(rsmr){failure&&failure(rsmr.getError())})}return{extend:"com.coremedia.ui.data.impl.RemoteBeanImpl",mixins:["com.coremedia.cms.editor.controlroom.project.rest.Project"],
metadata:{"":["RestResource",["uriTemplate","project/{id:[^/]+}"]]},MEMBERS_URI_SEGMENT$wRDq:"members",CONTENTS_URI_SEGMENT$wRDq:"contents",TODOS_URI_SEGMENT$wRDq:"todos",constructor:ProjectImpl$,super$wRDq:function(){com.coremedia.ui.data.impl.RemoteBeanImpl.prototype.constructor.apply(this,arguments)},getId:getId,getName:getName,setName:setName,getDescription:getDescription,setDescription:setDescription,getStartDate:getStartDate,getDueDate:getDueDate,setDueDate:setDueDate,getContents:getContents,
setContents:setContents,addContents:addContents,removeContents:removeContents,getMembers:getMembers,setMembers:setMembers,addMembers:addMembers,removeMembers:removeMembers,getTodos:getTodos,setTodos:setTodos,requires:["com.coremedia.cms.editor.controlroom.project.rest.Project","com.coremedia.ui.data.RemoteBeanUtil","com.coremedia.ui.data.beanFactory","com.coremedia.ui.data.impl.RemoteBeanImpl","com.coremedia.ui.data.impl.RemoteServiceMethod"],uses:["com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectPropertyNames"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.ProjectHelper",function(ProjectHelper){function ProjectHelper$(){}function openProjectInTab$static(project){if(project)com.coremedia.cms.editor.sdk.editorContext.getWorkAreaTabManager().openTabForEntity(project)}function selectProjectsInMyProjects$static(project){var projectsPanel=com.coremedia.cms.editor.controlroom.controlRoomContext.getProjectPanel(true,true);projectsPanel.setSelectedProjects([project])}function renameProjectInMyProjects$static(project,
openInTab){if(arguments.length<=1)openInTab=true;var projectsPanel=com.coremedia.cms.editor.controlroom.controlRoomContext.getProjectPanel(true,true);com.coremedia.ui.util.ConcurrentUtil.executeWhen(function(){com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(projectsPanel,"afterrender");return projectsPanel.rendered},function(){projectsPanel&&projectsPanel.startRenameProject(project,function(){if(openInTab)ProjectHelper.openProjectInTab(project)})})}function loadContents$static(projects,
callback){if(arguments.length<=1)callback=null;var allProjectContentsLoaded=projects.every(function(project){return project.getContents()!==undefined});if(callback||!allProjectContentsLoaded){var execEvt=new com.coremedia.ui.util.ExecuteEventually(function(){callback&&callback(ProjectHelper.getContents(projects))});projects.forEach(function(project){execEvt.delay();project.getContents(function(){execEvt.proceed()})});execEvt.proceed();if(!allProjectContentsLoaded)return undefined}return ProjectHelper.getContents(projects)}
function getContents$static(projects){var contents=[];projects.forEach(function(project){var projectContents=project.getContents();projectContents&&projectContents.forEach(function(content){if(contents.indexOf(content)===-1)contents.push(content)})});return contents}function compareProjects$static(p1,p2){if(p1===p2)return 0;if(!com.coremedia.ui.data.RemoteBeanUtil.isAccessible(p1)||!com.coremedia.ui.data.RemoteBeanUtil.isAccessible(p2))return undefined;var dueDate1=p1.getDueDate();var dueDate2=p2.getDueDate();
if(!dueDate1&&!dueDate2){var name1=p1.getName().toLowerCase();var name2=p2.getName().toLowerCase();return name1.localeCompare(name2)}return com.coremedia.cms.editor.sdk.util.TimeUtil.compareDates(dueDate1,dueDate2)}return{constructor:ProjectHelper$,statics:{openProjectInTab:openProjectInTab$static,selectProjectsInMyProjects:selectProjectsInMyProjects$static,renameProjectInMyProjects:renameProjectInMyProjects$static,loadContents:loadContents$static,getContents:getContents$static,compareProjects:compareProjects$static},
requires:["com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.util.TimeUtil","com.coremedia.ui.data.RemoteBeanUtil","com.coremedia.ui.data.dependencies.DependencyTracker","com.coremedia.ui.util.ConcurrentUtil","com.coremedia.ui.util.ExecuteEventually"],uses:["com.coremedia.cms.editor.controlroom.controlRoomContext"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.model.ProjectContents",function(ProjectContents){function ProjectContents$(project,contents){if(arguments.length<=1)contents=null;this.project$bmiT=project;this.contents$bmiT=[];this.addContents(contents||[])}function getProject(){return this.project$bmiT}function getContents(){return this.contents$bmiT.concat([])}function addContent(contentToAdd){if(this.contents$bmiT.indexOf(contentToAdd)===-1)this.contents$bmiT.push(contentToAdd)}function addContents(contentsToAdd){var this$=
this;contentsToAdd.filter(isContent$static).forEach(function(content){this$.addContent(content)})}function isContent$static(o){return AS3.is(o,com.coremedia.cap.content.Content)}return{project$bmiT:null,contents$bmiT:null,constructor:ProjectContents$,getProject:getProject,getContents:getContents,addContent:addContent,addContents:addContents,requires:["com.coremedia.cap.content.Content"]}});Ext.define("com.coremedia.cms.editor.controlroom.project.ConfigureProjectListViewPlugin",function(ConfigureProjectListViewPlugin){function ConfigureProjectListViewPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.ConfigureProjectListViewPluginBase,{});var defaults_$1=AS3.cast(ConfigureProjectListViewPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$pqlw(config_$1)}
return{extend:"com.coremedia.cms.editor.controlroom.project.ConfigureProjectListViewPluginBase",constructor:ConfigureProjectListViewPlugin$,super$pqlw:function(){com.coremedia.cms.editor.controlroom.project.ConfigureProjectListViewPluginBase.prototype.constructor.apply(this,arguments)},config:{projectListViewDataFields:null,projectListViewColumns:null},requires:["com.coremedia.cms.editor.controlroom.project.ConfigureProjectListViewPluginBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.FinishedProcessListPanelBase",function(FinishedProcessListPanelBase){function FinishedProcessListPanelBase$(config){if(arguments.length<=0)config=null;this.super$4DqD(config);this.mon(this.getComponent(0),"rowdblclick",AS3.bind(this,"handleDblClickGridPanel$4DqD"));this.mon(this.getComponent(0),"rowkeydown",AS3.bind(this,"handleDblClickGridPanel$4DqD"))}function getDefaultColumns$static(){var columns=[];columns.push(new com.coremedia.cms.editor.controlroom.workflow.ProcessIconColumn);
columns.push(Ext.create(com.coremedia.cms.editor.controlroom.workflow.WorkflowNameColumn,{flex:"1"}));return columns}function handleDblClickGridPanel(grid,record,tr,rowIndex,e){if(e.getKey()&&e.getKey()!==13)return;AS3.as(grid.getSelectionModel(),Ext.selection.RowModel).select(rowIndex,e.ctrlKey);var processRecord=AS3.as(AS3.as(grid.getSelectionModel(),Ext.selection.RowModel).getSelection()[0],com.coremedia.ui.store.BeanRecord);var process=AS3.cast(com.coremedia.cap.workflow.Process,processRecord.getBean());
var processName=process.getDefinition().getName();var panelsForProcess=this.workflowInfoPanels.filter(function(component){return component["itemId"]===processName});if(panelsForProcess&&panelsForProcess.length===1){var infoPanelConfig=panelsForProcess[0];com.coremedia.cms.editor.controlroom.workflow.ProcessInfoWindowBase.showProcessInfoWindow(process,infoPanelConfig);e.preventDefault()}else com.coremedia.ui.logging.Logger.warn("FinishedProcessListPanel - no workflowInfoPanel configured for process "+
processName)}return{extend:"Ext.panel.Panel",constructor:FinishedProcessListPanelBase$,super$4DqD:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},handleDblClickGridPanel$4DqD:handleDblClickGridPanel,statics:{getDefaultColumns:getDefaultColumns$static},requires:["Ext","Ext.panel.Panel","Ext.selection.RowModel","com.coremedia.cap.workflow.Process","com.coremedia.ui.logging.Logger","com.coremedia.ui.store.BeanRecord"],uses:["com.coremedia.cms.editor.controlroom.workflow.ProcessIconColumn",
"com.coremedia.cms.editor.controlroom.workflow.ProcessInfoWindowBase","com.coremedia.cms.editor.controlroom.workflow.WorkflowNameColumn"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.SwitchingListPanel",function(SwitchingListPanel){return{}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.translation.DefaultTranslationWorkflowInfoForm",function(DefaultTranslationWorkflowInfoForm){function DefaultTranslationWorkflowInfoForm$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.translation.DefaultTranslationWorkflowInfoFormBase,{});var defaults_$1=AS3.cast(DefaultTranslationWorkflowInfoForm,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var editor_CollapsibleFormPanel_52_5_$1=
AS3.cast(com.coremedia.cms.editor.sdk.premular.CollapsibleFormPanel,{});editor_CollapsibleFormPanel_52_5_$1.header=false;var collab_WorkflowDetailLabel_54_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.components.WorkflowDetailLabel,{});AS3.setBindable(collab_WorkflowDetailLabel_54_9_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","WorkflowDetailPanel_workflowType_label")));AS3.setBindable(collab_WorkflowDetailLabel_54_9_$1,
"textValueExpression",com.coremedia.ui.data.ValueExpressionFactory.createFromValue(com.coremedia.cms.editor.controlroom.workflow.WorkflowLocalizationUtils.getProcessDefinitionDisplayName(config.processDefinitionName)));var collab_WorkflowDetailLabel_57_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.components.WorkflowDetailLabel,{});AS3.setBindable(collab_WorkflowDetailLabel_57_9_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"WorkflowDetailPanel_workflowName_label")));AS3.setBindable(collab_WorkflowDetailLabel_57_9_$1,"textValueExpression",AS3.getBindable(config,"bindTo").extendBy(com.coremedia.cap.workflow.ProcessPropertyNames.PROPERTIES,com.coremedia.cms.editor.sdk.translate.TranslationProcessVariableNames.SUBJECT_VARIABLE));var collab_TargetSiteWorkflowDetailLabel_60_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.translation.TargetSiteWorkflowDetailLabel,{});AS3.setBindable(collab_TargetSiteWorkflowDetailLabel_60_9_$1,
"bindTo",AS3.getBindable(config,"bindTo"));var collab_TargetLocaleWorkflowDetailLabel_61_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.translation.TargetLocaleWorkflowDetailLabel,{});AS3.setBindable(collab_TargetLocaleWorkflowDetailLabel_61_9_$1,"bindTo",AS3.getBindable(config,"bindTo"));var collab_OwnerWorkflowDetailLabel_62_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.translation.OwnerWorkflowDetailLabel,{});AS3.setBindable(collab_OwnerWorkflowDetailLabel_62_9_$1,"bindTo",
AS3.getBindable(config,"bindTo"));editor_CollapsibleFormPanel_52_5_$1.items=[collab_WorkflowDetailLabel_54_9_$1,collab_WorkflowDetailLabel_57_9_$1,collab_TargetSiteWorkflowDetailLabel_60_9_$1,collab_TargetLocaleWorkflowDetailLabel_61_9_$1,collab_OwnerWorkflowDetailLabel_62_9_$1];var editor_CollapsiblePanel_66_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.CollapsiblePanel,{});editor_CollapsiblePanel_66_5_$1.itemId=net.jangaroo.ext.Exml.asString(DefaultTranslationWorkflowInfoForm.TRANSLATION_SET_PANEL_ITEM_ID);
AS3.setBindable(editor_CollapsiblePanel_66_5_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","StartWorkflowWindow_contentItems_label"));var editor_ContentGridPanel_69_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.components.ContentGridPanel,{});editor_ContentGridPanel_69_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.controlroom.workflow.translation.DefaultTranslationWorkflowFormBase.CONTENTS_ITEM_ID);AS3.setBindable(editor_ContentGridPanel_69_9_$1,
"scrollable",true);AS3.setBindable(editor_ContentGridPanel_69_9_$1,"readOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));editor_ContentGridPanel_69_9_$1.anchor="100% 100%";AS3.setBindable(editor_ContentGridPanel_69_9_$1,"bindTo",AS3.getBindable(config,"bindTo").extendBy(com.coremedia.cap.workflow.ProcessPropertyNames.PROPERTIES,com.coremedia.cms.editor.sdk.translate.TranslationProcessVariableNames.DERIVED_CONTENTS_VARIABLE));editor_ContentGridPanel_69_9_$1.columns=com.coremedia.cms.editor.controlroom.workflow.translation.DefaultTranslationWorkflowFormBase.getColumns(AS3.getBindable(config,
"showTranslationStatus"));AS3.setBindable(editor_ContentGridPanel_69_9_$1,"lazy",true);AS3.setBindable(editor_ContentGridPanel_69_9_$1,"initialViewLimit",30);AS3.setBindable(editor_ContentGridPanel_69_9_$1,"viewLimitIncrement",30);var menu_79_13_$1=AS3.cast(Ext.menu.Menu,{});menu_79_13_$1.plain=true;var menuItem_81_17_$1=AS3.cast(Ext.menu.Item,{});var editor_OpenPremularAction_83_21_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenPremularAction,{});AS3.setBindable(editor_OpenPremularAction_83_21_$1,
"premularConfigurationsValueExpression",this.getSelectedPremularConfigurationsValueExpression());menuItem_81_17_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.OpenPremularAction(editor_OpenPremularAction_83_21_$1);var menuItem_87_17_$1=AS3.cast(Ext.menu.Item,{});var editor_ShowInRepositoryAction_89_21_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction,{});AS3.setBindable(editor_ShowInRepositoryAction_89_21_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.components.ContentGridPanel.SELECTED_ITEMS_VARIABLE_NAME));
menuItem_87_17_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction(editor_ShowInRepositoryAction_89_21_$1);var menuItem_93_17_$1=AS3.cast(Ext.menu.Item,{});var editor_CopyToClipboardAction_95_21_$1=AS3.cast(com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction,{});AS3.setBindable(editor_CopyToClipboardAction_95_21_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.components.ContentGridPanel.SELECTED_ITEMS_VARIABLE_NAME));menuItem_93_17_$1.baseAction=
new com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction(editor_CopyToClipboardAction_95_21_$1);menu_79_13_$1.items=[menuItem_81_17_$1,menuItem_87_17_$1,menuItem_93_17_$1];AS3.setBindable(editor_ContentGridPanel_69_9_$1,"contextMenu",menu_79_13_$1);var ui_DataField_103_13_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_103_13_$1.name="translationStatus";ui_DataField_103_13_$1.ifUnreadable="";ui_DataField_103_13_$1.ifError="";ui_DataField_103_13_$1.mapping="";ui_DataField_103_13_$1["convert"]=
AS3.bind(this,"getTranslationStatus");AS3.setBindable(editor_ContentGridPanel_69_9_$1,"additionalFields",[ui_DataField_103_13_$1]);editor_CollapsiblePanel_66_5_$1.items=[editor_ContentGridPanel_69_9_$1];var collab_WorkflowNotesPanel_113_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.components.WorkflowNotesPanel,{});AS3.setBindable(collab_WorkflowNotesPanel_113_5_$1,"collapseNoText",true);AS3.setBindable(collab_WorkflowNotesPanel_113_5_$1,"notesValueExpression",this.getNotesValueExpression(AS3.getBindable(config,
"bindTo")));config_$1.items=[editor_CollapsibleFormPanel_52_5_$1,editor_CollapsiblePanel_66_5_$1,collab_WorkflowNotesPanel_113_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$_GgH(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.workflow.translation.DefaultTranslationWorkflowInfoFormBase",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.controlroom.config.defaultTranslationWorkflowInfoForm",constructor:DefaultTranslationWorkflowInfoForm$,super$_GgH:function(){com.coremedia.cms.editor.controlroom.workflow.translation.DefaultTranslationWorkflowInfoFormBase.prototype.constructor.apply(this,
arguments)},config:{showTranslationStatus:false},statics:{TRANSLATION_SET_PANEL_ITEM_ID:"translationSetPanel"},requires:["Ext.menu.Item","Ext.menu.Menu","com.coremedia.cap.workflow.ProcessPropertyNames","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.workflow.translation.DefaultTranslationWorkflowInfoFormBase","com.coremedia.cms.editor.sdk.actions.OpenPremularAction","com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction","com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction",
"com.coremedia.cms.editor.sdk.components.ContentGridPanel","com.coremedia.cms.editor.sdk.premular.CollapsibleFormPanel","com.coremedia.cms.editor.sdk.premular.CollapsiblePanel","com.coremedia.cms.editor.sdk.translate.TranslationProcessVariableNames","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.store.DataField","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.workflow.WorkflowLocalizationUtils","com.coremedia.cms.editor.controlroom.workflow.components.WorkflowDetailLabel",
"com.coremedia.cms.editor.controlroom.workflow.components.WorkflowNotesPanel","com.coremedia.cms.editor.controlroom.workflow.translation.DefaultTranslationWorkflowFormBase","com.coremedia.cms.editor.controlroom.workflow.translation.OwnerWorkflowDetailLabel","com.coremedia.cms.editor.controlroom.workflow.translation.TargetLocaleWorkflowDetailLabel","com.coremedia.cms.editor.controlroom.workflow.translation.TargetSiteWorkflowDetailLabel"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.translation.DefaultTranslationWorkflowFormBase",function(DefaultTranslationWorkflowFormBase){function DefaultTranslationWorkflowFormBase$(config){if(arguments.length<=0)config=null;this.derivedContentsValueExpression$bx6q=AS3.getBindable(config,"bindTo").extendBy(com.coremedia.cap.workflow.ProcessPropertyNames.PROPERTIES,com.coremedia.cms.editor.sdk.translate.TranslationProcessVariableNames.DERIVED_CONTENTS_VARIABLE);this.super$bx6q(config)}
function getDerivedContentsValueExpression(){return this.derivedContentsValueExpression$bx6q}function getNotesValueExpression(bindTo){if(!this.notesValueExpression$bx6q)this.notesValueExpression$bx6q=bindTo.extendBy(com.coremedia.cap.workflow.ProcessPropertyNames.PROPERTIES,com.coremedia.cms.editor.sdk.translate.TranslationProcessVariableNames.COMMENT_VARIABLE);return this.notesValueExpression$bx6q}function getColumns$static(showTranslationStatus){var theNameColumn=showTranslationStatus===true?new com.coremedia.cms.editor.sdk.sites.NameTranslationStatusColumn:
new com.coremedia.cms.editor.sdk.columns.grid.NameColumn;return[Ext.create(com.coremedia.cms.editor.sdk.columns.grid.TypeIconColumn,{}),theNameColumn,new com.coremedia.cms.editor.sdk.columns.grid.StatusColumn]}function getTranslationStatus(content){var process=AS3.getBindable(this,"bindTo").getValue();return com.coremedia.cms.editor.sdk.translate.TranslationWorkflowUtil.getTranslationStatus(content,process)}function getPremularConfigurationsValueExpression(){var this$=this;if(!this.premularConfigurationsValueExpression$bx6q)this.premularConfigurationsValueExpression$bx6q=
com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var masterVersionsExpression=AS3.getBindable(this$,"bindTo").extendBy(com.coremedia.cap.workflow.ProcessPropertyNames.PROPERTIES,com.coremedia.cms.editor.sdk.translate.TranslationProcessVariableNames.MASTER_CONTENT_OBJECTS_VARIABLE);var masterVersions=masterVersionsExpression.getValue();var i;if(masterVersions===undefined)return undefined;if(masterVersions===null)return[];var masterVersionNotLoaded=false;var masterContentToMasterVersionMap=
{};for(i=0;i<masterVersions.length;i++){var masterVersion=masterVersions[i];switch(com.coremedia.ui.data.RemoteBeanUtil.isAccessible(masterVersion)){case undefined:masterVersionNotLoaded=true;break;case true:masterContentToMasterVersionMap[masterVersion.getContainingContent().getUriPath()]=masterVersion;break}}if(masterVersionNotLoaded)return undefined;var premularConfigurations=[];var derivedContents=this$.derivedContentsValueExpression$bx6q.getValue();var sitesService=com.coremedia.cms.editor.sdk.editorContext.getSitesService();
var masterContentUndefined=false;for(i=0;i<derivedContents.length;i++){var derivedContent=derivedContents[i];var accessible=com.coremedia.ui.data.RemoteBeanUtil.isAccessible(derivedContent);if(accessible===undefined)masterContentUndefined=true;if(!accessible)continue;var masterContent=sitesService.getMaster(derivedContent);if(masterContent===undefined){masterContentUndefined=true;continue}var masterVersionToTranslate=masterContentToMasterVersionMap[masterContent.getUriPath()];premularConfigurations.push(new com.coremedia.cms.editor.sdk.premular.PremularConfiguration(derivedContent,
masterVersionToTranslate,false,true))}return masterContentUndefined?undefined:premularConfigurations});return this.premularConfigurationsValueExpression$bx6q}return{extend:"com.coremedia.cms.editor.controlroom.workflow.WorkflowForm",metadata:{"":["PublicApi"]},derivedContentsValueExpression$bx6q:null,notesValueExpression$bx6q:null,premularConfigurationsValueExpression$bx6q:null,constructor:DefaultTranslationWorkflowFormBase$,super$bx6q:function(){com.coremedia.cms.editor.controlroom.workflow.WorkflowForm.prototype.constructor.apply(this,
arguments)},getDerivedContentsValueExpression:getDerivedContentsValueExpression,getNotesValueExpression:getNotesValueExpression,getTranslationStatus:getTranslationStatus,getPremularConfigurationsValueExpression:getPremularConfigurationsValueExpression,statics:{CONTENTS_ITEM_ID:"contentsItemId",getColumns:getColumns$static},requires:["Ext","com.coremedia.cap.workflow.ProcessPropertyNames","com.coremedia.cms.editor.controlroom.workflow.WorkflowForm","com.coremedia.cms.editor.sdk.columns.grid.NameColumn",
"com.coremedia.cms.editor.sdk.columns.grid.StatusColumn","com.coremedia.cms.editor.sdk.columns.grid.TypeIconColumn","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.premular.PremularConfiguration","com.coremedia.cms.editor.sdk.sites.NameTranslationStatusColumn","com.coremedia.cms.editor.sdk.translate.TranslationProcessVariableNames","com.coremedia.cms.editor.sdk.translate.TranslationWorkflowUtil","com.coremedia.ui.data.RemoteBeanUtil","com.coremedia.ui.data.ValueExpressionFactory"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.translation.AddTranslationWorkflowPluginBase",function(AddTranslationWorkflowPluginBase){function AddTranslationWorkflowPluginBase$(config){if(arguments.length<=0)config=null;this.super$16A3(config);AS3.cast(com.coremedia.cms.editor.sdk.EditorContextImpl,com.coremedia.cms.editor.sdk.editorContext).registerTranslationProcessDefinition(AS3.getBindable(config,"processDefinitionName"))}return{extend:"com.coremedia.cms.editor.controlroom.workflow.AddWorkflowPlugin",
metadata:{"":["PublicApi"]},constructor:AddTranslationWorkflowPluginBase$,super$16A3:function(){com.coremedia.cms.editor.controlroom.workflow.AddWorkflowPlugin.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.controlroom.workflow.AddWorkflowPlugin","com.coremedia.cms.editor.sdk.EditorContextImpl","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.translation.DefaultStartTranslationWorkflowPanelBase",function(DefaultStartTranslationWorkflowPanelBase){var START_TRANSLATION_VALIDATION_CODE$static="translationWorkflowStart";function DefaultStartTranslationWorkflowPanelBase$(config){if(arguments.length<=0)config=null;this.super$vzlM(config);this.determineMyEditedContentRemoval$vzlM();this.selectedSitesValueExpression$vzlM&&this.selectedSitesValueExpression$vzlM.addChangeListener(AS3.bind(this,
"getTranslationSetIssues"))}function destroy(){var params=Array.prototype.slice.call(arguments);this.selectedSitesValueExpression$vzlM&&this.selectedSitesValueExpression$vzlM.removeChangeListener(AS3.bind(this,"getTranslationSetIssues"));com.coremedia.cms.editor.controlroom.workflow.translation.AbstractStartTranslationWorkflowPanel.prototype.destroy.call(this,params)}function getUserChosenContentsValueExpression(){return this.userChosenContentsValueExpression$vzlM||(this.userChosenContentsValueExpression$vzlM=
com.coremedia.ui.data.ValueExpressionFactory.createFromValue([]))}function getRemoveEditedContentValueExpression(){return this.removeEditedContentValueExpression$vzlM||(this.removeEditedContentValueExpression$vzlM=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(false))}function getWorkflowSetPanel(){var component=AS3.as(this.getComponent(DefaultStartTranslationWorkflowPanelBase.TRANSLATION_SET_PANEL_ITEM_ID),com.coremedia.cms.editor.controlroom.workflow.components.WorkflowSetPanel);if(component)return component;
return null}function getWorkflowSetPanelModel(){if(this.getWorkflowSetPanel())return this.getWorkflowSetPanel().getModel();return undefined}function getModel(){if(!this.model$vzlM)this.model$vzlM=com.coremedia.ui.data.beanFactory.createLocalBean({"userChosenContents":[]});return this.model$vzlM}function getErrorIssuesExistValueExpression(){if(!this.errorIssuesValueExpression$vzlM)this.errorIssuesValueExpression$vzlM=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(false);return this.errorIssuesValueExpression$vzlM}
function getTranslationSetValueExpression(){if(!this.translationSetValueExpression$vzlM)this.translationSetValueExpression$vzlM=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(undefined);return this.translationSetValueExpression$vzlM}function getValidationCode(){return START_TRANSLATION_VALIDATION_CODE$static}function getTranslationSetIssues(callback,translationSet){var this$=this;switch(arguments.length){case 0:callback=null;case 1:translationSet=null}translationSet=this.userChosenContentsValueExpression$vzlM.getValue();
var sites=[];var selectedSites=this.getSelectedSites();var validationCode=this.getValidationCode();if(selectedSites.length>0)for(var index in selectedSites)sites.push(selectedSites[index].getId());com.coremedia.collaboration.controlroom.rest.TranslationSetIssuesService.loadTranslationSetIssues(translationSet,sites,validationCode,function(workflowSetIssues){if(this$.getWorkflowSetPanel()){if(!com.coremedia.ui.util.ObjectUtils.equal(workflowSetIssues,this$.getWorkflowSetPanelModel().get(this$.getWorkflowSetPanel().getWorkflowSetIssuesPropertyName())))this$.getWorkflowSetPanelModel().set(this$.getWorkflowSetPanel().getWorkflowSetIssuesPropertyName(),
workflowSetIssues);AS3.is(callback,Function)&&callback(workflowSetIssues)}})}function getSelectedSites(){return this.getSelectedSitesValueExpression().getValue()}function getContentsForCheckIn(){var contents=this.getUserChosenContentsValueExpression().getValue();var contentsForCheckIn=[];for(var $1=0;$1<contents.length;++$1){var content=contents[$1];if(!content.isCheckedIn())contentsForCheckIn.push(content)}return contentsForCheckIn}function determineMyEditedContentRemoval(){var preferences=com.coremedia.cms.editor.sdk.editorContext.getPreferences();
var removeEditedContents=AS3.as(preferences.get(com.coremedia.cms.editor.controlroom.workflow.translation.StartTranslationWorkflowWindowBase.REMOVE_EDITED_CONTENTS),Boolean)||false;this.getRemoveEditedContentValueExpression().setValue(removeEditedContents)}function getMasterProperty$static(){return com.coremedia.cms.editor.sdk.editorContext.getSitesService().getSiteModel().getMasterProperty()}function getLocaleProperty$static(){return com.coremedia.cms.editor.sdk.editorContext.getSitesService().getSiteModel().getLocaleProperty()}
function getSite$static(contents){if(contents&&contents.length>0){var site=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getSiteFor(contents[0]);return site}return null}function getMasterSiteLabelText(){var this$=this;return this.masterSiteLabelValueExpression$vzlM||(this.masterSiteLabelValueExpression$vzlM=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var contents=this$.getUserChosenContentsValueExpression().getValue();if(!contents||contents.length===0)return this$.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"StartWorkflowWindow_masterSite_label_no_locale");var site=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getSiteFor(contents[0]);if(!site)return this$.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","StartWorkflowWindow_masterSite_label_no_locale");var locale=site.getLocale().getDisplayName();return Ext.String.format(this$.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","StartWorkflowWindow_masterSite_label"),locale)}))}function initializeContents(initialContents){var this$=
this;com.coremedia.cms.editor.sdk.util.contentUtil.expandFolders(function(documents){if(documents.length===0)return;this$.getUserChosenContentsValueExpression().setValue(documents)},initialContents)}function getSitesValueExpression(){if(!this.sitesValueExpression$vzlM)this.sitesValueExpression$vzlM=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"calcDerivedSites$vzlM"));return this.sitesValueExpression$vzlM}function getSelectedSitesValueExpression(){if(!this.selectedSitesValueExpression$vzlM)this.selectedSitesValueExpression$vzlM=
com.coremedia.ui.data.ValueExpressionFactory.createFromValue([]);return this.selectedSitesValueExpression$vzlM}function calcDerivedSites(){var contents=this.getMasterContents();if(contents&&contents.length>0){var sitesService=com.coremedia.cms.editor.sdk.editorContext.getSitesService();var masterSite=sitesService.getSiteFor(contents[0]);if(masterSite)return this.getDerivedSites(masterSite,com.coremedia.cap.common.SESSION.getUser())}return[]}function getDerivedSites(masterSite,currentUser){if(this.isPullTranslation()){var sitesService=
com.coremedia.cms.editor.sdk.editorContext.getSitesService();var preferredSite=sitesService.getPreferredSite();return preferredSite?[preferredSite]:[]}else{var derivedSites=this.getDerivedSitesForTranslation(masterSite);if(!currentUser.isMemberOf(masterSite.getSiteManagerGroup()))derivedSites=derivedSites.filter(function(site){return currentUser.isMemberOf(site.getSiteManagerGroup())});return derivedSites}}function getDerivedSitesForTranslation(masterSite){var allDerivedSites=masterSite.getDerivedSites().concat();
var translationSites=allDerivedSites.filter(function(site){return site.isLanguageTranslationTargetSite()});this.sortSites(translationSites);return translationSites}function sortSites(sites){sites.sort(function(ssi1,ssi2){var lowerCaseCompare=ssi1.getLocale().getDisplayName().toLowerCase().localeCompare(ssi2.getLocale().getDisplayName().toLocaleLowerCase());var actualCaseCompare=ssi1.getLocale().getDisplayName().localeCompare(ssi2.getLocale().getDisplayName());return lowerCaseCompare||actualCaseCompare})}
function computeProcessVariableMappings(callback){var sites=this.getSelectedSitesValueExpression().getValue().slice();var result=[];var notes=this.getNotesValueExpression().getValue();var masterContents=this.getMasterContents();var staticVariables={"masterContentObjects":masterContents,"comment":notes};if(this.isPullTranslation())staticVariables[com.coremedia.cms.editor.sdk.translate.TranslationProcessVariableNames.AUTO_SELF_ASSIGNED_VARIABLE]=true;if(AS3.getBindable(this,"createWorkflowPerTargetSite"))for(var i=
0;i<sites.length;i++)result.push(Ext.apply({"targetSiteId":sites[i].getId()},staticVariables));else result.push(Ext.apply({"targetSiteId":sites.map(function(site){return site.getId()})},staticVariables));callback(result)}function getMasterContents(){return this.getUserChosenContentsValueExpression().getValue()}function getRemoveEditedContent(){return this.getRemoveEditedContentValueExpression().getValue()}function isStartButtonDisabled(){var issues=this.getErrorIssuesExistValueExpression().getValue();
return issues===undefined?true:issues}function beforeStartWorkflow(callback){var contentsForCheckIn=this.getContentsForCheckIn$vzlM();if(contentsForCheckIn.length>0)com.coremedia.cap.common.SESSION.getConnection().getContentRepository().checkInAll(contentsForCheckIn,function(result){if(!result.successful){var checkInResultWindowCfg=AS3.cast(com.coremedia.cms.editor.sdk.bulkOperation.CheckInResultWindow,{});AS3.setBindable(checkInResultWindowCfg,"bulkResultItems",result.results);Ext.ComponentManager.create(checkInResultWindowCfg).show()}else callback()});
else callback()}function getNotesValueExpression(){return this.notesValueExpression$vzlM||(this.notesValueExpression$vzlM=com.coremedia.ui.data.ValueExpressionFactory.createFromValue())}return{extend:"com.coremedia.cms.editor.controlroom.workflow.translation.AbstractStartTranslationWorkflowPanel",metadata:{"":["PublicApi"]},model$vzlM:null,userChosenContentsValueExpression$vzlM:null,sitesValueExpression$vzlM:null,selectedSitesValueExpression$vzlM:null,masterSiteLabelValueExpression$vzlM:null,notesValueExpression$vzlM:null,
removeEditedContentValueExpression$vzlM:null,translationSetValueExpression$vzlM:null,errorIssuesValueExpression$vzlM:null,constructor:DefaultStartTranslationWorkflowPanelBase$,super$vzlM:function(){com.coremedia.cms.editor.controlroom.workflow.translation.AbstractStartTranslationWorkflowPanel.prototype.constructor.apply(this,arguments)},destroy:destroy,getUserChosenContentsValueExpression:getUserChosenContentsValueExpression,getRemoveEditedContentValueExpression:getRemoveEditedContentValueExpression,
getWorkflowSetPanel:getWorkflowSetPanel,getWorkflowSetPanelModel:getWorkflowSetPanelModel,getModel:getModel,getErrorIssuesExistValueExpression:getErrorIssuesExistValueExpression,getTranslationSetValueExpression:getTranslationSetValueExpression,getValidationCode:getValidationCode,getTranslationSetIssues:getTranslationSetIssues,getSelectedSites:getSelectedSites,getContentsForCheckIn$vzlM:getContentsForCheckIn,determineMyEditedContentRemoval$vzlM:determineMyEditedContentRemoval,getMasterSiteLabelText:getMasterSiteLabelText,
initializeContents:initializeContents,getSitesValueExpression:getSitesValueExpression,getSelectedSitesValueExpression:getSelectedSitesValueExpression,calcDerivedSites$vzlM:calcDerivedSites,getDerivedSites:getDerivedSites,getDerivedSitesForTranslation:getDerivedSitesForTranslation,sortSites:sortSites,computeProcessVariableMappings:computeProcessVariableMappings,getMasterContents:getMasterContents,getRemoveEditedContent:getRemoveEditedContent,isStartButtonDisabled:isStartButtonDisabled,beforeStartWorkflow:beforeStartWorkflow,
getNotesValueExpression:getNotesValueExpression,config:{createWorkflowPerTargetSite:true},statics:{TRANSLATION_SET_PANEL_ITEM_ID:"translationSetPanel",getSite:getSite$static},requires:["Ext","Ext.ComponentManager","Ext.String","com.coremedia.cap.common.SESSION","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.workflow.translation.AbstractStartTranslationWorkflowPanel","com.coremedia.cms.editor.sdk.bulkOperation.CheckInResultWindow","com.coremedia.cms.editor.sdk.editorContext",
"com.coremedia.cms.editor.sdk.translate.TranslationProcessVariableNames","com.coremedia.cms.editor.sdk.util.contentUtil","com.coremedia.collaboration.controlroom.rest.TranslationSetIssuesService","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.beanFactory","com.coremedia.ui.util.ObjectUtils"],uses:["com.coremedia.cms.editor.controlroom.workflow.components.WorkflowSetPanel","com.coremedia.cms.editor.controlroom.workflow.translation.StartTranslationWorkflowWindowBase"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.translation.TargetLocaleWorkflowDetailLabel",function(TargetLocaleWorkflowDetailLabel){function TargetLocaleWorkflowDetailLabel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.translation.TargetLocaleWorkflowDetailLabelBase,{});var defaults_$1=AS3.cast(TargetLocaleWorkflowDetailLabel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"fieldLabel",
net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","WorkflowDetailPanel_targetLocale_label")));AS3.setBindable(config_$1,"textValueExpression",this.getTargetLocaleValueExpression(AS3.getBindable(config,"bindTo")));net.jangaroo.ext.Exml.apply(config_$1,config);this.super$B1T9(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.workflow.translation.TargetLocaleWorkflowDetailLabelBase",alias:"widget.com.coremedia.cms.editor.controlroom.config.targetLocaleWorkflowDetailLabel",
constructor:TargetLocaleWorkflowDetailLabel$,super$B1T9:function(){com.coremedia.cms.editor.controlroom.workflow.translation.TargetLocaleWorkflowDetailLabelBase.prototype.constructor.apply(this,arguments)},config:{bindTo:null},requires:["com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.workflow.translation.TargetLocaleWorkflowDetailLabelBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.translation.TargetSitesGridPanel",function(TargetSitesGridPanel){function TargetSitesGridPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.translation.TargetSitesGridPanelBase,{});var defaults_$1=AS3.cast(TargetSitesGridPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"scrollable",true);config_$1.selModel=this.getCheckboxSelectionModel();
config_$1.forceFit=true;config_$1.sortableColumns=false;var ui_BindListPlugin_25_5_$1=AS3.cast(com.coremedia.ui.plugins.BindListPlugin,{});AS3.setBindable(ui_BindListPlugin_25_5_$1,"bindTo",AS3.getBindable(config,"sitesValueExpression"));AS3.setBindable(ui_BindListPlugin_25_5_$1,"idProperty","id");var ui_DataField_28_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_28_9_$1.name="localeDisplayName";ui_DataField_28_9_$1.mapping="locale.displayName";ui_DataField_28_9_$1.encode=false;var ui_DataField_31_9_$1=
AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_31_9_$1.name="id";AS3.setBindable(ui_BindListPlugin_25_5_$1,"fields",[ui_DataField_28_9_$1,ui_DataField_31_9_$1]);var ui_BindSelectionPlugin_34_5_$1=AS3.cast(com.coremedia.ui.plugins.BindSelectionPlugin,{});AS3.setBindable(ui_BindSelectionPlugin_34_5_$1,"selectedValues",AS3.getBindable(config,"selectedSitesValueExpression"));config_$1.plugins=[ui_BindListPlugin_25_5_$1,ui_BindSelectionPlugin_34_5_$1];var gridColumn_37_5_$1=AS3.cast(Ext.grid.column.Column,
{});gridColumn_37_5_$1.header=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","StartWorkflowWindow_selectAllSites"));gridColumn_37_5_$1.stateId="locale";gridColumn_37_5_$1.dataIndex="localeDisplayName";gridColumn_37_5_$1.renderer=AS3.bind(this,"tooltipRenderer");gridColumn_37_5_$1.menuDisabled=true;config_$1.columns=[gridColumn_37_5_$1];var gridView_45_5_$1=AS3.cast(Ext.view.Table,{});gridView_45_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.TableViewSkin.LIGHT.getSkin());
gridView_45_5_$1.stripeRows=true;config_$1["viewConfig"]=gridView_45_5_$1;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Vxxp(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.workflow.translation.TargetSitesGridPanelBase",alias:"widget.com.coremedia.cms.editor.controlroom.config.targetSitesGridPanel",constructor:TargetSitesGridPanel$,super$Vxxp:function(){com.coremedia.cms.editor.controlroom.workflow.translation.TargetSitesGridPanelBase.prototype.constructor.apply(this,arguments)},
requires:["Ext.grid.column.Column","Ext.view.Table","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.workflow.translation.TargetSitesGridPanelBase","com.coremedia.ui.plugins.BindListPlugin","com.coremedia.ui.plugins.BindSelectionPlugin","com.coremedia.ui.skins.TableViewSkin","com.coremedia.ui.store.DataField","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.translation.StartTranslationWorkflowWindow",function(StartTranslationWorkflowWindow){function StartTranslationWorkflowWindow$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.translation.StartTranslationWorkflowWindowBase,{});var defaults_$1=AS3.cast(StartTranslationWorkflowWindow,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"StartTranslationWorkflowWindow_title"));AS3.setBindable(config_$1,"width",430);AS3.setBindable(config_$1,"height",760);AS3.setBindable(config_$1,"minWidth",300);AS3.setBindable(config_$1,"minHeight",400);config_$1.stateId="startTranslationWorfklowWindowState";AS3.setBindable(config_$1,"stateful",true);config_$1.constrainHeader=true;AS3.setBindable(config_$1,"scrollable",true);config_$1.onEsc=AS3.bind(this,"cancel");config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.WindowSkin.GRID_200_DARK.getSkin());
var editor_CollapsiblePanel_55_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.CollapsiblePanel,{});AS3.setBindable(editor_CollapsiblePanel_55_5_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","StartWorkflowWindow_workflowNameTextField_label"));var collab_WorkflowNameField_58_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.components.WorkflowNameField,{});AS3.setBindable(collab_WorkflowNameField_58_9_$1,"workflowNameExpression",this.getSubjectValueExpression());
collab_WorkflowNameField_58_9_$1.anchor="100%";var collab_ProcessDefinitionChooser_60_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.ProcessDefinitionChooser,{});AS3.setBindable(collab_ProcessDefinitionChooser_60_9_$1,"availableProcessDefinitions",AS3.getBindable(config,"availableProcessDefinitionNames"));AS3.setBindable(collab_ProcessDefinitionChooser_60_9_$1,"selectedProcessDefinitionExpression",this.getSelectedProcessDefinitionNamesValueExpression());collab_ProcessDefinitionChooser_60_9_$1.stateId=
"translationWorkflowChooser";collab_ProcessDefinitionChooser_60_9_$1.anchor="100%";editor_CollapsiblePanel_55_5_$1.items=[collab_WorkflowNameField_58_9_$1,collab_ProcessDefinitionChooser_60_9_$1];var ui_VerticalSpacingPlugin_66_9_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});editor_CollapsiblePanel_55_5_$1.plugins=[ui_VerticalSpacingPlugin_66_9_$1];var ui_SwitchingContainer_69_5_$1=AS3.cast(com.coremedia.ui.components.SwitchingContainer,{});ui_SwitchingContainer_69_5_$1.itemId=net.jangaroo.ext.Exml.asString(StartTranslationWorkflowWindow.SWITCHING_CONTAINER_ITEM_ID);
AS3.setBindable(ui_SwitchingContainer_69_5_$1,"activeItemValueExpression",this.getSelectedProcessDefinitionNamesValueExpression());AS3.setBindable(ui_SwitchingContainer_69_5_$1,"layoutOnCardChange",true);AS3.setBindable(ui_SwitchingContainer_69_5_$1,"minHeight",500);var collab_AbstractStartTranslationWorkflowPanel_74_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.translation.AbstractStartTranslationWorkflowPanel,{});collab_AbstractStartTranslationWorkflowPanel_74_9_$1.pullTranslation=
AS3.getBindable(config,"pullTranslation");ui_SwitchingContainer_69_5_$1["defaultType"]=collab_AbstractStartTranslationWorkflowPanel_74_9_$1["xtype"];delete collab_AbstractStartTranslationWorkflowPanel_74_9_$1["xtype"];delete collab_AbstractStartTranslationWorkflowPanel_74_9_$1["xclass"];ui_SwitchingContainer_69_5_$1.defaults=collab_AbstractStartTranslationWorkflowPanel_74_9_$1;config_$1.items=[editor_CollapsiblePanel_55_5_$1,ui_SwitchingContainer_69_5_$1];var button_79_5_$1=AS3.cast(Ext.button.Button,
{});button_79_5_$1.itemId=net.jangaroo.ext.Exml.asString(StartTranslationWorkflowWindow.START_BUTTON_ITEM_ID);button_79_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_PRIMARY.getSkin());AS3.setBindable(button_79_5_$1,"scale","small");AS3.setBindable(button_79_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","btn_start")));AS3.setBindable(button_79_5_$1,"handler",AS3.bind(this,"startWorkflow"));var ui_BindPropertyPlugin_85_9_$1=
AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_85_9_$1.bindTo=this.getStartButtonDisabledValueExpression();ui_BindPropertyPlugin_85_9_$1.componentProperty="disabled";button_79_5_$1.plugins=[ui_BindPropertyPlugin_85_9_$1];var button_89_5_$1=AS3.cast(Ext.button.Button,{});button_89_5_$1.itemId=net.jangaroo.ext.Exml.asString(StartTranslationWorkflowWindow.CANCEL_BUTTON_ITEM_ID);button_89_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_SECONDARY.getSkin());
AS3.setBindable(button_89_5_$1,"scale","small");AS3.setBindable(button_89_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","dialog_defaultCancelButton_text")));AS3.setBindable(button_89_5_$1,"handler",AS3.bind(this,"cancel"));config_$1.buttons=[button_79_5_$1,button_89_5_$1];var layout_Anchor_96_5_$1=AS3.cast(Ext.layout.container.Anchor,{});AS3.setBindable(config_$1,"layout",layout_Anchor_96_5_$1);var ui_VerticalSpacingPlugin_99_5_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,
{});AS3.setBindable(ui_VerticalSpacingPlugin_99_5_$1,"modifier",com.coremedia.ui.bem.SpacingBEMEntities.VERTICAL_SPACING_MODIFIER_200);AS3.setBindable(ui_VerticalSpacingPlugin_99_5_$1,"includeDocked",false);config_$1.plugins=[ui_VerticalSpacingPlugin_99_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$89Yk(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.workflow.translation.StartTranslationWorkflowWindowBase",alias:"widget.com.coremedia.cms.editor.controlroom.config.startTranslationWorkflowWindow",
constructor:StartTranslationWorkflowWindow$,super$89Yk:function(){com.coremedia.cms.editor.controlroom.workflow.translation.StartTranslationWorkflowWindowBase.prototype.constructor.apply(this,arguments)},config:{contents:null,availableProcessDefinitionNames:null,defaultWorkflowName:null,pullTranslation:false,processStartedCallback:null,processCancelledCallback:null},statics:{TARGET_SITES_GRID_PANEL_ITEM_ID:"targetSites",START_BUTTON_ITEM_ID:"startButton",CANCEL_BUTTON_ITEM_ID:"cancelButton",SWITCHING_CONTAINER_ITEM_ID:"switchingContainer",
DELETE_FROM_MY_EDITED_CONTENTS_ITEM_ID:"deleteEditedContents"},requires:["Ext.button.Button","Ext.layout.container.Anchor","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.workflow.translation.StartTranslationWorkflowWindowBase","com.coremedia.cms.editor.sdk.premular.CollapsiblePanel","com.coremedia.ui.bem.SpacingBEMEntities","com.coremedia.ui.components.SwitchingContainer","com.coremedia.ui.plugins.BindPropertyPlugin",
"com.coremedia.ui.plugins.VerticalSpacingPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.WindowSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.workflow.ProcessDefinitionChooser","com.coremedia.cms.editor.controlroom.workflow.components.WorkflowNameField","com.coremedia.cms.editor.controlroom.workflow.translation.AbstractStartTranslationWorkflowPanel"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.translation.TargetSitesGridPanelBase",function(TargetSitesGridPanelBase){function TargetSitesGridPanelBase$(config){var this$=this;if(arguments.length<=0)config=null;this.super$y8Xa(config);AS3.getBindable(this,"sitesValueExpression").addChangeListener(AS3.bind(this,"sitesChanged$y8Xa"));this.sitesChanged$y8Xa();this.on("viewready",AS3.bind(this,"onViewReady"));this.on("headerclick",function(ct,column,e,t,eOpts){var selectionModel=this$.getCheckboxSelectionModel();
var el=this$.getHeaderContainer().getEl().selectNode(".x-column-header-checkbox",false);var headerChecked=el.hasCls(Ext.baseCSSPrefix+"grid-hd-checker-on");headerChecked?selectionModel.deselectAll():selectionModel.selectAll(false)})}function getCheckboxSelectionModel(){if(!this.selectionModel$y8Xa){this.selectionModel$y8Xa=Ext.create(Ext.selection.CheckboxModel,{mode:"SIMPLE"});this.selectionModel$y8Xa["onHeaderClick"]=Ext.emptyFn}return this.selectionModel$y8Xa}function onViewReady(){this.viewReady$y8Xa=
true;if(this.sitesToSelect$y8Xa)AS3.getBindable(this,"selectedSitesValueExpression").setValue(this.sitesToSelect$y8Xa)}function tooltipRenderer(value,metadata,record){var site=record.getBean();if(site)metadata.tdAttr='data-qtip\x3d"'+com.coremedia.ui.util.EncodingUtil.encodeForHTML(site.getName())+'"';return value}function sitesChanged(){var sites=AS3.getBindable(this,"sitesValueExpression").getValue();var selectedSitesCount=0;if(AS3.as(AS3.getBindable(this,"selectedSitesValueExpression").getValue(),
Array))selectedSitesCount=AS3.as(AS3.getBindable(this,"selectedSitesValueExpression").getValue(),Array).length;if(this.allSitesSelected$y8Xa)if(this.viewReady$y8Xa)AS3.getBindable(this,"selectedSitesValueExpression").setValue(sites);else this.sitesToSelect$y8Xa=sites;this.allSitesSelected$y8Xa=selectedSitesCount===sites.length}function beforeDestroy(){AS3.getBindable(this,"sitesValueExpression").removeChangeListener(AS3.bind(this,"sitesChanged$y8Xa"));Ext.grid.Panel.prototype.beforeDestroy.call(this)}
return{extend:"Ext.grid.Panel",selectionModel$y8Xa:null,viewReady$y8Xa:false,sitesToSelect$y8Xa:null,allSitesSelected$y8Xa:true,constructor:TargetSitesGridPanelBase$,super$y8Xa:function(){Ext.grid.Panel.prototype.constructor.apply(this,arguments)},getCheckboxSelectionModel:getCheckboxSelectionModel,onViewReady:onViewReady,tooltipRenderer:tooltipRenderer,sitesChanged$y8Xa:sitesChanged,beforeDestroy:beforeDestroy,config:{selectedSitesValueExpression:null,sitesValueExpression:null},requires:["Ext","Ext.grid.Panel",
"Ext.selection.CheckboxModel","com.coremedia.ui.util.EncodingUtil"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.translation.MergeConflictValidator",function(MergeConflictValidator){function MergeConflictValidator$(taskValueExpression){this.mergeConflictsValueExpression$gc_O=taskValueExpression.extendBy(com.coremedia.cap.workflow.TaskPropertyNames.CONTAINING_PROCESS,com.coremedia.cap.workflow.ProcessPropertyNames.PROPERTIES,com.coremedia.cms.editor.sdk.translate.TranslationProcessVariableNames.AUTO_MERGE_CONFLICTS_VARIABLE)}function getEntityClass(){return Array}
function validate(entity,issues){var mergeConflicts=this.mergeConflictsValueExpression$gc_O.getValue();if(mergeConflicts&&mergeConflicts.length>0)issues.addIssue(com.coremedia.ui.data.validation.Severity.WARN,MergeConflictValidator.MERGE_CONFLICT,null,mergeConflicts)}return{mixins:["com.coremedia.ui.data.validation.Validator"],mergeConflictsValueExpression$gc_O:null,constructor:MergeConflictValidator$,getEntityClass:getEntityClass,validate:validate,statics:{MERGE_CONFLICT:"mergeConflict"},requires:["com.coremedia.cap.workflow.ProcessPropertyNames",
"com.coremedia.cap.workflow.TaskPropertyNames","com.coremedia.cms.editor.sdk.translate.TranslationProcessVariableNames","com.coremedia.ui.data.validation.Severity","com.coremedia.ui.data.validation.Validator"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.translation.DefaultStartSynchronizationWorkflowPanelBase",function(DefaultStartSynchronizationWorkflowPanelBase){var START_SYNCHRONIZATION_VALIDATION_CODE$static="syncWorkflowStart";function DefaultStartSynchronizationWorkflowPanelBase$(config){if(arguments.length<=0)config=null;this.super$29_7(config)}function getValidationCode(){return START_SYNCHRONIZATION_VALIDATION_CODE$static}function getDerivedSites(masterSite,currentUser){var this$=
this;var syncSites=this.getDirectlyDerivedSyncSites(masterSite);var allDerivedSites=syncSites;syncSites.forEach(function(syncSite){allDerivedSites=allDerivedSites.concat(this$.getDerivedSites(syncSite,currentUser))});return allDerivedSites}function getDirectlyDerivedSyncSites(masterSite){var derivedSites=masterSite.getDerivedSites().concat();return derivedSites.filter(function(site){return site.isSynchronizationTargetSite()})}function getSelectedSites(){var masterSiteId=this.getRootSiteIdValueExpression().getValue();
if(!masterSiteId)return[];var masterSite=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getSite(masterSiteId);if(!masterSite)return[];return this.getDirectlyDerivedSyncSites(masterSite)}function getRootSiteIdValueExpression(){var this$=this;return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var contents=this$.getUserChosenContentsValueExpression().getValue();var masterSite=com.coremedia.cms.editor.controlroom.workflow.translation.DefaultStartTranslationWorkflowPanelBase.getSite(contents);
if(masterSite)return masterSite.getId();return null})}function computeProcessVariableMappings(callback){var variables={};variables[com.coremedia.cms.editor.sdk.translate.SynchronizationProcessVariableNames.MASTER_CONTENT_OBJECTS_VARIABLE]=this.getMasterContents();variables[com.coremedia.cms.editor.sdk.translate.SynchronizationProcessVariableNames.SITE_ID_VARIABLE]=this.getRootSiteIdValueExpression().getValue();variables[com.coremedia.cms.editor.sdk.translate.SynchronizationProcessVariableNames.PARENT_SITE_ID_VARIABLE]=
null;variables[com.coremedia.cms.editor.sdk.translate.SynchronizationProcessVariableNames.COMMENT_VARIABLE]=this.getNotesValueExpression().getValue();callback([variables])}return{extend:"com.coremedia.cms.editor.controlroom.workflow.translation.DefaultStartTranslationWorkflowPanel",metadata:{"":["PublicApi"]},constructor:DefaultStartSynchronizationWorkflowPanelBase$,super$29_7:function(){com.coremedia.cms.editor.controlroom.workflow.translation.DefaultStartTranslationWorkflowPanel.prototype.constructor.apply(this,
arguments)},getValidationCode:getValidationCode,getDerivedSites:getDerivedSites,getDirectlyDerivedSyncSites:getDirectlyDerivedSyncSites,getSelectedSites:getSelectedSites,getRootSiteIdValueExpression:getRootSiteIdValueExpression,computeProcessVariableMappings:computeProcessVariableMappings,requires:["com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.workflow.translation.DefaultStartTranslationWorkflowPanel","com.coremedia.cms.editor.sdk.editorContext",
"com.coremedia.cms.editor.sdk.translate.SynchronizationProcessVariableNames","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.controlroom.workflow.translation.DefaultStartTranslationWorkflowPanelBase"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.translation.TargetSiteWorkflowDetailLabel",function(TargetSiteWorkflowDetailLabel){function TargetSiteWorkflowDetailLabel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.translation.TargetSiteWorkflowDetailLabelBase,{});var defaults_$1=AS3.cast(TargetSiteWorkflowDetailLabel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"WorkflowDetailPanel_targetSite_label")));AS3.setBindable(config_$1,"textValueExpression",this.getTargetSiteValueExpression(AS3.getBindable(config,"bindTo")));net.jangaroo.ext.Exml.apply(config_$1,config);this.super$g3Zy(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.workflow.translation.TargetSiteWorkflowDetailLabelBase",alias:"widget.com.coremedia.cms.editor.controlroom.config.targetSiteWorkflowDetailLabel",constructor:TargetSiteWorkflowDetailLabel$,super$g3Zy:function(){com.coremedia.cms.editor.controlroom.workflow.translation.TargetSiteWorkflowDetailLabelBase.prototype.constructor.apply(this,
arguments)},config:{bindTo:null},requires:["com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.workflow.translation.TargetSiteWorkflowDetailLabelBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.translation.AddTranslationWorkflowPlugin",function(AddTranslationWorkflowPlugin){function AddTranslationWorkflowPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.translation.AddTranslationWorkflowPluginBase,{});var defaults_$1=AS3.cast(AddTranslationWorkflowPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"processCategory","Translation");
var collab_StartTranslationWorkflowWindow_38_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.translation.StartTranslationWorkflowWindow,{});var ui_NestedRulesPlugin_40_9_$1=AS3.cast(com.coremedia.ui.plugins.NestedRulesPlugin,{});var component_42_13_$1=AS3.cast(Ext.Component,{});component_42_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.controlroom.workflow.translation.StartTranslationWorkflowWindow.SWITCHING_CONTAINER_ITEM_ID);var ui_AddLazyItemsPlugin_44_17_$1=
AS3.cast(com.coremedia.ui.plugins.AddLazyItemsPlugin,{});AS3.setBindable(ui_AddLazyItemsPlugin_44_17_$1,"items",[Ext.apply({"itemId":AS3.getBindable(config,"processDefinitionName")},AS3.getBindable(config,"startPanel"))]);component_42_13_$1.plugins=[ui_AddLazyItemsPlugin_44_17_$1];ui_NestedRulesPlugin_40_9_$1.rules=[component_42_13_$1];collab_StartTranslationWorkflowWindow_38_5_$1.plugins=[ui_NestedRulesPlugin_40_9_$1];AS3.setBindable(config_$1,"rules",[collab_StartTranslationWorkflowWindow_38_5_$1]);
config_$1["rules$at"]=net.jangaroo.ext.Exml.APPEND;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$cu2I(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.workflow.translation.AddTranslationWorkflowPluginBase",metadata:{"":["PublicApi"]},constructor:AddTranslationWorkflowPlugin$,super$cu2I:function(){com.coremedia.cms.editor.controlroom.workflow.translation.AddTranslationWorkflowPluginBase.prototype.constructor.apply(this,arguments)},config:{startPanel:null},requires:["Ext","Ext.Component",
"com.coremedia.cms.editor.controlroom.workflow.translation.AddTranslationWorkflowPluginBase","com.coremedia.ui.plugins.AddLazyItemsPlugin","com.coremedia.ui.plugins.NestedRulesPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.workflow.translation.StartTranslationWorkflowWindow"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.translation.DefaultStartSynchronizationWorkflowPanel",function(DefaultStartSynchronizationWorkflowPanel){function DefaultStartSynchronizationWorkflowPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.translation.DefaultStartSynchronizationWorkflowPanelBase,{});var defaults_$1=AS3.cast(DefaultStartSynchronizationWorkflowPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,
config);var collab_WorkflowSetPanel_35_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.components.WorkflowSetPanel,{});collab_WorkflowSetPanel_35_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.controlroom.workflow.translation.DefaultStartTranslationWorkflowPanelBase.TRANSLATION_SET_PANEL_ITEM_ID);collab_WorkflowSetPanel_35_5_$1.workflowName="synchronization";AS3.setBindable(collab_WorkflowSetPanel_35_5_$1,"expandFolders",true);AS3.setBindable(collab_WorkflowSetPanel_35_5_$1,
"selectedContentsValueExpression",this.getUserChosenContentsValueExpression());AS3.setBindable(collab_WorkflowSetPanel_35_5_$1,"workflowSetValueExpression",this.getTranslationSetValueExpression());AS3.setBindable(collab_WorkflowSetPanel_35_5_$1,"errorIssuesExistValueExpression",this.getErrorIssuesExistValueExpression());collab_WorkflowSetPanel_35_5_$1.getIssuesFunction=AS3.bind(this,"getTranslationSetIssues");collab_WorkflowSetPanel_35_5_$1.stateId="startTranslationWindow_workflowSetPanel";collab_WorkflowSetPanel_35_5_$1.emptyText=
net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","StartTranslationWorkflowPanel_empty_text"));collab_WorkflowSetPanel_35_5_$1.quickTipText=net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","StartTranslationWorkflowWindow_extendedChangeSet_help_text"));AS3.setBindable(collab_WorkflowSetPanel_35_5_$1,"stateful",true);collab_WorkflowSetPanel_35_5_$1.stateEvents=
["collapse","expand"];collab_WorkflowSetPanel_35_5_$1["getState"]=function(){return{collapsed:this.collapsed}};var collab_WorkflowNotesPanel_49_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.components.WorkflowNotesPanel,{});AS3.setBindable(collab_WorkflowNotesPanel_49_5_$1,"notesValueExpression",this.getNotesValueExpression());AS3.setBindable(collab_WorkflowNotesPanel_49_5_$1,"collapseNoText",false);collab_WorkflowNotesPanel_49_5_$1.stateId="startTranslationWindow_notesPanel";AS3.setBindable(collab_WorkflowNotesPanel_49_5_$1,
"stateful",true);collab_WorkflowNotesPanel_49_5_$1.stateEvents=["collapse","expand"];collab_WorkflowNotesPanel_49_5_$1["getState"]=function(){return{collapsed:this.collapsed}};var editor_CollapsiblePanel_56_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.CollapsiblePanel,{});AS3.setBindable(editor_CollapsiblePanel_56_5_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","StartWorkflowWindow_sites_label"));AS3.setBindable(editor_CollapsiblePanel_56_5_$1,
"layout","fit");AS3.setBindable(editor_CollapsiblePanel_56_5_$1,"minHeight",200);var editor_TargetSitesTree_61_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.sites.TargetSitesTree,{});editor_TargetSitesTree_61_9_$1.itemId=net.jangaroo.ext.Exml.asString(DefaultStartSynchronizationWorkflowPanel.TARGET_SITES_ITEM_ID);AS3.setBindable(editor_TargetSitesTree_61_9_$1,"maxHeight",160);editor_TargetSitesTree_61_9_$1.disableSelection=true;editor_TargetSitesTree_61_9_$1.rootIdValueExpression=this.getRootSiteIdValueExpression();
editor_CollapsiblePanel_56_5_$1.items=[editor_TargetSitesTree_61_9_$1];var panel_67_5_$1=AS3.cast(Ext.panel.Panel,{});var collab_RemoveEditedContentsCheckbox_69_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.components.RemoveEditedContentsCheckbox,{});AS3.setBindable(collab_RemoveEditedContentsCheckbox_69_9_$1,"removeEditedContentsValueExpression",this.getRemoveEditedContentValueExpression());panel_67_5_$1.items=[collab_RemoveEditedContentsCheckbox_69_9_$1];config_$1.items=[collab_WorkflowSetPanel_35_5_$1,
collab_WorkflowNotesPanel_49_5_$1,editor_CollapsiblePanel_56_5_$1,panel_67_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Bj_M(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.workflow.translation.DefaultStartSynchronizationWorkflowPanelBase",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.controlroom.config.defaultStartSynchronizationWorkflowPanel",constructor:DefaultStartSynchronizationWorkflowPanel$,super$Bj_M:function(){com.coremedia.cms.editor.controlroom.workflow.translation.DefaultStartSynchronizationWorkflowPanelBase.prototype.constructor.apply(this,
arguments)},statics:{TARGET_SITES_ITEM_ID:"targetSites"},requires:["Ext.panel.Panel","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.workflow.translation.DefaultStartSynchronizationWorkflowPanelBase","com.coremedia.cms.editor.sdk.premular.CollapsiblePanel","com.coremedia.cms.editor.sdk.sites.TargetSitesTree","mx.resources.ResourceManager","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.workflow.components.RemoveEditedContentsCheckbox",
"com.coremedia.cms.editor.controlroom.workflow.components.WorkflowNotesPanel","com.coremedia.cms.editor.controlroom.workflow.components.WorkflowSetPanel","com.coremedia.cms.editor.controlroom.workflow.translation.DefaultStartTranslationWorkflowPanelBase"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.translation.DefaultTranslationWorkflowDetailForm",function(DefaultTranslationWorkflowDetailForm){function DefaultTranslationWorkflowDetailForm$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.translation.DefaultTranslationWorkflowDetailFormBase,{});var defaults_$1=AS3.cast(DefaultTranslationWorkflowDetailForm,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var editor_CollapsibleFormPanel_71_5_$1=
AS3.cast(com.coremedia.cms.editor.sdk.premular.CollapsibleFormPanel,{});editor_CollapsibleFormPanel_71_5_$1.header=false;var collab_WorkflowDetailLabel_73_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.components.WorkflowDetailLabel,{});AS3.setBindable(collab_WorkflowDetailLabel_73_9_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","WorkflowDetailPanel_workflowType_label")));AS3.setBindable(collab_WorkflowDetailLabel_73_9_$1,
"textValueExpression",com.coremedia.ui.data.ValueExpressionFactory.createFromValue(com.coremedia.cms.editor.controlroom.workflow.WorkflowLocalizationUtils.getProcessDefinitionDisplayName(config.processDefinitionName)));var collab_WorkflowDetailLabel_76_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.components.WorkflowDetailLabel,{});AS3.setBindable(collab_WorkflowDetailLabel_76_9_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"WorkflowDetailPanel_workflowName_label")));AS3.setBindable(collab_WorkflowDetailLabel_76_9_$1,"textValueExpression",AS3.getBindable(config,"bindTo").extendBy("properties.subject"));var collab_TargetSiteWorkflowDetailLabel_79_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.translation.TargetSiteWorkflowDetailLabel,{});AS3.setBindable(collab_TargetSiteWorkflowDetailLabel_79_9_$1,"bindTo",AS3.getBindable(config,"bindTo"));var collab_TargetLocaleWorkflowDetailLabel_80_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.translation.TargetLocaleWorkflowDetailLabel,
{});AS3.setBindable(collab_TargetLocaleWorkflowDetailLabel_80_9_$1,"bindTo",AS3.getBindable(config,"bindTo"));var collab_OwnerWorkflowDetailLabel_81_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.translation.OwnerWorkflowDetailLabel,{});AS3.setBindable(collab_OwnerWorkflowDetailLabel_81_9_$1,"bindTo",AS3.getBindable(config,"bindTo"));editor_CollapsibleFormPanel_71_5_$1.items=[collab_WorkflowDetailLabel_73_9_$1,collab_WorkflowDetailLabel_76_9_$1,collab_TargetSiteWorkflowDetailLabel_79_9_$1,
collab_TargetLocaleWorkflowDetailLabel_80_9_$1,collab_OwnerWorkflowDetailLabel_81_9_$1];var editor_CollapsiblePanel_85_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.CollapsiblePanel,{});editor_CollapsiblePanel_85_5_$1.itemId=net.jangaroo.ext.Exml.asString(DefaultTranslationWorkflowDetailForm.TRANSLATION_SET_PANEL_ITEM_ID);AS3.setBindable(editor_CollapsiblePanel_85_5_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","StartWorkflowWindow_contentItems_label"));
var collab_UserChosenContentGridPanel_88_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.components.UserChosenContentGridPanel,{});collab_UserChosenContentGridPanel_88_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.controlroom.workflow.translation.DefaultTranslationWorkflowFormBase.CONTENTS_ITEM_ID);AS3.setBindable(collab_UserChosenContentGridPanel_88_9_$1,"bindTo",AS3.getBindable(config,"bindTo").extendBy(com.coremedia.cap.workflow.ProcessPropertyNames.PROPERTIES,
com.coremedia.cms.editor.sdk.translate.TranslationProcessVariableNames.DERIVED_CONTENTS_VARIABLE));collab_UserChosenContentGridPanel_88_9_$1.anchor="100% 100%";AS3.setBindable(collab_UserChosenContentGridPanel_88_9_$1,"issuesValueExpression",this.getAllIssuesValueExpression());AS3.setBindable(collab_UserChosenContentGridPanel_88_9_$1,"contentEditable",false);AS3.setBindable(collab_UserChosenContentGridPanel_88_9_$1,"readOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));
AS3.setBindable(collab_UserChosenContentGridPanel_88_9_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));AS3.setBindable(collab_UserChosenContentGridPanel_88_9_$1,"premularConfigurationsValueExpression",this.getPremularConfigurationsValueExpression());AS3.setBindable(collab_UserChosenContentGridPanel_88_9_$1,"lazy",true);AS3.setBindable(collab_UserChosenContentGridPanel_88_9_$1,"initialViewLimit",30);AS3.setBindable(collab_UserChosenContentGridPanel_88_9_$1,
"viewLimitIncrement",30);var ui_NestedRulesPlugin_100_13_$1=AS3.cast(com.coremedia.ui.plugins.NestedRulesPlugin,{});var toolbar_102_17_$1=AS3.cast(Ext.toolbar.Toolbar,{});var ui_AddItemsPlugin_104_21_$1=AS3.cast(com.coremedia.ui.plugins.AddItemsPlugin,{});var component_106_25_$1=AS3.cast(Ext.Component,{});component_106_25_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.controlroom.workflow.components.UserChosenContentGridPanel.PASTE_BUTTON_ITEM_ID);AS3.setBindable(ui_AddItemsPlugin_104_21_$1,
"after",[component_106_25_$1]);var ui_IconButton_109_25_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});AS3.setBindable(ui_IconButton_109_25_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_downloadXliff_icon")));AS3.setBindable(ui_IconButton_109_25_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_downloadXliff_text")));AS3.setBindable(ui_IconButton_109_25_$1,
"tooltip",this.resourceManager.getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_downloadXliff_tooltip"));var editor_DownloadXliffWorkflowAction_114_29_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.DownloadXliffWorkflowAction,{});AS3.setBindable(editor_DownloadXliffWorkflowAction_114_29_$1,"derivedContentsVariable",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.translate.TranslationProcessVariableNames.DERIVED_CONTENTS_VARIABLE));AS3.setBindable(editor_DownloadXliffWorkflowAction_114_29_$1,
"masterContentObjectsVariable",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.translate.TranslationProcessVariableNames.MASTER_CONTENT_OBJECTS_VARIABLE));AS3.setBindable(editor_DownloadXliffWorkflowAction_114_29_$1,"filenameVariable",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.translate.TranslationProcessVariableNames.SUBJECT_VARIABLE));AS3.setBindable(editor_DownloadXliffWorkflowAction_114_29_$1,"commentVariable",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.translate.TranslationProcessVariableNames.COMMENT_VARIABLE));
AS3.setBindable(editor_DownloadXliffWorkflowAction_114_29_$1,"processValueExpression",AS3.getBindable(config,"bindTo"));AS3.setBindable(editor_DownloadXliffWorkflowAction_114_29_$1,"taskValueExpression",AS3.getBindable(config,"bindToTask"));ui_IconButton_109_25_$1.baseAction=new com.coremedia.cms.editor.sdk.premular.DownloadXliffWorkflowAction(editor_DownloadXliffWorkflowAction_114_29_$1);AS3.setBindable(ui_AddItemsPlugin_104_21_$1,"items",[ui_IconButton_109_25_$1]);toolbar_102_17_$1.plugins=[ui_AddItemsPlugin_104_21_$1];
ui_NestedRulesPlugin_100_13_$1.rules=[toolbar_102_17_$1];collab_UserChosenContentGridPanel_88_9_$1.plugins=[ui_NestedRulesPlugin_100_13_$1];collab_UserChosenContentGridPanel_88_9_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var editor_TypeIconColumn_131_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.columns.grid.TypeIconColumn,{});var editor_NameTranslationStatusColumn_132_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.sites.NameTranslationStatusColumn,{});var editor_StatusColumn_133_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.columns.grid.StatusColumn,
{});collab_UserChosenContentGridPanel_88_9_$1.columns=[editor_TypeIconColumn_131_13_$1,editor_NameTranslationStatusColumn_132_13_$1,editor_StatusColumn_133_13_$1];var ui_DataField_136_13_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_136_13_$1.name="translationStatus";ui_DataField_136_13_$1.ifUnreadable="";ui_DataField_136_13_$1.ifError="";ui_DataField_136_13_$1.mapping="";ui_DataField_136_13_$1["convert"]=AS3.bind(this,"getTranslationStatus");AS3.setBindable(collab_UserChosenContentGridPanel_88_9_$1,
"additionalFields",[ui_DataField_136_13_$1]);editor_CollapsiblePanel_85_5_$1.items=[collab_UserChosenContentGridPanel_88_9_$1];var collab_WorkflowNotesPanel_146_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.components.WorkflowNotesPanel,{});AS3.setBindable(collab_WorkflowNotesPanel_146_5_$1,"collapseNoText",true);AS3.setBindable(collab_WorkflowNotesPanel_146_5_$1,"notesValueExpression",this.getNotesValueExpression(AS3.getBindable(config,"bindTo")));var editor_CollapsiblePanel_149_5_$1=
AS3.cast(com.coremedia.cms.editor.sdk.premular.CollapsiblePanel,{});AS3.setBindable(editor_CollapsiblePanel_149_5_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","WorkflowDetailPanelWrapper_states_label"));AS3.setBindable(editor_CollapsiblePanel_149_5_$1,"minHeight",116);var collab_WorkflowStatePanel_153_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.components.WorkflowStatePanel,{});collab_WorkflowStatePanel_153_9_$1.itemId=net.jangaroo.ext.Exml.asString(DefaultTranslationWorkflowDetailForm.STATE_PANEL_ITEM_ID);
AS3.setBindable(collab_WorkflowStatePanel_153_9_$1,"processDefinitionName",net.jangaroo.ext.Exml.asString(config.processDefinitionName));AS3.setBindable(collab_WorkflowStatePanel_153_9_$1,"nextStepVariable","translationAction");AS3.setBindable(collab_WorkflowStatePanel_153_9_$1,"workflowStateTransitions",AS3.getBindable(config,"workflowStateTransitions"));AS3.setBindable(collab_WorkflowStatePanel_153_9_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));AS3.setBindable(collab_WorkflowStatePanel_153_9_$1,
"bindTo",AS3.getBindable(config,"bindTo"));AS3.setBindable(collab_WorkflowStatePanel_153_9_$1,"bindToTask",AS3.getBindable(config,"bindToTask"));editor_CollapsiblePanel_149_5_$1.items=[collab_WorkflowStatePanel_153_9_$1];config_$1.items=[editor_CollapsibleFormPanel_71_5_$1,editor_CollapsiblePanel_85_5_$1,collab_WorkflowNotesPanel_146_5_$1,editor_CollapsiblePanel_149_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$FZ3q(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.workflow.translation.DefaultTranslationWorkflowDetailFormBase",
metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.controlroom.config.defaultTranslationWorkflowDetailForm",constructor:DefaultTranslationWorkflowDetailForm$,super$FZ3q:function(){com.coremedia.cms.editor.controlroom.workflow.translation.DefaultTranslationWorkflowDetailFormBase.prototype.constructor.apply(this,arguments)},config:{workflowStateTransitions:null},statics:{FORM_PANEL_ITEM_ID:"formPanel",WORKFLOW_TYPE_ITEM_ID:"workflowTypeItemId",WORKFLOW_NAME_FIELD_ITEM_ID:"workflowNameFieldItemId",
TARGET_SITE_ITEM_ID:"targetSiteItemId",WORKFLOW_DETAIL_CONTENT_PANEL_ITEM_ID:"workflowDetailContentPanelItemId",STATE_PANEL_ITEM_ID:"statePanel",TRANSLATION_SET_PANEL_ITEM_ID:"translationSetPanel"},requires:["Ext.Component","Ext.toolbar.Toolbar","com.coremedia.cap.workflow.ProcessPropertyNames","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.workflow.translation.DefaultTranslationWorkflowDetailFormBase","com.coremedia.cms.editor.sdk.actions.Actions_properties",
"com.coremedia.cms.editor.sdk.columns.grid.StatusColumn","com.coremedia.cms.editor.sdk.columns.grid.TypeIconColumn","com.coremedia.cms.editor.sdk.premular.CollapsibleFormPanel","com.coremedia.cms.editor.sdk.premular.CollapsiblePanel","com.coremedia.cms.editor.sdk.premular.DownloadXliffWorkflowAction","com.coremedia.cms.editor.sdk.sites.NameTranslationStatusColumn","com.coremedia.cms.editor.sdk.translate.TranslationProcessVariableNames","com.coremedia.ui.components.IconButton","com.coremedia.ui.data.ValueExpressionFactory",
"com.coremedia.ui.plugins.AddItemsPlugin","com.coremedia.ui.plugins.NestedRulesPlugin","com.coremedia.ui.store.DataField","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.workflow.WorkflowLocalizationUtils","com.coremedia.cms.editor.controlroom.workflow.components.UserChosenContentGridPanel","com.coremedia.cms.editor.controlroom.workflow.components.WorkflowDetailLabel","com.coremedia.cms.editor.controlroom.workflow.components.WorkflowNotesPanel","com.coremedia.cms.editor.controlroom.workflow.components.WorkflowStatePanel",
"com.coremedia.cms.editor.controlroom.workflow.translation.DefaultTranslationWorkflowFormBase","com.coremedia.cms.editor.controlroom.workflow.translation.OwnerWorkflowDetailLabel","com.coremedia.cms.editor.controlroom.workflow.translation.TargetLocaleWorkflowDetailLabel","com.coremedia.cms.editor.controlroom.workflow.translation.TargetSiteWorkflowDetailLabel"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.translation.StartTranslationWorkflowWindowBase",function(StartTranslationWorkflowWindowBase){var CLOSED_PROPERTY_NAME$static="closed";function StartTranslationWorkflowWindowBase$(config){var this$=this;if(arguments.length<=0)config=null;this.super$o0oV(config);this.processStartedCallback$o0oV=AS3.getBindable(config,"processStartedCallback");this.processCancelledCallback$o0oV=AS3.getBindable(config,"processCancelledCallback");if(AS3.getBindable(config,
"availableProcessDefinitionNames").length===0)throw new AS3.Error("No availableProcessDefinitionNames configured for this workflow window.");this.getSelectedProcessDefinitionNamesValueExpression().addChangeListener(AS3.bind(this,"updateLayout"));this.proposeWorkflowSubject$o0oV(AS3.getBindable(config,"defaultWorkflowName"));this.on("beforeclose",function(){this$.cleanup();this$.setClosed(true)})}function proposeWorkflowSubject(defaultWorkflowName){var workflowName;if(defaultWorkflowName)workflowName=
defaultWorkflowName;else{var currentDate=Ext.Date.format(new Date,this.resourceManager.getString("com.coremedia.cms.editor.Editor","dateFormat"));workflowName=com.coremedia.cap.common.SESSION.getUser().getName()+" "+currentDate}this.getModel().set(com.coremedia.cms.editor.sdk.translate.TranslationProcessVariableNames.SUBJECT_VARIABLE,workflowName)}function cleanup(){this.getSelectedProcessDefinitionNamesValueExpression().removeChangeListener(AS3.bind(this,"updateLayout"))}function getContents(){return AS3.getBindable(AS3.cast(com.coremedia.cms.editor.controlroom.workflow.translation.StartTranslationWorkflowWindow,
this.initialConfig),"contents")}function getClosed(){return this.closed$o0oV}function setClosed(value){var oldValue=this.closed$o0oV;this.closed$o0oV=value;com.coremedia.ui.data.util.PropertyChangeEventUtil.fireEvent(this,CLOSED_PROPERTY_NAME$static,oldValue,value)}function getSubjectValueExpression(){return this.subjectValueExpression$o0oV||(this.subjectValueExpression$o0oV=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.cms.editor.sdk.translate.TranslationProcessVariableNames.SUBJECT_VARIABLE,
this.getModel()))}function getSelectedProcessDefinitionNamesValueExpression(){return this.selectedProcessDefinitionNamesValueExpression$o0oV||(this.selectedProcessDefinitionNamesValueExpression$o0oV=com.coremedia.ui.data.ValueExpressionFactory.create(StartTranslationWorkflowWindowBase.PROCESS_DEFINITION_NAME_PROPERTY_NAME,this.getModel()))}function getModel(){if(!this.model$o0oV)this.model$o0oV=com.coremedia.ui.data.beanFactory.createLocalBean();return this.model$o0oV}function getStartButtonDisabledValueExpression(){var this$=
this;return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var activeItem=this$.getActiveItem();if(!activeItem)return undefined;return activeItem.isStartButtonDisabled()||!this$.getSubjectValueExpression().getValue()||this$.getSubjectValueExpression().getValue()===""})}function getActiveItem(){var switchingContainer=AS3.cast(com.coremedia.ui.components.SwitchingContainer,this.getComponent(com.coremedia.cms.editor.controlroom.workflow.translation.StartTranslationWorkflowWindow.SWITCHING_CONTAINER_ITEM_ID));
com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(switchingContainer,"activeItem");return AS3.as(switchingContainer.getActiveItem(),com.coremedia.cms.editor.controlroom.workflow.translation.AbstractStartTranslationWorkflowPanel)}function startWorkflow(){var this$=this;var activeItem=this.getActiveItem();if(!activeItem){this.processCancelledCallback$o0oV&&this.processCancelledCallback$o0oV();return}var processName=this.getSelectedProcessDefinitionNamesValueExpression().getValue();
var subject=this.getSubjectValueExpression().getValue();var masterContents=activeItem.getMasterContents();var removeEditedContents=activeItem.getRemoveEditedContent();activeItem.beforeStartWorkflow(function(){activeItem.computeProcessVariableMappings(function(variables){for(var i=0;i<variables.length;i++){var obj=variables[i];obj[com.coremedia.cms.editor.sdk.translate.TranslationProcessVariableNames.SUBJECT_VARIABLE]=subject}com.coremedia.cms.editor.sdk.util.WorkflowUtils.startProcess(processName,
variables,this$.processStartedCallback$o0oV||defaultProcessStartedCallback$static);if(removeEditedContents&&masterContents)com.coremedia.collaboration.controlroom.rest.CapListRepositoryImpl.getInstance().getEditedContents().removeItems(masterContents);var preferences=com.coremedia.cms.editor.sdk.editorContext.getPreferences();if(removeEditedContents!==preferences.get(StartTranslationWorkflowWindowBase.REMOVE_EDITED_CONTENTS))preferences.set(StartTranslationWorkflowWindowBase.REMOVE_EDITED_CONTENTS,
removeEditedContents);this$.close()})})}function cancel(){if(AS3.is(this.processCancelledCallback$o0oV,Function))this.processCancelledCallback$o0oV();this.close()}function defaultProcessStartedCallback$static(process,error){if(arguments.length<=1)error=null;error&&com.coremedia.cms.editor.sdk.util.WorkflowUtils.showStartProcessErrorDialog()}return{extend:"com.coremedia.cms.editor.sdk.components.StudioDialog",metadata:{getContents:["ProvideToExtChildren"],getClosed:["ProvideToExtChildren"]},selectedProcessDefinitionNamesValueExpression$o0oV:null,
subjectValueExpression$o0oV:null,model$o0oV:null,closed$o0oV:false,processStartedCallback$o0oV:null,processCancelledCallback$o0oV:null,constructor:StartTranslationWorkflowWindowBase$,super$o0oV:function(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.constructor.apply(this,arguments)},proposeWorkflowSubject$o0oV:proposeWorkflowSubject,cleanup:cleanup,getContents:getContents,getClosed:getClosed,setClosed:setClosed,getSubjectValueExpression:getSubjectValueExpression,getSelectedProcessDefinitionNamesValueExpression:getSelectedProcessDefinitionNamesValueExpression,
getModel:getModel,getStartButtonDisabledValueExpression:getStartButtonDisabledValueExpression,getActiveItem:getActiveItem,startWorkflow:startWorkflow,cancel:cancel,statics:{PROCESS_DEFINITION_NAME_PROPERTY_NAME:"processName",REMOVE_EDITED_CONTENTS:"translationWorkflowRemoveEditedContents"},requires:["AS3.Error","Ext.Date","com.coremedia.cap.common.SESSION","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.components.StudioDialog","com.coremedia.cms.editor.sdk.editorContext",
"com.coremedia.cms.editor.sdk.translate.TranslationProcessVariableNames","com.coremedia.cms.editor.sdk.util.WorkflowUtils","com.coremedia.collaboration.controlroom.rest.CapListRepositoryImpl","com.coremedia.ui.components.SwitchingContainer","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.beanFactory","com.coremedia.ui.data.dependencies.DependencyTracker","com.coremedia.ui.data.util.PropertyChangeEventUtil"],uses:["com.coremedia.cms.editor.controlroom.workflow.translation.AbstractStartTranslationWorkflowPanel",
"com.coremedia.cms.editor.controlroom.workflow.translation.StartTranslationWorkflowWindow"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.translation.DefaultStartTranslationWorkflowPanel",function(DefaultStartTranslationWorkflowPanel){function DefaultStartTranslationWorkflowPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.translation.DefaultStartTranslationWorkflowPanelBase,{});var defaults_$1=AS3.cast(DefaultStartTranslationWorkflowPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var collab_WorkflowSetPanel_39_5_$1=
AS3.cast(com.coremedia.cms.editor.controlroom.workflow.components.WorkflowSetPanel,{});collab_WorkflowSetPanel_39_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.controlroom.workflow.translation.DefaultStartTranslationWorkflowPanelBase.TRANSLATION_SET_PANEL_ITEM_ID);collab_WorkflowSetPanel_39_5_$1.workflowName="translation";AS3.setBindable(collab_WorkflowSetPanel_39_5_$1,"expandFolders",true);AS3.setBindable(collab_WorkflowSetPanel_39_5_$1,"selectedContentsValueExpression",this.getUserChosenContentsValueExpression());
AS3.setBindable(collab_WorkflowSetPanel_39_5_$1,"workflowSetValueExpression",this.getTranslationSetValueExpression());AS3.setBindable(collab_WorkflowSetPanel_39_5_$1,"errorIssuesExistValueExpression",this.getErrorIssuesExistValueExpression());collab_WorkflowSetPanel_39_5_$1.getIssuesFunction=AS3.bind(this,"getTranslationSetIssues");collab_WorkflowSetPanel_39_5_$1.stateId="startTranslationWindow_workflowSetPanel";collab_WorkflowSetPanel_39_5_$1.emptyText=net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor",
"StartTranslationWorkflowPanel_empty_text"));collab_WorkflowSetPanel_39_5_$1.quickTipText=net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","StartTranslationWorkflowWindow_extendedChangeSet_help_text"));AS3.setBindable(collab_WorkflowSetPanel_39_5_$1,"stateful",true);collab_WorkflowSetPanel_39_5_$1.stateEvents=["collapse","expand"];collab_WorkflowSetPanel_39_5_$1["getState"]=function(){return{collapsed:this.collapsed}};
var collab_WorkflowNotesPanel_53_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.components.WorkflowNotesPanel,{});AS3.setBindable(collab_WorkflowNotesPanel_53_5_$1,"notesValueExpression",this.getNotesValueExpression());AS3.setBindable(collab_WorkflowNotesPanel_53_5_$1,"collapseNoText",false);collab_WorkflowNotesPanel_53_5_$1.stateId="startTranslationWindow_notesPanel";AS3.setBindable(collab_WorkflowNotesPanel_53_5_$1,"stateful",true);collab_WorkflowNotesPanel_53_5_$1.stateEvents=["collapse",
"expand"];collab_WorkflowNotesPanel_53_5_$1["getState"]=function(){return{collapsed:this.collapsed}};var editor_CollapsiblePanel_60_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.CollapsiblePanel,{});AS3.setBindable(editor_CollapsiblePanel_60_5_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","StartWorkflowWindow_sites_label"));AS3.setBindable(editor_CollapsiblePanel_60_5_$1,"layout","anchor");editor_CollapsiblePanel_60_5_$1.flex=1;AS3.setBindable(editor_CollapsiblePanel_60_5_$1,
"minHeight",200);var collab_TargetSitesGridPanel_66_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.translation.TargetSitesGridPanel,{});collab_TargetSitesGridPanel_66_9_$1.itemId=net.jangaroo.ext.Exml.asString(DefaultStartTranslationWorkflowPanel.TARGET_SITES_GRID_PANEL_ITEM_ID);AS3.setBindable(collab_TargetSitesGridPanel_66_9_$1,"sitesValueExpression",this.getSitesValueExpression());AS3.setBindable(collab_TargetSitesGridPanel_66_9_$1,"selectedSitesValueExpression",this.getSelectedSitesValueExpression());
collab_TargetSitesGridPanel_66_9_$1.anchor="100% 100%";AS3.setBindable(collab_TargetSitesGridPanel_66_9_$1,"title",".");var ui_BindPropertyPlugin_72_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_72_13_$1.componentProperty="title";ui_BindPropertyPlugin_72_13_$1.bindTo=this.getMasterSiteLabelText();collab_TargetSitesGridPanel_66_9_$1.plugins=[ui_BindPropertyPlugin_72_13_$1];collab_TargetSitesGridPanel_66_9_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;editor_CollapsiblePanel_60_5_$1.items=
[collab_TargetSitesGridPanel_66_9_$1];var panel_78_5_$1=AS3.cast(Ext.panel.Panel,{});var collab_RemoveEditedContentsCheckbox_80_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.components.RemoveEditedContentsCheckbox,{});AS3.setBindable(collab_RemoveEditedContentsCheckbox_80_9_$1,"removeEditedContentsValueExpression",this.getRemoveEditedContentValueExpression());panel_78_5_$1.items=[collab_RemoveEditedContentsCheckbox_80_9_$1];config_$1.items=[collab_WorkflowSetPanel_39_5_$1,collab_WorkflowNotesPanel_53_5_$1,
editor_CollapsiblePanel_60_5_$1,panel_78_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$$fjb(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.workflow.translation.DefaultStartTranslationWorkflowPanelBase",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.controlroom.config.defaultStartTranslationWorkflowPanel",constructor:DefaultStartTranslationWorkflowPanel$,super$$fjb:function(){com.coremedia.cms.editor.controlroom.workflow.translation.DefaultStartTranslationWorkflowPanelBase.prototype.constructor.apply(this,
arguments)},statics:{TARGET_SITES_GRID_PANEL_ITEM_ID:"targetSites",SELECTED_ITEMS_VARIABLE_NAME:"selectedItems"},requires:["Ext.panel.Panel","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.workflow.translation.DefaultStartTranslationWorkflowPanelBase","com.coremedia.cms.editor.sdk.premular.CollapsiblePanel","com.coremedia.ui.plugins.BindPropertyPlugin","mx.resources.ResourceManager","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.workflow.components.RemoveEditedContentsCheckbox",
"com.coremedia.cms.editor.controlroom.workflow.components.WorkflowNotesPanel","com.coremedia.cms.editor.controlroom.workflow.components.WorkflowSetPanel","com.coremedia.cms.editor.controlroom.workflow.translation.TargetSitesGridPanel"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.translation.DefaultTranslationWorkflowInfoFormBase",function(DefaultTranslationWorkflowInfoFormBase){function DefaultTranslationWorkflowInfoFormBase$(config){if(arguments.length<=0)config=null;this.super$VjK2(config)}function getContentGridPanel(){com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(this,"afterrender");if(!this._contentGridPanel$VjK2)this._contentGridPanel$VjK2=AS3.as(this.queryById(com.coremedia.cms.editor.controlroom.workflow.translation.DefaultTranslationWorkflowFormBase.CONTENTS_ITEM_ID),
com.coremedia.cms.editor.sdk.components.ContentGridPanel);return this._contentGridPanel$VjK2}function getSelectedPremularConfigurationsValueExpression(){var this$=this;if(!this.premularConfigurationsValueExpression$VjK2){var that=this;this.premularConfigurationsValueExpression$VjK2=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var contentGridPanel=that.getContentGridPanel();if(!contentGridPanel)return undefined;var selectedItems=contentGridPanel.getSelectedItems();var premularConfigurations=
this$.getPremularConfigurationsValueExpression().getValue();if(!selectedItems)return[];if(premularConfigurations===undefined)return undefined;return premularConfigurations.filter(function(premularConfiguration){return selectedItems.indexOf(premularConfiguration.content)!==-1})})}return this.premularConfigurationsValueExpression$VjK2}return{extend:"com.coremedia.cms.editor.controlroom.workflow.translation.DefaultTranslationWorkflowFormBase",metadata:{"":["PublicApi"]},premularConfigurationsValueExpression$VjK2:null,
_contentGridPanel$VjK2:null,constructor:DefaultTranslationWorkflowInfoFormBase$,super$VjK2:function(){com.coremedia.cms.editor.controlroom.workflow.translation.DefaultTranslationWorkflowFormBase.prototype.constructor.apply(this,arguments)},getContentGridPanel:getContentGridPanel,getSelectedPremularConfigurationsValueExpression:getSelectedPremularConfigurationsValueExpression,requires:["com.coremedia.cms.editor.controlroom.workflow.translation.DefaultTranslationWorkflowFormBase","com.coremedia.cms.editor.sdk.components.ContentGridPanel",
"com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.dependencies.DependencyTracker"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.translation.TargetSiteWorkflowDetailLabelBase",function(TargetSiteWorkflowDetailLabelBase){function TargetSiteWorkflowDetailLabelBase$(config){if(arguments.length<=0)config=null;this.super$ojNj(config)}function getTargetSiteValueExpression(processExpression){return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var targetSiteId=processExpression.extendBy(com.coremedia.cap.workflow.ProcessPropertyNames.PROPERTIES,
com.coremedia.cms.editor.sdk.translate.TranslationProcessVariableNames.TARGET_SITE_ID_VARIABLE).getValue();if(!targetSiteId)targetSiteId=processExpression.extendBy(com.coremedia.cap.workflow.ProcessPropertyNames.PROPERTIES,com.coremedia.cms.editor.sdk.translate.SynchronizationProcessVariableNames.SITE_ID_VARIABLE).getValue();if(targetSiteId){var site=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getSite(targetSiteId);if(site)return site.getName()}return""})}return{extend:"com.coremedia.cms.editor.controlroom.workflow.components.WorkflowDetailLabel",
constructor:TargetSiteWorkflowDetailLabelBase$,super$ojNj:function(){com.coremedia.cms.editor.controlroom.workflow.components.WorkflowDetailLabel.prototype.constructor.apply(this,arguments)},getTargetSiteValueExpression:getTargetSiteValueExpression,requires:["com.coremedia.cap.workflow.ProcessPropertyNames","com.coremedia.cms.editor.controlroom.workflow.components.WorkflowDetailLabel","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.translate.SynchronizationProcessVariableNames",
"com.coremedia.cms.editor.sdk.translate.TranslationProcessVariableNames","com.coremedia.ui.data.ValueExpressionFactory"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.translation.AbstractStartTranslationWorkflowPanelBase",function(AbstractStartTranslationWorkflowPanelBase){function AbstractStartTranslationWorkflowPanelBase$(config){if(arguments.length<=0)config=null;this.super$j$5r(config)}function computeProcessVariableMappings(callback){throw new AS3.Error("computeProcessVariableMappings() must be overridden by subclasses");}function getMasterContents(){throw new AS3.Error("getMasterContents() must be overridden by subclasses");
}function getRemoveEditedContent(){throw new AS3.Error("getRemoveMyEditedContent must be overridden by subclasses");}function isStartButtonDisabled(){return false}function isPullTranslation(){return this.pullTranslation}function beforeStartWorkflow(callback){callback()}function setContents(contents){this.initializeContents(contents)}function initializeContents(contents){throw new AS3.Error("initializeContents must be overridden by subclasses");}return{extend:"Ext.container.Container",metadata:{"":["PublicApi"],
setContents:["InjectFromExtParent"]},pullTranslation:undefined,constructor:AbstractStartTranslationWorkflowPanelBase$,super$j$5r:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},computeProcessVariableMappings:computeProcessVariableMappings,getMasterContents:getMasterContents,getRemoveEditedContent:getRemoveEditedContent,isStartButtonDisabled:isStartButtonDisabled,isPullTranslation:isPullTranslation,beforeStartWorkflow:beforeStartWorkflow,setContents:setContents,initializeContents:initializeContents,
requires:["AS3.Error","Ext.container.Container"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.translation.TargetLocaleWorkflowDetailLabelBase",function(TargetLocaleWorkflowDetailLabelBase){function TargetLocaleWorkflowDetailLabelBase$(config){if(arguments.length<=0)config=null;this.super$RCMw(config)}function getTargetLocaleValueExpression(processExpression){return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var targetSiteId=processExpression.extendBy(com.coremedia.cap.workflow.ProcessPropertyNames.PROPERTIES,
com.coremedia.cms.editor.sdk.translate.TranslationProcessVariableNames.TARGET_SITE_ID_VARIABLE).getValue();if(!targetSiteId)targetSiteId=processExpression.extendBy(com.coremedia.cap.workflow.ProcessPropertyNames.PROPERTIES,com.coremedia.cms.editor.sdk.translate.SynchronizationProcessVariableNames.SITE_ID_VARIABLE).getValue();if(targetSiteId){var site=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getSite(targetSiteId);if(site)return site.getLocale().getDisplayName()}return""})}return{extend:"com.coremedia.cms.editor.controlroom.workflow.components.WorkflowDetailLabel",
constructor:TargetLocaleWorkflowDetailLabelBase$,super$RCMw:function(){com.coremedia.cms.editor.controlroom.workflow.components.WorkflowDetailLabel.prototype.constructor.apply(this,arguments)},getTargetLocaleValueExpression:getTargetLocaleValueExpression,requires:["com.coremedia.cap.workflow.ProcessPropertyNames","com.coremedia.cms.editor.controlroom.workflow.components.WorkflowDetailLabel","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.translate.SynchronizationProcessVariableNames",
"com.coremedia.cms.editor.sdk.translate.TranslationProcessVariableNames","com.coremedia.ui.data.ValueExpressionFactory"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.translation.AbstractStartTranslationWorkflowPanel",function(AbstractStartTranslationWorkflowPanel){function AbstractStartTranslationWorkflowPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.translation.AbstractStartTranslationWorkflowPanelBase,{});var defaults_$1=AS3.cast(AbstractStartTranslationWorkflowPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var layout_Anchor_35_5_$1=
AS3.cast(Ext.layout.container.Anchor,{});layout_Anchor_35_5_$1.anchor="100%";AS3.setBindable(config_$1,"layout",layout_Anchor_35_5_$1);var labelable_38_5_$1=AS3.cast(Ext.form.Labelable,{});labelable_38_5_$1.labelSeparator="";labelable_38_5_$1.labelAlign="top";config_$1["defaultType"]=labelable_38_5_$1["xtype"];delete labelable_38_5_$1["xtype"];delete labelable_38_5_$1["xclass"];config_$1.defaults=labelable_38_5_$1;var ui_VerticalSpacingPlugin_42_5_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,
{});AS3.setBindable(ui_VerticalSpacingPlugin_42_5_$1,"modifier",com.coremedia.ui.bem.SpacingBEMEntities.VERTICAL_SPACING_MODIFIER_200);config_$1.plugins=[ui_VerticalSpacingPlugin_42_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$G5Y4(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.workflow.translation.AbstractStartTranslationWorkflowPanelBase",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.controlroom.config.abstractStartTranslationWorkflowPanel",
constructor:AbstractStartTranslationWorkflowPanel$,super$G5Y4:function(){com.coremedia.cms.editor.controlroom.workflow.translation.AbstractStartTranslationWorkflowPanelBase.prototype.constructor.apply(this,arguments)},requires:["Ext.form.Labelable","Ext.layout.container.Anchor","com.coremedia.cms.editor.controlroom.workflow.translation.AbstractStartTranslationWorkflowPanelBase","com.coremedia.ui.bem.SpacingBEMEntities","com.coremedia.ui.plugins.VerticalSpacingPlugin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.translation.DefaultTranslationWorkflowDetailFormBase",function(DefaultTranslationWorkflowDetailFormBase){function DefaultTranslationWorkflowDetailFormBase$(config){if(arguments.length<=0)config=null;this.taskValueExpression$D17b=AS3.getBindable(config,"bindToTask");this.super$D17b(config);this.getRunningStateValueExpression$D17b().addChangeListener(AS3.bind(this,"onRunningStateChange$D17b"));this.getRunningStateValueExpression$D17b().addChangeListener(AS3.bind(this,
"collectIssues$D17b"));this.collectIssues$D17b();this.MERGE_CONFLICT_VALIDATOR$D17b=new com.coremedia.ui.data.validation.Validators(new com.coremedia.cms.editor.controlroom.workflow.translation.MergeConflictValidator(this.taskValueExpression$D17b))}function collectIssues(){var this$=this;var validationCode;if(this.getRunningStateValueExpression$D17b().getValue())validationCode="translationWorkflowRunning";else validationCode="translationWorkflowNotRunning";com.coremedia.collaboration.controlroom.rest.TranslationSetIssuesService.loadTranslationSetIssues(this.getDerivedContentsValueExpression().getValue(),
[],validationCode,function(workflowSetIssues){if(this$.getRunningStateValueExpression$D17b().getValue()){var mergeIssues=com.coremedia.ui.data.validation.validate([],this$.MERGE_CONFLICT_VALIDATOR$D17b);this$.getAllIssuesValueExpression().setValue(workflowSetIssues.getIssues(false).concat(mergeIssues))}else this$.getAllIssuesValueExpression().setValue(workflowSetIssues.getIssues(false))})}function onRunningStateChange(){if(this.runningStateValueExpression$D17b.getValue()){var contents=this.getDerivedContentsValueExpression().getValue();
if(contents)for(var $1=0;$1<contents.length;++$1){var content=contents[$1];var issues=content.getIssues();if(issues)issues.invalidate()}}}function getAllIssuesValueExpression(){if(!this.allIssuesValueExpression$D17b)this.allIssuesValueExpression$D17b=com.coremedia.ui.data.ValueExpressionFactory.createFromValue([]);return this.allIssuesValueExpression$D17b}function getRunningStateValueExpression(){var this$=this;return this.runningStateValueExpression$D17b||(this.runningStateValueExpression$D17b=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var task=
this$.taskValueExpression$D17b.getValue();if(!task)return false;return task.isRunning()&&task.getPerformer()===com.coremedia.cap.common.SESSION.getUser()}))}function isApplyButtonDisabled(){var issues=this.getAllIssuesValueExpression().getValue();if(issues===undefined)return true;for(var $1=0;$1<issues.length;++$1){var issue=issues[$1];if(issue.severity===com.coremedia.ui.data.validation.Severity.ERROR)return true}return false}function onDestroy(){com.coremedia.cms.editor.controlroom.workflow.translation.DefaultTranslationWorkflowFormBase.prototype.onDestroy.call(this);
this.getRunningStateValueExpression$D17b().removeChangeListener(AS3.bind(this,"onRunningStateChange$D17b"))}return{extend:"com.coremedia.cms.editor.controlroom.workflow.translation.DefaultTranslationWorkflowFormBase",metadata:{"":["PublicApi"]},allIssuesValueExpression$D17b:null,taskValueExpression$D17b:null,runningStateValueExpression$D17b:null,MERGE_CONFLICT_VALIDATOR$D17b:null,constructor:DefaultTranslationWorkflowDetailFormBase$,super$D17b:function(){com.coremedia.cms.editor.controlroom.workflow.translation.DefaultTranslationWorkflowFormBase.prototype.constructor.apply(this,
arguments)},collectIssues$D17b:collectIssues,onRunningStateChange$D17b:onRunningStateChange,getAllIssuesValueExpression:getAllIssuesValueExpression,getRunningStateValueExpression$D17b:getRunningStateValueExpression,isApplyButtonDisabled:isApplyButtonDisabled,onDestroy:onDestroy,requires:["com.coremedia.cap.common.SESSION","com.coremedia.cms.editor.controlroom.workflow.translation.DefaultTranslationWorkflowFormBase","com.coremedia.collaboration.controlroom.rest.TranslationSetIssuesService","com.coremedia.ui.data.ValueExpressionFactory",
"com.coremedia.ui.data.validation.Severity","com.coremedia.ui.data.validation.Validators","com.coremedia.ui.data.validation.validate"],uses:["com.coremedia.cms.editor.controlroom.workflow.translation.MergeConflictValidator"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.translation.OwnerWorkflowDetailLabel",function(OwnerWorkflowDetailLabel){function OwnerWorkflowDetailLabel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.translation.OwnerWorkflowDetailLabelBase,{});var defaults_$1=AS3.cast(OwnerWorkflowDetailLabel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"WorkflowDetailPanel_owner_label")));AS3.setBindable(config_$1,"textValueExpression",this.getOwnerVE(AS3.getBindable(config,"bindTo")));net.jangaroo.ext.Exml.apply(config_$1,config);this.super$x_k1(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.workflow.translation.OwnerWorkflowDetailLabelBase",alias:"widget.com.coremedia.cms.editor.controlroom.config.ownerWorkflowDetailLabel",constructor:OwnerWorkflowDetailLabel$,super$x_k1:function(){com.coremedia.cms.editor.controlroom.workflow.translation.OwnerWorkflowDetailLabelBase.prototype.constructor.apply(this,
arguments)},config:{bindTo:null},requires:["com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.workflow.translation.OwnerWorkflowDetailLabelBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.translation.OwnerWorkflowDetailLabelBase",function(OwnerWorkflowDetailLabelBase){function OwnerWorkflowDetailLabelBase$(config){if(arguments.length<=0)config=null;this.super$Exto(config)}function getOwnerVE(processExpression){var this$=this;return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var owner=processExpression.extendBy(com.coremedia.cap.workflow.ProcessPropertyNames.OWNER).getValue();if(owner)return owner===
com.coremedia.cap.common.SESSION.getUser()?this$.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","WorkflowDetailPanel_owner_me"):owner.getName();return""})}return{extend:"com.coremedia.cms.editor.controlroom.workflow.components.WorkflowDetailLabel",constructor:OwnerWorkflowDetailLabelBase$,super$Exto:function(){com.coremedia.cms.editor.controlroom.workflow.components.WorkflowDetailLabel.prototype.constructor.apply(this,arguments)},getOwnerVE:getOwnerVE,requires:["com.coremedia.cap.common.SESSION",
"com.coremedia.cap.workflow.ProcessPropertyNames","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.workflow.components.WorkflowDetailLabel","com.coremedia.ui.data.ValueExpressionFactory"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.ProcessListPanel",function(ProcessListPanel){function ProcessListPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.ProcessListPanelBase,{});var defaults_$1=AS3.cast(ProcessListPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"hideHeaders",true);AS3.setBindable(config_$1,"border",false);config_$1.bodyBorder=false;config_$1.bindTo=AS3.getBindable(config,
"processListValueExpression");config_$1.lazy=true;config_$1.initialViewLimit=20;config_$1.viewLimitIncrement=20;var ui_BindSelectionPlugin_32_5_$1=AS3.cast(com.coremedia.ui.plugins.BindSelectionPlugin,{});var ui_ValueExpression_34_9_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_34_9_$1,"context",this);AS3.setBindable(ui_ValueExpression_34_9_$1,"expression",net.jangaroo.ext.Exml.asString(ProcessListPanel.SELECTED_ITEMS_VARIABLE_NAME));AS3.setBindable(ui_BindSelectionPlugin_32_5_$1,
"selectedValues",new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_34_9_$1));config_$1.plugins=[ui_BindSelectionPlugin_32_5_$1];config_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var toolbar_41_5_$1=AS3.cast(Ext.toolbar.Toolbar,{});toolbar_41_5_$1.itemId="toolbar";config_$1.tbar=toolbar_41_5_$1;var ui_DataField_45_5_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_45_5_$1.name="processName";ui_DataField_45_5_$1.mapping="properties.subject";var ui_DataField_47_5_$1=AS3.cast(com.coremedia.ui.store.DataField,
{});ui_DataField_47_5_$1.name="processDefinitionName";ui_DataField_47_5_$1.mapping="definition.name";AS3.setBindable(config_$1,"defaultFields",[ui_DataField_45_5_$1,ui_DataField_47_5_$1]);var collab_ProcessIconColumn_52_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.ProcessIconColumn,{});var collab_WorkflowNameColumn_53_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.WorkflowNameColumn,{});collab_WorkflowNameColumn_53_5_$1.flex=1;var collab_WorkflowDetailColumn_54_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.WorkflowDetailColumn,
{});AS3.setBindable(config_$1,"defaultColumns",[collab_ProcessIconColumn_52_5_$1,collab_WorkflowNameColumn_53_5_$1,collab_WorkflowDetailColumn_54_5_$1]);var gridView_58_5_$1=AS3.cast(Ext.view.Table,{});gridView_58_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.TableViewSkin.LIGHT.getSkin());gridView_58_5_$1.stripeRows=true;config_$1["viewConfig"]=gridView_58_5_$1;var selection_RowModel_62_5_$1=AS3.cast(Ext.selection.RowModel,{});selection_RowModel_62_5_$1.mode="SINGLE";config_$1.selModel=
new Ext.selection.RowModel(selection_RowModel_62_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$KjAA(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.workflow.ProcessListPanelBase",alias:"widget.com.coremedia.cms.editor.controlroom.config.processListPanel",constructor:ProcessListPanel$,super$KjAA:function(){com.coremedia.cms.editor.controlroom.workflow.ProcessListPanelBase.prototype.constructor.apply(this,arguments)},config:{processListValueExpression:null},statics:{SELECTED_ITEMS_VARIABLE_NAME:"selectedItems"},
requires:["Ext.selection.RowModel","Ext.toolbar.Toolbar","Ext.view.Table","com.coremedia.cms.editor.controlroom.workflow.ProcessListPanelBase","com.coremedia.ui.exml.ValueExpression","com.coremedia.ui.plugins.BindSelectionPlugin","com.coremedia.ui.skins.TableViewSkin","com.coremedia.ui.store.DataField","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.workflow.ProcessIconColumn","com.coremedia.cms.editor.controlroom.workflow.WorkflowDetailColumn","com.coremedia.cms.editor.controlroom.workflow.WorkflowNameColumn"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.publication.DefaultPublicationWorkflowInfoForm",function(DefaultPublicationWorkflowInfoForm){function DefaultPublicationWorkflowInfoForm$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.publication.DefaultPublicationWorkflowInfoFormBase,{});var defaults_$1=AS3.cast(DefaultPublicationWorkflowInfoForm,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var editor_PropertyFieldGroup_28_5_$1=
AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyFieldGroup,{});editor_PropertyFieldGroup_28_5_$1.header=false;editor_PropertyFieldGroup_28_5_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","WorkflowDetailPanel_workflowType_label"));editor_PropertyFieldGroup_28_5_$1.itemId="propertyFieldGroup";var collab_WorkflowDetailLabel_32_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.components.WorkflowDetailLabel,
{});AS3.setBindable(collab_WorkflowDetailLabel_32_9_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","WorkflowDetailPanel_workflowType_label")));collab_WorkflowDetailLabel_32_9_$1.labelSeparator=":";AS3.setBindable(collab_WorkflowDetailLabel_32_9_$1,"textValueExpression",com.coremedia.ui.data.ValueExpressionFactory.createFromValue(com.coremedia.cms.editor.controlroom.workflow.WorkflowLocalizationUtils.getProcessDefinitionDisplayName(config.processDefinitionName)));
var collab_OwnerWorkflowDetailLabel_36_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.translation.OwnerWorkflowDetailLabel,{});collab_OwnerWorkflowDetailLabel_36_9_$1.labelSeparator=":";editor_PropertyFieldGroup_28_5_$1.items=[collab_WorkflowDetailLabel_32_9_$1,collab_OwnerWorkflowDetailLabel_36_9_$1];var editor_CollapsiblePanel_39_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.CollapsiblePanel,{});editor_CollapsiblePanel_39_5_$1.itemId=net.jangaroo.ext.Exml.asString(DefaultPublicationWorkflowInfoForm.CONTENT_PANEL_ITEM_ID);
AS3.setBindable(editor_CollapsiblePanel_39_5_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","StartWorkflowWindow_contentItems_label"));AS3.setBindable(editor_CollapsiblePanel_39_5_$1,"layout","anchor");AS3.setBindable(editor_CollapsiblePanel_39_5_$1,"minHeight",160);var editor_ContentGridPanel_44_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.components.ContentGridPanel,{});AS3.setBindable(editor_ContentGridPanel_44_9_$1,"scrollable",true);editor_ContentGridPanel_44_9_$1.anchor=
"100% 100%";AS3.setBindable(editor_ContentGridPanel_44_9_$1,"bindTo",this.getContentsValueExpression(AS3.getBindable(config,"bindTo")));AS3.setBindable(editor_ContentGridPanel_44_9_$1,"lazy",true);AS3.setBindable(editor_ContentGridPanel_44_9_$1,"initialViewLimit",30);AS3.setBindable(editor_ContentGridPanel_44_9_$1,"viewLimitIncrement",30);var editor_BindReadOnlyPlugin_51_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPlugin,{});AS3.setBindable(editor_BindReadOnlyPlugin_51_13_$1,
"forceReadOnlyValueExpression",com.coremedia.ui.data.ValueExpressionFactory.createFromValue(true));editor_ContentGridPanel_44_9_$1.plugins=[editor_BindReadOnlyPlugin_51_13_$1];editor_ContentGridPanel_44_9_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var menu_54_13_$1=AS3.cast(Ext.menu.Menu,{});menu_54_13_$1.plain=true;var menuItem_56_17_$1=AS3.cast(Ext.menu.Item,{});var editor_OpenInTabAction_58_21_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenInTabAction,{});AS3.setBindable(editor_OpenInTabAction_58_21_$1,
"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.components.ContentGridPanel.SELECTED_ITEMS_VARIABLE_NAME));menuItem_56_17_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.OpenInTabAction(editor_OpenInTabAction_58_21_$1);var menuItem_61_17_$1=AS3.cast(Ext.menu.Item,{});var editor_ShowInRepositoryAction_63_21_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction,{});AS3.setBindable(editor_ShowInRepositoryAction_63_21_$1,"contentVariableName",
net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.components.ContentGridPanel.SELECTED_ITEMS_VARIABLE_NAME));menuItem_61_17_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction(editor_ShowInRepositoryAction_63_21_$1);var menuItem_67_17_$1=AS3.cast(Ext.menu.Item,{});var editor_CopyToClipboardAction_69_21_$1=AS3.cast(com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction,{});AS3.setBindable(editor_CopyToClipboardAction_69_21_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.components.ContentGridPanel.SELECTED_ITEMS_VARIABLE_NAME));
menuItem_67_17_$1.baseAction=new com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction(editor_CopyToClipboardAction_69_21_$1);menu_54_13_$1.items=[menuItem_56_17_$1,menuItem_61_17_$1,menuItem_67_17_$1];AS3.setBindable(editor_ContentGridPanel_44_9_$1,"contextMenu",menu_54_13_$1);editor_CollapsiblePanel_39_5_$1.items=[editor_ContentGridPanel_44_9_$1];var collab_WorkflowNotesPanel_80_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.components.WorkflowNotesPanel,{});AS3.setBindable(collab_WorkflowNotesPanel_80_5_$1,
"collapseNoText",true);AS3.setBindable(collab_WorkflowNotesPanel_80_5_$1,"notesValueExpression",this.getNotesValueExpression(AS3.getBindable(config,"bindTo")));config_$1.items=[editor_PropertyFieldGroup_28_5_$1,editor_CollapsiblePanel_39_5_$1,collab_WorkflowNotesPanel_80_5_$1];var layout_Anchor_84_5_$1=AS3.cast(Ext.layout.container.Anchor,{});AS3.setBindable(config_$1,"layout",layout_Anchor_84_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$ecgn(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.workflow.publication.DefaultPublicationWorkflowInfoFormBase",
alias:"widget.com.coremedia.cms.editor.controlroom.config.defaultPublicationWorkflowInfoForm",constructor:DefaultPublicationWorkflowInfoForm$,super$ecgn:function(){com.coremedia.cms.editor.controlroom.workflow.publication.DefaultPublicationWorkflowInfoFormBase.prototype.constructor.apply(this,arguments)},statics:{CONTENT_PANEL_ITEM_ID:"contentPanelItemId",TARGET_CONTENTS_PROPERTY_PATH:"properties.changeSet"},requires:["Ext.layout.container.Anchor","Ext.menu.Item","Ext.menu.Menu","com.coremedia.cms.editor.controlroom.ControlRoom_properties",
"com.coremedia.cms.editor.controlroom.workflow.publication.DefaultPublicationWorkflowInfoFormBase","com.coremedia.cms.editor.sdk.actions.OpenInTabAction","com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction","com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction","com.coremedia.cms.editor.sdk.components.ContentGridPanel","com.coremedia.cms.editor.sdk.premular.CollapsiblePanel","com.coremedia.cms.editor.sdk.premular.PropertyFieldGroup","com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPlugin",
"com.coremedia.ui.data.ValueExpressionFactory","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.workflow.WorkflowLocalizationUtils","com.coremedia.cms.editor.controlroom.workflow.components.WorkflowDetailLabel","com.coremedia.cms.editor.controlroom.workflow.components.WorkflowNotesPanel","com.coremedia.cms.editor.controlroom.workflow.translation.OwnerWorkflowDetailLabel"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.publication.TwoStepPublicationPanelBase",function(TwoStepPublicationPanelBase){function TwoStepPublicationPanelBase$(config){if(arguments.length<=0)config=null;this.super$o4ii(config);AS3.setBindable(this,"taskValueExpression",AS3.getBindable(config,"taskValueExpression"));this.nextStateValueExpressionExternal=AS3.getBindable(config,"nextStateValueExpression");this.getComputedNextStateValueExpression$o4ii().addChangeListener(AS3.bind(this,
"updateNextState$o4ii"));this.updateNextState$o4ii(this.getComputedNextStateValueExpression$o4ii());this.getNextStateValueExpression().addChangeListener(AS3.bind(this,"updateNextState$o4ii"))}function getComposeLabelValueExpression(){var this$=this;if(!this.composeLabelValueExpression)this.composeLabelValueExpression=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){if(this$.isComposeTask())return this$.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"Workflow_StudioTwoStepPublication_start_current");else return this$.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","Workflow_StudioTwoStepPublication_revision")});return this.composeLabelValueExpression}function getApproveLabelValueExpression(){var this$=this;if(!this.approveLabelValueExpression)this.approveLabelValueExpression=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){if(this$.isComposeTask())return this$.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"Workflow_StudioTwoStepPublication_pending");else return this$.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","Workflow_StudioTwoStepPublication_pending_current")});return this.approveLabelValueExpression}function getPublishLabelValueExpression(){if(!this.publishLabelValueExpression)this.publishLabelValueExpression=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","Workflow_StudioTwoStepPublication_end"));
return this.publishLabelValueExpression}function getComposeApproveArrowValueExpression(){var this$=this;if(!this.composeApproveArrowValueExpression)this.composeApproveArrowValueExpression=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){if(this$.isComposeTask())return com.coremedia.icons.CoreIcons_properties.INSTANCE.prioritize_down;else return com.coremedia.icons.CoreIcons_properties.INSTANCE.prioritize_up});return this.composeApproveArrowValueExpression}function getComposeDisabledValueExpression(){var this$=
this;if(!this.composeDisabledValueExpression)this.composeDisabledValueExpression=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){return!this$.isMyRunningApproveTask()});return this.composeDisabledValueExpression}function getApproveDisabledValueExpression(){var this$=this;if(!this.approveDisabledValueExpression)this.approveDisabledValueExpression=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){return!this$.isMyRunningComposeTask()});return this.approveDisabledValueExpression}
function getPublishDisabledValueExpression(){if(!this.publishDisabledValueExpression)this.publishDisabledValueExpression=this.composeDisabledValueExpression;return this.publishDisabledValueExpression}function getCurrentTaskDefinitionName(){if(!AS3.getBindable(this,"taskValueExpression"))return AS3.getBindable(this,"defaultCurrentTaskName");var task=this.getTask$o4ii();if(!task)return null;return task.getDefinition().getName()}function isComposeTask(){return this.getCurrentTaskDefinitionName$o4ii()===
com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.COMPOSE_TASK_NAME}function isMyRunningComposeTask(){if(this.getCurrentTaskDefinitionName$o4ii()!==com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.COMPOSE_TASK_NAME)return false;var task=this.getTask$o4ii();if(!task)return true;return task.isRunning()&&task.getPerformer()===com.coremedia.cap.common.SESSION.getUser()}function isMyRunningApproveTask(){if(this.getCurrentTaskDefinitionName$o4ii()!==
com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.APPROVE_TASK_NAME)return false;var task=this.getTask$o4ii();if(!task)return false;return task.isRunning()&&task.getPerformer()===com.coremedia.cap.common.SESSION.getUser()}function getTask(){if(AS3.getBindable(this,"taskValueExpression"))return AS3.as(AS3.getBindable(this,"taskValueExpression").getValue(),com.coremedia.cap.workflow.Task);else return null}function getComputedNextStateValueExpression(){var this$=
this;if(!this.computedNextStateValueExpression$o4ii)this.computedNextStateValueExpression$o4ii=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){if(this$.isMyRunningApproveTask())return com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.PUBLISH_TASK_NAME;else return com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.APPROVE_TASK_NAME});return this.computedNextStateValueExpression$o4ii}function updateNextState(nextStateValueExpression){this.getNextStateValueExpression().setValue(nextStateValueExpression.getValue());
var state=this.getNextStateValueExpression().getValue();if(this.nextStateValueExpressionExternal)this.nextStateValueExpressionExternal.setValue(state)}function getNextStateValueExpression(){if(!this.nextStateValueExpression$o4ii)this.nextStateValueExpression$o4ii=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.APPROVE_TASK_NAME);return this.nextStateValueExpression$o4ii}function beforeDestroy(){this.getComputedNextStateValueExpression$o4ii().removeChangeListener(AS3.bind(this,
"updateNextState$o4ii"));this.getNextStateValueExpression().removeChangeListener(AS3.bind(this,"updateNextState$o4ii"));Ext.panel.Panel.prototype.beforeDestroy.call(this)}return{extend:"Ext.panel.Panel",nextStateValueExpressionExternal:null,computedNextStateValueExpression$o4ii:null,nextStateValueExpression$o4ii:null,composeLabelValueExpression:null,approveLabelValueExpression:null,publishLabelValueExpression:null,composeApproveArrowValueExpression:null,composeDisabledValueExpression:null,approveDisabledValueExpression:null,
publishDisabledValueExpression:null,constructor:TwoStepPublicationPanelBase$,super$o4ii:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},getComposeLabelValueExpression:getComposeLabelValueExpression,getApproveLabelValueExpression:getApproveLabelValueExpression,getPublishLabelValueExpression:getPublishLabelValueExpression,getComposeApproveArrowValueExpression:getComposeApproveArrowValueExpression,getComposeDisabledValueExpression:getComposeDisabledValueExpression,getApproveDisabledValueExpression:getApproveDisabledValueExpression,
getPublishDisabledValueExpression:getPublishDisabledValueExpression,getCurrentTaskDefinitionName$o4ii:getCurrentTaskDefinitionName,isComposeTask:isComposeTask,isMyRunningComposeTask:isMyRunningComposeTask,isMyRunningApproveTask:isMyRunningApproveTask,getTask$o4ii:getTask,getComputedNextStateValueExpression$o4ii:getComputedNextStateValueExpression,updateNextState$o4ii:updateNextState,getNextStateValueExpression:getNextStateValueExpression,beforeDestroy:beforeDestroy,config:{taskValueExpression:null,
defaultCurrentTaskName:null},requires:["Ext.panel.Panel","com.coremedia.cap.common.SESSION","com.coremedia.cap.workflow.Task","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants",function(PublicationWorkflowConstants){function PublicationWorkflowConstants$(){}return{constructor:PublicationWorkflowConstants$,statics:{PUBLICATION_PROCESS_CATEGORY:"Publication",SIMPLE_PUBLICATION_WORKFLOW_TYPE:"StudioSimplePublication",TWO_STEP_PUBLICATION_WORKFLOW_TYPE:"StudioTwoStepPublication",COMPOSE_TASK_NAME:"Compose",APPROVE_TASK_NAME:"Approve",PUBLISH_TASK_NAME:"Publish",COMMENT_VARIABLE:"comment",
SUBJECT_VARIABLE:"subject",CHANGESET_VARIABLE:"changeSet"}}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.publication.StartPublicationWorkflowWindow",function(StartPublicationWorkflowWindow){function StartPublicationWorkflowWindow$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.publication.StartPublicationWorkflowWindowBase,{});var defaults_$1=AS3.cast(StartPublicationWorkflowWindow,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"StartPublicationWorkflowWindow_title"));AS3.setBindable(config_$1,"width",430);AS3.setBindable(config_$1,"height",760);AS3.setBindable(config_$1,"minWidth",300);AS3.setBindable(config_$1,"minHeight",400);config_$1.constrainHeader=true;AS3.setBindable(config_$1,"scrollable",true);config_$1.stateId=net.jangaroo.ext.Exml.asString(StartPublicationWorkflowWindow.START_PUBLICATION_WINDOW_ITEM_ID);AS3.setBindable(config_$1,"stateful",true);config_$1.stateEvents=["resize"];config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.WindowSkin.GRID_200_DARK.getSkin());
config_$1.bodyPadding=12;var editor_CollapsiblePanel_67_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.CollapsiblePanel,{});AS3.setBindable(editor_CollapsiblePanel_67_5_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","StartWorkflowWindow_workflowNameTextField_label"));editor_CollapsiblePanel_67_5_$1.stateId="startPublicationWindow_namePanel";AS3.setBindable(editor_CollapsiblePanel_67_5_$1,"stateful",true);editor_CollapsiblePanel_67_5_$1.stateEvents=
["collapse","expand"];editor_CollapsiblePanel_67_5_$1["getState"]=function(){return{collapsed:this.collapsed}};var collab_WorkflowNameField_74_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.components.WorkflowNameField,{});AS3.setBindable(collab_WorkflowNameField_74_9_$1,"workflowNameExpression",this.getSubjectValueExpression());collab_WorkflowNameField_74_9_$1.anchor="100%";var collab_ProcessDefinitionChooser_76_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.ProcessDefinitionChooser,
{});AS3.setBindable(collab_ProcessDefinitionChooser_76_9_$1,"availableProcessDefinitions",AS3.getBindable(config,"availableProcessDefinitionNames"));AS3.setBindable(collab_ProcessDefinitionChooser_76_9_$1,"selectedProcessDefinitionExpression",this.getSelectedProcessDefinitionNameValueExpression());collab_ProcessDefinitionChooser_76_9_$1.stateId="publicationWorkflowChooser";collab_ProcessDefinitionChooser_76_9_$1.anchor="100%";editor_CollapsiblePanel_67_5_$1.items=[collab_WorkflowNameField_74_9_$1,
collab_ProcessDefinitionChooser_76_9_$1];var ui_VerticalSpacingPlugin_82_9_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});editor_CollapsiblePanel_67_5_$1.plugins=[ui_VerticalSpacingPlugin_82_9_$1];var collab_WorkflowSetPanel_86_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.components.WorkflowSetPanel,{});collab_WorkflowSetPanel_86_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.controlroom.workflow.publication.StartPublicationWorkflowWindowBase.PUBLICATION_SET_PANEL_ITEM_ID);
collab_WorkflowSetPanel_86_5_$1.workflowName="publication";AS3.setBindable(collab_WorkflowSetPanel_86_5_$1,"selectedContentsValueExpression",com.coremedia.ui.data.ValueExpressionFactory.create("userChosenContents",this.getModel()));AS3.setBindable(collab_WorkflowSetPanel_86_5_$1,"workflowSetValueExpression",this.getPublicationSetValueExpression());AS3.setBindable(collab_WorkflowSetPanel_86_5_$1,"errorIssuesExistValueExpression",this.getErrorIssuesExistValueExpression());AS3.setBindable(collab_WorkflowSetPanel_86_5_$1,
"processNameValueExpression",this.getSelectedProcessDefinitionNameValueExpression());collab_WorkflowSetPanel_86_5_$1.getIssuesFunction=AS3.bind(this,"getPublicationSetIssues");collab_WorkflowSetPanel_86_5_$1.stateId="startPublicationWindow_workflowSetPanel";collab_WorkflowSetPanel_86_5_$1.emptyText=net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","StartPublicationWorkflowPanel_empty_text"));collab_WorkflowSetPanel_86_5_$1.quickTipText=
net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","StartPublicationWorkflowWindow_extendedChangeSet_help_text"));AS3.setBindable(collab_WorkflowSetPanel_86_5_$1,"stateful",true);collab_WorkflowSetPanel_86_5_$1.stateEvents=["collapse","expand"];collab_WorkflowSetPanel_86_5_$1["getState"]=function(){return{collapsed:this.collapsed}};var collab_AssignMembersPanel_100_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.AssignMembersPanel,
{});AS3.setBindable(collab_AssignMembersPanel_100_5_$1,"assignedMembersValueExpression",this.getAssignedMembersVE());collab_AssignMembersPanel_100_5_$1.itemId=net.jangaroo.ext.Exml.asString(StartPublicationWorkflowWindow.ASSIGN_MEMBERS_PANEL_ITEM_ID);collab_AssignMembersPanel_100_5_$1.stateId="startPublicationWindow_assignMembersPanel";AS3.setBindable(collab_AssignMembersPanel_100_5_$1,"stateful",true);collab_AssignMembersPanel_100_5_$1.stateEvents=["collapse","expand"];collab_AssignMembersPanel_100_5_$1["getState"]=
function(){return{collapsed:this.collapsed}};var ui_BindVisibilityPlugin_107_9_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_107_9_$1.bindTo=this.getSelectedProcessDefinitionNameValueExpression();AS3.setBindable(ui_BindVisibilityPlugin_107_9_$1,"transformer",AS3.bind(this,"isAssignableProcess"));collab_AssignMembersPanel_100_5_$1.plugins=[ui_BindVisibilityPlugin_107_9_$1];var collab_WorkflowNotesPanel_111_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.components.WorkflowNotesPanel,
{});AS3.setBindable(collab_WorkflowNotesPanel_111_5_$1,"collapseNoText",false);AS3.setBindable(collab_WorkflowNotesPanel_111_5_$1,"notesValueExpression",this.getNotesValueExpression());collab_WorkflowNotesPanel_111_5_$1.stateId="startPublicationWindow_notesPanel";AS3.setBindable(collab_WorkflowNotesPanel_111_5_$1,"stateful",true);collab_WorkflowNotesPanel_111_5_$1.stateEvents=["collapse","expand"];collab_WorkflowNotesPanel_111_5_$1["getState"]=function(){return{collapsed:this.collapsed}};var editor_CollapsiblePanel_117_5_$1=
AS3.cast(com.coremedia.cms.editor.sdk.premular.CollapsiblePanel,{});editor_CollapsiblePanel_117_5_$1.itemId=net.jangaroo.ext.Exml.asString(StartPublicationWorkflowWindow.STATE_PANEL_ITEM_ID);AS3.setBindable(editor_CollapsiblePanel_117_5_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","StartWorkflowWindow_states_label"));AS3.setBindable(editor_CollapsiblePanel_117_5_$1,"minHeight",140);AS3.setBindable(editor_CollapsiblePanel_117_5_$1,"collapsed",true);editor_CollapsiblePanel_117_5_$1.stateId=
"startPublicationWindow_statePanel";AS3.setBindable(editor_CollapsiblePanel_117_5_$1,"stateful",true);editor_CollapsiblePanel_117_5_$1.stateEvents=["collapse","expand"];editor_CollapsiblePanel_117_5_$1["getState"]=function(){return{collapsed:this.collapsed}};var ui_SwitchingContainer_126_9_$1=AS3.cast(com.coremedia.ui.components.SwitchingContainer,{});ui_SwitchingContainer_126_9_$1.itemId=net.jangaroo.ext.Exml.asString(StartPublicationWorkflowWindow.SWITCHING_STATE_PANEL_ITEM_ID);AS3.setBindable(ui_SwitchingContainer_126_9_$1,
"activeItemValueExpression",this.getSelectedProcessDefinitionNameValueExpression());var collab_SimplePublicationPanel_130_13_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.publication.SimplePublicationPanel,{});collab_SimplePublicationPanel_130_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.SIMPLE_PUBLICATION_WORKFLOW_TYPE);var collab_TwoStepPublicationPanel_131_13_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.publication.TwoStepPublicationPanel,
{});collab_TwoStepPublicationPanel_131_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.TWO_STEP_PUBLICATION_WORKFLOW_TYPE);AS3.setBindable(collab_TwoStepPublicationPanel_131_13_$1,"defaultCurrentTaskName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.COMPOSE_TASK_NAME));ui_SwitchingContainer_126_9_$1.items=[collab_SimplePublicationPanel_130_13_$1,
collab_TwoStepPublicationPanel_131_13_$1];editor_CollapsiblePanel_117_5_$1.items=[ui_SwitchingContainer_126_9_$1];var collab_RemoveEditedContentsCheckbox_137_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.components.RemoveEditedContentsCheckbox,{});AS3.setBindable(collab_RemoveEditedContentsCheckbox_137_5_$1,"removeEditedContentsValueExpression",this.getRemoveEditedContentValueExpression());config_$1.items=[editor_CollapsiblePanel_67_5_$1,collab_WorkflowSetPanel_86_5_$1,collab_AssignMembersPanel_100_5_$1,
collab_WorkflowNotesPanel_111_5_$1,editor_CollapsiblePanel_117_5_$1,collab_RemoveEditedContentsCheckbox_137_5_$1];var button_141_5_$1=AS3.cast(Ext.button.Button,{});button_141_5_$1.itemId=net.jangaroo.ext.Exml.asString(StartPublicationWorkflowWindow.START_BUTTON_ITEM_ID);button_141_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_PRIMARY.getSkin());AS3.setBindable(button_141_5_$1,"scale","small");AS3.setBindable(button_141_5_$1,"text","Start");AS3.setBindable(button_141_5_$1,
"handler",AS3.bind(this,"startWorkflow"));var ui_BindPropertyPlugin_147_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_147_9_$1.bindTo=this.getStartButtonDisabledValueExpression();ui_BindPropertyPlugin_147_9_$1.componentProperty="disabled";button_141_5_$1.plugins=[ui_BindPropertyPlugin_147_9_$1];var button_151_5_$1=AS3.cast(Ext.button.Button,{});button_151_5_$1.itemId=net.jangaroo.ext.Exml.asString(StartPublicationWorkflowWindow.CANCEL_BUTTON_ITEM_ID);button_151_5_$1.ui=
net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_SECONDARY.getSkin());AS3.setBindable(button_151_5_$1,"scale","small");AS3.setBindable(button_151_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","dialog_defaultCancelButton_text")));AS3.setBindable(button_151_5_$1,"handler",AS3.bind(this,"close"));config_$1.buttons=[button_141_5_$1,button_151_5_$1];var layout_Anchor_158_5_$1=AS3.cast(Ext.layout.container.Anchor,{});AS3.setBindable(config_$1,
"layout",layout_Anchor_158_5_$1);var ui_VerticalSpacingPlugin_161_5_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});AS3.setBindable(ui_VerticalSpacingPlugin_161_5_$1,"modifier",com.coremedia.ui.bem.SpacingBEMEntities.VERTICAL_SPACING_MODIFIER_200);AS3.setBindable(ui_VerticalSpacingPlugin_161_5_$1,"includeDocked",false);config_$1.plugins=[ui_VerticalSpacingPlugin_161_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$9pOE(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.workflow.publication.StartPublicationWorkflowWindowBase",
alias:"widget.com.coremedia.cms.editor.controlroom.config.startPublicationWorkflowWindow",constructor:StartPublicationWorkflowWindow$,super$9pOE:function(){com.coremedia.cms.editor.controlroom.workflow.publication.StartPublicationWorkflowWindowBase.prototype.constructor.apply(this,arguments)},config:{contents:null,availableProcessDefinitionNames:null,defaultWorkflowName:null},statics:{START_PUBLICATION_WINDOW_ITEM_ID:"startPublicationWindow",ASSIGN_MEMBERS_PANEL_ITEM_ID:"assignMembersPanelItemId",
STATE_PANEL_ITEM_ID:"statePanel",SWITCHING_STATE_PANEL_ITEM_ID:"switchingStatePanel",START_BUTTON_ITEM_ID:"startButton",CANCEL_BUTTON_ITEM_ID:"cancelButton"},requires:["Ext.button.Button","Ext.layout.container.Anchor","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.workflow.publication.StartPublicationWorkflowWindowBase","com.coremedia.cms.editor.sdk.premular.CollapsiblePanel","com.coremedia.ui.bem.SpacingBEMEntities",
"com.coremedia.ui.components.SwitchingContainer","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.BindVisibilityPlugin","com.coremedia.ui.plugins.VerticalSpacingPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.WindowSkin","mx.resources.ResourceManager","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.workflow.AssignMembersPanel","com.coremedia.cms.editor.controlroom.workflow.ProcessDefinitionChooser",
"com.coremedia.cms.editor.controlroom.workflow.components.RemoveEditedContentsCheckbox","com.coremedia.cms.editor.controlroom.workflow.components.WorkflowNameField","com.coremedia.cms.editor.controlroom.workflow.components.WorkflowNotesPanel","com.coremedia.cms.editor.controlroom.workflow.components.WorkflowSetPanel","com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants","com.coremedia.cms.editor.controlroom.workflow.publication.SimplePublicationPanel","com.coremedia.cms.editor.controlroom.workflow.publication.TwoStepPublicationPanel"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.publication.DefaultPublicationWorkflowDetailFormBase",function(DefaultPublicationWorkflowDetailFormBase){function DefaultPublicationWorkflowDetailFormBase$(config){if(arguments.length<=0)config=null;this.super$7De5(config);this.processDefinitionName=config.processDefinitionName;this.getChangeSetContentsValueExpression$7De5().addChangeListener(AS3.bind(this,"updateSelectedContents$7De5"));this.getSelectedContentsAndVersionsValueExpression$7De5().addChangeListener(AS3.bind(this,
"updateChangeSet$7De5"));this.getSelectedContentsValueExpression().setValue(this.getChangeSetContentsValueExpression$7De5().getValue());this.getAssignedMembersFromProcessVE$7De5().addChangeListener(AS3.bind(this,"updateAssignedMembersForProcess$7De5"));this.getAssignedMembersVE().addChangeListener(AS3.bind(this,"getPublicationSetIssues"));this.getRetrieveIssuesForSessionUserVE().addChangeListener(AS3.bind(this,"getPublicationSetIssues"));AS3.getBindable(this,"bindToTask")&&AS3.getBindable(this,"bindToTask").addChangeListener(AS3.bind(this,
"updateAssignedMembersForTask$7De5"));AS3.getBindable(this,"bindTo")&&!AS3.getBindable(this,"bindToTask")&&AS3.getBindable(this,"bindTo").addChangeListener(AS3.bind(this,"updateAssignedMembersForProcess$7De5"));this.registerProcessTaskOperationExitFunctions()}function getWorkflowSetPanel(){return AS3.as(this.getComponent(DefaultPublicationWorkflowDetailFormBase.PUBLICATION_SET_PANEL_ITEM_ID),com.coremedia.cms.editor.controlroom.workflow.components.WorkflowSetPanel)}function getProcessNameVE(){if(!this.processNameValueExpression$7De5)this.processNameValueExpression$7De5=
com.coremedia.ui.data.ValueExpressionFactory.createFromValue(this.processDefinitionName);return this.processNameValueExpression$7De5}function getPublicationSetIssues(callback,publicationSet){var this$=this;switch(arguments.length){case 0:callback=null;case 1:publicationSet=null}if(!this.getWorkflowSetPanel())return;var assignedMembers=this.getAssignedMembersVE()?this.getAssignedMembersVE().getValue():[com.coremedia.cap.common.SESSION.getUser()];if(this.getRetrieveIssuesForSessionUserVE()&&this.getRetrieveIssuesForSessionUserVE().getValue())assignedMembers=
[com.coremedia.cap.common.SESSION.getUser()];var processName=this.getProcessNameVE()?this.getProcessNameVE().getValue():null;publicationSet=publicationSet?publicationSet:this.publicationSetValueExpression$7De5.getValue();com.coremedia.collaboration.controlroom.rest.PublicationSetIssuesService.loadPublicationSetIssues(publicationSet,assignedMembers,processName,function(publicationSetIssues){var workflowSetPanel=this$.getWorkflowSetPanel();var workflowSetPanelModel=workflowSetPanel?workflowSetPanel.getModel():
null;if(!workflowSetPanelModel)return;if(!com.coremedia.ui.util.ObjectUtils.equal(publicationSetIssues,workflowSetPanelModel.get(workflowSetPanel.getWorkflowSetIssuesPropertyName())))workflowSetPanelModel.set(workflowSetPanel.getWorkflowSetIssuesPropertyName(),publicationSetIssues);AS3.is(callback,Function)&&callback(publicationSetIssues)})}function getSelectedContentsAndVersionsValueExpression(){var this$=this;if(!this.selectedContentsVersionsValueExpression$7De5)this.selectedContentsVersionsValueExpression$7De5=
com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var contents=AS3.as(this$.getSelectedContentsValueExpression().getValue(),Array);var contentsAndVersions=[];if(contents)contents.forEach(function(content){if(contentsAndVersions)contentsAndVersions.push(content);if(content.getState().readable){var version=content.getCheckedOutVersion();if(!version)version=content.getCheckedInVersion();if(version&&contentsAndVersions)contentsAndVersions.push(version);else contentsAndVersions=
undefined}});return contentsAndVersions});return this.selectedContentsVersionsValueExpression$7De5}function getAssignedMembersFromProcessVE(){var this$=this;if(!this.assignedMembersFromProcessVE$7De5)this.assignedMembersFromProcessVE$7De5=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var process=AS3.getBindable(this$,"bindTo")&&AS3.getBindable(this$,"bindTo").getValue();var assignedUsersFromProcess=[];if(process)process.load(function(){var assignedUsers=process.getProperties().get("assignedUsers")||
[];var assignedGroups=process.getProperties().get("assignedGroups")||[];assignedUsersFromProcess=assignedUsers.concat(assignedGroups)});return assignedUsersFromProcess});return this.assignedMembersFromProcessVE$7De5}function updateChangeSet(){var contentsAndVersions=AS3.as(this.getSelectedContentsAndVersionsValueExpression$7De5().getValue(),Array);if(AS3.getBindable(this,"bindToTask")){var task=AS3.as(AS3.getBindable(this,"bindToTask").getValue(),com.coremedia.cap.workflow.Task);if(contentsAndVersions&&
task)task.load(function(){if(task.getPerformer()===com.coremedia.cap.common.SESSION.getUser()&&task.isRunning()){var process=task.getContainingProcess();process.load(function(){var oldVersions=process.getProperties().get(com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.CHANGESET_VARIABLE);if(oldVersions!=contentsAndVersions)process.getProperties().set(com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.CHANGESET_VARIABLE,contentsAndVersions)})}})}}
function getChangeSetContentsValueExpression(){var this$=this;if(!this.changeSetContentsValueExpression$7De5)this.changeSetContentsValueExpression$7De5=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var contents=[];var changeSet=this$.initialConfig.bindTo.extendBy(com.coremedia.cap.workflow.ProcessPropertyNames.PROPERTIES,com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.CHANGESET_VARIABLE).getValue();if(changeSet)changeSet.forEach(function(changeSetItem){var content;
if(AS3.is(changeSetItem,com.coremedia.cap.content.Content))content=AS3.as(changeSetItem,com.coremedia.cap.content.Content);else content=com.coremedia.cms.editor.controlroom.workflow.publication.ExtendedWorkflowUtils.getContentForVersionByUriPath(changeSetItem);if(content&&contents){if(contents.indexOf(content)===-1)contents.push(content)}else contents=undefined});else contents=undefined;return contents});return this.changeSetContentsValueExpression$7De5}function updateSelectedContents(){var contents=
AS3.as(this.getChangeSetContentsValueExpression$7De5().getValue(),Array);if(contents)this.getSelectedContentsValueExpression().setValue(contents)}function getAssignedMembersVE(){if(!this.assignedMembersVE$7De5)this.assignedMembersVE$7De5=com.coremedia.ui.data.ValueExpressionFactory.createFromValue([]);return this.assignedMembersVE$7De5}function getAssignMembersPanelVisibleVE(){var this$=this;if(!this.assignedMembersPanelVisibleVE$7De5)this.assignedMembersPanelVisibleVE$7De5=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var isPanelVisible=
true;var task=AS3.getBindable(this$,"bindToTask")&&AS3.getBindable(this$,"bindToTask").getValue();if(task)task.load(function(){if(task.getDefinition().getName()!==com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.COMPOSE_TASK_NAME)isPanelVisible=false});return isPanelVisible});return this.assignedMembersPanelVisibleVE$7De5}function updateAssignedMembersForTask(){var this$=this;var task=AS3.getBindable(this,"bindToTask")&&AS3.getBindable(this,"bindToTask").getValue();
var sessionUser=com.coremedia.cap.common.SESSION.getUser();if(task)task.load(function(){var containingProcess=task.getContainingProcess();containingProcess.load(function(){if(task.getDefinition().getName()===com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.APPROVE_TASK_NAME&&task.isAccepted()&&task.getPerformer()===sessionUser)this$.getAssignedMembersVE().setValue([sessionUser]);else if(task.getDefinition().getName()===com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.APPROVE_TASK_NAME||
task.getDefinition().getName()===com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.COMPOSE_TASK_NAME){var assignedUsers=containingProcess.getProperties().get("assignedUsers")||[];var assignedGroups=containingProcess.getProperties().get("assignedGroups")||[];this$.getAssignedMembersVE().setValue(assignedUsers.concat(assignedGroups))}if(!this$.assignedMembersInitialized$7De5){this$.getAssignedMembersVE().addChangeListener(AS3.bind(this$,"updateProcess$7De5"));this$.assignedMembersInitialized$7De5=
true}})})}function updateAssignedMembersForProcess(){this.getAssignedMembersVE().setValue(this.getAssignedMembersFromProcessVE$7De5().getValue())}function updateProcess(){var this$=this;if(this.getAssignedMembersVE().getValue()){var task=AS3.getBindable(this,"bindToTask")&&AS3.getBindable(this,"bindToTask").getValue();if(task)task.load(function(){var containingProcess=task.getContainingProcess();containingProcess.load(function(){var members=this$.getAssignedMembersVE().getValue();if(members){containingProcess.getProperties().set("assignedUsers",
this$.filterUsers$7De5(members));containingProcess.getProperties().set("assignedGroups",this$.filterGroups$7De5(members))}})})}}function filterGroups(members){var groups=[];members.forEach(function(member){if(member.isGroup())groups.push(member)});return groups}function filterUsers(members){var users=[];members.forEach(function(member){if(member.isUser())users.push(member)});return users}function getSelectedContentsValueExpression(){if(!this.selectedContentsValueExpression$7De5)this.selectedContentsValueExpression$7De5=
com.coremedia.ui.data.ValueExpressionFactory.createFromValue(undefined);return this.selectedContentsValueExpression$7De5}function getPublicationSetValueExpression(){if(!this.publicationSetValueExpression$7De5)this.publicationSetValueExpression$7De5=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(undefined);return this.publicationSetValueExpression$7De5}function getErrorIssuesExistValueExpression(){if(!this.errorIssuesValueExpression$7De5)this.errorIssuesValueExpression$7De5=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(false);
return this.errorIssuesValueExpression$7De5}function getNextStateValueExpression(){if(!this.nextStateValueExpression$7De5)this.nextStateValueExpression$7De5=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(undefined);return this.nextStateValueExpression$7De5}function getNotesValueExpression(bindTo){if(!this.notesValueExpression$7De5)this.notesValueExpression$7De5=bindTo.extendBy(com.coremedia.cap.workflow.ProcessPropertyNames.PROPERTIES,com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.COMMENT_VARIABLE);
return this.notesValueExpression$7De5}function isApplyButtonDisabled(){return com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.COMPOSE_TASK_NAME!==this.getNextStateValueExpression().getValue()&&(this.getErrorIssuesExistValueExpression().getValue()||this.getErrorIssuesExistValueExpression().getValue()===undefined)}function getStatePanelTitleValueExpression(){var this$=this;return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var task=
AS3.getBindable(this$,"bindToTask")?AS3.as(AS3.getBindable(this$,"bindToTask").getValue(),com.coremedia.cap.workflow.Task):null;return task&&task.isAccepted()&&task.getPerformer()===com.coremedia.cap.common.SESSION.getUser()?this$.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","WorkflowDetailPanelWrapper_next_state_label"):this$.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","WorkflowDetailPanelWrapper_states_label")})}function getRetrieveIssuesForSessionUserVE(){var this$=
this;return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var task=AS3.getBindable(this$,"bindToTask")?AS3.as(AS3.getBindable(this$,"bindToTask").getValue(),com.coremedia.cap.workflow.Task):null;return!!(task&&task.isAccepted()&&task.getPerformer()===com.coremedia.cap.common.SESSION.getUser()&&com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.APPROVE_TASK_NAME===task.getDefinition().getName())})}function registerProcessTaskOperationExitFunctions(){var inboxDetailPanelWrapperCmp=
AS3.as(this.findParentByType(com.coremedia.cms.editor.controlroom.workflow.InboxDetailPanelWrapper.xtype),com.coremedia.cms.editor.controlroom.workflow.InboxDetailPanelWrapper);if(inboxDetailPanelWrapperCmp){var exitFunctions={};exitFunctions[com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.TWO_STEP_PUBLICATION_WORKFLOW_TYPE]={Approve:{complete:{before:[com.coremedia.cms.editor.controlroom.workflow.publication.ExtendedWorkflowUtils.setProcessApprovedState,com.coremedia.cms.editor.controlroom.workflow.publication.ExtendedWorkflowUtils.checkInSelectedAndExtendedContentsAndUpdateChangeSet],
callback:[com.coremedia.cms.editor.controlroom.workflow.publication.ExtendedWorkflowUtils.notifyWorkflowFinished]},cancel:{before:[com.coremedia.cms.editor.controlroom.workflow.publication.ExtendedWorkflowUtils.checkInSelectedContentsAndUpdateChangeSet]}},Compose:{complete:{before:[com.coremedia.cms.editor.controlroom.workflow.publication.ExtendedWorkflowUtils.checkInSelectedAndExtendedContentsAndUpdateChangeSet]},cancel:{before:[com.coremedia.cms.editor.controlroom.workflow.publication.ExtendedWorkflowUtils.checkInSelectedContentsAndUpdateChangeSet]}}};
inboxDetailPanelWrapperCmp.registerProcessTaskOperationExitFunctions(exitFunctions)}}function beforeDestroy(){this.getChangeSetContentsValueExpression$7De5().removeChangeListener(AS3.bind(this,"updateSelectedContents$7De5"));this.getSelectedContentsAndVersionsValueExpression$7De5().removeChangeListener(AS3.bind(this,"updateChangeSet$7De5"));this.getAssignedMembersVE().removeChangeListener(AS3.bind(this,"updateProcess$7De5"));this.getAssignedMembersVE().removeChangeListener(AS3.bind(this,"getPublicationSetIssues"));
AS3.getBindable(this,"bindToTask")&&AS3.getBindable(this,"bindToTask").removeChangeListener(AS3.bind(this,"updateAssignedMembersForTask$7De5"));AS3.getBindable(this,"bindTo")&&!AS3.getBindable(this,"bindToTask")&&AS3.getBindable(this,"bindTo").removeChangeListener(AS3.bind(this,"updateAssignedMembersForProcess$7De5"));this.getRetrieveIssuesForSessionUserVE().removeChangeListener(AS3.bind(this,"getPublicationSetIssues"));com.coremedia.cms.editor.controlroom.workflow.WorkflowForm.prototype.beforeDestroy.call(this)}
return{extend:"com.coremedia.cms.editor.controlroom.workflow.WorkflowForm",selectedContentsValueExpression$7De5:null,selectedContentsVersionsValueExpression$7De5:null,changeSetContentsValueExpression$7De5:null,publicationSetValueExpression$7De5:null,errorIssuesValueExpression$7De5:null,nextStateValueExpression$7De5:null,notesValueExpression$7De5:null,assignedMembersVE$7De5:null,assignedMembersPanelVisibleVE$7De5:null,assignedMembersFromProcessVE$7De5:null,assignedMembersInitialized$7De5:false,processNameValueExpression$7De5:null,
constructor:DefaultPublicationWorkflowDetailFormBase$,super$7De5:function(){com.coremedia.cms.editor.controlroom.workflow.WorkflowForm.prototype.constructor.apply(this,arguments)},getWorkflowSetPanel:getWorkflowSetPanel,getProcessNameVE:getProcessNameVE,getPublicationSetIssues:getPublicationSetIssues,getSelectedContentsAndVersionsValueExpression$7De5:getSelectedContentsAndVersionsValueExpression,getAssignedMembersFromProcessVE$7De5:getAssignedMembersFromProcessVE,updateChangeSet$7De5:updateChangeSet,
getChangeSetContentsValueExpression$7De5:getChangeSetContentsValueExpression,updateSelectedContents$7De5:updateSelectedContents,getAssignedMembersVE:getAssignedMembersVE,getAssignMembersPanelVisibleVE:getAssignMembersPanelVisibleVE,updateAssignedMembersForTask$7De5:updateAssignedMembersForTask,updateAssignedMembersForProcess$7De5:updateAssignedMembersForProcess,updateProcess$7De5:updateProcess,filterGroups$7De5:filterGroups,filterUsers$7De5:filterUsers,getSelectedContentsValueExpression:getSelectedContentsValueExpression,
getPublicationSetValueExpression:getPublicationSetValueExpression,getErrorIssuesExistValueExpression:getErrorIssuesExistValueExpression,getNextStateValueExpression:getNextStateValueExpression,getNotesValueExpression:getNotesValueExpression,isApplyButtonDisabled:isApplyButtonDisabled,getStatePanelTitleValueExpression:getStatePanelTitleValueExpression,getRetrieveIssuesForSessionUserVE:getRetrieveIssuesForSessionUserVE,registerProcessTaskOperationExitFunctions:registerProcessTaskOperationExitFunctions,
beforeDestroy:beforeDestroy,statics:{PUBLICATION_SET_PANEL_ITEM_ID:"publicationDetailSetPanel"},requires:["com.coremedia.cap.common.SESSION","com.coremedia.cap.content.Content","com.coremedia.cap.workflow.ProcessPropertyNames","com.coremedia.cap.workflow.Task","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.workflow.WorkflowForm","com.coremedia.collaboration.controlroom.rest.PublicationSetIssuesService","com.coremedia.ui.data.ValueExpressionFactory",
"com.coremedia.ui.util.ObjectUtils"],uses:["com.coremedia.cms.editor.controlroom.workflow.InboxDetailPanelWrapper","com.coremedia.cms.editor.controlroom.workflow.components.WorkflowSetPanel","com.coremedia.cms.editor.controlroom.workflow.publication.ExtendedWorkflowUtils","com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.publication.TwoStepPublicationPanel",function(TwoStepPublicationPanel){function TwoStepPublicationPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.publication.TwoStepPublicationPanelBase,{});var defaults_$1=AS3.cast(TwoStepPublicationPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var ui_BoundRadioGroup_29_5_$1=AS3.cast(com.coremedia.ui.components.BoundRadioGroup,
{});ui_BoundRadioGroup_29_5_$1.columns=1;AS3.setBindable(ui_BoundRadioGroup_29_5_$1,"bindTo",this.getNextStateValueExpression());var radio_32_9_$1=AS3.cast(Ext.form.field.Radio,{});radio_32_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.COMPOSE_TASK_NAME);radio_32_9_$1.hideLabel=true;var ui_BindPropertyPlugin_35_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_35_13_$1.bindTo=this.getComposeLabelValueExpression();
ui_BindPropertyPlugin_35_13_$1.componentProperty="boxLabel";var ui_BindPropertyPlugin_37_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_37_13_$1.bindTo=this.getComposeDisabledValueExpression();ui_BindPropertyPlugin_37_13_$1.componentProperty="disabled";radio_32_9_$1.plugins=[ui_BindPropertyPlugin_35_13_$1,ui_BindPropertyPlugin_37_13_$1];var ui_IconDisplayField_41_9_$1=AS3.cast(com.coremedia.ui.components.IconDisplayField,{});ui_IconDisplayField_41_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.DisplayFieldSkin.INFO.getSkin());
AS3.setBindable(ui_IconDisplayField_41_9_$1,"margin","0 0 0 -1");var ui_BindPropertyPlugin_44_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_44_13_$1.bindTo=this.getComposeApproveArrowValueExpression();ui_BindPropertyPlugin_44_13_$1.componentProperty="iconCls";ui_IconDisplayField_41_9_$1.plugins=[ui_BindPropertyPlugin_44_13_$1];var radio_48_9_$1=AS3.cast(Ext.form.field.Radio,{});radio_48_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.APPROVE_TASK_NAME);
radio_48_9_$1.hideLabel=true;var ui_BindPropertyPlugin_51_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_51_13_$1.bindTo=this.getApproveLabelValueExpression();ui_BindPropertyPlugin_51_13_$1.componentProperty="boxLabel";var ui_BindPropertyPlugin_53_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_53_13_$1.bindTo=this.getApproveDisabledValueExpression();ui_BindPropertyPlugin_53_13_$1.componentProperty="disabled";radio_48_9_$1.plugins=
[ui_BindPropertyPlugin_51_13_$1,ui_BindPropertyPlugin_53_13_$1];var ui_IconDisplayField_57_9_$1=AS3.cast(com.coremedia.ui.components.IconDisplayField,{});ui_IconDisplayField_57_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.DisplayFieldSkin.INFO.getSkin());AS3.setBindable(ui_IconDisplayField_57_9_$1,"margin","0 0 0 -1");AS3.setBindable(ui_IconDisplayField_57_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(com.coremedia.icons.CoreIcons_properties.INSTANCE.prioritize_down));var radio_60_9_$1=
AS3.cast(Ext.form.field.Radio,{});radio_60_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.PUBLISH_TASK_NAME);radio_60_9_$1.hideLabel=true;var ui_BindPropertyPlugin_63_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_63_13_$1.bindTo=this.getPublishLabelValueExpression();ui_BindPropertyPlugin_63_13_$1.componentProperty="boxLabel";var ui_BindPropertyPlugin_65_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,
{});ui_BindPropertyPlugin_65_13_$1.bindTo=this.getPublishDisabledValueExpression();ui_BindPropertyPlugin_65_13_$1.componentProperty="disabled";radio_60_9_$1.plugins=[ui_BindPropertyPlugin_63_13_$1,ui_BindPropertyPlugin_65_13_$1];ui_BoundRadioGroup_29_5_$1.items=[radio_32_9_$1,ui_IconDisplayField_41_9_$1,radio_48_9_$1,ui_IconDisplayField_57_9_$1,radio_60_9_$1];config_$1.items=[ui_BoundRadioGroup_29_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$_2Mx(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.workflow.publication.TwoStepPublicationPanelBase",
alias:"widget.com.coremedia.cms.editor.controlroom.config.twoStepPublicationPanel",constructor:TwoStepPublicationPanel$,super$_2Mx:function(){com.coremedia.cms.editor.controlroom.workflow.publication.TwoStepPublicationPanelBase.prototype.constructor.apply(this,arguments)},config:{nextStateValueExpression:null},requires:["Ext.form.field.Radio","com.coremedia.cms.editor.controlroom.workflow.publication.TwoStepPublicationPanelBase","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.components.BoundRadioGroup",
"com.coremedia.ui.components.IconDisplayField","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.skins.DisplayFieldSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.publication.DefaultPublicationWorkflowInfoFormBase",function(DefaultPublicationWorkflowInfoFormBase){function DefaultPublicationWorkflowInfoFormBase$(config){if(arguments.length<=0)config=null;this.super$EoKY(config)}function getContentsValueExpression(processValueExpression){return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var contents=[];var changeSet=processValueExpression.extendBy(com.coremedia.cms.editor.controlroom.workflow.publication.DefaultPublicationWorkflowInfoForm.TARGET_CONTENTS_PROPERTY_PATH).getValue()||
[];changeSet.forEach(function(changeSetItem){var content;if(AS3.is(changeSetItem,com.coremedia.cap.content.Content))content=AS3.as(changeSetItem,com.coremedia.cap.content.Content);else{var version=AS3.as(changeSetItem,com.coremedia.cap.content.Version);if(version)content=version.getContainingContent()}if(content&&contents.indexOf(content)===-1)contents.push(content)});return contents})}function getNotesValueExpression(bindTo){if(!this.notesValueExpression$EoKY)this.notesValueExpression$EoKY=bindTo.extendBy(com.coremedia.cap.workflow.ProcessPropertyNames.PROPERTIES,
com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.COMMENT_VARIABLE);return this.notesValueExpression$EoKY}return{extend:"com.coremedia.cms.editor.controlroom.workflow.WorkflowForm",notesValueExpression$EoKY:null,constructor:DefaultPublicationWorkflowInfoFormBase$,super$EoKY:function(){com.coremedia.cms.editor.controlroom.workflow.WorkflowForm.prototype.constructor.apply(this,arguments)},getContentsValueExpression:getContentsValueExpression,getNotesValueExpression:getNotesValueExpression,
requires:["com.coremedia.cap.content.Content","com.coremedia.cap.content.Version","com.coremedia.cap.workflow.ProcessPropertyNames","com.coremedia.cms.editor.controlroom.workflow.WorkflowForm","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.controlroom.workflow.publication.DefaultPublicationWorkflowInfoForm","com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.publication.StartPublicationWorkflowWindowBase",function(StartPublicationWorkflowWindowBase){var CLOSED_PROPERTY_NAME$static="closed";var USER_CHOSEN_CONTENTS_PROPERTY_NAME$static="userChosenContents";var PROCESS_DEFINITION_NAME_PROPERTY_NAME$static="processName";var REMOVE_EDITED_CONTENTS$static="publicationWorkflowRemoveEditedContents";function StartPublicationWorkflowWindowBase$(config){var this$=this;if(arguments.length<=0)config=null;
this.super$WFd$(config);if(AS3.getBindable(config,"availableProcessDefinitionNames").length===0)throw new AS3.Error("No availableProcessDefinitionNames configured for this workflow window.");this.getSelectedProcessDefinitionNameValueExpression().addChangeListener(AS3.bind(this,"updateLayout"));this.getRemoveEditedContentValueExpression().addChangeListener(AS3.bind(this,"updatePreferences$WFd$"));this.getEffectiveAssignedMembersVE().addChangeListener(AS3.bind(this,"getPublicationSetIssues"));this.proposeWorkflowSubject$WFd$(AS3.getBindable(config,
"defaultWorkflowName"));this.determineMyEditedContentDeletion$WFd$();var userChosenContents=AS3.getBindable(config,"contents")?AS3.getBindable(config,"contents"):[];this.getModel().set(USER_CHOSEN_CONTENTS_PROPERTY_NAME$static,userChosenContents);this.on("beforeclose",function(){this$.cleanup$WFd$();this$.setClosed(true)})}function proposeWorkflowSubject(defaultWorkflowName){var workflowName;if(defaultWorkflowName)workflowName=defaultWorkflowName;else{var currentDate=Ext.Date.format(new Date,this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"dateFormat"));workflowName=com.coremedia.cap.common.SESSION.getUser().getName()+" "+currentDate}this.getModel().set(com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.SUBJECT_VARIABLE,workflowName)}function determineMyEditedContentDeletion(){var preferences=com.coremedia.cms.editor.sdk.editorContext.getPreferences();var removeEditedContents=AS3.as(preferences.get(REMOVE_EDITED_CONTENTS$static),Boolean);if(removeEditedContents===null)removeEditedContents=true;this.getModel().set(REMOVE_EDITED_CONTENTS$static,
removeEditedContents)}function getPublicationSetValueExpression(){if(!this.publicationSetValueExpression$WFd$)this.publicationSetValueExpression$WFd$=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(undefined);return this.publicationSetValueExpression$WFd$}function startWorkflow(){var startWorkflowActionCfg=AS3.cast(com.coremedia.cms.editor.sdk.actions.StartWorkflowAction,{});AS3.setBindable(startWorkflowActionCfg,"processName",this.getSelectedProcessDefinitionNameValueExpression().getValue());
AS3.setBindable(startWorkflowActionCfg,"changeSetVariableName","changeSet");AS3.setBindable(startWorkflowActionCfg,"subjectVariableName",com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.SUBJECT_VARIABLE);AS3.setBindable(startWorkflowActionCfg,"commentVariableName",com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.COMMENT_VARIABLE);AS3.setBindable(startWorkflowActionCfg,"valueExpression",com.coremedia.ui.data.ValueExpressionFactory.create(null,
com.coremedia.ui.data.beanFactory.getRemoteBean("workflow")));AS3.setBindable(startWorkflowActionCfg,"restMethod","start");AS3.setBindable(startWorkflowActionCfg,"subjectValueExpression",this.getSubjectValueExpression());AS3.setBindable(startWorkflowActionCfg,"commentValueExpression",this.getNotesValueExpression());AS3.setBindable(startWorkflowActionCfg,"contentSet",this.getPublicationSetValueExpression().getValue());AS3.setBindable(startWorkflowActionCfg,"assignedMembers",this.isAssignableProcess()?
this.getAssignedMembersVE().getValue():[]);AS3.setBindable(startWorkflowActionCfg,"callback",invalidateCurrentContent$static);var startWFAction=new com.coremedia.cms.editor.sdk.actions.StartWorkflowAction(startWorkflowActionCfg);var userChosenContents=this.getModel().get(USER_CHOSEN_CONTENTS_PROPERTY_NAME$static);var removeEditedContents=this.getRemoveEditedContentValueExpression().getValue();if(removeEditedContents&&userChosenContents.length>0)com.coremedia.collaboration.controlroom.rest.CapListRepositoryImpl.getInstance().getEditedContents().removeItems(userChosenContents);
this.getPublicationSetValueExpression().setValue(null);this.cleanup$WFd$();startWFAction.execute();this.close()}function invalidateCurrentContent$static(){var task=new Ext.util.DelayedTask(function(){com.coremedia.cms.editor.controlroom.workflow.WorkflowUtils.invalidateWorkflowContentLockingForActivePremular()});task.delay(1E3)}function getStartButtonDisabledValueExpression(){var this$=this;return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var userChosenContents=this$.getModel().get(USER_CHOSEN_CONTENTS_PROPERTY_NAME$static);
var assignMembersPanelCmp=AS3.as(this$.down(com.coremedia.ui.util.createComponentSelector()._xtype(com.coremedia.cms.editor.controlroom.workflow.AssignMembersPanel.xtype).build()),com.coremedia.cms.editor.controlroom.workflow.AssignMembersPanel);return!userChosenContents||userChosenContents.length===0||!this$.getSubjectValueExpression().getValue()||this$.getSubjectValueExpression().getValue()===""||this$.getErrorIssuesExistValueExpression().getValue()||this$.getErrorIssuesExistValueExpression().getValue()===
undefined||this$.getPublicationSetValueExpression().getValue()===undefined||!assignMembersPanelCmp.isOfferMode()&&AS3.as(this$.getAssignedMembersVE().getValue(),Array).length===0})}function updatePreferences(){var removeEditedContents=this.getRemoveEditedContentValueExpression().getValue();var preferences=com.coremedia.cms.editor.sdk.editorContext.getPreferences();if(removeEditedContents!==preferences.get(REMOVE_EDITED_CONTENTS$static))preferences.set(REMOVE_EDITED_CONTENTS$static,removeEditedContents)}
function getClosed(){return this.closed$WFd$}function setClosed(value){var oldValue=this.closed$WFd$;this.closed$WFd$=value;com.coremedia.ui.data.util.PropertyChangeEventUtil.fireEvent(this,CLOSED_PROPERTY_NAME$static,oldValue,value)}function getModel(){if(!this.model$WFd$)this.model$WFd$=com.coremedia.ui.data.beanFactory.createLocalBean({"userChosenContents":[]});return this.model$WFd$}function getWorkflowSetPanel(){return AS3.as(this.getComponent(StartPublicationWorkflowWindowBase.PUBLICATION_SET_PANEL_ITEM_ID),
com.coremedia.cms.editor.controlroom.workflow.components.WorkflowSetPanel)}function getPublicationSetIssues(callback,publicationSet){var this$=this;switch(arguments.length){case 0:callback=null;case 1:publicationSet=null}if(!this.getWorkflowSetPanel())return;var assignedMembers=this.getEffectiveAssignedMembersVE()?this.getEffectiveAssignedMembersVE().getValue():[com.coremedia.cap.common.SESSION.getUser()];var processName=this.getSelectedProcessDefinitionNameValueExpression()?this.getSelectedProcessDefinitionNameValueExpression().getValue():
null;publicationSet=publicationSet?publicationSet:this.publicationSetValueExpression$WFd$.getValue();com.coremedia.collaboration.controlroom.rest.PublicationSetIssuesService.loadPublicationSetIssues(publicationSet,assignedMembers,processName,function(publicationSetIssues){var workflowSetPanel=this$.getWorkflowSetPanel();var workflowSetPanelModel=workflowSetPanel?workflowSetPanel.getModel():null;if(!workflowSetPanelModel)return;if(!com.coremedia.ui.util.ObjectUtils.equal(publicationSetIssues,workflowSetPanelModel.get(workflowSetPanel.getWorkflowSetIssuesPropertyName())))workflowSetPanelModel.set(workflowSetPanel.getWorkflowSetIssuesPropertyName(),
publicationSetIssues);AS3.is(callback,Function)&&callback(publicationSetIssues)})}function getErrorIssuesExistValueExpression(){if(!this.errorIssuesValueExpression$WFd$)this.errorIssuesValueExpression$WFd$=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(false);return this.errorIssuesValueExpression$WFd$}function getRemoveEditedContentValueExpression(){return this.removeEditedContentValueExpression$WFd$||(this.removeEditedContentValueExpression$WFd$=com.coremedia.ui.data.ValueExpressionFactory.create(REMOVE_EDITED_CONTENTS$static,
this.getModel()))}function getSelectedProcessDefinitionNameValueExpression(){return this.selectedProcessDefinitionNameValueExpression$WFd$||(this.selectedProcessDefinitionNameValueExpression$WFd$=com.coremedia.ui.data.ValueExpressionFactory.create(PROCESS_DEFINITION_NAME_PROPERTY_NAME$static,this.getModel()))}function getSubjectValueExpression(){return this.subjectValueExpression$WFd$||(this.subjectValueExpression$WFd$=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.SUBJECT_VARIABLE,
this.getModel()))}function getNotesValueExpression(){return this.notesValueExpression$WFd$||(this.notesValueExpression$WFd$=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.COMMENT_VARIABLE,this.getModel()))}function isAssignableProcess(processName){if(arguments.length<=0)processName=null;if(processName)return com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.TWO_STEP_PUBLICATION_WORKFLOW_TYPE===
processName;else return com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.TWO_STEP_PUBLICATION_WORKFLOW_TYPE===this.getSelectedProcessDefinitionNameValueExpression().getValue()}function getAssignedMembersVE(){if(!this.assignedMembersVE$WFd$)this.assignedMembersVE$WFd$=com.coremedia.ui.data.ValueExpressionFactory.createFromValue([]);return this.assignedMembersVE$WFd$}function getEffectiveAssignedMembersVE(){var this$=this;if(!this.effectiveAssignedMembersVE$WFd$)this.effectiveAssignedMembersVE$WFd$=
com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var selectedProcessName=this$.getSelectedProcessDefinitionNameValueExpression().getValue();if(!selectedProcessName)return undefined;else if(selectedProcessName===com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.SIMPLE_PUBLICATION_WORKFLOW_TYPE)return[com.coremedia.cap.common.SESSION.getUser()];else return this$.getAssignedMembersVE().getValue()});return this.effectiveAssignedMembersVE$WFd$}
function cleanup(){this.getSelectedProcessDefinitionNameValueExpression().removeChangeListener(AS3.bind(this,"updateLayout"));this.getRemoveEditedContentValueExpression().removeChangeListener(AS3.bind(this,"updatePreferences$WFd$"));this.getEffectiveAssignedMembersVE().removeChangeListener(AS3.bind(this,"getPublicationSetIssues"))}return{extend:"com.coremedia.cms.editor.sdk.components.StudioDialog",metadata:{getClosed:["ProvideToExtChildren"]},publicationSetValueExpression$WFd$:null,subjectValueExpression$WFd$:null,
selectedProcessDefinitionNameValueExpression$WFd$:null,removeEditedContentValueExpression$WFd$:null,errorIssuesValueExpression$WFd$:null,notesValueExpression$WFd$:null,assignedMembersVE$WFd$:null,effectiveAssignedMembersVE$WFd$:null,closed$WFd$:false,model$WFd$:null,constructor:StartPublicationWorkflowWindowBase$,super$WFd$:function(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.constructor.apply(this,arguments)},proposeWorkflowSubject$WFd$:proposeWorkflowSubject,determineMyEditedContentDeletion$WFd$:determineMyEditedContentDeletion,
getPublicationSetValueExpression:getPublicationSetValueExpression,startWorkflow:startWorkflow,getStartButtonDisabledValueExpression:getStartButtonDisabledValueExpression,updatePreferences$WFd$:updatePreferences,getClosed:getClosed,setClosed:setClosed,getModel:getModel,getWorkflowSetPanel:getWorkflowSetPanel,getPublicationSetIssues:getPublicationSetIssues,getErrorIssuesExistValueExpression:getErrorIssuesExistValueExpression,getRemoveEditedContentValueExpression:getRemoveEditedContentValueExpression,
getSelectedProcessDefinitionNameValueExpression:getSelectedProcessDefinitionNameValueExpression,getSubjectValueExpression:getSubjectValueExpression,getNotesValueExpression:getNotesValueExpression,isAssignableProcess:isAssignableProcess,getAssignedMembersVE:getAssignedMembersVE,getEffectiveAssignedMembersVE:getEffectiveAssignedMembersVE,cleanup$WFd$:cleanup,statics:{PUBLICATION_SET_PANEL_ITEM_ID:"publicationSetPanel"},requires:["AS3.Error","Ext.Date","Ext.util.DelayedTask","com.coremedia.cap.common.SESSION",
"com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.actions.StartWorkflowAction","com.coremedia.cms.editor.sdk.components.StudioDialog","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.collaboration.controlroom.rest.CapListRepositoryImpl","com.coremedia.collaboration.controlroom.rest.PublicationSetIssuesService","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.beanFactory","com.coremedia.ui.data.util.PropertyChangeEventUtil","com.coremedia.ui.util.ObjectUtils",
"com.coremedia.ui.util.createComponentSelector"],uses:["com.coremedia.cms.editor.controlroom.workflow.AssignMembersPanel","com.coremedia.cms.editor.controlroom.workflow.WorkflowUtils","com.coremedia.cms.editor.controlroom.workflow.components.WorkflowSetPanel","com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.publication.ExtendedWorkflowUtils",function(ExtendedWorkflowUtils){function getExtendedContentsValueExpression$static(publicationSet,assignedMembers,callback){com.coremedia.collaboration.controlroom.rest.PublicationSetIssuesService.loadPublicationSetIssues(publicationSet,assignedMembers,null,function(publicationSetIssues){publicationSetIssues&&callback&&callback(ExtendedWorkflowUtils.getExtendedContents(publicationSetIssues))})}function getExtendedContents$static(publicationSetIssues){if(publicationSetIssues){var issues=
publicationSetIssues.getIssues(false);if(issues)for(var i=0;i<issues.length;i++){var issue=issues[i];if(issue.code===com.coremedia.collaboration.controlroom.rest.WorkflowSetIssues.INFO_CODE_EXTENDED_WORKFLOW)return issue.arguments[0]}}return[]}function checkInSelectedContentsAndUpdateChangeSet$static(task,workflowDetailPanel,callback){ExtendedWorkflowUtils.checkInAndUpdateChangeSet(task,workflowDetailPanel,false,callback)}function checkInSelectedAndExtendedContentsAndUpdateChangeSet$static(task,workflowDetailPanel,
callback){ExtendedWorkflowUtils.checkInAndUpdateChangeSet(task,workflowDetailPanel,true,callback)}function checkInAndUpdateChangeSet$static(task,workflowDetailPanel,includeExtendedContents,callback){if(task)task.load(function(){var process=task.getContainingProcess();process.load(function(){var contents=[];var publicationSet;var publicationWorkflowDetailForm=AS3.as(workflowDetailPanel,com.coremedia.cms.editor.controlroom.workflow.publication.DefaultPublicationWorkflowDetailForm);if(publicationWorkflowDetailForm){var publicationSetValueExpression=
publicationWorkflowDetailForm.getPublicationSetValueExpression();publicationSetValueExpression.loadValue(function(){publicationSet=publicationSetValueExpression.getValue();if(publicationSet)publicationSet.load(function(){contents=contents.concat(publicationSet.getItems());if(includeExtendedContents)getExtendedContentsValueExpression$static(publicationSet,[com.coremedia.cap.common.SESSION.getUser()],function(extendedContents){contents=contents.concat(extendedContents);doCheckInAndUpdateChangeSet$static(contents,
process,callback,task,publicationSet)});else doCheckInAndUpdateChangeSet$static(contents,process,callback,task,publicationSet)})})}})})}function setProcessApprovedState$static(task,workflowDetailPanel,callback){if(task)task.load(function(){var process=task.getContainingProcess();process.load(function(){var publicationWorkflowDetailForm=AS3.as(workflowDetailPanel,com.coremedia.cms.editor.controlroom.workflow.publication.DefaultPublicationWorkflowDetailForm);if(publicationWorkflowDetailForm)if(publicationWorkflowDetailForm.getNextStateValueExpression().getValue()===
com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.COMPOSE_TASK_NAME){process.getProperties().set("approved",false);callback()}else if(publicationWorkflowDetailForm.getNextStateValueExpression().getValue()===com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.PUBLISH_TASK_NAME){process.getProperties().set("approved",true);callback()}})})}function doCheckInAndUpdateChangeSet$static(contents,process,callback,task,publicationSet){filterReadableContents$static(contents,
function(readableContents){if(readableContents.length>0){var changeSet=process.getProperties().get("changeSet");changeSet=removeContentsAndTheirVersionsFromChangeSet$static(changeSet,readableContents);var bulkCheckIn=new com.coremedia.cap.content.impl.BulkCheckInMethod(com.coremedia.cap.common.SESSION.getConnection().getContentRepository(),readableContents,function(bulkOperationResult){var errorOccured=false;bulkOperationResult.results.forEach(function(checkInResultItem){if(checkInResultItem.resultCode===
com.coremedia.cap.content.results.CheckInResultCodes.DOCUMENT_ALREADY_CHECKED_IN||checkInResultItem.resultCode===com.coremedia.cap.content.results.CheckInResultCodes.DOCUMENT_CHECKED_IN){changeSet.push(checkInResultItem.content);changeSet.push(checkInResultItem.version)}else if(checkInResultItem.resultCode===com.coremedia.cap.content.results.CheckInResultCodes.FOLDER_CANNOT_CHECK_IN)changeSet.push(checkInResultItem.content);else errorOccured=true});if(!errorOccured)if(equalLists$static(changeSet,
process.getProperties().get("changeSet")))callback();else{function waitForChangeSetUpdated(){task.getContainingProcess().invalidate(function(){if(equalLists$static(process.getProperties().get("changeSet"),changeSet)&&equalLists$static(contents,publicationSet.getItems()))callback();else{process.getProperties().set("changeSet",changeSet);com.coremedia.ui.util.EventUtil.invokeLater(waitForChangeSetUpdated)}})}waitForChangeSetUpdated();process.getProperties().set("changeSet",changeSet)}});bulkCheckIn.execute()}else callback()})}
function filterReadableContents$static(contents,callback){var readableContents=[];var execEvt=new com.coremedia.ui.util.ExecuteEventually(function(){callback(readableContents)});contents.forEach(function(content){execEvt.delay();content.load(function(){if(content.getState().readable)readableContents.push(content);execEvt.proceed()})});execEvt.proceed()}function removeContentsAndTheirVersionsFromChangeSet$static(changeSet,contents){var newChangeSet=[];changeSet.forEach(function(changeSetItem){if(AS3.is(changeSetItem,
com.coremedia.cap.content.Content)){if(contents.indexOf(changeSetItem)===-1)newChangeSet.push(changeSetItem)}else if(AS3.is(changeSetItem,com.coremedia.cap.content.Version)){var content=ExtendedWorkflowUtils.getContentForVersionByUriPath(AS3.as(changeSetItem,com.coremedia.cap.content.Version));if(contents.indexOf(content)===-1)newChangeSet.push(changeSetItem)}});return newChangeSet}function getContentForVersionByUriPath$static(version){var versionUriPath=version.getUriPath();var versionUriPathArcs=
versionUriPath.split("/");var contentUriPath=versionUriPathArcs[0]+"/"+versionUriPathArcs[1];return AS3.as(com.coremedia.ui.data.beanFactory.getRemoteBean(contentUriPath),com.coremedia.cap.content.Content)}function equalLists$static(list1,list2){if(list1.length!==list2.length)return false;for(var i=0;i<list1.length;i++)if(list2.indexOf(list1[i])===-1)return false;return true}function notifyWorkflowFinished$static(task,workflowDetailPanel,operationResult){task.load(function(){var process=task.getContainingProcess();
process.load(function(){if(operationResult.successful&&process.getDefinition().getName()===com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.TWO_STEP_PUBLICATION_WORKFLOW_TYPE&&process.getProperties().get("approved")){var notificationConfig=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.WorkflowFinishedNotification,{});AS3.setBindable(notificationConfig,"text",mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"WorkflowDetailPanelWrapper_workflow_completed"));AS3.setBindable(notificationConfig,"position","rb");AS3.setBindable(notificationConfig,"target",ExtendedWorkflowUtils.getCompletedNotificationTarget(workflowDetailPanel));var notification=new com.coremedia.cms.editor.controlroom.workflow.WorkflowFinishedNotification(notificationConfig);notification.show()}})})}function getCompletedNotificationTarget$static(workflowDetailPanel){var tabPanel=AS3.as(workflowDetailPanel.findParentByType(com.coremedia.cms.editor.controlroom.workflow.TabbedWorkflowPanel.xtype,
true),com.coremedia.cms.editor.controlroom.workflow.TabbedWorkflowPanel);var tabBar=tabPanel.getTabBar();return tabBar.getComponent(2).getId()}function ExtendedWorkflowUtils$(){}return{constructor:ExtendedWorkflowUtils$,statics:{getExtendedContents:getExtendedContents$static,checkInSelectedContentsAndUpdateChangeSet:checkInSelectedContentsAndUpdateChangeSet$static,checkInSelectedAndExtendedContentsAndUpdateChangeSet:checkInSelectedAndExtendedContentsAndUpdateChangeSet$static,checkInAndUpdateChangeSet:checkInAndUpdateChangeSet$static,
setProcessApprovedState:setProcessApprovedState$static,getContentForVersionByUriPath:getContentForVersionByUriPath$static,notifyWorkflowFinished:notifyWorkflowFinished$static,getCompletedNotificationTarget:getCompletedNotificationTarget$static},requires:["com.coremedia.cap.common.SESSION","com.coremedia.cap.content.Content","com.coremedia.cap.content.Version","com.coremedia.cap.content.impl.BulkCheckInMethod","com.coremedia.cap.content.results.CheckInResultCodes","com.coremedia.cms.editor.controlroom.ControlRoom_properties",
"com.coremedia.collaboration.controlroom.rest.PublicationSetIssuesService","com.coremedia.collaboration.controlroom.rest.WorkflowSetIssues","com.coremedia.ui.data.beanFactory","com.coremedia.ui.util.EventUtil","com.coremedia.ui.util.ExecuteEventually","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.controlroom.workflow.TabbedWorkflowPanel","com.coremedia.cms.editor.controlroom.workflow.WorkflowFinishedNotification","com.coremedia.cms.editor.controlroom.workflow.publication.DefaultPublicationWorkflowDetailForm",
"com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.publication.SimplePublicationPanel",function(SimplePublicationPanel){function SimplePublicationPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.panel.Panel,{});var defaults_$1=AS3.cast(SimplePublicationPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var radioGroup_21_5_$1=AS3.cast(Ext.form.RadioGroup,{});radioGroup_21_5_$1.columns=1;radioGroup_21_5_$1.name="stateSimple";var radio_24_9_$1=AS3.cast(Ext.form.field.Radio,
{});radio_24_9_$1.inputValue="Start";radio_24_9_$1.hideLabel=true;AS3.setBindable(radio_24_9_$1,"disabled",true);AS3.setBindable(radio_24_9_$1,"boxLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","Workflow_StudioSimplePublication_start")));var ui_IconDisplayField_28_9_$1=AS3.cast(com.coremedia.ui.components.IconDisplayField,{});ui_IconDisplayField_28_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.DisplayFieldSkin.INFO.getSkin());
AS3.setBindable(ui_IconDisplayField_28_9_$1,"margin","0 0 0 -1");AS3.setBindable(ui_IconDisplayField_28_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(com.coremedia.icons.CoreIcons_properties.INSTANCE.prioritize_down));var radio_31_9_$1=AS3.cast(Ext.form.field.Radio,{});radio_31_9_$1.inputValue="End";radio_31_9_$1.hideLabel=true;AS3.setBindable(radio_31_9_$1,"disabled",false);AS3.setBindable(radio_31_9_$1,"boxLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"Workflow_StudioSimplePublication_end")));radio_31_9_$1.checked=true;radioGroup_21_5_$1.items=[radio_24_9_$1,ui_IconDisplayField_28_9_$1,radio_31_9_$1];config_$1.items=[radioGroup_21_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$1On$(config_$1)}return{extend:"Ext.panel.Panel",alias:"widget.com.coremedia.cms.editor.controlroom.config.simplePublicationPanel",constructor:SimplePublicationPanel$,super$1On$:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},requires:["Ext.form.RadioGroup",
"Ext.form.field.Radio","Ext.panel.Panel","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.components.IconDisplayField","com.coremedia.ui.skins.DisplayFieldSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.publication.DefaultPublicationWorkflowDetailForm",function(DefaultPublicationWorkflowDetailForm){function DefaultPublicationWorkflowDetailForm$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.publication.DefaultPublicationWorkflowDetailFormBase,{});var defaults_$1=AS3.cast(DefaultPublicationWorkflowDetailForm,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var editor_PropertyFieldGroup_36_5_$1=
AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyFieldGroup,{});editor_PropertyFieldGroup_36_5_$1.header=false;editor_PropertyFieldGroup_36_5_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","WorkflowDetailPanel_workflowType_label"));editor_PropertyFieldGroup_36_5_$1.itemId="propertyFieldGroup";var collab_WorkflowDetailLabel_40_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.components.WorkflowDetailLabel,
{});AS3.setBindable(collab_WorkflowDetailLabel_40_9_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","WorkflowDetailPanel_workflowType_label")));collab_WorkflowDetailLabel_40_9_$1.labelSeparator=":";AS3.setBindable(collab_WorkflowDetailLabel_40_9_$1,"textValueExpression",com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var processDefinitionName=AS3.getBindable(config,"bindTo").extendBy(com.coremedia.cap.workflow.ProcessPropertyNames.DEFINITION,
com.coremedia.cap.common.CapTypePropertyNames.NAME).getValue();return com.coremedia.cms.editor.controlroom.workflow.WorkflowLocalizationUtils.getProcessDefinitionDisplayName(processDefinitionName)}));var collab_OwnerWorkflowDetailLabel_47_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.translation.OwnerWorkflowDetailLabel,{});collab_OwnerWorkflowDetailLabel_47_9_$1.labelSeparator=":";editor_PropertyFieldGroup_36_5_$1.items=[collab_WorkflowDetailLabel_40_9_$1,collab_OwnerWorkflowDetailLabel_47_9_$1];
var collab_WorkflowSetPanel_52_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.components.WorkflowSetPanel,{});collab_WorkflowSetPanel_52_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.controlroom.workflow.publication.DefaultPublicationWorkflowDetailFormBase.PUBLICATION_SET_PANEL_ITEM_ID);AS3.setBindable(collab_WorkflowSetPanel_52_5_$1,"selectedContentsValueExpression",this.getSelectedContentsValueExpression());AS3.setBindable(collab_WorkflowSetPanel_52_5_$1,"workflowSetValueExpression",
this.getPublicationSetValueExpression());collab_WorkflowSetPanel_52_5_$1.getIssuesFunction=AS3.bind(this,"getPublicationSetIssues");AS3.setBindable(collab_WorkflowSetPanel_52_5_$1,"errorIssuesExistValueExpression",this.getErrorIssuesExistValueExpression());AS3.setBindable(collab_WorkflowSetPanel_52_5_$1,"hideIssuesButton",!AS3.getBindable(config,"bindToTask"));var collab_AssignMembersPanel_60_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.AssignMembersPanel,{});collab_AssignMembersPanel_60_5_$1.itemId=
net.jangaroo.ext.Exml.asString(DefaultPublicationWorkflowDetailForm.ASSIGN_MEMBERS_PANEL_ITEM_ID);AS3.setBindable(collab_AssignMembersPanel_60_5_$1,"assignedMembersValueExpression",this.getAssignedMembersVE());var ui_BindVisibilityPlugin_63_9_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_63_9_$1.bindTo=this.getAssignMembersPanelVisibleVE();collab_AssignMembersPanel_60_5_$1.plugins=[ui_BindVisibilityPlugin_63_9_$1];var collab_WorkflowNotesPanel_67_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.components.WorkflowNotesPanel,
{});AS3.setBindable(collab_WorkflowNotesPanel_67_5_$1,"collapseNoText",true);AS3.setBindable(collab_WorkflowNotesPanel_67_5_$1,"notesValueExpression",this.getNotesValueExpression(AS3.getBindable(config,"bindTo")));var editor_CollapsiblePanel_70_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.CollapsiblePanel,{});editor_CollapsiblePanel_70_5_$1.itemId=net.jangaroo.ext.Exml.asString(DefaultPublicationWorkflowDetailForm.STATE_PANEL_ITEM_ID);editor_CollapsiblePanel_70_5_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"WorkflowDetailPanelWrapper_states_label"));AS3.setBindable(editor_CollapsiblePanel_70_5_$1,"minHeight",140);var ui_BindPropertyPlugin_74_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_74_9_$1.componentProperty="title";ui_BindPropertyPlugin_74_9_$1.bindTo=this.getStatePanelTitleValueExpression();editor_CollapsiblePanel_70_5_$1.plugins=[ui_BindPropertyPlugin_74_9_$1];editor_CollapsiblePanel_70_5_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var collab_TwoStepPublicationPanel_78_9_$1=
AS3.cast(com.coremedia.cms.editor.controlroom.workflow.publication.TwoStepPublicationPanel,{});collab_TwoStepPublicationPanel_78_9_$1.itemId=net.jangaroo.ext.Exml.asString(DefaultPublicationWorkflowDetailForm.TWO_STEP_PUBLICATION_STATE_PANEL_ITEM_ID);AS3.setBindable(collab_TwoStepPublicationPanel_78_9_$1,"taskValueExpression",AS3.getBindable(config,"bindToTask"));AS3.setBindable(collab_TwoStepPublicationPanel_78_9_$1,"defaultCurrentTaskName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.APPROVE_TASK_NAME));
AS3.setBindable(collab_TwoStepPublicationPanel_78_9_$1,"nextStateValueExpression",this.getNextStateValueExpression());editor_CollapsiblePanel_70_5_$1.items=[collab_TwoStepPublicationPanel_78_9_$1];config_$1.items=[editor_PropertyFieldGroup_36_5_$1,collab_WorkflowSetPanel_52_5_$1,collab_AssignMembersPanel_60_5_$1,collab_WorkflowNotesPanel_67_5_$1,editor_CollapsiblePanel_70_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$40aK(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.workflow.publication.DefaultPublicationWorkflowDetailFormBase",
alias:"widget.com.coremedia.cms.editor.controlroom.config.defaultPublicationWorkflowDetailForm",constructor:DefaultPublicationWorkflowDetailForm$,super$40aK:function(){com.coremedia.cms.editor.controlroom.workflow.publication.DefaultPublicationWorkflowDetailFormBase.prototype.constructor.apply(this,arguments)},statics:{STATE_PANEL_ITEM_ID:"statePanel",TWO_STEP_PUBLICATION_STATE_PANEL_ITEM_ID:"twoStepPublicationStatePanel",ASSIGN_MEMBERS_PANEL_ITEM_ID:"assignMembersPanelItemId"},requires:["com.coremedia.cap.common.CapTypePropertyNames",
"com.coremedia.cap.workflow.ProcessPropertyNames","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.workflow.publication.DefaultPublicationWorkflowDetailFormBase","com.coremedia.cms.editor.sdk.premular.CollapsiblePanel","com.coremedia.cms.editor.sdk.premular.PropertyFieldGroup","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.BindVisibilityPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.workflow.AssignMembersPanel",
"com.coremedia.cms.editor.controlroom.workflow.WorkflowLocalizationUtils","com.coremedia.cms.editor.controlroom.workflow.components.WorkflowDetailLabel","com.coremedia.cms.editor.controlroom.workflow.components.WorkflowNotesPanel","com.coremedia.cms.editor.controlroom.workflow.components.WorkflowSetPanel","com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants","com.coremedia.cms.editor.controlroom.workflow.publication.TwoStepPublicationPanel","com.coremedia.cms.editor.controlroom.workflow.translation.OwnerWorkflowDetailLabel"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.ProcessIconColumn",function(ProcessIconColumn){function ProcessIconColumn$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.columns.grid.IconColumn,{});var defaults_$1=AS3.cast(ProcessIconColumn,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.stateId="processIcon";config_$1.dataIndex="processDefinitionName";AS3.setBindable(config_$1,"width",25);net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$F1Sh(config_$1)}function calculateIconCls(value,metadata,record,rowIndex,colIndex,store){var data=Ext.apply({},record.data,record.getAssociatedData());var iconCls=this.resourceManager.getString("com.coremedia.icons.CoreIcons","workflow");if(data)if(data.accepted)iconCls=this.resourceManager.getString("com.coremedia.icons.CoreIcons","pencil");else if(data.escalated)iconCls=this.resourceManager.getString("com.coremedia.icons.CoreIcons","warning");else if(data.withWarning)iconCls=
this.resourceManager.getString("com.coremedia.icons.CoreIcons","warning");return iconCls}function calculateToolTipText(value,metadata,record,rowIndex,colIndex,store){return com.coremedia.cms.editor.controlroom.workflow.WorkflowLocalizationUtils.getProcessDefinitionDisplayName(value)}function calculateIconText(value,metadata,record,rowIndex,colIndex,store){return com.coremedia.cms.editor.controlroom.workflow.WorkflowLocalizationUtils.getProcessDefinitionDisplayName(value)}return{extend:"com.coremedia.cms.editor.sdk.columns.grid.IconColumn",
constructor:ProcessIconColumn$,super$F1Sh:function(){com.coremedia.cms.editor.sdk.columns.grid.IconColumn.prototype.constructor.apply(this,arguments)},calculateIconCls:calculateIconCls,calculateToolTipText:calculateToolTipText,calculateIconText:calculateIconText,requires:["Ext","com.coremedia.cms.editor.sdk.columns.grid.IconColumn","com.coremedia.icons.CoreIcons_properties","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.workflow.WorkflowLocalizationUtils"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.InboxTaskListPanelBase",function(InboxTaskListPanelBase){function InboxTaskListPanelBase$(config){var this$=this;if(arguments.length<=0)config=null;this.super$E6v$(config);AS3.getBindable(this,"taskListValueExpression").addChangeListener(AS3.bind(this,"checkIfDetailTaskExists$E6v$"));var listGrid=AS3.as(this.queryById(com.coremedia.cms.editor.controlroom.workflow.InboxTaskListPanel.WORKFLOW_LIST_ITEM_ID),Ext.grid.Panel);this.mon(listGrid.getSelectionModel(),
"selectionchange",AS3.bind(this,"onSelectionChange$E6v$"));this.mon(listGrid,"rowdblclick",AS3.bind(this,"handleClickGridPanel$E6v$"));this.mon(listGrid,"cellclick",function(self,td,cellIndex,record,tr,rowIndex,e,eOpts){if(e.position.column.xclass===Ext.getClassName(com.coremedia.cms.editor.controlroom.workflow.WorkflowDetailColumn)){listGrid.getSelectionModel().select(record);this$.switchToDetail()}});this.mon(listGrid,"cellmousedown",function(self,td,cellIndex,record,tr,rowIndex,e,eOpts){listGrid.getSelectionModel().select(record)})}
function checkIfDetailTaskExists(){var taskList=AS3.getBindable(this,"taskListValueExpression").getValue();var task=this.getSelectedTaskValueExpression().getValue();if(!task||!taskList||taskList.indexOf(task)===-1)this.switchToList()}function handleClickGridPanel(grid,record,tr,rowIndex,e){this.switchToDetail()}function onSelectionChange(selectionModel,selected){if(AS3.getBindable(this,"activeItemValueExpression").getValue()===com.coremedia.cms.editor.controlroom.workflow.InboxTaskListPanel.WORKFLOW_LIST_ITEM_ID){var beanRecord=
selected&&selected.length>0&&selected[0];beanRecord&&this.getSelectedTaskValueExpression().setValue(beanRecord.getBean())}}function switchToDetail(){AS3.getBindable(this,"activeItemValueExpression").setValue(com.coremedia.cms.editor.controlroom.workflow.InboxTaskListPanel.WORKFLOW_DETAIL_ITEM_ID)}function switchToList(){AS3.getBindable(this,"activeItemValueExpression").setValue(com.coremedia.cms.editor.controlroom.workflow.InboxTaskListPanel.WORKFLOW_LIST_ITEM_ID)}function getSelectedTaskValueExpression(){if(!this.taskValueExpression$E6v$)this.taskValueExpression$E6v$=
com.coremedia.ui.data.ValueExpressionFactory.createFromValue(undefined);return this.taskValueExpression$E6v$}function beforeDestroy(){AS3.getBindable(this,"taskListValueExpression").removeChangeListener(AS3.bind(this,"checkIfDetailTaskExists$E6v$"));Ext.panel.Panel.prototype.beforeDestroy.call(this)}return{extend:"Ext.panel.Panel",mixins:["com.coremedia.cms.editor.controlroom.workflow.SwitchingWorkflowContainer"],taskValueExpression$E6v$:null,constructor:InboxTaskListPanelBase$,super$E6v$:function(){Ext.panel.Panel.prototype.constructor.apply(this,
arguments)},checkIfDetailTaskExists$E6v$:checkIfDetailTaskExists,handleClickGridPanel$E6v$:handleClickGridPanel,onSelectionChange$E6v$:onSelectionChange,switchToDetail:switchToDetail,switchToList:switchToList,getSelectedTaskValueExpression:getSelectedTaskValueExpression,beforeDestroy:beforeDestroy,config:{activeItemValueExpression:null,taskListValueExpression:null},requires:["Ext","Ext.grid.Panel","Ext.panel.Panel","com.coremedia.cms.editor.controlroom.workflow.SwitchingWorkflowContainer","com.coremedia.ui.data.ValueExpressionFactory"],
uses:["com.coremedia.cms.editor.controlroom.workflow.InboxTaskListPanel","com.coremedia.cms.editor.controlroom.workflow.WorkflowDetailColumn"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.ProcessDefinitionChooserBase",function(ProcessDefinitionChooserBase){function ProcessDefinitionChooserBase$(config){if(arguments.length<=0)config=null;this.super$AhFT(config);AS3.getBindable(this,"selectedProcessDefinitionExpression").setValue(AS3.getBindable(config,"availableProcessDefinitions")[0]);this.on("select",AS3.bind(this,"handleSelect$AhFT"))}function createStoreData(availableProcessDefinitions){return availableProcessDefinitions.map(function(processDefinitionName){return{"id":processDefinitionName,
"displayName":com.coremedia.cms.editor.controlroom.workflow.WorkflowLocalizationUtils.getProcessDefinitionDisplayName(processDefinitionName)}})}function getState(){return{index:this.index$AhFT}}function applyState(state){this.index$AhFT=state.index;AS3.getBindable(this,"selectedProcessDefinitionExpression").setValue(AS3.getBindable(this,"availableProcessDefinitions")[state.index])}function handleSelect(combo,record){this.index$AhFT=record.store.indexOf(record)}return{extend:"com.coremedia.ui.components.LocalComboBox",
index$AhFT:0,constructor:ProcessDefinitionChooserBase$,super$AhFT:function(){com.coremedia.ui.components.LocalComboBox.prototype.constructor.apply(this,arguments)},createStoreData:createStoreData,getState:getState,applyState:applyState,handleSelect$AhFT:handleSelect,config:{selectedProcessDefinitionExpression:null,availableProcessDefinitions:null},requires:["com.coremedia.ui.components.LocalComboBox"],uses:["com.coremedia.cms.editor.controlroom.workflow.WorkflowLocalizationUtils"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.WorkflowNameColumn",function(WorkflowNameColumn){function WorkflowNameColumn$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.WorkflowNameColumnBase,{});var defaults_$1=AS3.cast(WorkflowNameColumn,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.stateId="workflowName";config_$1.header=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.columns.grid.GridColumns",
"name_header"));config_$1.dataIndex="name";config_$1.tpl=this.getXTemplate();net.jangaroo.ext.Exml.apply(config_$1,config);this.super$SDvJ(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.workflow.WorkflowNameColumnBase",constructor:WorkflowNameColumn$,super$SDvJ:function(){com.coremedia.cms.editor.controlroom.workflow.WorkflowNameColumnBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.controlroom.workflow.WorkflowNameColumnBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.AssignMembersPanel",function(AssignMembersPanel){function AssignMembersPanel$(config){if(arguments.length<=0)config=null;this.__initialize__$eAPj(config);var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.AssignMembersPanelBase,{});var defaults_$1=AS3.cast(AssignMembersPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"AssignMembersPanel_title"));AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","AssignMembersPanel_title"));AS3.setBindable(config_$1,"layout","auto");var ui_BoundRadioGroup_34_5_$1=AS3.cast(com.coremedia.ui.components.BoundRadioGroup,{});ui_BoundRadioGroup_34_5_$1.itemId=net.jangaroo.ext.Exml.asString(AssignMembersPanel.RADIO_GROUP_ITEM_ID);ui_BoundRadioGroup_34_5_$1.columns=1;ui_BoundRadioGroup_34_5_$1.hideLabel=true;ui_BoundRadioGroup_34_5_$1.name=
net.jangaroo.ext.Exml.asString(this.getRadioGroupName());ui_BoundRadioGroup_34_5_$1.toValue=com.coremedia.cms.editor.controlroom.workflow.AssignMembersPanelBase.transformIsModeOffer;ui_BoundRadioGroup_34_5_$1.defaultValue=com.coremedia.cms.editor.controlroom.workflow.AssignMembersPanelBase.RADIO_GROUP_OFFER;AS3.setBindable(ui_BoundRadioGroup_34_5_$1,"bindTo",this.getIsModeOfferVE());var radio_42_9_$1=AS3.cast(Ext.form.field.Radio,{});radio_42_9_$1.inputValue=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.controlroom.workflow.AssignMembersPanelBase.RADIO_GROUP_OFFER);
AS3.setBindable(radio_42_9_$1,"boxLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","SelectedMemberElement_offer")));radio_42_9_$1.hideLabel=true;var radio_45_9_$1=AS3.cast(Ext.form.field.Radio,{});radio_45_9_$1.inputValue=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.controlroom.workflow.AssignMembersPanelBase.RADIO_GROUP_ASSIGNMENT);AS3.setBindable(radio_45_9_$1,"boxLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"SelectedMemberElement_assign")));radio_45_9_$1.hideLabel=true;ui_BoundRadioGroup_34_5_$1.items=[radio_42_9_$1,radio_45_9_$1];var ui_BindPropertyPlugin_50_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_50_9_$1.bindTo=this.getRadioGroupDisabledVE();ui_BindPropertyPlugin_50_9_$1.componentProperty="disabled";ui_BoundRadioGroup_34_5_$1.plugins=[ui_BindPropertyPlugin_50_9_$1];ui_BoundRadioGroup_34_5_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var editor_SelectMembersContainer_55_5_$1=
AS3.cast(com.coremedia.cms.editor.sdk.member.SelectMembersContainer,{});editor_SelectMembersContainer_55_5_$1.itemId=net.jangaroo.ext.Exml.asString(AssignMembersPanel.SELECT_MEMBERS_PANEL_ITEM_ID);AS3.setBindable(editor_SelectMembersContainer_55_5_$1,"margin","12 0 0 12");AS3.setBindable(editor_SelectMembersContainer_55_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","AssignMembersPanel_label")));AS3.setBindable(editor_SelectMembersContainer_55_5_$1,
"hideLabel",true);AS3.setBindable(editor_SelectMembersContainer_55_5_$1,"membersValueExpression",this.getSelectedMembersVE());AS3.setBindable(editor_SelectMembersContainer_55_5_$1,"disabledValueExpression",this.getSelectMembersContainerDisabledVE());config_$1.items=[ui_BoundRadioGroup_34_5_$1,editor_SelectMembersContainer_55_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$eAPj(config_$1)}function __initialize__(config){this["initialConfig"]=config||{}}return{extend:"com.coremedia.cms.editor.controlroom.workflow.AssignMembersPanelBase",
alias:"widget.com.coremedia.cms.editor.controlroom.config.assignMembersPanel",constructor:AssignMembersPanel$,super$eAPj:function(){com.coremedia.cms.editor.controlroom.workflow.AssignMembersPanelBase.prototype.constructor.apply(this,arguments)},__initialize__$eAPj:__initialize__,statics:{RADIO_GROUP_ITEM_ID:"radioGroupItemId",SELECT_MEMBERS_PANEL_ITEM_ID:"selectMembersPanelItemId"},requires:["Ext.form.field.Radio","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.controlroom.ControlRoom_properties",
"com.coremedia.cms.editor.controlroom.workflow.AssignMembersPanelBase","com.coremedia.cms.editor.sdk.member.SelectMembersContainer","com.coremedia.ui.components.BoundRadioGroup","com.coremedia.ui.plugins.BindPropertyPlugin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.OpenWorkflowIssuesWindowButton",function(OpenWorkflowIssuesWindowButton){function OpenWorkflowIssuesWindowButton$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.OpenWorkflowIssuesWindowButtonBase,{});var defaults_$1=AS3.cast(OpenWorkflowIssuesWindowButton,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"OpenWorkflowIssuesWindow_btn_text"));config_$1.hasIssuesText=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","OpenWorkflowIssuesWindow_btn_errorMessage"));config_$1.hasNoIssuesText=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","OpenWorkflowIssuesWindow_btn_tooltip"));var ui_OpenDialogAction_24_5_$1=AS3.cast(com.coremedia.ui.actions.OpenDialogAction,{});AS3.setBindable(ui_OpenDialogAction_24_5_$1,
"toggleDialog",true);AS3.setBindable(ui_OpenDialogAction_24_5_$1,"useActionAsAnimationTarget",true);var collab_WorkflowIssuesWindow_27_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.WorkflowIssuesWindow,{});AS3.setBindable(collab_WorkflowIssuesWindow_27_9_$1,"issuesVE",AS3.getBindable(config,"issuesVE","DUMMY"));AS3.setBindable(collab_WorkflowIssuesWindow_27_9_$1,"cmOwnerCt",this);AS3.setBindable(ui_OpenDialogAction_24_5_$1,"dialog",collab_WorkflowIssuesWindow_27_9_$1);config_$1.baseAction=
new com.coremedia.ui.actions.OpenDialogAction(ui_OpenDialogAction_24_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$ngeO(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.workflow.OpenWorkflowIssuesWindowButtonBase",alias:"widget.com.coremedia.cms.editor.controlroom.config.openWorkflowIssuesWindowButton",constructor:OpenWorkflowIssuesWindowButton$,super$ngeO:function(){com.coremedia.cms.editor.controlroom.workflow.OpenWorkflowIssuesWindowButtonBase.prototype.constructor.apply(this,
arguments)},requires:["com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.workflow.OpenWorkflowIssuesWindowButtonBase","com.coremedia.ui.actions.OpenDialogAction","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.workflow.WorkflowIssuesWindow"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.components.StartPullTranslationButtonBase",function(StartPullTranslationButtonBase){function StartPullTranslationButtonBase$(config){if(arguments.length<=0)config=null;this.super$tMHo(config);this.on("afterrender",AS3.bind(this,"createLoadMask$tMHo"));this.on("click",AS3.bind(this,"registerWorkflowStartedCallback$tMHo"))}function createLoadMask(){var el=this.getEl();if(el){var loadMaskCfg=AS3.cast(Ext.LoadMask,{});loadMaskCfg.msg="";loadMaskCfg.target=
this;this.loadMask$tMHo=new Ext.LoadMask(loadMaskCfg);this.loadMask$tMHo.disable()}}function registerWorkflowStartedCallback(){this.enableLoadMask$tMHo();var action=AS3.as(this.baseAction,com.coremedia.cms.editor.controlroom.actions.StartPullTranslationWorkflowAction);action&&action.registerFinallyCallback(AS3.bind(this,"disableLoadMask$tMHo"))}function enableLoadMask(){if(this.loadMask$tMHo){this.loadMask$tMHo.enable();this.loadMask$tMHo.show()}}function disableLoadMask(){if(this.loadMask$tMHo){this.loadMask$tMHo.disable();
this.loadMask$tMHo.hide()}}function onDestroy(){com.coremedia.ui.components.IconButton.prototype.onDestroy.call(this);if(this.loadMask$tMHo)this.loadMask$tMHo.destroy()}return{extend:"com.coremedia.ui.components.IconButton",loadMask$tMHo:null,constructor:StartPullTranslationButtonBase$,super$tMHo:function(){com.coremedia.ui.components.IconButton.prototype.constructor.apply(this,arguments)},createLoadMask$tMHo:createLoadMask,registerWorkflowStartedCallback$tMHo:registerWorkflowStartedCallback,enableLoadMask$tMHo:enableLoadMask,
disableLoadMask$tMHo:disableLoadMask,onDestroy:onDestroy,requires:["Ext.LoadMask","com.coremedia.ui.components.IconButton"],uses:["com.coremedia.cms.editor.controlroom.actions.StartPullTranslationWorkflowAction"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.components.WorkflowNotesPanelBase",function(WorkflowNotesPanelBase){function WorkflowNotesPanelBase$(config){if(arguments.length<=0)config=null;this.super$dgKO(config);this.collapseNoText$dgKO=AS3.getBindable(config,"collapseNoText");AS3.setBindable(this,"notesValueExpression",AS3.getBindable(config,"notesValueExpression"));this.on("afterlayout",AS3.bind(this,"onAfterLayout"),null,{single:true})}function onAfterLayout(){if(AS3.getBindable(this,
"notesValueExpression")&&this.collapseNoText$dgKO)AS3.getBindable(this,"notesValueExpression").loadValue(AS3.bind(this,"collapseIfNoText$dgKO"))}function collapseIfNoText(){var this$=this;com.coremedia.ui.util.EventUtil.invokeLater(function(){if(this$.getEl()){var hasText=AS3.getBindable(this$,"notesValueExpression")&&AS3.getBindable(this$,"notesValueExpression").getValue()&&AS3.getBindable(this$,"notesValueExpression").getValue()!=="";if(hasText)this$.expand();else this$.collapse()}})}function onDestroy(){com.coremedia.cms.editor.sdk.premular.CollapsiblePanel.prototype.onDestroy.call(this);
if(AS3.getBindable(this,"notesValueExpression"))AS3.getBindable(this,"notesValueExpression").removeChangeListener(AS3.bind(this,"collapseIfNoText$dgKO"))}return{extend:"com.coremedia.cms.editor.sdk.premular.CollapsiblePanel",collapseNoText$dgKO:false,constructor:WorkflowNotesPanelBase$,super$dgKO:function(){com.coremedia.cms.editor.sdk.premular.CollapsiblePanel.prototype.constructor.apply(this,arguments)},onAfterLayout:onAfterLayout,collapseIfNoText$dgKO:collapseIfNoText,onDestroy:onDestroy,config:{notesValueExpression:null},
requires:["com.coremedia.cms.editor.sdk.premular.CollapsiblePanel","com.coremedia.ui.util.EventUtil"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.components.RemoveEditedContentsCheckbox",function(RemoveEditedContentsCheckbox){function RemoveEditedContentsCheckbox$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.form.field.Checkbox,{});var defaults_$1=AS3.cast(RemoveEditedContentsCheckbox,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.itemId=net.jangaroo.ext.Exml.asString(RemoveEditedContentsCheckbox.REMOVE_EDITED_CONTENTS_ITEM_ID);config_$1.hideLabel=
true;AS3.setBindable(config_$1,"boxLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","StartWorkflowWindow_removeEditedContents_box_label")));var ui_BindPropertyPlugin_28_5_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_28_5_$1.bindTo=AS3.getBindable(config,"removeEditedContentsValueExpression");ui_BindPropertyPlugin_28_5_$1.componentProperty="value";ui_BindPropertyPlugin_28_5_$1.bidirectional=
true;config_$1.plugins=[ui_BindPropertyPlugin_28_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$mNDl(config_$1)}return{extend:"Ext.form.field.Checkbox",alias:"widget.com.coremedia.cms.editor.controlroom.config.removeEditedContentsCheckbox",constructor:RemoveEditedContentsCheckbox$,super$mNDl:function(){Ext.form.field.Checkbox.prototype.constructor.apply(this,arguments)},config:{removeEditedContentsValueExpression:null},statics:{REMOVE_EDITED_CONTENTS_ITEM_ID:"removeEditedContents"},
requires:["Ext.form.field.Checkbox","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.ui.plugins.BindPropertyPlugin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.components.GlobalStartPublicationButton",function(GlobalStartPublicationButton){function GlobalStartPublicationButton$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});var defaults_$1=AS3.cast(GlobalStartPublicationButton,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var collab_GlobalShowStartPublicationWorkflowWindowAction_24_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.actions.GlobalShowStartPublicationWorkflowWindowAction,
{});config_$1.baseAction=new com.coremedia.cms.editor.controlroom.actions.GlobalShowStartPublicationWorkflowWindowAction(collab_GlobalShowStartPublicationWorkflowWindowAction_24_5_$1);var ui_BadgePlugin_27_5_$1=AS3.cast(com.coremedia.ui.plugins.BadgePlugin,{});ui_BadgePlugin_27_5_$1.bindTo=this.getEditedContentVE();ui_BadgePlugin_27_5_$1.maxValue=99;ui_BadgePlugin_27_5_$1.x=2;ui_BadgePlugin_27_5_$1.y=-6;var ui_BEMPlugin_31_5_$1=AS3.cast(com.coremedia.ui.plugins.BEMPlugin,{});AS3.setBindable(ui_BEMPlugin_31_5_$1,
"block","cm-publication-button");config_$1.plugins=[ui_BadgePlugin_27_5_$1,ui_BEMPlugin_31_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$wgf4(config_$1)}function getEditedContentVE(){return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var capListRepository=com.coremedia.collaboration.controlroom.rest.CapListRepositoryImpl.getInstance();return capListRepository?capListRepository.getEditedContents().getItems():[]})}return{extend:"com.coremedia.ui.components.IconButton",
constructor:GlobalStartPublicationButton$,super$wgf4:function(){com.coremedia.ui.components.IconButton.prototype.constructor.apply(this,arguments)},getEditedContentVE:getEditedContentVE,requires:["com.coremedia.collaboration.controlroom.rest.CapListRepositoryImpl","com.coremedia.ui.components.IconButton","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.BEMPlugin","com.coremedia.ui.plugins.BadgePlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.actions.GlobalShowStartPublicationWorkflowWindowAction"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.components.WorkflowStatePanelBase",function(WorkflowStatePanelBase){function WorkflowStatePanelBase$(config){var this$=this;if(arguments.length<=0)config=null;this.processDefinitionName$jRb8=AS3.getBindable(config,"processDefinitionName");this.currentTaskNameExpression$jRb8=AS3.getBindable(config,"bindToTask").extendBy(com.coremedia.cap.workflow.TaskPropertyNames.DEFINITION,com.coremedia.cap.common.CapTypePropertyNames.NAME);this.persistentNextStepExpression$jRb8=
AS3.getBindable(config,"bindTo").extendBy(com.coremedia.cap.content.ContentPropertyNames.PROPERTIES,AS3.getBindable(config,"nextStepVariable"));this.possibleStepsByTaskMap$jRb8=createPossibleStepsMap$static(AS3.getBindable(config,"workflowStateTransitions"));this.defaultStepsByTaskMap$jRb8=createDefaultStepsMap$static(AS3.getBindable(config,"workflowStateTransitions"));this.selectedStepByTaskBean$jRb8=com.coremedia.ui.data.beanFactory.createLocalBean();this.currentTaskNameExpression$jRb8.addChangeListener(AS3.bind(this,
"selectFirstPossibleStepForCurrentTask$jRb8"));this.selectFirstPossibleStepForCurrentTask$jRb8();this.super$jRb8(AS3.cast(com.coremedia.ui.components.SwitchingContainer,Ext.apply({"activeItemValueExpression":com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this.currentTaskNameExpression$jRb8,"getValue"))},config)));this.setLazyItems(this.createRadioGroups$jRb8(AS3.getBindable(config,"forceReadOnlyValueExpression")));this.on("activeItem",function(){this$.selectFirstPossibleStepForCurrentTask$jRb8()});
this.registerProcessTaskOperationExitFunctions()}function createPossibleStepsMap$static(workflowStateTransitions){var stepTransitionsMap={};for(var i=0;i<workflowStateTransitions.length;i++){var workflowStepTransition=workflowStateTransitions[i];stepTransitionsMap[workflowStepTransition.task]=workflowStepTransition.nextSteps}return stepTransitionsMap}function createDefaultStepsMap$static(workflowStateTransitions){var stepTransitionsMap={};for(var i=0;i<workflowStateTransitions.length;i++){var workflowStepTransition=
workflowStateTransitions[i];stepTransitionsMap[workflowStepTransition.task]=workflowStepTransition.defaultStep}return stepTransitionsMap}function selectFirstPossibleStepForCurrentTask(){var currentTaskName=this.currentTaskNameExpression$jRb8.getValue();if(this.possibleStepsByTaskMap$jRb8[currentTaskName]&&Array(this.possibleStepsByTaskMap$jRb8[currentTaskName]).length>0){var possibleSteps=this.possibleStepsByTaskMap$jRb8[currentTaskName];var defaultStep=this.defaultStepsByTaskMap$jRb8[currentTaskName];
if(defaultStep&&possibleSteps.indexOf(defaultStep)!==-1)this.selectedStepByTaskBean$jRb8.set(currentTaskName,defaultStep);else this.selectedStepByTaskBean$jRb8.set(currentTaskName,possibleSteps[0])}else this.selectedStepByTaskBean$jRb8.set(currentTaskName,undefined)}function createRadioGroups(forceReadOnlyValueExpression){var radioGroups=[];for(var taskName in this.possibleStepsByTaskMap$jRb8){var radioGroupItems=[];var radioButtonName=this.getRadioButtonName$jRb8(taskName);radioGroupItems.push(this.createRadioButtonForTask$jRb8(radioButtonName,
taskName));radioGroupItems.push(createArrow$static());for(var i=0;i<this.possibleStepsByTaskMap$jRb8[taskName].length;i++){var step=this.possibleStepsByTaskMap$jRb8[taskName][i];radioGroupItems.push(this.createRadioButton$jRb8(radioButtonName,step,this.createDisabledExpressionForTask$jRb8(taskName,forceReadOnlyValueExpression)))}radioGroups.push(this.createRadioGroup$jRb8(taskName,radioGroupItems,com.coremedia.ui.data.ValueExpressionFactory.create(taskName,this.selectedStepByTaskBean$jRb8)))}return radioGroups}
function getRadioButtonName(taskName){return this.getId()+"_"+taskName}function createDisabledExpressionForTask(taskName,forceReadOnlyValueExpression){var this$=this;return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){return forceReadOnlyValueExpression&&forceReadOnlyValueExpression.getValue()&&taskName===this$.currentTaskNameExpression$jRb8.getValue()})}function createRadioButtonForTask(name,taskName){var radioCfg=AS3.cast(Ext.form.field.Radio,{});radioCfg.name=name;
radioCfg.inputValue=taskName;radioCfg.itemId=taskName;radioCfg.hideLabel=true;AS3.setBindable(radioCfg,"boxLabel",com.coremedia.cms.editor.controlroom.workflow.WorkflowLocalizationUtils.getWorkflowStateDisplayName(this.processDefinitionName$jRb8,taskName));AS3.setBindable(radioCfg,"disabled",true);return radioCfg}function createArrow$static(){var iconDisplayFieldCfg=AS3.cast(com.coremedia.ui.components.IconDisplayField,{});AS3.setBindable(iconDisplayFieldCfg,"iconCls",com.coremedia.icons.CoreIcons_properties.INSTANCE.prioritize_down);
iconDisplayFieldCfg.ui=com.coremedia.ui.skins.DisplayFieldSkin.INFO.getSkin();AS3.setBindable(iconDisplayFieldCfg,"margin","0 0 0 -2");return iconDisplayFieldCfg}function createRadioButton(name,step,offeredStepValueExpression){var radioCfg=AS3.cast(Ext.form.field.Radio,{});radioCfg.name=name;radioCfg.inputValue=step;radioCfg.itemId=step;radioCfg.hideLabel=true;AS3.setBindable(radioCfg,"boxLabel",com.coremedia.cms.editor.controlroom.workflow.WorkflowLocalizationUtils.getWorkflowStateDisplayName(this.processDefinitionName$jRb8,
step));var bindPropertyPluginCfg=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});bindPropertyPluginCfg.bindTo=offeredStepValueExpression;bindPropertyPluginCfg.componentProperty="disabled";radioCfg.plugins=[bindPropertyPluginCfg];return radioCfg}function createRadioGroup(taskName,items,nextStepExpression){var this$=this;var radioGroupCfg=AS3.cast(Ext.form.RadioGroup,{});radioGroupCfg.itemId=taskName;radioGroupCfg.columns=1;radioGroupCfg.items=items;var readFromCompCfg=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,
{});readFromCompCfg.bidirectional=true;readFromCompCfg.bindTo=nextStepExpression;readFromCompCfg.componentProperty="checked";readFromCompCfg.skipIfUndefined=true;readFromCompCfg.reverseTransformer=function(radios){var radio=radios&&radios.length>0&&radios[0];if(radio&&radio.up()){var groupValue=AS3.as(radio.up(),Ext.form.RadioGroup).getValue();return groupValue?groupValue[AS3.getBindable(radio,"name","DUMMY")]:null}else return undefined};var writeToCompCfg=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,
{});writeToCompCfg.bidirectional=false;writeToCompCfg.bindTo=nextStepExpression;writeToCompCfg.componentProperty="value";writeToCompCfg.skipIfUndefined=true;writeToCompCfg.transformer=function(step){var value={};value[this$.getRadioButtonName$jRb8(taskName)]=step;return value};radioGroupCfg.plugins=[readFromCompCfg,writeToCompCfg];return radioGroupCfg}function registerProcessTaskOperationExitFunctions(){var this$=this;var inboxDetailPanelWrapperCmp=AS3.as(this.findParentByType(com.coremedia.cms.editor.controlroom.workflow.InboxDetailPanelWrapper.xtype),
com.coremedia.cms.editor.controlroom.workflow.InboxDetailPanelWrapper);if(inboxDetailPanelWrapperCmp){var exitFunctions={};exitFunctions["*"]={"*":{complete:{before:[function(t,c,callback){this$.persistentNextStepExpression$jRb8.setValue(this$.selectedStepByTaskBean$jRb8.get(this$.currentTaskNameExpression$jRb8.getValue()));callback()}]}}};inboxDetailPanelWrapperCmp.registerProcessTaskOperationExitFunctions(exitFunctions)}}function beforeDestroy(){this.currentTaskNameExpression$jRb8.removeChangeListener(AS3.bind(this,
"selectFirstPossibleStepForCurrentTask$jRb8"));com.coremedia.ui.components.SwitchingContainer.prototype.beforeDestroy.call(this)}return{extend:"com.coremedia.ui.components.SwitchingContainer",processDefinitionName$jRb8:null,currentTaskNameExpression$jRb8:null,persistentNextStepExpression$jRb8:null,possibleStepsByTaskMap$jRb8:null,defaultStepsByTaskMap$jRb8:null,selectedStepByTaskBean$jRb8:null,constructor:WorkflowStatePanelBase$,super$jRb8:function(){com.coremedia.ui.components.SwitchingContainer.prototype.constructor.apply(this,
arguments)},selectFirstPossibleStepForCurrentTask$jRb8:selectFirstPossibleStepForCurrentTask,createRadioGroups$jRb8:createRadioGroups,getRadioButtonName$jRb8:getRadioButtonName,createDisabledExpressionForTask$jRb8:createDisabledExpressionForTask,createRadioButtonForTask$jRb8:createRadioButtonForTask,createRadioButton$jRb8:createRadioButton,createRadioGroup$jRb8:createRadioGroup,registerProcessTaskOperationExitFunctions:registerProcessTaskOperationExitFunctions,beforeDestroy:beforeDestroy,requires:["Ext",
"Ext.form.RadioGroup","Ext.form.field.Radio","com.coremedia.cap.common.CapTypePropertyNames","com.coremedia.cap.content.ContentPropertyNames","com.coremedia.cap.workflow.TaskPropertyNames","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.components.IconDisplayField","com.coremedia.ui.components.SwitchingContainer","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.beanFactory","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.skins.DisplayFieldSkin"],uses:["com.coremedia.cms.editor.controlroom.workflow.InboxDetailPanelWrapper",
"com.coremedia.cms.editor.controlroom.workflow.WorkflowLocalizationUtils"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.components.WorkflowSetPanel",function(WorkflowSetPanel){function WorkflowSetPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.components.WorkflowSetPanelBase,{});var defaults_$1=AS3.cast(WorkflowSetPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"minHeight",300);AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"StartWorkflowWindow_contentItems_label"));var collab_UserChosenContentGridPanel_85_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.components.UserChosenContentGridPanel,{});collab_UserChosenContentGridPanel_85_5_$1.itemId=net.jangaroo.ext.Exml.asString(WorkflowSetPanel.USER_CHOSEN_CONTENTS_ITEM_ID);collab_UserChosenContentGridPanel_85_5_$1.flex=3;AS3.setBindable(collab_UserChosenContentGridPanel_85_5_$1,"maxHeight",250);AS3.setBindable(collab_UserChosenContentGridPanel_85_5_$1,"expandFolders",
AS3.getBindable(config,"expandFolders"));AS3.setBindable(collab_UserChosenContentGridPanel_85_5_$1,"bindTo",AS3.getBindable(config,"selectedContentsValueExpression"));AS3.setBindable(collab_UserChosenContentGridPanel_85_5_$1,"hideIssuesButton",AS3.getBindable(config,"hideIssuesButton"));AS3.setBindable(collab_UserChosenContentGridPanel_85_5_$1,"issuesValueExpression",this.getWorkflowIssuesButtonIssuesValueExpression());AS3.setBindable(collab_UserChosenContentGridPanel_85_5_$1,"readOnlyValueExpression",
AS3.getBindable(config,"forceReadOnlyValueExpression"));AS3.setBindable(collab_UserChosenContentGridPanel_85_5_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));collab_UserChosenContentGridPanel_85_5_$1.emptyText=net.jangaroo.ext.Exml.asString(config.emptyText);AS3.setBindable(collab_UserChosenContentGridPanel_85_5_$1,"lazy",true);AS3.setBindable(collab_UserChosenContentGridPanel_85_5_$1,"initialViewLimit",30);AS3.setBindable(collab_UserChosenContentGridPanel_85_5_$1,
"viewLimitIncrement",30);var editor_CollapsiblePanel_98_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.CollapsiblePanel,{});AS3.setBindable(editor_CollapsiblePanel_98_5_$1,"collapsed",true);editor_CollapsiblePanel_98_5_$1.flex=4;editor_CollapsiblePanel_98_5_$1.itemId=net.jangaroo.ext.Exml.asString(WorkflowSetPanel.EXTENDED_CONTENTS_COLLAPSIBLE_ITEM_ID);AS3.setBindable(editor_CollapsiblePanel_98_5_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","StartWorkflowWindow_extendedChangeSetField_label"));
editor_CollapsiblePanel_98_5_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","StartWorkflowWindow_extendedChangeSetField_label"));var editor_ContentGridPanel_104_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.components.ContentGridPanel,{});editor_ContentGridPanel_104_9_$1.itemId=net.jangaroo.ext.Exml.asString(WorkflowSetPanel.EXTENDED_CONTENTS_ITEM_ID);editor_ContentGridPanel_104_9_$1.flex=1;AS3.setBindable(editor_ContentGridPanel_104_9_$1,
"scrollable",true);AS3.setBindable(editor_ContentGridPanel_104_9_$1,"maxHeight",250);AS3.setBindable(editor_ContentGridPanel_104_9_$1,"hideEmptyText",true);AS3.setBindable(editor_ContentGridPanel_104_9_$1,"bindTo",this.getExtendedContentsValueExpressionInternal(AS3.getBindable(config,"workflowSetValueExpression")));AS3.setBindable(editor_ContentGridPanel_104_9_$1,"lazy",true);AS3.setBindable(editor_ContentGridPanel_104_9_$1,"initialViewLimit",30);AS3.setBindable(editor_ContentGridPanel_104_9_$1,"viewLimitIncrement",
30);var editor_BindReadOnlyPlugin_114_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPlugin,{});AS3.setBindable(editor_BindReadOnlyPlugin_114_13_$1,"forceReadOnlyValueExpression",com.coremedia.ui.data.ValueExpressionFactory.createFromValue(true));editor_BindReadOnlyPlugin_114_13_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(undefined);var ui_BindSelectionPlugin_116_13_$1=AS3.cast(com.coremedia.ui.plugins.BindSelectionPlugin,{});AS3.setBindable(ui_BindSelectionPlugin_116_13_$1,
"selectedValues",this.getSelectedExtendedContentsValueExpression());editor_ContentGridPanel_104_9_$1.plugins=[editor_BindReadOnlyPlugin_114_13_$1,ui_BindSelectionPlugin_116_13_$1];editor_ContentGridPanel_104_9_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var menu_120_13_$1=AS3.cast(Ext.menu.Menu,{});menu_120_13_$1.plain=true;var menuItem_122_17_$1=AS3.cast(Ext.menu.Item,{});var editor_OpenInTabAction_124_21_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenInTabAction,{});AS3.setBindable(editor_OpenInTabAction_124_21_$1,
"contentVariableName",net.jangaroo.ext.Exml.asString(WorkflowSetPanel.SELECTED_ITEMS_VARIABLE_NAME));menuItem_122_17_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.OpenInTabAction(editor_OpenInTabAction_124_21_$1);var menuItem_128_17_$1=AS3.cast(Ext.menu.Item,{});var editor_ShowInRepositoryAction_130_21_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction,{});AS3.setBindable(editor_ShowInRepositoryAction_130_21_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(WorkflowSetPanel.SELECTED_ITEMS_VARIABLE_NAME));
menuItem_128_17_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction(editor_ShowInRepositoryAction_130_21_$1);var menuSeparator_134_17_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_136_17_$1=AS3.cast(Ext.menu.Item,{});var editor_CopyToClipboardAction_138_21_$1=AS3.cast(com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction,{});AS3.setBindable(editor_CopyToClipboardAction_138_21_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(WorkflowSetPanel.SELECTED_ITEMS_VARIABLE_NAME));
menuItem_136_17_$1.baseAction=new com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction(editor_CopyToClipboardAction_138_21_$1);var menuSeparator_142_17_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_144_17_$1=AS3.cast(Ext.menu.Item,{});var editor_CheckInAction_146_21_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.CheckInAction,{});AS3.setBindable(editor_CheckInAction_146_21_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(WorkflowSetPanel.SELECTED_ITEMS_VARIABLE_NAME));menuItem_144_17_$1.baseAction=
new com.coremedia.cms.editor.sdk.actions.CheckInAction(editor_CheckInAction_146_21_$1);var menuItem_150_17_$1=AS3.cast(Ext.menu.Item,{});var editor_RevertAction_152_21_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.RevertAction,{});AS3.setBindable(editor_RevertAction_152_21_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(WorkflowSetPanel.SELECTED_ITEMS_VARIABLE_NAME));menuItem_150_17_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.RevertAction(editor_RevertAction_152_21_$1);var menuItem_156_17_$1=
AS3.cast(Ext.menu.Item,{});var editor_ApproveAction_158_21_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ApproveAction,{});AS3.setBindable(editor_ApproveAction_158_21_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(WorkflowSetPanel.SELECTED_ITEMS_VARIABLE_NAME));menuItem_156_17_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.ApproveAction(editor_ApproveAction_158_21_$1);menu_120_13_$1.items=[menuItem_122_17_$1,menuItem_128_17_$1,menuSeparator_134_17_$1,menuItem_136_17_$1,menuSeparator_142_17_$1,
menuItem_144_17_$1,menuItem_150_17_$1,menuItem_156_17_$1];AS3.setBindable(editor_ContentGridPanel_104_9_$1,"contextMenu",menu_120_13_$1);editor_CollapsiblePanel_98_5_$1.items=[editor_ContentGridPanel_104_9_$1];var ui_BindPropertyPlugin_167_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_167_9_$1.bindTo=this.getAllIssuesValueExpression();ui_BindPropertyPlugin_167_9_$1.ifUndefined="true";ui_BindPropertyPlugin_167_9_$1.componentProperty="collapsed";ui_BindPropertyPlugin_167_9_$1.transformer=
AS3.bind(this,"expandOrCollapseDependentContent");editor_CollapsiblePanel_98_5_$1.plugins=[ui_BindPropertyPlugin_167_9_$1];var toolbar_173_9_$1=AS3.cast(Ext.toolbar.Toolbar,{});AS3.setBindable(toolbar_173_9_$1,"dock","bottom");toolbar_173_9_$1["focusableContainer"]=false;toolbar_173_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.EMBEDDED_FOOTER.getSkin());var layout_HBox_177_13_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_177_13_$1,"pack","end");
AS3.setBindable(toolbar_173_9_$1,"layout",layout_HBox_177_13_$1);var ui_IconDisplayField_180_13_$1=AS3.cast(com.coremedia.ui.components.IconDisplayField,{});ui_IconDisplayField_180_13_$1.itemId="helpIcon";AS3.setBindable(ui_IconDisplayField_180_13_$1,"iconPosition",net.jangaroo.ext.Exml.asString(com.coremedia.ui.components.IconDisplayField.ICON_POSITION_AFTER_VALUE));AS3.setBindable(ui_IconDisplayField_180_13_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons",
"help")));var ui_StatefulQuickTip_184_17_$1=AS3.cast(com.coremedia.ui.components.StatefulQuickTip,{});ui_StatefulQuickTip_184_17_$1.text=config.quickTipText;AS3.setBindable(ui_StatefulQuickTip_184_17_$1,"width",200);AS3.setBindable(ui_IconDisplayField_180_13_$1,"tooltip",ui_StatefulQuickTip_184_17_$1);toolbar_173_9_$1.items=[ui_IconDisplayField_180_13_$1];editor_CollapsiblePanel_98_5_$1.dockedItems=[toolbar_173_9_$1];var layout_VBox_193_9_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_193_9_$1,
"align","stretch");AS3.setBindable(editor_CollapsiblePanel_98_5_$1,"layout",layout_VBox_193_9_$1);config_$1.items=[collab_UserChosenContentGridPanel_85_5_$1,editor_CollapsiblePanel_98_5_$1];var layout_VBox_199_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_199_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_199_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Dcsc(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.workflow.components.WorkflowSetPanelBase",
alias:"widget.com.coremedia.cms.editor.controlroom.config.workflowSetPanel",constructor:WorkflowSetPanel$,super$Dcsc:function(){com.coremedia.cms.editor.controlroom.workflow.components.WorkflowSetPanelBase.prototype.constructor.apply(this,arguments)},emptyText:null,quickTipText:null,config:{selectedContentsValueExpression:null,workflowSetValueExpression:null,processNameValueExpression:null,errorIssuesExistValueExpression:null,forceReadOnlyValueExpression:null,expandFolders:false,hideIssuesButton:false},
statics:{USER_CHOSEN_CONTENTS_ITEM_ID:"userChosenContentsItemId",EXTENDED_CONTENTS_ITEM_ID:"extendedContentsItemId",EXTENDED_CONTENTS_COLLAPSIBLE_ITEM_ID:"extendedContentsCollapsibleItemId",SELECTED_ITEMS_VARIABLE_NAME:"selectedItems"},requires:["Ext.layout.container.HBox","Ext.layout.container.VBox","Ext.menu.Item","Ext.menu.Menu","Ext.menu.Separator","Ext.toolbar.Toolbar","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.workflow.components.WorkflowSetPanelBase",
"com.coremedia.cms.editor.sdk.actions.ApproveAction","com.coremedia.cms.editor.sdk.actions.CheckInAction","com.coremedia.cms.editor.sdk.actions.OpenInTabAction","com.coremedia.cms.editor.sdk.actions.RevertAction","com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction","com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction","com.coremedia.cms.editor.sdk.components.ContentGridPanel","com.coremedia.cms.editor.sdk.premular.CollapsiblePanel","com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPlugin",
"com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.components.IconDisplayField","com.coremedia.ui.components.StatefulQuickTip","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.BindSelectionPlugin","com.coremedia.ui.skins.ToolbarSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.workflow.components.UserChosenContentGridPanel"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.components.UserChosenContentGridPanel",function(UserChosenContentGridPanel){function UserChosenContentGridPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.components.UserChosenContentGridPanelBase,{});var defaults_$1=AS3.cast(UserChosenContentGridPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.collapsible=false;AS3.setBindable(config_$1,"scrollable",
true);var ui_BindSelectionPlugin_63_5_$1=AS3.cast(com.coremedia.ui.plugins.BindSelectionPlugin,{});AS3.setBindable(ui_BindSelectionPlugin_63_5_$1,"selectedValues",this.getSelectedValuesValueExpression());var editor_BindReadOnlyPlugin_64_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPlugin,{});AS3.setBindable(editor_BindReadOnlyPlugin_64_5_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));config_$1.plugins=[ui_BindSelectionPlugin_63_5_$1,
editor_BindReadOnlyPlugin_64_5_$1];config_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var toolbar_67_5_$1=AS3.cast(Ext.toolbar.Toolbar,{});toolbar_67_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.FIELD.getSkin());var ui_IconButton_69_9_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_69_9_$1.itemId=net.jangaroo.ext.Exml.asString(UserChosenContentGridPanel.DELETE_BUTTON_ITEM_ID);AS3.setBindable(ui_IconButton_69_9_$1,"handler",AS3.bind(this,"deleteContents"));
AS3.setBindable(ui_IconButton_69_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_deleteSelectedLinks_text")));AS3.setBindable(ui_IconButton_69_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_deleteSelectedLinks_icon")));AS3.setBindable(ui_IconButton_69_9_$1,"tooltip",this.resourceManager.getString("com.coremedia.cms.editor.sdk.actions.Actions",
"Action_deleteSelectedLinks_tooltip"));var ui_BindPropertyPlugin_75_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_75_13_$1.bindTo=this.getDeleteButtonDisabledValueExpression(AS3.getBindable(config,"forceReadOnlyValueExpression"));ui_BindPropertyPlugin_75_13_$1.componentProperty="disabled";var ui_BindVisibilityPlugin_78_13_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_78_13_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(AS3.getBindable(config,
"contentEditable")!==false);ui_IconButton_69_9_$1.plugins=[ui_BindPropertyPlugin_75_13_$1,ui_BindVisibilityPlugin_78_13_$1];var ui_IconButton_82_9_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_82_9_$1.itemId=net.jangaroo.ext.Exml.asString(UserChosenContentGridPanel.OPEN_BUTTON_ITEM_ID);var editor_OpenPremularAction_84_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenPremularAction,{});AS3.setBindable(editor_OpenPremularAction_84_13_$1,"premularConfigurationsValueExpression",
this.getPremularConfigurationsValueExpression());ui_IconButton_82_9_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.OpenPremularAction(editor_OpenPremularAction_84_13_$1);var tbSeparator_88_9_$1=AS3.cast(Ext.toolbar.Separator,{});tbSeparator_88_9_$1.itemId=net.jangaroo.ext.Exml.asString(UserChosenContentGridPanel.LINK_LIST_SEP_FIRST_ITEM_ID);var ui_IconButton_89_9_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_89_9_$1.itemId=net.jangaroo.ext.Exml.asString(UserChosenContentGridPanel.COPY_BUTTON_ITEM_ID);
var editor_CopyToClipboardAction_91_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction,{});AS3.setBindable(editor_CopyToClipboardAction_91_13_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(UserChosenContentGridPanel.SELECTED_ITEMS_VARIABLE_NAME));ui_IconButton_89_9_$1.baseAction=new com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction(editor_CopyToClipboardAction_91_13_$1);var ui_IconButton_94_9_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_94_9_$1.itemId=
net.jangaroo.ext.Exml.asString(UserChosenContentGridPanel.PASTE_BUTTON_ITEM_ID);AS3.setBindable(ui_IconButton_94_9_$1,"handler",AS3.bind(this,"pasteContents"));AS3.setBindable(ui_IconButton_94_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_pasteFromClipboard_icon")));AS3.setBindable(ui_IconButton_94_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.actions.Actions",
"Action_pasteFromClipboard_text")));AS3.setBindable(ui_IconButton_94_9_$1,"tooltip",this.resourceManager.getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_pasteFromClipboard_tooltip"));var ui_BindPropertyPlugin_100_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_100_13_$1.bindTo=this.getPasteButtonDisabledValueExpression(AS3.getBindable(config,"forceReadOnlyValueExpression"));ui_BindPropertyPlugin_100_13_$1.componentProperty="disabled";var ui_BindVisibilityPlugin_103_13_$1=
AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_103_13_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(AS3.getBindable(config,"contentEditable")!==false);ui_IconButton_94_9_$1.plugins=[ui_BindPropertyPlugin_100_13_$1,ui_BindVisibilityPlugin_103_13_$1];var tbFill_108_9_$1=AS3.cast(Ext.toolbar.Fill,{});var collab_OpenWorkflowIssuesWindowButton_109_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.OpenWorkflowIssuesWindowButton,{});
AS3.setBindable(collab_OpenWorkflowIssuesWindowButton_109_9_$1,"hidden",AS3.getBindable(config,"hideIssuesButton"));AS3.setBindable(collab_OpenWorkflowIssuesWindowButton_109_9_$1,"issuesVE",AS3.getBindable(config,"issuesValueExpression"));toolbar_67_5_$1.items=[ui_IconButton_69_9_$1,ui_IconButton_82_9_$1,tbSeparator_88_9_$1,ui_IconButton_89_9_$1,ui_IconButton_94_9_$1,tbFill_108_9_$1,collab_OpenWorkflowIssuesWindowButton_109_9_$1];config_$1.tbar=toolbar_67_5_$1;var menu_116_5_$1=AS3.cast(Ext.menu.Menu,
{});menu_116_5_$1.plain=true;var menuItem_118_9_$1=AS3.cast(Ext.menu.Item,{});var editor_OpenPremularAction_120_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenPremularAction,{});AS3.setBindable(editor_OpenPremularAction_120_13_$1,"premularConfigurationsValueExpression",this.getPremularConfigurationsValueExpression());menuItem_118_9_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.OpenPremularAction(editor_OpenPremularAction_120_13_$1);var menuItem_125_9_$1=AS3.cast(Ext.menu.Item,{});
var editor_ShowInRepositoryAction_127_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction,{});AS3.setBindable(editor_ShowInRepositoryAction_127_13_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(UserChosenContentGridPanel.SELECTED_ITEMS_VARIABLE_NAME));menuItem_125_9_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction(editor_ShowInRepositoryAction_127_13_$1);var menuSeparator_131_9_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_133_9_$1=AS3.cast(Ext.menu.Item,
{});var editor_CopyToClipboardAction_135_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction,{});AS3.setBindable(editor_CopyToClipboardAction_135_13_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(UserChosenContentGridPanel.SELECTED_ITEMS_VARIABLE_NAME));menuItem_133_9_$1.baseAction=new com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction(editor_CopyToClipboardAction_135_13_$1);var menuSeparator_139_9_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_141_9_$1=
AS3.cast(Ext.menu.Item,{});var editor_CheckInAction_143_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.CheckInAction,{});AS3.setBindable(editor_CheckInAction_143_13_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(UserChosenContentGridPanel.SELECTED_ITEMS_VARIABLE_NAME));menuItem_141_9_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.CheckInAction(editor_CheckInAction_143_13_$1);var menuItem_147_9_$1=AS3.cast(Ext.menu.Item,{});var editor_RevertAction_149_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.RevertAction,
{});AS3.setBindable(editor_RevertAction_149_13_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(UserChosenContentGridPanel.SELECTED_ITEMS_VARIABLE_NAME));menuItem_147_9_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.RevertAction(editor_RevertAction_149_13_$1);var menuItem_153_9_$1=AS3.cast(Ext.menu.Item,{});var editor_ApproveAction_155_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ApproveAction,{});AS3.setBindable(editor_ApproveAction_155_13_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(UserChosenContentGridPanel.SELECTED_ITEMS_VARIABLE_NAME));
menuItem_153_9_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.ApproveAction(editor_ApproveAction_155_13_$1);menu_116_5_$1.items=[menuItem_118_9_$1,menuItem_125_9_$1,menuSeparator_131_9_$1,menuItem_133_9_$1,menuSeparator_139_9_$1,menuItem_141_9_$1,menuItem_147_9_$1,menuItem_153_9_$1];AS3.setBindable(config_$1,"contextMenu",menu_116_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$JQBd(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.workflow.components.UserChosenContentGridPanelBase",
alias:"widget.com.coremedia.cms.editor.controlroom.config.userChosenContentGridPanel",constructor:UserChosenContentGridPanel$,super$JQBd:function(){com.coremedia.cms.editor.controlroom.workflow.components.UserChosenContentGridPanelBase.prototype.constructor.apply(this,arguments)},config:{issuesValueExpression:null,forceReadOnlyValueExpression:null,premularConfigurationsValueExpression:null,hideIssuesButton:false},statics:{SELECTED_ITEMS_VARIABLE_NAME:"selectedItems",CONTENT_GRID_PANEL_ITEM_ID:"contentGridPanel",
DELETE_BUTTON_ITEM_ID:"delete",OPEN_BUTTON_ITEM_ID:"openInTab",COPY_BUTTON_ITEM_ID:"copy",PASTE_BUTTON_ITEM_ID:"paste",LINK_LIST_SEP_FIRST_ITEM_ID:"GridPanelSepFirst"},requires:["Ext.menu.Item","Ext.menu.Menu","Ext.menu.Separator","Ext.toolbar.Fill","Ext.toolbar.Separator","Ext.toolbar.Toolbar","com.coremedia.cms.editor.controlroom.workflow.components.UserChosenContentGridPanelBase","com.coremedia.cms.editor.sdk.actions.Actions_properties","com.coremedia.cms.editor.sdk.actions.ApproveAction","com.coremedia.cms.editor.sdk.actions.CheckInAction",
"com.coremedia.cms.editor.sdk.actions.OpenPremularAction","com.coremedia.cms.editor.sdk.actions.RevertAction","com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction","com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction","com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPlugin","com.coremedia.ui.components.IconButton","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.BindSelectionPlugin","com.coremedia.ui.plugins.BindVisibilityPlugin",
"com.coremedia.ui.skins.ToolbarSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.workflow.OpenWorkflowIssuesWindowButton"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.components.WorkflowSetPanelBase",function(WorkflowSetPanelBase){function contentsToTrackForInvalidatingWorkflowIssues_(){this.contentsToTrackForInvalidatingWorkflowIssues$UgMN=[]}function WorkflowSetPanelBase$(config){if(arguments.length<=0)config=null;this.super$UgMN(config);contentsToTrackForInvalidatingWorkflowIssues_.call(this);this.errorIssuesExistValueExpression$UgMN=AS3.getBindable(config,"errorIssuesExistValueExpression");this.workflowSetValueExpression$UgMN=
AS3.getBindable(config,"workflowSetValueExpression");this.workflowName=config.workflowName;this.selectedContentsValueExpression$UgMN=AS3.getBindable(config,"selectedContentsValueExpression");this.selectedContentsValueExpression$UgMN.addChangeListener(AS3.bind(this,"updateWorkflowSet$UgMN"));this.updateWorkflowSet$UgMN();this.getErrorIssuesExistValueExpressionInternal$UgMN().addChangeListener(AS3.bind(this,"updateErrorIssuesValueExpression$UgMN"));this.updateErrorIssuesValueExpression$UgMN();this.getAllIssuesValueExpression().addChangeListener(AS3.bind(this,
"setupContentIssueListeners$UgMN"));this.selectedContentsValueExpression$UgMN.addChangeListener(AS3.bind(this,"setupContentIssueListeners$UgMN"));this.setupContentIssueListeners$UgMN();this.userChosenContentsGridPanel$UgMN=AS3.as(this.queryById(com.coremedia.cms.editor.controlroom.workflow.components.WorkflowSetPanel.USER_CHOSEN_CONTENTS_ITEM_ID),com.coremedia.cms.editor.controlroom.workflow.components.UserChosenContentGridPanel)}function getWorkflowSetIssuesPropertyName(){if(!this.workflowSetIssuesPropertyName$UgMN)this.workflowSetIssuesPropertyName$UgMN=
this.workflowName+"SetIssues";return this.workflowSetIssuesPropertyName$UgMN}function getModel(){if(!this.model$UgMN)this.model$UgMN=com.coremedia.ui.data.beanFactory.createLocalBean({"userChosenContents":[]});return this.model$UgMN}function getErrorIssuesExistValueExpressionInternal(){var this$=this;if(!this.errorIssuesExistValueExpressionInternal$UgMN)this.errorIssuesExistValueExpressionInternal$UgMN=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var errorIssuesExists=
undefined;var issues=this$.getAllIssuesValueExpression().getValue();if(issues)errorIssuesExists=issues.some(function(issue){return issue.severity===com.coremedia.ui.data.validation.Severity.ERROR});return errorIssuesExists});return this.errorIssuesExistValueExpressionInternal$UgMN}function updateErrorIssuesValueExpression(){this.errorIssuesExistValueExpression$UgMN.setValue(this.getErrorIssuesExistValueExpressionInternal$UgMN().getValue())}function getExtendedContentsValueExpressionInternal(workflowSetVE){var this$=
this;if(!this.extendedContentsValueExpression$UgMN)this.extendedContentsValueExpression$UgMN=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){if(!workflowSetVE.getValue())return[];else return this$.getExtendedContentsValueExpression().getValue()});return this.extendedContentsValueExpression$UgMN}function getExtendedContentsValueExpression(){var this$=this;return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var workflowSetIssues=this$.getModel().get(this$.getWorkflowSetIssuesPropertyName());
return com.coremedia.cms.editor.controlroom.workflow.publication.ExtendedWorkflowUtils.getExtendedContents(workflowSetIssues)})}function getSelectedExtendedContentsValueExpression(){if(!this.selectedExtendedContentsValueExpression$UgMN)this.selectedExtendedContentsValueExpression$UgMN=com.coremedia.ui.data.ValueExpressionFactory.createFromValue([]);return this.selectedExtendedContentsValueExpression$UgMN}function updateWorkflowSet(){var this$=this;var workflowSet=this.workflowSetValueExpression$UgMN.getValue();
if(workflowSet)workflowSet.load(function(){this$.doUpdateWorkflowSet$UgMN()});else this.doUpdateWorkflowSet$UgMN()}function doUpdateWorkflowSet(){var this$=this;var selectedContents=this.selectedContentsValueExpression$UgMN.getValue()||[];var workflowSetContents=this.workflowSetValueExpression$UgMN.getValue()?AS3.as(this.workflowSetValueExpression$UgMN.getValue(),com.coremedia.collaboration.controlroom.rest.CapList).getItems():undefined;if(!com.coremedia.ui.util.ObjectUtils.equal(selectedContents,
workflowSetContents))if(!this.workflowSetValueExpression$UgMN.getValue()){var capListRepository=com.coremedia.collaboration.controlroom.rest.CapListRepositoryImpl.getInstance();capListRepository.createWorkflowSet(null,selectedContents,function(capList){this$.workflowSetValueExpression$UgMN.setValue(capList);if(!this$.getModel().get(WorkflowSetPanelBase.WORKFLOW_SET_PROPERTY_NAME))this$.getModel().set(WorkflowSetPanelBase.WORKFLOW_SET_PROPERTY_NAME,this$.workflowSetValueExpression$UgMN.getValue());
this$.getModel().set(WorkflowSetPanelBase.WORKFLOW_SET_ISSUES_LOADING_PROPERTY_NAME,true);this$.getIssuesFunction&&this$.getIssuesFunction(function(workflowSetIssues){this$.getModel().set(WorkflowSetPanelBase.WORKFLOW_SET_ISSUES_LOADING_PROPERTY_NAME,false)})})}else{this.getModel().set(WorkflowSetPanelBase.WORKFLOW_SET_ISSUES_LOADING_PROPERTY_NAME,true);AS3.as(this.workflowSetValueExpression$UgMN.getValue(),com.coremedia.collaboration.controlroom.rest.CapList).setItems(selectedContents,function(){this$.invalidateWorkflowSetIssues$UgMN()})}}
function invalidateWorkflowSetIssues(){var this$=this;var workflowSetIssues=this.getModel().get(this.getWorkflowSetIssuesPropertyName());if(workflowSetIssues)this.getIssuesFunction&&this.getIssuesFunction(function(workflowSetIssues){this$.getModel().set(WorkflowSetPanelBase.WORKFLOW_SET_ISSUES_LOADING_PROPERTY_NAME,false)})}function expandOrCollapseDependentContent(){var issues=this.getAllIssuesValueExpression().getValue();if(issues)for(var $1=0;$1<issues.length;++$1){var issue=issues[$1];if(issue&&
issue.code==com.coremedia.collaboration.controlroom.rest.WorkflowSetIssues.INFO_CODE_EXTENDED_WORKFLOW)return false}return true}function setupContentIssueListeners(){var this$=this;this.contentsToTrackForInvalidatingWorkflowIssues$UgMN.forEach(function(content){content.removeValueChangeListener(AS3.bind(this$,"reloadWorkflowSetIssues$UgMN"))});this.contentsToTrackForInvalidatingWorkflowIssues$UgMN=(this.selectedContentsValueExpression$UgMN.getValue()||[]).concat([]);var issues=this.getAllIssuesValueExpression().getValue();
if(issues)issues.forEach(function(issue){if(issue.arguments[0]){var contents=AS3.as(issue.arguments[0],Array)||[];contents.forEach(function(content){if(this$.contentsToTrackForInvalidatingWorkflowIssues$UgMN.indexOf(content)===-1)this$.contentsToTrackForInvalidatingWorkflowIssues$UgMN.push(content)})}});this.contentsToTrackForInvalidatingWorkflowIssues$UgMN.forEach(function(content){content.addValueChangeListener(AS3.bind(this$,"reloadWorkflowSetIssues$UgMN"))})}function reloadWorkflowSetIssues(){this.reloadWorkflowSetIssuesCallCounter$UgMN++;
if(this.reloadWorkflowSetIssuesCallCounter$UgMN===1)this.reloadWorkflowSetIssuesIfCounterUnchanged$UgMN(this.reloadWorkflowSetIssuesCallCounter$UgMN)}function reloadWorkflowSetIssuesIfCounterUnchanged(counter){var this$=this;com.coremedia.ui.util.EventUtil.invokeLater(function(){if(counter===this$.reloadWorkflowSetIssuesCallCounter$UgMN){this$.reloadWorkflowSetIssuesCallCounter$UgMN=0;var workflowSetIssues=this$.getModel().get(this$.getWorkflowSetIssuesPropertyName());if(workflowSetIssues)this$.invalidateWorkflowSetIssues$UgMN()}else this$.reloadWorkflowSetIssuesIfCounterUnchanged$UgMN(this$.reloadWorkflowSetIssuesCallCounter$UgMN)})}
function getAllIssuesValueExpression(){var this$=this;return this.allWorkflowSetIssuesValueExpression$UgMN||(this.allWorkflowSetIssuesValueExpression$UgMN=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){if(!this$.getModel().get(WorkflowSetPanelBase.WORKFLOW_SET_ISSUES_LOADING_PROPERTY_NAME)){var workflowSetIssues=this$.getModel().get(this$.getWorkflowSetIssuesPropertyName());var issues;if(workflowSetIssues)issues=workflowSetIssues.getIssues(false)||[];var localIssues=this$.localIssuesValueExpression$UgMN?
this$.localIssuesValueExpression$UgMN.getValue():undefined;if(issues===undefined&&localIssues==undefined)return undefined;return(issues||[]).concat(localIssues||[])}else return undefined}))}function getWorkflowIssuesButtonIssuesValueExpression(){var this$=this;return this.worflowIssuesButtonIssuesValueExpression$UgMN||(this.worflowIssuesButtonIssuesValueExpression$UgMN=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var allIssues=this$.getAllIssuesValueExpression().getValue();
if(allIssues===undefined)return undefined;allIssues=allIssues||[];return allIssues.filter(function(issue){return issue.severity!==com.coremedia.ui.data.validation.Severity.INFO})}))}function onDestroy(){var this$=this;this.contentsToTrackForInvalidatingWorkflowIssues$UgMN.forEach(function(content){content.removeValueChangeListener(AS3.bind(this$,"reloadWorkflowSetIssues$UgMN"))});this.selectedContentsValueExpression$UgMN.removeChangeListener(AS3.bind(this,"updateWorkflowSet$UgMN"));this.getAllIssuesValueExpression().removeChangeListener(AS3.bind(this,
"setupContentIssueListeners$UgMN"));this.selectedContentsValueExpression$UgMN.removeChangeListener(AS3.bind(this,"setupContentIssueListeners$UgMN"));this.getErrorIssuesExistValueExpressionInternal$UgMN().removeChangeListener(AS3.bind(this,"updateErrorIssuesValueExpression$UgMN"));if(this.workflowSetValueExpression$UgMN.getValue())this.workflowSetValueExpression$UgMN.getValue().destroy();com.coremedia.cms.editor.sdk.premular.CollapsiblePanel.prototype.onDestroy.call(this)}return{extend:"com.coremedia.cms.editor.sdk.premular.CollapsiblePanel",
model$UgMN:null,workflowSetIssuesPropertyName$UgMN:null,workflowSetValueExpression$UgMN:null,workflowName:null,errorIssuesExistValueExpression$UgMN:null,errorIssuesExistValueExpressionInternal$UgMN:null,selectedContentsValueExpression$UgMN:null,extendedContentsValueExpression$UgMN:null,selectedExtendedContentsValueExpression$UgMN:null,allWorkflowSetIssuesValueExpression$UgMN:null,worflowIssuesButtonIssuesValueExpression$UgMN:null,reloadWorkflowSetIssuesCallCounter$UgMN:0,localIssuesValueExpression$UgMN:null,
userChosenContentsGridPanel$UgMN:null,getIssuesFunction:null,constructor:WorkflowSetPanelBase$,super$UgMN:function(){com.coremedia.cms.editor.sdk.premular.CollapsiblePanel.prototype.constructor.apply(this,arguments)},getWorkflowSetIssuesPropertyName:getWorkflowSetIssuesPropertyName,getModel:getModel,getErrorIssuesExistValueExpressionInternal$UgMN:getErrorIssuesExistValueExpressionInternal,updateErrorIssuesValueExpression$UgMN:updateErrorIssuesValueExpression,getExtendedContentsValueExpressionInternal:getExtendedContentsValueExpressionInternal,
getExtendedContentsValueExpression:getExtendedContentsValueExpression,getSelectedExtendedContentsValueExpression:getSelectedExtendedContentsValueExpression,updateWorkflowSet$UgMN:updateWorkflowSet,doUpdateWorkflowSet$UgMN:doUpdateWorkflowSet,invalidateWorkflowSetIssues$UgMN:invalidateWorkflowSetIssues,expandOrCollapseDependentContent:expandOrCollapseDependentContent,setupContentIssueListeners$UgMN:setupContentIssueListeners,reloadWorkflowSetIssues$UgMN:reloadWorkflowSetIssues,reloadWorkflowSetIssuesIfCounterUnchanged$UgMN:reloadWorkflowSetIssuesIfCounterUnchanged,
getAllIssuesValueExpression:getAllIssuesValueExpression,getWorkflowIssuesButtonIssuesValueExpression:getWorkflowIssuesButtonIssuesValueExpression,onDestroy:onDestroy,statics:{WORKFLOW_SET_ISSUES_LOADING_PROPERTY_NAME:"workflowSetIssuesLoading",WORKFLOW_SET_PROPERTY_NAME:"workflowSet"},requires:["com.coremedia.cms.editor.sdk.premular.CollapsiblePanel","com.coremedia.collaboration.controlroom.rest.CapList","com.coremedia.collaboration.controlroom.rest.CapListRepositoryImpl","com.coremedia.collaboration.controlroom.rest.WorkflowSetIssues",
"com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.beanFactory","com.coremedia.ui.data.validation.Severity","com.coremedia.ui.util.EventUtil","com.coremedia.ui.util.ObjectUtils"],uses:["com.coremedia.cms.editor.controlroom.workflow.components.UserChosenContentGridPanel","com.coremedia.cms.editor.controlroom.workflow.components.WorkflowSetPanel","com.coremedia.cms.editor.controlroom.workflow.publication.ExtendedWorkflowUtils"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.components.WorkflowNameField",function(WorkflowNameField){function WorkflowNameField$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.components.WorkflowNameFieldBase,{});var defaults_$1=AS3.cast(WorkflowNameField,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.selectOnFocus=true;config_$1.hideLabel=true;AS3.setBindable(config_$1,"emptyText",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"StartWorkflowWindow_workflowNameTextField_emptyText")));var ui_BindPropertyPlugin_23_5_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_23_5_$1.bindTo=AS3.getBindable(config,"workflowNameExpression");ui_BindPropertyPlugin_23_5_$1.componentProperty="value";ui_BindPropertyPlugin_23_5_$1.bidirectional=true;config_$1.plugins=[ui_BindPropertyPlugin_23_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$nyxB(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.workflow.components.WorkflowNameFieldBase",
alias:"widget.com.coremedia.cms.editor.controlroom.config.workflowNameField",constructor:WorkflowNameField$,super$nyxB:function(){com.coremedia.cms.editor.controlroom.workflow.components.WorkflowNameFieldBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.workflow.components.WorkflowNameFieldBase","com.coremedia.ui.plugins.BindPropertyPlugin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.components.UserChosenContentGridPanelBase",function(UserChosenContentGridPanelBase){function UserChosenContentGridPanelBase$(config){var this$=this;if(arguments.length<=0)config=null;this.forceReadOnlyValueExpression$Wr9O=AS3.getBindable(config,"forceReadOnlyValueExpression");this.super$Wr9O(config);this.on("afterrender",AS3.bind(this,"setupUserChosenContentsGridDropZone$Wr9O"));this.on("beforedestroy",function(){if(this$.dropZone$Wr9O)this$.dropZone$Wr9O.unreg()});
this.forceReadOnlyValueExpression$Wr9O&&this.forceReadOnlyValueExpression$Wr9O.addChangeListener(AS3.bind(this,"checkDropZoneDisabling$Wr9O"))}function setupUserChosenContentsGridDropZone(){var dropZoneConfig=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.components.UserChosenContentsGridDropZone,{ddGroup:"ContentLinkDD",allowFolders:AS3.getBindable(this,"allowFolders"),expandFolders:AS3.getBindable(this,"expandFolders")});this.dropZone$Wr9O=new com.coremedia.cms.editor.controlroom.workflow.components.UserChosenContentsGridDropZone(this.body,
dropZoneConfig,AS3.getBindable(this,"bindTo","DUMMY"));this.dropZone$Wr9O.addToGroup("ContentDD");this.checkDropZoneDisabling$Wr9O()}function checkDropZoneDisabling(){if(this.forceReadOnlyValueExpression$Wr9O&&this.forceReadOnlyValueExpression$Wr9O.getValue()||AS3.getBindable(this,"contentEditable")===false)this.dropZone$Wr9O&&this.dropZone$Wr9O.lock();else this.dropZone$Wr9O&&this.dropZone$Wr9O.unlock()}function getSelectedValuesValueExpression(){if(!this.selectedValuesValueExpression$Wr9O)this.selectedValuesValueExpression$Wr9O=
com.coremedia.ui.data.ValueExpressionFactory.createFromValue([]);return this.selectedValuesValueExpression$Wr9O}function getPremularConfigurationsValueExpression(){var this$=this;if(!this.premularConfigurationsValueExpression$Wr9O)this.premularConfigurationsValueExpression$Wr9O=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var selectedValues=this$.getSelectedValuesValueExpression().getValue();var initialPremularConfigurationsValueExpression=this$.initialConfig.premularConfigurationsValueExpression;
var result=[];if(initialPremularConfigurationsValueExpression){var initialPremularConfigurationArray=initialPremularConfigurationsValueExpression.getValue()||[];result=initialPremularConfigurationArray.filter(function(premularConfiguration){return selectedValues.indexOf(premularConfiguration.content)!==-1})}else result=selectedValues.map(function(content){return new com.coremedia.cms.editor.sdk.premular.PremularConfiguration(content)});return result});return this.premularConfigurationsValueExpression$Wr9O}
function pasteContents(){var contentsToPaste=com.coremedia.cms.editor.sdk.clipboard.Clipboard.getInstance().getContents();if(contentsToPaste){var newContentsToPaste=[];var userChosenContents=AS3.getBindable(this,"bindTo","DUMMY").getValue();contentsToPaste.forEach(function(content){if(userChosenContents.indexOf(content)===-1)newContentsToPaste.push(content)});AS3.getBindable(this,"bindTo","DUMMY").setValue(userChosenContents.concat(newContentsToPaste))}}function deleteContents(){var selectedContents=
this.getSelectedValuesValueExpression().getValue();var userChosenContents=AS3.getBindable(this,"bindTo","DUMMY").getValue();var newUserChosenContents=[];if(selectedContents){for(var i=0;i<=userChosenContents.length-1;i++)if(selectedContents.indexOf(userChosenContents[i])===-1)newUserChosenContents.push(userChosenContents[i]);AS3.getBindable(this,"bindTo","DUMMY").setValue(newUserChosenContents)}}function getDeleteButtonDisabledValueExpression(forceReadOnlyValueExpression){var this$=this;return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var selectedItems=
this$.getSelectedValuesValueExpression().getValue();return forceReadOnlyValueExpression&&forceReadOnlyValueExpression.getValue()||!selectedItems||selectedItems.length===0})}function getPasteButtonDisabledValueExpression(forceReadOnlyValueExpression){return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var contents=com.coremedia.cms.editor.sdk.clipboard.Clipboard.getInstance().getContents();return forceReadOnlyValueExpression&&forceReadOnlyValueExpression.getValue()||!contents||
contents.length===0})}function beforeDestroy(){this.forceReadOnlyValueExpression$Wr9O&&this.forceReadOnlyValueExpression$Wr9O.removeChangeListener(AS3.bind(this,"checkDropZoneDisabling$Wr9O"));com.coremedia.cms.editor.sdk.components.ContentGridPanel.prototype.beforeDestroy.call(this)}return{extend:"com.coremedia.cms.editor.sdk.components.ContentGridPanel",selectedValuesValueExpression$Wr9O:null,dropZone$Wr9O:null,forceReadOnlyValueExpression$Wr9O:null,premularConfigurationsValueExpression$Wr9O:null,
constructor:UserChosenContentGridPanelBase$,super$Wr9O:function(){com.coremedia.cms.editor.sdk.components.ContentGridPanel.prototype.constructor.apply(this,arguments)},setupUserChosenContentsGridDropZone$Wr9O:setupUserChosenContentsGridDropZone,checkDropZoneDisabling$Wr9O:checkDropZoneDisabling,getSelectedValuesValueExpression:getSelectedValuesValueExpression,getPremularConfigurationsValueExpression:getPremularConfigurationsValueExpression,pasteContents:pasteContents,deleteContents:deleteContents,
getDeleteButtonDisabledValueExpression:getDeleteButtonDisabledValueExpression,getPasteButtonDisabledValueExpression:getPasteButtonDisabledValueExpression,beforeDestroy:beforeDestroy,config:{allowFolders:true,expandFolders:false,contentEditable:true},requires:["com.coremedia.cms.editor.sdk.clipboard.Clipboard","com.coremedia.cms.editor.sdk.components.ContentGridPanel","com.coremedia.cms.editor.sdk.premular.PremularConfiguration","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.controlroom.workflow.components.UserChosenContentsGridDropZone"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.components.WorkflowDetailLabel",function(WorkflowDetailLabel){function WorkflowDetailLabel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.form.field.Display,{});var defaults_$1=AS3.cast(WorkflowDetailLabel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"fieldLabel","DUMMY")));config_$1.htmlEncode=true;var ui_BindPropertyPlugin_25_5_$1=
AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_25_5_$1.componentProperty="value";ui_BindPropertyPlugin_25_5_$1.bindTo=AS3.getBindable(config,"textValueExpression");ui_BindPropertyPlugin_25_5_$1.transformer=AS3.getBindable(config,"transformer");config_$1.plugins=[ui_BindPropertyPlugin_25_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$qyE$(config_$1)}return{extend:"Ext.form.field.Display",alias:"widget.com.coremedia.cms.editor.controlroom.config.workflowDetailLabel",
constructor:WorkflowDetailLabel$,super$qyE$:function(){Ext.form.field.Display.prototype.constructor.apply(this,arguments)},config:{textValueExpression:null,transformer:null},requires:["Ext.form.field.Display","com.coremedia.ui.plugins.BindPropertyPlugin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.components.StartPullTranslationButton",function(StartPullTranslationButton){function StartPullTranslationButton$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.components.StartPullTranslationButtonBase,{});var defaults_$1=AS3.cast(StartPullTranslationButton,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var collab_StartPullTranslationWorkflowAction_27_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.actions.StartPullTranslationWorkflowAction,
{});AS3.setBindable(collab_StartPullTranslationWorkflowAction_27_5_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"contentVariableName")));AS3.setBindable(collab_StartPullTranslationWorkflowAction_27_5_$1,"contentValueExpression",AS3.getBindable(config,"contentValueExpression"));AS3.setBindable(collab_StartPullTranslationWorkflowAction_27_5_$1,"hideOnDisable",AS3.getBindable(config,"hideOnDisable"));config_$1.baseAction=new com.coremedia.cms.editor.controlroom.actions.StartPullTranslationWorkflowAction(collab_StartPullTranslationWorkflowAction_27_5_$1);
net.jangaroo.ext.Exml.apply(config_$1,config);this.super$QD81(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.workflow.components.StartPullTranslationButtonBase",alias:"widget.com.coremedia.cms.editor.controlroom.config.startPullTranslationButton",constructor:StartPullTranslationButton$,super$QD81:function(){com.coremedia.cms.editor.controlroom.workflow.components.StartPullTranslationButtonBase.prototype.constructor.apply(this,arguments)},config:{contentValueExpression:null,contentVariableName:null,
hideOnDisable:false},requires:["com.coremedia.cms.editor.controlroom.workflow.components.StartPullTranslationButtonBase","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.actions.StartPullTranslationWorkflowAction"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.components.UserChosenContentsGridDropZone",function(UserChosenContentsGridDropZone){function UserChosenContentsGridDropZone$(el,config,contentValueExpression){this.super$RfpT(el,config);this.allowFolders=config.allowFolders;this.expandFolders=config.expandFolders;this.contentValueExpression$RfpT=contentValueExpression}function onContainerDrop(source,e,data){var this$=this;var dragInfo=com.coremedia.cms.editor.sdk.dragdrop.DragInfo.makeDragInfo(data);
if(!this.allowDrop$RfpT(dragInfo))return false;var oldContents=this.contentValueExpression$RfpT.getValue();var initialContents=com.coremedia.cap.content.ContentProxyHelper.getContents(dragInfo.getContents());if(!this.expandFolders){var resultContents=this.allowFolders?initialContents:initialContents.filter(function(content){return content.isDocument()});this.contentValueExpression$RfpT.setValue(com.coremedia.ui.util.ArrayUtils.unique(oldContents.concat(resultContents)))}else com.coremedia.cms.editor.sdk.util.contentUtil.expandFolders(function(documents){if(documents.length===
0)return;this$.contentValueExpression$RfpT.setValue(com.coremedia.ui.util.ArrayUtils.unique(oldContents.concat(documents)))},initialContents);return initialContents}function onContainerOver(source,e,data){var dragInfo=com.coremedia.cms.editor.sdk.dragdrop.DragInfo.makeDragInfo(data);return this.allowDrop$RfpT(dragInfo)?this.dropAllowed:this.dropNotAllowed}function allowDrop(dragInfo){var draggedItems=dragInfo.getContents();var contents=com.coremedia.cap.content.ContentProxyHelper.getContents(draggedItems);
if(draggedItems.length!==contents.length)return false;if(!this.allowFolders&&!this.expandFolders)if(contents.some(function(content){return content.isFolder()}))return false;return true}return{extend:"Ext.dd.DropZone",contentValueExpression$RfpT:null,allowFolders:false,expandFolders:false,constructor:UserChosenContentsGridDropZone$,super$RfpT:function(){Ext.dd.DropZone.prototype.constructor.apply(this,arguments)},onContainerDrop:onContainerDrop,onContainerOver:onContainerOver,allowDrop$RfpT:allowDrop,
requires:["Ext.dd.DropZone","com.coremedia.cap.content.ContentProxyHelper","com.coremedia.cms.editor.sdk.dragdrop.DragInfo","com.coremedia.cms.editor.sdk.util.contentUtil","com.coremedia.ui.util.ArrayUtils"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.components.WorkflowNotesPanel",function(WorkflowNotesPanel){function WorkflowNotesPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.components.WorkflowNotesPanelBase,{});var defaults_$1=AS3.cast(WorkflowNotesPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.itemId=net.jangaroo.ext.Exml.asString(WorkflowNotesPanel.WORKFLOW_NOTES_PANEL_ITEM_ID);AS3.setBindable(config_$1,
"title",this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","WorkflowNotesPanel_label"));config_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","WorkflowNotesPanel_label"));AS3.setBindable(config_$1,"collapsed",false);var ui_ResizableTextArea_42_5_$1=AS3.cast(com.coremedia.ui.components.ResizableTextArea,{});AS3.setBindable(ui_ResizableTextArea_42_5_$1,"height",100);ui_ResizableTextArea_42_5_$1.anchor=
"100%";ui_ResizableTextArea_42_5_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","WorkflowNotesPanel_textArea_label"));AS3.setBindable(ui_ResizableTextArea_42_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","WorkflowNotesPanel_textArea_label")));ui_ResizableTextArea_42_5_$1.hideLabel=true;var ui_BindPropertyPlugin_48_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,
{});ui_BindPropertyPlugin_48_9_$1.bindTo=AS3.getBindable(config,"notesValueExpression");ui_BindPropertyPlugin_48_9_$1.bidirectional=true;ui_BindPropertyPlugin_48_9_$1.skipIfUndefined=true;var editor_BindReadOnlyPlugin_51_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPlugin,{});AS3.setBindable(editor_BindReadOnlyPlugin_51_9_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression")||com.coremedia.ui.data.ValueExpressionFactory.createFromValue(false));
ui_ResizableTextArea_42_5_$1.plugins=[ui_BindPropertyPlugin_48_9_$1,editor_BindReadOnlyPlugin_51_9_$1];ui_ResizableTextArea_42_5_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;config_$1.items=[ui_ResizableTextArea_42_5_$1];var layout_Anchor_57_5_$1=AS3.cast(Ext.layout.container.Anchor,{});AS3.setBindable(config_$1,"layout",layout_Anchor_57_5_$1);var labelable_60_5_$1=AS3.cast(Ext.form.Labelable,{});labelable_60_5_$1.labelSeparator="";labelable_60_5_$1.labelAlign="top";config_$1["defaultType"]=labelable_60_5_$1["xtype"];
delete labelable_60_5_$1["xtype"];delete labelable_60_5_$1["xclass"];config_$1.defaults=labelable_60_5_$1;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$W5Md(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.workflow.components.WorkflowNotesPanelBase",alias:"widget.com.coremedia.cms.editor.controlroom.config.workflowNotesPanel",constructor:WorkflowNotesPanel$,super$W5Md:function(){com.coremedia.cms.editor.controlroom.workflow.components.WorkflowNotesPanelBase.prototype.constructor.apply(this,
arguments)},config:{forceReadOnlyValueExpression:null,collapseNoText:false},statics:{WORKFLOW_NOTES_PANEL_ITEM_ID:"workflowNotesPanelId"},requires:["Ext.form.Labelable","Ext.layout.container.Anchor","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.workflow.components.WorkflowNotesPanelBase","com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPlugin","com.coremedia.ui.components.ResizableTextArea","com.coremedia.ui.data.ValueExpressionFactory",
"com.coremedia.ui.plugins.BindPropertyPlugin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.components.WorkflowNameFieldBase",function(WorkflowNameFieldBase){function WorkflowNameFieldBase$(config){if(arguments.length<=0)config=null;this.super$VEmy(config);AS3.getBindable(config,"workflowNameExpression").addChangeListener(AS3.bind(this,"validateSubject"))}function validateSubject(subjectValueExpression){if(!subjectValueExpression.getValue()||subjectValueExpression.getValue()===""){AS3.setBindable(this,"validationState",com.coremedia.ui.mixins.ValidationState.ERROR);
AS3.setBindable(this,"validationMessage",this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","StartWorkflowWindow_nameNotValid"))}else{AS3.setBindable(this,"validationState",null);AS3.setBindable(this,"validationMessage",null)}}function onDestroy(){com.coremedia.ui.components.StatefulTextField.prototype.onDestroy.call(this);AS3.getBindable(this,"workflowNameExpression").removeChangeListener(AS3.bind(this,"validateSubject"))}return{extend:"com.coremedia.ui.components.StatefulTextField",
constructor:WorkflowNameFieldBase$,super$VEmy:function(){com.coremedia.ui.components.StatefulTextField.prototype.constructor.apply(this,arguments)},validateSubject:validateSubject,onDestroy:onDestroy,config:{workflowNameExpression:null},requires:["com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.ui.components.StatefulTextField","com.coremedia.ui.mixins.ValidationState"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.components.WorkflowStatePanel",function(WorkflowStatePanel){function WorkflowStatePanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.components.WorkflowStatePanelBase,{});var defaults_$1=AS3.cast(WorkflowStatePanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$AG7N(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.workflow.components.WorkflowStatePanelBase",
alias:"widget.com.coremedia.cms.editor.controlroom.config.workflowStatePanel",constructor:WorkflowStatePanel$,super$AG7N:function(){com.coremedia.cms.editor.controlroom.workflow.components.WorkflowStatePanelBase.prototype.constructor.apply(this,arguments)},config:{forceReadOnlyValueExpression:null,bindTo:null,bindToTask:null,processDefinitionName:null,nextStepVariable:null,workflowStateTransitions:null},requires:["com.coremedia.cms.editor.controlroom.workflow.components.WorkflowStatePanelBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.WorkflowPanelBadgePlugin",function(WorkflowPanelBadgePlugin){function WorkflowPanelBadgePlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.ui.plugins.BadgePlugin,{});var defaults_$1=AS3.cast(WorkflowPanelBadgePlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.bindTo=AS3.getBindable(config,"cmp","DUMMY")["card"].badgeValueExpression;config_$1.x=2;config_$1.y=-6;net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$KoSa(config_$1)}return{extend:"com.coremedia.ui.plugins.BadgePlugin",constructor:WorkflowPanelBadgePlugin$,super$KoSa:function(){com.coremedia.ui.plugins.BadgePlugin.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.ui.plugins.BadgePlugin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.dd.WorkflowPanelDragDropModel",function(WorkflowPanelDragDropModel){function WorkflowPanelDragDropModel$(component){this.component$34ey=component;this.contents$34ey=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(undefined);this.canStartPublicationWorkflow$34ey=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"canStartPublicationWorkflows$34ey"));this.canStartTranslationWorkflow$34ey=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,
"canStartTranslationWorkflows$34ey"))}function allowDefaultAction(source,elementIds,targetElementId){var remoteBeansForNodes=com.coremedia.ui.util.BeanCollectionDropZoneHelper.getRemoteBeansForNodes(elementIds);var contentsForNodes=com.coremedia.cap.content.ContentProxyHelper.getContents(remoteBeansForNodes);if(remoteBeansForNodes.length!==contentsForNodes.length)return false;if(contentsForNodes.length<=0)return false;this.contents$34ey.setValue(contentsForNodes);if(this.component$34ey.disabled)return false;
if(this.isPublicationWorkflowPanel$34ey()&&!this.canStartPublicationWorkflow$34ey.getValue())return false;return!(this.isTranslationWorkflowPanel$34ey()&&!this.canStartTranslationWorkflow$34ey.getValue())}function allowAlternativeAction(source,elementIds,targetElementId){return false}function performDefaultAction(droppedNodeIds,targetPanelId,callback){if(this.isPublicationWorkflowPanel$34ey())this.startPublicationWorkflow$34ey();if(this.isTranslationWorkflowPanel$34ey())this.startTranslationWorkflow$34ey()}
function performAlternativeAction(droppedNodeIds,targetPanelId,callback){}function getModelItemId(){return this.getWorkflowPanelId$34ey()}function startPublicationWorkflow(){var showStartPublicationWorkflowWindowAction=Ext.create(com.coremedia.cms.editor.controlroom.actions.ShowStartPublicationWorkflowWindowAction,{contents:this.contents$34ey.getValue()});showStartPublicationWorkflowWindowAction.execute()}function startTranslationWorkflow(){var this$=this;var pullAction=AS3.cast(com.coremedia.cms.editor.controlroom.actions.StartPullTranslationWorkflowAction,
{});AS3.setBindable(pullAction,"contents",this.contents$34ey.getValue());var translationAction=new com.coremedia.cms.editor.controlroom.actions.StartPullTranslationWorkflowAction(pullAction);com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var pullEnabled=AS3.cast(com.coremedia.cms.editor.controlroom.actions.StartPullTranslationWorkflowAction,translationAction).isEnabledFor(this$.contents$34ey.getValue());if(pullEnabled===undefined)return undefined;if(pullEnabled){this$.component$34ey.disable();
AS3.cast(com.coremedia.cms.editor.controlroom.actions.StartPullTranslationWorkflowAction,translationAction).registerFinallyCallback(function(){this$.component$34ey.enable()})}else{var showAction=AS3.cast(com.coremedia.cms.editor.controlroom.actions.ShowStartTranslationWorkflowWindowAction,{});AS3.setBindable(showAction,"contents",this$.contents$34ey.getValue());translationAction=new com.coremedia.cms.editor.controlroom.actions.ShowStartTranslationWorkflowWindowAction(showAction)}translationAction.execute();
return null}).loadValue(Ext.emptyFn)}function getWorkflowPanelId(){return AS3.is(this.component$34ey,com.coremedia.cms.editor.controlroom.workflow.TabbedWorkflowPanel)?this.component$34ey.getItemId():this.component$34ey.findParentByType(com.coremedia.cms.editor.controlroom.workflow.TabbedWorkflowPanel.xtype).getItemId()}function isTranslationWorkflowPanel(){return this.getWorkflowPanelId$34ey()===com.coremedia.cms.editor.controlroom.ControlRoom.TRANSLATION_WORKFLOW_PANEL_ID}function isPublicationWorkflowPanel(){return this.getWorkflowPanelId$34ey()===
com.coremedia.cms.editor.controlroom.ControlRoom.PUBLICATION_WORKFLOW_PANEL_ID}function canStartPublicationWorkflows(){var showStartPublicationWorkflowWindowAction=Ext.create(com.coremedia.cms.editor.controlroom.actions.ShowStartPublicationWorkflowWindowAction,{contents:this.contents$34ey.getValue()});return!showStartPublicationWorkflowWindowAction.isDisabled()&&canStartWorkflows$static(showStartPublicationWorkflowWindowAction.initialConfig.processDefinitionNames)}function canStartTranslationWorkflows(){var showStartTranslationWorkflowWindowAction=
Ext.create(com.coremedia.cms.editor.controlroom.actions.ShowStartTranslationWorkflowWindowAction,{contents:this.contents$34ey.getValue()});return!showStartTranslationWorkflowWindowAction.isDisabled()&&canStartWorkflows$static(showStartTranslationWorkflowWindowAction.initialConfig.processDefinitionNames)}function canStartWorkflows$static(configuredWorkflows){var enabledWorkflows=com.coremedia.cms.editor.sdk.util.WorkflowUtils.getAvailableProcessDefNames(configuredWorkflows);return!(enabledWorkflows===
undefined||enabledWorkflows.length===0)}return{mixins:["com.coremedia.ui.models.DragDropModel"],component$34ey:null,canStartPublicationWorkflow$34ey:null,canStartTranslationWorkflow$34ey:null,contents$34ey:null,constructor:WorkflowPanelDragDropModel$,allowDefaultAction:allowDefaultAction,allowAlternativeAction:allowAlternativeAction,performDefaultAction:performDefaultAction,performAlternativeAction:performAlternativeAction,getModelItemId:getModelItemId,startPublicationWorkflow$34ey:startPublicationWorkflow,
startTranslationWorkflow$34ey:startTranslationWorkflow,getWorkflowPanelId$34ey:getWorkflowPanelId,isTranslationWorkflowPanel$34ey:isTranslationWorkflowPanel,isPublicationWorkflowPanel$34ey:isPublicationWorkflowPanel,canStartPublicationWorkflows$34ey:canStartPublicationWorkflows,canStartTranslationWorkflows$34ey:canStartTranslationWorkflows,requires:["Ext","com.coremedia.cap.content.ContentProxyHelper","com.coremedia.cms.editor.sdk.util.WorkflowUtils","com.coremedia.ui.data.ValueExpressionFactory",
"com.coremedia.ui.models.DragDropModel","com.coremedia.ui.util.BeanCollectionDropZoneHelper"],uses:["com.coremedia.cms.editor.controlroom.ControlRoom","com.coremedia.cms.editor.controlroom.actions.ShowStartPublicationWorkflowWindowAction","com.coremedia.cms.editor.controlroom.actions.ShowStartTranslationWorkflowWindowAction","com.coremedia.cms.editor.controlroom.actions.StartPullTranslationWorkflowAction","com.coremedia.cms.editor.controlroom.workflow.TabbedWorkflowPanel"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.dd.WorkflowPanelHeaderDropZone",function(WorkflowPanelHeaderDropZone){function WorkflowPanelHeaderDropZone$(panel,workflowPanelDragDropModel,config){this.panel$7h0I=panel;this.super$7h0I(panel.header.el,config);this.beanCollectionDropZoneHelper$7h0I=new com.coremedia.ui.util.BeanCollectionDropZoneHelper(workflowPanelDragDropModel,false)}function notifyEnter(source,event,data){var dropAllowed=this.beanCollectionDropZoneHelper$7h0I.notifyEnter(source,
event,data);if(!this.expandHoverTimer$7h0I)this.expandHoverTimer$7h0I=window.setTimeout(AS3.bind(this,"expandOnHover$7h0I"),1E3);return dropAllowed}function expandOnHover(){this.expandHoverTimer$7h0I=null;this.panel$7h0I.expand(true)}function notifyOut(source,e,data){this.expandHoverTimer$7h0I&&window.clearTimeout(this.expandHoverTimer$7h0I);this.expandHoverTimer$7h0I=null;this.beanCollectionDropZoneHelper$7h0I.notifyOut(source,e,data)}function onContainerOver(source,e,data){return this.beanCollectionDropZoneHelper$7h0I.onContainerOver(source,
e,data)}function onContainerDrop(source,e,data){this.expandHoverTimer$7h0I&&window.clearTimeout(this.expandHoverTimer$7h0I);this.expandHoverTimer$7h0I=null;var dropped=this.beanCollectionDropZoneHelper$7h0I.onContainerDrop(source,e,data);if(dropped)this.panel$7h0I.expand(true);return dropped}return{extend:"Ext.dd.DropZone",beanCollectionDropZoneHelper$7h0I:null,panel$7h0I:null,expandHoverTimer$7h0I:null,constructor:WorkflowPanelHeaderDropZone$,super$7h0I:function(){Ext.dd.DropZone.prototype.constructor.apply(this,
arguments)},notifyEnter:notifyEnter,expandOnHover$7h0I:expandOnHover,notifyOut:notifyOut,onContainerOver:onContainerOver,onContainerDrop:onContainerDrop,requires:["Ext.dd.DropZone","com.coremedia.ui.util.BeanCollectionDropZoneHelper"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.dd.WorkflowPanelDropZone",function(WorkflowPanelDropZone){function WorkflowPanelDropZone$(component,workflowPanelDragDropModel,config){this.super$tMtb(component.getEl(),config);this.beanCollectionDropZoneHelper$tMtb=new com.coremedia.ui.util.BeanCollectionDropZoneHelper(workflowPanelDragDropModel,false)}function notifyEnter(source,event,data){return this.beanCollectionDropZoneHelper$tMtb.notifyEnter(source,event,data)}function notifyOut(source,
e,data){this.beanCollectionDropZoneHelper$tMtb.notifyOut(source,e,data)}function onContainerOver(source,e,data){return this.beanCollectionDropZoneHelper$tMtb.onContainerOver(source,e,data)}function onContainerDrop(source,e,data){return this.beanCollectionDropZoneHelper$tMtb.onContainerDrop(source,e,data)}return{extend:"Ext.dd.DropZone",beanCollectionDropZoneHelper$tMtb:null,constructor:WorkflowPanelDropZone$,super$tMtb:function(){Ext.dd.DropZone.prototype.constructor.apply(this,arguments)},notifyEnter:notifyEnter,
notifyOut:notifyOut,onContainerOver:onContainerOver,onContainerDrop:onContainerDrop,requires:["Ext.dd.DropZone","com.coremedia.ui.util.BeanCollectionDropZoneHelper"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.OpenWorkflowIssuesWindowButtonBase",function(OpenWorkflowIssuesWindowButtonBase){function OpenWorkflowIssuesWindowButtonBase$(config){if(arguments.length<=0)config=null;this.super$qra9(config)}function afterRender(){com.coremedia.cms.editor.sdk.validation.IssuesButton.prototype.afterRender.call(this);AS3.getBindable(this,"issuesVE","DUMMY").addChangeListener(AS3.bind(this,"checkIssuesLoading$qra9"));this.checkIssuesLoading$qra9();this.on("click",
hideToolTip$static)}function hideToolTip$static(){if(Ext.tip.QuickTipManager.getQuickTip())Ext.tip.QuickTipManager.getQuickTip().hide()}function checkIssuesLoading(){if(AS3.getBindable(this,"issuesVE","DUMMY").getValue()===undefined){this.addCssClass$qra9("cm-loading");this.setTooltip(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","WorkflowIssuesWindow_computingIssues_text"))}else{this.removeCssClass$qra9("cm-loading");this.setTooltip(this.transformDescription(AS3.getBindable(this,
"issuesVE","DUMMY").getValue()))}}function addCssClass(className){if(!this.hasCls(className))this.addCls(className)}function removeCssClass(className){if(this.hasCls(className))this.removeCls(className)}function beforeDestroy(){AS3.getBindable(this,"issuesVE","DUMMY").removeChangeListener(AS3.bind(this,"checkIssuesLoading$qra9"));com.coremedia.cms.editor.sdk.validation.IssuesButton.prototype.onDestroy.call(this)}return{extend:"com.coremedia.cms.editor.sdk.validation.IssuesButton",constructor:OpenWorkflowIssuesWindowButtonBase$,
super$qra9:function(){com.coremedia.cms.editor.sdk.validation.IssuesButton.prototype.constructor.apply(this,arguments)},afterRender:afterRender,checkIssuesLoading$qra9:checkIssuesLoading,addCssClass$qra9:addCssClass,removeCssClass$qra9:removeCssClass,beforeDestroy:beforeDestroy,requires:["Ext.tip.QuickTipManager","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.sdk.validation.IssuesButton"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.WorkflowIssuesWindow",function(WorkflowIssuesWindow){function WorkflowIssuesWindow$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.WorkflowIssuesWindowBase,{});var defaults_$1=AS3.cast(WorkflowIssuesWindow,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"WorkflowIssuesWindow_title"));config_$1.stateId="workflowIssuesWindowState";AS3.setBindable(config_$1,"stateful",true);AS3.setBindable(config_$1,"width",300);AS3.setBindable(config_$1,"height",400);AS3.setBindable(config_$1,"scrollable",true);config_$1.constrainHeader=true;config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.WindowSkin.GRID_200_DARK.getSkin());var container_36_5_$1=AS3.cast(Ext.container.Container,{});container_36_5_$1.anchor="100%";AS3.setBindable(container_36_5_$1,
"height",22);var ui_IconDisplayField_39_9_$1=AS3.cast(com.coremedia.ui.components.IconDisplayField,{});ui_IconDisplayField_39_9_$1.itemId="helpIcon";AS3.setBindable(ui_IconDisplayField_39_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","help")));var ui_StatefulQuickTip_42_13_$1=AS3.cast(com.coremedia.ui.components.StatefulQuickTip,{});ui_StatefulQuickTip_42_13_$1.text=this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"WorkflowIssuesWindow_tooltip");AS3.setBindable(ui_StatefulQuickTip_42_13_$1,"width",200);AS3.setBindable(ui_IconDisplayField_39_9_$1,"tooltip",ui_StatefulQuickTip_42_13_$1);container_36_5_$1.items=[ui_IconDisplayField_39_9_$1];var layout_HBox_49_9_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_49_9_$1,"pack","end");AS3.setBindable(container_36_5_$1,"layout",layout_HBox_49_9_$1);var local_WorkflowIssuesPanel_52_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.WorkflowIssuesPanel,
{});local_WorkflowIssuesPanel_52_5_$1.itemId=net.jangaroo.ext.Exml.asString(WorkflowIssuesWindow.ERROR_ISSUES_PANEL_ITEM_ID);AS3.setBindable(local_WorkflowIssuesPanel_52_5_$1,"bindTo",this.getErrorIssueModelsExpression());AS3.setBindable(local_WorkflowIssuesPanel_52_5_$1,"titlePattern",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","WorkflowIssuesWindow_errorHeader_text")));AS3.setBindable(local_WorkflowIssuesPanel_52_5_$1,"noIssuesMessage",
net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","WorkflowIssuesWindow_noError_text")));AS3.setBindable(local_WorkflowIssuesPanel_52_5_$1,"store",this.getErrorIssuesStore());AS3.setBindable(local_WorkflowIssuesPanel_52_5_$1,"cmOwnerCt",AS3.getBindable(config,"cmOwnerCt"));var local_WorkflowIssuesPanel_58_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.WorkflowIssuesPanel,{});local_WorkflowIssuesPanel_58_5_$1.itemId=net.jangaroo.ext.Exml.asString(WorkflowIssuesWindow.WARNING_ISSUES_PANEL_ITEM_ID);
AS3.setBindable(local_WorkflowIssuesPanel_58_5_$1,"bindTo",this.getWarnIssueModelsExpression());AS3.setBindable(local_WorkflowIssuesPanel_58_5_$1,"titlePattern",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","WorkflowIssuesWindow_warnHeader_text")));AS3.setBindable(local_WorkflowIssuesPanel_58_5_$1,"noIssuesMessage",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","WorkflowIssuesWindow_noWarn_text")));
AS3.setBindable(local_WorkflowIssuesPanel_58_5_$1,"store",this.getWarnIssuesStore());AS3.setBindable(local_WorkflowIssuesPanel_58_5_$1,"cmOwnerCt",AS3.getBindable(config,"cmOwnerCt"));config_$1.items=[container_36_5_$1,local_WorkflowIssuesPanel_52_5_$1,local_WorkflowIssuesPanel_58_5_$1];var button_66_5_$1=AS3.cast(Ext.button.Button,{});button_66_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_SECONDARY.getSkin());AS3.setBindable(button_66_5_$1,"scale","small");AS3.setBindable(button_66_5_$1,
"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","WorkflowInfoWindow_closeButton_label")));AS3.setBindable(button_66_5_$1,"handler",AS3.bind(this,"close"));config_$1.buttons=[button_66_5_$1];var layout_Anchor_72_5_$1=AS3.cast(Ext.layout.container.Anchor,{});AS3.setBindable(config_$1,"layout",layout_Anchor_72_5_$1);var ui_VerticalSpacingPlugin_75_5_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});AS3.setBindable(ui_VerticalSpacingPlugin_75_5_$1,
"modifier",com.coremedia.ui.bem.SpacingBEMEntities.VERTICAL_SPACING_MODIFIER_200);AS3.setBindable(ui_VerticalSpacingPlugin_75_5_$1,"includeDocked",false);config_$1.plugins=[ui_VerticalSpacingPlugin_75_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$KEDS(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.workflow.WorkflowIssuesWindowBase",alias:"widget.com.coremedia.cms.editor.controlroom.config.workflowIssuesWindow",constructor:WorkflowIssuesWindow$,super$KEDS:function(){com.coremedia.cms.editor.controlroom.workflow.WorkflowIssuesWindowBase.prototype.constructor.apply(this,
arguments)},statics:{ERROR_ISSUES_PANEL_ITEM_ID:"errorIssues",WARNING_ISSUES_PANEL_ITEM_ID:"warningIssues"},requires:["Ext.button.Button","Ext.container.Container","Ext.layout.container.Anchor","Ext.layout.container.HBox","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.workflow.WorkflowIssuesWindowBase","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.bem.SpacingBEMEntities","com.coremedia.ui.components.IconDisplayField","com.coremedia.ui.components.StatefulQuickTip",
"com.coremedia.ui.plugins.VerticalSpacingPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.WindowSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.workflow.WorkflowIssuesPanel"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.AddWorkflowListToolbarButtonsPlugin",function(AddWorkflowListToolbarButtonsPlugin){function AddWorkflowListToolbarButtonsPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.AddWorkflowListToolbarButtonsPluginBase,{});var defaults_$1=AS3.cast(AddWorkflowListToolbarButtonsPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$i7Ya(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.workflow.AddWorkflowListToolbarButtonsPluginBase",constructor:AddWorkflowListToolbarButtonsPlugin$,super$i7Ya:function(){com.coremedia.cms.editor.controlroom.workflow.AddWorkflowListToolbarButtonsPluginBase.prototype.constructor.apply(this,arguments)},config:{processCategory:null,buttons:null},requires:["com.coremedia.cms.editor.controlroom.workflow.AddWorkflowListToolbarButtonsPluginBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.PendingProcessListPanel",function(PendingProcessListPanel){function PendingProcessListPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.PendingProcessListPanelBase,{});var defaults_$1=AS3.cast(PendingProcessListPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"layout","fit");AS3.setBindable(config_$1,"activeItemValueExpression",AS3.getBindable(config,
"activeItemValueExpression"));var ui_SwitchingContainer_41_5_$1=AS3.cast(com.coremedia.ui.components.SwitchingContainer,{});ui_SwitchingContainer_41_5_$1.itemId=net.jangaroo.ext.Exml.asString(PendingProcessListPanel.SWITCHING_CONTAINER_ITEM_ID);AS3.setBindable(ui_SwitchingContainer_41_5_$1,"activeItemValueExpression",AS3.getBindable(config,"activeItemValueExpression"));var collab_ProcessListPanel_45_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.ProcessListPanel,{});collab_ProcessListPanel_45_9_$1.itemId=
net.jangaroo.ext.Exml.asString(PendingProcessListPanel.WORKFLOW_LIST_ITEM_ID);collab_ProcessListPanel_45_9_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","TabbedWorkflowPanel_pending_text")+" "+this.resourceManager.getString("com.coremedia.cms.editor.Editor","ListView_suffix"));AS3.setBindable(collab_ProcessListPanel_45_9_$1,"processListValueExpression",AS3.getBindable(config,"processListValueExpression"));AS3.setBindable(collab_ProcessListPanel_45_9_$1,
"extraFields",AS3.getBindable(config,"extraFields"));collab_ProcessListPanel_45_9_$1.columns=AS3.getBindable(config,"columns");collab_ProcessListPanel_45_9_$1.switchToDetailHandler=AS3.bind(this,"switchToDetail");var collab_ProcessDetailPanelWrapper_53_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.ProcessDetailPanelWrapper,{});collab_ProcessDetailPanelWrapper_53_9_$1.itemId=net.jangaroo.ext.Exml.asString(PendingProcessListPanel.WORKFLOW_DETAIL_ITEM_ID);AS3.setBindable(collab_ProcessDetailPanelWrapper_53_9_$1,
"backToListHandler",AS3.bind(this,"switchToList"));AS3.setBindable(collab_ProcessDetailPanelWrapper_53_9_$1,"processValueExpression",this.getSelectedProcessValueExpression());ui_SwitchingContainer_41_5_$1.items=[collab_ProcessListPanel_45_9_$1,collab_ProcessDetailPanelWrapper_53_9_$1];config_$1.items=[ui_SwitchingContainer_41_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Gh9x(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.workflow.PendingProcessListPanelBase",alias:"widget.com.coremedia.cms.editor.controlroom.config.pendingProcessListPanel",
constructor:PendingProcessListPanel$,super$Gh9x:function(){com.coremedia.cms.editor.controlroom.workflow.PendingProcessListPanelBase.prototype.constructor.apply(this,arguments)},config:{extraFields:null,columns:null},statics:{SWITCHING_CONTAINER_ITEM_ID:"switchingContainer",WORKFLOW_DETAIL_ITEM_ID:"workflowDetails",WORKFLOW_LIST_ITEM_ID:"workflowList"},requires:["com.coremedia.cms.editor.controlroom.workflow.PendingProcessListPanelBase","com.coremedia.ui.components.SwitchingContainer","net.jangaroo.ext.Exml"],
uses:["com.coremedia.cms.editor.controlroom.workflow.ProcessDetailPanelWrapper","com.coremedia.cms.editor.controlroom.workflow.ProcessListPanel"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.WorkflowIssueModel",function(WorkflowIssueModel){function contents_(){this.contents=[]}function users_(){this.users=[]}function equals(o){var that=AS3.as(o,WorkflowIssueModel);if(!that)return false;var contentsEqual=com.coremedia.ui.util.ObjectUtils.equal(this.contents,that.contents);var usersEqual=com.coremedia.ui.util.ObjectUtils.equal(this.users,that.users);var messageEqual=com.coremedia.ui.util.ObjectUtils.equal(this.message,that.message);
return this.code===that.code&&contentsEqual&&usersEqual&&messageEqual}function WorkflowIssueModel$(){contents_.call(this);users_.call(this)}return{mixins:["com.coremedia.ui.util.WithEquals"],id:0,code:null,message:"",equals:equals,constructor:WorkflowIssueModel$,requires:["com.coremedia.ui.util.ObjectUtils","com.coremedia.ui.util.WithEquals"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.InboxTaskListPanel",function(InboxTaskListPanel){function InboxTaskListPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.InboxTaskListPanelBase,{});var defaults_$1=AS3.cast(InboxTaskListPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"activeItemValueExpression",AS3.getBindable(config,"activeItemValueExpression"));var ui_SwitchingContainer_41_5_$1=
AS3.cast(com.coremedia.ui.components.SwitchingContainer,{});ui_SwitchingContainer_41_5_$1.itemId=net.jangaroo.ext.Exml.asString(InboxTaskListPanel.SWITCHING_CONTAINER_ITEM_ID);AS3.setBindable(ui_SwitchingContainer_41_5_$1,"activeItemValueExpression",AS3.getBindable(config,"activeItemValueExpression"));var collab_TaskListPanel_45_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.TaskListPanel,{});collab_TaskListPanel_45_9_$1.itemId=net.jangaroo.ext.Exml.asString(InboxTaskListPanel.WORKFLOW_LIST_ITEM_ID);
AS3.setBindable(collab_TaskListPanel_45_9_$1,"taskListValueExpression",AS3.getBindable(config,"taskListValueExpression"));AS3.setBindable(collab_TaskListPanel_45_9_$1,"extraFields",AS3.getBindable(config,"extraFields"));collab_TaskListPanel_45_9_$1.columns=AS3.getBindable(config,"columns");collab_TaskListPanel_45_9_$1.switchToDetailHandler=AS3.bind(this,"switchToDetail");var collab_InboxDetailPanelWrapper_52_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.InboxDetailPanelWrapper,{});collab_InboxDetailPanelWrapper_52_9_$1.itemId=
net.jangaroo.ext.Exml.asString(InboxTaskListPanel.WORKFLOW_DETAIL_ITEM_ID);AS3.setBindable(collab_InboxDetailPanelWrapper_52_9_$1,"backToListHandler",AS3.bind(this,"switchToList"));AS3.setBindable(collab_InboxDetailPanelWrapper_52_9_$1,"taskValueExpression",this.getSelectedTaskValueExpression());ui_SwitchingContainer_41_5_$1.items=[collab_TaskListPanel_45_9_$1,collab_InboxDetailPanelWrapper_52_9_$1];config_$1.items=[ui_SwitchingContainer_41_5_$1];var layout_Fit_59_5_$1=AS3.cast(Ext.layout.container.Fit,
{});AS3.setBindable(config_$1,"layout",layout_Fit_59_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$pEgE(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.workflow.InboxTaskListPanelBase",alias:"widget.com.coremedia.cms.editor.controlroom.config.inboxTaskListPanel",constructor:InboxTaskListPanel$,super$pEgE:function(){com.coremedia.cms.editor.controlroom.workflow.InboxTaskListPanelBase.prototype.constructor.apply(this,arguments)},config:{extraFields:null,columns:null},
statics:{SWITCHING_CONTAINER_ITEM_ID:"switchingContainer",WORKFLOW_DETAIL_ITEM_ID:"workflowDetails",WORKFLOW_LIST_ITEM_ID:"workflowList"},requires:["Ext.layout.container.Fit","com.coremedia.cms.editor.controlroom.workflow.InboxTaskListPanelBase","com.coremedia.ui.components.SwitchingContainer","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.workflow.InboxDetailPanelWrapper","com.coremedia.cms.editor.controlroom.workflow.TaskListPanel"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.AddInboxDetailPanelPlugin",function(AddInboxDetailPanelPlugin){function AddInboxDetailPanelPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.ui.plugins.NestedRulesPlugin,{});var defaults_$1=AS3.cast(AddInboxDetailPanelPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var container_22_5_$1=AS3.cast(Ext.container.Container,{});container_22_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.controlroom.workflow.InboxDetailPanelWrapper.SWITCHING_CONTAINER_ITEM_ID);
var ui_AddLazyItemsPlugin_24_9_$1=AS3.cast(com.coremedia.ui.plugins.AddLazyItemsPlugin,{});AS3.setBindable(ui_AddLazyItemsPlugin_24_9_$1,"items",AS3.getBindable(config,"inboxPanel")?[Ext.apply({"itemId":AS3.getBindable(config,"processDefinitionName"),"processDefinitionName":AS3.getBindable(config,"processDefinitionName")},AS3.getBindable(config,"inboxPanel"))]:[]);container_22_5_$1.plugins=[ui_AddLazyItemsPlugin_24_9_$1];config_$1.rules=[container_22_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);
this.super$mvQE(config_$1)}return{extend:"com.coremedia.ui.plugins.NestedRulesPlugin",constructor:AddInboxDetailPanelPlugin$,super$mvQE:function(){com.coremedia.ui.plugins.NestedRulesPlugin.prototype.constructor.apply(this,arguments)},config:{processDefinitionName:null,inboxPanel:null},requires:["Ext","Ext.container.Container","com.coremedia.ui.plugins.AddLazyItemsPlugin","com.coremedia.ui.plugins.NestedRulesPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.workflow.InboxDetailPanelWrapper"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.AddFinishedProcessPanelPlugin",function(AddFinishedProcessPanelPlugin){function AddFinishedProcessPanelPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.ui.plugins.AddCustomItemsPlugin,{});var defaults_$1=AS3.cast(AddFinishedProcessPanelPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"property","workflowInfoPanels");AS3.setBindable(config_$1,"items",AS3.getBindable(config,
"finishedPanel")?[Ext.apply({"itemId":AS3.getBindable(config,"processDefinitionName"),"processDefinitionName":AS3.getBindable(config,"processDefinitionName")},AS3.getBindable(config,"finishedPanel"))]:[]);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$pJIe(config_$1)}return{extend:"com.coremedia.ui.plugins.AddCustomItemsPlugin",constructor:AddFinishedProcessPanelPlugin$,super$pJIe:function(){com.coremedia.ui.plugins.AddCustomItemsPlugin.prototype.constructor.apply(this,arguments)},config:{processDefinitionName:null,
finishedPanel:null},requires:["Ext","com.coremedia.ui.plugins.AddCustomItemsPlugin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.TabbedWorkflowPanel",function(TabbedWorkflowPanel){function TabbedWorkflowPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.TabbedWorkflowPanelBase,{});var defaults_$1=AS3.cast(TabbedWorkflowPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"tabPosition","left");AS3.setBindable(config_$1,"tabRotation",0);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.PanelSkin.ACCORDION.getSkin());
AS3.setBindable(config_$1,"title",AS3.getBindable(config,"title","DUMMY"));var tabBar_64_5_$1=AS3.cast(Ext.tab.Bar,{});tabBar_64_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.TabBarSkin.SIDE.getSkin());AS3.setBindable(tabBar_64_5_$1,"width",29);var layout_VBox_67_9_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_67_9_$1,"overflowHandler","none");AS3.setBindable(tabBar_64_5_$1,"layout",layout_VBox_67_9_$1);var ui_BEMMixin_70_9_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,
{});AS3.setBindable(ui_BEMMixin_70_9_$1,"bemElement",TabbedWorkflowPanel.TAB_BAR_ELEMENT);delete ui_BEMMixin_70_9_$1["xtype"];delete ui_BEMMixin_70_9_$1["xclass"];net.jangaroo.ext.Exml.apply(tabBar_64_5_$1,ui_BEMMixin_70_9_$1);AS3.setBindable(config_$1,"tabBar",tabBar_64_5_$1);var ui_NestedRulesPlugin_75_5_$1=AS3.cast(com.coremedia.ui.plugins.NestedRulesPlugin,{});var tabBar_77_9_$1=AS3.cast(Ext.tab.Bar,{});var ui_NestedRulesPlugin_79_13_$1=AS3.cast(com.coremedia.ui.plugins.NestedRulesPlugin,{});
var tab_81_17_$1=AS3.cast(Ext.tab.Tab,{});var collab_WorkflowPanelBadgePlugin_83_21_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.WorkflowPanelBadgePlugin,{});tab_81_17_$1.plugins=[collab_WorkflowPanelBadgePlugin_83_21_$1];ui_NestedRulesPlugin_79_13_$1.rules=[tab_81_17_$1];tabBar_77_9_$1.plugins=[ui_NestedRulesPlugin_79_13_$1];ui_NestedRulesPlugin_75_5_$1.rules=[tabBar_77_9_$1];var ui_BEMPlugin_92_5_$1=AS3.cast(com.coremedia.ui.plugins.BEMPlugin,{});AS3.setBindable(ui_BEMPlugin_92_5_$1,
"block",TabbedWorkflowPanel.TABBED_WORKFLOW_PANEL_BLOCK);AS3.setBindable(ui_BEMPlugin_92_5_$1,"bodyElement",TabbedWorkflowPanel.BODY_ELEMENT);config_$1.plugins=[ui_NestedRulesPlugin_75_5_$1,ui_BEMPlugin_92_5_$1];config_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var collab_InboxTaskListPanel_97_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.InboxTaskListPanel,{});collab_InboxTaskListPanel_97_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.controlroom.workflow.TabbedWorkflowPanelBase.WORKFLOW_LIST_INBOX_ITEM_ID);
AS3.setBindable(collab_InboxTaskListPanel_97_5_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","inbox")));AS3.setBindable(collab_InboxTaskListPanel_97_5_$1,"activeItemValueExpression",this.getActiveInboxWorkflowPanelIdValueExpression());AS3.setBindable(collab_InboxTaskListPanel_97_5_$1,"taskListValueExpression",this.getInboxTasksValueExpression());collab_InboxTaskListPanel_97_5_$1["badgeValueExpression"]=this.getInboxTasksValueExpression();
collab_InboxTaskListPanel_97_5_$1["tabConfig"]={text:this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","TabbedWorkflowPanel_inbox_text"),tooltip:this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","TabbedWorkflowPanel_inbox_text"),itemId:TabbedWorkflowPanel.WORKFLOW_INBOX_BUTTON_ITEM_ID};AS3.setBindable(collab_InboxTaskListPanel_97_5_$1,"extraFields",AS3.getBindable(config,"extraFields"));AS3.setBindable(collab_InboxTaskListPanel_97_5_$1,
"columns",AS3.getBindable(config,"inboxColumns")&&AS3.getBindable(config,"inboxColumns").concat(new com.coremedia.cms.editor.controlroom.workflow.WorkflowDetailColumn(AS3.cast(com.coremedia.cms.editor.controlroom.workflow.WorkflowDetailColumn,{}))));var collab_PendingProcessListPanel_105_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.PendingProcessListPanel,{});collab_PendingProcessListPanel_105_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.controlroom.workflow.TabbedWorkflowPanelBase.WORKFLOW_LIST_PENDING_ITEM_ID);
AS3.setBindable(collab_PendingProcessListPanel_105_5_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","pending")));AS3.setBindable(collab_PendingProcessListPanel_105_5_$1,"activeItemValueExpression",this.getActivePendingWorkflowPanelIdValueExpression());AS3.setBindable(collab_PendingProcessListPanel_105_5_$1,"processListValueExpression",this.getPendingProcessesValueExpression());collab_PendingProcessListPanel_105_5_$1["badgeValueExpression"]=
this.getPendingProcessesValueExpression();collab_PendingProcessListPanel_105_5_$1["tabConfig"]={text:this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","TabbedWorkflowPanel_pending_text"),tooltip:this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","TabbedWorkflowPanel_pending_text"),itemId:TabbedWorkflowPanel.WORKFLOW_PENDING_BUTTON_ITEM_ID};AS3.setBindable(collab_PendingProcessListPanel_105_5_$1,"extraFields",AS3.getBindable(config,"extraFields"));
AS3.setBindable(collab_PendingProcessListPanel_105_5_$1,"columns",AS3.getBindable(config,"pendingColumns")&&AS3.getBindable(config,"pendingColumns").concat(new com.coremedia.cms.editor.controlroom.workflow.WorkflowDetailColumn(AS3.cast(com.coremedia.cms.editor.controlroom.workflow.WorkflowDetailColumn,{}))));var collab_FinishedProcessListPanel_113_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.FinishedProcessListPanel,{});collab_FinishedProcessListPanel_113_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.controlroom.workflow.TabbedWorkflowPanelBase.WORKFLOW_LIST_FINISHED_ITEM_ID);
AS3.setBindable(collab_FinishedProcessListPanel_113_5_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","finished")));collab_FinishedProcessListPanel_113_5_$1["tabConfig"]={text:this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","TabbedWorkflowPanel_finished_text"),tooltip:this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","TabbedWorkflowPanel_finished_text"),itemId:TabbedWorkflowPanel.WORKFLOW_FINISHED_BUTTON_ITEM_ID};
AS3.setBindable(collab_FinishedProcessListPanel_113_5_$1,"processListValueExpression",this.getFinishedProcessesValueExpression());AS3.setBindable(collab_FinishedProcessListPanel_113_5_$1,"extraFields",AS3.getBindable(config,"extraFields"));AS3.setBindable(collab_FinishedProcessListPanel_113_5_$1,"columns",AS3.getBindable(config,"finishedColumns"));config_$1.items=[collab_InboxTaskListPanel_97_5_$1,collab_PendingProcessListPanel_105_5_$1,collab_FinishedProcessListPanel_113_5_$1];net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$IKi6(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.workflow.TabbedWorkflowPanelBase",alias:"widget.com.coremedia.cms.editor.controlroom.config.tabbedWorkflowPanel",constructor:TabbedWorkflowPanel$,super$IKi6:function(){com.coremedia.cms.editor.controlroom.workflow.TabbedWorkflowPanelBase.prototype.constructor.apply(this,arguments)},config:{extraFields:null,inboxColumns:null,pendingColumns:null,finishedColumns:null},statics:{WORKFLOW_INBOX_BUTTON_ITEM_ID:"inboxButton",
WORKFLOW_PENDING_BUTTON_ITEM_ID:"pendingButton",WORKFLOW_FINISHED_BUTTON_ITEM_ID:"finishedButton",TABBED_WORKFLOW_PANEL_BLOCK:"cm-tabbed-workflow-panel",BODY_ELEMENT:"body-element",TAB_BAR_ELEMENT:"tab-bar-element"},requires:["Ext.layout.container.VBox","Ext.tab.Bar","Ext.tab.Tab","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.workflow.TabbedWorkflowPanelBase","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.plugins.BEMMixin","com.coremedia.ui.plugins.BEMPlugin",
"com.coremedia.ui.plugins.NestedRulesPlugin","com.coremedia.ui.skins.PanelSkin","com.coremedia.ui.skins.TabBarSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.workflow.FinishedProcessListPanel","com.coremedia.cms.editor.controlroom.workflow.InboxTaskListPanel","com.coremedia.cms.editor.controlroom.workflow.PendingProcessListPanel","com.coremedia.cms.editor.controlroom.workflow.WorkflowDetailColumn","com.coremedia.cms.editor.controlroom.workflow.WorkflowPanelBadgePlugin"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.AddWorkflowListToolbarButtonsPluginBase",function(AddWorkflowListToolbarButtonsPluginBase){function AddWorkflowListToolbarButtonsPluginBase$(config){if(arguments.length<=0)config=null;this.processCategory$sm6L=AS3.getBindable(config,"processCategory");this.buttons$sm6L=AS3.getBindable(config,"buttons");this.super$sm6L(config)}function init(component){var panel=AS3.as(component,Ext.panel.Panel);if(panel){var par=panel.findParentBy(function(parent){return parent["processCategory"]});
if(par){var panelProcessCategory=par["processCategory"];if(panelProcessCategory&&panelProcessCategory===this.processCategory$sm6L)panel.getTopToolbar().add(this.buttons$sm6L)}}}return{extend:"Ext.plugin.Abstract",processCategory$sm6L:null,buttons$sm6L:null,constructor:AddWorkflowListToolbarButtonsPluginBase$,super$sm6L:function(){Ext.plugin.Abstract.prototype.constructor.apply(this,arguments)},init:init,requires:["Ext.panel.Panel","Ext.plugin.Abstract"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.SwitchingWorkflowContainer",function(SwitchingWorkflowContainer){return{}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.WorkflowIssuesPanel",function(WorkflowIssuesPanel){function WorkflowIssuesPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.WorkflowIssuesPanelBase,{});var defaults_$1=AS3.cast(WorkflowIssuesPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"issuesTemplate",com.coremedia.cms.editor.controlroom.workflow.WorkflowIssuesPanelBase.getWorkflowIssuesTemplate());
AS3.setBindable(config_$1,"itemSelector",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.IssuesPanelBase.ELEMENT_ITEM.getCSSSelector()));net.jangaroo.ext.Exml.apply(config_$1,config);this.super$tcKO(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.workflow.WorkflowIssuesPanelBase",alias:"widget.com.coremedia.cms.editor.controlroom.config.workflowIssuesPanel",constructor:WorkflowIssuesPanel$,super$tcKO:function(){com.coremedia.cms.editor.controlroom.workflow.WorkflowIssuesPanelBase.prototype.constructor.apply(this,
arguments)},requires:["com.coremedia.cms.editor.controlroom.workflow.WorkflowIssuesPanelBase","com.coremedia.cms.editor.sdk.premular.IssuesPanelBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.InboxDetailPanelWrapperBase",function(InboxDetailPanelWrapperBase){function processTaskOperationExitFunctions_(){this.processTaskOperationExitFunctions$wvla={}}function InboxDetailPanelWrapperBase$(config){var this$=this;if(arguments.length<=0)config=null;this.taskValueExpression$wvla=AS3.getBindable(config,"taskValueExpression");this.super$wvla(config);processTaskOperationExitFunctions_.call(this);this.acceptButton$wvla=AS3.as(this.getFooterToolbar().queryById(com.coremedia.cms.editor.controlroom.workflow.InboxDetailPanelWrapper.ACCEPT_BUTTON_ITEM_ID),
Ext.button.Button);this.cancelButton$wvla=AS3.as(this.getFooterToolbar().queryById(com.coremedia.cms.editor.controlroom.workflow.InboxDetailPanelWrapper.CANCEL_BUTTON_ITEM_ID),Ext.button.Button);this.applyButton$wvla=AS3.as(this.getFooterToolbar().queryById(com.coremedia.cms.editor.controlroom.workflow.InboxDetailPanelWrapper.APPLY_BUTTON_ITEM_ID),Ext.button.Button);this.backToListHandler$wvla=AS3.getBindable(config,"backToListHandler");this.getFooterDisplayedValueExpression$wvla().addChangeListener(AS3.bind(this,
"displayFooterToolbar$wvla"));this.on("afterrender",AS3.bind(this,"displayFooterToolbar$wvla"));this.on("beforehide",function(){this$.setClosed(true)});this.on("beforeshow",function(){this$.setClosed(false);this$.setButtonsDisabled$wvla(false)});this.taskValueExpression$wvla.addChangeListener(AS3.bind(this,"taskChanged"));AS3.cast(com.coremedia.cap.common.MessageService,com.coremedia.cap.common.SESSION.getConnection()).addMessageListener("worklist",AS3.bind(this,"maybeShowProcessAbortedWarning$wvla"));
this.switchingContainer$wvla=AS3.as(this.queryById(com.coremedia.cms.editor.controlroom.workflow.InboxDetailPanelWrapper.SWITCHING_CONTAINER_ITEM_ID),com.coremedia.ui.components.SwitchingContainer)}function getFooterDisplayedValueExpression(){var this$=this;if(!this.footerDisplayedValueExpression$wvla)this.footerDisplayedValueExpression$wvla=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){if(!this$.taskValueExpression$wvla)return false;else if(!this$.taskValueExpression$wvla.getValue())return undefined;
else return this$.getOfferedStateValueExpression().getValue()||this$.getAcceptedStateValueExpression().getValue()||this$.getMayAbortValueExpression().getValue()});return this.footerDisplayedValueExpression$wvla}function displayFooterToolbar(){if(this.getFooterToolbar()){var displayed=this.getFooterDisplayedValueExpression$wvla().getValue();if(displayed!==undefined&&displayed!==this.getFooterToolbar().isVisible())this.getFooterToolbar().setVisible(this.getFooterDisplayedValueExpression$wvla().getValue())}}
function handleTask(operation,handler){var this$=this;var task=this.taskValueExpression$wvla.getValue();if(task){var switchContainer=AS3.as(this.queryById(com.coremedia.cms.editor.controlroom.workflow.InboxDetailPanelWrapper.SWITCHING_CONTAINER_ITEM_ID),com.coremedia.ui.components.SwitchingContainer);var workflowDetailForm=AS3.as(switchContainer.getActiveItem(),Ext.container.Container);if(!workflowDetailForm)throw new AS3.Error("Could not find workflow detail form in inbox");var execEventually=new com.coremedia.ui.util.ExecuteEventually(function(){handler(task,
function(operationResult){this$.setButtonsDisabled$wvla(false);var exitFunctionsCallback=this$.getExitFunctions$wvla(task,operation,"callback");exitFunctionsCallback.forEach(function(exitFunctionCallback){exitFunctionCallback(task,workflowDetailForm,operationResult)})})});var exitFunctionsBefore=this.getExitFunctions$wvla(task,operation,"before");exitFunctionsBefore.forEach(function(exitFunction){execEventually.delay();exitFunction(task,workflowDetailForm,AS3.bind(execEventually,"proceed"))});execEventually.proceed()}}
function setButtonsDisabled(disabled){this.acceptButton$wvla.setDisabled(disabled);this.cancelButton$wvla.setDisabled(disabled);this.applyButton$wvla.setDisabled(this.getApplyButtonDisabledValueExpression().getValue())}function acceptWorkflow(){this.setButtonsDisabled$wvla(true);this.handleTask$wvla("accept",function(task,callback){task.accept(callback)})}function completeTask(){var this$=this;this.setButtonsDisabled$wvla(true);this.handleTask$wvla("complete",function(task,callback){task.complete(callback);
this$.backToListHandler$wvla()})}function cancelTask(){var this$=this;this.setButtonsDisabled$wvla(true);this.handleTask$wvla("cancel",function(task,callback){task.cancel(callback);this$.backToListHandler$wvla()})}function abortWorkflow(){var this$=this;this.setButtonsDisabled$wvla(true);var task=this.taskValueExpression$wvla.getValue();if(task){var process=task.getContainingProcess();com.coremedia.cms.editor.controlroom.workflow.WorkflowUtils.askAbortWorkflow(process,function(abort){if(abort){this$.showWorkflowAborted$wvla=
false;this$.handleTask$wvla("abort",function(){process.abort();this$.backToListHandler$wvla()})}else this$.setButtonsDisabled$wvla(false)})}}function getAcceptedStateValueExpression(){var this$=this;return this.acceptedStateValueExpression$wvla||(this.acceptedStateValueExpression$wvla=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var task=this$.taskValueExpression$wvla.getValue();if(!task)return false;return task.isAccepted()&&task.getPerformer()===com.coremedia.cap.common.SESSION.getUser()}))}
function getOfferedStateValueExpression(){var this$=this;return this.offeredStateValueExpression$wvla||(this.offeredStateValueExpression$wvla=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var task=this$.taskValueExpression$wvla.getValue();if(!task)return false;var offeredTo=task.getOfferedTo();return offeredTo&&offeredTo.indexOf(com.coremedia.cap.common.SESSION.getUser())!==-1}))}function getMayAbortValueExpression(){var this$=this;return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var task=
this$.taskValueExpression$wvla.getValue();if(task){var process=task.getContainingProcess();return com.coremedia.cms.editor.controlroom.workflow.WorkflowUtils.mayAbortWorkflow(process)}return false})}function getMayCancelValueExpression(){var this$=this;return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var task=this$.taskValueExpression$wvla.getValue();if(task)return task.isAccepted()&&task.getPerformer()===com.coremedia.cap.common.SESSION.getUser()&&!task.isTaskForced();
return false})}function getReadOnly(){return!this.getAcceptedStateValueExpression().getValue()}function getClosed(){return this.isClosed$wvla}function setClosed(value){var oldValue=this.isClosed$wvla;this.isClosed$wvla=value;com.coremedia.ui.data.util.PropertyChangeEventUtil.fireEvent(this,this.CLOSED_PROPERTY_NAME$wvla,oldValue,value)}function getApplyButtonDisabledValueExpression(){if(!this.applyButtonDisabledValueExpression$wvla)this.applyButtonDisabledValueExpression$wvla=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,
"computeApplyButtonDisabled$wvla"));return this.applyButtonDisabledValueExpression$wvla}function computeApplyButtonDisabled(){com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(this,"afterrender");if(!this.switchingContainer$wvla)return true;com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(this.switchingContainer$wvla,"afterrender");var workflowForm=AS3.as(this.switchingContainer$wvla.getActiveItem(),com.coremedia.cms.editor.controlroom.workflow.WorkflowForm);
if(workflowForm)return workflowForm.isApplyButtonDisabled();return true}function taskChanged(){var task=AS3.as(this.taskValueExpression$wvla.getValue(),com.coremedia.cap.workflow.Task);if(task){this.currentTaskUriPath$wvla=task.getUriPath();if(task.getContainingProcess()&&task.getContainingProcess().getProperties())this.workflowName$wvla=task.getContainingProcess().getProperties().get("subject")}else{this.showWorkflowAborted$wvla=true;this.currentTaskUriPath$wvla=null}}function maybeShowProcessAbortedWarning(message){var workListEvent=
AS3.cast(com.coremedia.cap.workflow.impl.WorklistEvent,message.body);if(workListEvent.event==="taskAborted"&&AS3.as(workListEvent.parameters[0],com.coremedia.cap.workflow.Task)&&AS3.as(workListEvent.parameters[0],com.coremedia.cap.workflow.Task).getUriPath()===this.currentTaskUriPath$wvla)if(this.showWorkflowAborted$wvla)com.coremedia.cms.editor.controlroom.workflow.WorkflowUtils.showWorkflowAbortedMessage(this.workflowName$wvla)}function registerProcessTaskOperationExitFunctions(newExitFunctions){this.processTaskOperationExitFunctions$wvla=
mergeObjects$static(this.processTaskOperationExitFunctions$wvla,newExitFunctions)}function getExitFunctions(task,operation,when){var processDefinition=task.getContainingProcess().getDefinition();if(processDefinition){var processName=processDefinition.getName();var taskOperationExitFunctionsObjects=[];for(var processKey in this.processTaskOperationExitFunctions$wvla){var processKeyRegExpString=processKey.replace(/\*/g,".*");var processKeyRegExp=new RegExp(processKeyRegExpString);var matchProcessKeyRegExpResult=
processName.match(processKeyRegExp);if(matchProcessKeyRegExpResult&&matchProcessKeyRegExpResult.indexOf(processName)!==-1)taskOperationExitFunctionsObjects.push(this.processTaskOperationExitFunctions$wvla[processKey])}var taskOperationExitFunctions=mergeObjectList$static(taskOperationExitFunctionsObjects);if(taskOperationExitFunctions){var taskDefinitionName=task.getDefinition?task.getDefinition().getName():"pseudo";var operationExitFunctionsObjects=[];for(var taskKey in taskOperationExitFunctions){var taskKeyRegExpString=
taskKey.replace(/\*/g,".*");var taskKeyRegExp=new RegExp(taskKeyRegExpString);var matchTaskKeyRegExpResult=taskDefinitionName.match(taskKeyRegExp);if(matchTaskKeyRegExpResult&&matchTaskKeyRegExpResult.indexOf(taskDefinitionName)!==-1)operationExitFunctionsObjects.push(taskOperationExitFunctions[taskKey])}var operationExitFunctions=mergeObjectList$static(operationExitFunctionsObjects);if(operationExitFunctions){var exitFunctionsWhen=operationExitFunctions[operation];if(exitFunctionsWhen){var exitFunctions=
exitFunctionsWhen[when];if(exitFunctions)return exitFunctions}}}}return[]}function mergeObjectList$static(objects){var merged={};objects.forEach(function(object){merged=mergeObjects$static(merged,object)});return merged}function mergeObjects$static(object1,object2){var merged={};var propsHandled=[];for(var prop in object1){var object2Prop=object2[prop];var object1Prop=object1[prop];if(object2Prop)if(!AS3.is(object1Prop,Object)||AS3.is(object1Prop,Array)||AS3.is(object1Prop,Function)||!AS3.is(object2Prop,
Object)||AS3.is(object2Prop,Array)||AS3.is(object2Prop,Function))merged[prop]=mergeArraysWithoutDuplicates$static(object1Prop.concat([]),object2Prop.concat([]));else merged[prop]=mergeObjects$static(object1Prop,object2Prop);else merged[prop]=object1Prop;propsHandled.push(prop)}for(prop in object2)if(propsHandled.indexOf(prop)===-1)merged[prop]=object2[prop];return merged}function mergeArraysWithoutDuplicates$static(array1,array2){var merged=[];array1.concat(array2).forEach(function(item){if(merged.indexOf(item)===
-1)merged.push(item)});return merged}function beforeDestroy(){this.getFooterDisplayedValueExpression$wvla().removeChangeListener(AS3.bind(this,"displayFooterToolbar$wvla"));AS3.cast(com.coremedia.cap.common.MessageService,com.coremedia.cap.common.SESSION.getConnection()).removeMessageListener("worklist",AS3.bind(this,"maybeShowProcessAbortedWarning$wvla"));Ext.panel.Panel.prototype.beforeDestroy.call(this)}return{extend:"Ext.panel.Panel",metadata:{getClosed:["ProvideToExtChildren"]},CLOSED_PROPERTY_NAME$wvla:"closed",
taskValueExpression$wvla:null,offeredStateValueExpression$wvla:null,acceptedStateValueExpression$wvla:null,footerDisplayedValueExpression$wvla:null,applyButtonDisabledValueExpression$wvla:null,backToListHandler$wvla:null,isClosed$wvla:false,showWorkflowAborted$wvla:true,acceptButton$wvla:null,cancelButton$wvla:null,applyButton$wvla:null,currentTaskUriPath$wvla:null,workflowName$wvla:null,switchingContainer$wvla:null,constructor:InboxDetailPanelWrapperBase$,super$wvla:function(){Ext.panel.Panel.prototype.constructor.apply(this,
arguments)},getFooterDisplayedValueExpression$wvla:getFooterDisplayedValueExpression,displayFooterToolbar$wvla:displayFooterToolbar,handleTask$wvla:handleTask,setButtonsDisabled$wvla:setButtonsDisabled,acceptWorkflow:acceptWorkflow,completeTask:completeTask,cancelTask:cancelTask,abortWorkflow:abortWorkflow,getAcceptedStateValueExpression:getAcceptedStateValueExpression,getOfferedStateValueExpression:getOfferedStateValueExpression,getMayAbortValueExpression:getMayAbortValueExpression,getMayCancelValueExpression:getMayCancelValueExpression,
getReadOnly:getReadOnly,getClosed:getClosed,setClosed:setClosed,getApplyButtonDisabledValueExpression:getApplyButtonDisabledValueExpression,computeApplyButtonDisabled$wvla:computeApplyButtonDisabled,taskChanged:taskChanged,maybeShowProcessAbortedWarning$wvla:maybeShowProcessAbortedWarning,registerProcessTaskOperationExitFunctions:registerProcessTaskOperationExitFunctions,getExitFunctions$wvla:getExitFunctions,beforeDestroy:beforeDestroy,requires:["AS3.Error","Ext.button.Button","Ext.container.Container",
"Ext.panel.Panel","com.coremedia.cap.common.MessageService","com.coremedia.cap.common.SESSION","com.coremedia.cap.workflow.Task","com.coremedia.cap.workflow.impl.WorklistEvent","com.coremedia.ui.components.SwitchingContainer","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.dependencies.DependencyTracker","com.coremedia.ui.data.util.PropertyChangeEventUtil","com.coremedia.ui.util.ExecuteEventually"],uses:["com.coremedia.cms.editor.controlroom.workflow.InboxDetailPanelWrapper",
"com.coremedia.cms.editor.controlroom.workflow.WorkflowForm","com.coremedia.cms.editor.controlroom.workflow.WorkflowUtils"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.ProcessListPanelBase",function(ProcessListPanelBase){function ProcessListPanelBase$(config){if(arguments.length<=0)config=null;this.super$KVXx(config);this.on("afterRender",AS3.bind(this,"setupDropZone$KVXx"))}function switchToDetail(){this.switchToDetailHandler&&this.switchToDetailHandler()}function getSelectedItems(){return this.selectedItems$KVXx}function setSelectedItems(value){var oldValue=this.selectedItems$KVXx;this.selectedItems$KVXx=
value;com.coremedia.ui.data.util.PropertyChangeEventUtil.fireEvent(this,com.coremedia.cms.editor.controlroom.workflow.ProcessListPanel.SELECTED_ITEMS_VARIABLE_NAME,oldValue,value)}function setupDropZone(){var dropZoneConfig=AS3.cast(Ext.dd.DropZone,{});dropZoneConfig.ddGroup="ContentLinkDD";var workflowDropZone=new com.coremedia.cms.editor.controlroom.workflow.dd.WorkflowPanelDropZone(this,new com.coremedia.cms.editor.controlroom.workflow.dd.WorkflowPanelDragDropModel(this),dropZoneConfig);workflowDropZone.addToGroup("ContentDD")}
return{extend:"com.coremedia.ui.components.ExtendableGrid",mixins:["com.coremedia.cms.editor.controlroom.workflow.SwitchingListPanel"],metadata:{getSelectedItems:["ProvideToExtChildren"]},selectedItems$KVXx:null,constructor:ProcessListPanelBase$,super$KVXx:function(){com.coremedia.ui.components.ExtendableGrid.prototype.constructor.apply(this,arguments)},switchToDetail:switchToDetail,switchToDetailHandler:null,getSelectedItems:getSelectedItems,setSelectedItems:setSelectedItems,setupDropZone$KVXx:setupDropZone,
requires:["Ext.dd.DropZone","com.coremedia.cms.editor.controlroom.workflow.SwitchingListPanel","com.coremedia.ui.components.ExtendableGrid","com.coremedia.ui.data.util.PropertyChangeEventUtil"],uses:["com.coremedia.cms.editor.controlroom.workflow.ProcessListPanel","com.coremedia.cms.editor.controlroom.workflow.dd.WorkflowPanelDragDropModel","com.coremedia.cms.editor.controlroom.workflow.dd.WorkflowPanelDropZone"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.WorkflowForm",function(WorkflowForm){function WorkflowForm$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.WorkflowFormBase,{});var defaults_$1=AS3.cast(WorkflowForm,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.DARK_200.getSkin());AS3.setBindable(config_$1,"scrollable",true);config_$1.padding=
"12px";var field_77_5_$1=AS3.cast(Ext.form.field.Base,{});field_77_5_$1.labelAlign="top";field_77_5_$1.labelSeparator="";var editor_PropertyField_80_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyField,{});editor_PropertyField_80_9_$1["bindToTask"]=AS3.getBindable(config,"bindToTask");AS3.setBindable(editor_PropertyField_80_9_$1,"bindTo",AS3.getBindable(config,"bindTo"));AS3.setBindable(editor_PropertyField_80_9_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));
delete editor_PropertyField_80_9_$1["xtype"];delete editor_PropertyField_80_9_$1["xclass"];net.jangaroo.ext.Exml.apply(field_77_5_$1,editor_PropertyField_80_9_$1);config_$1["defaultType"]=field_77_5_$1["xtype"];delete field_77_5_$1["xtype"];delete field_77_5_$1["xclass"];config_$1.defaults=field_77_5_$1;var layout_Anchor_88_5_$1=AS3.cast(Ext.layout.container.Anchor,{});AS3.setBindable(config_$1,"layout",layout_Anchor_88_5_$1);var ui_VerticalSpacingPlugin_92_5_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,
{});AS3.setBindable(ui_VerticalSpacingPlugin_92_5_$1,"modifier",com.coremedia.ui.bem.SpacingBEMEntities.VERTICAL_SPACING_MODIFIER_200);config_$1.plugins=[ui_VerticalSpacingPlugin_92_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$JLhM(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.workflow.WorkflowFormBase",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.controlroom.config.workflowForm",constructor:WorkflowForm$,super$JLhM:function(){com.coremedia.cms.editor.controlroom.workflow.WorkflowFormBase.prototype.constructor.apply(this,
arguments)},processDefinitionName:null,config:{bindTo:null,bindToTask:null,forceReadOnlyValueExpression:null,prefixItems:null},requires:["Ext.form.field.Base","Ext.layout.container.Anchor","com.coremedia.cms.editor.controlroom.workflow.WorkflowFormBase","com.coremedia.cms.editor.sdk.premular.PropertyField","com.coremedia.ui.bem.SpacingBEMEntities","com.coremedia.ui.plugins.VerticalSpacingPlugin","com.coremedia.ui.skins.ContainerSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.AddWorkflowPlugin",function(AddWorkflowPlugin){function AddWorkflowPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.configuration.StudioPlugin,{});var defaults_$1=AS3.cast(AddWorkflowPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var collab_TaskListPanel_58_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.TaskListPanel,{});var collab_AddWorkflowListToolbarButtonsPlugin_60_9_$1=
AS3.cast(com.coremedia.cms.editor.controlroom.workflow.AddWorkflowListToolbarButtonsPlugin,{});AS3.setBindable(collab_AddWorkflowListToolbarButtonsPlugin_60_9_$1,"processCategory",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"processCategory")));AS3.setBindable(collab_AddWorkflowListToolbarButtonsPlugin_60_9_$1,"buttons",AS3.getBindable(config,"listToolbarButtons"));collab_TaskListPanel_58_5_$1.plugins=[collab_AddWorkflowListToolbarButtonsPlugin_60_9_$1];var collab_ProcessListPanel_65_5_$1=
AS3.cast(com.coremedia.cms.editor.controlroom.workflow.ProcessListPanel,{});var collab_AddWorkflowListToolbarButtonsPlugin_67_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.AddWorkflowListToolbarButtonsPlugin,{});AS3.setBindable(collab_AddWorkflowListToolbarButtonsPlugin_67_9_$1,"processCategory",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"processCategory")));AS3.setBindable(collab_AddWorkflowListToolbarButtonsPlugin_67_9_$1,"buttons",AS3.getBindable(config,"listToolbarButtons"));
collab_ProcessListPanel_65_5_$1.plugins=[collab_AddWorkflowListToolbarButtonsPlugin_67_9_$1];var collab_InboxDetailPanelWrapper_72_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.InboxDetailPanelWrapper,{});var collab_AddInboxDetailPanelPlugin_74_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.AddInboxDetailPanelPlugin,{});AS3.setBindable(collab_AddInboxDetailPanelPlugin_74_9_$1,"inboxPanel",AS3.getBindable(config,"inboxPanel"));AS3.setBindable(collab_AddInboxDetailPanelPlugin_74_9_$1,
"processDefinitionName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"processDefinitionName")));collab_InboxDetailPanelWrapper_72_5_$1.plugins=[collab_AddInboxDetailPanelPlugin_74_9_$1];var collab_ProcessDetailPanelWrapper_79_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.ProcessDetailPanelWrapper,{});var collab_AddProcessDetailPanelPlugin_81_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.AddProcessDetailPanelPlugin,{});AS3.setBindable(collab_AddProcessDetailPanelPlugin_81_9_$1,
"processPanel",AS3.getBindable(config,"pendingPanel"));AS3.setBindable(collab_AddProcessDetailPanelPlugin_81_9_$1,"processDefinitionName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"processDefinitionName")));collab_ProcessDetailPanelWrapper_79_5_$1.plugins=[collab_AddProcessDetailPanelPlugin_81_9_$1];var collab_FinishedProcessListPanel_86_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.FinishedProcessListPanel,{});var collab_AddFinishedProcessPanelPlugin_88_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.AddFinishedProcessPanelPlugin,
{});AS3.setBindable(collab_AddFinishedProcessPanelPlugin_88_9_$1,"finishedPanel",AS3.getBindable(config,"finishedPanel"));AS3.setBindable(collab_AddFinishedProcessPanelPlugin_88_9_$1,"processDefinitionName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"processDefinitionName")));collab_FinishedProcessListPanel_86_5_$1.plugins=[collab_AddFinishedProcessPanelPlugin_88_9_$1];AS3.setBindable(config_$1,"rules",[collab_TaskListPanel_58_5_$1,collab_ProcessListPanel_65_5_$1,collab_InboxDetailPanelWrapper_72_5_$1,
collab_ProcessDetailPanelWrapper_79_5_$1,collab_FinishedProcessListPanel_86_5_$1]);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$d5q0(config_$1)}return{extend:"com.coremedia.cms.editor.configuration.StudioPlugin",metadata:{"":["PublicApi"]},constructor:AddWorkflowPlugin$,super$d5q0:function(){com.coremedia.cms.editor.configuration.StudioPlugin.prototype.constructor.apply(this,arguments)},config:{processDefinitionName:null,processCategory:null,inboxPanel:null,pendingPanel:null,finishedPanel:null,
listToolbarButtons:null},requires:["com.coremedia.cms.editor.configuration.StudioPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.workflow.AddFinishedProcessPanelPlugin","com.coremedia.cms.editor.controlroom.workflow.AddInboxDetailPanelPlugin","com.coremedia.cms.editor.controlroom.workflow.AddProcessDetailPanelPlugin","com.coremedia.cms.editor.controlroom.workflow.AddWorkflowListToolbarButtonsPlugin","com.coremedia.cms.editor.controlroom.workflow.FinishedProcessListPanel",
"com.coremedia.cms.editor.controlroom.workflow.InboxDetailPanelWrapper","com.coremedia.cms.editor.controlroom.workflow.ProcessDetailPanelWrapper","com.coremedia.cms.editor.controlroom.workflow.ProcessListPanel","com.coremedia.cms.editor.controlroom.workflow.TaskListPanel"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.WorkflowIssuesPanelBase",function(WorkflowIssuesPanelBase){var CM_CONTENT_URI_HTML_ATTRIBUTE$static="cm-content-uri";var EXTENDED_CONTENT_WARNING_ATTRIBUTE$static="extended-content-warning";function WorkflowIssuesPanelBase$(config){if(arguments.length<=0)config=null;this.super$bPG9(config);this.getView().addListener("itemclick",AS3.bind(this,"issuesClicked$bPG9"))}function afterRender(){var this$=this;com.coremedia.cms.editor.sdk.premular.IssuesPanel.prototype.afterRender.call(this);
Ext.EventManager.on(this.getView().getEl(),"keyup",function(evt,t,o){if(evt.keyCode===KeyEvent.DOM_VK_ENTER||evt.keyCode===KeyEvent.DOM_VK_RETURN||evt.keyCode===KeyEvent.DOM_VK_SPACE){var element=Ext.getDom(evt.target);var elements=element.getElementsByTagName("*");for(var i=0;i<elements.length;i++)if(elements[i].getAttribute(CM_CONTENT_URI_HTML_ATTRIBUTE$static))this$.nodeClicked$bPG9(elements[i])}})}function getWorkflowIssuesTemplate$static(){return new Ext.XTemplate('\x3cdiv class\x3d"'+com.coremedia.cms.editor.sdk.premular.IssuesPanelBase.BLOCK+
'"\x3e{[this.renderWorkflowIssues(values)]}\x3c/div\x3e',{renderWorkflowIssues:WorkflowIssuesPanelBase.renderWorkflowIssues})}function renderWorkflowIssues$static(values){return com.coremedia.ui.util.ArrayUtils.reduce(values,function(previous,current){return previous+renderWorkflowIssue$static(current)},"")}function renderWorkflowIssue$static(model){var code=model.code;var message=model.message;var contents=model.contents;var users=model.users;var contentMultiplicity=contents.length>1?"pl_text":"sg_text";
var codeDescription=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.actions.ContentSetErrors","workflow_contentSetIssue_"+code+"_"+contentMultiplicity);if(!codeDescription)if(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.publication.Publisher","publicationResult_error_"+code+"_"+contentMultiplicity))codeDescription=Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.publication.Publisher",
"publicationResult_error_"+code+"_"+contentMultiplicity),contents.length);if(!codeDescription)codeDescription=code;if(code===com.coremedia.collaboration.controlroom.rest.WorkflowSetIssues.WARNING_CODE_EXTENDED_WORKFLOW_EXCEEDED){contentMultiplicity=contents>1?"pl_text":"sg_text";codeDescription=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.actions.ContentSetErrors","workflow_contentSetIssue_"+code+"_"+contentMultiplicity,[contents])}var renderedContentList=
"";var renderedUserList="";if(code===com.coremedia.collaboration.controlroom.rest.WorkflowSetIssues.INFO_CODE_EXTENDED_WORKFLOW)codeDescription='\x3cdiv tabIndex\x3d"0" role\x3d"button" class\x3d"'+com.coremedia.cms.editor.sdk.premular.IssuesPanelBase.ISSUE_ELEMENT_LINK+'" '+EXTENDED_CONTENT_WARNING_ATTRIBUTE$static+'\x3d"#"\x3e'+codeDescription+"\x3c/div\x3e";else if(users.length>0)renderedUserList=renderUserList$static(users);else if(contents.length>0)renderedContentList=renderContentList$static(contents);
else if(code===com.coremedia.collaboration.controlroom.rest.WorkflowSetIssues.ERROR_CODE_INTERNAL_ERROR&&message&&message!=="")codeDescription=codeDescription+" ["+message+"]";return'\x3cdiv class\x3d"'+com.coremedia.cms.editor.sdk.premular.IssuesPanelBase.ELEMENT_ITEM+" "+com.coremedia.cms.editor.sdk.premular.IssuesPanelBase.ISSUE_BLOCK+" "+com.coremedia.cms.editor.sdk.premular.IssuesPanelBase.ISSUE_MODIFIER_WITH_LIST+'"\x3e'+addCodeDescription$static(codeDescription)+renderedUserList+renderedContentList+
"\x3c/div\x3e"}function addCodeDescription$static(codeDescription){if(codeDescription.indexOf("\x3c")===0)return codeDescription;else return'\x3cdiv class\x3d"'+com.coremedia.cms.editor.sdk.premular.IssuesPanelBase.ISSUE_ELEMENT_TEXT+'"\x3e'+codeDescription+"\x3c/div\x3e"}function renderUserList$static(users){return'\x3cul class\x3d"'+com.coremedia.cms.editor.sdk.premular.IssuesPanelBase.ISSUE_ELEMENT_LIST+'"\x3e'+com.coremedia.ui.util.ArrayUtils.reduce(users,function(previous,user){var encodedName=
com.coremedia.ui.util.EncodingUtil.encodeForHTML(user.getName());return previous+'\x3cli class\x3d"'+com.coremedia.cms.editor.sdk.premular.IssuesPanelBase.ISSUE_ELEMENT_TEXT+'"\x3e'+encodedName+"\x3c/li\x3e"},"")+"\x3c/ul\x3e"}function renderContentList$static(contents){return'\x3cul class\x3d"'+com.coremedia.cms.editor.sdk.premular.IssuesPanelBase.ISSUE_ELEMENT_LIST+'"\x3e'+com.coremedia.ui.util.ArrayUtils.reduce(contents,function(previous,content){var encodedName=content.getState().readable?com.coremedia.ui.util.EncodingUtil.encodeForHTML(content.getName()||
""):com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.formatNotReadableName(content);if(content.getState().readable)return previous+'\x3cli tabIndex\x3d"0" role\x3d"button" class\x3d"'+com.coremedia.cms.editor.sdk.premular.IssuesPanelBase.ISSUE_ELEMENT_LINK+'"'+CM_CONTENT_URI_HTML_ATTRIBUTE$static+"\x3d"+content.getUriPath()+"\x3e"+encodedName+"\x3c/li\x3e";else{content.load();return previous+"\x3cli\x3e"+encodedName+"\x3c/li\x3e"}},"")+"\x3c/ul\x3e"}function getExtentedContentSetCollapsiblePanel(){return AS3.as(AS3.getBindable(this,
"cmOwnerCt").findParentByType(com.coremedia.cms.editor.controlroom.workflow.components.WorkflowSetPanel.xtype).queryById(com.coremedia.cms.editor.controlroom.workflow.components.WorkflowSetPanel.EXTENDED_CONTENTS_COLLAPSIBLE_ITEM_ID),Ext.panel.Panel)}function issuesClicked(v,record,item,index,e){var node=e.getTarget();this.nodeClicked$bPG9(node)}function nodeClicked(node){if(AS3.getBindable(this,"cmOwnerCt")&&node.getAttribute(EXTENDED_CONTENT_WARNING_ATTRIBUTE$static)){var collapsiblePanel=this.getExtentedContentSetCollapsiblePanel$bPG9();
if(collapsiblePanel&&AS3.getBindable(collapsiblePanel,"collapsed","DUMMY"))collapsiblePanel.expand(false)}if(node.getAttribute(CM_CONTENT_URI_HTML_ATTRIBUTE$static)){var contentUri=AS3.as(node.getAttribute(CM_CONTENT_URI_HTML_ATTRIBUTE$static),String);var content=AS3.as(com.coremedia.ui.data.beanFactory.getRemoteBean(contentUri),com.coremedia.cap.content.Content);if(content.isFolder())com.coremedia.cms.editor.sdk.editorContext.getCollectionViewManager().showInRepository(content);else com.coremedia.cms.editor.sdk.editorContext.getContentTabManager().openDocument(content)}}
return{extend:"com.coremedia.cms.editor.sdk.premular.IssuesPanel",constructor:WorkflowIssuesPanelBase$,super$bPG9:function(){com.coremedia.cms.editor.sdk.premular.IssuesPanel.prototype.constructor.apply(this,arguments)},afterRender:afterRender,getExtentedContentSetCollapsiblePanel$bPG9:getExtentedContentSetCollapsiblePanel,issuesClicked$bPG9:issuesClicked,nodeClicked$bPG9:nodeClicked,config:{cmOwnerCt:null},statics:{getWorkflowIssuesTemplate:getWorkflowIssuesTemplate$static,renderWorkflowIssues:renderWorkflowIssues$static},
requires:["Ext","Ext.EventManager","Ext.String","Ext.XTemplate","Ext.panel.Panel","com.coremedia.cap.content.Content","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.premular.IssuesPanel","com.coremedia.cms.editor.sdk.premular.IssuesPanelBase","com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil","com.coremedia.collaboration.controlroom.rest.WorkflowSetIssues","com.coremedia.ui.data.beanFactory","com.coremedia.ui.util.ArrayUtils","com.coremedia.ui.util.EncodingUtil",
"mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.controlroom.workflow.components.WorkflowSetPanel"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.WorkflowNameColumnBase",function(WorkflowNameColumnBase){function WorkflowNameColumnBase$(config){if(arguments.length<=0)config=null;this.super$WlV4(config)}function getXTemplate(){return new Ext.XTemplate("{[this.renderWorkflowListColumn(values)]}",{renderWorkflowListColumn:AS3.bind(this,"renderWorkflowListColumn$WlV4")})}function renderWorkflowListColumn(attributes){if(attributes.processDefinitionName&&attributes.taskDefinitionName){var taskDefinitionDisplayName=
com.coremedia.cms.editor.controlroom.workflow.WorkflowLocalizationUtils.getTaskDefinitionDisplayName(attributes.processDefinitionName,attributes.taskDefinitionName);return attributes.processName+" ("+taskDefinitionDisplayName+")"}else return attributes.processName}return{extend:"Ext.grid.column.Template",constructor:WorkflowNameColumnBase$,super$WlV4:function(){Ext.grid.column.Template.prototype.constructor.apply(this,arguments)},getXTemplate:getXTemplate,renderWorkflowListColumn$WlV4:renderWorkflowListColumn,
requires:["Ext.XTemplate","Ext.grid.column.Template"],uses:["com.coremedia.cms.editor.controlroom.workflow.WorkflowLocalizationUtils"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.WorkflowLanguageColumn",function(WorkflowLanguageColumn){function WorkflowLanguageColumn$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.grid.column.Column,{});var defaults_$1=AS3.cast(WorkflowLanguageColumn,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.stateId="workflowLanguage";config_$1.dataIndex="language";AS3.setBindable(config_$1,"width",140);net.jangaroo.ext.Exml.apply(config_$1,config);
this.super$YD1W(config_$1)}return{extend:"Ext.grid.column.Column",constructor:WorkflowLanguageColumn$,super$YD1W:function(){Ext.grid.column.Column.prototype.constructor.apply(this,arguments)},requires:["Ext.grid.column.Column","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.ProcessInfoWindowBase",function(ProcessInfoWindowBase){function ProcessInfoWindowBase$(config){if(arguments.length<=0)config=null;this.process$e5eh=AS3.getBindable(config,"process");this.processUriPath$e5eh=this.process$e5eh.getUriPath();this.workflowName$e5eh=this.process$e5eh.getProperties().get("subject");AS3.cast(com.coremedia.cap.common.MessageService,com.coremedia.cap.common.SESSION.getConnection()).addMessageListener("worklist",AS3.bind(this,
"maybeShowProcessAbortedWarning$e5eh"));this.super$e5eh(config)}function abortWorkflow(){var this$=this;com.coremedia.cms.editor.controlroom.workflow.WorkflowUtils.askAbortWorkflow(this.process$e5eh,function(abort){if(abort){this$.showWorkflowAborted$e5eh=false;this$.process$e5eh.abort();this$.close()}})}function createAbortButtonVisibilityValueExpression(){var this$=this;return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){return com.coremedia.cms.editor.controlroom.workflow.WorkflowUtils.mayAbortWorkflow(this$.process$e5eh)})}
function getTitleVE(){var this$=this;return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var title="";if(this$.process$e5eh){title=this$.process$e5eh.getProperties().get("subject");if(this$.process$e5eh.isRunning()){var tasks=this$.process$e5eh.getTasks();if(tasks){var activeTask;tasks.forEach(function(task){if(task.isActivated()||task.isRunning())activeTask=task});if(activeTask)title=title+" ("+com.coremedia.cms.editor.controlroom.workflow.WorkflowLocalizationUtils.getTaskDefinitionDisplayNameOfTask(activeTask)+
")"}}}return title})}function maybeShowProcessAbortedWarning(message){var workListEvent=AS3.cast(com.coremedia.cap.workflow.impl.WorklistEvent,message.body);if(workListEvent.event==="taskAborted"&&AS3.as(workListEvent.parameters[0],com.coremedia.cap.workflow.Task)&&AS3.as(workListEvent.parameters[0],com.coremedia.cap.workflow.Task).getContainingProcess()&&AS3.as(workListEvent.parameters[0],com.coremedia.cap.workflow.Task).getContainingProcess().getUriPath()===this.processUriPath$e5eh)if(this.showWorkflowAborted$e5eh){com.coremedia.cms.editor.controlroom.workflow.WorkflowUtils.showWorkflowAbortedMessage(this.workflowName$e5eh);
this.close()}}function showProcessInfoWindow$static(process,infoPanelConfig){com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.cap.workflow.ProcessPropertyNames.DEFINITION+"."+com.coremedia.cap.common.CapTypePropertyNames.NAME,process).loadValue(function(processName){var processInfoWindowCfg=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.ProcessInfoWindow,{});var workflowFormCfg=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.WorkflowForm,{});AS3.setBindable(workflowFormCfg,
"bindTo",com.coremedia.ui.data.ValueExpressionFactory.createFromValue(process));AS3.setBindable(workflowFormCfg,"forceReadOnlyValueExpression",com.coremedia.ui.data.ValueExpressionFactory.TRUE_VALUE_EXPRESSION);workflowFormCfg.processDefinitionName=processName;processInfoWindowCfg.items=[Ext.apply(workflowFormCfg,infoPanelConfig)];AS3.setBindable(processInfoWindowCfg,"process",process);Ext.ComponentManager.create(processInfoWindowCfg).show()})}function beforeDestroy(){AS3.cast(com.coremedia.cap.common.MessageService,
com.coremedia.cap.common.SESSION.getConnection()).removeMessageListener("worklist",AS3.bind(this,"maybeShowProcessAbortedWarning$e5eh"));com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.beforeDestroy.call(this)}return{extend:"com.coremedia.cms.editor.sdk.components.StudioDialog",process$e5eh:null,processUriPath$e5eh:null,workflowName$e5eh:null,showWorkflowAborted$e5eh:true,constructor:ProcessInfoWindowBase$,super$e5eh:function(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.constructor.apply(this,
arguments)},abortWorkflow:abortWorkflow,createAbortButtonVisibilityValueExpression:createAbortButtonVisibilityValueExpression,getTitleVE:getTitleVE,maybeShowProcessAbortedWarning$e5eh:maybeShowProcessAbortedWarning,beforeDestroy:beforeDestroy,statics:{showProcessInfoWindow:showProcessInfoWindow$static},requires:["Ext","Ext.ComponentManager","com.coremedia.cap.common.CapTypePropertyNames","com.coremedia.cap.common.MessageService","com.coremedia.cap.common.SESSION","com.coremedia.cap.workflow.ProcessPropertyNames",
"com.coremedia.cap.workflow.Task","com.coremedia.cap.workflow.impl.WorklistEvent","com.coremedia.cms.editor.sdk.components.StudioDialog","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.controlroom.workflow.ProcessInfoWindow","com.coremedia.cms.editor.controlroom.workflow.WorkflowForm","com.coremedia.cms.editor.controlroom.workflow.WorkflowLocalizationUtils","com.coremedia.cms.editor.controlroom.workflow.WorkflowUtils"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.WorkflowFinishedNotification",function(WorkflowFinishedNotification){function WorkflowFinishedNotification$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.ui.components.AnimatedNotification,{});var defaults_$1=AS3.cast(WorkflowFinishedNotification,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"position","rc");var label_23_5_$1=AS3.cast(Ext.form.Label,{});AS3.setBindable(label_23_5_$1,
"text",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"text")));config_$1.items=[label_23_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$2coF(config_$1)}return{extend:"com.coremedia.ui.components.AnimatedNotification",alias:"widget.com.coremedia.cms.editor.controlroom.config.workflowFinishedNotification",constructor:WorkflowFinishedNotification$,super$2coF:function(){com.coremedia.ui.components.AnimatedNotification.prototype.constructor.apply(this,arguments)},config:{text:null},
requires:["Ext.form.Label","com.coremedia.ui.components.AnimatedNotification","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.TaskWarningPanelBase",function(TaskWarningPanelBase){function TaskWarningPanelBase$(config){if(arguments.length<=0)config=null;this.super$3eaH(config)}function getWarningValueExpression(config){if(!this.warningValueExpression$3eaH)this.warningValueExpression$3eaH=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(computeWarning$static,AS3.getBindable(config,"taskValueExpression"));return this.warningValueExpression$3eaH}function computeWarning$static(taskValueExpression){var task=
taskValueExpression.getValue();if(!task)return null;var escalationException=task.getEscalationException();if(escalationException)return escalationException;var warnings=task.getWarnings();if(warnings&&warnings.length>0)return warnings[0];return null}return{extend:"com.coremedia.cms.editor.sdk.premular.CollapsiblePanel",warningValueExpression$3eaH:null,constructor:TaskWarningPanelBase$,super$3eaH:function(){com.coremedia.cms.editor.sdk.premular.CollapsiblePanel.prototype.constructor.apply(this,arguments)},
getWarningValueExpression:getWarningValueExpression,requires:["com.coremedia.cms.editor.sdk.premular.CollapsiblePanel","com.coremedia.ui.data.ValueExpressionFactory"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.ProcessDetailPanelWrapper",function(ProcessDetailPanelWrapper){function ProcessDetailPanelWrapper$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.ProcessDetailPanelWrapperBase,{});var defaults_$1=AS3.cast(ProcessDetailPanelWrapper,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"scrollable",true);var ui_SwitchingContainer_49_5_$1=AS3.cast(com.coremedia.ui.components.SwitchingContainer,
{});ui_SwitchingContainer_49_5_$1.itemId=net.jangaroo.ext.Exml.asString(ProcessDetailPanelWrapper.PROPERTY_FIELD_CONTAINER_ITEM_ID);AS3.setBindable(ui_SwitchingContainer_49_5_$1,"activeItemValueExpression",AS3.getBindable(config,"processValueExpression").extendBy(ProcessDetailPanelWrapper.TYPE_PROPERTY_PATH));var editor_PropertyField_52_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyField,{});AS3.setBindable(editor_PropertyField_52_9_$1,"bindTo",AS3.getBindable(config,"processValueExpression"));
AS3.setBindable(editor_PropertyField_52_9_$1,"forceReadOnlyValueExpression",com.coremedia.ui.data.ValueExpressionFactory.TRUE_VALUE_EXPRESSION);ui_SwitchingContainer_49_5_$1["defaultType"]=editor_PropertyField_52_9_$1["xtype"];delete editor_PropertyField_52_9_$1["xtype"];delete editor_PropertyField_52_9_$1["xclass"];ui_SwitchingContainer_49_5_$1.defaults=editor_PropertyField_52_9_$1;config_$1.items=[ui_SwitchingContainer_49_5_$1];var tbSpacer_59_5_$1=AS3.cast(Ext.toolbar.Spacer,{});AS3.setBindable(tbSpacer_59_5_$1,
"height",26);AS3.setBindable(tbSpacer_59_5_$1,"width",0);config_$1.buttons=[tbSpacer_59_5_$1];var toolbar_63_5_$1=AS3.cast(Ext.toolbar.Toolbar,{});AS3.setBindable(toolbar_63_5_$1,"height",29);var ui_IconButton_65_9_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_65_9_$1.itemId=net.jangaroo.ext.Exml.asString(ProcessDetailPanelWrapper.BACK_BUTTON_ITEM_ID);AS3.setBindable(ui_IconButton_65_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons",
"collapsing_arrow_left")));AS3.setBindable(ui_IconButton_65_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","ControlRoomPlugin_btn_back_to_list_tooltip")));AS3.setBindable(ui_IconButton_65_9_$1,"tooltip",this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","ControlRoomPlugin_btn_back_to_list_tooltip"));AS3.setBindable(ui_IconButton_65_9_$1,"handler",AS3.getBindable(config,"backToListHandler"));
var label_70_9_$1=AS3.cast(Ext.form.Label,{});label_70_9_$1.itemId=net.jangaroo.ext.Exml.asString(ProcessDetailPanelWrapper.SUBJECT_LABEL_ITEM_ID);var ui_BindPropertyPlugin_72_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_72_13_$1.componentProperty="text";ui_BindPropertyPlugin_72_13_$1.transformer=function(value){return Ext.util.Format.ellipsis(value,45,false)};ui_BindPropertyPlugin_72_13_$1.bindTo=AS3.getBindable(config,"processValueExpression").extendBy(ProcessDetailPanelWrapper.SUBJECT_PROPERTY_PATH);
label_70_9_$1.plugins=[ui_BindPropertyPlugin_72_13_$1];var tbSpacer_78_9_$1=AS3.cast(Ext.toolbar.Spacer,{});tbSpacer_78_9_$1.flex=1;var ui_MenuIconButton_80_9_$1=AS3.cast(com.coremedia.ui.components.MenuIconButton,{});ui_MenuIconButton_80_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.TOOLBAR.getSkin());AS3.setBindable(ui_MenuIconButton_80_9_$1,"arrowVisible",false);AS3.setBindable(ui_MenuIconButton_80_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"ControlRoomPlugin_btn_show_filter_options_tooltip")));AS3.setBindable(ui_MenuIconButton_80_9_$1,"tooltip",this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","ControlRoomPlugin_btn_show_filter_options_tooltip"));AS3.setBindable(ui_MenuIconButton_80_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","arrow_down")));var ui_BindVisibilityPlugin_86_13_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});
ui_BindVisibilityPlugin_86_13_$1.bindTo=this.getMayAbortValueExpression();ui_MenuIconButton_80_9_$1.plugins=[ui_BindVisibilityPlugin_86_13_$1];var menu_89_13_$1=AS3.cast(Ext.menu.Menu,{});var menuItem_91_17_$1=AS3.cast(Ext.menu.Item,{});AS3.setBindable(menuItem_91_17_$1,"handler",AS3.bind(this,"abortWorkflow"));AS3.setBindable(menuItem_91_17_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","WorkflowInfoWindow_abortButton_label")));
AS3.setBindable(menuItem_91_17_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","abort_workflow")));menu_89_13_$1.items=[menuItem_91_17_$1];ui_MenuIconButton_80_9_$1.menu=menu_89_13_$1;toolbar_63_5_$1.items=[ui_IconButton_65_9_$1,label_70_9_$1,tbSpacer_78_9_$1,ui_MenuIconButton_80_9_$1];config_$1.tbar=toolbar_63_5_$1;var layout_Fit_102_5_$1=AS3.cast(Ext.layout.container.Fit,{});AS3.setBindable(config_$1,"layout",layout_Fit_102_5_$1);net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$B5xS(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.workflow.ProcessDetailPanelWrapperBase",alias:"widget.com.coremedia.cms.editor.controlroom.config.processDetailPanelWrapper",constructor:ProcessDetailPanelWrapper$,super$B5xS:function(){com.coremedia.cms.editor.controlroom.workflow.ProcessDetailPanelWrapperBase.prototype.constructor.apply(this,arguments)},config:{processValueExpression:null,backToListHandler:null},statics:{PROPERTY_FIELD_CONTAINER_ITEM_ID:"propertyFieldContainer",
BACK_BUTTON_ITEM_ID:"backButtonItemId",SUBJECT_LABEL_ITEM_ID:"subjectLabelItemId",TYPE_PROPERTY_PATH:"definition.name",SUBJECT_PROPERTY_PATH:"properties.subject"},requires:["Ext.form.Label","Ext.layout.container.Fit","Ext.menu.Item","Ext.menu.Menu","Ext.toolbar.Spacer","Ext.toolbar.Toolbar","Ext.util.Format","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.workflow.ProcessDetailPanelWrapperBase","com.coremedia.cms.editor.sdk.premular.PropertyField",
"com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.components.IconButton","com.coremedia.ui.components.MenuIconButton","com.coremedia.ui.components.SwitchingContainer","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.BindVisibilityPlugin","com.coremedia.ui.skins.ButtonSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.WorkflowIssuesWindowBase",function(WorkflowIssuesWindowBase){function WorkflowIssuesWindowBase$(config){var this$=this;if(arguments.length<=0)config=null;this.super$Lr1D(config);this.warningsPanel$Lr1D=AS3.as(this.queryById(com.coremedia.cms.editor.controlroom.workflow.WorkflowIssuesWindow.WARNING_ISSUES_PANEL_ITEM_ID),com.coremedia.cms.editor.sdk.premular.IssuesPanel);this.errorsPanel$Lr1D=AS3.as(this.queryById(com.coremedia.cms.editor.controlroom.workflow.WorkflowIssuesWindow.ERROR_ISSUES_PANEL_ITEM_ID),
com.coremedia.cms.editor.sdk.premular.IssuesPanel);this.mon(this.getWarnIssuesStore(),"load",AS3.bind(this,"issuesChanged$Lr1D"));this.mon(this.getErrorIssuesStore(),"load",AS3.bind(this,"issuesChanged$Lr1D"));this.on("afterrender",function(){if(AS3.getBindable(this$,"cmOwnerCt")){var pos=AS3.getBindable(this$,"cmOwnerCt").getEl().getXY();this$.setPosition(pos[0]+AS3.getBindable(this$,"cmOwnerCt").getEl().getWidth(),pos[1])}},null,{single:true});this.getRenderedWorkflowIssuesVE$Lr1D().addChangeListener(AS3.bind(this,
"refreshIssuePanels$Lr1D"))}function refreshIssuePanels(){this.errorsPanel$Lr1D.getView().refresh();this.warningsPanel$Lr1D.getView().refresh()}function issuesChanged(){this.updateLayout()}function setClosed(closed){if(closed)this.close()}function getFilteredIssues(predicate){return this.getIssues().filter(predicate)}function getIssues(){return AS3.getBindable(this,"issuesVE").getValue()||[]}function toModel$static(issue){var model=new com.coremedia.cms.editor.controlroom.workflow.WorkflowIssueModel;
model.code=issue.code;if(model.code===com.coremedia.collaboration.controlroom.rest.WorkflowSetIssues.CODE_ASSIGNEES_NOT_AUTHORIZED)handleAuthorizationIssue$static(issue,model);else{var issueArguments=AS3.as(issue.arguments,Array);if(issueArguments)if(AS3.is(issueArguments[0],Array)&&AS3.is(issueArguments[0][0],com.coremedia.cap.content.Content))model.contents=AS3.as(issue.arguments[0],Array);else if(AS3.is(issueArguments[0],AS3.int_))model.contents=issue.arguments[0];else if(AS3.is(issueArguments[0],
String))model.message=issueArguments[0]}return model}function handleAuthorizationIssue$static(issue,model){model.contents=issue.arguments[0];model.users=issue.arguments[1];if(model.contents.length>0)if(model.users[0]===com.coremedia.cap.common.SESSION.getUser()){model.code="documentNoRights";model.users=[]}else{model.code="assigneeNotAuthorized";model.contents=[]}else if(model.users.length===1)model.code="assigneeNotAuthorized";else if(issue.severity!==com.coremedia.ui.data.validation.Severity.ERROR)model.code=
"someAssigneesNotAuthorized"}function getIssueModels(predicate){var models=this.getFilteredIssues$Lr1D(predicate).map(toModel$static);models.sort(compareModels$static);for(var i=0;i<models.length;i++)models[i].id=""+i;return models}function compareModels$static(model1,model2){if(model1.code<model2.code)return-1;if(model1.code>model2.code)return 1;return 0}function getWarnIssueModels(){return this.getIssueModels$Lr1D(com.coremedia.cms.editor.sdk.validation.ValidationUtil.isWarnIssue)}function getErrorIssueModels(){return this.getIssueModels$Lr1D(com.coremedia.cms.editor.sdk.validation.ValidationUtil.isErrorIssue)}
function getWarnIssueModelsExpression(){if(!this.warnIssueModelsExpression$Lr1D)this.warnIssueModelsExpression$Lr1D=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"getWarnIssueModels"));return this.warnIssueModelsExpression$Lr1D}function getErrorIssueModelsExpression(){if(!this.errorIssueModelsExpression$Lr1D)this.errorIssueModelsExpression$Lr1D=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"getErrorIssueModels"));return this.errorIssueModelsExpression$Lr1D}
function getWarnIssuesStore(){if(!this.warnIssuesStore$Lr1D)this.warnIssuesStore$Lr1D=getIssuesStore$static();return this.warnIssuesStore$Lr1D}function getErrorIssuesStore(){if(!this.errorIssuesStore$Lr1D)this.errorIssuesStore$Lr1D=getIssuesStore$static();return this.errorIssuesStore$Lr1D}function getIssuesStore$static(){return Ext.create(Ext.data.JsonStore,{idProperty:"id",fields:["id","code","message","contents","users"]})}function getRenderedWorkflowIssuesVE(){var this$=this;if(!this.renderedWorkflowIssuesVE$Lr1D)this.renderedWorkflowIssuesVE$Lr1D=
com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var issuesArray=AS3.getBindable(this$,"issuesVE").getValue()||[];return com.coremedia.cms.editor.controlroom.workflow.WorkflowIssuesPanelBase.renderWorkflowIssues(issuesArray.map(toModel$static))});return this.renderedWorkflowIssuesVE$Lr1D}function beforeDestroy(){this.getRenderedWorkflowIssuesVE$Lr1D().removeChangeListener(AS3.bind(this,"refreshIssuePanels$Lr1D"));com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.beforeDestroy.call(this)}
return{extend:"com.coremedia.cms.editor.sdk.components.StudioDialog",metadata:{setClosed:["InjectFromExtParent"]},warnIssueModelsExpression$Lr1D:null,errorIssueModelsExpression$Lr1D:null,warnIssuesStore$Lr1D:null,errorIssuesStore$Lr1D:null,errorsPanel$Lr1D:null,warningsPanel$Lr1D:null,renderedWorkflowIssuesVE$Lr1D:null,constructor:WorkflowIssuesWindowBase$,super$Lr1D:function(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.constructor.apply(this,arguments)},refreshIssuePanels$Lr1D:refreshIssuePanels,
issuesChanged$Lr1D:issuesChanged,setClosed:setClosed,getFilteredIssues$Lr1D:getFilteredIssues,getIssues:getIssues,getIssueModels$Lr1D:getIssueModels,getWarnIssueModels:getWarnIssueModels,getErrorIssueModels:getErrorIssueModels,getWarnIssueModelsExpression:getWarnIssueModelsExpression,getErrorIssueModelsExpression:getErrorIssueModelsExpression,getWarnIssuesStore:getWarnIssuesStore,getErrorIssuesStore:getErrorIssuesStore,getRenderedWorkflowIssuesVE$Lr1D:getRenderedWorkflowIssuesVE,beforeDestroy:beforeDestroy,
config:{issuesVE:null,cmOwnerCt:null},requires:["AS3.int_","Ext","Ext.data.JsonStore","com.coremedia.cap.common.SESSION","com.coremedia.cap.content.Content","com.coremedia.cms.editor.controlroom.actions.ContentSetErrors_properties","com.coremedia.cms.editor.sdk.components.StudioDialog","com.coremedia.cms.editor.sdk.premular.IssuesPanel","com.coremedia.cms.editor.sdk.publication.Publisher_properties","com.coremedia.cms.editor.sdk.validation.ValidationUtil","com.coremedia.collaboration.controlroom.rest.WorkflowSetIssues",
"com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.validation.Severity"],uses:["com.coremedia.cms.editor.controlroom.workflow.WorkflowIssueModel","com.coremedia.cms.editor.controlroom.workflow.WorkflowIssuesPanelBase","com.coremedia.cms.editor.controlroom.workflow.WorkflowIssuesWindow"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.WorkflowFormBase",function(WorkflowFormBase){function WorkflowFormBase$(config){if(arguments.length<=0)config=null;var mergedConfig=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.WorkflowForm,Ext.apply({},config));mergedConfig.items=(AS3.getBindable(config,"prefixItems")?AS3.getBindable(config,"prefixItems"):[]).concat(config.items);this.super$zth7(mergedConfig)}function isApplyButtonDisabled(){return false}return{extend:"Ext.container.Container",
metadata:{"":["PublicApi"]},constructor:WorkflowFormBase$,super$zth7:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},isApplyButtonDisabled:isApplyButtonDisabled,requires:["Ext","Ext.container.Container"],uses:["com.coremedia.cms.editor.controlroom.workflow.WorkflowForm"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.ProcessDetailPanelWrapperBase",function(ProcessDetailPanelWrapperBase){function ProcessDetailPanelWrapperBase$(config){if(arguments.length<=0)config=null;this.processValueExpression$2GlD=AS3.getBindable(config,"processValueExpression");this.super$2GlD(config);this.backToListHandler$2GlD=AS3.getBindable(config,"backToListHandler");this.processValueExpression$2GlD.addChangeListener(AS3.bind(this,"processChanged"));AS3.cast(com.coremedia.cap.common.MessageService,
com.coremedia.cap.common.SESSION.getConnection()).addMessageListener("worklist",AS3.bind(this,"maybeShowProcessAbortedWarning$2GlD"));this.getFooterDisplayedValueExpression$2GlD().addChangeListener(AS3.bind(this,"displayFooterToolbar$2GlD"));this.on("afterrender",AS3.bind(this,"displayFooterToolbar$2GlD"))}function getProcess(){return this.processValueExpression$2GlD.getValue()}function processChanged(){com.coremedia.ui.data.util.PropertyChangeEventUtil.fireEvent(this,"process",undefined,this.processValueExpression$2GlD.getValue());
var process=AS3.as(this.processValueExpression$2GlD.getValue(),com.coremedia.cap.workflow.Process);if(process){this.currentProcessUriPath$2GlD=process.getUriPath();this.workflowName$2GlD=process.getProperties().get("subject")}else{this.showWorkflowAborted$2GlD=true;this.currentProcessUriPath$2GlD=null}}function maybeShowProcessAbortedWarning(message){var workListEvent=AS3.cast(com.coremedia.cap.workflow.impl.WorklistEvent,message.body);if(workListEvent.event==="taskAborted"&&AS3.as(workListEvent.parameters[0],
com.coremedia.cap.workflow.Task)&&AS3.as(workListEvent.parameters[0],com.coremedia.cap.workflow.Task).getContainingProcess()&&AS3.as(workListEvent.parameters[0],com.coremedia.cap.workflow.Task).getContainingProcess().getUriPath()===this.currentProcessUriPath$2GlD)if(this.showWorkflowAborted$2GlD)com.coremedia.cms.editor.controlroom.workflow.WorkflowUtils.showWorkflowAbortedMessage(this.workflowName$2GlD)}function abortWorkflow(){var this$=this;var process=AS3.as(this.getProcess(),com.coremedia.cap.workflow.Process);
com.coremedia.cms.editor.controlroom.workflow.WorkflowUtils.askAbortWorkflow(process,function(abort){if(abort){this$.showWorkflowAborted$2GlD=false;process.abort();this$.backToListHandler$2GlD()}})}function getMayAbortValueExpression(){var this$=this;return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){return com.coremedia.cms.editor.controlroom.workflow.WorkflowUtils.mayAbortWorkflow(AS3.as(this$.getProcess(),com.coremedia.cap.workflow.Process))})}function getFooterDisplayedValueExpression(){var this$=
this;if(!this.footerDisplayedValueExpression$2GlD){var wrapper=this;this.footerDisplayedValueExpression$2GlD=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(wrapper,"process");if(!this$.getProcess())return false;else return this$.getMayAbortValueExpression().getValue()})}return this.footerDisplayedValueExpression$2GlD}function displayFooterToolbar(){if(this.getFooterToolbar()){var displayed=this.getFooterDisplayedValueExpression$2GlD().getValue();
if(displayed!==undefined&&displayed!==this.getFooterToolbar().isVisible())this.getFooterToolbar().setVisible(this.getFooterDisplayedValueExpression$2GlD().getValue())}}function beforeDestroy(){this.processValueExpression$2GlD.removeChangeListener(AS3.bind(this,"processChanged"));AS3.cast(com.coremedia.cap.common.MessageService,com.coremedia.cap.common.SESSION.getConnection()).removeMessageListener("worklist",AS3.bind(this,"maybeShowProcessAbortedWarning$2GlD"));this.getFooterDisplayedValueExpression$2GlD().removeChangeListener(AS3.bind(this,
"displayFooterToolbar$2GlD"));Ext.panel.Panel.prototype.beforeDestroy.call(this)}return{extend:"Ext.panel.Panel",metadata:{getProcess:["ProvideToExtChildren"]},processValueExpression$2GlD:null,backToListHandler$2GlD:null,currentProcessUriPath$2GlD:null,workflowName$2GlD:null,showWorkflowAborted$2GlD:true,footerDisplayedValueExpression$2GlD:null,constructor:ProcessDetailPanelWrapperBase$,super$2GlD:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},getProcess:getProcess,processChanged:processChanged,
maybeShowProcessAbortedWarning$2GlD:maybeShowProcessAbortedWarning,abortWorkflow:abortWorkflow,getMayAbortValueExpression:getMayAbortValueExpression,getFooterDisplayedValueExpression$2GlD:getFooterDisplayedValueExpression,displayFooterToolbar$2GlD:displayFooterToolbar,beforeDestroy:beforeDestroy,requires:["Ext.panel.Panel","com.coremedia.cap.common.MessageService","com.coremedia.cap.common.SESSION","com.coremedia.cap.workflow.Process","com.coremedia.cap.workflow.Task","com.coremedia.cap.workflow.impl.WorklistEvent",
"com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.dependencies.DependencyTracker","com.coremedia.ui.data.util.PropertyChangeEventUtil"],uses:["com.coremedia.cms.editor.controlroom.workflow.WorkflowUtils"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.WorkflowLocalizationUtils",function(WorkflowLocalizationUtils){function getProcessDefinitionDisplayName$static(processDefinitionName){var propertyName=processDefinitionName+"_text";return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.ProcessDefinitions",propertyName)||processDefinitionName}function getWorkflowStateDisplayName$static(processDefinitionName,state){var propertyName=processDefinitionName+"_state_"+
state+"_text";return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.ProcessDefinitions",propertyName)||state}function getTaskDefinitionDisplayNameOfTask$static(task){var taskDefinition=task.getDefinition();if(!taskDefinition)return undefined;var taskDefinitionName=taskDefinition.getName();if(!taskDefinitionName)return undefined;var processDefinition=taskDefinition.getDeclaringDefinition();if(!processDefinition)return undefined;var processDefinitionName=processDefinition.getName();
if(!processDefinitionName)return undefined;return WorkflowLocalizationUtils.getTaskDefinitionDisplayName(processDefinitionName,taskDefinitionName)}function getTaskDefinitionDisplayName$static(processDefinitionName,taskDefinitionName){var propertyName=processDefinitionName+"_task_"+taskDefinitionName+"_text";return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.ProcessDefinitions",propertyName)||taskDefinitionName}function WorkflowLocalizationUtils$(){}return{metadata:{"":["PublicApi"]},
constructor:WorkflowLocalizationUtils$,statics:{getProcessDefinitionDisplayName:getProcessDefinitionDisplayName$static,getWorkflowStateDisplayName:getWorkflowStateDisplayName$static,getTaskDefinitionDisplayNameOfTask:getTaskDefinitionDisplayNameOfTask$static,getTaskDefinitionDisplayName:getTaskDefinitionDisplayName$static},requires:["com.coremedia.cms.editor.ProcessDefinitions_properties","mx.resources.ResourceManager"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.AssignMembersPanelBase",function(AssignMembersPanelBase){var RADIO_GROUP_NAME$static="assignMembersRadioGroup";function AssignMembersPanelBase$(config){if(arguments.length<=0)config=null;this.super$$IBU(config);this.memberSearchFieldCmp$$IBU=AS3.as(this.down(com.coremedia.ui.util.createComponentSelector()._xtype(com.coremedia.cms.editor.sdk.member.MemberSearchField.xtype).build()),com.coremedia.cms.editor.sdk.member.MemberSearchField)}function afterRender(){com.coremedia.cms.editor.sdk.premular.CollapsiblePanel.prototype.afterRender.call(this);
this.mon(this.memberSearchFieldCmp$$IBU,"blur",AS3.bind(this,"modeAndMemberSelectionChanged$$IBU"));this.getSelectedMembersVE().addChangeListener(AS3.bind(this,"modeAndMemberSelectionChanged$$IBU"));this.getIsModeOfferVE().addChangeListener(AS3.bind(this,"modeAndMemberSelectionChanged$$IBU"));AS3.getBindable(this,"assignedMembersValueExpression").addChangeListener(AS3.bind(this,"assignedMembersChanged$$IBU"));this.assignedMembersChanged$$IBU(null)}function isOfferMode(){return this.getIsModeOfferVE().getValue()}
function getRadioGroupName(){return this.getId()+"_"+RADIO_GROUP_NAME$static}function assignedMembersChanged(ve){if(AS3.getBindable(this,"assignedMembersValueExpression").getValue())if(AS3.as(AS3.getBindable(this,"assignedMembersValueExpression").getValue(),Array).length>0){this.isModeOfferVE$$IBU.setValue(false);this.getSelectedMembersVE().setValue(AS3.getBindable(this,"assignedMembersValueExpression").getValue())}else if(AS3.as(AS3.getBindable(this,"assignedMembersValueExpression").getValue(),Array).length===
0){if(!ve||(this.getSelectMembersContainerDisabledVE()&&this.getSelectMembersContainerDisabledVE().getValue()&&AS3.as(ve.getValue(),Array)).length===0)this.isModeOfferVE$$IBU.setValue(true);this.getSelectedMembersVE().setValue(AS3.getBindable(this,"assignedMembersValueExpression").getValue())}if(!this.getIsModeOfferVE().getValue()&&(!AS3.getBindable(this,"assignedMembersValueExpression").getValue()||AS3.as(AS3.getBindable(this,"assignedMembersValueExpression").getValue(),Array).length===0))this.memberSearchFieldCmp$$IBU.applyValidationResult(false,
this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","AssignMembersPanel_noUsersAssigned_error"));else this.memberSearchFieldCmp$$IBU.applyValidationResult(true)}function modeAndMemberSelectionChanged(){if(this.getIsModeOfferVE().getValue())AS3.getBindable(this,"assignedMembersValueExpression").setValue([]);else AS3.getBindable(this,"assignedMembersValueExpression").setValue(this.getSelectedMembersVE().getValue());if(!this.getIsModeOfferVE().getValue()&&AS3.as(this.getSelectedMembersVE().getValue(),
Array).length===0)this.memberSearchFieldCmp$$IBU.applyValidationResult(false,this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","AssignMembersPanel_noUsersAssigned_error"));else this.memberSearchFieldCmp$$IBU.applyValidationResult(true)}function getIsModeOfferVE(){if(!this.isModeOfferVE$$IBU)this.isModeOfferVE$$IBU=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(true);return this.isModeOfferVE$$IBU}function transformIsModeOffer$static(inputValue){return inputValue===
undefined||inputValue===AssignMembersPanelBase.RADIO_GROUP_OFFER}function getSelectMembersContainerDisabledVE(){var this$=this;return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var readOnly=this$.forceReadOnlyValueExpression&&this$.forceReadOnlyValueExpression.getValue();if(readOnly===true)return readOnly;return this$.getIsModeOfferVE().getValue()})}function getRadioGroupDisabledVE(){var this$=this;return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){if(this$.forceReadOnlyValueExpression)return this$.forceReadOnlyValueExpression.getValue();
return false})}function getSelectedMembersVE(){if(!this.selectedMembersVE$$IBU)this.selectedMembersVE$$IBU=com.coremedia.ui.data.ValueExpressionFactory.createFromValue([]);return this.selectedMembersVE$$IBU}function beforeDestroy(){this.getSelectedMembersVE().removeChangeListener(AS3.bind(this,"modeAndMemberSelectionChanged$$IBU"));this.getIsModeOfferVE().removeChangeListener(AS3.bind(this,"modeAndMemberSelectionChanged$$IBU"));AS3.getBindable(this,"assignedMembersValueExpression").removeChangeListener(AS3.bind(this,
"assignedMembersChanged$$IBU"));com.coremedia.cms.editor.sdk.premular.CollapsiblePanel.prototype.beforeDestroy.call(this)}return{extend:"com.coremedia.cms.editor.sdk.premular.CollapsiblePanel",isModeOfferVE$$IBU:null,selectedMembersVE$$IBU:null,memberSearchFieldCmp$$IBU:null,constructor:AssignMembersPanelBase$,super$$IBU:function(){com.coremedia.cms.editor.sdk.premular.CollapsiblePanel.prototype.constructor.apply(this,arguments)},afterRender:afterRender,isOfferMode:isOfferMode,getRadioGroupName:getRadioGroupName,
assignedMembersChanged$$IBU:assignedMembersChanged,modeAndMemberSelectionChanged$$IBU:modeAndMemberSelectionChanged,getIsModeOfferVE:getIsModeOfferVE,getSelectMembersContainerDisabledVE:getSelectMembersContainerDisabledVE,getRadioGroupDisabledVE:getRadioGroupDisabledVE,getSelectedMembersVE:getSelectedMembersVE,beforeDestroy:beforeDestroy,config:{assignedMembersValueExpression:null},statics:{RADIO_GROUP_OFFER:"radioGroupOffer",RADIO_GROUP_ASSIGNMENT:"radioGroupAssign",transformIsModeOffer:transformIsModeOffer$static},
requires:["com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.sdk.member.MemberSearchField","com.coremedia.cms.editor.sdk.premular.CollapsiblePanel","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.util.createComponentSelector"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.TaskListPanelBase",function(TaskListPanelBase){function TaskListPanelBase$(config){if(arguments.length<=0)config=null;this.super$Z1oV(config);AS3.getBindable(this,"taskListValueExpression").addChangeListener(com.coremedia.cms.editor.controlroom.workflow.WorkflowUtils.invalidateWorkflowContentLockingForActivePremular);this.on("afterRender",AS3.bind(this,"setupDropZone$Z1oV"))}function switchToDetail(){this.switchToDetailHandler&&this.switchToDetailHandler()}
function getSelectedItems(){return this.selectedItems$Z1oV}function setSelectedItems(value){var oldValue=this.selectedItems$Z1oV;this.selectedItems$Z1oV=value;com.coremedia.ui.data.util.PropertyChangeEventUtil.fireEvent(this,com.coremedia.cms.editor.controlroom.workflow.TaskListPanel.SELECTED_ITEMS_VARIABLE_NAME,oldValue,value)}function convertAccepted(value,task){if(task){var tasksAccepted=com.coremedia.cap.common.SESSION.getConnection().getWorkflowRepository().getWorklistService().getTasksAccepted();
return tasksAccepted.indexOf(task)!==-1}else return false}function convertWarnings(value,task){var taskImpl=AS3.as(task,com.coremedia.cap.workflow.impl.TaskImpl);if(taskImpl){var warnings=taskImpl.getWarnings();return warnings&&warnings.length>0}else return false}function beforeDestroy(){AS3.getBindable(this,"taskListValueExpression").removeChangeListener(com.coremedia.cms.editor.controlroom.workflow.WorkflowUtils.invalidateWorkflowContentLockingForActivePremular);com.coremedia.ui.components.ExtendableGrid.prototype.beforeDestroy.call(this)}
function setupDropZone(){var dropZoneConfig=AS3.cast(Ext.dd.DropZone,{});dropZoneConfig.ddGroup="ContentLinkDD";var workflowDropZone=new com.coremedia.cms.editor.controlroom.workflow.dd.WorkflowPanelDropZone(this,new com.coremedia.cms.editor.controlroom.workflow.dd.WorkflowPanelDragDropModel(this),dropZoneConfig);workflowDropZone.addToGroup("ContentDD")}return{extend:"com.coremedia.ui.components.ExtendableGrid",mixins:["com.coremedia.cms.editor.controlroom.workflow.SwitchingListPanel"],metadata:{getSelectedItems:["ProvideToExtChildren"]},
selectedItems$Z1oV:null,constructor:TaskListPanelBase$,super$Z1oV:function(){com.coremedia.ui.components.ExtendableGrid.prototype.constructor.apply(this,arguments)},switchToDetail:switchToDetail,switchToDetailHandler:null,getSelectedItems:getSelectedItems,setSelectedItems:setSelectedItems,convertAccepted:convertAccepted,convertWarnings:convertWarnings,beforeDestroy:beforeDestroy,setupDropZone$Z1oV:setupDropZone,config:{taskListValueExpression:null},requires:["Ext.dd.DropZone","com.coremedia.cap.common.SESSION",
"com.coremedia.cap.workflow.impl.TaskImpl","com.coremedia.cms.editor.controlroom.workflow.SwitchingListPanel","com.coremedia.ui.components.ExtendableGrid","com.coremedia.ui.data.util.PropertyChangeEventUtil"],uses:["com.coremedia.cms.editor.controlroom.workflow.TaskListPanel","com.coremedia.cms.editor.controlroom.workflow.WorkflowUtils","com.coremedia.cms.editor.controlroom.workflow.dd.WorkflowPanelDragDropModel","com.coremedia.cms.editor.controlroom.workflow.dd.WorkflowPanelDropZone"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.FinishedProcessListPanel",function(FinishedProcessListPanel){function FinishedProcessListPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.FinishedProcessListPanelBase,{});var defaults_$1=AS3.cast(FinishedProcessListPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var local_ProcessListPanel_43_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.ProcessListPanel,
{});local_ProcessListPanel_43_5_$1.columns=AS3.getBindable(config,"columns")||com.coremedia.cms.editor.controlroom.workflow.FinishedProcessListPanelBase.getDefaultColumns();local_ProcessListPanel_43_5_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","TabbedWorkflowPanel_finished_text")+" "+this.resourceManager.getString("com.coremedia.cms.editor.Editor","ListView_suffix"));AS3.setBindable(local_ProcessListPanel_43_5_$1,"extraFields",
AS3.getBindable(config,"extraFields"));local_ProcessListPanel_43_5_$1.itemId=net.jangaroo.ext.Exml.asString(FinishedProcessListPanel.WORKFLOW_LIST_ITEM_ID);AS3.setBindable(local_ProcessListPanel_43_5_$1,"processListValueExpression",AS3.getBindable(config,"processListValueExpression"));config_$1.items=[local_ProcessListPanel_43_5_$1];var layout_Fit_50_5_$1=AS3.cast(Ext.layout.container.Fit,{});AS3.setBindable(config_$1,"layout",layout_Fit_50_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Jj0S(config_$1)}
return{extend:"com.coremedia.cms.editor.controlroom.workflow.FinishedProcessListPanelBase",alias:"widget.com.coremedia.cms.editor.controlroom.config.finishedProcessListPanel",constructor:FinishedProcessListPanel$,super$Jj0S:function(){com.coremedia.cms.editor.controlroom.workflow.FinishedProcessListPanelBase.prototype.constructor.apply(this,arguments)},config:{processListValueExpression:null,extraFields:null,columns:null,workflowInfoPanels:null},statics:{WORKFLOW_LIST_ITEM_ID:"finishedWorkflowList"},
requires:["Ext.layout.container.Fit","com.coremedia.cms.editor.controlroom.workflow.FinishedProcessListPanelBase","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.workflow.ProcessListPanel"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.TabbedWorkflowPanelBase",function(TabbedWorkflowPanelBase){var DEFAULT_BATCH_LIMIT$static=500;var INBOX_TASKS$static="InboxTasks";var PENDING_PROCESSES$static="PendingProcesses";var INBOX_PROCESSES$static="InboxProcesses";function TabbedWorkflowPanelBase$(config){if(arguments.length<=0)config=null;this.super$7zBt(config);this.on("afterrender",AS3.bind(this,"onAfterRender$7zBt"))}function getInboxTasksValueExpression(){var this$=this;if(!this.inboxTasksValueExpression$7zBt)this.inboxTasksValueExpression$7zBt=
com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var workflowRepository=com.coremedia.cap.common.SESSION.getConnection().getWorkflowRepository();if(null===workflowRepository)return[];var worklistService=workflowRepository.getWorklistService();var escalatedTasks=worklistService.getTasksEscalated()||[];var tasksWithWarning=worklistService.getTasksWithWarning()||[];var acceptedTasks=worklistService.getTasksAccepted()||[];var offeredTasks=worklistService.getTasksOffered()||[];
var allInboxTasks=escalatedTasks.concat(tasksWithWarning,acceptedTasks,offeredTasks);if(!this$.inboxTasksWaiting$7zBt){this$.inboxTasksWaiting$7zBt=[];this$.filterWorkflowObjects$7zBt(allInboxTasks,"tasks",INBOX_TASKS$static,{tasksExcluded:this$.excludedTasks})}else this$.inboxTasksWaiting$7zBt=allInboxTasks;return AS3.as(this$.model$7zBt.get(this$.processCategory+INBOX_TASKS$static),Array)||[]});return this.inboxTasksValueExpression$7zBt}function getPendingProcessesValueExpression(){var this$=this;
if(!this.pendingProcessesValueExpression$7zBt)this.pendingProcessesValueExpression$7zBt=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var pendingProcesses=com.coremedia.collaboration.controlroom.rest.CapListRepositoryImpl.getInstance().getPendingProcesses().getItems()||[];if(!this$.allPendingProcessesWaiting$7zBt){this$.allPendingProcessesWaiting$7zBt=[];this$.filterWorkflowObjects$7zBt(pendingProcesses,"processes",PENDING_PROCESSES$static)}else this$.allPendingProcessesWaiting$7zBt=
pendingProcesses;return AS3.as(this$.model$7zBt.get(this$.processCategory+PENDING_PROCESSES$static),Array)||[]});return this.pendingProcessesValueExpression$7zBt}function filterWorkflowObjects(allItems,wfObjectType,retrievalTarget,additionalRequestParameters){var this$=this;if(arguments.length<=3)additionalRequestParameters=null;var known=[];var unknown=[];var creationDateKey="___creationDate";var processCategoryKey="___processCategory";var inboxProcesses=[];if(retrievalTarget===PENDING_PROCESSES$static)inboxProcesses=
AS3.as(this.model$7zBt.get(this.processCategory+INBOX_PROCESSES$static),Array)||[];allItems.forEach(function(wfObject){if(inboxProcesses.indexOf(wfObject)===-1)if(wfObject[processCategoryKey]===this$.processCategory)known.push(wfObject);else if(!wfObject[processCategoryKey])unknown.push(wfObject)});var responseItems=[];var responseDates=[];com.coremedia.ui.data.impl.RemoteService.batchedForkJoinRequest(true,unknown,com.coremedia.cms.editor.controlroom.controlRoomContext.getFilterWFObjectsRequestBatchSize()||
DEFAULT_BATCH_LIMIT$static,"workflow/filter/"+wfObjectType,"POST",Ext.apply({processCategory:this.processCategory},additionalRequestParameters),function(rsmr){var json=AS3.as(rsmr.getResponseJSON(),Object);if(json){responseItems=responseItems.concat(AS3.as(json.items,Array)||[]);responseDates=responseDates.concat(AS3.as(json.dates,Array)||[])}},function(){responseItems.forEach(function(item,index){item[creationDateKey]=responseDates[index];item[processCategoryKey]=this$.processCategory});responseItems=
responseItems.concat(known);responseItems.sort(function(val1,val2){return AS3.as(val1[creationDateKey],com.coremedia.ui.data.Calendar).getDate().getTime()>=AS3.as(val2[creationDateKey],com.coremedia.ui.data.Calendar).getDate().getTime()?-1:1});this$.model$7zBt.set(this$.processCategory+retrievalTarget,responseItems);if(retrievalTarget===INBOX_TASKS$static){this$.model$7zBt.set(this$.processCategory+INBOX_PROCESSES$static,responseItems.map(function(task){return task.getContainingProcess()}));if(this$.inboxTasksWaiting$7zBt&&
this$.inboxTasksWaiting$7zBt.length>0){var waitingInboxTasks=this$.inboxTasksWaiting$7zBt.concat([]);this$.inboxTasksWaiting$7zBt=[];this$.filterWorkflowObjects$7zBt(waitingInboxTasks,wfObjectType,retrievalTarget,additionalRequestParameters)}else this$.inboxTasksWaiting$7zBt=undefined}if(retrievalTarget===PENDING_PROCESSES$static)if(this$.allPendingProcessesWaiting$7zBt&&this$.allPendingProcessesWaiting$7zBt.length>0){var waitingPendingProcesses=this$.allPendingProcessesWaiting$7zBt.concat([]);this$.allPendingProcessesWaiting$7zBt=
[];this$.filterWorkflowObjects$7zBt(waitingPendingProcesses,wfObjectType,retrievalTarget,additionalRequestParameters)}else this$.allPendingProcessesWaiting$7zBt=undefined})}function getFinishedProcessesValueExpression(){var this$=this;if(!this.finishedProcessesValueExpression$7zBt)this.finishedProcessesValueExpression$7zBt=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var processes=[];var capListRepository=com.coremedia.collaboration.controlroom.rest.CapListRepositoryImpl.getInstance();
var completedProcessesList=capListRepository.getCompletedProcesses();var completedProcesses=completedProcessesList.getItems();if(completedProcesses===undefined)return undefined;if(completedProcesses)completedProcesses.forEach(function(process){if(com.coremedia.ui.data.RemoteBeanUtil.isAccessible(process)&&this$.isProcessOfConfiguredType(process))processes.push(process)});processes.sort(compareByCompletionDate$static);return processes});return this.finishedProcessesValueExpression$7zBt}function isProcessOfConfiguredType(process){if(!process)return undefined;
var definition=process.getDefinition();if(!definition)return undefined;var processName=definition.getName();if(processName)return processName.indexOf(this.processCategory)!=-1;else return undefined}function compareByCompletionDate$static(val1,val2){var completionDate1=val1.getCompletionDate();var completionDate2=val2.getCompletionDate();if(completionDate1&&completionDate2)return completionDate1.getTime()>completionDate2.getTime()?-1:1;if(!completionDate1)return 1;else if(!completionDate2)return-1;
return 0}function getModel(){if(!this.model$7zBt)this.model$7zBt=com.coremedia.ui.data.beanFactory.createLocalBean({activeInboxWorkflowPanelId:com.coremedia.cms.editor.controlroom.workflow.InboxTaskListPanel.WORKFLOW_LIST_ITEM_ID,activePendingWorkflowPanelId:com.coremedia.cms.editor.controlroom.workflow.PendingProcessListPanel.WORKFLOW_LIST_ITEM_ID,activeFinishedWorkflowPanelId:com.coremedia.cms.editor.controlroom.workflow.FinishedProcessListPanel.WORKFLOW_LIST_ITEM_ID});return this.model$7zBt}function getActiveInboxWorkflowPanelIdValueExpression(){return this.activeInboxWorkflowPanelIdValueExpression$7zBt||
(this.activeInboxWorkflowPanelIdValueExpression$7zBt=com.coremedia.ui.data.ValueExpressionFactory.create("activeInboxWorkflowPanelId",this.getModel()))}function getActivePendingWorkflowPanelIdValueExpression(){return this.activePendingWorkflowPanelIdValueExpression$7zBt||(this.activePendingWorkflowPanelIdValueExpression$7zBt=com.coremedia.ui.data.ValueExpressionFactory.create("activePendingWorkflowPanelId",this.getModel()))}function onAfterRender(){this.mon(this.header,"contextmenu",com.coremedia.ui.util.ContextMenuUtil.disableContextMenu);
this.mon(this.body,"contextmenu",com.coremedia.ui.util.ContextMenuUtil.disableContextMenu);this.setupDropZone$7zBt()}function containsTask(task){var itemId=this.getItemIdOfListPanelContainingTask(task);if(itemId===undefined)return undefined;return!!itemId}function containsProcess(process){var itemId=this.getItemIdOfListPanelContainingProcess(process);if(itemId===undefined)return undefined;return!!itemId}function getListPanelContainingTask(task){var itemId=this.getItemIdOfListPanelContainingTask(task);
if(itemId===undefined)return undefined;var found=this.query(com.coremedia.ui.util.createComponentSelector().itemId(itemId).build());return found&&found.length>0&&found[0]}function getListPanelContainingProcess(process){var itemId=this.getItemIdOfListPanelContainingProcess(process);if(itemId===undefined)return undefined;var found=this.query(com.coremedia.ui.util.createComponentSelector().itemId(itemId).build());return found&&found.length>0&&found[0]}function getItemIdOfListPanelContainingTask(task){var inboxTasks=
this.getInboxTasksValueExpression().getValue();if(inboxTasks&&inboxTasks.indexOf(task)!==-1)return TabbedWorkflowPanelBase.WORKFLOW_LIST_INBOX_ITEM_ID;var process=task.getContainingProcess();var processPanelItemId=this.getItemIdOfListPanelContainingProcess(process);if(!!processPanelItemId)return processPanelItemId;if(inboxTasks===undefined||processPanelItemId===undefined)return undefined;return null}function getItemIdOfListPanelContainingProcess(process){var pendingProcesses=this.getPendingProcessesValueExpression().getValue();
if(pendingProcesses&&pendingProcesses.indexOf(process)!==-1)return TabbedWorkflowPanelBase.WORKFLOW_LIST_PENDING_ITEM_ID;var finishedProcesses=this.getFinishedProcessesValueExpression().getValue();if(finishedProcesses&&finishedProcesses.indexOf(process)!==-1)return TabbedWorkflowPanelBase.WORKFLOW_LIST_FINISHED_ITEM_ID;if(pendingProcesses===undefined||finishedProcesses===undefined)return undefined;return null}function switchToTaskInWorkflowPanel(task,openDetails){var this$=this;if(arguments.length<=
1)openDetails=true;com.coremedia.ui.util.ConcurrentUtil.executeWhen(function(){return this$.containsTask(task)},function(){this$.doSwitchToTaskInWorkflowPanel$7zBt(task,openDetails)})}function switchToProcessInWorkflowPanel(process){var this$=this;com.coremedia.ui.util.ConcurrentUtil.executeWhen(function(){return this$.containsProcess(process)},function(){this$.doSwitchToProcessInWorkflowPanel$7zBt(process)})}function switchToTaskInInbox(task,openDetails){var this$=this;if(arguments.length<=1)openDetails=
true;com.coremedia.ui.util.ConcurrentUtil.executeWhen(function(){var inboxTasks=this$.getInboxTasksValueExpression().getValue();return inboxTasks&&inboxTasks.indexOf(task)!==-1},function(){this$.doSwitchToTaskInWorkflowPanel$7zBt(task,openDetails)})}function doSwitchToTaskInWorkflowPanel(task,openDetails){var this$=this;com.coremedia.ui.util.EventUtil.invokeLater(function(){this$.expand(true)});var listPanelContainer=this.getListPanelContainingTask(task);this.setActiveTab(listPanelContainer);var switchingListPanel;
var found=AS3.cast(Ext.container.Container,listPanelContainer).queryBy(function(comp){return AS3.is(comp,com.coremedia.cms.editor.controlroom.workflow.SwitchingListPanel)});if(found&&found.length>0)switchingListPanel=found[0];if(switchingListPanel){AS3.is(listPanelContainer,com.coremedia.cms.editor.controlroom.workflow.SwitchingWorkflowContainer)&&AS3.cast(com.coremedia.cms.editor.controlroom.workflow.SwitchingWorkflowContainer,listPanelContainer).switchToList();AS3.is(switchingListPanel,com.coremedia.cms.editor.controlroom.workflow.TaskListPanel)?
AS3.cast(com.coremedia.cms.editor.controlroom.workflow.TaskListPanel,switchingListPanel).setSelectedItems([task]):AS3.cast(com.coremedia.cms.editor.controlroom.workflow.ProcessListPanel,switchingListPanel).setSelectedItems([task.getContainingProcess()]);if(openDetails){var selectedPredicate;if(AS3.is(listPanelContainer,com.coremedia.cms.editor.controlroom.workflow.InboxTaskListPanel))selectedPredicate=function(){return AS3.cast(com.coremedia.cms.editor.controlroom.workflow.InboxTaskListPanel,listPanelContainer).getSelectedTaskValueExpression().getValue()===
task};else if(AS3.is(listPanelContainer,com.coremedia.cms.editor.controlroom.workflow.PendingProcessListPanel))selectedPredicate=function(){return AS3.cast(com.coremedia.cms.editor.controlroom.workflow.PendingProcessListPanel,listPanelContainer).getSelectedProcessValueExpression().getValue()===AS3.bind(task,"getContainingProcess")};if(selectedPredicate)com.coremedia.ui.util.ConcurrentUtil.executeWhen(selectedPredicate,AS3.bind(switchingListPanel,"switchToDetail"))}}}function doSwitchToProcessInWorkflowPanel(process){var this$=
this;com.coremedia.ui.util.EventUtil.invokeLater(function(){this$.expand(true)});var listPanelContainer=this.getListPanelContainingProcess(process);this.setActiveTab(listPanelContainer);var switchingListPanel;if(AS3.is(listPanelContainer,com.coremedia.cms.editor.controlroom.workflow.SwitchingListPanel))switchingListPanel=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.SwitchingListPanel,listPanelContainer);if(switchingListPanel){AS3.is(listPanelContainer,com.coremedia.cms.editor.controlroom.workflow.SwitchingWorkflowContainer)&&
AS3.cast(com.coremedia.cms.editor.controlroom.workflow.SwitchingWorkflowContainer,listPanelContainer).switchToList();AS3.is(switchingListPanel,com.coremedia.cms.editor.controlroom.workflow.ProcessListPanel)&&AS3.cast(com.coremedia.cms.editor.controlroom.workflow.ProcessListPanel,switchingListPanel).setSelectedItems([process])}}function setupDropZone(){var dropZoneConfig=AS3.cast(Ext.dd.DropZone,{});dropZoneConfig.ddGroup="ContentLinkDD";var workflowHeaderDropZone=new com.coremedia.cms.editor.controlroom.workflow.dd.WorkflowPanelHeaderDropZone(this,
new com.coremedia.cms.editor.controlroom.workflow.dd.WorkflowPanelDragDropModel(this),dropZoneConfig);workflowHeaderDropZone.addToGroup("ContentDD")}return{extend:"Ext.tab.Panel",excludedTasks:null,inboxTasksValueExpression$7zBt:null,pendingProcessesValueExpression$7zBt:null,finishedProcessesValueExpression$7zBt:null,activeInboxWorkflowPanelIdValueExpression$7zBt:null,activePendingWorkflowPanelIdValueExpression$7zBt:null,model$7zBt:null,inboxTasksWaiting$7zBt:null,allPendingProcessesWaiting$7zBt:null,
constructor:TabbedWorkflowPanelBase$,super$7zBt:function(){Ext.tab.Panel.prototype.constructor.apply(this,arguments)},processCategory:null,getInboxTasksValueExpression:getInboxTasksValueExpression,getPendingProcessesValueExpression:getPendingProcessesValueExpression,filterWorkflowObjects$7zBt:filterWorkflowObjects,getFinishedProcessesValueExpression:getFinishedProcessesValueExpression,isProcessOfConfiguredType:isProcessOfConfiguredType,getModel:getModel,getActiveInboxWorkflowPanelIdValueExpression:getActiveInboxWorkflowPanelIdValueExpression,
getActivePendingWorkflowPanelIdValueExpression:getActivePendingWorkflowPanelIdValueExpression,onAfterRender$7zBt:onAfterRender,containsTask:containsTask,containsProcess:containsProcess,getListPanelContainingTask:getListPanelContainingTask,getListPanelContainingProcess:getListPanelContainingProcess,getItemIdOfListPanelContainingTask:getItemIdOfListPanelContainingTask,getItemIdOfListPanelContainingProcess:getItemIdOfListPanelContainingProcess,switchToTaskInWorkflowPanel:switchToTaskInWorkflowPanel,
switchToProcessInWorkflowPanel:switchToProcessInWorkflowPanel,switchToTaskInInbox:switchToTaskInInbox,doSwitchToTaskInWorkflowPanel$7zBt:doSwitchToTaskInWorkflowPanel,doSwitchToProcessInWorkflowPanel$7zBt:doSwitchToProcessInWorkflowPanel,setupDropZone$7zBt:setupDropZone,statics:{WORKFLOW_LIST_INBOX_ITEM_ID:"workflowListInboxItemId",WORKFLOW_LIST_PENDING_ITEM_ID:"workflowListPendingItemId",WORKFLOW_LIST_FINISHED_ITEM_ID:"workflowListFinishedItemId"},requires:["Ext","Ext.container.Container","Ext.dd.DropZone",
"Ext.tab.Panel","com.coremedia.cap.common.SESSION","com.coremedia.collaboration.controlroom.rest.CapListRepositoryImpl","com.coremedia.ui.data.Calendar","com.coremedia.ui.data.RemoteBeanUtil","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.beanFactory","com.coremedia.ui.data.impl.RemoteService","com.coremedia.ui.util.ConcurrentUtil","com.coremedia.ui.util.ContextMenuUtil","com.coremedia.ui.util.EventUtil","com.coremedia.ui.util.createComponentSelector"],uses:["com.coremedia.cms.editor.controlroom.controlRoomContext",
"com.coremedia.cms.editor.controlroom.workflow.FinishedProcessListPanel","com.coremedia.cms.editor.controlroom.workflow.InboxTaskListPanel","com.coremedia.cms.editor.controlroom.workflow.PendingProcessListPanel","com.coremedia.cms.editor.controlroom.workflow.ProcessListPanel","com.coremedia.cms.editor.controlroom.workflow.SwitchingListPanel","com.coremedia.cms.editor.controlroom.workflow.SwitchingWorkflowContainer","com.coremedia.cms.editor.controlroom.workflow.TaskListPanel","com.coremedia.cms.editor.controlroom.workflow.dd.WorkflowPanelDragDropModel",
"com.coremedia.cms.editor.controlroom.workflow.dd.WorkflowPanelHeaderDropZone"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.WorkflowUtils",function(WorkflowUtils){function invalidateWorkflowContentLockingForActivePremular$static(){var workflowRepository=com.coremedia.cap.common.SESSION.getConnection().getWorkflowRepository();if(workflowRepository){var premular=com.coremedia.cms.editor.sdk.editorContext.getWorkArea()?AS3.as(com.coremedia.cms.editor.sdk.editorContext.getWorkArea().getActiveTab(),com.coremedia.cms.editor.sdk.premular.Premular):null;if(premular){var content=
premular.getContent();if(content){var workflowContentService=workflowRepository.getWorkflowContentService();workflowContentService.invalidateLocking(content)}}}}function askAbortWorkflow$static(process,callback){process.load(function(){var workflowName=com.coremedia.ui.util.EncodingUtil.encodeForHTML(process.getProperties().get("subject"));com.coremedia.cms.editor.sdk.util.MessageBoxUtilInternal.show(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"AbortWorkflow_confirm_title"),Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","AbortWorkflow_confirm_message"),workflowName),Ext.window.MessageBox.ERROR,{ok:mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","AbortWorkflow_yes_button"),cancel:mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","AbortWorkflow_no_button")},
function(btn){if("ok"===btn)callback(true);else callback(false)},false)})}function mayAbortWorkflow$static(process){if(!process||process.isCompleted())return false;var owner=process.getOwner();var user=com.coremedia.cap.common.SESSION.getUser();return owner===user||user.isAdministrative()}function showWorkflowAbortedMessage$static(processName){com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showError(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"AbortWorkflow_warning_title"),Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","AbortWorkflow_warning_message"),processName))}function getPublicationToolbarButtons$static(){var actionCfg=AS3.cast(com.coremedia.cms.editor.controlroom.actions.ShowEmptyStartPublicationWorkflowWindowAction,{});AS3.setBindable(actionCfg,"processDefinitionNames",[com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.SIMPLE_PUBLICATION_WORKFLOW_TYPE,
com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.TWO_STEP_PUBLICATION_WORKFLOW_TYPE]);var iconButtonCfg=AS3.cast(com.coremedia.ui.components.IconButton,{});iconButtonCfg.itemId=WorkflowUtils.START_PUBLICATION_WORKFLOW_ITEM_ID;AS3.setBindable(iconButtonCfg,"tooltip",mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","Action_start_publication_tooltip"));AS3.setBindable(iconButtonCfg,"iconCls",mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"Action_showStartPublicationWorkflowWindow_icon"));iconButtonCfg.baseAction=new com.coremedia.cms.editor.controlroom.actions.ShowEmptyStartPublicationWorkflowWindowAction(actionCfg);return[iconButtonCfg]}function getTranslationToolbarButtons$static(){var buttonCfg=AS3.cast(com.coremedia.ui.components.IconButton,{});buttonCfg.itemId=WorkflowUtils.START_TRANSLATION_WORKFLOW_ITEM_ID;AS3.setBindable(buttonCfg,"tooltip",mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"Action_start_translation_tooltip"));AS3.setBindable(buttonCfg,"iconCls",mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","Action_showStartTranslationWorkflowWindow_icon"));buttonCfg.baseAction=new com.coremedia.cms.editor.controlroom.actions.ShowEmptyStartTranslationWorkflowWindowAction;return[buttonCfg]}function WorkflowUtils$(){}return{constructor:WorkflowUtils$,statics:{START_TRANSLATION_WORKFLOW_ITEM_ID:"startTranslationWorkflowItemId",START_PUBLICATION_WORKFLOW_ITEM_ID:"startPublicationWorkflowItemId",
invalidateWorkflowContentLockingForActivePremular:invalidateWorkflowContentLockingForActivePremular$static,askAbortWorkflow:askAbortWorkflow$static,mayAbortWorkflow:mayAbortWorkflow$static,showWorkflowAbortedMessage:showWorkflowAbortedMessage$static,getPublicationToolbarButtons:getPublicationToolbarButtons$static,getTranslationToolbarButtons:getTranslationToolbarButtons$static},requires:["Ext.String","Ext.window.MessageBox","com.coremedia.cap.common.SESSION","com.coremedia.cms.editor.controlroom.ControlRoom_properties",
"com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.premular.Premular","com.coremedia.cms.editor.sdk.util.MessageBoxUtil","com.coremedia.cms.editor.sdk.util.MessageBoxUtilInternal","com.coremedia.ui.components.IconButton","com.coremedia.ui.util.EncodingUtil","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.controlroom.actions.ShowEmptyStartPublicationWorkflowWindowAction","com.coremedia.cms.editor.controlroom.actions.ShowEmptyStartTranslationWorkflowWindowAction",
"com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.AddProcessDetailPanelPlugin",function(AddProcessDetailPanelPlugin){function AddProcessDetailPanelPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.ui.plugins.NestedRulesPlugin,{});var defaults_$1=AS3.cast(AddProcessDetailPanelPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var container_22_5_$1=AS3.cast(Ext.container.Container,{});container_22_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.controlroom.workflow.ProcessDetailPanelWrapper.PROPERTY_FIELD_CONTAINER_ITEM_ID);
var ui_AddLazyItemsPlugin_24_9_$1=AS3.cast(com.coremedia.ui.plugins.AddLazyItemsPlugin,{});AS3.setBindable(ui_AddLazyItemsPlugin_24_9_$1,"items",AS3.getBindable(config,"processPanel")?[Ext.apply({"itemId":AS3.getBindable(config,"processDefinitionName"),"processDefinitionName":AS3.getBindable(config,"processDefinitionName")},AS3.getBindable(config,"processPanel"))]:[]);container_22_5_$1.plugins=[ui_AddLazyItemsPlugin_24_9_$1];config_$1.rules=[container_22_5_$1];net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$uBP5(config_$1)}return{extend:"com.coremedia.ui.plugins.NestedRulesPlugin",constructor:AddProcessDetailPanelPlugin$,super$uBP5:function(){com.coremedia.ui.plugins.NestedRulesPlugin.prototype.constructor.apply(this,arguments)},config:{processDefinitionName:null,processPanel:null},requires:["Ext","Ext.container.Container","com.coremedia.ui.plugins.AddLazyItemsPlugin","com.coremedia.ui.plugins.NestedRulesPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.workflow.ProcessDetailPanelWrapper"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.TaskWarningPanel",function(TaskWarningPanel){function TaskWarningPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.TaskWarningPanelBase,{});var defaults_$1=AS3.cast(TaskWarningPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.header=false;config_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"TaskWarningPanel_title"));config_$1.cls="task-warning-panel";var ui_BindVisibilityPlugin_30_5_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_30_5_$1.bindTo=this.getWarningValueExpression(config);config_$1.plugins=[ui_BindVisibilityPlugin_30_5_$1];config_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var fieldContainer_34_5_$1=AS3.cast(Ext.form.FieldContainer,{});AS3.setBindable(fieldContainer_34_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"TaskWarningPanel_title")));var editor_ProblemDescriptionButton_37_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.workflow.ProblemDescriptionButton,{});editor_ProblemDescriptionButton_37_9_$1.itemId=net.jangaroo.ext.Exml.asString(TaskWarningPanel.PROBLEM_DESCRIPTION_BUTTON_ITEM_ID);AS3.setBindable(editor_ProblemDescriptionButton_37_9_$1,"problemDescriptionValueExpression",this.getWarningValueExpression(config));fieldContainer_34_5_$1.items=[editor_ProblemDescriptionButton_37_9_$1];config_$1.items=[fieldContainer_34_5_$1];
net.jangaroo.ext.Exml.apply(config_$1,config);this.super$wnuW(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.workflow.TaskWarningPanelBase",alias:"widget.com.coremedia.cms.editor.controlroom.config.taskWarningPanel",constructor:TaskWarningPanel$,super$wnuW:function(){com.coremedia.cms.editor.controlroom.workflow.TaskWarningPanelBase.prototype.constructor.apply(this,arguments)},config:{taskValueExpression:null},statics:{PROBLEM_DESCRIPTION_BUTTON_ITEM_ID:"problemDescriptionButton"},
requires:["Ext.form.FieldContainer","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.workflow.TaskWarningPanelBase","com.coremedia.cms.editor.sdk.workflow.ProblemDescriptionButton","com.coremedia.ui.plugins.BindVisibilityPlugin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.TaskListPanel",function(TaskListPanel){function TaskListPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.TaskListPanelBase,{});var defaults_$1=AS3.cast(TaskListPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","TabbedWorkflowPanel_inbox_text")+
" "+this.resourceManager.getString("com.coremedia.cms.editor.Editor","ListView_suffix"));AS3.setBindable(config_$1,"hideHeaders",true);AS3.setBindable(config_$1,"border",false);config_$1.bodyBorder=false;config_$1.bindTo=AS3.getBindable(config,"taskListValueExpression");config_$1.lazy=true;config_$1.initialViewLimit=20;config_$1.viewLimitIncrement=20;var ui_BindSelectionPlugin_30_5_$1=AS3.cast(com.coremedia.ui.plugins.BindSelectionPlugin,{});var ui_ValueExpression_32_9_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,
{});AS3.setBindable(ui_ValueExpression_32_9_$1,"context",this);AS3.setBindable(ui_ValueExpression_32_9_$1,"expression",net.jangaroo.ext.Exml.asString(TaskListPanel.SELECTED_ITEMS_VARIABLE_NAME));AS3.setBindable(ui_BindSelectionPlugin_30_5_$1,"selectedValues",new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_32_9_$1));config_$1.plugins=[ui_BindSelectionPlugin_30_5_$1];config_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var toolbar_39_5_$1=AS3.cast(Ext.toolbar.Toolbar,{});toolbar_39_5_$1.itemId=
"toolbar";config_$1.tbar=toolbar_39_5_$1;var ui_DataField_43_5_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_43_5_$1.name="taskDefinitionName";ui_DataField_43_5_$1.mapping="definition.name";var ui_DataField_45_5_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_45_5_$1.name="processName";ui_DataField_45_5_$1.mapping="containingProcess.properties.subject";var ui_DataField_47_5_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_47_5_$1.name="processDefinitionName";
ui_DataField_47_5_$1.mapping="containingProcess.definition.name";var ui_DataField_49_5_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_49_5_$1.name="accepted";ui_DataField_49_5_$1.mapping="definition.name";ui_DataField_49_5_$1["convert"]=AS3.bind(this,"convertAccepted");var ui_DataField_52_5_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_52_5_$1.name="escalated";var ui_DataField_53_5_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_53_5_$1.name="withWarning";
ui_DataField_53_5_$1.mapping="warnings";ui_DataField_53_5_$1["convert"]=AS3.bind(this,"convertWarnings");AS3.setBindable(config_$1,"defaultFields",[ui_DataField_43_5_$1,ui_DataField_45_5_$1,ui_DataField_47_5_$1,ui_DataField_49_5_$1,ui_DataField_52_5_$1,ui_DataField_53_5_$1]);var collab_ProcessIconColumn_59_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.ProcessIconColumn,{});var collab_WorkflowNameColumn_60_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.WorkflowNameColumn,
{});collab_WorkflowNameColumn_60_5_$1.flex=1;var collab_WorkflowDetailColumn_61_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.WorkflowDetailColumn,{});AS3.setBindable(config_$1,"defaultColumns",[collab_ProcessIconColumn_59_5_$1,collab_WorkflowNameColumn_60_5_$1,collab_WorkflowDetailColumn_61_5_$1]);var gridView_65_5_$1=AS3.cast(Ext.view.Table,{});gridView_65_5_$1.stripeRows=true;gridView_65_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.TableViewSkin.LIGHT.getSkin());
config_$1["viewConfig"]=gridView_65_5_$1;var selection_RowModel_70_5_$1=AS3.cast(Ext.selection.RowModel,{});selection_RowModel_70_5_$1.mode="SINGLE";config_$1.selModel=new Ext.selection.RowModel(selection_RowModel_70_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$RAYk(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.workflow.TaskListPanelBase",alias:"widget.com.coremedia.cms.editor.controlroom.config.taskListPanel",constructor:TaskListPanel$,super$RAYk:function(){com.coremedia.cms.editor.controlroom.workflow.TaskListPanelBase.prototype.constructor.apply(this,
arguments)},statics:{SELECTED_ITEMS_VARIABLE_NAME:"selectedItems"},requires:["Ext.selection.RowModel","Ext.toolbar.Toolbar","Ext.view.Table","com.coremedia.cms.editor.controlroom.workflow.TaskListPanelBase","com.coremedia.ui.exml.ValueExpression","com.coremedia.ui.plugins.BindSelectionPlugin","com.coremedia.ui.skins.TableViewSkin","com.coremedia.ui.store.DataField","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.workflow.ProcessIconColumn","com.coremedia.cms.editor.controlroom.workflow.WorkflowDetailColumn",
"com.coremedia.cms.editor.controlroom.workflow.WorkflowNameColumn"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.WorkflowStateTransition",function(WorkflowStateTransition){function WorkflowStateTransition$(config){this.super$7zzq();if(arguments.length<=0)config=null;Ext.apply(this,config)}return{extend:"joo.JavaScriptObject",metadata:{"":["PublicApi"]},constructor:WorkflowStateTransition$,super$7zzq:function(){joo.JavaScriptObject.prototype.constructor.apply(this,arguments)},task:null,nextSteps:null,defaultStep:null,requires:["Ext","joo.JavaScriptObject"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.InboxDetailPanelWrapper",function(InboxDetailPanelWrapper){function InboxDetailPanelWrapper$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.InboxDetailPanelWrapperBase,{});var defaults_$1=AS3.cast(InboxDetailPanelWrapper,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"layout","fit");var ui_SwitchingContainer_59_5_$1=AS3.cast(com.coremedia.ui.components.SwitchingContainer,
{});ui_SwitchingContainer_59_5_$1.itemId=net.jangaroo.ext.Exml.asString(InboxDetailPanelWrapper.SWITCHING_CONTAINER_ITEM_ID);AS3.setBindable(ui_SwitchingContainer_59_5_$1,"activeItemValueExpression",AS3.getBindable(config,"taskValueExpression").extendBy(InboxDetailPanelWrapper.TYPE_PROPERTY_PATH));var collab_WorkflowForm_63_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.WorkflowForm,{});AS3.setBindable(collab_WorkflowForm_63_9_$1,"bindToTask",AS3.getBindable(config,"taskValueExpression"));
AS3.setBindable(collab_WorkflowForm_63_9_$1,"bindTo",AS3.getBindable(config,"taskValueExpression").extendBy("containingProcess"));AS3.setBindable(collab_WorkflowForm_63_9_$1,"forceReadOnlyValueExpression",com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"getReadOnly")));var collab_TaskWarningPanel_67_13_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.TaskWarningPanel,{});AS3.setBindable(collab_TaskWarningPanel_67_13_$1,"taskValueExpression",AS3.getBindable(config,
"taskValueExpression"));collab_TaskWarningPanel_67_13_$1.itemId="taskWarningPanel";AS3.setBindable(collab_WorkflowForm_63_9_$1,"prefixItems",[collab_TaskWarningPanel_67_13_$1]);ui_SwitchingContainer_59_5_$1["defaultType"]=collab_WorkflowForm_63_9_$1["xtype"];delete collab_WorkflowForm_63_9_$1["xtype"];delete collab_WorkflowForm_63_9_$1["xclass"];ui_SwitchingContainer_59_5_$1.defaults=collab_WorkflowForm_63_9_$1;config_$1.items=[ui_SwitchingContainer_59_5_$1];var tbSpacer_76_5_$1=AS3.cast(Ext.toolbar.Spacer,
{});AS3.setBindable(tbSpacer_76_5_$1,"height",26);AS3.setBindable(tbSpacer_76_5_$1,"width",0);var button_78_5_$1=AS3.cast(Ext.button.Button,{});button_78_5_$1.itemId=net.jangaroo.ext.Exml.asString(InboxDetailPanelWrapper.ACCEPT_BUTTON_ITEM_ID);button_78_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_PRIMARY.getSkin());AS3.setBindable(button_78_5_$1,"scale","small");AS3.setBindable(button_78_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"WorkflowDetailPanelWrapper_acceptButton_label")));AS3.setBindable(button_78_5_$1,"handler",AS3.bind(this,"acceptWorkflow"));var ui_BindVisibilityPlugin_84_9_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_84_9_$1.bindTo=this.getOfferedStateValueExpression();button_78_5_$1.plugins=[ui_BindVisibilityPlugin_84_9_$1];var button_87_5_$1=AS3.cast(Ext.button.Button,{});button_87_5_$1.itemId=net.jangaroo.ext.Exml.asString(InboxDetailPanelWrapper.APPLY_BUTTON_ITEM_ID);
button_87_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_PRIMARY.getSkin());AS3.setBindable(button_87_5_$1,"scale","small");AS3.setBindable(button_87_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","WorkflowDetailPanelWrapper_applyButton_label")));AS3.setBindable(button_87_5_$1,"handler",AS3.bind(this,"completeTask"));var ui_BindVisibilityPlugin_93_9_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,
{});ui_BindVisibilityPlugin_93_9_$1.bindTo=this.getAcceptedStateValueExpression();var ui_BindPropertyPlugin_94_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_94_9_$1.bindTo=this.getApplyButtonDisabledValueExpression();ui_BindPropertyPlugin_94_9_$1.componentProperty="disabled";button_87_5_$1.plugins=[ui_BindVisibilityPlugin_93_9_$1,ui_BindPropertyPlugin_94_9_$1];var button_98_5_$1=AS3.cast(Ext.button.Button,{});button_98_5_$1.itemId=net.jangaroo.ext.Exml.asString(InboxDetailPanelWrapper.CANCEL_BUTTON_ITEM_ID);
button_98_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_SECONDARY.getSkin());AS3.setBindable(button_98_5_$1,"scale","small");AS3.setBindable(button_98_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","WorkflowDetailPanelWrapper_cancelButton_label")));AS3.setBindable(button_98_5_$1,"handler",AS3.bind(this,"cancelTask"));var ui_BindVisibilityPlugin_104_9_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,
{});ui_BindVisibilityPlugin_104_9_$1.bindTo=this.getMayCancelValueExpression();button_98_5_$1.plugins=[ui_BindVisibilityPlugin_104_9_$1];config_$1.buttons=[tbSpacer_76_5_$1,button_78_5_$1,button_87_5_$1,button_98_5_$1];var toolbar_110_5_$1=AS3.cast(Ext.toolbar.Toolbar,{});AS3.setBindable(toolbar_110_5_$1,"height",29);var ui_IconButton_112_9_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_112_9_$1.itemId=net.jangaroo.ext.Exml.asString(InboxDetailPanelWrapper.BACK_BUTTON_ITEM_ID);
AS3.setBindable(ui_IconButton_112_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","collapsing_arrow_left")));AS3.setBindable(ui_IconButton_112_9_$1,"tooltip",this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","ControlRoomPlugin_btn_back_to_list_tooltip"));AS3.setBindable(ui_IconButton_112_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"ControlRoomPlugin_btn_back_to_list_tooltip")));AS3.setBindable(ui_IconButton_112_9_$1,"handler",AS3.getBindable(config,"backToListHandler"));var label_117_9_$1=AS3.cast(Ext.form.Label,{});label_117_9_$1.itemId=net.jangaroo.ext.Exml.asString(InboxDetailPanelWrapper.SUBJECT_LABEL_ITEM_ID);var ui_BindPropertyPlugin_119_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_119_13_$1.componentProperty="text";ui_BindPropertyPlugin_119_13_$1.transformer=function(value){return Ext.util.Format.ellipsis(value,
45,false)};ui_BindPropertyPlugin_119_13_$1.bindTo=AS3.getBindable(config,"taskValueExpression").extendBy(InboxDetailPanelWrapper.SUBJECT_PROPERTY_PATH);label_117_9_$1.plugins=[ui_BindPropertyPlugin_119_13_$1];var tbSpacer_125_9_$1=AS3.cast(Ext.toolbar.Spacer,{});tbSpacer_125_9_$1.flex=1;var ui_MenuIconButton_127_9_$1=AS3.cast(com.coremedia.ui.components.MenuIconButton,{});ui_MenuIconButton_127_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.TOOLBAR.getSkin());AS3.setBindable(ui_MenuIconButton_127_9_$1,
"arrowVisible",false);AS3.setBindable(ui_MenuIconButton_127_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","arrow_down")));AS3.setBindable(ui_MenuIconButton_127_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","ControlRoomPlugin_btn_show_actions_tooltip")));AS3.setBindable(ui_MenuIconButton_127_9_$1,"tooltip",this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"ControlRoomPlugin_btn_show_actions_tooltip"));var ui_BindVisibilityPlugin_133_13_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_133_13_$1.bindTo=this.getMayAbortValueExpression();ui_MenuIconButton_127_9_$1.plugins=[ui_BindVisibilityPlugin_133_13_$1];var menu_136_13_$1=AS3.cast(Ext.menu.Menu,{});var menuItem_138_17_$1=AS3.cast(Ext.menu.Item,{});AS3.setBindable(menuItem_138_17_$1,"handler",AS3.bind(this,"abortWorkflow"));AS3.setBindable(menuItem_138_17_$1,"text",
net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","WorkflowInfoWindow_abortButton_label")));AS3.setBindable(menuItem_138_17_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","abort_workflow")));menu_136_13_$1.items=[menuItem_138_17_$1];ui_MenuIconButton_127_9_$1.menu=menu_136_13_$1;toolbar_110_5_$1.items=[ui_IconButton_112_9_$1,label_117_9_$1,tbSpacer_125_9_$1,ui_MenuIconButton_127_9_$1];
config_$1.tbar=toolbar_110_5_$1;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$499p(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.workflow.InboxDetailPanelWrapperBase",alias:"widget.com.coremedia.cms.editor.controlroom.config.inboxDetailPanelWrapper",constructor:InboxDetailPanelWrapper$,super$499p:function(){com.coremedia.cms.editor.controlroom.workflow.InboxDetailPanelWrapperBase.prototype.constructor.apply(this,arguments)},config:{taskValueExpression:null,backToListHandler:null},
statics:{SWITCHING_CONTAINER_ITEM_ID:"switchingContainerItemId",CHANGE_SET_ITEM_ID:"changeSetItemId",STATE_PANEL_ITEM_ID:"statePanel",ACCEPT_BUTTON_ITEM_ID:"acceptButtonItemId",APPLY_BUTTON_ITEM_ID:"applyButtonItemId",CANCEL_BUTTON_ITEM_ID:"cancelButtonItemId",BACK_BUTTON_ITEM_ID:"backButtonItemId",SUBJECT_LABEL_ITEM_ID:"subjectLabelItemId",SUBJECT_PROPERTY_PATH:"containingProcess.properties.subject",TYPE_PROPERTY_PATH:"containingProcess.definition.name"},requires:["Ext.button.Button","Ext.form.Label",
"Ext.menu.Item","Ext.menu.Menu","Ext.toolbar.Spacer","Ext.toolbar.Toolbar","Ext.util.Format","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.workflow.InboxDetailPanelWrapperBase","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.components.IconButton","com.coremedia.ui.components.MenuIconButton","com.coremedia.ui.components.SwitchingContainer","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.BindPropertyPlugin",
"com.coremedia.ui.plugins.BindVisibilityPlugin","com.coremedia.ui.skins.ButtonSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.workflow.TaskWarningPanel","com.coremedia.cms.editor.controlroom.workflow.WorkflowForm"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.ProcessDefinitionChooser",function(ProcessDefinitionChooser){function ProcessDefinitionChooser$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.ProcessDefinitionChooserBase,{});var defaults_$1=AS3.cast(ProcessDefinitionChooser,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"StartWorkflowWindow_workflowTypeField_label")));config_$1.allowBlank=false;config_$1.valueField="id";AS3.setBindable(config_$1,"displayField","displayName");AS3.setBindable(config_$1,"encodeItems",true);AS3.setBindable(config_$1,"stateful",true);AS3.setBindable(config_$1,"editable",false);AS3.setBindable(config_$1,"ariaAttributes",{"aria-required":"false"});config_$1.stateEvents=["select"];var ui_BindListPlugin_31_5_$1=AS3.cast(com.coremedia.ui.plugins.BindListPlugin,{});AS3.setBindable(ui_BindListPlugin_31_5_$1,
"bindTo",com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"createStoreData"),AS3.getBindable(config,"availableProcessDefinitions")));var ui_DataField_34_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_34_9_$1.name="id";var ui_DataField_35_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_35_9_$1.name="displayName";ui_DataField_35_9_$1.encode=false;AS3.setBindable(ui_BindListPlugin_31_5_$1,"fields",[ui_DataField_34_9_$1,ui_DataField_35_9_$1]);
var ui_BindPropertyPlugin_39_5_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_39_5_$1.bindTo=AS3.getBindable(config,"selectedProcessDefinitionExpression");ui_BindPropertyPlugin_39_5_$1.componentEvent="change";ui_BindPropertyPlugin_39_5_$1.ifUndefined="";ui_BindPropertyPlugin_39_5_$1.bidirectional=true;config_$1.plugins=[ui_BindListPlugin_31_5_$1,ui_BindPropertyPlugin_39_5_$1];config_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$18xi(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.workflow.ProcessDefinitionChooserBase",alias:"widget.com.coremedia.cms.editor.controlroom.config.processDefinitionChooser",constructor:ProcessDefinitionChooser$,super$18xi:function(){com.coremedia.cms.editor.controlroom.workflow.ProcessDefinitionChooserBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.workflow.ProcessDefinitionChooserBase",
"com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.BindListPlugin","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.store.DataField","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.ProcessInfoWindow",function(ProcessInfoWindow){function ProcessInfoWindow$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.ProcessInfoWindowBase,{});var defaults_$1=AS3.cast(ProcessInfoWindow,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.stateId="processInfoWindowState";AS3.setBindable(config_$1,"stateful",true);AS3.setBindable(config_$1,"width",360);AS3.setBindable(config_$1,
"height",518);AS3.setBindable(config_$1,"minWidth",200);AS3.setBindable(config_$1,"minHeight",300);config_$1.constrainHeader=true;var ui_BindPropertyPlugin_38_5_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_38_5_$1.componentProperty="title";ui_BindPropertyPlugin_38_5_$1.transformer=com.coremedia.ui.util.EncodingUtil.encodeForHTML;ui_BindPropertyPlugin_38_5_$1.bindTo=this.getTitleVE();config_$1.plugins=[ui_BindPropertyPlugin_38_5_$1];var button_43_5_$1=AS3.cast(Ext.button.Button,
{});button_43_5_$1.itemId=net.jangaroo.ext.Exml.asString(ProcessInfoWindow.ABORT_BUTTON_ITEM_ID);button_43_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_PRIMARY.getSkin());AS3.setBindable(button_43_5_$1,"scale","small");AS3.setBindable(button_43_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","WorkflowInfoWindow_abortButton_label")));AS3.setBindable(button_43_5_$1,"handler",AS3.bind(this,
"abortWorkflow"));var ui_BindVisibilityPlugin_49_9_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_49_9_$1.bindTo=this.createAbortButtonVisibilityValueExpression();button_43_5_$1.plugins=[ui_BindVisibilityPlugin_49_9_$1];var button_52_5_$1=AS3.cast(Ext.button.Button,{});button_52_5_$1.itemId=net.jangaroo.ext.Exml.asString(ProcessInfoWindow.CANCEL_BUTTON_ITEM_ID);button_52_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_SECONDARY.getSkin());
AS3.setBindable(button_52_5_$1,"scale","small");AS3.setBindable(button_52_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","WorkflowInfoWindow_closeButton_label")));AS3.setBindable(button_52_5_$1,"handler",AS3.bind(this,"close"));config_$1.buttons=[button_43_5_$1,button_52_5_$1];var layout_Fit_59_5_$1=AS3.cast(Ext.layout.container.Fit,{});AS3.setBindable(config_$1,"layout",layout_Fit_59_5_$1);net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$zOmw(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.workflow.ProcessInfoWindowBase",alias:"widget.com.coremedia.cms.editor.controlroom.config.processInfoWindow",constructor:ProcessInfoWindow$,super$zOmw:function(){com.coremedia.cms.editor.controlroom.workflow.ProcessInfoWindowBase.prototype.constructor.apply(this,arguments)},config:{process:null},statics:{ABORT_BUTTON_ITEM_ID:"abortButtonItemId",CANCEL_BUTTON_ITEM_ID:"cancelButtonItemId"},requires:["Ext.button.Button",
"Ext.layout.container.Fit","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.workflow.ProcessInfoWindowBase","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.BindVisibilityPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.util.EncodingUtil","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.WorkflowDetailColumn",function(WorkflowDetailColumn){function WorkflowDetailColumn$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.columns.grid.IconColumn,{});var defaults_$1=AS3.cast(WorkflowDetailColumn,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.stateId="workflowDetailButton";AS3.setBindable(config_$1,"width",23);AS3.setBindable(config_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons",
"collapsing_arrow_right")));AS3.setBindable(config_$1,"toolTipText",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","WorkflowDetailColumn_tooltip_text")));AS3.setBindable(config_$1,"iconText",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","WorkflowDetailColumn_tooltip_text")));AS3.setBindable(config_$1,"modifier",com.coremedia.ui.bem.IconWithTextBEMEntities.MODIFIER_DISCLOSING);
config_$1.tpl=com.coremedia.cms.editor.sdk.columns.grid.IconColumnBase.getXButtonTemplate();net.jangaroo.ext.Exml.apply(config_$1,config);this.super$ixCP(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.columns.grid.IconColumn",constructor:WorkflowDetailColumn$,super$ixCP:function(){com.coremedia.cms.editor.sdk.columns.grid.IconColumn.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.sdk.columns.grid.IconColumn",
"com.coremedia.cms.editor.sdk.columns.grid.IconColumnBase","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.bem.IconWithTextBEMEntities","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.PendingProcessListPanelBase",function(PendingProcessListPanelBase){function PendingProcessListPanelBase$(config){var this$=this;if(arguments.length<=0)config=null;this.super$VdVi(config);AS3.getBindable(this,"processListValueExpression").addChangeListener(AS3.bind(this,"checkIfDetailTaskExists$VdVi"));var listGrid=AS3.as(this.queryById(com.coremedia.cms.editor.controlroom.workflow.PendingProcessListPanel.WORKFLOW_LIST_ITEM_ID),Ext.grid.Panel);
this.mon(listGrid.getSelectionModel(),"selectionchange",AS3.bind(this,"onSelectionChange$VdVi"));this.mon(listGrid,"rowdblclick",AS3.bind(this,"handleClickGridPanel$VdVi"));this.mon(listGrid,"cellclick",function(self,td,cellIndex,record,tr,rowIndex,e,eOpts){if(e.position.column.xclass===Ext.getClassName(com.coremedia.cms.editor.controlroom.workflow.WorkflowDetailColumn)){listGrid.getSelectionModel().select(record);this$.switchToDetail()}});this.mon(listGrid,"cellmousedown",function(self,td,cellIndex,
record,tr,rowIndex,e,eOpts){listGrid.getSelectionModel().select(record)})}function checkIfDetailTaskExists(){var processList=AS3.getBindable(this,"processListValueExpression").getValue();var process=this.getSelectedProcessValueExpression().getValue();if(!process||!processList||processList.indexOf(process)===-1)this.switchToList()}function handleClickGridPanel(grid,record,tr,rowIndex,e){this.switchToDetail()}function onSelectionChange(selectionModel,selected){if(AS3.getBindable(this,"activeItemValueExpression").getValue()===
com.coremedia.cms.editor.controlroom.workflow.InboxTaskListPanel.WORKFLOW_LIST_ITEM_ID){var beanRecord=selected&&selected.length>0&&selected[0];beanRecord&&this.getSelectedProcessValueExpression().setValue(beanRecord.getBean())}}function switchToDetail(){AS3.getBindable(this,"activeItemValueExpression").setValue(com.coremedia.cms.editor.controlroom.workflow.PendingProcessListPanel.WORKFLOW_DETAIL_ITEM_ID)}function switchToList(){AS3.getBindable(this,"activeItemValueExpression").setValue(com.coremedia.cms.editor.controlroom.workflow.PendingProcessListPanel.WORKFLOW_LIST_ITEM_ID)}
function getSelectedProcessValueExpression(){if(!this.processValueExpression$VdVi)this.processValueExpression$VdVi=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(undefined);return this.processValueExpression$VdVi}function beforeDestroy(){AS3.getBindable(this,"processListValueExpression").removeChangeListener(AS3.bind(this,"checkIfDetailTaskExists$VdVi"));Ext.panel.Panel.prototype.beforeDestroy.call(this)}return{extend:"Ext.panel.Panel",mixins:["com.coremedia.cms.editor.controlroom.workflow.SwitchingWorkflowContainer"],
processValueExpression$VdVi:null,constructor:PendingProcessListPanelBase$,super$VdVi:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},checkIfDetailTaskExists$VdVi:checkIfDetailTaskExists,handleClickGridPanel$VdVi:handleClickGridPanel,onSelectionChange$VdVi:onSelectionChange,switchToDetail:switchToDetail,switchToList:switchToList,getSelectedProcessValueExpression:getSelectedProcessValueExpression,beforeDestroy:beforeDestroy,config:{activeItemValueExpression:null,processListValueExpression:null},
requires:["Ext","Ext.grid.Panel","Ext.panel.Panel","com.coremedia.cms.editor.controlroom.workflow.SwitchingWorkflowContainer","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.controlroom.workflow.InboxTaskListPanel","com.coremedia.cms.editor.controlroom.workflow.PendingProcessListPanel","com.coremedia.cms.editor.controlroom.workflow.WorkflowDetailColumn"]}});Ext.define("com.coremedia.cms.editor.controlroom.dd.EditedContentPanelDragDropModel",function(EditedContentPanelDragDropModel){function EditedContentPanelDragDropModel$(editentContentPanel){this.editedContentPanel$G_1W=editentContentPanel}function performDefaultAction(droppedContentIds,targetNodeId,callback){if(droppedContentIds&&droppedContentIds.length>0){var droppedRemoteBeans=com.coremedia.ui.util.BeanCollectionDropZoneHelper.getRemoteBeansForNodes(droppedContentIds);var newEditedContents=[];
droppedRemoteBeans.forEach(function(remoteBean){var content=com.coremedia.cap.content.ContentProxyHelper.getContent(remoteBean);if(content&&!content.isFolder())newEditedContents.push(content)});if(newEditedContents.length>0)com.coremedia.collaboration.controlroom.rest.CapListRepositoryImpl.getInstance().getEditedContents().addItems(newEditedContents)}}function performAlternativeAction(droppedContentIds,targetNodeId,callback){}function allowDefaultAction(source,nodeIds,targetNodeId){var mayBeMoved=
true;var remoteBeansForNodes=com.coremedia.ui.util.BeanCollectionDropZoneHelper.getRemoteBeansForNodes(nodeIds);remoteBeansForNodes.forEach(function(remoteBean){var content=com.coremedia.cap.content.ContentProxyHelper.getContent(remoteBean);if(!content||content.isFolder())mayBeMoved=false});return mayBeMoved}function allowAlternativeAction(source,nodeIds,targetNodeId){return false}function getModelItemId(){return this.editedContentPanel$G_1W.getItemId()}return{mixins:["com.coremedia.ui.models.DragDropModel"],
editedContentPanel$G_1W:null,constructor:EditedContentPanelDragDropModel$,performDefaultAction:performDefaultAction,performAlternativeAction:performAlternativeAction,allowDefaultAction:allowDefaultAction,allowAlternativeAction:allowAlternativeAction,getModelItemId:getModelItemId,requires:["com.coremedia.cap.content.ContentProxyHelper","com.coremedia.collaboration.controlroom.rest.CapListRepositoryImpl","com.coremedia.ui.models.DragDropModel","com.coremedia.ui.util.BeanCollectionDropZoneHelper"]}});Ext.define("com.coremedia.cms.editor.controlroom.dd.EditedContentPanelDropZone",function(EditedContentPanelDropZone){function EditedContentPanelDropZone$(component,editedContentsDragDropModel,config){this.super$mP51(component.getEl(),config);this.beanCollectionDropZoneHelper$mP51=new com.coremedia.ui.util.BeanCollectionDropZoneHelper(editedContentsDragDropModel,false)}function notifyEnter(source,event,data){return this.beanCollectionDropZoneHelper$mP51.notifyEnter(source,event,data)}function notifyOut(source,
e,data){this.beanCollectionDropZoneHelper$mP51.notifyOut(source,e,data)}function onContainerOver(source,e,data){return this.beanCollectionDropZoneHelper$mP51.onContainerOver(source,e,data)}function onContainerDrop(source,e,data){return this.beanCollectionDropZoneHelper$mP51.onContainerDrop(source,e,data)}return{extend:"Ext.dd.DropZone",beanCollectionDropZoneHelper$mP51:null,constructor:EditedContentPanelDropZone$,super$mP51:function(){Ext.dd.DropZone.prototype.constructor.apply(this,arguments)},notifyEnter:notifyEnter,
notifyOut:notifyOut,onContainerOver:onContainerOver,onContainerDrop:onContainerDrop,requires:["Ext.dd.DropZone","com.coremedia.ui.util.BeanCollectionDropZoneHelper"]}});Ext.define("com.coremedia.cms.editor.controlroom.dd.ProjectsPanelDropZone",function(ProjectsPanelDropZone){var ROW_CLASS$static="x-grid-row";var ROW_OVER_CLASS$static="x-grid-row-over";function ProjectsPanelDropZone$(el,component,config){this.super$s4cp(el,config);this.projectsPanel$s4cp=component;this.nodesDropZoneHelper$s4cp=new com.coremedia.ui.util.BeanCollectionDropZoneHelper(new com.coremedia.cms.editor.controlroom.dd.ProjectsPanelDropModel(component),false)}function notifyEnter(source,event,
data){return this.nodesDropZoneHelper$s4cp.notifyEnter(source,event,data)}function notifyOut(source,e,data){this.lastNodeElementOver$s4cp&&this.lastNodeElementOver$s4cp.removeCls(ROW_OVER_CLASS$static);this.nodesDropZoneHelper$s4cp.notifyOut(source,e,data)}function onNodeOver(nodeData,source,event,data){Ext.dd.DropZone.prototype.onNodeOver.call(this,nodeData,source,event,data);if(data&&data.projects)return this.dropNotAllowed;var row=getRowFromEvent$static(event);if(row){this.lastNodeElementOver$s4cp=
row;this.lastNodeElementOver$s4cp.addCls(ROW_OVER_CLASS$static)}else this.lastNodeElementOver$s4cp=null;return this.nodesDropZoneHelper$s4cp.onNodeOver(nodeData,source,event,data)}function onNodeDrop(nodeData,source,dropEvent,data){Ext.dd.DropZone.prototype.onNodeDrop.call(this,nodeData,source,dropEvent,data);if(data&&data.projects)return false;return this.nodesDropZoneHelper$s4cp.onNodeDrop(nodeData,source,dropEvent,data)}function getTargetFromEvent(evt){this.lastNodeElementOver$s4cp&&this.lastNodeElementOver$s4cp.removeCls(ROW_OVER_CLASS$static);
var row=getRowFromEvent$static(evt);if(row){var project=getProjectFromRow$static(this.projectsPanel$s4cp,row);var node={id:project&&project.getUriPath()};row.removeCls(ROW_OVER_CLASS$static);return{node:node,ddel:row}}return null}function onContainerOver(source,e,data){Ext.dd.DropZone.prototype.onContainerOver.call(this,source,e,data);if(data&&data.projects)return this.dropNotAllowed;return this.nodesDropZoneHelper$s4cp.onContainerOver(source,e,data)}function onContainerDrop(source,e,data){Ext.dd.DropZone.prototype.onContainerDrop.call(this,
source,e,data);if(data&&data.projects)return false;return this.nodesDropZoneHelper$s4cp.onContainerDrop(source,e,data)}function getRowFromEvent$static(evt){var rowElement=evt.getTarget("."+ROW_CLASS$static);return Ext.get(rowElement)}function getProjectFromRow$static(projectsPanel,row){var targetRowIndex=projectsPanel.getView().indexOf(row.dom);var beanRecord=AS3.as(projectsPanel.getStore().getAt(targetRowIndex),com.coremedia.ui.store.BeanRecord);if(beanRecord)return AS3.as(beanRecord.getBean(),com.coremedia.cms.editor.controlroom.project.rest.Project);
return null}return{extend:"Ext.dd.DropZone",nodesDropZoneHelper$s4cp:null,projectsPanel$s4cp:null,lastNodeElementOver$s4cp:null,constructor:ProjectsPanelDropZone$,super$s4cp:function(){Ext.dd.DropZone.prototype.constructor.apply(this,arguments)},notifyEnter:notifyEnter,notifyOut:notifyOut,onNodeOver:onNodeOver,onNodeDrop:onNodeDrop,getTargetFromEvent:getTargetFromEvent,onContainerOver:onContainerOver,onContainerDrop:onContainerDrop,requires:["Ext","Ext.dd.DropZone","com.coremedia.ui.store.BeanRecord",
"com.coremedia.ui.util.BeanCollectionDropZoneHelper"],uses:["com.coremedia.cms.editor.controlroom.dd.ProjectsPanelDropModel","com.coremedia.cms.editor.controlroom.project.rest.Project"]}});Ext.define("com.coremedia.cms.editor.controlroom.dd.EditedContentPanelHeaderDropZone",function(EditedContentPanelHeaderDropZone){function EditedContentPanelHeaderDropZone$(component,editedContentsPanelDragDropModel,config){this.super$sTvk(component.header.el,config);this.beanCollectionDropZoneHelper$sTvk=new com.coremedia.ui.util.BeanCollectionDropZoneHelper(editedContentsPanelDragDropModel,false)}function notifyEnter(source,event,data){return this.beanCollectionDropZoneHelper$sTvk.notifyEnter(source,
event,data)}function notifyOut(source,e,data){this.beanCollectionDropZoneHelper$sTvk.notifyOut(source,e,data)}function onContainerOver(source,e,data){return this.beanCollectionDropZoneHelper$sTvk.onContainerOver(source,e,data)}function onContainerDrop(source,e,data){return this.beanCollectionDropZoneHelper$sTvk.onContainerDrop(source,e,data)}return{extend:"Ext.dd.DropZone",beanCollectionDropZoneHelper$sTvk:null,constructor:EditedContentPanelHeaderDropZone$,super$sTvk:function(){Ext.dd.DropZone.prototype.constructor.apply(this,
arguments)},notifyEnter:notifyEnter,notifyOut:notifyOut,onContainerOver:onContainerOver,onContainerDrop:onContainerDrop,requires:["Ext.dd.DropZone","com.coremedia.ui.util.BeanCollectionDropZoneHelper"]}});Ext.define("com.coremedia.cms.editor.controlroom.dd.ProjectsPanelDropModel",function(ProjectsPanelDropModel){function ProjectsPanelDropModel$(projectsPanel){this.projectsPanel$UPO2=projectsPanel}function performDefaultAction(droppedNodeIds,targetNodeId,callback){var droppedRemoteBeans=com.coremedia.ui.util.BeanCollectionDropZoneHelper.getRemoteBeansForNodes(droppedNodeIds);var contents=com.coremedia.cap.content.ContentProxyHelper.getContents(droppedRemoteBeans);if(droppedRemoteBeans.length!==contents.length)return;
if(targetNodeId===this.projectsPanel$UPO2.getItemId()){var createProject=Ext.create(com.coremedia.cms.editor.controlroom.project.actions.CreateProjectAction,{mode:"selected",afterCreateHandler:com.coremedia.cms.editor.controlroom.project.ProjectHelper.renameProjectInMyProjects});createProject.setContents(contents);createProject.execute()}else{var project=AS3.as(com.coremedia.ui.data.beanFactory.getRemoteBean(targetNodeId),com.coremedia.cms.editor.controlroom.project.rest.Project);if(project)project.addContents(contents)}}
function performAlternativeAction(droppedNodeIds,targetNodeId,callback){}function allowDefaultAction(source,nodeIds,targetNodeId){if(!targetNodeId)return false;var mayBeMoved=true;var remoteBeansForNodes=com.coremedia.ui.util.BeanCollectionDropZoneHelper.getRemoteBeansForNodes(nodeIds);remoteBeansForNodes.forEach(function(remoteBean){var content=com.coremedia.cap.content.ContentProxyHelper.getContent(remoteBean);if(!content||content.isFolder())mayBeMoved=false});return mayBeMoved}function allowAlternativeAction(source,
nodeIds,targetNodeId){return false}function getModelItemId(){return this.projectsPanel$UPO2.getItemId()}return{mixins:["com.coremedia.ui.models.DragDropModel"],projectsPanel$UPO2:null,constructor:ProjectsPanelDropModel$,performDefaultAction:performDefaultAction,performAlternativeAction:performAlternativeAction,allowDefaultAction:allowDefaultAction,allowAlternativeAction:allowAlternativeAction,getModelItemId:getModelItemId,requires:["Ext","com.coremedia.cap.content.ContentProxyHelper","com.coremedia.ui.data.beanFactory",
"com.coremedia.ui.models.DragDropModel","com.coremedia.ui.util.BeanCollectionDropZoneHelper"],uses:["com.coremedia.cms.editor.controlroom.project.ProjectHelper","com.coremedia.cms.editor.controlroom.project.actions.CreateProjectAction","com.coremedia.cms.editor.controlroom.project.rest.Project"]}});Ext.define("com.coremedia.cms.editor.controlroom.actions.ShowStartWorkflowWindowActionBase",function(ShowStartWorkflowWindowActionBase){function ShowStartWorkflowWindowActionBase$(config){if(arguments.length<=0)config=null;this.super$7usE(AS3.cast(com.coremedia.cms.editor.controlroom.actions.ShowStartWorkflowWindowAction,com.coremedia.cms.editor.controlroom.actions.ControlRoomConfigUtil.extendConfig(config,AS3.getBindable(config,"actionName"),{handler:AS3.bind(this,"showStartWorkflowWindow$7usE"),
hidden:AS3.getBindable(config,"processDefinitionNames").length===0})));this.workflowNameValueExpression$7usE=AS3.getBindable(config,"workflowNameValueExpression")}function showStartWorkflowWindow(){var workflowName=this.workflowNameValueExpression$7usE&&this.workflowNameValueExpression$7usE.getValue();var window=this.createWorkflowWindow(workflowName,com.coremedia.cms.editor.sdk.util.WorkflowUtils.getAvailableProcessDefNames(this.initialConfig.processDefinitionNames));window.show()}function createWorkflowWindow(defaultWorkflowName,
availableProcessDefinitionNames){throw AS3.cast(AS3.Error,"needs to be implemented in subclass");}function calculateHidden(){switch(this.mayStartWorkflow()){case undefined:return undefined;case false:return true}return com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.calculateHidden.call(this)}function calculateDisabled(){return com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.calculateDisabled.call(this)||!com.coremedia.collaboration.controlroom.rest.CapListRepositoryImpl.getInstance()}
function mayStartWorkflow(){var availableProcessDefinitionNames=com.coremedia.cms.editor.sdk.util.WorkflowUtils.getAvailableProcessDefNames(this.initialConfig.processDefinitionNames);if(availableProcessDefinitionNames===undefined)return undefined;return availableProcessDefinitionNames.length!==0}return{extend:"com.coremedia.cms.editor.sdk.actions.ContentAction",workflowNameValueExpression$7usE:null,constructor:ShowStartWorkflowWindowActionBase$,super$7usE:function(){com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.constructor.apply(this,
arguments)},showStartWorkflowWindow$7usE:showStartWorkflowWindow,createWorkflowWindow:createWorkflowWindow,calculateHidden:calculateHidden,calculateDisabled:calculateDisabled,mayStartWorkflow:mayStartWorkflow,requires:["AS3.Error","com.coremedia.cms.editor.sdk.actions.ContentAction","com.coremedia.cms.editor.sdk.util.WorkflowUtils","com.coremedia.collaboration.controlroom.rest.CapListRepositoryImpl"],uses:["com.coremedia.cms.editor.controlroom.actions.ControlRoomConfigUtil","com.coremedia.cms.editor.controlroom.actions.ShowStartWorkflowWindowAction"]}});Ext.define("com.coremedia.cms.editor.controlroom.actions.GlobalShowStartPublicationWorkflowWindowActionBase",function(GlobalShowStartPublicationWorkflowWindowActionBase){function GlobalShowStartPublicationWorkflowWindowActionBase$(config){if(arguments.length<=0)config=null;this.super$1oDj(config)}function onFirstComponentAdded(){com.coremedia.cms.editor.controlroom.actions.ShowStartPublicationWorkflowWindowAction.prototype.onFirstComponentAdded.call(this);this.myEditedContentsValueExpression$1oDj=
com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var capListRepository=com.coremedia.collaboration.controlroom.rest.CapListRepositoryImpl.getInstance();return capListRepository?capListRepository.getEditedContents().getItems():[]});this.updateContents$1oDj();this.myEditedContentsValueExpression$1oDj.addChangeListener(AS3.bind(this,"updateContents$1oDj"))}function onLastComponentRemoved(){com.coremedia.cms.editor.controlroom.actions.ShowStartPublicationWorkflowWindowAction.prototype.onLastComponentRemoved.call(this);
this.myEditedContentsValueExpression$1oDj.removeChangeListener(AS3.bind(this,"updateContents$1oDj"));this.myEditedContentsValueExpression$1oDj=null}function updateContents(){this.setContents(this.myEditedContentsValueExpression$1oDj.getValue())}return{extend:"com.coremedia.cms.editor.controlroom.actions.ShowStartPublicationWorkflowWindowAction",myEditedContentsValueExpression$1oDj:null,constructor:GlobalShowStartPublicationWorkflowWindowActionBase$,super$1oDj:function(){com.coremedia.cms.editor.controlroom.actions.ShowStartPublicationWorkflowWindowAction.prototype.constructor.apply(this,
arguments)},onFirstComponentAdded:onFirstComponentAdded,onLastComponentRemoved:onLastComponentRemoved,updateContents$1oDj:updateContents,requires:["com.coremedia.cms.editor.controlroom.actions.ShowStartPublicationWorkflowWindowAction","com.coremedia.collaboration.controlroom.rest.CapListRepositoryImpl","com.coremedia.ui.data.ValueExpressionFactory"]}});Ext.define("com.coremedia.cms.editor.controlroom.actions.ShowStartWorkflowWindowAction",function(ShowStartWorkflowWindowAction){function ShowStartWorkflowWindowAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.actions.ShowStartWorkflowWindowActionBase,{});var defaults_$1=AS3.cast(ShowStartWorkflowWindowAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$W_aT(config_$1)}
return{extend:"com.coremedia.cms.editor.controlroom.actions.ShowStartWorkflowWindowActionBase",constructor:ShowStartWorkflowWindowAction$,super$W_aT:function(){com.coremedia.cms.editor.controlroom.actions.ShowStartWorkflowWindowActionBase.prototype.constructor.apply(this,arguments)},config:{workflowNameValueExpression:null,actionName:null,processDefinitionNames:null},requires:["com.coremedia.cms.editor.controlroom.actions.ShowStartWorkflowWindowActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.actions.StartPullTranslationWorkflowActionBase",function(StartPullTranslationWorkflowActionBase){function finallyCallbacks_(){this.finallyCallbacks$ZZOz=[]}function StartPullTranslationWorkflowActionBase$(config){var this$=this;if(arguments.length<=0)config=null;this.super$ZZOz(AS3.cast(com.coremedia.cms.editor.sdk.actions.ContentAction,Ext.apply({iconCls:mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"Action_startPullTranslationWorkflow_icon"),text:mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","Action_startPullTranslationWorkflow_text"),tooltip:mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","Action_startPullTranslationWorkflow_tooltip"),handler:AS3.bind(this,"startWorkflow$ZZOz")},config)));finallyCallbacks_.call(this);this.tooltipExpression$ZZOz=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){return StartPullTranslationWorkflowActionBase.getDisableReasonFor(this$.getContents())})}
function onFirstComponentAdded(){com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.onFirstComponentAdded.call(this);this.tooltipExpression$ZZOz.addChangeListener(AS3.bind(this,"updateTooltip$ZZOz"))}function onLastComponentRemoved(){com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.onLastComponentRemoved.call(this);this.tooltipExpression$ZZOz.removeChangeListener(AS3.bind(this,"updateTooltip$ZZOz"))}function registerFinallyCallback(callback){this.finallyCallbacks$ZZOz.push(callback)}
function executeFinallyCallbacks(){for(var i=0;i<this.finallyCallbacks$ZZOz.length;i++){var callback=this.finallyCallbacks$ZZOz[i];callback()}this.finallyCallbacks$ZZOz=[]}function startWorkflow(){var this$=this;this.resolveMasterContentObjects$ZZOz(function(masterContentObjects){var variables={};variables[com.coremedia.cms.editor.sdk.translate.TranslationProcessVariableNames.SUBJECT_VARIABLE]=get$workflowSubject$static();variables[com.coremedia.cms.editor.sdk.translate.TranslationProcessVariableNames.MASTER_CONTENT_OBJECTS_VARIABLE]=
masterContentObjects;variables[com.coremedia.cms.editor.sdk.translate.TranslationProcessVariableNames.TARGET_SITE_ID_VARIABLE]=get$preferredSiteId$static();variables[com.coremedia.cms.editor.sdk.translate.TranslationProcessVariableNames.AUTO_SELF_ASSIGNED_VARIABLE]=true;var translationConfiguration=com.coremedia.cms.editor.sdk.editorContext.getConfiguration()["translation"];if(translationConfiguration.showPullTranslationStartWindow)this$.showWorkflowWindow$ZZOz();else com.coremedia.cms.editor.sdk.util.WorkflowUtils.startProcess(get$firstAvailableTranslationProcessDefinitionNames$static(),
variables,AS3.bind(this$,"pullTranslationStarted$ZZOz"))})}function showWorkflowWindow(){var startTranslationWorkflowWindowCfg=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.translation.StartTranslationWorkflowWindow,{});AS3.setBindable(startTranslationWorkflowWindowCfg,"contents",this.getContents());AS3.setBindable(startTranslationWorkflowWindowCfg,"availableProcessDefinitionNames",get$availableTranslationProcessDefinitionNames$static());AS3.setBindable(startTranslationWorkflowWindowCfg,
"pullTranslation",true);AS3.setBindable(startTranslationWorkflowWindowCfg,"processStartedCallback",AS3.bind(this,"pullTranslationStarted$ZZOz"));AS3.setBindable(startTranslationWorkflowWindowCfg,"processCancelledCallback",AS3.bind(this,"executeFinallyCallbacks$ZZOz"));var w=AS3.cast(Ext.window.Window,Ext.ComponentManager.create(startTranslationWorkflowWindowCfg));w.show()}function pullTranslationStarted(process,error){var this$=this;if(arguments.length<=1)error=null;if(error){com.coremedia.cms.editor.sdk.util.WorkflowUtils.showStartProcessErrorDialog();
this.executeFinallyCallbacks$ZZOz();return}process.load(function(){function isAcceptedOrEscalated(){var escalatedTasks=process.getTasks().filter(function(task){return task.isEscalated()});return task.isAccepted()||escalatedTasks.length>0}function cleanupAndPossiblyShow(){if(task.isAccepted())showTask$static(task);this$.executeFinallyCallbacks$ZZOz()}function handleTimeout(){com.coremedia.ui.logging.Logger.warn("Task "+translateSelfTaskName+" ("+task+") not auto-accepted within 30s. State: "+(task?
task.getTaskState():"(unknown)"));this$.executeFinallyCallbacks$ZZOz()}var translateSelfTaskName="TranslateSelf";var task=process.getTask(translateSelfTaskName);com.coremedia.ui.util.ConcurrentUtil.executeWhen(isAcceptedOrEscalated,cleanupAndPossiblyShow,3E4,handleTimeout)})}function showTask$static(task){if(task)com.coremedia.cms.editor.controlroom.controlRoomContext.getTranslationWfPanel(true).switchToTaskInInbox(task)}function resolveMasterContentObjects(callback){var this$=this;com.coremedia.cms.editor.sdk.util.contentUtil.expandFolders(function(documents){if(documents.length===
0){this$.executeFinallyCallbacks$ZZOz();return}com.coremedia.ui.data.RemoteBeanUtil.loadAll(function(){var masterVersions=documents.map(function(content){return content.isCheckedIn()?content.getCheckedInVersion():content.getCheckedOutVersion()}).filter(function(version){return version!==null});callback(masterVersions)},documents)},this.getContents())}function get$preferredSiteId$static(){var sitesService=com.coremedia.cms.editor.sdk.editorContext.getSitesService();return sitesService.getPreferredSiteId()}
function get$workflowSubject$static(){var currentDate=Ext.Date.format(new Date,mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","dateFormat"));return com.coremedia.cap.common.SESSION.getUser().getName()+" "+currentDate}function get$translationProcessDefinitionNames$static(){return AS3.cast(com.coremedia.cms.editor.sdk.EditorContextImpl,com.coremedia.cms.editor.sdk.editorContext).getTranslationProcessDefinitions()}function get$availableTranslationProcessDefinitionNames$static(){return com.coremedia.cms.editor.sdk.util.WorkflowUtils.getAvailableProcessDefNames(get$translationProcessDefinitionNames$static())}
function get$firstAvailableTranslationProcessDefinitionNames$static(){return String(get$availableTranslationProcessDefinitionNames$static()[0])}function isEnabledFor(contents){var hidden=this.calculateHidden();var disabled=this.isDisabledFor(contents);if(hidden===undefined||disabled===undefined)return undefined;return!hidden&&!disabled}function calculateHidden(){switch(mayStartWorkflow$static()){case undefined:return undefined;case false:return true}return com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.calculateHidden.call(this)}
function mayStartWorkflow$static(){var availableNames=get$availableTranslationProcessDefinitionNames$static();if(availableNames===undefined)return undefined;var hasAvailableWorkflows=availableNames&&availableNames.length!==0;if(hasAvailableWorkflows){var sitesService=com.coremedia.cms.editor.sdk.editorContext.getSitesService();var preferredSite=sitesService.getPreferredSite();return preferredSite&&preferredSite.isManagedByCurrentUser()&&!!preferredSite.getMasterSite()&&preferredSite.isLanguageTranslationTargetSite()&&
preferredSite.getMasterSite().getSiteRootFolder().getState().readable}return false}function isDisabledFor(contents){return!!StartPullTranslationWorkflowActionBase.getDisableReasonFor(contents)}function getDisableReasonFor$static(contents){var sitesService=com.coremedia.cms.editor.sdk.editorContext.getSitesService();if(!contents||contents.length===0)return"noContents";var preferredSite=sitesService.getPreferredSite();if(!preferredSite)return"noPreferredSite";var masterSite=preferredSite.getMasterSite();
for(var $1=0;$1<contents.length;++$1){var content=contents[$1];if(content.isCheckedOut()&&!content.getCheckedOutVersion())return"containsWorkingVersionOnlyContents";var currentSite=sitesService.getSiteFor(content);if(masterSite!==currentSite)return"contentsNotInMasterOfPreferred"}return null}function updateTooltip(ve){var disableReason=ve.getValue();var newTooltip=this.initialConfig["tooltip"];if(disableReason)newTooltip=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"Action_startPullTranslationWorkflow_"+disableReason+"_disabled_tooltip");this.each(function(component){if(component&&AS3.is(component["setTooltip"],Function))component["setTooltip"](newTooltip)})}return{extend:"com.coremedia.cms.editor.sdk.actions.ContentAction",tooltipExpression$ZZOz:null,constructor:StartPullTranslationWorkflowActionBase$,super$ZZOz:function(){com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.constructor.apply(this,arguments)},onFirstComponentAdded:onFirstComponentAdded,
onLastComponentRemoved:onLastComponentRemoved,registerFinallyCallback:registerFinallyCallback,executeFinallyCallbacks$ZZOz:executeFinallyCallbacks,startWorkflow$ZZOz:startWorkflow,showWorkflowWindow$ZZOz:showWorkflowWindow,pullTranslationStarted$ZZOz:pullTranslationStarted,resolveMasterContentObjects$ZZOz:resolveMasterContentObjects,isEnabledFor:isEnabledFor,calculateHidden:calculateHidden,isDisabledFor:isDisabledFor,updateTooltip$ZZOz:updateTooltip,statics:{getDisableReasonFor:getDisableReasonFor$static},
requires:["Ext","Ext.ComponentManager","Ext.Date","Ext.window.Window","com.coremedia.cap.common.SESSION","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.sdk.EditorContextImpl","com.coremedia.cms.editor.sdk.actions.ContentAction","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.translate.TranslationProcessVariableNames","com.coremedia.cms.editor.sdk.util.WorkflowUtils","com.coremedia.cms.editor.sdk.util.contentUtil",
"com.coremedia.ui.data.RemoteBeanUtil","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.logging.Logger","com.coremedia.ui.util.ConcurrentUtil","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.controlroom.controlRoomContext","com.coremedia.cms.editor.controlroom.workflow.translation.StartTranslationWorkflowWindow"]}});Ext.define("com.coremedia.cms.editor.controlroom.actions.ToggleControlRoomAction",function(ToggleControlRoomAction){function ToggleControlRoomAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.sidepanel.ToggleComponentInSidePanelAction,{});var defaults_$1=AS3.cast(ToggleControlRoomAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"componentId",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.controlroom.ControlRoom.CONTROL_ROOM_ID));
net.jangaroo.ext.Exml.apply(config_$1,config);this.super$12Vj(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.desktop.sidepanel.ToggleComponentInSidePanelAction",constructor:ToggleControlRoomAction$,super$12Vj:function(){com.coremedia.cms.editor.sdk.desktop.sidepanel.ToggleComponentInSidePanelAction.prototype.constructor.apply(this,arguments)},statics:{ACTION_ID:"toggleControlRoomAction"},requires:["com.coremedia.cms.editor.sdk.desktop.sidepanel.ToggleComponentInSidePanelAction","net.jangaroo.ext.Exml"],
uses:["com.coremedia.cms.editor.controlroom.ControlRoom"]}});Ext.define("com.coremedia.cms.editor.controlroom.actions.ShowStartTranslationWorkflowWindowAction",function(ShowStartTranslationWorkflowWindowAction){function ShowStartTranslationWorkflowWindowAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.actions.ShowStartTranslationWorkflowWindowActionBase,{});var defaults_$1=AS3.cast(ShowStartTranslationWorkflowWindowAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,
"actionName","showStartTranslationWorkflowWindow");AS3.setBindable(config_$1,"tooltip",mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","Action_showStartTranslationWorkflowWindow_tooltip"));AS3.setBindable(config_$1,"text",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","Action_showStartTranslationWorkflowWindow_text")));net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$5Gz_(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.actions.ShowStartTranslationWorkflowWindowActionBase",constructor:ShowStartTranslationWorkflowWindowAction$,super$5Gz_:function(){com.coremedia.cms.editor.controlroom.actions.ShowStartTranslationWorkflowWindowActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.actions.ShowStartTranslationWorkflowWindowActionBase",
"mx.resources.ResourceManager","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.actions.ShowEmptyStartTranslationWorkflowWindowActionBase",function(ShowEmptyStartTranslationWorkflowWindowActionBase){function ShowEmptyStartTranslationWorkflowWindowActionBase$(config){if(arguments.length<=0)config=null;this.super$jeE8(AS3.cast(Ext.Action,Ext.apply(config,{handler:showStartWorkflowWindow$static})));this.hiddenExpression$jeE8=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"calculateHidden"));this.hiddenExpression$jeE8.addChangeListener(AS3.bind(this,
"updateHiddenStatus$jeE8"));this.updateHiddenStatus$jeE8()}function updateHiddenStatus(){if(this.hiddenExpression$jeE8.getValue())this.hide();else this.show()}function getTranslationProcessDefinitions$static(){return AS3.cast(com.coremedia.cms.editor.sdk.EditorContextImpl,com.coremedia.cms.editor.sdk.editorContext).getTranslationProcessDefinitions()}function showStartWorkflowWindow$static(){var window=new com.coremedia.cms.editor.controlroom.workflow.translation.StartTranslationWorkflowWindow(AS3.cast(com.coremedia.cms.editor.controlroom.workflow.translation.StartTranslationWorkflowWindow,
{contents:[],defaultWorkflowName:undefined,availableProcessDefinitionNames:com.coremedia.cms.editor.sdk.util.WorkflowUtils.getAvailableProcessDefNames(getTranslationProcessDefinitions$static())}));window.show()}function calculateHidden(){if(this.initialConfig.processDefinitionNames&&this.initialConfig.processDefinitionNames.length===0)return true;var availableProcessDefinitionNames=com.coremedia.cms.editor.sdk.util.WorkflowUtils.getAvailableProcessDefNames(getTranslationProcessDefinitions$static());
return availableProcessDefinitionNames===undefined||availableProcessDefinitionNames.length===0}return{extend:"Ext.Action",hiddenExpression$jeE8:null,constructor:ShowEmptyStartTranslationWorkflowWindowActionBase$,super$jeE8:function(){Ext.Action.prototype.constructor.apply(this,arguments)},updateHiddenStatus$jeE8:updateHiddenStatus,calculateHidden:calculateHidden,requires:["Ext","Ext.Action","com.coremedia.cms.editor.sdk.EditorContextImpl","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.util.WorkflowUtils",
"com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.controlroom.workflow.translation.StartTranslationWorkflowWindow"]}});Ext.define("com.coremedia.cms.editor.controlroom.actions.ShowEmptyStartPublicationWorkflowWindowAction",function(ShowEmptyStartPublicationWorkflowWindowAction){function ShowEmptyStartPublicationWorkflowWindowAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.actions.ShowEmptyStartPublicationWorkflowWindowActionBase,{});var defaults_$1=AS3.cast(ShowEmptyStartPublicationWorkflowWindowAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,
config);AS3.setBindable(config_$1,"tooltip",mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","Action_globalShowStartPublicationWorkflowWindow_tooltip"));AS3.setBindable(config_$1,"text",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","Action_globalShowStartPublicationWorkflowWindow_text")));net.jangaroo.ext.Exml.apply(config_$1,config);this.super$wn0I(config_$1)}
return{extend:"com.coremedia.cms.editor.controlroom.actions.ShowEmptyStartPublicationWorkflowWindowActionBase",alias:"widget.com.coremedia.cms.editor.controlroom.config.showEmptyStartPublicationWorkflowWindowAction",constructor:ShowEmptyStartPublicationWorkflowWindowAction$,super$wn0I:function(){com.coremedia.cms.editor.controlroom.actions.ShowEmptyStartPublicationWorkflowWindowActionBase.prototype.constructor.apply(this,arguments)},config:{processDefinitionNames:null},requires:["com.coremedia.cms.editor.controlroom.ControlRoom_properties",
"com.coremedia.cms.editor.controlroom.actions.ShowEmptyStartPublicationWorkflowWindowActionBase","mx.resources.ResourceManager","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.actions.StartPullTranslationWorkflowAction",function(StartPullTranslationWorkflowAction){function StartPullTranslationWorkflowAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.actions.StartPullTranslationWorkflowActionBase,{});var defaults_$1=AS3.cast(StartPullTranslationWorkflowAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"tooltip",mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"Action_startPullTranslationWorkflow_tooltip"));AS3.setBindable(config_$1,"text",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","Action_startPullTranslationWorkflow_text")));net.jangaroo.ext.Exml.apply(config_$1,config);this.super$I45C(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.actions.StartPullTranslationWorkflowActionBase",constructor:StartPullTranslationWorkflowAction$,super$I45C:function(){com.coremedia.cms.editor.controlroom.actions.StartPullTranslationWorkflowActionBase.prototype.constructor.apply(this,
arguments)},requires:["com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.actions.StartPullTranslationWorkflowActionBase","mx.resources.ResourceManager","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.actions.DeleteEditedContentsAction",function(DeleteEditedContentsAction){function DeleteEditedContentsAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.actions.DeleteEditedContentsActionBase,{});var defaults_$1=AS3.cast(DeleteEditedContentsAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$EWin(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.actions.DeleteEditedContentsActionBase",
constructor:DeleteEditedContentsAction$,super$EWin:function(){com.coremedia.cms.editor.controlroom.actions.DeleteEditedContentsActionBase.prototype.constructor.apply(this,arguments)},config:{mode:null},requires:["com.coremedia.cms.editor.controlroom.actions.DeleteEditedContentsActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.actions.ShowStartPublicationWorkflowWindowActionBase",function(ShowStartPublicationWorkflowWindowActionBase){function ShowStartPublicationWorkflowWindowActionBase$(config){var this$=this;if(arguments.length<=0)config=null;this.super$Jadg(config);AS3.setBindable(this,"processDefinitionNames",AS3.getBindable(config,"processDefinitionNames"));this.userMayStartWorkflow$Jadg=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var availableProcessDefNames=
com.coremedia.cms.editor.sdk.util.WorkflowUtils.getAvailableProcessDefNames(AS3.getBindable(this$,"processDefinitionNames"));return availableProcessDefNames&&availableProcessDefNames.length>0})}function createWorkflowWindow(defaultWorkflowName,availableProcessDefinitionNames){var window=new com.coremedia.cms.editor.controlroom.workflow.publication.StartPublicationWorkflowWindow(AS3.cast(com.coremedia.cms.editor.controlroom.workflow.publication.StartPublicationWorkflowWindow,{contents:this.getContents(),
defaultWorkflowName:defaultWorkflowName,availableProcessDefinitionNames:availableProcessDefinitionNames}));return window}function mayStartWorkflow(){return this.userMayStartWorkflow$Jadg.getValue()&&com.coremedia.cms.editor.controlroom.actions.ShowStartWorkflowWindowAction.prototype.mayStartWorkflow.call(this)}return{extend:"com.coremedia.cms.editor.controlroom.actions.ShowStartWorkflowWindowAction",userMayStartWorkflow$Jadg:null,constructor:ShowStartPublicationWorkflowWindowActionBase$,super$Jadg:function(){com.coremedia.cms.editor.controlroom.actions.ShowStartWorkflowWindowAction.prototype.constructor.apply(this,
arguments)},createWorkflowWindow:createWorkflowWindow,mayStartWorkflow:mayStartWorkflow,requires:["com.coremedia.cms.editor.controlroom.actions.ShowStartWorkflowWindowAction","com.coremedia.cms.editor.sdk.util.WorkflowUtils","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.controlroom.workflow.publication.StartPublicationWorkflowWindow"]}});Ext.define("com.coremedia.cms.editor.controlroom.actions.ControlRoomConfigUtil",function(ControlRoomConfigUtil){function extendConfig$static(config,actionName,overrideConfig,tooltipMouseOffset){if(arguments.length<=2)overrideConfig=null;var result=AS3.cast(Ext.Action,{});AS3.setBindable(result,"iconCls",mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","Action_"+actionName+"_icon"));AS3.setBindable(result,"text",mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"Action_"+actionName+"_text"));Ext.apply(result,overrideConfig,config);var tooltipText=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","Action_"+actionName+"_tooltip");var quickTip;if(!result.tooltip){quickTip=AS3.cast(Ext.tip.QuickTip,{});quickTip.text=tooltipText;AS3.setBindable(result,"tooltip",quickTip)}else{quickTip=AS3.as(result.tooltip,Ext.tip.QuickTip);if(quickTip)quickTip.text=quickTip.text||tooltipText}if(tooltipMouseOffset)quickTip.mouseOffset=
tooltipMouseOffset;return result}function ControlRoomConfigUtil$(){}return{constructor:ControlRoomConfigUtil$,statics:{extendConfig:extendConfig$static},requires:["Ext","Ext.Action","Ext.tip.QuickTip","com.coremedia.cms.editor.controlroom.ControlRoom_properties","mx.resources.ResourceManager"]}});Ext.define("com.coremedia.cms.editor.controlroom.actions.DeleteEditedContentsActionBase",function(DeleteEditedContentsActionBase){function DeleteEditedContentsActionBase$(config){if(arguments.length<=0)config=null;this.mode$3eMY=AS3.getBindable(config,"mode")||"all";this.super$3eMY(AS3.cast(com.coremedia.cms.editor.controlroom.actions.DeleteEditedContentsAction,com.coremedia.cms.editor.controlroom.actions.ControlRoomConfigUtil.extendConfig(config,"deleteEditedContents_"+this.mode$3eMY,{handler:AS3.bind(this,
"confirmDeleteEditedContents$3eMY")})))}function confirmDeleteEditedContents(){var this$=this;if("all"===this.mode$3eMY)com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showConfirmation(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","Action_deleteEditedContents_confirm_title"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","Action_deleteEditedContents_confirm_message"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"Action_deleteEditedContents_confirm_buttonText"),function(btn){if("ok"===btn)this$.deleteEditedContents$3eMY()},false);else this.deleteEditedContents$3eMY()}function deleteEditedContents(){if(this.mode$3eMY==="all")com.coremedia.collaboration.controlroom.rest.CapListRepositoryImpl.getInstance().getEditedContents().setItems([],Ext.emptyFn);else{var contents=this.getContents();if(!contents||!contents.length)return;com.coremedia.collaboration.controlroom.rest.CapListRepositoryImpl.getInstance().getEditedContents().removeItems(contents)}}
return{extend:"com.coremedia.cms.editor.sdk.actions.ContentAction",mode$3eMY:null,constructor:DeleteEditedContentsActionBase$,super$3eMY:function(){com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.constructor.apply(this,arguments)},confirmDeleteEditedContents$3eMY:confirmDeleteEditedContents,deleteEditedContents$3eMY:deleteEditedContents,requires:["Ext","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.sdk.actions.ContentAction","com.coremedia.cms.editor.sdk.util.MessageBoxUtil",
"com.coremedia.collaboration.controlroom.rest.CapListRepositoryImpl","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.controlroom.actions.ControlRoomConfigUtil","com.coremedia.cms.editor.controlroom.actions.DeleteEditedContentsAction"]}});Ext.define("com.coremedia.cms.editor.controlroom.actions.ShowEmptyStartPublicationWorkflowWindowActionBase",function(ShowEmptyStartPublicationWorkflowWindowActionBase){function ShowEmptyStartPublicationWorkflowWindowActionBase$(config){if(arguments.length<=0)config=null;this.super$0383(AS3.cast(Ext.Action,Ext.apply(config,{handler:AS3.bind(this,"showStartWorkflowWindow$0383")})));this.hiddenExpression$0383=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"calculateHidden$0383"));
this.hiddenExpression$0383.addChangeListener(AS3.bind(this,"updateHiddenStatus$0383"));this.updateHiddenStatus$0383()}function updateHiddenStatus(){if(this.hiddenExpression$0383.getValue())this.hide();else this.show()}function showStartWorkflowWindow(){var window=new com.coremedia.cms.editor.controlroom.workflow.publication.StartPublicationWorkflowWindow(AS3.cast(com.coremedia.cms.editor.controlroom.workflow.publication.StartPublicationWorkflowWindow,{contents:[],defaultWorkflowName:undefined,availableProcessDefinitionNames:com.coremedia.cms.editor.sdk.util.WorkflowUtils.getAvailableProcessDefNames(this.initialConfig.processDefinitionNames)}));
window.show()}function calculateHidden(){if(this.initialConfig.processDefinitionNames&&this.initialConfig.processDefinitionNames.length===0)return true;var availableProcessDefinitionNames=com.coremedia.cms.editor.sdk.util.WorkflowUtils.getAvailableProcessDefNames(this.initialConfig.processDefinitionNames);return availableProcessDefinitionNames===undefined||availableProcessDefinitionNames.length===0}return{extend:"Ext.Action",hiddenExpression$0383:null,constructor:ShowEmptyStartPublicationWorkflowWindowActionBase$,
super$0383:function(){Ext.Action.prototype.constructor.apply(this,arguments)},updateHiddenStatus$0383:updateHiddenStatus,showStartWorkflowWindow$0383:showStartWorkflowWindow,calculateHidden$0383:calculateHidden,requires:["Ext","Ext.Action","com.coremedia.cms.editor.sdk.util.WorkflowUtils","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.controlroom.workflow.publication.StartPublicationWorkflowWindow"]}});Ext.define("com.coremedia.cms.editor.controlroom.actions.ShowStartPublicationWorkflowWindowAction",function(ShowStartPublicationWorkflowWindowAction){function ShowStartPublicationWorkflowWindowAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.actions.ShowStartPublicationWorkflowWindowActionBase,{});var defaults_$1=AS3.cast(ShowStartPublicationWorkflowWindowAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,
"actionName","showStartPublicationWorkflowWindow");AS3.setBindable(config_$1,"processDefinitionNames",[com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.SIMPLE_PUBLICATION_WORKFLOW_TYPE,com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.TWO_STEP_PUBLICATION_WORKFLOW_TYPE]);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$LpDv(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.actions.ShowStartPublicationWorkflowWindowActionBase",
constructor:ShowStartPublicationWorkflowWindowAction$,super$LpDv:function(){com.coremedia.cms.editor.controlroom.actions.ShowStartPublicationWorkflowWindowActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.controlroom.actions.ShowStartPublicationWorkflowWindowActionBase","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants"]}});Ext.define("com.coremedia.cms.editor.controlroom.actions.ShowEmptyStartTranslationWorkflowWindowAction",function(ShowEmptyStartTranslationWorkflowWindowAction){function ShowEmptyStartTranslationWorkflowWindowAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.actions.ShowEmptyStartTranslationWorkflowWindowActionBase,{});var defaults_$1=AS3.cast(ShowEmptyStartTranslationWorkflowWindowAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,
config);AS3.setBindable(config_$1,"tooltip",mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","Action_showStartTranslationWorkflowWindow_tooltip"));AS3.setBindable(config_$1,"text",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","Action_showStartTranslationWorkflowWindow_text")));net.jangaroo.ext.Exml.apply(config_$1,config);this.super$gEmN(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.actions.ShowEmptyStartTranslationWorkflowWindowActionBase",
alias:"widget.com.coremedia.cms.editor.controlroom.config.showEmptyStartTranslationWorkflowWindowAction",constructor:ShowEmptyStartTranslationWorkflowWindowAction$,super$gEmN:function(){com.coremedia.cms.editor.controlroom.actions.ShowEmptyStartTranslationWorkflowWindowActionBase.prototype.constructor.apply(this,arguments)},config:{processDefinitionNames:null},requires:["com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.actions.ShowEmptyStartTranslationWorkflowWindowActionBase",
"mx.resources.ResourceManager","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.actions.GlobalShowStartPublicationWorkflowWindowAction",function(GlobalShowStartPublicationWorkflowWindowAction){function GlobalShowStartPublicationWorkflowWindowAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.actions.GlobalShowStartPublicationWorkflowWindowActionBase,{});var defaults_$1=AS3.cast(GlobalShowStartPublicationWorkflowWindowAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,
config);AS3.setBindable(config_$1,"actionName","globalShowStartPublicationWorkflowWindow");AS3.setBindable(config_$1,"tooltip",mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","Action_globalShowStartPublicationWorkflowWindow_tooltip"));AS3.setBindable(config_$1,"text",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","Action_globalShowStartPublicationWorkflowWindow_text")));
net.jangaroo.ext.Exml.apply(config_$1,config);this.super$9qPy(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.actions.GlobalShowStartPublicationWorkflowWindowActionBase",constructor:GlobalShowStartPublicationWorkflowWindowAction$,super$9qPy:function(){com.coremedia.cms.editor.controlroom.actions.GlobalShowStartPublicationWorkflowWindowActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.actions.GlobalShowStartPublicationWorkflowWindowActionBase",
"mx.resources.ResourceManager","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.actions.ShowStartTranslationWorkflowWindowActionBase",function(ShowStartTranslationWorkflowWindowActionBase){function ShowStartTranslationWorkflowWindowActionBase$(config){if(arguments.length<=0)config=null;this.super$19jl(AS3.cast(com.coremedia.cms.editor.controlroom.actions.ShowStartWorkflowWindowAction,Ext.apply({"processDefinitionNames":AS3.cast(com.coremedia.cms.editor.sdk.EditorContextImpl,com.coremedia.cms.editor.sdk.editorContext).getTranslationProcessDefinitions()},
config)))}function createWorkflowWindow(defaultWorkflowName,availableProcessDefinitionNames){var startTranslationWorkflowWindowCfg=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.translation.StartTranslationWorkflowWindow,{});AS3.setBindable(startTranslationWorkflowWindowCfg,"contents",this.getContents());AS3.setBindable(startTranslationWorkflowWindowCfg,"defaultWorkflowName",defaultWorkflowName);AS3.setBindable(startTranslationWorkflowWindowCfg,"availableProcessDefinitionNames",availableProcessDefinitionNames);
var window=AS3.cast(Ext.window.Window,Ext.ComponentManager.create(startTranslationWorkflowWindowCfg));return window}function mayStartWorkflow(){if(!com.coremedia.cms.editor.controlroom.actions.ShowStartWorkflowWindowAction.prototype.mayStartWorkflow.call(this))return false;var sitesService=com.coremedia.cms.editor.sdk.editorContext.getSitesService();var sites=sitesService.getSites();var hasReadableSites=false;for(var i=0;i<sites.length;i++){var site=sites[i];if(site.isManagedByCurrentUser()&&hasReadableSubSites$static(site)){hasReadableSites=
true;break}}return hasReadableSites}function hasReadableSubSites$static(site){var derivedSites=site.getDerivedSites();for(var i=0;i<derivedSites.length;i++){var derivedSite=derivedSites[i];if(derivedSite.getSiteRootFolder().getState().readable)return true}return false}function getContents(){return com.coremedia.cms.editor.controlroom.actions.ShowStartWorkflowWindowAction.prototype.getContents.call(this)}return{extend:"com.coremedia.cms.editor.controlroom.actions.ShowStartWorkflowWindowAction",constructor:ShowStartTranslationWorkflowWindowActionBase$,
super$19jl:function(){com.coremedia.cms.editor.controlroom.actions.ShowStartWorkflowWindowAction.prototype.constructor.apply(this,arguments)},createWorkflowWindow:createWorkflowWindow,mayStartWorkflow:mayStartWorkflow,getContents:getContents,requires:["Ext","Ext.ComponentManager","Ext.window.Window","com.coremedia.cms.editor.controlroom.actions.ShowStartWorkflowWindowAction","com.coremedia.cms.editor.sdk.EditorContextImpl","com.coremedia.cms.editor.sdk.editorContext"],uses:["com.coremedia.cms.editor.controlroom.workflow.translation.StartTranslationWorkflowWindow"]}});Ext.define("com.coremedia.cms.editor.controlroom.notification.actions.ShowTranslationWorkflowForNotificationAction",function(ShowTranslationWorkflowForNotificationAction){function ShowTranslationWorkflowForNotificationAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.notification.actions.ShowTranslationWorkflowForNotificationActionBase,{});var defaults_$1=AS3.cast(ShowTranslationWorkflowForNotificationAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,
config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$31Pl(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.notification.actions.ShowTranslationWorkflowForNotificationActionBase",constructor:ShowTranslationWorkflowForNotificationAction$,super$31Pl:function(){com.coremedia.cms.editor.controlroom.notification.actions.ShowTranslationWorkflowForNotificationActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.controlroom.notification.actions.ShowTranslationWorkflowForNotificationActionBase",
"net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.notification.actions.ShowProjectForNotificationAction",function(ShowProjectForNotificationAction){function ShowProjectForNotificationAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.notification.actions.ShowProjectForNotificationActionBase,{});var defaults_$1=AS3.cast(ShowProjectForNotificationAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$J006(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.notification.actions.ShowProjectForNotificationActionBase",constructor:ShowProjectForNotificationAction$,super$J006:function(){com.coremedia.cms.editor.controlroom.notification.actions.ShowProjectForNotificationActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.controlroom.notification.actions.ShowProjectForNotificationActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.notification.actions.ShowProjectForNotificationActionBase",function(ShowProjectForNotificationActionBase){function ShowProjectForNotificationActionBase$(config){if(arguments.length<=0)config=null;this.super$m0Vt(config);this.registerActionStateHandler(this.ACTION_STATE_EXECUTABLE,AS3.bind(this,"showProjects$m0Vt"));this.registerActionStateHandler(this.ACTION_STATE_PROJECT_NOT_ACCESSIBLE$m0Vt,AS3.bind(this,"showProjectDestroyedWarning$m0Vt"))}function showProjectDestroyedWarning(){var projectName=
this.getNotification().getParameters()[2]||"";com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showWarn(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.notification.ControlRoomNotifications","Notification_showProjectForNotificationAction_error_title"),Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.notification.ControlRoomNotifications","Notification_showProjectForNotificationAction_destroyed_error_msg"),
projectName))}function showProjects(){var project=AS3.as(this.getNotification().getParameters()[0],com.coremedia.cms.editor.controlroom.project.rest.Project);if(project){function invokedLater(project){com.coremedia.cms.editor.controlroom.project.ProjectHelper.selectProjectsInMyProjects(project);com.coremedia.cms.editor.controlroom.project.ProjectHelper.openProjectInTab(project)}com.coremedia.ui.util.EventUtil.invokeLater(invokedLater,project)}}function getActionState(){var actionState=com.coremedia.cms.editor.notification.actions.NotificationAction.prototype.getActionState.call(this);
if(actionState!==this.ACTION_STATE_EXECUTABLE)return actionState;else return this.getActionStateInternal$m0Vt()}function getActionStateInternal(){var notification=this.getNotification();var project=AS3.as(notification.getParameters()[0],com.coremedia.cms.editor.controlroom.project.rest.Project);var isAccessible=AS3.as(com.coremedia.ui.data.RemoteBeanUtil.isAccessible(project),Boolean);if(isAccessible===undefined)return undefined;if(!isAccessible)return this.ACTION_STATE_PROJECT_NOT_ACCESSIBLE$m0Vt;
return this.getActionStateInternalForMyProjects$m0Vt()}function getActionStateInternalForMyProjects(){var myProjectsBean=com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectRepositoryImpl.getInstance().getProjectsOfSessionUser();if(!myProjectsBean)return undefined;return this.ACTION_STATE_EXECUTABLE}return{extend:"com.coremedia.cms.editor.notification.actions.NotificationAction",ACTION_STATE_PROJECT_NOT_ACCESSIBLE$m0Vt:"projectNotAccessible",constructor:ShowProjectForNotificationActionBase$,
super$m0Vt:function(){com.coremedia.cms.editor.notification.actions.NotificationAction.prototype.constructor.apply(this,arguments)},showProjectDestroyedWarning$m0Vt:showProjectDestroyedWarning,showProjects$m0Vt:showProjects,getActionState:getActionState,getActionStateInternal$m0Vt:getActionStateInternal,getActionStateInternalForMyProjects$m0Vt:getActionStateInternalForMyProjects,requires:["Ext.String","com.coremedia.cms.editor.controlroom.notification.ControlRoomNotifications_properties","com.coremedia.cms.editor.notification.actions.NotificationAction",
"com.coremedia.cms.editor.sdk.util.MessageBoxUtil","com.coremedia.ui.data.RemoteBeanUtil","com.coremedia.ui.util.EventUtil","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.controlroom.project.ProjectHelper","com.coremedia.cms.editor.controlroom.project.rest.Project","com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectRepositoryImpl"]}});Ext.define("com.coremedia.cms.editor.controlroom.notification.actions.ShowPublicationWorkflowForNotificationAction",function(ShowPublicationWorkflowForNotificationAction){function ShowPublicationWorkflowForNotificationAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.notification.actions.ShowPublicationWorkflowForNotificationActionBase,{});var defaults_$1=AS3.cast(ShowPublicationWorkflowForNotificationAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,
config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$WppK(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.notification.actions.ShowPublicationWorkflowForNotificationActionBase",constructor:ShowPublicationWorkflowForNotificationAction$,super$WppK:function(){com.coremedia.cms.editor.controlroom.notification.actions.ShowPublicationWorkflowForNotificationActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.controlroom.ControlRoom_properties",
"com.coremedia.cms.editor.controlroom.notification.actions.ShowPublicationWorkflowForNotificationActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.notification.actions.AbstractShowWorkflowForNotificationActionBase",function(AbstractShowWorkflowForNotificationActionBase){function AbstractShowWorkflowForNotificationActionBase$(config){if(arguments.length<=0)config=null;this.super$8XR5(config);this.registerActionStateHandler(this.ACTION_STATE_EXECUTABLE,AS3.bind(this,"showWorkflow$8XR5"));this.registerActionStateHandler(this.ACTION_STATE_NOT_IN_WORKFLOWS$8XR5,AS3.bind(this,"notInWorkflowsWarning"));
this.registerActionStateHandler(this.ACTION_STATE_NOT_ACCESSIBLE$8XR5,AS3.bind(this,"destroyedWarning"))}function getActionState(){var actionState=com.coremedia.cms.editor.notification.actions.NotificationAction.prototype.getActionState.call(this);if(actionState!==this.ACTION_STATE_EXECUTABLE)return actionState;else return this.getActionStateInternal$8XR5()}function getActionStateInternal(){var notification=this.getNotification();var process=AS3.as(notification.getParameters()[1],com.coremedia.cap.workflow.Process);
var processState=process&&process.getProcessState();if(processState&&(processState.isCompleted()||processState.isAborted())){this.isFinishedWorkflow$8XR5=true;return this.getActionStateInternalForProcess$8XR5(process)}var task=AS3.as(notification.getParameters()[0],com.coremedia.cap.workflow.Task);var stateForTask=task&&this.getStateForTask$8XR5(task);if(!!stateForTask)return stateForTask;return this.getActionStateInternalForTask$8XR5(task)}function getActionStateInternalForTask(task){var process=
task.getContainingProcess();var processState=this.getStateForProcess$8XR5(process);if(!!processState)return processState;if(!this.getTabbedWorkflowPanel().containsTask(task))return this.ACTION_STATE_NOT_IN_WORKFLOWS$8XR5;return this.ACTION_STATE_EXECUTABLE}function getStateForTask(task){switch(com.coremedia.ui.data.RemoteBeanUtil.isAccessible(task)){case undefined:return undefined;case false:return this.ACTION_STATE_NOT_ACCESSIBLE$8XR5}var taskDefinition=AS3.cast(com.coremedia.ui.data.RemoteBean,
task.getDefinition());switch(com.coremedia.ui.data.RemoteBeanUtil.isAccessible(taskDefinition)){case undefined:return undefined;case false:return this.ACTION_STATE_NOT_ACCESSIBLE$8XR5}return null}function getActionStateInternalForProcess(process){var processState=this.getStateForProcess$8XR5(process);if(!!processState)return processState;if(!this.getTabbedWorkflowPanel().containsProcess(process))return this.ACTION_STATE_NOT_IN_WORKFLOWS$8XR5;return this.ACTION_STATE_EXECUTABLE}function getStateForProcess(process){switch(com.coremedia.ui.data.RemoteBeanUtil.isAccessible(process)){case undefined:return undefined;
case false:return this.ACTION_STATE_NOT_ACCESSIBLE$8XR5}var processDefinition=AS3.cast(com.coremedia.ui.data.RemoteBean,process.getDefinition());switch(com.coremedia.ui.data.RemoteBeanUtil.isAccessible(processDefinition)){case undefined:return undefined;case false:return this.ACTION_STATE_NOT_ACCESSIBLE$8XR5}return null}function showWorkflow(){var notification=this.getNotification();if(!this.isFinishedWorkflow$8XR5){var task=AS3.as(notification.getParameters()[0],com.coremedia.cap.workflow.Task);
this.showTask$8XR5(task)}else{var process=AS3.as(notification.getParameters()[1],com.coremedia.cap.workflow.Process);this.showProcess$8XR5(process)}}function showTask(task){if(task)this.getTabbedWorkflowPanel(true).switchToTaskInWorkflowPanel(task)}function showProcess(process){if(process)this.getTabbedWorkflowPanel(true).switchToProcessInWorkflowPanel(process)}function getTabbedWorkflowPanel(show){if(arguments.length<=0)show=false;throw new AS3.Error("Abstract Method!");}function notInWorkflowsWarning(){throw new AS3.Error("Abstract Method!");
}function destroyedWarning(){throw new AS3.Error("Abstract Method!");}return{extend:"com.coremedia.cms.editor.notification.actions.NotificationAction",ACTION_STATE_NOT_IN_WORKFLOWS$8XR5:"notInWorkflows",ACTION_STATE_NOT_ACCESSIBLE$8XR5:"workflowNotAccessible",isFinishedWorkflow$8XR5:false,constructor:AbstractShowWorkflowForNotificationActionBase$,super$8XR5:function(){com.coremedia.cms.editor.notification.actions.NotificationAction.prototype.constructor.apply(this,arguments)},getActionState:getActionState,
getActionStateInternal$8XR5:getActionStateInternal,getActionStateInternalForTask$8XR5:getActionStateInternalForTask,getStateForTask$8XR5:getStateForTask,getActionStateInternalForProcess$8XR5:getActionStateInternalForProcess,getStateForProcess$8XR5:getStateForProcess,showWorkflow$8XR5:showWorkflow,showTask$8XR5:showTask,showProcess$8XR5:showProcess,getTabbedWorkflowPanel:getTabbedWorkflowPanel,notInWorkflowsWarning:notInWorkflowsWarning,destroyedWarning:destroyedWarning,requires:["AS3.Error","com.coremedia.cap.workflow.Process",
"com.coremedia.cap.workflow.Task","com.coremedia.cms.editor.notification.actions.NotificationAction","com.coremedia.ui.data.RemoteBean","com.coremedia.ui.data.RemoteBeanUtil"]}});Ext.define("com.coremedia.cms.editor.controlroom.notification.actions.AbstractShowWorkflowForNotificationAction",function(AbstractShowWorkflowForNotificationAction){function AbstractShowWorkflowForNotificationAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.notification.actions.AbstractShowWorkflowForNotificationActionBase,{});var defaults_$1=AS3.cast(AbstractShowWorkflowForNotificationAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,
config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$iQNK(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.notification.actions.AbstractShowWorkflowForNotificationActionBase",constructor:AbstractShowWorkflowForNotificationAction$,super$iQNK:function(){com.coremedia.cms.editor.controlroom.notification.actions.AbstractShowWorkflowForNotificationActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.controlroom.notification.actions.AbstractShowWorkflowForNotificationActionBase",
"net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.notification.actions.ShowTranslationWorkflowForNotificationActionBase",function(ShowTranslationWorkflowForNotificationActionBase){function ShowTranslationWorkflowForNotificationActionBase$(config){if(arguments.length<=0)config=null;this.super$JC7W(config)}function notInWorkflowsWarning(){var process=AS3.as(this.getNotification().getParameters()[1],com.coremedia.cap.workflow.Process);if(process){var workflowName=process.getProperties().get("subject");
com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showWarn(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.notification.ControlRoomNotifications","Notification_showTranslationWorkflowForNotificationAction_error_title"),Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.notification.ControlRoomNotifications","Notification_showTranslationWorkflowForNotificationAction_notInPublicationWorkflows_error_msg"),
workflowName))}}function destroyedWarning(){var workflowName=this.getNotification().getParameters()[2]||"";com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showWarn(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.notification.ControlRoomNotifications","Notification_showTranslationWorkflowForNotificationAction_error_title"),Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.notification.ControlRoomNotifications",
"Notification_showTranslationWorkflowForNotificationAction_destroyed_error_msg"),workflowName))}function getTabbedWorkflowPanel(show){if(arguments.length<=0)show=false;return com.coremedia.cms.editor.controlroom.controlRoomContext.getTranslationWfPanel(show,show)}return{extend:"com.coremedia.cms.editor.controlroom.notification.actions.AbstractShowWorkflowForNotificationAction",constructor:ShowTranslationWorkflowForNotificationActionBase$,super$JC7W:function(){com.coremedia.cms.editor.controlroom.notification.actions.AbstractShowWorkflowForNotificationAction.prototype.constructor.apply(this,
arguments)},notInWorkflowsWarning:notInWorkflowsWarning,destroyedWarning:destroyedWarning,getTabbedWorkflowPanel:getTabbedWorkflowPanel,requires:["Ext.String","com.coremedia.cap.workflow.Process","com.coremedia.cms.editor.controlroom.notification.ControlRoomNotifications_properties","com.coremedia.cms.editor.controlroom.notification.actions.AbstractShowWorkflowForNotificationAction","com.coremedia.cms.editor.sdk.util.MessageBoxUtil","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.controlroom.controlRoomContext"]}});Ext.define("com.coremedia.cms.editor.controlroom.notification.actions.ShowPublicationWorkflowForNotificationActionBase",function(ShowPublicationWorkflowForNotificationActionBase){function ShowPublicationWorkflowForNotificationActionBase$(config){if(arguments.length<=0)config=null;this.super$K2t5(config)}function notInWorkflowsWarning(){var process=AS3.as(this.getNotification().getParameters()[1],com.coremedia.cap.workflow.Process);if(process){var workflowName=process.getProperties().get("subject");
com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showWarn(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.notification.ControlRoomNotifications","Notification_showPublicationWorkflowForNotificationAction_error_title"),Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.notification.ControlRoomNotifications","Notification_showPublicationWorkflowForNotificationAction_notInPublicationWorkflows_error_msg"),
workflowName))}}function destroyedWarning(){var workflowName=this.getNotification().getParameters()[2]||"";com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showWarn(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.notification.ControlRoomNotifications","Notification_showPublicationWorkflowForNotificationAction_error_title"),Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.notification.ControlRoomNotifications",
"Notification_showPublicationWorkflowForNotificationAction_destroyed_error_msg"),workflowName))}function getTabbedWorkflowPanel(show){if(arguments.length<=0)show=false;return com.coremedia.cms.editor.controlroom.controlRoomContext.getPublicationWfPanel(show,show)}return{extend:"com.coremedia.cms.editor.controlroom.notification.actions.AbstractShowWorkflowForNotificationAction",constructor:ShowPublicationWorkflowForNotificationActionBase$,super$K2t5:function(){com.coremedia.cms.editor.controlroom.notification.actions.AbstractShowWorkflowForNotificationAction.prototype.constructor.apply(this,
arguments)},notInWorkflowsWarning:notInWorkflowsWarning,destroyedWarning:destroyedWarning,getTabbedWorkflowPanel:getTabbedWorkflowPanel,requires:["Ext.String","com.coremedia.cap.workflow.Process","com.coremedia.cms.editor.controlroom.notification.ControlRoomNotifications_properties","com.coremedia.cms.editor.controlroom.notification.actions.AbstractShowWorkflowForNotificationAction","com.coremedia.cms.editor.sdk.util.MessageBoxUtil","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.controlroom.controlRoomContext"]}});Ext.define("com.coremedia.cms.editor.controlroom.notification.components.ProjectNotificationDetailsBase",function(ProjectNotificationDetailsBase){function ProjectNotificationDetailsBase$(config){if(arguments.length<=0)config=null;this.super$1N1W(config)}function preProcessTextParameters(params){var projectName=params[2];var project=AS3.as(params[0],com.coremedia.cms.editor.controlroom.project.rest.Project);if(project&&com.coremedia.ui.data.RemoteBeanUtil.isAccessible(project))projectName=project.getName()||
projectName;return[projectName,params[1]]}return{extend:"com.coremedia.cms.editor.notification.components.DefaultNotificationDetails",mixins:["com.coremedia.cms.editor.notification.components.TextParametersPreProcessor"],constructor:ProjectNotificationDetailsBase$,super$1N1W:function(){com.coremedia.cms.editor.notification.components.DefaultNotificationDetails.prototype.constructor.apply(this,arguments)},preProcessTextParameters:preProcessTextParameters,requires:["com.coremedia.cms.editor.notification.components.DefaultNotificationDetails",
"com.coremedia.cms.editor.notification.components.TextParametersPreProcessor","com.coremedia.ui.data.RemoteBeanUtil"],uses:["com.coremedia.cms.editor.controlroom.project.rest.Project"]}});Ext.define("com.coremedia.cms.editor.controlroom.notification.components.TranslationWorkflowNotificationDetails",function(TranslationWorkflowNotificationDetails){function TranslationWorkflowNotificationDetails$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.notification.components.WorkflowNotificationDetails,{});var defaults_$1=AS3.cast(TranslationWorkflowNotificationDetails,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var collab_ShowTranslationWorkflowForNotificationAction_15_5_$1=
AS3.cast(com.coremedia.cms.editor.controlroom.notification.actions.ShowTranslationWorkflowForNotificationAction,{});config_$1.baseAction=new com.coremedia.cms.editor.controlroom.notification.actions.ShowTranslationWorkflowForNotificationAction(collab_ShowTranslationWorkflowForNotificationAction_15_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$hcUO(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.notification.components.WorkflowNotificationDetails",alias:"widget.com.coremedia.cms.editor.controlroom.config.translationWorkflowNotificationDetails",
constructor:TranslationWorkflowNotificationDetails$,super$hcUO:function(){com.coremedia.cms.editor.controlroom.notification.components.WorkflowNotificationDetails.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.controlroom.notification.components.WorkflowNotificationDetails","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.notification.actions.ShowTranslationWorkflowForNotificationAction"]}});Ext.define("com.coremedia.cms.editor.controlroom.notification.components.WorkflowNotificationDetailsBase",function(WorkflowNotificationDetailsBase){function WorkflowNotificationDetailsBase$(config){if(arguments.length<=0)config=null;this.super$Y_mu(config)}function preProcessTextParameters(params){var process=AS3.as(params[1],com.coremedia.cap.workflow.Process);var workflowName=AS3.as(params[2],String);if(process)process.load(function(process){var state=process.getState();if(!(state===com.coremedia.ui.data.BeanState.NON_EXISTENT||
state===com.coremedia.ui.data.BeanState.UNREADABLE)){var workflowObjectProperties=process.getProperties();if(workflowObjectProperties)workflowName=workflowObjectProperties.get("subject")}});return[workflowName]}return{extend:"com.coremedia.cms.editor.notification.components.DefaultNotificationDetails",mixins:["com.coremedia.cms.editor.notification.components.TextParametersPreProcessor"],constructor:WorkflowNotificationDetailsBase$,super$Y_mu:function(){com.coremedia.cms.editor.notification.components.DefaultNotificationDetails.prototype.constructor.apply(this,
arguments)},preProcessTextParameters:preProcessTextParameters,requires:["com.coremedia.cap.workflow.Process","com.coremedia.cms.editor.notification.components.DefaultNotificationDetails","com.coremedia.cms.editor.notification.components.TextParametersPreProcessor","com.coremedia.ui.data.BeanState"]}});Ext.define("com.coremedia.cms.editor.controlroom.notification.components.WorkflowNotificationDetails",function(WorkflowNotificationDetails){function WorkflowNotificationDetails$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.notification.components.WorkflowNotificationDetailsBase,{});var defaults_$1=AS3.cast(WorkflowNotificationDetails,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$RYp7(config_$1)}
return{extend:"com.coremedia.cms.editor.controlroom.notification.components.WorkflowNotificationDetailsBase",alias:"widget.com.coremedia.cms.editor.controlroom.config.workflowNotificationDetails",constructor:WorkflowNotificationDetails$,super$RYp7:function(){com.coremedia.cms.editor.controlroom.notification.components.WorkflowNotificationDetailsBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.controlroom.notification.components.WorkflowNotificationDetailsBase",
"net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.notification.components.ProjectNotificationDetails",function(ProjectNotificationDetails){function ProjectNotificationDetails$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.notification.components.ProjectNotificationDetailsBase,{});var defaults_$1=AS3.cast(ProjectNotificationDetails,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var collab_ShowProjectForNotificationAction_16_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.notification.actions.ShowProjectForNotificationAction,
{});config_$1.baseAction=new com.coremedia.cms.editor.controlroom.notification.actions.ShowProjectForNotificationAction(collab_ShowProjectForNotificationAction_16_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$O0Jl(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.notification.components.ProjectNotificationDetailsBase",alias:"widget.com.coremedia.cms.editor.controlroom.config.projectNotificationDetails",constructor:ProjectNotificationDetails$,super$O0Jl:function(){com.coremedia.cms.editor.controlroom.notification.components.ProjectNotificationDetailsBase.prototype.constructor.apply(this,
arguments)},requires:["com.coremedia.cms.editor.controlroom.notification.components.ProjectNotificationDetailsBase","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.notification.actions.ShowProjectForNotificationAction"]}});Ext.define("com.coremedia.cms.editor.controlroom.notification.components.PublicationWorkflowNotificationDetails",function(PublicationWorkflowNotificationDetails){function PublicationWorkflowNotificationDetails$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.notification.components.WorkflowNotificationDetails,{});var defaults_$1=AS3.cast(PublicationWorkflowNotificationDetails,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var collab_ShowPublicationWorkflowForNotificationAction_15_5_$1=
AS3.cast(com.coremedia.cms.editor.controlroom.notification.actions.ShowPublicationWorkflowForNotificationAction,{});config_$1.baseAction=new com.coremedia.cms.editor.controlroom.notification.actions.ShowPublicationWorkflowForNotificationAction(collab_ShowPublicationWorkflowForNotificationAction_15_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$5UCz(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.notification.components.WorkflowNotificationDetails",alias:"widget.com.coremedia.cms.editor.controlroom.config.publicationWorkflowNotificationDetails",
constructor:PublicationWorkflowNotificationDetails$,super$5UCz:function(){com.coremedia.cms.editor.controlroom.notification.components.WorkflowNotificationDetails.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.controlroom.notification.components.WorkflowNotificationDetails","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.notification.actions.ShowPublicationWorkflowForNotificationAction"]}});Ext.define("com.coremedia.cms.editor.controlroom.EditedContentGridPanel",function(EditedContentGridPanel){function EditedContentGridPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.EditedContentGridPanelBase,{});var defaults_$1=AS3.cast(EditedContentGridPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","ControlRoom_MyEditedContent_title"));
config_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","ControlRoom_MyEditedContent_title")+" "+this.resourceManager.getString("com.coremedia.cms.editor.Editor","ListView_suffix"));AS3.setBindable(config_$1,"bindTo",this.getMyEditedContentsInReverseOrderExpression());AS3.setBindable(config_$1,"lazy",true);config_$1.defaultFocus=":focusable";AS3.setBindable(config_$1,"hideEmptyText",true);var toolbar_32_5_$1=AS3.cast(Ext.toolbar.Toolbar,
{});toolbar_32_5_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","ControlRoom_MyEditedContentToolbar_label"));var ui_IconButton_34_9_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_34_9_$1.itemId="createProjectToolbar";var collab_CreateProjectFromMyEditedContentsAction_36_13_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.CreateProjectFromMyEditedContentsAction,{});AS3.setBindable(collab_CreateProjectFromMyEditedContentsAction_36_13_$1,
"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.components.ContentGridPanel.ALL_OR_SELECTED_ITEMS_VARIABLE_NAME));AS3.setBindable(collab_CreateProjectFromMyEditedContentsAction_36_13_$1,"mode","selected");ui_IconButton_34_9_$1.baseAction=new com.coremedia.cms.editor.controlroom.project.actions.CreateProjectFromMyEditedContentsAction(collab_CreateProjectFromMyEditedContentsAction_36_13_$1);var ui_IconButton_40_9_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});
ui_IconButton_40_9_$1.itemId="startPublicationToolbar";AS3.setBindable(ui_IconButton_40_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","Action_start_publication_tooltip")));AS3.setBindable(ui_IconButton_40_9_$1,"tooltip",this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","Action_start_publication_tooltip"));var collab_ShowStartPublicationWorkflowWindowAction_44_13_$1=AS3.cast(com.coremedia.cms.editor.controlroom.actions.ShowStartPublicationWorkflowWindowAction,
{});AS3.setBindable(collab_ShowStartPublicationWorkflowWindowAction_44_13_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.components.ContentGridPanel.ALL_OR_SELECTED_ITEMS_VARIABLE_NAME));ui_IconButton_40_9_$1.baseAction=new com.coremedia.cms.editor.controlroom.actions.ShowStartPublicationWorkflowWindowAction(collab_ShowStartPublicationWorkflowWindowAction_44_13_$1);var ui_IconButton_48_9_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_48_9_$1.itemId=
"startTranslationToolbar";AS3.setBindable(ui_IconButton_48_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","Action_start_translation_tooltip")));AS3.setBindable(ui_IconButton_48_9_$1,"tooltip",this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","Action_start_translation_tooltip"));var collab_ShowStartTranslationWorkflowWindowAction_52_13_$1=AS3.cast(com.coremedia.cms.editor.controlroom.actions.ShowStartTranslationWorkflowWindowAction,
{});AS3.setBindable(collab_ShowStartTranslationWorkflowWindowAction_52_13_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.components.ContentGridPanel.ALL_OR_SELECTED_ITEMS_VARIABLE_NAME));ui_IconButton_48_9_$1.baseAction=new com.coremedia.cms.editor.controlroom.actions.ShowStartTranslationWorkflowWindowAction(collab_ShowStartTranslationWorkflowWindowAction_52_13_$1);var tbSpacer_56_9_$1=AS3.cast(Ext.toolbar.Spacer,{});tbSpacer_56_9_$1.flex=1;var ui_MenuIconButton_57_9_$1=
AS3.cast(com.coremedia.ui.components.MenuIconButton,{});ui_MenuIconButton_57_9_$1.itemId="editedContentToolsButtonItemId";AS3.setBindable(ui_MenuIconButton_57_9_$1,"arrowVisible",false);AS3.setBindable(ui_MenuIconButton_57_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","ControlRoomPlugin_btn_show_filter_options_tooltip")));AS3.setBindable(ui_MenuIconButton_57_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons",
"arrow_down")));ui_MenuIconButton_57_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.TOOLBAR.getSkin());var ui_BindVisibilityPlugin_63_13_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_63_13_$1.bindTo=this.getMenuIconButtonVisibleVE();ui_MenuIconButton_57_9_$1.plugins=[ui_BindVisibilityPlugin_63_13_$1];var collab_EditedContentToolsMenu_66_13_$1=AS3.cast(com.coremedia.cms.editor.controlroom.EditedContentToolsMenu,{});ui_MenuIconButton_57_9_$1.menu=
collab_EditedContentToolsMenu_66_13_$1;toolbar_32_5_$1.items=[ui_IconButton_34_9_$1,ui_IconButton_40_9_$1,ui_IconButton_48_9_$1,tbSpacer_56_9_$1,ui_MenuIconButton_57_9_$1];config_$1.tbar=toolbar_32_5_$1;var collab_EditedContentGridPanelContextMenu_73_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.EditedContentGridPanelContextMenu,{});AS3.setBindable(config_$1,"contextMenu",collab_EditedContentGridPanelContextMenu_73_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$EY4A(config_$1)}
return{extend:"com.coremedia.cms.editor.controlroom.EditedContentGridPanelBase",alias:"widget.com.coremedia.cms.editor.controlroom.config.editedContentGridPanel",constructor:EditedContentGridPanel$,super$EY4A:function(){com.coremedia.cms.editor.controlroom.EditedContentGridPanelBase.prototype.constructor.apply(this,arguments)},requires:["Ext.toolbar.Spacer","Ext.toolbar.Toolbar","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.controlroom.EditedContentGridPanelBase",
"com.coremedia.cms.editor.sdk.components.ContentGridPanel","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.components.IconButton","com.coremedia.ui.components.MenuIconButton","com.coremedia.ui.plugins.BindVisibilityPlugin","com.coremedia.ui.skins.ButtonSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.EditedContentGridPanelContextMenu","com.coremedia.cms.editor.controlroom.EditedContentToolsMenu","com.coremedia.cms.editor.controlroom.actions.ShowStartPublicationWorkflowWindowAction",
"com.coremedia.cms.editor.controlroom.actions.ShowStartTranslationWorkflowWindowAction","com.coremedia.cms.editor.controlroom.project.actions.CreateProjectFromMyEditedContentsAction"]}});Ext.define("com.coremedia.cms.editor.controlroom.ProjectsPanelContextMenu",function(ProjectsPanelContextMenu){function ProjectsPanelContextMenu$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.menu.Menu,{});var defaults_$1=AS3.cast(ProjectsPanelContextMenu,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.plain=true;config_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectsPanelContextMenu.PROJECTS_PANEL_CONTEXT_MENU_ITEM_ID);var ui_HideObsoleteSeparatorsPlugin_32_5_$1=
AS3.cast(com.coremedia.ui.plugins.HideObsoleteSeparatorsPlugin,{});config_$1.plugins=[ui_HideObsoleteSeparatorsPlugin_32_5_$1];var menuItem_35_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_35_5_$1.itemId="showProject";var collab_ShowProjectAction_37_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.ShowProjectAction,{});AS3.setBindable(collab_ShowProjectAction_37_9_$1,"projectsVE",AS3.getBindable(config,"selectedProjectsVE"));menuItem_35_5_$1.baseAction=new com.coremedia.cms.editor.controlroom.project.actions.ShowProjectAction(collab_ShowProjectAction_37_9_$1);
var menuSeparator_41_5_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_43_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_43_5_$1.itemId="renameProject";var collab_RenameProjectAction_45_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.RenameProjectAction,{});AS3.setBindable(collab_RenameProjectAction_45_9_$1,"projectsVE",AS3.getBindable(config,"selectedProjectsVE"));menuItem_43_5_$1.baseAction=new com.coremedia.cms.editor.controlroom.project.actions.RenameProjectAction(collab_RenameProjectAction_45_9_$1);
var menuSeparator_49_5_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_51_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_51_5_$1.itemId="showStartPublicationWorkflowWindow";var collab_ShowStartPublicationWorkflowWindowAction_53_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.actions.ShowStartPublicationWorkflowWindowAction,{});AS3.setBindable(collab_ShowStartPublicationWorkflowWindowAction_53_9_$1,"contentValueExpression",AS3.getBindable(config,"selectedContentsVE"));AS3.setBindable(collab_ShowStartPublicationWorkflowWindowAction_53_9_$1,
"workflowNameValueExpression",AS3.getBindable(config,"workflowNameVE"));menuItem_51_5_$1.baseAction=new com.coremedia.cms.editor.controlroom.actions.ShowStartPublicationWorkflowWindowAction(collab_ShowStartPublicationWorkflowWindowAction_53_9_$1);var menuItem_58_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_58_5_$1.itemId="showStartTranslationWorkflowWindow";var collab_ShowStartTranslationWorkflowWindowAction_60_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.actions.ShowStartTranslationWorkflowWindowAction,
{});AS3.setBindable(collab_ShowStartTranslationWorkflowWindowAction_60_9_$1,"contentValueExpression",AS3.getBindable(config,"selectedContentsVE"));AS3.setBindable(collab_ShowStartTranslationWorkflowWindowAction_60_9_$1,"workflowNameValueExpression",AS3.getBindable(config,"workflowNameVE"));menuItem_58_5_$1.baseAction=new com.coremedia.cms.editor.controlroom.actions.ShowStartTranslationWorkflowWindowAction(collab_ShowStartTranslationWorkflowWindowAction_60_9_$1);var menuItem_65_5_$1=AS3.cast(Ext.menu.Item,
{});menuItem_65_5_$1.itemId="startPullTranslationWorkflow";var collab_StartPullTranslationWorkflowAction_67_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.actions.StartPullTranslationWorkflowAction,{});AS3.setBindable(collab_StartPullTranslationWorkflowAction_67_9_$1,"contentValueExpression",AS3.getBindable(config,"selectedContentsVE"));menuItem_65_5_$1.baseAction=new com.coremedia.cms.editor.controlroom.actions.StartPullTranslationWorkflowAction(collab_StartPullTranslationWorkflowAction_67_9_$1);
var menuSeparator_71_5_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_73_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_73_5_$1.itemId="leaveProjects";var collab_LeaveProjectsAction_75_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.LeaveProjectsAction,{});AS3.setBindable(collab_LeaveProjectsAction_75_9_$1,"projectsVE",AS3.getBindable(config,"selectedProjectsVE"));AS3.setBindable(collab_LeaveProjectsAction_75_9_$1,"disabled",true);AS3.setBindable(collab_LeaveProjectsAction_75_9_$1,"hidden",
true);menuItem_73_5_$1.baseAction=new com.coremedia.cms.editor.controlroom.project.actions.LeaveProjectsAction(collab_LeaveProjectsAction_75_9_$1);config_$1.items=[menuItem_35_5_$1,menuSeparator_41_5_$1,menuItem_43_5_$1,menuSeparator_49_5_$1,menuItem_51_5_$1,menuItem_58_5_$1,menuItem_65_5_$1,menuSeparator_71_5_$1,menuItem_73_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$k4M0(config_$1)}return{extend:"Ext.menu.Menu",alias:"widget.com.coremedia.cms.editor.controlroom.config.projectsPanelContextMenu",
constructor:ProjectsPanelContextMenu$,super$k4M0:function(){Ext.menu.Menu.prototype.constructor.apply(this,arguments)},config:{selectedProjectsVE:null,selectedContentsVE:null,workflowNameVE:null},statics:{PROJECTS_PANEL_CONTEXT_MENU_ITEM_ID:"projectsPanelContextMenu"},requires:["Ext.menu.Item","Ext.menu.Menu","Ext.menu.Separator","com.coremedia.ui.plugins.HideObsoleteSeparatorsPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.actions.ShowStartPublicationWorkflowWindowAction",
"com.coremedia.cms.editor.controlroom.actions.ShowStartTranslationWorkflowWindowAction","com.coremedia.cms.editor.controlroom.actions.StartPullTranslationWorkflowAction","com.coremedia.cms.editor.controlroom.project.actions.LeaveProjectsAction","com.coremedia.cms.editor.controlroom.project.actions.RenameProjectAction","com.coremedia.cms.editor.controlroom.project.actions.ShowProjectAction"]}});Ext.define("com.coremedia.cms.editor.controlroom.ControlRoomPluginBase",function(ControlRoomPluginBase){function ControlRoomPluginBase$(config){if(arguments.length<=0)config=null;if(!com.coremedia.collaboration.controlroom.rest.CapListRepositoryImpl.getInstance()){AS3.trace("[WARN] cap list repository is not available, disabling control room");return}this.super$MJv0(config);this.filterWfReqBatchSize$MJv0=config.filterWfRequestBatchSize}function init(editorContext){com.coremedia.cms.editor.controlroom.ControlRoomContextImpl.initControlRoomContext();
com.coremedia.cms.editor.controlroom.controlRoomContext.setFilterWFObjectsRequestBatchSize(this.filterWfReqBatchSize$MJv0);if(!com.coremedia.collaboration.controlroom.rest.CapListRepositoryImpl.getInstance()){AS3.trace("[WARN] control room is disabled, skipping initialization");return}editorContext.getRemoteErrorRegistry().registerErrorHandler(com.coremedia.cms.editor.controlroom.RemoteErrorHandler.handleError);com.coremedia.cms.editor.configuration.StudioPlugin.prototype.init.call(this,editorContext)}
function initPublicationLockingListener(workArea){workArea.addListener("tabchange",function(wa,tab){com.coremedia.cms.editor.controlroom.workflow.WorkflowUtils.invalidateWorkflowContentLockingForActivePremular()})}function initCheckedOutStatusLabelClickHandling(toolbar){toolbar.setLockedByWorkflowTextClickHandler(function(process){com.coremedia.cms.editor.controlroom.workflow.ProcessInfoWindowBase.showProcessInfoWindow(process,AS3.cast(com.coremedia.cms.editor.controlroom.workflow.publication.DefaultPublicationWorkflowInfoForm,
{}))})}return{extend:"com.coremedia.cms.editor.configuration.StudioPlugin",filterWfReqBatchSize$MJv0:0,constructor:ControlRoomPluginBase$,super$MJv0:function(){com.coremedia.cms.editor.configuration.StudioPlugin.prototype.constructor.apply(this,arguments)},init:init,initPublicationLockingListener:initPublicationLockingListener,initCheckedOutStatusLabelClickHandling:initCheckedOutStatusLabelClickHandling,requires:["AS3.trace","com.coremedia.cms.editor.configuration.StudioPlugin","com.coremedia.collaboration.controlroom.rest.CapListRepositoryImpl"],
uses:["com.coremedia.cms.editor.controlroom.ControlRoomContextImpl","com.coremedia.cms.editor.controlroom.RemoteErrorHandler","com.coremedia.cms.editor.controlroom.controlRoomContext","com.coremedia.cms.editor.controlroom.workflow.ProcessInfoWindowBase","com.coremedia.cms.editor.controlroom.workflow.WorkflowUtils","com.coremedia.cms.editor.controlroom.workflow.publication.DefaultPublicationWorkflowInfoForm"]}});Ext.define("com.coremedia.cms.editor.controlroom.ProjectsPanelToolbar",function(ProjectsPanelToolbar){function ProjectsPanelToolbar$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.toolbar.Toolbar,{});var defaults_$1=AS3.cast(ProjectsPanelToolbar,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","ControlRoom_ProjectsPanelToolbar_label"));
var ui_IconButton_47_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_47_5_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectsPanelToolbar.CREATE_PROJECT_ITEM_ID);var collab_CreateProjectAction_49_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.CreateProjectAction,{});AS3.setBindable(collab_CreateProjectAction_49_9_$1,"mode","empty");AS3.setBindable(collab_CreateProjectAction_49_9_$1,"tooltipMouseOffset",[0,-40]);AS3.setBindable(collab_CreateProjectAction_49_9_$1,
"afterCreateHandler",AS3.getBindable(config,"afterCreateHandler"));ui_IconButton_47_5_$1.baseAction=new com.coremedia.cms.editor.controlroom.project.actions.CreateProjectAction(collab_CreateProjectAction_49_9_$1);var ui_IconButton_54_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_54_5_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectsPanelToolbar.START_PUBLICATION_WORKFLOW_ITEM_ID);var collab_ShowStartPublicationWorkflowWindowAction_56_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.actions.ShowStartPublicationWorkflowWindowAction,
{});AS3.setBindable(collab_ShowStartPublicationWorkflowWindowAction_56_9_$1,"contentValueExpression",AS3.getBindable(config,"selectedContentsVE"));AS3.setBindable(collab_ShowStartPublicationWorkflowWindowAction_56_9_$1,"workflowNameValueExpression",AS3.getBindable(config,"workflowNameVE"));AS3.setBindable(collab_ShowStartPublicationWorkflowWindowAction_56_9_$1,"disabled",true);AS3.setBindable(collab_ShowStartPublicationWorkflowWindowAction_56_9_$1,"hidden",true);ui_IconButton_54_5_$1.baseAction=new com.coremedia.cms.editor.controlroom.actions.ShowStartPublicationWorkflowWindowAction(collab_ShowStartPublicationWorkflowWindowAction_56_9_$1);
var ui_IconButton_62_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_62_5_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectsPanelToolbar.START_TRANSLATION_WORKFLOW_ITEM_ID);var collab_ShowStartTranslationWorkflowWindowAction_64_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.actions.ShowStartTranslationWorkflowWindowAction,{});AS3.setBindable(collab_ShowStartTranslationWorkflowWindowAction_64_9_$1,"contentValueExpression",AS3.getBindable(config,"selectedContentsVE"));AS3.setBindable(collab_ShowStartTranslationWorkflowWindowAction_64_9_$1,
"workflowNameValueExpression",AS3.getBindable(config,"workflowNameVE"));AS3.setBindable(collab_ShowStartTranslationWorkflowWindowAction_64_9_$1,"disabled",true);AS3.setBindable(collab_ShowStartTranslationWorkflowWindowAction_64_9_$1,"hidden",true);ui_IconButton_62_5_$1.baseAction=new com.coremedia.cms.editor.controlroom.actions.ShowStartTranslationWorkflowWindowAction(collab_ShowStartTranslationWorkflowWindowAction_64_9_$1);var collab_StartPullTranslationButton_70_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.components.StartPullTranslationButton,
{});collab_StartPullTranslationButton_70_5_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectsPanelToolbar.START_PULL_TRANSLATION_WORKFLOW_ITEM_ID);AS3.setBindable(collab_StartPullTranslationButton_70_5_$1,"contentValueExpression",AS3.getBindable(config,"selectedContentsVE"));var ui_IconButton_72_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_72_5_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectsPanelToolbar.SHOW_PROJECT_ITEM_ID);var collab_ShowProjectAction_74_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.ShowProjectAction,
{});AS3.setBindable(collab_ShowProjectAction_74_9_$1,"projectsVE",AS3.getBindable(config,"selectedProjectsVE"));AS3.setBindable(collab_ShowProjectAction_74_9_$1,"disabled",true);AS3.setBindable(collab_ShowProjectAction_74_9_$1,"hidden",true);ui_IconButton_72_5_$1.baseAction=new com.coremedia.cms.editor.controlroom.project.actions.ShowProjectAction(collab_ShowProjectAction_74_9_$1);var ui_IconButton_79_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_79_5_$1.itemId=net.jangaroo.ext.Exml.asString(ProjectsPanelToolbar.LEAVE_PROJECTS_ITEM_ID);
var collab_LeaveProjectsAction_81_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.LeaveProjectsAction,{});AS3.setBindable(collab_LeaveProjectsAction_81_9_$1,"projectsVE",AS3.getBindable(config,"selectedProjectsVE"));AS3.setBindable(collab_LeaveProjectsAction_81_9_$1,"disabled",true);AS3.setBindable(collab_LeaveProjectsAction_81_9_$1,"hidden",true);ui_IconButton_79_5_$1.baseAction=new com.coremedia.cms.editor.controlroom.project.actions.LeaveProjectsAction(collab_LeaveProjectsAction_81_9_$1);
config_$1.items=[ui_IconButton_47_5_$1,ui_IconButton_54_5_$1,ui_IconButton_62_5_$1,collab_StartPullTranslationButton_70_5_$1,ui_IconButton_72_5_$1,ui_IconButton_79_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$O3fD(config_$1)}return{extend:"Ext.toolbar.Toolbar",alias:"widget.com.coremedia.cms.editor.controlroom.config.projectsPanelToolbar",constructor:ProjectsPanelToolbar$,super$O3fD:function(){Ext.toolbar.Toolbar.prototype.constructor.apply(this,arguments)},config:{selectedProjectsVE:null,
selectedContentsVE:null,workflowNameVE:null,afterCreateHandler:null},statics:{CREATE_PROJECT_ITEM_ID:"createProject",START_PUBLICATION_WORKFLOW_ITEM_ID:"startPublicationWorkflow",START_TRANSLATION_WORKFLOW_ITEM_ID:"startTranslationWorkflow",START_PULL_TRANSLATION_WORKFLOW_ITEM_ID:"startPullTranslationWorkflow",LEAVE_PROJECTS_ITEM_ID:"leaveProjects",SHOW_PROJECT_ITEM_ID:"showProject"},requires:["Ext.toolbar.Toolbar","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.icons.CoreIcons_properties",
"com.coremedia.ui.components.IconButton","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.actions.ShowStartPublicationWorkflowWindowAction","com.coremedia.cms.editor.controlroom.actions.ShowStartTranslationWorkflowWindowAction","com.coremedia.cms.editor.controlroom.project.actions.CreateProjectAction","com.coremedia.cms.editor.controlroom.project.actions.LeaveProjectsAction","com.coremedia.cms.editor.controlroom.project.actions.ShowProjectAction","com.coremedia.cms.editor.controlroom.workflow.components.StartPullTranslationButton"]}});Ext.define("com.coremedia.cms.editor.controlroom.ProjectsPanel",function(ProjectsPanel){function ProjectsPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.ProjectsPanelBase,{});var defaults_$1=AS3.cast(ProjectsPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"ddGroup","projectDDGroup");AS3.setBindable(config_$1,"hideHeaders",true);var ui_BindListPlugin_30_5_$1=AS3.cast(com.coremedia.ui.plugins.BindListPlugin,
{});AS3.setBindable(ui_BindListPlugin_30_5_$1,"bindTo",this.getProjectsVE());var ui_DataField_32_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_32_9_$1.name=net.jangaroo.ext.Exml.asString(ProjectsPanel.NAME_COLUMN_ID);ui_DataField_32_9_$1.mapping=com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectPropertyNames.NAME;AS3.setBindable(ui_BindListPlugin_30_5_$1,"fields",[ui_DataField_32_9_$1]);var ui_ContextMenuPlugin_36_5_$1=AS3.cast(com.coremedia.ui.plugins.ContextMenuPlugin,
{});var collab_ProjectsPanelContextMenu_38_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.ProjectsPanelContextMenu,{});AS3.setBindable(collab_ProjectsPanelContextMenu_38_9_$1,"selectedProjectsVE",this.getSelectedProjectsVE());AS3.setBindable(collab_ProjectsPanelContextMenu_38_9_$1,"selectedContentsVE",this.getSelectedContentsVE());AS3.setBindable(collab_ProjectsPanelContextMenu_38_9_$1,"workflowNameVE",this.getWorkflowNameVE());AS3.setBindable(ui_ContextMenuPlugin_36_5_$1,"contextMenu",collab_ProjectsPanelContextMenu_38_9_$1);
var ui_BindSelectionPlugin_43_5_$1=AS3.cast(com.coremedia.ui.plugins.BindSelectionPlugin,{});AS3.setBindable(ui_BindSelectionPlugin_43_5_$1,"selectedValues",this.getSelectedProjectsVE());config_$1.plugins=[ui_BindListPlugin_30_5_$1,ui_ContextMenuPlugin_36_5_$1,ui_BindSelectionPlugin_43_5_$1];config_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var collab_ProjectsPanelToolbar_46_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.ProjectsPanelToolbar,{});AS3.setBindable(collab_ProjectsPanelToolbar_46_5_$1,
"selectedProjectsVE",this.getSelectedProjectsVE());AS3.setBindable(collab_ProjectsPanelToolbar_46_5_$1,"selectedContentsVE",this.getSelectedContentsVE());AS3.setBindable(collab_ProjectsPanelToolbar_46_5_$1,"workflowNameVE",this.getWorkflowNameVE());AS3.setBindable(collab_ProjectsPanelToolbar_46_5_$1,"afterCreateHandler",com.coremedia.cms.editor.controlroom.project.ProjectHelper.renameProjectInMyProjects);config_$1.tbar=collab_ProjectsPanelToolbar_46_5_$1;var local_ProjectIconColumn_52_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.ProjectIconColumn,
{});var editor_NameColumn_53_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.columns.grid.NameColumn,{});editor_NameColumn_53_5_$1.flex=1;var textField_55_9_$1=AS3.cast(Ext.form.field.Text,{});textField_55_9_$1.selectOnFocus=true;textField_55_9_$1.allowBlank=false;textField_55_9_$1.allowOnlyWhitespace=false;AS3.setBindable(editor_NameColumn_53_5_$1,"editor",textField_55_9_$1);config_$1.columns=[local_ProjectIconColumn_52_5_$1,editor_NameColumn_53_5_$1];var gridView_63_5_$1=AS3.cast(Ext.view.Table,{});
gridView_63_5_$1.stripeRows=true;gridView_63_5_$1.trackOver=true;gridView_63_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.TableViewSkin.LIGHT.getSkin());var plugin_GridViewDragDrop_67_9_$1=AS3.cast(Ext.grid.plugin.DragDrop,{});plugin_GridViewDragDrop_67_9_$1.ddGroup="ContentLinkDD";plugin_GridViewDragDrop_67_9_$1.pluginId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.controlroom.ProjectsPanelBase.DRAG_DROP_PLUGIN_ID);plugin_GridViewDragDrop_67_9_$1.enableDrop=false;gridView_63_5_$1.plugins=
[plugin_GridViewDragDrop_67_9_$1];config_$1["viewConfig"]=gridView_63_5_$1;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$KVLE(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.ProjectsPanelBase",alias:"widget.com.coremedia.cms.editor.controlroom.config.projectsPanel",constructor:ProjectsPanel$,super$KVLE:function(){com.coremedia.cms.editor.controlroom.ProjectsPanelBase.prototype.constructor.apply(this,arguments)},statics:{NAME_COLUMN_ID:"name"},requires:["Ext.form.field.Text",
"Ext.grid.plugin.DragDrop","Ext.view.Table","com.coremedia.cms.editor.controlroom.ProjectsPanelBase","com.coremedia.cms.editor.sdk.columns.grid.NameColumn","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.plugins.BindListPlugin","com.coremedia.ui.plugins.BindSelectionPlugin","com.coremedia.ui.plugins.ContextMenuPlugin","com.coremedia.ui.skins.TableViewSkin","com.coremedia.ui.store.DataField","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.ProjectIconColumn","com.coremedia.cms.editor.controlroom.ProjectsPanelContextMenu",
"com.coremedia.cms.editor.controlroom.ProjectsPanelToolbar","com.coremedia.cms.editor.controlroom.project.ProjectHelper","com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectPropertyNames"]}});Ext.define("com.coremedia.cms.editor.controlroom.EditedContentGridPanelContextMenu",function(EditedContentGridPanelContextMenu){function EditedContentGridPanelContextMenu$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.menu.Menu,{});var defaults_$1=AS3.cast(EditedContentGridPanelContextMenu,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.plain=true;var ui_HideObsoleteSeparatorsPlugin_21_5_$1=AS3.cast(com.coremedia.ui.plugins.HideObsoleteSeparatorsPlugin,
{});config_$1.plugins=[ui_HideObsoleteSeparatorsPlugin_21_5_$1];var menuItem_24_5_$1=AS3.cast(Ext.menu.Item,{});var editor_OpenInTabAction_26_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenInTabAction,{});AS3.setBindable(editor_OpenInTabAction_26_9_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.components.ContentGridPanel.SELECTED_ITEMS_VARIABLE_NAME));menuItem_24_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.OpenInTabAction(editor_OpenInTabAction_26_9_$1);
var menuItem_30_5_$1=AS3.cast(Ext.menu.Item,{});var editor_ShowInRepositoryAction_32_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction,{});AS3.setBindable(editor_ShowInRepositoryAction_32_9_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.components.ContentGridPanel.SELECTED_ITEMS_VARIABLE_NAME));menuItem_30_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction(editor_ShowInRepositoryAction_32_9_$1);var menuSeparator_36_5_$1=
AS3.cast(Ext.menu.Separator,{});var menuItem_38_5_$1=AS3.cast(Ext.menu.Item,{});var editor_CopyToClipboardAction_40_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction,{});AS3.setBindable(editor_CopyToClipboardAction_40_9_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.components.ContentGridPanel.SELECTED_ITEMS_VARIABLE_NAME));menuItem_38_5_$1.baseAction=new com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction(editor_CopyToClipboardAction_40_9_$1);
var menuItem_44_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_44_5_$1["id"]="deleteMenuItem";var collab_DeleteEditedContentsAction_46_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.actions.DeleteEditedContentsAction,{});AS3.setBindable(collab_DeleteEditedContentsAction_46_9_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.components.ContentGridPanel.SELECTED_ITEMS_VARIABLE_NAME));AS3.setBindable(collab_DeleteEditedContentsAction_46_9_$1,"mode","selected");menuItem_44_5_$1.baseAction=
new com.coremedia.cms.editor.controlroom.actions.DeleteEditedContentsAction(collab_DeleteEditedContentsAction_46_9_$1);var menuItem_51_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_51_5_$1["id"]="deleteMenuItemAll";var collab_DeleteEditedContentsAction_53_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.actions.DeleteEditedContentsAction,{});AS3.setBindable(collab_DeleteEditedContentsAction_53_9_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.components.ContentGridPanel.ALL_ITEMS_VARIABLE_NAME));
AS3.setBindable(collab_DeleteEditedContentsAction_53_9_$1,"mode","all");menuItem_51_5_$1.baseAction=new com.coremedia.cms.editor.controlroom.actions.DeleteEditedContentsAction(collab_DeleteEditedContentsAction_53_9_$1);var menuSeparator_58_5_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_60_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_60_5_$1.itemId="createProjectSelected";var collab_CreateProjectFromMyEditedContentsAction_62_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.CreateProjectFromMyEditedContentsAction,
{});AS3.setBindable(collab_CreateProjectFromMyEditedContentsAction_62_9_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.components.ContentGridPanel.SELECTED_ITEMS_VARIABLE_NAME));AS3.setBindable(collab_CreateProjectFromMyEditedContentsAction_62_9_$1,"mode","selected");menuItem_60_5_$1.baseAction=new com.coremedia.cms.editor.controlroom.project.actions.CreateProjectFromMyEditedContentsAction(collab_CreateProjectFromMyEditedContentsAction_62_9_$1);var menuSeparator_68_5_$1=
AS3.cast(Ext.menu.Separator,{});var menuItem_70_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_70_5_$1.itemId="showStartPublicationWorkflowWindow";var collab_ShowStartPublicationWorkflowWindowAction_72_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.actions.ShowStartPublicationWorkflowWindowAction,{});AS3.setBindable(collab_ShowStartPublicationWorkflowWindowAction_72_9_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.components.ContentGridPanel.SELECTED_ITEMS_VARIABLE_NAME));
menuItem_70_5_$1.baseAction=new com.coremedia.cms.editor.controlroom.actions.ShowStartPublicationWorkflowWindowAction(collab_ShowStartPublicationWorkflowWindowAction_72_9_$1);var menuItem_77_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_77_5_$1.itemId="showStartTranslationWorkflowWindow";var collab_ShowStartTranslationWorkflowWindowAction_79_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.actions.ShowStartTranslationWorkflowWindowAction,{});AS3.setBindable(collab_ShowStartTranslationWorkflowWindowAction_79_9_$1,
"contentVariableName","selectedItems");menuItem_77_5_$1.baseAction=new com.coremedia.cms.editor.controlroom.actions.ShowStartTranslationWorkflowWindowAction(collab_ShowStartTranslationWorkflowWindowAction_79_9_$1);var menuSeparator_83_5_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_85_5_$1=AS3.cast(Ext.menu.Item,{});var editor_WithdrawAction_87_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.WithdrawAction,{});AS3.setBindable(editor_WithdrawAction_87_9_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.components.ContentGridPanel.SELECTED_ITEMS_VARIABLE_NAME));
menuItem_85_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.WithdrawAction(editor_WithdrawAction_87_9_$1);config_$1.items=[menuItem_24_5_$1,menuItem_30_5_$1,menuSeparator_36_5_$1,menuItem_38_5_$1,menuItem_44_5_$1,menuItem_51_5_$1,menuSeparator_58_5_$1,menuItem_60_5_$1,menuSeparator_68_5_$1,menuItem_70_5_$1,menuItem_77_5_$1,menuSeparator_83_5_$1,menuItem_85_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$3An4(config_$1)}return{extend:"Ext.menu.Menu",alias:"widget.com.coremedia.cms.editor.controlroom.config.editedContentGridPanelContextMenu",
constructor:EditedContentGridPanelContextMenu$,super$3An4:function(){Ext.menu.Menu.prototype.constructor.apply(this,arguments)},requires:["Ext.menu.Item","Ext.menu.Menu","Ext.menu.Separator","com.coremedia.cms.editor.sdk.actions.OpenInTabAction","com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction","com.coremedia.cms.editor.sdk.actions.WithdrawAction","com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction","com.coremedia.cms.editor.sdk.components.ContentGridPanel","com.coremedia.ui.plugins.HideObsoleteSeparatorsPlugin",
"net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.actions.DeleteEditedContentsAction","com.coremedia.cms.editor.controlroom.actions.ShowStartPublicationWorkflowWindowAction","com.coremedia.cms.editor.controlroom.actions.ShowStartTranslationWorkflowWindowAction","com.coremedia.cms.editor.controlroom.project.actions.CreateProjectFromMyEditedContentsAction"]}});Ext.define("com.coremedia.cms.editor.controlroom.ControlRoomBase",function(ControlRoomBase){function ControlRoomBase$(config){if(arguments.length<=0)config=null;this.super$v95j(config);this.on("afterlayout",AS3.bind(this,"onAfterRender$v95j"),null,{single:true})}function onAfterRender(){this.subPanels$v95j=this.itemCollection.getRange().filter(function(component){return AS3.is(component,Ext.panel.Panel)&&!component.hidden});this.setupHeaderClickHandling$v95j()}function setupHeaderClickHandling(){var this$=
this;this.subPanels$v95j.forEach(function(panel){var header=panel.header.getEl();if(header){header.setStyle("cursor","pointer");this$.mon(header,"click",function(){if(!this$.clickActionRequested$v95j){this$.clickActionRequested$v95j=true;var executeSingleClickActionLater=new Ext.util.DelayedTask(function(){if(this$.clickActionRequested$v95j){this$.clickActionRequested$v95j=false;if(panel.getCollapsed())panel.expand(false);else panel.collapse()}});executeSingleClickActionLater.delay(350)}});this$.mon(header,
"dblclick",function(){this$.clickActionRequested$v95j=false;this$.subPanels$v95j.forEach(function(subPanel){if(subPanel!==panel)subPanel.collapse()});panel.expand(false)})}})}function extractLanguageDisplayName$static(ignored,object){var process=object.isProcess()?AS3.cast(com.coremedia.cap.workflow.Process,object):AS3.cast(com.coremedia.cap.workflow.Task,object).getContainingProcess();if(!process)return undefined;var properties=process.getProperties();if(!properties)return undefined;var siteId=properties.get(com.coremedia.cms.editor.sdk.translate.TranslationProcessVariableNames.TARGET_SITE_ID_VARIABLE)||
properties.get(com.coremedia.cms.editor.sdk.translate.SynchronizationProcessVariableNames.SITE_ID_VARIABLE);if(!siteId)return undefined;var site=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getSite(siteId);return site?site.getLocale().getDisplayName():""}function getSubPanelGetStateFn(itemId){var this$=this;return function(){var subPanel=AS3.as(this$.queryById(itemId),Ext.panel.Panel);var clazz=Ext.getClass(subPanel);var state=clazz.prototype["getState"].apply(subPanel);state["collapsed"]=
AS3.getBindable(subPanel,"collapsed","DUMMY");return state}}return{extend:"Ext.panel.Panel",clickActionRequested$v95j:false,subPanels$v95j:null,constructor:ControlRoomBase$,super$v95j:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},onAfterRender$v95j:onAfterRender,setupHeaderClickHandling$v95j:setupHeaderClickHandling,getSubPanelGetStateFn:getSubPanelGetStateFn,statics:{extractLanguageDisplayName:extractLanguageDisplayName$static},requires:["Ext","Ext.panel.Panel","Ext.util.DelayedTask",
"com.coremedia.cap.workflow.Process","com.coremedia.cap.workflow.Task","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.translate.SynchronizationProcessVariableNames","com.coremedia.cms.editor.sdk.translate.TranslationProcessVariableNames"]}});Ext.define("com.coremedia.cms.editor.controlroom.ControlRoomButtonBase",function(ControlRoomButtonBase){function ControlRoomButtonBase$(config){if(arguments.length<=0)config=null;this.tooltipExpression$oTw$=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.cms.editor.controlroom.ControlRoomButton.CONTROL_ROOM_VISIBLE,this);this.super$oTw$(config)}function getTooltipValueExpression(){var this$=this;return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var isVisible=
this$.tooltipExpression$oTw$.getValue();if(isVisible)return this$.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","ControlRoomPlugin_btn_hide_tooltip");else return this$.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","ControlRoomPlugin_btn_show_tooltip")})}return{extend:"com.coremedia.ui.components.IconButton",tooltipExpression$oTw$:null,constructor:ControlRoomButtonBase$,super$oTw$:function(){com.coremedia.ui.components.IconButton.prototype.constructor.apply(this,
arguments)},getTooltipValueExpression:getTooltipValueExpression,requires:["com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.ui.components.IconButton","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.controlroom.ControlRoomButton"]}});Ext.define("com.coremedia.cms.editor.controlroom.ProjectsPanelBase",function(ProjectsPanelBase){function ProjectsPanelBase$(config){if(arguments.length<=0)config=null;this.super$kXa$(config)}function initComponent(){var this$=this;com.coremedia.ui.components.CustomEditorGrid.prototype.initComponent.call(this);this.on("rowdblclick",AS3.bind(this,"handleDblClick$kXa$"));this.on("afterrender",function(){this$.initDragAndDrop$kXa$()})}function beforeDestroy(){this.removeDragAndDrop$kXa$();com.coremedia.ui.components.CustomEditorGrid.prototype.beforeDestroy.call(this)}
function setSelectedProjects(projects){this.getSelectedProjectsVE().setValue(projects)}function startRenameProject(project,onSuccess){var this$=this;var storeIndex=-1;com.coremedia.ui.util.ConcurrentUtil.executeWhen(function(){var store=this$.getStore();com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(store,"update");com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(store,"add");var projectsOfSessionUser=com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectRepositoryImpl.getInstance().getProjectsOfSessionUser();
storeIndex=store.findBy(function(record){var beanRecord=AS3.as(record,com.coremedia.ui.store.BeanRecord);if(beanRecord)return beanRecord.getBean()===project&&beanRecord.get("name")===project.getName();return false});return projectsOfSessionUser&&projectsOfSessionUser.indexOf(project)>-1&&com.coremedia.ui.data.RemoteBeanUtil.isAccessible(project)&&storeIndex>-1},function(){var rowSelectionModel=AS3.as(this$.getSelectionModel(),Ext.selection.RowModel);if(storeIndex>-1&&rowSelectionModel){rowSelectionModel.select(storeIndex);
var row=this$.getView().getRow(storeIndex);var column=this$.getColumns().filter(function(col){return AS3.is(col,com.coremedia.cms.editor.sdk.columns.grid.NameColumn)})[0];row&&column&&this$.forceStartEditing(row,column);onSuccess()}})}function getProjectsVE(){if(!this.projectsVE$kXa$)this.projectsVE$kXa$=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var projectsOfSessionUser=com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectRepositoryImpl.getInstance().getProjectsOfSessionUser();
if(projectsOfSessionUser&&projectsOfSessionUser.every(function(project){return com.coremedia.ui.data.RemoteBeanUtil.isAccessible(project)}))return projectsOfSessionUser;return undefined});return this.projectsVE$kXa$}function getSelectedProjectsVE(){if(!this.selectedProjectsVE$kXa$)this.selectedProjectsVE$kXa$=com.coremedia.ui.data.ValueExpressionFactory.createFromValue([]);return this.selectedProjectsVE$kXa$}function getSelectedContentsVE(){var this$=this;if(!this.selectedContentsVE$kXa$)this.selectedContentsVE$kXa$=
com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var allContents=[];var projects=this$.getSelectedProjectsVE().getValue();if(!projects||!projects.every(function(project){if(!com.coremedia.ui.data.RemoteBeanUtil.isAccessible(project))return false;var contents=project.getContents();if(!contents)return false;allContents=allContents.concat(contents);return true}))return undefined;return allContents});return this.selectedContentsVE$kXa$}function getWorkflowNameVE(){var this$=
this;if(!this.workflowNameVE$kXa$)this.workflowNameVE$kXa$=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var value=this$.getSelectedProjectsVE().getValue();return value&&value.length===1?value[0].getName():undefined});return this.workflowNameVE$kXa$}function getSelectedProjectsFromSelectionModel(){var selectedProjects=[];var rowSelectionModel=AS3.as(this.getSelectionModel(),Ext.selection.RowModel);rowSelectionModel.getSelection().forEach(function(record){var beanRecord=
AS3.as(record,com.coremedia.ui.store.BeanRecord);var project=AS3.as(beanRecord.getBean(),com.coremedia.cms.editor.controlroom.project.rest.Project);if(project)selectedProjects.push(project)});return selectedProjects}function initDragAndDrop(){var this$=this;this.ddPlugin$kXa$=AS3.as(this.getView().getPlugin(ProjectsPanelBase.DRAG_DROP_PLUGIN_ID),Ext.grid.plugin.DragDrop);var dragZone=this.ddPlugin$kXa$.dragZone;dragZone["getDragText"]=AS3.bind(this,"getDragText$kXa$");dragZone.addToGroup("ContentDD");
var originalGetDragData=dragZone["getDragData"];dragZone.getDragData=function(e){var dragData=originalGetDragData.call(dragZone,e);dragData.repairXY=Ext.get(e.getTarget(".x-grid-item-container")).getXY();var selectedProjects=this$.getSelectedProjectsFromSelectionModel$kXa$();var contents=com.coremedia.cms.editor.controlroom.project.ProjectHelper.loadContents(selectedProjects,AS3.bind(this$,"updateDDAfterContentsLoaded$kXa$"));dragData.contents=contents;dragData.projects=selectedProjects;return dragData};
dragZone.getRepairXY=function(e){return dragZone.dragData.repairXY};var dropZoneConfig=AS3.cast(Ext.dd.DropZone,{ddGroup:AS3.getBindable(this,"ddGroup","DUMMY")});this.projectsPanelHeaderDropZone$kXa$=new com.coremedia.cms.editor.controlroom.dd.ProjectsPanelDropZone(this.header.getEl(),this,dropZoneConfig);this.projectsPanelHeaderDropZone$kXa$.addToGroup("ContentDD");this.projectsPanelHeaderDropZone$kXa$.addToGroup("ContentLinkDD");this.projectsPanelDropZone$kXa$=new com.coremedia.cms.editor.controlroom.dd.ProjectsPanelDropZone(this.el,
this,dropZoneConfig);this.projectsPanelDropZone$kXa$.addToGroup("ContentDD");this.projectsPanelDropZone$kXa$.addToGroup("ContentLinkDD")}function updateDDAfterContentsLoaded(){var ddel=Ext.get(this.ddPlugin$kXa$.dragZone.getDragEl());if(ddel&&ddel.isVisible()){var ddelIconEl=ddel.down(".project-icon-wrapper");ddelIconEl&&ddelIconEl.unmask()}var selectedProjects=this.getSelectedProjectsFromSelectionModel$kXa$();var contents=com.coremedia.cms.editor.controlroom.project.ProjectHelper.getContents(selectedProjects);
var dragZone=this.ddPlugin$kXa$.dragZone;dragZone.dragData.contents=contents;var dragEl=dragZone["ddel"];dragEl.innerHTML=getHtmlFeedbackForProjectsAndContents$static(selectedProjects,contents);dragZone.getProxy().update(dragEl)}function removeDragAndDrop(){this.projectsPanelDropZone$kXa$&&this.projectsPanelDropZone$kXa$.unreg();this.projectsPanelHeaderDropZone$kXa$&&this.projectsPanelHeaderDropZone$kXa$.unreg()}function getDragText(){var projects=this.getSelectedProjectsFromSelectionModel$kXa$();
var contents=com.coremedia.cms.editor.controlroom.project.ProjectHelper.loadContents(projects,AS3.bind(this,"updateDDAfterContentsLoaded$kXa$"));!contents&&this.maskDDEl$kXa$();return getHtmlFeedbackForProjectsAndContents$static(projects,contents)}function maskDDEl(){var ddel=Ext.get(this.ddPlugin$kXa$.dragZone.getDragEl());if(ddel&&ddel.isVisible()){var ddelIconEl=ddel.down(".project-icon-wrapper");if(ddelIconEl)ddelIconEl.mask("","icon-button-mask");else com.coremedia.ui.util.EventUtil.invokeLater(AS3.bind(this,
"getDragText$kXa$"))}}function handleDblClick(){this.handleProjectSelection$kXa$(function(selected,project){com.coremedia.cms.editor.controlroom.project.ProjectHelper.openProjectInTab(project)})}function handleProjectSelection(handler){var selectionModel=AS3.as(this.getSelectionModel(),Ext.selection.RowModel);if(selectionModel){var selection=selectionModel.getSelection();if(selection&&selection.length>0){var record=AS3.as(selection[0],com.coremedia.ui.store.BeanRecord);var project=AS3.as(record.getBean(),
com.coremedia.cms.editor.controlroom.project.rest.Project);if(project)handler(record,project)}}}function getHtmlFeedbackForProjectsAndContents$static(projects,contents){var text;if(projects.length===1){var project=AS3.as(projects[0],com.coremedia.cms.editor.controlroom.project.rest.Project);if(contents===undefined)text=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","ProjectsPanel_drag_computing_drag_data");else if(contents.length===1)text=Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"ProjectsPanel_drag_singleselect_text_single_content"),project.getName());else text=Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","ProjectsPanel_drag_singleselect_text_multiple_contents"),project.getName(),contents.length)}else if(contents===undefined)text=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","ProjectsPanel_drag_computing_drag_data");else if(contents.length===
1)text=Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","ProjectsPanel_drag_multiselect_text_single_content"),projects.length);else text=Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","ProjectsPanel_drag_multiselect_text_multiple_contents"),projects.length,contents.length);return com.coremedia.ui.util.DraggableItemsUtils.DRAG_GHOST_TEMPLATE.apply({title:text,
icon:mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","Projects_icon")})}return{extend:"com.coremedia.ui.components.CustomEditorGrid",projectsVE$kXa$:null,selectedProjectsVE$kXa$:null,selectedContentsVE$kXa$:null,workflowNameVE$kXa$:null,projectsPanelHeaderDropZone$kXa$:null,projectsPanelDropZone$kXa$:null,ddPlugin$kXa$:null,constructor:ProjectsPanelBase$,super$kXa$:function(){com.coremedia.ui.components.CustomEditorGrid.prototype.constructor.apply(this,
arguments)},initComponent:initComponent,beforeDestroy:beforeDestroy,setSelectedProjects:setSelectedProjects,startRenameProject:startRenameProject,getProjectsVE:getProjectsVE,getSelectedProjectsVE:getSelectedProjectsVE,getSelectedContentsVE:getSelectedContentsVE,getWorkflowNameVE:getWorkflowNameVE,getSelectedProjectsFromSelectionModel$kXa$:getSelectedProjectsFromSelectionModel,initDragAndDrop$kXa$:initDragAndDrop,updateDDAfterContentsLoaded$kXa$:updateDDAfterContentsLoaded,removeDragAndDrop$kXa$:removeDragAndDrop,
getDragText$kXa$:getDragText,maskDDEl$kXa$:maskDDEl,handleDblClick$kXa$:handleDblClick,handleProjectSelection$kXa$:handleProjectSelection,statics:{DRAG_DROP_PLUGIN_ID:"dragdrop"},requires:["Ext","Ext.String","Ext.dd.DropZone","Ext.grid.plugin.DragDrop","Ext.selection.RowModel","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.sdk.columns.grid.NameColumn","com.coremedia.ui.components.CustomEditorGrid","com.coremedia.ui.data.RemoteBeanUtil","com.coremedia.ui.data.ValueExpressionFactory",
"com.coremedia.ui.data.dependencies.DependencyTracker","com.coremedia.ui.store.BeanRecord","com.coremedia.ui.util.ConcurrentUtil","com.coremedia.ui.util.DraggableItemsUtils","com.coremedia.ui.util.EventUtil","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.controlroom.dd.ProjectsPanelDropZone","com.coremedia.cms.editor.controlroom.project.ProjectHelper","com.coremedia.cms.editor.controlroom.project.rest.Project","com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectRepositoryImpl"]}});Ext.define("com.coremedia.cms.editor.controlroom.EditedContentToolsMenu",function(EditedContentToolsMenu){function EditedContentToolsMenu$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.menu.Menu,{});var defaults_$1=AS3.cast(EditedContentToolsMenu,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.plain=true;config_$1.itemId="rightToolbarButton";net.jangaroo.ext.Exml.apply(config_$1,config);this.super$06I6(config_$1)}return{extend:"Ext.menu.Menu",alias:"widget.com.coremedia.cms.editor.controlroom.config.editedContentToolsMenu",
constructor:EditedContentToolsMenu$,super$06I6:function(){Ext.menu.Menu.prototype.constructor.apply(this,arguments)},requires:["Ext.menu.Menu","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.RemoteErrorHandler",function(RemoteErrorHandler){function handleError$static(error,source){if(!error.isHandled())switch(error.errorCode){case com.coremedia.cms.editor.controlroom.ContentSetErrorCodes.CANNOT_CREATE_CAP_LIST:showError$static(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.actions.ContentSetErrors","contentSet_cannotCreateContentSet_title"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.actions.ContentSetErrors",
"contentSet_cannotCreateContentSet_message"));doHandleError$static(error,source);break;case com.coremedia.cms.editor.controlroom.ContentSetErrorCodes.CANNOT_CREATE_CAP_LIST_DUPLICATE_ID:showError$static(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.actions.ContentSetErrors","contentSet_cannotCreateContentSetDuplicateId_title"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.actions.ContentSetErrors","contentSet_cannotCreateContentSetDuplicateId_message"));
doHandleError$static(error,source);break;case com.coremedia.cms.editor.controlroom.ContentSetErrorCodes.CANNOT_RENAME_CAP_LIST:showError$static(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.actions.ContentSetErrors","contentSet_cannotRenameContentSet_title"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.actions.ContentSetErrors","contentSet_cannotRenameContentSet_message"));doHandleError$static(error,source);
break;case com.coremedia.cms.editor.controlroom.ContentSetErrorCodes.CANNOT_CHANGE_CAP_LIST_ELEMENTS:showError$static(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.actions.ContentSetErrors","contentSet_cannotEditContentSet_title"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.actions.ContentSetErrors","contentSet_cannotEditContentSet_message"));doHandleError$static(error,source);break;case com.coremedia.cms.editor.controlroom.ContentSetErrorCodes.CANNOT_DESTROY_CAP_LIST:showError$static(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.actions.ContentSetErrors",
"contentSet_cannotDeleteContentSet_title"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.actions.ContentSetErrors","contentSet_cannotDeleteContentSet_message"));doHandleError$static(error,source);break;case com.coremedia.cms.editor.controlroom.ContentSetErrorCodes.CANNOT_READ_CAP_LIST:showError$static(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.actions.ContentSetErrors","contentSet_cannotOpenContentSet_title"),
mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.actions.ContentSetErrors","contentSet_cannotOpenContentSet_message"));doHandleError$static(error,source);break;case com.coremedia.cms.editor.controlroom.ContentSetErrorCodes.CANNOT_READ_CAP_LISTS:showError$static(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.actions.ContentSetErrors","contentSet_cannotOpenContentSets_title"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.actions.ContentSetErrors",
"contentSet_cannotOpenContentSets_message"));doHandleError$static(error,source);break;case com.coremedia.cms.editor.controlroom.ContentSetErrorCodes.CANNOT_READ_CAP_LIST_TIMESTAMP:showError$static(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.actions.ContentSetErrors","contentSet_cannotReadContentSetTimestamp_title"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.actions.ContentSetErrors","contentSet_cannotReadContentSetTimestamp_message"));
doHandleError$static(error,source);break;case com.coremedia.cms.editor.controlroom.ContentSetErrorCodes.CANNOT_READ_CAP_LIST_REFERRERS:showError$static(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.actions.ContentSetErrors","contentSet_cannotReadContentSetReferrers_title"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.actions.ContentSetErrors","contentSet_cannotReadContentSetReferrers_message"));doHandleError$static(error,
source);break;case com.coremedia.cms.editor.controlroom.ContentSetErrorCodes.CANNOT_ACCESS_CAP_LIST_NOT_AUTHORIZED:break;case com.coremedia.cms.editor.controlroom.ContentSetErrorCodes.CANNOT_SET_CAP_LIST_PERMISSIONS:showError$static(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.actions.ContentSetErrors","contentSet_cannotSetContentSetPermissions_title"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.actions.ContentSetErrors",
"contentSet_cannotSetContentSetPermissions_message"));doHandleError$static(error,source);break}}function doHandleError$static(error,source){error.setHandled(true);AS3.trace("[DEBUG]","Handled control room error "+error+" raised by "+source)}function showError$static(title,message,callback){if(arguments.length<=2)callback=null;com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showError(title,message,callback)}function RemoteErrorHandler$(){}return{constructor:RemoteErrorHandler$,statics:{handleError:handleError$static},
requires:["AS3.trace","com.coremedia.cms.editor.controlroom.actions.ContentSetErrors_properties","com.coremedia.cms.editor.sdk.util.MessageBoxUtil","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.controlroom.ContentSetErrorCodes"]}});Ext.define("com.coremedia.cms.editor.controlroom.ControlRoomButton",function(ControlRoomButton){function ControlRoomButton$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.ControlRoomButtonBase,{});var defaults_$1=AS3.cast(ControlRoomButton,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1["id"]=ControlRoomButton.ID;AS3.setBindable(config_$1,"scale","medium");config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.MAIN_NAVIGATION.getSkin());
AS3.setBindable(config_$1,"stateful",true);config_$1.stateId=net.jangaroo.ext.Exml.asString(ControlRoomButton.ID);config_$1.stateEvents=[ControlRoomButton.CONTROL_ROOM_VISIBLE];AS3.setBindable(config_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CollaborationIcons","control_room")));AS3.setBindable(config_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","ControlRoom_label")));
AS3.setBindable(config_$1,"tooltip",this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","ControlRoomPlugin_btn_show_tooltip"));var actionRef_40_5_$1=AS3.cast(ext.ActionRef,{});actionRef_40_5_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.controlroom.actions.ToggleControlRoomAction.ACTION_ID);config_$1.baseAction=actionRef_40_5_$1;var ui_BindTooltipPlugin_43_5_$1=AS3.cast(com.coremedia.ui.plugins.BindTooltipPlugin,{});ui_BindTooltipPlugin_43_5_$1.bindTo=
this.getTooltipValueExpression();config_$1.plugins=[ui_BindTooltipPlugin_43_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$87hE(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.ControlRoomButtonBase",alias:"widget.com.coremedia.cms.editor.controlroom.config.controlRoomButton",constructor:ControlRoomButton$,super$87hE:function(){com.coremedia.cms.editor.controlroom.ControlRoomButtonBase.prototype.constructor.apply(this,arguments)},statics:{ID:"controlRoomButtonId",CONTROL_ROOM_VISIBLE:"controlRoomVisible"},
requires:["com.coremedia.cms.editor.controlroom.ControlRoomButtonBase","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.icons.CollaborationIcons_properties","com.coremedia.ui.plugins.BindTooltipPlugin","com.coremedia.ui.skins.ButtonSkin","ext.ActionRef","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.actions.ToggleControlRoomAction"]}});Ext.define("com.coremedia.cms.editor.controlroom.plugins.AddLibraryStartWorkflowMenuItemsPlugin",function(AddLibraryStartWorkflowMenuItemsPlugin){function AddLibraryStartWorkflowMenuItemsPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.ui.plugins.AddItemsPlugin,{});var defaults_$1=AS3.cast(AddLibraryStartWorkflowMenuItemsPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var menuItem_23_5_$1=AS3.cast(Ext.menu.Item,{});var collab_ShowStartPublicationWorkflowWindowAction_25_9_$1=
AS3.cast(com.coremedia.cms.editor.controlroom.actions.ShowStartPublicationWorkflowWindowAction,{});AS3.setBindable(collab_ShowStartPublicationWorkflowWindowAction_25_9_$1,"contentValueExpression",AS3.getBindable(config,"selectedItemsValueExpression"));menuItem_23_5_$1.baseAction=new com.coremedia.cms.editor.controlroom.actions.ShowStartPublicationWorkflowWindowAction(collab_ShowStartPublicationWorkflowWindowAction_25_9_$1);var menuItem_30_5_$1=AS3.cast(Ext.menu.Item,{});var collab_ShowStartTranslationWorkflowWindowAction_32_9_$1=
AS3.cast(com.coremedia.cms.editor.controlroom.actions.ShowStartTranslationWorkflowWindowAction,{});AS3.setBindable(collab_ShowStartTranslationWorkflowWindowAction_32_9_$1,"contentValueExpression",AS3.getBindable(config,"selectedItemsValueExpression"));menuItem_30_5_$1.baseAction=new com.coremedia.cms.editor.controlroom.actions.ShowStartTranslationWorkflowWindowAction(collab_ShowStartTranslationWorkflowWindowAction_32_9_$1);var menuItem_37_5_$1=AS3.cast(Ext.menu.Item,{});var collab_StartPullTranslationWorkflowAction_39_9_$1=
AS3.cast(com.coremedia.cms.editor.controlroom.actions.StartPullTranslationWorkflowAction,{});AS3.setBindable(collab_StartPullTranslationWorkflowAction_39_9_$1,"contentValueExpression",AS3.getBindable(config,"selectedItemsValueExpression"));menuItem_37_5_$1.baseAction=new com.coremedia.cms.editor.controlroom.actions.StartPullTranslationWorkflowAction(collab_StartPullTranslationWorkflowAction_39_9_$1);var menuSeparator_43_5_$1=AS3.cast(Ext.menu.Separator,{});AS3.setBindable(config_$1,"items",[menuItem_23_5_$1,
menuItem_30_5_$1,menuItem_37_5_$1,menuSeparator_43_5_$1]);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$HCYN(config_$1)}return{extend:"com.coremedia.ui.plugins.AddItemsPlugin",constructor:AddLibraryStartWorkflowMenuItemsPlugin$,super$HCYN:function(){com.coremedia.ui.plugins.AddItemsPlugin.prototype.constructor.apply(this,arguments)},config:{selectedItemsValueExpression:null},requires:["Ext.menu.Item","Ext.menu.Separator","com.coremedia.ui.plugins.AddItemsPlugin","net.jangaroo.ext.Exml"],
uses:["com.coremedia.cms.editor.controlroom.actions.ShowStartPublicationWorkflowWindowAction","com.coremedia.cms.editor.controlroom.actions.ShowStartTranslationWorkflowWindowAction","com.coremedia.cms.editor.controlroom.actions.StartPullTranslationWorkflowAction"]}});Ext.define("com.coremedia.cms.editor.controlroom.plugins.AddLibraryStartWorkflowButtonsPlugin",function(AddLibraryStartWorkflowButtonsPlugin){function AddLibraryStartWorkflowButtonsPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.ui.plugins.AddItemsPlugin,{});var defaults_$1=AS3.cast(AddLibraryStartWorkflowButtonsPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var ui_IconButton_29_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_29_5_$1.itemId=
net.jangaroo.ext.Exml.asString(AddLibraryStartWorkflowButtonsPlugin.SHOW_START_PUBLICATION_WORKFLOW_WINDOW_ITEM_ID);var collab_ShowStartPublicationWorkflowWindowAction_31_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.actions.ShowStartPublicationWorkflowWindowAction,{});AS3.setBindable(collab_ShowStartPublicationWorkflowWindowAction_31_9_$1,"contentValueExpression",AS3.getBindable(config,"selectedItemsValueExpression"));ui_IconButton_29_5_$1.baseAction=new com.coremedia.cms.editor.controlroom.actions.ShowStartPublicationWorkflowWindowAction(collab_ShowStartPublicationWorkflowWindowAction_31_9_$1);
var ui_IconButton_36_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_36_5_$1.itemId=net.jangaroo.ext.Exml.asString(AddLibraryStartWorkflowButtonsPlugin.SHOW_START_TRANSLATION_WORKFLOW_WINDOW_ITEM_ID);var collab_ShowStartTranslationWorkflowWindowAction_38_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.actions.ShowStartTranslationWorkflowWindowAction,{});AS3.setBindable(collab_ShowStartTranslationWorkflowWindowAction_38_9_$1,"contentValueExpression",AS3.getBindable(config,
"selectedItemsValueExpression"));ui_IconButton_36_5_$1.baseAction=new com.coremedia.cms.editor.controlroom.actions.ShowStartTranslationWorkflowWindowAction(collab_ShowStartTranslationWorkflowWindowAction_38_9_$1);var collab_StartPullTranslationButton_43_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.components.StartPullTranslationButton,{});collab_StartPullTranslationButton_43_5_$1.itemId=net.jangaroo.ext.Exml.asString(AddLibraryStartWorkflowButtonsPlugin.START_PULL_TRANSLATION_WORKFLOW_ITEM_ID);
AS3.setBindable(collab_StartPullTranslationButton_43_5_$1,"contentValueExpression",AS3.getBindable(config,"selectedItemsValueExpression"));var tbSeparator_46_5_$1=AS3.cast(Ext.toolbar.Separator,{});tbSeparator_46_5_$1.itemId="workflowSeparator";AS3.setBindable(config_$1,"items",[ui_IconButton_29_5_$1,ui_IconButton_36_5_$1,collab_StartPullTranslationButton_43_5_$1,tbSeparator_46_5_$1]);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$zlSt(config_$1)}return{extend:"com.coremedia.ui.plugins.AddItemsPlugin",
constructor:AddLibraryStartWorkflowButtonsPlugin$,super$zlSt:function(){com.coremedia.ui.plugins.AddItemsPlugin.prototype.constructor.apply(this,arguments)},config:{selectedItemsValueExpression:null},statics:{SHOW_START_TRANSLATION_WORKFLOW_WINDOW_ITEM_ID:"showStartTranslationWorkflowWindow",START_PULL_TRANSLATION_WORKFLOW_ITEM_ID:"startPullTranslationWorkflow",SHOW_START_PUBLICATION_WORKFLOW_WINDOW_ITEM_ID:"showStartPublicationWorkflowWindow"},requires:["Ext.toolbar.Separator","com.coremedia.ui.components.IconButton",
"com.coremedia.ui.plugins.AddItemsPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.actions.ShowStartPublicationWorkflowWindowAction","com.coremedia.cms.editor.controlroom.actions.ShowStartTranslationWorkflowWindowAction","com.coremedia.cms.editor.controlroom.workflow.components.StartPullTranslationButton"]}});Ext.define("com.coremedia.cms.editor.controlroom.ControlRoomContextImpl",function(ControlRoomContextImpl){var _controlRoom$static=null;var _editedContentPanel$static=null;var _projectPanel$static=null;var _publicationWorkflowPanel$static=null;var _translationWorkflowPanel$static=null;var _callbacks$static;function _callbacks$static_(){_callbacks$static=[]}function initControlRoomContext$static(){if(!com.coremedia.cms.editor.controlroom.controlRoomContext){joo.getOrCreatePackage("com.coremedia.cms.editor.controlroom").controlRoomContext=
new ControlRoomContextImpl;_callbacks$static=[]}}function getControlRoom(show,create){switch(arguments.length){case 0:show=false;case 1:create=true}if(!_controlRoom$static)if(create)_controlRoom$static=AS3.as(com.coremedia.cms.editor.sdk.desktop.sidepanel.sidePanelManager.getOrCreateComponent(com.coremedia.cms.editor.controlroom.ControlRoom.CONTROL_ROOM_ID),com.coremedia.cms.editor.controlroom.ControlRoom);else _controlRoom$static=AS3.as(com.coremedia.cms.editor.sdk.desktop.sidepanel.sidePanelManager.getComponent(com.coremedia.cms.editor.controlroom.ControlRoom.CONTROL_ROOM_ID),
com.coremedia.cms.editor.controlroom.ControlRoom);if(_controlRoom$static&&show){_controlRoom$static.up().updateLayout();if(!_controlRoom$static.isVisible(true))_controlRoom$static.show()}if(_controlRoom$static&&_callbacks$static.length>0){var callbacks=_callbacks$static;_callbacks$static=[];callbacks.forEach(function(callback){callback()})}return _controlRoom$static}function getEditedContentPanel(show,expand){switch(arguments.length){case 0:show=false;case 1:expand=false}if(!_editedContentPanel$static){var controlRoom=
this.getControlRoom(show);_editedContentPanel$static=AS3.cast(com.coremedia.cms.editor.controlroom.EditedContentGridPanel,findControlRoomPanel$static(controlRoom,com.coremedia.cms.editor.controlroom.ControlRoom.EDITED_CONTENT_PANEL_ID))}this.expandControlRoomPanel$oofJ(_editedContentPanel$static,show,expand);return _editedContentPanel$static}function getProjectPanel(show,expand){switch(arguments.length){case 0:show=false;case 1:expand=false}if(!_projectPanel$static){var controlRoom=this.getControlRoom(show);
_projectPanel$static=AS3.cast(com.coremedia.cms.editor.controlroom.ProjectsPanel,findControlRoomPanel$static(controlRoom,com.coremedia.cms.editor.controlroom.ControlRoom.PROJECTS_PANEL_ID))}this.expandControlRoomPanel$oofJ(_projectPanel$static,show,expand);return _projectPanel$static}function getPublicationWfPanel(show,expand){switch(arguments.length){case 0:show=false;case 1:expand=false}if(!_publicationWorkflowPanel$static){var controlRoom=this.getControlRoom(show);_publicationWorkflowPanel$static=
AS3.cast(com.coremedia.cms.editor.controlroom.workflow.TabbedWorkflowPanel,findControlRoomPanel$static(controlRoom,com.coremedia.cms.editor.controlroom.ControlRoom.PUBLICATION_WORKFLOW_PANEL_ID))}this.expandControlRoomPanel$oofJ(_publicationWorkflowPanel$static,show,expand);return _publicationWorkflowPanel$static}function getTranslationWfPanel(show,expand){switch(arguments.length){case 0:show=false;case 1:expand=false}if(!_translationWorkflowPanel$static){var controlRoom=this.getControlRoom(show);
_translationWorkflowPanel$static=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.TabbedWorkflowPanel,findControlRoomPanel$static(controlRoom,com.coremedia.cms.editor.controlroom.ControlRoom.TRANSLATION_WORKFLOW_PANEL_ID))}this.expandControlRoomPanel$oofJ(_translationWorkflowPanel$static,show,expand);return _translationWorkflowPanel$static}function expandControlRoomPanel(panel,show,expand){var controlRoom=this.getControlRoom(show);if(expand&&AS3.getBindable(panel,"collapsed","DUMMY"))com.coremedia.ui.util.ConcurrentUtil.executeWhen(function(){com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(controlRoom,
"afterrender");return controlRoom.rendered},function(){if(expand)panel.expand(false)})}function findControlRoomPanel$static(controlRoom,panelItemId){return AS3.as(controlRoom.queryById(panelItemId),Ext.panel.Panel)}function getProjectListViewColumns(){return this.projectListViewColumns$oofJ||[]}function setProjectListViewColumns(columns){this.projectListViewColumns$oofJ=columns}function addCallback(callback){_callbacks$static.push(callback)}function getFilterWFObjectsRequestBatchSize(){return this.filterWFObjectsRequestBatchSize$oofJ}
function setFilterWFObjectsRequestBatchSize(batchSize){this.filterWFObjectsRequestBatchSize$oofJ=batchSize}function ControlRoomContextImpl$(){}return{mixins:["com.coremedia.cms.editor.controlroom.IControlRoomContext"],projectListViewColumns$oofJ:null,filterWFObjectsRequestBatchSize$oofJ:0,getControlRoom:getControlRoom,getEditedContentPanel:getEditedContentPanel,getProjectPanel:getProjectPanel,getPublicationWfPanel:getPublicationWfPanel,getTranslationWfPanel:getTranslationWfPanel,expandControlRoomPanel$oofJ:expandControlRoomPanel,
getProjectListViewColumns:getProjectListViewColumns,setProjectListViewColumns:setProjectListViewColumns,addCallback:addCallback,getFilterWFObjectsRequestBatchSize:getFilterWFObjectsRequestBatchSize,setFilterWFObjectsRequestBatchSize:setFilterWFObjectsRequestBatchSize,constructor:ControlRoomContextImpl$,statics:{_callbacks:undefined,initControlRoomContext:initControlRoomContext$static,__initStatics__:function(){_callbacks$static_()}},requires:["Ext.panel.Panel","com.coremedia.cms.editor.controlroom.IControlRoomContext",
"com.coremedia.cms.editor.sdk.desktop.sidepanel.sidePanelManager","com.coremedia.ui.data.dependencies.DependencyTracker","com.coremedia.ui.util.ConcurrentUtil"],uses:["com.coremedia.cms.editor.controlroom.ControlRoom","com.coremedia.cms.editor.controlroom.EditedContentGridPanel","com.coremedia.cms.editor.controlroom.ProjectsPanel","com.coremedia.cms.editor.controlroom.controlRoomContext","com.coremedia.cms.editor.controlroom.workflow.TabbedWorkflowPanel"]}});Ext.define("com.coremedia.cms.editor.controlroom.IControlRoomContext",function(IControlRoomContext){return{}});Ext.define("com.coremedia.cms.editor.controlroom.controlRoomContext",function(controlRoomContext){return{__factory__:function(){return null}}});Ext.define("com.coremedia.cms.editor.controlroom.ControlRoomLibraryPlugin",function(ControlRoomLibraryPlugin){function ControlRoomLibraryPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.configuration.StudioPlugin,{});var defaults_$1=AS3.cast(ControlRoomLibraryPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var editor_CollectionView_15_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.CollectionView,{});var collab_ControlRoomCollectionViewPlugin_17_9_$1=
AS3.cast(com.coremedia.cms.editor.controlroom.ControlRoomCollectionViewPlugin,{});editor_CollectionView_15_5_$1.plugins=[collab_ControlRoomCollectionViewPlugin_17_9_$1];AS3.setBindable(config_$1,"rules",[editor_CollectionView_15_5_$1]);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$t6oo(config_$1)}return{extend:"com.coremedia.cms.editor.configuration.StudioPlugin",constructor:ControlRoomLibraryPlugin$,super$t6oo:function(){com.coremedia.cms.editor.configuration.StudioPlugin.prototype.constructor.apply(this,
arguments)},requires:["com.coremedia.cms.editor.configuration.StudioPlugin","com.coremedia.cms.editor.sdk.collectionview.CollectionView","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.ControlRoomCollectionViewPlugin"]}});Ext.define("com.coremedia.cms.editor.controlroom.ControlRoomPlugin",function(ControlRoomPlugin){function ControlRoomPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.ControlRoomPluginBase,{});var defaults_$1=AS3.cast(ControlRoomPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var editor_EditorMainView_55_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.EditorMainView,{});var ui_AddArrayItemsPlugin_57_9_$1=AS3.cast(com.coremedia.ui.plugins.AddArrayItemsPlugin,
{});AS3.setBindable(ui_AddArrayItemsPlugin_57_9_$1,"arrayProperty","actionList");var collab_ToggleControlRoomAction_59_13_$1=AS3.cast(com.coremedia.cms.editor.controlroom.actions.ToggleControlRoomAction,{});AS3.setBindable(ui_AddArrayItemsPlugin_57_9_$1,"items",[new com.coremedia.cms.editor.controlroom.actions.ToggleControlRoomAction(collab_ToggleControlRoomAction_59_13_$1)]);var ui_NestedRulesPlugin_62_9_$1=AS3.cast(com.coremedia.ui.plugins.NestedRulesPlugin,{});var editor_MainNavigationToolbar_64_13_$1=
AS3.cast(com.coremedia.cms.editor.sdk.desktop.MainNavigationToolbar,{});var ui_AddItemsPlugin_66_17_$1=AS3.cast(com.coremedia.ui.plugins.AddItemsPlugin,{});var collab_ControlRoomButton_68_21_$1=AS3.cast(com.coremedia.cms.editor.controlroom.ControlRoomButton,{});collab_ControlRoomButton_68_21_$1.itemId="controlRoomButton";AS3.setBindable(ui_AddItemsPlugin_66_17_$1,"items",[collab_ControlRoomButton_68_21_$1]);var component_71_21_$1=AS3.cast(Ext.Component,{});component_71_21_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.desktop.MainNavigationToolbar.LIBRARY_BUTTON_ITEM_ID);
AS3.setBindable(ui_AddItemsPlugin_66_17_$1,"after",[component_71_21_$1]);editor_MainNavigationToolbar_64_13_$1.plugins=[ui_AddItemsPlugin_66_17_$1];ui_NestedRulesPlugin_62_9_$1.rules=[editor_MainNavigationToolbar_64_13_$1];editor_EditorMainView_55_5_$1.plugins=[ui_AddArrayItemsPlugin_57_9_$1,ui_NestedRulesPlugin_62_9_$1];var editor_WorkArea_81_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.WorkArea,{});var plugin_AbstractPlugin_83_9_$1=AS3.cast(Ext.plugin.Abstract,{});plugin_AbstractPlugin_83_9_$1["init"]=
AS3.bind(this,"initPublicationLockingListener");var editor_WorkAreaTabTypesPlugin_84_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.WorkAreaTabTypesPlugin,{});var editor_ComponentBasedEntityWorkAreaTabType_86_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.ComponentBasedEntityWorkAreaTabType,{});AS3.setBindable(editor_ComponentBasedEntityWorkAreaTabType_86_13_$1,"entityProperty","project");AS3.setBindable(editor_ComponentBasedEntityWorkAreaTabType_86_13_$1,"entityType",com.coremedia.cms.editor.controlroom.project.rest.Project);
var collab_ProjectTab_89_17_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.components.ProjectTab,{});AS3.setBindable(editor_ComponentBasedEntityWorkAreaTabType_86_13_$1,"tabComponent",collab_ProjectTab_89_17_$1);AS3.setBindable(editor_WorkAreaTabTypesPlugin_84_9_$1,"tabTypes",[new com.coremedia.cms.editor.sdk.desktop.ComponentBasedEntityWorkAreaTabType(editor_ComponentBasedEntityWorkAreaTabType_86_13_$1)]);editor_WorkArea_81_5_$1.plugins=[plugin_AbstractPlugin_83_9_$1,editor_WorkAreaTabTypesPlugin_84_9_$1];
var editor_WorkAreaTabProxiesContextMenu_97_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxiesContextMenu,{});var ui_AddItemsPlugin_99_9_$1=AS3.cast(com.coremedia.ui.plugins.AddItemsPlugin,{});var menuItem_101_13_$1=AS3.cast(Ext.menu.Item,{});menuItem_101_13_$1.itemId=net.jangaroo.ext.Exml.asString(ControlRoomPlugin.RENAME_PROJECT_MENU_ITEM_ID);var collab_RenameTabProjectAction_103_17_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.RenameTabProjectAction,
{});AS3.setBindable(collab_RenameTabProjectAction_103_17_$1,"text",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","Action_renameTabProjectAction_menu_text")));menuItem_101_13_$1.baseAction=new com.coremedia.cms.editor.controlroom.project.actions.RenameTabProjectAction(collab_RenameTabProjectAction_103_17_$1);var menuItem_107_13_$1=AS3.cast(Ext.menu.Item,{});menuItem_107_13_$1.itemId=net.jangaroo.ext.Exml.asString(ControlRoomPlugin.SHOW_PROJECT_IN_CONTROL_ROOM_MENU_ITEM_ID);
var collab_ShowTabProjectInControlRoomAction_109_17_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.actions.ShowTabProjectInControlRoomAction,{});AS3.setBindable(collab_ShowTabProjectInControlRoomAction_109_17_$1,"text",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.controlroom.ControlRoom","Action_showInControlRoom_text")));menuItem_107_13_$1.baseAction=new com.coremedia.cms.editor.controlroom.project.actions.ShowTabProjectInControlRoomAction(collab_ShowTabProjectInControlRoomAction_109_17_$1);
AS3.setBindable(ui_AddItemsPlugin_99_9_$1,"items",[menuItem_101_13_$1,menuItem_107_13_$1]);var component_115_13_$1=AS3.cast(Ext.Component,{});component_115_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxiesContextMenu.RENAME_CONTENT_OF_ACTIVE_TAB_ITEM_ID);AS3.setBindable(ui_AddItemsPlugin_99_9_$1,"after",[component_115_13_$1]);editor_WorkAreaTabProxiesContextMenu_97_5_$1.plugins=[ui_AddItemsPlugin_99_9_$1];var editor_DocumentFormToolbar_121_5_$1=
AS3.cast(com.coremedia.cms.editor.sdk.premular.DocumentFormToolbar,{});var plugin_AbstractPlugin_123_9_$1=AS3.cast(Ext.plugin.Abstract,{});plugin_AbstractPlugin_123_9_$1["init"]=AS3.bind(this,"initCheckedOutStatusLabelClickHandling");editor_DocumentFormToolbar_121_5_$1.plugins=[plugin_AbstractPlugin_123_9_$1];var editor_ActionsToolbar_127_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.ActionsToolbar,{});var ui_AddItemsPlugin_129_9_$1=AS3.cast(com.coremedia.ui.plugins.AddItemsPlugin,{});var collab_GlobalStartPublicationButton_131_13_$1=
AS3.cast(com.coremedia.cms.editor.controlroom.workflow.components.GlobalStartPublicationButton,{});collab_GlobalStartPublicationButton_131_13_$1.itemId=net.jangaroo.ext.Exml.asString(ControlRoomPlugin.CONTROL_ROOM_GLOBAL_PUBLICATION_BUTTON_ID);AS3.setBindable(collab_GlobalStartPublicationButton_131_13_$1,"disabled",true);var tbSeparator_133_13_$1=AS3.cast(Ext.toolbar.Separator,{});AS3.setBindable(tbSeparator_133_13_$1,"height",1);AS3.setBindable(ui_AddItemsPlugin_129_9_$1,"items",[collab_GlobalStartPublicationButton_131_13_$1,
tbSeparator_133_13_$1]);var component_136_13_$1=AS3.cast(Ext.Component,{});component_136_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.desktop.ActionsToolbar.WITHDRAW_BUTTON_ITEM_ID);AS3.setBindable(ui_AddItemsPlugin_129_9_$1,"before",[component_136_13_$1]);editor_ActionsToolbar_127_5_$1.plugins=[ui_AddItemsPlugin_129_9_$1];AS3.setBindable(config_$1,"rules",[editor_EditorMainView_55_5_$1,editor_WorkArea_81_5_$1,editor_WorkAreaTabProxiesContextMenu_97_5_$1,editor_DocumentFormToolbar_121_5_$1,
editor_ActionsToolbar_127_5_$1]);var todo_TodoStudioPlugin_144_5_$1=AS3.cast(com.coremedia.cms.editor.todo.TodoStudioPlugin,{});var collab_AddWorkflowPlugin_146_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.AddWorkflowPlugin,{});AS3.setBindable(collab_AddWorkflowPlugin_146_5_$1,"processDefinitionName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.TWO_STEP_PUBLICATION_WORKFLOW_TYPE));AS3.setBindable(collab_AddWorkflowPlugin_146_5_$1,
"processCategory",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.PUBLICATION_PROCESS_CATEGORY));AS3.setBindable(collab_AddWorkflowPlugin_146_5_$1,"listToolbarButtons",com.coremedia.cms.editor.controlroom.workflow.WorkflowUtils.getPublicationToolbarButtons());var collab_DefaultPublicationWorkflowDetailForm_150_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.publication.DefaultPublicationWorkflowDetailForm,{});AS3.setBindable(collab_AddWorkflowPlugin_146_5_$1,
"inboxPanel",collab_DefaultPublicationWorkflowDetailForm_150_9_$1);var collab_DefaultPublicationWorkflowDetailForm_154_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.publication.DefaultPublicationWorkflowDetailForm,{});AS3.setBindable(collab_AddWorkflowPlugin_146_5_$1,"pendingPanel",collab_DefaultPublicationWorkflowDetailForm_154_9_$1);var collab_DefaultPublicationWorkflowInfoForm_158_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.publication.DefaultPublicationWorkflowInfoForm,
{});AS3.setBindable(collab_AddWorkflowPlugin_146_5_$1,"finishedPanel",collab_DefaultPublicationWorkflowInfoForm_158_9_$1);var collab_AddWorkflowPlugin_162_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.AddWorkflowPlugin,{});AS3.setBindable(collab_AddWorkflowPlugin_162_5_$1,"processDefinitionName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.SIMPLE_PUBLICATION_WORKFLOW_TYPE));AS3.setBindable(collab_AddWorkflowPlugin_162_5_$1,
"processCategory",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.PUBLICATION_PROCESS_CATEGORY));AS3.setBindable(collab_AddWorkflowPlugin_162_5_$1,"listToolbarButtons",com.coremedia.cms.editor.controlroom.workflow.WorkflowUtils.getPublicationToolbarButtons());var collab_DefaultPublicationWorkflowDetailForm_167_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.publication.DefaultPublicationWorkflowDetailForm,{});AS3.setBindable(collab_AddWorkflowPlugin_162_5_$1,
"inboxPanel",collab_DefaultPublicationWorkflowDetailForm_167_9_$1);var collab_DefaultPublicationWorkflowDetailForm_171_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.publication.DefaultPublicationWorkflowDetailForm,{});AS3.setBindable(collab_AddWorkflowPlugin_162_5_$1,"pendingPanel",collab_DefaultPublicationWorkflowDetailForm_171_9_$1);var collab_DefaultPublicationWorkflowInfoForm_175_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.publication.DefaultPublicationWorkflowInfoForm,
{});AS3.setBindable(collab_AddWorkflowPlugin_162_5_$1,"finishedPanel",collab_DefaultPublicationWorkflowInfoForm_175_9_$1);var editor_CopyResourceBundleProperties_179_5_$1=AS3.cast(com.coremedia.cms.editor.configuration.CopyResourceBundleProperties,{});AS3.setBindable(editor_CopyResourceBundleProperties_179_5_$1,"destination",mx.resources.ResourceManager.getInstance().getResourceBundle(null,"com.coremedia.cms.editor.ProcessDefinitions"));AS3.setBindable(editor_CopyResourceBundleProperties_179_5_$1,
"source",mx.resources.ResourceManager.getInstance().getResourceBundle(null,"com.coremedia.cms.editor.controlroom.workflow.publication.PublicationProcessDefinitions"));var editor_RegisterRestResource_183_5_$1=AS3.cast(com.coremedia.cms.editor.configuration.RegisterRestResource,{});AS3.setBindable(editor_RegisterRestResource_183_5_$1,"beanClass",com.coremedia.collaboration.controlroom.rest.CapListImpl);var editor_RegisterRestResource_184_5_$1=AS3.cast(com.coremedia.cms.editor.configuration.RegisterRestResource,
{});AS3.setBindable(editor_RegisterRestResource_184_5_$1,"beanClass",com.coremedia.collaboration.controlroom.rest.CapListRepositoryImpl);var editor_RegisterRestResource_185_5_$1=AS3.cast(com.coremedia.cms.editor.configuration.RegisterRestResource,{});AS3.setBindable(editor_RegisterRestResource_185_5_$1,"beanClass",com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectImpl);var editor_RegisterRestResource_186_5_$1=AS3.cast(com.coremedia.cms.editor.configuration.RegisterRestResource,{});AS3.setBindable(editor_RegisterRestResource_186_5_$1,
"beanClass",com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectRepositoryImpl);var editor_ConfigureDashboardPlugin_188_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.ConfigureDashboardPlugin,{});var collab_ProjectsTodosWidgetState_190_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidgetState,{});collab_ProjectsTodosWidgetState_190_9_$1.rowspan=2;AS3.setBindable(editor_ConfigureDashboardPlugin_188_5_$1,"widgets",[new com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidgetState(collab_ProjectsTodosWidgetState_190_9_$1)]);
var collab_ProjectsTodosWidgetType_193_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidgetType,{});AS3.setBindable(editor_ConfigureDashboardPlugin_188_5_$1,"types",[new com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidgetType(collab_ProjectsTodosWidgetType_193_9_$1)]);var collab_ControlRoomLibraryPlugin_197_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.ControlRoomLibraryPlugin,{});var editor_SidePanelPlugin_199_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelPlugin,
{});var collab_ControlRoom_201_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.ControlRoom,{});collab_ControlRoom_201_9_$1["id"]=com.coremedia.cms.editor.controlroom.ControlRoom.CONTROL_ROOM_ID;editor_SidePanelPlugin_199_5_$1.components=[collab_ControlRoom_201_9_$1];var editor_AddKeyboardShortcut_205_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut,{});editor_AddKeyboardShortcut_205_5_$1.shortcut=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut",
"Shortcut_toggleControlRoom_key"));editor_AddKeyboardShortcut_205_5_$1.description=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_toggleControlRoom_description"));editor_AddKeyboardShortcut_205_5_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.controlroom.actions.ToggleControlRoomAction.ACTION_ID);editor_AddKeyboardShortcut_205_5_$1.defaultEventAction="stopEvent";var editor_CopyResourceBundleProperties_211_5_$1=
AS3.cast(com.coremedia.cms.editor.configuration.CopyResourceBundleProperties,{});AS3.setBindable(editor_CopyResourceBundleProperties_211_5_$1,"destination",mx.resources.ResourceManager.getInstance().getResourceBundle(null,"com.coremedia.cms.editor.notification.Notifications"));AS3.setBindable(editor_CopyResourceBundleProperties_211_5_$1,"source",mx.resources.ResourceManager.getInstance().getResourceBundle(null,"com.coremedia.cms.editor.controlroom.notification.ControlRoomNotifications"));var notifications_RegisterNotificationDetailsPlugin_215_5_$1=
AS3.cast(com.coremedia.cms.editor.notification.RegisterNotificationDetailsPlugin,{});AS3.setBindable(notifications_RegisterNotificationDetailsPlugin_215_5_$1,"notificationType","project");var collab_ProjectNotificationDetails_217_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.notification.components.ProjectNotificationDetails,{});AS3.setBindable(notifications_RegisterNotificationDetailsPlugin_215_5_$1,"notificationDetailsComponentConfig",collab_ProjectNotificationDetails_217_9_$1);var notifications_RegisterNotificationDetailsPlugin_221_5_$1=
AS3.cast(com.coremedia.cms.editor.notification.RegisterNotificationDetailsPlugin,{});AS3.setBindable(notifications_RegisterNotificationDetailsPlugin_221_5_$1,"notificationType","publicationWorkflow");var collab_PublicationWorkflowNotificationDetails_223_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.notification.components.PublicationWorkflowNotificationDetails,{});AS3.setBindable(notifications_RegisterNotificationDetailsPlugin_221_5_$1,"notificationDetailsComponentConfig",collab_PublicationWorkflowNotificationDetails_223_9_$1);
var notifications_RegisterNotificationDetailsPlugin_227_5_$1=AS3.cast(com.coremedia.cms.editor.notification.RegisterNotificationDetailsPlugin,{});AS3.setBindable(notifications_RegisterNotificationDetailsPlugin_227_5_$1,"notificationType","translationWorkflow");var collab_TranslationWorkflowNotificationDetails_229_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.notification.components.TranslationWorkflowNotificationDetails,{});AS3.setBindable(notifications_RegisterNotificationDetailsPlugin_227_5_$1,
"notificationDetailsComponentConfig",collab_TranslationWorkflowNotificationDetails_229_9_$1);AS3.setBindable(config_$1,"configuration",[new com.coremedia.cms.editor.todo.TodoStudioPlugin(todo_TodoStudioPlugin_144_5_$1),new com.coremedia.cms.editor.controlroom.workflow.AddWorkflowPlugin(collab_AddWorkflowPlugin_146_5_$1),new com.coremedia.cms.editor.controlroom.workflow.AddWorkflowPlugin(collab_AddWorkflowPlugin_162_5_$1),new com.coremedia.cms.editor.configuration.CopyResourceBundleProperties(editor_CopyResourceBundleProperties_179_5_$1),
new com.coremedia.cms.editor.configuration.RegisterRestResource(editor_RegisterRestResource_183_5_$1),new com.coremedia.cms.editor.configuration.RegisterRestResource(editor_RegisterRestResource_184_5_$1),new com.coremedia.cms.editor.configuration.RegisterRestResource(editor_RegisterRestResource_185_5_$1),new com.coremedia.cms.editor.configuration.RegisterRestResource(editor_RegisterRestResource_186_5_$1),new com.coremedia.cms.editor.sdk.dashboard.ConfigureDashboardPlugin(editor_ConfigureDashboardPlugin_188_5_$1),
new com.coremedia.cms.editor.controlroom.ControlRoomLibraryPlugin(collab_ControlRoomLibraryPlugin_197_5_$1),new com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelPlugin(editor_SidePanelPlugin_199_5_$1),new com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut(editor_AddKeyboardShortcut_205_5_$1),new com.coremedia.cms.editor.configuration.CopyResourceBundleProperties(editor_CopyResourceBundleProperties_211_5_$1),new com.coremedia.cms.editor.notification.RegisterNotificationDetailsPlugin(notifications_RegisterNotificationDetailsPlugin_215_5_$1),
new com.coremedia.cms.editor.notification.RegisterNotificationDetailsPlugin(notifications_RegisterNotificationDetailsPlugin_221_5_$1),new com.coremedia.cms.editor.notification.RegisterNotificationDetailsPlugin(notifications_RegisterNotificationDetailsPlugin_227_5_$1)]);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$XSBF(config_$1)}return{extend:"com.coremedia.cms.editor.controlroom.ControlRoomPluginBase",filterWfRequestBatchSize:0,constructor:ControlRoomPlugin$,super$XSBF:function(){com.coremedia.cms.editor.controlroom.ControlRoomPluginBase.prototype.constructor.apply(this,
arguments)},statics:{CONTROL_ROOM_GLOBAL_PUBLICATION_BUTTON_ID:"control-room-global-publication-button",SHOW_PROJECT_IN_CONTROL_ROOM_MENU_ITEM_ID:"showProjectInControlRoomMenuItemId",RENAME_PROJECT_MENU_ITEM_ID:"renameProjectMenuItemId"},requires:["Ext.Component","Ext.menu.Item","Ext.plugin.Abstract","Ext.toolbar.Separator","com.coremedia.cms.editor.ProcessDefinitions_properties","com.coremedia.cms.editor.configuration.CopyResourceBundleProperties","com.coremedia.cms.editor.configuration.RegisterRestResource",
"com.coremedia.cms.editor.controlroom.ControlRoomPluginBase","com.coremedia.cms.editor.controlroom.notification.ControlRoomNotifications_properties","com.coremedia.cms.editor.controlroom.workflow.publication.PublicationProcessDefinitions_properties","com.coremedia.cms.editor.notification.Notifications_properties","com.coremedia.cms.editor.notification.RegisterNotificationDetailsPlugin","com.coremedia.cms.editor.sdk.dashboard.ConfigureDashboardPlugin","com.coremedia.cms.editor.sdk.desktop.ActionsToolbar",
"com.coremedia.cms.editor.sdk.desktop.ComponentBasedEntityWorkAreaTabType","com.coremedia.cms.editor.sdk.desktop.EditorMainView","com.coremedia.cms.editor.sdk.desktop.MainNavigationToolbar","com.coremedia.cms.editor.sdk.desktop.WorkArea","com.coremedia.cms.editor.sdk.desktop.WorkAreaTabTypesPlugin","com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxiesContextMenu","com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelPlugin","com.coremedia.cms.editor.sdk.premular.DocumentFormToolbar",
"com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut","com.coremedia.cms.editor.sdk.shortcuts.Shortcut_properties","com.coremedia.cms.editor.todo.TodoStudioPlugin","com.coremedia.collaboration.controlroom.rest.CapListImpl","com.coremedia.collaboration.controlroom.rest.CapListRepositoryImpl","com.coremedia.ui.PluginRulesBase","com.coremedia.ui.plugins.AddArrayItemsPlugin","com.coremedia.ui.plugins.AddItemsPlugin","com.coremedia.ui.plugins.NestedRulesPlugin","mx.resources.ResourceManager","net.jangaroo.ext.Exml"],
uses:["com.coremedia.cms.editor.controlroom.ControlRoom","com.coremedia.cms.editor.controlroom.ControlRoomButton","com.coremedia.cms.editor.controlroom.ControlRoomLibraryPlugin","com.coremedia.cms.editor.controlroom.actions.ToggleControlRoomAction","com.coremedia.cms.editor.controlroom.notification.components.ProjectNotificationDetails","com.coremedia.cms.editor.controlroom.notification.components.PublicationWorkflowNotificationDetails","com.coremedia.cms.editor.controlroom.notification.components.TranslationWorkflowNotificationDetails",
"com.coremedia.cms.editor.controlroom.project.actions.RenameTabProjectAction","com.coremedia.cms.editor.controlroom.project.actions.ShowTabProjectInControlRoomAction","com.coremedia.cms.editor.controlroom.project.components.ProjectTab","com.coremedia.cms.editor.controlroom.project.rest.Project","com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectImpl","com.coremedia.cms.editor.controlroom.project.rest.impl.ProjectRepositoryImpl","com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidgetState",
"com.coremedia.cms.editor.controlroom.project.widget.ProjectsTodosWidgetType","com.coremedia.cms.editor.controlroom.workflow.AddWorkflowPlugin","com.coremedia.cms.editor.controlroom.workflow.WorkflowUtils","com.coremedia.cms.editor.controlroom.workflow.components.GlobalStartPublicationButton","com.coremedia.cms.editor.controlroom.workflow.publication.DefaultPublicationWorkflowDetailForm","com.coremedia.cms.editor.controlroom.workflow.publication.DefaultPublicationWorkflowInfoForm","com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants"]}});Ext.define("com.coremedia.cms.editor.controlroom.ControlRoomCollectionViewPlugin",function(ControlRoomCollectionViewPlugin){function __initialize__(config){this.myCollectionView$ndOI=AS3.as(AS3.getBindable(config,"cmp","DUMMY"),com.coremedia.cms.editor.sdk.collectionview.ICollectionView)}function ControlRoomCollectionViewPlugin$(config){if(arguments.length<=0)config=null;this.__initialize__$ndOI(config);var config_$1=AS3.cast(com.coremedia.ui.plugins.NestedRulesPlugin,{});var defaults_$1=AS3.cast(ControlRoomCollectionViewPlugin,
{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var editor_RepositoryToolbar_27_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.RepositoryToolbar,{});var collab_AddLibraryStartWorkflowButtonsPlugin_29_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.plugins.AddLibraryStartWorkflowButtonsPlugin,{});AS3.setBindable(collab_AddLibraryStartWorkflowButtonsPlugin_29_9_$1,"selectedItemsValueExpression",this.myCollectionView$ndOI.getSelectedItemsValueExpression());var component_32_13_$1=
AS3.cast(Ext.Component,{});component_32_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.RepositoryToolbar.REPOSITORY_TOOLBAR_SPACER_FOURTH_ITEM_ID);AS3.setBindable(collab_AddLibraryStartWorkflowButtonsPlugin_29_9_$1,"after",[component_32_13_$1]);editor_RepositoryToolbar_27_5_$1.plugins=[collab_AddLibraryStartWorkflowButtonsPlugin_29_9_$1];var editor_CollectionRepositoryContextMenu_38_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.CollectionRepositoryContextMenu,
{});var collab_AddLibraryStartWorkflowMenuItemsPlugin_40_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.plugins.AddLibraryStartWorkflowMenuItemsPlugin,{});AS3.setBindable(collab_AddLibraryStartWorkflowMenuItemsPlugin_40_9_$1,"selectedItemsValueExpression",this.myCollectionView$ndOI.getSelectedRepositoryItemsValueExpression());var component_43_13_$1=AS3.cast(Ext.Component,{});component_43_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.CollectionRepositoryContextMenu.WITHDRAW_MENU_ITEM_ID);
AS3.setBindable(collab_AddLibraryStartWorkflowMenuItemsPlugin_40_9_$1,"before",[component_43_13_$1]);editor_CollectionRepositoryContextMenu_38_5_$1.plugins=[collab_AddLibraryStartWorkflowMenuItemsPlugin_40_9_$1];var editor_TreeViewContextMenu_49_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.tree.TreeViewContextMenu,{});var collab_AddLibraryStartWorkflowMenuItemsPlugin_51_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.plugins.AddLibraryStartWorkflowMenuItemsPlugin,{});AS3.setBindable(collab_AddLibraryStartWorkflowMenuItemsPlugin_51_9_$1,
"selectedItemsValueExpression",this.myCollectionView$ndOI.getSelectedFolderValueExpression());var component_54_13_$1=AS3.cast(Ext.Component,{});component_54_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.CollectionRepositoryContextMenu.WITHDRAW_MENU_ITEM_ID);AS3.setBindable(collab_AddLibraryStartWorkflowMenuItemsPlugin_51_9_$1,"before",[component_54_13_$1]);editor_TreeViewContextMenu_49_5_$1.plugins=[collab_AddLibraryStartWorkflowMenuItemsPlugin_51_9_$1];var editor_SearchToolbar_62_5_$1=
AS3.cast(com.coremedia.cms.editor.sdk.collectionview.SearchToolbar,{});var collab_AddLibraryStartWorkflowButtonsPlugin_64_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.plugins.AddLibraryStartWorkflowButtonsPlugin,{});AS3.setBindable(collab_AddLibraryStartWorkflowButtonsPlugin_64_9_$1,"selectedItemsValueExpression",this.myCollectionView$ndOI.getSelectedSearchItemsValueExpression());var component_67_13_$1=AS3.cast(Ext.Component,{});component_67_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.SearchToolbar.SEARCH_TOOLBAR_SPACER_FOURTH_ITEM_ID);
AS3.setBindable(collab_AddLibraryStartWorkflowButtonsPlugin_64_9_$1,"after",[component_67_13_$1]);editor_SearchToolbar_62_5_$1.plugins=[collab_AddLibraryStartWorkflowButtonsPlugin_64_9_$1];var editor_CollectionSearchContextMenu_73_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.CollectionSearchContextMenu,{});var collab_AddLibraryStartWorkflowMenuItemsPlugin_75_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.plugins.AddLibraryStartWorkflowMenuItemsPlugin,{});AS3.setBindable(collab_AddLibraryStartWorkflowMenuItemsPlugin_75_9_$1,
"selectedItemsValueExpression",this.myCollectionView$ndOI.getSelectedSearchItemsValueExpression());var component_78_13_$1=AS3.cast(Ext.Component,{});component_78_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.CollectionSearchContextMenu.WITHDRAW_MENU_ITEM_ID);AS3.setBindable(collab_AddLibraryStartWorkflowMenuItemsPlugin_75_9_$1,"before",[component_78_13_$1]);editor_CollectionSearchContextMenu_73_5_$1.plugins=[collab_AddLibraryStartWorkflowMenuItemsPlugin_75_9_$1];
config_$1.rules=[editor_RepositoryToolbar_27_5_$1,editor_CollectionRepositoryContextMenu_38_5_$1,editor_TreeViewContextMenu_49_5_$1,editor_SearchToolbar_62_5_$1,editor_CollectionSearchContextMenu_73_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$ndOI(config_$1)}return{extend:"com.coremedia.ui.plugins.NestedRulesPlugin",myCollectionView$ndOI:null,__initialize__$ndOI:__initialize__,constructor:ControlRoomCollectionViewPlugin$,super$ndOI:function(){com.coremedia.ui.plugins.NestedRulesPlugin.prototype.constructor.apply(this,
arguments)},requires:["Ext.Component","com.coremedia.cms.editor.sdk.collectionview.CollectionRepositoryContextMenu","com.coremedia.cms.editor.sdk.collectionview.CollectionSearchContextMenu","com.coremedia.cms.editor.sdk.collectionview.ICollectionView","com.coremedia.cms.editor.sdk.collectionview.RepositoryToolbar","com.coremedia.cms.editor.sdk.collectionview.SearchToolbar","com.coremedia.cms.editor.sdk.collectionview.tree.TreeViewContextMenu","com.coremedia.ui.plugins.NestedRulesPlugin","net.jangaroo.ext.Exml"],
uses:["com.coremedia.cms.editor.controlroom.plugins.AddLibraryStartWorkflowButtonsPlugin","com.coremedia.cms.editor.controlroom.plugins.AddLibraryStartWorkflowMenuItemsPlugin"]}});Ext.define("com.coremedia.cms.editor.controlroom.EditedContentGridPanelBase",function(EditedContentGridPanelBase){function EditedContentGridPanelBase$(config){if(arguments.length<=0)config=null;this.super$xWRx(config);this.on("afterrender",AS3.bind(this,"onAfterRender$xWRx"))}function onAfterRender(){this.setupDropZone();this.mon(this.header,"contextmenu",com.coremedia.ui.util.ContextMenuUtil.disableContextMenu);this.mon(this.getTopToolbar(),"contextmenu",com.coremedia.ui.util.ContextMenuUtil.disableContextMenu)}
function getMyEditedContentsInReverseOrderExpression(){return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var editedContentsCapList=com.coremedia.collaboration.controlroom.rest.CapListRepositoryImpl.getInstance().getEditedContents();var editedContents=editedContentsCapList.getItems();if(editedContents)return editedContents.reverse();else return undefined})}function setupDropZone(){var editedContentsPanelDropZoneConfig=AS3.cast(Ext.dd.DropZone,{ddGroup:"ContentLinkDD"});
this.editedContentsPanelDropZone$xWRx=new com.coremedia.cms.editor.controlroom.dd.EditedContentPanelDropZone(this,new com.coremedia.cms.editor.controlroom.dd.EditedContentPanelDragDropModel(AS3.as(this,com.coremedia.cms.editor.controlroom.EditedContentGridPanel)),editedContentsPanelDropZoneConfig);this.editedContentsPanelDropZone$xWRx.addToGroup("ContentDD");this.editedContentsPanelHeaderDropZone$xWRx=new com.coremedia.cms.editor.controlroom.dd.EditedContentPanelHeaderDropZone(this,new com.coremedia.cms.editor.controlroom.dd.EditedContentPanelDragDropModel(AS3.as(this,
com.coremedia.cms.editor.controlroom.EditedContentGridPanel)),editedContentsPanelDropZoneConfig);this.editedContentsPanelHeaderDropZone$xWRx.addToGroup("ContentDD")}function getMenuIconButtonVisibleVE(){var this$=this;var me=this;return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(me,"afterrender");var toolbar=this$.getTopToolbar();if(toolbar){var menuIconBtn=AS3.as(toolbar.down(com.coremedia.ui.util.createComponentSelector()._xtype(com.coremedia.ui.components.MenuIconButton.xtype).build()),
com.coremedia.ui.components.MenuIconButton);if(menuIconBtn){var toolsMenu=AS3.getBindable(menuIconBtn,"menu","DUMMY");com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(toolsMenu,"add");com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(toolsMenu,"remove");return toolsMenu.itemCollection.getCount()>0}}return false})}return{extend:"com.coremedia.cms.editor.sdk.components.ContentGridPanel",editedContentsPanelDropZone$xWRx:null,editedContentsPanelHeaderDropZone$xWRx:null,
constructor:EditedContentGridPanelBase$,super$xWRx:function(){com.coremedia.cms.editor.sdk.components.ContentGridPanel.prototype.constructor.apply(this,arguments)},onAfterRender$xWRx:onAfterRender,getMyEditedContentsInReverseOrderExpression:getMyEditedContentsInReverseOrderExpression,setupDropZone:setupDropZone,getMenuIconButtonVisibleVE:getMenuIconButtonVisibleVE,requires:["Ext.dd.DropZone","com.coremedia.cms.editor.sdk.components.ContentGridPanel","com.coremedia.collaboration.controlroom.rest.CapListRepositoryImpl",
"com.coremedia.ui.components.MenuIconButton","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.dependencies.DependencyTracker","com.coremedia.ui.util.ContextMenuUtil","com.coremedia.ui.util.createComponentSelector"],uses:["com.coremedia.cms.editor.controlroom.EditedContentGridPanel","com.coremedia.cms.editor.controlroom.dd.EditedContentPanelDragDropModel","com.coremedia.cms.editor.controlroom.dd.EditedContentPanelDropZone","com.coremedia.cms.editor.controlroom.dd.EditedContentPanelHeaderDropZone"]}});Ext.define("com.coremedia.cms.editor.controlroom.ControlRoom",function(ControlRoom){function ControlRoom$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.controlroom.ControlRoomBase,{});var defaults_$1=AS3.cast(ControlRoom,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1["ariaRole"]="region";config_$1["focusable"]=true;config_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom",
"ControlRoom_label"));config_$1["id"]=ControlRoom.CONTROL_ROOM_ID;AS3.setBindable(config_$1,"stateful",true);config_$1.stateId=net.jangaroo.ext.Exml.asString(ControlRoom.CONTROL_ROOM_ID);AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","ControlRoom_title"));config_$1.header=false;config_$1["minWidth"]=330;config_$1["minHeight"]=350;config_$1.defaultFocus=":focusable";AS3.setBindable(config_$1,"width",ControlRoom.DEFAULT_WIDTH);AS3.setBindable(config_$1,
"height",700);config_$1.constrainHeader=true;config_$1["docked"]=true;var fx_Object_57_5_$1=Object({});fx_Object_57_5_$1.width="auto";fx_Object_57_5_$1.stateful=true;fx_Object_57_5_$1.collapsible=true;fx_Object_57_5_$1.animCollapse=false;fx_Object_57_5_$1.titleCollapse=false;fx_Object_57_5_$1.header={titlePosition:1,focusableContainer:false};config_$1["defaultType"]=fx_Object_57_5_$1["xtype"];delete fx_Object_57_5_$1["xtype"];delete fx_Object_57_5_$1["xclass"];config_$1.defaults=fx_Object_57_5_$1;
var collab_EditedContentGridPanel_66_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.EditedContentGridPanel,{});collab_EditedContentGridPanel_66_5_$1.itemId=net.jangaroo.ext.Exml.asString(ControlRoom.EDITED_CONTENT_PANEL_ID);collab_EditedContentGridPanel_66_5_$1.stateEvents=["collapse","expand"];collab_EditedContentGridPanel_66_5_$1["getState"]=this.getSubPanelGetStateFn(ControlRoom.EDITED_CONTENT_PANEL_ID);collab_EditedContentGridPanel_66_5_$1.flex=1;AS3.setBindable(collab_EditedContentGridPanel_66_5_$1,
"embedded",true);AS3.setBindable(collab_EditedContentGridPanel_66_5_$1,"viewUi",net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.TableViewSkin.LIGHT.getSkin()));collab_EditedContentGridPanel_66_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.PanelSkin.ACCORDION.getSkin());collab_EditedContentGridPanel_66_5_$1.stateId=net.jangaroo.ext.Exml.asString(ControlRoom.EDITED_CONTENT_PANEL_ID);var ui_MultiItemSplitter_75_5_$1=AS3.cast(com.coremedia.ui.layouts.MultiItemSplitter,{});ui_MultiItemSplitter_75_5_$1.stateId=
"control-room-internal-splitter-1";ui_MultiItemSplitter_75_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.SplitterSkin.ACCORDION.getSkin());ui_MultiItemSplitter_75_5_$1.size=2;var collab_ProjectsPanel_79_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.ProjectsPanel,{});AS3.setBindable(collab_ProjectsPanel_79_5_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","ControlRoom_Projects_title"));collab_ProjectsPanel_79_5_$1.stateEvents=["collapse",
"expand"];collab_ProjectsPanel_79_5_$1["getState"]=this.getSubPanelGetStateFn(ControlRoom.PROJECTS_PANEL_ID);collab_ProjectsPanel_79_5_$1.flex=1;collab_ProjectsPanel_79_5_$1.itemId=net.jangaroo.ext.Exml.asString(ControlRoom.PROJECTS_PANEL_ID);collab_ProjectsPanel_79_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.SplitterSkin.ACCORDION.getSkin());collab_ProjectsPanel_79_5_$1.stateId=net.jangaroo.ext.Exml.asString(ControlRoom.PROJECTS_PANEL_ID);var ui_MultiItemSplitter_88_5_$1=AS3.cast(com.coremedia.ui.layouts.MultiItemSplitter,
{});ui_MultiItemSplitter_88_5_$1.stateId="control-room-internal-splitter-2";ui_MultiItemSplitter_88_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.SplitterSkin.ACCORDION.getSkin());ui_MultiItemSplitter_88_5_$1.size=2;var collab_TabbedWorkflowPanel_92_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.TabbedWorkflowPanel,{});collab_TabbedWorkflowPanel_92_5_$1.itemId=net.jangaroo.ext.Exml.asString(ControlRoom.PUBLICATION_WORKFLOW_PANEL_ID);collab_TabbedWorkflowPanel_92_5_$1.stateEvents=
["collapse","expand"];collab_TabbedWorkflowPanel_92_5_$1["getState"]=this.getSubPanelGetStateFn(ControlRoom.PUBLICATION_WORKFLOW_PANEL_ID);collab_TabbedWorkflowPanel_92_5_$1.flex=1;collab_TabbedWorkflowPanel_92_5_$1.stateId=net.jangaroo.ext.Exml.asString(ControlRoom.PUBLICATION_WORKFLOW_PANEL_ID);AS3.setBindable(collab_TabbedWorkflowPanel_92_5_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","ControlRoom_Publication_Workflows_title"));collab_TabbedWorkflowPanel_92_5_$1.processCategory=
net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants.PUBLICATION_PROCESS_CATEGORY);collab_TabbedWorkflowPanel_92_5_$1.excludedTasks={StudioTwoStepPublication:["Publish"]};var ui_MultiItemSplitter_101_5_$1=AS3.cast(com.coremedia.ui.layouts.MultiItemSplitter,{});ui_MultiItemSplitter_101_5_$1.stateId="control-room-internal-splitter-3";ui_MultiItemSplitter_101_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.SplitterSkin.ACCORDION.getSkin());
ui_MultiItemSplitter_101_5_$1.size=2;var collab_TabbedWorkflowPanel_105_5_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.TabbedWorkflowPanel,{});collab_TabbedWorkflowPanel_105_5_$1.itemId=net.jangaroo.ext.Exml.asString(ControlRoom.TRANSLATION_WORKFLOW_PANEL_ID);collab_TabbedWorkflowPanel_105_5_$1.stateEvents=["collapse","expand"];collab_TabbedWorkflowPanel_105_5_$1["getState"]=this.getSubPanelGetStateFn(ControlRoom.TRANSLATION_WORKFLOW_PANEL_ID);collab_TabbedWorkflowPanel_105_5_$1.flex=
1;collab_TabbedWorkflowPanel_105_5_$1.stateId=net.jangaroo.ext.Exml.asString(ControlRoom.TRANSLATION_WORKFLOW_PANEL_ID);AS3.setBindable(collab_TabbedWorkflowPanel_105_5_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","ControlRoom_Translation_Workflows_title"));collab_TabbedWorkflowPanel_105_5_$1.processCategory="Translation";AS3.setBindable(collab_TabbedWorkflowPanel_105_5_$1,"hidden",AS3.cast(com.coremedia.cms.editor.sdk.EditorContextImpl,com.coremedia.cms.editor.sdk.editorContext).getTranslationProcessDefinitions().length===
0);var ui_DataField_114_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_114_9_$1.name="language";ui_DataField_114_9_$1.mapping="id";ui_DataField_114_9_$1["convert"]=com.coremedia.cms.editor.controlroom.ControlRoomBase.extractLanguageDisplayName;AS3.setBindable(collab_TabbedWorkflowPanel_105_5_$1,"extraFields",[ui_DataField_114_9_$1]);var collab_ProcessIconColumn_119_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.ProcessIconColumn,{});var collab_WorkflowNameColumn_120_9_$1=
AS3.cast(com.coremedia.cms.editor.controlroom.workflow.WorkflowNameColumn,{});collab_WorkflowNameColumn_120_9_$1.flex=1;var collab_WorkflowLanguageColumn_121_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.WorkflowLanguageColumn,{});AS3.setBindable(collab_TabbedWorkflowPanel_105_5_$1,"inboxColumns",[collab_ProcessIconColumn_119_9_$1,collab_WorkflowNameColumn_120_9_$1,collab_WorkflowLanguageColumn_121_9_$1]);var collab_ProcessIconColumn_124_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.ProcessIconColumn,
{});var collab_WorkflowNameColumn_125_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.WorkflowNameColumn,{});collab_WorkflowNameColumn_125_9_$1.flex=1;var collab_WorkflowLanguageColumn_126_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.WorkflowLanguageColumn,{});AS3.setBindable(collab_WorkflowLanguageColumn_126_9_$1,"width",163);AS3.setBindable(collab_TabbedWorkflowPanel_105_5_$1,"pendingColumns",[collab_ProcessIconColumn_124_9_$1,collab_WorkflowNameColumn_125_9_$1,collab_WorkflowLanguageColumn_126_9_$1]);
var collab_ProcessIconColumn_129_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.ProcessIconColumn,{});var collab_WorkflowNameColumn_130_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.WorkflowNameColumn,{});collab_WorkflowNameColumn_130_9_$1.flex=1;var collab_WorkflowLanguageColumn_131_9_$1=AS3.cast(com.coremedia.cms.editor.controlroom.workflow.WorkflowLanguageColumn,{});AS3.setBindable(collab_WorkflowLanguageColumn_131_9_$1,"width",163);AS3.setBindable(collab_TabbedWorkflowPanel_105_5_$1,
"finishedColumns",[collab_ProcessIconColumn_129_9_$1,collab_WorkflowNameColumn_130_9_$1,collab_WorkflowLanguageColumn_131_9_$1]);config_$1.items=[collab_EditedContentGridPanel_66_5_$1,ui_MultiItemSplitter_75_5_$1,collab_ProjectsPanel_79_5_$1,ui_MultiItemSplitter_88_5_$1,collab_TabbedWorkflowPanel_92_5_$1,ui_MultiItemSplitter_101_5_$1,collab_TabbedWorkflowPanel_105_5_$1];var layout_VBox_137_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_137_5_$1,"align","stretch");AS3.setBindable(config_$1,
"layout",layout_VBox_137_5_$1);var editor_ToggleFloatingWindowAction_141_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ToggleFloatingWindowAction,{});AS3.setBindable(editor_ToggleFloatingWindowAction_141_5_$1,"component",this);AS3.setBindable(config_$1,"actionList",[new com.coremedia.cms.editor.sdk.actions.ToggleFloatingWindowAction(editor_ToggleFloatingWindowAction_141_5_$1)]);config_$1["actionList$at"]=net.jangaroo.ext.Exml.APPEND;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$wxHy(config_$1)}
return{extend:"com.coremedia.cms.editor.controlroom.ControlRoomBase",alias:"widget.com.coremedia.cms.editor.controlroom.config.controlRoom",constructor:ControlRoom$,super$wxHy:function(){com.coremedia.cms.editor.controlroom.ControlRoomBase.prototype.constructor.apply(this,arguments)},statics:{CONTROL_ROOM_ID:"controlRoom",EDITED_CONTENT_PANEL_ID:"editedContentPanel",PROJECTS_PANEL_ID:"projectsPanel",PUBLICATION_WORKFLOW_PANEL_ID:"publicationWorkflowPanel",TRANSLATION_WORKFLOW_PANEL_ID:"translationWorkflowPanel",
DEFAULT_WIDTH:330},requires:["Ext.layout.container.VBox","com.coremedia.cms.editor.controlroom.ControlRoomBase","com.coremedia.cms.editor.controlroom.ControlRoom_properties","com.coremedia.cms.editor.sdk.EditorContextImpl","com.coremedia.cms.editor.sdk.actions.ToggleFloatingWindowAction","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.ui.layouts.MultiItemSplitter","com.coremedia.ui.skins.PanelSkin","com.coremedia.ui.skins.SplitterSkin","com.coremedia.ui.skins.TableViewSkin","com.coremedia.ui.store.DataField",
"net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.controlroom.EditedContentGridPanel","com.coremedia.cms.editor.controlroom.ProjectsPanel","com.coremedia.cms.editor.controlroom.workflow.ProcessIconColumn","com.coremedia.cms.editor.controlroom.workflow.TabbedWorkflowPanel","com.coremedia.cms.editor.controlroom.workflow.WorkflowLanguageColumn","com.coremedia.cms.editor.controlroom.workflow.WorkflowNameColumn","com.coremedia.cms.editor.controlroom.workflow.publication.PublicationWorkflowConstants"]}});Ext.define("com.coremedia.cms.editor.controlroom.ContentSetErrorCodes",function(ContentSetErrorCodes){function ContentSetErrorCodes$(){}return{constructor:ContentSetErrorCodes$,statics:{CANNOT_CREATE_CAP_LIST:"CAP-API-40010",CANNOT_CREATE_CAP_LIST_DUPLICATE_ID:"CAP-API-40011",CANNOT_RENAME_CAP_LIST:"CAP-API-40021",CANNOT_CHANGE_CAP_LIST_ELEMENTS:"CAP-API-40022",CANNOT_DESTROY_CAP_LIST:"CAP-API-40023",CANNOT_READ_CAP_LIST:"CAP-API-40030",CANNOT_READ_CAP_LISTS:"CAP-API-40031",CANNOT_READ_CAP_LIST_TIMESTAMP:"CAP-API-40032",
CANNOT_READ_CAP_LIST_REFERRERS:"CAP-API-40033",CANNOT_ACCESS_CAP_LIST_NOT_AUTHORIZED:"CAP-API-40034",CANNOT_SET_CAP_LIST_PERMISSIONS:"CAP-API-40035",CAPLIST_DESTROYED:"CAP-API-16151"}}});Ext.define("com.coremedia.cms.editor.controlroom.ProjectIconColumn",function(ProjectIconColumn){function ProjectIconColumn$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.columns.grid.IconColumn,{});var defaults_$1=AS3.cast(ProjectIconColumn,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","project")));config_$1.header=
net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.columns.grid.GridColumns","icon_header"));config_$1.dataIndex="name";net.jangaroo.ext.Exml.apply(config_$1,config);this.super$InxC(config_$1)}function calculateIconText(value,metadata,record,rowIndex,colIndex,store){return this.resourceManager.getString("com.coremedia.cms.editor.controlroom.ControlRoom","Project_toolbar_project")}return{extend:"com.coremedia.cms.editor.sdk.columns.grid.IconColumn",constructor:ProjectIconColumn$,
super$InxC:function(){com.coremedia.cms.editor.sdk.columns.grid.IconColumn.prototype.constructor.apply(this,arguments)},calculateIconText:calculateIconText,requires:["com.coremedia.cms.editor.sdk.columns.grid.IconColumn","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.controlroom.workflow.publication.PublicationProcessDefinitions_properties",{"StudioSimplePublication_text":"Direct Publication","StudioTwoStepPublication_text":"Reviewed Publication","StudioTwoStepPublication_task_Approve_text":"Approve","StudioTwoStepPublication_task_Compose_text":"Compose","StudioTwoStepPublication_task_Publish_text":"Publish"},function(){com.coremedia.cms.editor.controlroom.workflow.publication.PublicationProcessDefinitions_properties.INSTANCE=
new com.coremedia.cms.editor.controlroom.workflow.publication.PublicationProcessDefinitions_properties});Ext.define("com.coremedia.cms.editor.controlroom.ControlRoom_properties",{requires:["com.coremedia.icons.CollaborationIcons_properties","com.coremedia.icons.CoreIcons_properties"],"ControlRoom_title":"Control Room","ControlRoom_label":"Control Room (F4)","ControlRoom_MyEditedContent_title":"My Edited Content","ControlRoom_Projects_title":"My Projects","ControlRoom_Publication_Workflows_title":"Publication Workflows","ControlRoom_Translation_Workflows_title":"Localization Workflows","ControlRoom_MyEditedContentToolbar_label":"My Edited Content",
"ControlRoom_ProjectsPanelToolbar_label":"My Projects","ProjectsPanel_drag_computing_drag_data":"Loading ...","ProjectsPanel_drag_singleselect_text_single_content":"{0} (1 content item)","ProjectsPanel_drag_singleselect_text_multiple_contents":"{0} ({1} content items)","ProjectsPanel_drag_multiselect_text_single_content":"{0} projects (1 content item)","ProjectsPanel_drag_multiselect_text_multiple_contents":"{0} projects ({1} content items)","Action_showInControlRoom_text":"Show in Control Room",
"Action_renameTabProjectAction_menu_text":"Rename","Action_renameTabProjectAction_title_text":"Rename Project","Action_renameTabProjectAction_message_text":"Enter a new name for the project","Action_deleteEditedContents_selected_text":"Remove","Action_deleteEditedContents_selected_tooltip":"Remove contents from edited content","Action_deleteEditedContents_all_text":"Clear My Edited Content","Action_deleteEditedContents_all_tooltip":"Clear my edited content","Action_deleteEditedContents_confirm_title":"Clear Edited Content",
"Action_deleteEditedContents_confirm_message":"Do you really want to clear your edited content?","Action_deleteEditedContents_confirm_buttonText":"Clear","Action_pasteFromClipboardToProjects_text":"Paste","Action_pasteFromClipboardToProjects_tooltip":"Paste content items from clipboard","Action_createProject_selected_text":"Create Project","Action_createProject_selected_tooltip":"Create a project from selected edited contents","Action_createProject_selected_non_tooltip":"Create a project from all edited contents",
"Action_createProject_empty_text":"Create Empty Project","Action_createProject_empty_tooltip":"Create\x26nbsp;a\x26nbsp;new\x26nbsp;empty\x26nbsp;project","Action_createProject_new_name_text":"New project","Action_leaveProjects_text":"Leave","Action_leaveProjects_tooltip":"Leave the selected projects","Action_leaveProjects_confirm_title":"Confirm","Action_leaveProjects_confirm_message":"Do you really want to leave the selected projects?","Action_leaveProjects_confirm_buttonText":"Leave","Action_removeContentFromProject_text":"Remove",
"Action_removeContentFromProject_tooltip":"Remove the selected content from project","Action_cutContentFromProject_text":"Cut","Action_cutContentFromProject_tooltip":"Cut the selected content from project","TabbedWorkflowPanel_inbox_text":"Inbox","TabbedWorkflowPanel_pending_text":"Pending","TabbedWorkflowPanel_finished_text":"Finished","Action_start_publication_tooltip":"Start a publication workflow","Action_showStartPublicationWorkflowWindow_text":"Start Publication Workflow...","Action_showStartPublicationWorkflowWindow_tooltip":"Publish",
"Action_globalShowStartPublicationWorkflowWindow_text":"Start Publication Workflow.","Action_globalShowStartPublicationWorkflowWindow_tooltip":"Publish","Action_start_translation_tooltip":"Start a localization workflow","Action_showStartTranslationWorkflowWindow_text":"Start Localization Workflow...","Action_showStartTranslationWorkflowWindow_tooltip":"Localize","Action_startPullTranslationWorkflow_text":"Translate into the preferred site","Action_startPullTranslationWorkflow_tooltip":"Translate into the preferred site",
"Action_startPullTranslationWorkflow_noContents_disabled_tooltip":"No contents selected for translation into the preferred site.","Action_startPullTranslationWorkflow_contentsNotInMasterOfPreferred_disabled_tooltip":"Translation into the preferred site is not possible as selection contains contents which do not belong to the master of the preferred site.","Action_startPullTranslationWorkflow_containsWorkingVersionOnlyContents_disabled_tooltip":"Translation into the preferred site is not possible as selection contains contents which have never been checked in.",
"Action_startPullTranslationWorkflow_noPreferredSite_disabled_tooltip":"No preferred site selected.","StartPublicationWorkflowWindow_title":"Publication Workflow","StartTranslationWorkflowWindow_title":"Localization Workflow","StartWorkflowWindow_workflowNameTextField_label":"Workflow","StartWorkflowWindow_workflowNameTextField_emptyText":"Enter Workflow Name.","StartWorkflowWindow_workflowTypeField_label":"Workflow Type","StartWorkflowWindow_contentItems_label":"Content","StartWorkflowWindow_changeSetField_label":"Publication Set",
"StartWorkflowWindow_extendedChangeSetField_label":"Dependent Content","StartPublicationWorkflowWindow_extendedChangeSet_help_text":"This set of content items is required for a successful publication and also gets published.","StartTranslationWorkflowWindow_extendedChangeSet_help_text":"This set of content items will also be shown to the editor of the workflow, since they are not up to date in all target sites.","StartWorkflowWindow_removeEditedContents_box_label":"Remove from My Edited Content",
"StartWorkflowWindow_nameNotValid":"This field must not be empty.","StartWorkflowWindow_states_label":"Next Workflow Step","StartWorkflowWindow_sites_label":"Target Locales","StartWorkflowWindow_masterSite_label":"Localize from {0} to:","StartWorkflowWindow_masterSite_label_no_locale":"No target locale available.","StartWorkflowWindow_selectAllSites":"Select all","OpenWorkflowIssuesWindow_btn_text":"Errors and Warnings","OpenWorkflowIssuesWindow_btn_tooltip":"Show list of errors and warnings for the current content. There are no errors or warnings.",
"OpenWorkflowIssuesWindow_btn_errorMessage":"Show list of errors and warnings for the current content. There are errors or warnings.","WorkflowIssuesWindow_title":"Errors and Warnings","WorkflowIssuesWindow_tooltip":"This window shows errors and warnings for the current content items. Warnings are for your information and do not need to be resolved. Errors must be corrected, otherwise a workflow cannot be started.","WorkflowIssuesWindow_errorHeader_text":"Errors","WorkflowIssuesWindow_noError_text":"There are no errors.",
"WorkflowIssuesWindow_warnHeader_text":"Warnings","WorkflowIssuesWindow_noWarn_text":"There are no warnings.","WorkflowIssuesWindow_computingIssues_text":"Computing errors and warnings","WorkflowInfoWindow_abortButton_label":"Abort Workflow","WorkflowInfoWindow_closeButton_label":"Close","AbortWorkflow_confirm_title":"Abort Workflow","AbortWorkflow_confirm_message":'Do you really want to abort the workflow "{0}"?',"AbortWorkflow_yes_button":"Abort Workflow","AbortWorkflow_no_button":"Do not Abort Workflow",
"AbortWorkflow_warning_title":"Aborted Workflow","AbortWorkflow_warning_message":'The workflow "{0}" that you were working on was aborted.',"WorkflowDetailPanel_workflowType_label":"Workflow Type","WorkflowDetailPanel_workflowName_label":"Workflow Name","WorkflowDetailPanel_contentItems_label":"Content Items","WorkflowDetailPanel_targetSite_label":"Site","WorkflowDetailPanel_targetLocale_label":"Target Locale","WorkflowDetailPanel_owner_label":"Started By","WorkflowDetailPanel_owner_me":"Me","WorkflowDetailPanelWrapper_acceptButton_label":"Accept Task",
"WorkflowDetailPanelWrapper_applyButton_label":"Apply","WorkflowDetailPanelWrapper_cancelButton_label":"Cancel","WorkflowDetailPanelWrapper_workflow_completed":"Workflow completed","WorkflowDetailPanelWrapper_states_label":"Workflow Steps","WorkflowDetailPanelWrapper_next_state_label":"Choose Next Workflow Step","WorkflowDetailColumn_tooltip_text":"Details","TaskWarningPanel_title":"Escalated","Action_showAddProjectMemberDialogAction_text":"Add Members...","Action_showAddProjectMemberDialogAction_tooltip":"Add members to the project",
"AddProjectMemberDialog_title_text":"Add Members to Project '{0}'","AddProjectMemberDialog_label_text":"Members","AddProjectMemberDialog_button_text":"Add","Action_removeProjectMember_text":"Remove","Action_removeProjectMember_tooltip":"Remove selection","Action_removeProjectMember_openTodos_confirm_title":"Confirm Removal","Action_removeProjectMember_openTodos_confirm_message":'{1} is still assigned to an open to-do. Do you want to remove {1} from project "{0}"?',"Action_removeProjectMember_openTodos_confirm_messageSelf":'There are still open to-dos for you. Do you want to leave the project "{0}"?',
"Action_removeProjectMember_openTodos_confirm_buttonText":"Remove","Action_removeProjectMember_openTodos_confirm_buttonTextSelf":"Leave","Action_removeProjectMember_projectDeletion_confirm_title":"Confirm Removal","Action_removeProjectMember_projectDeletion_confirm_message":'{1} ist the last member of the project "{0}". When {1} is removed from this project, it will be deleted. Do you want to remove {1} and delete the project?',"Action_removeProjectMember_projectDeletion_confirm_messageSelf":'You are the last member of the project "{0}". When you leave the project, it will be deleted. Do you want to leave and delete the project?',
"Action_removeProjectMember_projectDeletion_confirm_buttonText":"Remove and Delete","Action_removeProjectMember_projectDeletion_confirm_buttonTextSelf":"Leave and Delete","Project_goals_title":"About This Project","Project_dueDate_title":"Due Date","Project_dueDate_emptyText":"Date","Project_todos_title":"To-Dos","Project_todos_title_filtered_by_due_date":"To-Dos with due date '{0}'","Project_todos_add_button_text":"Create To-Do","Project_notes_title":"Notes and Goals","Project_users_title":"Members",
"Project_users_me":"Me","Project_calendar_title":"Calendar","Project_toolbar_project":"Project","Project_leaveProject_text":"Leave Project","Project_leaveProject_tooltip":"Leave the project","Project_uncheckTodoAssigneeNotInProject_confirm_title":"Invite '{0}' again?","Project_uncheckTodoAssigneeNotInProject_confirm_message":"The member '{0}' formally assigned to this To-Do is not part of the project anymore. Do you want to add '{0}' to the project again? Otherwise the assignee will be removed.",
"Project_uncheckTodoAssigneeNotInProject_confirm_primaryButtonText":"Invite","Project_uncheckTodoAssigneeNotInProject_confirm_secondaryButtonText":"Remove Assignment","Project_Todo_due_after_project_due_date_warning_text":"The due date of the To-Do is later than the project due date.","Project_Todo_due_date_overdue_error_text":"The To-Do is overdue.","Project_Todos_show_all":"Show All To-Dos","Project_Todos_select_day":"Select a date to filter the to-dos.","Project_content_empty_text":"This project has no content.",
"Project_content_title":"Content","ControlRoomPlugin_btn_show_tooltip":"Show\x26nbsp;Control\x26nbsp;Room (F4)","ControlRoomPlugin_btn_show_filter_options_tooltip":"Show filter options","ControlRoomPlugin_btn_show_actions_tooltip":"Show actions menu","ControlRoomPlugin_btn_hide_tooltip":"Hide\x26nbsp;control\x26nbsp;room","ControlRoomPlugin_btn_back_to_list_tooltip":"Back to list","Workflow_StudioSimplePublication_start":"Starting Workflow (current step)","Workflow_StudioSimplePublication_end":"Content Published",
"Workflow_StudioTwoStepPublication_start":"Compose Content Items","Workflow_StudioTwoStepPublication_start_current":"Compose Content Items (current step)","Workflow_StudioTwoStepPublication_pending":"Pending Publication","Workflow_StudioTwoStepPublication_pending_current":"Pending Publication (current status)","Workflow_StudioTwoStepPublication_end":"Content Published","Workflow_StudioTwoStepPublication_revision":"Needs Revision","Action_showProject_tooltip":"Open in Tab","Action_showProject_text":"Open in Tab",
"Action_renameProject_tooltip":"Rename Project","Action_renameProject_text":"Rename","WorkflowNotesPanel_label":"Notes","WorkflowNotesPanel_comment_too_long":"Field must contain maximum 2000 characters.","WorkflowNotesPanel_textArea_label":"Notes Text","AssignMembersPanel_title":"Assign Workflow To People","AssignMembersPanel_noUsersAssigned_error":"You Have to Select People","AssignMembersPanel_label":"Assignees","Projects_Todos_Widget_type":"Open To-Dos","Projects_Todos_Widget_name":"My Open To-Dos",
"Projects_Todos_Widget_name_all":"All Open To-Dos","Projects_Todos_Widget_name_with_project":"My Open To-Dos: {0}","Projects_Todos_Widget_name_with_project_for_all":"All Open To-Dos: {0}","Projects_Todos_Widget_description":"This widget shows the open To-Dos","Projects_Todos_Widget_icon":"search-widget-icon","Projects_Todos_Widget_showAllTodosLink_text":"Show All","Projects_Todos_Widget_noOpenTodos_text":"All done!","Projects_Todos_Widget_project_label":"Project","Projects_Todos_Widget_show_my_open_todos":"Show Only My Open To-Dos",
"Projects_Todos_Widget_show_all_open_todos":"Show All Open To-Dos","Projects_Todos_Widget_project_selection_default":"All My Projects"},function(){this.prototype["Action_deleteEditedContents_selected_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.remove_small;this.prototype["Action_deleteEditedContents_all_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.clear_edited_content;this.prototype["Action_pasteFromClipboardToProjects_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.paste;
this.prototype["Action_createProject_selected_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.create_project;this.prototype["Action_createProject_empty_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.create_project;this.prototype["Action_leaveProjects_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.exit;this.prototype["Action_removeContentFromProject_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.remove;this.prototype["Action_cutContentFromProject_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.cut;
this.prototype["TabbedWorkflowPanel_inbox_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.inbox;this.prototype["TabbedWorkflowPanel_pending_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.pending;this.prototype["TabbedWorkflowPanel_finished_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.finished;this.prototype["Action_showStartPublicationWorkflowWindow_icon"]=com.coremedia.icons.CollaborationIcons_properties.INSTANCE.start_publication_workflow;this.prototype["Action_globalShowStartPublicationWorkflowWindow_icon"]=
com.coremedia.icons.CollaborationIcons_properties.INSTANCE.start_publication_workflow;this.prototype["Action_showStartTranslationWorkflowWindow_icon"]=com.coremedia.icons.CollaborationIcons_properties.INSTANCE.start_localization_workflow;this.prototype["Action_startPullTranslationWorkflow_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.decentral_translation;this.prototype["Action_showAddProjectMemberDialogAction_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.add_people_to_shared_content_set;
this.prototype["Action_removeProjectMember_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.remove_small;this.prototype["ControlRoomPlugin_btn_icon"]=com.coremedia.icons.CollaborationIcons_properties.INSTANCE.control_room;this.prototype["Action_showProject_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.pencil;this.prototype["Action_renameProject_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.project;this.prototype["Projects_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.project;
com.coremedia.cms.editor.controlroom.ControlRoom_properties.INSTANCE=new com.coremedia.cms.editor.controlroom.ControlRoom_properties});Ext.define("com.coremedia.cms.editor.controlroom.notification.ControlRoomNotifications_properties",{requires:["com.coremedia.icons.CollaborationIcons_properties","com.coremedia.icons.CoreIcons_properties"],"Notification_project_shared_msg":'{1} has shared the project "[u]{0}[/u]" with you.',"Notification_project_todoAssigned_msg":'{1} has assigned a to-do in the project "[u]{0}[/u]" to you.',"Notification_showProjectForNotificationAction_error_title":"Project Not Found","Notification_showProjectForNotificationAction_notInMyProjects_error_msg":"The project '{0}' is no longer in your project list. Do you want to add it?",
"Notification_showProjectForNotificationAction_notInMyProjects_addButton_text":"Add","Notification_showProjectForNotificationAction_destroyed_error_msg":"The project '{0}' does no longer exist.","Notification_publicationWorkflow_offered_msg":'The publication workflow "[u]{0}[/u]" is new in your inbox.',"Notification_showPublicationWorkflowForNotificationAction_error_title":"Publication Workflow Not Found","Notification_showPublicationWorkflowForNotificationAction_notInPublicationWorkflows_error_msg":"The publication workflow '{0}' is no longer in your publication workflows.",
"Notification_showPublicationWorkflowForNotificationAction_destroyed_error_msg":"The publication workflow '{0}' no longer exist.","Notification_translationWorkflow_offered_msg":'The translation workflow "[u]{0}[/u]" is new in your Inbox.',"Notification_showTranslationWorkflowForNotificationAction_error_title":"Translation Workflow Not Found","Notification_showTranslationWorkflowForNotificationAction_notInPublicationWorkflows_error_msg":"The translation workflow '{0}' is no longer in your translation workflows.",
"Notification_showTranslationWorkflowForNotificationAction_destroyed_error_msg":"The translation workflow '{0}' no longer exist."},function(){this.prototype["Notification_project_iconCls"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.project;this.prototype["Notification_publicationWorkflow_iconCls"]=com.coremedia.icons.CollaborationIcons_properties.INSTANCE.start_publication_workflow;this.prototype["Notification_translationWorkflow_iconCls"]=com.coremedia.icons.CollaborationIcons_properties.INSTANCE.start_translation_workflow;
com.coremedia.cms.editor.controlroom.notification.ControlRoomNotifications_properties.INSTANCE=new com.coremedia.cms.editor.controlroom.notification.ControlRoomNotifications_properties});Ext.define("com.coremedia.cms.editor.controlroom.actions.ContentSetErrors_properties",{"contentSet_generalError_title":"Error","contentSet_generalError_message":"An error has occurred: {0}","contentSet_cannotCreateContentSet_title":"Error","contentSet_cannotCreateContentSet_message":"Cannot create a project.","contentSet_cannotCreateContentSetDuplicateId_title":"Error","contentSet_cannotCreateContentSetDuplicateId_message":"Cannot create a project with a duplicate ID.","contentSet_cannotRenameContentSet_title":"Error",
"contentSet_cannotRenameContentSet_message":"Cannot rename a project.","contentSet_cannotEditContentSet_title":"Error","contentSet_cannotEditContentSet_message":"Cannot edit the selected content in a project.","contentSet_cannotDeleteContentSet_title":"Error","contentSet_cannotDeleteContentSet_message":"Cannot delete a project.","contentSet_cannotOpenContentSet_title":"Error","contentSet_cannotOpenContentSet_message":"Cannot open a project.","contentSet_cannotOpenContentSets_title":"Error","contentSet_cannotOpenContentSets_message":"Cannot open projects of a certain type.",
"contentSet_cannotReadContentSetTimestamp_title":"Error","contentSet_cannotReadContentSetTimestamp_message":"Cannot read the timestamp of projects.","contentSet_cannotReadContentSetReferrers_title":"Error","contentSet_cannotReadContentSetReferrers_message":"Cannot read the referrers of a project.","contentSet_cannotAccessContentSetNotAuthorized_title":"Error","contentSet_cannotAccessContentSetNotAuthorized_message":"No rights to read a project.","contentSet_cannotSetContentSetPermissions_title":"Error",
"contentSet_cannotSetContentSetPermissions_message":"Cannot assign permissions to a project.","workflow_cannotStartWorkflow_title":"Error","workflow_cannotStartWorkflow_text":"Cannot start the selected workflow.","workflow_workflowServerNotAvailable_title":"Error","workflow_workflowServerNotAvailable_text":"Workflow server is not available.","workflow_workflowsNotAvailable_title":"Not Authorized","workflow_workflowsNotAvailable_text":"You do not have the permission to start the desired workflow.",
"workflow_contentSetIssue_extendedWorkflow_sg_text":"Dependent content item was added and will be part of the workflow.","workflow_contentSetIssue_extendedWorkflow_pl_text":"Dependent content items were added and will be part of the workflow.","workflow_contentSetIssue_limitforExtendedWorkflowExceeded_sg_text":"The preview of dependent content is limited to {0} item. The workflow will contain more items after start.","workflow_contentSetIssue_limitforExtendedWorkflowExceeded_pl_text":"The preview of dependent content is limited to {0} items. The workflow will contain more items after start.",
"workflow_contentSetIssue_contentInvalid_sg_text":"The following content item contains fields which should be reviewed.","workflow_contentSetIssue_contentInvalid_pl_text":"The following content items contain fields which should be reviewed.","workflow_contentSetIssue_noContents_sg_text":"There is no content item to publish.","workflow_contentSetIssue_missingReadRightsForContents_sg_text":"Validation was aborted due to missing read rights for one or more content items.","workflow_contentSetIssue_internalError_sg_text":"Validation was aborted due to an internal error.",
"workflow_contentSetIssue_contentWithoutSite_sg_text":"The following content item does not belong to a site.","workflow_contentSetIssue_contentWithoutSite_pl_text":"The following content items do not belong to a site.","workflow_contentSetIssue_alreadyInTranslation_sg_text":"The following content item is already in translation.","workflow_contentSetIssue_alreadyInTranslation_pl_text":"The following content items are already in translation.","workflow_contentSetIssue_inMultipleTranslations_sg_text":"The following content item is in multiple translation workflows at the same time.",
"workflow_contentSetIssue_inMultipleTranslations_pl_text":"The following content items are in multiple translation workflows at the same time.","workflow_contentSetIssue_notReadable_sg_text":"The following content item is not readable.","workflow_contentSetIssue_notReadable_pl_text":"The following content items are not readable.","workflow_contentSetIssue_mergeConflict_sg_text":"Some non-textual fields in the following content item could not be updated automatically.","workflow_contentSetIssue_mergeConflict_pl_text":"Some non-textual fields in the following content items could not be updated automatically.",
"workflow_contentSetIssue_differentSites_sg_text":"The following content item belongs to a different site.","workflow_contentSetIssue_differentSites_pl_text":"The following content items belong to different sites.","workflow_contentSetIssue_noSiteSelected_sg_text":"No target locale selected.","workflow_contentSetIssue_noSiteAvailable_sg_text":"No target locales available to localize content to.","workflow_contentSetIssue_noContent_sg_text":"No content to translate.","workflow_contentSetIssue_noSyncSiteAvailable_sg_text":"No target locales available to synchronize content to.",
"workflow_contentSetIssue_notSiteManager_sg_text":"Missing privileges to start a workflow for this site.","workflow_contentSetIssue_notSiteManager_pl_text":"Missing privileges to start a workflow for these sites.","workflow_contentSetIssue_noMasterProperty_sg_text":"The following content item has no master property.","workflow_contentSetIssue_noMasterProperty_pl_text":"The following content items have no master property.","workflow_contentSetIssue_noMasterVersionProperty_sg_text":"The following content item has no master version property.",
"workflow_contentSetIssue_noMasterVersionProperty_pl_text":"The following content items have no master version property.","workflow_contentSetIssue_noLocaleProperty_sg_text":"The following content item has no locale property.","workflow_contentSetIssue_noLocaleProperty_pl_text":"The following content items have no locale property.","workflow_contentSetIssue_contentsCheckedOutByOthers_sg_text":"The following content item is still checked out by another user.","workflow_contentSetIssue_contentsCheckedOutByOthers_pl_text":"The following content items are still checked out by another user.",
"workflow_contentSetIssue_contentHasErrors_sg_text":"The following content item has errors.","workflow_contentSetIssue_contentHasErrors_pl_text":"The following content items have errors.","workflow_contentSetIssue_contentHasWarnings_sg_text":"The following content item has warnings.","workflow_contentSetIssue_contentHasWarnings_pl_text":"The following content items have warnings.","workflow_contentSetIssue_contentCheckedOutHasErrors_sg_text":"The following content item has errors and cannot be checked in automatically.",
"workflow_contentSetIssue_contentCheckedOutHasErrors_pl_text":"The following content items have errors and cannot be checked in automatically.","workflow_contentSetIssue_contentCheckedOutHasWarnings_sg_text":"The following content item has warnings and cannot be checked in automatically.","workflow_contentSetIssue_contentCheckedOutHasWarnings_pl_text":"The following content items have warnings and cannot be checked in automatically.","workflow_contentSetIssue_assigneeNotAuthorized_sg_text":"The person assigned in this workflow is not allowed to publish the publication set.",
"workflow_contentSetIssue_assigneesNotAuthorized_sg_text":"The people who are assigned in this workflow are not allowed to publish the publication set.","workflow_contentSetIssue_someAssigneesNotAuthorized_sg_text":"Some of the people who are assigned in this workflow are not allowed to publish the publication set.","workflow_contentSetIssue_noAssignees_sg_text":"The workflow has no assignees."},function(){com.coremedia.cms.editor.controlroom.actions.ContentSetErrors_properties.INSTANCE=new com.coremedia.cms.editor.controlroom.actions.ContentSetErrors_properties});
//# sourceMappingURL=com.coremedia.ui.collaboration__control-room-editor-components.js.map
