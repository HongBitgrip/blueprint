Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.base.ProcessContributionToolbarBase",function(ProcessContributionToolbarBase){function ProcessContributionToolbarBase$(config){if(arguments.length<=0)config=null;this.super$Nw3t(config)}function setRejectButtonLabel(label,isEmailSent){this.getRejectButton$Nw3t().setText(com.coremedia.elastic.social.studio.model.utils.ElasticUtils.toggleStarMarker(label,isEmailSent));var parentContainer=AS3.as(this.findParentByType("container"),
Ext.container.Container);if(parentContainer)parentContainer.updateLayout()}function setApproveButtonLabel(label,isEmailSent){this.getApproveButton$Nw3t().setText(com.coremedia.elastic.social.studio.model.utils.ElasticUtils.toggleStarMarker(label,isEmailSent));var parentContainer=AS3.as(this.findParentByType("container"),Ext.container.Container);if(parentContainer)parentContainer.updateLayout()}function toggleEMailWindowLink(author){this.getEmailButton$Nw3t().toggleEMailWindowLink(author)}function getApproveButton(){if(!this.approveButton$Nw3t)this.approveButton$Nw3t=
AS3.as(this.getComponent(ProcessContributionToolbarBase.APPROVE_BUTTON_ID),Ext.button.Button);return this.approveButton$Nw3t}function getRejectButton(){if(!this.rejectButton$Nw3t)this.rejectButton$Nw3t=AS3.as(this.getComponent(ProcessContributionToolbarBase.REJECT_BUTTON_ID),Ext.button.Button);return this.rejectButton$Nw3t}function getEmailButton(){if(!this.emailButton$Nw3t)this.emailButton$Nw3t=AS3.as(this.getComponent(ProcessContributionToolbarBase.EMAIL_BUTTON_ID),com.coremedia.elastic.social.studio.moderation.shared.details.base.EmailButton);
return this.emailButton$Nw3t}return{extend:"Ext.toolbar.Toolbar",approveButton$Nw3t:null,rejectButton$Nw3t:null,emailButton$Nw3t:null,constructor:ProcessContributionToolbarBase$,super$Nw3t:function(){Ext.toolbar.Toolbar.prototype.constructor.apply(this,arguments)},setRejectButtonLabel:setRejectButtonLabel,setApproveButtonLabel:setApproveButtonLabel,toggleEMailWindowLink:toggleEMailWindowLink,getApproveButton$Nw3t:getApproveButton,getRejectButton$Nw3t:getRejectButton,getEmailButton$Nw3t:getEmailButton,
statics:{APPROVE_BUTTON_ID:"cm-elastic-social-contribution-approve-button",REJECT_BUTTON_ID:"cm-elastic-social-contribution-reject-button",EMAIL_BUTTON_ID:"cm-elastic-social-contribution-email-button-container"},requires:["Ext.button.Button","Ext.container.Container","Ext.toolbar.Toolbar"],uses:["com.coremedia.elastic.social.studio.model.utils.ElasticUtils","com.coremedia.elastic.social.studio.moderation.shared.details.base.EmailButton"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.base.ProcessContributionToolbar",function(ProcessContributionToolbar){function ProcessContributionToolbar$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.base.ProcessContributionToolbarBase,{});var defaults_$1=AS3.cast(ProcessContributionToolbar,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.FOOTER.getSkin());
var es_EmailButton_33_5_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.base.EmailButton,{});es_EmailButton_33_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.base.ProcessContributionToolbarBase.EMAIL_BUTTON_ID);AS3.setBindable(es_EmailButton_33_5_$1,"abstractContributionAdministration",AS3.getBindable(config,"abstractContributionAdministration"));var tbFill_35_5_$1=AS3.cast(Ext.toolbar.Fill,{});var button_36_5_$1=
AS3.cast(Ext.button.Button,{});button_36_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.base.ProcessContributionToolbarBase.APPROVE_BUTTON_ID);AS3.setBindable(button_36_5_$1,"minWidth",70);button_36_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_PRIMARY.getSkin());AS3.setBindable(button_36_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"btn_approve")));button_36_5_$1.baseAction=AS3.getBindable(config,"approveAction");var button_41_5_$1=AS3.cast(Ext.button.Button,{});button_41_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.base.ProcessContributionToolbarBase.REJECT_BUTTON_ID);AS3.setBindable(button_41_5_$1,"minWidth",70);button_41_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_SECONDARY.getSkin());AS3.setBindable(button_41_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"btn_reject")));button_41_5_$1.baseAction=AS3.getBindable(config,"rejectAction");config_$1.items=[es_EmailButton_33_5_$1,tbFill_35_5_$1,button_36_5_$1,button_41_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$e1a6(config_$1)}return{extend:"com.coremedia.elastic.social.studio.moderation.shared.details.base.ProcessContributionToolbarBase",alias:"widget.com.coremedia.elastic.social.studio.config.processContributionToolbar",constructor:ProcessContributionToolbar$,super$e1a6:function(){com.coremedia.elastic.social.studio.moderation.shared.details.base.ProcessContributionToolbarBase.prototype.constructor.apply(this,
arguments)},config:{abstractContributionAdministration:null,approveAction:null,rejectAction:null},requires:["Ext.button.Button","Ext.toolbar.Fill","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.elastic.social.studio.moderation.shared.details.base.ProcessContributionToolbarBase","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.ToolbarSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.moderation.shared.details.base.EmailButton"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.base.ContributionStatusContainer",function(ContributionStatusContainer){function BLOCK$static_(){ContributionStatusContainer.BLOCK=new com.coremedia.ui.models.bem.BEMBlock("cm-contribution-status-container")}function ContributionStatusContainer$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.base.ContributionStatusContainerBase,{});var defaults_$1=
AS3.cast(ContributionStatusContainer,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var layout_HBox_29_5_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_29_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_HBox_29_5_$1);var button_34_5_$1=AS3.cast(Ext.button.Button,{});button_34_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.base.ContributionStatusContainerBase.EDIT_LAST_OR_NEXT_ID);AS3.setBindable(button_34_5_$1,
"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","edit_last")));AS3.setBindable(button_34_5_$1,"tooltip",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","edit_last_tooltip_empty"));AS3.setBindable(button_34_5_$1,"handler",AS3.bind(this,"processLastOrNext"));button_34_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE.getSkin());AS3.setBindable(button_34_5_$1,
"disabled",true);var container_40_5_$1=AS3.cast(Ext.container.Container,{});container_40_5_$1.flex=1;var ui_ExtendedDisplayField_41_5_$1=AS3.cast(com.coremedia.ui.components.ExtendedDisplayField,{});ui_ExtendedDisplayField_41_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.base.ContributionStatusContainerBase.TOOLBAR_STATUS_FIELD_ID);var displayField_42_5_$1=AS3.cast(Ext.form.field.Display,{});displayField_42_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.base.ContributionStatusContainerBase.TOOLBAR_CREATION_DATE_ID);
config_$1.items=[button_34_5_$1,container_40_5_$1,ui_ExtendedDisplayField_41_5_$1,displayField_42_5_$1];var ui_HorizontalSpacingPlugin_45_5_$1=AS3.cast(com.coremedia.ui.plugins.HorizontalSpacingPlugin,{});AS3.setBindable(ui_HorizontalSpacingPlugin_45_5_$1,"modifier",com.coremedia.ui.bem.SpacingBEMEntities.HORIZONTAL_SPACING_MODIFIER_200);var ui_BEMPlugin_46_5_$1=AS3.cast(com.coremedia.ui.plugins.BEMPlugin,{});AS3.setBindable(ui_BEMPlugin_46_5_$1,"block",ContributionStatusContainer.BLOCK);config_$1.plugins=
[ui_HorizontalSpacingPlugin_45_5_$1,ui_BEMPlugin_46_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$xaKL(config_$1)}return{extend:"com.coremedia.elastic.social.studio.moderation.shared.details.base.ContributionStatusContainerBase",alias:"widget.com.coremedia.elastic.social.studio.config.contributionStatusContainer",constructor:ContributionStatusContainer$,super$xaKL:function(){com.coremedia.elastic.social.studio.moderation.shared.details.base.ContributionStatusContainerBase.prototype.constructor.apply(this,
arguments)},config:{moderation:null},statics:{BLOCK:undefined,__initStatics__:function(){BLOCK$static_()}},requires:["Ext.button.Button","Ext.container.Container","Ext.form.field.Display","Ext.layout.container.HBox","com.coremedia.elastic.social.studio.moderation.shared.details.base.ContributionStatusContainerBase","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.bem.SpacingBEMEntities","com.coremedia.ui.components.ExtendedDisplayField","com.coremedia.ui.models.bem.BEMBlock","com.coremedia.ui.plugins.BEMPlugin",
"com.coremedia.ui.plugins.HorizontalSpacingPlugin","com.coremedia.ui.skins.ButtonSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.base.BlacklistToolbarButton",function(BlacklistToolbarButton){function BlacklistToolbarButton$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.base.BlacklistToolbarButtonBase,{});var defaults_$1=AS3.cast(BlacklistToolbarButton,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.enableToggle=true;config_$1.toggleHandler=AS3.bind(this,
"onToggle");AS3.setBindable(config_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","blacklist")));net.jangaroo.ext.Exml.apply(config_$1,config);this.super$4wWQ(config_$1)}return{extend:"com.coremedia.elastic.social.studio.moderation.shared.details.base.BlacklistToolbarButtonBase",alias:"widget.com.coremedia.elastic.social.studio.config.blacklistToolbarButton",constructor:BlacklistToolbarButton$,super$4wWQ:function(){com.coremedia.elastic.social.studio.moderation.shared.details.base.BlacklistToolbarButtonBase.prototype.constructor.apply(this,
arguments)},config:{richTextAreaId:null},requires:["com.coremedia.elastic.social.studio.moderation.shared.details.base.BlacklistToolbarButtonBase","com.coremedia.icons.CoreIcons_properties","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.base.ContributionStatusContainerBase",function(ContributionStatusContainerBase){function ContributionStatusContainerBase$(config){if(arguments.length<=0)config=null;this.super$Yos6(config);this.moderation$Yos6=AS3.getBindable(config,"moderation");if(AS3.getBindable(config,"moderation")){this.moderationContributionAdministrationImpl$Yos6=AS3.as(AS3.getBindable(config,"moderation").getModerationContributionAdministration(),com.coremedia.elastic.social.studio.model.impl.ModerationContributionAdministration);
this.lastContributionValueExpression$Yos6=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.LAST_PROCESSED,this.moderationContributionAdministrationImpl$Yos6);this.lastContributionValueExpression$Yos6.addChangeListener(AS3.bind(this,"toggleLastContributionButton$Yos6"));this.lastContributionValueExpressionState$Yos6=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.utils.ValueExpressionUtil.createPath([com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.LAST_PROCESSED,
"state"]),this.moderationContributionAdministrationImpl$Yos6);this.lastContributionValueExpressionState$Yos6.addChangeListener(AS3.bind(this,"toggleLastContributionButton$Yos6"));this.modeValueExpression$Yos6=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.MODE,this.moderationContributionAdministrationImpl$Yos6);this.modeValueExpression$Yos6.addChangeListener(AS3.bind(this,"modeChanged$Yos6"))}}function onDestroy(){Ext.container.Container.prototype.onDestroy.call(this);
if(this.moderation$Yos6){this.lastContributionValueExpression$Yos6.removeChangeListener(AS3.bind(this,"toggleLastContributionButton$Yos6"));this.lastContributionValueExpressionState$Yos6.removeChangeListener(AS3.bind(this,"toggleLastContributionButton$Yos6"));this.modeValueExpression$Yos6.removeChangeListener(AS3.bind(this,"modeChanged$Yos6"))}}function setCreationDate(creationDate){if(creationDate)this.getCreationDateField$Yos6().setValue(Ext.Date.format(creationDate,mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor",
"dateFormat")));else this.getCreationDateField$Yos6().setValue("-")}function getEditLastOrNextButton(){if(!this.editLastOrNextButton$Yos6)this.editLastOrNextButton$Yos6=AS3.as(this.queryById(ContributionStatusContainerBase.EDIT_LAST_OR_NEXT_ID),Ext.button.Button);return this.editLastOrNextButton$Yos6}function setStatus(statusMessage,statusErrorMessage){var statusField=this.getStatusField$Yos6();if(statusErrorMessage){statusField.setValue(statusErrorMessage);AS3.setBindable(statusField,"validationState",
com.coremedia.ui.mixins.ValidationState.ERROR)}else{statusField.setValue(statusMessage);AS3.setBindable(statusField,"validationState",undefined)}}function processLastOrNext(){if(this.moderationContributionAdministrationImpl$Yos6.isLastMode())this.moderationContributionAdministrationImpl$Yos6.setListMode();else this.moderationContributionAdministrationImpl$Yos6.setLastMode()}function toggleLastContributionButton(){this.getEditLastOrNextButton$Yos6().setDisabled(!this.moderationContributionAdministrationImpl$Yos6.hasLastProcessed())}
function modeChanged(){if(this.moderationContributionAdministrationImpl$Yos6.isListMode())this.getEditLastOrNextButton$Yos6().setText(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","edit_last"));else this.getEditLastOrNextButton$Yos6().setText(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","edit_next"));this.updateEditLastMessage$Yos6()}function updateEditLastMessage(){if(this.moderationContributionAdministrationImpl$Yos6.isListMode());
else this.getStatusField$Yos6().setValue(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","edit_last_message"))}function getStatusField(){if(!this.statusField$Yos6)this.statusField$Yos6=AS3.as(this.queryById(ContributionStatusContainerBase.TOOLBAR_STATUS_FIELD_ID),com.coremedia.ui.components.ExtendedDisplayField);return this.statusField$Yos6}function getCreationDateField(){if(!this.creationDateField$Yos6)this.creationDateField$Yos6=AS3.as(this.queryById(ContributionStatusContainerBase.TOOLBAR_CREATION_DATE_ID),
Ext.form.field.Display);return this.creationDateField$Yos6}return{extend:"Ext.container.Container",statusField$Yos6:null,creationDateField$Yos6:null,editLastOrNextButton$Yos6:null,moderationContributionAdministrationImpl$Yos6:null,lastContributionValueExpression$Yos6:null,lastContributionValueExpressionState$Yos6:null,modeValueExpression$Yos6:null,moderation$Yos6:null,constructor:ContributionStatusContainerBase$,super$Yos6:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},
onDestroy:onDestroy,setCreationDate:setCreationDate,getEditLastOrNextButton$Yos6:getEditLastOrNextButton,setStatus:setStatus,processLastOrNext:processLastOrNext,toggleLastContributionButton$Yos6:toggleLastContributionButton,modeChanged$Yos6:modeChanged,updateEditLastMessage$Yos6:updateEditLastMessage,getStatusField$Yos6:getStatusField,getCreationDateField$Yos6:getCreationDateField,statics:{EDIT_LAST_OR_NEXT_ID:"editLastButton",TOOLBAR_STATUS_FIELD_ID:"cm-elastic-social-detail-status-field-user",TOOLBAR_CREATION_DATE_ID:"cm-elastic-social-detail-container-creation-date-user"},
requires:["Ext.Date","Ext.button.Button","Ext.container.Container","Ext.form.field.Display","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.ui.components.ExtendedDisplayField","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.mixins.ValidationState","mx.resources.ResourceManager"],uses:["com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames","com.coremedia.elastic.social.studio.model.impl.ModerationContributionAdministration",
"com.coremedia.elastic.social.studio.model.utils.ValueExpressionUtil"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.base.ContributionUserInformationPanelBase",function(ContributionUserInformationPanelBase){function ContributionUserInformationPanelBase$(config){if(arguments.length<=0)config=null;this.userAdministration$82Nk=AS3.getBindable(config,"userAdministration");this.authorProvider$82Nk=AS3.getBindable(config,"authorProvider");this.super$82Nk(config)}function toggleUserDetailsButton(author){if(author!==null)if(author===undefined||author.isAnonymous())this.getUserDetailsButton$82Nk().disable(true);
else this.getUserDetailsButton$82Nk().enable();else this.getUserDetailsButton$82Nk().disable(true)}function showNumberOfContributions(author){var detailsMessage="";if(author&&!author.isAnonymous()){var numberOfContributions=author.getNumberOfContributions();var rejectedContributions=author.getNumberOfRejectedContributions();if(numberOfContributions!==undefined&&rejectedContributions!==undefined)detailsMessage=Ext.String.format(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"detail_comments_for_user"),numberOfContributions,rejectedContributions)}this.getAuthorDetailDisplayField$82Nk().setValue(detailsMessage);if(detailsMessage==="")this.getAuthorDetailDisplayField$82Nk().hide();else this.getAuthorDetailDisplayField$82Nk().show()}function openUserDetails(){this.userAdministration$82Nk.startEditing(this.authorProvider$82Nk());com.coremedia.elastic.social.studio.ElasticSocialStudioPluginBase.getInstance().showUserManagement(false,true)}function setUserDetailsButtonText(text){this.getUserDetailsButton$82Nk().setText(Ext.util.Format.htmlEncode(text))}
function checkAuthor(author){if(!author)this.getUserDetailsButton$82Nk().setText(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_anonymous"))}function getUserDetailsButton(){if(!this.userDetailsButton$82Nk)this.userDetailsButton$82Nk=AS3.as(this.queryById(ContributionUserInformationPanelBase.USER_INFORMATION_BUTTON_ID),Ext.button.Button);return this.userDetailsButton$82Nk}function getAuthorDetailDisplayField(){if(!this.authorDetailDisplayField$82Nk)this.authorDetailDisplayField$82Nk=
AS3.as(this.queryById(ContributionUserInformationPanelBase.USER_INFORMATION_TEXT_ID),Ext.form.field.Display);return this.authorDetailDisplayField$82Nk}return{extend:"Ext.panel.Panel",userAdministration$82Nk:null,userDetailsButton$82Nk:null,authorDetailDisplayField$82Nk:null,authorProvider$82Nk:null,constructor:ContributionUserInformationPanelBase$,super$82Nk:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},toggleUserDetailsButton:toggleUserDetailsButton,showNumberOfContributions:showNumberOfContributions,
openUserDetails:openUserDetails,setUserDetailsButtonText:setUserDetailsButtonText,checkAuthor:checkAuthor,getUserDetailsButton$82Nk:getUserDetailsButton,getAuthorDetailDisplayField$82Nk:getAuthorDetailDisplayField,statics:{USER_INFORMATION_BUTTON_ID:"cm-elastic-social-detail-statusbar-user-button",USER_INFORMATION_TEXT_ID:"cm-elastic-social-detail-statusbar-author-information"},requires:["Ext.String","Ext.button.Button","Ext.form.field.Display","Ext.panel.Panel","Ext.util.Format","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties"],
uses:["com.coremedia.elastic.social.studio.ElasticSocialStudioPluginBase"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.base.ContentInformationContainer",function(ContentInformationContainer){function ContentInformationContainer$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.base.ContentInformationContainerBase,{});var defaults_$1=AS3.cast(ContentInformationContainer,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.GRID_200.getSkin());
var layout_VBox_29_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(config_$1,"layout",layout_VBox_29_5_$1);var button_32_5_$1=AS3.cast(Ext.button.Button,{});button_32_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.base.ContentInformationContainerBase.TARGET_BUTTON_ID);AS3.setBindable(button_32_5_$1,"margin","0 0 0 -6px");button_32_5_$1.ariaLabel=net.jangaroo.ext.Exml.asString(com.coremedia.ui.util.AriaUtils.DUMMY_TEXT);button_32_5_$1.ui=
net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE.getSkin());AS3.setBindable(button_32_5_$1,"handler",AS3.bind(this,"openTarget"));var ui_BindPropertyPlugin_38_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_38_9_$1.componentProperty="text";ui_BindPropertyPlugin_38_9_$1.transformer=com.coremedia.ui.util.EncodingUtil.encodeForHTML;ui_BindPropertyPlugin_38_9_$1.bindTo=this.getTargetTextValueExpression();var ui_BindPropertyPlugin_42_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,
{});ui_BindPropertyPlugin_42_9_$1.componentProperty="ariaLabel";ui_BindPropertyPlugin_42_9_$1.transformer=com.coremedia.ui.util.EncodingUtil.encodeForHTML;ui_BindPropertyPlugin_42_9_$1.bindTo=this.getTargetAriaLabelValueExpression();var ui_BindStyleClassPlugin_46_9_$1=AS3.cast(com.coremedia.ui.plugins.BindStyleClassPlugin,{});AS3.setBindable(ui_BindStyleClassPlugin_46_9_$1,"cls","content-btn-not-readable");ui_BindStyleClassPlugin_46_9_$1.bindTo=this.getTargetContentNotReadableVE();button_32_5_$1.plugins=
[ui_BindPropertyPlugin_38_9_$1,ui_BindPropertyPlugin_42_9_$1,ui_BindStyleClassPlugin_46_9_$1];var displayField_50_5_$1=AS3.cast(Ext.form.field.Display,{});var ui_BindPropertyPlugin_52_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_52_9_$1.componentProperty="value";ui_BindPropertyPlugin_52_9_$1.transformer=com.coremedia.ui.util.EncodingUtil.encodeForHTML;ui_BindPropertyPlugin_52_9_$1.ifUndefined="";var ui_ValueExpression_56_13_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,
{});AS3.setBindable(ui_ValueExpression_56_13_$1,"context",AS3.getBindable(config,"contributionAdministration"));AS3.setBindable(ui_ValueExpression_56_13_$1,"expression",net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.utils.ValueExpressionUtil.createPath([com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.DISPLAYED,com.coremedia.elastic.social.studio.model.ContributionPropertyNames.SUBJECT])));ui_BindPropertyPlugin_52_9_$1.bindTo=new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_56_13_$1);
displayField_50_5_$1.plugins=[ui_BindPropertyPlugin_52_9_$1];config_$1.items=[button_32_5_$1,displayField_50_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$gE5a(config_$1)}return{extend:"com.coremedia.elastic.social.studio.moderation.shared.details.base.ContentInformationContainerBase",alias:"widget.com.coremedia.elastic.social.studio.config.contentInformationContainer",constructor:ContentInformationContainer$,super$gE5a:function(){com.coremedia.elastic.social.studio.moderation.shared.details.base.ContentInformationContainerBase.prototype.constructor.apply(this,
arguments)},config:{contributionAdministration:null},requires:["Ext.button.Button","Ext.form.field.Display","Ext.layout.container.VBox","com.coremedia.elastic.social.studio.moderation.shared.details.base.ContentInformationContainerBase","com.coremedia.ui.exml.ValueExpression","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.BindStyleClassPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.ContainerSkin","com.coremedia.ui.util.AriaUtils","com.coremedia.ui.util.EncodingUtil",
"net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames","com.coremedia.elastic.social.studio.model.ContributionPropertyNames","com.coremedia.elastic.social.studio.model.utils.ValueExpressionUtil"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.base.BlackListWindowBase",function(BlackListWindowBase){function BlackListWindowBase$(config){if(arguments.length<=0)config=null;this.richtextAreaId$vmoK=AS3.getBindable(config,"richtextAreaId");this.blacklistValueExpression$vmoK=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.BlacklistAdministrationPropertyNames.BLACKLIST,AS3.getBindable(config,"blacklistAdministration"));this.super$vmoK(config)}
function onShow(animateTarget,callback,scope){switch(Math.max(arguments.length,1)){case 1:callback=null;case 2:scope=null}com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.onShow.call(this,animateTarget,callback,scope);var selectedText=this.getSelectedCommentText$vmoK();this.getEditorTextField$vmoK().setDisabled(false);this.getEditorTextField$vmoK().setValue(selectedText);this.toggleUpdateButton$vmoK(selectedText);this.blacklistValueExpression$vmoK.addChangeListener(AS3.bind(this,"blacklistChanged$vmoK"))}
function onHide(animateTarget,callback,scope){switch(Math.max(arguments.length,1)){case 1:callback=null;case 2:scope=null}com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.onHide.call(this,animateTarget,callback,scope);this.blacklistValueExpression$vmoK.removeChangeListener(AS3.bind(this,"blacklistChanged$vmoK"))}function onDestroy(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.onDestroy.call(this);this.getEditorTextField$vmoK().setDisabled(true);this.blacklistValueExpression$vmoK.removeChangeListener(AS3.bind(this,
"blacklistChanged$vmoK"));this.blacklistValueExpression$vmoK=null}function blacklistChanged(){this.toggleUpdateButton$vmoK(this.getEditorTextField$vmoK().getValue())}function getEditorTextField(){var this$=this;if(!this.editorTextField$vmoK){this.editorTextField$vmoK=AS3.as(this.queryById(BlackListWindowBase.EDITOR_TEXT_FIELD_ID),Ext.form.field.Text);this.editorTextField$vmoK.addListener("keyup",AS3.bind(this,"blacklistEditorTextFieldChanged$vmoK"));this.editorTextField$vmoK.addListener("enable",
function(cmp){this$.editorTextField$vmoK.focus(false)})}return this.editorTextField$vmoK}function blacklistEditorTextFieldChanged(){this.toggleUpdateButton$vmoK(this.getEditorTextField$vmoK().getValue())}function updateBlacklistEntry(){var toBeUpdated=this.getEditorTextField$vmoK().getValue().toLowerCase();if(toBeUpdated)if(AS3.getBindable(this,"blacklistAdministration").isInBlacklist(toBeUpdated.toString().trim())){this.removeBlacklistEntry(toBeUpdated.toString().trim());this.getEditorUpdateButton$vmoK().ariaLabel=
this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","blacklist_add_button_tooltip")}else{this.addBlacklistEntry(toBeUpdated.toString().trim());this.getEditorUpdateButton$vmoK().ariaLabel=this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","blacklist_remove_button_tooltip")}this.hide()}function addBlacklistEntry(entry){if(entry&&entry.length<3){Ext.MessageBox.alert("Error",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"blacklist_small_word_error"));return}AS3.getBindable(this,"blacklistAdministration").addBlacklistedWord(entry)}function removeBlacklistEntry(entry){AS3.getBindable(this,"blacklistAdministration").removeBlacklistedWord(entry)}function toggleUpdateButton(toBeUpdated){var updateButton=this.getEditorUpdateButton$vmoK();if(toBeUpdated&&AS3.getBindable(this,"blacklistAdministration").isInBlacklist(toBeUpdated.toString().trim())){updateButton.setIconCls(this.resourceManager.getString("com.coremedia.icons.CoreIcons",
"minus"));updateButton.setTooltip(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","blacklist_remove_button_tooltip"))}else{updateButton.setIconCls(this.resourceManager.getString("com.coremedia.icons.CoreIcons","plus"));updateButton.setTooltip(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","blacklist_add_button_tooltip"))}}function getEditorUpdateButton(){if(!this.updateButton$vmoK)this.updateButton$vmoK=
AS3.as(this.queryById(BlackListWindowBase.UPDATE_BUTTON_ID),Ext.button.Button);return this.updateButton$vmoK}function getCommentRichTextArea(){if(!this.commentRichTextArea$vmoK)this.commentRichTextArea$vmoK=AS3.as(Ext.getCmp(this.richtextAreaId$vmoK),com.coremedia.ui.ckeditor.RichTextArea);return this.commentRichTextArea$vmoK}function getSelectedCommentText(){var selection=this.getCommentRichTextArea$vmoK().getCKEditor().getSelection();var text=null;if(selection===null)return null;if(CKEDITOR["env"].ie){selection["unlock"](true);
text=""+selection["getNative"]().createRange().text}else text=""+selection.getSelectedText();if(text.length>0)return text;return null}return{extend:"com.coremedia.cms.editor.sdk.components.StudioDialog",blacklistValueExpression$vmoK:null,editorTextField$vmoK:null,updateButton$vmoK:null,commentRichTextArea$vmoK:null,richtextAreaId$vmoK:null,constructor:BlackListWindowBase$,super$vmoK:function(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.constructor.apply(this,arguments)},onShow:onShow,
onHide:onHide,onDestroy:onDestroy,blacklistChanged$vmoK:blacklistChanged,getEditorTextField$vmoK:getEditorTextField,blacklistEditorTextFieldChanged$vmoK:blacklistEditorTextFieldChanged,updateBlacklistEntry:updateBlacklistEntry,addBlacklistEntry:addBlacklistEntry,removeBlacklistEntry:removeBlacklistEntry,toggleUpdateButton$vmoK:toggleUpdateButton,getEditorUpdateButton$vmoK:getEditorUpdateButton,getCommentRichTextArea$vmoK:getCommentRichTextArea,getSelectedCommentText$vmoK:getSelectedCommentText,config:{blacklistAdministration:null},
statics:{EDITOR_TEXT_FIELD_ID:"cm-moderation-blacklist-editor-text-field",UPDATE_BUTTON_ID:"cm-moderation-blacklist-editor-update-button"},requires:["Ext","Ext.button.Button","Ext.form.field.Text","Ext.window.MessageBox","com.coremedia.cms.editor.sdk.components.StudioDialog","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.ckeditor.RichTextArea","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.elastic.social.studio.model.BlacklistAdministrationPropertyNames"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.base.BlacklistWindow",function(BlacklistWindow){function BlacklistWindow$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.base.BlackListWindowBase,{});var defaults_$1=AS3.cast(BlacklistWindow,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.stateId="blacklistWindowState";AS3.setBindable(config_$1,"stateful",true);AS3.setBindable(config_$1,
"width",255);config_$1.header=false;AS3.setBindable(config_$1,"closable",false);config_$1.resizable=false;config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.WindowSkin.GRID_200_LIGHT.getSkin());var layout_HBox_33_5_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(config_$1,"layout",layout_HBox_33_5_$1);var displayField_36_5_$1=AS3.cast(Ext.form.field.Display,{});AS3.setBindable(displayField_36_5_$1,"value",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"blacklist_block_label"));var textField_38_5_$1=AS3.cast(Ext.form.field.Text,{});textField_38_5_$1.flex=1;textField_38_5_$1.enableKeyEvents=true;textField_38_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.base.BlackListWindowBase.EDITOR_TEXT_FIELD_ID);var ui_IconButton_41_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});AS3.setBindable(ui_IconButton_41_5_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons",
"plus")));AS3.setBindable(ui_IconButton_41_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","blacklist_add_button_tooltip")));ui_IconButton_41_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.base.BlackListWindowBase.UPDATE_BUTTON_ID);AS3.setBindable(ui_IconButton_41_5_$1,"handler",AS3.bind(this,"updateBlacklistEntry"));config_$1.items=[displayField_36_5_$1,
textField_38_5_$1,ui_IconButton_41_5_$1];var ui_HorizontalSpacingPlugin_47_5_$1=AS3.cast(com.coremedia.ui.plugins.HorizontalSpacingPlugin,{});config_$1.plugins=[ui_HorizontalSpacingPlugin_47_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$RVy3(config_$1)}return{extend:"com.coremedia.elastic.social.studio.moderation.shared.details.base.BlackListWindowBase",alias:"widget.com.coremedia.elastic.social.studio.config.blacklistWindow",constructor:BlacklistWindow$,super$RVy3:function(){com.coremedia.elastic.social.studio.moderation.shared.details.base.BlackListWindowBase.prototype.constructor.apply(this,
arguments)},config:{richtextAreaId:null},requires:["Ext.form.field.Display","Ext.form.field.Text","Ext.layout.container.HBox","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.elastic.social.studio.moderation.shared.details.base.BlackListWindowBase","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.components.IconButton","com.coremedia.ui.plugins.HorizontalSpacingPlugin","com.coremedia.ui.skins.WindowSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.base.EmailButton",function(EmailButton){function EmailButton$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.base.EmailButtonBase,{});var defaults_$1=AS3.cast(EmailButton,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"layout","card");AS3.setBindable(config_$1,"activeItem",1);var button_30_5_$1=AS3.cast(Ext.button.Button,
{});button_30_5_$1.itemId=net.jangaroo.ext.Exml.asString(EmailButton.OPEN_EMAIL_BUTTON_ITEM_ID);button_30_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE.getSkin());AS3.setBindable(button_30_5_$1,"handler",AS3.bind(this,"openEmailEditor"));AS3.setBindable(button_30_5_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","pencil")));AS3.setBindable(button_30_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"mail")));var label_36_5_$1=AS3.cast(Ext.form.Label,{});AS3.setBindable(label_36_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","commentdetail_reject_comment_email_anonymous")));var label_37_5_$1=AS3.cast(Ext.form.Label,{});AS3.setBindable(label_37_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","commentdetail_reject_comment_email_blocked")));
var label_38_5_$1=AS3.cast(Ext.form.Label,{});AS3.setBindable(label_38_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","commentdetail_reject_comment_email_ignored")));config_$1.items=[button_30_5_$1,label_36_5_$1,label_37_5_$1,label_38_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Nuo4(config_$1)}return{extend:"com.coremedia.elastic.social.studio.moderation.shared.details.base.EmailButtonBase",
alias:"widget.com.coremedia.elastic.social.studio.config.emailButton",constructor:EmailButton$,super$Nuo4:function(){com.coremedia.elastic.social.studio.moderation.shared.details.base.EmailButtonBase.prototype.constructor.apply(this,arguments)},config:{abstractContributionAdministration:null},statics:{OPEN_EMAIL_BUTTON_ITEM_ID:"cm-elastic-social-contribution-email-button"},requires:["Ext.button.Button","Ext.form.Label","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.elastic.social.studio.moderation.shared.details.base.EmailButtonBase",
"com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.skins.ButtonSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.base.UserContributionAnnotationContainerBase",function(UserContributionAnnotationContainerBase){function UserContributionAnnotationContainerBase$(config){if(arguments.length<=0)config=null;this.notesVE$lO_U=com.coremedia.ui.data.ValueExpressionFactory.create("notes",AS3.getBindable(config,"moderationContributionAdministration"));this.notesVE$lO_U.addChangeListener(AS3.bind(this,"disableTextArea$lO_U"));this.super$lO_U(config)}
function afterRender(){Ext.panel.Panel.prototype.afterRender.call(this);if(this.getAnnotationContentTextArea$lO_U())this.getAnnotationContentTextArea$lO_U().addListener("afterrender",updateTextAreaSizeOnInit$static);this.addListener("activate",updateTextAreaSizeOnInit$static)}function onRemoved(destroying){this.notesVE$lO_U.removeChangeListener(AS3.bind(this,"disableTextArea$lO_U"));if(this.getAnnotationContentTextArea$lO_U())this.getAnnotationContentTextArea$lO_U().removeListener("afterrender",updateTextAreaSizeOnInit$static);
this.removeListener("activate",updateTextAreaSizeOnInit$static);Ext.panel.Panel.prototype.onRemoved.call(this,destroying)}function updateTextAreaSizeOnInit$static(textArea){textArea.setHeight(textArea.growMin)}function disableTextArea(source){if(source.getValue())this.getAnnotationContentTextArea$lO_U().setDisabled(false);else this.getAnnotationContentTextArea$lO_U().setDisabled(true)}function getAnnotationContentTextArea(){if(!this.annotationContentTextArea$lO_U)this.annotationContentTextArea$lO_U=
AS3.as(this.queryById(UserContributionAnnotationContainerBase.ANNOTATION_TEXTAREA_ITEM_ID),Ext.form.field.TextArea);return this.annotationContentTextArea$lO_U}return{extend:"Ext.panel.Panel",annotationContentTextArea$lO_U:null,notesVE$lO_U:null,constructor:UserContributionAnnotationContainerBase$,super$lO_U:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},afterRender:afterRender,onRemoved:onRemoved,disableTextArea$lO_U:disableTextArea,getAnnotationContentTextArea$lO_U:getAnnotationContentTextArea,
statics:{ANNOTATION_TEXTAREA_ITEM_ID:"textarea"},requires:["Ext.form.field.TextArea","Ext.panel.Panel","com.coremedia.ui.data.ValueExpressionFactory"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.base.ContributionUserInformationPanel",function(ContributionUserInformationPanel){function ContributionUserInformationPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.base.ContributionUserInformationPanelBase,{});var defaults_$1=AS3.cast(ContributionUserInformationPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.ui=
net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.PanelSkin.FRAME_200_NO_TOP_BORDER.getSkin());var button_33_5_$1=AS3.cast(Ext.button.Button,{});button_33_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.base.ContributionUserInformationPanelBase.USER_INFORMATION_BUTTON_ID);button_33_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.LINK.getSkin());button_33_5_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"btn_user_management_tooltip_text"));AS3.setBindable(button_33_5_$1,"tooltip",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","btn_user_management_tooltip_text"));AS3.setBindable(button_33_5_$1,"handler",AS3.bind(this,"openUserDetails"));AS3.setBindable(button_33_5_$1,"margin","0 0 0 -2");var displayField_40_5_$1=AS3.cast(Ext.form.field.Display,{});AS3.setBindable(displayField_40_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"detail_comments_for_user_title")));displayField_40_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.base.ContributionUserInformationPanelBase.USER_INFORMATION_TEXT_ID);AS3.setBindable(displayField_40_5_$1,"hidden",true);displayField_40_5_$1.hideMode="visibility";config_$1.items=[button_33_5_$1,displayField_40_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Nx5z(config_$1)}return{extend:"com.coremedia.elastic.social.studio.moderation.shared.details.base.ContributionUserInformationPanelBase",
alias:"widget.com.coremedia.elastic.social.studio.config.contributionUserInformationPanel",constructor:ContributionUserInformationPanel$,super$Nx5z:function(){com.coremedia.elastic.social.studio.moderation.shared.details.base.ContributionUserInformationPanelBase.prototype.constructor.apply(this,arguments)},config:{userAdministration:null,authorProvider:null},requires:["Ext.button.Button","Ext.form.field.Display","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.elastic.social.studio.moderation.shared.details.base.ContributionUserInformationPanelBase",
"com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.PanelSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.base.BlacklistToolbarButtonBase",function(BlacklistToolbarButtonBase){function BlacklistToolbarButtonBase$(config){if(arguments.length<=0)config=null;config.toggleHandler=AS3.bind(this,"onToggle");config.enableToggle=true;this.super$ZOOB(config)}function onToggle(button,pressed){if(!pressed&&this.blacklistWindowCmp$ZOOB)this.blacklistWindowCmp$ZOOB.hide();else this.openWindow$ZOOB()}function getWindow(){if(!this.blacklistWindowCmp$ZOOB){var windowParent=
AS3.as(Ext.getCmp(com.coremedia.elastic.social.studio.moderation.ElasticSocialMainTabBase.ID),Ext.container.Container);var blacklistWindowCfg=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.base.BlacklistWindow,{});blacklistWindowCfg.renderTo=windowParent.el.id;AS3.setBindable(blacklistWindowCfg,"blacklistAdministration",AS3.getBindable(this,"blacklistAdministration"));AS3.setBindable(blacklistWindowCfg,"richtextAreaId",this.richTextAreaId);this.blacklistWindowCmp$ZOOB=new com.coremedia.elastic.social.studio.moderation.shared.details.base.BlacklistWindow(blacklistWindowCfg);
this.blacklistWindowCmp$ZOOB.addListener("beforedestroy",AS3.bind(this,"windowDestroyed$ZOOB"));this.blacklistWindowCmp$ZOOB.addListener("hide",AS3.bind(this,"windowHide$ZOOB"));windowParent.addListener("resize",AS3.bind(this,"resizeHandler$ZOOB"))}return this.blacklistWindowCmp$ZOOB}function getBlackListWindow(){return this.blacklistWindowCmp$ZOOB}function openWindow(){this.getWindow$ZOOB();this.resetLinkWindowPosition$ZOOB();this.getWindow$ZOOB().show();this.toggle(true)}function resetLinkWindowPosition(){var windowParent=
AS3.as(Ext.getCmp(com.coremedia.elastic.social.studio.moderation.ElasticSocialMainTabBase.ID),Ext.container.Container);var parentWidth=windowParent.getWidth();var parentX=windowParent.getPosition()[0];var xRightBorderOfWindowParent=parentX+(parentWidth-20);var x;if(this.getPosition()[0]+this.blacklistWindowCmp$ZOOB.getWidth()<=xRightBorderOfWindowParent)x=this.getPosition()[0];else{x=xRightBorderOfWindowParent-this.blacklistWindowCmp$ZOOB.getWidth();if(x<parentX+15)x=parentX+15}this.blacklistWindowCmp$ZOOB.setPagePosition(x,
this.getPosition()[1]+this.getHeight())}function windowDestroyed(){var windowParent=AS3.as(Ext.getCmp(com.coremedia.elastic.social.studio.moderation.ElasticSocialMainTabBase.ID),Ext.container.Container);windowParent.removeListener("resize",AS3.bind(this,"resizeHandler$ZOOB"));this.blacklistWindowCmp$ZOOB=null}function resizeHandler(){if(this.blacklistWindowCmp$ZOOB.isVisible(true))this.resetLinkWindowPosition$ZOOB()}function windowHide(){this.toggle(false)}return{extend:"com.coremedia.ui.components.IconButton",
blacklistWindowCmp$ZOOB:null,constructor:BlacklistToolbarButtonBase$,super$ZOOB:function(){com.coremedia.ui.components.IconButton.prototype.constructor.apply(this,arguments)},onToggle:onToggle,getWindow$ZOOB:getWindow,getBlackListWindow:getBlackListWindow,openWindow$ZOOB:openWindow,resetLinkWindowPosition$ZOOB:resetLinkWindowPosition,windowDestroyed$ZOOB:windowDestroyed,resizeHandler$ZOOB:resizeHandler,windowHide$ZOOB:windowHide,config:{blacklistAdministration:null},requires:["Ext","Ext.container.Container",
"com.coremedia.ui.components.IconButton"],uses:["com.coremedia.elastic.social.studio.moderation.ElasticSocialMainTabBase","com.coremedia.elastic.social.studio.moderation.shared.details.base.BlacklistWindow"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.base.ContentInformationContainerBase",function(ContentInformationContainerBase){function ContentInformationContainerBase$(config){if(arguments.length<=0)config=null;this.moderationContributionAdministrationImpl$yGfL=AS3.as(AS3.getBindable(config,"contributionAdministration"),com.coremedia.elastic.social.studio.model.impl.AbstractContributionAdministration);this.displayedContributionValueExpression$yGfL=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.DISPLAYED,
this.moderationContributionAdministrationImpl$yGfL);this.displayedContributionValueExpression$yGfL.addChangeListener(AS3.bind(this,"toggleTargetLink$yGfL"));this.getIconClassValueExpression$yGfL().addChangeListener(AS3.bind(this,"setContentTypeIconClass$yGfL"));this.super$yGfL(config)}function afterRender(){Ext.container.Container.prototype.afterRender.call(this);this.displayedContributionValueExpression$yGfL.addChangeListener(AS3.bind(this,"toggleTargetLink$yGfL"));this.displayedContributionValueExpression$yGfL.addChangeListener(AS3.bind(this,
"setContentTypeIconClass$yGfL"));this.setContentTypeIconClass$yGfL();this.toggleTargetLink$yGfL()}function onDestroy(){this.displayedContributionValueExpression$yGfL.removeChangeListener(AS3.bind(this,"toggleTargetLink$yGfL"));this.getIconClassValueExpression$yGfL().removeChangeListener(AS3.bind(this,"setContentTypeIconClass$yGfL"));Ext.container.Container.prototype.onDestroy.call(this)}function openTarget(){var displayed=this.moderationContributionAdministrationImpl$yGfL.getDisplayed();if(AS3.is(displayed.getTarget(),
com.coremedia.cap.content.Content)){var content=displayed.getTarget();if(content&&content.getState().readable)com.coremedia.cms.editor.sdk.editorContext.getContentTabManager().openDocument(content)}}function getTargetTextValueExpression(){if(!this.targetTextValueExpression$yGfL)this.targetTextValueExpression$yGfL=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"getTargetText$yGfL"));return this.targetTextValueExpression$yGfL}function getTargetAriaLabelValueExpression(){var this$=
this;if(!this.targetAriaLabelValueExpression$yGfL)this.targetAriaLabelValueExpression$yGfL=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var text=this$.getTargetTextValueExpression().getValue();if(text)return Ext.String.format(this$.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","contributiondetail_target_ariaLabel"),text);return com.coremedia.ui.util.AriaUtils.DUMMY_TEXT});return this.targetAriaLabelValueExpression$yGfL}function getTargetText(){var comment=
this.displayedContributionValueExpression$yGfL.getValue();if(comment){var target=comment.getTarget();if(target){var content=AS3.as(target,com.coremedia.cap.content.Content);if(content)return getContentName$static(content);else return comment.getSubject()}}return undefined}function getTargetContentNotReadableVE(){if(!this.targetContentNotReadableVE$yGfL)this.targetContentNotReadableVE$yGfL=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"isTargetContentNotReadable$yGfL"));
return this.targetContentNotReadableVE$yGfL}function isTargetContentNotReadable(){var comment=this.displayedContributionValueExpression$yGfL.getValue();if(comment){var content=AS3.as(comment.getTarget(),com.coremedia.cap.content.Content);if(content){content.load();var contentReadable=content.getState().readable;return!contentReadable}}return true}function getIconClassValueExpression(){var this$=this;if(!this.targetIconClsValueExpression$yGfL)this.targetIconClsValueExpression$yGfL=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var targetIconCls=
"";var displayed=this$.moderationContributionAdministrationImpl$yGfL.getDisplayed();if(displayed&&AS3.bind(displayed,"getTarget")){var target=displayed.getTarget();if(AS3.is(target,com.coremedia.cap.content.Content))targetIconCls=getIconClass$static(AS3.as(target,com.coremedia.cap.content.Content))}return targetIconCls});return this.targetIconClsValueExpression$yGfL}function toggleTargetLink(){var contribution=this.moderationContributionAdministrationImpl$yGfL.getDisplayed();if(this.getTargetButton$yGfL())if(contribution&&
contribution.getTarget())this.getTargetButton$yGfL().show();else this.getTargetButton$yGfL().hide()}function setContentTypeIconClass(){var btn=this.getTargetButton$yGfL();if(btn&&btn.rendered)AS3.setBindable(btn,"iconCls",this.getIconClassValueExpression$yGfL().getValue())}function getTargetButton(){if(!this.targetButton$yGfL&&this.rendered){this.targetButton$yGfL=AS3.as(this.queryById(ContentInformationContainerBase.TARGET_BUTTON_ID),Ext.button.Button);this.targetButton$yGfL.setTooltip(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"moderation_content_information_textlink_text"))}return this.targetButton$yGfL}function getIconClass$static(content){content.load();var contentReadable=content.getState().readable;return contentReadable?com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.getIconStyleClassForContentType(content.getType()):mx.resources.ResourceManager.getInstance().getString("com.coremedia.icons.CoreIcons","no_rights")}function getContentName$static(content){content.load();var contentReadable=content.getState().readable;
return contentReadable?content.getName():com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.formatNotReadableName(content)}return{extend:"Ext.container.Container",moderationContributionAdministrationImpl$yGfL:null,targetButton$yGfL:null,displayedContributionValueExpression$yGfL:null,targetTextValueExpression$yGfL:null,targetAriaLabelValueExpression$yGfL:null,targetContentNotReadableVE$yGfL:null,targetIconClsValueExpression$yGfL:null,constructor:ContentInformationContainerBase$,super$yGfL:function(){Ext.container.Container.prototype.constructor.apply(this,
arguments)},afterRender:afterRender,onDestroy:onDestroy,openTarget:openTarget,getTargetTextValueExpression:getTargetTextValueExpression,getTargetAriaLabelValueExpression:getTargetAriaLabelValueExpression,getTargetText$yGfL:getTargetText,getTargetContentNotReadableVE:getTargetContentNotReadableVE,isTargetContentNotReadable$yGfL:isTargetContentNotReadable,getIconClassValueExpression$yGfL:getIconClassValueExpression,toggleTargetLink$yGfL:toggleTargetLink,setContentTypeIconClass$yGfL:setContentTypeIconClass,
getTargetButton$yGfL:getTargetButton,statics:{TARGET_BUTTON_ID:"cm-elastic-social-target-button"},requires:["Ext.String","Ext.button.Button","Ext.container.Container","com.coremedia.cap.content.Content","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.util.AriaUtils","mx.resources.ResourceManager"],uses:["com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames",
"com.coremedia.elastic.social.studio.model.impl.AbstractContributionAdministration"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.base.UserContributionAnnotationContainer",function(UserContributionAnnotationContainer){function UserContributionAnnotationContainer$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.base.UserContributionAnnotationContainerBase,{});var defaults_$1=AS3.cast(UserContributionAnnotationContainer,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);
config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.PanelSkin.FRAME_200_NO_TOP_BORDER.getSkin());var container_29_5_$1=AS3.cast(Ext.container.Container,{});var displayField_31_9_$1=AS3.cast(Ext.form.field.Display,{});AS3.setBindable(displayField_31_9_$1,"value",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","contributiondetail_annotation_title"));displayField_31_9_$1.flex=1;displayField_31_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.DisplayFieldSkin.BOLD.getSkin());
var ui_IconDisplayField_34_9_$1=AS3.cast(com.coremedia.ui.components.IconDisplayField,{});AS3.setBindable(ui_IconDisplayField_34_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","help")));AS3.setBindable(ui_IconDisplayField_34_9_$1,"tooltip",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","contributiondetail_annotation_tooltip"));container_29_5_$1.items=[displayField_31_9_$1,ui_IconDisplayField_34_9_$1];
var layout_HBox_38_9_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_38_9_$1,"align","stretch");AS3.setBindable(container_29_5_$1,"layout",layout_HBox_38_9_$1);var textArea_41_5_$1=AS3.cast(Ext.form.field.TextArea,{});textArea_41_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.base.UserContributionAnnotationContainerBase.ANNOTATION_TEXTAREA_ITEM_ID);AS3.setBindable(textArea_41_5_$1,"emptyText",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"contributiondetail_annotation_empty_text")));textArea_41_5_$1.checkChangeBuffer=300;textArea_41_5_$1.flex=1;var ui_BindPropertyPlugin_46_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_46_9_$1.bidirectional=true;ui_BindPropertyPlugin_46_9_$1.ifUndefined="";var ui_ValueExpression_49_13_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_49_13_$1,"context",AS3.getBindable(config,"moderationContributionAdministration"));AS3.setBindable(ui_ValueExpression_49_13_$1,
"expression","notes.text");ui_BindPropertyPlugin_46_9_$1.bindTo=new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_49_13_$1);textArea_41_5_$1.plugins=[ui_BindPropertyPlugin_46_9_$1];config_$1.items=[container_29_5_$1,textArea_41_5_$1];var layout_VBox_57_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_57_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_57_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$5NCj(config_$1)}return{extend:"com.coremedia.elastic.social.studio.moderation.shared.details.base.UserContributionAnnotationContainerBase",
alias:"widget.com.coremedia.elastic.social.studio.config.userContributionAnnotationContainer",constructor:UserContributionAnnotationContainer$,super$5NCj:function(){com.coremedia.elastic.social.studio.moderation.shared.details.base.UserContributionAnnotationContainerBase.prototype.constructor.apply(this,arguments)},config:{moderationContributionAdministration:null},requires:["Ext.container.Container","Ext.form.field.Display","Ext.form.field.TextArea","Ext.layout.container.HBox","Ext.layout.container.VBox",
"com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.elastic.social.studio.moderation.shared.details.base.UserContributionAnnotationContainerBase","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.components.IconDisplayField","com.coremedia.ui.exml.ValueExpression","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.skins.DisplayFieldSkin","com.coremedia.ui.skins.PanelSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.base.EmailButtonBase",function(EmailButtonBase){function EmailButtonBase$(config){if(arguments.length<=0)config=null;this.abstractContributionAdministration$7ILr=AS3.getBindable(config,"abstractContributionAdministration");this.displayedValueExpression$7ILr=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.DISPLAYED,this.abstractContributionAdministration$7ILr);
this.super$7ILr(config)}function afterRender(){Ext.container.Container.prototype.afterRender.call(this);this.toggleLink$7ILr();this.displayedValueExpression$7ILr.addChangeListener(AS3.bind(this,"toggleLink$7ILr"))}function onDestroy(){Ext.container.Container.prototype.onDestroy.call(this);this.displayedValueExpression$7ILr.removeChangeListener(AS3.bind(this,"toggleLink$7ILr"))}function toggleLink(){if(this.abstractContributionAdministration$7ILr){var comment=AS3.as(this.abstractContributionAdministration$7ILr.getDisplayed(),
com.coremedia.elastic.social.studio.model.Comment);var user=AS3.as(this.abstractContributionAdministration$7ILr.getDisplayed(),com.coremedia.elastic.social.studio.model.User);if(comment)this.toggleEMailWindowLink(comment.getAuthor());else if(user)this.toggleEMailWindowLink(user);else this.toggleEMailWindowLink(null)}}function openEmailEditor(){var emailWindow=this.getEmailWindow$7ILr();if(emailWindow){emailWindow.setVisible(true);if(AS3.getBindable(emailWindow,"collapsed","DUMMY"))emailWindow.expand(true)}else{var emailWindowConfig=
AS3.cast(com.coremedia.elastic.social.studio.email.EMailWindow,{});AS3.setBindable(emailWindowConfig,"emailProvider",this.abstractContributionAdministration$7ILr);emailWindow=AS3.cast(com.coremedia.elastic.social.studio.email.EMailWindow,Ext.ComponentManager.create(emailWindowConfig));emailWindow.expand(true);emailWindow.show()}}function toggleEMailWindowLink(author){var layout=AS3.as(this.getLayout(),Ext.layout.container.Card);if(layout)if(author&&author.getId())if(author.isAnonymous())AS3.as(this.getLayout(),
Ext.layout.container.Card).setActiveItem(1);else if(author.isBlocked())AS3.as(this.getLayout(),Ext.layout.container.Card).setActiveItem(2);else if(author.isIgnored())AS3.as(this.getLayout(),Ext.layout.container.Card).setActiveItem(3);else AS3.as(this.getLayout(),Ext.layout.container.Card).setActiveItem(0);else AS3.as(this.getLayout(),Ext.layout.container.Card).setActiveItem(1)}function getEmailWindow(){if(!this.emailWindow$7ILr)this.emailWindow$7ILr=AS3.as(Ext.ComponentManager.get("cm-elastic-social-email-window"),
com.coremedia.elastic.social.studio.email.EMailWindow);return this.emailWindow$7ILr}return{extend:"Ext.container.Container",abstractContributionAdministration$7ILr:null,emailWindow$7ILr:null,displayedValueExpression$7ILr:null,constructor:EmailButtonBase$,super$7ILr:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},afterRender:afterRender,onDestroy:onDestroy,toggleLink$7ILr:toggleLink,openEmailEditor:openEmailEditor,toggleEMailWindowLink:toggleEMailWindowLink,getEmailWindow$7ILr:getEmailWindow,
requires:["Ext.ComponentManager","Ext.container.Container","Ext.layout.container.Card","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.elastic.social.studio.email.EMailWindow","com.coremedia.elastic.social.studio.model.Comment","com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames","com.coremedia.elastic.social.studio.model.User"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.comments.CuratedContentPanel",function(CuratedContentPanel){function CuratedContentPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.comments.CuratedContentPanelBase,{});var defaults_$1=AS3.cast(CuratedContentPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"scrollable",true);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.PanelSkin.FRAME_200_NO_TOP_BORDER.getSkin());
AS3.setBindable(config_$1,"title",mx.resources.ResourceManager.getInstance().getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","contributiondetail_tab_curated_content"));var local_CuratedContentButton_27_5_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.comments.CuratedContentButton,{});local_CuratedContentButton_27_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE.getSkin());config_$1["defaultType"]=local_CuratedContentButton_27_5_$1["xtype"];
delete local_CuratedContentButton_27_5_$1["xtype"];delete local_CuratedContentButton_27_5_$1["xclass"];config_$1.defaults=local_CuratedContentButton_27_5_$1;var layout_VBox_30_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(config_$1,"layout",layout_VBox_30_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$lCys(config_$1)}return{extend:"com.coremedia.elastic.social.studio.moderation.shared.details.comments.CuratedContentPanelBase",alias:"widget.com.coremedia.elastic.social.studio.config.curatedContentPanel",
constructor:CuratedContentPanel$,super$lCys:function(){com.coremedia.elastic.social.studio.moderation.shared.details.comments.CuratedContentPanelBase.prototype.constructor.apply(this,arguments)},config:{abstractContribution:null},requires:["Ext.layout.container.VBox","com.coremedia.elastic.social.studio.moderation.shared.details.comments.CuratedContentPanelBase","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.PanelSkin","mx.resources.ResourceManager","net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.moderation.shared.details.comments.CuratedContentButton"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentExtensionTabPanel",function(CommentExtensionTabPanel){function CommentExtensionTabPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.tab.Panel,{});var defaults_$1=AS3.cast(CommentExtensionTabPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.TabBarSkin.WORKAREA_PANEL.getSkin());net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$NGKM(config_$1)}return{extend:"Ext.tab.Panel",alias:"widget.com.coremedia.elastic.social.studio.config.commentExtensionTabPanel",constructor:CommentExtensionTabPanel$,super$NGKM:function(){Ext.tab.Panel.prototype.constructor.apply(this,arguments)},requires:["Ext.tab.Panel","com.coremedia.ui.skins.TabBarSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentPanelBase",function(AttachmentPanelBase){function AttachmentPanelBase$(config){if(arguments.length<=0)config=null;this.super$c4ik(config);this.contributionAdministration$c4ik=AS3.getBindable(config,"contributionAdministration");this.attachmentClickHandler$c4ik=AS3.getBindable(config,"attachmentClickHandler");if(AS3.getBindable(config,"attachments")){this.attachments$c4ik=AS3.getBindable(config,
"attachments");this.updateMediaContainer$c4ik()}else{this.displayedValueExp$c4ik=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.DISPLAYED,this.contributionAdministration$c4ik);this.displayedValueExp$c4ik.addChangeListener(AS3.bind(this,"updateMediaContainer$c4ik"))}}function onDestroy(){Ext.panel.Panel.prototype.onDestroy.call(this);if(this.displayedValueExp$c4ik)this.displayedValueExp$c4ik.removeChangeListener(AS3.bind(this,
"updateMediaContainer$c4ik"))}function clearMediaContainer(){this.getDetailAttachmentContainer$c4ik().removeAll(true)}function updateMediaContainer(){this.clearMediaContainer$c4ik();var atts=this.attachments$c4ik||this.getAttachments$c4ik();if(atts&&atts.length>0){for(var i=0;i<atts.length;i++){var blob=atts[i];var attachmentItemContainerCfg=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentItemContainer,{});AS3.setBindable(attachmentItemContainerCfg,
"blob",blob);AS3.setBindable(attachmentItemContainerCfg,"attachmentHandler",AS3.bind(this,"openAttachmentDetailWindow$c4ik"));if(this.attachmentClickHandler$c4ik)AS3.setBindable(attachmentItemContainerCfg,"attachmentHandler",this.attachmentClickHandler$c4ik);this.getDetailAttachmentContainer$c4ik().add(attachmentItemContainerCfg)}this.setTitle(Ext.String.format(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","attachment_container_title"),atts.length))}}
function getAttachments(){if(this.contributionAdministration$c4ik){var comment=AS3.as(this.contributionAdministration$c4ik.getDisplayed(),com.coremedia.elastic.social.studio.model.Comment);return comment&&comment.getAttachments()?comment.getAttachments():null}else return this.attachments$c4ik}function getDetailAttachmentContainer(){if(!this.detailAttachmentToolbar$c4ik)this.detailAttachmentToolbar$c4ik=AS3.as(this.queryById(AttachmentPanelBase.DETAIL_ATTACHMENT_TOOLBAR_ITEM_ID),Ext.toolbar.Toolbar);
return this.detailAttachmentToolbar$c4ik}function openAttachmentDetailWindow(currentBlob){var attachDetailWindowConfig=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentDetailWindow,{});AS3.setBindable(attachDetailWindowConfig,"blob",currentBlob);AS3.setBindable(attachDetailWindowConfig,"attachments",this.getAttachments$c4ik());var newAttachDetailWindow=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentDetailWindow,
Ext.ComponentManager.create(attachDetailWindowConfig));newAttachDetailWindow.show()}return{extend:"Ext.panel.Panel",contributionAdministration$c4ik:null,displayedValueExp$c4ik:null,attachments$c4ik:null,detailAttachmentToolbar$c4ik:null,attachmentClickHandler$c4ik:null,constructor:AttachmentPanelBase$,super$c4ik:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},onDestroy:onDestroy,clearMediaContainer$c4ik:clearMediaContainer,updateMediaContainer$c4ik:updateMediaContainer,getAttachments$c4ik:getAttachments,
getDetailAttachmentContainer$c4ik:getDetailAttachmentContainer,openAttachmentDetailWindow$c4ik:openAttachmentDetailWindow,statics:{DETAIL_ATTACHMENT_TOOLBAR_ITEM_ID:"detailAttachmentToolbar"},requires:["Ext.ComponentManager","Ext.String","Ext.panel.Panel","Ext.toolbar.Toolbar","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.elastic.social.studio.model.Comment","com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames",
"com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentDetailWindow","com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentItemContainer"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentDetailWindowBase",function(AttachmentDetailWindowBase){function AttachmentDetailWindowBase$(config){if(arguments.length<=0)config=null;this.super$blUv(config);this.attachments$blUv=AS3.getBindable(config,"attachments");this.currentBlob$blUv=AS3.getBindable(config,"blob");if(!this.getNavigationButtonValueExpression().getValue()){this.localNavigationButtonBean=com.coremedia.cms.editor.sdk.editorContext.getBeanFactory().createLocalBean();
this.getNavigationButtonValueExpression().setValue(this.localNavigationButtonBean)}else this.localNavigationButtonBean=this.getNavigationButtonValueExpression().getValue();if(!this.getCurrentAttachmentBlobValueExpression().getValue()){this.localAttachmentBean=com.coremedia.cms.editor.sdk.editorContext.getBeanFactory().createLocalBean();this.getCurrentAttachmentBlobValueExpression().setValue(this.localAttachmentBean)}else this.localAttachmentBean=this.getCurrentAttachmentBlobValueExpression().getValue();
this.getAttachmentContainer$blUv().setUI(com.coremedia.ui.skins.ContainerSkin.SELECTED_100.getSkin());this.updateNavigationButtons$blUv();this.localAttachmentBean.set(AttachmentDetailWindowBase.BLOB_URI_PROPERTY,this.currentBlob$blUv.getUri());this.localAttachmentBean.set(AttachmentDetailWindowBase.BLOB_FILE_NAME_PROPERTY,this.currentBlob$blUv.getContentType());this.localAttachmentBean.set(AttachmentDetailWindowBase.BLOB_FILE_SIZE_PROPERTY,this.currentBlob$blUv.getSize())}function afterRender(){var this$=
this;com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.afterRender.call(this);this.updateNavigationButtons$blUv();this.mon(this.getEl(),"keydown",function(e){if(e.getKey()===Ext.event.Event.LEFT&&this$.localNavigationButtonBean.get(AttachmentDetailWindowBase.ENABLE_PREVIOUS_ATTACHMENT_NAVIGATION_BUTTON))this$.showPreviousAttachment()},this);this.mon(this.getEl(),"keydown",function(e){if(e.getKey()===Ext.event.Event.RIGHT&&this$.localNavigationButtonBean.get(AttachmentDetailWindowBase.ENABLE_NEXT_ATTACHMENT_NAVIGATION_BUTTON))this$.showNextAttachment()},
this)}function showNextAttachment(){var nextBlob=AS3.as(this.attachments$blUv[this.findCurrentBlobPositionInAttachment$blUv()+1],com.coremedia.ui.data.Blob);this.updateCurrentBlob(nextBlob)}function updateAttachment(selected){this.updateCurrentBlob(selected)}function showPreviousAttachment(){var prevBlob=AS3.as(this.attachments$blUv[this.findCurrentBlobPositionInAttachment$blUv()-1],com.coremedia.ui.data.Blob);this.updateCurrentBlob(prevBlob)}function findCurrentBlobPositionInAttachment(){return this.attachments$blUv.indexOf(this.currentBlob$blUv)}
function updateNavigationButtons(){this.localNavigationButtonBean.set(AttachmentDetailWindowBase.ENABLE_PREVIOUS_ATTACHMENT_NAVIGATION_BUTTON,this.findCurrentBlobPositionInAttachment$blUv()!==0);this.localNavigationButtonBean.set(AttachmentDetailWindowBase.ENABLE_NEXT_ATTACHMENT_NAVIGATION_BUTTON,this.findCurrentBlobPositionInAttachment$blUv()!==this.attachments$blUv.length-1)}function getNavigationButtonValueExpression(){if(!this.attachmentWindowNavigationButtonsValExp$blUv)this.attachmentWindowNavigationButtonsValExp$blUv=
com.coremedia.ui.data.ValueExpressionFactory.create("attachmentWindowNavigation");return this.attachmentWindowNavigationButtonsValExp$blUv}function getCurrentAttachmentBlobValueExpression(){if(!this.currentAttachmentBlobValExp$blUv)this.currentAttachmentBlobValExp$blUv=com.coremedia.ui.data.ValueExpressionFactory.create("currentAttachmentBlob");return this.currentAttachmentBlobValExp$blUv}function updateCurrentBlob(newCurrentBlob){this.localAttachmentBean.set(AttachmentDetailWindowBase.BLOB_URI_PROPERTY,
newCurrentBlob.getUri());this.localAttachmentBean.set(AttachmentDetailWindowBase.BLOB_FILE_NAME_PROPERTY,newCurrentBlob.getContentType());this.localAttachmentBean.set(AttachmentDetailWindowBase.BLOB_FILE_SIZE_PROPERTY,newCurrentBlob.getSize());this.currentBlob$blUv=newCurrentBlob;this.updateNavigationButtons$blUv();this.getAttachmentSliderItems$blUv().each(function(item,index,length){item.setUI(com.coremedia.ui.skins.ContainerSkin.GRID_100.getSkin())});this.getAttachmentContainer$blUv().setUI(com.coremedia.ui.skins.ContainerSkin.SELECTED_100.getSkin())}
function getAttachmentSliderItems(){if(!this.attachmentSliderItems$blUv)this.attachmentSliderItems$blUv=AS3.as(this.queryById(com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentPanelBase.DETAIL_ATTACHMENT_TOOLBAR_ITEM_ID),Ext.toolbar.Toolbar).itemCollection;return this.attachmentSliderItems$blUv}function openImageInNewBrowserTab(){window.open(this.currentBlob$blUv.getUri(),"_blank")}function getAttachmentContainer(){var position=this.findCurrentBlobPositionInAttachment$blUv();
return AS3.as(this.getAttachmentSliderItems$blUv().get(position),com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentItemContainer)}return{extend:"com.coremedia.cms.editor.sdk.components.StudioDialog",attachments$blUv:null,currentBlob$blUv:null,attachmentWindowNavigationButtonsValExp$blUv:null,currentAttachmentBlobValExp$blUv:null,attachmentSliderItems$blUv:null,localNavigationButtonBean:null,localAttachmentBean:null,constructor:AttachmentDetailWindowBase$,
super$blUv:function(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.constructor.apply(this,arguments)},afterRender:afterRender,showNextAttachment:showNextAttachment,updateAttachment:updateAttachment,showPreviousAttachment:showPreviousAttachment,findCurrentBlobPositionInAttachment$blUv:findCurrentBlobPositionInAttachment,updateNavigationButtons$blUv:updateNavigationButtons,getNavigationButtonValueExpression:getNavigationButtonValueExpression,getCurrentAttachmentBlobValueExpression:getCurrentAttachmentBlobValueExpression,
updateCurrentBlob:updateCurrentBlob,getAttachmentSliderItems$blUv:getAttachmentSliderItems,openImageInNewBrowserTab:openImageInNewBrowserTab,getAttachmentContainer$blUv:getAttachmentContainer,statics:{ID:"attachmentDetailWindow",ATTACHMENT_SLIDER_ITEM_ID:"attachmentWindowSlider",ATTACHMENT_NAV_PREVIOUS_BUTTON_ITEM_ID:"prevNavButton",ATTACHMENT_NAV_NEXT_BUTTON_ITEM_ID:"nextNavButton",ENABLE_PREVIOUS_ATTACHMENT_NAVIGATION_BUTTON:"enablePreviousNavigation",ENABLE_NEXT_ATTACHMENT_NAVIGATION_BUTTON:"enableNextNavigation",
BLOB_URI_PROPERTY:"uri",BLOB_FILE_NAME_PROPERTY:"fileName",BLOB_FILE_SIZE_PROPERTY:"size"},requires:["Ext.event.Event","Ext.toolbar.Toolbar","com.coremedia.cms.editor.sdk.components.StudioDialog","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.ui.data.Blob","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.skins.ContainerSkin"],uses:["com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentItemContainer","com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentPanelBase"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentPanel",function(AttachmentPanel){function AttachmentPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentPanelBase,{});var defaults_$1=AS3.cast(AttachmentPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var toolbar_27_5_$1=AS3.cast(Ext.toolbar.Toolbar,{});toolbar_27_5_$1.itemId=
net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentPanelBase.DETAIL_ATTACHMENT_TOOLBAR_ITEM_ID);toolbar_27_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.FIELD.getSkin());var layout_HBox_30_9_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_30_9_$1,"overflowHandler","scroller");AS3.setBindable(toolbar_27_5_$1,"layout",layout_HBox_30_9_$1);var ui_HorizontalSpacingPlugin_33_9_$1=AS3.cast(com.coremedia.ui.plugins.HorizontalSpacingPlugin,
{});toolbar_27_5_$1.plugins=[ui_HorizontalSpacingPlugin_33_9_$1];config_$1.items=[toolbar_27_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$F7Qz(config_$1)}return{extend:"com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentPanelBase",alias:"widget.com.coremedia.elastic.social.studio.config.attachmentPanel",constructor:AttachmentPanel$,super$F7Qz:function(){com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentPanelBase.prototype.constructor.apply(this,
arguments)},config:{contributionAdministration:null,attachmentClickHandler:null,attachments:null},requires:["Ext.layout.container.HBox","Ext.toolbar.Toolbar","com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentPanelBase","com.coremedia.ui.plugins.HorizontalSpacingPlugin","com.coremedia.ui.skins.ToolbarSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentDetailWindow",function(AttachmentDetailWindow){function AttachmentDetailWindow$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentDetailWindowBase,{});var defaults_$1=AS3.cast(AttachmentDetailWindow,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.stateId="attachmentDetailsWindowState";
AS3.setBindable(config_$1,"stateful",true);AS3.setBindable(config_$1,"width",750);AS3.setBindable(config_$1,"height",700);config_$1.draggable=true;config_$1.resizable=false;config_$1.modal=true;config_$1["id"]=com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentDetailWindowBase.ID;AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","attachment_window_title"));config_$1.constrainHeader=
true;var toolbar_50_5_$1=AS3.cast(Ext.toolbar.Toolbar,{});var tbSpacer_52_9_$1=AS3.cast(Ext.toolbar.Spacer,{});AS3.setBindable(tbSpacer_52_9_$1,"width","6px");var displayField_53_9_$1=AS3.cast(Ext.form.field.Display,{});displayField_53_9_$1.labelWidth=65;displayField_53_9_$1.itemId="fileNameLabel";AS3.setBindable(displayField_53_9_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","attachment_window_file_name")));
var ui_BindPropertyPlugin_57_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_57_13_$1.bindTo=this.getCurrentAttachmentBlobValueExpression().extendBy(com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentDetailWindowBase.BLOB_FILE_NAME_PROPERTY);ui_BindPropertyPlugin_57_13_$1.transformer=function(text){return Ext.util.Format.htmlEncode(text)};displayField_53_9_$1.plugins=[ui_BindPropertyPlugin_57_13_$1];var tbSpacer_61_9_$1=
AS3.cast(Ext.toolbar.Spacer,{});AS3.setBindable(tbSpacer_61_9_$1,"width","6px");var displayField_62_9_$1=AS3.cast(Ext.form.field.Display,{});var ui_BindPropertyPlugin_64_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_64_13_$1.bindTo=this.getCurrentAttachmentBlobValueExpression().extendBy(com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentDetailWindowBase.BLOB_FILE_SIZE_PROPERTY);ui_BindPropertyPlugin_64_13_$1.transformer=
function(size){return"("+Math.round(size/1024)+" KB)"};displayField_62_9_$1.plugins=[ui_BindPropertyPlugin_64_13_$1];var tbFill_68_9_$1=AS3.cast(Ext.toolbar.Fill,{});var ui_IconButton_69_9_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});AS3.setBindable(ui_IconButton_69_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","open_in_browser")));AS3.setBindable(ui_IconButton_69_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"attachment_window_fullscreen_button_icon_tooltip")));AS3.setBindable(ui_IconButton_69_9_$1,"tooltip",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","attachment_window_fullscreen_button_icon_tooltip"));AS3.setBindable(ui_IconButton_69_9_$1,"handler",AS3.bind(this,"openImageInNewBrowserTab"));toolbar_50_5_$1.items=[tbSpacer_52_9_$1,displayField_53_9_$1,tbSpacer_61_9_$1,displayField_62_9_$1,tbFill_68_9_$1,ui_IconButton_69_9_$1];config_$1.tbar=toolbar_50_5_$1;
var layout_VBox_78_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_78_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_78_5_$1);var container_83_5_$1=AS3.cast(Ext.container.Container,{});var layout_HBox_85_9_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_85_9_$1,"align","stretch");AS3.setBindable(container_83_5_$1,"layout",layout_HBox_85_9_$1);var button_88_9_$1=AS3.cast(Ext.button.Button,{});AS3.setBindable(button_88_9_$1,"handler",
AS3.bind(this,"showPreviousAttachment"));AS3.setBindable(button_88_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","arrow_left")));button_88_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentDetailWindowBase.ATTACHMENT_NAV_PREVIOUS_BUTTON_ITEM_ID);var ui_UpdateEnabledPlugin_92_13_$1=AS3.cast(com.coremedia.ui.plugins.UpdateEnabledPlugin,{});AS3.setBindable(ui_UpdateEnabledPlugin_92_13_$1,
"valueExpression",this.getNavigationButtonValueExpression().extendBy(com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentDetailWindowBase.ENABLE_PREVIOUS_ATTACHMENT_NAVIGATION_BUTTON));button_88_9_$1.plugins=[ui_UpdateEnabledPlugin_92_13_$1];var container_95_9_$1=AS3.cast(Ext.container.Container,{});container_95_9_$1.flex=1;AS3.setBindable(container_95_9_$1,"height",445);AS3.setBindable(container_95_9_$1,"width",690);var ui_Image_99_13_$1=AS3.cast(com.coremedia.ui.components.Image,
{});ui_Image_99_13_$1.itemId=net.jangaroo.ext.Exml.asString(AttachmentDetailWindow.IMAGE_ITEM_ID);var ui_BindPropertyPlugin_101_17_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_101_17_$1.bindTo=this.getCurrentAttachmentBlobValueExpression().extendBy(com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentDetailWindowBase.BLOB_URI_PROPERTY);ui_BindPropertyPlugin_101_17_$1.componentProperty="src";ui_Image_99_13_$1.plugins=[ui_BindPropertyPlugin_101_17_$1];
container_95_9_$1.items=[ui_Image_99_13_$1];var layout_Fit_107_13_$1=AS3.cast(Ext.layout.container.Fit,{});AS3.setBindable(container_95_9_$1,"layout",layout_Fit_107_13_$1);var button_110_9_$1=AS3.cast(Ext.button.Button,{});AS3.setBindable(button_110_9_$1,"handler",AS3.bind(this,"showNextAttachment"));AS3.setBindable(button_110_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","arrow_right")));button_110_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentDetailWindowBase.ATTACHMENT_NAV_NEXT_BUTTON_ITEM_ID);
var ui_UpdateEnabledPlugin_114_13_$1=AS3.cast(com.coremedia.ui.plugins.UpdateEnabledPlugin,{});AS3.setBindable(ui_UpdateEnabledPlugin_114_13_$1,"valueExpression",this.getNavigationButtonValueExpression().extendBy(com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentDetailWindowBase.ENABLE_NEXT_ATTACHMENT_NAVIGATION_BUTTON));button_110_9_$1.plugins=[ui_UpdateEnabledPlugin_114_13_$1];container_83_5_$1.items=[button_88_9_$1,container_95_9_$1,button_110_9_$1];var es_AttachmentPanel_120_5_$1=
AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentPanel,{});es_AttachmentPanel_120_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentDetailWindowBase.ATTACHMENT_SLIDER_ITEM_ID);es_AttachmentPanel_120_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.PanelSkin.GRID_200.getSkin());AS3.setBindable(es_AttachmentPanel_120_5_$1,"attachmentClickHandler",AS3.bind(this,
"updateAttachment"));AS3.setBindable(es_AttachmentPanel_120_5_$1,"attachments",AS3.getBindable(config,"attachments"));config_$1.items=[container_83_5_$1,es_AttachmentPanel_120_5_$1];var toolbar_127_5_$1=AS3.cast(Ext.toolbar.Toolbar,{});var button_129_9_$1=AS3.cast(Ext.button.Button,{});button_129_9_$1.itemId="cancelBtn";button_129_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_SECONDARY.getSkin());AS3.setBindable(button_129_9_$1,"scale","small");AS3.setBindable(button_129_9_$1,
"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","btn_close")));AS3.setBindable(button_129_9_$1,"handler",AS3.bind(this,"close"));toolbar_127_5_$1.items=[button_129_9_$1];config_$1.fbar=toolbar_127_5_$1;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$1I38(config_$1)}return{extend:"com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentDetailWindowBase",alias:"widget.com.coremedia.elastic.social.studio.config.attachmentDetailWindow",
constructor:AttachmentDetailWindow$,super$1I38:function(){com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentDetailWindowBase.prototype.constructor.apply(this,arguments)},config:{moderation:null,blob:null,attachments:null},statics:{IMAGE_ITEM_ID:"image"},requires:["Ext.button.Button","Ext.container.Container","Ext.form.field.Display","Ext.layout.container.Fit","Ext.layout.container.HBox","Ext.layout.container.VBox","Ext.toolbar.Fill","Ext.toolbar.Spacer","Ext.toolbar.Toolbar",
"Ext.util.Format","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentDetailWindowBase","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.components.IconButton","com.coremedia.ui.components.Image","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.UpdateEnabledPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.PanelSkin","net.jangaroo.ext.Exml"],
uses:["com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentPanel"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentItemContainerBase",function(AttachmentItemContainerBase){function AttachmentItemContainerBase$(config){if(arguments.length<=0)config=null;this.super$wadO(config);this.showAttachmentInDetailWindow$wadO=AS3.getBindable(config,"attachmentHandler");this.currentBlob$wadO=AS3.getBindable(config,"blob");this.highlightedInWindow$wadO=AS3.getBindable(config,"highlightedInWindow")}function afterRender(){Ext.container.Container.prototype.afterRender.call(this);
this.getFileNameField$wadO().setValue(Ext.util.Format.htmlEncode(this.currentBlob$wadO.getContentType()));var attr="data-qtip";this.getEl().dom.setAttribute(attr,Ext.util.Format.htmlEncode(this.currentBlob$wadO.getContentType())+" ("+this.getFileSizeInKB$wadO()+")")}function clickOnAttachmentThumbnail(){this.showAttachmentInDetailWindow$wadO(this.currentBlob$wadO)}function getFileSizeInKB(){return Math.round(this.currentBlob$wadO.getSize()/1024)+" KB"}function getFileNameField(){if(!this.fileNameField$wadO)this.fileNameField$wadO=
AS3.as(this.queryById(AttachmentItemContainerBase.FILE_NAME_FIELD_ITEM_ID),Ext.form.field.Display);return this.fileNameField$wadO}return{extend:"Ext.container.Container",showAttachmentInDetailWindow$wadO:null,currentBlob$wadO:null,highlightedInWindow$wadO:false,fileNameField$wadO:null,constructor:AttachmentItemContainerBase$,super$wadO:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},afterRender:afterRender,clickOnAttachmentThumbnail:clickOnAttachmentThumbnail,getFileSizeInKB$wadO:getFileSizeInKB,
getFileNameField$wadO:getFileNameField,statics:{IMAGE_ITEM_ID:"image",FILE_NAME_FIELD_ITEM_ID:"fileNameField"},requires:["Ext.container.Container","Ext.form.field.Display","Ext.util.Format"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentItemContainer",function(AttachmentItemContainer){function AttachmentItemContainer$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentItemContainerBase,{});var defaults_$1=AS3.cast(AttachmentItemContainer,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,
"width",120);AS3.setBindable(config_$1,"height",105);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.GRID_100.getSkin());var layout_VBox_30_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_30_5_$1,"align","middle");AS3.setBindable(config_$1,"layout",layout_VBox_30_5_$1);var ui_Image_33_5_$1=AS3.cast(com.coremedia.ui.components.Image,{});AS3.setBindable(ui_Image_33_5_$1,"src",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"blob").getUri()));
AS3.setBindable(ui_Image_33_5_$1,"maxWidth",100);AS3.setBindable(ui_Image_33_5_$1,"maxHeight",70);AS3.setBindable(ui_Image_33_5_$1,"style","cursor:pointer");AS3.setBindable(ui_Image_33_5_$1,"handler",AS3.bind(this,"clickOnAttachmentThumbnail"));ui_Image_33_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentItemContainerBase.IMAGE_ITEM_ID);var ui_ExtendedDisplayField_39_5_$1=AS3.cast(com.coremedia.ui.components.ExtendedDisplayField,
{});AS3.setBindable(ui_ExtendedDisplayField_39_5_$1,"overflowBehaviour",com.coremedia.ui.mixins.OverflowBehaviour.ELLIPSIS);ui_ExtendedDisplayField_39_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentItemContainerBase.FILE_NAME_FIELD_ITEM_ID);AS3.setBindable(ui_ExtendedDisplayField_39_5_$1,"maxWidth",100);config_$1.items=[ui_Image_33_5_$1,ui_ExtendedDisplayField_39_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);
this.super$t5fd(config_$1)}return{extend:"com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentItemContainerBase",alias:"widget.com.coremedia.elastic.social.studio.config.attachmentItemContainer",constructor:AttachmentItemContainer$,super$t5fd:function(){com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentItemContainerBase.prototype.constructor.apply(this,arguments)},config:{blob:null,attachmentHandler:null,highlightedInWindow:false},
requires:["Ext.layout.container.VBox","com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentItemContainerBase","com.coremedia.ui.components.ExtendedDisplayField","com.coremedia.ui.components.Image","com.coremedia.ui.mixins.OverflowBehaviour","com.coremedia.ui.skins.ContainerSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentViewBase",function(CommentViewBase){function CommentViewBase$(config){if(arguments.length<=0)config=null;this.contributionAdministration$0WNE=AS3.as(AS3.getBindable(config,"abstractContributionAdministration"),com.coremedia.elastic.social.studio.model.impl.AbstractContributionAdministration);this.displayedValueExpression$0WNE=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.DISPLAYED,
this.contributionAdministration$0WNE);this.displayedStateValueExpression$0WNE=this.displayedValueExpression$0WNE.extendBy(com.coremedia.elastic.social.studio.model.ContributionPropertyNames.STATE);this.numberOfComplaintsValueExpression$0WNE=this.displayedValueExpression$0WNE.extendBy(com.coremedia.elastic.social.studio.model.ContributionPropertyNames.NUMBER_OF_COMPLAINTS);this.lastComplaintDateValueExpression$0WNE=this.displayedValueExpression$0WNE.extendBy(com.coremedia.elastic.social.studio.model.ContributionPropertyNames.LAST_COMPLAINT_DATE);
this.curatedContentsValueExpression$0WNE=this.displayedValueExpression$0WNE.extendBy(com.coremedia.elastic.social.studio.model.ContributionPropertyNames.CURATED_CONTENTS);this.authorValueExpression$0WNE=this.displayedValueExpression$0WNE.extendBy(com.coremedia.elastic.social.studio.model.CommentPropertyNames.AUTHOR);this.authorStateValueExpression$0WNE=this.authorValueExpression$0WNE.extendBy(com.coremedia.elastic.social.studio.model.ContributionPropertyNames.STATE);this.numberOfContributionsValueExpression$0WNE=
this.authorValueExpression$0WNE.extendBy(com.coremedia.elastic.social.studio.model.UserPropertyNames.NUMBER_OF_CONTRIBUTIONS);this.numberOfRejectedContributionsValueExpression$0WNE=this.authorValueExpression$0WNE.extendBy(com.coremedia.elastic.social.studio.model.UserPropertyNames.REJECTED_CONTRIBUTIONS);this.super$0WNE(config);this.myRichTextArea$0WNE=AS3.as(this.queryById(CommentViewBase.RICHTEXT_AREA_ITEM_ID),com.coremedia.ui.ckeditor.RichTextArea);this.mon(this.myRichTextArea$0WNE,com.coremedia.ui.ckeditor.RichTextArea.CKREADY_EVENT,
AS3.bind(this,"ckEditorAvailable$0WNE"),null,{single:true})}function ckEditorAvailable(){com.coremedia.ui.data.util.PropertyChangeEventUtil.fireEvent(this,"cKEditor",null,this.getCKEditor())}function getCKEditor(){return this.myRichTextArea$0WNE&&this.myRichTextArea$0WNE.getCKEditor()}function getVisibleExp(){if(!this.hideAttachmentContainerValueExpression$0WNE)this.hideAttachmentContainerValueExpression$0WNE=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"containsAttachment$0WNE"));
return this.hideAttachmentContainerValueExpression$0WNE}function onDestroy(){Ext.panel.Panel.prototype.onDestroy.call(this);this.active$0WNE&&this.removeAllListener$0WNE()}function activated(activator){this.displayedValueExpression$0WNE.addChangeListener(AS3.bind(this,"toggleUserDetailsButton$0WNE"));this.displayedValueExpression$0WNE.addChangeListener(AS3.bind(this,"checkAuthor$0WNE"));this.displayedValueExpression$0WNE.addChangeListener(AS3.bind(this,"switchAwayFromAnnotationContainerIfAuthorIsAnonymous$0WNE"));
this.displayedValueExpression$0WNE.addChangeListener(AS3.bind(this,"showNumberOfContributions$0WNE"));this.displayedValueExpression$0WNE.addChangeListener(AS3.bind(this,"refreshRejectButtonLabel$0WNE"));this.displayedValueExpression$0WNE.addChangeListener(AS3.bind(this,"showStatus$0WNE"));this.displayedValueExpression$0WNE.addChangeListener(AS3.bind(this,"showCreationDate$0WNE"));this.curatedContentsValueExpression$0WNE.addChangeListener(AS3.bind(this,"deactivateCuratedContentTab$0WNE"));this.curatedContentsValueExpression$0WNE.addChangeListener(AS3.bind(this,
"updateCuratedContentTab$0WNE"));this.displayedStateValueExpression$0WNE.addChangeListener(AS3.bind(this,"showStatus$0WNE"));this.authorValueExpression$0WNE.addChangeListener(AS3.bind(this,"refreshRejectButtonLabel$0WNE"));this.authorValueExpression$0WNE.addChangeListener(AS3.bind(this,"loadUserNotes$0WNE"));this.authorValueExpression$0WNE.addChangeListener(AS3.bind(this,"deactivateUserAnnotationTab$0WNE"));this.authorValueExpression$0WNE.addChangeListener(AS3.bind(this,"toggleEMailWindowLink$0WNE"));
this.authorStateValueExpression$0WNE.addChangeListener(AS3.bind(this,"refreshRejectButtonLabel$0WNE"));this.authorStateValueExpression$0WNE.addChangeListener(AS3.bind(this,"showNumberOfContributions$0WNE"));this.authorStateValueExpression$0WNE.addChangeListener(AS3.bind(this,"toggleUserDetailsButton$0WNE"));this.authorStateValueExpression$0WNE.addChangeListener(AS3.bind(this,"toggleEMailWindowLink$0WNE"));this.numberOfContributionsValueExpression$0WNE.addChangeListener(AS3.bind(this,"showNumberOfContributions$0WNE"));
this.numberOfRejectedContributionsValueExpression$0WNE.addChangeListener(AS3.bind(this,"showNumberOfContributions$0WNE"));this.numberOfComplaintsValueExpression$0WNE.addChangeListener(AS3.bind(this,"showStatus$0WNE"));this.lastComplaintDateValueExpression$0WNE.addChangeListener(AS3.bind(this,"showStatus$0WNE"));this.toggleUserDetailsButton$0WNE();this.showNumberOfContributions$0WNE();this.checkAuthor$0WNE();this.refreshRejectButtonLabel$0WNE();this.showStatus$0WNE();this.showCreationDate$0WNE();this.loadUserNotes$0WNE();
this.authorStateValueExpression$0WNE.loadValue(AS3.bind(this,"deactivateUserAnnotationTab$0WNE"));this.authorStateValueExpression$0WNE.loadValue(AS3.bind(this,"deactivateCuratedContentTab$0WNE"));this.active$0WNE=true}function deactivated(){this.active$0WNE&&this.removeAllListener$0WNE();this.active$0WNE=false}function removeAllListener(){this.displayedValueExpression$0WNE.removeChangeListener(AS3.bind(this,"refreshRejectButtonLabel$0WNE"));this.displayedValueExpression$0WNE.removeChangeListener(AS3.bind(this,
"toggleUserDetailsButton$0WNE"));this.displayedValueExpression$0WNE.removeChangeListener(AS3.bind(this,"checkAuthor$0WNE"));this.displayedValueExpression$0WNE.removeChangeListener(AS3.bind(this,"switchAwayFromAnnotationContainerIfAuthorIsAnonymous$0WNE"));this.displayedValueExpression$0WNE.removeChangeListener(AS3.bind(this,"showNumberOfContributions$0WNE"));this.displayedValueExpression$0WNE.removeChangeListener(AS3.bind(this,"showStatus$0WNE"));this.displayedValueExpression$0WNE.removeChangeListener(AS3.bind(this,
"showCreationDate$0WNE"));this.curatedContentsValueExpression$0WNE.removeChangeListener(AS3.bind(this,"deactivateCuratedContentTab$0WNE"));this.curatedContentsValueExpression$0WNE.removeChangeListener(AS3.bind(this,"updateCuratedContentTab$0WNE"));this.displayedStateValueExpression$0WNE.removeChangeListener(AS3.bind(this,"showStatus$0WNE"));this.authorValueExpression$0WNE.removeChangeListener(AS3.bind(this,"refreshRejectButtonLabel$0WNE"));this.authorValueExpression$0WNE.removeChangeListener(AS3.bind(this,
"loadUserNotes$0WNE"));this.authorValueExpression$0WNE.removeChangeListener(AS3.bind(this,"deactivateUserAnnotationTab$0WNE"));this.authorValueExpression$0WNE.removeChangeListener(AS3.bind(this,"toggleEMailWindowLink$0WNE"));this.authorStateValueExpression$0WNE.removeChangeListener(AS3.bind(this,"refreshRejectButtonLabel$0WNE"));this.authorStateValueExpression$0WNE.removeChangeListener(AS3.bind(this,"showNumberOfContributions$0WNE"));this.authorStateValueExpression$0WNE.removeChangeListener(AS3.bind(this,
"toggleUserDetailsButton$0WNE"));this.authorStateValueExpression$0WNE.removeChangeListener(AS3.bind(this,"toggleEMailWindowLink$0WNE"));this.numberOfContributionsValueExpression$0WNE.removeChangeListener(AS3.bind(this,"showNumberOfContributions$0WNE"));this.numberOfRejectedContributionsValueExpression$0WNE.removeChangeListener(AS3.bind(this,"showNumberOfContributions$0WNE"));this.numberOfComplaintsValueExpression$0WNE.removeChangeListener(AS3.bind(this,"showStatus$0WNE"));this.lastComplaintDateValueExpression$0WNE.removeChangeListener(AS3.bind(this,
"showStatus$0WNE"))}function provideAuthor(){var comment=AS3.as(this.contributionAdministration$0WNE.getDisplayed(),com.coremedia.elastic.social.studio.model.Comment);if(comment)return comment.getAuthor();return null}function containsAttachment(){var comment=AS3.as(this.contributionAdministration$0WNE.getDisplayed(),com.coremedia.elastic.social.studio.model.Comment);return comment&&comment.getAttachments()&&comment.getAttachments().length>0}function deactivateUserAnnotationTab(){var comment=AS3.as(this.contributionAdministration$0WNE.getDisplayed(),
com.coremedia.elastic.social.studio.model.Comment);var hasAuthor=comment&&comment.getAuthor();var hasAuthorName=hasAuthor&&comment.getAuthor().getName();this.getUserAnnotationContainerPanel$0WNE().setDisabled(!(hasAuthor&&hasAuthorName))}function deactivateCuratedContentTab(){var comment=AS3.as(this.contributionAdministration$0WNE.getDisplayed(),com.coremedia.elastic.social.studio.model.Comment);var hasCuratedContent=comment&&comment.getCuratedContents().length>0;this.getCuratedContentPanel$0WNE().setDisabled(!hasCuratedContent)}
function updateCuratedContentTab(){this.getCuratedContentPanel$0WNE().createCuratedContentList()}function showCreationDate(){this.contributionAdministration$0WNE.getDisplayed()&&this.setCreationDate$0WNE(this.contributionAdministration$0WNE.getDisplayed().getCreationDate())}function toggleUserDetailsButton(){var comment=AS3.as(this.contributionAdministration$0WNE.getDisplayed(),com.coremedia.elastic.social.studio.model.Comment);if(comment){this.getMetaDataView$0WNE().toggleUserDetailsButton(comment.getAuthor());
var author=comment.getAuthor();if(author&&author.isAnonymous()||!author){var commentAuthorName=comment.getAuthorName();if(commentAuthorName)this.getMetaDataView$0WNE().setUserDetailsButtonText(commentAuthorName+" ("+this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_anonymous")+")");else this.getMetaDataView$0WNE().setUserDetailsButtonText(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_anonymous"))}else this.getMetaDataView$0WNE().setUserDetailsButtonText(author.getName())}else{this.getMetaDataView$0WNE().toggleUserDetailsButton(null);
this.getMetaDataView$0WNE().setUserDetailsButtonText(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_anonymous"))}}function checkAuthor(){var comment=AS3.as(this.contributionAdministration$0WNE.getDisplayed(),com.coremedia.elastic.social.studio.model.Comment);if(comment)this.getMetaDataView$0WNE().checkAuthor(comment.getAuthor());else this.getMetaDataView$0WNE().checkAuthor(null)}function switchAwayFromAnnotationContainerIfAuthorIsAnonymous(){var comment=
AS3.as(this.contributionAdministration$0WNE.getDisplayed(),com.coremedia.elastic.social.studio.model.Comment);var needToSwitchToFirstTab=comment&&comment.getAuthor()&&comment.getAuthor().isAnonymous()&&this.getExtensionTabPanel$0WNE().getActiveTab().getItemId()===CommentViewBase.USER_ANNOTATION_CONTAINER_ITEM_ID;if(needToSwitchToFirstTab)this.getExtensionTabPanel$0WNE().setActiveTab(0)}function showNumberOfContributions(){var comment=AS3.as(this.contributionAdministration$0WNE.getDisplayed(),com.coremedia.elastic.social.studio.model.Comment);
if(comment)this.getMetaDataView$0WNE().showNumberOfContributions(comment.getAuthor());else this.getMetaDataView$0WNE().showNumberOfContributions(null)}function refreshRejectButtonLabel(){var isEmailSent=true;var comment=AS3.as(this.contributionAdministration$0WNE.getDisplayed(),com.coremedia.elastic.social.studio.model.Comment);if(comment){var author=comment.getAuthor();if(!author||author.isAnonymous()||author.isIgnored()||author.isBlocked())isEmailSent=false}this.getProcessContributionToolbar$0WNE().setRejectButtonLabel(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"btn_reject"),isEmailSent)}function toggleEMailWindowLink(){var comment=AS3.as(this.contributionAdministration$0WNE.getDisplayed(),com.coremedia.elastic.social.studio.model.Comment);if(comment){var author=comment.getAuthor();if(author)this.getProcessContributionToolbar$0WNE().toggleEMailWindowLink(author)}}function showStatus(){var message="";var error="";var complains=0;var displayed=AS3.as(this.contributionAdministration$0WNE.getDisplayed(),com.coremedia.elastic.social.studio.model.Comment);if(displayed){var state=
displayed.getContributionState();if(displayed.getLastComplaintDate()){complains=displayed.getNumberOfComplaints();error=Ext.String.format(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","detail_complaints"),complains);message=Ext.String.format(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","contributiondetail_state_tooltip_complaint"),this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"contribution_type_prefix_comment"),this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","contribution_type_contribution"))}else message=Ext.String.format(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","contributiondetail_state_tooltip_"+state.toLowerCase()),this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","contribution_type_prefix_comment"),this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"contribution_type_contribution"))}this.setStatus$0WNE(message,error)}function loadUserNotes(){var this$=this;var displayed=AS3.as(this.contributionAdministration$0WNE.getDisplayed(),com.coremedia.elastic.social.studio.model.Comment);displayed&&displayed.getAuthor()&&displayed.getAuthor().load(function(){if(displayed.getAuthor().isAnonymous())displayed.loadUserNotes(this$.contributionAdministration$0WNE,null);else displayed.loadUserNotes(this$.contributionAdministration$0WNE,displayed.getAuthor())})}
function getMetaDataView(){if(!this.metaDataView$0WNE)this.metaDataView$0WNE=AS3.as(this.queryById(CommentViewBase.META_DATA_VIEW_ITEM_ID),com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentMetaDataPanel);return this.metaDataView$0WNE}function getProcessContributionToolbar(){if(!this.processContributionToolbar$0WNE)this.processContributionToolbar$0WNE=AS3.as(this.queryById(CommentViewBase.PROCESS_CONTRIBUTION_VIEW_ITEM_ID),com.coremedia.elastic.social.studio.moderation.shared.details.base.ProcessContributionToolbar);
return this.processContributionToolbar$0WNE}function getExtensionTabPanel(){if(!this.commentExtensionTabPanel$0WNE)this.commentExtensionTabPanel$0WNE=AS3.as(this.queryById(CommentViewBase.EXTENSION_TAB_PANEL_ITEM_ID),com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentExtensionTabPanel);return this.commentExtensionTabPanel$0WNE}function getUserAnnotationContainerPanel(){if(!this.annotationContainer$0WNE)this.annotationContainer$0WNE=AS3.as(this.queryById(CommentViewBase.USER_ANNOTATION_CONTAINER_ITEM_ID),
com.coremedia.elastic.social.studio.moderation.shared.details.base.UserContributionAnnotationContainer);return this.annotationContainer$0WNE}function getCuratedContentPanel(){if(!this.curatedContentPanel$0WNE)this.curatedContentPanel$0WNE=AS3.as(this.queryById(CommentViewBase.CURATED_CONTENT_PANEL_ITEM_ID),com.coremedia.elastic.social.studio.moderation.shared.details.comments.CuratedContentPanel);return this.curatedContentPanel$0WNE}function setStatus(message,error){this.getStatusToolbar$0WNE().setStatus(message,
error)}function setCreationDate(creationDate){this.getStatusToolbar$0WNE().setCreationDate(creationDate)}function getStatusToolbar(){if(!this.statusView$0WNE)this.statusView$0WNE=AS3.as(this.queryById(CommentViewBase.STATUS_VIEW_ID),com.coremedia.elastic.social.studio.moderation.shared.details.base.ContributionStatusContainer);return this.statusView$0WNE}return{extend:"Ext.panel.Panel",mixins:["com.coremedia.elastic.social.studio.moderation.moderationtab.Activatable"],metadata:{getCKEditor:["ProvideToExtChildren"]},
contributionAdministration$0WNE:null,displayedValueExpression$0WNE:null,displayedStateValueExpression$0WNE:null,authorStateValueExpression$0WNE:null,authorValueExpression$0WNE:null,numberOfContributionsValueExpression$0WNE:null,numberOfRejectedContributionsValueExpression$0WNE:null,numberOfComplaintsValueExpression$0WNE:null,lastComplaintDateValueExpression$0WNE:null,metaDataView$0WNE:null,processContributionToolbar$0WNE:null,active$0WNE:false,hideAttachmentContainerValueExpression$0WNE:null,commentExtensionTabPanel$0WNE:null,
annotationContainer$0WNE:null,curatedContentPanel$0WNE:null,myRichTextArea$0WNE:null,statusView$0WNE:null,curatedContentsValueExpression$0WNE:null,constructor:CommentViewBase$,super$0WNE:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},ckEditorAvailable$0WNE:ckEditorAvailable,getCKEditor:getCKEditor,getVisibleExp:getVisibleExp,onDestroy:onDestroy,activated:activated,deactivated:deactivated,removeAllListener$0WNE:removeAllListener,provideAuthor:provideAuthor,containsAttachment$0WNE:containsAttachment,
deactivateUserAnnotationTab$0WNE:deactivateUserAnnotationTab,deactivateCuratedContentTab$0WNE:deactivateCuratedContentTab,updateCuratedContentTab$0WNE:updateCuratedContentTab,showCreationDate$0WNE:showCreationDate,toggleUserDetailsButton$0WNE:toggleUserDetailsButton,checkAuthor$0WNE:checkAuthor,switchAwayFromAnnotationContainerIfAuthorIsAnonymous$0WNE:switchAwayFromAnnotationContainerIfAuthorIsAnonymous,showNumberOfContributions$0WNE:showNumberOfContributions,refreshRejectButtonLabel$0WNE:refreshRejectButtonLabel,
toggleEMailWindowLink$0WNE:toggleEMailWindowLink,showStatus$0WNE:showStatus,loadUserNotes$0WNE:loadUserNotes,getMetaDataView$0WNE:getMetaDataView,getProcessContributionToolbar$0WNE:getProcessContributionToolbar,getExtensionTabPanel$0WNE:getExtensionTabPanel,getUserAnnotationContainerPanel$0WNE:getUserAnnotationContainerPanel,getCuratedContentPanel$0WNE:getCuratedContentPanel,setStatus$0WNE:setStatus,setCreationDate$0WNE:setCreationDate,getStatusToolbar$0WNE:getStatusToolbar,statics:{EXTENSION_TAB_PANEL_ITEM_ID:"extension-tab-panel-comment",
ID:"cm-elastic-social-comment-detail-view",META_DATA_VIEW_ITEM_ID:"cm-elastic-social-detail-view-meta-data",CURATED_CONTENT_PANEL_ITEM_ID:"cm-elastic-social-detail-view-curated-content",ATTACHMENT_CONTAINER_ITEM_ID:"cm-elastic-social-detail-view-attachment-container",PROCESS_CONTRIBUTION_VIEW_ITEM_ID:"cm-elastic-social-process-contribution-buttons-container",TOOLBAR_ITEM_ID:"cm-elastic-social-comment-detail-toolbar",RICHTEXT_AREA_ITEM_ID:"richtext-area",USER_ANNOTATION_CONTAINER_ITEM_ID:"userAnnotationContainer",
STATUS_VIEW_ID:"cm-elastic-social-detail-status"},requires:["Ext.String","Ext.panel.Panel","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.elastic.social.studio.moderation.moderationtab.Activatable","com.coremedia.ui.ckeditor.RichTextArea","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.util.PropertyChangeEventUtil"],uses:["com.coremedia.elastic.social.studio.model.Comment","com.coremedia.elastic.social.studio.model.CommentPropertyNames",
"com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames","com.coremedia.elastic.social.studio.model.ContributionPropertyNames","com.coremedia.elastic.social.studio.model.UserPropertyNames","com.coremedia.elastic.social.studio.model.impl.AbstractContributionAdministration","com.coremedia.elastic.social.studio.moderation.shared.details.base.ContributionStatusContainer","com.coremedia.elastic.social.studio.moderation.shared.details.base.ProcessContributionToolbar","com.coremedia.elastic.social.studio.moderation.shared.details.base.UserContributionAnnotationContainer",
"com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentExtensionTabPanel","com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentMetaDataPanel","com.coremedia.elastic.social.studio.moderation.shared.details.comments.CuratedContentPanel"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.comments.CuratedContentPanelBase",function(CuratedContentPanelBase){function CuratedContentPanelBase$(config){if(arguments.length<=0)config=null;this.moderationContributionAdministration$rRyd=AS3.as(AS3.getBindable(config,"abstractContribution"),com.coremedia.elastic.social.studio.model.impl.AbstractContributionAdministration);this.super$rRyd(config)}function afterRender(){Ext.panel.Panel.prototype.afterRender.call(this);this.createCuratedContentList()}
function createCuratedContentList(){this.removeAll();var comment=AS3.as(this.moderationContributionAdministration$rRyd.getDisplayed(),com.coremedia.elastic.social.studio.model.Contribution);if(comment){var curatedContents=comment.getCuratedContents();for(var i=0;i<curatedContents.length;i++){var curatedContent=curatedContents[i];if(curatedContent)this.add(this.createButtonFromContent$rRyd(curatedContent))}}}function createButtonFromContent(content){var buttonConfig=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.comments.CuratedContentButton,
{});buttonConfig.content=content;return buttonConfig}return{extend:"Ext.panel.Panel",moderationContributionAdministration$rRyd:null,constructor:CuratedContentPanelBase$,super$rRyd:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},afterRender:afterRender,createCuratedContentList:createCuratedContentList,createButtonFromContent$rRyd:createButtonFromContent,requires:["Ext.panel.Panel"],uses:["com.coremedia.elastic.social.studio.model.Contribution","com.coremedia.elastic.social.studio.model.impl.AbstractContributionAdministration",
"com.coremedia.elastic.social.studio.moderation.shared.details.comments.CuratedContentButton"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.comments.ReviewView",function(ReviewView){function ReviewView$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentView,{});var defaults_$1=AS3.cast(ReviewView,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"abstractContributionAdministration",AS3.getBindable(config,"abstractContributionAdministration"));
AS3.setBindable(config_$1,"blacklistAdministration",AS3.getBindable(config,"blacklistAdministration"));AS3.setBindable(config_$1,"userAdministration",AS3.getBindable(config,"userAdministration"));AS3.setBindable(config_$1,"richtextContainerHeight",ReviewView.RICHTEXT_CONTAINER_HEIGHT);AS3.setBindable(config_$1,"selectedProperty",net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.SELECTED_MODERATION_CONTRIBUTION));var ui_NestedRulesPlugin_58_5_$1=
AS3.cast(com.coremedia.ui.plugins.NestedRulesPlugin,{});var container_60_9_$1=AS3.cast(Ext.container.Container,{});container_60_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentView.CENTER_CONTAINER_ITEM_ID);var ui_AddItemsPlugin_62_13_$1=AS3.cast(com.coremedia.ui.plugins.AddItemsPlugin,{});AS3.setBindable(ui_AddItemsPlugin_62_13_$1,"index",0);var fieldContainer_64_17_$1=AS3.cast(Ext.form.FieldContainer,{});AS3.setBindable(fieldContainer_64_17_$1,
"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","reviewdetail_title")));fieldContainer_64_17_$1.labelSeparator="";fieldContainer_64_17_$1.labelAlign="top";var textField_68_21_$1=AS3.cast(Ext.form.field.Text,{});textField_68_21_$1.itemId=net.jangaroo.ext.Exml.asString(ReviewView.TITLE_FIELD_ITEM_ID);textField_68_21_$1.checkChangeBuffer=1;textField_68_21_$1.flex=1;var ui_BindPropertyPlugin_72_25_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,
{});ui_BindPropertyPlugin_72_25_$1.bidirectional=true;ui_BindPropertyPlugin_72_25_$1.bindTo=this.getTitleVE$4JD4(config);textField_68_21_$1.plugins=[ui_BindPropertyPlugin_72_25_$1];var displayField_76_21_$1=AS3.cast(Ext.form.field.Display,{});AS3.setBindable(displayField_76_21_$1,"value",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","reviewDetail_rating"));displayField_76_21_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.DisplayFieldSkin.BOLD);
AS3.setBindable(displayField_76_21_$1,"margin","0 6 0 12");var ui_StatefulNumberField_79_21_$1=AS3.cast(com.coremedia.ui.components.StatefulNumberField,{});ui_StatefulNumberField_79_21_$1.itemId=net.jangaroo.ext.Exml.asString(ReviewView.RATING_FIELD_ITEM_ID);AS3.setBindable(ui_StatefulNumberField_79_21_$1,"spinDownEnabled",true);AS3.setBindable(ui_StatefulNumberField_79_21_$1,"spinUpEnabled",true);AS3.setBindable(ui_StatefulNumberField_79_21_$1,"minValue",1);AS3.setBindable(ui_StatefulNumberField_79_21_$1,
"maxValue",5);AS3.setBindable(ui_StatefulNumberField_79_21_$1,"width",50);ui_StatefulNumberField_79_21_$1.allowBlank=false;ui_StatefulNumberField_79_21_$1.checkChangeBuffer=1;var ui_BindPropertyPlugin_88_25_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_88_25_$1.bidirectional=true;ui_BindPropertyPlugin_88_25_$1.bindTo=this.getRatingVE$4JD4(config);var ui_BindPropertyPlugin_90_25_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_90_25_$1.ifUndefined=
"";ui_BindPropertyPlugin_90_25_$1.componentEvent="spin";ui_BindPropertyPlugin_90_25_$1.reverseTransformer=function(value){return value||value===0?value:null};ui_BindPropertyPlugin_90_25_$1.bidirectional=true;ui_BindPropertyPlugin_90_25_$1.bindTo=this.getRatingVE$4JD4(config);ui_StatefulNumberField_79_21_$1.plugins=[ui_BindPropertyPlugin_88_25_$1,ui_BindPropertyPlugin_90_25_$1];fieldContainer_64_17_$1.items=[textField_68_21_$1,displayField_76_21_$1,ui_StatefulNumberField_79_21_$1];var layout_HBox_99_21_$1=
AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_99_21_$1,"align","stretch");AS3.setBindable(fieldContainer_64_17_$1,"layout",layout_HBox_99_21_$1);AS3.setBindable(ui_AddItemsPlugin_62_13_$1,"items",[fieldContainer_64_17_$1]);container_60_9_$1.plugins=[ui_AddItemsPlugin_62_13_$1];ui_NestedRulesPlugin_58_5_$1.rules=[container_60_9_$1];config_$1.plugins=[ui_NestedRulesPlugin_58_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$4JD4(config_$1)}function getTitleVE(config){if(!this.titleVE$4JD4)this.titleVE$4JD4=
com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.utils.ValueExpressionUtil.createPath([com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.DISPLAYED,com.coremedia.elastic.social.studio.model.ReviewPropertyNames.TITLE]),AS3.getBindable(config,"abstractContributionAdministration"));return this.titleVE$4JD4}function getRatingVE(config){if(!this.ratingVE$4JD4)this.ratingVE$4JD4=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.utils.ValueExpressionUtil.createPath([com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.DISPLAYED,
com.coremedia.elastic.social.studio.model.ReviewPropertyNames.RATING]),AS3.getBindable(config,"abstractContributionAdministration"));return this.ratingVE$4JD4}return{extend:"com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentView",alias:"widget.com.coremedia.elastic.social.studio.config.reviewView",titleVE$4JD4:null,ratingVE$4JD4:null,constructor:ReviewView$,super$4JD4:function(){com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentView.prototype.constructor.apply(this,
arguments)},getTitleVE$4JD4:getTitleVE,getRatingVE$4JD4:getRatingVE,statics:{RICHTEXT_CONTAINER_HEIGHT:129,TITLE_FIELD_ITEM_ID:"titleFieldItemId",RATING_FIELD_ITEM_ID:"ratingFieldItemId"},requires:["Ext.container.Container","Ext.form.FieldContainer","Ext.form.field.Display","Ext.form.field.Text","Ext.layout.container.HBox","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentView","com.coremedia.ui.components.StatefulNumberField",
"com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.AddItemsPlugin","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.NestedRulesPlugin","com.coremedia.ui.skins.DisplayFieldSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames","com.coremedia.elastic.social.studio.model.ReviewPropertyNames","com.coremedia.elastic.social.studio.model.utils.ValueExpressionUtil"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentMetaDataPanelBase",function(CommentMetaDataPanelBase){function CommentMetaDataPanelBase$(config){if(arguments.length<=0)config=null;this.super$wa2k(config)}function showNumberOfContributions(user){this.getUserInformationView$wa2k().showNumberOfContributions(user)}function checkAuthor(user){this.getUserInformationView$wa2k().checkAuthor(user)}function toggleUserDetailsButton(user){this.getUserInformationView$wa2k().toggleUserDetailsButton(user)}
function setUserDetailsButtonText(text){this.getUserInformationView$wa2k().setUserDetailsButtonText(text)}function getUserInformationView(){if(!this.userInformationView$wa2k)this.userInformationView$wa2k=AS3.as(this.getComponent(CommentMetaDataPanelBase.USER_INFORMATION_VIEW_ID),com.coremedia.elastic.social.studio.moderation.shared.details.base.ContributionUserInformationPanel);return this.userInformationView$wa2k}function getActiveTargetInformationItemIdVE(){var this$=this;if(!this.activeTargetInformationItemIdVE$wa2k)this.activeTargetInformationItemIdVE$wa2k=
com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var comment=AS3.as(AS3.getBindable(this$,"contributionAdministration").getDisplayed(),com.coremedia.elastic.social.studio.model.Comment);if(comment){var target=comment.getTarget();if(target){var name=target["$className"];while(name.indexOf(".")!==-1)name=name.replace(".","-");return name}}return undefined});return this.activeTargetInformationItemIdVE$wa2k}return{extend:"Ext.panel.Panel",userInformationView$wa2k:null,activeTargetInformationItemIdVE$wa2k:null,
constructor:CommentMetaDataPanelBase$,super$wa2k:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},showNumberOfContributions:showNumberOfContributions,checkAuthor:checkAuthor,toggleUserDetailsButton:toggleUserDetailsButton,setUserDetailsButtonText:setUserDetailsButtonText,getUserInformationView$wa2k:getUserInformationView,getActiveTargetInformationItemIdVE:getActiveTargetInformationItemIdVE,config:{contributionAdministration:null},statics:{USER_INFORMATION_VIEW_ID:"cm-elastic-social-detail-user-information"},
requires:["Ext.panel.Panel","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.elastic.social.studio.model.Comment","com.coremedia.elastic.social.studio.moderation.shared.details.base.ContributionUserInformationPanel"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentToolbarBase",function(CommentToolbarBase){function CommentToolbarBase$(config){if(arguments.length<=0)config=null;this.super$_miq(config);this.displayedValueExpression$_miq=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.DISPLAYED,AS3.getBindable(config,"abstractContribution"));this.displayedValueExpression$_miq.addChangeListener(AS3.bind(this,
"resetToolbarButtonsPressedState$_miq"))}function onDestroy(){this.displayedValueExpression$_miq.removeChangeListener(AS3.bind(this,"resetToolbarButtonsPressedState$_miq"));Ext.toolbar.Toolbar.prototype.onDestroy.call(this)}function resetToolbarButtonsPressedState(){this.itemCollection.each(function(item){if(item instanceof com.coremedia.ui.components.IconButton)AS3.as(item,com.coremedia.ui.components.IconButton).toggle(false)})}return{extend:"Ext.toolbar.Toolbar",displayedValueExpression$_miq:null,
constructor:CommentToolbarBase$,super$_miq:function(){Ext.toolbar.Toolbar.prototype.constructor.apply(this,arguments)},onDestroy:onDestroy,resetToolbarButtonsPressedState$_miq:resetToolbarButtonsPressedState,statics:{RICHTEXT_TOOLBAR_ITEMID:"richtextToolbar"},requires:["Ext.toolbar.Toolbar","com.coremedia.ui.components.IconButton","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentMetaDataPanel",function(CommentMetaDataPanel){function BLOCK$static_(){CommentMetaDataPanel.BLOCK=new com.coremedia.ui.models.bem.BEMBlock("cm-comment-metadata-panel")}function ELEMENT_LEFT$static_(){CommentMetaDataPanel.ELEMENT_LEFT=CommentMetaDataPanel.BLOCK.createElement("left")}function ELEMENT_RIGHT$static_(){CommentMetaDataPanel.ELEMENT_RIGHT=CommentMetaDataPanel.BLOCK.createElement("right")}function CommentMetaDataPanel$(config){if(arguments.length<=
0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentMetaDataPanelBase,{});var defaults_$1=AS3.cast(CommentMetaDataPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var es_ContributionUserInformationPanel_37_5_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.base.ContributionUserInformationPanel,{});es_ContributionUserInformationPanel_37_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentMetaDataPanelBase.USER_INFORMATION_VIEW_ID);
es_ContributionUserInformationPanel_37_5_$1.flex=1;AS3.setBindable(es_ContributionUserInformationPanel_37_5_$1,"userAdministration",AS3.getBindable(config,"userAdministration"));AS3.setBindable(es_ContributionUserInformationPanel_37_5_$1,"authorProvider",AS3.getBindable(config,"authorProvider"));es_ContributionUserInformationPanel_37_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.PanelSkin.GRID_200.getSkin());var ui_BEMMixin_42_9_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,{});AS3.setBindable(ui_BEMMixin_42_9_$1,
"bemElement",CommentMetaDataPanel.ELEMENT_LEFT);delete ui_BEMMixin_42_9_$1["xtype"];delete ui_BEMMixin_42_9_$1["xclass"];net.jangaroo.ext.Exml.apply(es_ContributionUserInformationPanel_37_5_$1,ui_BEMMixin_42_9_$1);var ui_SwitchingContainer_45_5_$1=AS3.cast(com.coremedia.ui.components.SwitchingContainer,{});ui_SwitchingContainer_45_5_$1.itemId=net.jangaroo.ext.Exml.asString(CommentMetaDataPanel.TARGET_INFORMATION_CONTAINER_ITEM_ID);ui_SwitchingContainer_45_5_$1.flex=1;AS3.setBindable(ui_SwitchingContainer_45_5_$1,
"activeItemValueExpression",this.getActiveTargetInformationItemIdVE());var fx_Object_49_9_$1=Object({});fx_Object_49_9_$1.contributionAdministration=AS3.getBindable(config,"contributionAdministration");ui_SwitchingContainer_45_5_$1["defaultType"]=fx_Object_49_9_$1["xtype"];delete fx_Object_49_9_$1["xtype"];delete fx_Object_49_9_$1["xclass"];ui_SwitchingContainer_45_5_$1.defaults=fx_Object_49_9_$1;var es_ContentInformationContainer_52_9_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.base.ContentInformationContainer,
{});es_ContentInformationContainer_52_9_$1.itemId=net.jangaroo.ext.Exml.asString(CommentMetaDataPanel.CONTENT_INFORMATION_CONTAINER_ITEM_ID);ui_SwitchingContainer_45_5_$1.items=[es_ContentInformationContainer_52_9_$1];var layout_Card_55_9_$1=AS3.cast(Ext.layout.container.Card,{});AS3.setBindable(ui_SwitchingContainer_45_5_$1,"layout",layout_Card_55_9_$1);var ui_BEMMixin_58_9_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,{});AS3.setBindable(ui_BEMMixin_58_9_$1,"bemElement",CommentMetaDataPanel.ELEMENT_RIGHT);
delete ui_BEMMixin_58_9_$1["xtype"];delete ui_BEMMixin_58_9_$1["xclass"];net.jangaroo.ext.Exml.apply(ui_SwitchingContainer_45_5_$1,ui_BEMMixin_58_9_$1);config_$1.items=[es_ContributionUserInformationPanel_37_5_$1,ui_SwitchingContainer_45_5_$1];var ui_BEMPlugin_63_5_$1=AS3.cast(com.coremedia.ui.plugins.BEMPlugin,{});AS3.setBindable(ui_BEMPlugin_63_5_$1,"block",CommentMetaDataPanel.BLOCK);config_$1.plugins=[ui_BEMPlugin_63_5_$1];var layout_HBox_66_5_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_66_5_$1,
"align","stretch");AS3.setBindable(config_$1,"layout",layout_HBox_66_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$vImz(config_$1)}return{extend:"com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentMetaDataPanelBase",alias:"widget.com.coremedia.elastic.social.studio.config.commentMetaDataPanel",constructor:CommentMetaDataPanel$,super$vImz:function(){com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentMetaDataPanelBase.prototype.constructor.apply(this,
arguments)},config:{userAdministration:null,authorProvider:null},statics:{CONTENT_INFORMATION_CONTAINER_ITEM_ID:"contentInformationContainer",TARGET_INFORMATION_CONTAINER_ITEM_ID:"targetInformationContainer",BLOCK:undefined,ELEMENT_LEFT:undefined,ELEMENT_RIGHT:undefined,__initStatics__:function(){BLOCK$static_();ELEMENT_LEFT$static_();ELEMENT_RIGHT$static_()}},requires:["Ext.layout.container.Card","Ext.layout.container.HBox","com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentMetaDataPanelBase",
"com.coremedia.ui.components.SwitchingContainer","com.coremedia.ui.models.bem.BEMBlock","com.coremedia.ui.plugins.BEMMixin","com.coremedia.ui.plugins.BEMPlugin","com.coremedia.ui.skins.PanelSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.moderation.shared.details.base.ContentInformationContainer","com.coremedia.elastic.social.studio.moderation.shared.details.base.ContributionUserInformationPanel"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentRichtextArea",function(CommentRichtextArea){function CommentRichtextArea$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentRichtextAreaBase,{});var defaults_$1=AS3.cast(CommentRichtextArea,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"listeners",{"focus":AS3.bind(this,"focused"),
"blur":AS3.bind(this,"blured")});var ui_BindPropertyPlugin_31_5_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_31_5_$1.bidirectional=true;var ui_ValueExpression_33_9_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_33_9_$1,"context",AS3.getBindable(config,"abstractContribution"));AS3.setBindable(ui_ValueExpression_33_9_$1,"expression",net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.utils.ValueExpressionUtil.createPath([com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.DISPLAYED,
com.coremedia.elastic.social.studio.model.CommentPropertyNames.TEXT])));ui_BindPropertyPlugin_31_5_$1.bindTo=new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_33_9_$1);var ui_WriteBeforeFlushPlugin_39_5_$1=AS3.cast(com.coremedia.ui.plugins.WriteBeforeFlushPlugin,{});AS3.setBindable(ui_WriteBeforeFlushPlugin_39_5_$1,"valueExpression",com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.utils.ValueExpressionUtil.createPath([AS3.getBindable(config,
"selectedProperty")]),AS3.getBindable(config,"abstractContribution")));var ui_RemoveCKEditorPluginsPlugin_42_5_$1=AS3.cast(com.coremedia.ui.plugins.ckeditor.RemoveCKEditorPluginsPlugin,{});AS3.setBindable(ui_RemoveCKEditorPluginsPlugin_42_5_$1,"plugins",["cmrichtextdataprocessor,cmstyles,classstyles,bbcode"]);var ui_AddCKEditorPluginsPlugin_43_5_$1=AS3.cast(com.coremedia.ui.plugins.ckeditor.AddCKEditorPluginsPlugin,{});AS3.setBindable(ui_AddCKEditorPluginsPlugin_43_5_$1,"plugins",["htmlwriter,elasticbbcode,entities"]);
var ui_CustomizeCKEditorPlugin_44_5_$1=AS3.cast(com.coremedia.ui.plugins.ckeditor.CustomizeCKEditorPlugin,{});var object_46_9_$1={};object_46_9_$1.blacklistFn=AS3.bind(this,"highlightBlacklisted");object_46_9_$1.forcePasteAsPlainText=true;ui_CustomizeCKEditorPlugin_44_5_$1.ckConfig=object_46_9_$1;config_$1.plugins=[ui_BindPropertyPlugin_31_5_$1,ui_WriteBeforeFlushPlugin_39_5_$1,ui_RemoveCKEditorPluginsPlugin_42_5_$1,ui_AddCKEditorPluginsPlugin_43_5_$1,ui_CustomizeCKEditorPlugin_44_5_$1];net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$WGRk(config_$1)}return{extend:"com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentRichtextAreaBase",alias:"widget.com.coremedia.elastic.social.studio.config.commentRichtextArea",constructor:CommentRichtextArea$,super$WGRk:function(){com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentRichtextAreaBase.prototype.constructor.apply(this,arguments)},config:{abstractContribution:null,selectedProperty:null,fix:false},requires:["com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentRichtextAreaBase",
"com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.exml.ValueExpression","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.WriteBeforeFlushPlugin","com.coremedia.ui.plugins.ckeditor.AddCKEditorPluginsPlugin","com.coremedia.ui.plugins.ckeditor.CustomizeCKEditorPlugin","com.coremedia.ui.plugins.ckeditor.RemoveCKEditorPluginsPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.model.CommentPropertyNames","com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames",
"com.coremedia.elastic.social.studio.model.utils.ValueExpressionUtil"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.comments.CuratedContentButton",function(CuratedContentButton){function CuratedContentButton$(config){if(arguments.length<=0)config=null;this.ariaLabel=com.coremedia.ui.util.EncodingUtil.encodeForHTML(config.content.getName());this.super$5WX0(config);this.content=config.content;AS3.setBindable(this,"handler",AS3.bind(this,"openTarget$5WX0"));AS3.setBindable(this,"text",com.coremedia.ui.util.EncodingUtil.encodeForHTML(this.content.getName()));
AS3.setBindable(this,"iconCls",getIconClass$static(this.content))}function openTarget(){if(this.content&&this.content.getState().readable)com.coremedia.cms.editor.sdk.editorContext.getContentTabManager().openDocument(this.content)}function getIconClass$static(content){content.load();var contentReadable=content.getState().readable;return contentReadable?com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.getIconStyleClassForContentType(content.getType()):mx.resources.ResourceManager.getInstance().getString("com.coremedia.icons.CoreIcons",
"no_rights")}return{extend:"Ext.button.Button",content:null,constructor:CuratedContentButton$,super$5WX0:function(){Ext.button.Button.prototype.constructor.apply(this,arguments)},openTarget$5WX0:openTarget,requires:["Ext.button.Button","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil","com.coremedia.ui.util.EncodingUtil","mx.resources.ResourceManager"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentView",function(CommentView){function CommentView$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentViewBase,{});var defaults_$1=AS3.cast(CommentView,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.PanelSkin.EMBEDDED.getSkin());var layout_VBox_56_5_$1=
AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_56_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_56_5_$1);var es_ContributionStatusContainer_61_5_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.base.ContributionStatusContainer,{});es_ContributionStatusContainer_61_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentViewBase.STATUS_VIEW_ID);AS3.setBindable(es_ContributionStatusContainer_61_5_$1,
"moderation",AS3.getBindable(config,"moderation"));var ui_BindVisibilityPlugin_64_9_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_64_9_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(AS3.getBindable(config,"showContributionHeader"));es_ContributionStatusContainer_61_5_$1.plugins=[ui_BindVisibilityPlugin_64_9_$1];es_ContributionStatusContainer_61_5_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var container_67_5_$1=AS3.cast(Ext.container.Container,
{});container_67_5_$1.itemId=net.jangaroo.ext.Exml.asString(CommentView.CENTER_CONTAINER_ITEM_ID);container_67_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.GRID_200.getSkin());container_67_5_$1.flex=1;AS3.setBindable(container_67_5_$1,"scrollable","y");var displayField_72_9_$1=AS3.cast(Ext.form.field.Display,{});displayField_72_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.DisplayFieldSkin.BOLD.getSkin());AS3.setBindable(displayField_72_9_$1,"value",
this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_details_title"));var panel_74_9_$1=AS3.cast(Ext.panel.Panel,{});AS3.setBindable(panel_74_9_$1,"minHeight",150);panel_74_9_$1.flex=1;panel_74_9_$1.header=false;var es_CommentToolbar_78_13_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentToolbar,{});es_CommentToolbar_78_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentViewBase.TOOLBAR_ITEM_ID);
es_CommentToolbar_78_13_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.FIELD.getSkin());AS3.setBindable(es_CommentToolbar_78_13_$1,"abstractContribution",AS3.getBindable(config,"abstractContributionAdministration"));AS3.setBindable(es_CommentToolbar_78_13_$1,"blacklistAdministration",AS3.getBindable(config,"blacklistAdministration"));AS3.setBindable(es_CommentToolbar_78_13_$1,"richTextAreaId",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"richTextAreaId")));panel_74_9_$1.tbar=
es_CommentToolbar_78_13_$1;var es_CommentRichtextArea_85_13_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentRichtextArea,{});es_CommentRichtextArea_85_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentViewBase.RICHTEXT_AREA_ITEM_ID);es_CommentRichtextArea_85_13_$1["id"]=AS3.getBindable(config,"richTextAreaId");AS3.setBindable(es_CommentRichtextArea_85_13_$1,"abstractContribution",AS3.getBindable(config,
"abstractContributionAdministration"));AS3.setBindable(es_CommentRichtextArea_85_13_$1,"blacklistAdministration",AS3.getBindable(config,"blacklistAdministration"));AS3.setBindable(es_CommentRichtextArea_85_13_$1,"selectedProperty",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"selectedProperty")));panel_74_9_$1.items=[es_CommentRichtextArea_85_13_$1];var layout_Fit_92_13_$1=AS3.cast(Ext.layout.container.Fit,{});AS3.setBindable(panel_74_9_$1,"layout",layout_Fit_92_13_$1);var es_AttachmentPanel_95_9_$1=
AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentPanel,{});es_AttachmentPanel_95_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentViewBase.ATTACHMENT_CONTAINER_ITEM_ID);AS3.setBindable(es_AttachmentPanel_95_9_$1,"contributionAdministration",AS3.getBindable(config,"abstractContributionAdministration"));var ui_BindVisibilityPlugin_98_13_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,
{});ui_BindVisibilityPlugin_98_13_$1.bindTo=this.getVisibleExp();es_AttachmentPanel_95_9_$1.plugins=[ui_BindVisibilityPlugin_98_13_$1];var es_CommentExtensionTabPanel_102_9_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentExtensionTabPanel,{});es_CommentExtensionTabPanel_102_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentViewBase.EXTENSION_TAB_PANEL_ITEM_ID);AS3.setBindable(es_CommentExtensionTabPanel_102_9_$1,
"activeItem",0);AS3.setBindable(es_CommentExtensionTabPanel_102_9_$1,"minHeight",180);es_CommentExtensionTabPanel_102_9_$1.flex=1;var es_CommentMetaDataPanel_107_13_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentMetaDataPanel,{});es_CommentMetaDataPanel_107_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentViewBase.META_DATA_VIEW_ITEM_ID);AS3.setBindable(es_CommentMetaDataPanel_107_13_$1,
"title",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","contributiondetail_tab_info_title"));AS3.setBindable(es_CommentMetaDataPanel_107_13_$1,"contributionAdministration",AS3.getBindable(config,"abstractContributionAdministration"));AS3.setBindable(es_CommentMetaDataPanel_107_13_$1,"userAdministration",AS3.getBindable(config,"userAdministration"));AS3.setBindable(es_CommentMetaDataPanel_107_13_$1,"authorProvider",AS3.bind(this,"provideAuthor"));var es_UserContributionAnnotationContainer_112_13_$1=
AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.base.UserContributionAnnotationContainer,{});es_UserContributionAnnotationContainer_112_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentViewBase.USER_ANNOTATION_CONTAINER_ITEM_ID);AS3.setBindable(es_UserContributionAnnotationContainer_112_13_$1,"moderationContributionAdministration",AS3.getBindable(config,"abstractContributionAdministration"));AS3.setBindable(es_UserContributionAnnotationContainer_112_13_$1,
"title",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","contributiondetail_tab_info_annotation"));var es_CuratedContentPanel_115_13_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.comments.CuratedContentPanel,{});es_CuratedContentPanel_115_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentViewBase.CURATED_CONTENT_PANEL_ITEM_ID);AS3.setBindable(es_CuratedContentPanel_115_13_$1,
"abstractContribution",AS3.getBindable(config,"abstractContributionAdministration"));es_CommentExtensionTabPanel_102_9_$1.items=[es_CommentMetaDataPanel_107_13_$1,es_UserContributionAnnotationContainer_112_13_$1,es_CuratedContentPanel_115_13_$1];container_67_5_$1.items=[displayField_72_9_$1,panel_74_9_$1,es_AttachmentPanel_95_9_$1,es_CommentExtensionTabPanel_102_9_$1];var ui_VerticalSpacingPlugin_121_9_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});container_67_5_$1.plugins=[ui_VerticalSpacingPlugin_121_9_$1];
var layout_VBox_124_9_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_124_9_$1,"align","stretch");AS3.setBindable(container_67_5_$1,"layout",layout_VBox_124_9_$1);config_$1.items=[es_ContributionStatusContainer_61_5_$1,container_67_5_$1];var es_ProcessContributionToolbar_131_5_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.base.ProcessContributionToolbar,{});es_ProcessContributionToolbar_131_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentViewBase.PROCESS_CONTRIBUTION_VIEW_ITEM_ID);
AS3.setBindable(es_ProcessContributionToolbar_131_5_$1,"dock","bottom");es_ProcessContributionToolbar_131_5_$1["focusableContainer"]=false;AS3.setBindable(es_ProcessContributionToolbar_131_5_$1,"abstractContributionAdministration",AS3.getBindable(config,"abstractContributionAdministration"));var es_ApproveCommentAction_136_9_$1=AS3.cast(com.coremedia.elastic.social.studio.actions.ApproveCommentAction,{});AS3.setBindable(es_ApproveCommentAction_136_9_$1,"contributionValueExpression",com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.DISPLAYED,
AS3.getBindable(config,"abstractContributionAdministration")));AS3.setBindable(es_ProcessContributionToolbar_131_5_$1,"approveAction",new com.coremedia.elastic.social.studio.actions.ApproveCommentAction(es_ApproveCommentAction_136_9_$1));var es_RejectCommentAction_140_9_$1=AS3.cast(com.coremedia.elastic.social.studio.actions.RejectCommentAction,{});AS3.setBindable(es_RejectCommentAction_140_9_$1,"contributionValueExpression",com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.DISPLAYED,
AS3.getBindable(config,"abstractContributionAdministration")));AS3.setBindable(es_ProcessContributionToolbar_131_5_$1,"rejectAction",new com.coremedia.elastic.social.studio.actions.RejectCommentAction(es_RejectCommentAction_140_9_$1));config_$1.dockedItems=[es_ProcessContributionToolbar_131_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$x85T(config_$1)}return{extend:"com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentViewBase",alias:"widget.com.coremedia.elastic.social.studio.config.commentView",
constructor:CommentView$,super$x85T:function(){com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentViewBase.prototype.constructor.apply(this,arguments)},config:{abstractContributionAdministration:null,blacklistAdministration:null,userAdministration:null,moderation:null,richTextAreaId:null,selectedProperty:null,richtextContainerHeight:0,showContributionHeader:false},statics:{CENTER_CONTAINER_ITEM_ID:"center-container"},requires:["Ext.container.Container","Ext.form.field.Display",
"Ext.layout.container.Fit","Ext.layout.container.VBox","Ext.panel.Panel","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentViewBase","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.BindVisibilityPlugin","com.coremedia.ui.plugins.VerticalSpacingPlugin","com.coremedia.ui.skins.ContainerSkin","com.coremedia.ui.skins.DisplayFieldSkin","com.coremedia.ui.skins.PanelSkin","com.coremedia.ui.skins.ToolbarSkin",
"net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.actions.ApproveCommentAction","com.coremedia.elastic.social.studio.actions.RejectCommentAction","com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames","com.coremedia.elastic.social.studio.moderation.shared.details.base.ContributionStatusContainer","com.coremedia.elastic.social.studio.moderation.shared.details.base.ProcessContributionToolbar","com.coremedia.elastic.social.studio.moderation.shared.details.base.UserContributionAnnotationContainer",
"com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentExtensionTabPanel","com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentMetaDataPanel","com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentRichtextArea","com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentToolbar","com.coremedia.elastic.social.studio.moderation.shared.details.comments.CuratedContentPanel","com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentPanel"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentRichtextAreaBase",function(CommentRichtextAreaBase){function CommentRichtextAreaBase$(config){if(arguments.length<=0)config=null;this.moderationContributionAdministration$nrhV=AS3.getBindable(config,"abstractContribution");AS3.setBindable(this,"blacklistAdministration",AS3.getBindable(config,"blacklistAdministration"));this.blacklistValueExpression$nrhV=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.BlacklistAdministrationPropertyNames.BLACKLIST,
AS3.getBindable(config,"blacklistAdministration"));this.super$nrhV(config);this.blacklistValueExpression$nrhV.addChangeListener(AS3.bind(this,"blacklistChanged$nrhV"))}function onDestroy(){this.blacklistValueExpression$nrhV.removeChangeListener(AS3.bind(this,"blacklistChanged$nrhV"));com.coremedia.ui.ckeditor.RichTextArea.prototype.onDestroy.call(this)}function highlightBlacklisted(text,blacklistStartTag,blacklistEndTag){return AS3.getBindable(this,"blacklistAdministration").highlightBlacklisted(text,
blacklistStartTag,blacklistEndTag)}function focused(){if(this.getBlacklistWindow$nrhV())this.getBlacklistWindow$nrhV().hide();this.moderationContributionAdministration$nrhV.pausePolling()}function blured(){this.moderationContributionAdministration$nrhV.startPolling(false)}function blacklistChanged(){var ckEditor=this.getCKEditor();ckEditor&&ckEditor.setData(this.getValue())}function getBlacklistWindow(){if(!this.blackListWindow$nrhV){var parentCommentView=AS3.as(this.findParentByType(com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentView.xtype),
com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentView);if(parentCommentView){var blacklistToolbarBtn=AS3.as(parentCommentView.down(com.coremedia.ui.util.createComponentSelector()._xtype(com.coremedia.elastic.social.studio.moderation.shared.details.base.BlacklistToolbarButton.xtype).build()),com.coremedia.elastic.social.studio.moderation.shared.details.base.BlacklistToolbarButton);if(blacklistToolbarBtn)this.blackListWindow$nrhV=blacklistToolbarBtn.getBlackListWindow()}}return this.blackListWindow$nrhV}
return{extend:"com.coremedia.ui.ckeditor.RichTextArea",moderationContributionAdministration$nrhV:null,blacklistValueExpression$nrhV:null,blackListWindow$nrhV:null,constructor:CommentRichtextAreaBase$,super$nrhV:function(){com.coremedia.ui.ckeditor.RichTextArea.prototype.constructor.apply(this,arguments)},onDestroy:onDestroy,highlightBlacklisted:highlightBlacklisted,focused:focused,blured:blured,blacklistChanged$nrhV:blacklistChanged,getBlacklistWindow$nrhV:getBlacklistWindow,config:{blacklistAdministration:null},
requires:["com.coremedia.ui.ckeditor.RichTextArea","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.util.createComponentSelector"],uses:["com.coremedia.elastic.social.studio.model.BlacklistAdministrationPropertyNames","com.coremedia.elastic.social.studio.moderation.shared.details.base.BlacklistToolbarButton","com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentView"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentToolbar",function(CommentToolbar){function CommentToolbar$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentToolbarBase,{});var defaults_$1=AS3.cast(CommentToolbar,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.enableOverflow=false;config_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentToolbarBase.RICHTEXT_TOOLBAR_ITEMID);
config_$1.defaultButtonUI=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.TOOLBAR.getSkin());var ui_IconButton_36_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});var ui_RichTextAction_38_9_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextAction,{});AS3.setBindable(ui_RichTextAction_38_9_$1,"commandName","undo");ui_IconButton_36_5_$1.baseAction=new com.coremedia.ui.ckeditor.RichTextAction(ui_RichTextAction_38_9_$1);var ui_IconButton_41_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,
{});var ui_RichTextAction_43_9_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextAction,{});AS3.setBindable(ui_RichTextAction_43_9_$1,"commandName","redo");ui_IconButton_41_5_$1.baseAction=new com.coremedia.ui.ckeditor.RichTextAction(ui_RichTextAction_43_9_$1);var tbSeparator_46_5_$1=AS3.cast(Ext.toolbar.Separator,{});var es_BlacklistToolbarButton_47_5_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.base.BlacklistToolbarButton,{});AS3.setBindable(es_BlacklistToolbarButton_47_5_$1,
"tooltip",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","blacklist_open_button_tooltop"));AS3.setBindable(es_BlacklistToolbarButton_47_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","blacklist_open_button_tooltop")));AS3.setBindable(es_BlacklistToolbarButton_47_5_$1,"blacklistAdministration",AS3.getBindable(config,"blacklistAdministration"));AS3.setBindable(es_BlacklistToolbarButton_47_5_$1,
"richTextAreaId",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"richTextAreaId")));var tbSeparator_52_5_$1=AS3.cast(Ext.toolbar.Separator,{});var ui_IconButton_53_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});var ui_RichTextAction_55_9_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextAction,{});AS3.setBindable(ui_RichTextAction_55_9_$1,"commandName","bold");ui_IconButton_53_5_$1.baseAction=new com.coremedia.ui.ckeditor.RichTextAction(ui_RichTextAction_55_9_$1);var ui_IconButton_58_5_$1=
AS3.cast(com.coremedia.ui.components.IconButton,{});var ui_RichTextAction_60_9_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextAction,{});AS3.setBindable(ui_RichTextAction_60_9_$1,"commandName","italic");ui_IconButton_58_5_$1.baseAction=new com.coremedia.ui.ckeditor.RichTextAction(ui_RichTextAction_60_9_$1);var ui_IconButton_63_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});AS3.setBindable(ui_IconButton_63_5_$1,"tooltip",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"quote_button_tooltip"));var ui_RichTextAction_66_9_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextAction,{});AS3.setBindable(ui_RichTextAction_66_9_$1,"commandName","blockquote");ui_IconButton_63_5_$1.baseAction=new com.coremedia.ui.ckeditor.RichTextAction(ui_RichTextAction_66_9_$1);var ui_IconButton_69_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});var ui_RichTextAction_71_9_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextAction,{});AS3.setBindable(ui_RichTextAction_71_9_$1,"commandName",
"link");ui_IconButton_69_5_$1.baseAction=new com.coremedia.ui.ckeditor.RichTextAction(ui_RichTextAction_71_9_$1);var ui_IconButton_74_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});var ui_RichTextAction_76_9_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextAction,{});AS3.setBindable(ui_RichTextAction_76_9_$1,"commandName","unlink");ui_IconButton_74_5_$1.baseAction=new com.coremedia.ui.ckeditor.RichTextAction(ui_RichTextAction_76_9_$1);config_$1.items=[ui_IconButton_36_5_$1,ui_IconButton_41_5_$1,
tbSeparator_46_5_$1,es_BlacklistToolbarButton_47_5_$1,tbSeparator_52_5_$1,ui_IconButton_53_5_$1,ui_IconButton_58_5_$1,ui_IconButton_63_5_$1,ui_IconButton_69_5_$1,ui_IconButton_74_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$N2d3(config_$1)}return{extend:"com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentToolbarBase",alias:"widget.com.coremedia.elastic.social.studio.config.commentToolbar",constructor:CommentToolbar$,super$N2d3:function(){com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentToolbarBase.prototype.constructor.apply(this,
arguments)},config:{abstractContribution:null,blacklistAdministration:null,richTextAreaId:null},requires:["Ext.toolbar.Separator","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentToolbarBase","com.coremedia.ui.ckeditor.RichTextAction","com.coremedia.ui.components.IconButton","com.coremedia.ui.skins.ButtonSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.moderation.shared.details.base.BlacklistToolbarButton"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileExtensionTabPanel",function(UserProfileExtensionTabPanel){function UserProfileExtensionTabPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.tab.Panel,{});var defaults_$1=AS3.cast(UserProfileExtensionTabPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.TabBarSkin.WORKAREA_PANEL.getSkin());net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$ctw0(config_$1)}return{extend:"Ext.tab.Panel",alias:"widget.com.coremedia.elastic.social.studio.config.userProfileExtensionTabPanel",constructor:UserProfileExtensionTabPanel$,super$ctw0:function(){Ext.tab.Panel.prototype.constructor.apply(this,arguments)},requires:["Ext.tab.Panel","com.coremedia.ui.skins.TabBarSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileDetailsView",function(UserProfileDetailsView){function UserProfileDetailsView$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileDetailsViewBase,{});var defaults_$1=AS3.cast(UserProfileDetailsView,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.PanelSkin.GRID_200.getSkin());
AS3.setBindable(config_$1,"minHeight",140);var layout_HBox_32_5_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(config_$1,"layout",layout_HBox_32_5_$1);var container_35_5_$1=AS3.cast(Ext.container.Container,{});var container_37_9_$1=AS3.cast(Ext.container.Container,{});container_37_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.FRAME_GRID_200);AS3.setBindable(container_37_9_$1,"width",90);container_37_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileDetailsViewBase.NO_IMAGE_ID);
AS3.setBindable(container_37_9_$1,"margin","0 30 0 0");AS3.setBindable(container_37_9_$1,"height",90);var layout_Center_43_13_$1=AS3.cast(Ext.layout.container.Center,{});AS3.setBindable(container_37_9_$1,"layout",layout_Center_43_13_$1);var ui_IconDisplayField_46_13_$1=AS3.cast(com.coremedia.ui.components.IconDisplayField,{});ui_IconDisplayField_46_13_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.IconDisplayFieldSkin.DOUBLE.getSkin());AS3.setBindable(ui_IconDisplayField_46_13_$1,"iconCls",
net.jangaroo.ext.Exml.asString(com.coremedia.icons.CoreIcons_properties.INSTANCE.user));container_37_9_$1.items=[ui_IconDisplayField_46_13_$1];var container_50_9_$1=AS3.cast(Ext.container.Container,{});var layout_VBox_52_13_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(container_50_9_$1,"layout",layout_VBox_52_13_$1);var ui_Image_55_13_$1=AS3.cast(com.coremedia.ui.components.Image,{});ui_Image_55_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileDetailsViewBase.IMAGE_ID);
AS3.setBindable(ui_Image_55_13_$1,"maxWidth",90);AS3.setBindable(ui_Image_55_13_$1,"margin","0 30 0 0");AS3.setBindable(ui_Image_55_13_$1,"maxHeight",90);var ui_BindPropertyPlugin_60_17_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_60_17_$1.componentProperty="src";ui_BindPropertyPlugin_60_17_$1.transformer=AS3.bind(this,"getBlobUri");ui_BindPropertyPlugin_60_17_$1.bidirectional=true;ui_BindPropertyPlugin_60_17_$1.ifUndefined="";var ui_ValueExpression_65_21_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,
{});AS3.setBindable(ui_ValueExpression_65_21_$1,"context",AS3.getBindable(config,"moderation").getModerationContributionAdministration());AS3.setBindable(ui_ValueExpression_65_21_$1,"expression",net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.utils.ValueExpressionUtil.createPath([com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.DISPLAYED,com.coremedia.elastic.social.studio.model.UserPropertyNames.IMAGE])));ui_BindPropertyPlugin_60_17_$1.bindTo=
new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_65_21_$1);ui_Image_55_13_$1.plugins=[ui_BindPropertyPlugin_60_17_$1];var button_73_13_$1=AS3.cast(Ext.button.Button,{});button_73_13_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE.getSkin());AS3.setBindable(button_73_13_$1,"scale","small");AS3.setBindable(button_73_13_$1,"textAlign","left");AS3.setBindable(button_73_13_$1,"margin","0 0 0 -10");button_73_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileDetailsViewBase.DELETE_USER_IMAGE_BUTTON_ITEM_ID);
AS3.setBindable(button_73_13_$1,"tooltip",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_delete_image_message_tooltip"));AS3.setBindable(button_73_13_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_delete_image_message_title")));var es_DeleteUserImageAction_81_17_$1=AS3.cast(com.coremedia.elastic.social.studio.usermanagement.actions.DeleteUserImageAction,
{});AS3.setBindable(es_DeleteUserImageAction_81_17_$1,"userValueExpression",this.getUserImageValueExpressionPath(AS3.getBindable(config,"moderation")));AS3.setBindable(es_DeleteUserImageAction_81_17_$1,"iconCls","");button_73_13_$1.baseAction=new com.coremedia.elastic.social.studio.usermanagement.actions.DeleteUserImageAction(es_DeleteUserImageAction_81_17_$1);var ui_BindVisibilityPlugin_85_17_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});var ui_ValueExpression_87_21_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,
{});AS3.setBindable(ui_ValueExpression_87_21_$1,"context",AS3.getBindable(config,"moderation").getModerationContributionAdministration());AS3.setBindable(ui_ValueExpression_87_21_$1,"expression",net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.utils.ValueExpressionUtil.createPath([com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.DISPLAYED,com.coremedia.elastic.social.studio.model.UserPropertyNames.IMAGE])));ui_BindVisibilityPlugin_85_17_$1.bindTo=
new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_87_21_$1);button_73_13_$1.plugins=[ui_BindVisibilityPlugin_85_17_$1];container_50_9_$1.items=[ui_Image_55_13_$1,button_73_13_$1];var ui_VerticalSpacingPlugin_97_13_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});container_50_9_$1.plugins=[ui_VerticalSpacingPlugin_97_13_$1];container_35_5_$1.items=[container_37_9_$1,container_50_9_$1];var container_102_5_$1=AS3.cast(Ext.container.Container,{});container_102_5_$1.flex=1;container_102_5_$1.itemId=
net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileDetailsViewBase.DETAILS_FORM_ITEM_ID);var textField_105_9_$1=AS3.cast(Ext.form.field.Text,{});textField_105_9_$1.labelSeparator="";container_102_5_$1["defaultType"]=textField_105_9_$1["xtype"];delete textField_105_9_$1["xtype"];delete textField_105_9_$1["xclass"];container_102_5_$1.defaults=textField_105_9_$1;var layout_VBox_108_9_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_108_9_$1,
"align","stretch");AS3.setBindable(container_102_5_$1,"layout",layout_VBox_108_9_$1);var textField_111_9_$1=AS3.cast(Ext.form.field.Text,{});textField_111_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileDetailsViewBase.NAME_FIELD_ITEM_ID);AS3.setBindable(textField_111_9_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_name_field_label")));
textField_111_9_$1.checkChangeBuffer=300;var ui_BindPropertyPlugin_115_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_115_13_$1.bindTo=com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileDetailsViewBase.getUserValueExpressionFor(AS3.getBindable(config,"moderation"),com.coremedia.elastic.social.studio.model.UserPropertyNames.NAME);ui_BindPropertyPlugin_115_13_$1.ifUndefined="";ui_BindPropertyPlugin_115_13_$1.bidirectional=true;ui_BindPropertyPlugin_115_13_$1.reverseTransformer=
AS3.bind(this,"setModified");var es_BeanValidatorPlugin_119_13_$1=AS3.cast(com.coremedia.elastic.social.studio.plugins.BeanValidatorPlugin,{});AS3.setBindable(es_BeanValidatorPlugin_119_13_$1,"property",net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.UserPropertyNames.NAME));es_BeanValidatorPlugin_119_13_$1.bindTo=com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileDetailsViewBase.getUserValueExpressionFor(AS3.getBindable(config,"moderation"),com.coremedia.elastic.social.studio.model.UserPropertyNames.NAME);
textField_111_9_$1.plugins=[ui_BindPropertyPlugin_115_13_$1,es_BeanValidatorPlugin_119_13_$1];var textField_123_9_$1=AS3.cast(Ext.form.field.Text,{});textField_123_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileDetailsViewBase.GIVEN_NAME_FIELD_ITEM_ID);AS3.setBindable(textField_123_9_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"userdetail_givenname_field_label")));textField_123_9_$1.checkChangeBuffer=300;var ui_BindPropertyPlugin_127_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_127_13_$1.bindTo=com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileDetailsViewBase.getUserValueExpressionFor(AS3.getBindable(config,"moderation"),com.coremedia.elastic.social.studio.model.UserPropertyNames.GIVENNAME);ui_BindPropertyPlugin_127_13_$1.ifUndefined="";ui_BindPropertyPlugin_127_13_$1.bidirectional=
true;ui_BindPropertyPlugin_127_13_$1.reverseTransformer=AS3.bind(this,"setModified");textField_123_9_$1.plugins=[ui_BindPropertyPlugin_127_13_$1];var textField_133_9_$1=AS3.cast(Ext.form.field.Text,{});textField_133_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileDetailsViewBase.SURNAME_FIELD_ITEM_ID);AS3.setBindable(textField_133_9_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"userdetail_surname_field_label")));textField_133_9_$1.checkChangeBuffer=300;var ui_BindPropertyPlugin_137_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_137_13_$1.bindTo=com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileDetailsViewBase.getUserValueExpressionFor(AS3.getBindable(config,"moderation"),com.coremedia.elastic.social.studio.model.UserPropertyNames.SURNAME);ui_BindPropertyPlugin_137_13_$1.ifUndefined="";ui_BindPropertyPlugin_137_13_$1.bidirectional=
true;ui_BindPropertyPlugin_137_13_$1.reverseTransformer=AS3.bind(this,"setModified");textField_133_9_$1.plugins=[ui_BindPropertyPlugin_137_13_$1];var textField_143_9_$1=AS3.cast(Ext.form.field.Text,{});textField_143_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileDetailsViewBase.EMAIL_FIELD_ITEM_ID);AS3.setBindable(textField_143_9_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"userdetail_email_field_label")));textField_143_9_$1.allowBlank=false;textField_143_9_$1.checkChangeBuffer=300;var ui_BindPropertyPlugin_148_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_148_13_$1.bindTo=com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileDetailsViewBase.getUserValueExpressionFor(AS3.getBindable(config,"moderation"),com.coremedia.elastic.social.studio.model.UserPropertyNames.EMAIL);ui_BindPropertyPlugin_148_13_$1.ifUndefined=
"";ui_BindPropertyPlugin_148_13_$1.bidirectional=true;ui_BindPropertyPlugin_148_13_$1.transformer=AS3.bind(this,"trimMail");ui_BindPropertyPlugin_148_13_$1.reverseTransformer=AS3.bind(this,"setModified");var es_BeanValidatorPlugin_153_13_$1=AS3.cast(com.coremedia.elastic.social.studio.plugins.BeanValidatorPlugin,{});AS3.setBindable(es_BeanValidatorPlugin_153_13_$1,"property",net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.UserPropertyNames.EMAIL));es_BeanValidatorPlugin_153_13_$1.bindTo=
com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileDetailsViewBase.getUserValueExpressionFor(AS3.getBindable(config,"moderation"),com.coremedia.elastic.social.studio.model.UserPropertyNames.EMAIL);textField_143_9_$1.plugins=[ui_BindPropertyPlugin_148_13_$1,es_BeanValidatorPlugin_153_13_$1];container_102_5_$1.items=[textField_111_9_$1,textField_123_9_$1,textField_133_9_$1,textField_143_9_$1];var ui_VerticalSpacingPlugin_159_9_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,
{});container_102_5_$1.plugins=[ui_VerticalSpacingPlugin_159_9_$1];config_$1.items=[container_35_5_$1,container_102_5_$1];var ui_HorizontalSpacingPlugin_164_5_$1=AS3.cast(com.coremedia.ui.plugins.HorizontalSpacingPlugin,{});AS3.setBindable(ui_HorizontalSpacingPlugin_164_5_$1,"modifier",com.coremedia.ui.bem.SpacingBEMEntities.HORIZONTAL_SPACING_MODIFIER_200);config_$1.plugins=[ui_HorizontalSpacingPlugin_164_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$wpiv(config_$1)}return{extend:"com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileDetailsViewBase",
alias:"widget.com.coremedia.elastic.social.studio.config.userProfileDetailsView",constructor:UserProfileDetailsView$,super$wpiv:function(){com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileDetailsViewBase.prototype.constructor.apply(this,arguments)},requires:["Ext.button.Button","Ext.container.Container","Ext.form.field.Text","Ext.layout.container.Center","Ext.layout.container.HBox","Ext.layout.container.VBox","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties",
"com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileDetailsViewBase","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.bem.SpacingBEMEntities","com.coremedia.ui.components.IconDisplayField","com.coremedia.ui.components.Image","com.coremedia.ui.exml.ValueExpression","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.BindVisibilityPlugin","com.coremedia.ui.plugins.HorizontalSpacingPlugin","com.coremedia.ui.plugins.VerticalSpacingPlugin","com.coremedia.ui.skins.ButtonSkin",
"com.coremedia.ui.skins.ContainerSkin","com.coremedia.ui.skins.IconDisplayFieldSkin","com.coremedia.ui.skins.PanelSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames","com.coremedia.elastic.social.studio.model.UserPropertyNames","com.coremedia.elastic.social.studio.model.utils.ValueExpressionUtil","com.coremedia.elastic.social.studio.plugins.BeanValidatorPlugin","com.coremedia.elastic.social.studio.usermanagement.actions.DeleteUserImageAction"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileViewBase",function(UserProfileViewBase){function UserProfileViewBase$(config){if(arguments.length<=0)config=null;this.moderationContributionAdministration$4sqa=AS3.as(AS3.getBindable(config,"moderation").getModerationContributionAdministration(),com.coremedia.elastic.social.studio.model.impl.ModerationContributionAdministration);this.userValueExpression$4sqa=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.DISPLAYED,
this.moderationContributionAdministration$4sqa);this.numberOfComplaintsValueExpression$4sqa=this.userValueExpression$4sqa.extendBy(com.coremedia.elastic.social.studio.model.ContributionPropertyNames.NUMBER_OF_COMPLAINTS);this.userStateValueExpression$4sqa=this.userValueExpression$4sqa.extendBy(com.coremedia.elastic.social.studio.model.ContributionPropertyNames.STATE);this.userNameValueExpression$4sqa=this.userValueExpression$4sqa.extendBy(com.coremedia.elastic.social.studio.model.UserPropertyNames.NAME);
this.numberOfContributionsValueExpression$4sqa=this.userValueExpression$4sqa.extendBy(com.coremedia.elastic.social.studio.model.UserPropertyNames.NUMBER_OF_CONTRIBUTIONS);this.numberOfRejectedContributionsValueExpression$4sqa=this.userValueExpression$4sqa.extendBy(com.coremedia.elastic.social.studio.model.UserPropertyNames.REJECTED_CONTRIBUTIONS);this.super$4sqa(config)}function onDestroy(){Ext.panel.Panel.prototype.onDestroy.call(this);this.active$4sqa&&this.removeAllListener$4sqa()}function afterRender(){Ext.panel.Panel.prototype.afterRender.call(this);
this.toggleDeleteUserImageButton$4sqa()}function activated(activator){var this$=this;this.userValueExpression$4sqa.addChangeListener(AS3.bind(this,"toggleUserDetailsButton$4sqa"));this.userValueExpression$4sqa.addChangeListener(AS3.bind(this,"checkAuthor$4sqa"));this.userValueExpression$4sqa.addChangeListener(AS3.bind(this,"showStatus$4sqa"));this.userValueExpression$4sqa.addChangeListener(AS3.bind(this,"showCreationDate$4sqa"));this.userValueExpression$4sqa.addChangeListener(AS3.bind(this,"showNumberOfContributions$4sqa"));
this.userValueExpression$4sqa.addChangeListener(AS3.bind(this,"toggleDeleteUserImageButton$4sqa"));this.userValueExpression$4sqa.addChangeListener(AS3.bind(this,"updateApproveButtonFromValueExp$4sqa"));this.userValueExpression$4sqa.addChangeListener(AS3.bind(this,"loadUserNotes$4sqa"));this.userValueExpression$4sqa.addChangeListener(AS3.bind(this,"refreshRejectButtonLabel$4sqa"));this.numberOfContributionsValueExpression$4sqa.addChangeListener(AS3.bind(this,"showNumberOfContributions$4sqa"));this.numberOfRejectedContributionsValueExpression$4sqa.addChangeListener(AS3.bind(this,
"showNumberOfContributions$4sqa"));this.numberOfComplaintsValueExpression$4sqa.addChangeListener(AS3.bind(this,"showStatus$4sqa"));this.userNameValueExpression$4sqa.addChangeListener(AS3.bind(this,"selectNextContributionIfUserIsAnonymized$4sqa"));this.userStateValueExpression$4sqa.addChangeListener(AS3.bind(this,"showNumberOfContributions$4sqa"));this.userStateValueExpression$4sqa.addChangeListener(AS3.bind(this,"toggleUserDetailsButton$4sqa"));this.userStateValueExpression$4sqa.addChangeListener(AS3.bind(this,
"refreshRejectButtonLabel$4sqa"));this.userStateValueExpression$4sqa.addChangeListener(AS3.bind(this,"showStatus$4sqa"));this.getUserDetailView$4sqa().addListener(com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileDetailsViewBase.MODIFIED_EVENT,AS3.bind(this,"updateApproveButtonFromValueExp$4sqa"));com.coremedia.ui.util.EventUtil.invokeLater(function(){this$.toggleUserDetailsButton$4sqa();this$.checkAuthor$4sqa();this$.toggleUserDetailsButton$4sqa();this$.showNumberOfContributions$4sqa();
this$.refreshRejectButtonLabel$4sqa();this$.showStatus$4sqa();this$.showCreationDate$4sqa();this$.refreshApproveButtonLabel$4sqa();this$.loadUserNotes$4sqa();this$.itemCollection.each(function(component){var activatable=AS3.as(component,com.coremedia.elastic.social.studio.moderation.moderationtab.Activatable);if(activatable)this$.activate$4sqa(activatable)})});this.active$4sqa=true}function activate(activatable){activatable.activated(this)}function deactivated(){this.active$4sqa&&this.removeAllListener$4sqa();
this.itemCollection.each(function(component){var activatable=AS3.as(component,com.coremedia.elastic.social.studio.moderation.moderationtab.Activatable);if(activatable)activatable.deactivated()});this.active$4sqa=false}function removeAllListener(){this.userValueExpression$4sqa.removeChangeListener(AS3.bind(this,"toggleUserDetailsButton$4sqa"));this.userValueExpression$4sqa.removeChangeListener(AS3.bind(this,"checkAuthor$4sqa"));this.userValueExpression$4sqa.removeChangeListener(AS3.bind(this,"showNumberOfContributions$4sqa"));
this.userValueExpression$4sqa.removeChangeListener(AS3.bind(this,"showCreationDate$4sqa"));this.userValueExpression$4sqa.removeChangeListener(AS3.bind(this,"showStatus$4sqa"));this.userValueExpression$4sqa.removeChangeListener(AS3.bind(this,"toggleDeleteUserImageButton$4sqa"));this.userValueExpression$4sqa.removeChangeListener(AS3.bind(this,"updateApproveButtonFromValueExp$4sqa"));this.userValueExpression$4sqa.removeChangeListener(AS3.bind(this,"loadUserNotes$4sqa"));this.userValueExpression$4sqa.removeChangeListener(AS3.bind(this,
"refreshRejectButtonLabel$4sqa"));this.numberOfContributionsValueExpression$4sqa.removeChangeListener(AS3.bind(this,"showNumberOfContributions$4sqa"));this.numberOfComplaintsValueExpression$4sqa.removeChangeListener(AS3.bind(this,"showStatus$4sqa"));this.numberOfRejectedContributionsValueExpression$4sqa.removeChangeListener(AS3.bind(this,"showNumberOfContributions$4sqa"));this.userNameValueExpression$4sqa.removeChangeListener(AS3.bind(this,"selectNextContributionIfUserIsAnonymized$4sqa"));this.userStateValueExpression$4sqa.removeChangeListener(AS3.bind(this,
"showNumberOfContributions$4sqa"));this.userStateValueExpression$4sqa.removeChangeListener(AS3.bind(this,"toggleUserDetailsButton$4sqa"));this.userStateValueExpression$4sqa.removeChangeListener(AS3.bind(this,"refreshRejectButtonLabel$4sqa"));this.userStateValueExpression$4sqa.removeChangeListener(AS3.bind(this,"showStatus$4sqa"));this.getUserDetailView$4sqa().removeListener(com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileDetailsViewBase.MODIFIED_EVENT,AS3.bind(this,"updateApproveButtonFromValueExp$4sqa"))}
function toggleDeleteUserImageButton(){var user=AS3.as(this.moderationContributionAdministration$4sqa.getDisplayed(),com.coremedia.elastic.social.studio.model.User);if(user&&user.getImage())this.getUserDetailView$4sqa().enableDeleteUserImageButton();else this.getUserDetailView$4sqa().disableDeleteUserImageButton()}function selectNextContributionIfUserIsAnonymized(){var displayed=AS3.as(this.moderationContributionAdministration$4sqa.getDisplayed(),com.coremedia.elastic.social.studio.model.User);if(displayed&&
displayed.getContributionState()==="ANONYMIZED")this.moderationContributionAdministration$4sqa.setSelectedContribution(this.moderationContributionAdministration$4sqa.getModeratedItems()["items"][0])}function toggleUserDetailsButton(){var user=AS3.as(this.moderationContributionAdministration$4sqa.getDisplayed(),com.coremedia.elastic.social.studio.model.User);this.getUserInformationView$4sqa().toggleUserDetailsButton(user);if(user)this.getUserInformationView$4sqa().setUserDetailsButtonText(user.getName());
else this.getUserInformationView$4sqa().setUserDetailsButtonText(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_anonymous"))}function updateApproveButtonFromValueExp(value){if(value.newValue)this.refreshApproveButtonLabel$4sqa(value.newValue);else this.refreshApproveButtonLabel$4sqa(false)}function checkAuthor(){this.getUserInformationView$4sqa().checkAuthor(AS3.as(this.moderationContributionAdministration$4sqa.getDisplayed(),com.coremedia.elastic.social.studio.model.User))}
function showNumberOfContributions(){this.getUserInformationView$4sqa().showNumberOfContributions(AS3.as(this.moderationContributionAdministration$4sqa.getDisplayed(),com.coremedia.elastic.social.studio.model.User))}function showCreationDate(){var displayed=AS3.as(this.moderationContributionAdministration$4sqa.getDisplayed(),com.coremedia.elastic.social.studio.model.User);if(displayed)this.getToolbar$4sqa().setCreationDate(displayed.getRegistrationDate());else this.getToolbar$4sqa().setCreationDate(null)}
function provideAuthor(){return AS3.as(this.moderationContributionAdministration$4sqa.getDisplayed(),com.coremedia.elastic.social.studio.model.User)}function refreshRejectButtonLabel(){var user=AS3.as(this.moderationContributionAdministration$4sqa.getDisplayed(),com.coremedia.elastic.social.studio.model.User);this.getProcessContributionToolbar$4sqa().setRejectButtonLabel(this.getRejectButtonLabel(),user&&!user.isAnonymous()&&!user.isIgnored()&&!user.isBlocked())}function refreshApproveButtonLabel(modified){if(arguments.length<=
0)modified=false;var user=AS3.as(this.moderationContributionAdministration$4sqa.getDisplayed(),com.coremedia.elastic.social.studio.model.User);var showEditedFlag=modified;if(user&&!showEditedFlag)showEditedFlag=user.hasStageChanges();this.getProcessContributionToolbar$4sqa().setApproveButtonLabel(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","btn_approve"),showEditedFlag)}function getRejectButtonLabel(){var label=this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"btn_reject");if(this.moderationContributionAdministration$4sqa&&this.moderationContributionAdministration$4sqa.hasDisplayed()){var user=AS3.as(this.moderationContributionAdministration$4sqa.getDisplayed(),com.coremedia.elastic.social.studio.model.User);if(user&&user.hasChangedSinceLastModeration()||user&&user.hasStageChanges()&&user.hasLastModeratedProperties())label=this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","btn_reset_and_send");else label=this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"btn_delete_and_send")}return label}function showStatus(){var message="";var error="";var complains=0;var displayed=AS3.as(this.moderationContributionAdministration$4sqa.getDisplayed(),com.coremedia.elastic.social.studio.model.User);if(displayed){var state=displayed.getContributionState();if(displayed.getNumberOfComplaints()>0){complains=displayed.getNumberOfComplaints();error=Ext.String.format(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","detail_complaints"),
complains)}else message=Ext.String.format(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","contributiondetail_state_tooltip_"+state.toLowerCase()),this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","contribution_type_prefix_user"),this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","contribution_type_user"));if(displayed.hasChangedSinceLastModeration()){if(complains>
0)error=" \x26 "+Ext.String.format(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","detail_complaints"),complains);message=Ext.String.format(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","contributiondetail_state_tooltip_edited"),this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","contribution_type_prefix_user"),this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"contribution_type_user"))}}this.getToolbar$4sqa().setStatus(message,error)}function loadUserNotes(){var this$=this;var displayed=AS3.as(this.moderationContributionAdministration$4sqa.getDisplayed(),com.coremedia.elastic.social.studio.model.User);displayed&&displayed.load(function(){displayed.loadUserNotes(this$.moderationContributionAdministration$4sqa,displayed)})}function getUserInformationView(){if(!this.userInformationContainer$4sqa)this.userInformationContainer$4sqa=AS3.as(this.queryById(UserProfileViewBase.META_DATA_VIEW_ITEM_ID),
com.coremedia.elastic.social.studio.moderation.shared.details.base.ContributionUserInformationPanel);return this.userInformationContainer$4sqa}function getProcessContributionToolbar(){if(!this.processContributionToolbar$4sqa)this.processContributionToolbar$4sqa=AS3.as(this.queryById(UserProfileViewBase.PROCESS_CONTRIBUTION_VIEW_ITEM_ID),com.coremedia.elastic.social.studio.moderation.shared.details.base.ProcessContributionToolbar);return this.processContributionToolbar$4sqa}function getUserDetailView(){if(!this.userDetailView$4sqa)this.userDetailView$4sqa=
AS3.as(this.queryById(UserProfileViewBase.USER_DETAIL_VIEW_ITEM_ID),com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileDetailsView);return this.userDetailView$4sqa}function getToolbar(){if(!this.detailToolbar$4sqa)this.detailToolbar$4sqa=AS3.as(this.queryById(UserProfileViewBase.TOOLBAR_ITEM_ID),com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileHeader);return this.detailToolbar$4sqa}function invalidPropertyCallback(property,message){this.getUserDetailView$4sqa().setInvalid(property,
message)}function changesDiscardedCallback(){this.getUserDetailView$4sqa().reset()}return{extend:"Ext.panel.Panel",mixins:["com.coremedia.elastic.social.studio.moderation.moderationtab.Activatable"],moderationContributionAdministration$4sqa:null,userValueExpression$4sqa:null,userStateValueExpression$4sqa:null,userNameValueExpression$4sqa:null,numberOfContributionsValueExpression$4sqa:null,numberOfRejectedContributionsValueExpression$4sqa:null,numberOfComplaintsValueExpression$4sqa:null,userInformationContainer$4sqa:null,
processContributionToolbar$4sqa:null,userDetailView$4sqa:null,detailToolbar$4sqa:null,active$4sqa:false,constructor:UserProfileViewBase$,super$4sqa:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},onDestroy:onDestroy,afterRender:afterRender,activated:activated,activate$4sqa:activate,deactivated:deactivated,removeAllListener$4sqa:removeAllListener,toggleDeleteUserImageButton$4sqa:toggleDeleteUserImageButton,selectNextContributionIfUserIsAnonymized$4sqa:selectNextContributionIfUserIsAnonymized,
toggleUserDetailsButton$4sqa:toggleUserDetailsButton,updateApproveButtonFromValueExp$4sqa:updateApproveButtonFromValueExp,checkAuthor$4sqa:checkAuthor,showNumberOfContributions$4sqa:showNumberOfContributions,showCreationDate$4sqa:showCreationDate,provideAuthor:provideAuthor,refreshRejectButtonLabel$4sqa:refreshRejectButtonLabel,refreshApproveButtonLabel$4sqa:refreshApproveButtonLabel,getRejectButtonLabel:getRejectButtonLabel,showStatus$4sqa:showStatus,loadUserNotes$4sqa:loadUserNotes,getUserInformationView$4sqa:getUserInformationView,
getProcessContributionToolbar$4sqa:getProcessContributionToolbar,getUserDetailView$4sqa:getUserDetailView,getToolbar$4sqa:getToolbar,invalidPropertyCallback:invalidPropertyCallback,changesDiscardedCallback:changesDiscardedCallback,statics:{META_DATA_VIEW_ITEM_ID:"cm-elastic-social-detail-view-meta-data",PROCESS_CONTRIBUTION_VIEW_ITEM_ID:"cm-elastic-social-process-contribution-buttons-container",USER_DETAIL_VIEW_ITEM_ID:"cm-elastic-social-moderation-tab-userdetails-container",EXTENSION_TAB_PANEL_ITEM_ID:"extension-tab-panel-profile",
TOOLBAR_ITEM_ID:"cm-elastic-social-detail-view-toolbar",USER_ANNOTATION_CONTAINER_ITEM_ID:"userAnnotationContainer"},requires:["Ext.String","Ext.panel.Panel","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.elastic.social.studio.moderation.moderationtab.Activatable","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.util.EventUtil"],uses:["com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames","com.coremedia.elastic.social.studio.model.ContributionPropertyNames",
"com.coremedia.elastic.social.studio.model.User","com.coremedia.elastic.social.studio.model.UserPropertyNames","com.coremedia.elastic.social.studio.model.impl.ModerationContributionAdministration","com.coremedia.elastic.social.studio.moderation.shared.details.base.ContributionUserInformationPanel","com.coremedia.elastic.social.studio.moderation.shared.details.base.ProcessContributionToolbar","com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileDetailsView","com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileDetailsViewBase",
"com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileHeader"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileDetailsViewBase",function(UserProfileDetailsViewBase){function UserProfileDetailsViewBase$(config){if(arguments.length<=0)config=null;this.moderationContributionAdministration$676g=AS3.as(AS3.getBindable(config,"moderation").getModerationContributionAdministration(),com.coremedia.elastic.social.studio.model.impl.ModerationContributionAdministration);this.userValueExpression$676g=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.DISPLAYED,
this.moderationContributionAdministration$676g);this.userValueExpression$676g.addChangeListener(AS3.bind(this,"resetModified$676g"));this.super$676g(config)}function afterRender(){Ext.panel.Panel.prototype.afterRender.call(this);this.userValueExpression$676g.addChangeListener(AS3.bind(this,"resetModified$676g"))}function onDestroy(){Ext.panel.Panel.prototype.onDestroy.call(this);this.userValueExpression$676g.removeChangeListener(AS3.bind(this,"resetModified$676g"))}function setInvalid(propertyName,
message){if(propertyName===com.coremedia.elastic.social.studio.model.UserPropertyNames.NAME)this.getNameField().markInvalid(message);else if(propertyName===com.coremedia.elastic.social.studio.model.UserPropertyNames.EMAIL)this.getEmailField().markInvalid(message)}function reset(){this.getNameField().clearInvalid();this.getEmailField().clearInvalid()}function getBlobUri(blob){var blobUri=Ext.BLANK_IMAGE_URL;var image=AS3.as(this.queryById(UserProfileDetailsViewBase.IMAGE_ID),com.coremedia.ui.components.ImageComponent);
var noImage=AS3.as(this.queryById(UserProfileDetailsViewBase.NO_IMAGE_ID),Ext.container.Container);if(blob){blobUri=blob.getUri();noImage.hide();image.show()}else{image.hide();noImage.show()}return blobUri}function trimMail(value){return AS3.getBindable(this,"moderation").getUserAdministration().trimMail(value)}function focused(){this.moderationContributionAdministration$676g.pausePolling()}function blurred(){var user=AS3.as(this.moderationContributionAdministration$676g.getDisplayed(),com.coremedia.elastic.social.studio.model.User);
user.setName(this.getNameField().getValue());user.setGivenName(this.getGivenNameField$676g().getValue());user.setSurName(this.getSurNameField$676g().getValue());user.setEmailAddress(this.getEmailField().getValue());user.flush(AS3.bind(this.moderationContributionAdministration$676g,"startPolling"))}function setModified(value){if(!this.modified$676g){this.modified$676g=true;this.fireEvent(UserProfileDetailsViewBase.MODIFIED_EVENT,false,true)}return value}function resetModified(){if(this.modified$676g){this.modified$676g=
false;this.fireEvent(UserProfileDetailsViewBase.MODIFIED_EVENT,true,false)}}function getNameField(){if(!this.nameField$676g)this.nameField$676g=AS3.as(this.getDetailsForm$676g().queryById(UserProfileDetailsViewBase.NAME_FIELD_ITEM_ID),Ext.form.field.Text);return this.nameField$676g}function getEmailField(){if(!this.emailField$676g)this.emailField$676g=AS3.as(this.getDetailsForm$676g().queryById(UserProfileDetailsViewBase.EMAIL_FIELD_ITEM_ID),Ext.form.field.Text);return this.emailField$676g}function getDetailsForm(){if(!this.detailsForm$676g)this.detailsForm$676g=
AS3.as(this.queryById(UserProfileDetailsViewBase.DETAILS_FORM_ITEM_ID),Ext.container.Container);return this.detailsForm$676g}function getGivenNameField(){if(!this.givenNameField$676g)this.givenNameField$676g=AS3.as(this.getDetailsForm$676g().queryById(UserProfileDetailsViewBase.GIVEN_NAME_FIELD_ITEM_ID),Ext.form.field.Text);return this.givenNameField$676g}function getSurNameField(){if(!this.surNameField$676g)this.surNameField$676g=AS3.as(this.getDetailsForm$676g().queryById(UserProfileDetailsViewBase.SURNAME_FIELD_ITEM_ID),
Ext.form.field.Text);return this.surNameField$676g}function getDeleteUserImageButton(){if(!this.deleteUserImageButton$676g)this.deleteUserImageButton$676g=AS3.as(this.queryById(UserProfileDetailsViewBase.DELETE_USER_IMAGE_BUTTON_ITEM_ID),Ext.button.Button);return this.deleteUserImageButton$676g}function enableDeleteUserImageButton(){this.getDeleteUserImageButton$676g().enable()}function disableDeleteUserImageButton(){this.getDeleteUserImageButton$676g().disable()}function getUserImageValueExpressionPath(moderation){if(!this.userImageValueExpression$676g)this.userImageValueExpression$676g=
com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.utils.ValueExpressionUtil.createPath([com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.DISPLAYED,com.coremedia.elastic.social.studio.model.UserPropertyNames.IMAGE]),moderation.getModerationContributionAdministration());return this.userImageValueExpression$676g}function getUserValueExpressionFor$static(moderation,property){var ve=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.utils.ValueExpressionUtil.createPath([com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.DISPLAYED,
property]),moderation.getModerationContributionAdministration());return ve}return{extend:"Ext.panel.Panel",moderationContributionAdministration$676g:null,userValueExpression$676g:null,nameField$676g:null,emailField$676g:null,givenNameField$676g:null,surNameField$676g:null,detailsForm$676g:null,modified$676g:false,deleteUserImageButton$676g:null,userImageValueExpression$676g:null,constructor:UserProfileDetailsViewBase$,super$676g:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},
afterRender:afterRender,onDestroy:onDestroy,setInvalid:setInvalid,reset:reset,getBlobUri:getBlobUri,trimMail:trimMail,focused:focused,blurred:blurred,setModified:setModified,resetModified$676g:resetModified,getNameField:getNameField,getEmailField:getEmailField,getDetailsForm$676g:getDetailsForm,getGivenNameField$676g:getGivenNameField,getSurNameField$676g:getSurNameField,getDeleteUserImageButton$676g:getDeleteUserImageButton,enableDeleteUserImageButton:enableDeleteUserImageButton,disableDeleteUserImageButton:disableDeleteUserImageButton,
getUserImageValueExpressionPath:getUserImageValueExpressionPath,config:{moderation:null},statics:{NAME_FIELD_ITEM_ID:"cm-elastic-social-moderation-tab-userdetails-name",GIVEN_NAME_FIELD_ITEM_ID:"cm-elastic-social-moderation-tab-userdetails-givenname",SURNAME_FIELD_ITEM_ID:"cm-elastic-social-moderation-tab-userdetails-surname",EMAIL_FIELD_ITEM_ID:"cm-elastic-social-moderation-tab-userdetails-email",DETAILS_FORM_ITEM_ID:"details-form",MODIFIED_EVENT:"modified_user",DELETE_USER_IMAGE_BUTTON_ITEM_ID:"cm-elastic-social-user-toolbar-delete-user-image-button-id",
IMAGE_ID:"image",NO_IMAGE_ID:"no-image",getUserValueExpressionFor:getUserValueExpressionFor$static},requires:["Ext","Ext.button.Button","Ext.container.Container","Ext.form.field.Text","Ext.panel.Panel","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.ui.components.ImageComponent","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames","com.coremedia.elastic.social.studio.model.User",
"com.coremedia.elastic.social.studio.model.UserPropertyNames","com.coremedia.elastic.social.studio.model.impl.ModerationContributionAdministration","com.coremedia.elastic.social.studio.model.utils.ValueExpressionUtil"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileView",function(UserProfileView){function UserProfileView$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileViewBase,{});var defaults_$1=AS3.cast(UserProfileView,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.PanelSkin.EMBEDDED.getSkin());
var layout_VBox_39_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_39_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_39_5_$1);var es_UserProfileHeader_43_5_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileHeader,{});es_UserProfileHeader_43_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileViewBase.TOOLBAR_ITEM_ID);AS3.setBindable(es_UserProfileHeader_43_5_$1,
"moderation",AS3.getBindable(config,"moderation"));var container_45_5_$1=AS3.cast(Ext.container.Container,{});container_45_5_$1.flex=1;AS3.setBindable(container_45_5_$1,"scrollable","y");var es_UserProfileDetailsView_48_9_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileDetailsView,{});es_UserProfileDetailsView_48_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileViewBase.USER_DETAIL_VIEW_ITEM_ID);
AS3.setBindable(es_UserProfileDetailsView_48_9_$1,"moderation",AS3.getBindable(config,"moderation"));var container_50_9_$1=AS3.cast(Ext.container.Container,{});container_50_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.GRID_200.getSkin());var es_UserProfileExtensionTabPanel_52_13_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileExtensionTabPanel,{});es_UserProfileExtensionTabPanel_52_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileViewBase.EXTENSION_TAB_PANEL_ITEM_ID);
es_UserProfileExtensionTabPanel_52_13_$1.flex=1;AS3.setBindable(es_UserProfileExtensionTabPanel_52_13_$1,"activeItem",0);var es_ContributionUserInformationPanel_56_17_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.base.ContributionUserInformationPanel,{});es_ContributionUserInformationPanel_56_17_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileViewBase.META_DATA_VIEW_ITEM_ID);AS3.setBindable(es_ContributionUserInformationPanel_56_17_$1,
"title",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","contributiondetail_tab_info_title"));AS3.setBindable(es_ContributionUserInformationPanel_56_17_$1,"authorProvider",AS3.bind(this,"provideAuthor"));AS3.setBindable(es_ContributionUserInformationPanel_56_17_$1,"userAdministration",AS3.getBindable(config,"moderation").getUserAdministration());var es_UserContributionAnnotationContainer_60_17_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.base.UserContributionAnnotationContainer,
{});es_UserContributionAnnotationContainer_60_17_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileViewBase.USER_ANNOTATION_CONTAINER_ITEM_ID);AS3.setBindable(es_UserContributionAnnotationContainer_60_17_$1,"moderationContributionAdministration",AS3.getBindable(config,"moderation").getModerationContributionAdministration());AS3.setBindable(es_UserContributionAnnotationContainer_60_17_$1,"title",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"contributiondetail_tab_info_annotation"));es_UserProfileExtensionTabPanel_52_13_$1.items=[es_ContributionUserInformationPanel_56_17_$1,es_UserContributionAnnotationContainer_60_17_$1];container_50_9_$1.items=[es_UserProfileExtensionTabPanel_52_13_$1];container_45_5_$1.items=[es_UserProfileDetailsView_48_9_$1,container_50_9_$1];var ui_VerticalSpacingPlugin_69_9_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});container_45_5_$1.plugins=[ui_VerticalSpacingPlugin_69_9_$1];var layout_VBox_72_9_$1=
AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_72_9_$1,"align","stretch");AS3.setBindable(container_45_5_$1,"layout",layout_VBox_72_9_$1);config_$1.items=[es_UserProfileHeader_43_5_$1,container_45_5_$1];var es_ProcessContributionToolbar_79_5_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.base.ProcessContributionToolbar,{});es_ProcessContributionToolbar_79_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileViewBase.PROCESS_CONTRIBUTION_VIEW_ITEM_ID);
AS3.setBindable(es_ProcessContributionToolbar_79_5_$1,"dock","bottom");es_ProcessContributionToolbar_79_5_$1["focusableContainer"]=false;AS3.setBindable(es_ProcessContributionToolbar_79_5_$1,"abstractContributionAdministration",AS3.getBindable(config,"abstractContributionAdministration"));var es_ApproveUserAction_84_9_$1=AS3.cast(com.coremedia.elastic.social.studio.actions.ApproveUserAction,{});AS3.setBindable(es_ApproveUserAction_84_9_$1,"contributionValueExpression",com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.DISPLAYED,
AS3.getBindable(config,"abstractContributionAdministration")));AS3.setBindable(es_ApproveUserAction_84_9_$1,"invalidPropertyCallback",AS3.bind(this,"invalidPropertyCallback"));AS3.setBindable(es_ApproveUserAction_84_9_$1,"changesDiscardedCallback",AS3.bind(this,"changesDiscardedCallback"));AS3.setBindable(es_ProcessContributionToolbar_79_5_$1,"approveAction",new com.coremedia.elastic.social.studio.actions.ApproveUserAction(es_ApproveUserAction_84_9_$1));var es_RejectUserAction_90_9_$1=AS3.cast(com.coremedia.elastic.social.studio.actions.RejectUserAction,
{});AS3.setBindable(es_RejectUserAction_90_9_$1,"contributionValueExpression",com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.DISPLAYED,AS3.getBindable(config,"abstractContributionAdministration")));AS3.setBindable(es_RejectUserAction_90_9_$1,"invalidPropertyCallback",AS3.bind(this,"invalidPropertyCallback"));AS3.setBindable(es_ProcessContributionToolbar_79_5_$1,"rejectAction",new com.coremedia.elastic.social.studio.actions.RejectUserAction(es_RejectUserAction_90_9_$1));
config_$1.dockedItems=[es_ProcessContributionToolbar_79_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$KmEp(config_$1)}return{extend:"com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileViewBase",alias:"widget.com.coremedia.elastic.social.studio.config.userProfileView",constructor:UserProfileView$,super$KmEp:function(){com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileViewBase.prototype.constructor.apply(this,arguments)},config:{moderation:null,
abstractContributionAdministration:null,collapsedValueExpression:null},requires:["Ext.container.Container","Ext.layout.container.VBox","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileViewBase","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.VerticalSpacingPlugin","com.coremedia.ui.skins.ContainerSkin","com.coremedia.ui.skins.PanelSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.actions.ApproveUserAction",
"com.coremedia.elastic.social.studio.actions.RejectUserAction","com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames","com.coremedia.elastic.social.studio.moderation.shared.details.base.ContributionUserInformationPanel","com.coremedia.elastic.social.studio.moderation.shared.details.base.ProcessContributionToolbar","com.coremedia.elastic.social.studio.moderation.shared.details.base.UserContributionAnnotationContainer","com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileDetailsView",
"com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileExtensionTabPanel","com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileHeader"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileHeader",function(UserProfileHeader){function UserProfileHeader$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileHeaderBase,{});var defaults_$1=AS3.cast(UserProfileHeader,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var es_ContributionStatusContainer_21_5_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.base.ContributionStatusContainer,
{});es_ContributionStatusContainer_21_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileHeaderBase.STATUS_VIEW_ITEM_ID);AS3.setBindable(es_ContributionStatusContainer_21_5_$1,"moderation",AS3.getBindable(config,"moderation"));config_$1.items=[es_ContributionStatusContainer_21_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Wg0R(config_$1)}return{extend:"com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileHeaderBase",
alias:"widget.com.coremedia.elastic.social.studio.config.userProfileHeader",constructor:UserProfileHeader$,super$Wg0R:function(){com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileHeaderBase.prototype.constructor.apply(this,arguments)},config:{moderation:null},requires:["com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileHeaderBase","net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.moderation.shared.details.base.ContributionStatusContainer"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileHeaderBase",function(UserProfileHeaderBase){function UserProfileHeaderBase$(config){if(arguments.length<=0)config=null;this.super$pfMC(config)}function setStatus(message,error){this.getStatusView$pfMC().setStatus(message,error)}function setCreationDate(creationDate){this.getStatusView$pfMC().setCreationDate(creationDate)}function getStatusView(){if(!this.statusView$pfMC)this.statusView$pfMC=AS3.as(this.getComponent(UserProfileHeaderBase.STATUS_VIEW_ITEM_ID),
com.coremedia.elastic.social.studio.moderation.shared.details.base.ContributionStatusContainer);return this.statusView$pfMC}return{extend:"Ext.container.Container",statusView$pfMC:null,constructor:UserProfileHeaderBase$,super$pfMC:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},setStatus:setStatus,setCreationDate:setCreationDate,getStatusView$pfMC:getStatusView,statics:{STATUS_VIEW_ITEM_ID:"cm-elastic-social-detail-status"},requires:["Ext.container.Container"],uses:["com.coremedia.elastic.social.studio.moderation.shared.details.base.ContributionStatusContainer"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.empty.EmptyDetailView",function(EmptyDetailView){function EmptyDetailView$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.container.Container,{});var defaults_$1=AS3.cast(EmptyDetailView,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var component_17_5_$1=AS3.cast(Ext.Component,{});component_17_5_$1.flex=1;var label_18_5_$1=AS3.cast(Ext.form.Label,{});AS3.setBindable(label_18_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"list_empty")));var component_19_5_$1=AS3.cast(Ext.Component,{});component_19_5_$1.flex=1;config_$1.items=[component_17_5_$1,label_18_5_$1,component_19_5_$1];var layout_VBox_22_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_22_5_$1,"align","center");AS3.setBindable(config_$1,"layout",layout_VBox_22_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$cbgF(config_$1)}return{extend:"Ext.container.Container",alias:"widget.com.coremedia.elastic.social.studio.config.emptyDetailView",
constructor:EmptyDetailView$,super$cbgF:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},requires:["Ext.Component","Ext.container.Container","Ext.form.Label","Ext.layout.container.VBox","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.multicomment.readonly.MultiCommentReadOnlyItemPanel",function(MultiCommentReadOnlyItemPanel){function MultiCommentReadOnlyItemPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.container.Container,{});var defaults_$1=AS3.cast(MultiCommentReadOnlyItemPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.flex=1;AS3.setBindable(config_$1,"minHeight",calcHeight$static(config));config_$1.ui=
net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.CARD_200);var container_72_5_$1=AS3.cast(Ext.container.Container,{});container_72_5_$1.itemId=net.jangaroo.ext.Exml.asString(HEADER_ITEM_ID$static);AS3.setBindable(container_72_5_$1,"height",25);var displayField_74_9_$1=AS3.cast(Ext.form.field.Display,{});displayField_74_9_$1.itemId=net.jangaroo.ext.Exml.asString(HEADER_AUTHOR_NAME_ITEM_ID$static);AS3.setBindable(displayField_74_9_$1,"value",com.coremedia.ui.util.EncodingUtil.encodeForHTML(AS3.getBindable(config,
"authorName")));var displayField_76_9_$1=AS3.cast(Ext.form.field.Display,{});AS3.setBindable(displayField_76_9_$1,"margin","0 3 0 3");AS3.setBindable(displayField_76_9_$1,"value",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","curated_content_multi_comment_title_label"));var displayField_78_9_$1=AS3.cast(Ext.form.field.Display,{});displayField_78_9_$1.itemId=net.jangaroo.ext.Exml.asString(HEADER_DATE_ITEM_ID$static);AS3.setBindable(displayField_78_9_$1,
"value",Ext.Date.format(AS3.getBindable(config,"creationDate"),this.resourceManager.getString("com.coremedia.cms.editor.Editor","dateFormat")));var container_80_9_$1=AS3.cast(Ext.container.Container,{});container_80_9_$1.flex=1;var button_81_9_$1=AS3.cast(Ext.button.Button,{});button_81_9_$1.itemId=net.jangaroo.ext.Exml.asString(HEADER_REMOVE_BUTTON_ITEM_ID$static);AS3.setBindable(button_81_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"curated_content_multi_comment_remove_selection")));button_81_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE.getSkin());AS3.setBindable(button_81_9_$1,"handler",AS3.bind(this,"removeContributionFromSelection$wF8I"));container_72_5_$1.items=[displayField_74_9_$1,displayField_76_9_$1,displayField_78_9_$1,container_80_9_$1,button_81_9_$1];var layout_HBox_87_9_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(container_72_5_$1,"layout",layout_HBox_87_9_$1);var ui_RichTextArea_91_5_$1=
AS3.cast(com.coremedia.ui.ckeditor.RichTextArea,{});ui_RichTextArea_91_5_$1.itemId=net.jangaroo.ext.Exml.asString(RICHTEXT_ITEM_ID$static);AS3.setBindable(ui_RichTextArea_91_5_$1,"minHeight",80);ui_RichTextArea_91_5_$1.flex=1;var ui_RemoveCKEditorPluginsPlugin_95_9_$1=AS3.cast(com.coremedia.ui.plugins.ckeditor.RemoveCKEditorPluginsPlugin,{});AS3.setBindable(ui_RemoveCKEditorPluginsPlugin_95_9_$1,"plugins",["cmrichtextdataprocessor,cmstyles,classstyles,bbcode"]);var ui_BindPropertyPlugin_96_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,
{});ui_BindPropertyPlugin_96_9_$1.bidirectional=false;ui_BindPropertyPlugin_96_9_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(AS3.getBindable(config,"commentText"));var editor_BindReadOnlyPlugin_98_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPlugin,{});editor_BindReadOnlyPlugin_98_9_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(true);AS3.setBindable(editor_BindReadOnlyPlugin_98_9_$1,"forceReadOnlyValueExpression",
com.coremedia.ui.data.ValueExpressionFactory.createFromValue(true));var ui_AddCKEditorPluginsPlugin_100_9_$1=AS3.cast(com.coremedia.ui.plugins.ckeditor.AddCKEditorPluginsPlugin,{});AS3.setBindable(ui_AddCKEditorPluginsPlugin_100_9_$1,"plugins",["htmlwriter,elasticbbcode,link"]);ui_RichTextArea_91_5_$1.plugins=[ui_RemoveCKEditorPluginsPlugin_95_9_$1,ui_BindPropertyPlugin_96_9_$1,editor_BindReadOnlyPlugin_98_9_$1,ui_AddCKEditorPluginsPlugin_100_9_$1];var es_AttachmentPanel_104_5_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentPanel,
{});es_AttachmentPanel_104_5_$1.itemId=net.jangaroo.ext.Exml.asString(ATTACHMENT_ITEM_ID$static);AS3.setBindable(es_AttachmentPanel_104_5_$1,"contributionAdministration",AS3.getBindable(config,"abstractContribution"));AS3.setBindable(es_AttachmentPanel_104_5_$1,"hidden",!(AS3.getBindable(config,"attachments").length>0));AS3.setBindable(es_AttachmentPanel_104_5_$1,"attachments",AS3.getBindable(config,"attachments"));config_$1.items=[container_72_5_$1,ui_RichTextArea_91_5_$1,es_AttachmentPanel_104_5_$1];
var layout_VBox_111_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_111_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_111_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$wF8I(config_$1)}var HEADER_ITEM_ID$static="header";var HEADER_AUTHOR_NAME_ITEM_ID$static="author-field";var HEADER_DATE_ITEM_ID$static="date-field";var HEADER_REMOVE_BUTTON_ITEM_ID$static="remove-button";var RICHTEXT_ITEM_ID$static="richtext";var ATTACHMENT_ITEM_ID$static=
"attachment-container";function removeContributionFromSelection(){AS3.getBindable(this,"abstractContribution").removeContributionFromSelectedItems(AS3.getBindable(this,"moderatedItem"))}function calcHeight$static(config){var height=180;if(AS3.getBindable(config,"attachments").length>0)height+=140;return height}return{extend:"Ext.container.Container",alias:"widget.com.coremedia.elastic.social.studio.config.multiCommentReadOnlyItemPanel",constructor:MultiCommentReadOnlyItemPanel$,super$wF8I:function(){Ext.container.Container.prototype.constructor.apply(this,
arguments)},removeContributionFromSelection$wF8I:removeContributionFromSelection,config:{abstractContribution:null,comment:null,moderatedItem:null,authorName:null,creationDate:null,commentText:null,attachments:null},requires:["Ext.Date","Ext.button.Button","Ext.container.Container","Ext.form.field.Display","Ext.layout.container.HBox","Ext.layout.container.VBox","com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPlugin","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties",
"com.coremedia.ui.ckeditor.RichTextArea","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.ckeditor.AddCKEditorPluginsPlugin","com.coremedia.ui.plugins.ckeditor.RemoveCKEditorPluginsPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.ContainerSkin","com.coremedia.ui.util.EncodingUtil","net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.moderation.shared.details.comments.attachment.AttachmentPanel"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.multicomment.MultiCommentDetailView",function(MultiCommentDetailView){function MultiCommentDetailView$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.multicomment.MultiCommentDetailViewBase,{});var defaults_$1=AS3.cast(MultiCommentDetailView,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"scrollable",true);
var container_22_5_$1=AS3.cast(Ext.container.Container,{});container_22_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.shared.details.multicomment.MultiCommentDetailViewBase.READ_ONLY_CONTAINER_ITEM_ID);container_22_5_$1.flex=1;container_22_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.DARK_200.getSkin());AS3.setBindable(container_22_5_$1,"scrollable",true);var ui_VerticalSpacingPlugin_28_9_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,
{});container_22_5_$1.plugins=[ui_VerticalSpacingPlugin_28_9_$1];var layout_VBox_31_9_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_31_9_$1,"align","stretch");AS3.setBindable(container_22_5_$1,"layout",layout_VBox_31_9_$1);config_$1.items=[container_22_5_$1];var layout_VBox_36_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_36_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_36_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);
this.super$HvJn(config_$1)}return{extend:"com.coremedia.elastic.social.studio.moderation.shared.details.multicomment.MultiCommentDetailViewBase",alias:"widget.com.coremedia.elastic.social.studio.config.multiCommentDetailView",constructor:MultiCommentDetailView$,super$HvJn:function(){com.coremedia.elastic.social.studio.moderation.shared.details.multicomment.MultiCommentDetailViewBase.prototype.constructor.apply(this,arguments)},config:{abstractContributionAdministration:null},requires:["Ext.container.Container",
"Ext.layout.container.VBox","com.coremedia.elastic.social.studio.moderation.shared.details.multicomment.MultiCommentDetailViewBase","com.coremedia.ui.plugins.VerticalSpacingPlugin","com.coremedia.ui.skins.ContainerSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.shared.details.multicomment.MultiCommentDetailViewBase",function(MultiCommentDetailViewBase){function MultiCommentDetailViewBase$(config){if(arguments.length<=0)config=null;this.super$mIzY(config);this.abstractContributionAdministration$mIzY=AS3.getBindable(config,"abstractContributionAdministration")}function afterRender(){Ext.panel.Panel.prototype.afterRender.call(this);this.getSelectedArchivedItemsVE().addChangeListener(AS3.bind(this,"updateView$mIzY"))}
function onDestroy(){Ext.panel.Panel.prototype.onDestroy.call(this);this.getSelectedArchivedItemsVE().removeChangeListener(AS3.bind(this,"updateView$mIzY"))}function updateView(){var this$=this;var selectedItems=this.getSelectedArchivedItemsVE().getValue();this.getReadOnlyContainer$mIzY().removeAll();if(selectedItems){var executeEventually=new com.coremedia.ui.util.ExecuteEventually(function(){this$.addMultiCommentReadOnlyItems$mIzY(selectedItems)});selectedItems.forEach(function(item){executeEventually.delay();
item.getTarget()&&item.getTarget().invalidate(function(){executeEventually.proceed()})});executeEventually.proceed()}}function addMultiCommentReadOnlyItems(selectedItems){var this$=this;selectedItems.forEach(function(item,index){var comment=AS3.as(item.getTarget(),com.coremedia.elastic.social.studio.model.Comment);if(comment)this$.addMultiCommentReadOnlyItem$mIzY(comment,item,index)})}function addMultiCommentReadOnlyItem(comment,item,index){var multiCommentReadOnlyItemPanelConfig=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.multicomment.readonly.MultiCommentReadOnlyItemPanel,
{});multiCommentReadOnlyItemPanelConfig.itemId=MultiCommentDetailViewBase.READ_ONLY_ITEM_CONTAINER_ITEM_ID_PREFIX+""+index;AS3.setBindable(multiCommentReadOnlyItemPanelConfig,"commentText",comment.get(com.coremedia.elastic.social.studio.model.CommentPropertyNames.TEXT));AS3.setBindable(multiCommentReadOnlyItemPanelConfig,"creationDate",comment.getCreationDate());AS3.setBindable(multiCommentReadOnlyItemPanelConfig,"authorName",comment.getAuthorName());AS3.setBindable(multiCommentReadOnlyItemPanelConfig,
"attachments",comment.getAttachments());AS3.setBindable(multiCommentReadOnlyItemPanelConfig,"comment",comment);AS3.setBindable(multiCommentReadOnlyItemPanelConfig,"moderatedItem",item);this.getReadOnlyContainer$mIzY().add(multiCommentReadOnlyItemPanelConfig)}function getSelectedArchivedItemsVE(){if(!this.abstractContributionValueExpression$mIzY)this.abstractContributionValueExpression$mIzY=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.SELECTED_ARCHIVE_ITEMS,
this.abstractContributionAdministration$mIzY);return this.abstractContributionValueExpression$mIzY}function getReadOnlyContainer(){if(!this.readOnlyContainer$mIzY)this.readOnlyContainer$mIzY=AS3.as(this.queryById(MultiCommentDetailViewBase.READ_ONLY_CONTAINER_ITEM_ID),Ext.container.Container);return this.readOnlyContainer$mIzY}return{extend:"Ext.panel.Panel",abstractContributionAdministration$mIzY:null,abstractContributionValueExpression$mIzY:null,readOnlyContainer$mIzY:null,constructor:MultiCommentDetailViewBase$,
super$mIzY:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},afterRender:afterRender,onDestroy:onDestroy,updateView$mIzY:updateView,addMultiCommentReadOnlyItems$mIzY:addMultiCommentReadOnlyItems,addMultiCommentReadOnlyItem$mIzY:addMultiCommentReadOnlyItem,getSelectedArchivedItemsVE:getSelectedArchivedItemsVE,getReadOnlyContainer$mIzY:getReadOnlyContainer,statics:{READ_ONLY_CONTAINER_ITEM_ID:"read-only-container",READ_ONLY_ITEM_CONTAINER_ITEM_ID_PREFIX:"read-only-item-container_"},
requires:["Ext.container.Container","Ext.panel.Panel","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.util.ExecuteEventually"],uses:["com.coremedia.elastic.social.studio.model.Comment","com.coremedia.elastic.social.studio.model.CommentPropertyNames","com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames","com.coremedia.elastic.social.studio.moderation.shared.details.multicomment.readonly.MultiCommentReadOnlyItemPanel"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.moderationtab.status.ModerationStatusBar",function(ModerationStatusBar){function ModerationStatusBar$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.moderationtab.status.ModerationStatusBarBase,{});var defaults_$1=AS3.cast(ModerationStatusBar,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.FOOTER.getSkin());
var ui_BEMPlugin_28_5_$1=AS3.cast(com.coremedia.ui.plugins.BEMPlugin,{});AS3.setBindable(ui_BEMPlugin_28_5_$1,"block","cm-elastic-social-layout-statusbar");config_$1.plugins=[ui_BEMPlugin_28_5_$1];var displayField_31_5_$1=AS3.cast(Ext.form.field.Display,{});displayField_31_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.moderationtab.status.ModerationStatusBarBase.MESSAGE_ID);AS3.setBindable(displayField_31_5_$1,"html","\\");var ui_BEMMixin_34_9_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,
{});AS3.setBindable(ui_BEMMixin_34_9_$1,"bemElement","message");delete ui_BEMMixin_34_9_$1["xtype"];delete ui_BEMMixin_34_9_$1["xclass"];net.jangaroo.ext.Exml.apply(displayField_31_5_$1,ui_BEMMixin_34_9_$1);var button_37_5_$1=AS3.cast(Ext.button.Button,{});button_37_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.moderationtab.status.ModerationStatusBarBase.MODERATION_STATISTICS_BUTTON_ID);button_37_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE.getSkin());
AS3.setBindable(button_37_5_$1,"tooltip",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","moderation_statistics_window_tooltip"));AS3.setBindable(button_37_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","moderation_statistics_window_button_text")));AS3.setBindable(button_37_5_$1,"handler",AS3.bind(this,"openStatistics"));var ui_BEMMixin_43_9_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,
{});AS3.setBindable(ui_BEMMixin_43_9_$1,"bemElement","statistics");delete ui_BEMMixin_43_9_$1["xtype"];delete ui_BEMMixin_43_9_$1["xclass"];net.jangaroo.ext.Exml.apply(button_37_5_$1,ui_BEMMixin_43_9_$1);config_$1.items=[displayField_31_5_$1,button_37_5_$1];var layout_HBox_48_5_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_48_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_HBox_48_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$7yF0(config_$1)}
return{extend:"com.coremedia.elastic.social.studio.moderation.moderationtab.status.ModerationStatusBarBase",alias:"widget.com.coremedia.elastic.social.studio.config.moderationStatusBar",constructor:ModerationStatusBar$,super$7yF0:function(){com.coremedia.elastic.social.studio.moderation.moderationtab.status.ModerationStatusBarBase.prototype.constructor.apply(this,arguments)},config:{moderation:null},requires:["Ext.button.Button","Ext.form.field.Display","Ext.layout.container.HBox","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties",
"com.coremedia.elastic.social.studio.moderation.moderationtab.status.ModerationStatusBarBase","com.coremedia.ui.plugins.BEMMixin","com.coremedia.ui.plugins.BEMPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.ToolbarSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.moderationtab.status.ModerationStatusBarBase",function(ModerationStatusBarBase){function ModerationStatusBarBase$(config){var this$=this;if(arguments.length<=0)config=null;this.super$Drwn(config);this.moderatedContributionAdministrationImpl$Drwn=AS3.as(AS3.getBindable(config,"moderation").getModerationContributionAdministration(),com.coremedia.elastic.social.studio.model.impl.ModerationContributionAdministration);this.listContributionValueExpression$Drwn=
com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){return this$.moderatedContributionAdministrationImpl$Drwn.getModeratedItems()});this.processedCounterValueExpression$Drwn=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){return this$.moderatedContributionAdministrationImpl$Drwn.getProcessedCounter()});this.listContributionValueExpression$Drwn.addChangeListener(AS3.bind(this,"updateMessage"));this.processedCounterValueExpression$Drwn.addChangeListener(AS3.bind(this,
"updateMessage"));this.mon(this.findParentByType(com.coremedia.elastic.social.studio.moderation.moderationtab.ModerationPanel.xtype),"activate",AS3.bind(this,"updateMessage"));this.mon(this.findParentByType(com.coremedia.elastic.social.studio.moderation.ElasticSocialMainTab.xtype),"activate",AS3.bind(this,"updateMessage"));this.updateMessage()}function onDestroy(){Ext.toolbar.Toolbar.prototype.onDestroy.call(this);this.listContributionValueExpression$Drwn.removeChangeListener(AS3.bind(this,"updateMessage"));
this.processedCounterValueExpression$Drwn.removeChangeListener(AS3.bind(this,"updateMessage"))}function updateMessage(){var moderatedItems=this.moderatedContributionAdministrationImpl$Drwn.getModeratedItems();if(moderatedItems){var remaining=moderatedItems.length;var message="";var processedCounter=this.moderatedContributionAdministrationImpl$Drwn.getProcessedCounter();if(processedCounter===1)message+=this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","status_processed_singular");
else message+=Ext.String.format(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","status_processed_plural"),processedCounter);if(remaining>=100)message+=" "+Ext.String.format(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","status_remaining_more"),remaining);else if(remaining===1)message+=" "+this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","status_remaining_single");
else message+=" "+Ext.String.format(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","status_remaining"),remaining)}if(this.getProcessedCounterMessageDisplayField$Drwn()){this.getProcessedCounterMessageDisplayField$Drwn().setValue(message);this.getProcessedCounterMessageDisplayField$Drwn().setWidth("auto")}}function getProcessedCounterMessageDisplayField(){if(!this.processedCounterMessageDisplayField$Drwn)this.processedCounterMessageDisplayField$Drwn=
AS3.as(this.getComponent(ModerationStatusBarBase.MESSAGE_ID),Ext.form.field.Display);return this.processedCounterMessageDisplayField$Drwn}function openStatistics(){var windowCfg=AS3.cast(com.coremedia.elastic.social.studio.moderation.statistics.ModerationStatisticsWindow,{});AS3.setBindable(windowCfg,"moderationContributionAdministration",this.moderatedContributionAdministrationImpl$Drwn);var statisticsWindow=new com.coremedia.elastic.social.studio.moderation.statistics.ModerationStatisticsWindow(windowCfg);
statisticsWindow.expand(true);statisticsWindow.show()}return{extend:"Ext.toolbar.Toolbar",processedCounterMessageDisplayField$Drwn:null,listContributionValueExpression$Drwn:null,processedCounterValueExpression$Drwn:null,moderatedContributionAdministrationImpl$Drwn:null,constructor:ModerationStatusBarBase$,super$Drwn:function(){Ext.toolbar.Toolbar.prototype.constructor.apply(this,arguments)},onDestroy:onDestroy,updateMessage:updateMessage,getProcessedCounterMessageDisplayField$Drwn:getProcessedCounterMessageDisplayField,
openStatistics:openStatistics,statics:{MESSAGE_ID:"cm-elastic-social-layout-statusbar-message",MODERATION_STATISTICS_BUTTON_ID:"cm-elastic-social-moderation-statistics-button"},requires:["Ext.String","Ext.form.field.Display","Ext.toolbar.Toolbar","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.elastic.social.studio.model.impl.ModerationContributionAdministration","com.coremedia.elastic.social.studio.moderation.ElasticSocialMainTab",
"com.coremedia.elastic.social.studio.moderation.moderationtab.ModerationPanel","com.coremedia.elastic.social.studio.moderation.statistics.ModerationStatisticsWindow"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.moderationtab.ModerationPanelToolbarBase",function(ModerationPanelToolbarBase){function ModerationPanelToolbarBase$(config){if(arguments.length<=0)config=null;this.super$DHLF(config);if(config){this.moderation$DHLF=AS3.getBindable(config,"moderation");this.moderationContributionAdministrationImpl$DHLF=AS3.as(this.moderation$DHLF.getModerationContributionAdministration(),com.coremedia.elastic.social.studio.model.impl.ModerationContributionAdministration);
this.activeTabValueExpression$DHLF=AS3.getBindable(config,"activeTabValueExpression")}}function transformer$static(displayedContribution){var resultText="profile";if(AS3.is(displayedContribution,com.coremedia.elastic.social.studio.model.Comment))resultText=AS3.cast(com.coremedia.elastic.social.studio.model.Comment,displayedContribution).getAttachments().length>0?"media":"comment";return resultText}function getCuratedButtonsDisabledValueExpression(moderation){if(!this.curatedButtonsDisabledValueExpression$DHLF)this.curatedButtonsDisabledValueExpression$DHLF=
com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var selectedItems=moderation.getArchiveContributionAdministration().getSelectedContributionItems();return selectedItems&&selectedItems.length!==0});return this.curatedButtonsDisabledValueExpression$DHLF}return{extend:"Ext.toolbar.Toolbar",moderation$DHLF:null,activeTabValueExpression$DHLF:null,moderationContributionAdministrationImpl$DHLF:null,curatedButtonsDisabledValueExpression$DHLF:null,constructor:ModerationPanelToolbarBase$,
super$DHLF:function(){Ext.toolbar.Toolbar.prototype.constructor.apply(this,arguments)},getCuratedButtonsDisabledValueExpression:getCuratedButtonsDisabledValueExpression,statics:{transformer:transformer$static},requires:["Ext.toolbar.Toolbar","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.elastic.social.studio.model.Comment","com.coremedia.elastic.social.studio.model.impl.ModerationContributionAdministration"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.moderationtab.ModerationPanel",function(ModerationPanel){function ModerationPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.moderationtab.ModerationPanelBase,{});var defaults_$1=AS3.cast(ModerationPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var panel_27_5_$1=AS3.cast(Ext.panel.Panel,{});AS3.setBindable(panel_27_5_$1,"activeItem",0);panel_27_5_$1.flex=
1;panel_27_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.moderationtab.ModerationPanelBase.CARD_LAYOUT_CONTAINER_ID);AS3.setBindable(panel_27_5_$1,"minHeight",ModerationPanel.DETAIL_VIEW_HEIGHT);var es_EmptyDetailView_32_9_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.empty.EmptyDetailView,{});es_EmptyDetailView_32_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.moderationtab.ModerationPanelBase.EMPTY_DETAIL_VIEW_ID);
AS3.setBindable(es_EmptyDetailView_32_9_$1,"height",300);var es_UserProfileView_34_9_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileView,{});es_UserProfileView_34_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.moderationtab.ModerationPanelBase.USER_PROFILE_VIEW_ITEM_ID);AS3.setBindable(es_UserProfileView_34_9_$1,"moderation",AS3.getBindable(config,"moderation"));AS3.setBindable(es_UserProfileView_34_9_$1,"abstractContributionAdministration",
AS3.getBindable(config,"moderation").getModerationContributionAdministration());var es_CommentView_37_9_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentView,{});es_CommentView_37_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.moderationtab.ModerationPanelBase.COMMENT_VIEW_ITEM_ID);AS3.setBindable(es_CommentView_37_9_$1,"moderation",AS3.getBindable(config,"moderation"));AS3.setBindable(es_CommentView_37_9_$1,"showContributionHeader",
true);AS3.setBindable(es_CommentView_37_9_$1,"abstractContributionAdministration",AS3.getBindable(config,"moderation").getModerationContributionAdministration());AS3.setBindable(es_CommentView_37_9_$1,"blacklistAdministration",AS3.getBindable(config,"moderation").getBlacklistAdministration());AS3.setBindable(es_CommentView_37_9_$1,"userAdministration",AS3.getBindable(config,"moderation").getUserAdministration());AS3.setBindable(es_CommentView_37_9_$1,"richTextAreaId",net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.moderationtab.ModerationPanelBase.MODERATION_COMMENT_RICHTEXT_AREA_ID));
AS3.setBindable(es_CommentView_37_9_$1,"selectedProperty",net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.SELECTED_MODERATION_CONTRIBUTION));var es_ReviewView_45_9_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.comments.ReviewView,{});es_ReviewView_45_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.moderationtab.ModerationPanelBase.REVIEW_VIEW_ITEM_ID);AS3.setBindable(es_ReviewView_45_9_$1,
"moderation",AS3.getBindable(config,"moderation"));AS3.setBindable(es_ReviewView_45_9_$1,"showContributionHeader",true);AS3.setBindable(es_ReviewView_45_9_$1,"abstractContributionAdministration",AS3.getBindable(config,"moderation").getModerationContributionAdministration());AS3.setBindable(es_ReviewView_45_9_$1,"blacklistAdministration",AS3.getBindable(config,"moderation").getBlacklistAdministration());AS3.setBindable(es_ReviewView_45_9_$1,"userAdministration",AS3.getBindable(config,"moderation").getUserAdministration());
AS3.setBindable(es_ReviewView_45_9_$1,"richTextAreaId",net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.moderationtab.ModerationPanelBase.MODERATION_REVIEW_RICHTEXT_AREA_ID));AS3.setBindable(es_ReviewView_45_9_$1,"selectedProperty",net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.SELECTED_MODERATION_CONTRIBUTION));panel_27_5_$1.items=[es_EmptyDetailView_32_9_$1,es_UserProfileView_34_9_$1,es_CommentView_37_9_$1,
es_ReviewView_45_9_$1];var layout_Card_55_9_$1=AS3.cast(Ext.layout.container.Card,{});AS3.setBindable(panel_27_5_$1,"layout",layout_Card_55_9_$1);var splitter_58_5_$1=AS3.cast(Ext.resizer.Splitter,{});AS3.setBindable(splitter_58_5_$1,"height","4px");splitter_58_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.SplitterSkin.DARK.getSkin());var es_ModeratedItemsContainer_60_5_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.ModeratedItemsContainer,
{});es_ModeratedItemsContainer_60_5_$1.flex=1;AS3.setBindable(es_ModeratedItemsContainer_60_5_$1,"moderationContributionAdministration",AS3.as(AS3.getBindable(config,"moderation").getModerationContributionAdministration(),com.coremedia.elastic.social.studio.model.impl.ModerationContributionAdministration));config_$1.items=[panel_27_5_$1,splitter_58_5_$1,es_ModeratedItemsContainer_60_5_$1];var es_ModerationStatusBar_64_5_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.moderationtab.status.ModerationStatusBar,
{});es_ModerationStatusBar_64_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.moderationtab.ModerationPanelBase.STATUS_BAR_ID);AS3.setBindable(es_ModerationStatusBar_64_5_$1,"dock","bottom");es_ModerationStatusBar_64_5_$1["focusableContainer"]=false;AS3.setBindable(es_ModerationStatusBar_64_5_$1,"moderation",AS3.getBindable(config,"moderation"));config_$1.dockedItems=[es_ModerationStatusBar_64_5_$1];var layout_VBox_70_5_$1=AS3.cast(Ext.layout.container.VBox,
{});AS3.setBindable(layout_VBox_70_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_70_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$J1TT(config_$1)}return{extend:"com.coremedia.elastic.social.studio.moderation.moderationtab.ModerationPanelBase",alias:"widget.com.coremedia.elastic.social.studio.config.moderationPanel",constructor:ModerationPanel$,super$J1TT:function(){com.coremedia.elastic.social.studio.moderation.moderationtab.ModerationPanelBase.prototype.constructor.apply(this,
arguments)},config:{moderation:null},statics:{DETAIL_VIEW_HEIGHT:430},requires:["Ext.layout.container.Card","Ext.layout.container.VBox","Ext.panel.Panel","Ext.resizer.Splitter","com.coremedia.elastic.social.studio.moderation.moderationtab.ModerationPanelBase","com.coremedia.ui.skins.SplitterSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames","com.coremedia.elastic.social.studio.model.impl.ModerationContributionAdministration","com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.ModeratedItemsContainer",
"com.coremedia.elastic.social.studio.moderation.moderationtab.status.ModerationStatusBar","com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentView","com.coremedia.elastic.social.studio.moderation.shared.details.comments.ReviewView","com.coremedia.elastic.social.studio.moderation.shared.details.empty.EmptyDetailView","com.coremedia.elastic.social.studio.moderation.shared.details.user.UserProfileView"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.moderationtab.ModerationPanelBase",function(ModerationPanelBase){var EMPTY_CONTRIBUTION_TYPE$static="com-coremedia-elastic-social-studio-model-impl-EMPTY";function currentContributionViewItemId_(){this.currentContributionViewItemId$fflE=EMPTY_CONTRIBUTION_TYPE$static}function viewCache_(){this.viewCache$fflE=new Ext.util.MixedCollection}function ModerationPanelBase$(config){if(arguments.length<=0)config=null;this.super$fflE(config);currentContributionViewItemId_.call(this);
viewCache_.call(this);this.moderation$fflE=AS3.getBindable(config,"moderation");this.displayedValueExpression$fflE=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.DISPLAYED,this.moderation$fflE.getModerationContributionAdministration());this.viewCache$fflE.add(EMPTY_CONTRIBUTION_TYPE$static,this.getEmptyDetailView$fflE());this.mon(this.getSwitchingLayoutContainer$fflE(),"afterrender",AS3.bind(this,"cardLayoutContainerRendered"))}
function onDestroy(){Ext.panel.Panel.prototype.onDestroy.call(this);this.displayedValueExpression$fflE.removeChangeListener(AS3.bind(this,"switchContentComponent$fflE"))}function switchContentComponent(){var moderationContributionAdministration=this.moderation$fflE.getModerationContributionAdministration();var listEntryCount=moderationContributionAdministration.getModeratedItems()?moderationContributionAdministration.getModeratedItems().length:0;var oldContributionViewItemId=this.currentContributionViewItemId$fflE;
if(moderationContributionAdministration.hasDisplayed())this.currentContributionViewItemId$fflE=moderationContributionAdministration.getDisplayed()["$className"].toString();else if(listEntryCount===0)this.currentContributionViewItemId$fflE=EMPTY_CONTRIBUTION_TYPE$static;this.currentContributionViewItemId$fflE=this.currentContributionViewItemId$fflE.replace(/\./g,"-");if(oldContributionViewItemId!==this.currentContributionViewItemId$fflE)this.switchDetailView$fflE(oldContributionViewItemId,this.currentContributionViewItemId$fflE)}
function switchDetailView(oldContributionViewItemId,newContributionViewItemId){deactivate$static(this.getDetailView$fflE(oldContributionViewItemId));this.setActiveItemToCardLayout$fflE(this.getDetailView$fflE(newContributionViewItemId));var newView=this.getActiveItemFromCardLayout$fflE();this.activate$fflE(newView)}function getDetailView(contributionViewItemId){var this$=this;var cacheKey=contributionViewItemId.replace(/\./g,"-");if(!this.viewCache$fflE.getByKey(cacheKey))this.getSwitchingLayoutContainer$fflE().itemCollection.each(function(item,
index,length){if(cacheKey===item.itemId)this$.viewCache$fflE.add(cacheKey,AS3.as(item,Ext.container.Container))});return AS3.as(this.viewCache$fflE.get(cacheKey),Ext.container.Container)}function getSwitchingLayoutContainer(){if(!this.switchingLayoutContainer$fflE)this.switchingLayoutContainer$fflE=AS3.as(this.getComponent(ModerationPanelBase.CARD_LAYOUT_CONTAINER_ID),Ext.container.Container);return this.switchingLayoutContainer$fflE}function setActiveItemToCardLayout(item){AS3.cast(Ext.layout.container.Card,
this.getSwitchingLayoutContainer$fflE().getLayout()).setActiveItem(item)}function getActiveItemFromCardLayout(){return AS3.as(AS3.cast(Ext.layout.container.Card,this.getSwitchingLayoutContainer$fflE().getLayout()).getActiveItem(),Ext.container.Container)}function deactivate$static(container){if(container){var activatable=AS3.as(container,com.coremedia.elastic.social.studio.moderation.moderationtab.Activatable);if(activatable)activatable.deactivated()}}function activate(container){var activatable=
AS3.as(container,com.coremedia.elastic.social.studio.moderation.moderationtab.Activatable);if(activatable)activatable.activated(this)}function getEmptyDetailView(){if(!this.emptyDetailView$fflE)this.emptyDetailView$fflE=AS3.as(this.getSwitchingLayoutContainer$fflE().getComponent(ModerationPanelBase.EMPTY_DETAIL_VIEW_ID),Ext.container.Container);return this.emptyDetailView$fflE}function cardLayoutContainerRendered(){var this$=this;this.mon(this.getSwitchingLayoutContainer$fflE(),"afterlayout",function(){this$.displayedValueExpression$fflE.addChangeListener(AS3.bind(this$,
"switchContentComponent$fflE"));this$.switchContentComponent$fflE()},null,{single:true})}return{extend:"Ext.panel.Panel",displayedValueExpression$fflE:null,moderation$fflE:null,emptyDetailView$fflE:null,switchingLayoutContainer$fflE:null,constructor:ModerationPanelBase$,super$fflE:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},onDestroy:onDestroy,switchContentComponent$fflE:switchContentComponent,switchDetailView$fflE:switchDetailView,getDetailView$fflE:getDetailView,getSwitchingLayoutContainer$fflE:getSwitchingLayoutContainer,
setActiveItemToCardLayout$fflE:setActiveItemToCardLayout,getActiveItemFromCardLayout$fflE:getActiveItemFromCardLayout,activate$fflE:activate,getEmptyDetailView$fflE:getEmptyDetailView,cardLayoutContainerRendered:cardLayoutContainerRendered,statics:{STATUS_BAR_ID:"cm-elastic-social-layout-statusbar",EMPTY_DETAIL_VIEW_ID:"cm-elastic-social-empty-details-view",CARD_LAYOUT_CONTAINER_ID:"switching-view-container",USER_PROFILE_VIEW_ITEM_ID:"com-coremedia-elastic-social-studio-model-impl-UserImpl",COMMENT_VIEW_ITEM_ID:"com-coremedia-elastic-social-studio-model-impl-CommentImpl",
REVIEW_VIEW_ITEM_ID:"com-coremedia-elastic-social-studio-model-impl-ReviewImpl",MODERATION_COMMENT_RICHTEXT_AREA_ID:"cm-elastic-social-moderation-comment-richtext-area",MODERATION_REVIEW_RICHTEXT_AREA_ID:"cm-elastic-social-moderation-review-richtext-area"},requires:["Ext.container.Container","Ext.layout.container.Card","Ext.panel.Panel","Ext.util.MixedCollection","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames",
"com.coremedia.elastic.social.studio.moderation.moderationtab.Activatable"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.ContributionSearchFilterPanelBase",function(ContributionSearchFilterPanelBase){function ContributionSearchFilterPanelBase$(config){if(arguments.length<=0)config=null;this.super$UiIN(config);this.updateStateBeanFromModerationStruct$UiIN();this.getStateBean().addValueChangeListener(AS3.bind(this,"updateModerationStructFromStateBean$UiIN"));AS3.getBindable(this,"categoriesListValueExpression").addChangeListener(AS3.bind(this,
"filterSelectedCategories$UiIN"));this.filterSelectedCategories$UiIN();this.categorySelector$UiIN=AS3.as(this.queryById(com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.ContributionSearchFilterPanel.CATEGORY_SELECTOR_ITEM_ID),Ext.form.field.ComboBox);this.mon(this.categorySelector$UiIN,"select",AS3.bind(this,"categorySelected$UiIN"))}function updateStateBeanFromModerationStruct(){var moderationStruct=this.prepareModerationStruct$UiIN();var updatedProperties={};updatedProperties[this.INCLUDE_COMMENTS_PROPERTY]=
moderationStruct.get(this.INCLUDE_COMMENTS_PROPERTY);updatedProperties[this.SHOW_COMMENTS_FOR_ALL_SITES_PROPERTY]=this.getEnableSiteSpecificCommentsSwitchVE().getValue()?moderationStruct.get(this.SHOW_COMMENTS_FOR_ALL_SITES_PROPERTY):false;updatedProperties[this.INCLUDE_USERS_PROPERTY]=moderationStruct.get(this.INCLUDE_USERS_PROPERTY);updatedProperties[this.SELECTED_COMMENT_CATEGORIES_PROPERTY$UiIN]=moderationStruct.get(this.SELECTED_COMMENT_CATEGORIES_PROPERTY$UiIN);this.getStateBean().updateProperties(updatedProperties)}
function updateModerationStructFromStateBean(){var moderationStruct=this.prepareModerationStruct$UiIN();moderationStruct.updateProperties(this.getStateBean().toObject())}function getDefaultState(){var defaultState={};defaultState[this.INCLUDE_COMMENTS_PROPERTY]=true;defaultState[this.SHOW_COMMENTS_FOR_ALL_SITES_PROPERTY]=false;defaultState[this.INCLUDE_USERS_PROPERTY]=true;defaultState[this.SELECTED_COMMENT_CATEGORIES_PROPERTY$UiIN]=[];return defaultState}function filterSelectedCategories(){var availableCategories=
AS3.getBindable(this,"categoriesListValueExpression").getValue();if(availableCategories!==undefined){var newSelectedCategories=[];var oldSelectedCategories=this.getSelectedCategoriesAsBeansValueExpression().getValue()||[];oldSelectedCategories.forEach(function(categoryBean){var filtered=[];if(availableCategories)filtered=availableCategories.filter(function(availableCategoryBean){return categoryBean.get("key")===availableCategoryBean.get("key")});if(filtered.length>0)newSelectedCategories.push(categoryBean)});
this.getSelectedCategoriesValueExpression().setValue(this.getCategoryBeansAsStrings$UiIN(newSelectedCategories))}}function buildQuery(){var includeComments=this.getStateBean().get(this.INCLUDE_COMMENTS_PROPERTY);var includeUsers=this.getStateBean().get(this.INCLUDE_USERS_PROPERTY);var query="includeComments\x3d"+includeComments+"\x26includeUsers\x3d"+includeUsers;if(includeComments){query=query+this.buildCommentCategoriesQuery$UiIN();query=query+this.getCommentSitesQuery$UiIN()}return query}function getCommentSitesQuery(){var sitesService=
com.coremedia.cms.editor.sdk.editorContext.getSitesService();var preferredSiteId=sitesService.getPreferredSiteId();var query="";if(preferredSiteId&&preferredSiteId.length>0&&!this.getStateBean().get(this.SHOW_COMMENTS_FOR_ALL_SITES_PROPERTY))query="\x26comments_target.site\x3d"+preferredSiteId;return query}function buildCommentCategoriesQuery(){var query="";this.getSelectedCategoriesAsBeansValueExpression().getValue().forEach(function(categoryBean){query=query+"\x26categories\x3d"+categoryBean.get("key")});
return query}function getIsCategoriesListConfiguredVE(categoriesListVE){if(!this.isCategoriesListConfiguredVE$UiIN)this.isCategoriesListConfiguredVE$UiIN=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var categoriesList=AS3.as(categoriesListVE.getValue(),Array)||[];return categoriesList.length>0});return this.isCategoriesListConfiguredVE$UiIN}function getSelectedCategoriesValueExpression(){if(!this.selectedCategoriesValueExpression$UiIN){this.selectedCategoriesValueExpression$UiIN=
com.coremedia.ui.data.ValueExpressionFactory.create(this.SELECTED_COMMENT_CATEGORIES_PROPERTY$UiIN,this.getStateBean());this.selectedCategoriesValueExpression$UiIN.setValue([])}return this.selectedCategoriesValueExpression$UiIN}function getSelectedCategoriesAsBeansValueExpression(){var this$=this;if(!this.selectedCategoriesAsBeansValueExpression$UiIN)this.selectedCategoriesAsBeansValueExpression$UiIN=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var selectedCategories=
this$.getSelectedCategoriesValueExpression().getValue();return selectedCategories.map(function(categoryString){var jsonObject=Ext.JSON.decode(categoryString);return com.coremedia.ui.data.beanFactory.createLocalBean(jsonObject)})});return this.selectedCategoriesAsBeansValueExpression$UiIN}function getCategoryBeansAsStrings(categoryBeans){var categoryStrings=categoryBeans.map(function(categoryBean){return categoryBean.toJson()});return categoryStrings}function getExcludeCommentsValueExpression(){var this$=
this;if(!this.excludeCommentsValueExpression$UiIN)this.excludeCommentsValueExpression$UiIN=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function commentsExcluded(){return!this$.getStateBean().get(this$.INCLUDE_COMMENTS_PROPERTY)||false});return this.excludeCommentsValueExpression$UiIN}function getDisabledCommentsValueExpression(categoriesList){var this$=this;if(!this.commentsDisabledValueExpression$UiIN)this.commentsDisabledValueExpression$UiIN=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function commentsDisabled(){return!(this$.getStateBean().get(this$.INCLUDE_COMMENTS_PROPERTY)&&
AS3.as(this$.getSelectableCategoriesValueExpression(categoriesList).getValue(),Array).length>0)});return this.commentsDisabledValueExpression$UiIN}function getEnableSiteSpecificCommentsSwitchVE(){if(!this.enableSiteSpecificCommentsSwitchVE$UiIN)this.enableSiteSpecificCommentsSwitchVE$UiIN=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(false);return this.enableSiteSpecificCommentsSwitchVE$UiIN}function getSelectableCategoriesValueExpression(availableCategoriesValueExpression){var this$=
this;if(!this.selectableCategoriesValueExpression$UiIN)this.selectableCategoriesValueExpression$UiIN=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var selectableCategories=[];var availableCategories=availableCategoriesValueExpression.getValue()||[];availableCategories.forEach(function(selectableCategory){var filteredSelectedCategories=this$.getSelectedCategoriesAsBeansValueExpression().getValue().filter(function(selectedCategory){return selectableCategory.get("key")===
selectedCategory.get("key")});if(filteredSelectedCategories.length===0)selectableCategories.push(selectableCategory)});return selectableCategories});return this.selectableCategoriesValueExpression$UiIN}function categorySelected(combo,record,index){var selectedCategories=this.getSelectedCategoriesAsBeansValueExpression().getValue();var selectedCategoriesFiltered=selectedCategories.filter(function(category){return category.get("key")===record.get("key")});if(selectedCategoriesFiltered.length===0){var resultCategories=
selectedCategories.concat([record.getBean()]);this.getSelectedCategoriesValueExpression().setValue(this.getCategoryBeansAsStrings$UiIN(resultCategories))}this.updateComboState$UiIN(combo.getStore().getCount()-1)}function updateComboState(size){if(size>0)this.categorySelector$UiIN.expand();else this.categorySelector$UiIN.setValue(null)}function removeSelectedCategory(button){var selectedCategories=this.getSelectedCategoriesAsBeansValueExpression().getValue();selectedCategories=selectedCategories.filter(function(category){return ContributionSearchFilterPanelBase.getCategoryKeyWithoutWhiteSpaces(category)!==
button.getItemId()});this.getSelectedCategoriesValueExpression().setValue(this.getCategoryBeansAsStrings$UiIN(selectedCategories))}function prepareModerationStruct(){var preferences=com.coremedia.cms.editor.sdk.editorContext.getPreferences();if(!preferences||!preferences.getState().readable)return null;var moderationStruct=AS3.as(preferences.get(this.MODERATION_FILTER_PREFERENCES$UiIN),com.coremedia.cap.struct.Struct);if(!moderationStruct){var preferencesStructType=preferences.getType();if(!preferencesStructType.hasProperty(this.MODERATION_FILTER_PREFERENCES$UiIN)){preferencesStructType.addStructProperty(this.MODERATION_FILTER_PREFERENCES$UiIN);
moderationStruct=preferences.get(this.MODERATION_FILTER_PREFERENCES$UiIN)}}var moderationStructType=moderationStruct.getType();if(!moderationStructType.hasProperty(this.INCLUDE_COMMENTS_PROPERTY))moderationStructType.addBooleanProperty(this.INCLUDE_COMMENTS_PROPERTY,true);if(!moderationStructType.hasProperty(this.SHOW_COMMENTS_FOR_ALL_SITES_PROPERTY))moderationStructType.addBooleanProperty(this.SHOW_COMMENTS_FOR_ALL_SITES_PROPERTY,true);if(!moderationStructType.hasProperty(this.INCLUDE_USERS_PROPERTY))moderationStructType.addBooleanProperty(this.INCLUDE_USERS_PROPERTY,
true);if(!moderationStructType.hasProperty(this.SELECTED_COMMENT_CATEGORIES_PROPERTY$UiIN))moderationStructType.addStringListProperty(this.SELECTED_COMMENT_CATEGORIES_PROPERTY$UiIN,1E6,[]);return moderationStruct}function getCategoryKeyWithoutWhiteSpaces$static(categoryBean){return categoryBean.get("key").replace(/ /g,"-")}function beforeDestroy(){AS3.getBindable(this,"categoriesListValueExpression").removeChangeListener(AS3.bind(this,"filterSelectedCategories$UiIN"));com.coremedia.cms.editor.sdk.collectionview.search.FilterPanel.prototype.beforeDestroy.call(this)}
return{extend:"com.coremedia.cms.editor.sdk.collectionview.search.FilterPanel",MODERATION_FILTER_PREFERENCES$UiIN:"moderation",INCLUDE_COMMENTS_PROPERTY:"includeComments",SHOW_COMMENTS_FOR_ALL_SITES_PROPERTY:"showCommentsForAllSites",INCLUDE_USERS_PROPERTY:"includeUsers",SELECTED_COMMENT_CATEGORIES_PROPERTY$UiIN:"selectedCommentCategories",commentsDisabledValueExpression$UiIN:null,enableSiteSpecificCommentsSwitchVE$UiIN:null,excludeCommentsValueExpression$UiIN:null,selectedCategoriesValueExpression$UiIN:null,
selectedCategoriesAsBeansValueExpression$UiIN:null,selectableCategoriesValueExpression$UiIN:null,isCategoriesListConfiguredVE$UiIN:null,categorySelector$UiIN:null,constructor:ContributionSearchFilterPanelBase$,super$UiIN:function(){com.coremedia.cms.editor.sdk.collectionview.search.FilterPanel.prototype.constructor.apply(this,arguments)},updateStateBeanFromModerationStruct$UiIN:updateStateBeanFromModerationStruct,updateModerationStructFromStateBean$UiIN:updateModerationStructFromStateBean,getDefaultState:getDefaultState,
filterSelectedCategories$UiIN:filterSelectedCategories,buildQuery:buildQuery,getCommentSitesQuery$UiIN:getCommentSitesQuery,buildCommentCategoriesQuery$UiIN:buildCommentCategoriesQuery,getIsCategoriesListConfiguredVE:getIsCategoriesListConfiguredVE,getSelectedCategoriesValueExpression:getSelectedCategoriesValueExpression,getSelectedCategoriesAsBeansValueExpression:getSelectedCategoriesAsBeansValueExpression,getCategoryBeansAsStrings$UiIN:getCategoryBeansAsStrings,getExcludeCommentsValueExpression:getExcludeCommentsValueExpression,
getDisabledCommentsValueExpression:getDisabledCommentsValueExpression,getEnableSiteSpecificCommentsSwitchVE:getEnableSiteSpecificCommentsSwitchVE,getSelectableCategoriesValueExpression:getSelectableCategoriesValueExpression,categorySelected$UiIN:categorySelected,updateComboState$UiIN:updateComboState,removeSelectedCategory:removeSelectedCategory,prepareModerationStruct$UiIN:prepareModerationStruct,beforeDestroy:beforeDestroy,config:{categoriesListValueExpression:null},statics:{CATEGORY_ELEMENTS_CT_ITEM_ID:"categoryElementsCtItemId",
getCategoryKeyWithoutWhiteSpaces:getCategoryKeyWithoutWhiteSpaces$static},requires:["Ext.JSON","Ext.form.field.ComboBox","com.coremedia.cap.struct.Struct","com.coremedia.cms.editor.sdk.collectionview.search.FilterPanel","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.beanFactory"],uses:["com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.ContributionSearchFilterPanel"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.ModeratedItemsSearchFiltersBase",function(ModeratedItemsSearchFiltersBase){function ModeratedItemsSearchFiltersBase$(config){var this$=this;if(arguments.length<=0)config=null;this.super$rUEN(config);this.itemCollection.each(function(component){var searchFilter=AS3.as(component,com.coremedia.cms.editor.sdk.collectionview.search.SearchFilter);if(searchFilter){AS3.getBindable(this$,"moderationContributionAdministration").addSearchFilter(searchFilter);
this$.add(searchFilter)}});this.inDefaultStateExpression$rUEN=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"isInDefaultState$rUEN"));this.inDefaultStateExpression$rUEN.addChangeListener(AS3.bind(this,"updateStyleClasses$rUEN"))}function afterRender(){Ext.container.Container.prototype.afterRender.call(this);this.updateStyleClasses$rUEN()}function updateStyleClasses(){com.coremedia.cms.editor.sdk.collectionview.search.SearchFiltersBase.updateState(this.ownerCt,this.inDefaultStateExpression$rUEN.getValue())}
function isInDefaultState(){return AS3.getBindable(this,"moderationContributionAdministration").areFiltersInDefaultState()}function beforeDestroy(){AS3.getBindable(this,"moderationContributionAdministration").clearSearchFilters();this.inDefaultStateExpression$rUEN.removeChangeListener(AS3.bind(this,"updateStyleClasses$rUEN"));Ext.container.Container.prototype.beforeDestroy.call(this)}return{extend:"Ext.container.Container",inDefaultStateExpression$rUEN:null,constructor:ModeratedItemsSearchFiltersBase$,
super$rUEN:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},afterRender:afterRender,updateStyleClasses$rUEN:updateStyleClasses,isInDefaultState$rUEN:isInDefaultState,beforeDestroy:beforeDestroy,config:{moderationContributionAdministration:null},requires:["Ext.container.Container","com.coremedia.cms.editor.sdk.collectionview.search.SearchFilter","com.coremedia.cms.editor.sdk.collectionview.search.SearchFiltersBase","com.coremedia.ui.data.ValueExpressionFactory"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.ModeratedItemsViewBase",function(ModeratedItemsViewBase){function MODERATION_ITEM_PRIORITIZE_BLOCK$static_(){ModeratedItemsViewBase.MODERATION_ITEM_PRIORITIZE_BLOCK=new com.coremedia.ui.models.bem.BEMBlock("cm-moderation-item-prioritizable")}function MODERATION_ITEM_PRIORITIZE_MODIFIER_ENABLED$static_(){ModeratedItemsViewBase.MODERATION_ITEM_PRIORITIZE_MODIFIER_ENABLED=ModeratedItemsViewBase.MODERATION_ITEM_PRIORITIZE_BLOCK.createModifier("enabled")}
function MODERATION_ITEM_PRIORITIZE_MODIFIER_OVER$static_(){ModeratedItemsViewBase.MODERATION_ITEM_PRIORITIZE_MODIFIER_OVER=ModeratedItemsViewBase.MODERATION_ITEM_PRIORITIZE_BLOCK.createModifier("over")}function ModeratedItemsViewBase$(config){if(arguments.length<=0)config=null;this.moderatedContributionAdministrationImpl$LTp3=AS3.as(AS3.getBindable(config,"moderationContributionAdministration"),com.coremedia.elastic.social.studio.model.impl.ModerationContributionAdministration);this.super$LTp3(config);
this.addListener("viewready",AS3.bind(this,"selectIfNothingSelected"));this.getPrioritizedValueExpression$LTp3().addChangeListener(AS3.bind(this,"refreshGridView$LTp3"))}function getSelectedItemsValueExpression(moderatedContributionAdministration){if(!this.listSelectionValueExpression$LTp3){this.listSelectionValueExpression$LTp3=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.SELECTED_MODERATION_ITEMS,moderatedContributionAdministration);
this.listSelectionValueExpression$LTp3.addChangeListener(AS3.bind(this,"markSelectedInternally$LTp3"))}return this.listSelectionValueExpression$LTp3}function markSelectedInternally(source){var selection=AS3.as(source.getValue(),Array);if(selection.length>0&&selection[0])this.moderatedContributionAdministrationImpl$LTp3.setSelectedContribution(selection[0]);else this.moderatedContributionAdministrationImpl$LTp3.setSelectedContribution(null)}function afterRender(){Ext.grid.Panel.prototype.afterRender.call(this);
this.updateSorting$LTp3();this.getView()["headerCt"].setSortState=function(){};this.mon(this.getView(),"refresh",AS3.bind(this,"updateSorting$LTp3"));this.mon(this.getView(),"itemmouseenter",AS3.bind(this,"handleItemMouseEnter$LTp3"));this.mon(this.getView(),"itemmouseleave",AS3.bind(this,"handleItemMouseLeave$LTp3"));for(var $1=0,$2=this.getColumns();$1<$2.length;++$1){var column=$2[$1];if(column.stateId===com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames.CREATION_DATE)column.el.dom.addEventListener("click",
AS3.bind(this,"dateColumnClicked$LTp3"),true)}}function dateColumnClicked(e){e.preventDefault();this.sortAsc$LTp3=this.moderatedContributionAdministrationImpl$LTp3.toggleSorting();this.updateSorting$LTp3()}function updateSorting(){for(var $1=0,$2=this.getColumns();$1<$2.length;++$1){var column=$2[$1];if(column.stateId===com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames.CREATION_DATE){var ascSortCls=column["ascSortCls"];var descSortCls=column["descSortCls"];if(this.sortAsc$LTp3)column.addCls(ascSortCls).removeCls(descSortCls);
else column.addCls(descSortCls).removeCls(ascSortCls)}}}function handleItemMouseEnter(view,record,item,index,e){if(!this.isPrioritized$LTp3(record)){var block=Ext.fly(item).query(ModeratedItemsViewBase.MODERATION_ITEM_PRIORITIZE_BLOCK.getCSSSelector(),false)[0];block&&block.addCls(ModeratedItemsViewBase.MODERATION_ITEM_PRIORITIZE_MODIFIER_OVER.getCSSClass())}}function handleItemMouseLeave(view,record,item,index,e){if(!this.isPrioritized$LTp3(record)){var block=Ext.fly(item).query(ModeratedItemsViewBase.MODERATION_ITEM_PRIORITIZE_BLOCK.getCSSSelector(),
false)[0];block&&block.removeCls(ModeratedItemsViewBase.MODERATION_ITEM_PRIORITIZE_MODIFIER_OVER.getCSSClass())}}function beforeDestroy(){this.getSelectedItemsValueExpression(this.moderatedContributionAdministrationImpl$LTp3).removeChangeListener(AS3.bind(this,"markSelectedInternally$LTp3"));this.getPrioritizedValueExpression$LTp3().removeChangeListener(AS3.bind(this,"refreshGridView$LTp3"));this.removeListener("viewready",AS3.bind(this,"selectIfNothingSelected"));Ext.grid.Panel.prototype.beforeDestroy.call(this)}
function selectIfNothingSelected(){this.getView().refresh();var selectionModel=AS3.cast(Ext.selection.RowModel,this.getSelectionModel());if(!selectionModel.hasSelection())selectionModel.select(0)}function handleRowStyle(record,rowIndex,rp,ds){if(record.data.lastComplaintDate){this.isFirstNonComplaint$LTp3=true;return""}var nonComplaintCss="";if(this.isFirstNonComplaint$LTp3){nonComplaintCss=ModeratedItemsViewBase.CM_ELASTIC_FIRST_NON_COMPLAINT_ROW_CLASS;this.isFirstNonComplaint$LTp3=false}else nonComplaintCss=
"";return nonComplaintCss}function getModeratedItem$static(record){var beanRecord=AS3.as(record,com.coremedia.ui.store.BeanRecord);return beanRecord?AS3.as(beanRecord.getBean(),com.coremedia.elastic.social.studio.model.ModeratedItem):null}function groupRenderer$static(value,_,rec){var moderatedItem=getModeratedItem$static(rec);if(moderatedItem)return moderatedItem.getLastComplaintDate()?mx.resources.ResourceManager.getInstance().getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"list_group_complaints"):mx.resources.ResourceManager.getInstance().getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","list_group_normal");else return""}function isCommentOrReview$static(record){var moderatedItem=getModeratedItem$static(record);var contribution=moderatedItem&&moderatedItem.getTarget();return contribution&&(AS3.is(contribution,com.coremedia.elastic.social.studio.model.Comment)||AS3.is(contribution,com.coremedia.elastic.social.studio.model.Review))}function isUser$static(record){var moderatedItem=
getModeratedItem$static(record);var contribution=moderatedItem&&moderatedItem.getTarget();return AS3.is(contribution,com.coremedia.elastic.social.studio.model.User)}function isPrioritizable$static(record){if(!record)return false;var moderatedItem=getModeratedItem$static(record);return moderatedItem&&!!moderatedItem.getPriorityId()}function authorNameRenderer$static(value,_,record){var anonymous=mx.resources.ResourceManager.getInstance().getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"userdetail_anonymous");var moderatedItem=getModeratedItem$static(record);return com.coremedia.ui.util.EncodingUtil.encodeForHTML(moderatedItem.get(com.coremedia.elastic.social.studio.model.CommentPropertyNames.AUTHOR_NAME)||anonymous)}function dateRenderer$static(value,metaData,record,rowIndex,colIndex,store){var moderatedItem=getModeratedItem$static(record);if(moderatedItem&&moderatedItem.getLastComplaintDate()!==null)value=moderatedItem.getLastComplaintDate();return Ext.Date.format(value,mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor",
"dateFormat"))}function getPrioritizeIconCls(value,metaData,record,rowIndex,colIndex,store){if(isPrioritizable$static(record)){var iconCls=ModeratedItemsViewBase.MODERATION_ITEM_PRIORITIZE_BLOCK.getCSSClass();if(this.isPrioritized$LTp3(record))iconCls+=" "+ModeratedItemsViewBase.MODERATION_ITEM_PRIORITIZE_MODIFIER_ENABLED.getCSSClass();return iconCls}return""}function getPrioritizeToolTip(value,metaData,record,rowIndex,colIndex,store){if(isPrioritizable$static(record)){var tooltip=this.getPrioritizeTooltip$LTp3(record);
var title=this.getPrioritizeTitle$LTp3(record);return com.coremedia.ui.util.EncodingUtil.encodeForHTML(tooltip)+'" data-qtitle\x3d"'+com.coremedia.ui.util.EncodingUtil.encodeForHTML(title)}return""}function isPrioritizeDisabled$static(view,rowIndex,colIndex,item,record){return!isPrioritizable$static(record)}function prioritizeHandler(view,rowIndex,colIndex,item,e,record,row){if(isPrioritizable$static(record)){if(this.isPrioritized$LTp3(record))this.moderatedContributionAdministrationImpl$LTp3.unprioritize();
else{var moderatedItem=getModeratedItem$static(record);this.moderatedContributionAdministrationImpl$LTp3.prioritize(moderatedItem.getPriorityId())}Ext.tip.QuickTipManager.getQuickTip().setTitle(this.getPrioritizeTitle$LTp3(record));Ext.tip.QuickTipManager.getQuickTip().update(this.getPrioritizeTooltip$LTp3(record))}}function isPrioritized(record){if(record){var moderatedItem=getModeratedItem$static(record);return this.moderatedContributionAdministrationImpl$LTp3&&moderatedItem.getPriorityId()===this.moderatedContributionAdministrationImpl$LTp3.getPriority()}return false}
function getPrioritizeTitle(record){var title;if(this.isPrioritized$LTp3(record))if(isCommentOrReview$static(record))title=this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","prioritization_button_unprioritize_comments_title");else{if(isUser$static(record))title=this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","prioritization_button_unprioritize_users_title")}else if(isCommentOrReview$static(record))title=this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"prioritization_button_prioritize_comments_title");else if(isUser$static(record))title=this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","prioritization_button_prioritize_users_title");return title}function getPrioritizeTooltip(record){var tooltip;if(this.isPrioritized$LTp3(record))if(isCommentOrReview$static(record))tooltip=this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","prioritization_button_unprioritize_comments_qtip");
else{if(isUser$static(record))tooltip=this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","prioritization_button_unprioritize_users_qtip")}else if(isCommentOrReview$static(record))tooltip=this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","prioritization_button_prioritize_comments_qtip");else if(isUser$static(record))tooltip=this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"prioritization_button_prioritize_users_qtip");return tooltip}function getModeratedItemsValueExpression(moderatedContributionAdministration){if(!this.moderatedItemsValueExpression$LTp3)this.moderatedItemsValueExpression$LTp3=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){return moderatedContributionAdministration.getModeratedItems()});return this.moderatedItemsValueExpression$LTp3}function getPrioritizedValueExpression(){if(!this.prioritizedValueExpression$LTp3)this.prioritizedValueExpression$LTp3=
com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.PRIORITY,com.coremedia.elastic.social.studio.model.impl.ModerationImpl.getInstance().getModerationContributionAdministration());return this.prioritizedValueExpression$LTp3}function refreshGridView(){this.getView().refresh()}return{extend:"Ext.grid.Panel",listSelectionValueExpression$LTp3:null,moderatedItemsValueExpression$LTp3:null,prioritizedValueExpression$LTp3:null,
moderatedContributionAdministrationImpl$LTp3:null,isFirstNonComplaint$LTp3:true,sortAsc$LTp3:false,constructor:ModeratedItemsViewBase$,super$LTp3:function(){Ext.grid.Panel.prototype.constructor.apply(this,arguments)},getSelectedItemsValueExpression:getSelectedItemsValueExpression,markSelectedInternally$LTp3:markSelectedInternally,afterRender:afterRender,dateColumnClicked$LTp3:dateColumnClicked,updateSorting$LTp3:updateSorting,handleItemMouseEnter$LTp3:handleItemMouseEnter,handleItemMouseLeave$LTp3:handleItemMouseLeave,
beforeDestroy:beforeDestroy,selectIfNothingSelected:selectIfNothingSelected,handleRowStyle:handleRowStyle,getPrioritizeIconCls:getPrioritizeIconCls,getPrioritizeToolTip:getPrioritizeToolTip,prioritizeHandler:prioritizeHandler,isPrioritized$LTp3:isPrioritized,getPrioritizeTitle$LTp3:getPrioritizeTitle,getPrioritizeTooltip$LTp3:getPrioritizeTooltip,getModeratedItemsValueExpression:getModeratedItemsValueExpression,getPrioritizedValueExpression$LTp3:getPrioritizedValueExpression,refreshGridView$LTp3:refreshGridView,
statics:{DATE_SORT_HEADER_ID:"cm-elastic-social-list-date-sort-header",MODERATION_ITEM_PRIORITIZE_BLOCK:undefined,MODERATION_ITEM_PRIORITIZE_MODIFIER_ENABLED:undefined,MODERATION_ITEM_PRIORITIZE_MODIFIER_OVER:undefined,CM_ELASTIC_FIRST_NON_COMPLAINT_ROW_CLASS:"cm-elastic-first-non-complaint-row",groupRenderer:groupRenderer$static,authorNameRenderer:authorNameRenderer$static,dateRenderer:dateRenderer$static,isPrioritizeDisabled:isPrioritizeDisabled$static,__initStatics__:function(){MODERATION_ITEM_PRIORITIZE_BLOCK$static_();
MODERATION_ITEM_PRIORITIZE_MODIFIER_ENABLED$static_();MODERATION_ITEM_PRIORITIZE_MODIFIER_OVER$static_()}},requires:["Ext","Ext.Date","Ext.grid.Panel","Ext.selection.RowModel","Ext.tip.QuickTipManager","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.models.bem.BEMBlock","com.coremedia.ui.store.BeanRecord","com.coremedia.ui.util.EncodingUtil","mx.resources.ResourceManager"],uses:["com.coremedia.elastic.social.studio.model.Comment",
"com.coremedia.elastic.social.studio.model.CommentPropertyNames","com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames","com.coremedia.elastic.social.studio.model.ModeratedItem","com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames","com.coremedia.elastic.social.studio.model.Review","com.coremedia.elastic.social.studio.model.User","com.coremedia.elastic.social.studio.model.impl.ModerationContributionAdministration","com.coremedia.elastic.social.studio.model.impl.ModerationImpl"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.ModeratedItemsContainer",function(ModeratedItemsContainer){function ModeratedItemsContainer$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.container.Container,{});var defaults_$1=AS3.cast(ModeratedItemsContainer,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var editor_SearchFiltersPanel_26_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.search.SearchFiltersPanel,{});
editor_SearchFiltersPanel_26_5_$1.stateId=net.jangaroo.ext.Exml.asString(ModeratedItemsContainer.MODERATION_SEARCH_FILTERS_STATE_ID);AS3.setBindable(editor_SearchFiltersPanel_26_5_$1,"stateful",true);editor_SearchFiltersPanel_26_5_$1.stateEvents=["collapse","expand"];editor_SearchFiltersPanel_26_5_$1["getState"]=function(){return{collapsed:this.collapsed}};AS3.setBindable(editor_SearchFiltersPanel_26_5_$1,"alwaysVisible",true);var es_ModeratedItemsSearchFilters_32_9_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.ModeratedItemsSearchFilters,
{});AS3.setBindable(es_ModeratedItemsSearchFilters_32_9_$1,"moderationContributionAdministration",AS3.getBindable(config,"moderationContributionAdministration"));editor_SearchFiltersPanel_26_5_$1.items=[es_ModeratedItemsSearchFilters_32_9_$1];var mods_35_5_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.ModeratedItemsView,{});mods_35_5_$1.itemId=net.jangaroo.ext.Exml.asString(ModeratedItemsContainer.MODERATED_ITEMS_VIEW_ID);AS3.setBindable(mods_35_5_$1,"region",
"center");AS3.setBindable(mods_35_5_$1,"moderationContributionAdministration",AS3.getBindable(config,"moderationContributionAdministration"));AS3.setBindable(this,"mods",new com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.ModeratedItemsView(mods_35_5_$1));config_$1.items=[editor_SearchFiltersPanel_26_5_$1,AS3.getBindable(this,"mods")];var editor_ExtendedBorderLayout_41_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.layouts.ExtendedBorderLayout,{});AS3.setBindable(editor_ExtendedBorderLayout_41_5_$1,
"showCollapsedTitles",["west"]);AS3.setBindable(config_$1,"layout",editor_ExtendedBorderLayout_41_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Ie1q(config_$1)}return{extend:"Ext.container.Container",alias:"widget.com.coremedia.elastic.social.studio.config.moderatedItemsContainer",constructor:ModeratedItemsContainer$,super$Ie1q:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},config:{moderationContributionAdministration:null,mods:null},statics:{MODERATED_ITEMS_VIEW_ID:"cm-moderation-gridPanel",
MODERATION_SEARCH_FILTERS_STATE_ID:"moderationSearchFiltersStateId"},requires:["Ext.container.Container","com.coremedia.cms.editor.sdk.collectionview.search.SearchFiltersPanel","com.coremedia.cms.editor.sdk.layouts.ExtendedBorderLayout","net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.ModeratedItemsSearchFilters","com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.ModeratedItemsView"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.ModeratedItemsSearchFilters",function(ModeratedItemsSearchFilters){function ModeratedItemsSearchFilters$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.ModeratedItemsSearchFiltersBase,{});var defaults_$1=AS3.cast(ModeratedItemsSearchFilters,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.GRID_200);
var es_ContributionSearchFilterPanel_20_5_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.ContributionSearchFilterPanel,{});AS3.setBindable(es_ContributionSearchFilterPanel_20_5_$1,"categoriesListValueExpression",AS3.getBindable(config,"moderationContributionAdministration").getCategoryBeansValueExpression());AS3.setBindable(es_ContributionSearchFilterPanel_20_5_$1,"collapsed",false);config_$1.items=[es_ContributionSearchFilterPanel_20_5_$1];net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$uAkc(config_$1)}return{extend:"com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.ModeratedItemsSearchFiltersBase",alias:"widget.com.coremedia.elastic.social.studio.config.moderatedItemsSearchFilters",constructor:ModeratedItemsSearchFilters$,super$uAkc:function(){com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.ModeratedItemsSearchFiltersBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.ModeratedItemsSearchFiltersBase",
"com.coremedia.ui.skins.ContainerSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.ContributionSearchFilterPanel"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.CategoryElement",function(CategoryElement){function CategoryElement$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.container.Container,{});var defaults_$1=AS3.cast(CategoryElement,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.ContributionSearchFilterPanelBase.getCategoryKeyWithoutWhiteSpaces(AS3.getBindable(config,
"categoryBean")));var label_45_5_$1=AS3.cast(Ext.form.Label,{});AS3.setBindable(label_45_5_$1,"text",net.jangaroo.ext.Exml.asString(this.getCategoryName$pilG(config)));label_45_5_$1.flex=1;var ui_BindPropertyPlugin_48_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_48_9_$1.componentProperty="disabled";ui_BindPropertyPlugin_48_9_$1.bindTo=AS3.getBindable(config,"disabledValueExpression");label_45_5_$1.plugins=[ui_BindPropertyPlugin_48_9_$1];var ui_IconButton_52_5_$1=
AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_52_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.ContributionSearchFilterPanelBase.getCategoryKeyWithoutWhiteSpaces(AS3.getBindable(config,"categoryBean")));AS3.setBindable(ui_IconButton_52_5_$1,"handler",AS3.getBindable(config,"removeHandler"));AS3.setBindable(ui_IconButton_52_5_$1,"scale","small");AS3.setBindable(ui_IconButton_52_5_$1,"text",net.jangaroo.ext.Exml.asString(com.coremedia.ui.util.AriaUtils.DUMMY_TEXT));
ui_IconButton_52_5_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.getAriaLabel$pilG(config));AS3.setBindable(ui_IconButton_52_5_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","remove_small")));var ui_BindPropertyPlugin_59_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_59_9_$1.componentProperty="disabled";ui_BindPropertyPlugin_59_9_$1.bindTo=AS3.getBindable(config,"disabledValueExpression");ui_IconButton_52_5_$1.plugins=
[ui_BindPropertyPlugin_59_9_$1];config_$1.items=[label_45_5_$1,ui_IconButton_52_5_$1];var layout_HBox_65_5_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_65_5_$1,"align","middle");AS3.setBindable(config_$1,"layout",layout_HBox_65_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$pilG(config_$1)}function getCategoryName(config){return AS3.getBindable(config,"categoryBean").get("display")}function getAriaLabel(config){var category=this.getCategoryName$pilG(config);
var removePattern=this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","moderation_contributionSearchFilterPanel_remove_filterCategory_pattern");return Ext.String.format(removePattern,category)}return{extend:"Ext.container.Container",alias:"widget.com.coremedia.elastic.social.studio.config.categoryElement",constructor:CategoryElement$,super$pilG:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},getCategoryName$pilG:getCategoryName,
getAriaLabel$pilG:getAriaLabel,config:{categoryBean:null,disabledValueExpression:null,removeHandler:null},requires:["Ext.String","Ext.container.Container","Ext.form.Label","Ext.layout.container.HBox","com.coremedia.cms.editor.Editor_properties","com.coremedia.ui.components.IconButton","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.util.AriaUtils","net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.ContributionSearchFilterPanelBase"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.ContributionSearchFilterPanel",function(ContributionSearchFilterPanel){function ContributionSearchFilterPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.ContributionSearchFilterPanelBase,{});var defaults_$1=AS3.cast(ContributionSearchFilterPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,
"title",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","moderation_contributionSearchFilterPanel_label_title"));var checkbox_35_5_$1=AS3.cast(Ext.form.field.Checkbox,{});checkbox_35_5_$1.itemId=net.jangaroo.ext.Exml.asString(ContributionSearchFilterPanel.USERS_FILTER_ITEM_ID);AS3.setBindable(checkbox_35_5_$1,"boxLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","moderation_contributionSearchFilterPanel_label_users")));
checkbox_35_5_$1.hideLabel=true;var ui_BindPropertyPlugin_39_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_39_9_$1.bidirectional=true;var ui_ValueExpression_41_13_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_41_13_$1,"expression",net.jangaroo.ext.Exml.asString(this.INCLUDE_USERS_PROPERTY));AS3.setBindable(ui_ValueExpression_41_13_$1,"context",this.getStateBean());ui_BindPropertyPlugin_39_9_$1.bindTo=new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_41_13_$1);
checkbox_35_5_$1.plugins=[ui_BindPropertyPlugin_39_9_$1];var container_49_5_$1=AS3.cast(Ext.container.Container,{});var layout_HBox_51_9_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(container_49_5_$1,"layout",layout_HBox_51_9_$1);var checkbox_54_9_$1=AS3.cast(Ext.form.field.Checkbox,{});checkbox_54_9_$1.itemId=net.jangaroo.ext.Exml.asString(ContributionSearchFilterPanel.COMMENTS_FILTER_ITEM_ID);AS3.setBindable(checkbox_54_9_$1,"boxLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"moderation_contributionSearchFilterPanel_label_comments")));checkbox_54_9_$1.hideLabel=true;checkbox_54_9_$1.flex=1;var ui_BindPropertyPlugin_59_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_59_13_$1.bidirectional=true;var ui_ValueExpression_61_17_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_61_17_$1,"expression",net.jangaroo.ext.Exml.asString(this.INCLUDE_COMMENTS_PROPERTY));AS3.setBindable(ui_ValueExpression_61_17_$1,
"context",this.getStateBean());ui_BindPropertyPlugin_59_13_$1.bindTo=new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_61_17_$1);checkbox_54_9_$1.plugins=[ui_BindPropertyPlugin_59_13_$1];var menuBar_67_9_$1=AS3.cast(Ext.menu.Bar,{});menuBar_67_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.MenuSkin.HEADER_MENUBAR.getSkin());menuBar_67_9_$1.plain=true;var component_70_13_$1=AS3.cast(Ext.Component,{});component_70_13_$1["ariaRole"]="menuitem";menuBar_67_9_$1["defaultType"]=
component_70_13_$1["xtype"];delete component_70_13_$1["xtype"];delete component_70_13_$1["xclass"];menuBar_67_9_$1.defaults=component_70_13_$1;var ui_MenuIconButton_73_13_$1=AS3.cast(com.coremedia.ui.components.MenuIconButton,{});AS3.setBindable(ui_MenuIconButton_73_13_$1,"arrowVisible",false);AS3.setBindable(ui_MenuIconButton_73_13_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","arrow_down")));AS3.setBindable(ui_MenuIconButton_73_13_$1,
"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","moderation_contributionSearchFilterPanel_siteMenu_text")));ui_MenuIconButton_73_13_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.TOOLBAR.getSkin());var ui_BindVisibilityPlugin_78_17_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_78_17_$1.bindTo=this.getEnableSiteSpecificCommentsSwitchVE();ui_MenuIconButton_73_13_$1.plugins=
[ui_BindVisibilityPlugin_78_17_$1];var menu_81_17_$1=AS3.cast(Ext.menu.Menu,{});menu_81_17_$1["focusable"]=true;menu_81_17_$1.plain=true;var checkbox_84_21_$1=AS3.cast(Ext.form.field.Checkbox,{});AS3.setBindable(checkbox_84_21_$1,"boxLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","moderation_contributionSearchFilterPanel_label_site")));checkbox_84_21_$1.hideLabel=true;var ui_BindPropertyPlugin_88_25_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,
{});ui_BindPropertyPlugin_88_25_$1.bidirectional=true;var ui_ValueExpression_90_29_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_90_29_$1,"expression",net.jangaroo.ext.Exml.asString(this.SHOW_COMMENTS_FOR_ALL_SITES_PROPERTY));AS3.setBindable(ui_ValueExpression_90_29_$1,"context",this.getStateBean());ui_BindPropertyPlugin_88_25_$1.bindTo=new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_90_29_$1);checkbox_84_21_$1.plugins=[ui_BindPropertyPlugin_88_25_$1];
menu_81_17_$1.items=[checkbox_84_21_$1];ui_MenuIconButton_73_13_$1.menu=menu_81_17_$1;menuBar_67_9_$1.items=[ui_MenuIconButton_73_13_$1];container_49_5_$1.items=[checkbox_54_9_$1,menuBar_67_9_$1];var container_105_5_$1=AS3.cast(Ext.container.Container,{});container_105_5_$1.itemId=net.jangaroo.ext.Exml.asString(ContributionSearchFilterPanel.CATEGORY_FILTER_CT_ITEM_ID);container_105_5_$1.padding="0 0 0 20";var ui_BindVisibilityPlugin_108_9_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,
{});ui_BindVisibilityPlugin_108_9_$1.bindTo=this.getIsCategoriesListConfiguredVE(AS3.getBindable(config,"categoriesListValueExpression"));container_105_5_$1.plugins=[ui_BindVisibilityPlugin_108_9_$1];var layout_VBox_111_9_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_111_9_$1,"align","stretch");AS3.setBindable(container_105_5_$1,"layout",layout_VBox_111_9_$1);var container_114_9_$1=AS3.cast(Ext.container.Container,{});container_114_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.ContributionSearchFilterPanelBase.CATEGORY_ELEMENTS_CT_ITEM_ID);
var ui_BindComponentsPlugin_116_13_$1=AS3.cast(com.coremedia.ui.plugins.BindComponentsPlugin,{});AS3.setBindable(ui_BindComponentsPlugin_116_13_$1,"valueExpression",this.getSelectedCategoriesAsBeansValueExpression());AS3.setBindable(ui_BindComponentsPlugin_116_13_$1,"getKey",function(categoryBean){return com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.ContributionSearchFilterPanelBase.getCategoryKeyWithoutWhiteSpaces(categoryBean)});AS3.setBindable(ui_BindComponentsPlugin_116_13_$1,
"configBeanParameterName","categoryBean");var es_CategoryElement_120_17_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.CategoryElement,{});AS3.setBindable(es_CategoryElement_120_17_$1,"removeHandler",AS3.bind(this,"removeSelectedCategory"));AS3.setBindable(es_CategoryElement_120_17_$1,"disabledValueExpression",this.getExcludeCommentsValueExpression());AS3.setBindable(ui_BindComponentsPlugin_116_13_$1,"template",es_CategoryElement_120_17_$1);container_114_9_$1.plugins=
[ui_BindComponentsPlugin_116_13_$1];var ui_LocalComboBox_127_9_$1=AS3.cast(com.coremedia.ui.components.LocalComboBox,{});ui_LocalComboBox_127_9_$1.itemId=net.jangaroo.ext.Exml.asString(ContributionSearchFilterPanel.CATEGORY_SELECTOR_ITEM_ID);AS3.setBindable(ui_LocalComboBox_127_9_$1,"displayField","display");ui_LocalComboBox_127_9_$1.padding="0 6 0 0";AS3.setBindable(ui_LocalComboBox_127_9_$1,"emptyText",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"moderation_contributionSearchFilterPanel_label_filter_emptyText")));var ui_BindListPlugin_132_13_$1=AS3.cast(com.coremedia.ui.plugins.BindListPlugin,{});AS3.setBindable(ui_BindListPlugin_132_13_$1,"bindTo",this.getSelectableCategoriesValueExpression(AS3.getBindable(config,"categoriesListValueExpression")));var ui_DataField_134_17_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_134_17_$1.name="key";var ui_DataField_135_17_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_135_17_$1.name=
"display";ui_DataField_135_17_$1.encode=false;AS3.setBindable(ui_BindListPlugin_132_13_$1,"fields",[ui_DataField_134_17_$1,ui_DataField_135_17_$1]);var ui_BindPropertyPlugin_139_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_139_13_$1.componentProperty="disabled";ui_BindPropertyPlugin_139_13_$1.bindTo=this.getDisabledCommentsValueExpression(AS3.getBindable(config,"categoriesListValueExpression"));ui_LocalComboBox_127_9_$1.plugins=[ui_BindListPlugin_132_13_$1,
ui_BindPropertyPlugin_139_13_$1];ui_LocalComboBox_127_9_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;container_105_5_$1.items=[container_114_9_$1,ui_LocalComboBox_127_9_$1];config_$1.items=[checkbox_35_5_$1,container_49_5_$1,container_105_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$7Woc(config_$1)}return{extend:"com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.ContributionSearchFilterPanelBase",alias:"widget.com.coremedia.elastic.social.studio.config.contributionSearchFilterPanel",
constructor:ContributionSearchFilterPanel$,super$7Woc:function(){com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.ContributionSearchFilterPanelBase.prototype.constructor.apply(this,arguments)},statics:{CATEGORY_FILTER_CT_ITEM_ID:"categoryFilterCtItemId",CATEGORY_SELECTOR_ITEM_ID:"categorySelectorItemId",COMMENTS_FILTER_ITEM_ID:"commentsFilterItemId",USERS_FILTER_ITEM_ID:"usersFilterItemId"},requires:["Ext.Component","Ext.container.Container","Ext.form.field.Checkbox","Ext.layout.container.HBox",
"Ext.layout.container.VBox","Ext.menu.Bar","Ext.menu.Menu","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.ContributionSearchFilterPanelBase","com.coremedia.ui.components.LocalComboBox","com.coremedia.ui.components.MenuIconButton","com.coremedia.ui.exml.ValueExpression","com.coremedia.ui.plugins.BindComponentsPlugin","com.coremedia.ui.plugins.BindListPlugin","com.coremedia.ui.plugins.BindPropertyPlugin",
"com.coremedia.ui.plugins.BindVisibilityPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.MenuSkin","com.coremedia.ui.store.DataField","net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.CategoryElement"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.ModeratedItemsView",function(ModeratedItemsView){function ModeratedItemsView$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.ModeratedItemsViewBase,{});var defaults_$1=AS3.cast(ModeratedItemsView,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.autoShow=true;config_$1.forceFit=true;var ui_BindListPlugin_45_5_$1=
AS3.cast(com.coremedia.ui.plugins.BindListPlugin,{});AS3.setBindable(ui_BindListPlugin_45_5_$1,"bindTo",this.getModeratedItemsValueExpression(AS3.getBindable(config,"moderationContributionAdministration")));var data_AutoField_47_9_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_47_9_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames.AUTHOR_NAME);var data_AutoField_48_9_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_48_9_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames.CREATION_DATE);
var data_AutoField_49_9_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_49_9_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames.LAST_COMPLAINT_DATE);var data_AutoField_50_9_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_50_9_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames.SUBJECT);var data_AutoField_51_9_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_51_9_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames.TARGET);
var data_AutoField_52_9_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_52_9_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames.COLLECTION);AS3.setBindable(ui_BindListPlugin_45_5_$1,"fields",[data_AutoField_47_9_$1,data_AutoField_48_9_$1,data_AutoField_49_9_$1,data_AutoField_50_9_$1,data_AutoField_51_9_$1,data_AutoField_52_9_$1]);var ui_BindSelectionPlugin_55_5_$1=AS3.cast(com.coremedia.ui.plugins.BindSelectionPlugin,{});AS3.setBindable(ui_BindSelectionPlugin_55_5_$1,
"selectedValues",this.getSelectedItemsValueExpression(AS3.getBindable(config,"moderationContributionAdministration")));AS3.setBindable(ui_BindSelectionPlugin_55_5_$1,"preventFocus",true);var ui_FlushBeforeSelectionChangePlugin_58_5_$1=AS3.cast(com.coremedia.ui.plugins.FlushBeforeSelectionChangePlugin,{});config_$1.plugins=[ui_BindListPlugin_45_5_$1,ui_BindSelectionPlugin_55_5_$1,ui_FlushBeforeSelectionChangePlugin_58_5_$1];var es_ComplaintColumn_61_5_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.ComplaintColumn,
{});es_ComplaintColumn_61_5_$1.stateId=net.jangaroo.ext.Exml.asString(ModeratedItemsView.COMPLAINT_ID);var es_ContributionTypeColumn_62_5_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.ContributionTypeColumn,{});es_ContributionTypeColumn_62_5_$1.stateId=net.jangaroo.ext.Exml.asString(ModeratedItemsView.TYPE_ID);var gridColumn_63_5_$1=AS3.cast(Ext.grid.column.Column,{});gridColumn_63_5_$1.stateId=net.jangaroo.ext.Exml.asString(ModeratedItemsView.USER_ID);gridColumn_63_5_$1.header=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"list_name"));gridColumn_63_5_$1.sortable=false;gridColumn_63_5_$1.dataIndex=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames.AUTHOR_NAME);gridColumn_63_5_$1.renderer=com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.ModeratedItemsViewBase.authorNameRenderer;gridColumn_63_5_$1.groupable=false;gridColumn_63_5_$1.menuDisabled=true;AS3.setBindable(gridColumn_63_5_$1,"width",120);var gridColumn_71_5_$1=AS3.cast(Ext.grid.column.Column,
{});gridColumn_71_5_$1.stateId=net.jangaroo.ext.Exml.asString(ModeratedItemsView.TEXT_ID);gridColumn_71_5_$1.header=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","list_content"));gridColumn_71_5_$1.sortable=false;gridColumn_71_5_$1.groupable=false;gridColumn_71_5_$1.menuDisabled=true;gridColumn_71_5_$1.dataIndex=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames.SUBJECT);
gridColumn_71_5_$1.flex=1;var actionColumn_78_5_$1=AS3.cast(Ext.grid.column.Action,{});actionColumn_78_5_$1.stateId=net.jangaroo.ext.Exml.asString(ModeratedItemsView.PRIORITIZED_ID);actionColumn_78_5_$1.header="";actionColumn_78_5_$1.sortable=false;actionColumn_78_5_$1.menuDisabled=true;actionColumn_78_5_$1.getClass=AS3.bind(this,"getPrioritizeIconCls");actionColumn_78_5_$1.handler=AS3.bind(this,"prioritizeHandler");actionColumn_78_5_$1["isDisabled"]=com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.ModeratedItemsViewBase.isPrioritizeDisabled;
actionColumn_78_5_$1.getTip=AS3.bind(this,"getPrioritizeToolTip");actionColumn_78_5_$1.dataIndex=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames.PRIORITY_ID);AS3.setBindable(actionColumn_78_5_$1,"width",35);AS3.setBindable(actionColumn_78_5_$1,"align","center");actionColumn_78_5_$1.resizable=false;actionColumn_78_5_$1.fixed=true;var gridColumn_91_5_$1=AS3.cast(Ext.grid.column.Column,{});gridColumn_91_5_$1.stateId=net.jangaroo.ext.Exml.asString(ModeratedItemsView.CREATION_DATE_ID);
gridColumn_91_5_$1["id"]=com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.ModeratedItemsViewBase.DATE_SORT_HEADER_ID;gridColumn_91_5_$1.sortable=false;gridColumn_91_5_$1.header=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","list_date"));gridColumn_91_5_$1.dataIndex=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames.CREATION_DATE);gridColumn_91_5_$1.renderer=
com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.ModeratedItemsViewBase.dateRenderer;gridColumn_91_5_$1.menuDisabled=true;gridColumn_91_5_$1.groupable=false;AS3.setBindable(gridColumn_91_5_$1,"width",130);var dateColumn_100_5_$1=AS3.cast(Ext.grid.column.Date,{});dateColumn_100_5_$1.stateId=net.jangaroo.ext.Exml.asString(ModeratedItemsView.LAST_COMPLAINT_DATE_ID);dateColumn_100_5_$1.header="";dateColumn_100_5_$1.sortable=true;dateColumn_100_5_$1.renderer=com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.ModeratedItemsViewBase.groupRenderer;
dateColumn_100_5_$1.dataIndex=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames.LAST_COMPLAINT_DATE);AS3.setBindable(dateColumn_100_5_$1,"hidden",true);AS3.setBindable(dateColumn_100_5_$1,"width",80);config_$1.columns=[es_ComplaintColumn_61_5_$1,es_ContributionTypeColumn_62_5_$1,gridColumn_63_5_$1,gridColumn_71_5_$1,actionColumn_78_5_$1,gridColumn_91_5_$1,dateColumn_100_5_$1];var selection_RowModel_109_5_$1=AS3.cast(Ext.selection.RowModel,{});selection_RowModel_109_5_$1.mode=
"SINGLE";config_$1.selModel=new Ext.selection.RowModel(selection_RowModel_109_5_$1);var gridView_112_5_$1=AS3.cast(Ext.view.Table,{});gridView_112_5_$1.stripeRows=true;AS3.setBindable(gridView_112_5_$1,"emptyText",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","list_empty")));gridView_112_5_$1.loadMask=true;gridView_112_5_$1.deferEmptyText=false;gridView_112_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.TableViewSkin.LIGHT.getSkin());
gridView_112_5_$1["getRowClass"]=AS3.bind(this,"handleRowStyle");config_$1["viewConfig"]=gridView_112_5_$1;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$H1hI(config_$1)}return{extend:"com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.ModeratedItemsViewBase",alias:"widget.com.coremedia.elastic.social.studio.config.moderatedItemsView",constructor:ModeratedItemsView$,super$H1hI:function(){com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.ModeratedItemsViewBase.prototype.constructor.apply(this,
arguments)},config:{moderationContributionAdministration:null},statics:{COMPLAINT_ID:"complaint",TYPE_ID:"type",USER_ID:"user",TEXT_ID:"text",PRIORITIZED_ID:"prioritized",CREATION_DATE_ID:"creationDate",LAST_COMPLAINT_DATE_ID:"lastComplaintDate"},requires:["Ext.data.field.Field","Ext.grid.column.Action","Ext.grid.column.Column","Ext.grid.column.Date","Ext.selection.RowModel","Ext.view.Table","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.ModeratedItemsViewBase",
"com.coremedia.ui.plugins.BindListPlugin","com.coremedia.ui.plugins.BindSelectionPlugin","com.coremedia.ui.plugins.FlushBeforeSelectionChangePlugin","com.coremedia.ui.skins.TableViewSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames","com.coremedia.elastic.social.studio.moderation.ComplaintColumn","com.coremedia.elastic.social.studio.moderation.ContributionTypeColumn"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.moderationtab.ModerationPanelToolbar",function(ModerationPanelToolbar){function ModerationPanelToolbar$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.moderationtab.ModerationPanelToolbarBase,{});var defaults_$1=AS3.cast(ModerationPanelToolbar,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.WORKAREA.getSkin());
var es_CuratedTransferExtensionPoint_37_5_$1=AS3.cast(com.coremedia.elastic.social.studio.plugins.CuratedTransferExtensionPoint,{});AS3.setBindable(es_CuratedTransferExtensionPoint_37_5_$1,"width",200);AS3.setBindable(es_CuratedTransferExtensionPoint_37_5_$1,"height",50);AS3.setBindable(es_CuratedTransferExtensionPoint_37_5_$1,"layout","hbox");AS3.setBindable(es_CuratedTransferExtensionPoint_37_5_$1,"moderation",AS3.getBindable(config,"moderation"));var ui_UpdateEnabledPlugin_42_9_$1=AS3.cast(com.coremedia.ui.plugins.UpdateEnabledPlugin,
{});AS3.setBindable(ui_UpdateEnabledPlugin_42_9_$1,"valueExpression",this.getCuratedButtonsDisabledValueExpression(AS3.getBindable(config,"moderation")));var ui_BindVisibilityPlugin_43_9_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_43_9_$1.bindTo=AS3.getBindable(config,"activeTabValueExpression");AS3.setBindable(ui_BindVisibilityPlugin_43_9_$1,"transformer",function(value){return value===com.coremedia.elastic.social.studio.moderation.ElasticSocialMainTabBase.ACTIVE_TAB_ARCHIVE});
es_CuratedTransferExtensionPoint_37_5_$1.plugins=[ui_UpdateEnabledPlugin_42_9_$1,ui_BindVisibilityPlugin_43_9_$1];config_$1.items=[es_CuratedTransferExtensionPoint_37_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$JNbU(config_$1)}return{extend:"com.coremedia.elastic.social.studio.moderation.moderationtab.ModerationPanelToolbarBase",alias:"widget.com.coremedia.elastic.social.studio.config.moderationPanelToolbar",constructor:ModerationPanelToolbar$,super$JNbU:function(){com.coremedia.elastic.social.studio.moderation.moderationtab.ModerationPanelToolbarBase.prototype.constructor.apply(this,
arguments)},config:{moderation:null,activeTabValueExpression:null,collapseHandler:null},requires:["com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.elastic.social.studio.moderation.moderationtab.ModerationPanelToolbarBase","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.plugins.BindVisibilityPlugin","com.coremedia.ui.plugins.UpdateEnabledPlugin","com.coremedia.ui.skins.ToolbarSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.moderation.ElasticSocialMainTabBase",
"com.coremedia.elastic.social.studio.plugins.CuratedTransferExtensionPoint"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.moderationtab.preview.ModerationPreviewPanel",function(ModerationPreviewPanel){function ModerationPreviewPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.moderationtab.preview.ModerationPreviewPanelBase,{});var defaults_$1=AS3.cast(ModerationPreviewPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"bindTo",com.coremedia.ui.data.ValueExpressionFactory.createFromValue(undefined));
AS3.setBindable(config_$1,"noPreviewAvailableMessage",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","preview_noPreviewAvailable_message_text")));AS3.setBindable(config_$1,"preferredDevice","desktopMode");AS3.setBindable(config_$1,"hideToolbar",true);AS3.setBindable(config_$1,"hideDeviceSlider",true);config_$1.itemId=net.jangaroo.ext.Exml.asString(ModerationPreviewPanel.PREVIEW_ITEM_ID);var editor_PreviewContextMenu_34_5_$1=
AS3.cast(com.coremedia.cms.editor.sdk.preview.PreviewContextMenu,{});config_$1.contextMenu=editor_PreviewContextMenu_34_5_$1;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$4dE9(config_$1)}return{extend:"com.coremedia.elastic.social.studio.moderation.moderationtab.preview.ModerationPreviewPanelBase",alias:"widget.com.coremedia.elastic.social.studio.config.moderationPreviewPanel",constructor:ModerationPreviewPanel$,super$4dE9:function(){com.coremedia.elastic.social.studio.moderation.moderationtab.preview.ModerationPreviewPanelBase.prototype.constructor.apply(this,
arguments)},config:{moderation:null},statics:{PREVIEW_ITEM_ID:"cm-moderation-preview"},requires:["com.coremedia.cms.editor.sdk.preview.PreviewContextMenu","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.elastic.social.studio.moderation.moderationtab.preview.ModerationPreviewPanelBase","com.coremedia.ui.data.ValueExpressionFactory","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.moderationtab.preview.ModerationPreviewPanelBase",function(ModerationPreviewPanelBase){function ModerationPreviewPanelBase$(config){if(arguments.length<=0)config=null;this.moderatedContributionAdministration$Im7w=AS3.as(AS3.getBindable(config,"moderation").getModerationContributionAdministration(),com.coremedia.elastic.social.studio.model.impl.ModerationContributionAdministration);this.displayedContributionVE$Im7w=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.DISPLAYED,
this.moderatedContributionAdministration$Im7w);this.displayedContributionVE$Im7w.addChangeListener(AS3.bind(this,"detailChanged$Im7w"));this.previewUrlContributionVE$Im7w=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.DISPLAYED+".previewUrl",this.moderatedContributionAdministration$Im7w);this.previewUrlContributionVE$Im7w.addChangeListener(AS3.bind(this,"detailChanged$Im7w"));this.super$Im7w(config);this.setupPreviewHandling$Im7w()}
function setupPreviewHandling(){this.getShowPreviewForcedValueExpression$Im7w().setValue(false);var innerPreviewPanelCmp=AS3.as(this.down(com.coremedia.ui.util.createComponentSelector()._xtype(com.coremedia.cms.editor.sdk.preview.InnerPreviewPanel.xtype).build()),com.coremedia.cms.editor.sdk.preview.InnerPreviewPanel);if(!innerPreviewPanelCmp)throw new AS3.Error("required child component '"+innerPreviewPanelCmp.xtype+"' not found");this.mon(innerPreviewPanelCmp,com.coremedia.cms.editor.sdk.preview.InnerPreviewPanel.DOCUMENT_DIMENSIONS_CHANGED_EVENT,
AS3.bind(this,"highlightComment$Im7w"));this.getMetadataNodeForDisplayedCommentVE$Im7w().addChangeListener(AS3.bind(this,"highlightComment$Im7w"));this.previewIFrame$Im7w=AS3.as(this.queryById(com.coremedia.cms.editor.sdk.preview.InnerPreviewPanelBase.IFRAME_ITEM_ID),com.coremedia.cms.editor.sdk.preview.PreviewIFrame)}function getShowPreviewForcedValueExpression(){if(!this.showPreviewForcedVE$Im7w)this.showPreviewForcedVE$Im7w=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(false);return this.showPreviewForcedVE$Im7w}
function highlightComment(){var this$=this;var innerPreviewPanelCmp=AS3.as(this.down(com.coremedia.ui.util.createComponentSelector()._xtype(com.coremedia.cms.editor.sdk.preview.InnerPreviewPanel.xtype).build()),com.coremedia.cms.editor.sdk.preview.InnerPreviewPanel);innerPreviewPanelCmp.setScaleMode(true);var displayedCommentMetadataNode=this.getMetadataNodeForDisplayedCommentVE$Im7w().getValue();if(displayedCommentMetadataNode)com.coremedia.ui.util.EventUtil.invokeLater(function(){this$.highlightMetadataIds([displayedCommentMetadataNode.getId()],
true)})}function detailChanged(){var this$=this;this.getShowPreviewForcedValueExpression$Im7w().setValue(false);var contribution=AS3.as(this.moderatedContributionAdministration$Im7w.getDisplayed(),com.coremedia.elastic.social.studio.model.Contribution);if(contribution)contribution.load(function(){var previewUrl=contribution.getPreviewUrl();this$.setIFrameUrl$Im7w(previewUrl);if(previewUrl!==com.coremedia.elastic.social.studio.model.impl.ContributionImpl.BLANK_PREVIEW_URL)this$.getShowPreviewForcedValueExpression$Im7w().setValue(true)})}
function setIFrameUrl(url){if(this.previewIFrame$Im7w.url!==url||!this.getMetadataNodeForDisplayedCommentVE$Im7w().getValue())this.previewIFrame$Im7w.setUrl(url)}function getMetadataNodeForDisplayedCommentVE(){var this$=this;if(!this.metadataNodeForDisplayedCommentVE$Im7w)this.metadataNodeForDisplayedCommentVE$Im7w=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var comment=AS3.as(this$.displayedContributionVE$Im7w.getValue(),com.coremedia.elastic.social.studio.model.Comment);
if(comment){var metadataTreeRoot=this$.getMetadataService().getMetadataTree().getRoot();if(metadataTreeRoot)return metadataTreeRoot.findChildrenBy(function(node){return node.getProperty(com.coremedia.cms.editor.sdk.preview.MetadataHelper.METADATA_DEFAULT_PROPERTY)===comment})[0]}return undefined});return this.metadataNodeForDisplayedCommentVE$Im7w}function beforeDestroy(){this.previewUrlContributionVE$Im7w.removeChangeListener(AS3.bind(this,"detailChanged$Im7w"));this.displayedContributionVE$Im7w.removeChangeListener(AS3.bind(this,
"detailChanged$Im7w"));this.getMetadataNodeForDisplayedCommentVE$Im7w().removeChangeListener(AS3.bind(this,"highlightComment$Im7w"));com.coremedia.cms.editor.sdk.preview.PreviewPanel.prototype.beforeDestroy.call(this)}function isShowPreviewForced(){return this.getShowPreviewForcedValueExpression$Im7w().getValue()}return{extend:"com.coremedia.cms.editor.sdk.preview.PreviewPanel",displayedContributionVE$Im7w:null,previewUrlContributionVE$Im7w:null,moderatedContributionAdministration$Im7w:null,metadataNodeForDisplayedCommentVE$Im7w:null,
previewIFrame$Im7w:null,showPreviewForcedVE$Im7w:null,constructor:ModerationPreviewPanelBase$,super$Im7w:function(){com.coremedia.cms.editor.sdk.preview.PreviewPanel.prototype.constructor.apply(this,arguments)},setupPreviewHandling$Im7w:setupPreviewHandling,getShowPreviewForcedValueExpression$Im7w:getShowPreviewForcedValueExpression,highlightComment$Im7w:highlightComment,detailChanged$Im7w:detailChanged,setIFrameUrl$Im7w:setIFrameUrl,getMetadataNodeForDisplayedCommentVE$Im7w:getMetadataNodeForDisplayedCommentVE,
beforeDestroy:beforeDestroy,isShowPreviewForced:isShowPreviewForced,requires:["AS3.Error","com.coremedia.cms.editor.sdk.preview.InnerPreviewPanel","com.coremedia.cms.editor.sdk.preview.InnerPreviewPanelBase","com.coremedia.cms.editor.sdk.preview.MetadataHelper","com.coremedia.cms.editor.sdk.preview.PreviewIFrame","com.coremedia.cms.editor.sdk.preview.PreviewPanel","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.util.EventUtil","com.coremedia.ui.util.createComponentSelector"],uses:["com.coremedia.elastic.social.studio.model.Comment",
"com.coremedia.elastic.social.studio.model.Contribution","com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames","com.coremedia.elastic.social.studio.model.impl.ContributionImpl","com.coremedia.elastic.social.studio.model.impl.ModerationContributionAdministration"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.moderationtab.Activatable",function(Activatable){return{}});Ext.define("com.coremedia.elastic.social.studio.moderation.moderationtab.ModerationTabPanelBase",function(ModerationTabPanelBase){function ModerationTabPanelBase$(config){if(arguments.length<=0)config=null;this.super$RETd(config);this.moderation$RETd=AS3.getBindable(config,"moderation");this.moderation$RETd.getModerationContributionAdministration().startPolling()}function onDestroy(){this.moderation$RETd.getModerationContributionAdministration().stopPolling()}return{extend:"Ext.panel.Panel",moderation$RETd:null,
constructor:ModerationTabPanelBase$,super$RETd:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},onDestroy:onDestroy,statics:{ID:"cm-elastic-social-main-tab",MODERATION_PANEL_ID:"cm-elastic-social-layout-left-column",MODERATION_PREVIEW_ID:"cm-elastic-preview-panel"},requires:["Ext.panel.Panel"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.moderationtab.ModerationTabPanel",function(ModerationTabPanel){function ModerationTabPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.moderationtab.ModerationTabPanelBase,{});var defaults_$1=AS3.cast(ModerationTabPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"main_tab_title_moderation"));var es_ModerationPanel_27_5_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.moderationtab.ModerationPanel,{});es_ModerationPanel_27_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.moderationtab.ModerationTabPanelBase.MODERATION_PANEL_ID);es_ModerationPanel_27_5_$1.flex=1;AS3.setBindable(es_ModerationPanel_27_5_$1,"minWidth",560);AS3.setBindable(es_ModerationPanel_27_5_$1,"moderation",AS3.getBindable(config,"moderation"));
var splitter_32_5_$1=AS3.cast(Ext.resizer.Splitter,{});AS3.setBindable(splitter_32_5_$1,"width","4px");splitter_32_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.SplitterSkin.DARK.getSkin());var es_ModerationPreviewPanel_35_5_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.moderationtab.preview.ModerationPreviewPanel,{});es_ModerationPreviewPanel_35_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.moderationtab.ModerationTabPanelBase.MODERATION_PREVIEW_ID);
es_ModerationPreviewPanel_35_5_$1.flex=1;AS3.setBindable(es_ModerationPreviewPanel_35_5_$1,"moderation",AS3.getBindable(config,"moderation"));config_$1.items=[es_ModerationPanel_27_5_$1,splitter_32_5_$1,es_ModerationPreviewPanel_35_5_$1];var layout_HBox_41_5_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_41_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_HBox_41_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$iXTs(config_$1)}return{extend:"com.coremedia.elastic.social.studio.moderation.moderationtab.ModerationTabPanelBase",
alias:"widget.com.coremedia.elastic.social.studio.config.moderationTabPanel",constructor:ModerationTabPanel$,super$iXTs:function(){com.coremedia.elastic.social.studio.moderation.moderationtab.ModerationTabPanelBase.prototype.constructor.apply(this,arguments)},config:{moderation:null},requires:["Ext.layout.container.HBox","Ext.resizer.Splitter","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.elastic.social.studio.moderation.moderationtab.ModerationTabPanelBase",
"com.coremedia.ui.skins.SplitterSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.moderation.moderationtab.ModerationPanel","com.coremedia.elastic.social.studio.moderation.moderationtab.preview.ModerationPreviewPanel"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.ComplaintColumn",function(ComplaintColumn){function ComplaintColumn$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.columns.grid.IconColumn,{});var defaults_$1=AS3.cast(ComplaintColumn,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.header="";AS3.setBindable(config_$1,"align","center");AS3.setBindable(config_$1,"width",16);config_$1.sortable=false;config_$1.groupable=false;
config_$1.menuDisabled=true;AS3.setBindable(config_$1,"modifier",com.coremedia.ui.bem.IconWithTextBEMEntities.MODIFIER_ERROR);config_$1.dataIndex=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames.LAST_COMPLAINT_DATE);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Ykv$(config_$1)}function calculateIconCls(value,metadata,record,rowIndex,colIndex,store){return value?this.resourceManager.getString("com.coremedia.icons.CoreIcons","exclamation_mark"):
""}function calculateToolTipText(value,metadata,record,rowIndex,colIndex,store){if(value){var beanRecord=AS3.as(record,com.coremedia.ui.store.BeanRecord);var moderatedItem=beanRecord&&AS3.as(beanRecord.getBean(),com.coremedia.elastic.social.studio.model.ModeratedItem);var contribution=moderatedItem&&AS3.as(moderatedItem.getTarget(),com.coremedia.elastic.social.studio.model.Contribution);if(AS3.is(contribution,com.coremedia.elastic.social.studio.model.Comment))return this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"list_comments_complaint_tooltip");else if(AS3.is(contribution,com.coremedia.elastic.social.studio.model.User))return this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","list_users_complaint_tooltip")}return null}return{extend:"com.coremedia.cms.editor.sdk.columns.grid.IconColumn",metadata:{"":["PublicApi"]},constructor:ComplaintColumn$,super$Ykv$:function(){com.coremedia.cms.editor.sdk.columns.grid.IconColumn.prototype.constructor.apply(this,arguments)},
calculateIconCls:calculateIconCls,calculateToolTipText:calculateToolTipText,requires:["com.coremedia.cms.editor.sdk.columns.grid.IconColumn","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.bem.IconWithTextBEMEntities","com.coremedia.ui.store.BeanRecord","net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.model.Comment","com.coremedia.elastic.social.studio.model.Contribution","com.coremedia.elastic.social.studio.model.ModeratedItem",
"com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames","com.coremedia.elastic.social.studio.model.User"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.archive.ArchiveDetailStatusHeader",function(ArchiveDetailStatusHeader){function ArchiveDetailStatusHeader$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.archive.ArchiveDetailStatusHeaderBase,{});var defaults_$1=AS3.cast(ArchiveDetailStatusHeader,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"height",26);config_$1.cls=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.archive.ArchiveDetailStatusHeaderBase.BLOCK.getCSSClass());
var displayField_23_5_$1=AS3.cast(Ext.form.field.Display,{});displayField_23_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.archive.ArchiveDetailStatusHeaderBase.STATUS_FIELD_ITEM_ID);var container_24_5_$1=AS3.cast(Ext.container.Container,{});container_24_5_$1.flex=1;var displayField_25_5_$1=AS3.cast(Ext.form.field.Display,{});displayField_25_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.archive.ArchiveDetailStatusHeaderBase.CREATION_DATE_ID);
AS3.setBindable(displayField_25_5_$1,"margin","0 12 0 0");config_$1.items=[displayField_23_5_$1,container_24_5_$1,displayField_25_5_$1];var layout_HBox_29_5_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_29_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_HBox_29_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$S65a(config_$1)}return{extend:"com.coremedia.elastic.social.studio.moderation.archive.ArchiveDetailStatusHeaderBase",alias:"widget.com.coremedia.elastic.social.studio.config.archiveDetailStatusHeader",
constructor:ArchiveDetailStatusHeader$,super$S65a:function(){com.coremedia.elastic.social.studio.moderation.archive.ArchiveDetailStatusHeaderBase.prototype.constructor.apply(this,arguments)},config:{contributionAdministration:null},requires:["Ext.container.Container","Ext.form.field.Display","Ext.layout.container.HBox","com.coremedia.elastic.social.studio.moderation.archive.ArchiveDetailStatusHeaderBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.archive.archiveditems.ArchivedItemsView",function(ArchivedItemsView){function ArchivedItemsView$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.archive.archiveditems.ArchivedItemsViewBase,{});var defaults_$1=AS3.cast(ArchivedItemsView,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.autoShow=true;var ui_BindListPlugin_41_5_$1=AS3.cast(com.coremedia.ui.plugins.BindListPlugin,
{});AS3.setBindable(ui_BindListPlugin_41_5_$1,"bindTo",this.getArchivedItemsValueExpression(AS3.getBindable(config,"archiveContributionAdministration")));AS3.setBindable(ui_BindListPlugin_41_5_$1,"initialViewLimit",100);AS3.setBindable(ui_BindListPlugin_41_5_$1,"viewLimitIncrement",100);AS3.setBindable(ui_BindListPlugin_41_5_$1,"lazy",true);var data_AutoField_46_9_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_46_9_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames.AUTHOR_NAME);
var data_AutoField_47_9_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_47_9_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames.CREATION_DATE);var data_AutoField_48_9_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_48_9_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames.LAST_COMPLAINT_DATE);var data_AutoField_49_9_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_49_9_$1.name=
net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames.SUBJECT);var data_AutoField_50_9_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_50_9_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames.TARGET);var data_AutoField_51_9_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_51_9_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames.COLLECTION);
var data_AutoField_52_9_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_52_9_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames.STATE);data_AutoField_52_9_$1.mapping=com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames.TARGET+"."+com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames.STATE;AS3.setBindable(ui_BindListPlugin_41_5_$1,"fields",[data_AutoField_46_9_$1,data_AutoField_47_9_$1,data_AutoField_48_9_$1,
data_AutoField_49_9_$1,data_AutoField_50_9_$1,data_AutoField_51_9_$1,data_AutoField_52_9_$1]);var ui_BindSelectionPlugin_56_5_$1=AS3.cast(com.coremedia.ui.plugins.BindSelectionPlugin,{});AS3.setBindable(ui_BindSelectionPlugin_56_5_$1,"selectedValues",this.getSelectedItemsValueExpression(AS3.getBindable(config,"archiveContributionAdministration")));var ui_FlushBeforeSelectionChangePlugin_58_5_$1=AS3.cast(com.coremedia.ui.plugins.FlushBeforeSelectionChangePlugin,{});config_$1.plugins=[ui_BindListPlugin_41_5_$1,
ui_BindSelectionPlugin_56_5_$1,ui_FlushBeforeSelectionChangePlugin_58_5_$1];var es_ComplaintColumn_61_5_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.ComplaintColumn,{});es_ComplaintColumn_61_5_$1.stateId=net.jangaroo.ext.Exml.asString(ArchivedItemsView.COMPLAINT_ID);var gridColumn_62_5_$1=AS3.cast(Ext.grid.column.Column,{});gridColumn_62_5_$1.stateId=net.jangaroo.ext.Exml.asString(ArchivedItemsView.STATUS_ID);gridColumn_62_5_$1.header=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"list_status"));gridColumn_62_5_$1.sortable=false;gridColumn_62_5_$1.dataIndex=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames.STATE);gridColumn_62_5_$1.renderer=com.coremedia.elastic.social.studio.moderation.archive.archiveditems.ArchivedItemsViewBase.statusRenderer;gridColumn_62_5_$1.groupable=false;gridColumn_62_5_$1.menuDisabled=true;AS3.setBindable(gridColumn_62_5_$1,"width",80);gridColumn_62_5_$1.tdCls=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.archive.archiveditems.ArchivedItemsViewBase.ITEM_ELEMENT_STATUS.getCSSClass());
var es_ContributionTypeColumn_71_5_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.ContributionTypeColumn,{});es_ContributionTypeColumn_71_5_$1.stateId=net.jangaroo.ext.Exml.asString(ArchivedItemsView.TYPE_ID);var gridColumn_72_5_$1=AS3.cast(Ext.grid.column.Column,{});gridColumn_72_5_$1.stateId=net.jangaroo.ext.Exml.asString(ArchivedItemsView.USER_ID);gridColumn_72_5_$1.header=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"list_name"));gridColumn_72_5_$1.sortable=false;gridColumn_72_5_$1.dataIndex=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames.AUTHOR_NAME);gridColumn_72_5_$1.renderer=com.coremedia.elastic.social.studio.moderation.archive.archiveditems.ArchivedItemsViewBase.authorNameRenderer;gridColumn_72_5_$1.groupable=false;gridColumn_72_5_$1.menuDisabled=true;AS3.setBindable(gridColumn_72_5_$1,"width",80);var gridColumn_80_5_$1=AS3.cast(Ext.grid.column.Column,
{});gridColumn_80_5_$1.stateId=net.jangaroo.ext.Exml.asString(ArchivedItemsView.TEXT_ID);gridColumn_80_5_$1.header=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","list_content"));gridColumn_80_5_$1.sortable=false;gridColumn_80_5_$1.groupable=false;gridColumn_80_5_$1.menuDisabled=true;gridColumn_80_5_$1.dataIndex=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames.SUBJECT);
gridColumn_80_5_$1.flex=1;var gridColumn_87_5_$1=AS3.cast(Ext.grid.column.Column,{});gridColumn_87_5_$1.stateId=net.jangaroo.ext.Exml.asString(ArchivedItemsView.CREATION_DATE_ID);gridColumn_87_5_$1.header=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","list_date"));gridColumn_87_5_$1.sortable=false;gridColumn_87_5_$1.dataIndex=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames.CREATION_DATE);
gridColumn_87_5_$1.renderer=com.coremedia.elastic.social.studio.moderation.archive.archiveditems.ArchivedItemsViewBase.dateRenderer;gridColumn_87_5_$1.menuDisabled=true;gridColumn_87_5_$1.groupable=false;AS3.setBindable(gridColumn_87_5_$1,"width",130);var dateColumn_95_5_$1=AS3.cast(Ext.grid.column.Date,{});dateColumn_95_5_$1.stateId=net.jangaroo.ext.Exml.asString(ArchivedItemsView.LAST_COMPLAINT_DATE_ID);dateColumn_95_5_$1.header="";dateColumn_95_5_$1.sortable=true;dateColumn_95_5_$1.renderer=com.coremedia.elastic.social.studio.moderation.archive.archiveditems.ArchivedItemsViewBase.groupRenderer;
dateColumn_95_5_$1.dataIndex=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames.LAST_COMPLAINT_DATE);AS3.setBindable(dateColumn_95_5_$1,"hidden",true);AS3.setBindable(dateColumn_95_5_$1,"width",80);config_$1.columns=[es_ComplaintColumn_61_5_$1,gridColumn_62_5_$1,es_ContributionTypeColumn_71_5_$1,gridColumn_72_5_$1,gridColumn_80_5_$1,gridColumn_87_5_$1,dateColumn_95_5_$1];var selection_RowModel_104_5_$1=AS3.cast(Ext.selection.RowModel,{});selection_RowModel_104_5_$1.mode=
"MULTI";config_$1.selModel=new Ext.selection.RowModel(selection_RowModel_104_5_$1);var gridView_107_5_$1=AS3.cast(Ext.view.Table,{});gridView_107_5_$1.stripeRows=true;AS3.setBindable(gridView_107_5_$1,"emptyText",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","archive_list_empty_text")));gridView_107_5_$1.deferEmptyText=false;gridView_107_5_$1.loadMask=true;gridView_107_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.TableViewSkin.LIGHT.getSkin());
gridView_107_5_$1["getRowClass"]=com.coremedia.elastic.social.studio.moderation.archive.archiveditems.ArchivedItemsViewBase.handleRowStyle;config_$1["viewConfig"]=gridView_107_5_$1;var toolbar_115_5_$1=AS3.cast(Ext.toolbar.Toolbar,{});toolbar_115_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.archive.archiveditems.ArchivedItemsViewBase.ARCHIVE_STATUS_BAR_ID);AS3.setBindable(toolbar_115_5_$1,"dock","bottom");toolbar_115_5_$1["focusableContainer"]=false;toolbar_115_5_$1.ui=
net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.FOOTER.getSkin());var tbText_120_9_$1=AS3.cast(Ext.toolbar.TextItem,{});tbText_120_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.archive.archiveditems.ArchivedItemsViewBase.ARCHIVE_STATUS_BAR_TEXT);var ui_BindPropertyPlugin_122_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_122_13_$1.ifUndefined="";ui_BindPropertyPlugin_122_13_$1.componentProperty="text";
ui_BindPropertyPlugin_122_13_$1.bindTo=this.getTotalHitsExpression();tbText_120_9_$1.plugins=[ui_BindPropertyPlugin_122_13_$1];toolbar_115_5_$1.items=[tbText_120_9_$1];config_$1.dockedItems=[toolbar_115_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$rPzb(config_$1)}return{extend:"com.coremedia.elastic.social.studio.moderation.archive.archiveditems.ArchivedItemsViewBase",alias:"widget.com.coremedia.elastic.social.studio.config.archivedItemsView",constructor:ArchivedItemsView$,super$rPzb:function(){com.coremedia.elastic.social.studio.moderation.archive.archiveditems.ArchivedItemsViewBase.prototype.constructor.apply(this,
arguments)},statics:{COMPLAINT_ID:"complaint",STATUS_ID:"status",TYPE_ID:"type",USER_ID:"user",TEXT_ID:"text",CREATION_DATE_ID:"creationDate",LAST_COMPLAINT_DATE_ID:"lastComplaintDate"},requires:["Ext.data.field.Field","Ext.grid.column.Column","Ext.grid.column.Date","Ext.selection.RowModel","Ext.toolbar.TextItem","Ext.toolbar.Toolbar","Ext.view.Table","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.elastic.social.studio.moderation.archive.archiveditems.ArchivedItemsViewBase",
"com.coremedia.ui.plugins.BindListPlugin","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.BindSelectionPlugin","com.coremedia.ui.plugins.FlushBeforeSelectionChangePlugin","com.coremedia.ui.skins.TableViewSkin","com.coremedia.ui.skins.ToolbarSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames","com.coremedia.elastic.social.studio.moderation.ComplaintColumn","com.coremedia.elastic.social.studio.moderation.ContributionTypeColumn"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.archive.archiveditems.ArchivedItemsViewBase",function(ArchivedItemsViewBase){function ITEM_BLOCK$static_(){ArchivedItemsViewBase.ITEM_BLOCK=new com.coremedia.ui.models.bem.BEMBlock("cm-archive-item")}function ITEM_ELEMENT_STATUS$static_(){ArchivedItemsViewBase.ITEM_ELEMENT_STATUS=ArchivedItemsViewBase.ITEM_BLOCK.createElement("status")}function ITEM_MODIFIER_REJECTED$static_(){ArchivedItemsViewBase.ITEM_MODIFIER_REJECTED=ArchivedItemsViewBase.ITEM_BLOCK.createModifier("rejected")}
function ArchivedItemsViewBase$(config){var this$=this;if(arguments.length<=0)config=null;this.super$dD$M(config);this.on("viewready",function(){AS3.cast(Ext.selection.RowModel,this$.getSelectionModel()).select(0)})}function markSelectedInternally(source){if(AS3.getBindable(this,"archiveContributionAdministration")&&source.getValue()&&source.getValue()[0]){var selection=source.getValue();AS3.getBindable(this,"archiveContributionAdministration").setSelectedContributionItems(selection);if(this.lastSelection$dD$M){var target=
this.lastSelection$dD$M.getTarget();target&&target.removePropertyChangeListener(com.coremedia.elastic.social.studio.model.ContributionPropertyNames.STATE,AS3.bind(this,"refreshView$dD$M"))}if(selection.length===1){this.lastSelection$dD$M=selection[0];var target2=this.lastSelection$dD$M.getTarget();target2&&target2.addPropertyChangeListener(com.coremedia.elastic.social.studio.model.ContributionPropertyNames.STATE,AS3.bind(this,"refreshView$dD$M"))}}}function refreshView(){this.getView().refresh()}
function afterRender(){var this$=this;Ext.grid.Panel.prototype.afterRender.call(this);this.updateSorting$dD$M();this.getView()["headerCt"].setSortState=function(){};this.mon(this.getView(),"refresh",AS3.bind(this,"updateSorting$dD$M"));for(var $1=0,$2=this.getColumns();$1<$2.length;++$1){var column=$2[$1];if(column.stateId===com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames.CREATION_DATE)column.el.dom.addEventListener("click",function(e){e.preventDefault();this$.sortAsc$dD$M=AS3.getBindable(this$,
"archiveContributionAdministration").toggleSorting();this$.updateSorting$dD$M()},true)}}function getModeratedItem$static(record){var beanRecord=AS3.as(record,com.coremedia.ui.store.BeanRecord);return beanRecord?AS3.as(beanRecord.getBean(),com.coremedia.elastic.social.studio.model.ModeratedItem):null}function updateSorting(){for(var $1=0,$2=this.getColumns();$1<$2.length;++$1){var column=$2[$1];if(column.stateId===com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames.CREATION_DATE){var ascSortCls=
column["ascSortCls"];var descSortCls=column["descSortCls"];if(this.sortAsc$dD$M)column.addCls(ascSortCls).removeCls(descSortCls);else column.addCls(descSortCls).removeCls(ascSortCls)}}}function beforeDestroy(){this.getSelectedItemsValueExpression(AS3.getBindable(this,"archiveContributionAdministration")).removeChangeListener(AS3.bind(this,"markSelectedInternally$dD$M"));Ext.grid.Panel.prototype.beforeDestroy.call(this)}function handleRowStyle$static(record,rowIndex,rp,ds){var cls=ArchivedItemsViewBase.ITEM_BLOCK.getCSSClass();
var moderatedItem=getModeratedItem$static(record);var contribution=moderatedItem&&moderatedItem.getTarget();if(contribution&&contribution.getContributionState()==="REJECTED")return cls+=" "+ArchivedItemsViewBase.ITEM_MODIFIER_REJECTED.getCSSClass();return""}function groupRenderer$static(value,_,rec){if(AS3.is(rec,Ext.data.Model))return rec.get("lastComplaintDate")?mx.resources.ResourceManager.getInstance().getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","list_group_complaints"):
mx.resources.ResourceManager.getInstance().getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","list_group_normal");else return""}function authorNameRenderer$static(value,_,record){var result=mx.resources.ResourceManager.getInstance().getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_anonymous");var moderatedItem=getModeratedItem$static(record);var comment=moderatedItem&&AS3.as(moderatedItem.getTarget(),com.coremedia.elastic.social.studio.model.Comment);
if(!comment)return undefined;else result=comment.getAuthorName()||result;return com.coremedia.ui.util.EncodingUtil.encodeForHTML(result)}function statusRenderer$static(value,_,record){var moderatedItem=getModeratedItem$static(record);var contribution=moderatedItem&&moderatedItem.getTarget();if(!contribution||contribution.getContributionState()===undefined)return undefined;else if(contribution.getContributionState()==="APPROVED")return mx.resources.ResourceManager.getInstance().getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"list_archive_state_approved");else if(contribution.getContributionState()==="REJECTED")return mx.resources.ResourceManager.getInstance().getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","list_archive_state_rejected");else if(contribution.getContributionState()==="NEW_ONLINE")return mx.resources.ResourceManager.getInstance().getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","list_archive_state_new_online");return mx.resources.ResourceManager.getInstance().getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"list_archive_state_new")}function dateRenderer$static(value,metaData,record,rowIndex,colIndex,store){var moderatedItem=getModeratedItem$static(record);if(moderatedItem&&moderatedItem.getLastComplaintDate()!==null)value=moderatedItem.getLastComplaintDate();return Ext.Date.format(value,mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","dateFormat"))}function getSelectedItemsValueExpression(archivedAdministration){if(!this.listSelectionValueExpression$dD$M){this.listSelectionValueExpression$dD$M=
com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.SELECTED_ARCHIVE_ITEMS,archivedAdministration);this.listSelectionValueExpression$dD$M.addChangeListener(AS3.bind(this,"markSelectedInternally$dD$M"))}return this.listSelectionValueExpression$dD$M}function getArchivedItemsValueExpression(archivedAdministration){if(!this.archivedItemsValueExpression$dD$M)this.archivedItemsValueExpression$dD$M=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.ARCHIVED_LIST_ITEMS,
archivedAdministration);return this.archivedItemsValueExpression$dD$M}function getArchivedItemsTotalSizeValueExpression(archivedAdministration){if(!this.archivedItemsTotalSizeValueExpression$dD$M)this.archivedItemsTotalSizeValueExpression$dD$M=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.ARCHIVED_LIST_TOTAL_SIZE,archivedAdministration);return this.archivedItemsTotalSizeValueExpression$dD$M}function getTotalHitsExpression(){return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,
"calculateTotalHits$dD$M"))}function calculateTotalHits(){var totalHits;var totalSizeVE=this.getArchivedItemsTotalSizeValueExpression(AS3.getBindable(this,"archiveContributionAdministration"));if(totalSizeVE&&totalSizeVE.getValue()){var total=totalSizeVE.getValue();if(AS3.is(total,Array))total=0;if(total!==undefined){var bundle=this.resourceManager.getResourceBundle(null,"com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin").content;var archivedItemsVE=this.getArchivedItemsValueExpression(AS3.getBindable(this,
"archiveContributionAdministration"));if(archivedItemsVE&&archivedItemsVE.getValue()){var searchResultLength=archivedItemsVE.getValue().length;var pattern=total==1?bundle.archive_one_hit_text:total<=searchResultLength?bundle.archive_many_hits_text:bundle.archive_partial_hits_text;totalHits=Ext.String.format(pattern,total,searchResultLength)}}}return totalHits}return{extend:"Ext.grid.Panel",listSelectionValueExpression$dD$M:null,archivedItemsValueExpression$dD$M:null,archivedItemsTotalSizeValueExpression$dD$M:null,
sortAsc$dD$M:false,lastSelection$dD$M:null,constructor:ArchivedItemsViewBase$,super$dD$M:function(){Ext.grid.Panel.prototype.constructor.apply(this,arguments)},markSelectedInternally$dD$M:markSelectedInternally,refreshView$dD$M:refreshView,afterRender:afterRender,updateSorting$dD$M:updateSorting,beforeDestroy:beforeDestroy,getSelectedItemsValueExpression:getSelectedItemsValueExpression,getArchivedItemsValueExpression:getArchivedItemsValueExpression,getArchivedItemsTotalSizeValueExpression:getArchivedItemsTotalSizeValueExpression,
getTotalHitsExpression:getTotalHitsExpression,calculateTotalHits$dD$M:calculateTotalHits,config:{archiveContributionAdministration:null},statics:{ITEM_BLOCK:undefined,ITEM_ELEMENT_STATUS:undefined,ITEM_MODIFIER_REJECTED:undefined,ARCHIVE_STATUS_BAR_ID:"cm-elastic-social-layout-statusbar-archive",ARCHIVE_STATUS_BAR_TEXT:"cm-elastic-social-layout-statusbar-archive-text",handleRowStyle:handleRowStyle$static,groupRenderer:groupRenderer$static,authorNameRenderer:authorNameRenderer$static,statusRenderer:statusRenderer$static,
dateRenderer:dateRenderer$static,__initStatics__:function(){ITEM_BLOCK$static_();ITEM_ELEMENT_STATUS$static_();ITEM_MODIFIER_REJECTED$static_()}},requires:["Ext.Date","Ext.String","Ext.data.Model","Ext.grid.Panel","Ext.selection.RowModel","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.models.bem.BEMBlock","com.coremedia.ui.store.BeanRecord","com.coremedia.ui.util.EncodingUtil","mx.resources.ResourceManager"],
uses:["com.coremedia.elastic.social.studio.model.Comment","com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames","com.coremedia.elastic.social.studio.model.ContributionPropertyNames","com.coremedia.elastic.social.studio.model.ModeratedItem","com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.archive.ArchiveTabPanelBase",function(ArchiveTabPanelBase){function ArchiveTabPanelBase$(config){if(arguments.length<=0)config=null;this.super$sWyq(config);AS3.setBindable(this,"moderation",AS3.getBindable(config,"moderation"))}function afterRender(){this.getSelectedArchiveContributionValueExpression$sWyq().addChangeListener(AS3.bind(this,"switchDetailView$sWyq"));Ext.panel.Panel.prototype.afterRender.call(this)}function onDestroy(){this.getSelectedArchiveContributionValueExpression$sWyq().removeChangeListener(AS3.bind(this,
"switchDetailView$sWyq"));AS3.getBindable(this,"moderation").getArchiveContributionAdministration().stopPolling()}function switchDetailViewOnInit(){if(AS3.getBindable(this,"moderation").getArchiveContributionAdministration().getSelectedContribution())this.switchDetailView$sWyq(this.getSelectedArchiveContributionValueExpression$sWyq())}function switchDetailView(source){var oldActiveItem=this.getActiveItemFromCardLayout$sWyq();var newActiveItemId;var selectedItems=AS3.as(source.getValue(),Array);if(selectedItems&&
selectedItems.length===1){var moderatedItem=selectedItems[0];var target=moderatedItem.getTarget();newActiveItemId=target&&target["$className"].toString().replace(/\./g,"-")}else if(selectedItems&&selectedItems.length>1)newActiveItemId=ArchiveTabPanelBase.MULTI_COMMENT_DETAIL_VIEW_ITEM_ID;else newActiveItemId=ArchiveTabPanelBase.EMPTY_DETAIL_VIEW_ITEM_ID;this.activateDetailView$sWyq(oldActiveItem,newActiveItemId)}function getSelectedArchiveContributionValueExpression(){if(!this.selectedArchiveContributionValueExpression$sWyq)this.selectedArchiveContributionValueExpression$sWyq=
com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.SELECTED_ARCHIVE_ITEMS,AS3.getBindable(this,"moderation").getArchiveContributionAdministration());return this.selectedArchiveContributionValueExpression$sWyq}function getSwitchingLayoutContainer(){if(!this.switchingLayoutContainer$sWyq)this.switchingLayoutContainer$sWyq=AS3.as(this.queryById(ArchiveTabPanelBase.ARCHIVED_SWITCHING_CONTAINER_ITEM_ID),Ext.panel.Panel);
return this.switchingLayoutContainer$sWyq}function activateDetailView(oldeActiveItem,newActiveItemId){deactivate$static(oldeActiveItem);AS3.cast(Ext.layout.container.Card,this.getSwitchingLayoutContainer$sWyq().getLayout()).setActiveItem(newActiveItemId);var newView=this.getActiveItemFromCardLayout$sWyq();this.activate$sWyq(newView)}function deactivate$static(container){if(container){var activatable=AS3.as(container,com.coremedia.elastic.social.studio.moderation.moderationtab.Activatable);if(activatable)activatable.deactivated()}}
function activate(container){var activatable=AS3.as(container,com.coremedia.elastic.social.studio.moderation.moderationtab.Activatable);if(activatable)activatable.activated(this)}function getActiveItemFromCardLayout(){return AS3.as(AS3.cast(Ext.layout.container.Card,this.getSwitchingLayoutContainer$sWyq().getLayout()).getActiveItem(),Ext.container.Container)}return{extend:"Ext.panel.Panel",selectedArchiveContributionValueExpression$sWyq:null,switchingLayoutContainer$sWyq:null,constructor:ArchiveTabPanelBase$,
super$sWyq:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},afterRender:afterRender,onDestroy:onDestroy,switchDetailViewOnInit:switchDetailViewOnInit,switchDetailView$sWyq:switchDetailView,getSelectedArchiveContributionValueExpression$sWyq:getSelectedArchiveContributionValueExpression,getSwitchingLayoutContainer$sWyq:getSwitchingLayoutContainer,activateDetailView$sWyq:activateDetailView,activate$sWyq:activate,getActiveItemFromCardLayout$sWyq:getActiveItemFromCardLayout,config:{moderation:null},
statics:{ID:"cm-elastic-social-archive-tab",ARCHIVE_COMMENT_RICHTEXT_AREA_ID:"cm-elastic-social-archive-comment-richtext-area",ARCHIVE_REVIEW_RICHTEXT_AREA_ID:"cm-elastic-social-archive-review-richtext-area",ARCHIVED_ITEMS_VIEW_ID:"gridPanel",FILTER_PANEL_ITEM_ID:"filter-panel",ARCHIVED_SWITCHING_CONTAINER_ITEM_ID:"switching-container",EMPTY_DETAIL_VIEW_ITEM_ID:"empty-details-view",MULTI_COMMENT_DETAIL_VIEW_ITEM_ID:"multi-comment-detail-view",ARCHIVED_COMMENT_STATUS_HEADER_ITEM_ID:"cm-archive-status-header-view"},
requires:["Ext.container.Container","Ext.layout.container.Card","Ext.panel.Panel","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames","com.coremedia.elastic.social.studio.moderation.moderationtab.Activatable"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.archive.ArchiveFilterPanelBase",function(ArchiveFilterPanelBase){function ArchiveFilterPanelBase$(config){if(arguments.length<=0)config=null;this.super$EZc9(config);this.archiveContributionAdministration$EZc9=AS3.as(AS3.getBindable(config,"contributionAdministration"),com.coremedia.elastic.social.studio.model.impl.ArchiveContributionAdministration)}function getBackwardValueExpression(contributionAdministration){if(!this.backwardValueExpression$EZc9)this.backwardValueExpression$EZc9=
com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.utils.ValueExpressionUtil.createPath([com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.FILTER_HISTORY,com.coremedia.elastic.social.studio.model.HistoryPropertyNames.BACKWARD_ENABLED]),contributionAdministration);return this.backwardValueExpression$EZc9}function getForwardValueExpression(contributionAdministration){if(!this.forwardValueExpression$EZc9)this.forwardValueExpression$EZc9=
com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.utils.ValueExpressionUtil.createPath([com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.FILTER_HISTORY,com.coremedia.elastic.social.studio.model.HistoryPropertyNames.FORWARD_ENABLED]),contributionAdministration);return this.forwardValueExpression$EZc9}function showContribution(contribution){this.clearFilter$EZc9();this.getSearchField$EZc9().setValue(contribution.getId());this.proceedFilter()}
function proceedFilter(){var searchType=this.getSearchTypeCombo$EZc9().getValue();if(searchType===ArchiveFilterPanelBase.COMBO_TYPE_ANY)searchType="";var stateType=this.getStateCombo$EZc9().getValue();if(stateType===ArchiveFilterPanelBase.COMBO_STATE_ALL)stateType="";this.archiveContributionAdministration$EZc9.applyFilter(""+searchType,this.getSearchField$EZc9().getValue(),stateType,this.getAuthorNameTextField$EZc9().getValue(),this.getFromDateField$EZc9().getValue(),this.getToDateField$EZc9().getValue())}
function getSearchTypeCombo(){if(!this.searchTypeCombo$EZc9)this.searchTypeCombo$EZc9=AS3.as(this.queryById(ArchiveFilterPanelBase.SEARCH_TYPE_COMBO_ITEM_ID),Ext.form.field.ComboBox);return this.searchTypeCombo$EZc9}function getSearchField(){if(!this.searchField$EZc9)this.searchField$EZc9=AS3.as(this.queryById(ArchiveFilterPanelBase.SEARCH_FIELD_ITEM_ID),Ext.form.field.Text);return this.searchField$EZc9}function getStateCombo(){if(!this.stateCombo$EZc9)this.stateCombo$EZc9=AS3.as(this.queryById(ArchiveFilterPanelBase.STATE_FILTER_ITEM_ID),
Ext.form.field.ComboBox);return this.stateCombo$EZc9}function getAuthorNameTextField(){if(!this.authorCombo$EZc9)this.authorCombo$EZc9=AS3.as(this.queryById(ArchiveFilterPanelBase.AUTHOR_COMBO_ITEM_ID),Ext.form.field.ComboBox);return this.authorCombo$EZc9}function getFromDateField(){if(!this.fromDateField$EZc9)this.fromDateField$EZc9=AS3.as(this.queryById(ArchiveFilterPanelBase.FROM_DATE_FIELD_ID),com.coremedia.ui.components.StatefulDateField);return this.fromDateField$EZc9}function getToDateField(){if(!this.toDateField$EZc9)this.toDateField$EZc9=
AS3.as(this.queryById(ArchiveFilterPanelBase.TO_DATE_FIELD_ID),com.coremedia.ui.components.StatefulDateField);return this.toDateField$EZc9}function back(){var filter=this.archiveContributionAdministration$EZc9.getFilterHistory().backward();this.applyFilterState$EZc9(filter)}function forward(){var filter=this.archiveContributionAdministration$EZc9.getFilterHistory().forward();this.applyFilterState$EZc9(filter)}function applyFilterState(filter){var filterScope=filter.scope;var filterTerm=filter.term;
var filterStatus=filter.status;var filterAuthor=filter.author;var filterFromDate=filter.fromDate&&new Date(filter.fromDate);var filterToDate=filter.toDate&&new Date(filter.toDate);if(!filterScope||filterScope.length===0)filterScope=ArchiveFilterPanelBase.COMBO_TYPE_ANY;if(!filterStatus||filterStatus.length===0)filterStatus=ArchiveFilterPanelBase.COMBO_STATE_ALL;this.getSearchField$EZc9().setValue(filterTerm);this.getSearchTypeCombo$EZc9().setValue(filterScope);this.getStateCombo$EZc9().setValue(filterStatus);
this.getAuthorNameTextField$EZc9().setValue(filterAuthor);this.getFromDateField$EZc9().setValue(filterFromDate);this.getToDateField$EZc9().setValue(filterToDate);this.proceedFilter()}function resetFilter(){this.clearFilter$EZc9();this.proceedFilter()}function clearFilter(){this.getSearchTypeCombo$EZc9().setValue(ArchiveFilterPanelBase.COMBO_TYPE_ANY);this.getSearchField$EZc9().setValue("");this.getStateCombo$EZc9().setValue(ArchiveFilterPanelBase.COMBO_STATE_ALL);this.getAuthorNameTextField$EZc9().setValue("");
this.getFromDateField$EZc9().setValue("");this.getToDateField$EZc9().setValue("")}function resetFromDate(){this.getFromDateField$EZc9()&&this.getFromDateField$EZc9().reset();this.proceedFilter()}function resetToDate(){this.getToDateField$EZc9()&&this.getToDateField$EZc9().reset();this.proceedFilter()}return{extend:"Ext.container.Container",backwardValueExpression$EZc9:null,forwardValueExpression$EZc9:null,searchTypeCombo$EZc9:null,searchField$EZc9:null,stateCombo$EZc9:null,authorCombo$EZc9:null,fromDateField$EZc9:null,
toDateField$EZc9:null,archiveContributionAdministration$EZc9:null,constructor:ArchiveFilterPanelBase$,super$EZc9:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},getBackwardValueExpression:getBackwardValueExpression,getForwardValueExpression:getForwardValueExpression,showContribution:showContribution,proceedFilter:proceedFilter,getSearchTypeCombo$EZc9:getSearchTypeCombo,getSearchField$EZc9:getSearchField,getStateCombo$EZc9:getStateCombo,getAuthorNameTextField$EZc9:getAuthorNameTextField,
getFromDateField$EZc9:getFromDateField,getToDateField$EZc9:getToDateField,back:back,forward:forward,applyFilterState$EZc9:applyFilterState,resetFilter:resetFilter,clearFilter$EZc9:clearFilter,resetFromDate:resetFromDate,resetToDate:resetToDate,statics:{SEARCH_TYPE_COMBO_ITEM_ID:"search-type-combo",SEARCH_FIELD_ITEM_ID:"search-field",STATE_FILTER_ITEM_ID:"state-combo",AUTHOR_COMBO_ITEM_ID:"author-textfield",FROM_DATE_FIELD_ID:"from-datefield",TO_DATE_FIELD_ID:"to-datefield",RESET_FROM_DATE_FIELD_ID:"reset-from-datefield",
RESET_TO_DATE_FIELD_ID:"reset-to-datefield",RESET_FILTER_BUTTON_ITEM_ID:"reset-filter",FORWARD_BUTTON_ITEM_ID:"forward",BACK_BUTTON_ITEM_ID:"back",MAGNIFIER_BUTTON_ITEM_ID:"magnifier",SUGGESTION_SEGMENT:"/archive/suggestions",COMBO_TYPE_ANY:"any",COMBO_TYPE_COMMENTS:"text",COMBO_TYPE_REVIEWS:"review",COMBO_TYPE_COMMENTS_WITH_MEDIA:"media",COMBO_STATE_ALL:"ALL",COMBO_STATE_NEW:"NEW",COMBO_STATE_APPROVED:"APPROVED",COMBO_STATE_REJECTED:"REJECTED"},requires:["Ext.container.Container","Ext.form.field.ComboBox",
"Ext.form.field.Text","com.coremedia.ui.components.StatefulDateField","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames","com.coremedia.elastic.social.studio.model.HistoryPropertyNames","com.coremedia.elastic.social.studio.model.impl.ArchiveContributionAdministration","com.coremedia.elastic.social.studio.model.utils.ValueExpressionUtil"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.archive.ArchiveDetailStatusHeaderBase",function(ArchiveDetailStatusHeaderBase){var STATUS_IN_MODERATION$static="in-moderation";var STATUS_IGNORED$static="ignored";var STATUS_REJECTED$static="rejected";var STATUS_APPROVED$static="approved";var STATUS_NEW$static="new";var STATUS_NEW_ONLINE$static="new_online";function BLOCK$static_(){ArchiveDetailStatusHeaderBase.BLOCK=new com.coremedia.ui.models.bem.BEMBlock("cm-archive-detail-status-header")}
function ArchiveDetailStatusHeaderBase$(config){if(arguments.length<=0)config=null;this.contributionAdministration$_8fL=AS3.getBindable(config,"contributionAdministration");var displayedValueExpression=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.DISPLAYED,this.contributionAdministration$_8fL);this.displayedStateValueExpression$_8fL=displayedValueExpression.extendBy(com.coremedia.elastic.social.studio.model.ContributionPropertyNames.STATE);
this.displayedLastComplaintDateValueExpression$_8fL=displayedValueExpression.extendBy(com.coremedia.elastic.social.studio.model.ContributionPropertyNames.LAST_COMPLAINT_DATE);this.selectedContributionsValueExpression$_8fL=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.SELECTED_ARCHIVE_ITEMS,this.contributionAdministration$_8fL);this.super$_8fL(config)}function afterRender(){var this$=this;Ext.container.Container.prototype.afterRender.call(this);
this.displayedStateValueExpression$_8fL.addChangeListener(AS3.bind(this,"updateStatusOnChange$_8fL"));this.displayedLastComplaintDateValueExpression$_8fL.addChangeListener(AS3.bind(this,"updateStatusOnChange$_8fL"));this.selectedContributionsValueExpression$_8fL.addChangeListener(AS3.bind(this,"updateStatusOnChange$_8fL"));var displayedContribution=this.contributionAdministration$_8fL.getDisplayed();if(displayedContribution)AS3.as(displayedContribution,com.coremedia.elastic.social.studio.model.Comment).getAuthor().load(function(){this$.updateStatusOnChange$_8fL()});
else this.updateStatusOnChange$_8fL()}function onDestroy(){this.displayedStateValueExpression$_8fL.removeChangeListener(AS3.bind(this,"updateStatusOnChange$_8fL"));this.displayedLastComplaintDateValueExpression$_8fL.removeChangeListener(AS3.bind(this,"updateStatusOnChange$_8fL"));this.selectedContributionsValueExpression$_8fL.removeChangeListener(AS3.bind(this,"updateStatusOnChange$_8fL"));Ext.container.Container.prototype.onDestroy.call(this)}function updateStatusOnChange(){var displayedContribution=
this.contributionAdministration$_8fL.getDisplayed();var selectionCount=this.contributionAdministration$_8fL.getSelectedContributionItems().length;AS3.setBindable(this,"highlighted",isHighlighted$static(displayedContribution,selectionCount));if(displayedContribution){this.getStatusDisplayField$_8fL().setValue(this.getStatusText(displayedContribution,selectionCount));if(selectionCount==1){var creationDate=Ext.Date.format(this.contributionAdministration$_8fL.getDisplayed().getCreationDate(),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor",
"dateFormat"));this.getDateDisplayField$_8fL().setValue(creationDate)}else this.getDateDisplayField$_8fL().setValue("")}else{this.getStatusDisplayField$_8fL().setValue(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","detail_archive_header_nothing_selected"));this.getDateDisplayField$_8fL().setValue("");this.getDateDisplayField$_8fL().setValidation("")}}function getStatusText(value,selectedItemsCount){var result=getStatus$static(value);var user=AS3.as(value,
com.coremedia.elastic.social.studio.model.Comment).getAuthor();if(selectedItemsCount>1)return this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","detail_archive_header_multiple_selection");else if(selectedItemsCount===0)return this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","detail_archive_header_nothing_selected");else if(user&&user.isIgnored())return this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"detail_archive_header_ignored");else if(result===STATUS_APPROVED$static)return this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","detail_archive_header_approved");else if(result===STATUS_REJECTED$static)return this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","detail_archive_header_rejected");else if(result===STATUS_NEW_ONLINE$static)return this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"detail_archive_header_new_online");else if(result===STATUS_NEW$static)return this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","detail_archive_header_new");else return this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","detail_archive_header_inmoderation")}function isHighlighted$static(value,selectedItemsCount){if(selectedItemsCount===1){var status=getStatus$static(value);if(status===STATUS_IN_MODERATION$static||
status===STATUS_NEW$static||status===STATUS_NEW_ONLINE$static||status===STATUS_IGNORED$static)return true}return false}function getStatus$static(value){var comment=AS3.as(value,com.coremedia.elastic.social.studio.model.Comment);if(comment){var state=comment.getContributionState();if(comment.getAuthor().isIgnored())return STATUS_IGNORED$static;else if(state&&state.toLowerCase()===STATUS_REJECTED$static&&!comment.getLastComplaintDate())return STATUS_REJECTED$static;else if(state&&state.toLowerCase()===
STATUS_APPROVED$static&&!comment.getLastComplaintDate())return STATUS_APPROVED$static;else if(state&&state.toLowerCase()===STATUS_NEW$static&&!comment.getLastComplaintDate())return STATUS_NEW$static;else if(state&&state.toLowerCase()===STATUS_NEW_ONLINE$static&&!comment.getLastComplaintDate())return STATUS_NEW_ONLINE$static;return STATUS_IN_MODERATION$static}else return""}function getStatusDisplayField(){if(!this.statusDisplayField$_8fL)this.statusDisplayField$_8fL=AS3.as(this.queryById(ArchiveDetailStatusHeaderBase.STATUS_FIELD_ITEM_ID),
Ext.form.field.Display);return this.statusDisplayField$_8fL}function getDateDisplayField(){if(!this.dateDisplayField$_8fL)this.dateDisplayField$_8fL=AS3.as(this.queryById(ArchiveDetailStatusHeaderBase.CREATION_DATE_ID),Ext.form.field.Display);return this.dateDisplayField$_8fL}return{extend:"Ext.container.Container",mixins:["com.coremedia.ui.mixins.HighlightableMixin"],displayedStateValueExpression$_8fL:null,displayedLastComplaintDateValueExpression$_8fL:null,selectedContributionsValueExpression$_8fL:null,
contributionAdministration$_8fL:null,statusDisplayField$_8fL:null,dateDisplayField$_8fL:null,constructor:ArchiveDetailStatusHeaderBase$,super$_8fL:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},afterRender:afterRender,onDestroy:onDestroy,updateStatusOnChange$_8fL:updateStatusOnChange,getStatusText:getStatusText,getStatusDisplayField$_8fL:getStatusDisplayField,getDateDisplayField$_8fL:getDateDisplayField,statics:{STATUS_FIELD_ITEM_ID:"status-field-item-id",CREATION_DATE_ID:"creation-date-item-id",
BLOCK:undefined,__initStatics__:function(){BLOCK$static_()}},requires:["Ext.Date","Ext.container.Container","Ext.form.field.Display","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.mixins.HighlightableMixin","com.coremedia.ui.models.bem.BEMBlock","mx.resources.ResourceManager"],uses:["com.coremedia.elastic.social.studio.model.Comment","com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames",
"com.coremedia.elastic.social.studio.model.ContributionPropertyNames"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.archive.ArchiveTabPanel",function(ArchiveTabPanel){function ArchiveTabPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.archive.ArchiveTabPanelBase,{});var defaults_$1=AS3.cast(ArchiveTabPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"main_tab_title_archive"));var es_ArchiveFilterPanel_24_5_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.archive.ArchiveFilterPanel,{});es_ArchiveFilterPanel_24_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.archive.ArchiveTabPanelBase.FILTER_PANEL_ITEM_ID);AS3.setBindable(es_ArchiveFilterPanel_24_5_$1,"contributionAdministration",AS3.getBindable(config,"moderation").getArchiveContributionAdministration());AS3.setBindable(es_ArchiveFilterPanel_24_5_$1,
"moderation",AS3.getBindable(config,"moderation"));config_$1.tbar=es_ArchiveFilterPanel_24_5_$1;var layout_HBox_30_5_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_30_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_HBox_30_5_$1);var container_34_5_$1=AS3.cast(Ext.container.Container,{});container_34_5_$1.flex=1;var es_ArchivedItemsView_36_9_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.archive.archiveditems.ArchivedItemsView,{});es_ArchivedItemsView_36_9_$1.itemId=
net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.archive.ArchiveTabPanelBase.ARCHIVED_ITEMS_VIEW_ID);AS3.setBindable(es_ArchivedItemsView_36_9_$1,"archiveContributionAdministration",AS3.getBindable(config,"moderation").getArchiveContributionAdministration());container_34_5_$1.items=[es_ArchivedItemsView_36_9_$1];var layout_Fit_40_9_$1=AS3.cast(Ext.layout.container.Fit,{});AS3.setBindable(container_34_5_$1,"layout",layout_Fit_40_9_$1);var splitter_44_5_$1=AS3.cast(Ext.resizer.Splitter,
{});AS3.setBindable(splitter_44_5_$1,"width","4px");splitter_44_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.SplitterSkin.DARK.getSkin());var panel_50_5_$1=AS3.cast(Ext.panel.Panel,{});AS3.setBindable(panel_50_5_$1,"layout","card");panel_50_5_$1.flex=1;panel_50_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.archive.ArchiveTabPanelBase.ARCHIVED_SWITCHING_CONTAINER_ITEM_ID);AS3.setBindable(panel_50_5_$1,"activeItem",0);AS3.setBindable(panel_50_5_$1,
"listeners",{"afterrender":AS3.bind(this,"switchDetailViewOnInit")});var es_ArchiveDetailStatusHeader_58_9_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.archive.ArchiveDetailStatusHeader,{});es_ArchiveDetailStatusHeader_58_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.archive.ArchiveTabPanelBase.ARCHIVED_COMMENT_STATUS_HEADER_ITEM_ID);AS3.setBindable(es_ArchiveDetailStatusHeader_58_9_$1,"contributionAdministration",AS3.getBindable(config,"moderation").getArchiveContributionAdministration());
panel_50_5_$1.tbar=es_ArchiveDetailStatusHeader_58_9_$1;var es_EmptyDetailView_64_9_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.empty.EmptyDetailView,{});es_EmptyDetailView_64_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.archive.ArchiveTabPanelBase.EMPTY_DETAIL_VIEW_ITEM_ID);var es_CommentView_66_9_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentView,{});es_CommentView_66_9_$1.itemId=
net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.moderationtab.ModerationPanelBase.COMMENT_VIEW_ITEM_ID);AS3.setBindable(es_CommentView_66_9_$1,"showContributionHeader",false);AS3.setBindable(es_CommentView_66_9_$1,"richTextAreaId",net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.archive.ArchiveTabPanelBase.ARCHIVE_COMMENT_RICHTEXT_AREA_ID));AS3.setBindable(es_CommentView_66_9_$1,"abstractContributionAdministration",AS3.getBindable(config,
"moderation").getArchiveContributionAdministration());AS3.setBindable(es_CommentView_66_9_$1,"blacklistAdministration",AS3.getBindable(config,"moderation").getBlacklistAdministration());AS3.setBindable(es_CommentView_66_9_$1,"userAdministration",AS3.getBindable(config,"moderation").getUserAdministration());AS3.setBindable(es_CommentView_66_9_$1,"selectedProperty",net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.SELECTED_ARCHIVE_CONTRIBUTION));
var es_ReviewView_73_9_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.comments.ReviewView,{});es_ReviewView_73_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.moderationtab.ModerationPanelBase.REVIEW_VIEW_ITEM_ID);AS3.setBindable(es_ReviewView_73_9_$1,"showContributionHeader",false);AS3.setBindable(es_ReviewView_73_9_$1,"richTextAreaId",net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.archive.ArchiveTabPanelBase.ARCHIVE_REVIEW_RICHTEXT_AREA_ID));
AS3.setBindable(es_ReviewView_73_9_$1,"abstractContributionAdministration",AS3.getBindable(config,"moderation").getArchiveContributionAdministration());AS3.setBindable(es_ReviewView_73_9_$1,"blacklistAdministration",AS3.getBindable(config,"moderation").getBlacklistAdministration());AS3.setBindable(es_ReviewView_73_9_$1,"userAdministration",AS3.getBindable(config,"moderation").getUserAdministration());AS3.setBindable(es_ReviewView_73_9_$1,"selectedProperty",net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.SELECTED_ARCHIVE_CONTRIBUTION));
var es_MultiCommentDetailView_81_9_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.shared.details.multicomment.MultiCommentDetailView,{});es_MultiCommentDetailView_81_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.archive.ArchiveTabPanelBase.MULTI_COMMENT_DETAIL_VIEW_ITEM_ID);AS3.setBindable(es_MultiCommentDetailView_81_9_$1,"abstractContributionAdministration",AS3.getBindable(config,"moderation").getArchiveContributionAdministration());panel_50_5_$1.items=
[es_EmptyDetailView_64_9_$1,es_CommentView_66_9_$1,es_ReviewView_73_9_$1,es_MultiCommentDetailView_81_9_$1];config_$1.items=[container_34_5_$1,splitter_44_5_$1,panel_50_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$NIt3(config_$1)}return{extend:"com.coremedia.elastic.social.studio.moderation.archive.ArchiveTabPanelBase",alias:"widget.com.coremedia.elastic.social.studio.config.archiveTabPanel",constructor:ArchiveTabPanel$,super$NIt3:function(){com.coremedia.elastic.social.studio.moderation.archive.ArchiveTabPanelBase.prototype.constructor.apply(this,
arguments)},requires:["Ext.container.Container","Ext.layout.container.Fit","Ext.layout.container.HBox","Ext.panel.Panel","Ext.resizer.Splitter","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.elastic.social.studio.moderation.archive.ArchiveTabPanelBase","com.coremedia.ui.skins.SplitterSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames","com.coremedia.elastic.social.studio.moderation.archive.ArchiveDetailStatusHeader",
"com.coremedia.elastic.social.studio.moderation.archive.ArchiveFilterPanel","com.coremedia.elastic.social.studio.moderation.archive.archiveditems.ArchivedItemsView","com.coremedia.elastic.social.studio.moderation.moderationtab.ModerationPanelBase","com.coremedia.elastic.social.studio.moderation.shared.details.comments.CommentView","com.coremedia.elastic.social.studio.moderation.shared.details.comments.ReviewView","com.coremedia.elastic.social.studio.moderation.shared.details.empty.EmptyDetailView",
"com.coremedia.elastic.social.studio.moderation.shared.details.multicomment.MultiCommentDetailView"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.archive.ArchiveFilterPanel",function(ArchiveFilterPanel){function ArchiveFilterPanel$(config){var this$=this;if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.archive.ArchiveFilterPanelBase,{});var defaults_$1=AS3.cast(ArchiveFilterPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.CARD_200.getSkin());
AS3.setBindable(config_$1,"scrollable",true);config_$1.padding=0;var ui_IconButton_42_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});AS3.setBindable(ui_IconButton_42_5_$1,"scale","medium");ui_IconButton_42_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE_HIGHLIGHT.getSkin());AS3.setBindable(ui_IconButton_42_5_$1,"tooltip",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","archive_filter_panel_back_btn_tooltip"));
AS3.setBindable(ui_IconButton_42_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","archive_filter_panel_back_btn_tooltip")));AS3.setBindable(ui_IconButton_42_5_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","backward")));AS3.setBindable(ui_IconButton_42_5_$1,"disabled",false);ui_IconButton_42_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.archive.ArchiveFilterPanelBase.BACK_BUTTON_ITEM_ID);
AS3.setBindable(ui_IconButton_42_5_$1,"handler",AS3.bind(this,"back"));var ui_UpdateEnabledPlugin_51_9_$1=AS3.cast(com.coremedia.ui.plugins.UpdateEnabledPlugin,{});AS3.setBindable(ui_UpdateEnabledPlugin_51_9_$1,"valueExpression",this.getBackwardValueExpression(AS3.getBindable(config,"contributionAdministration")));ui_IconButton_42_5_$1.plugins=[ui_UpdateEnabledPlugin_51_9_$1];var ui_IconButton_54_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});AS3.setBindable(ui_IconButton_54_5_$1,"scale",
"medium");ui_IconButton_54_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE_HIGHLIGHT.getSkin());AS3.setBindable(ui_IconButton_54_5_$1,"tooltip",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","archive_filter_panel_forward_btn_tooltip"));AS3.setBindable(ui_IconButton_54_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","archive_filter_panel_forward_btn_tooltip")));
AS3.setBindable(ui_IconButton_54_5_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","forward")));AS3.setBindable(ui_IconButton_54_5_$1,"disabled",false);ui_IconButton_54_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.archive.ArchiveFilterPanelBase.FORWARD_BUTTON_ITEM_ID);AS3.setBindable(ui_IconButton_54_5_$1,"handler",AS3.bind(this,"forward"));var ui_UpdateEnabledPlugin_63_9_$1=AS3.cast(com.coremedia.ui.plugins.UpdateEnabledPlugin,
{});AS3.setBindable(ui_UpdateEnabledPlugin_63_9_$1,"valueExpression",this.getForwardValueExpression(AS3.getBindable(config,"contributionAdministration")));ui_IconButton_54_5_$1.plugins=[ui_UpdateEnabledPlugin_63_9_$1];var container_67_5_$1=AS3.cast(Ext.container.Container,{});var ui_LocalComboBox_69_9_$1=AS3.cast(com.coremedia.ui.components.LocalComboBox,{});ui_LocalComboBox_69_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.archive.ArchiveFilterPanelBase.SEARCH_TYPE_COMBO_ITEM_ID);
AS3.setBindable(ui_LocalComboBox_69_9_$1,"displayField","value");ui_LocalComboBox_69_9_$1.valueField="id";AS3.setBindable(ui_LocalComboBox_69_9_$1,"encodeItems",true);AS3.setBindable(ui_LocalComboBox_69_9_$1,"value",com.coremedia.elastic.social.studio.moderation.archive.ArchiveFilterPanelBase.COMBO_TYPE_ANY);ui_LocalComboBox_69_9_$1.hideLabel=true;AS3.setBindable(ui_LocalComboBox_69_9_$1,"width",150);var ui_BEMMixin_77_13_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,{});AS3.setBindable(ui_BEMMixin_77_13_$1,
"bemElement",com.coremedia.ui.bem.GroupBEMEntities.ELEMENT_LEFT);delete ui_BEMMixin_77_13_$1["xtype"];delete ui_BEMMixin_77_13_$1["xclass"];net.jangaroo.ext.Exml.apply(ui_LocalComboBox_69_9_$1,ui_BEMMixin_77_13_$1);var object_80_13_$1={};object_80_13_$1.select=function(){this$.proceedFilter()};AS3.setBindable(ui_LocalComboBox_69_9_$1,"listeners",object_80_13_$1);var store_Json_83_13_$1=AS3.cast(Ext.data.JsonStore,{});AS3.setBindable(store_Json_83_13_$1,"fields",["id","value"]);AS3.setBindable(store_Json_83_13_$1,
"data",[{id:com.coremedia.elastic.social.studio.moderation.archive.ArchiveFilterPanelBase.COMBO_TYPE_ANY,value:this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","archive_filter_panel_scope_all_text")},{id:com.coremedia.elastic.social.studio.moderation.archive.ArchiveFilterPanelBase.COMBO_TYPE_COMMENTS,value:this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","archive_filter_panel_scope_comment_text")},{id:com.coremedia.elastic.social.studio.moderation.archive.ArchiveFilterPanelBase.COMBO_TYPE_REVIEWS,
value:this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","archive_filter_panel_scope_review_text")},{id:com.coremedia.elastic.social.studio.moderation.archive.ArchiveFilterPanelBase.COMBO_TYPE_COMMENTS_WITH_MEDIA,value:this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","archive_filter_panel_scope_comment_with_media_text")}]);AS3.setBindable(ui_LocalComboBox_69_9_$1,"store",new Ext.data.JsonStore(store_Json_83_13_$1));
var textField_93_9_$1=AS3.cast(Ext.form.field.Text,{});textField_93_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.archive.ArchiveFilterPanelBase.SEARCH_FIELD_ITEM_ID);AS3.setBindable(textField_93_9_$1,"width",300);AS3.setBindable(textField_93_9_$1,"margin","0 0 0 6");AS3.setBindable(textField_93_9_$1,"emptyText",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","archive_filter_panel_search_field_empty_text")));
var ui_BEMMixin_98_13_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,{});AS3.setBindable(ui_BEMMixin_98_13_$1,"bemElement",com.coremedia.ui.bem.GroupBEMEntities.ELEMENT_RIGHT);delete ui_BEMMixin_98_13_$1["xtype"];delete ui_BEMMixin_98_13_$1["xclass"];net.jangaroo.ext.Exml.apply(textField_93_9_$1,ui_BEMMixin_98_13_$1);var object_101_13_$1={};object_101_13_$1.specialkey=function(field,e){if(e.getKey()===e.ENTER){e.stopPropagation();e.preventDefault();this$.proceedFilter()}};AS3.setBindable(textField_93_9_$1,
"listeners",object_101_13_$1);container_67_5_$1.items=[ui_LocalComboBox_69_9_$1,textField_93_9_$1];var layout_HBox_114_9_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(container_67_5_$1,"layout",layout_HBox_114_9_$1);var ui_BEMPlugin_117_9_$1=AS3.cast(com.coremedia.ui.plugins.BEMPlugin,{});AS3.setBindable(ui_BEMPlugin_117_9_$1,"block",com.coremedia.ui.bem.GroupBEMEntities.BLOCK);container_67_5_$1.plugins=[ui_BEMPlugin_117_9_$1];var ui_IconButton_120_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,
{});ui_IconButton_120_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.archive.ArchiveFilterPanelBase.MAGNIFIER_BUTTON_ITEM_ID);AS3.setBindable(ui_IconButton_120_5_$1,"scale","small");ui_IconButton_120_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE.getSkin());AS3.setBindable(ui_IconButton_120_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"archive_filter_panel_search_button_tooltip")));AS3.setBindable(ui_IconButton_120_5_$1,"tooltip",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","archive_filter_panel_search_button_tooltip"));AS3.setBindable(ui_IconButton_120_5_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","search")));AS3.setBindable(ui_IconButton_120_5_$1,"disabled",false);AS3.setBindable(ui_IconButton_120_5_$1,"handler",AS3.bind(this,
"proceedFilter"));var container_129_5_$1=AS3.cast(Ext.container.Container,{});AS3.setBindable(container_129_5_$1,"width",20);var displayField_131_5_$1=AS3.cast(Ext.form.field.Display,{});AS3.setBindable(displayField_131_5_$1,"value",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","archive_filter_panel_state_label"));displayField_131_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.DisplayFieldSkin.BOLD);AS3.setBindable(displayField_131_5_$1,
"margin","0 6 0 0");var ui_LocalComboBox_135_5_$1=AS3.cast(com.coremedia.ui.components.LocalComboBox,{});ui_LocalComboBox_135_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.archive.ArchiveFilterPanelBase.STATE_FILTER_ITEM_ID);AS3.setBindable(ui_LocalComboBox_135_5_$1,"width",200);ui_LocalComboBox_135_5_$1.hideLabel=true;AS3.setBindable(ui_LocalComboBox_135_5_$1,"displayField","value");ui_LocalComboBox_135_5_$1.valueField="id";AS3.setBindable(ui_LocalComboBox_135_5_$1,
"encodeItems",true);AS3.setBindable(ui_LocalComboBox_135_5_$1,"value",com.coremedia.elastic.social.studio.moderation.archive.ArchiveFilterPanelBase.COMBO_STATE_ALL);var object_143_9_$1={};object_143_9_$1.select=function(){this$.proceedFilter()};AS3.setBindable(ui_LocalComboBox_135_5_$1,"listeners",object_143_9_$1);var store_Json_148_9_$1=AS3.cast(Ext.data.JsonStore,{});AS3.setBindable(store_Json_148_9_$1,"fields",["id","value"]);AS3.setBindable(store_Json_148_9_$1,"data",[{id:com.coremedia.elastic.social.studio.moderation.archive.ArchiveFilterPanelBase.COMBO_STATE_ALL,
value:this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","archive_filter_panel_state_combo_all_text")},{id:com.coremedia.elastic.social.studio.moderation.archive.ArchiveFilterPanelBase.COMBO_STATE_NEW,value:this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","archive_filter_panel_state_combo_new_text")},{id:com.coremedia.elastic.social.studio.moderation.archive.ArchiveFilterPanelBase.COMBO_STATE_APPROVED,value:this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"archive_filter_panel_state_combo_approved_text")},{id:com.coremedia.elastic.social.studio.moderation.archive.ArchiveFilterPanelBase.COMBO_STATE_REJECTED,value:this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","archive_filter_panel_state_combo_rejected_text")}]);AS3.setBindable(ui_LocalComboBox_135_5_$1,"store",new Ext.data.JsonStore(store_Json_148_9_$1));var container_159_5_$1=AS3.cast(Ext.container.Container,{});AS3.setBindable(container_159_5_$1,"width",
20);var displayField_161_5_$1=AS3.cast(Ext.form.field.Display,{});AS3.setBindable(displayField_161_5_$1,"value",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","archive_filter_panel_user_label"));displayField_161_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.DisplayFieldSkin.BOLD);AS3.setBindable(displayField_161_5_$1,"margin","0 6 0 0");var es_SearchField_165_5_$1=AS3.cast(com.coremedia.elastic.social.studio.usermanagement.list.SearchField,
{});es_SearchField_165_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.archive.ArchiveFilterPanelBase.AUTHOR_COMBO_ITEM_ID);AS3.setBindable(es_SearchField_165_5_$1,"moderation",AS3.getBindable(config,"moderation"));AS3.setBindable(es_SearchField_165_5_$1,"width",200);es_SearchField_165_5_$1.forceSelection=false;es_SearchField_165_5_$1.autoSelect=false;es_SearchField_165_5_$1.enableKeyEvents=true;es_SearchField_165_5_$1.queryMode="remote";es_SearchField_165_5_$1["lastQuery"]=
"";es_SearchField_165_5_$1.typeAhead=false;AS3.setBindable(es_SearchField_165_5_$1,"hideTrigger",true);es_SearchField_165_5_$1.triggerAction="all";es_SearchField_165_5_$1.minChars=1;es_SearchField_165_5_$1.queryDelay=200;es_SearchField_165_5_$1.queryParam="query";es_SearchField_165_5_$1.pageSize=0;AS3.setBindable(es_SearchField_165_5_$1,"displayField","value");es_SearchField_165_5_$1.selectOnFocus=true;AS3.setBindable(es_SearchField_165_5_$1,"emptyText",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"archive_filter_panel_user_textfield_emtpy_text")));es_SearchField_165_5_$1.suggestionSegment=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.archive.ArchiveFilterPanelBase.SUGGESTION_SEGMENT);var object_185_9_$1={};object_185_9_$1.specialkey=function(field,e){if(e.getKey()===e.ENTER){e.stopPropagation();e.preventDefault();this$.proceedFilter()}};object_185_9_$1.select=function(field,e){this$.proceedFilter()};AS3.setBindable(es_SearchField_165_5_$1,"listeners",object_185_9_$1);
var boundList_201_9_$1=AS3.cast(Ext.view.BoundList,{});boundList_201_9_$1.loadingText="";boundList_201_9_$1["navigationModel"]=AS3.cast(com.coremedia.elastic.social.studio.usermanagement.list.SearchFieldKeyNav,{});boundList_201_9_$1.itemSelector="div.search-item";es_SearchField_165_5_$1.listConfig=boundList_201_9_$1;var container_207_5_$1=AS3.cast(Ext.container.Container,{});AS3.setBindable(container_207_5_$1,"width",20);var displayField_209_5_$1=AS3.cast(Ext.form.field.Display,{});AS3.setBindable(displayField_209_5_$1,
"value",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","archive_filter_panel_from_date_label"));displayField_209_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.DisplayFieldSkin.BOLD);AS3.setBindable(displayField_209_5_$1,"margin","0 6 0 0");var ui_StatefulDateField_213_5_$1=AS3.cast(com.coremedia.ui.components.StatefulDateField,{});ui_StatefulDateField_213_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.archive.ArchiveFilterPanelBase.FROM_DATE_FIELD_ID);
ui_StatefulDateField_213_5_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","Date_property_field"));ui_StatefulDateField_213_5_$1.format=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","shortDateFormat"));ui_StatefulDateField_213_5_$1.enableKeyEvents=true;ui_StatefulDateField_213_5_$1.formatText="";var object_218_21_$1={};object_218_21_$1.select=function(){this$.proceedFilter()};AS3.setBindable(ui_StatefulDateField_213_5_$1,
"listeners",object_218_21_$1);var ui_IconButton_222_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});AS3.setBindable(ui_IconButton_222_5_$1,"scale","small");ui_IconButton_222_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE.getSkin());AS3.setBindable(ui_IconButton_222_5_$1,"iconCls",net.jangaroo.ext.Exml.asString(com.coremedia.icons.CoreIcons_properties.INSTANCE.remove_small));ui_IconButton_222_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.archive.ArchiveFilterPanelBase.RESET_FROM_DATE_FIELD_ID);
AS3.setBindable(ui_IconButton_222_5_$1,"handler",AS3.bind(this,"resetFromDate"));AS3.setBindable(ui_IconButton_222_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","DateTimePropertyField_dateReset_text")));var container_229_5_$1=AS3.cast(Ext.container.Container,{});AS3.setBindable(container_229_5_$1,"width",20);var displayField_231_5_$1=AS3.cast(Ext.form.field.Display,{});AS3.setBindable(displayField_231_5_$1,"value",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"archive_filter_panel_to_date_label"));displayField_231_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.DisplayFieldSkin.BOLD);AS3.setBindable(displayField_231_5_$1,"margin","0 6 0 0");var ui_StatefulDateField_235_5_$1=AS3.cast(com.coremedia.ui.components.StatefulDateField,{});ui_StatefulDateField_235_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.archive.ArchiveFilterPanelBase.TO_DATE_FIELD_ID);ui_StatefulDateField_235_5_$1.format=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"shortDateFormat"));ui_StatefulDateField_235_5_$1.enableKeyEvents=true;ui_StatefulDateField_235_5_$1.formatText="";var object_239_21_$1={};object_239_21_$1.select=function(){this$.proceedFilter()};AS3.setBindable(ui_StatefulDateField_235_5_$1,"listeners",object_239_21_$1);var ui_IconButton_243_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});AS3.setBindable(ui_IconButton_243_5_$1,"scale","small");ui_IconButton_243_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE.getSkin());
AS3.setBindable(ui_IconButton_243_5_$1,"iconCls",net.jangaroo.ext.Exml.asString(com.coremedia.icons.CoreIcons_properties.INSTANCE.remove_small));ui_IconButton_243_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.archive.ArchiveFilterPanelBase.RESET_TO_DATE_FIELD_ID);AS3.setBindable(ui_IconButton_243_5_$1,"handler",AS3.bind(this,"resetToDate"));AS3.setBindable(ui_IconButton_243_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"DateTimePropertyField_dateReset_text")));var container_250_5_$1=AS3.cast(Ext.container.Container,{});AS3.setBindable(container_250_5_$1,"width",20);var button_252_5_$1=AS3.cast(Ext.button.Button,{});button_252_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.archive.ArchiveFilterPanelBase.RESET_FILTER_BUTTON_ITEM_ID);button_252_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE.getSkin());AS3.setBindable(button_252_5_$1,"text",
net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","archive_filter_panel_reset_filter_text")));AS3.setBindable(button_252_5_$1,"handler",AS3.bind(this,"resetFilter"));config_$1.items=[ui_IconButton_42_5_$1,ui_IconButton_54_5_$1,container_67_5_$1,ui_IconButton_120_5_$1,container_129_5_$1,displayField_131_5_$1,ui_LocalComboBox_135_5_$1,container_159_5_$1,displayField_161_5_$1,es_SearchField_165_5_$1,container_207_5_$1,displayField_209_5_$1,
ui_StatefulDateField_213_5_$1,ui_IconButton_222_5_$1,container_229_5_$1,displayField_231_5_$1,ui_StatefulDateField_235_5_$1,ui_IconButton_243_5_$1,container_250_5_$1,button_252_5_$1];var layout_HBox_259_5_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_259_5_$1,"align","middle");AS3.setBindable(config_$1,"layout",layout_HBox_259_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$iSgO(config_$1)}return{extend:"com.coremedia.elastic.social.studio.moderation.archive.ArchiveFilterPanelBase",
alias:"widget.com.coremedia.elastic.social.studio.config.archiveFilterPanel",constructor:ArchiveFilterPanel$,super$iSgO:function(){com.coremedia.elastic.social.studio.moderation.archive.ArchiveFilterPanelBase.prototype.constructor.apply(this,arguments)},config:{moderation:null,contributionAdministration:null},requires:["Ext.button.Button","Ext.container.Container","Ext.data.JsonStore","Ext.form.field.Display","Ext.form.field.Text","Ext.layout.container.HBox","Ext.view.BoundList","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties",
"com.coremedia.elastic.social.studio.moderation.archive.ArchiveFilterPanelBase","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.bem.GroupBEMEntities","com.coremedia.ui.components.IconButton","com.coremedia.ui.components.LocalComboBox","com.coremedia.ui.components.StatefulDateField","com.coremedia.ui.plugins.BEMMixin","com.coremedia.ui.plugins.BEMPlugin","com.coremedia.ui.plugins.UpdateEnabledPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.ContainerSkin","com.coremedia.ui.skins.DisplayFieldSkin",
"net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.usermanagement.list.SearchField","com.coremedia.elastic.social.studio.usermanagement.list.SearchFieldKeyNav"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.statistics.ModerationStatisticsWindowBase",function(ModerationStatisticsWindowBase){function ModerationStatisticsWindowBase$(config){if(arguments.length<=0)config=null;this.moderationContributionAdministration$8Eup=AS3.getBindable(config,"moderationContributionAdministration");this.super$8Eup(config)}function beforeDestroy(){this.moderationContributionAdministration$8Eup.getStatisticsValueExpression().setValue(null);com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.beforeDestroy.call(this)}
function updateStatistics(){var moderationStatistics=AS3.as(this.queryById(ModerationStatisticsWindowBase.MODERATION_STATISTICS_PANEL_ITEM_ID),com.coremedia.elastic.social.studio.moderation.statistics.ModerationStatisticsContainer);moderationStatistics.updateStatistics()}return{extend:"com.coremedia.cms.editor.sdk.components.StudioDialog",moderationContributionAdministration$8Eup:null,constructor:ModerationStatisticsWindowBase$,super$8Eup:function(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.constructor.apply(this,
arguments)},beforeDestroy:beforeDestroy,updateStatistics:updateStatistics,statics:{MODERATION_STATISTICS_WINDOW_ID:"cm-elastic-social-moderation-statistics-window",MODERATION_STATISTICS_PANEL_ITEM_ID:"cm-elastic-social-moderation-statistics-panel",CLOSE_BUTTON_ID:"cm-elastic-social-moderation-statistics-close-button",UPDATE_BUTTON_ID:"cm-elastic-social-moderation-statistics-update-button"},requires:["com.coremedia.cms.editor.sdk.components.StudioDialog"],uses:["com.coremedia.elastic.social.studio.moderation.statistics.ModerationStatisticsContainer"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.statistics.ModerationStatisticsWindow",function(ModerationStatisticsWindow){function ModerationStatisticsWindow$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.statistics.ModerationStatisticsWindowBase,{});var defaults_$1=AS3.cast(ModerationStatisticsWindow,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.modal=true;config_$1.closeAction="close";config_$1.itemId=
net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.statistics.ModerationStatisticsWindowBase.MODERATION_STATISTICS_WINDOW_ID);config_$1.stateId="moderationStatisticsWindowState";AS3.setBindable(config_$1,"stateful",true);config_$1.resizable=false;config_$1.constrainHeader=true;config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.WindowSkin.GRID_200_DARK.getSkin());AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"moderation_statistics_window_title"));var es_ModerationStatisticsContainer_36_5_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.statistics.ModerationStatisticsContainer,{});es_ModerationStatisticsContainer_36_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.statistics.ModerationStatisticsWindowBase.MODERATION_STATISTICS_PANEL_ITEM_ID);AS3.setBindable(es_ModerationStatisticsContainer_36_5_$1,"moderationContributionAdministration",AS3.getBindable(config,
"moderationContributionAdministration"));config_$1.items=[es_ModerationStatisticsContainer_36_5_$1];var toolbar_41_5_$1=AS3.cast(Ext.toolbar.Toolbar,{});var button_43_9_$1=AS3.cast(Ext.button.Button,{});button_43_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.statistics.ModerationStatisticsWindowBase.UPDATE_BUTTON_ID);button_43_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_SECONDARY.getSkin());AS3.setBindable(button_43_9_$1,
"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","btn_refresh")));AS3.setBindable(button_43_9_$1,"handler",AS3.bind(this,"updateStatistics"));var tbFill_47_9_$1=AS3.cast(Ext.toolbar.Fill,{});var button_48_9_$1=AS3.cast(Ext.button.Button,{});AS3.setBindable(button_48_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","btn_close")));
AS3.setBindable(button_48_9_$1,"handler",AS3.bind(this,"close"));button_48_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_SECONDARY.getSkin());button_48_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.statistics.ModerationStatisticsWindowBase.CLOSE_BUTTON_ID);toolbar_41_5_$1.items=[button_43_9_$1,tbFill_47_9_$1,button_48_9_$1];config_$1.fbar=toolbar_41_5_$1;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$iMH2(config_$1)}
return{extend:"com.coremedia.elastic.social.studio.moderation.statistics.ModerationStatisticsWindowBase",alias:"widget.com.coremedia.elastic.social.studio.config.moderationStatisticsWindow",constructor:ModerationStatisticsWindow$,super$iMH2:function(){com.coremedia.elastic.social.studio.moderation.statistics.ModerationStatisticsWindowBase.prototype.constructor.apply(this,arguments)},config:{moderationContributionAdministration:null},requires:["Ext.button.Button","Ext.toolbar.Fill","Ext.toolbar.Toolbar",
"com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.elastic.social.studio.moderation.statistics.ModerationStatisticsWindowBase","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.WindowSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.moderation.statistics.ModerationStatisticsContainer"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.statistics.ModerationStatisticsContainer",function(ModerationStatisticsContainer){var WIDTH_DISPLAYFIELD_LABEL$static=200;function ModerationStatisticsContainer$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.statistics.ModerationStatisticsContainerBase,{});var defaults_$1=AS3.cast(ModerationStatisticsContainer,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var layout_Auto_32_5_$1=
AS3.cast(Ext.layout.container.Auto,{});AS3.setBindable(config_$1,"layout",layout_Auto_32_5_$1);var panel_36_5_$1=AS3.cast(Ext.panel.Panel,{});panel_36_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.CARD_200.getSkin());AS3.setBindable(panel_36_5_$1,"title",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","moderation_statistics_tenant_title"));var displayField_39_9_$1=AS3.cast(Ext.form.field.Display,{});AS3.setBindable(displayField_39_9_$1,
"width",WIDTH_DISPLAYFIELD_LABEL$static);var ui_BindPropertyPlugin_41_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_41_13_$1.componentProperty="value";ui_BindPropertyPlugin_41_13_$1.bidirectional=true;ui_BindPropertyPlugin_41_13_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.ModerationPropertyNames.TENANT,com.coremedia.elastic.social.studio.model.impl.ModerationImpl.getInstance());displayField_39_9_$1.plugins=
[ui_BindPropertyPlugin_41_13_$1];panel_36_5_$1.items=[displayField_39_9_$1];var panel_49_5_$1=AS3.cast(Ext.panel.Panel,{});panel_49_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.CARD_200.getSkin());AS3.setBindable(panel_49_5_$1,"title",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","moderation_statistics_comments_title"));var displayField_52_9_$1=AS3.cast(Ext.form.field.Display,{});displayField_52_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.statistics.ModerationStatisticsContainerBase.COMMENTS_TO_MODERATE_FIELD_ID);
AS3.setBindable(displayField_52_9_$1,"width",WIDTH_DISPLAYFIELD_LABEL$static);displayField_52_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.DisplayFieldSkin.NUMBER.getSkin());AS3.setBindable(displayField_52_9_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","moderation_statistics_comments_to_moderate")));var ui_BindPropertyPlugin_57_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,
{});ui_BindPropertyPlugin_57_13_$1.componentProperty="value";ui_BindPropertyPlugin_57_13_$1.bidirectional=true;ui_BindPropertyPlugin_57_13_$1.bindTo=AS3.getBindable(config,"moderationContributionAdministration").getStatisticsValueExpression().extendBy("commentsForModeration");displayField_52_9_$1.plugins=[ui_BindPropertyPlugin_57_13_$1];var displayField_62_9_$1=AS3.cast(Ext.form.field.Display,{});displayField_62_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.statistics.ModerationStatisticsContainerBase.COMMENTS_ONLINE_FIELD_ID);
AS3.setBindable(displayField_62_9_$1,"width",WIDTH_DISPLAYFIELD_LABEL$static);displayField_62_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.DisplayFieldSkin.NUMBER.getSkin());AS3.setBindable(displayField_62_9_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","moderation_statistics_comments_online")));var ui_BindPropertyPlugin_67_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});
ui_BindPropertyPlugin_67_13_$1.componentProperty="value";ui_BindPropertyPlugin_67_13_$1.bidirectional=true;ui_BindPropertyPlugin_67_13_$1.bindTo=AS3.getBindable(config,"moderationContributionAdministration").getStatisticsValueExpression().extendBy("onlineComments");displayField_62_9_$1.plugins=[ui_BindPropertyPlugin_67_13_$1];panel_49_5_$1.items=[displayField_52_9_$1,displayField_62_9_$1];var panel_75_5_$1=AS3.cast(Ext.panel.Panel,{});panel_75_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.CARD_200.getSkin());
AS3.setBindable(panel_75_5_$1,"title",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","moderation_statistics_users_title"));var displayField_78_9_$1=AS3.cast(Ext.form.field.Display,{});displayField_78_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.statistics.ModerationStatisticsContainerBase.USERS_TO_MODERATE_FIELD_ID);AS3.setBindable(displayField_78_9_$1,"width",WIDTH_DISPLAYFIELD_LABEL$static);displayField_78_9_$1.ui=
net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.DisplayFieldSkin.NUMBER.getSkin());AS3.setBindable(displayField_78_9_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","moderation_statistics_users_to_moderate")));var ui_BindPropertyPlugin_83_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_83_13_$1.componentProperty="value";ui_BindPropertyPlugin_83_13_$1.bidirectional=
true;ui_BindPropertyPlugin_83_13_$1.bindTo=AS3.getBindable(config,"moderationContributionAdministration").getStatisticsValueExpression().extendBy("usersForModeration");displayField_78_9_$1.plugins=[ui_BindPropertyPlugin_83_13_$1];var displayField_88_9_$1=AS3.cast(Ext.form.field.Display,{});displayField_88_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.statistics.ModerationStatisticsContainerBase.USERS_ACTIVATED_FIELD_ID);AS3.setBindable(displayField_88_9_$1,
"width",WIDTH_DISPLAYFIELD_LABEL$static);displayField_88_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.DisplayFieldSkin.NUMBER.getSkin());AS3.setBindable(displayField_88_9_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","moderation_statistics_users_activated")));var ui_BindPropertyPlugin_93_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_93_13_$1.componentProperty=
"value";ui_BindPropertyPlugin_93_13_$1.bidirectional=true;ui_BindPropertyPlugin_93_13_$1.bindTo=AS3.getBindable(config,"moderationContributionAdministration").getStatisticsValueExpression().extendBy("activatedUsers");displayField_88_9_$1.plugins=[ui_BindPropertyPlugin_93_13_$1];panel_75_5_$1.items=[displayField_78_9_$1,displayField_88_9_$1];config_$1.items=[panel_36_5_$1,panel_49_5_$1,panel_75_5_$1];var ui_VerticalSpacingPlugin_102_5_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});
AS3.setBindable(ui_VerticalSpacingPlugin_102_5_$1,"modifier",com.coremedia.ui.bem.SpacingBEMEntities.VERTICAL_SPACING_MODIFIER_200);config_$1.plugins=[ui_VerticalSpacingPlugin_102_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$j0hl(config_$1)}return{extend:"com.coremedia.elastic.social.studio.moderation.statistics.ModerationStatisticsContainerBase",alias:"widget.com.coremedia.elastic.social.studio.config.moderationStatisticsContainer",constructor:ModerationStatisticsContainer$,super$j0hl:function(){com.coremedia.elastic.social.studio.moderation.statistics.ModerationStatisticsContainerBase.prototype.constructor.apply(this,
arguments)},config:{moderationContributionAdministration:null},requires:["Ext.form.field.Display","Ext.layout.container.Auto","Ext.panel.Panel","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.elastic.social.studio.moderation.statistics.ModerationStatisticsContainerBase","com.coremedia.ui.bem.SpacingBEMEntities","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.VerticalSpacingPlugin","com.coremedia.ui.skins.ContainerSkin",
"com.coremedia.ui.skins.DisplayFieldSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.model.ModerationPropertyNames","com.coremedia.elastic.social.studio.model.impl.ModerationImpl"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.statistics.ModerationStatisticsContainerBase",function(ModerationStatisticsContainerBase){function ModerationStatisticsContainerBase$(config){if(arguments.length<=0)config=null;this.moderationContributionAdministration$vdPW=AS3.getBindable(config,"moderationContributionAdministration");this.updateStatistics();this.super$vdPW(config)}function updateStatistics(){this.moderationContributionAdministration$vdPW.updateModerationStatistics()}return{extend:"Ext.container.Container",
moderationContributionAdministration$vdPW:null,constructor:ModerationStatisticsContainerBase$,super$vdPW:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},updateStatistics:updateStatistics,statics:{USERS_TO_MODERATE_FIELD_ID:"cm-elastic-social-users-statistic-information-to-moderate",USERS_ACTIVATED_FIELD_ID:"cm-elastic-social-users-statistic-information-activated",COMMENTS_TO_MODERATE_FIELD_ID:"cm-elastic-social-comments-statistic-information-to-moderate",COMMENTS_ONLINE_FIELD_ID:"cm-elastic-social-comments-statistic-information-moderated"},
requires:["Ext.container.Container"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.ElasticSocialMainTab",function(ElasticSocialMainTab){function ElasticSocialMainTab$(config){var this$=this;if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.ElasticSocialMainTabBase,{});var defaults_$1=AS3.cast(ElasticSocialMainTab,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"elastic_social_tab_title"));AS3.setBindable(config_$1,"closable",true);config_$1["id"]=com.coremedia.elastic.social.studio.moderation.ElasticSocialMainTabBase.ID;AS3.setBindable(config_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","moderation")));config_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.ElasticSocialMainTabBase.ID);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.PanelSkin.FRAME.getSkin());
var tabPanel_35_5_$1=AS3.cast(Ext.tab.Panel,{});tabPanel_35_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.ElasticSocialMainTabBase.TAB_PANEL_ITEM_ID);tabPanel_35_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.TabBarSkin.WORKAREA_PANEL);AS3.setBindable(tabPanel_35_5_$1,"activeTab",0);var es_ModerationTabPanel_39_9_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.moderationtab.ModerationTabPanel,{});es_ModerationTabPanel_39_9_$1.itemId=
net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.ElasticSocialMainTabBase.ES_MODERATION_TAB_PANEL_ITEM_ID);es_ModerationTabPanel_39_9_$1["id"]="moderationTabId";AS3.setBindable(es_ModerationTabPanel_39_9_$1,"moderation",com.coremedia.elastic.social.studio.moderation.ElasticSocialMainTabBase.getModeration());AS3.setBindable(es_ModerationTabPanel_39_9_$1,"listeners",{"activate":function(){var moderationContributionAdministration=com.coremedia.elastic.social.studio.moderation.ElasticSocialMainTabBase.getModeration().getModerationContributionAdministration();
moderationContributionAdministration.startPolling();com.coremedia.elastic.social.studio.moderation.ElasticSocialMainTabBase.getModeration().set(com.coremedia.elastic.social.studio.model.ModerationPropertyNames.ACTIVE_CONTRIBUTION_ADMINISTRATION,moderationContributionAdministration);this$.getActiveTabValueExpression().setValue(com.coremedia.elastic.social.studio.moderation.ElasticSocialMainTabBase.ACTIVE_TAB_MODERATION)}});var es_ArchiveTabPanel_49_9_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.archive.ArchiveTabPanel,
{});es_ArchiveTabPanel_49_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.ElasticSocialMainTabBase.ES_ARCHIVE_TAB_PANEL_ITEM_ID);AS3.setBindable(es_ArchiveTabPanel_49_9_$1,"moderation",com.coremedia.elastic.social.studio.moderation.ElasticSocialMainTabBase.getModeration());AS3.setBindable(es_ArchiveTabPanel_49_9_$1,"listeners",{"activate":function(){com.coremedia.elastic.social.studio.moderation.ElasticSocialMainTabBase.getModeration().getModerationContributionAdministration().pausePolling();
var archiveContributionAdministration=com.coremedia.elastic.social.studio.moderation.ElasticSocialMainTabBase.getModeration().getArchiveContributionAdministration();archiveContributionAdministration.startPolling();archiveContributionAdministration.pausePolling();com.coremedia.elastic.social.studio.moderation.ElasticSocialMainTabBase.getModeration().set(com.coremedia.elastic.social.studio.model.ModerationPropertyNames.ACTIVE_CONTRIBUTION_ADMINISTRATION,archiveContributionAdministration);this$.getActiveTabValueExpression().setValue(com.coremedia.elastic.social.studio.moderation.ElasticSocialMainTabBase.ACTIVE_TAB_ARCHIVE)}});
tabPanel_35_5_$1.items=[es_ModerationTabPanel_39_9_$1,es_ArchiveTabPanel_49_9_$1];config_$1.items=[tabPanel_35_5_$1];var es_ModerationPanelToolbar_64_5_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.moderationtab.ModerationPanelToolbar,{});es_ModerationPanelToolbar_64_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.moderation.ElasticSocialMainTabBase.TOOLBAR_ITEM_ID);AS3.setBindable(es_ModerationPanelToolbar_64_5_$1,"collapseHandler",AS3.getBindable(config,
"collapseHandler"));AS3.setBindable(es_ModerationPanelToolbar_64_5_$1,"height",com.coremedia.elastic.social.studio.moderation.ElasticSocialMainTabBase.ELASTIC_SOCIAL_START_TAB_TOOLBAR_HEIGHT);AS3.setBindable(es_ModerationPanelToolbar_64_5_$1,"moderation",com.coremedia.elastic.social.studio.moderation.ElasticSocialMainTabBase.getModeration());AS3.setBindable(es_ModerationPanelToolbar_64_5_$1,"activeTabValueExpression",this.getActiveTabValueExpression());config_$1.tbar=es_ModerationPanelToolbar_64_5_$1;
var layout_Fit_71_5_$1=AS3.cast(Ext.layout.container.Fit,{});AS3.setBindable(config_$1,"layout",layout_Fit_71_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$CKey(config_$1)}return{extend:"com.coremedia.elastic.social.studio.moderation.ElasticSocialMainTabBase",alias:"widget.com.coremedia.elastic.social.studio.config.elasticSocialMainTab",constructor:ElasticSocialMainTab$,super$CKey:function(){com.coremedia.elastic.social.studio.moderation.ElasticSocialMainTabBase.prototype.constructor.apply(this,
arguments)},config:{collapseHandler:null},requires:["Ext.layout.container.Fit","Ext.tab.Panel","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.elastic.social.studio.moderation.ElasticSocialMainTabBase","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.skins.PanelSkin","com.coremedia.ui.skins.TabBarSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.model.ModerationPropertyNames","com.coremedia.elastic.social.studio.moderation.archive.ArchiveTabPanel",
"com.coremedia.elastic.social.studio.moderation.moderationtab.ModerationPanelToolbar","com.coremedia.elastic.social.studio.moderation.moderationtab.ModerationTabPanel"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.ElasticSocialMainTabBase",function(ElasticSocialMainTabBase){function ElasticSocialMainTabBase$(config){if(arguments.length<=0)config=null;this.super$wKSj(config);this.getActiveTabValueExpression().setValue(ElasticSocialMainTabBase.ACTIVE_TAB_MODERATION)}function getModeration$static(){return com.coremedia.elastic.social.studio.model.impl.ModerationImpl.getInstance()}function getActiveTabValueExpression(){if(!this.activeTabValueExp$wKSj)this.activeTabValueExp$wKSj=
com.coremedia.ui.data.ValueExpressionFactory.createFromValue();return this.activeTabValueExp$wKSj}return{extend:"Ext.panel.Panel",activeTabValueExp$wKSj:null,constructor:ElasticSocialMainTabBase$,super$wKSj:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},getActiveTabValueExpression:getActiveTabValueExpression,statics:{ID:"cm-elastic-social-main-tab",ELASTIC_SOCIAL_START_TAB_TOOLBAR_HEIGHT:40,ACTIVE_TAB_MODERATION:"moderationTab",ACTIVE_TAB_ARCHIVE:"archiveTab",TOOLBAR_ITEM_ID:"elastic-tab-toolbar",
TAB_PANEL_ITEM_ID:"tab-panel",ES_MODERATION_TAB_PANEL_ITEM_ID:"cm-elastic-social-moderation-tab-panel",ES_ARCHIVE_TAB_PANEL_ITEM_ID:"cm-elastic-social-archive-tab-panel",getModeration:getModeration$static},requires:["Ext.panel.Panel","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.elastic.social.studio.model.impl.ModerationImpl"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.ContributionTypeColumn",function(ContributionTypeColumn){function ContributionTypeColumn$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.columns.grid.IconColumn,{});var defaults_$1=AS3.cast(ContributionTypeColumn,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.header=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"list_type"));config_$1.sortable=false;config_$1.groupable=false;config_$1.menuDisabled=true;AS3.setBindable(config_$1,"width",40);AS3.setBindable(config_$1,"align","center");config_$1.dataIndex=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames.TARGET);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$u7i2(config_$1)}function calculateIconCls(value,metadata,record,rowIndex,colIndex,store){var iconCls="";var contribution=AS3.as(value,com.coremedia.elastic.social.studio.model.Contribution);
if(contribution){var comment=AS3.as(contribution,com.coremedia.elastic.social.studio.model.Comment);if(comment){iconCls=this.resourceManager.getString("com.coremedia.icons.CoreIcons","comment");if(comment.getAttachments().length>0)iconCls=this.resourceManager.getString("com.coremedia.icons.CoreIcons","comment_attachment");if(AS3.is(comment,com.coremedia.elastic.social.studio.model.Review))iconCls=this.resourceManager.getString("com.coremedia.icons.CoreIcons","review")}else if(AS3.is(contribution,
com.coremedia.elastic.social.studio.model.User))iconCls=this.resourceManager.getString("com.coremedia.icons.CoreIcons","user")}return iconCls}return{extend:"com.coremedia.cms.editor.sdk.columns.grid.IconColumn",metadata:{"":["PublicApi"]},constructor:ContributionTypeColumn$,super$u7i2:function(){com.coremedia.cms.editor.sdk.columns.grid.IconColumn.prototype.constructor.apply(this,arguments)},calculateIconCls:calculateIconCls,requires:["com.coremedia.cms.editor.sdk.columns.grid.IconColumn","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties",
"com.coremedia.icons.CoreIcons_properties","net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.model.Comment","com.coremedia.elastic.social.studio.model.Contribution","com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames","com.coremedia.elastic.social.studio.model.Review","com.coremedia.elastic.social.studio.model.User"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.RejectCommentMenuItem",function(RejectCommentMenuItem){function RejectCommentMenuItem$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.menu.Item,{});var defaults_$1=AS3.cast(RejectCommentMenuItem,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var es_MetadataToContributionActionAdapter_20_5_$1=AS3.cast(com.coremedia.elastic.social.studio.actions.MetadataToContributionActionAdapter,{});AS3.setBindable(es_MetadataToContributionActionAdapter_20_5_$1,
"metadataVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.preview.PreviewPanelBase.CURRENT_PREVIEW_METADATA_SELECTION_VARIABLE_NAME));var es_RejectCommentAction_23_9_$1=AS3.cast(com.coremedia.elastic.social.studio.actions.RejectCommentAction,{});AS3.setBindable(es_RejectCommentAction_23_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","btn_reject")));AS3.setBindable(es_MetadataToContributionActionAdapter_20_5_$1,
"backingAction",new com.coremedia.elastic.social.studio.actions.RejectCommentAction(es_RejectCommentAction_23_9_$1));config_$1.baseAction=new com.coremedia.elastic.social.studio.actions.MetadataToContributionActionAdapter(es_MetadataToContributionActionAdapter_20_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$sICG(config_$1)}return{extend:"Ext.menu.Item",alias:"widget.com.coremedia.elastic.social.studio.config.rejectCommentMenuItem",constructor:RejectCommentMenuItem$,super$sICG:function(){Ext.menu.Item.prototype.constructor.apply(this,
arguments)},requires:["Ext.menu.Item","com.coremedia.cms.editor.sdk.preview.PreviewPanelBase","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.actions.MetadataToContributionActionAdapter","com.coremedia.elastic.social.studio.actions.RejectCommentAction"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.ApproveCommentMenuItem",function(ApproveCommentMenuItem){function ApproveCommentMenuItem$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.menu.Item,{});var defaults_$1=AS3.cast(ApproveCommentMenuItem,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var es_MetadataToContributionActionAdapter_20_5_$1=AS3.cast(com.coremedia.elastic.social.studio.actions.MetadataToContributionActionAdapter,{});AS3.setBindable(es_MetadataToContributionActionAdapter_20_5_$1,
"metadataVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.preview.PreviewPanelBase.CURRENT_PREVIEW_METADATA_SELECTION_VARIABLE_NAME));var es_ApproveCommentAction_23_9_$1=AS3.cast(com.coremedia.elastic.social.studio.actions.ApproveCommentAction,{});AS3.setBindable(es_ApproveCommentAction_23_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","btn_approve")));AS3.setBindable(es_MetadataToContributionActionAdapter_20_5_$1,
"backingAction",new com.coremedia.elastic.social.studio.actions.ApproveCommentAction(es_ApproveCommentAction_23_9_$1));config_$1.baseAction=new com.coremedia.elastic.social.studio.actions.MetadataToContributionActionAdapter(es_MetadataToContributionActionAdapter_20_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$PoKc(config_$1)}return{extend:"Ext.menu.Item",alias:"widget.com.coremedia.elastic.social.studio.config.approveCommentMenuItem",constructor:ApproveCommentMenuItem$,super$PoKc:function(){Ext.menu.Item.prototype.constructor.apply(this,
arguments)},requires:["Ext.menu.Item","com.coremedia.cms.editor.sdk.preview.PreviewPanelBase","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.actions.ApproveCommentAction","com.coremedia.elastic.social.studio.actions.MetadataToContributionActionAdapter"]}});Ext.define("com.coremedia.elastic.social.studio.moderation.ShowInModerationMenuItem",function(ShowInModerationMenuItem){function ShowInModerationMenuItem$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.menu.Item,{});var defaults_$1=AS3.cast(ShowInModerationMenuItem,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var es_MetadataToContributionActionAdapter_20_5_$1=AS3.cast(com.coremedia.elastic.social.studio.actions.MetadataToContributionActionAdapter,{});AS3.setBindable(es_MetadataToContributionActionAdapter_20_5_$1,
"metadataVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.preview.PreviewPanelBase.CURRENT_PREVIEW_METADATA_SELECTION_VARIABLE_NAME));var es_ShowInModerationAction_23_9_$1=AS3.cast(com.coremedia.elastic.social.studio.actions.ShowInModerationAction,{});AS3.setBindable(es_ShowInModerationAction_23_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","action_showInModerationAction_text")));AS3.setBindable(es_ShowInModerationAction_23_9_$1,
"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","action_showInModerationAction_icon")));AS3.setBindable(es_MetadataToContributionActionAdapter_20_5_$1,"backingAction",new com.coremedia.elastic.social.studio.actions.ShowInModerationAction(es_ShowInModerationAction_23_9_$1));config_$1.baseAction=new com.coremedia.elastic.social.studio.actions.MetadataToContributionActionAdapter(es_MetadataToContributionActionAdapter_20_5_$1);
net.jangaroo.ext.Exml.apply(config_$1,config);this.super$nqmS(config_$1)}return{extend:"Ext.menu.Item",alias:"widget.com.coremedia.elastic.social.studio.config.showInModerationMenuItem",constructor:ShowInModerationMenuItem$,super$nqmS:function(){Ext.menu.Item.prototype.constructor.apply(this,arguments)},requires:["Ext.menu.Item","com.coremedia.cms.editor.sdk.preview.PreviewPanelBase","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.actions.MetadataToContributionActionAdapter",
"com.coremedia.elastic.social.studio.actions.ShowInModerationAction"]}});Ext.define("com.coremedia.elastic.social.studio.usermanagement.list.UserSearchBar",function(UserSearchBar){function UserSearchBar$(config){var this$=this;if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.usermanagement.list.UserSearchBarBase,{});var defaults_$1=AS3.cast(UserSearchBar,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.WINDOW_HEADER.getSkin());config_$1.itemId=
net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.list.UserSearchBarBase.USER_SEARCH_BAR_ID);var layout_HBox_38_5_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(config_$1,"layout",layout_HBox_38_5_$1);var ui_IconButton_41_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});AS3.setBindable(ui_IconButton_41_5_$1,"scale","medium");ui_IconButton_41_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.INVERTED.getSkin());AS3.setBindable(ui_IconButton_41_5_$1,
"tooltip",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userlist_btn_back"));AS3.setBindable(ui_IconButton_41_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userlist_btn_back")));AS3.setBindable(ui_IconButton_41_5_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","backward")));AS3.setBindable(ui_IconButton_41_5_$1,
"disabled",false);ui_IconButton_41_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.list.UserSearchBarBase.BACK_BUTTON_ITEM_ID);AS3.setBindable(ui_IconButton_41_5_$1,"handler",AS3.bind(this,"back"));var ui_UpdateEnabledPlugin_50_9_$1=AS3.cast(com.coremedia.ui.plugins.UpdateEnabledPlugin,{});AS3.setBindable(ui_UpdateEnabledPlugin_50_9_$1,"valueExpression",this.getBackwardValueExpression(AS3.getBindable(config,"moderation").getUserAdministration()));ui_IconButton_41_5_$1.plugins=
[ui_UpdateEnabledPlugin_50_9_$1];var ui_IconButton_53_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});AS3.setBindable(ui_IconButton_53_5_$1,"scale","medium");ui_IconButton_53_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.INVERTED.getSkin());AS3.setBindable(ui_IconButton_53_5_$1,"tooltip",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userlist_btn_forward"));AS3.setBindable(ui_IconButton_53_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"userlist_btn_forward")));AS3.setBindable(ui_IconButton_53_5_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","forward")));AS3.setBindable(ui_IconButton_53_5_$1,"disabled",false);ui_IconButton_53_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.list.UserSearchBarBase.FORWARD_BUTTON_ITEM_ID);AS3.setBindable(ui_IconButton_53_5_$1,"handler",AS3.bind(this,"forward"));var ui_UpdateEnabledPlugin_62_9_$1=
AS3.cast(com.coremedia.ui.plugins.UpdateEnabledPlugin,{});AS3.setBindable(ui_UpdateEnabledPlugin_62_9_$1,"valueExpression",this.getForwardValueExpression(AS3.getBindable(config,"moderation").getUserAdministration()));ui_IconButton_53_5_$1.plugins=[ui_UpdateEnabledPlugin_62_9_$1];var es_SearchField_65_5_$1=AS3.cast(com.coremedia.elastic.social.studio.usermanagement.list.SearchField,{});es_SearchField_65_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.list.UserSearchBarBase.SEARCH_FIELD_ID);
AS3.setBindable(es_SearchField_65_5_$1,"moderation",AS3.getBindable(config,"moderation"));es_SearchField_65_5_$1.flex=1;es_SearchField_65_5_$1["lastQuery"]="";AS3.setBindable(es_SearchField_65_5_$1,"hideTrigger",true);AS3.setBindable(es_SearchField_65_5_$1,"emptyText",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userlist_search_bar_empty_text")));es_SearchField_65_5_$1.suggestionSegment=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.list.UserSearchBarBase.SUGGESTION_SEGMENT);
es_SearchField_65_5_$1.selectOnTab=false;es_SearchField_65_5_$1.autoSelect=false;es_SearchField_65_5_$1.enableKeyEvents=false;es_SearchField_65_5_$1.queryMode="remote";es_SearchField_65_5_$1.triggerAction="all";es_SearchField_65_5_$1.minChars=1;es_SearchField_65_5_$1.pageSize=0;es_SearchField_65_5_$1.queryDelay=200;es_SearchField_65_5_$1.queryParam="query";es_SearchField_65_5_$1.selectOnFocus=true;es_SearchField_65_5_$1.collapseOnSelect=true;AS3.setBindable(es_SearchField_65_5_$1,"displayField",net.jangaroo.ext.Exml.asString(com.coremedia.cap.content.search.SearchSuggestionsParameters.SUGGESTION_VALUE));
es_SearchField_65_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.TextfieldSkin.WINDOW_HEADER.getSkin());var object_86_9_$1={};object_86_9_$1.specialkey=function(field,e){if(e.getKey()===e.ENTER){e.stopPropagation();e.preventDefault();this$.search()}};object_86_9_$1.select=function(field,e){this$.search()};AS3.setBindable(es_SearchField_65_5_$1,"listeners",object_86_9_$1);var ui_IconButton_96_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});AS3.setBindable(ui_IconButton_96_5_$1,
"tooltip",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userlist_btn_search"));AS3.setBindable(ui_IconButton_96_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userlist_btn_search")));AS3.setBindable(ui_IconButton_96_5_$1,"scale","small");ui_IconButton_96_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.INVERTED.getSkin());AS3.setBindable(ui_IconButton_96_5_$1,
"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","search")));AS3.setBindable(ui_IconButton_96_5_$1,"disabled",false);ui_IconButton_96_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.list.UserSearchBarBase.MAGNIFIER_BUTTON_ITEM_ID);AS3.setBindable(ui_IconButton_96_5_$1,"handler",AS3.bind(this,"search"));config_$1.items=[ui_IconButton_41_5_$1,ui_IconButton_53_5_$1,es_SearchField_65_5_$1,ui_IconButton_96_5_$1];
net.jangaroo.ext.Exml.apply(config_$1,config);this.super$nu6g(config_$1)}return{extend:"com.coremedia.elastic.social.studio.usermanagement.list.UserSearchBarBase",alias:"widget.com.coremedia.elastic.social.studio.config.userSearchBar",constructor:UserSearchBar$,super$nu6g:function(){com.coremedia.elastic.social.studio.usermanagement.list.UserSearchBarBase.prototype.constructor.apply(this,arguments)},config:{moderation:null,isDetailWindowOpenedViaList:null},requires:["Ext.layout.container.HBox","com.coremedia.cap.content.search.SearchSuggestionsParameters",
"com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.elastic.social.studio.usermanagement.list.UserSearchBarBase","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.components.IconButton","com.coremedia.ui.plugins.UpdateEnabledPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.TextfieldSkin","com.coremedia.ui.skins.ToolbarSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.usermanagement.list.SearchField"]}});Ext.define("com.coremedia.elastic.social.studio.usermanagement.list.UserListContainerBase",function(UserListContainerBase){function UserListContainerBase$(config){if(arguments.length<=0)config=null;this.super$hMHJ(config)}function getUserList(){return AS3.as(this.queryById(UserListContainerBase.SEARCH_RESULT_VIEW_ITEM_ID),com.coremedia.elastic.social.studio.usermanagement.list.UserList)}function getSearchBar(){return AS3.as(this.queryById(UserListContainerBase.SEARCH_BAR_ITEM_ID),com.coremedia.elastic.social.studio.usermanagement.list.UserSearchBar)}
return{extend:"Ext.panel.Panel",constructor:UserListContainerBase$,super$hMHJ:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},getUserList:getUserList,getSearchBar:getSearchBar,statics:{SEARCH_BAR_ITEM_ID:"searchBar",SEARCH_RESULT_VIEW_ITEM_ID:"searchResult"},requires:["Ext.panel.Panel"],uses:["com.coremedia.elastic.social.studio.usermanagement.list.UserList","com.coremedia.elastic.social.studio.usermanagement.list.UserSearchBar"]}});Ext.define("com.coremedia.elastic.social.studio.usermanagement.list.ImageGridColumnRenderer",function(ImageGridColumnRenderer){var BLOCK$static;function BLOCK$static_(){BLOCK$static=new com.coremedia.ui.models.bem.BEMBlock("cm-image-grid-column")}var ELEMENT_THUMBNAIL$static;function ELEMENT_THUMBNAIL$static_(){ELEMENT_THUMBNAIL$static=BLOCK$static.createElement("thumbnail")}var MODIFIER_EMPTY$static;function MODIFIER_EMPTY$static_(){MODIFIER_EMPTY$static=BLOCK$static.createModifier("empty")}function thumbnailFor$static(uri){if(!uri)return ImageGridColumnRenderer.emptyThumbnail();
return'\x3cdiv class\x3d"'+BLOCK$static+'"\x3e'+'\x3cimg class\x3d"'+ELEMENT_THUMBNAIL$static+'" src\x3d"'+uri+'" /\x3e\x3c/div\x3e'}function emptyThumbnail$static(){return'\x3cdiv class\x3d"'+BLOCK$static+" "+MODIFIER_EMPTY$static+'"\x3e\x3c/div\x3e'}function ImageGridColumnRenderer$(){}return{constructor:ImageGridColumnRenderer$,statics:{BLOCK:undefined,ELEMENT_THUMBNAIL:undefined,MODIFIER_EMPTY:undefined,thumbnailFor:thumbnailFor$static,emptyThumbnail:emptyThumbnail$static,__initStatics__:function(){BLOCK$static_();
ELEMENT_THUMBNAIL$static_();MODIFIER_EMPTY$static_()}},requires:["com.coremedia.ui.models.bem.BEMBlock"]}});Ext.define("com.coremedia.elastic.social.studio.usermanagement.list.UserListBase",function(UserListBase){function UserListBase$(config){if(arguments.length<=0)config=null;this.moderation$N81G=AS3.getBindable(config,"moderation");this.userAdministration$N81G=AS3.getBindable(config,"moderation").getUserAdministration();this.userStateValueExpression$N81G=this.getEditedUserValueExpression(AS3.getBindable(config,"moderation")).extendBy(com.coremedia.elastic.social.studio.model.UserPropertyNames.STATE);
this.userStateValueExpression$N81G.addChangeListener(AS3.bind(this,"removeAnonymizededUser$N81G"));this.super$N81G(config);this.addListener("rowdblclick",AS3.bind(this,"doubleClick$N81G"))}function initSelection(){var user=this.getEditedUserValueExpression(this.moderation$N81G).getValue();AS3.as(this.getSelectionModel(),Ext.selection.RowModel).select(com.coremedia.elastic.social.studio.model.utils.ElasticUtils.findBeanRecordIndex(this.getStore(),user))}function afterRender(){Ext.grid.Panel.prototype.afterRender.call(this);
var loadMaskCfg=AS3.cast(Ext.LoadMask,{target:this});loadMaskCfg.msg=this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userlist_search_loading_text");this.loadMask$N81G=new Ext.LoadMask(loadMaskCfg);this.loadMask$N81G.disable()}function setBusy(busy){var this$=this;if(busy)this.loadMask$N81G.show();else com.coremedia.ui.util.EventUtil.invokeLater(function(){this$.loadMask$N81G.hide()})}function beforeDestroy(){this.userStateValueExpression$N81G.removeChangeListener(AS3.bind(this,
"removeAnonymizededUser$N81G"));this.removeListener("rowdblclick",AS3.bind(this,"doubleClick$N81G"));Ext.grid.Panel.prototype.beforeDestroy.call(this)}function doubleClick(grid,rowElement){this.userAdministration$N81G.set(com.coremedia.elastic.social.studio.model.UserAdministrationPropertyNames.EDITED,null);this.userAdministration$N81G.startEditing(AS3.cast(com.coremedia.elastic.social.studio.model.User,rowElement.getBean()));this.openUserDetailView(true,this.userAdministration$N81G)}function removeAnonymizededUser(){if(this.userAdministration$N81G.hasEdited()){var author=
this.userAdministration$N81G.getEdited();if(author.isAnonymous())this.userAdministration$N81G.removeFromSearchResult(author)}}function nameRenderer$static(value,metaData,record,rowIndex,colIndex,store){var givenName=record.data.givenName?record.data.givenName:"";var surName=record.data.surName?record.data.surName:"";return Ext.util.Format.htmlEncode(givenName+" "+surName)}function imageRenderer$static(blob){var blobUri;if(blob)blobUri=blob.getUri();return com.coremedia.elastic.social.studio.usermanagement.list.ImageGridColumnRenderer.thumbnailFor(blobUri)}
function stateRenderer$static(value){var state=value;if(value){state=value.toLowerCase();state=state.replace("-","_");return mx.resources.ResourceManager.getInstance().getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userlist_state_"+state)}return""}function getEditedUserValueExpression(moderation){if(!this.editedUserValueExpression$N81G)this.editedUserValueExpression$N81G=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.UserAdministrationPropertyNames.EDITED,
moderation.getUserAdministration());return this.editedUserValueExpression$N81G}function getSearchResultValueExpression(moderation){if(!this.searchResultValueExpression$N81G)this.searchResultValueExpression$N81G=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.UserAdministrationPropertyNames.SEARCH_RESULT,moderation.getUserAdministration());return this.searchResultValueExpression$N81G}return{extend:"Ext.grid.Panel",userStateValueExpression$N81G:null,searchResultValueExpression$N81G:null,
editedUserValueExpression$N81G:null,userAdministration$N81G:null,loadMask$N81G:null,moderation$N81G:null,constructor:UserListBase$,super$N81G:function(){Ext.grid.Panel.prototype.constructor.apply(this,arguments)},initSelection:initSelection,afterRender:afterRender,setBusy:setBusy,beforeDestroy:beforeDestroy,doubleClick$N81G:doubleClick,removeAnonymizededUser$N81G:removeAnonymizededUser,getEditedUserValueExpression:getEditedUserValueExpression,getSearchResultValueExpression:getSearchResultValueExpression,
statics:{nameRenderer:nameRenderer$static,imageRenderer:imageRenderer$static,stateRenderer:stateRenderer$static},requires:["Ext.LoadMask","Ext.grid.Panel","Ext.selection.RowModel","Ext.util.Format","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.util.EventUtil","mx.resources.ResourceManager"],uses:["com.coremedia.elastic.social.studio.model.User","com.coremedia.elastic.social.studio.model.UserAdministrationPropertyNames",
"com.coremedia.elastic.social.studio.model.UserPropertyNames","com.coremedia.elastic.social.studio.model.utils.ElasticUtils","com.coremedia.elastic.social.studio.usermanagement.list.ImageGridColumnRenderer"]}});Ext.define("com.coremedia.elastic.social.studio.usermanagement.list.UserList",function(UserList){function UserList$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.usermanagement.list.UserListBase,{});var defaults_$1=AS3.cast(UserList,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.autoShow=true;var ui_BindListPlugin_32_5_$1=AS3.cast(com.coremedia.ui.plugins.BindListPlugin,{});var data_AutoField_34_9_$1=AS3.cast(Ext.data.field.Field,
{});data_AutoField_34_9_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.UserPropertyNames.EMAIL);var data_AutoField_35_9_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_35_9_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.UserPropertyNames.GIVENNAME);var data_AutoField_36_9_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_36_9_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.UserPropertyNames.IMAGE);
var data_AutoField_37_9_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_37_9_$1.name="imageUrl";data_AutoField_37_9_$1.mapping="image.uri";var data_AutoField_39_9_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_39_9_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.UserPropertyNames.SURNAME);var data_AutoField_40_9_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_40_9_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.UserPropertyNames.NAME);
var data_AutoField_41_9_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_41_9_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.UserPropertyNames.STATE);AS3.setBindable(ui_BindListPlugin_32_5_$1,"fields",[data_AutoField_34_9_$1,data_AutoField_35_9_$1,data_AutoField_36_9_$1,data_AutoField_37_9_$1,data_AutoField_39_9_$1,data_AutoField_40_9_$1,data_AutoField_41_9_$1]);var ui_ValueExpression_44_9_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_44_9_$1,
"expression",net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.UserAdministrationPropertyNames.SEARCH_RESULT));AS3.setBindable(ui_ValueExpression_44_9_$1,"context",AS3.getBindable(config,"moderation").getUserAdministration());AS3.setBindable(ui_BindListPlugin_32_5_$1,"bindTo",new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_44_9_$1));var es_AnonymousUserFilterPlugin_49_5_$1=AS3.cast(com.coremedia.elastic.social.studio.plugins.AnonymousUserFilterPlugin,{});AS3.setBindable(es_AnonymousUserFilterPlugin_49_5_$1,
"valueExpression",this.getSearchResultValueExpression(AS3.getBindable(config,"moderation")));config_$1.plugins=[ui_BindListPlugin_32_5_$1,es_AnonymousUserFilterPlugin_49_5_$1];var gridColumn_52_5_$1=AS3.cast(Ext.grid.column.Column,{});gridColumn_52_5_$1.stateId="image";gridColumn_52_5_$1.header=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userlist_grid_column_image"));gridColumn_52_5_$1.sortable=false;gridColumn_52_5_$1.dataIndex=
net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.UserPropertyNames.IMAGE);gridColumn_52_5_$1.menuDisabled=true;gridColumn_52_5_$1.renderer=com.coremedia.elastic.social.studio.usermanagement.list.UserListBase.imageRenderer;AS3.setBindable(gridColumn_52_5_$1,"width",55);var gridColumn_59_5_$1=AS3.cast(Ext.grid.column.Column,{});gridColumn_59_5_$1.stateId="username";gridColumn_59_5_$1.header=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"userlist_grid_column_username"));gridColumn_59_5_$1.sortable=false;gridColumn_59_5_$1.menuDisabled=true;gridColumn_59_5_$1.dataIndex=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.UserPropertyNames.NAME);var gridColumn_64_5_$1=AS3.cast(Ext.grid.column.Column,{});gridColumn_64_5_$1.stateId="name";gridColumn_64_5_$1.header=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userlist_grid_column_name"));
gridColumn_64_5_$1.sortable=false;gridColumn_64_5_$1.menuDisabled=true;gridColumn_64_5_$1.renderer=com.coremedia.elastic.social.studio.usermanagement.list.UserListBase.nameRenderer;AS3.setBindable(gridColumn_64_5_$1,"width",150);var gridColumn_69_5_$1=AS3.cast(Ext.grid.column.Column,{});gridColumn_69_5_$1.stateId="email";gridColumn_69_5_$1.header=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userlist_grid_column_email"));
gridColumn_69_5_$1.sortable=false;gridColumn_69_5_$1.dataIndex=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.UserPropertyNames.EMAIL);gridColumn_69_5_$1.menuDisabled=true;gridColumn_69_5_$1.flex=1;var gridColumn_75_5_$1=AS3.cast(Ext.grid.column.Column,{});gridColumn_75_5_$1.stateId="state";gridColumn_75_5_$1.header=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userlist_grid_column_state"));
gridColumn_75_5_$1.sortable=false;gridColumn_75_5_$1.dataIndex=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.UserPropertyNames.STATE);gridColumn_75_5_$1.menuDisabled=true;gridColumn_75_5_$1.renderer=com.coremedia.elastic.social.studio.usermanagement.list.UserListBase.stateRenderer;AS3.setBindable(gridColumn_75_5_$1,"width",95);config_$1.columns=[gridColumn_52_5_$1,gridColumn_59_5_$1,gridColumn_64_5_$1,gridColumn_69_5_$1,gridColumn_75_5_$1];var selection_RowModel_84_5_$1=
AS3.cast(Ext.selection.RowModel,{});selection_RowModel_84_5_$1.mode="MULTI";config_$1.selModel=new Ext.selection.RowModel(selection_RowModel_84_5_$1);var gridView_87_5_$1=AS3.cast(Ext.view.Table,{});gridView_87_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.TableViewSkin.LIGHT.getSkin());AS3.setBindable(gridView_87_5_$1,"emptyText",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userlist_empty")));gridView_87_5_$1.deferEmptyText=
false;gridView_87_5_$1.loadMask=true;gridView_87_5_$1.stripeRows=true;config_$1["viewConfig"]=gridView_87_5_$1;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$78pV(config_$1)}return{extend:"com.coremedia.elastic.social.studio.usermanagement.list.UserListBase",alias:"widget.com.coremedia.elastic.social.studio.config.userList",constructor:UserList$,super$78pV:function(){com.coremedia.elastic.social.studio.usermanagement.list.UserListBase.prototype.constructor.apply(this,arguments)},config:{moderation:null,
openUserDetailView:null},requires:["Ext.data.field.Field","Ext.grid.column.Column","Ext.selection.RowModel","Ext.view.Table","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.elastic.social.studio.usermanagement.list.UserListBase","com.coremedia.ui.exml.ValueExpression","com.coremedia.ui.plugins.BindListPlugin","com.coremedia.ui.skins.TableViewSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.model.UserAdministrationPropertyNames","com.coremedia.elastic.social.studio.model.UserPropertyNames",
"com.coremedia.elastic.social.studio.plugins.AnonymousUserFilterPlugin"]}});Ext.define("com.coremedia.elastic.social.studio.usermanagement.list.UserListContainer",function(UserListContainer){function UserListContainer$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.usermanagement.list.UserListContainerBase,{});var defaults_$1=AS3.cast(UserListContainer,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var es_UserSearchBar_26_5_$1=AS3.cast(com.coremedia.elastic.social.studio.usermanagement.list.UserSearchBar,
{});es_UserSearchBar_26_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.list.UserListContainerBase.SEARCH_BAR_ITEM_ID);AS3.setBindable(es_UserSearchBar_26_5_$1,"moderation",AS3.getBindable(config,"moderation"));AS3.setBindable(es_UserSearchBar_26_5_$1,"isDetailWindowOpenedViaList",AS3.getBindable(config,"isDetailWindowOpenedViaList"));config_$1.tbar=es_UserSearchBar_26_5_$1;var es_UserList_32_5_$1=AS3.cast(com.coremedia.elastic.social.studio.usermanagement.list.UserList,
{});es_UserList_32_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.list.UserListContainerBase.SEARCH_RESULT_VIEW_ITEM_ID);AS3.setBindable(es_UserList_32_5_$1,"moderation",AS3.getBindable(config,"moderation"));AS3.setBindable(es_UserList_32_5_$1,"openUserDetailView",AS3.getBindable(config,"openUserDetailView"));config_$1.items=[es_UserList_32_5_$1];var layout_Fit_37_5_$1=AS3.cast(Ext.layout.container.Fit,{});AS3.setBindable(config_$1,"layout",layout_Fit_37_5_$1);
net.jangaroo.ext.Exml.apply(config_$1,config);this.super$BUfY(config_$1)}return{extend:"com.coremedia.elastic.social.studio.usermanagement.list.UserListContainerBase",alias:"widget.com.coremedia.elastic.social.studio.config.userListContainer",constructor:UserListContainer$,super$BUfY:function(){com.coremedia.elastic.social.studio.usermanagement.list.UserListContainerBase.prototype.constructor.apply(this,arguments)},config:{moderation:null,isDetailWindowOpenedViaList:null,openUserDetailView:null},
requires:["Ext.layout.container.Fit","com.coremedia.elastic.social.studio.usermanagement.list.UserListContainerBase","net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.usermanagement.list.UserList","com.coremedia.elastic.social.studio.usermanagement.list.UserSearchBar"]}});Ext.define("com.coremedia.elastic.social.studio.usermanagement.list.SearchField",function(SearchField){function SearchField$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.usermanagement.list.SearchFieldBase,{});var defaults_$1=AS3.cast(SearchField,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var store_Json_27_5_$1=AS3.cast(Ext.data.JsonStore,{});AS3.setBindable(store_Json_27_5_$1,"autoDestroy",true);AS3.setBindable(store_Json_27_5_$1,
"autoLoad",true);AS3.setBindable(store_Json_27_5_$1,"proxy",this.getSearchSuggestionsDataProxy(AS3.getBindable(config,"moderation")));var data_AutoField_31_9_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_31_9_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.cap.content.search.SearchSuggestionsParameters.SUGGESTION_VALUE);var data_NumberField_32_9_$1=AS3.cast(Ext.data.field.Number,{});data_NumberField_32_9_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.cap.content.search.SearchSuggestionsParameters.SUGGESTION_COUNT);
AS3.setBindable(store_Json_27_5_$1,"fields",[data_AutoField_31_9_$1,data_NumberField_32_9_$1]);AS3.setBindable(config_$1,"store",new Ext.data.JsonStore(store_Json_27_5_$1));var boundList_38_5_$1=AS3.cast(Ext.view.BoundList,{});boundList_38_5_$1.loadingText=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userlist_search_bar_loading_text"));boundList_38_5_$1.itemTpl=com.coremedia.elastic.social.studio.usermanagement.list.SearchFieldBase.autoSuggestResultTpl;
boundList_38_5_$1.itemSelector="div";boundList_38_5_$1["navigationModel"]=AS3.cast(com.coremedia.elastic.social.studio.usermanagement.list.SearchFieldKeyNav,{});config_$1.listConfig=boundList_38_5_$1;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$2kAS(config_$1)}return{extend:"com.coremedia.elastic.social.studio.usermanagement.list.SearchFieldBase",alias:"widget.com.coremedia.elastic.social.studio.config.searchField",constructor:SearchField$,super$2kAS:function(){com.coremedia.elastic.social.studio.usermanagement.list.SearchFieldBase.prototype.constructor.apply(this,
arguments)},suggestionSegment:null,config:{moderation:null},requires:["Ext.data.JsonStore","Ext.data.field.Field","Ext.data.field.Number","Ext.view.BoundList","com.coremedia.cap.content.search.SearchSuggestionsParameters","com.coremedia.elastic.social.studio.usermanagement.list.SearchFieldBase","net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.usermanagement.list.SearchFieldKeyNav"]}});Ext.define("com.coremedia.elastic.social.studio.usermanagement.list.UserSearchBarBase",function(UserSearchBarBase){function UserSearchBarBase$(config){if(arguments.length<=0)config=null;this.super$cXUR(config);this.userAdministration$cXUR=AS3.getBindable(config,"moderation").getUserAdministration()}function search(newSearch){if(arguments.length<=0)newSearch=true;var trim=/^\s+|\s+$/g;var searchTerm=this.getSearchField$cXUR().getValue();this.setBusy$cXUR(true);if(searchTerm){this.userAdministration$cXUR.search(searchTerm.toString().replace(trim,
""),newSearch,AS3.bind(this,"searchSuccess$cXUR"));this.getSearchField$cXUR().collapse()}else this.userAdministration$cXUR.search("*",newSearch,AS3.bind(this,"searchSuccess$cXUR"))}function setBusy(busy){var parent=AS3.as(this.findParentByType(com.coremedia.elastic.social.studio.usermanagement.list.UserListContainer.xtype),com.coremedia.elastic.social.studio.usermanagement.list.UserListContainer);var userList=parent.getUserList();userList.setBusy(busy)}function searchSuccess(){this.setBusy$cXUR(false)}
function back(){var query=this.userAdministration$cXUR.getSearchHistory().backward()["queryString"];if(query){this.getSearchField$cXUR().setValue(query);this.search(false)}}function forward(){var query=this.userAdministration$cXUR.getSearchHistory().forward()["queryString"];if(query){this.getSearchField$cXUR().setValue(query);this.search(false)}}function getSearchField(){if(!this.searchField$cXUR)this.searchField$cXUR=AS3.as(this.getComponent(UserSearchBarBase.SEARCH_FIELD_ID),Ext.form.field.ComboBox);
return this.searchField$cXUR}function getBackwardValueExpression(userAdmin){if(!this.backwardValueExpression$cXUR)this.backwardValueExpression$cXUR=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.utils.ValueExpressionUtil.createPath([com.coremedia.elastic.social.studio.model.UserAdministrationPropertyNames.SEARCH_HISTORY,com.coremedia.elastic.social.studio.model.HistoryPropertyNames.BACKWARD_ENABLED]),userAdmin);return this.backwardValueExpression$cXUR}
function getForwardValueExpression(userAdmin){if(!this.forwardValueExpression$cXUR)this.forwardValueExpression$cXUR=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.utils.ValueExpressionUtil.createPath([com.coremedia.elastic.social.studio.model.UserAdministrationPropertyNames.SEARCH_HISTORY,com.coremedia.elastic.social.studio.model.HistoryPropertyNames.FORWARD_ENABLED]),userAdmin);return this.forwardValueExpression$cXUR}return{extend:"Ext.toolbar.Toolbar",
searchField$cXUR:null,backwardValueExpression$cXUR:null,forwardValueExpression$cXUR:null,userAdministration$cXUR:null,constructor:UserSearchBarBase$,super$cXUR:function(){Ext.toolbar.Toolbar.prototype.constructor.apply(this,arguments)},search:search,setBusy$cXUR:setBusy,searchSuccess$cXUR:searchSuccess,back:back,forward:forward,getSearchField$cXUR:getSearchField,getBackwardValueExpression:getBackwardValueExpression,getForwardValueExpression:getForwardValueExpression,statics:{USER_SEARCH_BAR_ID:"cm-elastic-social-user-search-bar",
SEARCH_FIELD_ID:"cm-elastic-social-user-search-field",FORWARD_BUTTON_ITEM_ID:"forward",BACK_BUTTON_ITEM_ID:"back",MAGNIFIER_BUTTON_ITEM_ID:"magnifier",SUGGESTION_SEGMENT:"/user/suggestions"},requires:["Ext.form.field.ComboBox","Ext.toolbar.Toolbar","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.elastic.social.studio.model.HistoryPropertyNames","com.coremedia.elastic.social.studio.model.UserAdministrationPropertyNames","com.coremedia.elastic.social.studio.model.utils.ValueExpressionUtil",
"com.coremedia.elastic.social.studio.usermanagement.list.UserListContainer"]}});Ext.define("com.coremedia.elastic.social.studio.usermanagement.list.SearchFieldKeyNav",function(SearchFieldKeyNav){function SearchFieldKeyNav$(config){if(arguments.length<=0)config=null;this.super$w6m0(config)}function onKeyEnter(event){if(this["view"].highlightedItem)Ext.view.BoundListKeyNav.prototype.callParent.call(this,[event])}return{extend:"Ext.view.BoundListKeyNav",constructor:SearchFieldKeyNav$,super$w6m0:function(){Ext.view.BoundListKeyNav.prototype.constructor.apply(this,arguments)},onKeyEnter:onKeyEnter,
requires:["Ext.view.BoundListKeyNav"]}});Ext.define("com.coremedia.elastic.social.studio.usermanagement.list.SearchFieldBase",function(SearchFieldBase){var lastSearch$static="";function autoSuggestResultTpl$static_(){SearchFieldBase.autoSuggestResultTpl=new Ext.XTemplate('\x3ctpl for\x3d"."\x3e\x3cdiv class\x3d"search-item" style\x3d"font-weight:bold;"\x3e',"{"+com.coremedia.cap.content.search.SearchSuggestionsParameters.SUGGESTION_VALUE+":htmlEncode} ({"+com.coremedia.cap.content.search.SearchSuggestionsParameters.SUGGESTION_COUNT+":htmlEncode})\x3c/span\x3e",
"\x3c/div\x3e\x3c/tpl\x3e")}function SearchFieldBase$(config){this.super$Vw_D(config);this.suggestionSegment$Vw_D=config.suggestionSegment;this.moderation$Vw_D=AS3.getBindable(config,"moderation")}function afterRender(){var this$=this;Ext.form.field.ComboBox.prototype.afterRender.call(this);AS3.as(this.moderation$Vw_D,com.coremedia.elastic.social.studio.model.impl.ModerationImpl).ensureTenantAwareESUriPrefix(function(){this$.tenantAwareUrlPrefixVE$Vw_D=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){return AS3.as(this$.moderation$Vw_D,
com.coremedia.elastic.social.studio.model.impl.ModerationImpl).getTenantAwareESUriPrefix()});this$.updateStoreProxyUrl$Vw_D()});this.tenantAwareUrlPrefixVE$Vw_D.addChangeListener(AS3.bind(this,"updateStoreProxyUrl$Vw_D"));this.focus(false,500);if(lastSearch$static){this.setValue(lastSearch$static);this.selectText(0,lastSearch$static.length)}this.addListener("change",AS3.bind(this,"onChange$Vw_D"))}function onChange(combo,newValue){lastSearch$static=newValue}function getSearchSuggestionsDataProxy(moderation){var this$=
this;if(!this.httpProxy$Vw_D){var reader=AS3.cast(Ext.data.reader.Json,{});AS3.setBindable(reader,"rootProperty",com.coremedia.cap.content.search.SearchSuggestionsParameters.SUGGESTIONS);this.httpProxy$Vw_D=Ext.create(Ext.data.proxy.Ajax,{afterRequest:function(request,success){lastSearch$static=this$.getValue()},method:"GET",url:this.buildStoreProxyUrl$Vw_D(moderation),reader:reader})}return this.httpProxy$Vw_D}function buildStoreProxyUrl(moderation){var uri="";if(AS3.as(moderation,com.coremedia.elastic.social.studio.model.impl.ModerationImpl).getTenantAwareESUriPrefix())uri+=
AS3.as(moderation,com.coremedia.elastic.social.studio.model.impl.ModerationImpl).getTenantAwareESUriPrefix();if(this.suggestionSegment$Vw_D)uri+=this.suggestionSegment$Vw_D;return getValidUri$static(uri)}function updateStoreProxyUrl(){var jsonStore=AS3.as(this.getStore(),Ext.data.JsonStore);var storeUrl=getValidUri$static(this.tenantAwareUrlPrefixVE$Vw_D.getValue()+this.suggestionSegment$Vw_D);AS3.as(AS3.getBindable(jsonStore,"proxy","DUMMY"),Ext.data.proxy.Ajax).setUrl(storeUrl);jsonStore.removeAll()}
function getValidUri$static(path){return com.coremedia.ui.data.impl.RemoteService.APPLICATION_URI.relativize(com.coremedia.ui.data.impl.RemoteService.calculateAbsoluteURI(path)).path}function beforeDestroy(){this.removeListener("change",AS3.bind(this,"onChange$Vw_D"));if(this.tenantAwareUrlPrefixVE$Vw_D)this.tenantAwareUrlPrefixVE$Vw_D.removeChangeListener(AS3.bind(this,"updateStoreProxyUrl$Vw_D"));Ext.form.field.ComboBox.prototype.beforeDestroy.call(this)}return{extend:"Ext.form.field.ComboBox",
tenantAwareUrlPrefixVE$Vw_D:null,moderation$Vw_D:null,suggestionSegment$Vw_D:null,httpProxy$Vw_D:null,constructor:SearchFieldBase$,super$Vw_D:function(){Ext.form.field.ComboBox.prototype.constructor.apply(this,arguments)},afterRender:afterRender,onChange$Vw_D:onChange,getSearchSuggestionsDataProxy:getSearchSuggestionsDataProxy,buildStoreProxyUrl$Vw_D:buildStoreProxyUrl,updateStoreProxyUrl$Vw_D:updateStoreProxyUrl,beforeDestroy:beforeDestroy,statics:{autoSuggestResultTpl:undefined,__initStatics__:function(){autoSuggestResultTpl$static_()}},
requires:["Ext","Ext.XTemplate","Ext.data.JsonStore","Ext.data.proxy.Ajax","Ext.data.reader.Json","Ext.form.field.ComboBox","com.coremedia.cap.content.search.SearchSuggestionsParameters","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.impl.RemoteService"],uses:["com.coremedia.elastic.social.studio.model.impl.ModerationImpl"]}});Ext.define("com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsDataPanelBase",function(UserDetailsDataPanelBase){function UserDetailsDataPanelBase$(config){if(arguments.length<=0)config=null;this.userAdministration$zjNQ=AS3.getBindable(config,"moderation").getUserAdministration();this.getUserImageValueExpression(AS3.getBindable(config,"moderation")).addChangeListener(AS3.bind(this,"toggleUserImageBackground$zjNQ"));this.modified$zjNQ=false;this.super$zjNQ(config)}function afterRender(){Ext.panel.Panel.prototype.afterRender.call(this);
this.toggleUserImageBackground$zjNQ()}function beforeDestroy(){this.userImageValueExpression$zjNQ.removeChangeListener(AS3.bind(this,"toggleUserImageBackground$zjNQ"));Ext.panel.Panel.prototype.beforeDestroy.call(this)}function transformBlobUri$static(blob){if(blob)return blob.getUri();return""}function toggleUserImageBackground(){var image=this.getImage$zjNQ();if(image){var user=this.userAdministration$zjNQ.getEdited();if(user&&user.getImage()){this.queryById(UserDetailsDataPanelBase.NO_IMAGE_ID).hide();
image.show()}else{image.setSrc(Ext.BLANK_IMAGE_URL);image.hide();this.queryById(UserDetailsDataPanelBase.NO_IMAGE_ID).show()}}}function reset(){if(this.getEMailTextField())this.getEMailTextField().clearInvalid();if(this.getUserNameTextField())this.getUserNameTextField().clearInvalid();if(this.modified$zjNQ){this.modified$zjNQ=false;this.fireEvent("modified",true,false)}}function setModified(value){if(!this.modified$zjNQ){this.modified$zjNQ=true;this.fireEvent("modified",false,true)}return value}function setInvalid(propertyName,
message){if(propertyName===com.coremedia.elastic.social.studio.model.UserPropertyNames.NAME)this.getUserNameTextField().markInvalid(message);else if(propertyName===com.coremedia.elastic.social.studio.model.UserPropertyNames.EMAIL)this.getEMailTextField().markInvalid(message)}function trimMail(value){return this.userAdministration$zjNQ.trimMail(value)}function getUserImageValueExpression(moderation){if(!this.userImageValueExpression$zjNQ)this.userImageValueExpression$zjNQ=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.utils.ValueExpressionUtil.createPath([com.coremedia.elastic.social.studio.model.UserAdministrationPropertyNames.EDITED,
com.coremedia.elastic.social.studio.model.UserPropertyNames.IMAGE]),moderation.getUserAdministration());return this.userImageValueExpression$zjNQ}function getExtendedEditedUserValueExpressionPath$static(context,extendBy){if(arguments.length<=1)extendBy=null;return com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.utils.ValueExpressionUtil.createPath([com.coremedia.elastic.social.studio.model.UserAdministrationPropertyNames.EDITED,extendBy]),context.getUserAdministration())}
function getEMailTextField(){if(!this.emailTextField$zjNQ)this.emailTextField$zjNQ=AS3.as(this.queryById(UserDetailsDataPanelBase.EMAIL_FIELD_ITEM_ID),Ext.form.field.Text);return this.emailTextField$zjNQ}function getUserNameTextField(){if(!this.userNameTextField$zjNQ)this.userNameTextField$zjNQ=AS3.as(this.queryById(UserDetailsDataPanelBase.NAME_FIELD_ITEM_ID),Ext.form.field.Text);return this.userNameTextField$zjNQ}function getImage(){if(!this.image$zjNQ)this.image$zjNQ=AS3.as(this.queryById(UserDetailsDataPanelBase.IMAGE_ID),
com.coremedia.ui.components.ImageComponent);return this.image$zjNQ}return{extend:"Ext.panel.Panel",userAdministration$zjNQ:null,userImageValueExpression$zjNQ:null,emailTextField$zjNQ:null,userNameTextField$zjNQ:null,modified$zjNQ:false,image$zjNQ:null,constructor:UserDetailsDataPanelBase$,super$zjNQ:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},afterRender:afterRender,beforeDestroy:beforeDestroy,toggleUserImageBackground$zjNQ:toggleUserImageBackground,reset:reset,setModified:setModified,
setInvalid:setInvalid,trimMail:trimMail,getUserImageValueExpression:getUserImageValueExpression,getEMailTextField:getEMailTextField,getUserNameTextField:getUserNameTextField,getImage$zjNQ:getImage,statics:{NAME_FIELD_ITEM_ID:"cm-userdetails-panel-name",GIVEN_NAME_FIELD_ITEM_ID:"cm-userdetails-panel-givenname",SURNAME_FIELD_ITEM_ID:"cm-userdetails-panel-surname",EMAIL_FIELD_ITEM_ID:"cm-userdetails-panel-email",IMAGE_ID:"image",NO_IMAGE_ID:"no-image",REMOVE_PROFILE_IMAGE_BUTTON_ITEM_ID:"cm-elastic-social-user-detail-remove-image-button",
transformBlobUri:transformBlobUri$static,getExtendedEditedUserValueExpressionPath:getExtendedEditedUserValueExpressionPath$static},requires:["Ext","Ext.form.field.Text","Ext.panel.Panel","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.ui.components.ImageComponent","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.elastic.social.studio.model.UserAdministrationPropertyNames","com.coremedia.elastic.social.studio.model.UserPropertyNames","com.coremedia.elastic.social.studio.model.utils.ValueExpressionUtil"]}});Ext.define("com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsExtensionPointBase",function(UserDetailsExtensionPointBase){function UserDetailsExtensionPointBase$(config){if(arguments.length<=0)config=null;this.super$TEpp(config)}function afterRender(){Ext.container.Container.prototype.afterRender.call(this);if(!this.hasExtensions())this.hide()}function hasExtensions(){return this.getExtensionContainer$TEpp().itemCollection.length>1}function getExtensionContainer(){if(!this.extensions$TEpp)this.extensions$TEpp=
AS3.as(this.getComponent(UserDetailsExtensionPointBase.EXTENSION_CONTAINER_ITEM_ID),Ext.container.Container);return this.extensions$TEpp}return{extend:"Ext.container.Container",extensions$TEpp:null,constructor:UserDetailsExtensionPointBase$,super$TEpp:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},afterRender:afterRender,hasExtensions:hasExtensions,getExtensionContainer$TEpp:getExtensionContainer,statics:{EXTENSION_CONTAINER_ITEM_ID:"extensionContainer"},requires:["Ext.container.Container"]}});Ext.define("com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsDataPanel",function(UserDetailsDataPanel){function UserDetailsDataPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsDataPanelBase,{});var defaults_$1=AS3.cast(UserDetailsDataPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.PanelSkin.GRID_200.getSkin());
AS3.setBindable(config_$1,"minHeight",140);var layout_HBox_34_5_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(config_$1,"layout",layout_HBox_34_5_$1);var container_37_5_$1=AS3.cast(Ext.container.Container,{});var container_39_9_$1=AS3.cast(Ext.container.Container,{});container_39_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.FRAME_GRID_200);container_39_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsDataPanelBase.NO_IMAGE_ID);
AS3.setBindable(container_39_9_$1,"width",120);AS3.setBindable(container_39_9_$1,"height",110);var layout_Center_44_13_$1=AS3.cast(Ext.layout.container.Center,{});AS3.setBindable(container_39_9_$1,"layout",layout_Center_44_13_$1);var ui_IconDisplayField_47_13_$1=AS3.cast(com.coremedia.ui.components.IconDisplayField,{});ui_IconDisplayField_47_13_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.IconDisplayFieldSkin.DOUBLE.getSkin());AS3.setBindable(ui_IconDisplayField_47_13_$1,"iconCls",
net.jangaroo.ext.Exml.asString(com.coremedia.icons.CoreIcons_properties.INSTANCE.user));container_39_9_$1.items=[ui_IconDisplayField_47_13_$1];var container_51_9_$1=AS3.cast(Ext.container.Container,{});var layout_VBox_53_13_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(container_51_9_$1,"layout",layout_VBox_53_13_$1);var ui_Image_56_13_$1=AS3.cast(com.coremedia.ui.components.Image,{});ui_Image_56_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsDataPanelBase.IMAGE_ID);
AS3.setBindable(ui_Image_56_13_$1,"maxWidth",90);AS3.setBindable(ui_Image_56_13_$1,"margin","0 30 0 0");AS3.setBindable(ui_Image_56_13_$1,"maxHeight",90);var ui_BindPropertyPlugin_61_17_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_61_17_$1.componentProperty="src";ui_BindPropertyPlugin_61_17_$1.bindTo=com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsDataPanelBase.getExtendedEditedUserValueExpressionPath(AS3.getBindable(config,"moderation"),
com.coremedia.elastic.social.studio.model.UserPropertyNames.IMAGE);ui_BindPropertyPlugin_61_17_$1.reverseTransformer=AS3.bind(this,"setModified");ui_BindPropertyPlugin_61_17_$1.transformer=com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsDataPanelBase.transformBlobUri;ui_BindPropertyPlugin_61_17_$1.bidirectional=true;ui_Image_56_13_$1.plugins=[ui_BindPropertyPlugin_61_17_$1];var button_68_13_$1=AS3.cast(Ext.button.Button,{});button_68_13_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE.getSkin());
AS3.setBindable(button_68_13_$1,"scale","small");AS3.setBindable(button_68_13_$1,"margin","0 0 0 -10");button_68_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsDataPanelBase.REMOVE_PROFILE_IMAGE_BUTTON_ITEM_ID);AS3.setBindable(button_68_13_$1,"tooltip",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_delete_image_message_tooltip"));AS3.setBindable(button_68_13_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"userdetail_delete_image_message_title")));var es_DeleteUserImageAction_75_17_$1=AS3.cast(com.coremedia.elastic.social.studio.usermanagement.actions.DeleteUserImageAction,{});AS3.setBindable(es_DeleteUserImageAction_75_17_$1,"userValueExpression",this.getUserImageValueExpression(AS3.getBindable(config,"moderation")));AS3.setBindable(es_DeleteUserImageAction_75_17_$1,"success",AS3.bind(this,"setModified"));AS3.setBindable(es_DeleteUserImageAction_75_17_$1,"iconCls","");button_68_13_$1.baseAction=new com.coremedia.elastic.social.studio.usermanagement.actions.DeleteUserImageAction(es_DeleteUserImageAction_75_17_$1);
var ui_BindVisibilityPlugin_80_17_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_80_17_$1.bindTo=com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsDataPanelBase.getExtendedEditedUserValueExpressionPath(AS3.getBindable(config,"moderation"),com.coremedia.elastic.social.studio.model.UserPropertyNames.IMAGE);button_68_13_$1.plugins=[ui_BindVisibilityPlugin_80_17_$1];container_51_9_$1.items=[ui_Image_56_13_$1,button_68_13_$1];var ui_VerticalSpacingPlugin_85_13_$1=
AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});container_51_9_$1.plugins=[ui_VerticalSpacingPlugin_85_13_$1];container_37_5_$1.items=[container_39_9_$1,container_51_9_$1];var container_90_5_$1=AS3.cast(Ext.container.Container,{});container_90_5_$1.flex=1;var layout_VBox_92_9_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_92_9_$1,"align","stretch");AS3.setBindable(container_90_5_$1,"layout",layout_VBox_92_9_$1);var textField_95_9_$1=AS3.cast(Ext.form.field.Text,
{});textField_95_9_$1.labelSeparator="";container_90_5_$1["defaultType"]=textField_95_9_$1["xtype"];delete textField_95_9_$1["xtype"];delete textField_95_9_$1["xclass"];container_90_5_$1.defaults=textField_95_9_$1;var textField_98_9_$1=AS3.cast(Ext.form.field.Text,{});textField_98_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsDataPanelBase.NAME_FIELD_ITEM_ID);AS3.setBindable(textField_98_9_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"userdetail_name_field_label")));textField_98_9_$1.checkChangeBuffer=300;var ui_BindPropertyPlugin_102_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_102_13_$1.bindTo=com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsDataPanelBase.getExtendedEditedUserValueExpressionPath(AS3.getBindable(config,"moderation"),com.coremedia.elastic.social.studio.model.UserPropertyNames.NAME);ui_BindPropertyPlugin_102_13_$1.bidirectional=true;ui_BindPropertyPlugin_102_13_$1.ifUndefined=
"";ui_BindPropertyPlugin_102_13_$1.reverseTransformer=AS3.bind(this,"setModified");var es_BeanValidatorPlugin_106_13_$1=AS3.cast(com.coremedia.elastic.social.studio.plugins.BeanValidatorPlugin,{});AS3.setBindable(es_BeanValidatorPlugin_106_13_$1,"property",net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.UserPropertyNames.NAME));es_BeanValidatorPlugin_106_13_$1.bindTo=com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsDataPanelBase.getExtendedEditedUserValueExpressionPath(AS3.getBindable(config,
"moderation"),com.coremedia.elastic.social.studio.model.UserPropertyNames.NAME);textField_98_9_$1.plugins=[ui_BindPropertyPlugin_102_13_$1,es_BeanValidatorPlugin_106_13_$1];var textField_110_9_$1=AS3.cast(Ext.form.field.Text,{});textField_110_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsDataPanelBase.GIVEN_NAME_FIELD_ITEM_ID);AS3.setBindable(textField_110_9_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"userdetail_givenname_field_label")));textField_110_9_$1.checkChangeBuffer=300;var ui_BindPropertyPlugin_114_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_114_13_$1.bindTo=com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsDataPanelBase.getExtendedEditedUserValueExpressionPath(AS3.getBindable(config,"moderation"),com.coremedia.elastic.social.studio.model.UserPropertyNames.GIVENNAME);ui_BindPropertyPlugin_114_13_$1.ifUndefined="";ui_BindPropertyPlugin_114_13_$1.bidirectional=
true;ui_BindPropertyPlugin_114_13_$1.reverseTransformer=AS3.bind(this,"setModified");textField_110_9_$1.plugins=[ui_BindPropertyPlugin_114_13_$1];var textField_120_9_$1=AS3.cast(Ext.form.field.Text,{});textField_120_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsDataPanelBase.SURNAME_FIELD_ITEM_ID);AS3.setBindable(textField_120_9_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"userdetail_surname_field_label")));textField_120_9_$1.checkChangeBuffer=300;var ui_BindPropertyPlugin_124_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_124_13_$1.bindTo=com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsDataPanelBase.getExtendedEditedUserValueExpressionPath(AS3.getBindable(config,"moderation"),com.coremedia.elastic.social.studio.model.UserPropertyNames.SURNAME);ui_BindPropertyPlugin_124_13_$1.ifUndefined="";ui_BindPropertyPlugin_124_13_$1.bidirectional=
true;ui_BindPropertyPlugin_124_13_$1.reverseTransformer=AS3.bind(this,"setModified");textField_120_9_$1.plugins=[ui_BindPropertyPlugin_124_13_$1];var textField_130_9_$1=AS3.cast(Ext.form.field.Text,{});textField_130_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsDataPanelBase.EMAIL_FIELD_ITEM_ID);AS3.setBindable(textField_130_9_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"userdetail_email_field_label")));textField_130_9_$1.allowBlank=false;textField_130_9_$1.checkChangeBuffer=300;var ui_BindPropertyPlugin_135_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_135_13_$1.bindTo=com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsDataPanelBase.getExtendedEditedUserValueExpressionPath(AS3.getBindable(config,"moderation"),com.coremedia.elastic.social.studio.model.UserPropertyNames.EMAIL);ui_BindPropertyPlugin_135_13_$1.bidirectional=
true;ui_BindPropertyPlugin_135_13_$1.ifUndefined="";ui_BindPropertyPlugin_135_13_$1.transformer=AS3.bind(this,"trimMail");ui_BindPropertyPlugin_135_13_$1.reverseTransformer=AS3.bind(this,"setModified");var es_BeanValidatorPlugin_140_13_$1=AS3.cast(com.coremedia.elastic.social.studio.plugins.BeanValidatorPlugin,{});AS3.setBindable(es_BeanValidatorPlugin_140_13_$1,"property",net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.UserPropertyNames.EMAIL));es_BeanValidatorPlugin_140_13_$1.bindTo=
com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsDataPanelBase.getExtendedEditedUserValueExpressionPath(AS3.getBindable(config,"moderation"),com.coremedia.elastic.social.studio.model.UserPropertyNames.EMAIL);textField_130_9_$1.plugins=[ui_BindPropertyPlugin_135_13_$1,es_BeanValidatorPlugin_140_13_$1];container_90_5_$1.items=[textField_98_9_$1,textField_110_9_$1,textField_120_9_$1,textField_130_9_$1];var ui_VerticalSpacingPlugin_146_9_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,
{});container_90_5_$1.plugins=[ui_VerticalSpacingPlugin_146_9_$1];config_$1.items=[container_37_5_$1,container_90_5_$1];var ui_HorizontalSpacingPlugin_151_5_$1=AS3.cast(com.coremedia.ui.plugins.HorizontalSpacingPlugin,{});AS3.setBindable(ui_HorizontalSpacingPlugin_151_5_$1,"modifier",com.coremedia.ui.bem.SpacingBEMEntities.HORIZONTAL_SPACING_MODIFIER_200);config_$1.plugins=[ui_HorizontalSpacingPlugin_151_5_$1];config_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$WpTf(config_$1)}return{extend:"com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsDataPanelBase",alias:"widget.com.coremedia.elastic.social.studio.config.userDetailsDataPanel",constructor:UserDetailsDataPanel$,super$WpTf:function(){com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsDataPanelBase.prototype.constructor.apply(this,arguments)},config:{moderation:null},requires:["Ext.button.Button","Ext.container.Container","Ext.form.field.Text",
"Ext.layout.container.Center","Ext.layout.container.HBox","Ext.layout.container.VBox","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsDataPanelBase","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.bem.SpacingBEMEntities","com.coremedia.ui.components.IconDisplayField","com.coremedia.ui.components.Image","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.BindVisibilityPlugin",
"com.coremedia.ui.plugins.HorizontalSpacingPlugin","com.coremedia.ui.plugins.VerticalSpacingPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.ContainerSkin","com.coremedia.ui.skins.IconDisplayFieldSkin","com.coremedia.ui.skins.PanelSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.model.UserPropertyNames","com.coremedia.elastic.social.studio.plugins.BeanValidatorPlugin","com.coremedia.elastic.social.studio.usermanagement.actions.DeleteUserImageAction"]}});Ext.define("com.coremedia.elastic.social.studio.usermanagement.details.UserWarningContainerBase",function(UserWarningContainerBase){function UserWarningContainerBase$(config){if(arguments.length<=0)config=null;this.super$KgT7(config)}function getStateMessageDisplayField(){if(!this.stateMessageField$KgT7)this.stateMessageField$KgT7=AS3.as(this.queryById(UserWarningContainerBase.STATE_MESSAGES_ITEM_ID),Ext.form.field.Display);return this.stateMessageField$KgT7}function setStatusMessage(msg){this.getStateMessageDisplayField$KgT7().setValue(msg)}
return{extend:"Ext.container.Container",stateMessageField$KgT7:null,constructor:UserWarningContainerBase$,super$KgT7:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},getStateMessageDisplayField$KgT7:getStateMessageDisplayField,setStatusMessage:setStatusMessage,statics:{STATE_MESSAGES_ITEM_ID:"stateMessages"},requires:["Ext.container.Container","Ext.form.field.Display"]}});Ext.define("com.coremedia.elastic.social.studio.usermanagement.details.ChangedProfileConfirmationWindow",function(ChangedProfileConfirmationWindow){function ChangedProfileConfirmationWindow$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.usermanagement.details.ChangedProfileConfirmationWindowBase,{});var defaults_$1=AS3.cast(ChangedProfileConfirmationWindow,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.modal=true;config_$1.stateId=
"changeProfileConfirmationWindowState";AS3.setBindable(config_$1,"stateful",true);config_$1.closeAction="close";config_$1["id"]=com.coremedia.elastic.social.studio.usermanagement.details.ChangedProfileConfirmationWindowBase.ID;config_$1.resizable=false;config_$1.constrainHeader=true;config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.WindowSkin.GRID_200_LIGHT.getSkin());AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"userdetail_confirm_changes_title"));var ui_ExtendedDisplayField_45_5_$1=AS3.cast(com.coremedia.ui.components.ExtendedDisplayField,{});AS3.setBindable(ui_ExtendedDisplayField_45_5_$1,"overflowBehaviour",com.coremedia.ui.mixins.OverflowBehaviour.BREAK_WORD);ui_ExtendedDisplayField_45_5_$1.itemId=net.jangaroo.ext.Exml.asString(ChangedProfileConfirmationWindow.MESSAGE_FIELD_ITEM_ID);AS3.setBindable(ui_ExtendedDisplayField_45_5_$1,"value",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"userdetail_confirm_changes_message"));config_$1.items=[ui_ExtendedDisplayField_45_5_$1];var toolbar_51_5_$1=AS3.cast(Ext.toolbar.Toolbar,{});var displayField_53_9_$1=AS3.cast(Ext.form.field.Display,{});AS3.setBindable(displayField_53_9_$1,"value",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_mail_hint_short"));var tbFill_55_9_$1=AS3.cast(Ext.toolbar.Fill,{});var button_56_9_$1=AS3.cast(Ext.button.Button,{});button_56_9_$1.itemId=net.jangaroo.ext.Exml.asString(ChangedProfileConfirmationWindow.APPLY_BUTTON_ITEM_ID);
button_56_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_PRIMARY.getSkin());AS3.setBindable(button_56_9_$1,"scale","small");AS3.setBindable(button_56_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","btn_apply_with_mail")));AS3.setBindable(button_56_9_$1,"handler",AS3.bind(this,"apply"));var button_61_9_$1=AS3.cast(Ext.button.Button,{});button_61_9_$1.itemId=net.jangaroo.ext.Exml.asString(ChangedProfileConfirmationWindow.DISCARD_BUTTON_ITEM_ID);
button_61_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_SECONDARY.getSkin());AS3.setBindable(button_61_9_$1,"scale","small");AS3.setBindable(button_61_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","btn_discard")));AS3.setBindable(button_61_9_$1,"handler",AS3.bind(this,"discard"));var button_66_9_$1=AS3.cast(Ext.button.Button,{});button_66_9_$1.itemId=net.jangaroo.ext.Exml.asString(ChangedProfileConfirmationWindow.BACK_BUTTON_ITEM_ID);
button_66_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_SECONDARY.getSkin());AS3.setBindable(button_66_9_$1,"scale","small");AS3.setBindable(button_66_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","btn_back_to_profile")));AS3.setBindable(button_66_9_$1,"handler",AS3.bind(this,"cancel"));toolbar_51_5_$1.items=[displayField_53_9_$1,tbFill_55_9_$1,button_56_9_$1,button_61_9_$1,
button_66_9_$1];config_$1.fbar=toolbar_51_5_$1;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$kKtW(config_$1)}return{extend:"com.coremedia.elastic.social.studio.usermanagement.details.ChangedProfileConfirmationWindowBase",alias:"widget.com.coremedia.elastic.social.studio.config.changedProfileConfirmationWindow",constructor:ChangedProfileConfirmationWindow$,super$kKtW:function(){com.coremedia.elastic.social.studio.usermanagement.details.ChangedProfileConfirmationWindowBase.prototype.constructor.apply(this,
arguments)},config:{moderation:null},statics:{APPLY_BUTTON_ITEM_ID:"cm-elastic-social-userdetail-confirm-changes-window-apply-button",DISCARD_BUTTON_ITEM_ID:"cm-elastic-social-userdetail-confirm-changes-window-discard-button",BACK_BUTTON_ITEM_ID:"cm-elastic-social-userdetail-confirm-changes-window-back-button",MESSAGE_FIELD_ITEM_ID:"cm-elastic-social-userdetail-confirm-changes-window-message"},requires:["Ext.button.Button","Ext.form.field.Display","Ext.toolbar.Fill","Ext.toolbar.Toolbar","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties",
"com.coremedia.elastic.social.studio.usermanagement.details.ChangedProfileConfirmationWindowBase","com.coremedia.ui.components.ExtendedDisplayField","com.coremedia.ui.mixins.OverflowBehaviour","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.WindowSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.elastic.social.studio.usermanagement.details.ChangedProfileConfirmationWindowBase",function(ChangedProfileConfirmationWindowBase){function ChangedProfileConfirmationWindowBase$(config){if(arguments.length<=0)config=null;this.super$ljZH(config)}function apply(){this.close();if(this.applyCallback$ljZH)this.applyCallback$ljZH()}function discard(){this.close();if(this.discardCallback$ljZH)this.discardCallback$ljZH()}function cancel(){this.close()}function setApply(applyCallback){this.applyCallback$ljZH=
applyCallback}function setDiscard(discardCallback){this.discardCallback$ljZH=discardCallback}return{extend:"com.coremedia.cms.editor.sdk.components.StudioDialog",applyCallback$ljZH:null,discardCallback$ljZH:null,constructor:ChangedProfileConfirmationWindowBase$,super$ljZH:function(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.constructor.apply(this,arguments)},apply:apply,discard:discard,cancel:cancel,setApply:setApply,setDiscard:setDiscard,statics:{ID:"cm-elastic-social-userdetail-confirm-changes-window"},
requires:["com.coremedia.cms.editor.sdk.components.StudioDialog"]}});Ext.define("com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsPanelBase",function(UserDetailsPanelBase){var EVENT_ANONYMIZED$static="event_anonymized";function UserDetailsPanelBase$(config){this.moderation$ehNa=AS3.getBindable(config,"moderation");this.userAdministration$ehNa=this.moderation$ehNa.getUserAdministration();this.closeUserDetailView$ehNa=AS3.getBindable(config,"closeUserDetailView");this.userValueExpression$ehNa=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.UserAdministrationPropertyNames.EDITED,
this.userAdministration$ehNa);this.userStateValueExpression$ehNa=this.userValueExpression$ehNa.extendBy(com.coremedia.elastic.social.studio.model.UserPropertyNames.STATE);this.userStateValueExpression$ehNa.addChangeListener(AS3.bind(this,"showMailIndicatorAtApproveButton$ehNa"));this.userValueExpression$ehNa.addChangeListener(AS3.bind(this,"refreshStateMessage$ehNa"));this.userStateValueExpression$ehNa.addChangeListener(AS3.bind(this,"refreshStateMessage$ehNa"));this.userValueExpression$ehNa.addChangeListener(AS3.bind(this,
"resetRegistrationMailSentMessage$ehNa"));this.super$ehNa(config)}function afterRender(){Ext.panel.Panel.prototype.afterRender.call(this);this.getStateMessageContainer$ehNa().hide();this.getDetailsChangedValueExpression$ehNa().addChangeListener(AS3.bind(this,"setModifiedDetails"));this.setModifiedDetails(this.getDetailsChangedValueExpression$ehNa());this.userRestrictionModifiedValueExpression$ehNa=com.coremedia.ui.data.ValueExpressionFactory.create("modified",this.getUserRestrictionPanel$ehNa());
this.userRestrictionModifiedValueExpression$ehNa.addChangeListener(AS3.bind(this,"setModifiedRestrictions"));this.addListener("activate",AS3.bind(this,"broadcastActivate$ehNa"))}function beforeDestroy(){this.modifiedDetails$ehNa=false;this.modifiedRestrictionChanges$ehNa=false;this.getDetailsChangedValueExpression$ehNa().removeChangeListener(AS3.bind(this,"setModifiedDetails"));this.userRestrictionModifiedValueExpression$ehNa.removeChangeListener(AS3.bind(this,"setModifiedRestrictions"));this.userValueExpression$ehNa.removeChangeListener(AS3.bind(this,
"refreshStateMessage$ehNa"));this.userStateValueExpression$ehNa.removeChangeListener(AS3.bind(this,"refreshStateMessage$ehNa"));this.userValueExpression$ehNa.removeChangeListener(AS3.bind(this,"resetRegistrationMailSentMessage$ehNa"));this.userStateValueExpression$ehNa.removeChangeListener(AS3.bind(this,"showMailIndicatorAtApproveButton$ehNa"));this.removeListener("activate",AS3.bind(this,"broadcastActivate$ehNa"));Ext.panel.Panel.prototype.beforeDestroy.call(this)}function broadcastActivate(){if(this.getUserToSearchSwitchPanel$ehNa())this.getUserToSearchSwitchPanel$ehNa().refreshStatus();
this.refreshStateMessage$ehNa(false);this.resetRegistrationMailSentMessage$ehNa()}function openEmailEditor(){var emailWindow=AS3.as(Ext.ComponentManager.get("cm-elastic-social-email-window"),com.coremedia.elastic.social.studio.email.EMailWindow);if(emailWindow){emailWindow.setVisible(true);if(AS3.getBindable(emailWindow,"collapsed","DUMMY"))emailWindow.expand(true)}else{emailWindow=Ext.create(com.coremedia.elastic.social.studio.email.EMailWindow,{emailProvider:this.moderation$ehNa.getUserAdministration()});
emailWindow.expand(true);emailWindow.show()}}function anonymized(){this.fireEvent(EVENT_ANONYMIZED$static)}function isModified(){return this.modifiedRestrictionChanges$ehNa||this.modifiedDetails$ehNa}function applyChangesIfNeeded(success){var this$=this;if(this.isModified$ehNa())this.confirmChanges$ehNa(function(){this$.applyChanges(null,null,false,success)},function(){this$.cancel(false);success()});else if(success)success()}function resendRegistrationConfirmation(){var this$=this;var user=this.userAdministration$ehNa.getEdited();
if(user)user.resendRegistrationConfirmation(function(){this$.modifiedDetails$ehNa=false;this$.modifiedRestrictionChanges$ehNa=false;this$.getUserRestrictionPanel$ehNa().resetPanel();this$.getUserRestrictionPanel$ehNa().disableResendRegistrationButton();this$.setRegistrationSentMessage$ehNa();this$.getResendRegistrationMessageDisplayField$ehNa().show();this$.getResendRegistrationMessageDisplayField$ehNa().el.show(true);this$.resendTimer$ehNa=window.setTimeout(function(){this$.getResendRegistrationMessageDisplayField$ehNa().el.hide(true);
window.setTimeout(function(){this$.getResendRegistrationMessageDisplayField$ehNa().hide();this$.getUserRestrictionPanel$ehNa().enableResendRegistrationButton()},1E3)},5E3)},function(messages){this$.resendRegistrationConfirmationFailed$ehNa(messages)})}function refreshStateMessage(afterManualChange){if(arguments.length<=0)afterManualChange=true;var author=this.userAdministration$ehNa.getEdited();if(author&&(author.isBlocked()||author.isIgnored()||author.isRegistrationRequested())){this.setStateMessage$ehNa(author.getContributionState(),
afterManualChange);this.getStateMessageContainer$ehNa().show()}else if(this.getStateMessageContainer$ehNa().isVisible(true))this.getStateMessageContainer$ehNa().hide()}function getDetailsChangedValueExpression(){var this$=this;if(!this.userDetailsChangedValueExpression$ehNa)this.userDetailsChangedValueExpression$ehNa=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var user=AS3.as(this$.userValueExpression$ehNa.getValue(),com.coremedia.elastic.social.studio.model.User);var detailsChanged=
false;if(user)detailsChanged=user.hasLocalModificationValueExpression().getValue()||user.hasStageChanges();return detailsChanged});return this.userDetailsChangedValueExpression$ehNa}function setStateMessage(state,afterManualChange){if(state&&this.userAdministration$ehNa.hasEdited()){var author=this.userAdministration$ehNa.getEdited();var messageTemplate;if(afterManualChange&&!author.isRegistrationRequested())messageTemplate=this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"userdetail_state_message_onchange_"+state.toLowerCase());else messageTemplate=this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_state_message_"+state.toLowerCase());if(messageTemplate)this.getStateMessageContainer$ehNa().setStatusMessage(Ext.String.format(messageTemplate,com.coremedia.ui.util.EncodingUtil.encodeForHTML(author.getName())))}}function setRegistrationSentMessage(){var author=this.userAdministration$ehNa.getEdited();if(author)this.getResendRegistrationMessageDisplayField$ehNa().setValue(Ext.String.format(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"userdetail_resend_reg_confirmation_mail_message"),com.coremedia.ui.util.EncodingUtil.encodeForHTML(author.getName())));return""}function resetRegistrationMailSentMessage(){var this$=this;if(this.resendTimer$ehNa)window.clearTimeout(this.resendTimer$ehNa);this.getUserRestrictionPanel$ehNa().enableResendRegistrationButton();if(this.getResendRegistrationMessageDisplayField$ehNa())this.getResendRegistrationMessageDisplayField$ehNa().el.hide(true);window.setTimeout(function(){if(this$.getResendRegistrationMessageDisplayField$ehNa())this$.getResendRegistrationMessageDisplayField$ehNa().hide()},
500)}function resendRegistrationConfirmationFailed(messages){var this$=this;var message="";var i=1;for(var property in messages){message=message+i++ +") "+this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_validate_"+messages[property])+"\x3cbr/\x3e";this.getUserDetailsDataPanel$ehNa().setInvalid(property,this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_validate_"+messages[property]))}var validationMessageBoxConfig=
AS3.cast(com.coremedia.elastic.social.studio.usermanagement.ValidationMessageBox,{});AS3.setBindable(validationMessageBoxConfig,"title",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_validation_window_title"));AS3.setBindable(validationMessageBoxConfig,"message",message);AS3.setBindable(validationMessageBoxConfig,"discardCallback",function(){this$.cancel(false)});var messageBox=AS3.cast(Ext.window.Window,Ext.ComponentManager.create(validationMessageBoxConfig));
messageBox.expand(true);messageBox.setSize(500,150);messageBox.show()}function cancel(closeUserDetails){if(arguments.length<=0)closeUserDetails=true;this.userAdministration$ehNa.cancelEditing(this.userAdministration$ehNa.getEdited(),null,this.isModified$ehNa());this.resetUserDetailsPanel$ehNa();if(closeUserDetails&&this.closeUserDetailView$ehNa){this.closeUserDetailView$ehNa();this.modifiedDetails$ehNa=false;this.modifiedRestrictionChanges$ehNa=false}}function resetUserDetailsPanel(){var userWindow=
AS3.as(this.findParentByType("window"),Ext.window.Window);if(userWindow){this.getUserDetailsDataPanel$ehNa().reset();this.getUserRestrictionPanel$ehNa().resetPanel();this.getStateMessageContainer$ehNa().hide();this.getStateMessageContainer$ehNa().setStatusMessage(null)}}function anonymizeUser(){var this$=this;var title=mx.resources.ResourceManager.getInstance().getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_delete_user_confirmation_title");var message=Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"userdetail_delete_user_confirmation_message"),Ext.util.Format.htmlEncode(this.userAdministration$ehNa.getEdited().getName()));var confirmationButtonText=mx.resources.ResourceManager.getInstance().getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","btn_confirm");var callback=function(button){if(button==="ok"){var edited=this$.userAdministration$ehNa.getEdited();edited.anonymize(this$.userAdministration$ehNa.getModerationEmail(edited.getDeleteUserMail().getType()),AS3.bind(this$,
"anonymized"))}};com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showConfirmation(title,message,confirmationButtonText,callback,false)}function applyChanges(button,event,closeUserDetails,success){var this$=this;switch(arguments.length){case 0:button=null;case 1:event=null;case 2:closeUserDetails=true;case 3:success=null}var user=this.userAdministration$ehNa.getEdited();if(user)this.userAdministration$ehNa.applyChanges(user,function(){this$.applySucceeded$ehNa(success,closeUserDetails)},function(messages){this$.applyFailed$ehNa(messages,
closeUserDetails)})}function applySucceeded(success,closeUserDetails){this.getUserDetailsDataPanel$ehNa().reset();this.getUserRestrictionPanel$ehNa().resetPanel();this.userAdministration$ehNa.applyChanges();if(closeUserDetails&&this.closeUserDetailView$ehNa)this.closeUserDetailView$ehNa();if(success)success()}function applyFailed(messages,closeUserDetails){var this$=this;var message="";var i=1;for(var property in messages){message=message+i++ +") "+this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"userdetail_validate_"+messages[property])+"\x3cbr/\x3e";this.getUserDetailsDataPanel$ehNa().setInvalid(property,this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_validate_"+messages[property]))}var validationMessageBoxConfig=AS3.cast(com.coremedia.elastic.social.studio.usermanagement.ValidationMessageBox,{});AS3.setBindable(validationMessageBoxConfig,"message",message);AS3.setBindable(validationMessageBoxConfig,"title",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"userdetail_validation_window_title"));AS3.setBindable(validationMessageBoxConfig,"discardCallback",function(){this$.cancel(closeUserDetails);this$.modifiedDetails$ehNa=false;this$.modifiedRestrictionChanges$ehNa=false});var msgBox=AS3.cast(Ext.window.Window,Ext.ComponentManager.create(validationMessageBoxConfig));msgBox.expand(true);msgBox.setSize(460,150);msgBox.show()}function setModifiedRestrictions(modifiedValueExpression){this.modifiedRestrictionChanges$ehNa=modifiedValueExpression.getValue();
this.getApplyButton$ehNa().setDisabled(!this.isModified$ehNa())}function setModifiedDetails(modifiedValueExpression){this.modifiedDetails$ehNa=modifiedValueExpression.getValue();this.getApplyButton$ehNa().setDisabled(!this.isModified$ehNa());this.getApplyButton$ehNa().setText(com.coremedia.elastic.social.studio.model.utils.ElasticUtils.toggleStarMarker(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","btn_apply"),this.modifiedDetails$ehNa))}function showMailIndicatorAtApproveButton(){var applyButton=
this.getApplyButton$ehNa();if(applyButton){var user=this.userAdministration$ehNa.getEdited();if(user)applyButton.setText(com.coremedia.elastic.social.studio.model.utils.ElasticUtils.toggleStarMarker(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","btn_apply"),this.modifiedDetails$ehNa||user.isBlocked()))}}function confirmChanges(apply,discard){var confirmationDialog=AS3.as(Ext.ComponentManager.get(com.coremedia.elastic.social.studio.usermanagement.details.ChangedProfileConfirmationWindowBase.ID),
com.coremedia.elastic.social.studio.usermanagement.details.ChangedProfileConfirmationWindow);if(confirmationDialog){confirmationDialog.setApply(apply);confirmationDialog.setDiscard(discard);confirmationDialog.setVisible(true);if(AS3.getBindable(confirmationDialog,"collapsed","DUMMY"))confirmationDialog.expand(true)}else{var changedProfileConfirmationWindowCfg=AS3.cast(com.coremedia.elastic.social.studio.usermanagement.details.ChangedProfileConfirmationWindow,{});AS3.setBindable(changedProfileConfirmationWindowCfg,
"moderation",this.moderation$ehNa);confirmationDialog=new com.coremedia.elastic.social.studio.usermanagement.details.ChangedProfileConfirmationWindow(changedProfileConfirmationWindowCfg);confirmationDialog.setApply(apply);confirmationDialog.setDiscard(discard);confirmationDialog.expand(true);confirmationDialog.setSize(460,150);confirmationDialog.show()}}function getApplyButton(){if(!this.applyButton$ehNa)this.applyButton$ehNa=AS3.as(this.queryById(UserDetailsPanelBase.USER_DETAILS_APPROVE_BTN_ITEM_ID),
Ext.button.Button);return this.applyButton$ehNa}function getUserDetailsDataPanel(){if(!this.userDetailsDataPanel$ehNa)this.userDetailsDataPanel$ehNa=AS3.as(this.queryById(UserDetailsPanelBase.USER_DETAILS_DATA_ITEM_ID),com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsDataPanel);return this.userDetailsDataPanel$ehNa}function getUserRestrictionPanel(){if(!this.userRestrictionPanel$ehNa)this.userRestrictionPanel$ehNa=AS3.as(this.queryById(UserDetailsPanelBase.USER_RESTRICTIONS_ITEM_ID),
com.coremedia.elastic.social.studio.usermanagement.details.UserRestrictionPanel);return this.userRestrictionPanel$ehNa}function getUserToSearchSwitchPanel(){if(!this.userToSearchSwitchPanel$ehNa)this.userToSearchSwitchPanel$ehNa=AS3.as(this.queryById(UserDetailsPanelBase.SWITCH_ITEM_ID),com.coremedia.elastic.social.studio.usermanagement.details.UserToSearchSwitchPanel);return this.userToSearchSwitchPanel$ehNa}function getStateMessageContainer(){if(!this.stateMessageContainer$ehNa)this.stateMessageContainer$ehNa=
AS3.as(this.queryById(UserDetailsPanelBase.STATE_MESSAGES_CONTAINER_ITEM_ID),com.coremedia.elastic.social.studio.usermanagement.details.UserWarningContainer);return this.stateMessageContainer$ehNa}function getResendRegistrationMessageDisplayField(){if(!this.resendRegistrationMessageDisplayField$ehNa)this.resendRegistrationMessageDisplayField$ehNa=AS3.as(this.queryById(UserDetailsPanelBase.RESEND_REGISTRATION_MESSAGE_DISPLAY_FIELD_ITEM_ID),Ext.form.field.Display);return this.resendRegistrationMessageDisplayField$ehNa}
return{extend:"Ext.panel.Panel",moderation$ehNa:null,userAdministration$ehNa:null,modifiedDetails$ehNa:false,modifiedRestrictionChanges$ehNa:false,userRestrictionPanel$ehNa:null,userDetailsDataPanel$ehNa:null,userValueExpression$ehNa:null,userDetailsChangedValueExpression$ehNa:null,userRestrictionModifiedValueExpression$ehNa:null,userStateValueExpression$ehNa:null,closeUserDetailView$ehNa:null,applyButton$ehNa:null,userToSearchSwitchPanel$ehNa:null,stateMessageContainer$ehNa:null,resendRegistrationMessageDisplayField$ehNa:null,
resendTimer$ehNa:undefined,constructor:UserDetailsPanelBase$,super$ehNa:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},afterRender:afterRender,beforeDestroy:beforeDestroy,broadcastActivate$ehNa:broadcastActivate,openEmailEditor:openEmailEditor,anonymized:anonymized,isModified$ehNa:isModified,applyChangesIfNeeded:applyChangesIfNeeded,resendRegistrationConfirmation:resendRegistrationConfirmation,refreshStateMessage$ehNa:refreshStateMessage,getDetailsChangedValueExpression$ehNa:getDetailsChangedValueExpression,
setStateMessage$ehNa:setStateMessage,setRegistrationSentMessage$ehNa:setRegistrationSentMessage,resetRegistrationMailSentMessage$ehNa:resetRegistrationMailSentMessage,resendRegistrationConfirmationFailed$ehNa:resendRegistrationConfirmationFailed,cancel:cancel,resetUserDetailsPanel$ehNa:resetUserDetailsPanel,anonymizeUser:anonymizeUser,applyChanges:applyChanges,applySucceeded$ehNa:applySucceeded,applyFailed$ehNa:applyFailed,setModifiedRestrictions:setModifiedRestrictions,setModifiedDetails:setModifiedDetails,
showMailIndicatorAtApproveButton$ehNa:showMailIndicatorAtApproveButton,confirmChanges$ehNa:confirmChanges,getApplyButton$ehNa:getApplyButton,getUserDetailsDataPanel$ehNa:getUserDetailsDataPanel,getUserRestrictionPanel$ehNa:getUserRestrictionPanel,getUserToSearchSwitchPanel$ehNa:getUserToSearchSwitchPanel,getStateMessageContainer$ehNa:getStateMessageContainer,getResendRegistrationMessageDisplayField$ehNa:getResendRegistrationMessageDisplayField,statics:{USER_DETAILS_DATA_ITEM_ID:"cm-elastic-social-user-details-data-panel",
DELETE_BUTTON_ITEM_ID:"deleteButton",OPEN_EMAIL_WINDOW_BUTTON_ITEM_ID:"openEmailWindowButton",STATE_MESSAGES_CONTAINER_ITEM_ID:"stateMessagesContainer",SWITCH_ITEM_ID:"switchPanel",USER_META_DATA_ITEM_ID:"cm-elastic-social-user-meta-data-panel",USER_RESTRICTIONS_ITEM_ID:"cm-elastic-social-user-restrictions-panel",USER_DETAILS_APPROVE_BTN_ITEM_ID:"applyButton",RESEND_REGISTRATION_MESSAGE_DISPLAY_FIELD_ITEM_ID:"resendRegistrationMessageDisplayField"},requires:["Ext","Ext.ComponentManager","Ext.String",
"Ext.button.Button","Ext.form.field.Display","Ext.panel.Panel","Ext.util.Format","Ext.window.Window","com.coremedia.cms.editor.sdk.util.MessageBoxUtil","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.util.EncodingUtil","mx.resources.ResourceManager"],uses:["com.coremedia.elastic.social.studio.email.EMailWindow","com.coremedia.elastic.social.studio.model.User","com.coremedia.elastic.social.studio.model.UserAdministrationPropertyNames",
"com.coremedia.elastic.social.studio.model.UserPropertyNames","com.coremedia.elastic.social.studio.model.utils.ElasticUtils","com.coremedia.elastic.social.studio.usermanagement.ValidationMessageBox","com.coremedia.elastic.social.studio.usermanagement.details.ChangedProfileConfirmationWindow","com.coremedia.elastic.social.studio.usermanagement.details.ChangedProfileConfirmationWindowBase","com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsDataPanel","com.coremedia.elastic.social.studio.usermanagement.details.UserRestrictionPanel",
"com.coremedia.elastic.social.studio.usermanagement.details.UserToSearchSwitchPanel","com.coremedia.elastic.social.studio.usermanagement.details.UserWarningContainer"]}});Ext.define("com.coremedia.elastic.social.studio.usermanagement.details.UserToSearchSwitchPanel",function(UserToSearchSwitchPanel){function UserToSearchSwitchPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.usermanagement.details.UserToSearchSwitchPanelBase,{});var defaults_$1=AS3.cast(UserToSearchSwitchPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var layout_HBox_32_5_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(config_$1,
"layout",layout_HBox_32_5_$1);var displayField_35_5_$1=AS3.cast(Ext.form.field.Display,{});displayField_35_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserToSearchSwitchPanelBase.USER_NAME_FIELD_ITEM_ID);displayField_35_5_$1.htmlEncode=true;AS3.setBindable(displayField_35_5_$1,"margin","0 6 0 12");displayField_35_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.DisplayFieldSkin.BOLD.getSkin());var displayField_39_5_$1=AS3.cast(Ext.form.field.Display,
{});displayField_39_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserToSearchSwitchPanelBase.STATUS_DISPLAY_FIELD);var box_41_5_$1=AS3.cast(Ext.Component,{});box_41_5_$1.flex=1;var ui_IconButton_43_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_43_5_$1.itemId=net.jangaroo.ext.Exml.asString(UserToSearchSwitchPanel.PREVIOUS_USER_BUTTON_ITEM_ID);AS3.setBindable(ui_IconButton_43_5_$1,"scale","small");ui_IconButton_43_5_$1.ui=
net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE.getSkin());AS3.setBindable(ui_IconButton_43_5_$1,"handler",AS3.bind(this,"showPreviousUser"));AS3.setBindable(ui_IconButton_43_5_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","arrow_left")));AS3.setBindable(ui_IconButton_43_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_previous_user_button")));
AS3.setBindable(ui_IconButton_43_5_$1,"tooltip",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_previous_user_button"));var ui_UpdateEnabledPlugin_51_9_$1=AS3.cast(com.coremedia.ui.plugins.UpdateEnabledPlugin,{});AS3.setBindable(ui_UpdateEnabledPlugin_51_9_$1,"valueExpression",this.getUserNavigationValueExpression().extendBy(com.coremedia.elastic.social.studio.usermanagement.details.UserToSearchSwitchPanelBase.PREVIOUS_USER_PROPERTY));ui_IconButton_43_5_$1.plugins=
[ui_UpdateEnabledPlugin_51_9_$1];var ui_IconButton_54_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_54_5_$1.itemId=net.jangaroo.ext.Exml.asString(UserToSearchSwitchPanel.NEXT_USER_BUTTON_ITEM_ID);AS3.setBindable(ui_IconButton_54_5_$1,"scale","small");ui_IconButton_54_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE.getSkin());AS3.setBindable(ui_IconButton_54_5_$1,"handler",AS3.bind(this,"showNextUser"));AS3.setBindable(ui_IconButton_54_5_$1,
"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","arrow_right")));AS3.setBindable(ui_IconButton_54_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_next_user_button")));AS3.setBindable(ui_IconButton_54_5_$1,"tooltip",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_next_user_button"));var ui_UpdateEnabledPlugin_62_9_$1=
AS3.cast(com.coremedia.ui.plugins.UpdateEnabledPlugin,{});AS3.setBindable(ui_UpdateEnabledPlugin_62_9_$1,"valueExpression",this.getUserNavigationValueExpression().extendBy(com.coremedia.elastic.social.studio.usermanagement.details.UserToSearchSwitchPanelBase.NEXT_USER_PROPERTY));ui_IconButton_54_5_$1.plugins=[ui_UpdateEnabledPlugin_62_9_$1];var ui_IconButton_65_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_65_5_$1.itemId=net.jangaroo.ext.Exml.asString(UserToSearchSwitchPanel.SWITCH_TO_LIST_ITEM_ID);
AS3.setBindable(ui_IconButton_65_5_$1,"scale","small");ui_IconButton_65_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE.getSkin());AS3.setBindable(ui_IconButton_65_5_$1,"handler",AS3.bind(this,"switchToSearchList"));AS3.setBindable(ui_IconButton_65_5_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","remove_small")));AS3.setBindable(ui_IconButton_65_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"userdetail_back_to_search")));AS3.setBindable(ui_IconButton_65_5_$1,"tooltip",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_back_to_search"));config_$1.items=[displayField_35_5_$1,displayField_39_5_$1,box_41_5_$1,ui_IconButton_43_5_$1,ui_IconButton_54_5_$1,ui_IconButton_65_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Dg9y(config_$1)}return{extend:"com.coremedia.elastic.social.studio.usermanagement.details.UserToSearchSwitchPanelBase",
alias:"widget.com.coremedia.elastic.social.studio.config.userToSearchSwitchPanel",constructor:UserToSearchSwitchPanel$,super$Dg9y:function(){com.coremedia.elastic.social.studio.usermanagement.details.UserToSearchSwitchPanelBase.prototype.constructor.apply(this,arguments)},config:{closeUserDetailView:null},statics:{NEXT_USER_BUTTON_ITEM_ID:"nextUser",PREVIOUS_USER_BUTTON_ITEM_ID:"prevUser",SWITCH_TO_LIST_ITEM_ID:"switchToList"},requires:["Ext.Component","Ext.form.field.Display","Ext.layout.container.HBox",
"com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.elastic.social.studio.usermanagement.details.UserToSearchSwitchPanelBase","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.components.IconButton","com.coremedia.ui.plugins.UpdateEnabledPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.DisplayFieldSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsPanel",function(UserDetailsPanel){function UserDetailsPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsPanelBase,{});var defaults_$1=AS3.cast(UserDetailsPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"scrollable",true);var toolbar_39_5_$1=AS3.cast(Ext.toolbar.Toolbar,{});toolbar_39_5_$1.ui=
net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.HEADER.getSkin());var es_UserToSearchSwitchPanel_41_9_$1=AS3.cast(com.coremedia.elastic.social.studio.usermanagement.details.UserToSearchSwitchPanel,{});es_UserToSearchSwitchPanel_41_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsPanelBase.SWITCH_ITEM_ID);AS3.setBindable(es_UserToSearchSwitchPanel_41_9_$1,"userAdministration",AS3.getBindable(config,"moderation").getUserAdministration());
AS3.setBindable(es_UserToSearchSwitchPanel_41_9_$1,"closeUserDetailView",AS3.getBindable(config,"closeUserDetailView"));AS3.setBindable(es_UserToSearchSwitchPanel_41_9_$1,"applyChanges",AS3.bind(this,"applyChangesIfNeeded"));es_UserToSearchSwitchPanel_41_9_$1.flex=1;toolbar_39_5_$1.items=[es_UserToSearchSwitchPanel_41_9_$1];config_$1.tbar=toolbar_39_5_$1;var container_51_5_$1=AS3.cast(Ext.container.Container,{});var es_UserDetailsDataPanel_53_9_$1=AS3.cast(com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsDataPanel,
{});es_UserDetailsDataPanel_53_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsPanelBase.USER_DETAILS_DATA_ITEM_ID);AS3.setBindable(es_UserDetailsDataPanel_53_9_$1,"moderation",AS3.getBindable(config,"moderation"));es_UserDetailsDataPanel_53_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.PanelSkin.CARD_200.getSkin());var es_UserMetaDataPanel_56_9_$1=AS3.cast(com.coremedia.elastic.social.studio.usermanagement.details.UserMetaDataPanel,
{});es_UserMetaDataPanel_56_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsPanelBase.USER_META_DATA_ITEM_ID);AS3.setBindable(es_UserMetaDataPanel_56_9_$1,"userAdministration",AS3.getBindable(config,"moderation").getUserAdministration());es_UserMetaDataPanel_56_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.PanelSkin.CARD_200.getSkin());var es_UserRestrictionPanel_59_9_$1=AS3.cast(com.coremedia.elastic.social.studio.usermanagement.details.UserRestrictionPanel,
{});es_UserRestrictionPanel_59_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsPanelBase.USER_RESTRICTIONS_ITEM_ID);AS3.setBindable(es_UserRestrictionPanel_59_9_$1,"userAdministration",AS3.getBindable(config,"moderation").getUserAdministration());AS3.setBindable(es_UserRestrictionPanel_59_9_$1,"resendRegistrationConfirmation",AS3.bind(this,"resendRegistrationConfirmation"));es_UserRestrictionPanel_59_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.PanelSkin.CARD_200.getSkin());
container_51_5_$1.items=[es_UserDetailsDataPanel_53_9_$1,es_UserMetaDataPanel_56_9_$1,es_UserRestrictionPanel_59_9_$1];var ui_VerticalSpacingPlugin_65_9_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});AS3.setBindable(ui_VerticalSpacingPlugin_65_9_$1,"modifier",com.coremedia.ui.bem.SpacingBEMEntities.VERTICAL_SPACING_MODIFIER_200);container_51_5_$1.plugins=[ui_VerticalSpacingPlugin_65_9_$1];container_51_5_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var container_68_5_$1=AS3.cast(Ext.container.Container,
{});var es_UserWarningContainer_70_9_$1=AS3.cast(com.coremedia.elastic.social.studio.usermanagement.details.UserWarningContainer,{});es_UserWarningContainer_70_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsPanelBase.STATE_MESSAGES_CONTAINER_ITEM_ID);var ui_ExtendedDisplayField_71_9_$1=AS3.cast(com.coremedia.ui.components.ExtendedDisplayField,{});ui_ExtendedDisplayField_71_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsPanelBase.RESEND_REGISTRATION_MESSAGE_DISPLAY_FIELD_ITEM_ID);
AS3.setBindable(ui_ExtendedDisplayField_71_9_$1,"overflowBehaviour",com.coremedia.ui.mixins.OverflowBehaviour.BREAK_WORD);AS3.setBindable(ui_ExtendedDisplayField_71_9_$1,"hidden",true);container_68_5_$1.items=[es_UserWarningContainer_70_9_$1,ui_ExtendedDisplayField_71_9_$1];config_$1.items=[container_51_5_$1,container_68_5_$1];var toolbar_79_5_$1=AS3.cast(Ext.toolbar.Toolbar,{});toolbar_79_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.FOOTER.getSkin());toolbar_79_5_$1["focusableContainer"]=
false;AS3.setBindable(toolbar_79_5_$1,"dock","bottom");var button_83_9_$1=AS3.cast(Ext.button.Button,{});button_83_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsPanelBase.OPEN_EMAIL_WINDOW_BUTTON_ITEM_ID);button_83_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE.getSkin());AS3.setBindable(button_83_9_$1,"handler",AS3.bind(this,"openEmailEditor"));AS3.setBindable(button_83_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons",
"pencil")));AS3.setBindable(button_83_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","mail")));var tbFill_88_9_$1=AS3.cast(Ext.toolbar.Fill,{});var button_89_9_$1=AS3.cast(Ext.button.Button,{});button_89_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsPanelBase.DELETE_BUTTON_ITEM_ID);button_89_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_SECONDARY.getSkin());
AS3.setBindable(button_89_9_$1,"scale","small");AS3.setBindable(button_89_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","btn_delete_with_mail")));AS3.setBindable(button_89_9_$1,"handler",AS3.bind(this,"anonymizeUser"));var button_94_9_$1=AS3.cast(Ext.button.Button,{});button_94_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsPanelBase.USER_DETAILS_APPROVE_BTN_ITEM_ID);
button_94_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_SECONDARY.getSkin());AS3.setBindable(button_94_9_$1,"scale","small");AS3.setBindable(button_94_9_$1,"width",70);AS3.setBindable(button_94_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","btn_apply")));AS3.setBindable(button_94_9_$1,"handler",AS3.bind(this,"applyChanges"));AS3.setBindable(button_94_9_$1,"disabled",true);
var button_101_9_$1=AS3.cast(Ext.button.Button,{});button_101_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_SECONDARY.getSkin());AS3.setBindable(button_101_9_$1,"scale","small");AS3.setBindable(button_101_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","btn_cancel")));AS3.setBindable(button_101_9_$1,"handler",AS3.bind(this,"cancel"));toolbar_79_5_$1.items=[button_83_9_$1,tbFill_88_9_$1,
button_89_9_$1,button_94_9_$1,button_101_9_$1];config_$1.dockedItems=[toolbar_79_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$PAnp(config_$1)}return{extend:"com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsPanelBase",alias:"widget.com.coremedia.elastic.social.studio.config.userDetailsPanel",constructor:UserDetailsPanel$,super$PAnp:function(){com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsPanelBase.prototype.constructor.apply(this,arguments)},
config:{moderation:null,switchToSearchList:null,closeUserDetailView:null},requires:["Ext.button.Button","Ext.container.Container","Ext.toolbar.Fill","Ext.toolbar.Toolbar","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsPanelBase","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.bem.SpacingBEMEntities","com.coremedia.ui.components.ExtendedDisplayField","com.coremedia.ui.mixins.OverflowBehaviour",
"com.coremedia.ui.plugins.VerticalSpacingPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.PanelSkin","com.coremedia.ui.skins.ToolbarSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsDataPanel","com.coremedia.elastic.social.studio.usermanagement.details.UserMetaDataPanel","com.coremedia.elastic.social.studio.usermanagement.details.UserRestrictionPanel","com.coremedia.elastic.social.studio.usermanagement.details.UserToSearchSwitchPanel",
"com.coremedia.elastic.social.studio.usermanagement.details.UserWarningContainer"]}});Ext.define("com.coremedia.elastic.social.studio.usermanagement.details.UserWarningContainer",function(UserWarningContainer){function UserWarningContainer$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.usermanagement.details.UserWarningContainerBase,{});var defaults_$1=AS3.cast(UserWarningContainer,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.CARD_200.getSkin());
AS3.setBindable(config_$1,"margin","12 0 0 0");var ui_ExtendedDisplayField_26_5_$1=AS3.cast(com.coremedia.ui.components.ExtendedDisplayField,{});ui_ExtendedDisplayField_26_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserWarningContainerBase.STATE_MESSAGES_ITEM_ID);AS3.setBindable(ui_ExtendedDisplayField_26_5_$1,"overflowBehaviour",com.coremedia.ui.mixins.OverflowBehaviour.BREAK_WORD);AS3.setBindable(ui_ExtendedDisplayField_26_5_$1,"validationState",
com.coremedia.ui.mixins.ValidationState.ERROR);config_$1.items=[ui_ExtendedDisplayField_26_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$CiTM(config_$1)}return{extend:"com.coremedia.elastic.social.studio.usermanagement.details.UserWarningContainerBase",alias:"widget.com.coremedia.elastic.social.studio.config.userWarningContainer",constructor:UserWarningContainer$,super$CiTM:function(){com.coremedia.elastic.social.studio.usermanagement.details.UserWarningContainerBase.prototype.constructor.apply(this,
arguments)},requires:["com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.elastic.social.studio.usermanagement.details.UserWarningContainerBase","com.coremedia.ui.components.ExtendedDisplayField","com.coremedia.ui.mixins.OverflowBehaviour","com.coremedia.ui.mixins.ValidationState","com.coremedia.ui.skins.ContainerSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.elastic.social.studio.usermanagement.details.UserToSearchSwitchPanelBase",function(UserToSearchSwitchPanelBase){function UserToSearchSwitchPanelBase$(config){this.super$27zj(config);this.editedUserStateValueExpression$27zj=this.getEditedUserValueExpression$27zj(AS3.getBindable(config,"userAdministration")).extendBy(com.coremedia.elastic.social.studio.model.UserPropertyNames.STATE);this.editedUserNameValueExpression$27zj=this.getEditedUserValueExpression$27zj(AS3.getBindable(config,
"userAdministration")).extendBy(com.coremedia.elastic.social.studio.model.UserPropertyNames.NAME);this.editedUserStateValueExpression$27zj.addChangeListener(AS3.bind(this,"refreshStatus"));this.editedUserNameValueExpression$27zj.addChangeListener(AS3.bind(this,"refreshUserName"));if(this.getUserNavigationValueExpression().getValue()==null){this.localUserNavigationBean=com.coremedia.cms.editor.sdk.editorContext.getBeanFactory().createLocalBean({enablePreviousUser:false,enableNextUser:false});this.getUserNavigationValueExpression().setValue(this.localUserNavigationBean)}else this.localUserNavigationBean=
this.getUserNavigationValueExpression().getValue();this.refreshUserName();this.addListener("afterlayout",AS3.bind(this,"updateButtons$27zj"))}function onDestroy(){Ext.container.Container.prototype.onDestroy.call(this);this.removeListener("afterlayout",AS3.bind(this,"updateButtons$27zj"));this.editedUserStateValueExpression$27zj.removeChangeListener(AS3.bind(this,"refreshStatus"));this.editedUserNameValueExpression$27zj.removeChangeListener(AS3.bind(this,"refreshUserName"))}function refreshUserName(){this.getUserNameDisplayField$27zj().setValue(AS3.as(this.editedUserNameValueExpression$27zj.getValue(),
String))}function getCurrentStatusMessage(){var displayed=AS3.getBindable(this,"userAdministration").getEdited();var result="";if(displayed)if(displayed.hasChangedSinceLastModeration())result='\x3cspan class\x3d"toolbar-sep"\x3e\x3c/span\x3e'+this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","contributiondetail_state_message_edited");else{var state=displayed.getContributionState().toLowerCase();state=state.replace("-","_");result='\x3cspan class\x3d"toolbar-sep"\x3e\x3c/span\x3e'+
this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","contributiondetail_state_message_"+state)}return result}function refreshStatus(){if(this.getStatusDisplayField$27zj())this.getStatusDisplayField$27zj().setValue(this.getCurrentStatusMessage())}function showPreviousUser(){var this$=this;AS3.getBindable(this,"applyChanges")(function(){if(AS3.getBindable(this$,"userAdministration").hasSearchResult()){var users=AS3.getBindable(this$,"userAdministration").getSearchResult();
var activeUserIndex=this$.getActiveUserIndex$27zj();if(users!=null&&activeUserIndex>0){AS3.getBindable(this$,"userAdministration").set(com.coremedia.elastic.social.studio.model.UserAdministrationPropertyNames.EDITED,null);com.coremedia.ui.util.EventUtil.invokeLater(function(){AS3.getBindable(this$,"userAdministration").startEditing(AS3.as(users[activeUserIndex-1],com.coremedia.elastic.social.studio.model.User))})}}this$.updateButtons$27zj()})}function showNextUser(){var this$=this;AS3.getBindable(this,
"applyChanges")(function(){if(AS3.getBindable(this$,"userAdministration").hasSearchResult()){var activeUserIndex=this$.getActiveUserIndex$27zj();var users=AS3.getBindable(this$,"userAdministration").getSearchResult();if(users&&activeUserIndex<users.length-1){AS3.getBindable(this$,"userAdministration").set(com.coremedia.elastic.social.studio.model.UserAdministrationPropertyNames.EDITED,null);com.coremedia.ui.util.EventUtil.invokeLater(function(){AS3.getBindable(this$,"userAdministration").startEditing(users[activeUserIndex+
1])})}}this$.updateButtons$27zj()})}function switchToSearchList(){AS3.getBindable(this,"applyChanges")(this.closeUserDetailView)}function getActiveUserIndex(){if(!AS3.getBindable(this,"userAdministration").hasSearchResult()||!AS3.getBindable(this,"userAdministration").hasEdited())return-1;return AS3.getBindable(this,"userAdministration").getSearchResult().indexOf(AS3.getBindable(this,"userAdministration").getEdited())}function getUserNavigationValueExpression(){if(!this.userNavigationValueExpression$27zj)this.userNavigationValueExpression$27zj=
com.coremedia.ui.data.ValueExpressionFactory.create("userDetailNavigation");return this.userNavigationValueExpression$27zj}function updateButtons(){var activeUserIndex=this.getActiveUserIndex$27zj();var isIndexValid=activeUserIndex!=-1;var isArrayNotEmpty=AS3.getBindable(this,"userAdministration").hasSearchResult()&&AS3.getBindable(this,"userAdministration").getSearchResult().length!=0;var isUserNotFirstInArray=activeUserIndex!=0;var isUserNotLastInArray=activeUserIndex!=(AS3.getBindable(this,"userAdministration").hasSearchResult()?
AS3.getBindable(this,"userAdministration").getSearchResult().length-1:0);this.localUserNavigationBean.set(UserToSearchSwitchPanelBase.NEXT_USER_PROPERTY,isUserNotLastInArray&&isArrayNotEmpty&&isIndexValid);this.localUserNavigationBean.set(UserToSearchSwitchPanelBase.PREVIOUS_USER_PROPERTY,isUserNotFirstInArray&&isIndexValid)}function getStatusDisplayField(){if(!this.statusDisplayField$27zj)this.statusDisplayField$27zj=AS3.as(this.getComponent(UserToSearchSwitchPanelBase.STATUS_DISPLAY_FIELD),Ext.form.field.Display);
return this.statusDisplayField$27zj}function getUserNameDisplayField(){if(!this.userNameDisplayField$27zj)this.userNameDisplayField$27zj=AS3.as(this.getComponent(UserToSearchSwitchPanelBase.USER_NAME_FIELD_ITEM_ID),Ext.form.field.Display);return this.userNameDisplayField$27zj}function getEditedUserValueExpression(userAdministration){if(!this.editedUserValueExpression$27zj)this.editedUserValueExpression$27zj=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.UserAdministrationPropertyNames.EDITED,
userAdministration);return this.editedUserValueExpression$27zj}return{extend:"Ext.container.Container",userNavigationValueExpression$27zj:null,localUserNavigationBean:null,statusDisplayField$27zj:null,userNameDisplayField$27zj:null,editedUserValueExpression$27zj:null,editedUserNameValueExpression$27zj:null,editedUserStateValueExpression$27zj:null,constructor:UserToSearchSwitchPanelBase$,super$27zj:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},onDestroy:onDestroy,
refreshUserName:refreshUserName,getCurrentStatusMessage:getCurrentStatusMessage,refreshStatus:refreshStatus,showPreviousUser:showPreviousUser,showNextUser:showNextUser,switchToSearchList:switchToSearchList,getActiveUserIndex$27zj:getActiveUserIndex,getUserNavigationValueExpression:getUserNavigationValueExpression,updateButtons$27zj:updateButtons,getStatusDisplayField$27zj:getStatusDisplayField,getUserNameDisplayField$27zj:getUserNameDisplayField,getEditedUserValueExpression$27zj:getEditedUserValueExpression,
config:{userAdministration:null,applyChanges:null},statics:{STATUS_DISPLAY_FIELD:"statusDisplayField",NEXT_USER_PROPERTY:"enableNextUser",PREVIOUS_USER_PROPERTY:"enablePreviousUser",USER_NAME_FIELD_ITEM_ID:"userNameField"},requires:["Ext.container.Container","Ext.form.field.Display","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.util.EventUtil"],uses:["com.coremedia.elastic.social.studio.model.User",
"com.coremedia.elastic.social.studio.model.UserAdministrationPropertyNames","com.coremedia.elastic.social.studio.model.UserPropertyNames"]}});Ext.define("com.coremedia.elastic.social.studio.usermanagement.details.CustomUserInformationContainer",function(CustomUserInformationContainer){function CustomUserInformationContainer$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.usermanagement.details.CustomUserInformationContainerBase,{});var defaults_$1=AS3.cast(CustomUserInformationContainer,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"layout","anchor");
var component_18_5_$1=AS3.cast(Ext.Component,{});AS3.setBindable(component_18_5_$1,"width",0);AS3.setBindable(component_18_5_$1,"height",0);config_$1.items=[component_18_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$rKjN(config_$1)}return{extend:"com.coremedia.elastic.social.studio.usermanagement.details.CustomUserInformationContainerBase",alias:"widget.com.coremedia.elastic.social.studio.config.customUserInformationContainer",constructor:CustomUserInformationContainer$,super$rKjN:function(){com.coremedia.elastic.social.studio.usermanagement.details.CustomUserInformationContainerBase.prototype.constructor.apply(this,
arguments)},requires:["Ext.Component","com.coremedia.elastic.social.studio.usermanagement.details.CustomUserInformationContainerBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.elastic.social.studio.usermanagement.details.UserMetaDataPanelBase",function(UserMetaDataPanelBase){function UserMetaDataPanelBase$(config){if(arguments.length<=0)config=null;this.super$JGDr(config)}function afterRender(){Ext.panel.Panel.prototype.afterRender.call(this);this.changeAdditionalUserInfoContainerVisibility$JGDr(this.getAdditionalUserInfoContainerVisibleVE$JGDr());this.getAdditionalUserInfoContainerVisibleVE$JGDr().addChangeListener(AS3.bind(this,"changeAdditionalUserInfoContainerVisibility$JGDr"))}
function beforeDestroy(){this.getAdditionalUserInfoContainerVisibleVE$JGDr().removeChangeListener(AS3.bind(this,"changeAdditionalUserInfoContainerVisibility$JGDr"));Ext.panel.Panel.prototype.beforeDestroy.call(this)}function formatDate$static(date){if(date)return Ext.Date.format(date,mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","shortDateFormat"));else return""}function evaluateUserLocale$static(locale){if(locale==null||locale.getLanguage()==null||locale.getLanguage().length<
2)return mx.resources.ResourceManager.getInstance().getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_locale_empty");var localeString=mx.resources.ResourceManager.getInstance().getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",locale.getLanguage());if(localeString!=null&&localeString!="")return localeString;return locale.getLanguage()}function getEditedUserValueExpression(userAdministration){if(!this.userValueExpression$JGDr)this.userValueExpression$JGDr=
com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.UserAdministrationPropertyNames.EDITED,userAdministration);return this.userValueExpression$JGDr}function getAdditionalUserInfoContainerVisibleVE(){var this$=this;if(!this.additionalUserInfoContainerVisibilityVE$JGDr)this.additionalUserInfoContainerVisibilityVE$JGDr=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var customUserInformationCt=AS3.as(this$.down(com.coremedia.ui.util.createComponentSelector()._xtype(com.coremedia.elastic.social.studio.usermanagement.details.CustomUserInformationContainer.xtype).build()),
Ext.container.Container);com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(customUserInformationCt,"add");com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(customUserInformationCt,"remove");return customUserInformationCt&&customUserInformationCt.itemCollection.getCount()>1});return this.additionalUserInfoContainerVisibilityVE$JGDr}function changeAdditionalUserInfoContainerVisibility(visibilityVE){var additionalUserInfoContainer=AS3.as(this.queryById(UserMetaDataPanelBase.ADDITIONAL_USER_INFO_CONTAINER_ITEM_ID),
Ext.container.Container);if(additionalUserInfoContainer)visibilityVE.getValue()?additionalUserInfoContainer.show():additionalUserInfoContainer.hide()}return{extend:"Ext.panel.Panel",userValueExpression$JGDr:null,additionalUserInfoContainerVisibilityVE$JGDr:null,constructor:UserMetaDataPanelBase$,super$JGDr:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},afterRender:afterRender,beforeDestroy:beforeDestroy,getEditedUserValueExpression:getEditedUserValueExpression,getAdditionalUserInfoContainerVisibleVE$JGDr:getAdditionalUserInfoContainerVisibleVE,
changeAdditionalUserInfoContainerVisibility$JGDr:changeAdditionalUserInfoContainerVisibility,statics:{CONTRIBUTIONS_ITEM_ID:"numberOfContributions",REJECTED_CONTRIBUTIONS_ITEM_ID:"numberOfRejectedContributions",LAST_LOGIN_DATE_ITEM_ID:"lastLoginDate",NUMBER_OF_LOGINS_ITEM_ID:"numberOfLogins",LOCALE_LANGUAGE_ITEM_ID:"localeLanguage",USER_ANNOTATION_CONTAINER_ITEM_ID:"userAnnotationContainer",ADDITIONAL_USER_INFO_CONTAINER_ITEM_ID:"additionalUserInfoContainerItemId",formatDate:formatDate$static,evaluateUserLocale:evaluateUserLocale$static},
requires:["Ext.Date","Ext.container.Container","Ext.panel.Panel","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.dependencies.DependencyTracker","com.coremedia.ui.util.createComponentSelector","mx.resources.ResourceManager"],uses:["com.coremedia.elastic.social.studio.model.UserAdministrationPropertyNames","com.coremedia.elastic.social.studio.usermanagement.details.CustomUserInformationContainer"]}});Ext.define("com.coremedia.elastic.social.studio.usermanagement.details.CustomUserInformationContainerBase",function(CustomUserInformationContainerBase){function CustomUserInformationContainerBase$(config){if(arguments.length<=0)config=null;this.super$8KB8(config)}return{extend:"Ext.container.Container",constructor:CustomUserInformationContainerBase$,super$8KB8:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},statics:{ID:"cm-elastic-userwindow-additional-detail-container"},
requires:["Ext.container.Container"]}});Ext.define("com.coremedia.elastic.social.studio.usermanagement.details.UserRestrictionPanelBase",function(UserRestrictionPanelBase){function UserRestrictionPanelBase$(config){if(arguments.length<=0)config=null;this.editedUserStateValueExpression$xRyQ=this.getEditedUserValueExpression(AS3.getBindable(config,"userAdministration")).extendBy(com.coremedia.elastic.social.studio.model.UserPropertyNames.STATE);this.lastModerationState$xRyQ=this.editedUserStateValueExpression$xRyQ.getValue();this.userValueExpression$xRyQ.addChangeListener(AS3.bind(this,
"resetPanel"));this.editedUserStateValueExpression$xRyQ.addChangeListener(AS3.bind(this,"toggleResendButtonRadioGroup$xRyQ"));this.editedUserStateValueExpression$xRyQ.addChangeListener(AS3.bind(this,"notifyModification$xRyQ"));this.super$xRyQ(config)}function beforeDestroy(){this.editedUserStateValueExpression$xRyQ.removeChangeListener(AS3.bind(this,"toggleResendButtonRadioGroup$xRyQ"));this.editedUserStateValueExpression$xRyQ.removeChangeListener(AS3.bind(this,"notifyModification$xRyQ"));this.userValueExpression$xRyQ.removeChangeListener(AS3.bind(this,
"resetPanel"));this.modified$xRyQ=false;Ext.panel.Panel.prototype.beforeDestroy.call(this)}function resetPanel(){this.getStateRadioGroup$xRyQ().setValue(null);this.modified$xRyQ=false;this.fireEvent("modified",true,false);this.lastModerationState$xRyQ=null}function notifyModification(){var state=this.editedUserStateValueExpression$xRyQ.getValue();if(!state)this.lastModerationState$xRyQ=undefined;else if(state&&!this.lastModerationState$xRyQ)this.lastModerationState$xRyQ=state;else if(state&&this.lastModerationState$xRyQ&&
!this.matchingStates$xRyQ(state,this.lastModerationState$xRyQ)){this.setModified();this.lastModerationState$xRyQ=state}}function setModified(){this.modified$xRyQ=true;this.fireEvent("modified",false,true)}function isModified(){return this.modified$xRyQ}function toggleResendButtonRadioGroup(){var editedUser=AS3.getBindable(this,"userAdministration").getEdited();if(editedUser&&editedUser.isRegistrationRequested()){this.getResendRegistrationButton$xRyQ().setVisible(true);this.getStateRadioGroup$xRyQ().disable()}else{this.getResendRegistrationButton$xRyQ().setVisible(false);
this.getStateRadioGroup$xRyQ().enable()}}function disableResendRegistrationButton(){this.getResendRegistrationButton$xRyQ().setDisabled(true)}function enableResendRegistrationButton(){this.getResendRegistrationButton$xRyQ().setDisabled(false)}function getEditedUserValueExpression(userAdministration){if(!this.userValueExpression$xRyQ)this.userValueExpression$xRyQ=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.UserAdministrationPropertyNames.EDITED,userAdministration);
return this.userValueExpression$xRyQ}function getResendRegistrationButton(){if(!this.resendRegistrationButton$xRyQ)this.resendRegistrationButton$xRyQ=AS3.as(this.queryById(UserRestrictionPanelBase.RESEND_REGISTRATION_MAIL_BUTTON_ITEM_ID),Ext.button.Button);return this.resendRegistrationButton$xRyQ}function getStateRadioGroup(){if(!this.stateRadioGroup$xRyQ)this.stateRadioGroup$xRyQ=AS3.as(this.queryById(UserRestrictionPanelBase.USER_STATE_RADIO_GROUP_ITEM_ID),Ext.form.RadioGroup);return this.stateRadioGroup$xRyQ}
function matchingStates(state1,state2){if(state1===UserRestrictionPanelBase.RADIO_STATE_ACTIVATED_MODERATION_REQUIRED)state1=UserRestrictionPanelBase.RADIO_STATE_MODERATION_REQUIRED;if(state2===UserRestrictionPanelBase.RADIO_STATE_ACTIVATED_MODERATION_REQUIRED)state2=UserRestrictionPanelBase.RADIO_STATE_MODERATION_REQUIRED;return state1===state2}function toExpressionValue(item){return item[UserRestrictionPanelBase.USER_STATE_RADIO_GROUP_ITEM_ID]}function toInputValue(value){var result=null;if(!value||
value===UserRestrictionPanelBase.RADIO_STATE_ACTIVATED_MODERATION_REQUIRED)value=UserRestrictionPanelBase.RADIO_STATE_MODERATION_REQUIRED;result=value;return makeObject$static(UserRestrictionPanelBase.USER_STATE_RADIO_GROUP_ITEM_ID,result)}function makeObject$static(key,value){var o={};o[key]=value;return o}return{extend:"Ext.panel.Panel",editedUserStateValueExpression$xRyQ:null,userValueExpression$xRyQ:null,resendRegistrationButton$xRyQ:null,stateRadioGroup$xRyQ:null,modified$xRyQ:false,lastModerationState$xRyQ:undefined,
constructor:UserRestrictionPanelBase$,super$xRyQ:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},beforeDestroy:beforeDestroy,resetPanel:resetPanel,notifyModification$xRyQ:notifyModification,setModified:setModified,isModified:isModified,toggleResendButtonRadioGroup$xRyQ:toggleResendButtonRadioGroup,disableResendRegistrationButton:disableResendRegistrationButton,enableResendRegistrationButton:enableResendRegistrationButton,getEditedUserValueExpression:getEditedUserValueExpression,
getResendRegistrationButton$xRyQ:getResendRegistrationButton,getStateRadioGroup$xRyQ:getStateRadioGroup,matchingStates$xRyQ:matchingStates,toExpressionValue:toExpressionValue,toInputValue:toInputValue,config:{userAdministration:null},statics:{RESEND_REGISTRATION_MAIL_BUTTON_ITEM_ID:"resendRegistration",USER_STATE_RADIO_GROUP_ITEM_ID:"userStates",RADIO_STATE_IGNORED:"IGNORED",RADIO_STATE_BLOCKED:"BLOCKED",RADIO_STATE_ACTIVATED:"ACTIVATED",RADIO_STATE_MODERATION_REQUIRED:"MODERATION_REQUIRED",RADIO_STATE_ACTIVATED_MODERATION_REQUIRED:"ACTIVATED_MODERATION_REQUIRED",
RADIO_STATE_ANONYMIZED:"ANONYMIZED"},requires:["Ext.button.Button","Ext.form.RadioGroup","Ext.panel.Panel","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.elastic.social.studio.model.UserAdministrationPropertyNames","com.coremedia.elastic.social.studio.model.UserPropertyNames"]}});Ext.define("com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsExtensionPoint",function(UserDetailsExtensionPoint){function UserDetailsExtensionPoint$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsExtensionPointBase,{});var defaults_$1=AS3.cast(UserDetailsExtensionPoint,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"layout","anchor");var es_CustomUserInformationContainer_23_5_$1=
AS3.cast(com.coremedia.elastic.social.studio.usermanagement.details.CustomUserInformationContainer,{});es_CustomUserInformationContainer_23_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsExtensionPointBase.EXTENSION_CONTAINER_ITEM_ID);es_CustomUserInformationContainer_23_5_$1.anchor="100%";config_$1.items=[es_CustomUserInformationContainer_23_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$KiC2(config_$1)}return{extend:"com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsExtensionPointBase",
alias:"widget.com.coremedia.elastic.social.studio.config.userDetailsExtensionPoint",constructor:UserDetailsExtensionPoint$,super$KiC2:function(){com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsExtensionPointBase.prototype.constructor.apply(this,arguments)},config:{moderation:null},requires:["com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsExtensionPointBase","net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.usermanagement.details.CustomUserInformationContainer"]}});Ext.define("com.coremedia.elastic.social.studio.usermanagement.details.UserInternalNotesContainer",function(UserInternalNotesContainer){function UserInternalNotesContainer$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.container.Container,{});var defaults_$1=AS3.cast(UserInternalNotesContainer,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var layout_VBox_27_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_27_5_$1,"align","stretch");AS3.setBindable(config_$1,
"layout",layout_VBox_27_5_$1);var container_30_5_$1=AS3.cast(Ext.container.Container,{});var displayField_32_9_$1=AS3.cast(Ext.form.field.Display,{});AS3.setBindable(displayField_32_9_$1,"value",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","contributiondetail_annotation_title"));displayField_32_9_$1.flex=1;displayField_32_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.DisplayFieldSkin.BOLD.getSkin());var ui_IconDisplayField_35_9_$1=
AS3.cast(com.coremedia.ui.components.IconDisplayField,{});AS3.setBindable(ui_IconDisplayField_35_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","help")));AS3.setBindable(ui_IconDisplayField_35_9_$1,"tooltip",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","contributiondetail_annotation_tooltip"));container_30_5_$1.items=[displayField_32_9_$1,ui_IconDisplayField_35_9_$1];var layout_HBox_39_9_$1=
AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_39_9_$1,"align","stretch");AS3.setBindable(container_30_5_$1,"layout",layout_HBox_39_9_$1);var textArea_42_5_$1=AS3.cast(Ext.form.field.TextArea,{});textArea_42_5_$1.itemId=net.jangaroo.ext.Exml.asString(UserInternalNotesContainer.TEXTAREA_ITEM_ID);AS3.setBindable(textArea_42_5_$1,"emptyText",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","contributiondetail_annotation_empty_text")));
textArea_42_5_$1.checkChangeBuffer=300;var ui_BindPropertyPlugin_46_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_46_9_$1.bidirectional=true;var ui_ValueExpression_48_13_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_48_13_$1,"context",AS3.getBindable(config,"userAdministration"));AS3.setBindable(ui_ValueExpression_48_13_$1,"expression","notes.text");ui_BindPropertyPlugin_46_9_$1.bindTo=new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_48_13_$1);
textArea_42_5_$1.plugins=[ui_BindPropertyPlugin_46_9_$1];config_$1.items=[container_30_5_$1,textArea_42_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$EPKk(config_$1)}return{extend:"Ext.container.Container",alias:"widget.com.coremedia.elastic.social.studio.config.userInternalNotesContainer",constructor:UserInternalNotesContainer$,super$EPKk:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},config:{userAdministration:null},statics:{TEXTAREA_ITEM_ID:"textArea"},
requires:["Ext.container.Container","Ext.form.field.Display","Ext.form.field.TextArea","Ext.layout.container.HBox","Ext.layout.container.VBox","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.components.IconDisplayField","com.coremedia.ui.exml.ValueExpression","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.skins.DisplayFieldSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.elastic.social.studio.usermanagement.details.UserMetaDataPanel",function(UserMetaDataPanel){function UserMetaDataPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.usermanagement.details.UserMetaDataPanelBase,{});var defaults_$1=AS3.cast(UserMetaDataPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"userdetail_meta_data_info"));var layout_Column_34_5_$1=AS3.cast(Ext.layout.container.Column,{});AS3.setBindable(config_$1,"layout",layout_Column_34_5_$1);var displayField_37_5_$1=AS3.cast(Ext.form.field.Display,{});displayField_37_5_$1.labelWidth=UserMetaDataPanel.FIELD_LABEL_WIDTH;displayField_37_5_$1.columnWidth=.5;config_$1["defaultType"]=displayField_37_5_$1["xtype"];delete displayField_37_5_$1["xtype"];delete displayField_37_5_$1["xclass"];config_$1.defaults=displayField_37_5_$1;var displayField_41_5_$1=
AS3.cast(Ext.form.field.Display,{});AS3.setBindable(displayField_41_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_member_since_label")));var ui_BindPropertyPlugin_44_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_44_9_$1.transformer=com.coremedia.elastic.social.studio.usermanagement.details.UserMetaDataPanelBase.formatDate;ui_BindPropertyPlugin_44_9_$1.bindTo=
this.getEditedUserValueExpression(AS3.getBindable(config,"userAdministration")).extendBy(com.coremedia.elastic.social.studio.model.UserPropertyNames.REGISTRATION_DATE);displayField_41_5_$1.plugins=[ui_BindPropertyPlugin_44_9_$1];var displayField_48_5_$1=AS3.cast(Ext.form.field.Display,{});displayField_48_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserMetaDataPanelBase.CONTRIBUTIONS_ITEM_ID);AS3.setBindable(displayField_48_5_$1,"fieldLabel",
net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_number_of_contributions_label")));var ui_BindPropertyPlugin_51_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_51_9_$1.bindTo=this.getEditedUserValueExpression(AS3.getBindable(config,"userAdministration")).extendBy(com.coremedia.elastic.social.studio.model.UserPropertyNames.NUMBER_OF_CONTRIBUTIONS);displayField_48_5_$1.plugins=
[ui_BindPropertyPlugin_51_9_$1];var displayField_55_5_$1=AS3.cast(Ext.form.field.Display,{});displayField_55_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserMetaDataPanelBase.LAST_LOGIN_DATE_ITEM_ID);AS3.setBindable(displayField_55_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_last_login_date")));var ui_BindPropertyPlugin_58_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,
{});ui_BindPropertyPlugin_58_9_$1.transformer=com.coremedia.elastic.social.studio.usermanagement.details.UserMetaDataPanelBase.formatDate;ui_BindPropertyPlugin_58_9_$1.bindTo=this.getEditedUserValueExpression(AS3.getBindable(config,"userAdministration")).extendBy(com.coremedia.elastic.social.studio.model.UserPropertyNames.LAST_LOGIN_DATE);displayField_55_5_$1.plugins=[ui_BindPropertyPlugin_58_9_$1];var displayField_62_5_$1=AS3.cast(Ext.form.field.Display,{});displayField_62_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserMetaDataPanelBase.REJECTED_CONTRIBUTIONS_ITEM_ID);
AS3.setBindable(displayField_62_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_number_of_rejected_contributions_label")));var ui_BindPropertyPlugin_65_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_65_9_$1.bindTo=this.getEditedUserValueExpression(AS3.getBindable(config,"userAdministration")).extendBy(com.coremedia.elastic.social.studio.model.UserPropertyNames.REJECTED_CONTRIBUTIONS);
displayField_62_5_$1.plugins=[ui_BindPropertyPlugin_65_9_$1];var displayField_69_5_$1=AS3.cast(Ext.form.field.Display,{});displayField_69_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserMetaDataPanelBase.NUMBER_OF_LOGINS_ITEM_ID);AS3.setBindable(displayField_69_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_number_of_logins")));var ui_BindPropertyPlugin_72_9_$1=
AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_72_9_$1.bindTo=this.getEditedUserValueExpression(AS3.getBindable(config,"userAdministration")).extendBy(com.coremedia.elastic.social.studio.model.UserPropertyNames.NUMBER_OF_LOGINS);displayField_69_5_$1.plugins=[ui_BindPropertyPlugin_72_9_$1];var displayField_76_5_$1=AS3.cast(Ext.form.field.Display,{});displayField_76_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserMetaDataPanelBase.LOCALE_LANGUAGE_ITEM_ID);
AS3.setBindable(displayField_76_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_locale_language_label")));var ui_BindPropertyPlugin_79_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_79_9_$1.transformer=com.coremedia.elastic.social.studio.usermanagement.details.UserMetaDataPanelBase.evaluateUserLocale;ui_BindPropertyPlugin_79_9_$1.bindTo=this.getEditedUserValueExpression(AS3.getBindable(config,
"userAdministration")).extendBy(com.coremedia.elastic.social.studio.model.UserPropertyNames.LOCALE);displayField_76_5_$1.plugins=[ui_BindPropertyPlugin_79_9_$1];var ui_BEMMixin_83_9_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,{});AS3.setBindable(ui_BEMMixin_83_9_$1,"bemElement",com.coremedia.ui.bem.SpacingBEMEntities.VERTICAL_SPACING_ELEMENT_ITEM);delete ui_BEMMixin_83_9_$1["xtype"];delete ui_BEMMixin_83_9_$1["xclass"];net.jangaroo.ext.Exml.apply(displayField_76_5_$1,ui_BEMMixin_83_9_$1);var es_UserInternalNotesContainer_87_5_$1=
AS3.cast(com.coremedia.elastic.social.studio.usermanagement.details.UserInternalNotesContainer,{});es_UserInternalNotesContainer_87_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserMetaDataPanelBase.USER_ANNOTATION_CONTAINER_ITEM_ID);AS3.setBindable(es_UserInternalNotesContainer_87_5_$1,"userAdministration",AS3.getBindable(config,"userAdministration"));es_UserInternalNotesContainer_87_5_$1.columnWidth=1;var editor_PropertyFieldLabel_91_9_$1=
AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyFieldLabel,{});editor_PropertyFieldLabel_91_9_$1.labelWidth=UserMetaDataPanel.NOTES_CONTAINER_FIELD_LABEL_WIDTH;es_UserInternalNotesContainer_87_5_$1["defaultType"]=editor_PropertyFieldLabel_91_9_$1["xtype"];delete editor_PropertyFieldLabel_91_9_$1["xtype"];delete editor_PropertyFieldLabel_91_9_$1["xclass"];es_UserInternalNotesContainer_87_5_$1.defaults=editor_PropertyFieldLabel_91_9_$1;var ui_BEMMixin_94_9_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,
{});AS3.setBindable(ui_BEMMixin_94_9_$1,"bemElement",com.coremedia.ui.bem.SpacingBEMEntities.VERTICAL_SPACING_ELEMENT_ITEM);delete ui_BEMMixin_94_9_$1["xtype"];delete ui_BEMMixin_94_9_$1["xclass"];net.jangaroo.ext.Exml.apply(es_UserInternalNotesContainer_87_5_$1,ui_BEMMixin_94_9_$1);var editor_PropertyFieldGroup_99_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyFieldGroup,{});editor_PropertyFieldGroup_99_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserMetaDataPanelBase.ADDITIONAL_USER_INFO_CONTAINER_ITEM_ID);
editor_PropertyFieldGroup_99_5_$1.columnWidth=1;editor_PropertyFieldGroup_99_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.PanelSkin.CARD_NESTED.getSkin());AS3.setBindable(editor_PropertyFieldGroup_99_5_$1,"title",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","contributiondetail_additional_information_title"));AS3.setBindable(editor_PropertyFieldGroup_99_5_$1,"bindTo",this.getEditedUserValueExpression(AS3.getBindable(config,"userAdministration")));
var es_UserDetailsExtensionPoint_105_9_$1=AS3.cast(com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsExtensionPoint,{});editor_PropertyFieldGroup_99_5_$1.items=[es_UserDetailsExtensionPoint_105_9_$1];var ui_BEMMixin_108_9_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,{});AS3.setBindable(ui_BEMMixin_108_9_$1,"bemElement",com.coremedia.ui.bem.SpacingBEMEntities.VERTICAL_SPACING_ELEMENT_ITEM);delete ui_BEMMixin_108_9_$1["xtype"];delete ui_BEMMixin_108_9_$1["xclass"];net.jangaroo.ext.Exml.apply(editor_PropertyFieldGroup_99_5_$1,
ui_BEMMixin_108_9_$1);config_$1.items=[displayField_41_5_$1,displayField_48_5_$1,displayField_55_5_$1,displayField_62_5_$1,displayField_69_5_$1,displayField_76_5_$1,es_UserInternalNotesContainer_87_5_$1,editor_PropertyFieldGroup_99_5_$1];var ui_VerticalSpacingPlugin_113_5_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});AS3.setBindable(ui_VerticalSpacingPlugin_113_5_$1,"modifier",com.coremedia.ui.bem.SpacingBEMEntities.VERTICAL_SPACING_MODIFIER_300);config_$1.plugins=[ui_VerticalSpacingPlugin_113_5_$1];
net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Bcg4(config_$1)}return{extend:"com.coremedia.elastic.social.studio.usermanagement.details.UserMetaDataPanelBase",alias:"widget.com.coremedia.elastic.social.studio.config.userMetaDataPanel",constructor:UserMetaDataPanel$,super$Bcg4:function(){com.coremedia.elastic.social.studio.usermanagement.details.UserMetaDataPanelBase.prototype.constructor.apply(this,arguments)},config:{userAdministration:null},statics:{FIELD_LABEL_WIDTH:150,NOTES_CONTAINER_FIELD_LABEL_WIDTH:300},
requires:["Ext.form.field.Display","Ext.layout.container.Column","com.coremedia.cms.editor.sdk.premular.PropertyFieldGroup","com.coremedia.cms.editor.sdk.premular.PropertyFieldLabel","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.elastic.social.studio.usermanagement.details.UserMetaDataPanelBase","com.coremedia.ui.bem.SpacingBEMEntities","com.coremedia.ui.plugins.BEMMixin","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.VerticalSpacingPlugin",
"com.coremedia.ui.skins.PanelSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.model.UserPropertyNames","com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsExtensionPoint","com.coremedia.elastic.social.studio.usermanagement.details.UserInternalNotesContainer"]}});Ext.define("com.coremedia.elastic.social.studio.usermanagement.details.UserRestrictionPanel",function(UserRestrictionPanel){function UserRestrictionPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.usermanagement.details.UserRestrictionPanelBase,{});var defaults_$1=AS3.cast(UserRestrictionPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var layout_VBox_27_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_27_5_$1,
"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_27_5_$1);var container_30_5_$1=AS3.cast(Ext.container.Container,{});var displayField_32_9_$1=AS3.cast(Ext.form.field.Display,{});AS3.setBindable(displayField_32_9_$1,"value",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_meta_data_restrictions"));displayField_32_9_$1.flex=1;displayField_32_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.DisplayFieldSkin.BOLD.getSkin());
var ui_IconDisplayField_35_9_$1=AS3.cast(com.coremedia.ui.components.IconDisplayField,{});AS3.setBindable(ui_IconDisplayField_35_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","help")));AS3.setBindable(ui_IconDisplayField_35_9_$1,"tooltip",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_state_tooltip"));container_30_5_$1.items=[displayField_32_9_$1,ui_IconDisplayField_35_9_$1];
var layout_HBox_39_9_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_39_9_$1,"align","stretch");AS3.setBindable(container_30_5_$1,"layout",layout_HBox_39_9_$1);var radioGroup_42_5_$1=AS3.cast(Ext.form.RadioGroup,{});AS3.setBindable(radioGroup_42_5_$1,"width","auto");radioGroup_42_5_$1.columns=1;radioGroup_42_5_$1.allowBlank=false;radioGroup_42_5_$1.hideLabel=true;radioGroup_42_5_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserRestrictionPanelBase.USER_STATE_RADIO_GROUP_ITEM_ID);
radioGroup_42_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserRestrictionPanelBase.USER_STATE_RADIO_GROUP_ITEM_ID);var radio_49_9_$1=AS3.cast(Ext.form.field.Radio,{});AS3.setBindable(radio_49_9_$1,"boxLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_state_moderation_required")));radio_49_9_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserRestrictionPanelBase.USER_STATE_RADIO_GROUP_ITEM_ID);
radio_49_9_$1.inputValue=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserRestrictionPanelBase.RADIO_STATE_MODERATION_REQUIRED);radio_49_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserRestrictionPanelBase.RADIO_STATE_MODERATION_REQUIRED);var radio_53_9_$1=AS3.cast(Ext.form.field.Radio,{});AS3.setBindable(radio_53_9_$1,"boxLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"userdetail_state_activated")));radio_53_9_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserRestrictionPanelBase.USER_STATE_RADIO_GROUP_ITEM_ID);radio_53_9_$1.inputValue=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserRestrictionPanelBase.RADIO_STATE_ACTIVATED);radio_53_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserRestrictionPanelBase.RADIO_STATE_ACTIVATED);
var radio_57_9_$1=AS3.cast(Ext.form.field.Radio,{});AS3.setBindable(radio_57_9_$1,"boxLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_state_ignored")));radio_57_9_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserRestrictionPanelBase.USER_STATE_RADIO_GROUP_ITEM_ID);radio_57_9_$1.inputValue=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserRestrictionPanelBase.RADIO_STATE_IGNORED);
radio_57_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserRestrictionPanelBase.RADIO_STATE_IGNORED);var radio_61_9_$1=AS3.cast(Ext.form.field.Radio,{});AS3.setBindable(radio_61_9_$1,"boxLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_state_blocked")));radio_61_9_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserRestrictionPanelBase.USER_STATE_RADIO_GROUP_ITEM_ID);
radio_61_9_$1.inputValue=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserRestrictionPanelBase.RADIO_STATE_BLOCKED);radio_61_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserRestrictionPanelBase.RADIO_STATE_BLOCKED);var radio_65_9_$1=AS3.cast(Ext.form.field.Radio,{});AS3.setBindable(radio_65_9_$1,"boxLabel","Anonymize");radio_65_9_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserRestrictionPanelBase.USER_STATE_RADIO_GROUP_ITEM_ID);
radio_65_9_$1.inputValue=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserRestrictionPanelBase.RADIO_STATE_ANONYMIZED);radio_65_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserRestrictionPanelBase.RADIO_STATE_ANONYMIZED);AS3.setBindable(radio_65_9_$1,"hidden",true);radioGroup_42_5_$1.items=[radio_49_9_$1,radio_53_9_$1,radio_57_9_$1,radio_61_9_$1,radio_65_9_$1];var ui_BindPropertyPlugin_72_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,
{});ui_BindPropertyPlugin_72_9_$1.componentProperty="value";ui_BindPropertyPlugin_72_9_$1.bindTo=this.getEditedUserValueExpression(AS3.getBindable(config,"userAdministration")).extendBy(com.coremedia.elastic.social.studio.model.UserPropertyNames.STATE);ui_BindPropertyPlugin_72_9_$1.reverseTransformer=AS3.bind(this,"toExpressionValue");ui_BindPropertyPlugin_72_9_$1.transformer=AS3.bind(this,"toInputValue");ui_BindPropertyPlugin_72_9_$1.skipIfConsistent=false;ui_BindPropertyPlugin_72_9_$1.bidirectional=
true;radioGroup_42_5_$1.plugins=[ui_BindPropertyPlugin_72_9_$1];var button_81_5_$1=AS3.cast(Ext.button.Button,{});button_81_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.details.UserRestrictionPanelBase.RESEND_REGISTRATION_MAIL_BUTTON_ITEM_ID);button_81_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE.getSkin());AS3.setBindable(button_81_5_$1,"textAlign","right");AS3.setBindable(button_81_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"userdetail_resend_registration_mail_button")));AS3.setBindable(button_81_5_$1,"handler",AS3.getBindable(config,"resendRegistrationConfirmation"));config_$1.items=[container_30_5_$1,radioGroup_42_5_$1,button_81_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$uC2f(config_$1)}return{extend:"com.coremedia.elastic.social.studio.usermanagement.details.UserRestrictionPanelBase",alias:"widget.com.coremedia.elastic.social.studio.config.userRestrictionPanel",constructor:UserRestrictionPanel$,
super$uC2f:function(){com.coremedia.elastic.social.studio.usermanagement.details.UserRestrictionPanelBase.prototype.constructor.apply(this,arguments)},config:{resendRegistrationConfirmation:null},requires:["Ext.button.Button","Ext.container.Container","Ext.form.RadioGroup","Ext.form.field.Display","Ext.form.field.Radio","Ext.layout.container.HBox","Ext.layout.container.VBox","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.elastic.social.studio.usermanagement.details.UserRestrictionPanelBase",
"com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.components.IconDisplayField","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.DisplayFieldSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.model.UserPropertyNames"]}});Ext.define("com.coremedia.elastic.social.studio.usermanagement.UserManagementWindow",function(UserManagementWindow){function UserManagementWindow$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.usermanagement.UserManagementWindowBase,{});var defaults_$1=AS3.cast(UserManagementWindow,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.stateId="userManagementWindowState";AS3.setBindable(config_$1,"stateful",true);config_$1["id"]=
com.coremedia.elastic.social.studio.usermanagement.UserManagementWindowBase.ID;config_$1.modal=false;config_$1.closeAction="close";AS3.setBindable(config_$1,"activeItem",com.coremedia.elastic.social.studio.usermanagement.UserManagementWindowBase.USER_DETAILS_PANEL_INDEX);AS3.setBindable(config_$1,"height",750);AS3.setBindable(config_$1,"width",650);AS3.setBindable(config_$1,"scrollable",true);config_$1.resizable=false;config_$1.constrainHeader=true;AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"userdetail_window_title"));var layout_Card_40_5_$1=AS3.cast(Ext.layout.container.Card,{});AS3.setBindable(config_$1,"layout",layout_Card_40_5_$1);var es_UserDetailsPanel_43_5_$1=AS3.cast(com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsPanel,{});es_UserDetailsPanel_43_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.UserManagementWindowBase.USER_DETAILS_ITEM_ID);AS3.setBindable(es_UserDetailsPanel_43_5_$1,"moderation",AS3.getBindable(config,
"moderation"));AS3.setBindable(es_UserDetailsPanel_43_5_$1,"closeUserDetailView",AS3.bind(this,"switchToSearchList"));AS3.setBindable(es_UserDetailsPanel_43_5_$1,"listeners",{"event_anonymized":AS3.bind(this,"switchToSearchListAndRefresh")});es_UserDetailsPanel_43_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.PanelSkin.DARK_200.getSkin());var es_UserListContainer_50_5_$1=AS3.cast(com.coremedia.elastic.social.studio.usermanagement.list.UserListContainer,{});es_UserListContainer_50_5_$1.itemId=
net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.UserManagementWindowBase.USER_LIST_ITEM_ID);AS3.setBindable(es_UserListContainer_50_5_$1,"moderation",AS3.getBindable(config,"moderation"));AS3.setBindable(es_UserListContainer_50_5_$1,"openUserDetailView",AS3.bind(this,"switchToUserDetailPanel"));AS3.setBindable(es_UserListContainer_50_5_$1,"isDetailWindowOpenedViaList",AS3.bind(this,"isDetailWindowOpenedViaList"));config_$1.items=[es_UserDetailsPanel_43_5_$1,es_UserListContainer_50_5_$1];
net.jangaroo.ext.Exml.apply(config_$1,config);this.super$3Exu(config_$1)}return{extend:"com.coremedia.elastic.social.studio.usermanagement.UserManagementWindowBase",alias:"widget.com.coremedia.elastic.social.studio.config.userManagementWindow",constructor:UserManagementWindow$,super$3Exu:function(){com.coremedia.elastic.social.studio.usermanagement.UserManagementWindowBase.prototype.constructor.apply(this,arguments)},config:{moderation:null,detailWindowOpenedViaList:false},requires:["Ext.layout.container.Card",
"com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.elastic.social.studio.usermanagement.UserManagementWindowBase","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.skins.PanelSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsPanel","com.coremedia.elastic.social.studio.usermanagement.list.UserListContainer"]}});Ext.define("com.coremedia.elastic.social.studio.usermanagement.ValidationMessageBoxBase",function(ValidationMessageBoxBase){function ValidationMessageBoxBase$(config){if(arguments.length<=0)config=null;this.super$mY08(config)}function afterRender(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.afterRender.call(this);if(!this.discardCallback)this.getDiscardButton$mY08().hide()}function discard(){this.close();if(this.discardCallback)this.discardCallback()}function close(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.close.call(this);
com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.destroy.call(this)}function correct(){this.close()}function getDiscardButton(){if(!this.discardButton$mY08)this.discardButton$mY08=AS3.as(Ext.getCmp(ValidationMessageBoxBase.DISCARD_BUTON_ID),Ext.button.Button);return this.discardButton$mY08}return{extend:"com.coremedia.cms.editor.sdk.components.StudioDialog",discardButton$mY08:null,constructor:ValidationMessageBoxBase$,super$mY08:function(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.constructor.apply(this,
arguments)},afterRender:afterRender,discard:discard,close:close,correct:correct,getDiscardButton$mY08:getDiscardButton,statics:{ID:"cm-elastic-social-userdetail-validation-message-box",DISCARD_BUTON_ID:"cm-elastic-social-userdetail-validation-message-box-discard-button",CORRECT_BUTTON_ID:"cm-elastic-social-userdetail-validation-message-box-correct-button",MESSAGE_FIELD_ID:"cm-elastic-social-userdetail-validation-message-box-message"},requires:["Ext","Ext.button.Button","com.coremedia.cms.editor.sdk.components.StudioDialog"]}});Ext.define("com.coremedia.elastic.social.studio.usermanagement.ValidationMessageBox",function(ValidationMessageBox){function ValidationMessageBox$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.usermanagement.ValidationMessageBoxBase,{});var defaults_$1=AS3.cast(ValidationMessageBox,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.modal=true;config_$1.stateId="validationMessageWindowState";AS3.setBindable(config_$1,"stateful",
true);config_$1.closeAction="close";config_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.usermanagement.ValidationMessageBoxBase.ID);config_$1.resizable=false;config_$1.constrainHeader=true;config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.WindowSkin.GRID_200_DARK.getSkin());AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","email_window_title"));var container_36_5_$1=AS3.cast(Ext.container.Container,
{});container_36_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.CARD_200);var displayField_38_9_$1=AS3.cast(Ext.form.field.Display,{});displayField_38_9_$1["id"]=com.coremedia.elastic.social.studio.usermanagement.ValidationMessageBoxBase.MESSAGE_FIELD_ID;AS3.setBindable(displayField_38_9_$1,"width","100%");AS3.setBindable(displayField_38_9_$1,"value",AS3.getBindable(config,"message"));container_36_5_$1.items=[displayField_38_9_$1];var layout_VBox_43_9_$1=AS3.cast(Ext.layout.container.VBox,
{});AS3.setBindable(layout_VBox_43_9_$1,"align","stretch");AS3.setBindable(container_36_5_$1,"layout",layout_VBox_43_9_$1);config_$1.items=[container_36_5_$1];var button_48_5_$1=AS3.cast(Ext.button.Button,{});button_48_5_$1["id"]=com.coremedia.elastic.social.studio.usermanagement.ValidationMessageBoxBase.CORRECT_BUTTON_ID;button_48_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_PRIMARY.getSkin());AS3.setBindable(button_48_5_$1,"scale","small");AS3.setBindable(button_48_5_$1,
"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_validate_error_messagebox_correct_button")));AS3.setBindable(button_48_5_$1,"handler",AS3.bind(this,"correct"));var button_53_5_$1=AS3.cast(Ext.button.Button,{});button_53_5_$1["id"]=com.coremedia.elastic.social.studio.usermanagement.ValidationMessageBoxBase.DISCARD_BUTON_ID;button_53_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_SECONDARY.getSkin());
AS3.setBindable(button_53_5_$1,"scale","small");AS3.setBindable(button_53_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_validate_error_messagebox_discard_button")));AS3.setBindable(button_53_5_$1,"handler",AS3.bind(this,"discard"));config_$1.buttons=[button_48_5_$1,button_53_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$ziYN(config_$1)}return{extend:"com.coremedia.elastic.social.studio.usermanagement.ValidationMessageBoxBase",
alias:"widget.com.coremedia.elastic.social.studio.config.validationMessageBox",constructor:ValidationMessageBox$,super$ziYN:function(){com.coremedia.elastic.social.studio.usermanagement.ValidationMessageBoxBase.prototype.constructor.apply(this,arguments)},config:{message:null,discardCallback:null},requires:["Ext.button.Button","Ext.container.Container","Ext.form.field.Display","Ext.layout.container.VBox","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.elastic.social.studio.usermanagement.ValidationMessageBoxBase",
"com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.ContainerSkin","com.coremedia.ui.skins.WindowSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.elastic.social.studio.usermanagement.actions.DeleteUserImageActionBase",function(DeleteUserImageActionBase){function DeleteUserImageActionBase$(config){if(arguments.length<=0)config=null;this.userImageValueExpression$vKY1=AS3.getBindable(config,"userValueExpression");this.success$vKY1=AS3.getBindable(config,"success");this.super$vKY1(config);this.setHandler(AS3.bind(this,"askForDeletion$vKY1"),this);this.userImageValueExpression$vKY1.addChangeListener(AS3.bind(this,"updateDisabled$vKY1"))}
function addComponent(comp){var this$=this;Ext.Action.prototype.addComponent.call(this,comp);comp.addListener("destroy",function(){this$.userImageValueExpression$vKY1.removeChangeListener(AS3.bind(this$,"updateDisabled$vKY1"))});this.updateDisabled$vKY1()}function updateDisabled(){var newValue=this.userImageValueExpression$vKY1.getValue();this.setDisabled(!newValue||newValue.length===0)}function askForDeletion(){var this$=this;com.coremedia.cms.editor.sdk.util.MessageBoxUtilInternal.show(mx.resources.ResourceManager.getInstance().getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"userdetail_delete_image_message_title"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_delete_image_message"),null,{yes:mx.resources.ResourceManager.getInstance().getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","btn_confirm"),no:mx.resources.ResourceManager.getInstance().getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","btn_cancel")},function(btn){if(btn==="yes")this$.deleteImageBlob$vKY1()})}
function deleteImageBlob(){var author=AS3.as(this.userImageValueExpression$vKY1.getValue(),com.coremedia.elastic.social.studio.model.User);if(author)author.removeImage();this.userImageValueExpression$vKY1.setValue(null);if(this.success$vKY1)this.success$vKY1()}return{extend:"Ext.Action",userImageValueExpression$vKY1:null,success$vKY1:null,constructor:DeleteUserImageActionBase$,super$vKY1:function(){Ext.Action.prototype.constructor.apply(this,arguments)},addComponent:addComponent,updateDisabled$vKY1:updateDisabled,
askForDeletion$vKY1:askForDeletion,deleteImageBlob$vKY1:deleteImageBlob,requires:["Ext.Action","com.coremedia.cms.editor.sdk.util.MessageBoxUtilInternal","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","mx.resources.ResourceManager"],uses:["com.coremedia.elastic.social.studio.model.User"]}});Ext.define("com.coremedia.elastic.social.studio.usermanagement.actions.DeleteUserImageAction",function(DeleteUserImageAction){function DeleteUserImageAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.usermanagement.actions.DeleteUserImageActionBase,{});var defaults_$1=AS3.cast(DeleteUserImageAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"iconCls",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.icons.CoreIcons",
"remove")));net.jangaroo.ext.Exml.apply(config_$1,config);this.super$QnMG(config_$1)}return{extend:"com.coremedia.elastic.social.studio.usermanagement.actions.DeleteUserImageActionBase",constructor:DeleteUserImageAction$,super$QnMG:function(){com.coremedia.elastic.social.studio.usermanagement.actions.DeleteUserImageActionBase.prototype.constructor.apply(this,arguments)},config:{userValueExpression:null,success:null},requires:["com.coremedia.elastic.social.studio.usermanagement.actions.DeleteUserImageActionBase",
"com.coremedia.icons.CoreIcons_properties","mx.resources.ResourceManager","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.elastic.social.studio.usermanagement.UserManagementWindowBase",function(UserManagementWindowBase){function UserManagementWindowBase$(config){if(arguments.length<=0)config=null;this.userAdministration$h2tf=AS3.getBindable(config,"moderation").getUserAdministration();this.detailWindowOpenedViaList$h2tf=AS3.as(AS3.getBindable(config,"detailWindowOpenedViaList"),Boolean);this.userStateValueExpression$h2tf=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.utils.ValueExpressionUtil.createPath([com.coremedia.elastic.social.studio.model.UserAdministrationPropertyNames.EDITED,
com.coremedia.elastic.social.studio.model.UserPropertyNames.STATE]),this.userAdministration$h2tf);this.userStateValueExpression$h2tf.addChangeListener(AS3.bind(this,"stateChanged$h2tf"));if(!this.detailWindowOpenedViaList$h2tf&&this.userAdministration$h2tf.hasEdited())this.userAdministration$h2tf.getSearchHistory().add(this.userAdministration$h2tf.getEdited().getName());this.super$h2tf(config)}function close(){if(this.getUserDetailsPanel$h2tf()&&AS3.cast(Ext.layout.container.Card,this.getLayout()).getActiveItem()===
this.getUserDetailsPanel$h2tf())this.getUserDetailsPanel$h2tf().applyChangesIfNeeded(AS3.bind(this,"destroy"));else this.destroy()}function destroy(){var params=Array.prototype.slice.call(arguments);this.userStateValueExpression$h2tf.removeChangeListener(AS3.bind(this,"stateChanged$h2tf"));com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.destroy.call(this)}function afterRender(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.afterRender.call(this);this.handleResize$h2tf();
this.switchToSearchList()}function handleResize(){var height=this.getUserDetailsPanel$h2tf().getHeight();var maxHeight=Ext.getBody().getViewSize();var calcMaxHeight=maxHeight.height-50;if(calcMaxHeight>height){this.getUserListContainer$h2tf().setHeight(height);this.getUserDetailsPanel$h2tf().setHeight(height)}else{this.getUserListContainer$h2tf().setHeight(calcMaxHeight);this.getUserDetailsPanel$h2tf().setHeight(calcMaxHeight)}}function stateChanged(){if(this.userAdministration$h2tf.hasEdited()){var author=
this.userAdministration$h2tf.getEdited();if(author&&author.isAnonymous())this.switchToSearchList()}}function switchToSearchListAndRefresh(){this.switchToSearchList();this.getUserListContainer$h2tf().getSearchBar().search(false)}function switchToSearchList(){AS3.cast(Ext.layout.container.Card,this.getLayout()).setActiveItem(UserManagementWindowBase.USER_LIST_PANEL_INDEX);this.getUserListContainer$h2tf().getUserList().initSelection()}function switchToUserDetailPanel(openViaList,userAdmin){var this$=
this;this.detailWindowOpenedViaList$h2tf=openViaList;if(!this.detailWindowOpenedViaList$h2tf){this.userAdministration$h2tf=userAdmin;if(!this.detailWindowOpenedViaList$h2tf&&this.userAdministration$h2tf.hasEdited())this.userAdministration$h2tf.getSearchHistory().add(this.userAdministration$h2tf.getEdited().getName())}if(this.userAdministration$h2tf.hasEdited()){var author=this.userAdministration$h2tf.getEdited();if(!author.isAnonymous())com.coremedia.ui.util.EventUtil.invokeLater(function(){AS3.cast(Ext.layout.container.Card,
this$.getLayout()).setActiveItem(UserManagementWindowBase.USER_DETAILS_PANEL_INDEX)})}}function isDetailWindowOpenedViaList(){return this.detailWindowOpenedViaList$h2tf}function getUserDetailsPanel(){if(!this.userDetailsPanel$h2tf)this.userDetailsPanel$h2tf=AS3.as(this.getComponent(UserManagementWindowBase.USER_DETAILS_ITEM_ID),com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsPanel);return this.userDetailsPanel$h2tf}function getUserListContainer(){if(!this.userListContainer$h2tf)this.userListContainer$h2tf=
AS3.as(this.getComponent(UserManagementWindowBase.USER_LIST_ITEM_ID),com.coremedia.elastic.social.studio.usermanagement.list.UserListContainer);return this.userListContainer$h2tf}return{extend:"com.coremedia.cms.editor.sdk.components.StudioDialog",userAdministration$h2tf:null,userStateValueExpression$h2tf:null,detailWindowOpenedViaList$h2tf:false,userDetailsPanel$h2tf:null,userListContainer$h2tf:null,constructor:UserManagementWindowBase$,super$h2tf:function(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.constructor.apply(this,
arguments)},close:close,destroy:destroy,afterRender:afterRender,handleResize$h2tf:handleResize,stateChanged$h2tf:stateChanged,switchToSearchListAndRefresh:switchToSearchListAndRefresh,switchToSearchList:switchToSearchList,switchToUserDetailPanel:switchToUserDetailPanel,isDetailWindowOpenedViaList:isDetailWindowOpenedViaList,getUserDetailsPanel$h2tf:getUserDetailsPanel,getUserListContainer$h2tf:getUserListContainer,statics:{ID:"cm-user-management-window",USER_LIST_ITEM_ID:"userList",USER_DETAILS_ITEM_ID:"cm-user-details-container",
USER_DETAILS_PANEL_INDEX:0,USER_LIST_PANEL_INDEX:1},requires:["Ext","Ext.layout.container.Card","com.coremedia.cms.editor.sdk.components.StudioDialog","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.util.EventUtil"],uses:["com.coremedia.elastic.social.studio.model.UserAdministrationPropertyNames","com.coremedia.elastic.social.studio.model.UserPropertyNames","com.coremedia.elastic.social.studio.model.utils.ValueExpressionUtil","com.coremedia.elastic.social.studio.usermanagement.details.UserDetailsPanel",
"com.coremedia.elastic.social.studio.usermanagement.list.UserListContainer"]}});Ext.define("com.coremedia.elastic.social.studio.actions.MultiAction",function(MultiAction){return{}});Ext.define("com.coremedia.elastic.social.studio.actions.ContributionActionBase",function(ContributionActionBase){function ContributionActionBase$(config){if(arguments.length<=0)config=null;if(AS3.getBindable(config,"contributionValueExpression"))this.contributionValueExpression$dBSE=AS3.getBindable(config,"contributionValueExpression");else this.contributionValueExpression$dBSE=com.coremedia.ui.data.ValueExpressionFactory.createFromValue();if(AS3.getBindable(config,"contributions"))this.contributionValueExpression$dBSE.setValue(AS3.getBindable(config,
"contributions"));this.hideOnDisable$dBSE=AS3.getBindable(config,"hideOnDisable");this.super$dBSE(config)}function setDisabled(disabled){if(this.hideOnDisable$dBSE)this.setHidden(disabled);else com.coremedia.ui.actions.DependencyTrackedAction.prototype.setDisabled.call(this,disabled)}function getValueExpression(){return this.contributionValueExpression$dBSE}function isDisabledFor(contributions){return false}function isHiddenFor(contributions){return false}function calculateDisabled(){var contributions=
this.getContributions();return!contributions||contributions.length===0||this.isDisabledFor(contributions)}function calculateHidden(){return this.isHiddenFor(this.getContributions())}function getContributions(){var value=this.contributionValueExpression$dBSE.getValue();return AS3.is(value,com.coremedia.elastic.social.studio.model.Contribution)?[AS3.as(value,com.coremedia.elastic.social.studio.model.Contribution)]:AS3.is(value,Array)?AS3.as(value,Array):[]}function setContributions(contributions){this.contributionValueExpression$dBSE.setValue(contributions)}
return{extend:"com.coremedia.ui.actions.DependencyTrackedAction",mixins:["com.coremedia.ui.actions.ValueExpressionAction"],contributionValueExpression$dBSE:null,hideOnDisable$dBSE:false,constructor:ContributionActionBase$,super$dBSE:function(){com.coremedia.ui.actions.DependencyTrackedAction.prototype.constructor.apply(this,arguments)},setDisabled:setDisabled,getValueExpression:getValueExpression,isDisabledFor:isDisabledFor,isHiddenFor:isHiddenFor,calculateDisabled:calculateDisabled,calculateHidden:calculateHidden,
getContributions:getContributions,setContributions:setContributions,requires:["com.coremedia.ui.actions.DependencyTrackedAction","com.coremedia.ui.actions.ValueExpressionAction","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.elastic.social.studio.model.Contribution"]}});Ext.define("com.coremedia.elastic.social.studio.actions.ContributionAction",function(ContributionAction){function ContributionAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.actions.ContributionActionBase,{});var defaults_$1=AS3.cast(ContributionAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$4TAT(config_$1)}return{extend:"com.coremedia.elastic.social.studio.actions.ContributionActionBase",
constructor:ContributionAction$,super$4TAT:function(){com.coremedia.elastic.social.studio.actions.ContributionActionBase.prototype.constructor.apply(this,arguments)},config:{contributionValueExpression:null,contributions:null,hideOnDisable:false},requires:["com.coremedia.elastic.social.studio.actions.ContributionActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.elastic.social.studio.actions.RejectUserActionBase",function(RejectUserActionBase){function RejectUserActionBase$(config){if(arguments.length<=0)config=null;AS3.setBindable(config,"handler",AS3.bind(this,"rejectUser$WP18"));this.invalidPropertyCallback$WP18=AS3.getBindable(config,"invalidPropertyCallback");this.super$WP18(config)}function isDisabledFor(contributions){var disabled=true;contributions.forEach(function(contribution){var user=AS3.as(contribution,com.coremedia.elastic.social.studio.model.User);
if(user)if(user.getContributionState()!=="APPROVED")disabled=false});return disabled}function rejectUser(){var this$=this;var moderationContributionAdministration=com.coremedia.elastic.social.studio.model.impl.ModerationImpl.getInstance().getActiveContributionAdministration();var user=AS3.as(moderationContributionAdministration.getDisplayed(),com.coremedia.elastic.social.studio.model.User);if(user)if(user.hasChangedSinceLastModeration()||user&&user.hasStageChanges()&&user.hasLastModeratedProperties())user.reject(moderationContributionAdministration,
null,function(messages){this$.restoreUserFailed$WP18(messages)});else this.deleteUser$WP18(user)}function restoreUserFailed(messages){var message="";var i=1;for(var property in messages){message=message+i++ +") "+mx.resources.ResourceManager.getInstance().getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_validate_restore_"+messages[property])+"\x3cbr/\x3e";this.invalidPropertyCallback$WP18(property,mx.resources.ResourceManager.getInstance().getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"userdetail_validate_restore_"+messages[property]))}var validationMessageBoxConfig=AS3.cast(com.coremedia.elastic.social.studio.usermanagement.ValidationMessageBox,{});AS3.setBindable(validationMessageBoxConfig,"title",mx.resources.ResourceManager.getInstance().getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_validation_window_title"));AS3.setBindable(validationMessageBoxConfig,"message",message);var msgBox=AS3.cast(Ext.window.Window,Ext.ComponentManager.create(validationMessageBoxConfig));
msgBox.expand(true);msgBox.setSize(460,150);msgBox.show()}function deleteUser(user){var moderationContributionAdministration=com.coremedia.elastic.social.studio.model.impl.ModerationImpl.getInstance().getModerationContributionAdministration();var title=mx.resources.ResourceManager.getInstance().getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_delete_user_confirmation_title");var message=Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"userdetail_delete_user_confirmation_message"),Ext.util.Format.htmlEncode(user.getName()));var confirmationButtonText=mx.resources.ResourceManager.getInstance().getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","btn_confirm");var callback=function(button){if(button==="ok")user.reject(moderationContributionAdministration)};com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showConfirmation(title,message,confirmationButtonText,callback,false)}return{extend:"com.coremedia.elastic.social.studio.actions.ContributionAction",
invalidPropertyCallback$WP18:null,constructor:RejectUserActionBase$,super$WP18:function(){com.coremedia.elastic.social.studio.actions.ContributionAction.prototype.constructor.apply(this,arguments)},isDisabledFor:isDisabledFor,rejectUser$WP18:rejectUser,restoreUserFailed$WP18:restoreUserFailed,deleteUser$WP18:deleteUser,requires:["Ext.ComponentManager","Ext.String","Ext.util.Format","Ext.window.Window","com.coremedia.cms.editor.sdk.util.MessageBoxUtil","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties",
"com.coremedia.elastic.social.studio.actions.ContributionAction","mx.resources.ResourceManager"],uses:["com.coremedia.elastic.social.studio.model.User","com.coremedia.elastic.social.studio.model.impl.ModerationImpl","com.coremedia.elastic.social.studio.usermanagement.ValidationMessageBox"]}});Ext.define("com.coremedia.elastic.social.studio.actions.ApproveCommentAction",function(ApproveCommentAction){function ApproveCommentAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.actions.ApproveCommentActionBase,{});var defaults_$1=AS3.cast(ApproveCommentAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$D6MV(config_$1)}return{extend:"com.coremedia.elastic.social.studio.actions.ApproveCommentActionBase",
constructor:ApproveCommentAction$,super$D6MV:function(){com.coremedia.elastic.social.studio.actions.ApproveCommentActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.elastic.social.studio.actions.ApproveCommentActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.elastic.social.studio.actions.ApproveCommentActionBase",function(ApproveCommentActionBase){function ApproveCommentActionBase$(config){if(arguments.length<=0)config=null;AS3.setBindable(config,"handler",AS3.bind(this,"approveComment$MVaG"));this.super$MVaG(config)}function isDisabledFor(contributions){return!contributions.some(function(contribution){return contribution.hasStageChanges()||contribution.hasLocalModifications()||contribution.getContributionState()!=="APPROVED"||
contribution.getLastComplaintDate()})}function approveComment(){var comment=this.getContributions()?AS3.as(this.getContributions()[0],com.coremedia.elastic.social.studio.model.Comment):null;comment&&comment.approve(com.coremedia.elastic.social.studio.model.impl.ModerationImpl.getInstance().getActiveContributionAdministration(),function(){var author=comment.getAuthor();if(author&&!author.isAnonymous())author.invalidate()})}return{extend:"com.coremedia.elastic.social.studio.actions.ContributionAction",
constructor:ApproveCommentActionBase$,super$MVaG:function(){com.coremedia.elastic.social.studio.actions.ContributionAction.prototype.constructor.apply(this,arguments)},isDisabledFor:isDisabledFor,approveComment$MVaG:approveComment,requires:["com.coremedia.elastic.social.studio.actions.ContributionAction"],uses:["com.coremedia.elastic.social.studio.model.Comment","com.coremedia.elastic.social.studio.model.impl.ModerationImpl"]}});Ext.define("com.coremedia.elastic.social.studio.actions.RejectCommentActionBase",function(RejectCommentActionBase){function RejectCommentActionBase$(config){if(arguments.length<=0)config=null;AS3.setBindable(config,"handler",AS3.bind(this,"rejectComment$2wOm"));this.super$2wOm(config)}function isDisabledFor(contributions){var disabled=true;contributions.forEach(function(contribution){var comment=AS3.as(contribution,com.coremedia.elastic.social.studio.model.Comment);if(comment)if(comment.getContributionState()!==
"REJECTED")disabled=false});return disabled}function rejectComment(){var comment=this.getContributions()?AS3.as(this.getContributions()[0],com.coremedia.elastic.social.studio.model.Comment):null;comment&&comment.reject(com.coremedia.elastic.social.studio.model.impl.ModerationImpl.getInstance().getActiveContributionAdministration(),function(){var author=comment.getAuthor();if(author&&!author.isAnonymous())author.invalidate()})}return{extend:"com.coremedia.elastic.social.studio.actions.ContributionAction",
constructor:RejectCommentActionBase$,super$2wOm:function(){com.coremedia.elastic.social.studio.actions.ContributionAction.prototype.constructor.apply(this,arguments)},isDisabledFor:isDisabledFor,rejectComment$2wOm:rejectComment,requires:["com.coremedia.elastic.social.studio.actions.ContributionAction"],uses:["com.coremedia.elastic.social.studio.model.Comment","com.coremedia.elastic.social.studio.model.impl.ModerationImpl"]}});Ext.define("com.coremedia.elastic.social.studio.actions.ApproveUserActionBase",function(ApproveUserActionBase){function ApproveUserActionBase$(config){if(arguments.length<=0)config=null;AS3.setBindable(config,"handler",AS3.bind(this,"approveUser$hobe"));this.invalidPropertyCallback$hobe=AS3.getBindable(config,"invalidPropertyCallback");this.changesDiscardedCallback$hobe=AS3.getBindable(config,"changesDiscardedCallback");this.super$hobe(config)}function isDisabledFor(contributions){return!contributions.some(function(contribution){return contribution.hasStageChanges()||
contribution.hasLocalModifications()||contribution.getContributionState()!=="APPROVED"||contribution.getLastComplaintDate()})}function approveUser(){var this$=this;var moderationContributionAdministration=com.coremedia.elastic.social.studio.model.impl.ModerationImpl.getInstance().getModerationContributionAdministration();var user=AS3.as(moderationContributionAdministration.getDisplayed(),com.coremedia.elastic.social.studio.model.User);if(user)user.approve(moderationContributionAdministration,null,
function(messages){var message="";var i=1;for(var property in messages){message=message+i++ +") "+mx.resources.ResourceManager.getInstance().getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_validate_"+messages[property])+"\x3cbr/\x3e";this$.invalidPropertyCallback$hobe(property,mx.resources.ResourceManager.getInstance().getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_validate_"+messages[property]))}var validationMessageBoxConfig=
AS3.cast(com.coremedia.elastic.social.studio.usermanagement.ValidationMessageBox,{});AS3.setBindable(validationMessageBoxConfig,"title",mx.resources.ResourceManager.getInstance().getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_validation_window_title"));AS3.setBindable(validationMessageBoxConfig,"message",message);AS3.setBindable(validationMessageBoxConfig,"discardCallback",AS3.bind(this$,"discardChanges$hobe"));var msgBox=AS3.cast(Ext.window.Window,Ext.ComponentManager.create(validationMessageBoxConfig));
msgBox.expand(true);msgBox.setSize(460,150);msgBox.show()})}function discardChanges(){var this$=this;var userAdministration=com.coremedia.elastic.social.studio.model.impl.ModerationImpl.getInstance().getUserAdministration();var moderationContributionAdministration=com.coremedia.elastic.social.studio.model.impl.ModerationImpl.getInstance().getActiveContributionAdministration();userAdministration.cancelEditing(AS3.as(moderationContributionAdministration.getDisplayed(),com.coremedia.elastic.social.studio.model.User),
function(){this$.changesDiscardedCallback$hobe()})}return{extend:"com.coremedia.elastic.social.studio.actions.ContributionAction",invalidPropertyCallback$hobe:null,changesDiscardedCallback$hobe:null,constructor:ApproveUserActionBase$,super$hobe:function(){com.coremedia.elastic.social.studio.actions.ContributionAction.prototype.constructor.apply(this,arguments)},isDisabledFor:isDisabledFor,approveUser$hobe:approveUser,discardChanges$hobe:discardChanges,requires:["Ext.ComponentManager","Ext.window.Window",
"com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.elastic.social.studio.actions.ContributionAction","mx.resources.ResourceManager"],uses:["com.coremedia.elastic.social.studio.model.User","com.coremedia.elastic.social.studio.model.impl.ModerationImpl","com.coremedia.elastic.social.studio.usermanagement.ValidationMessageBox"]}});Ext.define("com.coremedia.elastic.social.studio.actions.MetadataToContributionActionAdapter",function(MetadataToContributionActionAdapter){function MetadataToContributionActionAdapter$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.actions.MetadataToContributionActionAdapterBase,{});var defaults_$1=AS3.cast(MetadataToContributionActionAdapter,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);
this.super$JuV8(config_$1)}return{extend:"com.coremedia.elastic.social.studio.actions.MetadataToContributionActionAdapterBase",metadata:{"":["PublicApi"]},constructor:MetadataToContributionActionAdapter$,super$JuV8:function(){com.coremedia.elastic.social.studio.actions.MetadataToContributionActionAdapterBase.prototype.constructor.apply(this,arguments)},config:{backingAction:null},requires:["com.coremedia.elastic.social.studio.actions.MetadataToContributionActionAdapterBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.elastic.social.studio.actions.AbstractMultiAction",function(AbstractMultiAction){function AbstractMultiAction$(config){var superConfig=AS3.cast(AbstractMultiAction,{});superConfig["config"]=config;AS3.setBindable(superConfig,"handler",AS3.bind(this,"doAction"));this.super$lLNs(superConfig)}function doAction(){if(this.validationCheck===undefined)this.doRequest$lLNs();else this.validationCheck(AS3.bind(this,"doRequest$lLNs"))}function doRequest(){var bean=AS3.as(this.valueExpression.getValue(),
com.coremedia.ui.data.RemoteBean);if(bean)Ext.Ajax.request({url:this.getUrl(bean),method:"POST",success:function(response,opts){bean.invalidate();if(AS3.cast(AbstractMultiAction,this).success)AS3.cast(AbstractMultiAction,this).success(response,bean)},failure:function(response,opts){bean.invalidate();if(AS3.cast(AbstractMultiAction,this).failure)AS3.cast(AbstractMultiAction,this).failure(response,bean)},scope:this,params:{"params":this.params?this.params():""}})}function getUrl(bean){if(bean){var url=
bean.getUri();if(url.lastIndexOf("/",0)==url.length-1)url=url+AS3.cast(com.coremedia.elastic.social.studio.actions.MultiAction,this).getActionName();else url=url+"/"+AS3.cast(com.coremedia.elastic.social.studio.actions.MultiAction,this).getActionName();return url}return""}return{extend:"Ext.Action",constructor:AbstractMultiAction$,super$lLNs:function(){Ext.Action.prototype.constructor.apply(this,arguments)},valueExpression:null,success:null,failure:null,params:null,validationCheck:null,doAction:doAction,
doRequest$lLNs:doRequest,getUrl:getUrl,requires:["Ext.Action","Ext.Ajax","com.coremedia.ui.data.RemoteBean"],uses:["com.coremedia.elastic.social.studio.actions.MultiAction"]}});Ext.define("com.coremedia.elastic.social.studio.actions.ApproveUserAction",function(ApproveUserAction){function ApproveUserAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.actions.ApproveUserActionBase,{});var defaults_$1=AS3.cast(ApproveUserAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$du7t(config_$1)}return{extend:"com.coremedia.elastic.social.studio.actions.ApproveUserActionBase",
constructor:ApproveUserAction$,super$du7t:function(){com.coremedia.elastic.social.studio.actions.ApproveUserActionBase.prototype.constructor.apply(this,arguments)},config:{invalidPropertyCallback:null,changesDiscardedCallback:null},requires:["com.coremedia.elastic.social.studio.actions.ApproveUserActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.elastic.social.studio.actions.MetadataToContributionActionAdapterBase",function(MetadataToContributionActionAdapterBase){function MetadataToContributionActionAdapterBase$(config){if(arguments.length<=0)config=null;this.backingContributionAction$LTwv=AS3.getBindable(config,"backingAction");var newConfig=AS3.cast(com.coremedia.elastic.social.studio.actions.MetadataToContributionActionAdapter,Ext.apply({iconCls:this.backingContributionAction$LTwv.getIconCls(),text:this.backingContributionAction$LTwv.getText(),
handler:AS3.bind(this,"delegateToBackingAction$LTwv")},config));this.super$LTwv(newConfig)}function isDisabledFor(metadata){if(!this.getContributionForMetadata$LTwv(this.getMetadata()))this.hide();else this.show();this.updateBackingContributionAction$LTwv(metadata);return this.backingContributionAction$LTwv["calculateDisabled"]()}function delegateToBackingAction(){this.updateBackingContributionAction$LTwv(this.getMetadata());this.backingContributionAction$LTwv.execute()}function updateBackingContributionAction(metadata){var metadataContribution=
this.getContributionForMetadata$LTwv(metadata);var contributionArray=[];if(metadataContribution)contributionArray.push(metadataContribution);this.backingContributionAction$LTwv.setContributions(contributionArray)}function getContributionForMetadata(metadata){return AS3.as(this.getBeanForMetadata(metadata),com.coremedia.elastic.social.studio.model.Contribution)}return{extend:"com.coremedia.cms.editor.sdk.actions.metadata.MetadataBeanAction",metadata:{"":["PublicApi"]},backingContributionAction$LTwv:null,
constructor:MetadataToContributionActionAdapterBase$,super$LTwv:function(){com.coremedia.cms.editor.sdk.actions.metadata.MetadataBeanAction.prototype.constructor.apply(this,arguments)},isDisabledFor:isDisabledFor,delegateToBackingAction$LTwv:delegateToBackingAction,updateBackingContributionAction$LTwv:updateBackingContributionAction,getContributionForMetadata$LTwv:getContributionForMetadata,requires:["Ext","com.coremedia.cms.editor.sdk.actions.metadata.MetadataBeanAction"],uses:["com.coremedia.elastic.social.studio.actions.MetadataToContributionActionAdapter",
"com.coremedia.elastic.social.studio.model.Contribution"]}});Ext.define("com.coremedia.elastic.social.studio.actions.RejectCommentAction",function(RejectCommentAction){function RejectCommentAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.actions.RejectCommentActionBase,{});var defaults_$1=AS3.cast(RejectCommentAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$2QA$(config_$1)}return{extend:"com.coremedia.elastic.social.studio.actions.RejectCommentActionBase",
constructor:RejectCommentAction$,super$2QA$:function(){com.coremedia.elastic.social.studio.actions.RejectCommentActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.elastic.social.studio.actions.RejectCommentActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.elastic.social.studio.actions.ShowInModerationAction",function(ShowInModerationAction){function ShowInModerationAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.actions.ShowInModerationActionBase,{});var defaults_$1=AS3.cast(ShowInModerationAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$993L(config_$1)}return{extend:"com.coremedia.elastic.social.studio.actions.ShowInModerationActionBase",
constructor:ShowInModerationAction$,super$993L:function(){com.coremedia.elastic.social.studio.actions.ShowInModerationActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.elastic.social.studio.actions.ShowInModerationActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.elastic.social.studio.actions.ShowInModerationActionBase",function(ShowInModerationActionBase){function ShowInModerationActionBase$(config){if(arguments.length<=0)config=null;AS3.setBindable(config,"handler",AS3.bind(this,"showContribution$DPb6"));this.super$DPb6(config)}function showContribution(){var contribution=this.getContributions()[0];com.coremedia.elastic.social.studio.util.ModerationAppUtil.showContributionInArchive(contribution)}function isDisabledFor(contributions){return AS3.as(contributions[0],
com.coremedia.elastic.social.studio.model.Contribution)?false:true}return{extend:"com.coremedia.elastic.social.studio.actions.ContributionAction",constructor:ShowInModerationActionBase$,super$DPb6:function(){com.coremedia.elastic.social.studio.actions.ContributionAction.prototype.constructor.apply(this,arguments)},showContribution$DPb6:showContribution,isDisabledFor:isDisabledFor,requires:["com.coremedia.elastic.social.studio.actions.ContributionAction"],uses:["com.coremedia.elastic.social.studio.model.Contribution",
"com.coremedia.elastic.social.studio.util.ModerationAppUtil"]}});Ext.define("com.coremedia.elastic.social.studio.actions.RejectUserAction",function(RejectUserAction){function RejectUserAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.actions.RejectUserActionBase,{});var defaults_$1=AS3.cast(RejectUserAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$U5ZN(config_$1)}return{extend:"com.coremedia.elastic.social.studio.actions.RejectUserActionBase",
constructor:RejectUserAction$,super$U5ZN:function(){com.coremedia.elastic.social.studio.actions.RejectUserActionBase.prototype.constructor.apply(this,arguments)},config:{invalidPropertyCallback:null},requires:["com.coremedia.elastic.social.studio.actions.RejectUserActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.elastic.social.studio.model.Moderation",function(Moderation){return{mixins:["com.coremedia.ui.data.Bean"],requires:["com.coremedia.ui.data.Bean"]}});Ext.define("com.coremedia.elastic.social.studio.model.impl.ArchiveContributionAdministration",function(ArchiveContributionAdministration){function ArchiveContributionAdministration$(moderation){this.super$Ovhj(moderation);this.moderation$Ovhj=moderation;var displayedValueExpression=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.utils.ValueExpressionUtil.createPath([com.coremedia.elastic.social.studio.model.ModerationPropertyNames.ARCHIVE_CONTRIBUTION_ADMINISTRATION,
com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.DISPLAYED]),moderation);displayedValueExpression.addChangeListener(AS3.bind(this,"loadEmails"));this.filterOptions$Ovhj={scope:"",term:"",status:"",author:"",fromDate:"",toDate:""};this.setSearchHistory$Ovhj(new com.coremedia.elastic.social.studio.model.impl.HistoryImpl)}function setSelectedContribution(selected){var this$=this;this.set(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.SELECTED_ARCHIVE_CONTRIBUTION,
selected);if(selected)AS3.as(selected,com.coremedia.elastic.social.studio.model.impl.ModeratedItemImpl).load(function(){selected.getTarget()&&selected.getTarget().load(function(target){this$.setDisplayed(target)})});else this.setDisplayed(null)}function getSelectedContribution(){var selected=AS3.as(this.get(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.SELECTED_ARCHIVE_CONTRIBUTION),com.coremedia.elastic.social.studio.model.ModeratedItem);return selected?selected:
null}function getSelectedContributionItems(){var selectedItems=AS3.as(this.get(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.SELECTED_ARCHIVE_ITEMS),Array);return selectedItems?selectedItems:[]}function removeContributionFromSelectedItems(moderatedItem){var arr=this.getSelectedContributionItems().slice();arr.splice(arr.indexOf(moderatedItem),1);this.setSelectedContributionItems(arr)}function updateList(fromFilter){var this$=this;if(arguments.length<=0)fromFilter=
false;AS3.as(this.moderation$Ovhj,com.coremedia.elastic.social.studio.model.impl.ModerationImpl).ensureTenantAwareESUriPrefix(function(){this$.doUpdateList$Ovhj(fromFilter)})}function doUpdateList(fromFilter){var this$=this;if(arguments.length<=0)fromFilter=false;var updateRequestId=this.updateRequestCounter$Ovhj++;this.mostRecentUpdateRequest$Ovhj=updateRequestId;var rsm=new com.coremedia.ui.data.impl.RemoteServiceMethod(this.getArchivedUrl$Ovhj(),"GET");rsm.request(null,function(response){if(updateRequestId===
this$.mostRecentUpdateRequest$Ovhj){var archivedItems=response.getResponseJSON()["hits"]||[];this$.set(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.ARCHIVED_LIST_ITEMS,archivedItems);var archivedItemsTotalSize=response.getResponseJSON()["total"]||[];this$.set(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.ARCHIVED_LIST_TOTAL_SIZE,archivedItemsTotalSize);if((!this$.getSelectedContribution()||fromFilter)&&archivedItems.length>0){function setSelectedContributionLater(){if(com.coremedia.ui.util.Queues.allEmpty())this$.setSelectedContributionItems(archivedItems,
true);else com.coremedia.ui.util.EventUtil.invokeLater(setSelectedContributionLater)}com.coremedia.ui.util.EventUtil.invokeLater(setSelectedContributionLater)}else if(archivedItems.length===0)this$.setSelectedContributionItems(null);else this$.invalidateSelectedContributionItems$Ovhj()}},function(response){this$.set(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.ARCHIVED_LIST_ITEMS,null);com.coremedia.elastic.social.studio.model.impl.RemoteErrorHandler.handleRemoteErrorFromResponse(response)})}
function invalidateSelectedContributionItems(){this.getSelectedContributionItems().forEach(function(modItem){modItem.getTarget()&&modItem.getTarget().invalidate()})}function setSelectedContributionItems(items,selectOnlyFirst){if(arguments.length<=1)selectOnlyFirst=false;if(selectOnlyFirst&&items&&items[0]){var singleItemArray=[];singleItemArray.push(items[0]);this.set(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.SELECTED_ARCHIVE_ITEMS,singleItemArray);this.setSelectedContribution(items[0])}else if(items){this.set(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.SELECTED_ARCHIVE_ITEMS,
items);this.setSelectedContribution(items[0])}else{this.set(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.SELECTED_ARCHIVE_ITEMS,null);this.setSelectedContribution(null)}this.invalidateSelectedContributionItems$Ovhj()}function setDisplayed(displayed){this.set(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.DISPLAYED,displayed);this.getDisplayed()&&this.getDisplayed().invalidate()}function getDisplayed(){return AS3.as(this.get(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.DISPLAYED),
com.coremedia.elastic.social.studio.model.Contribution)}function hasDisplayed(){return this.getDisplayed()!=null}function registerSelectedChangeListener(){var selectedValueExpression=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.SELECTED_ARCHIVE_CONTRIBUTION,this);selectedValueExpression.addChangeListener(AS3.bind(this,"selectAndValidate$Ovhj"));var lastComplaintDateValueExpression=selectedValueExpression.extendBy(com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames.LAST_COMPLAINT_DATE);
lastComplaintDateValueExpression.addChangeListener(AS3.bind(this,"selectAndInvalidateIfNecessary$Ovhj"));this.selectedValueExpressions$Ovhj=[];this.selectedValueExpressions$Ovhj.push(selectedValueExpression,lastComplaintDateValueExpression)}function removeSelectedChangeListener(){for(var i=0;this.selectedValueExpressions$Ovhj&&i<this.selectedValueExpressions$Ovhj.length;i++){AS3.as(this.selectedValueExpressions$Ovhj[i],com.coremedia.ui.data.ValueExpression).removeChangeListener(AS3.bind(this,"selectAndValidate$Ovhj"));
AS3.as(this.selectedValueExpressions$Ovhj[i],com.coremedia.ui.data.ValueExpression).removeChangeListener(AS3.bind(this,"selectAndInvalidateIfNecessary$Ovhj"))}this.selectedValueExpressions$Ovhj=null;this.set(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.SELECTED_ARCHIVE_ITEMS,null)}function setSearchHistory(history){this.set(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.FILTER_HISTORY,history)}function getFilterHistory(){return AS3.as(this.get(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.FILTER_HISTORY),
com.coremedia.elastic.social.studio.model.History)}function applyFilter(scope,term,status,author,fromDate,toDate){this.filterOptions$Ovhj.scope=scope;this.filterOptions$Ovhj.term=term;this.filterOptions$Ovhj.status=status;this.filterOptions$Ovhj.author=author;this.filterOptions$Ovhj.fromDate=fromDate?String(fromDate.getTime()):"";this.filterOptions$Ovhj.toDate=toDate?String(toDate.getTime()):"";this.getFilterHistory().add(this.filterOptions$Ovhj);this.updateList(true)}function getArchivedUrl(){var defaultUrl=
AS3.as(this.moderation$Ovhj,com.coremedia.elastic.social.studio.model.impl.ModerationImpl).getTenantAwareESUriPrefix()+"/archive?direction\x3d"+this.getSorting();if(this.filterOptions$Ovhj.scope)defaultUrl=defaultUrl.concat("\x26filterScope\x3d"+this.filterOptions$Ovhj.scope);if(this.filterOptions$Ovhj.term)defaultUrl=defaultUrl.concat("\x26filterTerm\x3d"+this.filterOptions$Ovhj.term);if(this.filterOptions$Ovhj.status)defaultUrl=defaultUrl.concat("\x26filterStatus\x3d"+this.filterOptions$Ovhj.status);
if(this.filterOptions$Ovhj.author)defaultUrl=defaultUrl.concat("\x26filterAuthor\x3d"+this.filterOptions$Ovhj.author);if(this.filterOptions$Ovhj.fromDate)defaultUrl=defaultUrl.concat("\x26fromDate\x3d"+this.filterOptions$Ovhj.fromDate);if(this.filterOptions$Ovhj.toDate)defaultUrl=defaultUrl.concat("\x26toDate\x3d"+this.filterOptions$Ovhj.toDate);return defaultUrl}function selectAndInvalidateIfNecessary(){if(this.oldSelected$Ovhj===this.getSelectedContribution()&&this.getSelectedContribution()&&this.oldComplaintDate$Ovhj!==
this.getSelectedContribution().getLastComplaintDate())this.selectedChanged$Ovhj()}function selectAndValidate(){this.oldSelected$Ovhj=this.getSelectedContribution();if(this.oldSelected$Ovhj)this.oldComplaintDate$Ovhj=this.oldSelected$Ovhj.getLastComplaintDate();else this.oldComplaintDate$Ovhj=null;this.selectedChanged$Ovhj()}function selectedChanged(){var selected=this.getSelectedContribution();if(!selected)this.setSelectedContribution(null)}return{extend:"com.coremedia.elastic.social.studio.model.impl.AbstractContributionAdministration",
selectedValueExpressions$Ovhj:null,oldSelected$Ovhj:null,oldComplaintDate$Ovhj:undefined,filterOptions$Ovhj:null,moderation$Ovhj:null,updateRequestCounter$Ovhj:0,mostRecentUpdateRequest$Ovhj:0,constructor:ArchiveContributionAdministration$,super$Ovhj:function(){com.coremedia.elastic.social.studio.model.impl.AbstractContributionAdministration.prototype.constructor.apply(this,arguments)},setSelectedContribution:setSelectedContribution,getSelectedContribution:getSelectedContribution,getSelectedContributionItems:getSelectedContributionItems,
removeContributionFromSelectedItems:removeContributionFromSelectedItems,updateList:updateList,doUpdateList$Ovhj:doUpdateList,invalidateSelectedContributionItems$Ovhj:invalidateSelectedContributionItems,setSelectedContributionItems:setSelectedContributionItems,setDisplayed:setDisplayed,getDisplayed:getDisplayed,hasDisplayed:hasDisplayed,registerSelectedChangeListener:registerSelectedChangeListener,removeSelectedChangeListener:removeSelectedChangeListener,setSearchHistory$Ovhj:setSearchHistory,getFilterHistory:getFilterHistory,
applyFilter:applyFilter,getArchivedUrl$Ovhj:getArchivedUrl,selectAndInvalidateIfNecessary$Ovhj:selectAndInvalidateIfNecessary,selectAndValidate$Ovhj:selectAndValidate,selectedChanged$Ovhj:selectedChanged,requires:["com.coremedia.elastic.social.studio.model.impl.AbstractContributionAdministration","com.coremedia.ui.data.ValueExpression","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.impl.RemoteServiceMethod","com.coremedia.ui.util.EventUtil","com.coremedia.ui.util.Queues"],uses:["com.coremedia.elastic.social.studio.model.Contribution",
"com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames","com.coremedia.elastic.social.studio.model.History","com.coremedia.elastic.social.studio.model.ModeratedItem","com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames","com.coremedia.elastic.social.studio.model.ModerationPropertyNames","com.coremedia.elastic.social.studio.model.impl.HistoryImpl","com.coremedia.elastic.social.studio.model.impl.ModeratedItemImpl","com.coremedia.elastic.social.studio.model.impl.ModerationImpl",
"com.coremedia.elastic.social.studio.model.impl.RemoteErrorHandler","com.coremedia.elastic.social.studio.model.utils.ValueExpressionUtil"]}});Ext.define("com.coremedia.elastic.social.studio.model.impl.ModerationContributionAdministration",function(ModerationContributionAdministration){var MODE_LIST$static="list";var MODE_LAST$static="last";function ModerationContributionAdministration$(moderation){this.super$0Xqt(moderation);this.moderation$0Xqt=moderation;this.set(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.PROCESS_COUNTER,0);this.set(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.MODE,
MODE_LIST$static);this.set(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.COMMENT_REJECTED_MAIL,null);var displayedValueExpression=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.DISPLAYED,this);displayedValueExpression.addChangeListener(AS3.bind(this,"loadEmails"))}function setSelectedContribution(selected){var this$=this;this.set(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.SELECTED_MODERATION_CONTRIBUTION,
selected);var singleItemArray=[];singleItemArray.push(selected);this.setSelectedModerationContributionItems$0Xqt(singleItemArray);if(this.isListMode())if(selected&&selected.getTarget()){var isContributionNotInListAfterArchiveModeration=selected.getTarget().getContributionState()==="APPROVED"&&!selected.getLastComplaintDate();if(isContributionNotInListAfterArchiveModeration)this.setDisplayed(null);else selected.getTarget().load(function(target){this$.setDisplayed(target)})}else this.setDisplayed(null)}
function getSelectedContribution(){var selected=AS3.as(this.get(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.SELECTED_MODERATION_CONTRIBUTION),com.coremedia.elastic.social.studio.model.ModeratedItem);return selected?selected:null}function getSelectedContributionItems(){var selectedItems=AS3.as(this.get(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.SELECTED_MODERATION_ITEMS),Array);return selectedItems?selectedItems:[]}function updateList(fromFilter){if(arguments.length<=
0)fromFilter=false;AS3.as(this.moderation$0Xqt,com.coremedia.elastic.social.studio.model.impl.ModerationImpl).ensureTenantAwareESUriPrefix(AS3.bind(this,"updateModerationInfo$0Xqt"))}function updateModerationInfo(tenantAwareUriPrefix){var this$=this;var updateRequestId=this.updateRequestCounter$0Xqt++;this.mostRecentUpdateRequest$0Xqt=updateRequestId;var rsm=new com.coremedia.ui.data.impl.RemoteServiceMethod(tenantAwareUriPrefix+"/moderation"+this.getModerationQuerySuffix$0Xqt(),"GET");rsm.request(null,
function(response){if(updateRequestId===this$.mostRecentUpdateRequest$0Xqt){var moderationInfo=response.getResponseJSON();var moderatedItems=moderationInfo[com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.MODERATED_ITEMS]||[];this$.set(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.MODERATED_ITEMS,moderatedItems);if(this$.isListMode()&&moderatedItems.length>0&&!this$.getSelectedContribution())this$.setSelectedContribution(moderatedItems[0]);
var filterCategories=this$.get(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.FILTER_CATEGORIES)||[];var newFilterCategories=moderationInfo[com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.FILTER_CATEGORIES]||[];if(!com.coremedia.ui.util.ObjectUtils.equal(com.coremedia.ui.util.ObjectUtils.toJson(filterCategories),com.coremedia.ui.util.ObjectUtils.toJson(newFilterCategories))){this$.set(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.FILTER_CATEGORIES,
newFilterCategories);this$.getCategoryBeansValueExpression().setValue(this$.createCategoryBeans$0Xqt())}}},function(response){this$.set(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.MODERATED_ITEMS,[]);this$.set(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.FILTER_CATEGORIES,[]);this$.getCategoryBeansValueExpression().setValue([]);com.coremedia.elastic.social.studio.model.impl.RemoteErrorHandler.handleRemoteErrorFromResponse(response)})}
function updateModerationStatistics(){AS3.as(this.moderation$0Xqt,com.coremedia.elastic.social.studio.model.impl.ModerationImpl).ensureTenantAwareESUriPrefix(AS3.bind(this,"doUpdateModerationStatistics"))}function doUpdateModerationStatistics(tenantAwareUriPrefix){var this$=this;var updateStatisticsMethod=new com.coremedia.ui.data.impl.RemoteServiceMethod(tenantAwareUriPrefix+"/moderation/statistics","GET");updateStatisticsMethod.request(null,function(response){var newStatistics=response.getResponseJSON()?
response.getResponseJSON():{};this$.getStatisticsValueExpression().setValue(newStatistics)},function(response){this$.getStatisticsValueExpression().setValue({});com.coremedia.elastic.social.studio.model.impl.RemoteErrorHandler.handleRemoteErrorFromResponse(response)})}function increaseProcessedCounter(){var oldCounter=this.getProcessedCounter();if(oldCounter===undefined)this.set(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.PROCESS_COUNTER,0);else this.set(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.PROCESS_COUNTER,
++oldCounter)}function processedContribution(){if(this.isListMode())this.increaseProcessedCounter$0Xqt();else this.setListMode()}function setDisplayed(displayed){this.set(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.DISPLAYED,displayed)}function getDisplayed(){return AS3.as(this.get(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.DISPLAYED),com.coremedia.elastic.social.studio.model.Contribution)}function hasDisplayed(){return this.getDisplayed()}
function getModeratedItems(){return this.get(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.MODERATED_ITEMS)||[]}function registerSelectedChangeListener(){var selectedValueExpression=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.SELECTED_MODERATION_CONTRIBUTION,this);selectedValueExpression.addChangeListener(AS3.bind(this,"selectAndValidate$0Xqt"));var lastComplaintDateValueExpression=
selectedValueExpression.extendBy(com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames.LAST_COMPLAINT_DATE);lastComplaintDateValueExpression.addChangeListener(AS3.bind(this,"selectAndInvalidateIfNecessary$0Xqt"));this.selectedValueExpressions$0Xqt=[];this.selectedValueExpressions$0Xqt.push(selectedValueExpression,lastComplaintDateValueExpression)}function removeSelectedChangeListener(){for(var i=0;this.selectedValueExpressions$0Xqt&&i<this.selectedValueExpressions$0Xqt.length;i++){AS3.as(this.selectedValueExpressions$0Xqt[i],
com.coremedia.ui.data.ValueExpression).removeChangeListener(AS3.bind(this,"selectAndValidate$0Xqt"));AS3.as(this.selectedValueExpressions$0Xqt[i],com.coremedia.ui.data.ValueExpression).removeChangeListener(AS3.bind(this,"selectAndInvalidateIfNecessary$0Xqt"))}this.selectedValueExpressions$0Xqt=null}function removeFromList(remove){if(remove){var oldModeratedItems=this.getModeratedItems();if(oldModeratedItems){this.set(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.MODERATED_ITEMS,
oldModeratedItems.filter(function(moderatedItem){var moderatedItemTarget=moderatedItem.getTarget();return moderatedItemTarget&&moderatedItemTarget.getUri()!==remove.getUri()}));this.setSelectedContribution(null)}}}function getPriority(){var priority=this.get(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.PRIORITY);return priority?priority:""}function prioritize(priorityId){var oldPriority=this.getPriority();this.set(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.PRIORITY,
priorityId);if(oldPriority!==priorityId)this.invalidate()}function unprioritize(){var oldPrioritization=this.getPriority();this.set(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.PRIORITY,null);if(oldPrioritization)this.invalidate()}function setLastProcessed(lastProcessed){this.set(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.LAST_PROCESSED,lastProcessed)}function getLastProcessed(){var lastProcessed=AS3.as(this.get(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.LAST_PROCESSED),
com.coremedia.elastic.social.studio.model.Contribution);if(lastProcessed.getContributionState()==="ANONYMIZED")return null;return lastProcessed}function hasLastProcessed(){return this.getLastProcessed()}function getProcessedCounter(){return this.get(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.PROCESS_COUNTER)}function isListMode(){return this.get(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.MODE)===MODE_LIST$static}function setListMode(){this.set(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.MODE,
MODE_LIST$static);this.selectedChanged$0Xqt()}function isLastMode(){return this.get(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.MODE)===MODE_LAST$static}function setLastMode(){if(this.hasLastProcessed()){this.set(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.MODE,MODE_LAST$static);this.setDisplayed(this.getLastProcessed());this.getDisplayed()&&this.getDisplayed().invalidate();this.setSelectedContribution(null)}}function getModerationQuerySuffix(){var url=
"?direction\x3d"+this.getSorting();if(this.getPriority())url=url+"\x26priorityId\x3d"+encodeURIComponent(this.getPriority());url=url+this.getSearchFiltersQuery$0Xqt();return url}function selectedChanged(invalidateFlag){if(arguments.length<=0)invalidateFlag=true;var selected=this.getSelectedContribution();if(this.isListMode())if(selected)this.setSelectedAndRefreshTarget$0Xqt(selected,invalidateFlag);else if(this.getModeratedItems()&&this.getModeratedItems().length>0)this.setSelectedAndRefreshTarget$0Xqt(this.getModeratedItems()[0],
invalidateFlag);else this.setSelectedContribution(null);else if(this.isLastMode()&&selected){this.setListMode();this.setDisplayed(selected.getTarget())}}function setSelectedAndRefreshTarget(selected,invalidateFlag){if(invalidateFlag){selected.getTarget()&&selected.getTarget().invalidate();this.setSelectedContribution(selected)}}function setSelectedModerationContributionItems(items){this.set(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.SELECTED_MODERATION_ITEMS,
items)}function selectAndInvalidateIfNecessary(){if(this.oldSelected$0Xqt===this.getSelectedContribution()&&this.getSelectedContribution()&&this.oldComplaintDate$0Xqt!==this.getSelectedContribution().getLastComplaintDate())this.selectedChanged$0Xqt(true)}function selectAndValidate(){this.oldSelected$0Xqt=this.getSelectedContribution();if(this.oldSelected$0Xqt)this.oldComplaintDate$0Xqt=this.oldSelected$0Xqt.getLastComplaintDate();else this.oldComplaintDate$0Xqt=null;this.selectedChanged$0Xqt(true)}
function addSearchFilter(searchFilter){var searchFilters=this.getSearchFiltersValueExpression$0Xqt().getValue();this.getSearchFiltersValueExpression$0Xqt().setValue(searchFilters.concat([searchFilter]));searchFilter.getStateBean().addValueChangeListener(AS3.bind(this,"updateList"))}function clearSearchFilters(){this.getSearchFiltersValueExpression$0Xqt().setValue([])}function getSearchFiltersValueExpression(){if(!this.searchFiltersBeanValueExpression$0Xqt)this.searchFiltersBeanValueExpression$0Xqt=
com.coremedia.ui.data.ValueExpressionFactory.createFromValue([]);return this.searchFiltersBeanValueExpression$0Xqt}function areFiltersInDefaultState(){var searchFilters=this.getSearchFiltersValueExpression$0Xqt().getValue();for(var $1=0;$1<searchFilters.length;++$1){var searchFilter=searchFilters[$1];if(!com.coremedia.ui.util.ObjectUtils.compareObjectsWithEqual(searchFilter.getStateBean().toObject(),searchFilter.getDefaultState()))return false}return true}function getSearchFiltersQuery(){var query=
"";var searchFilters=this.getSearchFiltersValueExpression$0Xqt().getValue();for(var $1=0;$1<searchFilters.length;++$1){var searchFilter=searchFilters[$1];var filterQuery=searchFilter.buildQuery();query=filterQuery===""?query:query+"\x26"+filterQuery}return query}function createCategoryBeans(){var categoryBeans=[];var filterCategories=this.get(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.FILTER_CATEGORIES)||[];for(var $1=0;$1<filterCategories.length;++$1){var category=
filterCategories[$1];categoryBeans.push(com.coremedia.ui.data.beanFactory.createLocalBean({key:category.key,display:category.display}))}return categoryBeans}function getCategoryBeansValueExpression(){if(!this.categoryBeansValueExpression$0Xqt)this.categoryBeansValueExpression$0Xqt=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(undefined);return this.categoryBeansValueExpression$0Xqt}function getStatisticsValueExpression(){if(!this.statisticsValueExpression$0Xqt)this.statisticsValueExpression$0Xqt=
com.coremedia.ui.data.ValueExpressionFactory.createFromValue(undefined);return this.statisticsValueExpression$0Xqt}return{extend:"com.coremedia.elastic.social.studio.model.impl.AbstractContributionAdministration",selectedValueExpressions$0Xqt:null,oldSelected$0Xqt:null,oldComplaintDate$0Xqt:undefined,searchFiltersBeanValueExpression$0Xqt:null,categoryBeansValueExpression$0Xqt:null,statisticsValueExpression$0Xqt:null,moderation$0Xqt:null,updateRequestCounter$0Xqt:0,mostRecentUpdateRequest$0Xqt:0,constructor:ModerationContributionAdministration$,
super$0Xqt:function(){com.coremedia.elastic.social.studio.model.impl.AbstractContributionAdministration.prototype.constructor.apply(this,arguments)},setSelectedContribution:setSelectedContribution,getSelectedContribution:getSelectedContribution,getSelectedContributionItems:getSelectedContributionItems,updateList:updateList,updateModerationInfo$0Xqt:updateModerationInfo,updateModerationStatistics:updateModerationStatistics,doUpdateModerationStatistics:doUpdateModerationStatistics,increaseProcessedCounter$0Xqt:increaseProcessedCounter,
processedContribution:processedContribution,setDisplayed:setDisplayed,getDisplayed:getDisplayed,hasDisplayed:hasDisplayed,getModeratedItems:getModeratedItems,registerSelectedChangeListener:registerSelectedChangeListener,removeSelectedChangeListener:removeSelectedChangeListener,removeFromList:removeFromList,getPriority:getPriority,prioritize:prioritize,unprioritize:unprioritize,setLastProcessed:setLastProcessed,getLastProcessed:getLastProcessed,hasLastProcessed:hasLastProcessed,getProcessedCounter:getProcessedCounter,
isListMode:isListMode,setListMode:setListMode,isLastMode:isLastMode,setLastMode:setLastMode,getModerationQuerySuffix$0Xqt:getModerationQuerySuffix,selectedChanged$0Xqt:selectedChanged,setSelectedAndRefreshTarget$0Xqt:setSelectedAndRefreshTarget,setSelectedModerationContributionItems$0Xqt:setSelectedModerationContributionItems,selectAndInvalidateIfNecessary$0Xqt:selectAndInvalidateIfNecessary,selectAndValidate$0Xqt:selectAndValidate,addSearchFilter:addSearchFilter,clearSearchFilters:clearSearchFilters,
getSearchFiltersValueExpression$0Xqt:getSearchFiltersValueExpression,areFiltersInDefaultState:areFiltersInDefaultState,getSearchFiltersQuery$0Xqt:getSearchFiltersQuery,createCategoryBeans$0Xqt:createCategoryBeans,getCategoryBeansValueExpression:getCategoryBeansValueExpression,getStatisticsValueExpression:getStatisticsValueExpression,requires:["com.coremedia.elastic.social.studio.model.impl.AbstractContributionAdministration","com.coremedia.ui.data.ValueExpression","com.coremedia.ui.data.ValueExpressionFactory",
"com.coremedia.ui.data.beanFactory","com.coremedia.ui.data.impl.RemoteServiceMethod","com.coremedia.ui.util.ObjectUtils"],uses:["com.coremedia.elastic.social.studio.model.Contribution","com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames","com.coremedia.elastic.social.studio.model.ModeratedItem","com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames","com.coremedia.elastic.social.studio.model.impl.ModerationImpl","com.coremedia.elastic.social.studio.model.impl.RemoteErrorHandler"]}});Ext.define("com.coremedia.elastic.social.studio.model.impl.ModeratedItemImpl",function(ModeratedItemImpl){function static$0(){com.coremedia.ui.data.impl.RemoteErrorHandlerRegistryImpl.initRemoteErrorHandlerRegistry().registerErrorHandler(remoteErrorHandler$static)}function ModeratedItemImpl$(path){this.super$KRYn(path)}function getLastComplaintDate(){return this.get(com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames.LAST_COMPLAINT_DATE)}function getTarget(){return this.get(com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames.TARGET)}
function getPriorityId(){return this.get(com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames.PRIORITY_ID)}function getTargetId(){return this.get(com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames.TARGET_ID)}function remoteErrorHandler$static(error,source){var item=AS3.as(source,ModeratedItemImpl);if(item&&error.status===404)error.setHandled(true)}return{extend:"com.coremedia.ui.data.impl.RemoteBeanImpl",mixins:["com.coremedia.elastic.social.studio.model.ModeratedItem"],
metadata:{"":["RestResource",["uriTemplate","{tenant:[^/]+}/elastic/social/moderation/{type:[A-Za-z0-9-]+}/{id:[A-Za-z0-9-]+}"]]},constructor:ModeratedItemImpl$,super$KRYn:function(){com.coremedia.ui.data.impl.RemoteBeanImpl.prototype.constructor.apply(this,arguments)},getLastComplaintDate:getLastComplaintDate,getTarget:getTarget,getPriorityId:getPriorityId,getTargetId:getTargetId,statics:{__initStatics__:function(){static$0()}},requires:["com.coremedia.elastic.social.studio.model.ModeratedItem",
"com.coremedia.ui.data.impl.RemoteBeanImpl","com.coremedia.ui.data.impl.RemoteErrorHandlerRegistryImpl"],uses:["com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames"]}});Ext.define("com.coremedia.elastic.social.studio.model.impl.AbstractContributionAdministration",function(AbstractContributionAdministration){function AbstractContributionAdministration$(moderation){this.super$6O7p();this.contributionAdministrationManager$6O7p=new com.coremedia.elastic.social.studio.model.impl.ContributionAdministrationManager(this,moderation);this.contributionAdministrationManager$6O7p.addListener("userNotesInit",AS3.bind(this,"setUserNotes$6O7p"))}function startPolling(immediatelyUpdateList){if(arguments.length<=
0)immediatelyUpdateList=true;this.contributionAdministrationManager$6O7p.startPolling(immediatelyUpdateList)}function pausePolling(){this.contributionAdministrationManager$6O7p.pausePolling()}function stopPolling(){this.contributionAdministrationManager$6O7p.stopPolling()}function isPolling(){return this.contributionAdministrationManager$6O7p.isPolling()}function setDisplayed(displayed){}function getDisplayed(){return null}function hasDisplayed(){return null}function approve(contribution,email,success,
failure){switch(Math.max(arguments.length,2)){case 2:success=null;case 3:failure=null}this.contributionAdministrationManager$6O7p.approve(contribution,email,success,failure)}function reject(contribution,email,success,failure){switch(Math.max(arguments.length,2)){case 2:success=null;case 3:failure=null}this.contributionAdministrationManager$6O7p.reject(contribution,email,success,failure)}function setSelectedContribution(selected){}function setSelectedContributionItems(items,selectOnlyFirst){if(arguments.length<=
1)selectOnlyFirst=false}function removeContributionFromSelectedItems(moderatedItem){}function getSelectedContribution(){return null}function getSelectedContributionItems(){return null}function initUserNotes(user){this.contributionAdministrationManager$6O7p.initUserNotes(user)}function getModeratedItems(){return null}function invalidate(){this.updateList();this.invalidateDisplayed()}function invalidateDisplayed(){if(this.getDisplayed())this.getDisplayed().invalidate()}function registerSelectedChangeListener(){}
function removeSelectedChangeListener(){}function updateList(fromFilter){if(arguments.length<=0)fromFilter=false}function processedContribution(){}function removeFromList(remove){}function toggleSorting(){this.ascSort$6O7p=!this.ascSort$6O7p;this.invalidate();return this.ascSort$6O7p}function getSorting(){return this.ascSort$6O7p?"ascending":"descending"}function loadEmails(){var displayed=this.getDisplayed();if(displayed)this.set(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.MODERATION_EMAILS,
displayed.getDefaultModerationEmails())}function setUserNotes(notes){this.set(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.NOTES,notes)}function getModerationEmails(){return this.get(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.MODERATION_EMAILS)}function setModerationEmails(emails){this.set(com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames.MODERATION_EMAILS,emails)}function getModerationEmail(emailType){var moderationEmails=
this.getModerationEmails();if(emailType&&moderationEmails)for(var i=0;i<moderationEmails.length;i++)if(AS3.as(moderationEmails[i],com.coremedia.elastic.social.studio.model.ModerationEmail).getType()===emailType)return moderationEmails[i];return null}return{extend:"com.coremedia.ui.data.impl.BeanImpl",mixins:["com.coremedia.elastic.social.studio.model.ModerationEmailProvider"],contributionAdministrationManager$6O7p:null,ascSort$6O7p:false,constructor:AbstractContributionAdministration$,super$6O7p:function(){com.coremedia.ui.data.impl.BeanImpl.prototype.constructor.apply(this,
arguments)},startPolling:startPolling,pausePolling:pausePolling,stopPolling:stopPolling,isPolling:isPolling,setDisplayed:setDisplayed,getDisplayed:getDisplayed,hasDisplayed:hasDisplayed,approve:approve,reject:reject,setSelectedContribution:setSelectedContribution,setSelectedContributionItems:setSelectedContributionItems,removeContributionFromSelectedItems:removeContributionFromSelectedItems,getSelectedContribution:getSelectedContribution,getSelectedContributionItems:getSelectedContributionItems,initUserNotes:initUserNotes,
getModeratedItems:getModeratedItems,invalidate:invalidate,invalidateDisplayed:invalidateDisplayed,registerSelectedChangeListener:registerSelectedChangeListener,removeSelectedChangeListener:removeSelectedChangeListener,updateList:updateList,processedContribution:processedContribution,removeFromList:removeFromList,toggleSorting:toggleSorting,getSorting:getSorting,loadEmails:loadEmails,setUserNotes$6O7p:setUserNotes,getModerationEmails:getModerationEmails,setModerationEmails:setModerationEmails,getModerationEmail:getModerationEmail,
requires:["com.coremedia.elastic.social.studio.model.ModerationEmailProvider","com.coremedia.ui.data.impl.BeanImpl"],uses:["com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames","com.coremedia.elastic.social.studio.model.ModerationEmail","com.coremedia.elastic.social.studio.model.impl.ContributionAdministrationManager"]}});Ext.define("com.coremedia.elastic.social.studio.model.impl.ArchiveItemImpl",function(ArchiveItemImpl){function ArchiveItemImpl$(path){this.super$hR$o(path)}return{extend:"com.coremedia.elastic.social.studio.model.impl.ModeratedItemImpl",metadata:{"":["RestResource",["uriTemplate","{tenant:[^/]+}/elastic/social/archive/{type:[A-Za-z0-9-]+}/{id:[A-Za-z0-9-]+}"]]},constructor:ArchiveItemImpl$,super$hR$o:function(){com.coremedia.elastic.social.studio.model.impl.ModeratedItemImpl.prototype.constructor.apply(this,
arguments)},requires:["com.coremedia.elastic.social.studio.model.impl.ModeratedItemImpl"]}});Ext.define("com.coremedia.elastic.social.studio.model.impl.NotesImpl",function(NotesImpl){function NotesImpl$(path){this.super$hvj_(path)}function getUser(){return this.get("user")}function getNotesText(){return this.get("text")}function setNotesText(notesText){this.set("text",notesText)}return{extend:"com.coremedia.ui.data.impl.RemoteBeanImpl",metadata:{"":["RestResource",["uriTemplate","{tenant:[^/]+}/elastic/social/user/{id:[A-Za-z0-9-]+}/note"]]},constructor:NotesImpl$,super$hvj_:function(){com.coremedia.ui.data.impl.RemoteBeanImpl.prototype.constructor.apply(this,
arguments)},getUser:getUser,getNotesText:getNotesText,setNotesText:setNotesText,requires:["com.coremedia.ui.data.impl.RemoteBeanImpl"]}});Ext.define("com.coremedia.elastic.social.studio.model.impl.ContributionAdministrationManager",function(ContributionAdministrationManager){function ContributionAdministrationManager$(abstractContributionAdmin,moderation){this.super$Kqyy();this.abstractContributionAdmin$Kqyy=abstractContributionAdmin;this.moderation$Kqyy=moderation;this.getPreferredSiteIdValueExpression$Kqyy().addChangeListener(AS3.bind(this,"updateList$Kqyy"));this.getTenantAwareESUriPrefixExpression$Kqyy().addChangeListener(AS3.bind(this,
"updateList$Kqyy"))}function updateList(){if(this.abstractContributionAdmin$Kqyy.isPolling())this.abstractContributionAdmin$Kqyy.updateList()}function startPolling(immediatelyUpdateList){var this$=this;if(!this.isPolling()){if(!this.paused)this.abstractContributionAdmin$Kqyy.registerSelectedChangeListener();if(immediatelyUpdateList)this.abstractContributionAdmin$Kqyy.updateList();this.paused=false;this.updatePoller=window.setInterval(function(){this$.abstractContributionAdmin$Kqyy.updateList()},ContributionAdministrationManager.POLLING_INTERVAL)}}
function stopPolling(){window.clearInterval(this.updatePoller);this.updatePoller=null;this.paused=false;this.abstractContributionAdmin$Kqyy.removeSelectedChangeListener();this.abstractContributionAdmin$Kqyy.setDisplayed(null);this.abstractContributionAdmin$Kqyy.setSelectedContribution(null)}function pausePolling(){window.clearInterval(this.updatePoller);this.updatePoller=null;this.paused=true}function isPolling(){return this.updatePoller}function approve(contribution,email,success,failure){switch(Math.max(arguments.length,
2)){case 2:success=null;case 3:failure=null}if(contribution)this.process$Kqyy(contribution,new com.coremedia.ui.data.impl.RemoteServiceMethod(contribution.getUriPath()+"/approve","POST"),email?email.getText():"",true,success,failure)}function reject(contribution,email,success,failure){switch(Math.max(arguments.length,2)){case 2:success=null;case 3:failure=null}if(contribution)this.process$Kqyy(contribution,new com.coremedia.ui.data.impl.RemoteServiceMethod(contribution.getUriPath()+"/reject","POST"),
email?email.getText():"",true,success,failure)}function process(contribution,serviceMethod,emailText,selectNext,success,failure){var this$=this;if(arguments.length<=5)failure=null;serviceMethod.request({"params":emailText},function(response){var errors=response.getResponseJSON();if(errors)failure&&failure(errors);else contribution.invalidate(function(){this$.processed$Kqyy(contribution,selectNext,success)})},com.coremedia.elastic.social.studio.model.impl.RemoteErrorHandler.handleRemoteErrorFromResponse)}
function processed(processed,selectNext,success){if(processed&&selectNext){this.abstractContributionAdmin$Kqyy.removeFromList(processed);this.abstractContributionAdmin$Kqyy.processedContribution()}this.abstractContributionAdmin$Kqyy.invalidate();if(success)success()}function initUserNotes(user){var that=this;if(user)AS3.as(user,com.coremedia.elastic.social.studio.model.impl.UserImpl).loadNotes(function(notes){that.fireEvent("userNotesInit",notes)});else this.fireEvent("userNotesInit",null)}function getPreferredSiteIdValueExpression(){if(!this.preferredSiteIdExpression$Kqyy)this.preferredSiteIdExpression$Kqyy=
com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){return com.coremedia.cms.editor.sdk.editorContext.getSitesService().getPreferredSiteId()});return this.preferredSiteIdExpression$Kqyy}function getTenantAwareESUriPrefixExpression(){var this$=this;if(!this.tenantAwareESUriPrefixExpression$Kqyy)this.tenantAwareESUriPrefixExpression$Kqyy=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){return AS3.as(this$.moderation$Kqyy,com.coremedia.elastic.social.studio.model.impl.ModerationImpl).getTenantAwareESUriPrefix()});
return this.tenantAwareESUriPrefixExpression$Kqyy}return{extend:"Ext.util.Observable",abstractContributionAdmin$Kqyy:null,updatePoller:null,paused:false,preferredSiteIdExpression$Kqyy:null,tenantAwareESUriPrefixExpression$Kqyy:null,moderation$Kqyy:null,constructor:ContributionAdministrationManager$,super$Kqyy:function(){Ext.util.Observable.prototype.constructor.apply(this,arguments)},updateList$Kqyy:updateList,startPolling:startPolling,stopPolling:stopPolling,pausePolling:pausePolling,isPolling:isPolling,
approve:approve,reject:reject,process$Kqyy:process,processed$Kqyy:processed,initUserNotes:initUserNotes,getPreferredSiteIdValueExpression$Kqyy:getPreferredSiteIdValueExpression,getTenantAwareESUriPrefixExpression$Kqyy:getTenantAwareESUriPrefixExpression,statics:{POLLING_INTERVAL:1E4},requires:["Ext.util.Observable","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.impl.RemoteServiceMethod"],uses:["com.coremedia.elastic.social.studio.model.impl.ModerationImpl",
"com.coremedia.elastic.social.studio.model.impl.RemoteErrorHandler","com.coremedia.elastic.social.studio.model.impl.UserImpl"]}});Ext.define("com.coremedia.elastic.social.studio.model.impl.ModerationImpl",function(ModerationImpl){function ES_URI_SEGMENT$static_(){ModerationImpl.ES_URI_SEGMENT=ModerationImpl.ELASTIC_URI_SEGMENT+"social"}var moderation$static=null;function moderatedPropertiesList_(){this.moderatedPropertiesList$CC_9=[com.coremedia.elastic.social.studio.model.ReviewPropertyNames.TITLE,com.coremedia.elastic.social.studio.model.ReviewPropertyNames.RATING,com.coremedia.elastic.social.studio.model.CommentPropertyNames.TEXT,
com.coremedia.elastic.social.studio.model.UserPropertyNames.NAME,com.coremedia.elastic.social.studio.model.UserPropertyNames.GIVENNAME,com.coremedia.elastic.social.studio.model.UserPropertyNames.SURNAME,com.coremedia.elastic.social.studio.model.UserPropertyNames.EMAIL,com.coremedia.elastic.social.studio.model.UserPropertyNames.IMAGE]}function getInstance$static(){if(!moderation$static)moderation$static=new ModerationImpl;return moderation$static}function ModerationImpl$(){this.super$CC_9();moderatedPropertiesList_.call(this);
this.getBlacklistAdministration();this.getModerationContributionAdministration();this.getArchiveContributionAdministration();this.getUserAdministration()}function getBlacklistAdministration(){var blacklistAdmin=AS3.as(this.get(com.coremedia.elastic.social.studio.model.ModerationPropertyNames.BLACKLIST_ADMINISTRATION),com.coremedia.elastic.social.studio.model.BlacklistAdministration);if(!blacklistAdmin){blacklistAdmin=new com.coremedia.elastic.social.studio.model.impl.BlacklistAdministrationImpl(this);
this.set(com.coremedia.elastic.social.studio.model.ModerationPropertyNames.BLACKLIST_ADMINISTRATION,blacklistAdmin)}return blacklistAdmin}function getModerationContributionAdministration(){if(!this.moderationContributionAdmin$CC_9)this.moderationContributionAdmin$CC_9=new com.coremedia.elastic.social.studio.model.impl.ModerationContributionAdministration(this);return this.moderationContributionAdmin$CC_9}function getArchiveContributionAdministration(){if(!this.archivedContributionAdmin$CC_9)this.archivedContributionAdmin$CC_9=
new com.coremedia.elastic.social.studio.model.impl.ArchiveContributionAdministration(this);return this.archivedContributionAdmin$CC_9}function getActiveContributionAdministration(){return this.get(com.coremedia.elastic.social.studio.model.ModerationPropertyNames.ACTIVE_CONTRIBUTION_ADMINISTRATION)}function getUserAdministration(){if(!this.userAdministration$CC_9){this.userAdministration$CC_9=new com.coremedia.elastic.social.studio.model.impl.UserAdministrationImpl(this);this.set(com.coremedia.elastic.social.studio.model.ModerationPropertyNames.USER_ADMINISTRATION,
this.userAdministration$CC_9)}return this.userAdministration$CC_9}function registerModeratedProperties(props){var this$=this;props.forEach(function(prop){if(this$.moderatedPropertiesList$CC_9.indexOf(prop)===-1)this$.moderatedPropertiesList$CC_9.push(prop)})}function getModeratedProperties(){return this.moderatedPropertiesList$CC_9}function updateTenantInfo(success,failure){var this$=this;switch(arguments.length){case 0:success=null;case 1:failure=null}success=success||Ext.emptyFn;failure=failure||
Ext.emptyFn;var preferredSiteId=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getPreferredSiteId();var rsm=new com.coremedia.ui.data.impl.RemoteServiceMethod(ModerationImpl.ELASTIC_URI_SEGMENT+ModerationImpl.TENANT_URI_SEGMENT+"?siteId\x3d"+preferredSiteId,"GET");rsm.request(null,function(response){var tenantInfo=response.getResponseJSON();this$.updateProperties(tenantInfo);success(ModerationImpl.getInstance())},failure)}function ensureTenantAwareESUriPrefix(callback){var this$=this;
callback=AS3.as(callback,Function)||Ext.emptyFn;if(this.getTenantAwareESUriPrefix())callback(this.getTenantAwareESUriPrefix());else this.updateTenantInfo(function(){callback(this$.getTenantAwareESUriPrefix())})}function getTenantAwareESUriPrefix(){return this.get(com.coremedia.elastic.social.studio.model.ModerationPropertyNames.TENANT)+"/"+ModerationImpl.ES_URI_SEGMENT}return{extend:"com.coremedia.ui.data.impl.BeanImpl",mixins:["com.coremedia.elastic.social.studio.model.Moderation"],archivedContributionAdmin$CC_9:null,
moderationContributionAdmin$CC_9:null,userAdministration$CC_9:null,constructor:ModerationImpl$,super$CC_9:function(){com.coremedia.ui.data.impl.BeanImpl.prototype.constructor.apply(this,arguments)},getBlacklistAdministration:getBlacklistAdministration,getModerationContributionAdministration:getModerationContributionAdministration,getArchiveContributionAdministration:getArchiveContributionAdministration,getActiveContributionAdministration:getActiveContributionAdministration,getUserAdministration:getUserAdministration,
registerModeratedProperties:registerModeratedProperties,getModeratedProperties:getModeratedProperties,updateTenantInfo:updateTenantInfo,ensureTenantAwareESUriPrefix:ensureTenantAwareESUriPrefix,getTenantAwareESUriPrefix:getTenantAwareESUriPrefix,statics:{ELASTIC_URI_SEGMENT:"elastic/",ES_URI_SEGMENT:undefined,TENANT_URI_SEGMENT:"tenant",getInstance:getInstance$static,__initStatics__:function(){ES_URI_SEGMENT$static_()}},requires:["Ext","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.elastic.social.studio.model.Moderation",
"com.coremedia.ui.data.impl.BeanImpl","com.coremedia.ui.data.impl.RemoteServiceMethod"],uses:["com.coremedia.elastic.social.studio.model.BlacklistAdministration","com.coremedia.elastic.social.studio.model.CommentPropertyNames","com.coremedia.elastic.social.studio.model.ModerationPropertyNames","com.coremedia.elastic.social.studio.model.ReviewPropertyNames","com.coremedia.elastic.social.studio.model.UserPropertyNames","com.coremedia.elastic.social.studio.model.impl.ArchiveContributionAdministration",
"com.coremedia.elastic.social.studio.model.impl.BlacklistAdministrationImpl","com.coremedia.elastic.social.studio.model.impl.ModerationContributionAdministration","com.coremedia.elastic.social.studio.model.impl.UserAdministrationImpl"]}});Ext.define("com.coremedia.elastic.social.studio.model.impl.ModerationEmailImpl",function(ModerationEmailImpl){function ModerationEmailImpl$(type,text){this.super$9u0J();this.setType$9u0J(type);this.setText(text)}function setType(type){this.set(com.coremedia.elastic.social.studio.model.ModerationEmailPropertyNames.TYPE,type)}function getType(){return this.get(com.coremedia.elastic.social.studio.model.ModerationEmailPropertyNames.TYPE)}function getText(){return this.get(com.coremedia.elastic.social.studio.model.ModerationEmailPropertyNames.TEXT)}
function setText(text){this.set(com.coremedia.elastic.social.studio.model.ModerationEmailPropertyNames.TEXT,text)}return{extend:"com.coremedia.ui.data.impl.BeanImpl",mixins:["com.coremedia.elastic.social.studio.model.ModerationEmail"],constructor:ModerationEmailImpl$,super$9u0J:function(){com.coremedia.ui.data.impl.BeanImpl.prototype.constructor.apply(this,arguments)},setType$9u0J:setType,getType:getType,getText:getText,setText:setText,requires:["com.coremedia.elastic.social.studio.model.ModerationEmail",
"com.coremedia.ui.data.impl.BeanImpl"],uses:["com.coremedia.elastic.social.studio.model.ModerationEmailPropertyNames"]}});Ext.define("com.coremedia.elastic.social.studio.model.impl.BlacklistAdministrationImpl",function(BlacklistAdministrationImpl){var PATH_SUFFIX$static="/blacklist";function BlacklistAdministrationImpl$(moderation){this.super$HObO();this.moderation$HObO=moderation}function getBlacklist(invalidate,success){var this$=this;switch(arguments.length){case 0:invalidate=false;case 1:success=null}if(invalidate)AS3.as(this.moderation$HObO,com.coremedia.elastic.social.studio.model.impl.ModerationImpl).ensureTenantAwareESUriPrefix(function(){var blacklistService=
new com.coremedia.ui.data.impl.RemoteServiceMethod(this$.getUri$HObO(),"GET");blacklistService.request(null,function(response){var blacklist=AS3.as(AS3.as(response.getResponseJSON(),Object).items,Array);this$.set(com.coremedia.elastic.social.studio.model.BlacklistAdministrationPropertyNames.BLACKLIST,blacklist);if(success)success(blacklist)},com.coremedia.elastic.social.studio.model.impl.RemoteErrorHandler.handleRemoteErrorFromResponse)});return AS3.as(this.get(com.coremedia.elastic.social.studio.model.BlacklistAdministrationPropertyNames.BLACKLIST),
Array)}function highlightBlacklisted(text,prefix,suffix,invalidate){if(arguments.length<=3)invalidate=true;this.getBlacklist(invalidate);var result=text;if(result&&prefix&&suffix&&this.hasBlacklist$HObO()){var blacklist=this.getBlacklist();var regExp=new RegExp("("+blacklist.join("|")+")","gi");var a=result.replace(regExp,function(textA){return prefix+textA+suffix});return a}return result}function addBlacklistedWord(word){var this$=this;if(word){var oldBlacklist=this.getBlacklist(true);AS3.as(this.moderation$HObO,
com.coremedia.elastic.social.studio.model.impl.ModerationImpl).ensureTenantAwareESUriPrefix(function(){var blacklistService=new com.coremedia.ui.data.impl.RemoteServiceMethod(this$.getUri$HObO()+"/"+word.toLowerCase(),"POST");blacklistService.request(null,function(){var newBlacklist=oldBlacklist.concat(word.toLowerCase());this$.set(com.coremedia.elastic.social.studio.model.BlacklistAdministrationPropertyNames.BLACKLIST,sort$static(newBlacklist))})})}}function removeBlacklistedWord(word){var this$=
this;if(word)AS3.as(this.moderation$HObO,com.coremedia.elastic.social.studio.model.impl.ModerationImpl).ensureTenantAwareESUriPrefix(function(){var blacklistService=new com.coremedia.ui.data.impl.RemoteServiceMethod(this$.getUri$HObO()+"/"+word.toLocaleLowerCase(),"DELETE");blacklistService.request(null,function(){var oldBlacklist=this$.getBlacklist();var newBlacklist=oldBlacklist.filter(function(filteredWord){return word!==filteredWord});this$.set(com.coremedia.elastic.social.studio.model.BlacklistAdministrationPropertyNames.BLACKLIST,
newBlacklist)},function(){AS3.trace("failed removing blacklist word from blacklist list")})})}function isInBlacklist(word){var result=false;var blacklist=this.getBlacklist();if(blacklist&&word&&blacklist.length>0)result=blacklist.indexOf(word.toLowerCase())>=0;return result}function getUri(){return AS3.as(this.moderation$HObO,com.coremedia.elastic.social.studio.model.impl.ModerationImpl).getTenantAwareESUriPrefix()+PATH_SUFFIX$static}function hasBlacklist(){var blacklist=this.getBlacklist();return blacklist&&
blacklist.length>0}function sort$static(blacklist){var sorted=blacklist;if(!sorted)sorted=[];if(sorted.length>0)sorted.sort(compareFN$static);return sorted}function compareFN$static(first,second){return first.length<second.length}return{extend:"com.coremedia.ui.data.impl.BeanImpl",mixins:["com.coremedia.elastic.social.studio.model.BlacklistAdministration"],moderation$HObO:null,constructor:BlacklistAdministrationImpl$,super$HObO:function(){com.coremedia.ui.data.impl.BeanImpl.prototype.constructor.apply(this,
arguments)},getBlacklist:getBlacklist,highlightBlacklisted:highlightBlacklisted,addBlacklistedWord:addBlacklistedWord,removeBlacklistedWord:removeBlacklistedWord,isInBlacklist:isInBlacklist,getUri$HObO:getUri,hasBlacklist$HObO:hasBlacklist,requires:["AS3.trace","com.coremedia.elastic.social.studio.model.BlacklistAdministration","com.coremedia.ui.data.impl.BeanImpl","com.coremedia.ui.data.impl.RemoteServiceMethod"],uses:["com.coremedia.elastic.social.studio.model.BlacklistAdministrationPropertyNames",
"com.coremedia.elastic.social.studio.model.impl.ModerationImpl","com.coremedia.elastic.social.studio.model.impl.RemoteErrorHandler"]}});Ext.define("com.coremedia.elastic.social.studio.model.impl.UserAdministrationImpl",function(UserAdministrationImpl){var SEARCH_PATH_SEGMENT$static="/user/search";function UserAdministrationImpl$(moderation){this.super$BARi();if(!moderation)throw"The user administration needs to know the moderation model.";this.moderation$BARi=moderation;this.setSearchHistory$BARi(new com.coremedia.elastic.social.studio.model.impl.HistoryImpl);this.setSearchResult$BARi([]);this.editedValueExpression$BARi=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.elastic.social.studio.model.UserAdministrationPropertyNames.EDITED,
this);this.editedValueExpression$BARi.addChangeListener(AS3.bind(this,"loadUserNotes$BARi"))}function startEditing(user){var this$=this;this.set(com.coremedia.elastic.social.studio.model.UserAdministrationPropertyNames.EDITED,user);if(user)user.invalidate(function(){this$.loadEmails$BARi();this$.editedValueExpression$BARi.addChangeListener(AS3.bind(this$,"loadEmails$BARi"))})}function cancelEditing(user,cancelled,hasChanges){var this$=this;switch(arguments.length){case 0:user=null;case 1:cancelled=
null;case 2:hasChanges=true}if(hasChanges){var toBeCancelled=user;if(!toBeCancelled)toBeCancelled=this.getEdited();if(toBeCancelled)toBeCancelled.cancel(function(){toBeCancelled.invalidate();this$.editedValueExpression$BARi.removeChangeListener(AS3.bind(this$,"loadEmails$BARi"));if(cancelled)cancelled()})}}function applyChanges(user,success,failure){var this$=this;switch(arguments.length){case 0:user=null;case 1:success=null;case 2:failure=null}var toBeApplyed=user;if(!toBeApplyed)toBeApplyed=this.getEdited();
toBeApplyed.apply(this.getModerationEmails(),function(response){var messages=response.getResponseJSON();if(messages)failure&&failure(messages);else toBeApplyed.invalidate(function(){this$.editedValueExpression$BARi.removeChangeListener(AS3.bind(this$,"loadEmails$BARi"));success&&success()})},function(response){failure&&failure(response)})}function anonymize(user,email,anonymized){var this$=this;if(arguments.length<=2)anonymized=null;if(user)user.anonymize(email,function(){this$.moderation$BARi.getModerationContributionAdministration().invalidate();
user.invalidate(function(){if(anonymized)anonymized()})})}function getEdited(){return AS3.as(this.get(com.coremedia.elastic.social.studio.model.UserAdministrationPropertyNames.EDITED),com.coremedia.elastic.social.studio.model.User)}function hasEdited(){return this.getEdited()}function search(query,newSearch,success,failure){var this$=this;switch(Math.max(arguments.length,1)){case 1:newSearch=true;case 2:success=null;case 3:failure=null}if(query)this.getRemoteSearchServiceMethod$BARi().request({query:query},
function(response){var result=response.getResponseJSON()["items"];this$.setSearchResult$BARi(result);if(!result||result.length==0)com.coremedia.ui.logging.Logger.warn("No result. Did you select the appropriate prefererred site?");if(newSearch)this$.getSearchHistory().add({queryString:query});if(success)success(result)},function(response){this$.setSearchResult$BARi(null);if(failure)failure(response.getError())})}function getSearchResult(){return AS3.as(this.get(com.coremedia.elastic.social.studio.model.UserAdministrationPropertyNames.SEARCH_RESULT),
Array)}function hasSearchResult(){return this.getSearchResult()&&this.getSearchResult().length>0}function removeFromSearchResult(remove){var currentHits=this.getSearchResult();var newHits;if(currentHits){newHits=currentHits.filter(function(user){return user&&user!==remove});this.setSearchResult$BARi(newHits)}}function clearSearchResult(){this.setSearchResult$BARi([])}function getSearchHistory(){return AS3.as(this.get(com.coremedia.elastic.social.studio.model.UserAdministrationPropertyNames.SEARCH_HISTORY),
com.coremedia.elastic.social.studio.model.History)}function getUserNotes(){return AS3.as(this.get(com.coremedia.elastic.social.studio.model.UserAdministrationPropertyNames.NOTES),com.coremedia.elastic.social.studio.model.impl.NotesImpl)}function setSearchResult(searchResult){this.set(com.coremedia.elastic.social.studio.model.UserAdministrationPropertyNames.SEARCH_RESULT,searchResult)}function setSearchHistory(history){this.set(com.coremedia.elastic.social.studio.model.UserAdministrationPropertyNames.SEARCH_HISTORY,
history)}function getRemoteSearchServiceMethod(){return new com.coremedia.ui.data.impl.RemoteServiceMethod(AS3.as(this.moderation$BARi,com.coremedia.elastic.social.studio.model.impl.ModerationImpl).getTenantAwareESUriPrefix()+SEARCH_PATH_SEGMENT$static,"GET")}function trimMail(email){return Ext.util.Format.trim(email)}function getModerationEmails(){return this.get(com.coremedia.elastic.social.studio.model.UserAdministrationPropertyNames.MODERATION_EMAILS)}function setModerationEmails(emails){this.set(com.coremedia.elastic.social.studio.model.UserAdministrationPropertyNames.MODERATION_EMAILS,
emails)}function getModerationEmail(mailType){var moderationEmails=this.getModerationEmails();if(mailType&&moderationEmails)for(var i=0;i<moderationEmails.length;i++)if(AS3.as(moderationEmails[i],com.coremedia.elastic.social.studio.model.ModerationEmail).getType()===mailType)return moderationEmails[i];return null}function loadEmails(){var editedUser=this.getEdited();if(editedUser)this.set(com.coremedia.elastic.social.studio.model.UserAdministrationPropertyNames.MODERATION_EMAILS,editedUser.getDefaultModerationEmails())}
function loadUserNotes(){var this$=this;var editedUser=this.getEdited();if(editedUser)editedUser.loadNotes(function(notes){this$.set(com.coremedia.elastic.social.studio.model.UserAdministrationPropertyNames.NOTES,notes)},com.coremedia.elastic.social.studio.model.impl.RemoteErrorHandler.handleRemoteErrorFromResponse)}return{extend:"com.coremedia.ui.data.impl.BeanImpl",mixins:["com.coremedia.elastic.social.studio.model.UserAdministration"],moderation$BARi:null,editedValueExpression$BARi:null,constructor:UserAdministrationImpl$,
super$BARi:function(){com.coremedia.ui.data.impl.BeanImpl.prototype.constructor.apply(this,arguments)},startEditing:startEditing,cancelEditing:cancelEditing,applyChanges:applyChanges,anonymize:anonymize,getEdited:getEdited,hasEdited:hasEdited,search:search,getSearchResult:getSearchResult,hasSearchResult:hasSearchResult,removeFromSearchResult:removeFromSearchResult,clearSearchResult:clearSearchResult,getSearchHistory:getSearchHistory,getUserNotes:getUserNotes,setSearchResult$BARi:setSearchResult,setSearchHistory$BARi:setSearchHistory,
getRemoteSearchServiceMethod$BARi:getRemoteSearchServiceMethod,trimMail:trimMail,getModerationEmails:getModerationEmails,setModerationEmails:setModerationEmails,getModerationEmail:getModerationEmail,loadEmails$BARi:loadEmails,loadUserNotes$BARi:loadUserNotes,requires:["Ext.util.Format","com.coremedia.elastic.social.studio.model.UserAdministration","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.impl.BeanImpl","com.coremedia.ui.data.impl.RemoteServiceMethod","com.coremedia.ui.logging.Logger"],
uses:["com.coremedia.elastic.social.studio.model.History","com.coremedia.elastic.social.studio.model.ModerationEmail","com.coremedia.elastic.social.studio.model.User","com.coremedia.elastic.social.studio.model.UserAdministrationPropertyNames","com.coremedia.elastic.social.studio.model.impl.HistoryImpl","com.coremedia.elastic.social.studio.model.impl.ModerationImpl","com.coremedia.elastic.social.studio.model.impl.NotesImpl","com.coremedia.elastic.social.studio.model.impl.RemoteErrorHandler"]}});Ext.define("com.coremedia.elastic.social.studio.model.impl.RemoteErrorHandler",function(RemoteErrorHandler){function handleRemoteErrorFromResponse$static(response){RemoteErrorHandler.handleRemoteError(response.getError(),response.getResponseJSON())}function handleRemoteError$static(remoteError,source){if(arguments.length<=1)source=null;AS3.cast(com.coremedia.ui.data.impl.RemoteErrorHandlerRegistryImpl,com.coremedia.ui.data.error.remoteErrorHandlerRegistry).handleError(remoteError,source);if(!remoteError.isHandled())com.coremedia.ui.logging.Logger.error("RemoteErrorHandler: Communication error: "+
remoteError.status+" "+remoteError.errorName+" "+remoteError.errorCode)}function RemoteErrorHandler$(){}return{constructor:RemoteErrorHandler$,statics:{handleRemoteErrorFromResponse:handleRemoteErrorFromResponse$static,handleRemoteError:handleRemoteError$static},requires:["com.coremedia.ui.data.error.remoteErrorHandlerRegistry","com.coremedia.ui.data.impl.RemoteErrorHandlerRegistryImpl","com.coremedia.ui.logging.Logger"]}});Ext.define("com.coremedia.elastic.social.studio.model.impl.HistoryImpl",function(HistoryImpl){function HistoryImpl$(){this.super$14IH();this.queryList$14IH=new Array;this.currentIndex$14IH=-1;this.setForwardEnabled$14IH(false);this.setBackwardEnabled$14IH(false)}function add(queryObj){var queryObject=Ext.JSON.decode(Ext.JSON.encode(queryObj));if(queryObject){if(this.queryList$14IH.length===0)this.queryList$14IH.push(queryObject);else{if(Ext.JSON.encode(queryObject)===Ext.JSON.encode(this.queryList$14IH[this.currentIndex$14IH]))return;
if(this.currentIndex$14IH<this.queryList$14IH.length-1)this.queryList$14IH=this.queryList$14IH.slice(0,this.currentIndex$14IH+1);if(this.queryList$14IH[this.queryList$14IH.length-1]!==queryObject)this.queryList$14IH.push(queryObject)}this.currentIndex$14IH=this.queryList$14IH.length-1;this.updateNavigation$14IH()}}function hasCurrent(){return!this.isEmpty$14IH()&&this.currentIndex$14IH>=0}function getCurrent(){var query=null;if(this.hasCurrent())query=this.queryList$14IH[this.currentIndex$14IH];return query}
function forward(){var query=null;if(!this.isEmpty$14IH()&&this.currentIndex$14IH<=this.queryList$14IH.length-2){query=this.queryList$14IH[++this.currentIndex$14IH];this.updateNavigation$14IH()}return query}function backward(){var query=null;if(!this.isEmpty$14IH()&&this.currentIndex$14IH>0){query=this.queryList$14IH[--this.currentIndex$14IH];this.updateNavigation$14IH()}return query}function isForwardEnabled(){return AS3.as(this.get(com.coremedia.elastic.social.studio.model.HistoryPropertyNames.FORWARD_ENABLED),
Boolean)}function isBackwardEnabled(){return AS3.as(this.get(com.coremedia.elastic.social.studio.model.HistoryPropertyNames.BACKWARD_ENABLED),Boolean)}function updateNavigation(){this.setForwardEnabled$14IH(this.queryList$14IH.length>0&&this.currentIndex$14IH<this.queryList$14IH.length-1);this.setBackwardEnabled$14IH(this.currentIndex$14IH>0)}function setForwardEnabled(forwardEnabled){this.set(com.coremedia.elastic.social.studio.model.HistoryPropertyNames.FORWARD_ENABLED,forwardEnabled)}function setBackwardEnabled(backwardEnabled){this.set(com.coremedia.elastic.social.studio.model.HistoryPropertyNames.BACKWARD_ENABLED,
backwardEnabled)}function isEmpty(){return this.queryList$14IH.length===0}return{extend:"com.coremedia.ui.data.impl.BeanImpl",mixins:["com.coremedia.elastic.social.studio.model.History"],queryList$14IH:null,currentIndex$14IH:0,constructor:HistoryImpl$,super$14IH:function(){com.coremedia.ui.data.impl.BeanImpl.prototype.constructor.apply(this,arguments)},add:add,hasCurrent:hasCurrent,getCurrent:getCurrent,forward:forward,backward:backward,isForwardEnabled:isForwardEnabled,isBackwardEnabled:isBackwardEnabled,
updateNavigation$14IH:updateNavigation,setForwardEnabled$14IH:setForwardEnabled,setBackwardEnabled$14IH:setBackwardEnabled,isEmpty$14IH:isEmpty,requires:["Ext.JSON","com.coremedia.elastic.social.studio.model.History","com.coremedia.ui.data.impl.BeanImpl"],uses:["com.coremedia.elastic.social.studio.model.HistoryPropertyNames"]}});Ext.define("com.coremedia.elastic.social.studio.model.impl.UserImpl",function(UserImpl){var NOTE_PATH_SEGMENT$static="/note";var APPLY_PATH_SEGMENT$static="/apply";var CANCEL_PATH_SEGMENT$static="/cancel";var ANONYMIZE_PATH_SEGMENT$static="/anonymize";var VALIDATION_PATH_SEGMENT$static="/validate";function UserImpl$(path){this.super$5D7k(path)}function getName(){return this.get(com.coremedia.elastic.social.studio.model.UserPropertyNames.NAME)}function setName(name){this.set(com.coremedia.elastic.social.studio.model.UserPropertyNames.NAME,
name)}function setGivenName(givenName){this.set(com.coremedia.elastic.social.studio.model.UserPropertyNames.GIVENNAME,givenName)}function setSurName(surName){this.set(com.coremedia.elastic.social.studio.model.UserPropertyNames.SURNAME,surName)}function getEmailAddress(){return this.get(com.coremedia.elastic.social.studio.model.UserPropertyNames.EMAIL)}function setEmailAddress(email){this.set(com.coremedia.elastic.social.studio.model.UserPropertyNames.EMAIL,email)}function getRegistrationDate(){return this.get(com.coremedia.elastic.social.studio.model.UserPropertyNames.REGISTRATION_DATE)}
function isActivated(){return this.get(com.coremedia.elastic.social.studio.model.UserPropertyNames.STATE)==="ACTIVATED"}function activate(){this.set(com.coremedia.elastic.social.studio.model.UserPropertyNames.STATE,"ACTIVATED")}function isModerationRequired(){return this.get(com.coremedia.elastic.social.studio.model.UserPropertyNames.STATE)==="MODERATION_REQUIRED"||this.get(com.coremedia.elastic.social.studio.model.UserPropertyNames.STATE)==="ACTIVATED_MODERATION_REQUIRED"}function moderate(){if(!this.isRegistrationRequested()&&
!this.isModerationRequired())this.set(com.coremedia.elastic.social.studio.model.UserPropertyNames.STATE,"MODERATION_REQUIRED")}function isIgnored(){return this.get(com.coremedia.elastic.social.studio.model.UserPropertyNames.STATE)==="IGNORED"}function ignore(){this.set(com.coremedia.elastic.social.studio.model.UserPropertyNames.STATE,"IGNORED")}function isBlocked(){return this.get(com.coremedia.elastic.social.studio.model.UserPropertyNames.STATE)==="BLOCKED"}function block(){this.set(com.coremedia.elastic.social.studio.model.UserPropertyNames.STATE,
"BLOCKED")}function isAnonymous(){return this.get(com.coremedia.elastic.social.studio.model.UserPropertyNames.STATE)==="ANONYMIZED"}function anonymize(moderationEmail,success,failure){switch(Math.max(arguments.length,1)){case 1:success=null;case 2:failure=null}success=success||Ext.emptyFn;failure=failure||Ext.emptyFn;var rsm=new com.coremedia.ui.data.impl.RemoteServiceMethod(this.getUriPath()+ANONYMIZE_PATH_SEGMENT$static,"POST");rsm.request({"params":moderationEmail.getText()},success,failure)}function isRegistrationRequested(){return this.get(com.coremedia.elastic.social.studio.model.UserPropertyNames.STATE)===
"REGISTRATION_REQUESTED"}function removeImage(){this.set(com.coremedia.elastic.social.studio.model.UserPropertyNames.IMAGE,null)}function getImage(){return AS3.as(this.get(com.coremedia.elastic.social.studio.model.UserPropertyNames.IMAGE),com.coremedia.ui.data.Blob)}function hasChangedSinceLastModeration(){return AS3.as(this.get(com.coremedia.elastic.social.studio.model.UserPropertyNames.CHANGED_SINCE_LAST_MODERATION),Boolean)}function hasLastModeratedProperties(){return AS3.as(this.get(com.coremedia.elastic.social.studio.model.UserPropertyNames.HAS_LAST_MODERATED_PROPERTIES),
Boolean)}function getNumberOfContributions(){return this.get(com.coremedia.elastic.social.studio.model.UserPropertyNames.NUMBER_OF_CONTRIBUTIONS)}function getNumberOfRejectedContributions(){return this.get(com.coremedia.elastic.social.studio.model.UserPropertyNames.REJECTED_CONTRIBUTIONS)}function getBlockUserMail(){var email=String(this.get(com.coremedia.elastic.social.studio.model.UserPropertyNames.BLOCK_USER_MAIL_TEXT));if(!email)email=mx.resources.ResourceManager.getInstance().getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",
"userdetail_block_and_send_default_email");return new com.coremedia.elastic.social.studio.model.impl.ModerationEmailImpl(com.coremedia.elastic.social.studio.model.UserPropertyNames.BLOCK_USER_MAIL_TEXT,email)}function getDeleteUserMail(){var email=String(this.get(com.coremedia.elastic.social.studio.model.UserPropertyNames.DELETE_USER_MAIL_TEXT));if(!email)email=mx.resources.ResourceManager.getInstance().getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_delete_and_send_default_email");
return new com.coremedia.elastic.social.studio.model.impl.ModerationEmailImpl(com.coremedia.elastic.social.studio.model.UserPropertyNames.DELETE_USER_MAIL_TEXT,email)}function getRestoreUserMail(){var email=String(this.get(com.coremedia.elastic.social.studio.model.UserPropertyNames.RESTORE_USER_MAIL_TEXT));if(!email)email=mx.resources.ResourceManager.getInstance().getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_restore_and_send_default_email");return new com.coremedia.elastic.social.studio.model.impl.ModerationEmailImpl(com.coremedia.elastic.social.studio.model.UserPropertyNames.RESTORE_USER_MAIL_TEXT,
email)}function getProfileChangedMail(){var email=String(this.get(com.coremedia.elastic.social.studio.model.UserPropertyNames.PROFILE_CHANGED_MAIL_TEXT));if(!email)email=mx.resources.ResourceManager.getInstance().getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_profile_changed_default_email");return new com.coremedia.elastic.social.studio.model.impl.ModerationEmailImpl(com.coremedia.elastic.social.studio.model.UserPropertyNames.PROFILE_CHANGED_MAIL_TEXT,email)}
function getDefaultModerationEmails(){return[this.getBlockUserMail(),this.getDeleteUserMail(),this.getRestoreUserMail(),this.getProfileChangedMail()]}function approve(abstractContributionAdministration,success,failure){var this$=this;switch(Math.max(arguments.length,1)){case 1:success=null;case 2:failure=null}var self=this;abstractContributionAdministration.approve(this,this.getProfileChangedMail(),function(){if(!this$.isAnonymous()&&abstractContributionAdministration instanceof com.coremedia.elastic.social.studio.model.impl.ModerationContributionAdministration)AS3.as(abstractContributionAdministration,
com.coremedia.elastic.social.studio.model.impl.ModerationContributionAdministration).setLastProcessed(self);success&&success()},function(messages){failure&&failure(messages)})}function reject(abstractContributionAdministration,success,failure){switch(Math.max(arguments.length,1)){case 1:success=null;case 2:failure=null}var self=this;var emailProvider=AS3.as(abstractContributionAdministration,com.coremedia.elastic.social.studio.model.ModerationEmailProvider);var emailText;if(this.hasChangedSinceLastModeration())emailText=
emailProvider.getModerationEmail(this.getRestoreUserMail().getType());else emailText=emailProvider.getModerationEmail(this.getDeleteUserMail().getType());abstractContributionAdministration.reject(this,emailText,function(){if(!self.isAnonymous()&&abstractContributionAdministration instanceof com.coremedia.elastic.social.studio.model.impl.ModerationContributionAdministration)AS3.as(abstractContributionAdministration,com.coremedia.elastic.social.studio.model.impl.ModerationContributionAdministration).setLastProcessed(self)},
function(messages){failure&&failure(messages)})}function validateProperty(propertyName,invalid,valid){if(arguments.length<=2)valid=null;var validateService=new com.coremedia.ui.data.impl.RemoteServiceMethod(this.getValidationUrl$5D7k(propertyName),"GET");validateService.request(null,function(response){var message=response.response.responseText;if(message)invalid(message);else if(valid)valid()},function(){invalid({nothing:"unknown_error"})})}function getValidationUrl(propertyName){return this.getUriPath()+
VALIDATION_PATH_SEGMENT$static+propertyName.charAt(0).toUpperCase()+propertyName.substr(1)+"?"+propertyName+"\x3d"+encodeURIComponent(this.get(propertyName))}function resendRegistrationConfirmation(success,failure){var resendService=new com.coremedia.ui.data.impl.RemoteServiceMethod(this.getUriPath()+"/sendRegistrationConfirmation","POST");resendService.request({"params":this.getProfileChangedMail().getText()},function(response){var errors=response.getResponseJSON();if(errors)failure&&failure(errors);
else success&&success()},com.coremedia.elastic.social.studio.model.impl.RemoteErrorHandler.handleRemoteErrorFromResponse)}function loadUserNotes(abstractContributionAdministration,user){abstractContributionAdministration.initUserNotes(user)}function loadNotes(success,failure){if(arguments.length<=1)failure=null;failure=failure||Ext.emptyFn;var rsm=new com.coremedia.ui.data.impl.RemoteServiceMethod(this.getUriPath()+NOTE_PATH_SEGMENT$static,"GET");rsm.request(null,function(rsmr){var notes=AS3.as(rsmr.getResponseJSON(),
com.coremedia.elastic.social.studio.model.impl.NotesImpl);success(notes)},failure)}function apply(mails,success,failure){if(arguments.length<=2)failure=null;success=success||Ext.emptyFn;failure=failure||Ext.emptyFn;var serializedMails=toObjectArray$static(mails);var rsm=new com.coremedia.ui.data.impl.RemoteServiceMethod(this.getUriPath()+APPLY_PATH_SEGMENT$static,"POST",true);rsm.request({state:this.getContributionState(),mails:serializedMails},success,failure)}function toObjectArray$static(beans){var json=
[];if(beans){var size=beans.length;for(var i=0;i<size;i++)json.push(beans[i].toObject())}return json}function cancel(success,failure){if(arguments.length<=1)failure=null;success=success||Ext.emptyFn;failure=failure||Ext.emptyFn;var rsm=new com.coremedia.ui.data.impl.RemoteServiceMethod(this.getUriPath()+CANCEL_PATH_SEGMENT$static,"POST");rsm.request(null,success,failure)}return{extend:"com.coremedia.elastic.social.studio.model.impl.ContributionImpl",mixins:["com.coremedia.elastic.social.studio.model.User"],
metadata:{"":["RestResource",["uriTemplate","{tenant:[^/]+}/elastic/social/user/{id:[A-Za-z0-9-]+}"]]},constructor:UserImpl$,super$5D7k:function(){com.coremedia.elastic.social.studio.model.impl.ContributionImpl.prototype.constructor.apply(this,arguments)},getName:getName,setName:setName,setGivenName:setGivenName,setSurName:setSurName,getEmailAddress:getEmailAddress,setEmailAddress:setEmailAddress,getRegistrationDate:getRegistrationDate,isActivated:isActivated,activate:activate,isModerationRequired:isModerationRequired,
moderate:moderate,isIgnored:isIgnored,ignore:ignore,isBlocked:isBlocked,block:block,isAnonymous:isAnonymous,anonymize:anonymize,isRegistrationRequested:isRegistrationRequested,removeImage:removeImage,getImage:getImage,hasChangedSinceLastModeration:hasChangedSinceLastModeration,hasLastModeratedProperties:hasLastModeratedProperties,getNumberOfContributions:getNumberOfContributions,getNumberOfRejectedContributions:getNumberOfRejectedContributions,getBlockUserMail:getBlockUserMail,getDeleteUserMail:getDeleteUserMail,
getRestoreUserMail:getRestoreUserMail,getProfileChangedMail:getProfileChangedMail,getDefaultModerationEmails:getDefaultModerationEmails,approve:approve,reject:reject,validateProperty:validateProperty,getValidationUrl$5D7k:getValidationUrl,resendRegistrationConfirmation:resendRegistrationConfirmation,loadUserNotes:loadUserNotes,loadNotes:loadNotes,apply:apply,cancel:cancel,requires:["Ext","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.elastic.social.studio.model.User",
"com.coremedia.elastic.social.studio.model.impl.ContributionImpl","com.coremedia.ui.data.Blob","com.coremedia.ui.data.impl.RemoteServiceMethod","mx.resources.ResourceManager"],uses:["com.coremedia.elastic.social.studio.model.ModerationEmailProvider","com.coremedia.elastic.social.studio.model.UserPropertyNames","com.coremedia.elastic.social.studio.model.impl.ModerationContributionAdministration","com.coremedia.elastic.social.studio.model.impl.ModerationEmailImpl","com.coremedia.elastic.social.studio.model.impl.NotesImpl",
"com.coremedia.elastic.social.studio.model.impl.RemoteErrorHandler"]}});Ext.define("com.coremedia.elastic.social.studio.model.impl.ReviewImpl",function(ReviewImpl){function ReviewImpl$(path){this.super$h88x(path)}function getTitle(){return this.get("title")}function getRating(){return this.get("rating")}return{extend:"com.coremedia.elastic.social.studio.model.impl.CommentImpl",mixins:["com.coremedia.elastic.social.studio.model.Review"],metadata:{"":["RestResource",["uriTemplate","{tenant:[^/]+}/elastic/social/review/{id:[A-Za-z0-9]+}"]]},constructor:ReviewImpl$,super$h88x:function(){com.coremedia.elastic.social.studio.model.impl.CommentImpl.prototype.constructor.apply(this,
arguments)},getTitle:getTitle,getRating:getRating,requires:["com.coremedia.elastic.social.studio.model.Review","com.coremedia.elastic.social.studio.model.impl.CommentImpl"]}});Ext.define("com.coremedia.elastic.social.studio.model.impl.CommentImpl",function(CommentImpl){function CommentImpl$(path){this.super$Qd3S(path)}function getAuthorName(){return this.get(com.coremedia.elastic.social.studio.model.CommentPropertyNames.AUTHOR_NAME)}function getAuthor(){return this.get(com.coremedia.elastic.social.studio.model.CommentPropertyNames.AUTHOR)}function getSubject(){return this.get(com.coremedia.elastic.social.studio.model.CommentPropertyNames.SUBJECT)}function getRejectCommentMail(){return new com.coremedia.elastic.social.studio.model.impl.ModerationEmailImpl(com.coremedia.elastic.social.studio.model.CommentPropertyNames.REJECT_COMMENT_MAIL_TEXT,
this.get(com.coremedia.elastic.social.studio.model.CommentPropertyNames.REJECT_COMMENT_MAIL_TEXT))}function getDefaultModerationEmails(){return new Array(this.getRejectCommentMail())}function approve(abstractContributionAdministration,success,failure){var this$=this;switch(Math.max(arguments.length,1)){case 1:success=null;case 2:failure=null}var self=this;abstractContributionAdministration.approve(this,null,function(){this$.setLocalModificationState(false);if(abstractContributionAdministration instanceof
com.coremedia.elastic.social.studio.model.impl.ModerationContributionAdministration)AS3.as(abstractContributionAdministration,com.coremedia.elastic.social.studio.model.impl.ModerationContributionAdministration).setLastProcessed(self);abstractContributionAdministration.getDisplayed()&&abstractContributionAdministration.getDisplayed().invalidate(function(){success&&success();this$.updateListWithTimeout$Qd3S(abstractContributionAdministration)})},function(){failure&&failure()})}function reject(abstractContributionAdministration,
success,failure){var this$=this;switch(Math.max(arguments.length,1)){case 1:success=null;case 2:failure=null}var self=this;var emailProvider=AS3.as(abstractContributionAdministration,com.coremedia.elastic.social.studio.model.ModerationEmailProvider);abstractContributionAdministration.reject(this,emailProvider.getModerationEmail(this.getRejectCommentMail().getType()),function(){this$.setLocalModificationState(false);if(abstractContributionAdministration instanceof com.coremedia.elastic.social.studio.model.impl.ModerationContributionAdministration)AS3.as(abstractContributionAdministration,
com.coremedia.elastic.social.studio.model.impl.ModerationContributionAdministration).setLastProcessed(self);abstractContributionAdministration.getDisplayed()&&abstractContributionAdministration.getDisplayed().invalidate(function(){success&&success();this$.updateListWithTimeout$Qd3S(abstractContributionAdministration)})},function(){failure&&failure()})}function updateListWithTimeout(abstractContributionAdministration){window.setTimeout(function(){abstractContributionAdministration.updateList()},2E3)}
function loadUserNotes(abstractContributionAdministration,user){abstractContributionAdministration.initUserNotes(user)}function getAttachments(){var array=[];if(this.get(com.coremedia.elastic.social.studio.model.CommentPropertyNames.ATTACHMENTS))this.get(com.coremedia.elastic.social.studio.model.CommentPropertyNames.ATTACHMENTS).forEach(function(t){array.push(AS3.as(t,com.coremedia.ui.data.Blob))});return array}return{extend:"com.coremedia.elastic.social.studio.model.impl.ContributionImpl",mixins:["com.coremedia.elastic.social.studio.model.Comment"],
metadata:{"":["RestResource",["uriTemplate","{tenant:[^/]+}/elastic/social/comment/{id:[A-Za-z0-9]+}"]]},constructor:CommentImpl$,super$Qd3S:function(){com.coremedia.elastic.social.studio.model.impl.ContributionImpl.prototype.constructor.apply(this,arguments)},getAuthorName:getAuthorName,getAuthor:getAuthor,getSubject:getSubject,getRejectCommentMail:getRejectCommentMail,getDefaultModerationEmails:getDefaultModerationEmails,approve:approve,reject:reject,updateListWithTimeout$Qd3S:updateListWithTimeout,
loadUserNotes:loadUserNotes,getAttachments:getAttachments,requires:["com.coremedia.elastic.social.studio.model.Comment","com.coremedia.elastic.social.studio.model.impl.ContributionImpl","com.coremedia.ui.data.Blob"],uses:["com.coremedia.elastic.social.studio.model.CommentPropertyNames","com.coremedia.elastic.social.studio.model.ModerationEmailProvider","com.coremedia.elastic.social.studio.model.impl.ModerationContributionAdministration","com.coremedia.elastic.social.studio.model.impl.ModerationEmailImpl"]}});Ext.define("com.coremedia.elastic.social.studio.model.impl.ContributionImpl",function(ContributionImpl){function ContributionImpl$(path){this.super$oyop(path)}function getId(){return this.get(com.coremedia.elastic.social.studio.model.ContributionPropertyNames.ID)}function getCreationDate(){return this.get(com.coremedia.elastic.social.studio.model.ContributionPropertyNames.CREATION_DATE)}function getContributionState(){return this.get(com.coremedia.elastic.social.studio.model.ContributionPropertyNames.STATE)}
function getTarget(loaded){if(arguments.length<=0)loaded=null;if(loaded){var self=this;this.load(function(){loaded(self.getTarget())})}return this.get(com.coremedia.elastic.social.studio.model.ContributionPropertyNames.TARGET)}function getPreviewUrl(){var url=this.get(com.coremedia.elastic.social.studio.model.ContributionPropertyNames.PREVIEW_URL);if(url)return url;else return ContributionImpl.BLANK_PREVIEW_URL}function getCuratedContents(isReadable,doesExist){switch(arguments.length){case 0:isReadable=
true;case 1:doesExist=true}var array=[];if(this.get(com.coremedia.elastic.social.studio.model.ContributionPropertyNames.CURATED_CONTENTS))this.get(com.coremedia.elastic.social.studio.model.ContributionPropertyNames.CURATED_CONTENTS).forEach(function(t){if((!isReadable||t.getState().readable)&&(!doesExist||t.getState().exists)&&!t.isDeleted())array.push(t)});return array}function getDefaultModerationEmails(){return[]}function getNumberOfComplaints(){return this.get(com.coremedia.elastic.social.studio.model.ContributionPropertyNames.NUMBER_OF_COMPLAINTS)}
function getLastComplaintDate(){return this.get(com.coremedia.elastic.social.studio.model.ContributionPropertyNames.LAST_COMPLAINT_DATE)}function approve(abstractContributionAdministration,success,failure){switch(Math.max(arguments.length,1)){case 1:success=null;case 2:failure=null}}function reject(abstractContributionAdministration,success,failure){switch(Math.max(arguments.length,1)){case 1:success=null;case 2:failure=null}}function loadUserNotes(abstractContributionAdministration,user){}function hasLocalModifications(){return this.hasLocalModificationValueExpression().getValue()}
function set(property,newValue){var moderationImpl=AS3.as(com.coremedia.elastic.social.studio.model.impl.ModerationImpl.getInstance(),com.coremedia.elastic.social.studio.model.impl.ModerationImpl);if(moderationImpl.getModeratedProperties().indexOf(property)!==-1)this.setLocalModificationState(true);return com.coremedia.ui.data.impl.RemoteBeanImpl.prototype.set.call(this,property,newValue)}function hasStageChanges(){return AS3.as(this.get(com.coremedia.elastic.social.studio.model.ContributionPropertyNames.HAS_STAGE_CHANGES),
Boolean)}function invalidate(callback){if(arguments.length<=0)callback=null;this.setLocalModificationState(false);com.coremedia.ui.data.impl.RemoteBeanImpl.prototype.invalidate.call(this,callback)}function hasLocalModificationValueExpression(){if(!this.localModValExp$oyop)this.localModValExp$oyop=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(false);return this.localModValExp$oyop}function setLocalModificationState(state){this.hasLocalModificationValueExpression().setValue(state)}return{extend:"com.coremedia.ui.data.impl.RemoteBeanImpl",
mixins:["com.coremedia.elastic.social.studio.model.Contribution"],localModValExp$oyop:null,constructor:ContributionImpl$,super$oyop:function(){com.coremedia.ui.data.impl.RemoteBeanImpl.prototype.constructor.apply(this,arguments)},getId:getId,getCreationDate:getCreationDate,getContributionState:getContributionState,getTarget:getTarget,getPreviewUrl:getPreviewUrl,getCuratedContents:getCuratedContents,getDefaultModerationEmails:getDefaultModerationEmails,getNumberOfComplaints:getNumberOfComplaints,getLastComplaintDate:getLastComplaintDate,
approve:approve,reject:reject,loadUserNotes:loadUserNotes,hasLocalModifications:hasLocalModifications,set:set,hasStageChanges:hasStageChanges,invalidate:invalidate,hasLocalModificationValueExpression:hasLocalModificationValueExpression,setLocalModificationState:setLocalModificationState,statics:{BLANK_PREVIEW_URL:"about:blank"},requires:["com.coremedia.elastic.social.studio.model.Contribution","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.impl.RemoteBeanImpl"],uses:["com.coremedia.elastic.social.studio.model.ContributionPropertyNames",
"com.coremedia.elastic.social.studio.model.impl.ModerationImpl"]}});Ext.define("com.coremedia.elastic.social.studio.model.UserPropertyNames",function(UserPropertyNames){function UserPropertyNames$(){this.super$APxz()}return{extend:"com.coremedia.elastic.social.studio.model.ContributionPropertyNames",super$APxz:function(){com.coremedia.elastic.social.studio.model.ContributionPropertyNames.prototype.constructor.apply(this,arguments)},constructor:UserPropertyNames$,statics:{NAME:"name",GIVENNAME:"givenName",SURNAME:"surName",STATE:"state",ANONYMOUS:"anonymous",IMAGE:"image",
REGISTRATION_DATE:"registrationDate",LAST_LOGIN_DATE:"lastLoginDate",LOCALE:"locale",CHANGED_SINCE_LAST_MODERATION:"changedSinceLastModeration",HAS_LAST_MODERATED_PROPERTIES:"lastModeratedProperties",NUMBER_OF_CONTRIBUTIONS:"numberOfContributions",REJECTED_CONTRIBUTIONS:"rejectedContributions",NUMBER_OF_LOGINS:"numberOfLogins",BLOCK_USER_MAIL_TEXT:"userBlocked",DELETE_USER_MAIL_TEXT:"userDeleted",RESTORE_USER_MAIL_TEXT:"userRestored",PROFILE_CHANGED_MAIL_TEXT:"profileChanged",EMAIL:"email"},requires:["com.coremedia.elastic.social.studio.model.ContributionPropertyNames"]}});Ext.define("com.coremedia.elastic.social.studio.model.UserAdministration",function(UserAdministration){return{mixins:["com.coremedia.elastic.social.studio.model.ModerationEmailProvider"],requires:["com.coremedia.elastic.social.studio.model.ModerationEmailProvider"]}});Ext.define("com.coremedia.elastic.social.studio.model.ReviewPropertyNames",function(ReviewPropertyNames){function ReviewPropertyNames$(){this.super$uIzG()}return{extend:"com.coremedia.elastic.social.studio.model.CommentPropertyNames",super$uIzG:function(){com.coremedia.elastic.social.studio.model.CommentPropertyNames.prototype.constructor.apply(this,arguments)},constructor:ReviewPropertyNames$,statics:{TITLE:"title",RATING:"rating"},requires:["com.coremedia.elastic.social.studio.model.CommentPropertyNames"]}});Ext.define("com.coremedia.elastic.social.studio.model.ContributionAdministrationPropertyNames",function(ContributionAdministrationPropertyNames){function ContributionAdministrationPropertyNames$(){}return{constructor:ContributionAdministrationPropertyNames$,statics:{MODERATED_ITEMS:"moderatedItems",FILTER_CATEGORIES:"filterCategories",ARCHIVED_LIST_ITEMS:"archivedContributionList",ARCHIVED_LIST_TOTAL_SIZE:"archivedContributionListTotalSize",PRIORITY:"priority",SELECTED_MODERATION_CONTRIBUTION:"selected",
SELECTED_ARCHIVE_CONTRIBUTION:"selectedArchiveContribution",SELECTED_MODERATION_ITEMS:"selectedItems",SELECTED_ARCHIVE_ITEMS:"selectedArchiveItems",DISPLAYED:"displayed",LAST_PROCESSED:"lastProcessed",MODE:"mode",PROCESS_COUNTER:"processedCounter",COMMENT_REJECTED_MAIL:"rejectCommentMailTemplate",PREVIEW_URL:"previewUrl",MODERATION_EMAILS:"moderationEmails",NOTES:"notes",FILTER_HISTORY:"filterHistory"}}});Ext.define("com.coremedia.elastic.social.studio.model.ModerationPropertyNames",function(ModerationPropertyNames){function ModerationPropertyNames$(){}return{constructor:ModerationPropertyNames$,statics:{TENANT:"tenant",USER_ADMINISTRATION:"userAdministration",MODERATION_CONTRIBUTION_ADMINISTRATION:"moderationContributionAdministration",ARCHIVE_CONTRIBUTION_ADMINISTRATION:"archiveContributionAdministration",ACTIVE_CONTRIBUTION_ADMINISTRATION:"activeContributionAdministration",BLACKLIST_ADMINISTRATION:"blacklistAdministration"}}});Ext.define("com.coremedia.elastic.social.studio.model.BeanValidator",function(BeanValidator){return{mixins:["com.coremedia.ui.data.Bean"],requires:["com.coremedia.ui.data.Bean"]}});Ext.define("com.coremedia.elastic.social.studio.model.UserAdministrationPropertyNames",function(UserAdministrationPropertyNames){function UserAdministrationPropertyNames$(){}return{constructor:UserAdministrationPropertyNames$,statics:{EDITED:"edited",SEARCH_RESULT:"searchResult",SEARCH_HISTORY:"searchHistory",MODERATION_EMAILS:"moderationEmails",NOTES:"notes"}}});Ext.define("com.coremedia.elastic.social.studio.model.User",function(User){return{mixins:["com.coremedia.elastic.social.studio.model.Contribution","com.coremedia.elastic.social.studio.model.BeanValidator"],requires:["com.coremedia.elastic.social.studio.model.BeanValidator","com.coremedia.elastic.social.studio.model.Contribution"]}});Ext.define("com.coremedia.elastic.social.studio.model.ModerationEmail",function(ModerationEmail){return{mixins:["com.coremedia.ui.data.Bean"],requires:["com.coremedia.ui.data.Bean"]}});Ext.define("com.coremedia.elastic.social.studio.model.CommentPropertyNames",function(CommentPropertyNames){function CommentPropertyNames$(){this.super$zeEV()}return{extend:"com.coremedia.elastic.social.studio.model.ContributionPropertyNames",super$zeEV:function(){com.coremedia.elastic.social.studio.model.ContributionPropertyNames.prototype.constructor.apply(this,arguments)},constructor:CommentPropertyNames$,statics:{AUTHOR_NAME:"authorName",AUTHOR:"author",TEXT:"text",SUBJECT:"subject",REJECT_COMMENT_MAIL_TEXT:"rejectCommentMailText",
ATTACHMENTS:"attachments"},requires:["com.coremedia.elastic.social.studio.model.ContributionPropertyNames"]}});Ext.define("com.coremedia.elastic.social.studio.model.History",function(History){return{mixins:["com.coremedia.ui.data.Bean"],requires:["com.coremedia.ui.data.Bean"]}});Ext.define("com.coremedia.elastic.social.studio.model.ModeratedItemPropertyNames",function(ModeratedItemPropertyNames){function ModeratedItemPropertyNames$(){}return{constructor:ModeratedItemPropertyNames$,statics:{AUTHOR_NAME:"authorName",CREATION_DATE:"creationDate",LAST_COMPLAINT_DATE:"lastComplaintDate",TARGET:"target",TARGET_ID:"targetId",SUBJECT:"subject",COLLECTION:"collection",PRIORITY_ID:"priorityId",STATE:"state"}}});Ext.define("com.coremedia.elastic.social.studio.model.utils.ValueExpressionUtil",function(ValueExpressionUtil){function ValueExpressionUtil$(){}var separator$static=".";function createPath$static(array){return array.join(separator$static)}return{constructor:ValueExpressionUtil$,statics:{createPath:createPath$static}}});Ext.define("com.coremedia.elastic.social.studio.model.utils.ElasticUtils",function(ElasticUtils){function ElasticUtils$(){}function toggleStarMarker$static(label,isEmailSent){var buttonText=label;if(isEmailSent){if(buttonText.charAt(buttonText.length-1)!=="*")buttonText+="*"}else if(buttonText.charAt(buttonText.length-1)==="*")buttonText=buttonText.replace("*","");return buttonText}function findBeanRecordIndex$static(store,bean){if(bean&&store)return store.findBy(function(record){return record.getBean()===
bean});return-1}return{constructor:ElasticUtils$,statics:{toggleStarMarker:toggleStarMarker$static,findBeanRecordIndex:findBeanRecordIndex$static}}});Ext.define("com.coremedia.elastic.social.studio.model.Contribution",function(Contribution){return{mixins:["com.coremedia.ui.data.RemoteBean"],requires:["com.coremedia.ui.data.RemoteBean"]}});Ext.define("com.coremedia.elastic.social.studio.model.ModerationEmailPropertyNames",function(ModerationEmailPropertyNames){function ModerationEmailPropertyNames$(){}return{constructor:ModerationEmailPropertyNames$,statics:{TYPE:"type",TEXT:"text"}}});Ext.define("com.coremedia.elastic.social.studio.model.BlacklistAdministrationPropertyNames",function(BlacklistAdministrationPropertyNames){function BlacklistAdministrationPropertyNames$(){}return{constructor:BlacklistAdministrationPropertyNames$,statics:{BLACKLIST:"blacklist"}}});Ext.define("com.coremedia.elastic.social.studio.model.Comment",function(Comment){return{mixins:["com.coremedia.elastic.social.studio.model.Contribution"],requires:["com.coremedia.elastic.social.studio.model.Contribution"]}});Ext.define("com.coremedia.elastic.social.studio.model.ContributionPropertyNames",function(ContributionPropertyNames){function ContributionPropertyNames$(){}return{constructor:ContributionPropertyNames$,statics:{ID:"id",CREATION_DATE:"creationDate",LAST_COMPLAINT_DATE:"lastComplaintDate",STATE:"state",TARGET:"target",SUBJECT:"subject",NUMBER_OF_COMPLAINTS:"numberOfComplaints",PREVIEW_URL:"previewUrl",HAS_STAGE_CHANGES:"stageChanges",CURATED_CONTENTS:"curatedContents"}}});Ext.define("com.coremedia.elastic.social.studio.model.ModeratedItem",function(ModeratedItem){return{mixins:["com.coremedia.ui.data.Bean"],requires:["com.coremedia.ui.data.Bean"]}});Ext.define("com.coremedia.elastic.social.studio.model.BlacklistAdministration",function(BlacklistAdministration){return{}});Ext.define("com.coremedia.elastic.social.studio.model.HistoryPropertyNames",function(HistoryPropertyNames){function HistoryPropertyNames$(){}return{constructor:HistoryPropertyNames$,statics:{FORWARD_ENABLED:"forwardEnabled",BACKWARD_ENABLED:"backwardEnabled"}}});Ext.define("com.coremedia.elastic.social.studio.model.Review",function(Review){return{mixins:["com.coremedia.elastic.social.studio.model.Comment"],requires:["com.coremedia.elastic.social.studio.model.Comment"]}});Ext.define("com.coremedia.elastic.social.studio.model.ModerationEmailProvider",function(ModerationEmailProvider){return{mixins:["com.coremedia.ui.data.Bean"],requires:["com.coremedia.ui.data.Bean"]}});Ext.define("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin",function(ElasticSocialStudioPlugin){function ElasticSocialStudioPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.ElasticSocialStudioPluginBase,{});var defaults_$1=AS3.cast(ElasticSocialStudioPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var editor_ExtensionsMenuToolbar_30_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.ExtensionsMenuToolbar,
{});var ui_AddItemsPlugin_32_9_$1=AS3.cast(com.coremedia.ui.plugins.AddItemsPlugin,{});var container_34_13_$1=AS3.cast(Ext.container.Container,{});var button_36_17_$1=AS3.cast(Ext.button.Button,{});button_36_17_$1.itemId="moderationButton";AS3.setBindable(button_36_17_$1,"tooltip",mx.resources.ResourceManager.getInstance().getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","btn_moderation_tooltip_text"));AS3.setBindable(button_36_17_$1,"iconCls",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.icons.CoreIcons",
"moderation")));AS3.setBindable(button_36_17_$1,"text",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","btn_moderation")));var editor_OpenTabAction_41_21_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenTabAction,{});AS3.setBindable(editor_OpenTabAction_41_21_$1,"singleton",true);var es_ElasticSocialMainTab_43_25_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.ElasticSocialMainTab,{});
AS3.setBindable(editor_OpenTabAction_41_21_$1,"tab",es_ElasticSocialMainTab_43_25_$1);button_36_17_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.OpenTabAction(editor_OpenTabAction_41_21_$1);container_34_13_$1.items=[button_36_17_$1];AS3.setBindable(ui_AddItemsPlugin_32_9_$1,"containers",[container_34_13_$1]);var ui_AddItemsPlugin_52_9_$1=AS3.cast(com.coremedia.ui.plugins.AddItemsPlugin,{});var container_54_13_$1=AS3.cast(Ext.container.Container,{});var button_56_17_$1=AS3.cast(Ext.button.Button,
{});button_56_17_$1.itemId="userListButton";AS3.setBindable(button_56_17_$1,"tooltip",mx.resources.ResourceManager.getInstance().getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","btn_user_management_tooltip_text"));AS3.setBindable(button_56_17_$1,"iconCls",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.icons.CoreIcons","user_administration")));AS3.setBindable(button_56_17_$1,"handler",AS3.bind(this,"showUserManagementList"));
AS3.setBindable(button_56_17_$1,"text",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","btn_user_management")));container_54_13_$1.items=[button_56_17_$1];AS3.setBindable(ui_AddItemsPlugin_52_9_$1,"containers",[container_54_13_$1]);editor_ExtensionsMenuToolbar_30_5_$1.plugins=[ui_AddItemsPlugin_32_9_$1,ui_AddItemsPlugin_52_9_$1];var editor_PreviewContextMenu_67_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.preview.PreviewContextMenu,
{});var ui_AddItemsPlugin_69_9_$1=AS3.cast(com.coremedia.ui.plugins.AddItemsPlugin,{});var es_ShowInModerationMenuItem_71_13_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.ShowInModerationMenuItem,{});var es_ApproveCommentMenuItem_72_13_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.ApproveCommentMenuItem,{});var es_RejectCommentMenuItem_73_13_$1=AS3.cast(com.coremedia.elastic.social.studio.moderation.RejectCommentMenuItem,{});AS3.setBindable(ui_AddItemsPlugin_69_9_$1,"items",
[es_ShowInModerationMenuItem_71_13_$1,es_ApproveCommentMenuItem_72_13_$1,es_RejectCommentMenuItem_73_13_$1]);editor_PreviewContextMenu_67_5_$1.plugins=[ui_AddItemsPlugin_69_9_$1];editor_PreviewContextMenu_67_5_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;AS3.setBindable(config_$1,"rules",[editor_ExtensionsMenuToolbar_30_5_$1,editor_PreviewContextMenu_67_5_$1]);var editor_RegisterRestResource_81_5_$1=AS3.cast(com.coremedia.cms.editor.configuration.RegisterRestResource,{});AS3.setBindable(editor_RegisterRestResource_81_5_$1,
"beanClass",com.coremedia.elastic.social.studio.model.impl.CommentImpl);var editor_RegisterRestResource_82_5_$1=AS3.cast(com.coremedia.cms.editor.configuration.RegisterRestResource,{});AS3.setBindable(editor_RegisterRestResource_82_5_$1,"beanClass",com.coremedia.elastic.social.studio.model.impl.ReviewImpl);var editor_RegisterRestResource_83_5_$1=AS3.cast(com.coremedia.cms.editor.configuration.RegisterRestResource,{});AS3.setBindable(editor_RegisterRestResource_83_5_$1,"beanClass",com.coremedia.elastic.social.studio.model.impl.ArchiveItemImpl);
var editor_RegisterRestResource_84_5_$1=AS3.cast(com.coremedia.cms.editor.configuration.RegisterRestResource,{});AS3.setBindable(editor_RegisterRestResource_84_5_$1,"beanClass",com.coremedia.elastic.social.studio.model.impl.NotesImpl);var editor_RegisterRestResource_85_5_$1=AS3.cast(com.coremedia.cms.editor.configuration.RegisterRestResource,{});AS3.setBindable(editor_RegisterRestResource_85_5_$1,"beanClass",com.coremedia.elastic.social.studio.model.impl.UserImpl);var editor_RegisterRestResource_86_5_$1=
AS3.cast(com.coremedia.cms.editor.configuration.RegisterRestResource,{});AS3.setBindable(editor_RegisterRestResource_86_5_$1,"beanClass",com.coremedia.elastic.social.studio.model.impl.ModeratedItemImpl);AS3.setBindable(config_$1,"configuration",[new com.coremedia.cms.editor.configuration.RegisterRestResource(editor_RegisterRestResource_81_5_$1),new com.coremedia.cms.editor.configuration.RegisterRestResource(editor_RegisterRestResource_82_5_$1),new com.coremedia.cms.editor.configuration.RegisterRestResource(editor_RegisterRestResource_83_5_$1),
new com.coremedia.cms.editor.configuration.RegisterRestResource(editor_RegisterRestResource_84_5_$1),new com.coremedia.cms.editor.configuration.RegisterRestResource(editor_RegisterRestResource_85_5_$1),new com.coremedia.cms.editor.configuration.RegisterRestResource(editor_RegisterRestResource_86_5_$1)]);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$F_W5(config_$1)}return{extend:"com.coremedia.elastic.social.studio.ElasticSocialStudioPluginBase",constructor:ElasticSocialStudioPlugin$,super$F_W5:function(){com.coremedia.elastic.social.studio.ElasticSocialStudioPluginBase.prototype.constructor.apply(this,
arguments)},requires:["Ext.button.Button","Ext.container.Container","com.coremedia.cms.editor.configuration.RegisterRestResource","com.coremedia.cms.editor.sdk.actions.OpenTabAction","com.coremedia.cms.editor.sdk.desktop.ExtensionsMenuToolbar","com.coremedia.cms.editor.sdk.preview.PreviewContextMenu","com.coremedia.elastic.social.studio.ElasticSocialStudioPluginBase","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.plugins.AddItemsPlugin",
"mx.resources.ResourceManager","net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.model.impl.ArchiveItemImpl","com.coremedia.elastic.social.studio.model.impl.CommentImpl","com.coremedia.elastic.social.studio.model.impl.ModeratedItemImpl","com.coremedia.elastic.social.studio.model.impl.NotesImpl","com.coremedia.elastic.social.studio.model.impl.ReviewImpl","com.coremedia.elastic.social.studio.model.impl.UserImpl","com.coremedia.elastic.social.studio.moderation.ApproveCommentMenuItem",
"com.coremedia.elastic.social.studio.moderation.ElasticSocialMainTab","com.coremedia.elastic.social.studio.moderation.RejectCommentMenuItem","com.coremedia.elastic.social.studio.moderation.ShowInModerationMenuItem"]}});Ext.define("com.coremedia.elastic.social.studio.plugins.SiteSpecificCommentsSwitchPluginBase",function(SiteSpecificCommentsSwitchPluginBase){function SiteSpecificCommentsSwitchPluginBase$(){}function init(component){AS3.as(component,com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.ContributionSearchFilterPanel).getEnableSiteSpecificCommentsSwitchVE().setValue(true)}return{mixins:["ext.Plugin"],constructor:SiteSpecificCommentsSwitchPluginBase$,init:init,requires:["ext.Plugin"],
uses:["com.coremedia.elastic.social.studio.moderation.moderationtab.moderateditems.ContributionSearchFilterPanel"]}});Ext.define("com.coremedia.elastic.social.studio.plugins.SiteSpecificCommentsSwitchPlugin",function(SiteSpecificCommentsSwitchPlugin){function SiteSpecificCommentsSwitchPlugin$(config){this.super$uNY8();if(arguments.length<=0)config=null}return{extend:"com.coremedia.elastic.social.studio.plugins.SiteSpecificCommentsSwitchPluginBase",constructor:SiteSpecificCommentsSwitchPlugin$,super$uNY8:function(){com.coremedia.elastic.social.studio.plugins.SiteSpecificCommentsSwitchPluginBase.prototype.constructor.apply(this,
arguments)},requires:["com.coremedia.elastic.social.studio.plugins.SiteSpecificCommentsSwitchPluginBase"]}});Ext.define("com.coremedia.elastic.social.studio.plugins.AnonymousUserFilterPlugin",function(AnonymousUserFilterPlugin){function AnonymousUserFilterPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.plugins.AnonymousUserFilterPluginBase,{});var defaults_$1=AS3.cast(AnonymousUserFilterPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$zB_F(config_$1)}return{extend:"com.coremedia.elastic.social.studio.plugins.AnonymousUserFilterPluginBase",
constructor:AnonymousUserFilterPlugin$,super$zB_F:function(){com.coremedia.elastic.social.studio.plugins.AnonymousUserFilterPluginBase.prototype.constructor.apply(this,arguments)},config:{valueExpression:null},requires:["com.coremedia.elastic.social.studio.plugins.AnonymousUserFilterPluginBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.elastic.social.studio.plugins.AnonymousUserFilterPluginBase",function(AnonymousUserFilterPluginBase){function AnonymousUserFilterPluginBase$(config){if(arguments.length<=0)config=null;this.valueExpression$Uzi0=AS3.getBindable(config,"valueExpression");this.valueExpression$Uzi0.addChangeListener(AS3.bind(this,"filterUsers$Uzi0"))}function init(component){var this$=this;if(AS3.is(component,Ext.grid.Panel)){var gridPanel=AS3.as(component,Ext.grid.Panel);gridPanel.addListener("afterrender",
AS3.bind(this,"filterUsers$Uzi0"));gridPanel.addListener("beforedestroy",function(){this$.valueExpression$Uzi0.removeChangeListener(AS3.bind(this$,"filterUsers$Uzi0"));gridPanel.removeListener("afterrender",AS3.bind(this$,"filterUsers$Uzi0"))})}}function filterUsers(){var users=AS3.as(this.valueExpression$Uzi0.getValue(),Array);if(users){var filtered=users.filter(function(user){return user&&!user.isAnonymous()});this.valueExpression$Uzi0.removeChangeListener(AS3.bind(this,"filterUsers$Uzi0"));this.valueExpression$Uzi0.setValue(filtered);
this.valueExpression$Uzi0.addChangeListener(AS3.bind(this,"filterUsers$Uzi0"))}}return{mixins:["ext.Plugin"],valueExpression$Uzi0:null,constructor:AnonymousUserFilterPluginBase$,init:init,filterUsers$Uzi0:filterUsers,requires:["Ext.grid.Panel","ext.Plugin"]}});Ext.define("com.coremedia.elastic.social.studio.plugins.BeanValidatorPlugin",function(BeanValidatorPlugin){function BeanValidatorPlugin$(config){if(arguments.length<=0)config=null;var superConfig=AS3.cast(com.coremedia.ui.plugins.BindPlugin,Ext.apply({},config));superConfig.boundValueChanged=AS3.bind(this,"boundValueChanged1");superConfig.componentChanged=null;superConfig.componentEvent=null;this.super$tcKX(superConfig)}function boundValueChanged1(component,valueExpression){var validator=getValidator$static(valueExpression);
if(validator&&AS3.getBindable(this,"property"))validator.validateProperty(AS3.getBindable(this,"property"),function(message){markInvalid$static(component,message)},function(){markValid$static(component)})}function getValidator$static(valueExpression){if(!valueExpression)return null;var currentValueExpression=valueExpression;while(currentValueExpression){var value=currentValueExpression.getValue();if(AS3.is(value,com.coremedia.elastic.social.studio.model.BeanValidator))return AS3.as(value,com.coremedia.elastic.social.studio.model.BeanValidator);
else currentValueExpression=currentValueExpression.getParent()}return null}function markValid$static(component){if(component){var field=AS3.as(component,Ext.form.field.Field);if(field)field.clearInvalid()}}function markInvalid$static(component,message){if(component){var field=AS3.as(component,Ext.form.field.Field);if(field)field.markInvalid(mx.resources.ResourceManager.getInstance().getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","userdetail_validate_"+message))}}return{extend:"com.coremedia.ui.plugins.BindPlugin",
constructor:BeanValidatorPlugin$,super$tcKX:function(){com.coremedia.ui.plugins.BindPlugin.prototype.constructor.apply(this,arguments)},boundValueChanged1:boundValueChanged1,config:{property:null},requires:["Ext","Ext.form.field.Field","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.ui.plugins.BindPlugin","mx.resources.ResourceManager"],uses:["com.coremedia.elastic.social.studio.model.BeanValidator"]}});Ext.define("com.coremedia.elastic.social.studio.plugins.RegisterModeratedPropertiesPluginBase",function(RegisterModeratedPropertiesPluginBase){function RegisterModeratedPropertiesPluginBase$(config){if(arguments.length<=0)config=null;this.moderatedPropertiesList$FAw1=AS3.getBindable(config,"propertyNames")}function init(editorContext){AS3.as(com.coremedia.elastic.social.studio.model.impl.ModerationImpl.getInstance(),com.coremedia.elastic.social.studio.model.impl.ModerationImpl).registerModeratedProperties(this.moderatedPropertiesList$FAw1)}
return{mixins:["com.coremedia.cms.editor.sdk.EditorPlugin"],metadata:{"":["PublicApi"]},moderatedPropertiesList$FAw1:null,constructor:RegisterModeratedPropertiesPluginBase$,init:init,requires:["com.coremedia.cms.editor.sdk.EditorPlugin"],uses:["com.coremedia.elastic.social.studio.model.impl.ModerationImpl"]}});Ext.define("com.coremedia.elastic.social.studio.plugins.CuratedTransferExtensionPointBase",function(CuratedTransferExtensionPointBase){function CuratedTransferExtensionPointBase$(config){if(arguments.length<=0)config=null;this.super$yMSB(config)}function onDisable(){this.getChildButtons$yMSB()&&this.getChildButtons$yMSB().forEach(function(button){button.setDisabled(true)})}function onEnable(){this.getChildButtons$yMSB()&&this.getChildButtons$yMSB().forEach(function(button){button.setDisabled(false)})}
function getChildButtons(){return this.query("button")}return{extend:"Ext.container.Container",constructor:CuratedTransferExtensionPointBase$,super$yMSB:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},onDisable:onDisable,onEnable:onEnable,getChildButtons$yMSB:getChildButtons,requires:["Ext.container.Container"]}});Ext.define("com.coremedia.elastic.social.studio.plugins.RegisterModeratedPropertiesPlugin",function(RegisterModeratedPropertiesPlugin){function RegisterModeratedPropertiesPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.plugins.RegisterModeratedPropertiesPluginBase,{});var defaults_$1=AS3.cast(RegisterModeratedPropertiesPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$PNkG(config_$1)}
return{extend:"com.coremedia.elastic.social.studio.plugins.RegisterModeratedPropertiesPluginBase",metadata:{"":["PublicApi"]},constructor:RegisterModeratedPropertiesPlugin$,super$PNkG:function(){com.coremedia.elastic.social.studio.plugins.RegisterModeratedPropertiesPluginBase.prototype.constructor.apply(this,arguments)},config:{propertyNames:null},requires:["com.coremedia.elastic.social.studio.plugins.RegisterModeratedPropertiesPluginBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.elastic.social.studio.plugins.CuratedTransferExtensionPoint",function(CuratedTransferExtensionPoint){function CuratedTransferExtensionPoint$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.plugins.CuratedTransferExtensionPointBase,{});var defaults_$1=AS3.cast(CuratedTransferExtensionPoint,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$a0aQ(config_$1)}
return{extend:"com.coremedia.elastic.social.studio.plugins.CuratedTransferExtensionPointBase",alias:"widget.com.coremedia.elastic.social.studio.config.curatedTransferExtensionPoint",constructor:CuratedTransferExtensionPoint$,super$a0aQ:function(){com.coremedia.elastic.social.studio.plugins.CuratedTransferExtensionPointBase.prototype.constructor.apply(this,arguments)},config:{moderation:null},requires:["com.coremedia.elastic.social.studio.plugins.CuratedTransferExtensionPointBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.elastic.social.studio.email.EMailWindow",function(EMailWindow){function EMailWindow$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.elastic.social.studio.email.EMailWindowBase,{});var defaults_$1=AS3.cast(EMailWindow,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.modal=true;config_$1.closeAction="close";config_$1["id"]=com.coremedia.elastic.social.studio.email.EMailWindowBase.EMAIL_WINDOW_ID;config_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.email.EMailWindowBase.EMAIL_WINDOW_ID);
config_$1.resizable=false;config_$1.constrainHeader=true;config_$1.stateId="emailWindowState";AS3.setBindable(config_$1,"stateful",true);AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","email_window_title"));AS3.setBindable(config_$1,"width",400);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.WindowSkin.GRID_200_LIGHT.getSkin());var layout_VBox_36_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_36_5_$1,
"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_36_5_$1);var container_39_5_$1=AS3.cast(Ext.container.Container,{});var layout_HBox_41_9_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(container_39_5_$1,"layout",layout_HBox_41_9_$1);var displayField_44_9_$1=AS3.cast(Ext.form.field.Display,{});displayField_44_9_$1.flex=1;AS3.setBindable(displayField_44_9_$1,"value",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","email_window_type_combo_label"));
displayField_44_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.DisplayFieldSkin.BOLD.getSkin());var ui_IconDisplayField_47_9_$1=AS3.cast(com.coremedia.ui.components.IconDisplayField,{});AS3.setBindable(ui_IconDisplayField_47_9_$1,"iconPosition",net.jangaroo.ext.Exml.asString(com.coremedia.ui.components.IconDisplayField.ICON_POSITION_AFTER_VALUE));AS3.setBindable(ui_IconDisplayField_47_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons",
"help")));AS3.setBindable(ui_IconDisplayField_47_9_$1,"tooltip",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","email_window_tooltip"));container_39_5_$1.items=[displayField_44_9_$1,ui_IconDisplayField_47_9_$1];var ui_LocalComboBox_53_5_$1=AS3.cast(com.coremedia.ui.components.LocalComboBox,{});ui_LocalComboBox_53_5_$1["id"]=com.coremedia.elastic.social.studio.email.EMailWindowBase.SELECT_EMAIL_COMBO_ID;ui_LocalComboBox_53_5_$1.valueField="type";AS3.setBindable(ui_LocalComboBox_53_5_$1,
"displayField","localizedType");AS3.setBindable(ui_LocalComboBox_53_5_$1,"encodeItems",true);var ui_BindListPlugin_58_9_$1=AS3.cast(com.coremedia.ui.plugins.BindListPlugin,{});var data_AutoField_60_13_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_60_13_$1.name="type";var ui_DataField_61_13_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_61_13_$1.name="localizedType";ui_DataField_61_13_$1.mapping="type";ui_DataField_61_13_$1["convert"]=com.coremedia.elastic.social.studio.email.EMailWindowBase.convertMailType;
ui_DataField_61_13_$1.encode=false;var data_AutoField_65_13_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_65_13_$1.name="text";AS3.setBindable(ui_BindListPlugin_58_9_$1,"fields",[data_AutoField_60_13_$1,ui_DataField_61_13_$1,data_AutoField_65_13_$1]);var ui_ValueExpression_68_13_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_68_13_$1,"expression",net.jangaroo.ext.Exml.asString(com.coremedia.elastic.social.studio.model.UserAdministrationPropertyNames.MODERATION_EMAILS));
AS3.setBindable(ui_ValueExpression_68_13_$1,"context",this);AS3.setBindable(ui_BindListPlugin_58_9_$1,"bindTo",new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_68_13_$1));var ui_BindPropertyPlugin_72_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_72_9_$1.bindTo=this.getSelectedEmailTypeValueExpression();ui_BindPropertyPlugin_72_9_$1.bidirectional=true;ui_BindPropertyPlugin_72_9_$1.componentEvent="select";ui_LocalComboBox_53_5_$1.plugins=[ui_BindListPlugin_58_9_$1,
ui_BindPropertyPlugin_72_9_$1];ui_LocalComboBox_53_5_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var displayField_78_5_$1=AS3.cast(Ext.form.field.Display,{});AS3.setBindable(displayField_78_5_$1,"value",this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","email_window_text_label"));displayField_78_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.DisplayFieldSkin.BOLD.getSkin());var textArea_82_5_$1=AS3.cast(Ext.form.field.TextArea,{});textArea_82_5_$1["id"]=
com.coremedia.elastic.social.studio.email.EMailWindowBase.TEXT_AREA_ID;AS3.setBindable(textArea_82_5_$1,"scrollable",true);AS3.setBindable(textArea_82_5_$1,"height",150);var ui_BindPropertyPlugin_86_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_86_9_$1.componentProperty="value";ui_BindPropertyPlugin_86_9_$1.bidirectional=true;ui_BindPropertyPlugin_86_9_$1.reverseTransformer=AS3.bind(this,"setModified");var ui_ValueExpression_90_13_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,
{});AS3.setBindable(ui_ValueExpression_90_13_$1,"expression","currentEmail.text");AS3.setBindable(ui_ValueExpression_90_13_$1,"context",this);ui_BindPropertyPlugin_86_9_$1.bindTo=new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_90_13_$1);textArea_82_5_$1.plugins=[ui_BindPropertyPlugin_86_9_$1];config_$1.items=[container_39_5_$1,ui_LocalComboBox_53_5_$1,displayField_78_5_$1,textArea_82_5_$1];var ui_VerticalSpacingPlugin_98_5_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});
config_$1.plugins=[ui_VerticalSpacingPlugin_98_5_$1];var toolbar_102_5_$1=AS3.cast(Ext.toolbar.Toolbar,{});var tbFill_104_9_$1=AS3.cast(Ext.toolbar.Fill,{});var button_105_9_$1=AS3.cast(Ext.button.Button,{});button_105_9_$1["id"]=com.coremedia.elastic.social.studio.email.EMailWindowBase.APPLY_BUTTON_ID;button_105_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_PRIMARY.getSkin());AS3.setBindable(button_105_9_$1,"scale","small");AS3.setBindable(button_105_9_$1,"text",
net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","btn_apply")));AS3.setBindable(button_105_9_$1,"handler",AS3.bind(this,"apply"));AS3.setBindable(button_105_9_$1,"disabled",true);var button_111_9_$1=AS3.cast(Ext.button.Button,{});button_111_9_$1["id"]=com.coremedia.elastic.social.studio.email.EMailWindowBase.CANCEL_BUTTON_ID;button_111_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_SECONDARY.getSkin());
AS3.setBindable(button_111_9_$1,"scale","small");AS3.setBindable(button_111_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","btn_cancel")));AS3.setBindable(button_111_9_$1,"handler",AS3.bind(this,"cancel"));toolbar_102_5_$1.items=[tbFill_104_9_$1,button_105_9_$1,button_111_9_$1];config_$1.fbar=toolbar_102_5_$1;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$4GqK(config_$1)}return{extend:"com.coremedia.elastic.social.studio.email.EMailWindowBase",
alias:"widget.com.coremedia.elastic.social.studio.config.eMailWindow",constructor:EMailWindow$,super$4GqK:function(){com.coremedia.elastic.social.studio.email.EMailWindowBase.prototype.constructor.apply(this,arguments)},requires:["Ext.button.Button","Ext.container.Container","Ext.data.field.Field","Ext.form.field.Display","Ext.form.field.TextArea","Ext.layout.container.HBox","Ext.layout.container.VBox","Ext.toolbar.Fill","Ext.toolbar.Toolbar","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties",
"com.coremedia.elastic.social.studio.email.EMailWindowBase","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.components.IconDisplayField","com.coremedia.ui.components.LocalComboBox","com.coremedia.ui.exml.ValueExpression","com.coremedia.ui.plugins.BindListPlugin","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.VerticalSpacingPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.DisplayFieldSkin","com.coremedia.ui.skins.WindowSkin","com.coremedia.ui.store.DataField",
"net.jangaroo.ext.Exml"],uses:["com.coremedia.elastic.social.studio.model.UserAdministrationPropertyNames"]}});Ext.define("com.coremedia.elastic.social.studio.email.EMailWindowBase",function(EMailWindowBase){function EMailWindowBase$(config){if(arguments.length<=0)config=null;this.super$_zu5(config);this.emails$_zu5=cloneArray$static(AS3.getBindable(this,"emailProvider").getModerationEmails());this.fireEvent(com.coremedia.elastic.social.studio.model.UserAdministrationPropertyNames.MODERATION_EMAILS);this.modified$_zu5=false;this.getApplyButton$_zu5().setDisabled(!this.modified$_zu5)}function afterRender(){this.getSelectedEmailTypeValueExpression().setValue(undefined);
this.getSelectedEmailTypeValueExpression().addChangeListener(AS3.bind(this,"startEditing"));com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.afterRender.call(this);this.initEmailTypeCombo$_zu5()}function beforeDestroy(){this.getSelectedEmailTypeValueExpression().removeChangeListener(AS3.bind(this,"startEditing"));com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.beforeDestroy.call(this)}function apply(){var store=this.getEmailTypeCombo$_zu5().getStore();var newEmails=[];
AS3.as(store,Ext.data.Store).each(function(record){newEmails.push(AS3.as(record.getBean(),com.coremedia.elastic.social.studio.model.ModerationEmail))});AS3.getBindable(this,"emailProvider").setModerationEmails(newEmails);this.close()}function setModified(value){if(!this.modified$_zu5){this.modified$_zu5=true;this.getApplyButton$_zu5().setDisabled(!this.modified$_zu5)}return value}function getApplyButton(){if(!this.applyButton$_zu5)this.applyButton$_zu5=AS3.as(Ext.getCmp(EMailWindowBase.APPLY_BUTTON_ID),
Ext.button.Button);return this.applyButton$_zu5}function cancel(){this.close()}function getCurrentEmail(){return this.currentEmail$_zu5}function setCurrentEmail(email){var oldEmail=this.currentEmail$_zu5;this.currentEmail$_zu5=email;this.fireEvent("currentEmail",oldEmail,email)}function getModerationEmails(){return this.emails$_zu5}function convertMailType$static(typeKey){return mx.resources.ResourceManager.getInstance().getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","email_window_type_"+
typeKey)}function startEditing(emailTypeValueExpression){var newEmail;var emailType=emailTypeValueExpression.getValue();if(emailType){var store=this.getEmailTypeCombo$_zu5().getStore();var emailData=store.getAt(store.find("type",emailType));if(emailData)newEmail=AS3.as(emailData.getBean(),com.coremedia.elastic.social.studio.model.ModerationEmail)}this.getEditedEmailValueExpression().setValue(newEmail)}function initEmailTypeCombo(){var emailTypeCombo=this.getEmailTypeCombo$_zu5();if(emailTypeCombo){var emailRecord=
emailTypeCombo.getStore().getAt(0);var email=AS3.as(emailRecord.getBean(),com.coremedia.elastic.social.studio.model.ModerationEmail);emailTypeCombo.setValue(email.getType());this.getSelectedEmailTypeValueExpression().setValue(email.getType())}}function getEmailTypeCombo(){if(!this.emailTypeCombo$_zu5)this.emailTypeCombo$_zu5=AS3.as(Ext.getCmp(EMailWindowBase.SELECT_EMAIL_COMBO_ID),Ext.form.field.ComboBox);return this.emailTypeCombo$_zu5}function cloneArray$static(source){var clonedArray=null;if(source){clonedArray=
[];var i;for(i=0;i<source.length;i++){var sourceEmail=AS3.as(source[i],com.coremedia.elastic.social.studio.model.ModerationEmail);clonedArray.push(new com.coremedia.elastic.social.studio.model.impl.ModerationEmailImpl(sourceEmail.getType(),sourceEmail.getText()))}}return clonedArray}function getSelectedEmailTypeValueExpression(){if(!this.selectedEmailTypeValueExpression$_zu5)this.selectedEmailTypeValueExpression$_zu5=com.coremedia.ui.data.ValueExpressionFactory.create("selectedEMailType");return this.selectedEmailTypeValueExpression$_zu5}
function getEditedEmailValueExpression(){if(!this.editedEmailValueExpression$_zu5)this.editedEmailValueExpression$_zu5=com.coremedia.ui.data.ValueExpressionFactory.create("currentEmail",this);return this.editedEmailValueExpression$_zu5}return{extend:"com.coremedia.cms.editor.sdk.components.StudioDialog",selectedEmailTypeValueExpression$_zu5:null,editedEmailValueExpression$_zu5:null,emailTypeCombo$_zu5:null,emails$_zu5:null,currentEmail$_zu5:null,modified$_zu5:false,applyButton$_zu5:null,constructor:EMailWindowBase$,
super$_zu5:function(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.constructor.apply(this,arguments)},afterRender:afterRender,beforeDestroy:beforeDestroy,apply:apply,setModified:setModified,getApplyButton$_zu5:getApplyButton,cancel:cancel,getCurrentEmail:getCurrentEmail,setCurrentEmail:setCurrentEmail,getModerationEmails:getModerationEmails,startEditing:startEditing,initEmailTypeCombo$_zu5:initEmailTypeCombo,getEmailTypeCombo$_zu5:getEmailTypeCombo,getSelectedEmailTypeValueExpression:getSelectedEmailTypeValueExpression,
getEditedEmailValueExpression:getEditedEmailValueExpression,config:{emailProvider:null},statics:{EMAIL_WINDOW_ID:"cm-elastic-social-email-window",SELECT_EMAIL_COMBO_ID:"cm-elastic-social-email-window-mail-selector",TEXT_AREA_ID:"cm-elastic-social-email-window-text-area",APPLY_BUTTON_ID:"cm-elastic-social-email-window-apply-button",CANCEL_BUTTON_ID:"cm-elastic-social-email-window-cancel-button",convertMailType:convertMailType$static},requires:["Ext","Ext.button.Button","Ext.data.Store","Ext.form.field.ComboBox",
"com.coremedia.cms.editor.sdk.components.StudioDialog","com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.ui.data.ValueExpressionFactory","mx.resources.ResourceManager"],uses:["com.coremedia.elastic.social.studio.model.ModerationEmail","com.coremedia.elastic.social.studio.model.UserAdministrationPropertyNames","com.coremedia.elastic.social.studio.model.impl.ModerationEmailImpl"]}});Ext.define("com.coremedia.elastic.social.studio.util.ModerationAppUtil",function(ModerationAppUtil){function showContributionInArchive$static(contribution){var workArea=com.coremedia.cms.editor.sdk.editorContext.getWorkArea();if(!workArea.getActiveTab()||workArea.getActiveTab().xtype!==com.coremedia.elastic.social.studio.moderation.ElasticSocialMainTab.xtype){workArea.mon(workArea,"tabchange",function waitForElasticSocialMainTab(){if(workArea.getActiveTab()&&workArea.getActiveTab().xtype===com.coremedia.elastic.social.studio.moderation.ElasticSocialMainTab.xtype){workArea.mun(workArea,
"tabchange",waitForElasticSocialMainTab);openArchiveWithContribution$static(contribution)}});var openTabActConfig=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenTabAction,{});AS3.setBindable(openTabActConfig,"tab",AS3.cast(com.coremedia.elastic.social.studio.moderation.ElasticSocialMainTab,{}));AS3.setBindable(openTabActConfig,"singleton",true);var openTabAct=new com.coremedia.cms.editor.sdk.actions.OpenTabAction(openTabActConfig);openTabAct.execute()}else openArchiveWithContribution$static(contribution)}
function openArchiveWithContribution$static(contribution){var elasticSocialMainTab=AS3.as(com.coremedia.cms.editor.sdk.editorContext.getWorkArea().getActiveTab(),com.coremedia.elastic.social.studio.moderation.ElasticSocialMainTab);var elasticSocialTabPanel=AS3.as(elasticSocialMainTab.queryById("tab-panel"),Ext.tab.Panel);if(elasticSocialTabPanel.getActiveTab().xtype!==com.coremedia.elastic.social.studio.moderation.archive.ArchiveTabPanel.xtype){elasticSocialTabPanel.mon(elasticSocialTabPanel,"tabchange",
function waitForArchiveTab(){elasticSocialTabPanel.mun(elasticSocialTabPanel,"tabchange",waitForArchiveTab);showContribution$static(contribution)});elasticSocialTabPanel.setActiveTab(1)}else showContribution$static(contribution)}function showContribution$static(contribution){var elasticSocialMainTab=AS3.as(com.coremedia.cms.editor.sdk.editorContext.getWorkArea().getActiveTab(),com.coremedia.elastic.social.studio.moderation.ElasticSocialMainTab);var archiveFilterPanel=AS3.as(elasticSocialMainTab.queryById("filter-panel"),
com.coremedia.elastic.social.studio.moderation.archive.ArchiveFilterPanel);archiveFilterPanel.showContribution(contribution)}function ModerationAppUtil$(){}return{constructor:ModerationAppUtil$,statics:{showContributionInArchive:showContributionInArchive$static},requires:["Ext.tab.Panel","com.coremedia.cms.editor.sdk.actions.OpenTabAction","com.coremedia.cms.editor.sdk.editorContext"],uses:["com.coremedia.elastic.social.studio.moderation.ElasticSocialMainTab","com.coremedia.elastic.social.studio.moderation.archive.ArchiveFilterPanel",
"com.coremedia.elastic.social.studio.moderation.archive.ArchiveTabPanel"]}});Ext.define("com.coremedia.elastic.social.studio.metadata.CommentMetadataNodeRenderer",function(CommentMetadataNodeRenderer){function CommentMetadataNodeRenderer$(){}function canRender(metadataNode){return AS3.is(com.coremedia.cms.editor.sdk.preview.MetadataHelper.getBeanMetadataValue(metadataNode),com.coremedia.elastic.social.studio.model.Comment)}function renderText(metadataNode){if(this.canRender(metadataNode)){var beanMetadataValue=com.coremedia.cms.editor.sdk.preview.MetadataHelper.getBeanMetadataValue(metadataNode);
if(AS3.is(beanMetadataValue,com.coremedia.elastic.social.studio.model.Comment)){var comment=AS3.as(beanMetadataValue,com.coremedia.elastic.social.studio.model.Comment);var readableState=comment.getState().readable;if(readableState===false)return Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","Content_notReadable_text"),comment.getId());else if(AS3.is(comment,com.coremedia.elastic.social.studio.model.Review))return AS3.as(comment,com.coremedia.elastic.social.studio.model.Review).getTitle()+
" ("+mx.resources.ResourceManager.getInstance().getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","archive_filter_panel_scope_review_text")+")";else return comment.getSubject()+" ("+mx.resources.ResourceManager.getInstance().getString("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin","archive_filter_panel_scope_comment_text")+")"}}return undefined}function renderIconCls(metadataNode){if(this.canRender(metadataNode)){var beanMetadataValue=com.coremedia.cms.editor.sdk.preview.MetadataHelper.getBeanMetadataValue(metadataNode);
if(AS3.is(beanMetadataValue,com.coremedia.elastic.social.studio.model.Comment)){var comment=AS3.as(beanMetadataValue,com.coremedia.elastic.social.studio.model.Comment);var readableState=comment.getState().readable;if(readableState===false)return mx.resources.ResourceManager.getInstance().getString("com.coremedia.icons.CoreIcons","no_rights");else if(AS3.is(comment,com.coremedia.elastic.social.studio.model.Review))return mx.resources.ResourceManager.getInstance().getString("com.coremedia.icons.CoreIcons",
"review");else return mx.resources.ResourceManager.getInstance().getString("com.coremedia.icons.CoreIcons","comment")}}return undefined}return{mixins:["com.coremedia.cms.editor.sdk.preview.metadata.MetadataNodeRenderer"],constructor:CommentMetadataNodeRenderer$,canRender:canRender,renderText:renderText,renderIconCls:renderIconCls,requires:["Ext.String","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.preview.MetadataHelper","com.coremedia.cms.editor.sdk.preview.metadata.MetadataNodeRenderer",
"com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties","com.coremedia.icons.CoreIcons_properties","mx.resources.ResourceManager"],uses:["com.coremedia.elastic.social.studio.model.Comment","com.coremedia.elastic.social.studio.model.Review"]}});Ext.define("com.coremedia.elastic.social.studio.ElasticSocialStudioPluginBase",function(ElasticSocialStudioPluginBase){var me$static=null;function ElasticSocialStudioPluginBase$(config){if(arguments.length<=0)config=null;this.super$STXs(config);this.addUnloadHandler$STXs();me$static=this;Ext.ClassManager.set("com.coremedia.ui.config.dialog_link",com.coremedia.ui.ckeditor.dialogs.Dialog_cmlink);AS3.as(com.coremedia.cms.editor.sdk.editorContext,com.coremedia.cms.editor.sdk.EditorContextImpl).getMetadataNodeRendererRegistry().register(new com.coremedia.elastic.social.studio.metadata.CommentMetadataNodeRenderer);
this.initTenantForSiteHandler$STXs()}function initTenantForSiteHandler(){var this$=this;AS3.as(this.getModeration$STXs(false),com.coremedia.elastic.social.studio.model.impl.ModerationImpl).updateTenantInfo();var siteService=com.coremedia.cms.editor.sdk.editorContext.getSitesService();var preferredSiteIdExpression=siteService.getPreferredSiteIdExpression();preferredSiteIdExpression.addChangeListener(function(){AS3.as(this$.getModeration$STXs(false),com.coremedia.elastic.social.studio.model.impl.ModerationImpl).updateTenantInfo()})}
function getInstance$static(){return me$static}function getModeration(doManualListPoll){if(arguments.length<=0)doManualListPoll=true;if(!this.moderation$STXs)this.moderation$STXs=com.coremedia.elastic.social.studio.model.impl.ModerationImpl.getInstance();if(doManualListPoll&&!this.moderation$STXs.getModerationContributionAdministration().isPolling())this.moderation$STXs.getModerationContributionAdministration().startPolling();return this.moderation$STXs}function showUserManagementList(){this.showUserManagement(true,
false)}function showUserManagement(detailWindowOpenViaList,showDetails){var userWindow=this.getUserManagementWindow$STXs(detailWindowOpenViaList);if(userWindow){if(showDetails)userWindow.switchToUserDetailPanel(detailWindowOpenViaList,this.getModeration$STXs().getUserAdministration());if(AS3.getBindable(userWindow,"collapsed","DUMMY"))userWindow.expand(true)}}function addUnloadHandler(){this.originalUnloadHandler$STXs=window.onunload;window.onunload=AS3.bind(this,"onUnload$STXs")}function onUnload(){if(this.moderation$STXs){this.moderation$STXs.getUserAdministration().cancelEditing(AS3.as(this.moderation$STXs.getModerationContributionAdministration().getDisplayed(),
com.coremedia.elastic.social.studio.model.User));this.moderation$STXs.getUserAdministration().cancelEditing(this.moderation$STXs.getUserAdministration().getEdited())}if(this.originalUnloadHandler$STXs)this.originalUnloadHandler$STXs()}function getUserManagementWindow(detailWindowOpenedViaList){if(!this.userManagement$STXs){var userManagementWindowConfig=AS3.cast(com.coremedia.elastic.social.studio.usermanagement.UserManagementWindow,{});AS3.setBindable(userManagementWindowConfig,"moderation",this.getModeration$STXs(false));
AS3.setBindable(userManagementWindowConfig,"detailWindowOpenedViaList",detailWindowOpenedViaList);this.userManagement$STXs=AS3.as(Ext.ComponentManager.create(userManagementWindowConfig),com.coremedia.elastic.social.studio.usermanagement.UserManagementWindow);this.userManagement$STXs.expand(true);this.userManagement$STXs.setWidth(650);this.userManagement$STXs.show();this.userManagement$STXs.addListener("destroy",AS3.bind(this,"destroyUserManagement$STXs"))}return this.userManagement$STXs}function destroyUserManagement(){this.userManagement$STXs=
null}return{extend:"com.coremedia.cms.editor.configuration.StudioPlugin",moderation$STXs:null,originalUnloadHandler$STXs:null,userManagement$STXs:null,constructor:ElasticSocialStudioPluginBase$,super$STXs:function(){com.coremedia.cms.editor.configuration.StudioPlugin.prototype.constructor.apply(this,arguments)},initTenantForSiteHandler$STXs:initTenantForSiteHandler,getModeration$STXs:getModeration,showUserManagementList:showUserManagementList,showUserManagement:showUserManagement,addUnloadHandler$STXs:addUnloadHandler,
onUnload$STXs:onUnload,getUserManagementWindow$STXs:getUserManagementWindow,destroyUserManagement$STXs:destroyUserManagement,statics:{getInstance:getInstance$static},requires:["Ext.ClassManager","Ext.ComponentManager","com.coremedia.cms.editor.configuration.StudioPlugin","com.coremedia.cms.editor.sdk.EditorContextImpl","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.ui.ckeditor.dialogs.Dialog_cmlink"],uses:["com.coremedia.elastic.social.studio.metadata.CommentMetadataNodeRenderer","com.coremedia.elastic.social.studio.model.User",
"com.coremedia.elastic.social.studio.model.impl.ModerationImpl","com.coremedia.elastic.social.studio.usermanagement.UserManagementWindow"]}});Ext.define("com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties",{requires:["com.coremedia.icons.CoreIcons_properties"],"license_warning_header":"CoreMedia Elastic Social Component not licensed","license_warning_message":"While using the CoreMedia Studio you will discover some functions of the CoreMedia Elastic Social Component. You are welcome to try them. If you are interested in this component for productive use, get in touch with your contact at CoreMedia.","elastic_social_tab_title":"Moderation",
"cancel":"Cancel","mail":"*This action triggers an email","contribution_type_contribution":"contribution","contribution_type_user":"profile","contribution_type_prefix_comment":"This","contribution_type_prefix_user":"This","btn_moderation":"Moderation","btn_moderation_tooltip_text":"Open Moderation","btn_user_management":"User Management","btn_user_management_tooltip_text":"Open User Management","btn_approve":"Approve","btn_reject":"Reject","btn_delete_and_send":"Delete","btn_reset_and_send":"Reset",
"btn_blacklist":"Blacklist","btn_close":"Close","btn_save":"Save","btn_cancel":"Cancel","btn_delete_with_mail":"Delete*","btn_confirm":"Confirm","btn_apply_with_mail":"Apply*","btn_apply":"Apply","btn_discard":"Discard","btn_back_to_profile":"Back to the Profile","btn_update":"Update","btn_refresh":"Refresh","list_empty":"No more contributions to review","list_status":"Status","list_type":"Type","list_name":"Username","list_content":"Details","list_date":"Date","list_group_complaints":"Contributions with complaints",
"list_group_normal":"Contributions without complaints","list_comments_complaint_tooltip":"There are complaints for this comment","list_users_complaint_tooltip":"There are complaints for this profile","list_archive_state_approved":"Approved","list_archive_state_rejected":"Rejected","list_archive_state_new":"New","list_archive_state_new_online":"New Online","detail_archive_header_multiple_selection":"There are multiple contributions selected","detail_archive_header_nothing_selected":"No contribution selected.",
"detail_archive_header_inmoderation":"This contribution needs moderation.","detail_archive_header_ignored":"This contribution is ignored.","detail_archive_header_approved":"This contribution is approved and online.","detail_archive_header_rejected":"This contribution is rejected and offline.","detail_archive_header_new":"This contribution needs moderation and is offline.","detail_archive_header_new_online":"This contribution needs moderation and is online.","archive_filter_panel_back_btn_tooltip":"Back",
"archive_filter_panel_forward_btn_tooltip":"Forward","archive_filter_panel_scope_all_text":"Any","archive_filter_panel_scope_comment_text":"Comment","archive_filter_panel_scope_review_text":"Review","archive_filter_panel_scope_comment_with_media_text":"Comment with Media","archive_filter_panel_search_field_empty_text":"Search","archive_filter_panel_search_button_tooltip":"Start Search","archive_filter_panel_state_label":"Status","archive_filter_panel_state_combo_all_text":"All","archive_filter_panel_state_combo_new_text":"New / New Online",
"archive_filter_panel_state_combo_approved_text":"Approved","archive_filter_panel_state_combo_rejected_text":"Rejected","archive_filter_panel_user_label":"User","archive_filter_panel_user_textfield_emtpy_text":"Username","archive_filter_panel_from_date_label":"From","archive_filter_panel_to_date_label":"To","archive_filter_panel_reset_filter_text":"Reset search","archive_list_empty_text":"No search result","archive_one_hit_text":"{0} search result","archive_many_hits_text":"{0} search results","archive_partial_hits_text":"{0} search results ({1} shown)",
"curated_content_multi_comment_title_label":"wrote at","curated_content_multi_comment_remove_selection":"Remove from Selection","edit_last":"Show last contribution","edit_next":"Show next contribution","edit_last_tooltip_empty":"No contribution moderated so far","edit_last_tooltip":"Edit the last moderated contribution","edit_next_tooltip":"Continue with the contribution list","edit_last_message":"This contribution has already been moderated.","edit_last_message_tooltip":"This contribution has already been approved/rejected. You can edit this contribution and reconsider your decision.",
"tab_toolbar_label_comment":"Comment","tab_toolbar_label_comment_with_media":"Comment with Media","tab_toolbar_label_profile":"Profile","status_processed_singular":"In this session, you have approved 1 contribution.","status_processed_plural":"In this session, you have approved {0} contributions.","status_remaining":"{0} remaining.","status_remaining_single":"1 remaining.","status_remaining_more":"More than {0} remaining.","detail_comments_for_user_title":"Contributions","detail_comments_for_user":"{0} reviewed ({1} rejected)",
"detail_view_status":"Status","detail_complaints":"There are {0} complaints for this profile","update_blacklist_failure_title":"Error","update_blacklist_failure_message":"An error occurred. Please contact your system administrator if this problem occurs again.","process_comment_failure_title":"Contributions Could Not Be Processed","process_comment_failure_message":"An error occurred. Please contact your system administrator if this problem occurs again.","load_list_failure_title":"Contributions Could Not Be Loaded",
"load_list_failure_message":"An error occurred. Please contact your system administrator if this problem occurs again.","resend_registration_confirmation_failure_title":"Email Could Not Be Sent","resend_registration_confirmation_failure_message":"The email could not be sent. Please contact your system administrator if this problem occurs again.","main_tab_title_moderation":"Moderation","main_tab_title_archive":"All Contributions","contributiondetail_state_message_new":"New","contributiondetail_state_message_new_online":"New",
"contributiondetail_state_message_edited":"Edited","contributiondetail_state_message_edited_online":"Edited","contributiondetail_state_message_approved":"Checked | Accepted","contributiondetail_state_message_rejected":"Checked | Rejected","contributiondetail_state_message_ignored":"Ignored","contributiondetail_state_message_blocked":"Blocked","contributiondetail_state_message_activated":"Checked","contributiondetail_state_message_registration_requested":"Unverified","contributiondetail_state_message_moderation_required":"New",
"contributiondetail_state_message_activated_moderation_required":"New","contributiondetail_state_tooltip_new":"{0} {1} is new and not public","contributiondetail_state_tooltip_new_online":"{0} {1} is new and public","contributiondetail_state_tooltip_edited":"{0} {1} has been modified by the user and the change has not been approved","contributiondetail_state_tooltip_edited_online":"{0} {1} has been modified by the user and the current version is public","contributiondetail_state_tooltip_approved":"{0} {1} has been accepted and is public",
"contributiondetail_state_tooltip_rejected":"{0} {1} has been rejected and is not public","contributiondetail_state_tooltip_ignored":"{0} {1} is ignored and public","contributiondetail_state_tooltip_blocked":"{0} {1} is blocked and not public","contributiondetail_state_tooltip_activated":"{0} {1} is new and public","contributiondetail_state_tooltip_registration_requested":"{0} {1} is unverified and not public","contributiondetail_state_tooltip_moderation_required":"{0} {1} is new and not public",
"contributiondetail_state_tooltip_activated_moderation_required":"{0} {1} is new and public","contributiondetail_state_tooltip_complaint":"There are complaints for this public {1}","contributiondetail_annotation_empty_text":"You can add editorial user notes here. They will be saved automatically.","contributiondetail_annotation_title":"Internal User Notes","contributiondetail_annotation_disabled":"Notes can only be attached to registered authors.","contributiondetail_annotation_tooltip":"User notes are saved automatically and are only visible to the editors",
"userdetail_additional_information_title":"Additional Information","contributiondetail_additional_information_title":"Additional Information","commentdetail_reject_comment_email":"Hello {0},\n\nyour comment has not been published.\n\nKind regards\nthe editors","commentdetail_reject_comment_email_anonymous":"No notification will be sent to anonymous authors.","commentdetail_reject_comment_email_blocked":"The author is blocked. No notification will be sent.","commentdetail_reject_comment_email_ignored":"The author is ignored. No notification will be sent.",
"reviewdetail_title":"Title","reviewDetail_rating":"Rating","contributiondetail_tab_info_title":"Info","contributiondetail_tab_info_annotation":"Annotation","contributiondetail_target_ariaLabel":"Open {0} in tab","contributiondetail_tab_curated_content":"Curated Content","quote_button_tooltip":"Format text as quote","external_link_tooltip":"Create or edit an external link","blacklist_small_word_error":"The blacklist entry should have at least 3 characters.","blacklist_add_button_tooltip":"Add word to blacklist",
"blacklist_remove_button_tooltip":"Remove word from blacklist","blacklist_open_button_tooltop":"Manage Blacklist","blacklist_block_label":"Block:","email_window_title":"Edit Emails","email_window_type_combo_label":"Available Email Templates","email_window_tooltip":"Here you can edit the body of an email. The edited text will be sent for the current contribution only. If you want to change the email text for any contribution, please change the corresponding Email Template.","email_window_text_label":"Email Text",
"email_window_type_userBlocked":"Blocking Email Template","email_window_type_userDeleted":"Deleting Email Template","email_window_type_userRestored":"Restoring Email Template","email_window_type_profileChanged":"Profile Changed Email Template","email_window_type_rejectCommentMailText":"Reject Comment Email Template","email_window_cancel_modified_confirmation_title":"Discard Changes?","email_window_cancel_modified_confirmation_message":"Do you really want to discard your changes?","userdetail_delete_image_message":"Do you really want to delete the profile image?",
"userdetail_delete_image_message_title":"Delete Profile Image","userdetail_delete_image_message_tooltip":"Delete profile image","userdetail_no_profile_pic_class":"cm-elastic-social-userdetail-nopic","userdetail_no_profile_pic_big_class":"cm-elastic-social-userdetail-nopic-big","userdetail_anonymous":"anonymous","userdetail_name_field_label":"Username","userdetail_givenname_field_label":"Given Name","userdetail_surname_field_label":"Surname","userdetail_email_field_label":"Email","userdetail_member_since_label":"Member Since",
"userdetail_number_of_contributions_label":"Contributions","userdetail_number_of_rejected_contributions_label":"Rejected Contributions","userdetail_locale_language_label":"Language","userdetail_locale_empty":"No locale","userdetail_last_login_date":"Last login date","userdetail_number_of_logins":"Logins","userdetail_number_of_blockings":"Number of blockings","userdetail_resend_reg_confirmation_mail_message":"A registration email was sent to '{0}' again.","userdetail_resend_registration_mail_button":"Resend Registration Email",
"userdetail_ignore_button_label":"Ignore","userdetail_not_ignore_button_label":"Don't Ignore","userdetail_state_message_registration_requested":"'{0}' has not yet finished the registration.","userdetail_state_message_activated":"'{0}' is activated. This is the default.","userdetail_state_message_activated_moderation_required":"'{0}' is activated and still not reviewed.","userdetail_state_message_moderation_required":"'{0}' is not activated and still not reviewed.","userdetail_state_message_edited":"'{0}' has been modified.",
"userdetail_state_message_blocked":"'{0}' is blocked. The user may not log in anymore. All new contributions by this user are rejected automatically and removed from moderation.","userdetail_state_message_onchange_blocked":"'{0}' will be blocked. This means the user may not log in anymore. All new contributions by this user will be rejected automatically and removed from moderation.","userdetail_state_message_ignored":"'{0}' is ignored. All contributions of that user will be rejected automatically without the user noticing since the contributions are still presented just to that user. All new contributions will be removed from moderation.",
"userdetail_state_message_onchange_ignored":"'{0}' will be ignored. All contributions of that user will be rejected automatically without the user noticing since the contributions are still presented just to that user. All new contributions are removed from moderation.","userdetail_state_message_anonymized":"'{0}' is deleted. All data from the user has been anonymized.","userdetail_block_button_label":"Block","userdetail_block_and_send_button_label":"Block + Send","userdetail_block_and_send_default_email":"Hello {0},\n\nwe are sorry to inform you that we have blocked you.\n\nKind regards,\nthe editors",
"userdetail_enable_button_label":"Enable","userdetail_delete_button_label":"Delete","userdetail_delete_user_confirmation_title":"Delete user","userdetail_delete_user_confirmation_message":"Do you really want to delete '{0}'s profile?","userdetail_delete_and_send_default_email":"Hello {0},\n\nwe are sorry to inform you that we have deleted your profile.\n\nKind regards,\nthe editors","userdetail_restore_and_send_default_email":"Hello {0},\n\nwe are sorry to inform you that we have reset your profile.\n\nKind regards,\nthe editors",
"userdetail_profile_changed_default_email":"Hello {0}, \n\nwe changed your profile.\n\nKind regards,\nthe editors","userdetail_meta_data_info":"Information","userdetail_meta_data_restrictions":"Restrictions","userdetail_statechange_failure_title":"Could Not Change Status.","userdetail_statechange_failure_message":"An error occurred. Please contact your system administrator if this problem occurs again.","userdetail_state_short_message_activated_moderation_required":"Moderation","userdetail_state_short_message_moderation_required":"Moderation",
"userdetail_state_short_message_activated":"Activated","userdetail_window_title":"User Management","userdetail_window_action_tooltip":"Open User Management","userdetail_next_user_button":"Show Next User","userdetail_previous_user_button":"Show Previous User","userdetail_back_to_search":"Back to search","userdetail_validate_unknown_error":"An unknown error occurred while making a request to the server.","userdetail_validate_username_empty":"The username must not be empty.","userdetail_validate_username_has_illegal_character":"Please do not use # within the name.",
"userdetail_validate_username_not_unique":"The username must be unique. Please choose a different one.","userdetail_validate_username_too_short":"The username should contain at least 3 characters.","userdetail_validate_email_invalid":"The email address is invalid. Please choose a different one.","userdetail_validate_email_empty":"The email address must not be empty.","userdetail_validate_email_not_unique":"The email address must be unique. Please choose a different one.","userdetail_validate_restore_email_not_unique":"The email which shall be restored has been assigned to another user meanwhile. You cannot restore it.",
"userdetail_validate_restore_username_not_unique":"The username to be restored has been assigned to another user in the meantime. You cannot restore it.","userdetail_validate_error_messagebox_text":"There are errors in the profile information. You can correct them or discard your changes.","userdetail_validate_error_messagebox_title":"Invalid Profile Information","userdetail_validate_error_messagebox_correct_button":"Correct","userdetail_validate_error_messagebox_discard_button":"Discard","userdetail_validation_window_title":"User Details",
"userdetail_mail_hint":"*This action triggers an {0}.","userdetail_mail_hint_short":"*An email will be sent.","userdetail_state_activated":"Activated / approved","userdetail_state_ignored":"Ignored","userdetail_state_blocked":"Blocked","userdetail_state_moderation_required":"New or requires moderation","userdetail_state_tooltip":'A user is activated by default which means that the user has been approved and is allowed to write comments, to complain and to rate.\n\nTo approve a user (again), please choose "New, requires moderation".\n\nAn ignored user is isolated from moderators and other users. All of the user\'s contributions are just visible to the user himself.\n\nA blocked user is not able to log in and cannot write comments, complain and rate.',
"userdetail_confirm_changes_title":"Apply Profile Changes","userdetail_confirm_changes_message":"You are about to close a profile that you have changed. Would you like to publish it?","userlist_state_activated":"activated","userlist_state_blocked":"blocked","userlist_state_ignored":"ignored","userlist_state_deleted":"deleted","userlist_state_activated_moderation_required":"moderation","userlist_state_moderation_required":"moderation","userlist_state_registration_requested":"registering","userlist_grid_column_image":"Image",
"userlist_grid_column_username":"Username","userlist_grid_column_name":"Name","userlist_grid_column_email":"Email","userlist_grid_column_state":"Status","userlist_empty":"No search result.","userlist_btn_back":"Back","userlist_btn_forward":"Forward","userlist_btn_search":"Start search","userlist_search_bar_empty_text":"Username","userlist_search_bar_loading_text":"Loading suggestions","userlist_search_loading_text":"Loading Users","prioritization_button_unprioritize_comments_title":"Deprioritize Content",
"prioritization_button_unprioritize_comments_qtip":"Display the list without any prioritization.","prioritization_button_prioritize_comments_title":"Prioritize Content","prioritization_button_prioritize_comments_qtip":"Contributions to this content will precede all other contributions within the list.","prioritization_button_unprioritize_users_title":"Deprioritize Users","prioritization_button_unprioritize_users_qtip":"Display the list without any prioritization.","prioritization_button_prioritize_users_title":"Prioritize Users",
"prioritization_button_prioritize_users_qtip":"Changes to users will precede all other contributions within the list.","attachment_window_title":"Media from Comment","attachment_window_file_name":"File Name","attachment_container_title":"Media (Images: {0})","attachment_window_fullscreen_button_icon_tooltip":"Open in original size in new browser tab","preview_noPreviewAvailable_message_text":"No preview exists for this contribution.","action_showInModerationAction_text":"Show in Moderation App","moderation_contributionSearchFilterPanel_label_title":"Contributions",
"moderation_contributionSearchFilterPanel_label_comments":"Comments \x26 Reviews","moderation_contributionSearchFilterPanel_label_site":"Show Comments for all Sites","moderation_contributionSearchFilterPanel_siteMenu_text":"Show Comments for all Sites","moderation_contributionSearchFilterPanel_label_users":"Users","moderation_contributionSearchFilterPanel_label_filter_emptyText":"Filter Comments","moderation_contributionSearchFilterPanel_remove_filterCategory_pattern":"Remove filter category {0}",
"moderation_content_information_textlink_text":"Open Content Item in Tab","de":"German","en":"English","es":"Spanish","fr":"French","it":"Italian","ja":"Japanese","ko":"Korean","nl":"Dutch","pl":"Polish","pt":"Portuguese","tk":"Turkish","zh":"Chinese","moderation_statistics_window_button_text":"More Info","moderation_statistics_window_title":"Moderation Statistics","moderation_statistics_window_tooltip":"Open a window for more statistics","moderation_statistics_tenant_title":"Tenant","moderation_statistics_comments_title":"Comments",
"moderation_statistics_comments_to_moderate":"To moderate","moderation_statistics_comments_online":"Online","moderation_statistics_users_title":"Users","moderation_statistics_users_to_moderate":"To moderate","moderation_statistics_users_activated":"Activated","userdetail_details_title":"Details"},function(){this.prototype["action_showInModerationAction_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.moderation;com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties.INSTANCE=
new com.coremedia.elastic.social.studio.ElasticSocialStudioPlugin_properties});
//# sourceMappingURL=com.coremedia.elastic.social__social-studio-plugin.js.map
