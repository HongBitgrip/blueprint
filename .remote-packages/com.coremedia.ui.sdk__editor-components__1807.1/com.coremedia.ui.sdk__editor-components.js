Ext.define("com.coremedia.cms.editor.sdk.util.ThumbnailRendererBase",function(ThumbnailRendererBase){function transformUrl(url){return url}function renderThumbnailUrl(thumbnail,operations){if(arguments.length<=1)operations=null;var blob=thumbnail.getBlob();var url=blob.getUri();if(thumbnail.getOperations())url=url+"/"+thumbnail.getOperations();if(operations)url=url+"/"+operations;return url}function ThumbnailRendererBase$(){}return{mixins:["com.coremedia.cms.editor.sdk.util.ThumbnailRenderer"],transformUrl:transformUrl,
renderThumbnailUrl:renderThumbnailUrl,constructor:ThumbnailRendererBase$,requires:["com.coremedia.cms.editor.sdk.util.ThumbnailRenderer"]}});Ext.define("com.coremedia.cms.editor.sdk.util.OpenHomepageActionBase",function(OpenHomepageActionBase){function OpenHomepageActionBase$(config){if(arguments.length<=0)config=null;this.super$$21n(config);this.setHandler(AS3.bind(this,"openHomepage$$21n"),this)}function openHomepage(){var site=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getPreferredSite();if(site&&site.getSiteRootDocument())com.coremedia.cms.editor.sdk.editorContext.getContentTabManager().openDocument(site.getSiteRootDocument())}
return{extend:"Ext.Action",constructor:OpenHomepageActionBase$,super$$21n:function(){Ext.Action.prototype.constructor.apply(this,arguments)},openHomepage$$21n:openHomepage,requires:["Ext.Action"],uses:["com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.util.Thumbnail",function(Thumbnail){function thumbnailPath_(){this.thumbnailPath$1m$Q=[]}function setOwner(owner){this.owner$1m$Q=owner}function getOwner(){return this.owner$1m$Q}function setContent(content){this.content$1m$Q=content}function setBlob(blob){this.blob$1m$Q=blob}function setPropertyName(propertyName){this.propertyName$1m$Q=propertyName}function getContent(){return this.content$1m$Q}function getBlob(){return this.blob$1m$Q}function getPropertyName(){return this.propertyName$1m$Q}
function setOperations(operations){this.operations$1m$Q=operations}function getOperations(){return this.operations$1m$Q}function setThumbnailPath(path){this.thumbnailPath$1m$Q=path}function getThumbnailPath(){return this.thumbnailPath$1m$Q}function Thumbnail$(){thumbnailPath_.call(this)}return{owner$1m$Q:null,content$1m$Q:null,blob$1m$Q:null,propertyName$1m$Q:null,operations$1m$Q:null,setOwner:setOwner,getOwner:getOwner,setContent:setContent,setBlob:setBlob,setPropertyName:setPropertyName,getContent:getContent,
getBlob:getBlob,getPropertyName:getPropertyName,setOperations:setOperations,getOperations:getOperations,setThumbnailPath:setThumbnailPath,getThumbnailPath:getThumbnailPath,constructor:Thumbnail$}});Ext.define("com.coremedia.cms.editor.sdk.util.TimeUtil",function(TimeUtil){var MILLIES_PER_DAY$static=24*60*60*1E3;var NUMBER_OF_DAYS_PER_YEAR$static=365;function getRelativeDateString$static(date){date=AS3.as(date,Date);if(!date)return"";var relativeDateMessage="";if(date){date=new Date(date.getTime());var today=new Date;today.setHours(0,0,0,0);date.setHours(0,0,0,0);var val=(date.getTime()-today.getTime())/MILLIES_PER_DAY$static;var days=val<0?Math.ceil(val):Math.floor(val);switch(days){case 0:relativeDateMessage=
mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","date_today_text");break;case -1:relativeDateMessage=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","date_one_day_ago_text");break;case 1:relativeDateMessage=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","date_in_one_day_text");break;default:if(days>1&&days<=NUMBER_OF_DAYS_PER_YEAR$static)relativeDateMessage=Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor",
"date_in_x_days_text"),days);else if(days>NUMBER_OF_DAYS_PER_YEAR$static)relativeDateMessage=com.coremedia.ui.util.EncodingUtil.encodeForHTML(Ext.Date.format(date,mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","shortDateFormat")));if(days<-1&&days>=-NUMBER_OF_DAYS_PER_YEAR$static)relativeDateMessage=Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","date_x_days_ago_text"),Math.abs(days));else if(days<-NUMBER_OF_DAYS_PER_YEAR$static)relativeDateMessage=
com.coremedia.ui.util.EncodingUtil.encodeForHTML(Ext.Date.format(date,mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","shortDateFormat")));break}}return relativeDateMessage}function isToday$static(date){var today=new Date;return date&&today.getDate()===date.getDate()&&today.getMonth()===date.getMonth()&&today.getFullYear()===date.getFullYear()}function isBeforeToday$static(date){var today=new Date;today.setHours(0,0,0,0);return date&&date.getTime()<today.getTime()}
function isSoon$static(date,nextDays){date=AS3.as(date,Date);if(!date)return false;var nextDaysMillis=1E3*60*60*24*nextDays;var diffMillis=TimeUtil.getDayAtMidnight(date).getTime()-TimeUtil.getDayAtMidnight(new Date).getTime();return diffMillis>=0&&diffMillis<=nextDaysMillis}function compareDates$static(d1,d2){if(d1===d2)return 0;if(d1&&d2){var time1=d1.getTime();var time2=d2.getTime();if(time1===time2)return 0;else if(time1>time2)return 1;return-1}if(!d1)return 1;if(!d2)return-1}function getDayAtMidnight$static(date){if(arguments.length<=
0)date=null;date=AS3.as(date,Date);if(!date)return null;var normalizedDay=date?new Date(date.getTime()):new Date;normalizedDay.setHours(0,0,0,0);return normalizedDay}function formatDateTime$static(date){if(!date)return"-";var locale=joo.localeSupport.getLocale();var pattern=TimeUtil.EN_DATETIME_FORMAT;if(locale.toLowerCase()==="de")pattern=TimeUtil.DE_DATETIME_FORMAT;var dateString=Ext.Date.format(date,pattern);return dateString}function TimeUtil$(){}return{constructor:TimeUtil$,statics:{DE_DATETIME_FORMAT:"d.m.y H:i",
EN_DATETIME_FORMAT:"m/d/y h:i A",getRelativeDateString:getRelativeDateString$static,isToday:isToday$static,isBeforeToday:isBeforeToday$static,isSoon:isSoon$static,compareDates:compareDates$static,getDayAtMidnight:getDayAtMidnight$static,formatDateTime:formatDateTime$static},requires:["Ext.Date","Ext.String","com.coremedia.cms.editor.Editor_properties","com.coremedia.ui.util.EncodingUtil","mx.resources.ResourceManager"]}});Ext.define("com.coremedia.cms.editor.sdk.util.ContentLinkListWrapper",function(ContentLinkListWrapper){function ContentLinkListWrapper$(config){this.super$JelK();if(arguments.length<=0)config=null;AS3.setBindable(this,"bindTo",AS3.getBindable(config,"bindTo"));AS3.setBindable(this,"propertyName",AS3.getBindable(config,"propertyName"));AS3.setBindable(this,"linkTypeName",AS3.getBindable(config,"linkTypeName"));AS3.setBindable(this,"maxCardinality",AS3.getBindable(config,"maxCardinality")||0);AS3.setBindable(this,
"readOnlyVE",AS3.getBindable(config,"readOnlyVE"))}function getVE(){if(!this.linksVE$JelK){var innerValueExpression=com.coremedia.cms.editor.sdk.util.LinkListUtil.createLinkValueExpression(AS3.getBindable(this,"bindTo"),AS3.getBindable(this,"propertyName"),AS3.getBindable(this,"linkTypeName"),this.isAtomic$JelK(),null);this.linksVE$JelK=com.coremedia.ui.data.ValueExpressionFactory.createTransformingValueExpression(innerValueExpression,AS3.bind(this,"atomicTransformer$JelK"),AS3.bind(this,"atomicReverseTransformer$JelK"),
[])}return this.linksVE$JelK}function getTotalCapacity(){return AS3.getBindable(this,"maxCardinality")>0?AS3.getBindable(this,"maxCardinality"):com.coremedia.cms.editor.sdk.util.LinkListUtil.getMaxCardinalityFromDescriptor(AS3.getBindable(this,"bindTo"),AS3.getBindable(this,"propertyName"))}function getFreeCapacity(){return com.coremedia.cms.editor.sdk.util.LinkListUtil.getFreeCapacity(AS3.getBindable(this,"bindTo"),AS3.getBindable(this,"propertyName"),AS3.getBindable(this,"maxCardinality"))}function getContentType(){var targetContentType=
com.coremedia.cms.editor.sdk.util.LinkListUtil.getTargetContentType(AS3.getBindable(this,"bindTo"),AS3.getBindable(this,"propertyName"),AS3.getBindable(this,"linkTypeName"));if(!targetContentType){var sourceContentTypeName=AS3.getBindable(this,"bindTo").extendBy(com.coremedia.cap.content.ContentPropertyNames.TYPE,com.coremedia.cap.content.ContentPropertyNames.NAME).getValue();throw new AS3.Error("Illegal configuration: Content of type '"+sourceContentTypeName+"' does not have a LinkList property '"+
AS3.getBindable(this,"propertyName")+"'.");}return targetContentType}function acceptsLinks(links){if(!links)return false;var contents=com.coremedia.cap.content.ContentProxyHelper.getContents(links);if(links.length!==contents.length)return false;return this.acceptsContents$JelK(contents,false)}function acceptsContents(contents,throwError){if(!contents)return false;var enoughCapacity=this.getTotalCapacity()>=contents.length;var failedContent=com.coremedia.cms.editor.sdk.util.LinkListUtil.containsContentNotMatchingType(this.getContentType(),
contents,throwError);return enoughCapacity&&failedContent===null}function getLinks(){return this.getVE().getValue()}function setLinks(links){if(links){var contents=com.coremedia.cap.content.ContentProxyHelper.getContents(links);if(links.length===contents.length&&this.acceptsContents$JelK(contents,true))this.getVE().setValue(contents)}}function addLinksAtIndex(links,index){if(links){var currentLinks=this.getLinks()||[];if(index<0||index>currentLinks.length)return;var contents=com.coremedia.cap.content.ContentProxyHelper.getContents(links);
if(links.length===contents.length&&this.acceptsContents$JelK(contents,true)){var newLinks=currentLinks.concat([]);newLinks.splice.apply(newLinks,[index,0].concat(contents));this.getVE().setValue(newLinks)}}}function isReadOnly(){return AS3.getBindable(this,"readOnlyVE")?AS3.getBindable(this,"readOnlyVE").getValue():false}function atomicTransformer(value){if(value===null)return[];if(value===undefined)return undefined;return this.isAtomic$JelK()?[value]:value}function atomicReverseTransformer(value){if(this.isAtomic$JelK())return value&&
value.length>0?value[0]:null;return value}function isAtomic(){return com.coremedia.cms.editor.sdk.util.LinkListUtil.isAtomic(AS3.getBindable(this,"bindTo"),AS3.getBindable(this,"propertyName"),AS3.getBindable(this,"maxCardinality"))}return{extend:"com.coremedia.cms.editor.sdk.util.LinkListWrapperBase",linksVE$JelK:null,constructor:ContentLinkListWrapper$,super$JelK:function(){com.coremedia.cms.editor.sdk.util.LinkListWrapperBase.prototype.constructor.apply(this,arguments)},getVE:getVE,getTotalCapacity:getTotalCapacity,
getFreeCapacity:getFreeCapacity,getContentType:getContentType,acceptsLinks:acceptsLinks,acceptsContents$JelK:acceptsContents,getLinks:getLinks,setLinks:setLinks,addLinksAtIndex:addLinksAtIndex,isReadOnly:isReadOnly,atomicTransformer$JelK:atomicTransformer,atomicReverseTransformer$JelK:atomicReverseTransformer,isAtomic$JelK:isAtomic,config:{bindTo:null,propertyName:null,linkTypeName:null,maxCardinality:0,readOnlyVE:null},requires:["AS3.Error","com.coremedia.cap.content.ContentPropertyNames","com.coremedia.cap.content.ContentProxyHelper",
"com.coremedia.cms.editor.sdk.util.LinkListWrapperBase","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.sdk.util.LinkListUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.util.RichTextUtil",function(RichTextUtil){function isEmpty$static(markup){if(!markup)return true;var plainText=com.coremedia.cms.editor.sdk.util.RichTextPlainTextTransformer.convertToPlainText(markup);return plainText.length===0}function RichTextUtil$(){throw new AS3.Error("Not implemented!");}return{metadata:{"":["PublicApi"]},constructor:RichTextUtil$,statics:{isEmpty:isEmpty$static},requires:["AS3.Error"],uses:["com.coremedia.cms.editor.sdk.util.RichTextPlainTextTransformer"]}});Ext.define("com.coremedia.cms.editor.sdk.util.UIBehaviour",function(UIBehaviour){function ACTIVATE_ON_HOVER_DD_GROUPS$static_(){UIBehaviour.ACTIVATE_ON_HOVER_DD_GROUPS=["ContentDD","ContentLinkDD"]}function UIBehaviour$(){}return{constructor:UIBehaviour$,statics:{ACTIVATE_ON_HOVER_DD_GROUPS:undefined,ACTIVATE_ON_HOVER_DELAY:1E3,__initStatics__:function(){ACTIVATE_ON_HOVER_DD_GROUPS$static_()}}}});Ext.define("com.coremedia.cms.editor.sdk.util.AnnotatedLinkListHelper",function(AnnotatedLinkListHelper){function AnnotatedLinkListHelper$(){}function createStructContentLinkListWrapper$static(bindTo,forceReadOnlyValueExpression,linkTypeName,propertyName,structListPropertyName,beanPropertyName){switch(Math.max(arguments.length,2)){case 2:linkTypeName="CMTeasable";case 3:propertyName="targets";case 4:structListPropertyName="links";case 5:beanPropertyName="target"}var linkListWrapperCfg=AS3.cast(com.coremedia.cms.editor.sdk.util.StructContentLinkListWrapper,
{});AS3.setBindable(linkListWrapperCfg,"bindTo",bindTo);AS3.setBindable(linkListWrapperCfg,"linkTypeName",linkTypeName);AS3.setBindable(linkListWrapperCfg,"propertyName",propertyName);AS3.setBindable(linkListWrapperCfg,"structListPropertyName",structListPropertyName);AS3.setBindable(linkListWrapperCfg,"beanPropertyName",beanPropertyName);AS3.setBindable(linkListWrapperCfg,"readOnlyVE",com.coremedia.cms.editor.sdk.util.PropertyEditorUtil.createReadOnlyValueExpression(bindTo,forceReadOnlyValueExpression));
return new com.coremedia.cms.editor.sdk.util.StructContentLinkListWrapper(linkListWrapperCfg)}function rowWidgetsAnnotatedBasedOnType$static(annotatedLinkListProvider,rowIndex){if(!annotatedLinkListProvider.getAnnotatedLinkListVE().isLoaded())return undefined;var struct=AS3.as(annotatedLinkListProvider.getAnnotatedLinkListVE().getValue()[rowIndex],com.coremedia.cap.struct.Struct);if(!struct)return false;var filteredPropertyNames=struct.getType().getPropertyNames().filter(function(propertyName){return propertyName!==
annotatedLinkListProvider.getPrimaryPropertyName()});return filteredPropertyNames.some(function(propertyName){return isRowWidgetAnnotated$static(struct.get(propertyName))})}function isRowWidgetAnnotated$static(value){var key=typeof value;switch(key.toLowerCase()){case "boolean":return value===true;case "string":return value&&value.trim().length>0;case "number":return value>=0;case "object":return value!==null;case "struct":var struct=AS3.as(value,com.coremedia.cap.struct.Struct);return struct.getType().getPropertyNames().every(function(propertyName){return isRowWidgetAnnotated$static(struct.get(propertyName))});
default:return false}}return{constructor:AnnotatedLinkListHelper$,statics:{createStructContentLinkListWrapper:createStructContentLinkListWrapper$static,rowWidgetsAnnotatedBasedOnType:rowWidgetsAnnotatedBasedOnType$static},requires:["com.coremedia.cap.struct.Struct"],uses:["com.coremedia.cms.editor.sdk.util.PropertyEditorUtil","com.coremedia.cms.editor.sdk.util.StructContentLinkListWrapper"]}});Ext.define("com.coremedia.cms.editor.sdk.util.AccessControlUtil",function(AccessControlUtil){var BLOCK$static;function BLOCK$static_(){BLOCK$static=new com.coremedia.ui.models.bem.BEMBlock("cm-access-control-util")}var MODIFIER_READ_ONLY$static;function MODIFIER_READ_ONLY$static_(){MODIFIER_READ_ONLY$static=BLOCK$static.createModifier("read-only")}function isReadOnly$static(content){var repository=content.getRepository();return AS3.cast(com.coremedia.cap.content.authorization.impl.AccessControlImpl,
repository.getAccessControl()).isWritable(content)===false}function calculateCSSClasses$static(content){var result=BLOCK$static.getCSSClass();if(AccessControlUtil.isReadOnly(content))result+=" "+MODIFIER_READ_ONLY$static.getCSSClass();return result}function AccessControlUtil$(){}return{constructor:AccessControlUtil$,statics:{BLOCK:undefined,MODIFIER_READ_ONLY:undefined,isReadOnly:isReadOnly$static,calculateCSSClasses:calculateCSSClasses$static,__initStatics__:function(){BLOCK$static_();MODIFIER_READ_ONLY$static_()}},
requires:["com.coremedia.cap.content.authorization.impl.AccessControlImpl","com.coremedia.ui.models.bem.BEMBlock"]}});Ext.define("com.coremedia.cms.editor.sdk.util.ContentExportAction",function(ContentExportAction){function ContentExportAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.util.ContentExportActionBase,{});var defaults_$1=AS3.cast(ContentExportAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$YE_H(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.util.ContentExportActionBase",
constructor:ContentExportAction$,super$YE_H:function(){com.coremedia.cms.editor.sdk.util.ContentExportActionBase.prototype.constructor.apply(this,arguments)},statics:{ACTION_ID:"contentExportAction"},requires:["com.coremedia.cms.editor.sdk.util.ContentExportActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.util.PropertyEditorUtil",function(PropertyEditorUtil){var DOCUMENT_TYPES_PROPERTIES$static;function DOCUMENT_TYPES_PROPERTIES$static_(){DOCUMENT_TYPES_PROPERTIES$static=mx.resources.ResourceManager.getInstance().getResourceBundle(null,"com.coremedia.cms.editor.ContentTypes").content}var EDITOR_PROPERTIES$static;function EDITOR_PROPERTIES$static_(){EDITOR_PROPERTIES$static=mx.resources.ResourceManager.getInstance().getResourceBundle(null,"com.coremedia.cms.editor.Editor").content}
var templates$static=null;function getTemplates$static(){if(!templates$static){templates$static=[];for(var key in DOCUMENT_TYPES_PROPERTIES$static)if(com.coremedia.ui.data.impl.URITemplate.containsVariables(key))templates$static.push(new com.coremedia.ui.data.impl.URITemplate(key))}return templates$static}function getLocalizedStringWithoutFallback$static(contentTypeName,propertyName,type){if(!type)throw"type not set";if(!contentTypeName||!propertyName)return"---";var uriTemplates=getTemplates$static();
while(contentTypeName!==undefined){var key=contentTypeName+"_"+propertyName+"_"+type;var result=DOCUMENT_TYPES_PROPERTIES$static[key];if(result||result==="")return result;for(var $1=0;$1<uriTemplates.length;++$1){var template=uriTemplates[$1];var binding=template.match(key);if(binding){var value=DOCUMENT_TYPES_PROPERTIES$static[template];return template.format(binding,value)}}var contentTypeBean=com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getContentType(contentTypeName);
if(!contentTypeBean)break;var parentType=AS3.as(contentTypeBean.getParent(),com.coremedia.cap.content.ContentType);if(!parentType)break;contentTypeName=parentType.getName()}return null}function getLocalizedString$static(contentTypeName,propertyName,type,defaultString){if(arguments.length<=3)defaultString=null;var localizedStringWithoutFallback=PropertyEditorUtil.getLocalizedStringWithoutFallback(contentTypeName,propertyName,type);return localizedStringWithoutFallback!==null?localizedStringWithoutFallback:
defaultString||propertyName}function localizeContentTypeName$static(contentType){var key=contentType+"_text";return DOCUMENT_TYPES_PROPERTIES$static[key]||contentType}function getLocalizedEmptyText$static(contentTypeName,propertyName){return PropertyEditorUtil.getLocalizedString(contentTypeName,propertyName,PropertyEditorUtil.EMPTY_TEXT)}function getLocalizedLabel$static(contentTypeName,propertyName){return PropertyEditorUtil.getLocalizedString(contentTypeName,propertyName,PropertyEditorUtil.LABEL)}
function getLocalizedTooltip$static(contentTypeName,propertyName){return PropertyEditorUtil.getLocalizedString(contentTypeName,propertyName,PropertyEditorUtil.TOOL_TIP)}function getBlobLocalizedText$static(contentType,suffix){if(arguments.length<=1)suffix="";var result;if(contentType){result=EDITOR_PROPERTIES$static["Blob_contentType_"+contentType.replace(/[\/-]/g,"_")+suffix];if(!result){var mimeParts=contentType.split("/");if(mimeParts.length>1)result=EDITOR_PROPERTIES$static["Blob_contentType_"+
mimeParts[0]+suffix]}}if(!result)result=EDITOR_PROPERTIES$static["Blob_contentType_all"+suffix];return result}function getBlobName$static(contentType){return getBlobLocalizedText$static(contentType)}function getBlobHelpText$static(contentType,helpText){if(helpText)return helpText;else return getBlobLocalizedText$static(contentType,"_helpText")}function getBlobUploadButtonText$static(contentType,buttonText){if(buttonText)return buttonText;else return Ext.String.format(EDITOR_PROPERTIES$static.Blob_uploadButton_text,
PropertyEditorUtil.getBlobName(contentType))}function getBlobMetaData$static(blob){var result=[];var size=PropertyEditorUtil.getBlobSize(blob);if(size)result.push(size);var mimeType=PropertyEditorUtil.getBlobContentType(blob);if(mimeType)result.push(mimeType);return result.join(", ")}function getBlobSize$static(blob){return blob&&blob.getSize()!==undefined?blob.getSize()+" "+EDITOR_PROPERTIES$static.Blob_size_bytes_text:"-"}function getHumanReadableBlobSize$static(blob){if(!(blob&&blob.getSize()))return"-";
var units=["B","KB","MB","GB","TB"];var bytes=blob.getSize();var unitIndex=Math.floor(Math.log(bytes)/Math.log(1024));if(unitIndex===0)return PropertyEditorUtil.getBlobSize(blob);else return Number(bytes/Math.pow(1024,unitIndex)).toFixed(2)+" "+units[unitIndex]}function getBlobContentType$static(blob){return blob&&blob.getContentType()!==undefined?blob.getContentType():"-"}function getBlobContentTypeIconClass$static(blob){var prefix="Blob_contentType_";var iconPostfix="_icon";var defaultSubType="_default";
var result;var type=PropertyEditorUtil.getBlobContentType(blob);if(type!=="-"){var simplifiedType=type.replace(/[^a-zA-Z0-9]+/g,"_");result=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor",prefix+simplifiedType+iconPostfix);if(!result){var firstSlash=type.indexOf("/");if(firstSlash>0){var firstPart=type.substr(0,firstSlash).replace(/[^a-zA-Z0-9]+/g,"_");result=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor",prefix+firstPart+
defaultSubType+iconPostfix)}}}if(!result)return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor",PropertyEditorUtil.DEFAULT_BLOB_CONTENT_TYPE_ICON_KEY);else return result}function createReadOnlyValueExpression$static(bindTo,forceReadOnlyValueExpression){return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){if(forceReadOnlyValueExpression&&forceReadOnlyValueExpression.getValue())return true;if(!bindTo)return false;return PropertyEditorUtil.isReadOnly(bindTo.getValue())})}
function isReadOnly$static(object){if(object===undefined)return undefined;if(AS3.is(object,com.coremedia.cap.content.Content)){var content=AS3.cast(com.coremedia.cap.content.Content,object);var mayWriteContent=content.getRepository().getAccessControl().mayWrite(content);if(mayWriteContent===undefined)return undefined;var workflowRepository=com.coremedia.cap.common.SESSION.getConnection().getWorkflowRepository();if(!workflowRepository)return!mayWriteContent;var workflowContentService=workflowRepository.getWorkflowContentService();
return!mayWriteContent||workflowContentService.isLockedForUser(content)}else if(AS3.is(object,com.coremedia.cap.workflow.WorkflowObject)){var workflowObject=AS3.cast(com.coremedia.cap.workflow.WorkflowObject,object);return workflowObject.getRepository().getAccessControl().mayWrite(workflowObject)}return false}function PropertyEditorUtil$(){}return{metadata:{"":["PublicApi"]},constructor:PropertyEditorUtil$,statics:{LABEL:"text",TOOL_TIP:"toolTip",EMPTY_TEXT:"emptyText",DOCUMENT_TYPES_PROPERTIES:undefined,
EDITOR_PROPERTIES:undefined,DEFAULT_BLOB_CONTENT_TYPE_ICON_KEY:"Blob_contentType_default_icon",getLocalizedStringWithoutFallback:getLocalizedStringWithoutFallback$static,getLocalizedString:getLocalizedString$static,localizeContentTypeName:localizeContentTypeName$static,getLocalizedEmptyText:getLocalizedEmptyText$static,getLocalizedLabel:getLocalizedLabel$static,getLocalizedTooltip:getLocalizedTooltip$static,getBlobName:getBlobName$static,getBlobHelpText:getBlobHelpText$static,getBlobUploadButtonText:getBlobUploadButtonText$static,
getBlobMetaData:getBlobMetaData$static,getBlobSize:getBlobSize$static,getHumanReadableBlobSize:getHumanReadableBlobSize$static,getBlobContentType:getBlobContentType$static,getBlobContentTypeIconClass:getBlobContentTypeIconClass$static,createReadOnlyValueExpression:createReadOnlyValueExpression$static,isReadOnly:isReadOnly$static,__initStatics__:function(){DOCUMENT_TYPES_PROPERTIES$static_();EDITOR_PROPERTIES$static_()}},requires:["Ext.String","com.coremedia.cap.common.SESSION","com.coremedia.cap.content.Content",
"com.coremedia.cap.content.ContentType","com.coremedia.cap.workflow.WorkflowObject","com.coremedia.cms.editor.ContentTypes_properties","com.coremedia.cms.editor.Editor_properties","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.impl.URITemplate","mx.resources.ResourceManager"]}});Ext.define("com.coremedia.cms.editor.sdk.util.IAnnotatedLinkListProvider",function(IAnnotatedLinkListProvider){return{}});Ext.define("com.coremedia.cms.editor.sdk.util.MessageBoxUtilInternal",function(MessageBoxUtilInternal){function showWait$static(title,message,escapeHtml,paragraphWrap){switch(Math.max(arguments.length,2)){case 2:escapeHtml=true;case 3:paragraphWrap=false}var processedTitle=processTitle$static(title,escapeHtml);var processedMsg=processMessage$static(message,escapeHtml,paragraphWrap);Ext.MessageBox.wait(processedMsg,processedTitle,{minWidth:300})}function hide$static(){Ext.MessageBox.hide()}function isShowing$static(title,
message,escapeHtml,paragraphWrap){switch(Math.max(arguments.length,2)){case 2:escapeHtml=true;case 3:paragraphWrap=false}var processedTitle=processTitle$static(title,escapeHtml);var processedMsg=processMessage$static(message,escapeHtml,paragraphWrap);return Ext.MessageBox.isVisible()&&AS3.getBindable(Ext.MessageBox,"title","DUMMY")===processedTitle&&Ext.MessageBox["msg"]&&Ext.MessageBox["msg"].html===processedMsg}function hideIf$static(title,message,escapeHtml,paragraphWrap){switch(Math.max(arguments.length,
2)){case 2:escapeHtml=true;case 3:paragraphWrap=false}if(MessageBoxUtilInternal.isShowing(title,message,escapeHtml,paragraphWrap))Ext.MessageBox.hide()}function show$static(title,message,icon,buttons,callback,escapeHtml,paragraphWrap,containerCls,okButtonText,yesButtonText){switch(Math.max(arguments.length,4)){case 4:callback=null;case 5:escapeHtml=true;case 6:paragraphWrap=false;case 7:containerCls=null;case 8:okButtonText=null;case 9:yesButtonText=null}var processedTitle=processTitle$static(title,
escapeHtml);var processedMsg=processMessage$static(message,escapeHtml,paragraphWrap);var buttonNumber=Ext.isNumber(buttons)?AS3.as(buttons,Number):undefined;var buttonText=Ext.isObject(buttons)?buttons:{};if(okButtonText)buttonText.ok=okButtonText;if(yesButtonText)buttonText.yes=yesButtonText;com.coremedia.ui.util.EventUtil.invokeLater(function(){Ext.MessageBox.show({title:processedTitle,msg:processedMsg,icon:icon,alwaysOnTop:true,buttons:buttonNumber,buttonText:buttonText,minWidth:300,fn:callback,
cls:containerCls})})}function prompt$static(title,message,callback,value,escapeHtml,paragraphWrap,multiline){switch(Math.max(arguments.length,2)){case 2:callback=null;case 3:value="";case 4:escapeHtml=true;case 5:paragraphWrap=false;case 6:multiline=false}var processedTitle=processTitle$static(title,escapeHtml);var processedMsg=processMessage$static(message,escapeHtml,paragraphWrap);var textField=AS3.as(Ext.MessageBox["textField"],Ext.form.field.Text);textField.selectOnFocus=true;Ext.MessageBox.prompt(processedTitle,
processedMsg,callback,window,multiline,value)}function processMessage$static(message,escapeHtml,paragraphWrap){var processedMsg=escapeHtml?com.coremedia.ui.util.EncodingUtil.encodeForHTML(message):message;if(paragraphWrap){var lineBreakPattern=/\n/g;processedMsg="\x3cp\x3e"+processedMsg.replace(lineBreakPattern,"\x3c/p\x3e\x3cp\x3e")+"\x3c/p\x3e"}return processedMsg}function processTitle$static(title,escapeHtml){var processedTitle=escapeHtml?com.coremedia.ui.util.EncodingUtil.encodeForHTML(title):
title;return processedTitle}function MessageBoxUtilInternal$(){}return{constructor:MessageBoxUtilInternal$,statics:{showWait:showWait$static,hide:hide$static,isShowing:isShowing$static,hideIf:hideIf$static,show:show$static,prompt:prompt$static},requires:["Ext","Ext.form.field.Text","Ext.window.MessageBox","com.coremedia.ui.util.EncodingUtil","com.coremedia.ui.util.EventUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.util.PathFormatter",function(PathFormatter){function formatSitePath$static(path,content){if(path.indexOf("/")===0)return path;var sitesService=com.coremedia.cms.editor.sdk.editorContext.getSitesService();var site=content?sitesService.getSiteFor(content):sitesService.getPreferredSite();if(site){var sitePath=site.getSiteRootFolder().getPath();return sitePath+"/"+path}return null}function PathFormatter$(){}return{metadata:{"":["PublicApi"]},constructor:PathFormatter$,
statics:{formatSitePath:formatSitePath$static},uses:["com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.util.TeaserOverlaySettings",function(TeaserOverlaySettings){var POSITION_X_PROPERTY_NAME$static="positionX";var POSITION_Y_PROPERTY_NAME$static="positionY";var WIDTH_PROPERTY_NAME$static="width";function TeaserOverlaySettings$(ve){this.super$M6eH(ve,TeaserOverlaySettings.ENABLED_PROPERTY_NAME,false,TeaserOverlaySettings.STYLE_PROPERTY_NAME,null,POSITION_X_PROPERTY_NAME$static,0,POSITION_Y_PROPERTY_NAME$static,0,WIDTH_PROPERTY_NAME$static,50)}function get$enabled(){return this.getProperty(TeaserOverlaySettings.ENABLED_PROPERTY_NAME)}
function set$enabled(value){this.setProperty(TeaserOverlaySettings.ENABLED_PROPERTY_NAME,value)}function get$style(){return this.getProperty(TeaserOverlaySettings.STYLE_PROPERTY_NAME)}function set$style(value){this.setProperty(TeaserOverlaySettings.STYLE_PROPERTY_NAME,value)}function get$positionX(){return this.getProperty(POSITION_X_PROPERTY_NAME$static)}function set$positionX(value){this.setProperty(POSITION_X_PROPERTY_NAME$static,value)}function get$positionY(){return this.getProperty(POSITION_Y_PROPERTY_NAME$static)}
function set$positionY(value){this.setProperty(POSITION_Y_PROPERTY_NAME$static,value)}function get$width(){return this.getProperty(WIDTH_PROPERTY_NAME$static)}function set$width(value){this.setProperty(WIDTH_PROPERTY_NAME$static,value)}return{extend:"com.coremedia.ui.data.PropertiesWithDefaultsAdapterBase",constructor:TeaserOverlaySettings$,super$M6eH:function(){com.coremedia.ui.data.PropertiesWithDefaultsAdapterBase.prototype.constructor.apply(this,arguments)},statics:{ENABLED_PROPERTY_NAME:"enabled",
STYLE_PROPERTY_NAME:"style"},__accessors__:{enabled:{get:get$enabled,set:set$enabled},style:{get:get$style,set:set$style},positionX:{get:get$positionX,set:set$positionX},positionY:{get:get$positionY,set:set$positionY},width:{get:get$width,set:set$width}},requires:["com.coremedia.ui.data.PropertiesWithDefaultsAdapterBase"]}});Ext.define("com.coremedia.cms.editor.sdk.util.ContentLocalizationUtilInternal",function(ContentLocalizationUtilInternal){function ContentLocalizationUtilInternal$(){}function documentTypeNameSortType$static(name){if(name===mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.ContentTypes","Folder__text"))return" 3";if(name===mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","content_type_any_txt"))return" 2";if(name===mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.ContentTypes",
"Content__text"))return" 1";return Ext.data.SortTypes.asUCString(name)}function getIconStyleClassForUnreadableContent$static(contentUriPath){var content=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.getContentByUriPath(contentUriPath);if(content.isDocument())return com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.getIconStyleClassFromProperties("Document_");else return com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.getIconStyleClassFromProperties("Folder_")}function localizeTimeZoneID$static(timeZoneId){return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.TimeZones",
timeZoneId)||timeZoneId}return{constructor:ContentLocalizationUtilInternal$,statics:{documentTypeNameSortType:documentTypeNameSortType$static,getIconStyleClassForUnreadableContent:getIconStyleClassForUnreadableContent$static,localizeTimeZoneID:localizeTimeZoneID$static},requires:["Ext.data.SortTypes","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.TimeZones_properties","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.util.ImageLinkListRenderer",function(ImageLinkListRenderer){var IMAGE_WIDTH$static=80;var IMAGE_HEIGHT$static=54;function DEFAULT_CROPPING$static_(){ImageLinkListRenderer.DEFAULT_CROPPING=com.coremedia.cms.editor.sdk.util.ImageUtil.getCroppingOperation(IMAGE_WIDTH$static,IMAGE_HEIGHT$static)}var THUMBNAIL_IMAGE_MODIFIER_LINK_LIST$static;function THUMBNAIL_IMAGE_MODIFIER_LINK_LIST$static_(){THUMBNAIL_IMAGE_MODIFIER_LINK_LIST$static=com.coremedia.ui.util.ThumbnailImage.BLOCK.createModifier("link-list")}
var THUMBNAIL_IMAGE_MODIFIER_EMPTY$static;function THUMBNAIL_IMAGE_MODIFIER_EMPTY$static_(){THUMBNAIL_IMAGE_MODIFIER_EMPTY$static=com.coremedia.ui.util.ThumbnailImage.BLOCK.createModifier("empty")}function convertThumbnail$static(model){return ImageLinkListRenderer.convertThumbnailFor(model,null)}function convertThumbnailFor$static(model,doctype){if(arguments.length<=1)doctype=null;return com.coremedia.cms.editor.sdk.editorContext.getThumbnailImage(model,ImageLinkListRenderer.DEFAULT_CROPPING,doctype)}
function thumbColRenderer$static(value,metaData,record){var thumbUri=record.data.thumbnailImage;return thumbnailFor$static(thumbUri)}function thumbnailFor$static(thumbnailImage){if(!thumbnailImage)return emptyThumbnail$static();return thumbnailImage.render(THUMBNAIL_IMAGE_MODIFIER_LINK_LIST$static.getCSSClass())}function emptyThumbnail$static(){var tip=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","ImageLinkList_no_data");return'\x3cdiv class\x3d"'+com.coremedia.ui.util.ThumbnailImage.BLOCK+
" "+THUMBNAIL_IMAGE_MODIFIER_LINK_LIST$static+" "+THUMBNAIL_IMAGE_MODIFIER_EMPTY$static+'" title\x3d"'+tip+'"\x3e\x3c/div\x3e'}function ImageLinkListRenderer$(){}return{constructor:ImageLinkListRenderer$,statics:{DEFAULT_CROPPING:undefined,THUMBNAIL_IMAGE_MODIFIER_LINK_LIST:undefined,THUMBNAIL_IMAGE_MODIFIER_EMPTY:undefined,convertThumbnail:convertThumbnail$static,convertThumbnailFor:convertThumbnailFor$static,thumbColRenderer:thumbColRenderer$static,__initStatics__:function(){DEFAULT_CROPPING$static_();
THUMBNAIL_IMAGE_MODIFIER_LINK_LIST$static_();THUMBNAIL_IMAGE_MODIFIER_EMPTY$static_()}},requires:["com.coremedia.cms.editor.Editor_properties","com.coremedia.ui.util.ThumbnailImage","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.util.ImageUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.util.StructLinkListWrapper",function(StructLinkListWrapper){function StructLinkListWrapper$(config){if(arguments.length<=0)config=null;this.super$WMSK(config);AS3.setBindable(this,"bindTo",AS3.getBindable(config,"bindTo"));AS3.setBindable(this,"propertyName",AS3.getBindable(config,"propertyName"));AS3.setBindable(this,"structListPropertyName",AS3.getBindable(config,"structListPropertyName"));AS3.setBindable(this,"beanPropertyName",AS3.getBindable(config,"beanPropertyName"));
AS3.setBindable(this,"maxCardinality",AS3.getBindable(config,"maxCardinality")||0);AS3.setBindable(this,"readOnlyVE",AS3.getBindable(config,"readOnlyVE"));this.getStructPropertyVE$WMSK();this.structListVEChanged$WMSK();this.getAnnotatedLinksAsStringVE().addChangeListener(AS3.bind(this,"structListVEChanged$WMSK"))}function getVE(){if(!this.linksVE$WMSK)this.linksVE$WMSK=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(undefined);return this.linksVE$WMSK}function getTotalCapacity(){return AS3.getBindable(this,
"maxCardinality")>0?AS3.getBindable(this,"maxCardinality"):AS3.int_.MAX_VALUE}function getFreeCapacity(){return this.getTotalCapacity()-(this.getLinks()?this.getLinks().length:0)}function acceptsLinks(links){return!(!links||!AS3.is(links,Array))}function acceptsLinksToAdd(links){return this.acceptsLinks(links)}function getLinks(){var rawValue=this.getVE().getValue();if(rawValue===undefined)return undefined;return AS3.as(rawValue,Array)||[]}function setLinks(links){var this$=this;links=AS3.as(links,
Array)||[];if(!this.acceptsLinks(links))return;var newAnnotatedLinkEntries=[];links.forEach(function(link){var newAnnotatedLinkEntry={};newAnnotatedLinkEntry[AS3.getBindable(this$,"beanPropertyName")]=link;newAnnotatedLinkEntries.push(newAnnotatedLinkEntry)});this.writeAnnotatedLinksToStruct$WMSK(newAnnotatedLinkEntries)}function addLinksAtIndex(links,index){var this$=this;links=AS3.as(links,Array)||[];var currentLinks=this.getLinks()||[];if(index<0||index>currentLinks.length||!this.acceptsLinksToAdd(links))return;
var struct=this.getStruct$WMSK();this.getStructList$WMSK(struct);links.forEach(function(link){var newStruct={};newStruct[AS3.getBindable(this$,"beanPropertyName")]=link;struct.addAt(AS3.getBindable(this$,"structListPropertyName"),index,newStruct);index++})}function removeLinksAtIndexes(indexes){var this$=this;indexes=AS3.as(indexes,Array)||[];var struct=this.getStruct$WMSK();indexes.sort().reverse();indexes.forEach(function(index){struct.removeAt(AS3.getBindable(this$,"structListPropertyName"),index)})}
function isReadOnly(){return AS3.getBindable(this,"readOnlyVE")&&AS3.getBindable(this,"readOnlyVE").getValue()?AS3.getBindable(this,"readOnlyVE").getValue():false}function structListVEChanged(){this.getVE().setValue(this.structToBeanArrayTransformer$WMSK(this.getAnnotatedLinkListVE().getValue()))}function moveLinks(fromIndexToIndexMap){var toIndexFromIndexMap=this.getCompleteToFromMap(fromIndexToIndexMap);if(!toIndexFromIndexMap)return;var struct=this.getStruct$WMSK();var currentAnnotatedLinks=this.getStructList$WMSK(struct);
var newAnnotatedLinks=[];for(var i=0;i<currentAnnotatedLinks.length;i++){var linkStruct=currentAnnotatedLinks[toIndexFromIndexMap[i]];newAnnotatedLinks.push(linkStruct.toObject())}this.writeAnnotatedLinksToStruct$WMSK(newAnnotatedLinks)}function writeAnnotatedLinksToStruct(annotatedLinks){var this$=this;var struct=this.getStruct$WMSK();var currentAnnotatedLinks=this.getStructList$WMSK(struct);for(var i=currentAnnotatedLinks.length-1;i>=0;i--)struct.removeAt(AS3.getBindable(this,"structListPropertyName"),
i);i=0;annotatedLinks.forEach(function(newStruct){struct.addAt(AS3.getBindable(this$,"structListPropertyName"),i,newStruct);i++})}function getStruct(){var struct=this.getStructPropertyVE$WMSK().getValue();if(!struct){this.getStructPropertyVE$WMSK().setValue({});struct=this.getStructPropertyVE$WMSK().getValue();if(!struct)throw new AS3.Error("Could not initialize struct");}return struct}function getStructList(struct){var structList=struct.get(AS3.getBindable(this,"structListPropertyName"));if(!structList)this.initializeStructListProperty$WMSK(struct);
return structList}function initializeStructListProperty(struct){var structType=struct.getType();if(!structType.getDescriptor(AS3.getBindable(this,"structListPropertyName")))structType.addStructListProperty(AS3.getBindable(this,"structListPropertyName"))}function getStructPropertyVE(){if(!this.structPropertyVE$WMSK)this.structPropertyVE$WMSK=AS3.getBindable(this,"bindTo").extendBy("properties").extendBy(AS3.getBindable(this,"propertyName"));return this.structPropertyVE$WMSK}function getAnnotatedLinkListVE(){if(!this.structListVE$WMSK)this.structListVE$WMSK=
this.getStructPropertyVE$WMSK().extendBy(AS3.getBindable(this,"structListPropertyName"));return this.structListVE$WMSK}function getAnnotatedLinksAsStringVE(){var this$=this;if(!this.structListAsStringVE$WMSK)this.structListAsStringVE$WMSK=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var structList=this$.getStructPropertyVE$WMSK().extendBy(AS3.getBindable(this$,"structListPropertyName")).getValue();if(!structList)return undefined;var listAsString="";structList.forEach(function(listEntry){listAsString=
listAsString+listEntry.toJson()});return listAsString});return this.structListAsStringVE$WMSK}function structToBeanArrayTransformer(structList){var this$=this;return structList?structList.map(function(struct){return struct.get(AS3.getBindable(this$,"beanPropertyName"))}):[]}function destroy(){this.getAnnotatedLinksAsStringVE().removeChangeListener(AS3.bind(this,"structListVEChanged$WMSK"))}function getPrimaryPropertyName(){return AS3.getBindable(this,"beanPropertyName")}return{extend:"com.coremedia.cms.editor.sdk.util.LinkListWrapperBase",
mixins:["com.coremedia.cms.editor.sdk.util.IAnnotatedLinkListProvider"],linksVE$WMSK:null,structPropertyVE$WMSK:null,structListVE$WMSK:null,structListAsStringVE$WMSK:null,constructor:StructLinkListWrapper$,super$WMSK:function(){com.coremedia.cms.editor.sdk.util.LinkListWrapperBase.prototype.constructor.apply(this,arguments)},getVE:getVE,getTotalCapacity:getTotalCapacity,getFreeCapacity:getFreeCapacity,acceptsLinks:acceptsLinks,acceptsLinksToAdd:acceptsLinksToAdd,getLinks:getLinks,setLinks:setLinks,
addLinksAtIndex:addLinksAtIndex,removeLinksAtIndexes:removeLinksAtIndexes,isReadOnly:isReadOnly,structListVEChanged$WMSK:structListVEChanged,moveLinks:moveLinks,writeAnnotatedLinksToStruct$WMSK:writeAnnotatedLinksToStruct,getStruct$WMSK:getStruct,getStructList$WMSK:getStructList,initializeStructListProperty$WMSK:initializeStructListProperty,getStructPropertyVE$WMSK:getStructPropertyVE,getAnnotatedLinkListVE:getAnnotatedLinkListVE,getAnnotatedLinksAsStringVE:getAnnotatedLinksAsStringVE,structToBeanArrayTransformer$WMSK:structToBeanArrayTransformer,
destroy:destroy,getPrimaryPropertyName:getPrimaryPropertyName,config:{bindTo:null,propertyName:null,structListPropertyName:null,beanPropertyName:null,maxCardinality:0,readOnlyVE:null},requires:["AS3.Error","AS3.int_","com.coremedia.cms.editor.sdk.util.IAnnotatedLinkListProvider","com.coremedia.cms.editor.sdk.util.LinkListWrapperBase","com.coremedia.ui.data.ValueExpressionFactory"]}});Ext.define("com.coremedia.cms.editor.sdk.util.TeaserOverlayStyle",function(TeaserOverlayStyle){var COLOR_PROPERTY_NAME$static="color";var BACKGROUND_COLOR_PROPERTY_NAME$static="backgroundColor";function TeaserOverlayStyle$(ve){this.super$V_Q3(ve,COLOR_PROPERTY_NAME$static,"",BACKGROUND_COLOR_PROPERTY_NAME$static,"")}function get$color(){return this.getProperty(COLOR_PROPERTY_NAME$static)}function get$backgroundColor(){return this.getProperty(BACKGROUND_COLOR_PROPERTY_NAME$static)}return{extend:"com.coremedia.ui.data.PropertiesWithDefaultsAdapterBase",
constructor:TeaserOverlayStyle$,super$V_Q3:function(){com.coremedia.ui.data.PropertiesWithDefaultsAdapterBase.prototype.constructor.apply(this,arguments)},__accessors__:{color:{get:get$color},backgroundColor:{get:get$backgroundColor}},requires:["com.coremedia.ui.data.PropertiesWithDefaultsAdapterBase"]}});Ext.define("com.coremedia.cms.editor.sdk.util.ContentUtilImpl",function(ContentUtilImpl){var BELOW_FOLDER_QUERY_PATTERN$static="TYPE Document_ : BELOW ID '{0}'{1}";function expandFolders(callback){var this$=this;var contents=Array.prototype.slice.call(arguments,1);var documents=[];var folders=[];var contentArray=com.coremedia.ui.util.ArrayUtils.flatten(contents);contentArray.forEach(function(content){if(content.isFolder())folders.push(content);else documents.push(content)});computeDocumentsBelowFolders$static(function(folderDocuments){var limit=
this$.expandFolderLimit;if(limit&&folderDocuments.length>limit){com.coremedia.ui.logging.Logger.info(com.coremedia.cms.editor.sdk.util.FormatUtil.format("expandFolderLimit exceeded (limit: '{0}'); configurable via ContentUtilConfigurationPlugin",limit));com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showError(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","ExpandFolderLimit_exceeded_title"),com.coremedia.cms.editor.sdk.util.FormatUtil.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor",
"ExpandFolderLimit_exceeded_text"),limit));callback([])}else callback(com.coremedia.ui.util.ArrayUtils.unique(documents.concat(folderDocuments)))},this.expandFolderLimit>0?this.expandFolderLimit+1:0,folders)}function computeDocumentsBelowFolders$static(callback,limit){var folders=Array.prototype.slice.call(arguments,2);var documents=[];var executeEventually=new com.coremedia.ui.util.ExecuteEventually(function(){callback(documents)});var folderArray=com.coremedia.ui.util.ArrayUtils.flatten(folders);
folderArray.forEach(function(folder){executeEventually.delay();folder.getRepository().query(function(result){if(result.error)com.coremedia.ui.logging.Logger.error(result.error.toString());else documents=documents.concat(result.items);executeEventually.proceed()},Ext.String.format(BELOW_FOLDER_QUERY_PATTERN$static,folder.getId(),limit>0?" LIMIT "+limit:""))});executeEventually.proceed()}function ContentUtilImpl$(){}return{mixins:["com.coremedia.cms.editor.sdk.util.IContentUtil"],expandFolders:expandFolders,
constructor:ContentUtilImpl$,requires:["Ext.String","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.util.IContentUtil","com.coremedia.ui.logging.Logger","com.coremedia.ui.util.ArrayUtils","com.coremedia.ui.util.ExecuteEventually","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.util.FormatUtil","com.coremedia.cms.editor.sdk.util.MessageBoxUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.util.RichTextPlainTextTransformer",function(RichTextPlainTextTransformer){var markupHeader$static='\x3c?xml version\x3d"1.0" encoding\x3d"utf-8"?\x3e\n'+'\x3cdiv xmlns\x3d"http://www.coremedia.com/2003/richtext-1.0" xmlns:xlink\x3d"http://www.w3.org/1999/xlink"\x3e\x3cp\x3e';var emptyMarkup$static='\x3c?xml version\x3d"1.0" encoding\x3d"utf-8"?\x3e\r\n'+'\x3cdiv xmlns\x3d"http://www.coremedia.com/2003/richtext-1.0" xmlns:xlink\x3d"http://www.w3.org/1999/xlink"\x3e\x3cp/\x3e\x3c/div\x3e';
var markupFooter$static="\x3c/p\x3e\x3c/div\x3e";var WHITESPACE$static=" ";var NEW_LINE$static="\n";var IE_NEW_LINE$static="\r\n";var NEXT_PARAGRAPH$static="\x3c/p\x3e\x3cp\x3e";var EMPTY_PARAGRAPH$static="\x3cp\x3e\x3c/p\x3e";function convertToPlainText$static(markup){var plainText=convertHtmlToText$static(markup);return plainText}function convertToMarkup$static(plainText){if(plainText.length==0)return emptyMarkup$static;plainText=com.coremedia.ui.util.EncodingUtil.encodeForHTML(plainText);plainText=
encodeHtmlEntities$static(plainText);plainText=plainText.split(IE_NEW_LINE$static).join(NEXT_PARAGRAPH$static);plainText=plainText.split(NEW_LINE$static).join(NEXT_PARAGRAPH$static);var markup=markupHeader$static+plainText+markupFooter$static;return markup}function convertHtmlToText$static(markup){if(markup===undefined)return undefined;if(markup===null)return null;markup=markup.split(/<\?xml.*\?>/g).join("");markup=markup["trim"]();markup=markup.split(/<p\/>/g).join(EMPTY_PARAGRAPH$static);markup=
markup.split(/<\/p><p[^<]*>/g).join(NEW_LINE$static);markup=markup.split(/<(?:\/ul|\/ol|li|br|tr|\/table)(?:\/)?>/g).join(NEW_LINE$static);markup=markup.split(/<(?:th|\/td)>/g).join(WHITESPACE$static);var plainText=markup.split(/<[^<]*>/g).join("");plainText=decodeHTML$static(plainText);return plainText}function decodeHTML$static(plainText){plainText=com.coremedia.ui.util.EncodingUtil.decodeFromHTML(plainText);plainText=decodeHtmlEntities$static(plainText);return plainText}function encodeHtmlEntities$static(text){return text.replace(/[\u00A0-\uFFFF]/g,
function(c){return"\x26"+("#"+c.charCodeAt(0))+";"})}function decodeHtmlEntities$static(text){return text.replace(/&#(\d+);/g,function(match,num){return String.fromCharCode(num)}).replace(/&#x([A-Za-z0-9]+);/g,function(match,num){return String.fromCharCode(parseInt(num,16))})}function RichTextPlainTextTransformer$(){throw new AS3.Error("Not implemented!");}return{constructor:RichTextPlainTextTransformer$,statics:{convertToPlainText:convertToPlainText$static,convertToMarkup:convertToMarkup$static},
requires:["AS3.Error","com.coremedia.ui.util.EncodingUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.util.ColumnsUtil",function(ColumnsUtil){function getColumnByHeader$static(columns,header){var matchedColumns=columns.filter(function(oneColumn){return oneColumn.header===header});return matchedColumns.length>=1?matchedColumns[0]:null}function getColumnByDataIndex$static(columns,dataIndex){var matchedColumns=columns.filter(function(oneColumn){return oneColumn.dataIndex===dataIndex});return matchedColumns.length>=1?matchedColumns[0]:null}function ColumnsUtil$(){}
return{constructor:ColumnsUtil$,statics:{getColumnByHeader:getColumnByHeader$static,getColumnByDataIndex:getColumnByDataIndex$static}}});Ext.define("com.coremedia.cms.editor.sdk.util.LinkListWrapperBase",function(LinkListWrapperBase){function LinkListWrapperBase$(config){if(arguments.length<=0)config=null}function getVE(){return null}function getTotalCapacity(){return 0}function getFreeCapacity(){return 0}function acceptsLinks(links){return false}function getLinks(){return null}function setLinks(links){}function addLinks(links){this.addLinksAtIndex(links,this.getLinks()?this.getLinks().length:0)}function addLinksAtIndex(links,index){links=
AS3.as(links,Array)||[];var currentLinks=this.getLinks()||[];if(index<0||index>currentLinks.length)return;var newLinks=currentLinks.concat([]);newLinks.splice.apply(newLinks,[index,0].concat(links));this.setLinks(newLinks)}function moveLinksToIndex(fromIndexes,toIndex){var fromToMap={};fromIndexes.forEach(function(index){fromToMap[index]=toIndex;toIndex++});this.moveLinks(fromToMap)}function moveLinks(fromIndexToIndexMap){var completeToFromMap=this.getCompleteToFromMap(fromIndexToIndexMap);if(!completeToFromMap)return;
var newLinks=[];var currentLinks=this.getLinks()||[];for(var i=0;i<currentLinks.length;i++)newLinks.push(currentLinks[completeToFromMap[i]]);if(this.acceptsLinks(newLinks))this.setLinks(newLinks)}function getCompleteToFromMap(fromIndexToIndexMap){var currentLinks=this.getLinks()||[];var fromLocations=[];var toLocations=[];for(var fromLocationStr in fromIndexToIndexMap){var fromLocation=parseInt(fromLocationStr);if(-1<fromLocation&&fromLocation<currentLinks.length&&fromLocations.indexOf(fromLocation)===
-1)fromLocations.push(fromLocation);else return null;var toLocation=fromIndexToIndexMap[fromLocation];if(-1<toLocation&&toLocation<currentLinks.length&&toLocations.indexOf(toLocation)===-1)toLocations.push(toLocation);else return null}var toFromMap={};for(var fromLoc in fromIndexToIndexMap)toFromMap[fromIndexToIndexMap[fromLoc]]=parseInt(fromLoc);for(var i=0;i<currentLinks.length;i++)if(!AS3.is(fromIndexToIndexMap[i],Number)){var freeIndex=0;while(AS3.is(toFromMap[freeIndex],Number))freeIndex++;toFromMap[freeIndex]=
i}return toFromMap}function removeLinksAtIndexes(indexes){indexes=AS3.as(indexes,Array)||[];var currentLinks=this.getLinks()||[];var newLinks=[];for(var i=0;i<currentLinks.length;i++)if(indexes.indexOf(i)===-1)newLinks.push(currentLinks[i]);if(this.acceptsLinks(newLinks))this.setLinks(newLinks)}function isReadOnly(){return false}function destroy(){}return{mixins:["com.coremedia.cms.editor.sdk.util.ILinkListWrapper"],constructor:LinkListWrapperBase$,getVE:getVE,getTotalCapacity:getTotalCapacity,getFreeCapacity:getFreeCapacity,
acceptsLinks:acceptsLinks,getLinks:getLinks,setLinks:setLinks,addLinks:addLinks,addLinksAtIndex:addLinksAtIndex,moveLinksToIndex:moveLinksToIndex,moveLinks:moveLinks,getCompleteToFromMap:getCompleteToFromMap,removeLinksAtIndexes:removeLinksAtIndexes,isReadOnly:isReadOnly,destroy:destroy,requires:["com.coremedia.cms.editor.sdk.util.ILinkListWrapper"]}});Ext.define("com.coremedia.cms.editor.sdk.util.ThumbnailResolverFactory",function(ThumbnailResolverFactory){function create$static(docType){var properties=Array.prototype.slice.call(arguments,1);var resolver=AS3.as(AS3.as(com.coremedia.cms.editor.sdk.editorContext,com.coremedia.cms.editor.sdk.EditorContextImpl).getDefaultThumbnailResolver(),com.coremedia.cms.editor.sdk.util.ThumbnailResolverImpl);resolver.addMapping(docType,properties);return resolver}function ThumbnailResolverFactory$(){}return{constructor:ThumbnailResolverFactory$,
statics:{create:create$static},uses:["com.coremedia.cms.editor.sdk.EditorContextImpl","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.util.ThumbnailResolverImpl"]}});Ext.define("com.coremedia.cms.editor.sdk.util.SearchContentLinkSuggester",function(SearchContentLinkSuggester){function DEFAULT_ORDER_BY$static_(){SearchContentLinkSuggester.DEFAULT_ORDER_BY=["freshness desc"]}var PREFIX_SEARCH_MIN_CHARS$static=3;function SearchContentLinkSuggester$(config){if(arguments.length<=0)config=null;AS3.setBindable(this,"contentValueExpression",AS3.getBindable(config,"contentValueExpression"));AS3.setBindable(this,"linkTypeName",AS3.getBindable(config,"linkTypeName"));AS3.setBindable(this,
"numberOfSuggestions",AS3.getBindable(config,"numberOfSuggestions")||5);AS3.setBindable(this,"maxNumberOfSearchResults",AS3.getBindable(config,"maxNumberOfSearchResults")||20)}function suggestLinks(linkListWrapper,searchTerm,callback){var this$=this;linkListWrapper.getVE().loadValue(function(links){if(AS3.getBindable(this$,"contentValueExpression"))AS3.getBindable(this$,"contentValueExpression").loadValue(function(content){this$.suggestLinksInternal(links,content,searchTerm,callback)});else this$.suggestLinksInternal(links,
null,searchTerm,callback)})}function suggestLinksInternal(links,content,searchTerm,callback){var this$=this;com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"createSearchParameters"),links,content,searchTerm).loadValue(function(searchParameters){var connection=com.coremedia.cms.editor.sdk.editorContext.getSession().getConnection();var searchService=connection.getContentRepository().getSearchService();var searchResult=searchService.search(searchParameters);searchResult.load(function(result){var filtered=
this$.handleResult(result,links,content);callback(filtered)})})}function createSearchParameters(links,content,searchTerm){var searchParameters=AS3.cast(com.coremedia.cap.content.search.SearchParameters,{});searchParameters.filterQuery=["("+com.coremedia.cms.editor.sdk.collectionview.search.StatusFilterPanelBase.buildDefaultQuery()+")"];searchParameters.query=SearchContentLinkSuggester.buildQuery(searchTerm);this.searchResultSize$9gpu=searchParameters.query===""?AS3.getBindable(this,"numberOfSuggestions"):
AS3.getBindable(this,"maxNumberOfSearchResults");var sitesService=com.coremedia.cms.editor.sdk.editorContext.getSitesService();searchParameters.orderBy=SearchContentLinkSuggester.evaluateOrderBy(content,sitesService);if(searchParameters.orderBy===undefined)return undefined;searchParameters.limit=SearchContentLinkSuggester.evaluateLimit(links,this.searchResultSize$9gpu,content);if(AS3.getBindable(this,"linkTypeName"))searchParameters.contentType=[AS3.getBindable(this,"linkTypeName")];return searchParameters}
function handleResult(result,excludeContents,excludeContent){var hits=result.getHits();var excluded=excludeContents||[];if(excludeContent)excluded=excluded.concat(excludeContent);return Ext.Array.difference(hits,excluded).slice(0,this.searchResultSize$9gpu)}function evaluateOrderBy$static(contextContent,sitesService){if(!contextContent)return SearchContentLinkSuggester.DEFAULT_ORDER_BY;var siteId=sitesService.getSiteIdFor(contextContent);if(siteId===undefined)return undefined;var rootFolder=sitesService.getSiteRootFolder(siteId);
if(rootFolder===undefined)return undefined;if(!rootFolder)return SearchContentLinkSuggester.DEFAULT_ORDER_BY;var folderId=com.coremedia.ui.util.IdUtil.parseContentId(rootFolder.getId());return["termfreq(folderpath,"+folderId+") desc"].concat(SearchContentLinkSuggester.DEFAULT_ORDER_BY)}function evaluateLimit$static(links,wantedSuggestions,excludeContent){var currentLengthOfList=links.length;var limit=wantedSuggestions+currentLengthOfList;return excludeContent?limit+1:limit}function buildQuery$static(searchTerm){var doPrefixSearch=
searchTerm.charAt(searchTerm.length-1)!==" ";if(!doPrefixSearch)return searchTerm;if(searchTerm.length<PREFIX_SEARCH_MIN_CHARS$static)return"";return searchTerm+"*"}return{mixins:["com.coremedia.cms.editor.sdk.util.ILinkSuggester"],metadata:{"":["PublicApi"]},searchResultSize$9gpu:NaN,constructor:SearchContentLinkSuggester$,suggestLinks:suggestLinks,suggestLinksInternal:suggestLinksInternal,createSearchParameters:createSearchParameters,handleResult:handleResult,config:{contentValueExpression:null,
linkTypeName:null,numberOfSuggestions:NaN,maxNumberOfSearchResults:NaN},statics:{DEFAULT_ORDER_BY:undefined,evaluateOrderBy:evaluateOrderBy$static,evaluateLimit:evaluateLimit$static,buildQuery:buildQuery$static,__initStatics__:function(){DEFAULT_ORDER_BY$static_()}},requires:["Ext.Array","com.coremedia.cap.content.search.SearchParameters","com.coremedia.cms.editor.sdk.util.ILinkSuggester","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.util.IdUtil"],uses:["com.coremedia.cms.editor.sdk.collectionview.search.StatusFilterPanelBase",
"com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.util.LocaleUtilInternal",function(LocaleUtilInternal){function setPreferredLocale$static(){var hashParameterLocale=com.coremedia.ui.util.UrlUtil.getHashParam("preferredLocale");if(hashParameterLocale){LocaleUtilInternal.setLocale(hashParameterLocale);return}var preferredLocale=LocaleUtilInternal.getLocaleFromPreferences();if(preferredLocale)LocaleUtilInternal.setLocale(preferredLocale)}function getLocaleFromPreferences$static(){var preferences=com.coremedia.cms.editor.sdk.editorContext.getPreferences();
return preferences&&preferences.getState()===com.coremedia.ui.data.BeanState.READABLE?AS3.as(preferences.get("locale"),String):null}function setLocale$static(locale){var currentLocale=com.coremedia.cms.editor.sdk.util.LocaleUtil.getLocale();var supportedLocale=joo.localeSupport.findSupportedLocale(locale);if(!supportedLocale)supportedLocale=joo.localeSupport.getDefaultLocale();var preferredLocale=LocaleUtilInternal.getLocaleFromPreferences();var preferences;if(preferredLocale!==supportedLocale){preferences=
com.coremedia.cms.editor.sdk.editorContext.getPreferences();if(preferences&&preferences.getState()===com.coremedia.ui.data.BeanState.READABLE)preferences.set("locale",supportedLocale);else preferences=null}var newLocale=joo.localeSupport.setLocale(supportedLocale);if(newLocale!==currentLocale)if(preferredLocale!==supportedLocale&&AS3.is(preferences,com.coremedia.ui.data.RemoteBean))AS3.cast(com.coremedia.ui.data.RemoteBean,preferences).flush(com.coremedia.ui.util.WindowUtil.forceReload);else com.coremedia.ui.util.WindowUtil.forceReload();
return newLocale}function LocaleUtilInternal$(){}return{constructor:LocaleUtilInternal$,statics:{setPreferredLocale:setPreferredLocale$static,getLocaleFromPreferences:getLocaleFromPreferences$static,setLocale:setLocale$static},requires:["com.coremedia.ui.data.BeanState","com.coremedia.ui.data.RemoteBean","com.coremedia.ui.util.UrlUtil","com.coremedia.ui.util.WindowUtil"],uses:["com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.util.LocaleUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.util.ILinkListWrapper",function(ILinkListWrapper){return{}});Ext.define("com.coremedia.cms.editor.sdk.util.StructContentLinkListWrapper",function(StructContentLinkListWrapper){function StructContentLinkListWrapper$(config){if(arguments.length<=0)config=null;this.super$uM29(config);AS3.setBindable(this,"linkTypeName",AS3.getBindable(config,"linkTypeName"))}function getContentType(){return com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getContentType(AS3.getBindable(this,"linkTypeName"))}function acceptsLinksToAdd(links){return this.acceptsLinksInternal(links,
true)}function acceptsLinks(links){return this.acceptsLinksInternal(links,false)}function acceptsLinksInternal(links,throwError){if(!links)return false;var contents=com.coremedia.cap.content.ContentProxyHelper.getContents(links);if(links.length!==contents.length)return false;return this.acceptsContents$uM29(contents,throwError)}function acceptsContents(contentsToAdd,throwError){if(!contentsToAdd)return false;var failedContent=com.coremedia.cms.editor.sdk.util.LinkListUtil.containsContentNotMatchingType(this.getContentType$uM29(),
contentsToAdd,throwError);if(failedContent!==null)return false;var enoughCapacity=this.getTotalCapacity()>=contentsToAdd.length;return enoughCapacity}function setLinks(links){if(this.acceptsLinks(links))com.coremedia.cms.editor.sdk.util.StructLinkListWrapper.prototype.setLinks.call(this,com.coremedia.cap.content.ContentProxyHelper.getContents(links))}function addLinksAtIndex(links,index){if(this.acceptsLinksToAdd(links))com.coremedia.cms.editor.sdk.util.StructLinkListWrapper.prototype.addLinksAtIndex.call(this,
com.coremedia.cap.content.ContentProxyHelper.getContents(links),index)}return{extend:"com.coremedia.cms.editor.sdk.util.StructLinkListWrapper",constructor:StructContentLinkListWrapper$,super$uM29:function(){com.coremedia.cms.editor.sdk.util.StructLinkListWrapper.prototype.constructor.apply(this,arguments)},getContentType$uM29:getContentType,acceptsLinksToAdd:acceptsLinksToAdd,acceptsLinks:acceptsLinks,acceptsLinksInternal:acceptsLinksInternal,acceptsContents$uM29:acceptsContents,setLinks:setLinks,
addLinksAtIndex:addLinksAtIndex,config:{linkTypeName:null},requires:["com.coremedia.cap.common.SESSION","com.coremedia.cap.content.ContentProxyHelper","com.coremedia.cms.editor.sdk.util.StructLinkListWrapper"],uses:["com.coremedia.cms.editor.sdk.util.LinkListUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.util.ContentExport",function(ContentExport){function consoleExport$static(content){if(content)preloadExport$static(content,function(){var buffer="";var desc=content.getType().getDescriptors();buffer+="\n\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\n";
buffer+="Name:\t"+content.getName()+"\n";buffer+="Type:\t"+content.getType().getName()+"\n";buffer+="Path:\t"+content.getPath()+"\n";buffer+="Id:\t\t"+content.getId()+"\n";buffer+="\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\n";
buffer+=com.coremedia.cap.content.ContentPropertyNames.LIFECYCLE_STATUS+": "+content.get(com.coremedia.cap.content.ContentPropertyNames.LIFECYCLE_STATUS)+"\n";buffer+=com.coremedia.cap.content.ContentPropertyNames.PREVIEW_URL+":\t\t "+content.get(com.coremedia.cap.content.ContentPropertyNames.PREVIEW_URL)+"\n";buffer+="------------------------------------------------------------------------------------------------------------\n";for(var i=0;i<desc.length;i++){var name=desc[i].name;if(desc[i].type==
com.coremedia.cap.common.CapPropertyDescriptorType.STRING||desc[i].type==com.coremedia.cap.common.CapPropertyDescriptorType.INTEGER||desc[i].type==com.coremedia.cap.common.CapPropertyDescriptorType.BOOLEAN)buffer+=name+": "+content.getProperties().get(name)+"\n";else if(desc[i].type==com.coremedia.cap.common.CapPropertyDescriptorType.DATE){var date=content.getProperties().get(name);var dateString=toStringValue$static(date);buffer+=name+": "+dateString+"\n"}else if(desc[i].type==com.coremedia.cap.common.CapPropertyDescriptorType.BLOB){var blob=
content.getProperties().get(name);if(blob){buffer+=name+":\n";buffer+="\t\tType: "+blob.getContentType()+"\n";buffer+="\t\tSize: "+blob.getSize()+" bytes\n"}}else if(desc[i].type==com.coremedia.cap.common.CapPropertyDescriptorType.MARKUP){var markupBlob=content.getProperties().get(name);if(markupBlob){var markup=markupBlob.getData();markup=formatXml$static(markup);buffer+=name+": \n"+markup+"\n"}}else if(desc[i].type==com.coremedia.cap.common.CapPropertyDescriptorType.STRUCT){var struct=content.getProperties().get(name);
buffer+=name+":\n";var structExport=exportStruct$static(struct);structExport='\x3cStruct xmlns\x3d"http://www.coremedia.com/2008/struct" xmlns:xlink\x3d"http://www.w3.org/1999/xlink"\x3e'+structExport+"\x3c/Struct\x3e";buffer+=formatXml$static(structExport)}else if(desc[i].type==com.coremedia.cap.common.CapPropertyDescriptorType.LINK){var links=content.getProperties().get(name);buffer+=name+": \n";for(var $1=0;$1<links.length;++$1){var link=links[$1];buffer+="\t- '"+link.getName()+"' / "+com.coremedia.cap.common.IdHelper.parseContentId(link)+
" ("+link.getPath()+")\n"}}}buffer+="\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\n";AS3.trace(buffer)})}function preloadExport$static(content,
f){AS3.trace("Loading required export data...");com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){if(!content.getPath())return undefined;var descriptors=content.getType().getDescriptors();for(var $2=0;$2<descriptors.length;++$2){var desc=descriptors[$2];var name=desc.name;if(desc.type==com.coremedia.cap.common.CapPropertyDescriptorType.BLOB){var blob=content.getProperties().get(name);if(blob&&!blob.isLoaded()){blob.loadData();return undefined}}else if(desc.type==com.coremedia.cap.common.CapPropertyDescriptorType.MARKUP){var markupBlob=
content.getProperties().get(name);if(markupBlob)if(markupBlob&&!markupBlob.isLoaded()){markupBlob.loadData();return undefined}}else if(desc.type==com.coremedia.cap.common.CapPropertyDescriptorType.STRUCT){var struct=content.getProperties().get(name);if(AS3.as(struct,com.coremedia.cap.common.impl.StructRemoteBeanImpl)){var s=AS3.as(struct,com.coremedia.cap.common.impl.StructRemoteBeanImpl);if(!s.isLoaded()){s.load();return undefined}}if(ContentExport.preloadStruct(struct)===undefined)return undefined}else if(desc.type==
com.coremedia.cap.common.CapPropertyDescriptorType.LINK){var links=content.getProperties().get(name);for(var $1=0;$1<links.length;++$1){var link=links[$1];if(!link.isLoaded()){link.load();return undefined}if(!link.getPath())return undefined}}}return true}).loadValue(f)}function preloadStruct$static(struct){var descriptors=struct.getType().getDescriptors();for(var $3=0;$3<descriptors.length;++$3){var desc=descriptors[$3];var name=desc.name;var typeName=desc.type;var value=struct.get(name);if(typeName==
com.coremedia.cap.common.CapPropertyDescriptorType.STRUCT)if(AS3.as(value,Array)){var subStructs=AS3.as(value,Array);for(var $1=0;$1<subStructs.length;++$1){var subStr=subStructs[$1];if(!ContentExport.preloadStruct(AS3.as(subStr,com.coremedia.cap.struct.Struct)))return undefined}}else{if(AS3.as(value,com.coremedia.cap.struct.Struct))if(!ContentExport.preloadStruct(AS3.as(value,com.coremedia.cap.struct.Struct)))return undefined}else if(typeName==com.coremedia.cap.common.CapPropertyDescriptorType.LINK)if(desc.collection){var values=
AS3.as(value,Array);for(var $2=0;$2<values.length;++$2){var item=values[$2];if(item.isDestroyed())continue;if(com.coremedia.cms.editor.sdk.util.AccessControlUtil.isReadOnly(item))continue;if(!item.isLoaded()){item.load();return undefined}if(item.getPath()===undefined)return undefined}}else if(value){var c=AS3.as(value,com.coremedia.cap.content.Content);if(!c.isLoaded()){c.load();return undefined}if(c.getPath()===undefined)return undefined}}return true}function exportStruct$static(struct){var buffer=
"";var descriptors=struct.getType().getDescriptors();for(var $6=0;$6<descriptors.length;++$6){var desc=descriptors[$6];var name=desc.name;var typeName=desc.type;var el=capitalizeFirstLetter$static(typeName.toLowerCase());var value=struct.get(name);if(typeName==com.coremedia.cap.common.CapPropertyDescriptorType.STRUCT){var structElementName="StructProperty";if(desc.collection)structElementName="StructListProperty";buffer+="\x3c"+structElementName+' Name\x3d"'+name+'"\x3e';if(AS3.as(value,Array)){var subStructs=
AS3.as(value,Array);for(var $1=0;$1<subStructs.length;++$1){var subStr=subStructs[$1];buffer+="\x3cStruct\x3e";buffer+=exportStruct$static(AS3.as(subStr,com.coremedia.cap.struct.Struct));buffer+="\x3c/Struct\x3e"}}else if(AS3.as(value,com.coremedia.cap.struct.Struct)){buffer+="\x3cStruct\x3e";buffer+=exportStruct$static(AS3.as(value,com.coremedia.cap.struct.Struct));buffer+="\x3c/Struct\x3e"}else throw new AS3.Error("Unsupported struct format");buffer+="\x3c/"+structElementName+"\x3e"}else if(typeName==
com.coremedia.cap.common.CapPropertyDescriptorType.LINK)if(desc.collection){buffer+='\x3cLinkListProperty Name\x3d"'+name+'"\x3e';for(var $2=0,$3=AS3.as(value,Array);$2<$3.length;++$2){var item=$3[$2];buffer+=exportLink$static("Link",item)}buffer+="\x3c/LinkListProperty\x3e"}else buffer+=exportLink$static("LinkProperty",AS3.as(value,com.coremedia.cap.content.Content));else if(desc.collection){buffer+="\x3c"+el+'ListProperty Name\x3d"'+name+'"\x3e';for(var $4=0,$5=AS3.as(value,Array);$4<$5.length;++$4){var v=
$5[$4];var stringValue=toStringValue$static(v);buffer+="\x3c"+el+'"\x3e'+stringValue+"\x3c/"+el+"\x3e"}buffer+="\x3c/"+el+"\x3e"}else{var s=toStringValue$static(value);buffer+="\x3c"+el+'Property Name\x3d"'+name+'"\x3e'+s+"\x3c/"+el+"Property\x3e"}}return buffer}function toStringValue$static(value){if(AS3.as(value,com.coremedia.ui.data.Calendar)){var cal=AS3.as(value,com.coremedia.ui.data.Calendar);var date=cal["getDateWithoutOffset"]();var format="d-m-Y H:i";var dateString=Ext.Date.format(date,format)+
" "+cal.getTimeZone();return dateString}return""+value}function exportLink$static(el,content){if(content)return"\x3c"+el+' xlink:href\x3d"" LinkType\x3d"coremedia:///cap/contenttype/'+content.getType().getName()+'" cmexport:path\x3d"'+content.getPath()+'" /\x3e';return""}function capitalizeFirstLetter$static(string){return string.charAt(0).toUpperCase()+string.slice(1)}function formatXml$static(xml){var formatted="";var reg=/(>)(<)(\/*)/g;xml=xml.replace(reg,"$1\r\n$2$3");var pad=0;xml.split("\r\n").forEach(function(node){var indent=
0;if(node.match(/.+<\/\w[^>]*>$/))indent=0;else if(node.match(/^<\/\w/)){if(pad!=0)pad-=1}else if(node.match(/^<\w[^>]*[^\/]>.*$/))indent=1;else indent=0;var padding="";for(var i=0;i<pad;i++)padding+="  ";formatted+=padding+node+"\r\n";pad+=indent});return formatted}function ContentExport$(){}return{constructor:ContentExport$,statics:{consoleExport:consoleExport$static,preloadStruct:preloadStruct$static},requires:["AS3.Error","AS3.trace","Ext.Date","com.coremedia.cap.common.CapPropertyDescriptorType",
"com.coremedia.cap.common.IdHelper","com.coremedia.cap.common.impl.StructRemoteBeanImpl","com.coremedia.cap.content.Content","com.coremedia.cap.content.ContentPropertyNames","com.coremedia.cap.struct.Struct","com.coremedia.ui.data.Calendar","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.sdk.util.AccessControlUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.util.ContentCreationUtil",function(ContentCreationUtil){var LAST_USED_NO_SITE_ID$static="NO_SITE";var LAST_USED_ALL_SITES_ID$static="ALL";var LAST_USED_MAX_ENTRIES$static=5;var contentRepository$static;function contentRepository$static_(){contentRepository$static=com.coremedia.cap.common.SESSION.getConnection().getContentRepository()}var lastUsedBean$static;function lastUsedBean$static_(){lastUsedBean$static=com.coremedia.ui.data.beanFactory.createLocalBean()}
function createRequiredSubfolders$static(path,callback,promptOnCreation){if(arguments.length<=2)promptOnCreation=false;determineFolders$static(path,function(baseFolder,toCreate){if(promptOnCreation&&toCreate.length>0){var prompt=new com.coremedia.cms.editor.sdk.components.folderprompt.FolderPrompt(AS3.cast(com.coremedia.cms.editor.sdk.components.folderprompt.FolderPrompt,{baseFolder:baseFolder,callback:callback,folders:toCreate}));prompt.show()}else ContentCreationUtil.doCreateFolder(baseFolder,toCreate,
callback,[])},null)}function createContent$static(folder,openInTab,skipInitializers,name,type,callback,callback_error,properties){switch(Math.max(arguments.length,6)){case 6:callback_error=null;case 7:properties=null}name=com.coremedia.cms.editor.sdk.util.StringHelper.trim(name,com.coremedia.cms.editor.sdk.util.StringHelper.stringToCharacter(" "));type.createWithProperties(folder,name,properties||{},function(result){if(!result.error){var createdContent=result.createdContent;createdContent.load(function(c){if(!skipInitializers){var initializer=
com.coremedia.cms.editor.sdk.editorContext.lookupContentInitializer(createdContent.getType());if(initializer)initializer(createdContent)}storeLastUsedFolder$static(createdContent);if(openInTab)com.coremedia.cms.editor.sdk.editorContext.getContentTabManager().openDocument(createdContent);callback(createdContent)})}else{if(callback_error)callback_error(result.error);if(!result.error.isHandled())AS3.as(com.coremedia.ui.data.error.remoteErrorHandlerRegistry,com.coremedia.ui.data.impl.RemoteErrorHandlerRegistryImpl).handleError(result.error,
null)}})}function initialize$static(content){var initializer=com.coremedia.cms.editor.sdk.editorContext.lookupContentInitializer(content.getType());if(initializer)initializer(content)}function initializeAndShow$static(content){ContentCreationUtil.initialize(content);content.flush(function(){com.coremedia.cms.editor.sdk.editorContext.getContentTabManager().openDocument(content)})}function storeLastUsedFolder$static(createdContent){com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var site=
com.coremedia.cms.editor.sdk.editorContext.getSitesService().getSiteFor(createdContent);var contentType=createdContent.getType();var folder=createdContent.getParent();if(site===undefined)return undefined;if(!createdContent.isLoaded()){createdContent.load();return undefined}var id=site?site.getId():LAST_USED_NO_SITE_ID$static;var contentTypeName=contentType.getName();var path=folder.getPath();if(path===undefined)return undefined;ContentCreationUtil.updateLastUsedBean(id,contentTypeName,path);ContentCreationUtil.updateLastUsedBean(LAST_USED_ALL_SITES_ID$static,
contentTypeName,path);return null}).loadValue(function(){})}function updateLastUsedBean$static(siteId,contentType,path){if(!siteId)siteId=LAST_USED_NO_SITE_ID$static;var lastUsedExpression=com.coremedia.ui.data.ValueExpressionFactory.create(siteId.concat(".",contentType),lastUsedBean$static);var lastUsed=com.coremedia.ui.util.ArrayUtils.asArray(lastUsedExpression.getValue());lastUsed=lastUsed.filter(function(obj){return obj.path!==path});if(lastUsed.length>=LAST_USED_MAX_ENTRIES$static)lastUsed=lastUsed.slice(0,
LAST_USED_MAX_ENTRIES$static);lastUsed.unshift({"path":path,"timestamp":(new Date).getTime()});lastUsedExpression.setValue(lastUsed)}function getLastUsedFolders$static(contentType){var contentTypeName=contentType.getName();var preferredSiteId=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getPreferredSiteId();var lastUsed;if(preferredSiteId){var lastUsedInSite=getLastUsedFoldersForSiteAndType$static(preferredSiteId,contentTypeName);var lastUsedNoSite=getLastUsedFoldersForSiteAndType$static(LAST_USED_NO_SITE_ID$static,
contentTypeName);lastUsed=lastUsedInSite.concat(lastUsedNoSite).sort(compareTimestamp$static)}else lastUsed=getLastUsedFoldersForSiteAndType$static(LAST_USED_ALL_SITES_ID$static,contentTypeName);if(lastUsed.length>LAST_USED_MAX_ENTRIES$static)lastUsed=lastUsed.slice(0,LAST_USED_MAX_ENTRIES$static);return lastUsed.map(function(obj){return obj.path})}function getLastUsedFoldersForSiteAndType$static(siteId,contentType){return com.coremedia.ui.util.ArrayUtils.asArray(com.coremedia.ui.data.ValueExpressionFactory.create(siteId.concat(".",
contentType),lastUsedBean$static).getValue())}function compareTimestamp$static(a,b){if(a.timestamp>b.timestamp)return-1;if(a.timestamp<b.timestamp)return 1;if(a.timestamp===b.timestamp)return 0}function linkInSourceLinklistHandler$static(sourceLinklist,openInTab){if(arguments.length<=1)openInTab=false;return function(created){var oldValue=AS3.as(sourceLinklist.getValue(),Array);sourceLinklist.setValue(oldValue.concat(created));if(openInTab)com.coremedia.ui.util.EventUtil.invokeLater(function(){com.coremedia.cms.editor.sdk.editorContext.getContentTabManager().openDocument(created)})}}
function doCreateFolder$static(folder,toCreate,callback,created){var name=toCreate.pop();if(name)contentRepository$static.getFolderContentType().create(folder,name,function(result){if(result.error)callback(new com.coremedia.cms.editor.sdk.components.folderprompt.FolderCreationResultImpl(false,created,null,result.error));else result.createdContent.load(function(){created.push(result.createdContent);ContentCreationUtil.doCreateFolder(result.createdContent,toCreate,callback,created)})});else callback(new com.coremedia.cms.editor.sdk.components.folderprompt.FolderCreationResultImpl(true,
created,folder))}function determineFolders$static(path,callback,toCreate){if(!toCreate)toCreate=[];contentRepository$static.getChild(path,function(folder){if(!folder){var newPath=path.substr(0,path.lastIndexOf("/"));toCreate.push(path.substr(path.lastIndexOf("/")+1));determineFolders$static(newPath,callback,toCreate)}else if(folder.isDocument()){var title=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors","duplicateName_title");var text=Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors",
"duplicateName_message"),folder.getName());com.coremedia.cms.editor.sdk.util.MessageBoxUtilInternal.show(title,text,Ext.window.MessageBox.ERROR,Ext.window.MessageBox.OK,null,true,true)}else folder.load(function(){callback(folder,toCreate)})})}function ContentCreationUtil$(){}return{constructor:ContentCreationUtil$,statics:{contentRepository:undefined,lastUsedBean:undefined,createRequiredSubfolders:createRequiredSubfolders$static,createContent:createContent$static,initialize:initialize$static,initializeAndShow:initializeAndShow$static,
updateLastUsedBean:updateLastUsedBean$static,getLastUsedFolders:getLastUsedFolders$static,linkInSourceLinklistHandler:linkInSourceLinklistHandler$static,doCreateFolder:doCreateFolder$static,__initStatics__:function(){contentRepository$static_();lastUsedBean$static_()}},requires:["Ext.String","Ext.window.MessageBox","com.coremedia.cap.common.SESSION","com.coremedia.cms.editor.EditorErrors_properties","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.beanFactory","com.coremedia.ui.data.error.remoteErrorHandlerRegistry",
"com.coremedia.ui.data.impl.RemoteErrorHandlerRegistryImpl","com.coremedia.ui.util.ArrayUtils","com.coremedia.ui.util.EventUtil","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.components.folderprompt.FolderCreationResultImpl","com.coremedia.cms.editor.sdk.components.folderprompt.FolderPrompt","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.util.MessageBoxUtilInternal","com.coremedia.cms.editor.sdk.util.StringHelper"]}});Ext.define("com.coremedia.cms.editor.sdk.util.MemoryLinkListWrapper",function(MemoryLinkListWrapper){function MemoryLinkListWrapper$(config){if(arguments.length<=0)config=null;this.super$VZXe(config);AS3.setBindable(this,"linksVE",AS3.getBindable(config,"linksVE"));AS3.setBindable(this,"linkTypeName",AS3.getBindable(config,"linkTypeName")||com.coremedia.cap.content.ContentTypeNames.DOCUMENT);AS3.setBindable(this,"maxCardinality",AS3.getBindable(config,"maxCardinality")||0)}function getVE(){return AS3.getBindable(this,
"linksVE")}function acceptsLinks(links){if(!links)return false;var contents=com.coremedia.cap.content.ContentProxyHelper.getContents(links);if(links.length!==contents.length)return false;return this.acceptsContents$VZXe(contents,false)}function acceptsContents(contents,throwError){if(!contents)return false;var enoughCapacity=this.getTotalCapacity()>=contents.length;var failedContent=com.coremedia.cms.editor.sdk.util.LinkListUtil.containsContentNotMatchingType(this.getContentType(),contents,throwError);
return enoughCapacity&&failedContent===null}function getLinks(){var rawValue=this.getVE().getValue();if(rawValue===undefined)return undefined;return AS3.as(rawValue,Array)||[]}function setLinks(links){if(links){var contents=com.coremedia.cap.content.ContentProxyHelper.getContents(links);if(links.length===contents.length&&this.acceptsContents$VZXe(contents,true))this.getVE().setValue(contents)}}function addLinksAtIndex(links,index){links=AS3.as(links,Array)||[];var currentLinks=this.getLinks()||[];
if(index<0||index>currentLinks.length)return;var contents=com.coremedia.cap.content.ContentProxyHelper.getContents(links);if(links.length===contents.length&&this.acceptsContents$VZXe(contents,true)){var newLinks=currentLinks.concat([]);newLinks.splice.apply(newLinks,[index,0].concat(contents));this.getVE().setValue(newLinks)}}function getTotalCapacity(){return AS3.getBindable(this,"maxCardinality")>0?AS3.getBindable(this,"maxCardinality"):AS3.int_.MAX_VALUE}function getFreeCapacity(){return this.getTotalCapacity()-
(this.getLinks()?this.getLinks().length:0)}function isReadOnly(){return false}function getContentType(){return com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getContentType(AS3.getBindable(this,"linkTypeName"))}return{extend:"com.coremedia.cms.editor.sdk.util.LinkListWrapperBase",constructor:MemoryLinkListWrapper$,super$VZXe:function(){com.coremedia.cms.editor.sdk.util.LinkListWrapperBase.prototype.constructor.apply(this,arguments)},getVE:getVE,acceptsLinks:acceptsLinks,acceptsContents$VZXe:acceptsContents,
getLinks:getLinks,setLinks:setLinks,addLinksAtIndex:addLinksAtIndex,getTotalCapacity:getTotalCapacity,getFreeCapacity:getFreeCapacity,isReadOnly:isReadOnly,getContentType:getContentType,config:{linksVE:null,linkTypeName:null,maxCardinality:0},requires:["AS3.int_","com.coremedia.cap.common.SESSION","com.coremedia.cap.content.ContentProxyHelper","com.coremedia.cap.content.ContentTypeNames","com.coremedia.cms.editor.sdk.util.LinkListWrapperBase"],uses:["com.coremedia.cms.editor.sdk.util.LinkListUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.util.ILinkSuggester",function(ILinkSuggester){return{}});Ext.define("com.coremedia.cms.editor.sdk.util.ContentLifecycleUtil",function(ContentLifecycleUtil){function getDetailedLifecycleStatus$static(content){if(!content)return"";var status=content.getLifecycleStatus();if(content.isCheckedOutByOther())status=ContentLifecycleUtil.CHECKED_OUT_BY_OTHER_LIFECYCLE_STATUS;else if(content.isCheckedOut())status=ContentLifecycleUtil.CHECKED_OUT_LIFECYCLE_STATUS;return status}function localizeDetailedLifecycleStatus$static(status,editor){var result=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.getLocalizedLifecycleStatus(status)||
"";return!editor?result:Ext.String.format(result,editor)}function ContentLifecycleUtil$(){}return{constructor:ContentLifecycleUtil$,statics:{CHECKED_OUT_BY_OTHER_LIFECYCLE_STATUS:"checked-out-by-other",CHECKED_OUT_LIFECYCLE_STATUS:"checked-out",getDetailedLifecycleStatus:getDetailedLifecycleStatus$static,localizeDetailedLifecycleStatus:localizeDetailedLifecycleStatus$static},requires:["Ext.String"],uses:["com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.util.ContentExportActionBase",function(ContentExportActionBase){function ContentExportActionBase$(config){this.super$b3e2(config);this.setHandler(AS3.bind(this,"handleAction$b3e2"),this)}function handleAction(){var content=this.getContents()[0];if(content)com.coremedia.cms.editor.sdk.util.ContentExport.consoleExport(content)}return{extend:"com.coremedia.cms.editor.sdk.actions.ContentAction",constructor:ContentExportActionBase$,super$b3e2:function(){com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.constructor.apply(this,
arguments)},handleAction$b3e2:handleAction,requires:["com.coremedia.cms.editor.sdk.actions.ContentAction"],uses:["com.coremedia.cms.editor.sdk.util.ContentExport"]}});Ext.define("com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil",function(ContentLocalizationUtil){var STATUS_WAS_PUBLISHED$static="was_published";function formatNotReadableName$static(content){return Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","Content_notReadable_text"),com.coremedia.cap.common.IdHelper.parseContentId(content))}function formatNotReadableNameFromBeanRecord$static(record){var content=AS3.as(record.getBean(),com.coremedia.cap.content.Content);
return ContentLocalizationUtil.formatNotReadableName(content)}function formatNotReadableNameFromUriPath$static(contentUriPath){return ContentLocalizationUtil.formatNotReadableName(ContentLocalizationUtil.getContentByUriPath(contentUriPath))}function localizeDocumentTypeName$static(name){if(name==="Document_")return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","content_type_any_txt");return ContentLocalizationUtil.getLabelForContentTypeName(name)}function getIconStyleClassFromProperties$static(typeName){return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.ContentTypes",
typeName+"_icon")}function getLabelForContentType$static(contentType){var contentTypeName=contentType.getName();return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.ContentTypes",contentTypeName+"_"+com.coremedia.cms.editor.sdk.util.PropertyEditorUtil.LABEL)||contentTypeName}function getLabelForContentTypeName$static(contentTypeName){var contentType=getContentType$static(contentTypeName);return contentType?ContentLocalizationUtil.getLabelForContentType(contentType):
""}function getIconStyleClassForContentType$static(contentType){while(contentType){var result=ContentLocalizationUtil.getIconStyleClassFromProperties(contentType.getName());if(result)return result;contentType=AS3.cast(com.coremedia.cap.content.ContentType,contentType.getParent())}return""}function getIconStyleClassForContentTypeName$static(contentTypeName){var contentType=getContentType$static(contentTypeName);return contentType?ContentLocalizationUtil.getIconStyleClassForContentType(contentType):
""}function getIconStyleClassForContentStatus$static(content){return ContentLocalizationUtil.getIconStyleClassForStatus(com.coremedia.cms.editor.sdk.util.ContentLifecycleUtil.getDetailedLifecycleStatus(content))}function getToolTipForContentType$static(contentType){return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.ContentTypes",contentType.getName()+"_"+com.coremedia.cms.editor.sdk.util.PropertyEditorUtil.TOOL_TIP)||""}function getToolTipForContentTypeName$static(contentTypeName){var contentType=
getContentType$static(contentTypeName);return contentType?ContentLocalizationUtil.getToolTipForContentType(contentType):""}function getLocalizedLifecycleStatus$static(status){return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","lifecycleStatus_"+status+"_text")}function getIconStyleClassForStatus$static(status){if(status===STATUS_WAS_PUBLISHED$static)return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","lifecycleStatus_"+
status+"_icon")+" "+com.coremedia.ui.bem.IconWithTextBEMEntities.MODIFIER_DISABLED.getCSSClass();return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","lifecycleStatus_"+status+"_icon")}function getContentType$static(contentTypeName){return contentTypeName?com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getContentType(contentTypeName):null}function getContentByUriPath$static(contentUriPath){return com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getContent(contentUriPath)}
function ContentLocalizationUtil$(){}return{metadata:{"":["PublicApi"]},constructor:ContentLocalizationUtil$,statics:{formatNotReadableName:formatNotReadableName$static,formatNotReadableNameFromBeanRecord:formatNotReadableNameFromBeanRecord$static,formatNotReadableNameFromUriPath:formatNotReadableNameFromUriPath$static,localizeDocumentTypeName:localizeDocumentTypeName$static,getIconStyleClassFromProperties:getIconStyleClassFromProperties$static,getLabelForContentType:getLabelForContentType$static,
getLabelForContentTypeName:getLabelForContentTypeName$static,getIconStyleClassForContentType:getIconStyleClassForContentType$static,getIconStyleClassForContentTypeName:getIconStyleClassForContentTypeName$static,getIconStyleClassForContentStatus:getIconStyleClassForContentStatus$static,getToolTipForContentType:getToolTipForContentType$static,getToolTipForContentTypeName:getToolTipForContentTypeName$static,getLocalizedLifecycleStatus:getLocalizedLifecycleStatus$static,getIconStyleClassForStatus:getIconStyleClassForStatus$static,
getContentByUriPath:getContentByUriPath$static},requires:["Ext.String","com.coremedia.cap.common.IdHelper","com.coremedia.cap.common.SESSION","com.coremedia.cap.content.Content","com.coremedia.cap.content.ContentType","com.coremedia.cms.editor.ContentTypes_properties","com.coremedia.cms.editor.Editor_properties","com.coremedia.ui.bem.IconWithTextBEMEntities","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.util.ContentLifecycleUtil","com.coremedia.cms.editor.sdk.util.PropertyEditorUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.util.FormatUtil",function(FormatUtil){function format$static(pattern){var values=Array.prototype.slice.call(arguments,1);var result=[];var i=0;while(i<pattern.length){var c=pattern.charAt(i++);if(c==="{"){var tokenEnd=pattern.indexOf("}",i+1);if(tokenEnd===-1)result.push("{");else{var token=pattern.substring(i,tokenEnd);i=tokenEnd+1;result.push(formatToken$static(token,values))}}else result.push(c)}return result.join("")}function formatToken$static(token,values){var tokenPos=
Number(token);var object=values[tokenPos];if(AS3.is(object,Date))object=Ext.util.Format.date(object,mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","dateFormat"));else if(AS3.is(object,com.coremedia.cap.content.Content)){var content=AS3.as(object,com.coremedia.cap.content.Content);if(com.coremedia.ui.data.RemoteBeanUtil.isAccessible(content)){var name=content.getName();if(name)object=name}if(AS3.is(object,com.coremedia.cap.content.Content))object=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.formatNotReadableName(content)}else if(AS3.is(object,
com.coremedia.ui.data.Locale)){var locale=AS3.as(object,com.coremedia.ui.data.Locale);var displayName=locale.getDisplayName();if(displayName)object=displayName}else if(AS3.is(object,Number))object=Ext.util.Format.number(Number(object),"0,000");return String(object)}function FormatUtil$(){}return{constructor:FormatUtil$,statics:{format:format$static},requires:["Ext.util.Format","com.coremedia.cap.content.Content","com.coremedia.cms.editor.Editor_properties","com.coremedia.ui.data.Locale","com.coremedia.ui.data.RemoteBeanUtil",
"mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.util.ThumbnailResolver",function(ThumbnailResolver){return{}});Ext.define("com.coremedia.cms.editor.sdk.util.SiteUtil",function(SiteUtil){function getSiteNameFor$static(content){var siteName=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getSiteNameFor(content);if(siteName===undefined)return undefined;return siteName||""}function getSiteLocaleNameFor$static(content){var site=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getSiteFor(content);if(site===undefined)return undefined;if(!site)return"";var locale=site.getLocale();if(!locale)return"";
return locale.getDisplayName()}function SiteUtil$(){}return{metadata:{"":["PublicApi"]},constructor:SiteUtil$,statics:{getSiteNameFor:getSiteNameFor$static,getSiteLocaleNameFor:getSiteLocaleNameFor$static},uses:["com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.util.StoreUtil",function(StoreUtil){function asBeanRecords$static(recordsOrBeans,store){var newRecords=[];var recordType=com.coremedia.ui.store.BeanRecord.create(AS3.getBindable(store,"model","DUMMY").fields,false);for(var $1=0;$1<recordsOrBeans.length;++$1){var recordOrBean=recordsOrBeans[$1];var beanRecord=AS3.as(recordOrBean,com.coremedia.ui.store.BeanRecord);if(beanRecord&&beanRecord.getStore()===store)newRecords.push(beanRecord);else{var bean=AS3.as(recordOrBean,
com.coremedia.ui.data.Bean);if(!bean)if(beanRecord)bean=beanRecord.getBean();else bean=com.coremedia.ui.data.beanFactory.getRemoteBean(recordOrBean.id);if(bean){beanRecord=new recordType({bean:bean});newRecords.push(beanRecord)}}}return newRecords}function getBeans$static(store){var beanRecords=[];getUnfilteredRecords$static(store).each(function(record){if(AS3.as(record,com.coremedia.ui.store.BeanRecord))beanRecords.push(AS3.cast(com.coremedia.ui.store.BeanRecord,record).getBean())});return beanRecords}
function getUnfilteredRecords$static(store){var data=store.getData();return store.isFiltered()?data.getSource():data}function StoreUtil$(){}return{constructor:StoreUtil$,statics:{asBeanRecords:asBeanRecords$static,getBeans:getBeans$static},requires:["com.coremedia.ui.data.Bean","com.coremedia.ui.data.beanFactory","com.coremedia.ui.store.BeanRecord"]}});Ext.define("com.coremedia.cms.editor.sdk.util.OpenHomepageAction",function(OpenHomepageAction){function OpenHomepageAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.util.OpenHomepageActionBase,{});var defaults_$1=AS3.cast(OpenHomepageAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$2sM0(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.util.OpenHomepageActionBase",constructor:OpenHomepageAction$,
super$2sM0:function(){com.coremedia.cms.editor.sdk.util.OpenHomepageActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.util.OpenHomepageActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.util.TeaserOverlayManager",function(TeaserOverlayManager){var instance$static=null;function descriptorCache_(){this.descriptorCache$hkl$={}}function TeaserOverlayManager$(){descriptorCache_.call(this)}function isStyleDescriptor(content){if(!content)return false;if(!content.isLoaded()){content.load();return undefined}return content.getType().getName()===TeaserOverlayManager.STYLE_DOCUMENT_TYPE}function computeAvailableStylesForTeaser(teaser,paths){if(!teaser.isLoaded()){teaser.load();
return undefined}var site=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getSiteFor(teaser);var themeFolders=[];for(var $1=0;$1<paths.length;++$1){var path=paths[$1];var baseFolder=null;if(path.indexOf("/")===0)baseFolder=com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getChild(path);else{if(!site)continue;baseFolder=site.getSiteRootFolder().getChild(path)}if(baseFolder===undefined)return undefined;if(baseFolder!==null)themeFolders.push(baseFolder)}var contents=
[];for(var $3=0;$3<themeFolders.length;++$3){var themeFolder=themeFolders[$3];var children=themeFolder.getChildDocuments();for(var $2=0;$2<children.length;++$2){var item=children[$2];var check=this.isStyleDescriptor(item);if(check===undefined)return undefined;if(check)contents.push(item)}}return contents}function createStyleDescriptorFromContent(content){if(!this.isStyleDescriptor(content))return null;if(!this.descriptorCache$hkl$[content])this.descriptorCache$hkl$[content]=new com.coremedia.cms.editor.sdk.util.TeaserOverlayStyleDescriptor(com.coremedia.ui.data.ValueExpressionFactory.create(TeaserOverlayManager.STYLE_STRUCT_PROPERTY_NAME,
content.getProperties()));return this.descriptorCache$hkl$[content]}function getContentFromStyleDescriptor(descriptor){if(!descriptor)return null;var struct=AS3.as(descriptor.getVE().getValue(),com.coremedia.cap.content.impl.ContentStructRemoteBeanImpl);if(!struct)return null;return struct.getContent()}function applyStyleToTeaserOverlaySettings(style,teaserOverlaySettings){var this$=this;style.load(function(){var descriptor=this$.createStyleDescriptorFromContent(style);teaserOverlaySettings.enabled=
true;teaserOverlaySettings.style=style;if(!isNaN(descriptor.positionX))teaserOverlaySettings.positionX=descriptor.positionX;if(!isNaN(descriptor.positionY))teaserOverlaySettings.positionY=descriptor.positionY;if(!isNaN(descriptor.width))teaserOverlaySettings.width=descriptor.width})}function initializeTeaserOverlay(content,settingsPath,styleDescriptorFolderPaths,defaultStyleName){var manager=TeaserOverlayManager.getInstance();com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var result=
manager.computeAvailableStylesForTeaser(content,styleDescriptorFolderPaths);if(result===undefined)return undefined;return result}).loadValue(function(styles){var defaultStyle=getDefaultStyle$static(styles,defaultStyleName);if(defaultStyle){var localSettings=content.getProperties().get("localSettings");localSettings.getType().addStructProperty("teaserOverlay");var bindTo=com.coremedia.ui.data.ValueExpressionFactory.create(null,content);var teaserOverlaySettings=new com.coremedia.cms.editor.sdk.util.TeaserOverlaySettings(bindTo.extendBy(settingsPath));
manager.applyStyleToTeaserOverlaySettings(defaultStyle,teaserOverlaySettings);content.flush()}})}function getDefaultStyle$static(styles,defaultStyleName){var first=null;for(var $1=0;$1<styles.length;++$1){var style=styles[$1];if(!first)first=style;if(style&&style.getName()===defaultStyleName)return style}return first}function getInstance$static(){if(!instance$static)instance$static=new TeaserOverlayManager;return instance$static}return{constructor:TeaserOverlayManager$,isStyleDescriptor:isStyleDescriptor,
computeAvailableStylesForTeaser:computeAvailableStylesForTeaser,createStyleDescriptorFromContent:createStyleDescriptorFromContent,getContentFromStyleDescriptor:getContentFromStyleDescriptor,applyStyleToTeaserOverlaySettings:applyStyleToTeaserOverlaySettings,initializeTeaserOverlay:initializeTeaserOverlay,statics:{STYLE_DOCUMENT_TYPE:"CMSettings",STYLE_STRUCT_PROPERTY_NAME:"settings",getInstance:getInstance$static},requires:["com.coremedia.cap.common.SESSION","com.coremedia.cap.content.impl.ContentStructRemoteBeanImpl",
"com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.util.TeaserOverlaySettings","com.coremedia.cms.editor.sdk.util.TeaserOverlayStyleDescriptor"]}});Ext.define("com.coremedia.cms.editor.sdk.util.RegionShortcutAction",function(RegionShortcutAction){function RegionShortcutAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.util.RegionShortcutActionBase,{});var defaults_$1=AS3.cast(RegionShortcutAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$wtA2(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.util.RegionShortcutActionBase",
constructor:RegionShortcutAction$,super$wtA2:function(){com.coremedia.cms.editor.sdk.util.RegionShortcutActionBase.prototype.constructor.apply(this,arguments)},config:{direction:null},statics:{DIRECTION_FORWARDS:"forwards",DIRECTION_BACKWARDS:"backwards"},requires:["com.coremedia.cms.editor.sdk.util.RegionShortcutActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.util.ContentLifecycleIcons",function(ContentLifecycleIcons){function getLifecycleClass$static(lifecycleStatus){if(lifecycleStatus===com.coremedia.cap.content.LifecycleStatus.DELETED)return"status-deleted";return""}function ContentLifecycleIcons$(){}return{constructor:ContentLifecycleIcons$,statics:{getLifecycleClass:getLifecycleClass$static},requires:["com.coremedia.cap.content.LifecycleStatus"]}});Ext.define("com.coremedia.cms.editor.sdk.util.LocaleUtil",function(LocaleUtil){function getLocale$static(){return joo.localeSupport.getLocale()}function getSupportedLocales$static(){return joo.localeSupport.getSupportedLocales()}function LocaleUtil$(){}return{metadata:{"":["PublicApi"]},constructor:LocaleUtil$,statics:{getLocale:getLocale$static,getSupportedLocales:getSupportedLocales$static}}});Ext.define("com.coremedia.cms.editor.sdk.util.TeaserOverlayStyleDescriptor",function(TeaserOverlayStyleDescriptor){var TITLE_PROPERTY_NAME$static="title";var DESCRIPTION_PROPERTY_NAME$static="description";var STYLE_PROPERTY_NAME$static="style";var POSITION_X_PROPERTY_NAME$static="positionX";var POSITION_Y_PROPERTY_NAME$static="positionY";var WIDTH_PROPERTY_NAME$static="width";function TeaserOverlayStyleDescriptor$(ve){this.super$bevI(ve,TITLE_PROPERTY_NAME$static,"",DESCRIPTION_PROPERTY_NAME$static,
"",POSITION_X_PROPERTY_NAME$static,null,POSITION_Y_PROPERTY_NAME$static,null,WIDTH_PROPERTY_NAME$static,null,STYLE_PROPERTY_NAME$static,null)}function get$title(){return this.getProperty(TITLE_PROPERTY_NAME$static)}function get$description(){return this.getProperty(DESCRIPTION_PROPERTY_NAME$static)}function get$positionX(){var value=this.getProperty(POSITION_X_PROPERTY_NAME$static);if(AS3.is(value,Number))return Number(value);return NaN}function get$positionY(){var value=this.getProperty(POSITION_Y_PROPERTY_NAME$static);
if(AS3.is(value,Number))return Number(value);return NaN}function get$width(){var value=this.getProperty(WIDTH_PROPERTY_NAME$static);if(AS3.is(value,Number))return Number(value);return NaN}function get$style(){if(!this._style$bevI){var styleVE=this.getPropertyValueExpression(STYLE_PROPERTY_NAME$static);this._style$bevI=new com.coremedia.cms.editor.sdk.util.TeaserOverlayStyle(styleVE)}return this._style$bevI}return{extend:"com.coremedia.ui.data.PropertiesWithDefaultsAdapterBase",_style$bevI:null,constructor:TeaserOverlayStyleDescriptor$,
super$bevI:function(){com.coremedia.ui.data.PropertiesWithDefaultsAdapterBase.prototype.constructor.apply(this,arguments)},__accessors__:{title:{get:get$title},description:{get:get$description},positionX:{get:get$positionX},positionY:{get:get$positionY},width:{get:get$width},style:{get:get$style}},requires:["com.coremedia.ui.data.PropertiesWithDefaultsAdapterBase"],uses:["com.coremedia.cms.editor.sdk.util.TeaserOverlayStyle"]}});Ext.define("com.coremedia.cms.editor.sdk.util.StudioConfigurationUtil",function(StudioConfigurationUtil){var CONFIGURATION_NAME$static="configurationPath";var DEFAULT_CONFIGURATION_FOLDER$static="Options/Settings";var DEFAULT_GLOBAL_CONFIGURATION_FOLDER$static="/Settings";var STRUCT_PROPERTY_NAME$static="settings";var CONFIGURATION_PATH_DELIMITER$static=".";var sitePath$static=null;var globalPath$static=null;function getConfiguration$static(bundle,configuration,context,merge){switch(Math.max(arguments.length,
2)){case 2:context=null;case 3:merge=false}initConfig$static();var sitesService=com.coremedia.cms.editor.sdk.editorContext.getSitesService();var contentRepository=com.coremedia.cms.editor.sdk.editorContext.getSession().getConnection().getContentRepository();var site;if(AS3.is(context,com.coremedia.cap.content.Content))site=sitesService.getSiteFor(AS3.cast(com.coremedia.cap.content.Content,context));else site=AS3.cast(com.coremedia.cms.editor.sdk.sites.Site,context);if(!site)site=sitesService.getPreferredSite();
var siteConfigurationResult=null;if(site){siteConfigurationResult=getConfigurationInFolder$static(configuration,site.getSiteRootFolder(),sitePath$static+"/"+bundle);if(siteConfigurationResult===undefined)return undefined}if(siteConfigurationResult&&!merge)return siteConfigurationResult;var globalConfigurationResult=null;if(globalConfigurationResult===null){var globalRootFolder=contentRepository.getChild(globalPath$static);globalConfigurationResult=getConfigurationInFolder$static(configuration,globalRootFolder,
sitePath$static+"/"+bundle);if(globalConfigurationResult===undefined)return undefined}if(merge&&globalConfigurationResult&&AS3.is(globalConfigurationResult,Array)&&AS3.is(siteConfigurationResult,Array))globalConfigurationResult=globalConfigurationResult.concat(siteConfigurationResult);return globalConfigurationResult}function initConfig$static(){if(!sitePath$static&&!globalPath$static){sitePath$static=DEFAULT_CONFIGURATION_FOLDER$static;globalPath$static=DEFAULT_GLOBAL_CONFIGURATION_FOLDER$static;
var pathConfig=com.coremedia.cms.editor.sdk.editorContext.getConfiguration()[CONFIGURATION_NAME$static];if(pathConfig){if(pathConfig.sitePath)sitePath$static=pathConfig.sitePath;if(pathConfig.globalPath)globalPath$static=pathConfig.globalPath}if(globalPath$static.lastIndexOf("/")!==globalPath$static.length-1)globalPath$static=globalPath$static+"/"}}function getConfigurationInFolder$static(configuration,folder,pathOfSetting){if(!folder)return undefined;var settingsContent=folder.getChild(pathOfSetting);
if(settingsContent===undefined)return undefined;if(settingsContent===null)return null;var properties=settingsContent.getProperties();if(!properties)return undefined;var configurationStruct=properties.get(STRUCT_PROPERTY_NAME$static);if(configurationStruct===undefined)return undefined;if(configurationStruct===null)return null;var configurationPaths=configuration.split(CONFIGURATION_PATH_DELIMITER$static);var actualPathElement=configurationStruct;for(var $1=0;$1<configurationPaths.length;++$1){var path=
configurationPaths[$1];actualPathElement=actualPathElement.get(path);if(actualPathElement===undefined)return undefined;if(actualPathElement===null)return null}return actualPathElement}function StudioConfigurationUtil$(){throw new AS3.Error("not implemented!");}return{constructor:StudioConfigurationUtil$,statics:{getConfiguration:getConfiguration$static},requires:["AS3.Error","com.coremedia.cap.content.Content"],uses:["com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.sites.Site"]}});Ext.define("com.coremedia.cms.editor.sdk.util.LinkListUtil",function(LinkListUtil){function getTargetContentType$static(contentValueExpression,propertyPath,targetContentTypeName){if(arguments.length<=2)targetContentTypeName=null;if(targetContentTypeName)return com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getContentType(targetContentTypeName);var descriptor=getLinkDescriptor$static(contentValueExpression,propertyPath);if(descriptor)return AS3.as(descriptor.linkType,com.coremedia.cap.content.ContentType);
if(isStructPropertyPath$static(propertyPath))AS3.trace("Could not auto determine link type of link property in struct as no struct exists and no targetContentTypeName was passed.");return null}function containsContentNotMatchingType$static(type,contents,throwError){if(arguments.length<=2)throwError=false;var content;if(type===com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getDocumentContentType())for(var i=0;i<contents.length;i++){content=AS3.as(contents[i],com.coremedia.cap.content.Content);
if(!content||!content.isDocument())return contents[i]}else for(var j=0;j<contents.length;j++){content=AS3.as(contents[j],com.coremedia.cap.content.Content);if(content){if(content.getState()!==com.coremedia.ui.data.BeanState.READABLE){if(throwError){var readMsg=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","dialog_pasteErrorUnreadableMessage_text");throw new AS3.Error(readMsg);}return content}var sourceType=content.getType();if(!sourceType.isSubtypeOf(type)){if(throwError){var typePattern=
mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","dialog_pasteErrorMessage_text");var typeMsg=Ext.String.format(typePattern,content.getName(),com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.localizeDocumentTypeName(sourceType.getName()),com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.localizeDocumentTypeName(type.getName()));throw new AS3.Error(typeMsg);}return content}}else return contents[j]}return null}function getMaxCardinalityFromDescriptor$static(contentValueExpression,
propertyPath){var descriptor=getLinkDescriptor$static(contentValueExpression,propertyPath);if(!(descriptor&&descriptor.type===com.coremedia.cap.common.CapPropertyDescriptorType.LINK))return-1;return descriptor.maxCardinality}function getFreeCapacity$static(contentValueExpression,propertyPath,maxCardinality){maxCardinality=maxCardinality||0;var listExpression=contentValueExpression.extendBy("properties",propertyPath);var listLength=0;if(listExpression.getValue())if(AS3.is(listExpression.getValue(),
Array))listLength=AS3.as(listExpression.getValue(),Array).length;else if(AS3.is(listExpression.getValue(),com.coremedia.cap.content.Content))listLength=1;if(maxCardinality<=0)maxCardinality=LinkListUtil.getMaxCardinalityFromDescriptor(contentValueExpression,propertyPath);return maxCardinality-listLength}function isAtomic$static(contentValueExpression,propertyPath,maxCardinality){var descriptor=getLinkDescriptor$static(contentValueExpression,propertyPath);if(descriptor)return descriptor.atomic;if(maxCardinality!==
undefined)return maxCardinality===1?isStructPropertyPath$static(propertyPath):false;return false}function getLinkDescriptor$static(contentValueExpression,propertyPath){var descriptor=getDescriptor$static(contentValueExpression,propertyPath);return descriptor&&descriptor.type===com.coremedia.cap.common.CapPropertyDescriptorType.LINK?AS3.cast(com.coremedia.cap.common.descriptors.LinkPropertyDescriptor,descriptor):null}function getDescriptor$static(contentValueExpression,propertyPath){var propertyPathArcs=
propertyPath.split(".");propertyPathArcs.unshift("properties");var property=propertyPathArcs.pop();var bean=AS3.as(contentValueExpression.extendBy(propertyPathArcs).getValue(),com.coremedia.ui.data.Bean);if(bean){var capStruct;var contentProperties=AS3.as(bean,com.coremedia.cap.content.ContentProperties);if(contentProperties)capStruct=contentProperties.getContentObject();else capStruct=AS3.as(bean,com.coremedia.cap.struct.Struct);if(capStruct)return capStruct.getType_().getDescriptor(property)}return null}
function createLinkValueExpression$static(contentValueExpression,propertyPath,linkTypeName,atomic,fallbackForNullValueExpression){switch(Math.max(arguments.length,3)){case 3:atomic=true;case 4:fallbackForNullValueExpression=null}var linkValueExpression;var completePropertyPath=[com.coremedia.cap.content.ContentPropertyNames.PROPERTIES].concat(propertyPath).join(".");if(!isStructPropertyPath$static(propertyPath)){linkValueExpression=contentValueExpression.extendBy(completePropertyPath);if(atomic)linkValueExpression=
com.coremedia.ui.data.ValueExpressionFactory.createTransformingValueExpression(linkValueExpression,transformFromArray$static,transformToArray$static)}else{var contentRepository=com.coremedia.cap.common.SESSION.getConnection().getContentRepository();var linkType=linkTypeName?contentRepository.getContentType(linkTypeName):contentRepository.getDocumentContentType();var instantiatingValueHolder=new com.coremedia.ui.data.InstantiatingValueHolder(contentValueExpression,completePropertyPath,createLinkPropertyInstantiator$static(linkType,
atomic),atomic?null:[]);linkValueExpression=com.coremedia.ui.data.ValueExpressionFactory.createFromValueHolder(instantiatingValueHolder)}if(fallbackForNullValueExpression)return com.coremedia.ui.data.ValueExpressionFactory.createTransformingValueExpression(linkValueExpression,function(value){return value!==null?value:fallbackForNullValueExpression.getValue()});return linkValueExpression}function transformToArray$static(value){return value===null?[]:Ext.isArray(value)?value:[value]}function transformFromArray$static(value){return Ext.isArray(value)&&
value[0]||null}function createLinkPropertyInstantiator$static(linkType,atomic){return function(struct,propertyName){var structType=struct.getType();if(atomic)structType.addLinkProperty(propertyName,linkType);else structType.addLinkListProperty(propertyName,linkType)}}function isStructPropertyPath$static(propertyPath){return propertyPath.split(".").length>1}function isDisabledFor$static(links){if(links.length===0)return true;return links.some(function(link){return!link||!com.coremedia.ui.data.RemoteBeanUtil.isAccessible(link)})}
function LinkListUtil$(){}return{constructor:LinkListUtil$,statics:{getTargetContentType:getTargetContentType$static,containsContentNotMatchingType:containsContentNotMatchingType$static,getMaxCardinalityFromDescriptor:getMaxCardinalityFromDescriptor$static,getFreeCapacity:getFreeCapacity$static,isAtomic:isAtomic$static,createLinkValueExpression:createLinkValueExpression$static,isDisabledFor:isDisabledFor$static},requires:["AS3.Error","AS3.trace","Ext","Ext.String","com.coremedia.cap.common.CapPropertyDescriptorType",
"com.coremedia.cap.common.SESSION","com.coremedia.cap.common.descriptors.LinkPropertyDescriptor","com.coremedia.cap.content.Content","com.coremedia.cap.content.ContentProperties","com.coremedia.cap.content.ContentPropertyNames","com.coremedia.cap.content.ContentType","com.coremedia.cap.struct.Struct","com.coremedia.ui.data.Bean","com.coremedia.ui.data.BeanState","com.coremedia.ui.data.InstantiatingValueHolder","com.coremedia.ui.data.RemoteBeanUtil","com.coremedia.ui.data.ValueExpressionFactory","mx.resources.ResourceManager"],
uses:["com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.util.CalendarUtil",function(CalendarUtil){function CalendarUtil$(){throw new AS3.Error("no no no!");}function format$static(calendar){if(!calendar)return"";var calendarFormat=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","calendarFormat");var date=calendar.getDateWithoutOffset();var calString=Ext.Date.format(date,calendarFormat);calString+=" "+com.coremedia.cms.editor.sdk.util.ContentLocalizationUtilInternal.localizeTimeZoneID(calendar.getTimeZone());
return calString}return{constructor:CalendarUtil$,statics:{format:format$static},requires:["AS3.Error","Ext.Date","com.coremedia.cms.editor.Editor_properties","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.util.ContentLocalizationUtilInternal"]}});Ext.define("com.coremedia.cms.editor.sdk.util.MessageBoxUtil",function(MessageBoxUtil){function showError$static(title,message,callback,escapeHtml){switch(Math.max(arguments.length,2)){case 2:callback=null;case 3:escapeHtml=true}com.coremedia.cms.editor.sdk.util.MessageBoxUtilInternal.show(title,message,Ext.window.MessageBox.ERROR,Ext.window.MessageBox.OK,callback,escapeHtml)}function showWarn$static(title,message,callback,escapeHtml){switch(Math.max(arguments.length,2)){case 2:callback=null;case 3:escapeHtml=
true}com.coremedia.cms.editor.sdk.util.MessageBoxUtilInternal.show(title,message,Ext.window.MessageBox.WARNING,Ext.window.MessageBox.OK,callback,escapeHtml)}function showInfo$static(title,message,callback,escapeHtml){switch(Math.max(arguments.length,2)){case 2:callback=null;case 3:escapeHtml=true}com.coremedia.cms.editor.sdk.util.MessageBoxUtilInternal.show(title,message,Ext.window.MessageBox.INFO,Ext.window.MessageBox.OK,callback,escapeHtml)}function showPrompt$static(title,message,callback,escapeHtml){switch(Math.max(arguments.length,
2)){case 2:callback=null;case 3:escapeHtml=true}com.coremedia.cms.editor.sdk.util.MessageBoxUtilInternal.show(title,message,null,Ext.window.MessageBox.OKCANCEL,callback,escapeHtml)}function showConfirmation$static(title,message,confirmationButtonText,callback,escapeHtml){switch(Math.max(arguments.length,3)){case 3:callback=null;case 4:escapeHtml=true}com.coremedia.cms.editor.sdk.util.MessageBoxUtilInternal.show(title,message,null,Ext.window.MessageBox.OKCANCEL,callback,escapeHtml,false,null,confirmationButtonText)}
function showDecision$static(title,message,yesButtonText,callback,escapeHtml){switch(Math.max(arguments.length,3)){case 3:callback=null;case 4:escapeHtml=true}com.coremedia.cms.editor.sdk.util.MessageBoxUtilInternal.show(title,message,null,Ext.window.MessageBox.YESNO,callback,escapeHtml,false,null,null,yesButtonText)}function prompt$static(title,message,callback,value,escapeHtml){switch(Math.max(arguments.length,2)){case 2:callback=null;case 3:value="";case 4:escapeHtml=true}com.coremedia.cms.editor.sdk.util.MessageBoxUtilInternal.prompt(title,
message,callback,value,escapeHtml)}function MessageBoxUtil$(){}return{metadata:{"":["PublicApi"]},constructor:MessageBoxUtil$,statics:{showError:showError$static,showWarn:showWarn$static,showInfo:showInfo$static,showPrompt:showPrompt$static,showConfirmation:showConfirmation$static,showDecision:showDecision$static,prompt:prompt$static},requires:["Ext.window.MessageBox"],uses:["com.coremedia.cms.editor.sdk.util.MessageBoxUtilInternal"]}});Ext.define("com.coremedia.cms.editor.sdk.util.ThumbnailRenderer",function(ThumbnailRenderer){return{}});Ext.define("com.coremedia.cms.editor.sdk.util.StringHelper",function(StringHelper){function replace$static(str,oldSubStr,newSubStr){return str.split(oldSubStr).join(newSubStr)}function trim$static(str,char_){return StringHelper.trimBack(StringHelper.trimFront(str,char_),char_)}function trimFront$static(str,char_){char_=StringHelper.stringToCharacter(char_);if(str.charAt(0)==char_)str=StringHelper.trimFront(str.substring(1),char_);return str}function trimBack$static(str,char_){char_=StringHelper.stringToCharacter(char_);
if(str.charAt(str.length-1)==char_)str=StringHelper.trimBack(str.substring(0,str.length-1),char_);return str}function stringToCharacter$static(str){if(str.length==1)return str;return str.slice(0,1)}function StringHelper$(){}return{constructor:StringHelper$,statics:{replace:replace$static,trim:trim$static,trimFront:trimFront$static,trimBack:trimBack$static,stringToCharacter:stringToCharacter$static}}});Ext.define("com.coremedia.cms.editor.sdk.util.ImageUtil",function(ImageUtil){function getCroppingOperation$static(width,height){return"rm/box;w\x3d"+width+";h\x3d"+height}function getCroppingUri$static(uri,width,height){if(uri&&uri.indexOf("http")!==0&&uri.indexOf("//")!==0){var croppingSuffix=ImageUtil.getCroppingOperation(width,height);return uri+"/"+croppingSuffix}else return uri}function ImageUtil$(){}return{constructor:ImageUtil$,statics:{getCroppingOperation:getCroppingOperation$static,getCroppingUri:getCroppingUri$static}}});Ext.define("com.coremedia.cms.editor.sdk.util.PreferencesUtil",function(PreferencesUtil){var REMOTE_BEAN_URI_PATH_PROPERTY$static="__Ref__";function updatePreferencesJSONProperty$static(value){var path=Array.prototype.slice.call(arguments,1);if(path.length===0)throw new AS3.Error("unsupported attempt to update entire preferences struct at once");var preferences=AS3.as(com.coremedia.cms.editor.sdk.editorContext.getPreferences(),com.coremedia.cap.common.impl.StructRemoteBeanImpl);if(preferences&&preferences.getState()===
com.coremedia.ui.data.BeanState.READABLE){var current=preferences;for(var i=0;i<path.length-1;i++){var property=path[i];current=AS3.as(current.instantiate(property),com.coremedia.cap.struct.Struct);if(!current)throw new AS3.Error("non-struct blocks the preference update of "+path.join(".")+" at "+path.slice(0,i+1).join("."));}var lastPropertyName=path[path.length-1];current.getType().removeProperty(lastPropertyName);updateJSONProperty$static(value,current,lastPropertyName)}}function updateJSONProperty$static(value,
struct,propertyName){if(value===null)struct.getType().addLinkProperty(propertyName,getContentContentType$static());else if(AS3.is(value,Boolean))struct.getType().addBooleanProperty(propertyName,value);else if(AS3.is(value,String))struct.getType().addStringProperty(propertyName,AS3.int_.MAX_VALUE,AS3.as(value,String));else if(AS3.is(value,Number))struct.getType().addIntegerProperty(propertyName,value);else if(AS3.is(value,com.coremedia.cap.content.Content))struct.getType().addLinkProperty(propertyName,
getContentContentType$static(),value);else if(AS3.is(value,com.coremedia.ui.data.RemoteBean)){struct.getType().addStructProperty(propertyName);AS3.cast(com.coremedia.cap.struct.Struct,struct.get(propertyName)).getType().addStringProperty(REMOTE_BEAN_URI_PATH_PROPERTY$static,AS3.int_.MAX_VALUE,AS3.cast(com.coremedia.ui.data.RemoteBean,value).getUriPath())}else if(AS3.is(value,Date))struct.getType().addDateProperty(propertyName,AS3.as(value,Date));else if(AS3.is(value,Array)){var array=AS3.as(value,
Array);if(array.length===0)struct.getType().addLinkListProperty(propertyName,getContentContentType$static(),[]);else{var first=array[0];if(AS3.is(first,Boolean))struct.getType().addBooleanListProperty(propertyName,array);else if(AS3.is(first,String))struct.getType().addStringListProperty(propertyName,AS3.int_.MAX_VALUE,array);else if(AS3.is(first,Number))struct.getType().addIntegerListProperty(propertyName,array);else if(AS3.is(first,com.coremedia.cap.content.Content))struct.getType().addLinkListProperty(propertyName,
getContentContentType$static(),array);else if(AS3.is(first,Date))struct.getType().addDateListProperty(propertyName,array);else{struct.getType().addStructListProperty(propertyName,[]);updateJSONStructArray$static(array,struct,propertyName)}}}else if(value===undefined){if(struct.getType().hasProperty(propertyName))struct.getType().removeProperty(propertyName)}else updateJSONStruct$static(value,struct.instantiate(propertyName))}function getContentContentType$static(){return com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getContentContentType()}
function updateJSONStructArray$static(array,struct,propertyName){for(var i=0;i<array.length;i++){var object=array[i];struct.addAt(propertyName);updateJSONStruct$static(object,struct.get(propertyName)[i])}}function updateJSONStruct$static(value,struct){for(var propertyName in value)if(propertyName!=="$Struct"&&value.hasOwnProperty(propertyName))updateJSONProperty$static(value[propertyName],struct,propertyName)}function decodeJsonString$static(json){if(!AS3.is(json,String))return undefined;return com.coremedia.ui.data.impl.BeanFactoryImpl.resolveBeans(Ext.JSON.decode(AS3.as(json,
String)))}function getPreferencesJSONProperty$static(decoderConfiguration){var path=Array.prototype.slice.call(arguments,1);var value=PreferencesUtil.getPreferencesProperty.apply(null,path);if(value===null||value===undefined)return null;return decodePreferencesValue$static(decoderConfiguration,value)}function decodePreferencesValue$static(decoderConfiguration,value){if(AS3.is(decoderConfiguration,Function)){var decoded=AS3.cast(Function,decoderConfiguration)(value);if(decoded!==undefined)return decoded}if(AS3.is(value,
com.coremedia.cap.struct.Struct))return decodePreferencesStruct$static(decoderConfiguration,AS3.cast(com.coremedia.cap.struct.Struct,value));else if(AS3.is(value,Array))return decodePreferencesArray$static(decoderConfiguration&&decoderConfiguration[0],AS3.as(value,Array));else return value}function decodePreferencesStruct$static(decoderConfiguration,struct){var propertyNames=struct.getType().getPropertyNames();if(propertyNames.length===1&&propertyNames[0]===REMOTE_BEAN_URI_PATH_PROPERTY$static){var uriPath=
struct.get(propertyNames[0]);return com.coremedia.ui.data.beanFactory.getRemoteBean(uriPath)}var result={};for(var $1=0;$1<propertyNames.length;++$1){var propertyName=propertyNames[$1];result[propertyName]=decodePreferencesValue$static(decoderConfiguration&&decoderConfiguration[propertyName],struct.get(propertyName))}return result}function decodePreferencesArray$static(decoderConfiguration,array){var result=[];for(var $1=0;$1<array.length;++$1){var object=array[$1];result.push(decodePreferencesValue$static(decoderConfiguration,
object))}return result}function getPreferencesProperty$static(){var path=Array.prototype.slice.call(arguments);var preferences=com.coremedia.cms.editor.sdk.editorContext.getPreferences();if(preferences&&preferences.getState()===com.coremedia.ui.data.BeanState.READABLE){var current=preferences;for(var i=0;i<path.length-1;i++){var property=path[i];current=AS3.as(current.get(property),com.coremedia.cap.struct.Struct);if(!current)return null}return current.get(path[path.length-1])}return null}function PreferencesUtil$(){}
return{metadata:{"":["PublicApi"]},constructor:PreferencesUtil$,statics:{updatePreferencesJSONProperty:updatePreferencesJSONProperty$static,decodeJsonString:decodeJsonString$static,getPreferencesJSONProperty:getPreferencesJSONProperty$static,getPreferencesProperty:getPreferencesProperty$static},requires:["AS3.Error","AS3.int_","Ext.JSON","com.coremedia.cap.common.SESSION","com.coremedia.cap.common.impl.StructRemoteBeanImpl","com.coremedia.cap.content.Content","com.coremedia.cap.struct.Struct","com.coremedia.ui.data.BeanState",
"com.coremedia.ui.data.RemoteBean","com.coremedia.ui.data.beanFactory","com.coremedia.ui.data.impl.BeanFactoryImpl"],uses:["com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.util.WorkflowUtils",function(WorkflowUtils){function getAvailableProcessDefNames$static(configuredProcessDefNames){var workflowRepository=com.coremedia.cap.common.SESSION.getConnection().getWorkflowRepository();if(null===workflowRepository)return[];var worklistService=workflowRepository.getWorklistService();var processDefinitionsMayCreate=worklistService.getProcessDefinitionsMayCreate()||[];var notYetLoaded=false;var available={};processDefinitionsMayCreate.forEach(function(processDef){var state=
processDef.getState();if(state===com.coremedia.ui.data.BeanState.UNKNOWN){processDef.load();notYetLoaded=true}else available[processDef.getName()]=true});return notYetLoaded?undefined:configuredProcessDefNames.filter(function(configuredProcessDefName){return available[configuredProcessDefName]})}function startProcess$static(processDefinitionName,processVariables,callback){switch(Math.max(arguments.length,1)){case 1:processVariables=null;case 2:callback=null}var workflowRepository=com.coremedia.cap.common.SESSION.getConnection().getWorkflowRepository();
workflowRepository.getProcessDefinition(processDefinitionName,processDefinitionLoaded);function processDefinitionLoaded(processDefinition){if(!processDefinition){handleError("ProcessDefinition with name "+processDefinitionName+" not found");return}var variablesArray=com.coremedia.ui.util.ArrayUtils.asArray(processVariables||{});if(processDefinitionName===com.coremedia.cms.editor.sdk.translate.SynchronizationProcessVariableNames.SYNCHRONIZATION_WORKFLOW)createAndStartProcess(processDefinition,variablesArray.pop());
else for(var i=0;i<variablesArray.length;i++){var variables=variablesArray[i];createAndStartProcess(processDefinition,variables)}}function createAndStartProcess(processDefinition,variables){processDefinition.create(processCreated);function processCreated(result){var process=result.createdProcess;if(!process){handleError("Could not create process for ProcessDefinition "+processDefinitionName);return}process.load(function(){process.getProperties().updateProperties(variables);process.start(function(result){processStarted(process,
result)})})}function processStarted(process,result){if(result.error){handleError("Could not start process: "+result.error.errorCode+": "+result.error.errorName,process);result.error.setHandled(true)}else callback&&callback(process)}}function handleError(message,process){if(arguments.length<=1)process=null;com.coremedia.ui.logging.Logger.error(message);callback&&callback(process,new AS3.Error(message))}}function showStartProcessErrorDialog$static(){com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showError(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors",
"startWorkflow_failedMessage_title"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors","startWorkflow_failedMessage_text"))}function WorkflowUtils$(){}return{constructor:WorkflowUtils$,statics:{getAvailableProcessDefNames:getAvailableProcessDefNames$static,startProcess:startProcess$static,showStartProcessErrorDialog:showStartProcessErrorDialog$static},requires:["AS3.Error","com.coremedia.cap.common.SESSION","com.coremedia.cms.editor.EditorErrors_properties",
"com.coremedia.ui.data.BeanState","com.coremedia.ui.logging.Logger","com.coremedia.ui.util.ArrayUtils","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.translate.SynchronizationProcessVariableNames","com.coremedia.cms.editor.sdk.util.MessageBoxUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.util.IContentUtil",function(IContentUtil){return{}});Ext.define("com.coremedia.cms.editor.sdk.util.RegionShortcutActionBase",function(RegionShortcutActionBase){var FOCUSABLE_REGION_SELECTOR$static;function FOCUSABLE_REGION_SELECTOR$static_(){FOCUSABLE_REGION_SELECTOR$static=com.coremedia.ui.util.createComponentSelector().attr("ariaRole","region").focusable().build()}function RegionShortcutActionBase$(config){if(arguments.length<=0)config=null;this.super$ATnp(config);this.dir$ATnp=AS3.getBindable(config,"direction");this.setHandler(AS3.bind(this,"handleAction$ATnp"),
this)}function handleAction(){var result=getFocusableRegions$static();if(result.length>0){var focusedRegion=getFocusedRegion$static();var index=result.indexOf(focusedRegion);if(this.dir$ATnp===com.coremedia.cms.editor.sdk.util.RegionShortcutAction.DIRECTION_FORWARDS)index++;else index--;if(index>=result.length)index=0;if(index<0)index=result.length-1;var region=result[index];region.focus()}}function findClosestComponent$static(element){if(element.component)return element.component;var parent=AS3.as(element.parent(),
Ext.dom.Element);if(parent)return findClosestComponent$static(parent);return null}function getFocusedComponent$static(){return findClosestComponent$static(Ext.fly(Ext.dom.Element.getActiveElement(false)))}function getFocusedRegion$static(){var focusedComponent=getFocusedComponent$static();if(!focusedComponent)return null;if(isFocusableRegion$static(focusedComponent))return focusedComponent;return focusedComponent.up(FOCUSABLE_REGION_SELECTOR$static)}function isFocusableRegion$static(cmp){return cmp["is"](FOCUSABLE_REGION_SELECTOR$static)}
function findFocusableRegions$static(cmp){var result=[];if(isFocusableRegion$static(cmp))result.push(cmp);var container=AS3.as(cmp,Ext.container.Container);if(container)result=result.concat(container.query(FOCUSABLE_REGION_SELECTOR$static));return result}function getFocusableRegions$static(){var regions=[];var components=[];var mainView=Ext.app.Application.instance.getMainView();if(mainView)regions=regions.concat(regions,findFocusableRegions$static(mainView));mainView&&components.push(mainView);Ext.WindowManager.each(function(cmp){regions=
regions.concat(findFocusableRegions$static(cmp))});return regions}return{extend:"Ext.Action",dir$ATnp:null,constructor:RegionShortcutActionBase$,super$ATnp:function(){Ext.Action.prototype.constructor.apply(this,arguments)},handleAction$ATnp:handleAction,statics:{FOCUSABLE_REGION_SELECTOR:undefined,__initStatics__:function(){FOCUSABLE_REGION_SELECTOR$static_()}},requires:["Ext","Ext.Action","Ext.ZIndexManager","Ext.app.Application","Ext.container.Container","Ext.dom.Element","com.coremedia.ui.util.createComponentSelector"],
uses:["com.coremedia.cms.editor.sdk.util.RegionShortcutAction"]}});Ext.define("com.coremedia.cms.editor.sdk.util.contentUtil",function(contentUtil){function contentUtil_(){return new com.coremedia.cms.editor.sdk.util.ContentUtilImpl}return{__factory__:contentUtil_,requires:["com.coremedia.cms.editor.sdk.util.ContentUtilImpl"]}});Ext.define("com.coremedia.cms.editor.sdk.util.ThumbnailResolverImpl",function(ThumbnailResolverImpl){function thumbnailMapping_(){this.thumbnailMapping$A8n0=com.coremedia.ui.data.beanFactory.createLocalBean()}function addMapping(contentTypeName){var properties=Array.prototype.slice.call(arguments,1);this.thumbnailMapping$A8n0.set(contentTypeName,properties)}function getContentType(){return null}function getThumbnail(model,operations){if(arguments.length<=1)operations=null;var thumbnail=this.getThumbnailForContent(AS3.as(model,
com.coremedia.cap.content.Content),[]);if(thumbnail===undefined)return undefined;if(thumbnail!==null){var blob=thumbnail.getBlob();if(blob===undefined){blob.loadData();return undefined}thumbnail.setOperations(operations)}return thumbnail}function getThumbnailForContent(content,thumbnailPath){var contentType=content.getType();if(contentType===undefined){content.load();return undefined}var mapping=this.getThumbnailMappingFor$A8n0(contentType);if(mapping){var thumbData=getThumbnailFor$static(content,
mapping);if(thumbData){if(!thumbData.getBlob()){thumbnailPath.push(thumbData);return this.getThumbnailForContent(thumbData.getContent(),thumbnailPath)}thumbnailPath.push(thumbData);thumbData.setThumbnailPath(thumbnailPath)}return thumbData}return null}function getThumbnailFor$static(c,mapping){if(AS3.as(mapping,Array)){var propertyNames=AS3.as(mapping,Array);for(var $1=0;$1<propertyNames.length;++$1){var name=propertyNames[$1];var value=getPropertyValue$static(c,name);if(value===undefined)return undefined;
if(value)return value}}else if(AS3.as(mapping,String))return getPropertyValue$static(c,AS3.as(mapping,String));return null}function getPropertyValue$static(content,propertyName){var value=content.getProperties().get(propertyName);if(!value)return null;var result=new com.coremedia.cms.editor.sdk.util.Thumbnail;result.setPropertyName(propertyName);result.setOwner(content);var propertyValue=null;if(AS3.as(value,Array)){if(AS3.as(value,Array).length===0)return null;propertyValue=value[0]}else propertyValue=
value;if(AS3.as(propertyValue,com.coremedia.cap.content.Content)){if(!content.isLoaded()){content.load();return undefined}result.setContent(AS3.as(propertyValue,com.coremedia.cap.content.Content))}else if(AS3.as(propertyValue,com.coremedia.ui.data.Blob)){var blob=AS3.as(propertyValue,com.coremedia.ui.data.impl.BlobImpl);com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(blob,"data");var mimeType=blob.getContentType();if(mimeType.indexOf("image/")===-1)return null;result.setBlob(blob)}else AS3.trace("[ERROR]",
"Unsupported thumbnail property '"+propertyName+" of document '"+content.getPath()+"'/"+content.getId()+", must be a blob or content.");return result}function getThumbnailMappingFor(contentType){var mapping=this.thumbnailMapping$A8n0.get(contentType.getName());if(mapping&&mapping.length===1)return mapping[0];while(!mapping&&contentType){contentType=contentType.getParent();if(contentType)return this.getThumbnailMappingFor$A8n0(contentType)}return null}function ThumbnailResolverImpl$(){thumbnailMapping_.call(this)}
return{mixins:["com.coremedia.cms.editor.sdk.util.ThumbnailResolver"],addMapping:addMapping,getContentType:getContentType,getThumbnail:getThumbnail,getThumbnailForContent:getThumbnailForContent,getThumbnailMappingFor$A8n0:getThumbnailMappingFor,constructor:ThumbnailResolverImpl$,requires:["AS3.trace","com.coremedia.cap.content.Content","com.coremedia.cms.editor.sdk.util.ThumbnailResolver","com.coremedia.ui.data.Blob","com.coremedia.ui.data.beanFactory","com.coremedia.ui.data.dependencies.DependencyTracker",
"com.coremedia.ui.data.impl.BlobImpl"],uses:["com.coremedia.cms.editor.sdk.util.Thumbnail"]}});Ext.define("com.coremedia.cms.editor.sdk.bookmarks.BookmarkButtonMenuItemBase",function(BookmarkButtonMenuItemBase){function BookmarkButtonMenuItemBase$(config){if(arguments.length<=0)config=null;this.super$mmHM(config);this.bookmark$mmHM=AS3.getBindable(config,"bookmark")}function getBookmark(){return this.bookmark$mmHM}function afterRender(){Ext.menu.Item.prototype.afterRender.call(this);var ve=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(this.bookmark$mmHM.getContent());var contentDragZone=
new com.coremedia.cms.editor.sdk.bookmarks.BookmarkDragZone(this,ve);this.on("beforedestroy",function(){contentDragZone.unreg()})}return{extend:"Ext.menu.Item",bookmark$mmHM:null,constructor:BookmarkButtonMenuItemBase$,super$mmHM:function(){Ext.menu.Item.prototype.constructor.apply(this,arguments)},getBookmark:getBookmark,afterRender:afterRender,requires:["Ext.menu.Item","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.sdk.bookmarks.BookmarkDragZone"]}});Ext.define("com.coremedia.cms.editor.sdk.bookmarks.BookmarkFavouritesToolbarButtonBase",function(BookmarkFavouritesToolbarButtonBase){var CM_ROW_INSERT_ABOVE_CLS$static="cm-row-insert-above";var CM_ROW_INSERT_BELOW_CLS$static="cm-row-insert-below";function BookmarkFavouritesToolbarButtonBase$(config){if(arguments.length<=0)config=null;this.super$s6jJ(config);this.addListener("render",AS3.bind(this,"initDropTarget$s6jJ"));if(AS3.getBindable(config,"contextMenu")){var contextMenuConfig=AS3.getBindable(config,
"contextMenu");AS3.setBindable(contextMenuConfig,"selectedBookmarkVE",AS3.getBindable(contextMenuConfig,"selectedBookmarkVE")?AS3.getBindable(contextMenuConfig,"selectedBookmarkVE"):this.getSelectedBookmarkValueExpression$s6jJ());AS3.setBindable(contextMenuConfig,"preventHideMenuVE",AS3.getBindable(contextMenuConfig,"preventHideMenuVE")?AS3.getBindable(contextMenuConfig,"preventHideMenuVE"):this.getPreventHideMenuValueExpression$s6jJ());this.contextMenu$s6jJ=com.coremedia.ui.util.ContextMenuUtil.createContextMenu(contextMenuConfig,
this);this.addContextMenuListeners$s6jJ()}}function addContextMenuListeners(){var this$=this;AS3.getBindable(this,"menu","DUMMY").on("afterrender",function(){AS3.getBindable(this$,"menu","DUMMY").getEl().addListener("contextmenu",AS3.bind(this$,"onContextMenu$s6jJ"))});AS3.getBindable(this,"menu","DUMMY").addListener("beforehide",function(){return!this$.preventHideMenuFlag$s6jJ});this.contextMenu$s6jJ.addListener("click",function(ctxMenu,item,event){if(item.getItemId()===com.coremedia.cms.editor.sdk.bookmarks.BookmarkContextMenu.RENAME_BOOKMARK){this$.preventHideMenuFlag$s6jJ=
true;AS3.getBindable(this$,"menu","DUMMY").getEl().mask()}if(item.getItemId()===com.coremedia.cms.editor.sdk.bookmarks.BookmarkContextMenu.REMOVE_BOOKMARK)this$.preventHideMenuFlag$s6jJ=true});this.contextMenu$s6jJ.addListener("hide",function(){this$.getPreventHideMenuValueExpression$s6jJ().setValue(this$.preventHideMenuFlag$s6jJ);this$.preventHideMenuFlag$s6jJ=false});this.getPreventHideMenuValueExpression$s6jJ().addChangeListener(function(){this$.preventHideMenuFlag$s6jJ=this$.getPreventHideMenuValueExpression$s6jJ().getValue();
AS3.getBindable(this$,"menu","DUMMY").getEl().unmask()})}function onContextMenu(event,target){if(!AS3.getBindable(this,"menu","DUMMY").getEl().isMasked()){this.preventHideMenuFlag$s6jJ=true;this.getPreventHideMenuValueExpression$s6jJ().setValue(true);event.preventDefault();this.selectedMenuItemChanged$s6jJ(event,target);this.contextMenu$s6jJ.showAt(event.getXY())}}function selectedMenuItemChanged(event,target){event.preventDefault();var clickedItem=AS3.as(findComponentUpward$static(target,com.coremedia.cms.editor.sdk.bookmarks.BookmarkButtonMenuItem.xtype),
com.coremedia.cms.editor.sdk.bookmarks.BookmarkButtonMenuItem);var bookmark=clickedItem?clickedItem.getBookmark():undefined;if(bookmark)this.getSelectedBookmarkValueExpression$s6jJ().setValue(bookmark)}function findComponentUpward$static(el,xtype){if(!el)return undefined;var comp=Ext.getCmp(el.id);if(comp&&comp.isXType(xtype))return comp;return findComponentUpward$static(el.parentNode,xtype)}function getPreventHideMenuValueExpression(){if(!this.preventHideMenu$s6jJ)this.preventHideMenu$s6jJ=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(false);
return this.preventHideMenu$s6jJ}function getSelectedBookmarkValueExpression(){if(!this.selectedBookmarkValueExpression$s6jJ)this.selectedBookmarkValueExpression$s6jJ=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(undefined);return this.selectedBookmarkValueExpression$s6jJ}function addDummyMenuItemWhenEmpty$static(menu,bookmarks){if(!bookmarks.getValue()||AS3.as(bookmarks.getValue(),Array).length===0){var menuItem=AS3.cast(Ext.menu.Item,{});menuItem.baseAction=new com.coremedia.cms.editor.sdk.bookmarks.OpenBookmarkAction(AS3.cast(com.coremedia.cms.editor.sdk.bookmarks.OpenBookmarkAction,
{}));menu.add(menuItem)}}function initDropTarget(){var this$=this;var dropTargetConfig=AS3.cast(Ext.dd.DropTarget,{});dropTargetConfig.ddGroup="ContentLinkDD";dropTargetConfig.notifyEnter=AS3.bind(this,"notifyEnter$s6jJ");dropTargetConfig.notifyOver=AS3.bind(this,"notifyOver$s6jJ");dropTargetConfig.notifyDrop=AS3.bind(this,"notifyDrop$s6jJ");dropTargetConfig.notifyOut=AS3.bind(this,"notifyOut$s6jJ");AS3.getBindable(this,"menu","DUMMY").on("afterrender",function(){this$.dropTarget$s6jJ=new Ext.dd.DropTarget(AS3.getBindable(this$,
"menu","DUMMY").getEl(),dropTargetConfig)})}function notifyEnter(){AS3.getBindable(this,"menu","DUMMY").itemCollection.each(function(item){item.removeCls("x-menu-item-active");item["onFocus"]=Ext.emptyFn})}function notifyOver(d,e,data){var eventPos=this.getDragDropOverPosition$s6jJ(e);this.highlightInsertionPoint$s6jJ(eventPos);return this.dropTarget$s6jJ.dropAllowed}function highlightInsertionPoint(eventPos){this.clearDragDropStyles$s6jJ();this.computeOverBookmark$s6jJ(eventPos);if(this.currentOverBookmark$s6jJ){var insertBelow=
eventPos===AS3.getBindable(this,"menu","DUMMY").itemCollection.getCount();if(!insertBelow)this.currentOverBookmark$s6jJ.addCls(CM_ROW_INSERT_ABOVE_CLS$static);else this.currentOverBookmark$s6jJ.addCls(CM_ROW_INSERT_BELOW_CLS$static)}}function clearDragDropStyles(){if(this.currentOverBookmark$s6jJ){this.currentOverBookmark$s6jJ.removeCls(CM_ROW_INSERT_ABOVE_CLS$static);this.currentOverBookmark$s6jJ.removeCls(CM_ROW_INSERT_BELOW_CLS$static)}}function computeOverBookmark(eventPos){var bookmark;if(eventPos===
AS3.getBindable(this,"menu","DUMMY").itemCollection.getCount())bookmark=AS3.as(AS3.getBindable(this,"menu","DUMMY").itemCollection.get(eventPos-1),com.coremedia.cms.editor.sdk.bookmarks.BookmarkButtonMenuItem);else bookmark=AS3.as(AS3.getBindable(this,"menu","DUMMY").itemCollection.get(eventPos),com.coremedia.cms.editor.sdk.bookmarks.BookmarkButtonMenuItem);this.currentOverBookmark$s6jJ=bookmark?bookmark:undefined}function notifyDrop(d,e,data){var this$=this;this.restoreItemFocus$s6jJ();var dropPosition=
this.getDragDropOverPosition$s6jJ(e);var draggedBookmarkItemIndex=AS3.getBindable(this,"menu","DUMMY").itemCollection.indexOf(data.draggedItem);if(dropPosition-draggedBookmarkItemIndex!==1&&dropPosition-draggedBookmarkItemIndex!==0){this.preventHideMenuFlag$s6jJ=true;AS3.getBindable(this,"menu","DUMMY").on("add",function(){this$.preventHideMenuFlag$s6jJ=false},null,{single:true})}if(this.currentOverBookmark$s6jJ){this.currentOverBookmark$s6jJ.removeCls(CM_ROW_INSERT_ABOVE_CLS$static);this.currentOverBookmark$s6jJ.removeCls(CM_ROW_INSERT_BELOW_CLS$static);
this.currentOverBookmark$s6jJ=null}return com.coremedia.cms.editor.sdk.bookmarks.BookmarkManager.getInstance().insertAtOrMoveTo(dropPosition,data.contents[0])}function getDragDropOverPosition(e){var rowHeight=AS3.getBindable(this,"menu","DUMMY").getHeight()/AS3.getBindable(this,"menu","DUMMY").itemCollection.getCount();var eventPos=Math.round((e.getY()-AS3.getBindable(this,"menu","DUMMY").getEl().getY())/rowHeight);return eventPos}function notifyOut(d,e,data){this.restoreItemFocus$s6jJ();if(this.currentOverBookmark$s6jJ){this.currentOverBookmark$s6jJ.removeCls(CM_ROW_INSERT_ABOVE_CLS$static);
this.currentOverBookmark$s6jJ.removeCls(CM_ROW_INSERT_BELOW_CLS$static)}}function restoreItemFocus(){AS3.getBindable(this,"menu","DUMMY").itemCollection.each(function(item){item["onFocus"]=Ext.menu.Item["prototype"].onFocus})}function beforeDestroy(){this.dropTarget$s6jJ&&this.dropTarget$s6jJ.unreg();Ext.button.Button.prototype.beforeDestroy.call(this)}return{extend:"Ext.button.Button",selectedBookmarkValueExpression$s6jJ:null,preventHideMenu$s6jJ:null,preventHideMenuFlag$s6jJ:false,dropTarget$s6jJ:null,
currentOverBookmark$s6jJ:null,contextMenu$s6jJ:null,constructor:BookmarkFavouritesToolbarButtonBase$,super$s6jJ:function(){Ext.button.Button.prototype.constructor.apply(this,arguments)},addContextMenuListeners$s6jJ:addContextMenuListeners,onContextMenu$s6jJ:onContextMenu,selectedMenuItemChanged$s6jJ:selectedMenuItemChanged,getPreventHideMenuValueExpression$s6jJ:getPreventHideMenuValueExpression,getSelectedBookmarkValueExpression$s6jJ:getSelectedBookmarkValueExpression,initDropTarget$s6jJ:initDropTarget,
notifyEnter$s6jJ:notifyEnter,notifyOver$s6jJ:notifyOver,highlightInsertionPoint$s6jJ:highlightInsertionPoint,clearDragDropStyles$s6jJ:clearDragDropStyles,computeOverBookmark$s6jJ:computeOverBookmark,notifyDrop$s6jJ:notifyDrop,getDragDropOverPosition$s6jJ:getDragDropOverPosition,notifyOut$s6jJ:notifyOut,restoreItemFocus$s6jJ:restoreItemFocus,beforeDestroy:beforeDestroy,statics:{addDummyMenuItemWhenEmpty:addDummyMenuItemWhenEmpty$static},requires:["Ext","Ext.button.Button","Ext.dd.DropTarget","Ext.menu.Item",
"com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.util.ContextMenuUtil"],uses:["com.coremedia.cms.editor.sdk.bookmarks.BookmarkButtonMenuItem","com.coremedia.cms.editor.sdk.bookmarks.BookmarkContextMenu","com.coremedia.cms.editor.sdk.bookmarks.BookmarkManager","com.coremedia.cms.editor.sdk.bookmarks.OpenBookmarkAction"]}});Ext.define("com.coremedia.cms.editor.sdk.bookmarks.RenameBookmarkActionBase",function(RenameBookmarkActionBase){function bookmarkManager_(){this.bookmarkManager$bJV6=com.coremedia.cms.editor.sdk.bookmarks.BookmarkManager.getInstance()}function RenameBookmarkActionBase$(config){if(arguments.length<=0)config=null;this.preventHideMenuVE$bJV6=AS3.getBindable(config,"preventHideMenuVE");this.bookmarkVE$bJV6=AS3.getBindable(config,"bookmarkVE");AS3.setBindable(config,"handler",AS3.bind(this,"doRename$bJV6"));
this.super$bJV6(config);bookmarkManager_.call(this)}function doRename(){var this$=this;var bookmark=AS3.as(this.bookmarkVE$bJV6.getValue(),com.coremedia.cms.editor.sdk.bookmarks.Bookmark);var oldName=bookmark.getName();var title=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","Bookmark_renameBookmarkAction_title_text");var message=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","Bookmark_renameBookmarkAction_message_text");
var callback=function(btn,newName){if(btn==="ok")this$.bookmarkManager$bJV6.renameBookmark(bookmark.getContent(),newName);this$.preventHideMenuVE$bJV6.setValue(false)};com.coremedia.cms.editor.sdk.util.MessageBoxUtil.prompt(title,message,callback,oldName)}return{extend:"com.coremedia.ui.actions.DependencyTrackedAction",bookmarkVE$bJV6:null,preventHideMenuVE$bJV6:null,constructor:RenameBookmarkActionBase$,super$bJV6:function(){com.coremedia.ui.actions.DependencyTrackedAction.prototype.constructor.apply(this,
arguments)},doRename$bJV6:doRename,requires:["com.coremedia.cms.editor.Editor_properties","com.coremedia.ui.actions.DependencyTrackedAction","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.bookmarks.Bookmark","com.coremedia.cms.editor.sdk.bookmarks.BookmarkManager","com.coremedia.cms.editor.sdk.util.MessageBoxUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.bookmarks.OpenBookmarkAction",function(OpenBookmarkAction){function OpenBookmarkAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.bookmarks.OpenBookmarkActionBase,{});var defaults_$1=AS3.cast(OpenBookmarkAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$cdWX(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.bookmarks.OpenBookmarkActionBase",
constructor:OpenBookmarkAction$,super$cdWX:function(){com.coremedia.cms.editor.sdk.bookmarks.OpenBookmarkActionBase.prototype.constructor.apply(this,arguments)},config:{content:null,name:null},requires:["com.coremedia.cms.editor.sdk.bookmarks.OpenBookmarkActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.bookmarks.Bookmark",function(Bookmark){function Bookmark$(name,content){this.name$fqyX=name;this.content$fqyX=content}function getName(){return this.name$fqyX}function getContent(){return this.content$fqyX}function toString(){return this.content$fqyX.getName().toLowerCase()}return{name$fqyX:null,content$fqyX:null,constructor:Bookmark$,getName:getName,getContent:getContent,toString:toString}});Ext.define("com.coremedia.cms.editor.sdk.bookmarks.BookmarkMenuItem",function(BookmarkMenuItem){function BookmarkMenuItem$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.menu.Item,{});var defaults_$1=AS3.cast(BookmarkMenuItem,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var editor_BookmarkAction_34_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.bookmarks.BookmarkAction,{});AS3.setBindable(editor_BookmarkAction_34_5_$1,"contentValueExpression",AS3.getBindable(config,
"contentValueExpression"));AS3.setBindable(editor_BookmarkAction_34_5_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"contentVariableName")));config_$1.baseAction=new com.coremedia.cms.editor.sdk.bookmarks.BookmarkAction(editor_BookmarkAction_34_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$apzJ(config_$1)}return{extend:"Ext.menu.Item",alias:"widget.com.coremedia.cms.editor.sdk.config.bookmarkMenuItem",constructor:BookmarkMenuItem$,super$apzJ:function(){Ext.menu.Item.prototype.constructor.apply(this,
arguments)},config:{contentValueExpression:null,contentVariableName:null},requires:["Ext.menu.Item","com.coremedia.cms.editor.Editor_properties","com.coremedia.icons.CoreIcons_properties","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.bookmarks.BookmarkAction"]}});Ext.define("com.coremedia.cms.editor.sdk.bookmarks.BookmarkContextMenu",function(BookmarkContextMenu){function BookmarkContextMenu$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.menu.Menu,{});var defaults_$1=AS3.cast(BookmarkContextMenu,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.plain=true;var menuItem_44_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_44_5_$1.itemId=net.jangaroo.ext.Exml.asString(BookmarkContextMenu.RENAME_BOOKMARK);var editor_RenameBookmarkAction_46_9_$1=
AS3.cast(com.coremedia.cms.editor.sdk.bookmarks.RenameBookmarkAction,{});AS3.setBindable(editor_RenameBookmarkAction_46_9_$1,"bookmarkVE",AS3.getBindable(config,"selectedBookmarkVE"));AS3.setBindable(editor_RenameBookmarkAction_46_9_$1,"preventHideMenuVE",AS3.getBindable(config,"preventHideMenuVE"));AS3.setBindable(editor_RenameBookmarkAction_46_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","Bookmark_renameBookmarkAction_menu_text")));
menuItem_44_5_$1.baseAction=new com.coremedia.cms.editor.sdk.bookmarks.RenameBookmarkAction(editor_RenameBookmarkAction_46_9_$1);var menuItem_51_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_51_5_$1.itemId=net.jangaroo.ext.Exml.asString(BookmarkContextMenu.REMOVE_BOOKMARK);var editor_BookmarkAction_53_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.bookmarks.BookmarkAction,{});AS3.setBindable(editor_BookmarkAction_53_9_$1,"contentValueExpression",AS3.getBindable(config,"selectedBookmarkVE").extendBy("content"));
AS3.setBindable(editor_BookmarkAction_53_9_$1,"preventHideMenuVE",AS3.getBindable(config,"preventHideMenuVE"));AS3.setBindable(editor_BookmarkAction_53_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","Bookmark_bookmarkAction_menu_text")));menuItem_51_5_$1.baseAction=new com.coremedia.cms.editor.sdk.bookmarks.BookmarkAction(editor_BookmarkAction_53_9_$1);config_$1.items=[menuItem_44_5_$1,menuItem_51_5_$1];net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$B9dD(config_$1)}return{extend:"Ext.menu.Menu",alias:"widget.com.coremedia.cms.editor.sdk.config.bookmarkContextMenu",constructor:BookmarkContextMenu$,super$B9dD:function(){Ext.menu.Menu.prototype.constructor.apply(this,arguments)},config:{selectedBookmarkVE:null,preventHideMenuVE:null},statics:{RENAME_BOOKMARK:"renameBookmarkItemId",REMOVE_BOOKMARK:"removeBookmarkItemId"},requires:["Ext.menu.Item","Ext.menu.Menu","com.coremedia.cms.editor.Editor_properties","net.jangaroo.ext.Exml"],
uses:["com.coremedia.cms.editor.sdk.bookmarks.BookmarkAction","com.coremedia.cms.editor.sdk.bookmarks.RenameBookmarkAction"]}});Ext.define("com.coremedia.cms.editor.sdk.bookmarks.OpenBookmarkActionBase",function(OpenBookmarkActionBase){function OpenBookmarkActionBase$(config){if(arguments.length<=0)config=null;config["handler"]=AS3.bind(this,"openBookmark$ZlgI");this.content$ZlgI=AS3.getBindable(config,"content");if(!this.content$ZlgI)config["text"]=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","Bookmark_empty_list");else config["text"]=AS3.getBindable(config,"name");this.super$ZlgI(config);
if(!this.content$ZlgI)this.setDisabled(true)}function openBookmark(){if(this.content$ZlgI)if(this.content$ZlgI.isDocument())com.coremedia.cms.editor.sdk.editorContext.getContentTabManager().openDocument(this.content$ZlgI);else com.coremedia.cms.editor.sdk.editorContext.getCollectionViewManager().showInRepository(this.content$ZlgI,com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants.LIST_VIEW)}return{extend:"Ext.Action",content$ZlgI:null,constructor:OpenBookmarkActionBase$,super$ZlgI:function(){Ext.Action.prototype.constructor.apply(this,
arguments)},openBookmark$ZlgI:openBookmark,requires:["Ext.Action","com.coremedia.cms.editor.Editor_properties","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.bookmarks.BookmarkActionBase",function(BookmarkActionBase){function BookmarkActionBase$(config){if(arguments.length<=0)config=null;this.super$jcGe(net.jangaroo.ext.Exml.apply({enableToggle:true,handler:AS3.bind(this,"handle$jcGe")},config));this.tooltipPressed=config.tooltipPressed;this.ariaLabel=config.ariaLabel;this.ariaLabelPressed=config.ariaLabelPressed;this.preventHideMenuVE$jcGe=config.preventHideMenuVE$jcGe;this.neverHide$jcGe=config.neverHide$jcGe;
this.pressedValueExpression$jcGe=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"calculatePressed$jcGe"))}function updateInfo(){var contents=this.getContents();var text=this.isBookmarked(contents[0])?mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","Bookmark_button_remove_text"):mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","Bookmark_button_add_text");var tooltip=this.isBookmarked(contents[0])?
mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","Bookmark_button_remove_tooltip"):mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","Bookmark_button_add_tooltip");this.setText(text);this.setTooltip(tooltip)}function setContents(contents){com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.setContents.call(this,contents)}function isBookmarked(content){return com.coremedia.cms.editor.sdk.bookmarks.BookmarkManager.getInstance().contains(content)}
function isDisabledFor(contents){return contents.length!==1}function calculateHidden(){return!this.neverHide$jcGe&&com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.calculateHidden.call(this)}function calculatePressed(){var content=this.getContent();return content===undefined?undefined:!!content&&com.coremedia.cms.editor.sdk.bookmarks.BookmarkManager.getInstance().contains(content)}function addComponent(comp){var this$=this;com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.addComponent.call(this,
comp);if(comp){com.coremedia.cms.editor.sdk.bookmarks.BookmarkManager.getInstance().getAvailableBookmarksExpression().addChangeListener(AS3.bind(this,"updateInfo$jcGe"));this.getValueExpression().addChangeListener(AS3.bind(this,"updateInfo$jcGe"));comp.on("beforedestroy",function(){com.coremedia.cms.editor.sdk.bookmarks.BookmarkManager.getInstance().getAvailableBookmarksExpression().removeChangeListener(AS3.bind(this$,"updateInfo$jcGe"));this$.getValueExpression().removeChangeListener(AS3.bind(this$,
"updateInfo$jcGe"))})}this.updateComponentPressedState$jcGe(comp,this.calculatePressed$jcGe());if(this.items.length===1)this.pressedValueExpression$jcGe.addChangeListener(AS3.bind(this,"updatePressedState$jcGe"));var pressed=this.pressedValueExpression$jcGe.getValue();if(pressed!==undefined)this.updateComponentPressedState$jcGe(comp,pressed)}function updatePressedState(inheritValueExpression){var this$=this;var pressed=inheritValueExpression.getValue();this.each(function(comp){this$.updateComponentPressedState$jcGe(comp,
pressed)})}function updateComponentPressedState(comp,pressed){var button=AS3.as(comp,Ext.button.Button);if(button){button.toggle(pressed,true);var newTooltip=pressed?this.tooltipPressed:AS3.cast(BookmarkActionBase,this.initialConfig).tooltip;if(newTooltip!==undefined)AS3.setBindable(button,"tooltip",newTooltip);var newAriaLabel=pressed?this.ariaLabelPressed:AS3.cast(BookmarkActionBase,this.initialConfig).ariaLabel;if(newAriaLabel!==undefined)button.ariaLabel=newAriaLabel}}function removeComponent(comp){com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.removeComponent.call(this,
comp);if(this.items.length===0)this.pressedValueExpression$jcGe.removeChangeListener(AS3.bind(this,"updatePressedState$jcGe"))}function handle(){var content=this.getContent();if(content){var bookmarkManager=com.coremedia.cms.editor.sdk.bookmarks.BookmarkManager.getInstance();if(!this.pressedValueExpression$jcGe.getValue())bookmarkManager.applyBookmark(content.getName(),content);else{bookmarkManager.removeBookmark(content);if(this.preventHideMenuVE$jcGe)this.preventHideMenuVE$jcGe.setValue(false)}}this.updateInfo$jcGe()}
return{extend:"com.coremedia.cms.editor.sdk.actions.ContentAction",metadata:{setContents:["InjectFromExtParent",["variableNameConfig","contentVariableName"]]},tooltipPressed:null,ariaLabel:null,ariaLabelPressed:null,neverHide$jcGe:false,preventHideMenuVE$jcGe:null,pressedValueExpression$jcGe:null,constructor:BookmarkActionBase$,super$jcGe:function(){com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.constructor.apply(this,arguments)},updateInfo$jcGe:updateInfo,setContents:setContents,isBookmarked:isBookmarked,
isDisabledFor:isDisabledFor,calculateHidden:calculateHidden,calculatePressed$jcGe:calculatePressed,addComponent:addComponent,updatePressedState$jcGe:updatePressedState,updateComponentPressedState$jcGe:updateComponentPressedState,removeComponent:removeComponent,handle$jcGe:handle,requires:["Ext.button.Button","com.coremedia.cms.editor.sdk.actions.ContentAction","com.coremedia.ui.data.ValueExpressionFactory","mx.resources.ResourceManager","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.bookmarks.BookmarkManager"]}});Ext.define("com.coremedia.cms.editor.sdk.bookmarks.BookmarkManager",function(BookmarkManager){var PREFERENCE_BOOKMARKS$static="bookmarks";var instance$static=null;function getInstance$static(){if(!instance$static){instance$static=new BookmarkManager;instance$static.loadBookmarks$Ma5C()}return instance$static}function getBookmarkedContentExpression(){if(!this.bookmarkedContentExpression$Ma5C)this.bookmarkedContentExpression$Ma5C=com.coremedia.ui.data.ValueExpressionFactory.create("bookmarks",com.coremedia.ui.data.beanFactory.createLocalBean());
return this.bookmarkedContentExpression$Ma5C}function getByUserNamedBookmarksBean(){if(!this.byUserNamedBookmarksBean$Ma5C)this.byUserNamedBookmarksBean$Ma5C=com.coremedia.ui.data.beanFactory.createLocalBean();return this.byUserNamedBookmarksBean$Ma5C}function getByUserNamedBookmarksExpression(){if(!this.byUserNamedBookmarksExpression$Ma5C)this.byUserNamedBookmarksExpression$Ma5C=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(this.getByUserNamedBookmarksBean());return this.byUserNamedBookmarksExpression$Ma5C}
function contains(content){return AS3.as(this.getBookmarkedContentExpression().getValue(),Array).indexOf(content)!==-1}function getAvailableBookmarksExpression(){var this$=this;if(!this.availableBookmarksExpression$Ma5C){this.availableBookmarksExpression$Ma5C=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var result=[];var bmContent=this$.getBookmarkedContentExpression().getValue();var bmRenamed=this$.getByUserNamedBookmarksExpression().getValue();if(bmContent)Ext.each(bmContent,
function(content){try{var name=content.getName();if(name&&!(content.isDeleted()||content.isDestroyed())){if(bmRenamed&&bmRenamed.get(content.getUriPath()))name=bmRenamed.get(content.getUriPath());result.push(new com.coremedia.cms.editor.sdk.bookmarks.Bookmark(name,content))}}catch(e){if(AS3.is(e,AS3.Error))AS3.trace("[ERROR]","Unreadable bookmark: "+content);else throw e;}});return result});this.availableBookmarksExpression$Ma5C.addChangeListener(AS3.bind(this,"saveBookmarks$Ma5C"))}return this.availableBookmarksExpression$Ma5C}
function applyBookmark(name,content){if(content){var oldValue=this.getBookmarkedContentExpression().getValue();if(oldValue){if(!oldValue.some(function(aContent){return content===aContent}))this.getBookmarkedContentExpression().setValue(oldValue.concat(content))}else this.getBookmarkedContentExpression().setValue([content])}}function insertAtOrMoveTo(index,content){if(index<0||index>AS3.as(this.getBookmarkedContentExpression().getValue(),Array).length+1)return false;if(!content||!AS3.is(content,com.coremedia.cap.content.Content))return false;
var oldValue=this.getBookmarkedContentExpression().getValue();var newValue=[];for(var i=0;i<oldValue.length;i++){if(index===i)newValue.push(content);if(!(content.getId()===AS3.as(oldValue[i],com.coremedia.cap.content.Content).getId()))newValue.push(oldValue[i])}if(index===oldValue.length)newValue.push(content);this.getBookmarkedContentExpression().setValue(newValue);return true}function removeBookmark(content){var oldValue=this.getBookmarkedContentExpression().getValue();var newValue=[];for(var i=
0;i<oldValue.length;i++)if(!(content.getUriPath()===AS3.as(oldValue[i],com.coremedia.cap.content.Content).getUriPath()))newValue.push(oldValue[i]);this.getBookmarkedContentExpression().setValue(newValue);this.getByUserNamedBookmarksBean().set(content.getUriPath(),undefined)}function renameBookmark(content,name){var trimPattern=/^\s*|\s*$/gim;var bookmarkNames=this.getByUserNamedBookmarksBean();if(name&&name.replace(trimPattern,"")!=="")if(content.getName()===name)bookmarkNames.set(content.getUriPath(),
undefined);else bookmarkNames.set(content.getUriPath(),name)}function saveBookmarks(){com.coremedia.cms.editor.sdk.util.PreferencesUtil.updatePreferencesJSONProperty(serializeBookmarks$static(this.getAvailableBookmarksExpression().getValue()),PREFERENCE_BOOKMARKS$static)}function serializeBookmarks$static(bookmarks){var result=[];for(var $1=0;$1<bookmarks.length;++$1){var bookmark=bookmarks[$1];var bm={};bm.name=bookmark.getName();bm.content=bookmark.getContent();result.push(bm)}return result}function deserializeBookmarks$static(bookmarks){var result=
[];if(!bookmarks)return result;for(var $1=0;$1<bookmarks.length;++$1){var bm=bookmarks[$1];if(!isBookmark$static(bm))return[];var bookmark=new com.coremedia.cms.editor.sdk.bookmarks.Bookmark(bm.name,bm.content);result.push(bookmark)}return result}function isBookmark$static(o){return o.name&&o.content}function loadBookmarks(){var bookmarkObjects=deserializeBookmarks$static(AS3.as(com.coremedia.cms.editor.sdk.util.PreferencesUtil.getPreferencesJSONProperty({},PREFERENCE_BOOKMARKS$static)||[],Array));
var bookmarkedContent=[];var renamedBookmarks={};if(bookmarkObjects&&bookmarkObjects.length>0)for(var $1=0;$1<bookmarkObjects.length;++$1){var bm=bookmarkObjects[$1];renamedBookmarks[bm.getContent().getUriPath()]=bm.getName();bookmarkedContent.push(bm.getContent())}else bookmarkedContent=AS3.as(com.coremedia.cms.editor.sdk.util.PreferencesUtil.getPreferencesJSONProperty(AS3.bind(this,"decodeBookmarks$Ma5C"),PREFERENCE_BOOKMARKS$static)||[],Array);this.getByUserNamedBookmarksBean().updateProperties(renamedBookmarks);
this.getBookmarkedContentExpression().setValue(bookmarkedContent)}function decodeBookmarks(value){var valueString=AS3.as(value,String);if(!valueString)return undefined;var result=[];valueString.split(" ").forEach(function(item){var contentId=item.substr(0,item.indexOf("."));if(contentId&&contentId.length>0){var bookmarkContent=AS3.as(com.coremedia.ui.data.beanFactory.getRemoteBean("content/"+contentId),com.coremedia.cap.content.Content);if(bookmarkContent)result.push(bookmarkContent)}});return result}
function BookmarkManager$(){}return{bookmarkedContentExpression$Ma5C:null,byUserNamedBookmarksBean$Ma5C:null,byUserNamedBookmarksExpression$Ma5C:null,availableBookmarksExpression$Ma5C:null,getBookmarkedContentExpression:getBookmarkedContentExpression,getByUserNamedBookmarksBean:getByUserNamedBookmarksBean,getByUserNamedBookmarksExpression:getByUserNamedBookmarksExpression,contains:contains,getAvailableBookmarksExpression:getAvailableBookmarksExpression,applyBookmark:applyBookmark,insertAtOrMoveTo:insertAtOrMoveTo,
removeBookmark:removeBookmark,renameBookmark:renameBookmark,saveBookmarks$Ma5C:saveBookmarks,loadBookmarks$Ma5C:loadBookmarks,decodeBookmarks$Ma5C:decodeBookmarks,constructor:BookmarkManager$,statics:{getInstance:getInstance$static},requires:["AS3.Error","AS3.trace","Ext","com.coremedia.cap.content.Content","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.beanFactory"],uses:["com.coremedia.cms.editor.sdk.bookmarks.Bookmark","com.coremedia.cms.editor.sdk.util.PreferencesUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.bookmarks.BookmarkButtonMenuItem",function(BookmarkButtonMenuItem){function BookmarkButtonMenuItem$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.bookmarks.BookmarkButtonMenuItemBase,{});var defaults_$1=AS3.cast(BookmarkButtonMenuItem,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var editor_OpenBookmarkAction_23_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.bookmarks.OpenBookmarkAction,{});AS3.setBindable(editor_OpenBookmarkAction_23_5_$1,
"content",AS3.getBindable(config,"bookmark").getContent());AS3.setBindable(editor_OpenBookmarkAction_23_5_$1,"name",net.jangaroo.ext.Exml.asString(com.coremedia.ui.util.EncodingUtil.encodeForHTML(AS3.getBindable(config,"bookmark").getName())));AS3.setBindable(editor_OpenBookmarkAction_23_5_$1,"iconCls",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.getIconStyleClassForContentTypeName(AS3.getBindable(config,"bookmark").getContent().getType().getName())));config_$1.baseAction=
new com.coremedia.cms.editor.sdk.bookmarks.OpenBookmarkAction(editor_OpenBookmarkAction_23_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$mWFb(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.bookmarks.BookmarkButtonMenuItemBase",alias:"widget.com.coremedia.cms.editor.sdk.config.bookmarkButtonMenuItem",constructor:BookmarkButtonMenuItem$,super$mWFb:function(){com.coremedia.cms.editor.sdk.bookmarks.BookmarkButtonMenuItemBase.prototype.constructor.apply(this,arguments)},config:{bookmark:null},
requires:["com.coremedia.cms.editor.sdk.bookmarks.BookmarkButtonMenuItemBase","com.coremedia.ui.util.EncodingUtil","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.bookmarks.OpenBookmarkAction","com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.bookmarks.BookmarkFavouritesToolbarButton",function(BookmarkFavouritesToolbarButton){function __initialize__(config){this.bookmarks$z75Y=com.coremedia.cms.editor.sdk.bookmarks.BookmarkManager.getInstance().getAvailableBookmarksExpression()}function BookmarkFavouritesToolbarButton$(config){if(arguments.length<=0)config=null;this.__initialize__$z75Y(config);var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.bookmarks.BookmarkFavouritesToolbarButtonBase,{});
var defaults_$1=AS3.cast(BookmarkFavouritesToolbarButton,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","BookmarksMenuButton_label")));AS3.setBindable(config_$1,"iconAlign","top");config_$1["id"]=BookmarkFavouritesToolbarButton.COMPONENT_ID;AS3.setBindable(config_$1,"scale","medium");AS3.setBindable(config_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"BookmarksMenuButton_icon")));config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.HIGHLIGHT.getSkin());config_$1.menuAlign="tr";var menu_45_5_$1=AS3.cast(Ext.menu.Menu,{});menu_45_5_$1["id"]="bookmarkMenu";AS3.setBindable(menu_45_5_$1,"style","max-height: 70%;overflow-y: auto");menu_45_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.MenuSkin.SIDE.getSkin());var ui_BindComponentsPlugin_49_9_$1=AS3.cast(com.coremedia.ui.plugins.BindComponentsPlugin,{});AS3.setBindable(ui_BindComponentsPlugin_49_9_$1,
"configBeanParameterName","bookmark");AS3.setBindable(ui_BindComponentsPlugin_49_9_$1,"clearBeforeUpdate",true);AS3.setBindable(ui_BindComponentsPlugin_49_9_$1,"reuseComponents",false);AS3.setBindable(ui_BindComponentsPlugin_49_9_$1,"valueExpression",this.bookmarks$z75Y);AS3.setBindable(ui_BindComponentsPlugin_49_9_$1,"getKey",function(bm){return bm.getContent().getUriPath()});var editor_BookmarkButtonMenuItem_55_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.bookmarks.BookmarkButtonMenuItem,{});AS3.setBindable(ui_BindComponentsPlugin_49_9_$1,
"template",editor_BookmarkButtonMenuItem_55_13_$1);var ui_BindPlugin_58_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPlugin,{});ui_BindPlugin_58_9_$1.bindTo=this.bookmarks$z75Y;ui_BindPlugin_58_9_$1.boundValueChanged=com.coremedia.cms.editor.sdk.bookmarks.BookmarkFavouritesToolbarButtonBase.addDummyMenuItemWhenEmpty;menu_45_5_$1.plugins=[ui_BindComponentsPlugin_49_9_$1,ui_BindPlugin_58_9_$1];menu_45_5_$1.items=[];config_$1.menu=menu_45_5_$1;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$z75Y(config_$1)}
return{extend:"com.coremedia.cms.editor.sdk.bookmarks.BookmarkFavouritesToolbarButtonBase",alias:"widget.com.coremedia.cms.editor.sdk.config.bookmarkFavouritesToolbarButton",bookmarks$z75Y:null,__initialize__$z75Y:__initialize__,constructor:BookmarkFavouritesToolbarButton$,super$z75Y:function(){com.coremedia.cms.editor.sdk.bookmarks.BookmarkFavouritesToolbarButtonBase.prototype.constructor.apply(this,arguments)},config:{contextMenu:null},statics:{COMPONENT_ID:"bookmarksMenuButton"},requires:["Ext.menu.Menu",
"com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.bookmarks.BookmarkFavouritesToolbarButtonBase","com.coremedia.ui.plugins.BindComponentsPlugin","com.coremedia.ui.plugins.BindPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.MenuSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.bookmarks.BookmarkButtonMenuItem","com.coremedia.cms.editor.sdk.bookmarks.BookmarkManager"]}});Ext.define("com.coremedia.cms.editor.sdk.bookmarks.RenameBookmarkAction",function(RenameBookmarkAction){function RenameBookmarkAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.bookmarks.RenameBookmarkActionBase,{});var defaults_$1=AS3.cast(RenameBookmarkAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$5szL(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.bookmarks.RenameBookmarkActionBase",
constructor:RenameBookmarkAction$,super$5szL:function(){com.coremedia.cms.editor.sdk.bookmarks.RenameBookmarkActionBase.prototype.constructor.apply(this,arguments)},config:{bookmarkVE:null,preventHideMenuVE:null},requires:["com.coremedia.cms.editor.sdk.bookmarks.RenameBookmarkActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.bookmarks.BookmarkAction",function(BookmarkAction){function BookmarkAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.bookmarks.BookmarkActionBase,{});var defaults_$1=AS3.cast(BookmarkAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"iconCls",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.icons.CoreIcons","star")));
AS3.setBindable(config_$1,"text",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","Bookmark_toggle_text")));AS3.setBindable(config_$1,"tooltip",mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","Bookmark_button_add_tooltip"));config_$1.tooltipPressed=net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","Bookmark_button_remove_tooltip"));
config_$1.ariaLabel=net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","Bookmark_button_add_text"));config_$1.ariaLabelPressed=net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","Bookmark_button_remove_text"));net.jangaroo.ext.Exml.apply(config_$1,config);this.super$yXot(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.bookmarks.BookmarkActionBase",constructor:BookmarkAction$,
super$yXot:function(){com.coremedia.cms.editor.sdk.bookmarks.BookmarkActionBase.prototype.constructor.apply(this,arguments)},config:{preventHideMenuVE:null,handleBookmark:null,neverHide:false},statics:{ACTION_ID:"bookmarkAction"},requires:["com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.bookmarks.BookmarkActionBase","com.coremedia.icons.CoreIcons_properties","mx.resources.ResourceManager","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.bookmarks.BookmarkDragZone",function(BookmarkDragZone){function BookmarkDragZone$(bookmarkMenuItem,contentVE){this.bookMarkMenuItem$RGr1=bookmarkMenuItem;this.contentValueExpression$RGr1=contentVE;this.super$RGr1(bookmarkMenuItem.getEl(),AS3.cast(Ext.dd.DragZone,{ddGroup:"ContentLinkDD",scroll:false}));delete this.invalidHandleTypes["A"]}function getContent(){return this.contentValueExpression$RGr1.getValue()}function getDragData(e){var ddel=window.document.createElement("div");
ddel.innerHTML=com.coremedia.cms.editor.sdk.dragdrop.DragDropVisualFeedback.getHtmlFeedback([this.getContent()]);return{contents:[this.getContent()],draggedItem:this.bookMarkMenuItem$RGr1,copy:true,ddel:ddel}}function getRepairXY(e){return this.dragData.repairXY}return{extend:"Ext.dd.DragZone",bookMarkMenuItem$RGr1:null,contentValueExpression$RGr1:null,constructor:BookmarkDragZone$,super$RGr1:function(){Ext.dd.DragZone.prototype.constructor.apply(this,arguments)},getContent:getContent,getDragData:getDragData,
getRepairXY:getRepairXY,requires:["Ext.dd.DragZone"],uses:["com.coremedia.cms.editor.sdk.dragdrop.DragDropVisualFeedback"]}});Ext.define("com.coremedia.cms.editor.sdk.bulkOperation.BulkResultItemSet",function(BulkResultItemSet){function BulkResultItemSet$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.bulkOperation.BulkResultItemSetBase,{});var defaults_$1=AS3.cast(BulkResultItemSet,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var editor_SimpleContentList_19_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.components.SimpleContentList,{});editor_SimpleContentList_19_5_$1.itemId=
net.jangaroo.ext.Exml.asString(BulkResultItemSet.CONTENT_LIST_ITEM_ID);AS3.setBindable(editor_SimpleContentList_19_5_$1,"contentPropertyPath","content");AS3.setBindable(editor_SimpleContentList_19_5_$1,"showApproveContextMenuItem",AS3.getBindable(config,"showPublisherMenuItems"));AS3.setBindable(editor_SimpleContentList_19_5_$1,"showPublishContextMenuItem",AS3.getBindable(config,"showPublisherMenuItems"));AS3.setBindable(editor_SimpleContentList_19_5_$1,"showWithdrawContextMenuItem",AS3.getBindable(config,
"showPublisherMenuItems"));AS3.setBindable(editor_SimpleContentList_19_5_$1,"contentList",com.coremedia.ui.data.ValueExpressionFactory.createFromValue(AS3.getBindable(config,"resultItems")));config_$1.items=[editor_SimpleContentList_19_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$mU5j(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.bulkOperation.BulkResultItemSetBase",alias:"widget.com.coremedia.cms.editor.sdk.config.bulkResultItemSet",constructor:BulkResultItemSet$,super$mU5j:function(){com.coremedia.cms.editor.sdk.bulkOperation.BulkResultItemSetBase.prototype.constructor.apply(this,
arguments)},statics:{CONTENT_LIST_ITEM_ID:"contentList"},requires:["com.coremedia.cms.editor.sdk.bulkOperation.BulkResultItemSetBase","com.coremedia.ui.data.ValueExpressionFactory","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.components.SimpleContentList"]}});Ext.define("com.coremedia.cms.editor.sdk.bulkOperation.ApproveResultWindow",function(ApproveResultWindow){function ApproveResultWindow$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.bulkOperation.BulkResultWindow,{});var defaults_$1=AS3.cast(ApproveResultWindow,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"bulkResultItems",AS3.getBindable(config,"bulkResultItems"));AS3.setBindable(config_$1,"resourceBundle",this.resourceManager.getResourceBundle(null,
"com.coremedia.cms.editor.sdk.bulkOperation.BulkApprove").content);AS3.setBindable(config_$1,"errorCodes",[com.coremedia.cap.content.results.ApproveResultCodes.DOCUMENT_NO_RIGHTS,com.coremedia.cap.content.results.ApproveResultCodes.FOLDER_NO_RIGHTS,com.coremedia.cap.content.results.ApproveResultCodes.DOCUMENT_NOT_VALID,com.coremedia.cap.content.results.ApproveResultCodes.FOLDER_NOT_VALID,com.coremedia.cap.content.results.ApproveResultCodes.DOCUMENT_DELETED,com.coremedia.cap.content.results.ApproveResultCodes.FOLDER_DELETED,
com.coremedia.cap.content.results.ApproveResultCodes.DOCUMENT_CHECKED_OUT_BY_OTHER]);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$ROy7(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.bulkOperation.BulkResultWindow",alias:"widget.com.coremedia.cms.editor.sdk.config.approveResultWindow",constructor:ApproveResultWindow$,super$ROy7:function(){com.coremedia.cms.editor.sdk.bulkOperation.BulkResultWindow.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cap.content.results.ApproveResultCodes",
"com.coremedia.cms.editor.sdk.bulkOperation.BulkApprove_properties","com.coremedia.cms.editor.sdk.bulkOperation.BulkResultWindow","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.bulkOperation.BulkResultItemSetBase",function(BulkResultItemSetBase){function BulkResultItemSetBase$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.CollapsiblePanel,{});var defaults_$1=AS3.cast(BulkResultItemSetBase,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"multilineTitle",true);AS3.setBindable(config_$1,"title",Ext.String.format(AS3.getBindable(config,"resourceBundle")[Ext.String.format(AS3.getBindable(config,
"resourcePrefix")+"_error_{0}_{1}_text",AS3.getBindable(config,"resultCode"),AS3.getBindable(config,"resultItems").length===1?"sg":"pl")],AS3.getBindable(config,"resultItems").length));net.jangaroo.ext.Exml.apply(config_$1,config);this.super$2DtU(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.CollapsiblePanel",alias:"widget.com.coremedia.cms.editor.sdk.config.bulkResultItemSetBase",constructor:BulkResultItemSetBase$,super$2DtU:function(){com.coremedia.cms.editor.sdk.premular.CollapsiblePanel.prototype.constructor.apply(this,
arguments)},config:{resultCode:null,resultItems:null,resourceBundle:null,resourcePrefix:null,showPublisherMenuItems:false},statics:{CONTENT_LIST_ITEM_ID:"contentList"},requires:["Ext.String","com.coremedia.cms.editor.sdk.premular.CollapsiblePanel","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.bulkOperation.UndeleteResultWindow",function(UndeleteResultWindow){function UndeleteResultWindow$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.bulkOperation.BulkResultWindow,{});var defaults_$1=AS3.cast(UndeleteResultWindow,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"bulkResultItems",AS3.getBindable(config,"bulkResultItems"));AS3.setBindable(config_$1,"resourceBundle",
this.resourceManager.getResourceBundle(null,"com.coremedia.cms.editor.sdk.bulkOperation.BulkUndelete").content);AS3.setBindable(config_$1,"errorCodes",[com.coremedia.cap.content.results.UndeleteResultCodes.DOCUMENT_UNDELETED,com.coremedia.cap.content.results.UndeleteResultCodes.FOLDER_UNDELETED,com.coremedia.cap.content.results.UndeleteResultCodes.DOCUMENT_ALREADY_UNDELETED,com.coremedia.cap.content.results.UndeleteResultCodes.FOLDER_ALREADY_UNDELETED,com.coremedia.cap.content.results.UndeleteResultCodes.DOCUMENT_FAILED,
com.coremedia.cap.content.results.UndeleteResultCodes.FOLDER_FAILED,{resultCode:com.coremedia.cap.content.results.UndeleteResultCodes.DOCUMENT_DUPLICATE_NAME,mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_BEFORE_IMPEDIMENT_MODE},{resultCode:com.coremedia.cap.content.results.UndeleteResultCodes.FOLDER_DUPLICATE_NAME,mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_BEFORE_IMPEDIMENT_MODE},com.coremedia.cap.content.results.UndeleteResultCodes.DOCUMENT_NO_RIGHTS,
com.coremedia.cap.content.results.UndeleteResultCodes.FOLDER_NO_RIGHTS,com.coremedia.cap.content.results.UndeleteResultCodes.DOCUMENT_PARENT_DELETED,com.coremedia.cap.content.results.UndeleteResultCodes.FOLDER_PARENT_DELETED]);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$n0i4(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.bulkOperation.BulkResultWindow",alias:"widget.com.coremedia.cms.editor.sdk.config.undeleteResultWindow",constructor:UndeleteResultWindow$,super$n0i4:function(){com.coremedia.cms.editor.sdk.bulkOperation.BulkResultWindow.prototype.constructor.apply(this,
arguments)},requires:["com.coremedia.cap.content.results.UndeleteResultCodes","com.coremedia.cms.editor.sdk.bulkOperation.BulkResultWindow","com.coremedia.cms.editor.sdk.bulkOperation.BulkUndelete_properties","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase"]}});Ext.define("com.coremedia.cms.editor.sdk.bulkOperation.CheckInResultWindow",function(CheckInResultWindow){function CheckInResultWindow$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.bulkOperation.BulkResultWindow,{});var defaults_$1=AS3.cast(CheckInResultWindow,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"bulkResultItems",AS3.getBindable(config,"bulkResultItems"));AS3.setBindable(config_$1,"resourceBundle",this.resourceManager.getResourceBundle(null,
"com.coremedia.cms.editor.sdk.bulkOperation.BulkCheckIn").content);AS3.setBindable(config_$1,"errorCodes",[com.coremedia.cap.content.results.CheckInResultCodes.DOCUMENT_NOT_VALID,com.coremedia.cap.content.results.CheckInResultCodes.DOCUMENT_NO_RIGHTS,com.coremedia.cap.content.results.CheckInResultCodes.DOCUMENT_CHECKED_OUT_BY_OTHER,com.coremedia.cap.content.results.CheckInResultCodes.FOLDER_CANNOT_CHECK_IN]);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$YzW7(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.bulkOperation.BulkResultWindow",
alias:"widget.com.coremedia.cms.editor.sdk.config.checkInResultWindow",constructor:CheckInResultWindow$,super$YzW7:function(){com.coremedia.cms.editor.sdk.bulkOperation.BulkResultWindow.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cap.content.results.CheckInResultCodes","com.coremedia.cms.editor.sdk.bulkOperation.BulkCheckIn_properties","com.coremedia.cms.editor.sdk.bulkOperation.BulkResultWindow","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanel",function(BulkResultPanel){function BulkResultPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase,{});var defaults_$1=AS3.cast(BulkResultPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"scrollable","y");var ui_VerticalSpacingPlugin_19_5_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});AS3.setBindable(ui_VerticalSpacingPlugin_19_5_$1,
"modifier",com.coremedia.ui.bem.SpacingBEMEntities.VERTICAL_SPACING_MODIFIER_200);config_$1.plugins=[ui_VerticalSpacingPlugin_19_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$PWwY(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase",alias:"widget.com.coremedia.cms.editor.sdk.config.bulkResultPanel",constructor:BulkResultPanel$,super$PWwY:function(){com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.prototype.constructor.apply(this,
arguments)},requires:["com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase","com.coremedia.ui.bem.SpacingBEMEntities","com.coremedia.ui.plugins.VerticalSpacingPlugin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.bulkOperation.DisapproveResultWindow",function(DisapproveResultWindow){function DisapproveResultWindow$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.bulkOperation.BulkResultWindow,{});var defaults_$1=AS3.cast(DisapproveResultWindow,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"bulkResultItems",AS3.getBindable(config,"bulkResultItems"));AS3.setBindable(config_$1,"resourceBundle",
this.resourceManager.getResourceBundle(null,"com.coremedia.cms.editor.sdk.bulkOperation.BulkDisapprove").content);AS3.setBindable(config_$1,"errorCodes",[com.coremedia.cap.content.results.DisapproveResultCodes.DOCUMENT_ALREADY_PUBLISHED,com.coremedia.cap.content.results.DisapproveResultCodes.FOLDER_ALREADY_PUBLISHED,com.coremedia.cap.content.results.DisapproveResultCodes.DOCUMENT_DELETED,com.coremedia.cap.content.results.DisapproveResultCodes.DOCUMENT_NO_RIGHTS,com.coremedia.cap.content.results.DisapproveResultCodes.FOLDER_NO_RIGHTS]);
net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Z9y$(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.bulkOperation.BulkResultWindow",alias:"widget.com.coremedia.cms.editor.sdk.config.disapproveResultWindow",constructor:DisapproveResultWindow$,super$Z9y$:function(){com.coremedia.cms.editor.sdk.bulkOperation.BulkResultWindow.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cap.content.results.DisapproveResultCodes","com.coremedia.cms.editor.sdk.bulkOperation.BulkDisapprove_properties",
"com.coremedia.cms.editor.sdk.bulkOperation.BulkResultWindow","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase",function(BulkResultPanelBase){function BulkResultPanelBase$(config){if(arguments.length<=0)config=null;this.super$kMYJ(config)}function indexResultSetsByResultCode(){var alreadyProcessed={};var resultSetsByResultCode={};AS3.getBindable(this,"bulkResultItems").forEach(function(resultItem){var key=resultItem.resultCode+"|"+(resultItem.content?resultItem.content.getUriPath():"")+"|"+(resultItem.impediment?resultItem.impediment.getUriPath():
"");if(!alreadyProcessed[key]){alreadyProcessed[key]=true;var resultCode=resultItem.resultCode;if(!(resultCode in resultSetsByResultCode))resultSetsByResultCode[resultCode]=[];AS3.as(resultSetsByResultCode[resultCode],Array).push(resultItem)}});return resultSetsByResultCode}function initComponent(){var this$=this;Ext.panel.Panel.prototype.initComponent.call(this);var resultSetsByResultCode=this.indexResultSetsByResultCode$kMYJ();var messageCount=this.getMessageCount$kMYJ(resultSetsByResultCode);if(AS3.getBindable(this,
"titlePattern")){var title=Ext.String.format(AS3.getBindable(this,"titlePattern"),messageCount);AS3.setBindable(this,"title",title);this.setTitle(title)}if(AS3.getBindable(this,"emptyListPanel")&&messageCount===0){this.add(AS3.getBindable(this,"emptyListPanel"));return}var collapse=false;AS3.getBindable(this,"sectionSpecs").forEach(function(sectionSpec){var resultCode=getResultCode$static(sectionSpec);var mode=getMode$static(sectionSpec);var resultSet=resultSetsByResultCode[resultCode];if(resultSet){var resultSetConfig;
if(mode===BulkResultPanelBase.CONTENT_MODE)resultSetConfig=AS3.cast(com.coremedia.cms.editor.sdk.bulkOperation.BulkResultItemSet,{});else{var pairResultSetConfig=AS3.cast(com.coremedia.cms.editor.sdk.bulkOperation.PairBulkResultItemSet,{});if(mode===BulkResultPanelBase.CONTENT_BEFORE_IMPEDIMENT_MODE){AS3.setBindable(pairResultSetConfig,"leftPropertyPath","content");AS3.setBindable(pairResultSetConfig,"rightPropertyPath","impediment")}else{AS3.setBindable(pairResultSetConfig,"leftPropertyPath","impediment");
AS3.setBindable(pairResultSetConfig,"rightPropertyPath","content")}resultSetConfig=pairResultSetConfig}AS3.setBindable(resultSetConfig,"resourceBundle",AS3.getBindable(this$,"resourceBundle"));AS3.setBindable(resultSetConfig,"resourcePrefix",AS3.getBindable(this$,"resourcePrefix"));AS3.setBindable(resultSetConfig,"showPublisherMenuItems",AS3.getBindable(this$,"showPublisherMenuItems"));resultSetConfig.itemId=resultCode;AS3.setBindable(resultSetConfig,"resultCode",resultCode);AS3.setBindable(resultSetConfig,
"resultItems",resultSet);AS3.setBindable(resultSetConfig,"collapsed",collapse);collapse=true;this$.add(resultSetConfig)}})}function getMessageCount(resultSetsByResultCode){var messageCount=0;AS3.getBindable(this,"sectionSpecs").forEach(function(sectionSpec){var resultCode=getResultCode$static(sectionSpec);var resultSet=resultSetsByResultCode[resultCode];if(resultSet)messageCount+=resultSet.length});return messageCount}function getResultCode$static(sectionSpec){return Ext.isString(sectionSpec)?String(sectionSpec):
sectionSpec.resultCode}function getMode$static(sectionSpec){return Ext.isString(sectionSpec)?BulkResultPanelBase.CONTENT_MODE:sectionSpec.mode}return{extend:"Ext.panel.Panel",constructor:BulkResultPanelBase$,super$kMYJ:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},indexResultSetsByResultCode$kMYJ:indexResultSetsByResultCode,initComponent:initComponent,getMessageCount$kMYJ:getMessageCount,config:{bulkResultItems:null,sectionSpecs:null,resourceBundle:null,resourcePrefix:null,
titlePattern:null,emptyListPanel:null,showPublisherMenuItems:true},statics:{CONTENT_MODE:"Content",CONTENT_BEFORE_IMPEDIMENT_MODE:"ContentBeforeImpediment",CONTENT_AFTER_IMPEDIMENT_MODE:"ContentAfterImpediment"},requires:["Ext","Ext.String","Ext.panel.Panel"],uses:["com.coremedia.cms.editor.sdk.bulkOperation.BulkResultItemSet","com.coremedia.cms.editor.sdk.bulkOperation.PairBulkResultItemSet"]}});Ext.define("com.coremedia.cms.editor.sdk.bulkOperation.RevertResultWindow",function(RevertResultWindow){function RevertResultWindow$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.bulkOperation.BulkResultWindow,{});var defaults_$1=AS3.cast(RevertResultWindow,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"bulkResultItems",AS3.getBindable(config,"bulkResultItems"));AS3.setBindable(config_$1,"resourceBundle",this.resourceManager.getResourceBundle(null,
"com.coremedia.cms.editor.sdk.bulkOperation.BulkRevert").content);AS3.setBindable(config_$1,"errorCodes",[com.coremedia.cap.content.results.RevertResultCodes.DOCUMENT_NO_RIGHTS,com.coremedia.cap.content.results.RevertResultCodes.DOCUMENT_CHECKED_OUT_BY_OTHER,com.coremedia.cap.content.results.RevertResultCodes.FOLDER_CANNOT_REVERT]);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$lOWa(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.bulkOperation.BulkResultWindow",alias:"widget.com.coremedia.cms.editor.sdk.config.revertResultWindow",
constructor:RevertResultWindow$,super$lOWa:function(){com.coremedia.cms.editor.sdk.bulkOperation.BulkResultWindow.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cap.content.results.RevertResultCodes","com.coremedia.cms.editor.sdk.bulkOperation.BulkResultWindow","com.coremedia.cms.editor.sdk.bulkOperation.BulkRevert_properties","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.bulkOperation.CopyResultWindow",function(CopyResultWindow){function CopyResultWindow$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.bulkOperation.BulkResultWindow,{});var defaults_$1=AS3.cast(CopyResultWindow,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"bulkResultItems",AS3.getBindable(config,"bulkResultItems"));AS3.setBindable(config_$1,"resourceBundle",this.resourceManager.getResourceBundle(null,
"com.coremedia.cms.editor.sdk.bulkOperation.BulkCopy").content);AS3.setBindable(config_$1,"errorCodes",[com.coremedia.cap.content.results.CopyResultCodes.CONTENT_DUPLICATE_NAME,com.coremedia.cap.content.results.CopyResultCodes.CONTENT_FAILED,com.coremedia.cap.content.results.CopyResultCodes.CONTENT_INVALID_NAME,com.coremedia.cap.content.results.CopyResultCodes.CONTENT_NO_READ_RIGHTS,com.coremedia.cap.content.results.CopyResultCodes.CONTENT_NO_RIGHTS,com.coremedia.cap.content.results.CopyResultCodes.CONTENT_TARGET_DELETED,
com.coremedia.cap.content.results.CopyResultCodes.CONTENT_TARGET_TO_BE_DELETED]);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$pKpr(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.bulkOperation.BulkResultWindow",alias:"widget.com.coremedia.cms.editor.sdk.config.copyResultWindow",constructor:CopyResultWindow$,super$pKpr:function(){com.coremedia.cms.editor.sdk.bulkOperation.BulkResultWindow.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cap.content.results.CopyResultCodes",
"com.coremedia.cms.editor.sdk.bulkOperation.BulkCopy_properties","com.coremedia.cms.editor.sdk.bulkOperation.BulkResultWindow","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.bulkOperation.BulkResultWindow",function(BulkResultWindow){function BulkResultWindow$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.bulkOperation.BulkResultWindowBase,{});var defaults_$1=AS3.cast(BulkResultWindow,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"title",AS3.getBindable(config,"resourceBundle")["bulkResult_error_window_title"]);config_$1.stateId="bulkResultWindowState";
AS3.setBindable(config_$1,"stateful",true);AS3.setBindable(config_$1,"width",600);AS3.setBindable(config_$1,"height",this.computeHeight(AS3.getBindable(config,"bulkResultItems")));config_$1.resizable=true;config_$1.constrainHeader=true;AS3.setBindable(config_$1,"scrollable",true);var editor_BulkResultPanel_52_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanel,{});editor_BulkResultPanel_52_5_$1.itemId=net.jangaroo.ext.Exml.asString(BulkResultWindow.ERRORS_PANEL_ITEM_ID);AS3.setBindable(editor_BulkResultPanel_52_5_$1,
"bulkResultItems",AS3.getBindable(config,"bulkResultItems"));AS3.setBindable(editor_BulkResultPanel_52_5_$1,"sectionSpecs",AS3.getBindable(config,"errorCodes"));AS3.setBindable(editor_BulkResultPanel_52_5_$1,"resourceBundle",AS3.getBindable(config,"resourceBundle"));AS3.setBindable(editor_BulkResultPanel_52_5_$1,"resourcePrefix","bulkResult");AS3.setBindable(editor_BulkResultPanel_52_5_$1,"showPublisherMenuItems",false);config_$1.items=[editor_BulkResultPanel_52_5_$1];var button_60_5_$1=AS3.cast(Ext.button.Button,
{});button_60_5_$1.itemId=net.jangaroo.ext.Exml.asString(BulkResultWindow.OK_BUTTON_ITEM_ID);button_60_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_SECONDARY.getSkin());AS3.setBindable(button_60_5_$1,"scale","small");AS3.setBindable(button_60_5_$1,"text",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"resourceBundle")["bulkResult_error_btn_OK"]));AS3.setBindable(button_60_5_$1,"handler",AS3.bind(this,"close"));config_$1.buttons=[button_60_5_$1];var layout_Anchor_67_5_$1=
AS3.cast(Ext.layout.container.Anchor,{});AS3.setBindable(config_$1,"layout",layout_Anchor_67_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$lciI(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.bulkOperation.BulkResultWindowBase",alias:"widget.com.coremedia.cms.editor.sdk.config.bulkResultWindow",constructor:BulkResultWindow$,super$lciI:function(){com.coremedia.cms.editor.sdk.bulkOperation.BulkResultWindowBase.prototype.constructor.apply(this,arguments)},config:{bulkResultItems:null,
errorCodes:null,resourceBundle:null},statics:{ERRORS_PANEL_ITEM_ID:"errorsPanel",OK_BUTTON_ITEM_ID:"okBtn"},requires:["Ext.button.Button","Ext.layout.container.Anchor","com.coremedia.cms.editor.sdk.bulkOperation.BulkResultWindowBase","com.coremedia.ui.skins.ButtonSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanel"]}});Ext.define("com.coremedia.cms.editor.sdk.bulkOperation.DeleteResultWindow",function(DeleteResultWindow){function DeleteResultWindow$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.bulkOperation.BulkResultWindow,{});var defaults_$1=AS3.cast(DeleteResultWindow,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"bulkResultItems",AS3.getBindable(config,"bulkResultItems"));AS3.setBindable(config_$1,"resourceBundle",this.resourceManager.getResourceBundle(null,
"com.coremedia.cms.editor.sdk.bulkOperation.BulkDelete").content);AS3.setBindable(config_$1,"errorCodes",[com.coremedia.cap.content.results.DeleteResultCodes.FOLDER_NOT_EMPTY,com.coremedia.cap.content.results.DeleteResultCodes.DOCUMENT_NO_RIGHTS,com.coremedia.cap.content.results.DeleteResultCodes.FOLDER_NO_RIGHTS,com.coremedia.cap.content.results.DeleteResultCodes.DOCUMENT_STILL_PUBLISHED,com.coremedia.cap.content.results.DeleteResultCodes.FOLDER_STILL_PUBLISHED,com.coremedia.cap.content.results.DeleteResultCodes.DOCUMENT_CHECKED_OUT_BY_OTHER]);
net.jangaroo.ext.Exml.apply(config_$1,config);this.super$7h5h(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.bulkOperation.BulkResultWindow",alias:"widget.com.coremedia.cms.editor.sdk.config.deleteResultWindow",constructor:DeleteResultWindow$,super$7h5h:function(){com.coremedia.cms.editor.sdk.bulkOperation.BulkResultWindow.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cap.content.results.DeleteResultCodes","com.coremedia.cms.editor.sdk.bulkOperation.BulkDelete_properties",
"com.coremedia.cms.editor.sdk.bulkOperation.BulkResultWindow","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.bulkOperation.MoveResultWindow",function(MoveResultWindow){function MoveResultWindow$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.bulkOperation.BulkResultWindow,{});var defaults_$1=AS3.cast(MoveResultWindow,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"bulkResultItems",AS3.getBindable(config,"bulkResultItems"));AS3.setBindable(config_$1,"resourceBundle",this.resourceManager.getResourceBundle(null,
"com.coremedia.cms.editor.sdk.bulkOperation.BulkMove").content);AS3.setBindable(config_$1,"errorCodes",[com.coremedia.cap.content.results.MoveResultCodes.CONTENT_DUPLICATE_NAME,com.coremedia.cap.content.results.MoveResultCodes.CONTENT_MOVE_TO_OTHER_BASE_FOLDER,com.coremedia.cap.content.results.MoveResultCodes.CONTENT_NO_RIGHTS,com.coremedia.cap.content.results.MoveResultCodes.CONTENT_NO_RIGHTS_ON_TARGET,com.coremedia.cap.content.results.MoveResultCodes.CONTENT_TARGET_DELETED,com.coremedia.cap.content.results.MoveResultCodes.CONTENT_TARGET_TO_BE_DELETED,
com.coremedia.cap.content.results.MoveResultCodes.CONTENT_UNCHANGED,com.coremedia.cap.content.results.MoveResultCodes.CONTENT_TARGET_IS_DESCENDANT]);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$TYzH(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.bulkOperation.BulkResultWindow",alias:"widget.com.coremedia.cms.editor.sdk.config.moveResultWindow",constructor:MoveResultWindow$,super$TYzH:function(){com.coremedia.cms.editor.sdk.bulkOperation.BulkResultWindow.prototype.constructor.apply(this,
arguments)},requires:["com.coremedia.cap.content.results.MoveResultCodes","com.coremedia.cms.editor.sdk.bulkOperation.BulkMove_properties","com.coremedia.cms.editor.sdk.bulkOperation.BulkResultWindow","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.bulkOperation.BulkResultWindowBase",function(BulkResultWindowBase){function BulkResultWindowBase$(config){if(arguments.length<=0)config=null;this.super$hWq3(config)}function computeHeight(bulkResultItems){var codes={};var codeCount=0;bulkResultItems.forEach(function(item){if(!codes[item.resultCode]){codeCount++;codes[item.resultCode]=true}});return Math.min(400,Math.max(200,75+22*bulkResultItems.length+83*codeCount))}return{extend:"com.coremedia.cms.editor.sdk.components.StudioDialog",
constructor:BulkResultWindowBase$,super$hWq3:function(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.constructor.apply(this,arguments)},computeHeight:computeHeight,requires:["com.coremedia.cms.editor.sdk.components.StudioDialog"]}});Ext.define("com.coremedia.cms.editor.sdk.bulkOperation.PairBulkResultItemSet",function(PairBulkResultItemSet){function PairBulkResultItemSet$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.bulkOperation.BulkResultItemSetBase,{});var defaults_$1=AS3.cast(PairBulkResultItemSet,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var container_36_5_$1=AS3.cast(Ext.container.Container,{});var editor_SimpleContentList_38_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.components.SimpleContentList,
{});editor_SimpleContentList_38_9_$1.itemId=net.jangaroo.ext.Exml.asString(PairBulkResultItemSet.LEFT_LIST_ITEM_ID);AS3.setBindable(editor_SimpleContentList_38_9_$1,"contentPropertyPath",net.jangaroo.ext.Exml.asString(config["leftPropertyPath"]));editor_SimpleContentList_38_9_$1["columnWidth"]=.5;AS3.setBindable(editor_SimpleContentList_38_9_$1,"showApproveContextMenuItem",AS3.getBindable(config,"showPublisherMenuItems"));AS3.setBindable(editor_SimpleContentList_38_9_$1,"showPublishContextMenuItem",
AS3.getBindable(config,"showPublisherMenuItems"));AS3.setBindable(editor_SimpleContentList_38_9_$1,"showWithdrawContextMenuItem",AS3.getBindable(config,"showPublisherMenuItems"));AS3.setBindable(editor_SimpleContentList_38_9_$1,"contentList",com.coremedia.ui.data.ValueExpressionFactory.createFromValue(AS3.getBindable(config,"resultItems")));var container_45_9_$1=AS3.cast(Ext.container.Container,{});AS3.setBindable(container_45_9_$1,"width",80);var container_47_13_$1=AS3.cast(Ext.container.Container,
{});AS3.setBindable(container_47_13_$1,"html",AS3.getBindable(config,"resourceBundle")[AS3.getBindable(config,"resourcePrefix")+"_impedimentType_"+AS3.getBindable(config,"resultCode")+"_text"]);container_45_9_$1.items=[container_47_13_$1];var layout_HBox_51_13_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_51_13_$1,"pack","center");AS3.setBindable(container_45_9_$1,"layout",layout_HBox_51_13_$1);var editor_SimpleContentList_54_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.components.SimpleContentList,
{});editor_SimpleContentList_54_9_$1.itemId=net.jangaroo.ext.Exml.asString(PairBulkResultItemSet.RIGHT_LIST_ITEM_ID);AS3.setBindable(editor_SimpleContentList_54_9_$1,"contentPropertyPath",net.jangaroo.ext.Exml.asString(config["rightPropertyPath"]));editor_SimpleContentList_54_9_$1["columnWidth"]=.5;AS3.setBindable(editor_SimpleContentList_54_9_$1,"showApproveContextMenuItem",AS3.getBindable(config,"showPublisherMenuItems"));AS3.setBindable(editor_SimpleContentList_54_9_$1,"showPublishContextMenuItem",
AS3.getBindable(config,"showPublisherMenuItems"));AS3.setBindable(editor_SimpleContentList_54_9_$1,"showWithdrawContextMenuItem",AS3.getBindable(config,"showPublisherMenuItems"));AS3.setBindable(editor_SimpleContentList_54_9_$1,"contentList",com.coremedia.ui.data.ValueExpressionFactory.createFromValue(AS3.getBindable(config,"resultItems")));container_36_5_$1.items=[editor_SimpleContentList_38_9_$1,container_45_9_$1,editor_SimpleContentList_54_9_$1];var layout_Column_63_9_$1=AS3.cast(Ext.layout.container.Column,
{});AS3.setBindable(container_36_5_$1,"layout",layout_Column_63_9_$1);config_$1.items=[container_36_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Ziyp(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.bulkOperation.BulkResultItemSetBase",alias:"widget.com.coremedia.cms.editor.sdk.config.pairBulkResultItemSet",constructor:PairBulkResultItemSet$,super$Ziyp:function(){com.coremedia.cms.editor.sdk.bulkOperation.BulkResultItemSetBase.prototype.constructor.apply(this,arguments)},config:{leftPropertyPath:null,
rightPropertyPath:null},statics:{LEFT_LIST_ITEM_ID:"leftList",RIGHT_LIST_ITEM_ID:"rightList"},requires:["Ext.container.Container","Ext.layout.container.Column","Ext.layout.container.HBox","com.coremedia.cms.editor.sdk.bulkOperation.BulkResultItemSetBase","com.coremedia.ui.data.ValueExpressionFactory","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.components.SimpleContentList"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.FocusListener",function(FocusListener){return{}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.plugins.StringPropertyFieldDelegatePluginBase",function(StringPropertyFieldDelegatePluginBase){function StringPropertyFieldDelegatePluginBase$(config){if(arguments.length<=0)config=null;this.super$4crS(config)}function init(component){var initialConfig=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.StringPropertyField,component.initialConfig);this.bindTo=AS3.getBindable(initialConfig,"bindTo","DUMMY");this.fieldContainer=AS3.as(component,
com.coremedia.cms.editor.sdk.premular.fields.StringPropertyField);com.coremedia.cms.editor.sdk.premular.fields.plugins.PropertyFieldDelegatePlugin.prototype.init.call(this,component)}function afterLayoutTextfieldContainer(component){if(arguments.length<=0)component=null;com.coremedia.cms.editor.sdk.premular.fields.plugins.PropertyFieldDelegatePlugin.prototype.afterLayoutTextfieldContainer.call(this,AS3.as(this.fieldContainer.queryById("stringPropertyField"),Ext.form.field.Text))}function onFieldBlur(){var this$=
this;window.setTimeout(function(){var value=this$.myFieldValueExpression.getValue();this$.applyDelegating(value)},this.getChangeBuffer())}function applyDelegatedValue(){this.textComponent.suspendEvent("change");AS3.as(this.textComponent,Ext.form.field.Text).setValue(this.delegateFieldValueExpression.getValue());this.textComponent.resumeEvent("change")}function checkForDelegating(){var myValue=this.myFieldValueExpression.getValue();this.applyDelegating(myValue)}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.plugins.PropertyFieldDelegatePlugin",
metadata:{"":["PublicApi"]},constructor:StringPropertyFieldDelegatePluginBase$,super$4crS:function(){com.coremedia.cms.editor.sdk.premular.fields.plugins.PropertyFieldDelegatePlugin.prototype.constructor.apply(this,arguments)},init:init,afterLayoutTextfieldContainer:afterLayoutTextfieldContainer,onFieldBlur:onFieldBlur,applyDelegatedValue:applyDelegatedValue,checkForDelegating:checkForDelegating,requires:["Ext.form.field.Text","com.coremedia.cms.editor.sdk.premular.fields.plugins.PropertyFieldDelegatePlugin"],
uses:["com.coremedia.cms.editor.sdk.premular.fields.StringPropertyField"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPluginBase",function(SetPropertyLabelPluginBase){function SetPropertyLabelPluginBase$(config){if(arguments.length<=0)config=null;this.contentTypeValueExpression=config.bindTo.extendBy("type.name");this.propertyName=config.propertyName;var superConfig=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.SetLocalizedPluginBase,Ext.apply({},config));AS3.setBindable(superConfig,"keySuffix",com.coremedia.cms.editor.sdk.util.PropertyEditorUtil.LABEL);
AS3.setBindable(superConfig,"labelProperty",AS3.getBindable(config,"labelProperty")||"fieldLabel");this.super$DSWY(superConfig)}function init(component){var this$=this;com.coremedia.cms.editor.sdk.premular.fields.plugins.SetLocalizedPluginBase.prototype.init.call(this,component);component.on("afterrender",function(field){var labelElement=findLabel$static(field);var tooltip=com.coremedia.cms.editor.sdk.util.PropertyEditorUtil.getLocalizedTooltip(this$.contentTypeValueExpression.getValue(),this$.propertyName);
if(labelElement&&tooltip!==this$.propertyName)Ext.tip.QuickTipManager.register({target:labelElement,text:tooltip})});component.on("destroy",function(field){var labelElement=findLabel$static(field);if(labelElement)Ext.tip.QuickTipManager.unregister(labelElement)})}function findLabel$static(field){var label=undefined;var wrapDiv=field.getEl();if(wrapDiv)label=wrapDiv.child("label");return label}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.plugins.SetLocalizedPluginBase",metadata:{"":["PublicApi"]},
contentTypeValueExpression:null,propertyName:null,constructor:SetPropertyLabelPluginBase$,super$DSWY:function(){com.coremedia.cms.editor.sdk.premular.fields.plugins.SetLocalizedPluginBase.prototype.constructor.apply(this,arguments)},init:init,requires:["Ext","Ext.tip.QuickTipManager","com.coremedia.cms.editor.sdk.premular.fields.plugins.SetLocalizedPluginBase"],uses:["com.coremedia.cms.editor.sdk.util.PropertyEditorUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin",function(BindDisablePlugin){function BindDisablePlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePluginBase,{});var defaults_$1=AS3.cast(BindDisablePlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$bwST(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePluginBase",
metadata:{"":["PublicApi"]},constructor:BindDisablePlugin$,super$bwST:function(){com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePluginBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePluginBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.plugins.HideRichTextToolbarPlugin",function(HideRichTextToolbarPlugin){function init(component){this.component$FaNY=AS3.as(component,com.coremedia.cms.editor.sdk.premular.fields.RichTextPropertyField);this.component$FaNY.addListener("afterrender",AS3.bind(this,"hideToolbar$FaNY"))}function hideToolbar(){this.component$FaNY.removeListener("afterrender",AS3.bind(this,"hideToolbar$FaNY"));var toolbar=com.coremedia.cms.editor.sdk.premular.fields.RichTextPropertyFieldBase.getRichTextAreaToolbar(this.component$FaNY);
if(toolbar)toolbar.hide()}function HideRichTextToolbarPlugin$(){}return{mixins:["ext.Plugin"],component$FaNY:null,init:init,hideToolbar$FaNY:hideToolbar,constructor:HideRichTextToolbarPlugin$,requires:["ext.Plugin"],uses:["com.coremedia.cms.editor.sdk.premular.fields.RichTextPropertyField","com.coremedia.cms.editor.sdk.premular.fields.RichTextPropertyFieldBase"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePluginBase",function(BindDisablePluginBase){function BindDisablePluginBase$(config){if(arguments.length<=0)config=null;this.super$94kE(config)}function getDefaultProperty(){return"disabled"}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.plugins.AbstractBindEditablePlugin",metadata:{"":["PublicApi"]},constructor:BindDisablePluginBase$,super$94kE:function(){com.coremedia.cms.editor.sdk.premular.fields.plugins.AbstractBindEditablePlugin.prototype.constructor.apply(this,
arguments)},getDefaultProperty:getDefaultProperty,requires:["com.coremedia.cms.editor.sdk.premular.fields.plugins.AbstractBindEditablePlugin"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.plugins.RichTextPropertyFieldDelegatePluginBase",function(RichTextPropertyFieldDelegatePluginBase){function RichTextPropertyFieldDelegatePluginBase$(config){if(arguments.length<=0)config=null;this.DEFAULT_TEXT_CLS="cke_editable--display-default-text";this.super$pSg4(config)}function init(component){this.fieldContainer=AS3.as(component,Ext.form.FieldContainer);this.bindTo=this.fieldContainer.initialConfig.bindTo;com.coremedia.cms.editor.sdk.premular.fields.plugins.AbstractRichTextPropertyFieldDelegatePluginBase.prototype.init.call(this,
component)}function afterLayoutTextfieldContainer(component){if(arguments.length<=0)component=null;var rt=AS3.as(this.fieldContainer.query(com.coremedia.ui.util.createComponentSelector()._xtype(com.coremedia.cms.editor.sdk.components.CoreMediaRichTextArea.xtype).build())[0],com.coremedia.cms.editor.sdk.components.CoreMediaRichTextArea);this.textComponent=rt;this.myCkEditor$pSg4=AS3.as(this.textComponent,com.coremedia.ui.ckeditor.RichTextArea).getCKEditor();this.fieldContainer.removeListener("afterlayout",
AS3.bind(this,"afterLayoutTextfieldContainer"));this.textComponent.addListener("destroy",AS3.bind(this,"onDestroy"));this.myCkEditor$pSg4.on("focus",AS3.bind(this,"disableDelegating"));this.myCkEditor$pSg4.on("blur",AS3.bind(this,"onFieldBlur"));this.myCkEditor$pSg4.on("instanceReady",AS3.bind(this,"onCKInstanceReady$pSg4"));this.listenForDelegating()}function onCKInstanceReady(){this.myCkEditor$pSg4.removeListener("instanceReady",AS3.bind(this,"onCKInstanceReady$pSg4"));this.onInstanceReady()}function disableDelegating(){AS3.setBindable(AS3.as(this.textComponent,
com.coremedia.ui.ckeditor.RichTextArea),"delegating",false);com.coremedia.cms.editor.sdk.premular.fields.plugins.AbstractRichTextPropertyFieldDelegatePluginBase.prototype.disableDelegating.call(this)}function getChangeBuffer(){return AS3.getBindable(AS3.as(this.textComponent,com.coremedia.ui.ckeditor.RichTextArea),"changeBuffer","DUMMY")}function setDelegationValue(value){AS3.setBindable(AS3.as(this.textComponent,com.coremedia.ui.ckeditor.RichTextArea),"delegating",true);this.myCkEditor$pSg4.setData(value)}
function onDestroy(){com.coremedia.cms.editor.sdk.premular.fields.plugins.AbstractRichTextPropertyFieldDelegatePluginBase.prototype.onDestroy.call(this);this.myCkEditor$pSg4.on("focus",AS3.bind(this,"disableDelegating"));this.myCkEditor$pSg4.on("blur",AS3.bind(this,"onFieldBlur"))}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.plugins.AbstractRichTextPropertyFieldDelegatePluginBase",myCkEditor$pSg4:undefined,constructor:RichTextPropertyFieldDelegatePluginBase$,super$pSg4:function(){com.coremedia.cms.editor.sdk.premular.fields.plugins.AbstractRichTextPropertyFieldDelegatePluginBase.prototype.constructor.apply(this,
arguments)},init:init,afterLayoutTextfieldContainer:afterLayoutTextfieldContainer,onCKInstanceReady$pSg4:onCKInstanceReady,disableDelegating:disableDelegating,getChangeBuffer:getChangeBuffer,setDelegationValue:setDelegationValue,onDestroy:onDestroy,requires:["Ext.form.FieldContainer","com.coremedia.cms.editor.sdk.premular.fields.plugins.AbstractRichTextPropertyFieldDelegatePluginBase","com.coremedia.ui.ckeditor.RichTextArea","com.coremedia.ui.util.createComponentSelector"],uses:["com.coremedia.cms.editor.sdk.components.CoreMediaRichTextArea"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.plugins.PropertyFieldDelegatePluginBase",function(PropertyFieldDelegatePluginBase){function PropertyFieldDelegatePluginBase$(config){if(arguments.length<=0)config=null;this.super$JBhj(config);this.masterPropertyName$JBhj=AS3.getBindable(config,"masterPropertyName");this.delegatePropertyName$JBhj=AS3.getBindable(config,"delegatePropertyName");this.delegateExpression$JBhj=AS3.getBindable(config,"delegateExpression")}function init(component){this.fieldContainer.addListener("afterlayout",
AS3.bind(this,"afterLayoutTextfieldContainer"));var propertyName=component.initialConfig.propertyName;if(this.delegateExpression$JBhj)this.delegateFieldValueExpression=this.delegateExpression$JBhj;else if(this.masterPropertyName$JBhj){this.masterValueExpression$JBhj=this.bindTo.extendBy("properties."+this.masterPropertyName$JBhj);this.masterValueExpression$JBhj.addChangeListener(AS3.bind(this,"masterValueChanged$JBhj"));var masterDocuments=this.masterValueExpression$JBhj.getValue();if(masterDocuments.length>
0){var master=masterDocuments[0];this.delegateFieldValueExpression=com.coremedia.ui.data.ValueExpressionFactory.create("properties."+this.delegatePropertyName$JBhj,master)}}else this.delegateFieldValueExpression=this.bindTo.extendBy("properties."+this.delegatePropertyName$JBhj);this.myFieldValueExpression=this.bindTo.extendBy("properties."+propertyName)}function afterLayoutTextfieldContainer(component){if(arguments.length<=0)component=null;this.textComponent=component;this.fieldContainer.removeListener("afterlayout",
AS3.bind(this,"afterLayoutTextfieldContainer"));this.textComponent.addListener("destroy",AS3.bind(this,"onDestroy"));this.textComponent.addListener("focus",AS3.bind(this,"disableDelegating"));this.textComponent.addListener("blur",AS3.bind(this,"onFieldBlur"));this.listenForDelegating()}function listenForDelegating(){if(this.delegateFieldValueExpression)this.delegateFieldValueExpression.addChangeListener(AS3.bind(this,"checkForDelegating"));if(this.myFieldValueExpression)this.myFieldValueExpression.addChangeListener(AS3.bind(this,
"checkForDelegating"));this.checkForDelegating()}function getChangeBuffer(){return this.fieldContainer["changeBuffer"]}function onFieldBlur(){throw new AS3.Error("Abstract Method: onFieldBlur");}function applyDelegatedValue(){throw new AS3.Error("Abstract Method: applyDelegating");}function checkForDelegating(){throw new AS3.Error("Abstract Method: checkForDelegating");}function onDestroy(){if(this.delegateFieldValueExpression)this.delegateFieldValueExpression.removeChangeListener(AS3.bind(this,"checkForDelegating"));
if(this.myFieldValueExpression)this.myFieldValueExpression.removeChangeListener(AS3.bind(this,"checkForDelegating"))}function disableDelegating(){this.applyDelegateStyle(false)}function applyDelegating(myValue){if(!this.textComponent||this.textfieldHasFocus$JBhj())return;if(!myValue||Ext.String.trim(myValue).length===0){this.applyDelegatedValue();this.applyDelegateStyle(true)}else this.applyDelegateStyle(false)}function applyDelegateStyle(apply){if(this.textComponent)if(apply)this.textComponent.addCls(this.DEFAULT_TEXT_CLS);
else this.textComponent.removeCls(this.DEFAULT_TEXT_CLS)}function masterValueChanged(){if(this.delegateFieldValueExpression)this.delegateFieldValueExpression.removeChangeListener(AS3.bind(this,"checkForDelegating"));var masterDocuments=this.masterValueExpression$JBhj.getValue();if(masterDocuments.length>0){var master=masterDocuments[0];this.delegateFieldValueExpression=com.coremedia.ui.data.ValueExpressionFactory.create("properties."+this.delegatePropertyName$JBhj,master);this.delegateFieldValueExpression.addChangeListener(AS3.bind(this,
"checkForDelegating"))}else{this.delegateFieldValueExpression=com.coremedia.ui.data.ValueExpressionFactory.create("noDelegate",com.coremedia.ui.data.beanFactory.createLocalBean());this.delegateFieldValueExpression.setValue("")}this.checkForDelegating()}function textfieldHasFocus(){return this.textComponent["hasFocus"]}return{extend:"Ext.plugin.Abstract",DEFAULT_TEXT_CLS:"cm-text-field--display-default-text",bindTo:null,fieldContainer:null,textComponent:null,delegatePropertyName$JBhj:null,masterPropertyName$JBhj:null,
delegateFieldValueExpression:null,delegateExpression$JBhj:null,masterValueExpression$JBhj:null,myFieldValueExpression:null,constructor:PropertyFieldDelegatePluginBase$,super$JBhj:function(){Ext.plugin.Abstract.prototype.constructor.apply(this,arguments)},init:init,afterLayoutTextfieldContainer:afterLayoutTextfieldContainer,listenForDelegating:listenForDelegating,getChangeBuffer:getChangeBuffer,onFieldBlur:onFieldBlur,applyDelegatedValue:applyDelegatedValue,checkForDelegating:checkForDelegating,onDestroy:onDestroy,
disableDelegating:disableDelegating,applyDelegating:applyDelegating,applyDelegateStyle:applyDelegateStyle,masterValueChanged$JBhj:masterValueChanged,textfieldHasFocus$JBhj:textfieldHasFocus,requires:["AS3.Error","Ext.String","Ext.plugin.Abstract","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.beanFactory"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyEmptyTextPlugin",function(SetPropertyEmptyTextPlugin){function SetPropertyEmptyTextPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.SetLocalizedPluginBase,{});var defaults_$1=AS3.cast(SetPropertyEmptyTextPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"labelProperty","emptyText");AS3.setBindable(config_$1,
"keySuffix",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.util.PropertyEditorUtil.EMPTY_TEXT));net.jangaroo.ext.Exml.apply(config_$1,config);this.super$kALN(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.plugins.SetLocalizedPluginBase",metadata:{"":["PublicApi"]},constructor:SetPropertyEmptyTextPlugin$,super$kALN:function(){com.coremedia.cms.editor.sdk.premular.fields.plugins.SetLocalizedPluginBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.premular.fields.plugins.SetLocalizedPluginBase",
"net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.util.PropertyEditorUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.plugins.AbstractBindEditablePluginBase",function(AbstractBindEditablePluginBase){function AbstractBindEditablePluginBase$(config){if(arguments.length<=0)config=null;var superConfig=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,Ext.apply({},config));superConfig.bindTo=com.coremedia.cms.editor.sdk.util.PropertyEditorUtil.createReadOnlyValueExpression(config.bindTo,AS3.getBindable(config,"forceReadOnlyValueExpression"));delete superConfig["forceReadOnlyValueExpression"];
superConfig.componentProperty=config.componentProperty?config.componentProperty:this.getDefaultProperty();superConfig.skipIfUndefined=true;this.super$CM98(superConfig)}function getDefaultProperty(){throw new AS3.Error("Function must be overwritten in subclass!");}function init(component){if(!component.disabled)com.coremedia.ui.plugins.BindPropertyPlugin.prototype.init.call(this,component)}return{extend:"com.coremedia.ui.plugins.BindPropertyPlugin",metadata:{"":["PublicApi"]},constructor:AbstractBindEditablePluginBase$,
super$CM98:function(){com.coremedia.ui.plugins.BindPropertyPlugin.prototype.constructor.apply(this,arguments)},getDefaultProperty:getDefaultProperty,init:init,requires:["AS3.Error","Ext","com.coremedia.ui.plugins.BindPropertyPlugin"],uses:["com.coremedia.cms.editor.sdk.util.PropertyEditorUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.plugins.RichTextPropertyFieldDelegatePlugin",function(RichTextPropertyFieldDelegatePlugin){function RichTextPropertyFieldDelegatePlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.RichTextPropertyFieldDelegatePluginBase,{});var defaults_$1=AS3.cast(RichTextPropertyFieldDelegatePlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$an4J(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.plugins.RichTextPropertyFieldDelegatePluginBase",metadata:{"":["PublicApi"]},constructor:RichTextPropertyFieldDelegatePlugin$,super$an4J:function(){com.coremedia.cms.editor.sdk.premular.fields.plugins.RichTextPropertyFieldDelegatePluginBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.premular.fields.plugins.RichTextPropertyFieldDelegatePluginBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.plugins.SetLocalizedPluginBase",function(SetLocalizedPluginBase){function SetLocalizedPluginBase$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.SetLocalizedPluginBaseBase,{});var defaults_$1=AS3.cast(SetLocalizedPluginBase,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Q57_(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.plugins.SetLocalizedPluginBaseBase",
metadata:{"":["PublicApi"]},constructor:SetLocalizedPluginBase$,super$Q57_:function(){com.coremedia.cms.editor.sdk.premular.fields.plugins.SetLocalizedPluginBaseBase.prototype.constructor.apply(this,arguments)},config:{propertyName:null,labelProperty:null,keySuffix:null,defaultString:null},requires:["com.coremedia.cms.editor.sdk.premular.fields.plugins.SetLocalizedPluginBaseBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.plugins.PropertyFieldDelegatePlugin",function(PropertyFieldDelegatePlugin){function PropertyFieldDelegatePlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.PropertyFieldDelegatePluginBase,{});var defaults_$1=AS3.cast(PropertyFieldDelegatePlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$v9ty(config_$1)}
return{extend:"com.coremedia.cms.editor.sdk.premular.fields.plugins.PropertyFieldDelegatePluginBase",metadata:{"":["PublicApi"]},constructor:PropertyFieldDelegatePlugin$,super$v9ty:function(){com.coremedia.cms.editor.sdk.premular.fields.plugins.PropertyFieldDelegatePluginBase.prototype.constructor.apply(this,arguments)},config:{delegateExpression:null,masterPropertyName:null,delegatePropertyName:null},requires:["com.coremedia.cms.editor.sdk.premular.fields.plugins.PropertyFieldDelegatePluginBase",
"net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.plugins.LibraryTreeViewDragDropPlugin",function(LibraryTreeViewDragDropPlugin){function LibraryTreeViewDragDropPlugin$(config){if(arguments.length<=0)config=null;AS3.setBindable(this,"ddGroups",AS3.getBindable(config,"ddGroups")||[]);if(!config.ddGroup&&AS3.getBindable(this,"ddGroups").length>0){config.ddGroup=AS3.getBindable(this,"ddGroups")[0];AS3.setBindable(this,"ddGroups",AS3.getBindable(this,"ddGroups").slice(1))}this.super$nYNJ(config);
var dragZoneCfg=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.tree.LibraryTreeViewDragZone,{});AS3.setBindable(dragZoneCfg,"ddGroups",AS3.getBindable(this,"ddGroups"));this.dragZone=AS3.cast(Ext.view.DragZone,Ext.apply(dragZoneCfg,this.dragZone));var dropZoneCfg=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.tree.LibraryTreeViewDropZone,{});AS3.setBindable(dropZoneCfg,"ddGroups",AS3.getBindable(this,"ddGroups"));AS3.setBindable(dropZoneCfg,"tree",AS3.getBindable(config,"tree"));this["dropZone"]=
AS3.cast(Ext.view.DropZone,Ext.apply(dropZoneCfg,this.dropZone))}return{extend:"Ext.tree.plugin.TreeViewDragDrop",constructor:LibraryTreeViewDragDropPlugin$,super$nYNJ:function(){Ext.tree.plugin.TreeViewDragDrop.prototype.constructor.apply(this,arguments)},config:{ddGroups:null,tree:null},requires:["Ext","Ext.tree.plugin.TreeViewDragDrop","Ext.view.DragZone","Ext.view.DropZone"],uses:["com.coremedia.cms.editor.sdk.collectionview.tree.LibraryTreeViewDragZone","com.coremedia.cms.editor.sdk.collectionview.tree.LibraryTreeViewDropZone"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin",function(SetPropertyLabelPlugin){function SetPropertyLabelPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPluginBase,{});var defaults_$1=AS3.cast(SetPropertyLabelPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Pesn(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPluginBase",
metadata:{"":["PublicApi"]},constructor:SetPropertyLabelPlugin$,super$Pesn:function(){com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPluginBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPluginBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyValueLabelPlugin",function(SetPropertyValueLabelPlugin){function SetPropertyValueLabelPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.SetLocalizedPluginBase,{});var defaults_$1=AS3.cast(SetPropertyValueLabelPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"labelProperty","fieldLabel");AS3.setBindable(config_$1,
"keySuffix",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyValue")+"_"+com.coremedia.cms.editor.sdk.util.PropertyEditorUtil.LABEL));net.jangaroo.ext.Exml.apply(config_$1,config);this.super$VO3i(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.plugins.SetLocalizedPluginBase",metadata:{"":["PublicApi"]},constructor:SetPropertyValueLabelPlugin$,super$VO3i:function(){com.coremedia.cms.editor.sdk.premular.fields.plugins.SetLocalizedPluginBase.prototype.constructor.apply(this,
arguments)},config:{propertyValue:null},requires:["com.coremedia.cms.editor.sdk.premular.fields.plugins.SetLocalizedPluginBase","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.util.PropertyEditorUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.plugins.SetLocalizedPluginBaseBase",function(SetLocalizedPluginBaseBase){function SetLocalizedPluginBaseBase$(config){if(arguments.length<=0)config=null;var superConfig=AS3.cast(com.coremedia.ui.plugins.BindPlugin,Ext.apply({},config));superConfig.bindTo=config.bindTo.extendBy("type.name");superConfig.boundValueChanged=function(component,valueExpression){var value=com.coremedia.cms.editor.sdk.util.PropertyEditorUtil.getLocalizedString(valueExpression.getValue(),
AS3.getBindable(config,"propertyName"),AS3.getBindable(config,"keySuffix"),AS3.getBindable(config,"defaultString"));SetLocalizedPluginBaseBase.setProperty(component,AS3.getBindable(config,"labelProperty"),value)};this.super$yftl(superConfig)}function setProperty$static(component,componentProperty,value){if(component.rendered)SetLocalizedPluginBaseBase.setPropertyUsingSetter(component,componentProperty,value);else{SetLocalizedPluginBaseBase.setPropertyDirectly(component,componentProperty,value);component.addListener("beforerender",
function(){try{SetLocalizedPluginBaseBase.setPropertyUsingSetter(component,componentProperty,value)}catch(e){AS3.trace(component.toString()+" does not accept the value '"+value+"' for the property '"+componentProperty+"' using a setter. The value is now set to the plain javascript property.");SetLocalizedPluginBaseBase.setPropertyDirectly(component,componentProperty,value)}},null,{single:true})}}function setPropertyDirectly$static(component,componentProperty,value){component.initialConfig[componentProperty]=
value;component[componentProperty]=value}function setPropertyUsingSetter$static(component,componentProperty,value){var componentValue=com.coremedia.ui.util.ObjectUtils.getProperty(component,componentProperty);if(componentValue!==value)com.coremedia.ui.util.ObjectUtils.setProperty(component,componentProperty,value)}return{extend:"com.coremedia.ui.plugins.BindPlugin",metadata:{"":["PublicApi"]},constructor:SetLocalizedPluginBaseBase$,super$yftl:function(){com.coremedia.ui.plugins.BindPlugin.prototype.constructor.apply(this,
arguments)},statics:{setProperty:setProperty$static,setPropertyDirectly:setPropertyDirectly$static,setPropertyUsingSetter:setPropertyUsingSetter$static},requires:["AS3.trace","Ext","com.coremedia.ui.plugins.BindPlugin","com.coremedia.ui.util.ObjectUtils"],uses:["com.coremedia.cms.editor.sdk.util.PropertyEditorUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.plugins.LinkListViewDragDropPlugin",function(LinkListViewDragDropPlugin){function LinkListViewDragDropPlugin$(config){if(arguments.length<=0)config=null;AS3.setBindable(this,"dragGroups",AS3.getBindable(config,"dragGroups")||[]);AS3.setBindable(this,"dropGroups",AS3.getBindable(config,"dropGroups")||[]);if(config.ddGroup&&config.ddGroup.length>0){AS3.setBindable(this,"dragGroups",AS3.getBindable(this,"dragGroups").concat(config.ddGroup));AS3.setBindable(this,
"dropGroups",AS3.getBindable(this,"dropGroups").concat(config.ddGroup))}this.super$$4tq(config);var dragZoneCfg=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.LinkListViewDragZone,{});AS3.setBindable(dragZoneCfg,"ddGroups",AS3.getBindable(this,"dragGroups"));AS3.setBindable(dragZoneCfg,"htmlFeedback",AS3.getBindable(config,"htmlFeedback"));this.dragZone=AS3.cast(Ext.view.DragZone,Ext.apply(dragZoneCfg,this.dragZone));var dropZoneCfg=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.LinkListViewDropZone,
{});AS3.setBindable(dropZoneCfg,"ddGroups",AS3.getBindable(this,"dropGroups"));AS3.setBindable(dropZoneCfg,"linkListWrapper",AS3.getBindable(this,"linkListWrapper"));AS3.setBindable(dropZoneCfg,"replaceOnDrop",AS3.getBindable(this,"replaceOnDrop"));AS3.setBindable(dropZoneCfg,"readOnlyValueExpression",AS3.getBindable(this,"readOnlyValueExpression"));this.dropZone=AS3.cast(Ext.grid.ViewDropZone,Ext.apply(dropZoneCfg,this.dropZone))}function init(component){Ext.grid.plugin.DragDrop.prototype.init.call(this,
component);this.view$$4tq=AS3.as(component,Ext.view.AbstractView);if(!this.view$$4tq)throw new AS3.Error("Plugin can only be attached to TableViews");this.view$$4tq.on("render",AS3.bind(this,"onViewRender$$4tq"),this,{single:true})}function getGridPanel(){var gridPanel=AS3.as(this.view$$4tq.up(com.coremedia.ui.util.createComponentSelector()._xtype("gridpanel").build()),Ext.grid.Panel);if(!gridPanel)throw new AS3.Error("Could not find the GridPanel the TableView is attached to");return gridPanel}function onViewRender(){var gridPanel=
this.getGridPanel$$4tq();gridPanel.on("drop",AS3.bind(this,"onDrop$$4tq"));gridPanel.on("beforedrop",AS3.bind(this,"onBeforeDrop$$4tq"))}function onBeforeDrop(node,data,overModel,dropPosition){var store=this.getGridPanel$$4tq().getStore();if(AS3.getBindable(this,"replaceOnDrop")){this.clearSelection$$4tq();store.removeAll()}data.records=com.coremedia.cms.editor.sdk.util.StoreUtil.asBeanRecords(data.records,store);return true}function onDrop(dropNode,data,overModel,dropPosition){var records=AS3.as(data.records,
Array)||[];if(data.sourceView===this.view$$4tq){var fromIndexes=[];var recordFromIndexes=data.recordFromIndexes||{};for(var recordId in recordFromIndexes)fromIndexes.push(recordFromIndexes[recordId]);AS3.getBindable(this,"linkListWrapper").moveLinksToIndex(fromIndexes,AS3.as(this.view$$4tq.getStore(),Ext.data.Store).indexOf(records[0]))}else{var links=records.map(function(rec){return rec.getBean()});if(AS3.getBindable(this,"replaceOnDrop")){if(AS3.getBindable(this,"linkListWrapper").acceptsLinks(links))AS3.getBindable(this,
"linkListWrapper").setLinks(links)}else{var currentLinks=AS3.getBindable(this,"linkListWrapper").getLinks()||[];if(AS3.getBindable(this,"linkListWrapper").acceptsLinks(currentLinks.concat(links)))AS3.getBindable(this,"linkListWrapper").addLinksAtIndex(links,AS3.as(this.view$$4tq.getStore(),Ext.data.Store).indexOf(records[0]))}}}function clearSelection(){this.getGridPanel$$4tq().getSelectionModel().deselectAll()}return{extend:"Ext.grid.plugin.DragDrop",metadata:{"":["PublicApi"]},view$$4tq:null,constructor:LinkListViewDragDropPlugin$,
super$$4tq:function(){Ext.grid.plugin.DragDrop.prototype.constructor.apply(this,arguments)},init:init,getGridPanel$$4tq:getGridPanel,onViewRender$$4tq:onViewRender,onBeforeDrop$$4tq:onBeforeDrop,onDrop$$4tq:onDrop,clearSelection$$4tq:clearSelection,config:{dragGroups:null,dropGroups:null,linkListWrapper:null,replaceOnDrop:false,readOnlyValueExpression:null,htmlFeedback:null},requires:["AS3.Error","Ext","Ext.data.Store","Ext.grid.Panel","Ext.grid.ViewDropZone","Ext.grid.plugin.DragDrop","Ext.view.AbstractView",
"Ext.view.DragZone","com.coremedia.ui.util.createComponentSelector"],uses:["com.coremedia.cms.editor.sdk.premular.fields.LinkListViewDragZone","com.coremedia.cms.editor.sdk.premular.fields.LinkListViewDropZone","com.coremedia.cms.editor.sdk.util.StoreUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.plugins.AbstractRichTextPropertyFieldDelegatePluginBase",function(AbstractRichTextPropertyFieldDelegatePluginBase){function AbstractRichTextPropertyFieldDelegatePluginBase$(config){if(arguments.length<=0)config=null;this.super$tw42(config)}function onFieldBlur(){var this$=this;window.setTimeout(function(){var blob=AS3.as(this$.myFieldValueExpression.getValue(),com.coremedia.ui.data.Blob);if(!blob){this$.applyDelegating(null);return}var rawRichText=
blob.getData();var value=com.coremedia.cms.editor.sdk.util.RichTextPlainTextTransformer.convertToPlainText(rawRichText);this$.applyDelegating(value)},this.getChangeBuffer())}function onInstanceReady(){var this$=this;if(this.delegateFieldValueExpression)this.bindTo.getValue().invalidate(function(){this$.checkForDelegating();this$.delegateFieldValueExpression.addChangeListener(AS3.bind(this$,"checkForDelegating"))})}function checkForDelegating(){var blob=this.myFieldValueExpression?AS3.as(this.myFieldValueExpression.getValue(),
com.coremedia.ui.data.Blob):null;if(!blob)this.applyDelegating(null);else blob.loadData(AS3.bind(this,"checkForDelegatingBlobLoaded$tw42"))}function checkForDelegatingBlobLoaded(blob){var rawRichText=blob.getData();var value=com.coremedia.cms.editor.sdk.util.RichTextPlainTextTransformer.convertToPlainText(rawRichText);this.applyDelegating(value)}function applyDelegatedValue(){var this$=this;if(this.delegateFieldValueExpression){var rawDelegateValue=this.delegateFieldValueExpression.getValue();if(AS3.is(rawDelegateValue,
String))this.setDelegationValue(rawDelegateValue);else{var delegateBlob=AS3.as(rawDelegateValue,com.coremedia.ui.data.Blob);if(delegateBlob)delegateBlob.loadData(function(){var delegateValue=delegateBlob.getData();this$.setDelegationValue(delegateValue)})}}}function setDelegationValue(value){throw new AS3.Error("Abstract Method: setDelegateValue");}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.plugins.PropertyFieldDelegatePlugin",constructor:AbstractRichTextPropertyFieldDelegatePluginBase$,
super$tw42:function(){com.coremedia.cms.editor.sdk.premular.fields.plugins.PropertyFieldDelegatePlugin.prototype.constructor.apply(this,arguments)},onFieldBlur:onFieldBlur,onInstanceReady:onInstanceReady,checkForDelegating:checkForDelegating,checkForDelegatingBlobLoaded$tw42:checkForDelegatingBlobLoaded,applyDelegatedValue:applyDelegatedValue,setDelegationValue:setDelegationValue,requires:["AS3.Error","com.coremedia.cms.editor.sdk.premular.fields.plugins.PropertyFieldDelegatePlugin","com.coremedia.ui.data.Blob"],
uses:["com.coremedia.cms.editor.sdk.util.RichTextPlainTextTransformer"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.plugins.AbstractBindEditablePlugin",function(AbstractBindEditablePlugin){function AbstractBindEditablePlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.AbstractBindEditablePluginBase,{});var defaults_$1=AS3.cast(AbstractBindEditablePlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$uIhN(config_$1)}
return{extend:"com.coremedia.cms.editor.sdk.premular.fields.plugins.AbstractBindEditablePluginBase",metadata:{"":["PublicApi"]},constructor:AbstractBindEditablePlugin$,super$uIhN:function(){com.coremedia.cms.editor.sdk.premular.fields.plugins.AbstractBindEditablePluginBase.prototype.constructor.apply(this,arguments)},config:{forceReadOnlyValueExpression:null},requires:["com.coremedia.cms.editor.sdk.premular.fields.plugins.AbstractBindEditablePluginBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.plugins.StringPropertyFieldDelegatePlugin",function(StringPropertyFieldDelegatePlugin){function StringPropertyFieldDelegatePlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.StringPropertyFieldDelegatePluginBase,{});var defaults_$1=AS3.cast(StringPropertyFieldDelegatePlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$Yj$h(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.plugins.StringPropertyFieldDelegatePluginBase",metadata:{"":["PublicApi"]},constructor:StringPropertyFieldDelegatePlugin$,super$Yj$h:function(){com.coremedia.cms.editor.sdk.premular.fields.plugins.StringPropertyFieldDelegatePluginBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.premular.fields.plugins.StringPropertyFieldDelegatePluginBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPluginBase",function(BindReadOnlyPluginBase){function BindReadOnlyPluginBase$(config){if(arguments.length<=0)config=null;this.super$$Xi4(config)}function getDefaultProperty(){return"readOnly"}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.plugins.AbstractBindEditablePlugin",metadata:{"":["PublicApi"]},constructor:BindReadOnlyPluginBase$,super$$Xi4:function(){com.coremedia.cms.editor.sdk.premular.fields.plugins.AbstractBindEditablePlugin.prototype.constructor.apply(this,
arguments)},getDefaultProperty:getDefaultProperty,requires:["com.coremedia.cms.editor.sdk.premular.fields.plugins.AbstractBindEditablePlugin"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.plugins.TextAreaPropertyFieldDelegatePlugin",function(TextAreaPropertyFieldDelegatePlugin){function TextAreaPropertyFieldDelegatePlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.TextAreaPropertyFieldDelegatePluginBase,{});var defaults_$1=AS3.cast(TextAreaPropertyFieldDelegatePlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$nqD2(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.plugins.TextAreaPropertyFieldDelegatePluginBase",metadata:{"":["PublicApi"]},constructor:TextAreaPropertyFieldDelegatePlugin$,super$nqD2:function(){com.coremedia.cms.editor.sdk.premular.fields.plugins.TextAreaPropertyFieldDelegatePluginBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.premular.fields.plugins.TextAreaPropertyFieldDelegatePluginBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.plugins.TextAreaPropertyFieldDelegatePluginBase",function(TextAreaPropertyFieldDelegatePluginBase){function TextAreaPropertyFieldDelegatePluginBase$(config){if(arguments.length<=0)config=null;this.super$Bqqp(config)}function init(component){var initialConfig=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.TextAreaPropertyField,component.initialConfig);this.bindTo=AS3.getBindable(initialConfig,"bindTo");this.fieldContainer=AS3.as(component,
com.coremedia.cms.editor.sdk.premular.fields.TextAreaPropertyField);com.coremedia.cms.editor.sdk.premular.fields.plugins.AbstractRichTextPropertyFieldDelegatePluginBase.prototype.init.call(this,component)}function afterLayoutTextfieldContainer(component){if(arguments.length<=0)component=null;var textArea=AS3.as(this.fieldContainer.query(com.coremedia.ui.util.createComponentSelector()._xtype(com.coremedia.ui.components.ResizableTextArea.xtype).build())[0],Ext.form.field.TextArea);com.coremedia.cms.editor.sdk.premular.fields.plugins.AbstractRichTextPropertyFieldDelegatePluginBase.prototype.afterLayoutTextfieldContainer.call(this,
textArea);this.onInstanceReady()}function setDelegationValue(value){this.textComponent.suspendEvent("change");if(value!==null)if(AS3.getBindable(this,"delegateRichText"))AS3.as(this.textComponent,Ext.form.field.Text).setValue(com.coremedia.cms.editor.sdk.util.RichTextPlainTextTransformer.convertToPlainText(value));else AS3.as(this.textComponent,Ext.form.field.Text).setValue(value);else AS3.as(this.textComponent,Ext.form.field.Text).setValue("");this.textComponent.resumeEvent("change")}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.plugins.AbstractRichTextPropertyFieldDelegatePluginBase",
constructor:TextAreaPropertyFieldDelegatePluginBase$,super$Bqqp:function(){com.coremedia.cms.editor.sdk.premular.fields.plugins.AbstractRichTextPropertyFieldDelegatePluginBase.prototype.constructor.apply(this,arguments)},init:init,afterLayoutTextfieldContainer:afterLayoutTextfieldContainer,setDelegationValue:setDelegationValue,config:{delegateRichText:true},requires:["Ext.form.field.Text","Ext.form.field.TextArea","com.coremedia.cms.editor.sdk.premular.fields.plugins.AbstractRichTextPropertyFieldDelegatePluginBase",
"com.coremedia.ui.components.ResizableTextArea","com.coremedia.ui.util.createComponentSelector"],uses:["com.coremedia.cms.editor.sdk.premular.fields.TextAreaPropertyField","com.coremedia.cms.editor.sdk.util.RichTextPlainTextTransformer"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPlugin",function(BindReadOnlyPlugin){function BindReadOnlyPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPluginBase,{});var defaults_$1=AS3.cast(BindReadOnlyPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Vw6J(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPluginBase",
metadata:{"":["PublicApi"]},constructor:BindReadOnlyPlugin$,super$Vw6J:function(){com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPluginBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPluginBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.MasterVersionPropertyFieldBase",function(MasterVersionPropertyFieldBase){function MasterVersionPropertyFieldBase$(config){var this$=this;if(arguments.length<=0)config=null;this.super$7eHJ(config);var numberField=AS3.as(this.queryById(MasterVersionPropertyFieldBase.NUMBER_FIELD_ITEM_ID),Ext.form.field.Number);numberField.addListener("change",AS3.bind(this,"numberChanged$7eHJ"));this.numberChanged$7eHJ(numberField,numberField.getValue(),undefined);
this.on("beforedestroy",function(){numberField.removeListener("change",AS3.bind(this$,"numberChanged$7eHJ"))})}function getNumberFieldValueVE(){if(!this.numberFieldValueVE$7eHJ)this.numberFieldValueVE$7eHJ=com.coremedia.ui.data.ValueExpressionFactory.createFromValue();return this.numberFieldValueVE$7eHJ}function numberChanged(component,newValue,oldValue){this.numberFieldValueVE$7eHJ.setValue(newValue)}function labelBoundValueChanged(df,ve){var value=ve.getValue();var pattern=value>0?this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"MasterVersionPropertyField_translated_text"):this.resourceManager.getString("com.coremedia.cms.editor.Editor","MasterVersionPropertyField_notTranslated_text");df.setValue(com.coremedia.cms.editor.sdk.util.FormatUtil.format(pattern,Math.abs(value)))}function numberFieldReverseTransformer(value){return value||value===0?value:null}return{extend:"com.coremedia.ui.components.AdvancedFieldContainer",numberFieldValueVE$7eHJ:null,constructor:MasterVersionPropertyFieldBase$,super$7eHJ:function(){com.coremedia.ui.components.AdvancedFieldContainer.prototype.constructor.apply(this,
arguments)},getNumberFieldValueVE:getNumberFieldValueVE,numberChanged$7eHJ:numberChanged,labelBoundValueChanged:labelBoundValueChanged,numberFieldReverseTransformer:numberFieldReverseTransformer,statics:{NUMBER_FIELD_ITEM_ID:"numberfield"},requires:["Ext.form.field.Number","com.coremedia.cms.editor.Editor_properties","com.coremedia.ui.components.AdvancedFieldContainer","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.sdk.util.FormatUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayPropertyFieldBase",function(TeaserOverlayPropertyFieldBase){var POSITION_TO_ICON_MAPPING$static;function POSITION_TO_ICON_MAPPING$static_(){POSITION_TO_ICON_MAPPING$static={1:mx.resources.ResourceManager.getInstance().getString("com.coremedia.icons.CoreIcons","text_on_image_lu"),2:mx.resources.ResourceManager.getInstance().getString("com.coremedia.icons.CoreIcons","text_on_image_mu"),3:mx.resources.ResourceManager.getInstance().getString("com.coremedia.icons.CoreIcons",
"text_on_image_ru"),4:mx.resources.ResourceManager.getInstance().getString("com.coremedia.icons.CoreIcons","text_on_image_lm"),5:mx.resources.ResourceManager.getInstance().getString("com.coremedia.icons.CoreIcons","text_on_image_mm"),6:mx.resources.ResourceManager.getInstance().getString("com.coremedia.icons.CoreIcons","text_on_image_rm"),7:mx.resources.ResourceManager.getInstance().getString("com.coremedia.icons.CoreIcons","text_on_image_lb"),8:mx.resources.ResourceManager.getInstance().getString("com.coremedia.icons.CoreIcons",
"text_on_image_mb"),9:mx.resources.ResourceManager.getInstance().getString("com.coremedia.icons.CoreIcons","text_on_image_rb")}}function styleDescriptorFolderPaths_(){this.styleDescriptorFolderPaths=[]}function TeaserOverlayPropertyFieldBase$(config){var this$=this;if(arguments.length<=0)config=null;this.super$UIkX(config);styleDescriptorFolderPaths_.call(this);this.mon(this.getTeaserTextSwitchingContainer$UIkX(),"afterrender",function(){com.coremedia.ui.util.ComponentUtil.findAsParentOf(this,com.coremedia.cms.editor.sdk.premular.DocumentTabPanel.xtype,
AS3.bind(this$,"registerSwitchingContainer$UIkX"))})}function getPositionRadioGroupName(){return"toi-position-radio-group-"+this.getId()}function getStylesVE(bindTo,styleSettingsPaths){if(!this.stylesVE$UIkX)this.stylesVE$UIkX=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){if(!bindTo.isLoaded())return undefined;var content=AS3.as(bindTo.getValue(),com.coremedia.cap.content.Content);if(!content)return[];var styleDescriptorContents=com.coremedia.cms.editor.sdk.util.TeaserOverlayManager.getInstance().computeAvailableStylesForTeaser(content,
styleSettingsPaths);if(styleDescriptorContents===undefined)return undefined;var result=[];result.push(null);styleDescriptorContents.forEach(function(content){result.push(com.coremedia.cms.editor.sdk.util.TeaserOverlayManager.getInstance().createStyleDescriptorFromContent(content))});return result});return this.stylesVE$UIkX}function getForceRichtextButtonsDisabledVE(){if(!this.forceRichTextButtonsDisabledVE$UIkX)this.forceRichTextButtonsDisabledVE$UIkX=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayViewModel.RICHTEXT_BUTTONS_DISABLED_PROPERTY_NAME,
AS3.getBindable(this,"teaserOverlayViewModel"));return this.forceRichTextButtonsDisabledVE$UIkX}function getRichTextButtonsDisabledVE(){var this$=this;if(!this.richTextButtonsDisabledVE$UIkX)this.richTextButtonsDisabledVE$UIkX=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){return this$.forceReadOnlyValueExpression&&this$.forceReadOnlyValueExpression.getValue()||this$.getForceRichtextButtonsDisabledVE$UIkX().getValue()});return this.richTextButtonsDisabledVE$UIkX}function get$teaserOverlaySettings(){if(!this._teaserOverlaySettings$UIkX){var ve=
this.bindTo.extendBy(AS3.getBindable(this,"settingsPath"));this._teaserOverlaySettings$UIkX=new com.coremedia.cms.editor.sdk.util.TeaserOverlaySettings(ve)}return this._teaserOverlaySettings$UIkX}function get$teaserOverlayViewModel(){if(!this._teaserOverlayViewModel$UIkX)this._teaserOverlayViewModel$UIkX=new com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayViewModel;return this._teaserOverlayViewModel$UIkX}function isNoStyleSelected$static(content){var enabled=content!==null;return enabled}
function radioPositionToPositionX$static(position){var index=position-1;if(index%3==1)return 0;if(index%3==2)return 50;return-50}function radioPositionToPositionY$static(position){var index=position-1;if(index>=3&&index<=5)return 0;if(index>=6&&index<=8)return 50;return-50}function settingsToPosition$static(settings){var positionX=settings.positionX+50;var positionY=settings.positionY+50;if(isNaN(positionX)||isNaN(positionY))return undefined;var radioPosition=1;if(positionX>33)radioPosition++;if(positionX>
66)radioPosition++;if(positionY>33)radioPosition+=3;if(positionY>66)radioPosition+=3;return radioPosition}function getRadioPositionVE(){var this$=this;if(!this.radioPositionVE$UIkX)this.radioPositionVE$UIkX=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){return TeaserOverlayPropertyFieldBase.settingsToPosition(AS3.getBindable(this$,"teaserOverlaySettings"))});return this.radioPositionVE$UIkX}function getIconClsVE(){var this$=this;if(!this.iconClsVE$UIkX)this.iconClsVE$UIkX=
com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){return POSITION_TO_ICON_MAPPING$static[TeaserOverlayPropertyFieldBase.settingsToPosition(AS3.getBindable(this$,"teaserOverlaySettings"))]});return this.iconClsVE$UIkX}function toExpressionValue(item){return parseInt(item[this.getPositionRadioGroupName()])}function toInputValue(value){var result={};result[this.getPositionRadioGroupName()]=value+"";return result}function getPositionValueExpression(teaserOverlayViewModel){if(!this.positionValueExpression$UIkX){this.positionValueExpression$UIkX=
com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayViewModel.RADIO_POSITION_PROPERTY_NAME,teaserOverlayViewModel);this.positionValueExpression$UIkX.addChangeListener(AS3.bind(this,"radioPositionChanged$UIkX"))}return this.positionValueExpression$UIkX}function radioPositionChanged(ve){var radioPosition=ve.getValue();if(radioPosition!==undefined)if(TeaserOverlayPropertyFieldBase.settingsToPosition(AS3.getBindable(this,"teaserOverlaySettings"))!==
radioPosition){var positionX=TeaserOverlayPropertyFieldBase.radioPositionToPositionX(radioPosition);var positionY=TeaserOverlayPropertyFieldBase.radioPositionToPositionY(radioPosition);AS3.getBindable(this,"teaserOverlayViewModel").set(com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayViewModel.SLIDER_POSITION_X,positionX);AS3.getBindable(this,"teaserOverlayViewModel").set(com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayViewModel.SLIDER_POSITION_Y,positionY)}}function updateAlignment(source){}
function getOverlayStyleValueExpression(){var this$=this;if(!this.overlayStyleValueExpression$UIkX){this.overlayStyleValueExpression$UIkX=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayViewModel.STYLE_PROPERTY_NAME,AS3.getBindable(this,"teaserOverlayViewModel"));this.overlayStyleValueExpression$UIkX.loadValue(function(){this$.overlayStyleValueExpression$UIkX.addChangeListener(AS3.bind(this$,"styleSelectorChanged$UIkX"))})}return this.overlayStyleValueExpression$UIkX}
function styleSelectorChanged(ve){var style=ve.getValue();if(style){var manager=com.coremedia.cms.editor.sdk.util.TeaserOverlayManager.getInstance();manager.applyStyleToTeaserOverlaySettings(style,AS3.getBindable(this,"teaserOverlaySettings"))}}function getActiveContainer$static(content){if(content)return com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayPropertyField.TEASER_OVERLAY_RICHTEXT_ITEM_ID;return com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayPropertyField.TEASER_TEXTAREA_ITEM_ID}
function getTeaserTextSwitchingContainer(){if(!this.teaserTextSwitchingContainer$UIkX)this.teaserTextSwitchingContainer$UIkX=AS3.as(this.queryById(com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayPropertyField.SWITCHING_CONTAINER_ITEM_ID),com.coremedia.ui.components.SwitchingContainer);return this.teaserTextSwitchingContainer$UIkX}function registerSwitchingContainer(panel){panel.registerPropertyField("properties."+this.propertyName,this)}function positionYTransformer$static(value){if(value===
undefined)return 0;return-value}function positionYReverseTransformer$static(value){if(value===undefined)return 0;return-value}function onActivate(){this.positionValueExpression$UIkX.removeChangeListener(AS3.bind(this,"radioPositionChanged$UIkX"))}function onDeactivate(slider){this.positionValueExpression$UIkX.addChangeListener(AS3.bind(this,"radioPositionChanged$UIkX"));this.updateAlignment$UIkX(slider)}function tooltipTransformer$static(thumb){if(thumb.value===null||thumb.value===undefined)return"0";
return-thumb.value}function onDestroy(){this.positionValueExpression$UIkX.removeChangeListener(AS3.bind(this,"radioPositionChanged$UIkX"));this.overlayStyleValueExpression$UIkX.removeChangeListener(AS3.bind(this,"styleSelectorChanged$UIkX"));AS3.getBindable(this,"teaserOverlaySettings").destroy();com.coremedia.cms.editor.sdk.premular.fields.RichTextPropertyFieldBase.prototype.onDestroy.call(this)}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.RichTextPropertyFieldBase",metadata:{"":["PublicApi"]},
_teaserOverlaySettings$UIkX:null,_teaserOverlayViewModel$UIkX:null,positionValueExpression$UIkX:null,stylesVE$UIkX:null,iconClsVE$UIkX:null,radioPositionVE$UIkX:null,teaserTextSwitchingContainer$UIkX:null,overlayStyleValueExpression$UIkX:null,forceRichTextButtonsDisabledVE$UIkX:null,richTextButtonsDisabledVE$UIkX:null,constructor:TeaserOverlayPropertyFieldBase$,super$UIkX:function(){com.coremedia.cms.editor.sdk.premular.fields.RichTextPropertyFieldBase.prototype.constructor.apply(this,arguments)},
getPositionRadioGroupName:getPositionRadioGroupName,getStylesVE:getStylesVE,getForceRichtextButtonsDisabledVE$UIkX:getForceRichtextButtonsDisabledVE,getRichTextButtonsDisabledVE:getRichTextButtonsDisabledVE,getTeaserOverlaySettings:get$teaserOverlaySettings,getTeaserOverlayViewModel:get$teaserOverlayViewModel,getRadioPositionVE:getRadioPositionVE,getIconClsVE:getIconClsVE,toExpressionValue:toExpressionValue,toInputValue:toInputValue,getPositionValueExpression:getPositionValueExpression,radioPositionChanged$UIkX:radioPositionChanged,
updateAlignment$UIkX:updateAlignment,getOverlayStyleValueExpression:getOverlayStyleValueExpression,styleSelectorChanged$UIkX:styleSelectorChanged,getTeaserTextSwitchingContainer$UIkX:getTeaserTextSwitchingContainer,registerSwitchingContainer$UIkX:registerSwitchingContainer,onActivate:onActivate,onDeactivate:onDeactivate,onDestroy:onDestroy,config:{settingsPath:null,styleDescriptorFolderPaths:undefined,teaserOverlaySettings:undefined,teaserOverlayViewModel:undefined},statics:{POSITION_TO_ICON_MAPPING:undefined,
isNoStyleSelected:isNoStyleSelected$static,radioPositionToPositionX:radioPositionToPositionX$static,radioPositionToPositionY:radioPositionToPositionY$static,settingsToPosition:settingsToPosition$static,getActiveContainer:getActiveContainer$static,positionYTransformer:positionYTransformer$static,positionYReverseTransformer:positionYReverseTransformer$static,tooltipTransformer:tooltipTransformer$static,__initStatics__:function(){POSITION_TO_ICON_MAPPING$static_()}},requires:["com.coremedia.cap.content.Content",
"com.coremedia.cms.editor.TeaserOverlay_properties","com.coremedia.cms.editor.sdk.premular.fields.RichTextPropertyFieldBase","com.coremedia.ui.components.SwitchingContainer","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.util.ComponentUtil","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.premular.DocumentTabPanel","com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayPropertyField","com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayViewModel",
"com.coremedia.cms.editor.sdk.util.TeaserOverlayManager","com.coremedia.cms.editor.sdk.util.TeaserOverlaySettings"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayStyleSelectorBase",function(TeaserOverlayStyleSelectorBase){var TEASER_OVERLAY_PREVIEW_BLOCK$static;function TEASER_OVERLAY_PREVIEW_BLOCK$static_(){TEASER_OVERLAY_PREVIEW_BLOCK$static=new com.coremedia.ui.models.bem.BEMBlock("cm-teaser-overlay-preview")}var TEASER_OVERLAY_PREVIEW_ELEMENT_TEXT$static;function TEASER_OVERLAY_PREVIEW_ELEMENT_TEXT$static_(){TEASER_OVERLAY_PREVIEW_ELEMENT_TEXT$static=TEASER_OVERLAY_PREVIEW_BLOCK$static.createElement("text")}
function getTemplate$static(){var title='\x3cspan class\x3d"'+com.coremedia.cms.editor.sdk.premular.fields.ComboBoxLinkPropertyFieldBase.ITEM_ELEMENT_NAME+'"\x3e{'+TeaserOverlayStyleSelectorBase.TITLE_FIELD_NAME+"}\x3c/span\x3e";var description='\x3cspan class\x3d"'+com.coremedia.cms.editor.sdk.premular.fields.ComboBoxLinkPropertyFieldBase.ITEM_ELEMENT_DESCRIPTION+'"\x3e{'+TeaserOverlayStyleSelectorBase.DESCRIPTION_FIELD_NAME+"}\x3c/span\x3e";var site='\x3cspan class\x3d"'+com.coremedia.cms.editor.sdk.premular.fields.ComboBoxLinkPropertyFieldBase.ITEM_ELEMENT_SITE+
'"\x3e{'+TeaserOverlayStyleSelectorBase.SITE_FIELD_NAME+"}\x3c/span\x3e";var backgroundColor='\x3ctpl if\x3d"'+TeaserOverlayStyleSelectorBase.BACKGROUND_COLOR_FIELD_NAME+'"\x3ebackground-color:{'+TeaserOverlayStyleSelectorBase.BACKGROUND_COLOR_FIELD_NAME+"};\x3c/tpl\x3e";var color='\x3ctpl if\x3d"'+TeaserOverlayStyleSelectorBase.COLOR_FIELD_NAME+'"\x3ecolor:{'+TeaserOverlayStyleSelectorBase.COLOR_FIELD_NAME+"};\x3c/tpl\x3e";var defaultBackgroundString="background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAG0lEQVQYlWM4cezYf3SMDTAMBYXYBLFpHgoKAaOvbX5FJ+m0AAAAAElFTkSuQmCC) repeat;";
return(new Ext.XTemplate('\x3cdiv class\x3d"'+com.coremedia.cms.editor.sdk.premular.fields.ComboBoxLinkPropertyFieldBase.LIST_BLOCK+'"\x3e','  \x3ctpl for\x3d"."\x3e','    \x3cdiv class\x3d" '+com.coremedia.ui.components.LocalComboBox.COMBO_BOX_TPL_ITEM_CLASS+" "+com.coremedia.cms.editor.sdk.premular.fields.ComboBoxLinkPropertyFieldBase.LIST_ELEMENT_ITEM+" "+com.coremedia.cms.editor.sdk.premular.fields.ComboBoxLinkPropertyFieldBase.ITEM_BLOCK+'"\x3e','      \x3ctpl if\x3d"'+TeaserOverlayStyleSelectorBase.HAS_PREVIEW_FIELD_NAME+
'"\x3e','        \x3cdiv class\x3d"'+com.coremedia.cms.editor.sdk.premular.fields.ComboBoxLinkPropertyFieldBase.ITEM_ELEMENT_LEFT+'"\x3e','           \x3cdiv style\x3d"'+defaultBackgroundString+'"\x3e','             \x3cdiv class\x3d"'+TEASER_OVERLAY_PREVIEW_BLOCK$static+'" style\x3d"'+backgroundColor+'"\x3e','             \x3cdiv class\x3d"'+TEASER_OVERLAY_PREVIEW_ELEMENT_TEXT$static+'" style\x3d"'+color+'"\x3eExample Text\x3c/div\x3e',"           \x3c/div\x3e","         \x3c/div\x3e","        \x3c/div\x3e",
"      \x3c/tpl\x3e",'      \x3cdiv class\x3d"'+com.coremedia.cms.editor.sdk.premular.fields.ComboBoxLinkPropertyFieldBase.ITEM_ELEMENT_RIGHT+'"\x3e',title,description,site,"      \x3c/div\x3e","    \x3c/div\x3e","  \x3c/tpl\x3e","\x3c/div\x3e")).compile()}function TeaserOverlayStyleSelectorBase$(config){if(arguments.length<=0)config=null;this.super$TFAi(config)}function localizeTitle$static(styleDescriptor){if(!styleDescriptor)return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.TeaserOverlay",
"TeaserOverlay_style_no_selection");return styleDescriptor.title||mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.TeaserOverlay","TeaserOverlay_style_no_title")}function localizeDescription$static(styleDescriptor){if(!styleDescriptor)return"";return styleDescriptor.description||""}function hasPreview$static(styleDescriptor){return!!styleDescriptor}function resolveColor$static(styleDescriptor){if(!styleDescriptor)return"";return styleDescriptor.style.color}function resolveBackgroundColor$static(styleDescriptor){if(!styleDescriptor)return"";
return styleDescriptor.style.backgroundColor}return{extend:"com.coremedia.ui.components.LocalComboBox",metadata:{"":["PublicApi"]},constructor:TeaserOverlayStyleSelectorBase$,super$TFAi:function(){com.coremedia.ui.components.LocalComboBox.prototype.constructor.apply(this,arguments)},statics:{VALUE_FIELD_NAME:"value",TITLE_FIELD_NAME:"title",DESCRIPTION_FIELD_NAME:"description",SITE_FIELD_NAME:"site",HAS_PREVIEW_FIELD_NAME:"hasPreview",COLOR_FIELD_NAME:"color",BACKGROUND_COLOR_FIELD_NAME:"backgroundColor",
TEASER_OVERLAY_PREVIEW_BLOCK:undefined,TEASER_OVERLAY_PREVIEW_ELEMENT_TEXT:undefined,getTemplate:getTemplate$static,localizeTitle:localizeTitle$static,localizeDescription:localizeDescription$static,hasPreview:hasPreview$static,resolveColor:resolveColor$static,resolveBackgroundColor:resolveBackgroundColor$static,__initStatics__:function(){TEASER_OVERLAY_PREVIEW_BLOCK$static_();TEASER_OVERLAY_PREVIEW_ELEMENT_TEXT$static_()}},requires:["Ext.XTemplate","com.coremedia.cms.editor.TeaserOverlay_properties",
"com.coremedia.ui.components.LocalComboBox","com.coremedia.ui.models.bem.BEMBlock","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.premular.fields.ComboBoxLinkPropertyFieldBase"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayPositionMenu",function(TeaserOverlayPositionMenu){function TeaserOverlayPositionMenu$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayPositionMenuBase,{});var defaults_$1=AS3.cast(TeaserOverlayPositionMenu,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.plain=true;config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.MenuSkin.GRID_100);
config_$1.items=[];var layout_Anchor_26_5_$1=AS3.cast(Ext.layout.container.Anchor,{});AS3.setBindable(config_$1,"layout",layout_Anchor_26_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$B50z(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayPositionMenuBase",alias:"widget.com.coremedia.cms.editor.sdk.config.TeaserOverlayPositionMenu",constructor:TeaserOverlayPositionMenu$,super$B50z:function(){com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayPositionMenuBase.prototype.constructor.apply(this,
arguments)},requires:["Ext.layout.container.Anchor","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayPositionMenuBase","com.coremedia.ui.skins.MenuSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayPropertyFieldContextMenu",function(TeaserOverlayPropertyFieldContextMenu){function TeaserOverlayPropertyFieldContextMenu$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.menu.Menu,{});var defaults_$1=AS3.cast(TeaserOverlayPropertyFieldContextMenu,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.plain=true;var menuItem_35_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_35_5_$1.itemId=net.jangaroo.ext.Exml.asString(TeaserOverlayPropertyFieldContextMenu.OPEN_IN_TAB_MENU_ITEM_ID);
var editor_OpenInTabAction_37_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenInTabAction,{});AS3.setBindable(editor_OpenInTabAction_37_9_$1,"contentValueExpression",AS3.getBindable(config,"internalLinkContentValueExpression"));menuItem_35_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.OpenInTabAction(editor_OpenInTabAction_37_9_$1);var menuItem_40_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_40_5_$1.itemId=net.jangaroo.ext.Exml.asString(TeaserOverlayPropertyFieldContextMenu.OPEN_IN_BROWSER_TAB_MENU_ITEM_ID);
var editor_OpenInBrowserTabAction_42_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenInBrowserTabAction,{});AS3.setBindable(editor_OpenInBrowserTabAction_42_9_$1,"urlValueExpression",AS3.getBindable(config,"externalLinkUrlValueExpression"));menuItem_40_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.OpenInBrowserTabAction(editor_OpenInBrowserTabAction_42_9_$1);var menuSeparator_45_5_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_46_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_46_5_$1.itemId=
net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayPropertyField.IMAGE_PROPERTIES_ITEM_ID);var ui_PropertiesAction_48_9_$1=AS3.cast(com.coremedia.ui.ckeditor.PropertiesAction,{});AS3.setBindable(ui_PropertiesAction_48_9_$1,"disabled",false);menuItem_46_5_$1.baseAction=new com.coremedia.ui.ckeditor.PropertiesAction(ui_PropertiesAction_48_9_$1);config_$1.items=[menuItem_35_5_$1,menuItem_40_5_$1,menuSeparator_45_5_$1,menuItem_46_5_$1];net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$T23U(config_$1)}return{extend:"Ext.menu.Menu",alias:"widget.com.coremedia.cms.editor.sdk.config.teaserOverlayPropertyFieldContextMenu",constructor:TeaserOverlayPropertyFieldContextMenu$,super$T23U:function(){Ext.menu.Menu.prototype.constructor.apply(this,arguments)},config:{internalLinkContentValueExpression:null,externalLinkUrlValueExpression:null},statics:{OPEN_IN_TAB_MENU_ITEM_ID:"openInTab",OPEN_IN_BROWSER_TAB_MENU_ITEM_ID:"openInBrowserTab"},requires:["Ext.menu.Item","Ext.menu.Menu",
"Ext.menu.Separator","com.coremedia.ui.ckeditor.PropertiesAction","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.actions.OpenInBrowserTabAction","com.coremedia.cms.editor.sdk.actions.OpenInTabAction","com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayPropertyField"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayViewModel",function(TeaserOverlayViewModel){function TeaserOverlayViewModel$(){this.super$4mMF()}return{extend:"com.coremedia.ui.data.impl.BeanImpl",constructor:TeaserOverlayViewModel$,super$4mMF:function(){com.coremedia.ui.data.impl.BeanImpl.prototype.constructor.apply(this,arguments)},statics:{STYLE_PROPERTY_NAME:"style",RICHTEXT_BUTTONS_DISABLED_PROPERTY_NAME:"richtextButtonsDisabled",RADIO_POSITION_PROPERTY_NAME:"radioPosition",
ICON_CLS_PROPERTY_NAME:"iconCls",SLIDER_POSITION_X:"sliderPositionX",SLIDER_POSITION_Y:"sliderPositionY",SLIDER_WIDTH:"sliderWidth"},requires:["com.coremedia.ui.data.impl.BeanImpl"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayPropertyField",function(TeaserOverlayPropertyField){var POSITION_CHOOSER_BLOCK$static;function POSITION_CHOOSER_BLOCK$static_(){POSITION_CHOOSER_BLOCK$static=new com.coremedia.ui.models.bem.BEMBlock("cm-position-chooser")}var POSITION_CHOOSER_ELEMENT_GROUP$static;function POSITION_CHOOSER_ELEMENT_GROUP$static_(){POSITION_CHOOSER_ELEMENT_GROUP$static=POSITION_CHOOSER_BLOCK$static.createElement("group")}var POSITION_CHOOSER_ELEMENT_TL$static;
function POSITION_CHOOSER_ELEMENT_TL$static_(){POSITION_CHOOSER_ELEMENT_TL$static=POSITION_CHOOSER_BLOCK$static.createElement("tl")}var POSITION_CHOOSER_ELEMENT_TC$static;function POSITION_CHOOSER_ELEMENT_TC$static_(){POSITION_CHOOSER_ELEMENT_TC$static=POSITION_CHOOSER_BLOCK$static.createElement("tc")}var POSITION_CHOOSER_ELEMENT_TR$static;function POSITION_CHOOSER_ELEMENT_TR$static_(){POSITION_CHOOSER_ELEMENT_TR$static=POSITION_CHOOSER_BLOCK$static.createElement("tr")}var POSITION_CHOOSER_ELEMENT_ML$static;
function POSITION_CHOOSER_ELEMENT_ML$static_(){POSITION_CHOOSER_ELEMENT_ML$static=POSITION_CHOOSER_BLOCK$static.createElement("ml")}var POSITION_CHOOSER_ELEMENT_MC$static;function POSITION_CHOOSER_ELEMENT_MC$static_(){POSITION_CHOOSER_ELEMENT_MC$static=POSITION_CHOOSER_BLOCK$static.createElement("mc")}var POSITION_CHOOSER_ELEMENT_MR$static;function POSITION_CHOOSER_ELEMENT_MR$static_(){POSITION_CHOOSER_ELEMENT_MR$static=POSITION_CHOOSER_BLOCK$static.createElement("mr")}var POSITION_CHOOSER_ELEMENT_BL$static;
function POSITION_CHOOSER_ELEMENT_BL$static_(){POSITION_CHOOSER_ELEMENT_BL$static=POSITION_CHOOSER_BLOCK$static.createElement("bl")}var POSITION_CHOOSER_ELEMENT_BC$static;function POSITION_CHOOSER_ELEMENT_BC$static_(){POSITION_CHOOSER_ELEMENT_BC$static=POSITION_CHOOSER_BLOCK$static.createElement("bc")}var POSITION_CHOOSER_ELEMENT_BR$static;function POSITION_CHOOSER_ELEMENT_BR$static_(){POSITION_CHOOSER_ELEMENT_BR$static=POSITION_CHOOSER_BLOCK$static.createElement("br")}function TeaserOverlayPropertyField$(config){if(arguments.length<=
0)config=null;this.__initialize__$hOYm(config);var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayPropertyFieldBase,{});var defaults_$1=AS3.cast(TeaserOverlayPropertyField,{});AS3.setBindable(defaults_$1,"changeBuffer",1E3);config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var editor_SetPropertyLabelPlugin_205_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin,{});editor_SetPropertyLabelPlugin_205_5_$1.bindTo=config.bindTo;
editor_SetPropertyLabelPlugin_205_5_$1.propertyName=net.jangaroo.ext.Exml.asString(config.propertyName);var editor_BindReadOnlyPlugin_207_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPlugin,{});editor_BindReadOnlyPlugin_207_5_$1.bindTo=config.bindTo;AS3.setBindable(editor_BindReadOnlyPlugin_207_5_$1,"forceReadOnlyValueExpression",config.forceReadOnlyValueExpression);var ui_Binding_209_5_$1=AS3.cast(com.coremedia.ui.plugins.Binding,{});AS3.setBindable(ui_Binding_209_5_$1,
"source","teaserOverlaySettings.style");AS3.setBindable(ui_Binding_209_5_$1,"destination","teaserOverlayViewModel.style");AS3.setBindable(ui_Binding_209_5_$1,"twoWay",true);var ui_Binding_212_5_$1=AS3.cast(com.coremedia.ui.plugins.Binding,{});AS3.setBindable(ui_Binding_212_5_$1,"source","teaserOverlaySettings.style");AS3.setBindable(ui_Binding_212_5_$1,"destination","teaserOverlaySettings.enabled");AS3.setBindable(ui_Binding_212_5_$1,"twoWay",false);AS3.setBindable(ui_Binding_212_5_$1,"transformer",
com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayPropertyFieldBase.isNoStyleSelected);var ui_Binding_216_5_$1=AS3.cast(com.coremedia.ui.plugins.Binding,{});AS3.setBindable(ui_Binding_216_5_$1,"source","teaserOverlaySettings.enabled");AS3.setBindable(ui_Binding_216_5_$1,"destination","teaserOverlayViewModel.richtextButtonsDisabled");AS3.setBindable(ui_Binding_216_5_$1,"twoWay",false);AS3.setBindable(ui_Binding_216_5_$1,"transformer",function(enabled){return!enabled});var ui_Binding_220_5_$1=
AS3.cast(com.coremedia.ui.plugins.Binding,{});AS3.setBindable(ui_Binding_220_5_$1,"source",this.getIconClsVE());AS3.setBindable(ui_Binding_220_5_$1,"destination","teaserOverlayViewModel.iconCls");AS3.setBindable(ui_Binding_220_5_$1,"twoWay",false);var ui_Binding_223_5_$1=AS3.cast(com.coremedia.ui.plugins.Binding,{});AS3.setBindable(ui_Binding_223_5_$1,"source",this.getRadioPositionVE());AS3.setBindable(ui_Binding_223_5_$1,"destination","teaserOverlayViewModel.radioPosition");AS3.setBindable(ui_Binding_223_5_$1,
"twoWay",false);var ui_Binding_228_5_$1=AS3.cast(com.coremedia.ui.plugins.Binding,{});AS3.setBindable(ui_Binding_228_5_$1,"source","teaserOverlaySettings.positionX");AS3.setBindable(ui_Binding_228_5_$1,"destination","teaserOverlayViewModel.sliderPositionX");AS3.setBindable(ui_Binding_228_5_$1,"twoWay",true);var ui_Binding_231_5_$1=AS3.cast(com.coremedia.ui.plugins.Binding,{});AS3.setBindable(ui_Binding_231_5_$1,"source","teaserOverlaySettings.positionY");AS3.setBindable(ui_Binding_231_5_$1,"destination",
"teaserOverlayViewModel.sliderPositionY");AS3.setBindable(ui_Binding_231_5_$1,"twoWay",true);var ui_Binding_234_5_$1=AS3.cast(com.coremedia.ui.plugins.Binding,{});AS3.setBindable(ui_Binding_234_5_$1,"source","teaserOverlaySettings.width");AS3.setBindable(ui_Binding_234_5_$1,"destination","teaserOverlayViewModel.sliderWidth");AS3.setBindable(ui_Binding_234_5_$1,"twoWay",true);config_$1.plugins=[editor_SetPropertyLabelPlugin_205_5_$1,editor_BindReadOnlyPlugin_207_5_$1,ui_Binding_209_5_$1,ui_Binding_212_5_$1,
ui_Binding_216_5_$1,ui_Binding_220_5_$1,ui_Binding_223_5_$1,ui_Binding_228_5_$1,ui_Binding_231_5_$1,ui_Binding_234_5_$1];var panel_239_5_$1=AS3.cast(Ext.panel.Panel,{});panel_239_5_$1.manageHeight=false;panel_239_5_$1.defaultFocus=net.jangaroo.ext.Exml.asString(com.coremedia.ui.util.createComponentSelector().itemId(TeaserOverlayPropertyField.SWITCHING_CONTAINER_ITEM_ID).build());var ui_SwitchingContainer_242_9_$1=AS3.cast(com.coremedia.ui.components.SwitchingContainer,{});ui_SwitchingContainer_242_9_$1.itemId=
net.jangaroo.ext.Exml.asString(TeaserOverlayPropertyField.SWITCHING_CONTAINER_ITEM_ID);AS3.setBindable(ui_SwitchingContainer_242_9_$1,"layoutOnCardChange",true);AS3.setBindable(ui_SwitchingContainer_242_9_$1,"activeItemValueExpression",com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayViewModel.STYLE_PROPERTY_NAME,AS3.getBindable(this,"teaserOverlayViewModel")));AS3.setBindable(ui_SwitchingContainer_242_9_$1,"transformer",com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayPropertyFieldBase.getActiveContainer);
ui_SwitchingContainer_242_9_$1.defaultFocus=":first";var fx_Object_248_13_$1=Object({});fx_Object_248_13_$1.bindTo=config.bindTo;ui_SwitchingContainer_242_9_$1["defaultType"]=fx_Object_248_13_$1["xtype"];delete fx_Object_248_13_$1["xtype"];delete fx_Object_248_13_$1["xclass"];ui_SwitchingContainer_242_9_$1.defaults=fx_Object_248_13_$1;var editor_TextAreaPropertyField_251_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.TextAreaPropertyField,{});AS3.setBindable(editor_TextAreaPropertyField_251_13_$1,
"propertyName",net.jangaroo.ext.Exml.asString(config.propertyName));editor_TextAreaPropertyField_251_13_$1.hideLabel=true;editor_TextAreaPropertyField_251_13_$1.itemId=net.jangaroo.ext.Exml.asString(TeaserOverlayPropertyField.TEASER_TEXTAREA_ITEM_ID);AS3.setBindable(editor_TextAreaPropertyField_251_13_$1,"changeBuffer",1E3);AS3.setBindable(editor_TextAreaPropertyField_251_13_$1,"forceReadOnlyValueExpression",config.forceReadOnlyValueExpression);var editor_TextAreaPropertyFieldDelegatePlugin_257_17_$1=
AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.TextAreaPropertyFieldDelegatePlugin,{});AS3.setBindable(editor_TextAreaPropertyFieldDelegatePlugin_257_17_$1,"delegatePropertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"delegatePropertyName")));editor_TextAreaPropertyField_251_13_$1.plugins=[editor_TextAreaPropertyFieldDelegatePlugin_257_17_$1];editor_TextAreaPropertyField_251_13_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var editor_CoreMediaRichTextArea_260_13_$1=
AS3.cast(com.coremedia.cms.editor.sdk.components.CoreMediaRichTextArea,{});editor_CoreMediaRichTextArea_260_13_$1.itemId=net.jangaroo.ext.Exml.asString(TeaserOverlayPropertyField.TEASER_OVERLAY_RICHTEXT_ITEM_ID);AS3.setBindable(editor_CoreMediaRichTextArea_260_13_$1,"listeners",{"keydown":com.coremedia.cms.editor.sdk.premular.fields.RichTextPropertyFieldBase.handleKeys});AS3.setBindable(editor_CoreMediaRichTextArea_260_13_$1,"height",AS3.getBindable(config,"initialHeight"));AS3.setBindable(editor_CoreMediaRichTextArea_260_13_$1,
"changeBuffer",AS3.getBindable(config,"changeBuffer"));editor_CoreMediaRichTextArea_260_13_$1.ariaLabelledBy=AS3.bind(this,"getLabelId");var editor_BindReadOnlyPlugin_266_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPlugin,{});AS3.setBindable(editor_BindReadOnlyPlugin_266_17_$1,"forceReadOnlyValueExpression",config.forceReadOnlyValueExpression);editor_BindReadOnlyPlugin_266_17_$1.bindTo=config.bindTo;var ui_WriteBeforeFlushPlugin_268_17_$1=AS3.cast(com.coremedia.ui.plugins.WriteBeforeFlushPlugin,
{});AS3.setBindable(ui_WriteBeforeFlushPlugin_268_17_$1,"valueExpression",config.bindTo);var editor_PropertyFieldPlugin_269_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin,{});AS3.setBindable(editor_PropertyFieldPlugin_269_17_$1,"propertyName",net.jangaroo.ext.Exml.asString(config.propertyName));var ui_BindBlobPropertyPlugin_271_17_$1=AS3.cast(com.coremedia.ui.plugins.BindBlobPropertyPlugin,{});ui_BindBlobPropertyPlugin_271_17_$1.bindTo=this.getRichTextValueExpression();var ui_ResizablePlugin_272_17_$1=
AS3.cast(com.coremedia.ui.plugins.ResizablePlugin,{});AS3.setBindable(ui_ResizablePlugin_272_17_$1,"fitComponent",true);var ui_StatefulResizer_274_21_$1=AS3.cast(com.coremedia.ui.components.StatefulResizer,{});ui_StatefulResizer_274_21_$1.minHeight=30;ui_StatefulResizer_274_21_$1.handles="s";ui_StatefulResizer_274_21_$1.pinned=true;ui_StatefulResizer_274_21_$1.dynamic=false;AS3.setBindable(ui_StatefulResizer_274_21_$1,"embed",false);AS3.setBindable(ui_StatefulResizer_274_21_$1,"horizontalResize",
false);ui_ResizablePlugin_272_17_$1.resizableConfig=ui_StatefulResizer_274_21_$1;var editor_SetPropertyEmptyTextPlugin_282_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyEmptyTextPlugin,{});editor_SetPropertyEmptyTextPlugin_282_17_$1.bindTo=config.bindTo;AS3.setBindable(editor_SetPropertyEmptyTextPlugin_282_17_$1,"propertyName",net.jangaroo.ext.Exml.asString(config.propertyName));editor_CoreMediaRichTextArea_260_13_$1.plugins=[editor_BindReadOnlyPlugin_266_17_$1,ui_WriteBeforeFlushPlugin_268_17_$1,
editor_PropertyFieldPlugin_269_17_$1,ui_BindBlobPropertyPlugin_271_17_$1,ui_ResizablePlugin_272_17_$1,editor_SetPropertyEmptyTextPlugin_282_17_$1];editor_CoreMediaRichTextArea_260_13_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;ui_SwitchingContainer_242_9_$1.items=[editor_TextAreaPropertyField_251_13_$1,editor_CoreMediaRichTextArea_260_13_$1];panel_239_5_$1.items=[ui_SwitchingContainer_242_9_$1];var ui_FloatingToolbar_291_9_$1=AS3.cast(com.coremedia.ui.components.FloatingToolbar,{});ui_FloatingToolbar_291_9_$1.enableOverflow=
true;ui_FloatingToolbar_291_9_$1.defaultButtonUI=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.TOOLBAR.getSkin());ui_FloatingToolbar_291_9_$1.excludeInputFields=true;var ui_BindVisibilityPlugin_295_13_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_295_13_$1.bindTo=this.getStylesVE(config.bindTo,AS3.getBindable(config,"styleDescriptorFolderPaths"));AS3.setBindable(ui_BindVisibilityPlugin_295_13_$1,"transformer",function(result){return result.length>
0});ui_FloatingToolbar_291_9_$1.plugins=[ui_BindVisibilityPlugin_295_13_$1];var local_TeaserOverlayStyleSelector_299_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayStyleSelector,{});AS3.setBindable(local_TeaserOverlayStyleSelector_299_13_$1,"bindTo",config.bindTo);AS3.setBindable(local_TeaserOverlayStyleSelector_299_13_$1,"forceReadOnlyValueExpression",config.forceReadOnlyValueExpression);AS3.setBindable(local_TeaserOverlayStyleSelector_299_13_$1,"stylesVE",this.getStylesVE(config.bindTo,
AS3.getBindable(config,"styleDescriptorFolderPaths")));var ui_BindPropertyPlugin_303_17_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_303_17_$1.bindTo=this.getOverlayStyleValueExpression();ui_BindPropertyPlugin_303_17_$1.bidirectional=true;ui_BindPropertyPlugin_303_17_$1.skipIfUndefined=true;ui_BindPropertyPlugin_303_17_$1.transformer=function(content){return com.coremedia.cms.editor.sdk.util.TeaserOverlayManager.getInstance().createStyleDescriptorFromContent(content)};
ui_BindPropertyPlugin_303_17_$1.reverseTransformer=function(descriptor){return com.coremedia.cms.editor.sdk.util.TeaserOverlayManager.getInstance().getContentFromStyleDescriptor(descriptor)};ui_BindPropertyPlugin_303_17_$1.componentEvent="change";local_TeaserOverlayStyleSelector_299_13_$1.plugins=[ui_BindPropertyPlugin_303_17_$1];local_TeaserOverlayStyleSelector_299_13_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var tbSpacer_312_13_$1=AS3.cast(Ext.toolbar.Spacer,{});AS3.setBindable(tbSpacer_312_13_$1,
"width",6);var tbSeparator_313_13_$1=AS3.cast(Ext.toolbar.Separator,{});tbSeparator_313_13_$1.itemId=net.jangaroo.ext.Exml.asString(TeaserOverlayPropertyField.RTE_SEP_FIRST_ITEM_ID);var ui_MenuIconButton_315_13_$1=AS3.cast(com.coremedia.ui.components.MenuIconButton,{});ui_MenuIconButton_315_13_$1.itemId=net.jangaroo.ext.Exml.asString(TeaserOverlayPropertyField.POSITION_GROUP_ITEM_ID);AS3.setBindable(ui_MenuIconButton_315_13_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons",
"text_on_image_mm")));AS3.setBindable(ui_MenuIconButton_315_13_$1,"tooltip",this.resourceManager.getString("com.coremedia.cms.editor.TeaserOverlay","TeaserOverlay_position_tooltip"));AS3.setBindable(ui_MenuIconButton_315_13_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.TeaserOverlay","TeaserOverlay_position_text")));var editor_BindDisablePlugin_320_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin,{});AS3.setBindable(editor_BindDisablePlugin_320_17_$1,
"forceReadOnlyValueExpression",this.getRichTextButtonsDisabledVE());editor_BindDisablePlugin_320_17_$1.bindTo=config.bindTo;var ui_BindPropertyPlugin_323_17_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_323_17_$1.componentProperty="iconCls";ui_BindPropertyPlugin_323_17_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayViewModel.ICON_CLS_PROPERTY_NAME,AS3.getBindable(this,"teaserOverlayViewModel"));
ui_MenuIconButton_315_13_$1.plugins=[editor_BindDisablePlugin_320_17_$1,ui_BindPropertyPlugin_323_17_$1];var local_TeaserOverlayPositionMenu_327_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayPositionMenu,{});AS3.setBindable(local_TeaserOverlayPositionMenu_327_17_$1,"minWidth",0);local_TeaserOverlayPositionMenu_327_17_$1.itemId="positionContainer";local_TeaserOverlayPositionMenu_327_17_$1.plain=true;var layout_Table_331_21_$1=AS3.cast(Ext.layout.container.Table,{});
layout_Table_331_21_$1.columns=2;AS3.setBindable(local_TeaserOverlayPositionMenu_327_17_$1,"layout",layout_Table_331_21_$1);var radioGroup_334_21_$1=AS3.cast(Ext.form.RadioGroup,{});radioGroup_334_21_$1.itemId=net.jangaroo.ext.Exml.asString(TeaserOverlayPropertyField.POSITION_RATIO_GROUP_ITEM_ID);radioGroup_334_21_$1.name=net.jangaroo.ext.Exml.asString(this.getPositionRadioGroupName());radioGroup_334_21_$1.columns=3;radioGroup_334_21_$1.hideLabel=true;radioGroup_334_21_$1["groupCls"]=POSITION_CHOOSER_ELEMENT_GROUP$static.getCSSClass();
var radio_340_25_$1=AS3.cast(Ext.form.field.Radio,{});radio_340_25_$1.itemId="radio-1";radio_340_25_$1.inputValue="1";radio_340_25_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.TeaserOverlay","TeaserOverlay_position_tl"));AS3.setBindable(radio_340_25_$1,"boxLabel",net.jangaroo.ext.Exml.asString(getPositionIconHTML$static(POSITION_CHOOSER_ELEMENT_TL$static)));var radio_344_25_$1=AS3.cast(Ext.form.field.Radio,{});radio_344_25_$1.itemId="radio-2";
radio_344_25_$1.inputValue="2";radio_344_25_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.TeaserOverlay","TeaserOverlay_position_tc"));AS3.setBindable(radio_344_25_$1,"boxLabel",net.jangaroo.ext.Exml.asString(getPositionIconHTML$static(POSITION_CHOOSER_ELEMENT_TC$static)));var radio_348_25_$1=AS3.cast(Ext.form.field.Radio,{});radio_348_25_$1.itemId="radio-3";radio_348_25_$1.inputValue="3";radio_348_25_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.TeaserOverlay",
"TeaserOverlay_position_tr"));AS3.setBindable(radio_348_25_$1,"boxLabel",net.jangaroo.ext.Exml.asString(getPositionIconHTML$static(POSITION_CHOOSER_ELEMENT_TR$static)));var radio_352_25_$1=AS3.cast(Ext.form.field.Radio,{});radio_352_25_$1.itemId="radio-4";radio_352_25_$1.inputValue="4";radio_352_25_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.TeaserOverlay","TeaserOverlay_position_ml"));AS3.setBindable(radio_352_25_$1,"boxLabel",net.jangaroo.ext.Exml.asString(getPositionIconHTML$static(POSITION_CHOOSER_ELEMENT_ML$static)));
var radio_356_25_$1=AS3.cast(Ext.form.field.Radio,{});radio_356_25_$1.itemId="radio-5";radio_356_25_$1.inputValue="5";radio_356_25_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.TeaserOverlay","TeaserOverlay_position_mc"));AS3.setBindable(radio_356_25_$1,"boxLabel",net.jangaroo.ext.Exml.asString(getPositionIconHTML$static(POSITION_CHOOSER_ELEMENT_MC$static)));var radio_360_25_$1=AS3.cast(Ext.form.field.Radio,{});radio_360_25_$1.itemId="radio-6";
radio_360_25_$1.inputValue="6";radio_360_25_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.TeaserOverlay","TeaserOverlay_position_mr"));AS3.setBindable(radio_360_25_$1,"boxLabel",net.jangaroo.ext.Exml.asString(getPositionIconHTML$static(POSITION_CHOOSER_ELEMENT_MR$static)));var radio_364_25_$1=AS3.cast(Ext.form.field.Radio,{});radio_364_25_$1.itemId="radio-7";radio_364_25_$1.inputValue="7";radio_364_25_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.TeaserOverlay",
"TeaserOverlay_position_bl"));AS3.setBindable(radio_364_25_$1,"boxLabel",net.jangaroo.ext.Exml.asString(getPositionIconHTML$static(POSITION_CHOOSER_ELEMENT_BL$static)));var radio_368_25_$1=AS3.cast(Ext.form.field.Radio,{});radio_368_25_$1.itemId="radio-8";radio_368_25_$1.inputValue="8";radio_368_25_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.TeaserOverlay","TeaserOverlay_position_bc"));AS3.setBindable(radio_368_25_$1,"boxLabel",net.jangaroo.ext.Exml.asString(getPositionIconHTML$static(POSITION_CHOOSER_ELEMENT_BC$static)));
var radio_372_25_$1=AS3.cast(Ext.form.field.Radio,{});radio_372_25_$1.itemId="radio-9";radio_372_25_$1.inputValue="9";radio_372_25_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.TeaserOverlay","TeaserOverlay_position_br"));AS3.setBindable(radio_372_25_$1,"boxLabel",net.jangaroo.ext.Exml.asString(getPositionIconHTML$static(POSITION_CHOOSER_ELEMENT_BR$static)));radioGroup_334_21_$1.items=[radio_340_25_$1,radio_344_25_$1,radio_348_25_$1,radio_352_25_$1,
radio_356_25_$1,radio_360_25_$1,radio_364_25_$1,radio_368_25_$1,radio_372_25_$1];var radio_378_25_$1=AS3.cast(Ext.form.field.Radio,{});radio_378_25_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.CheckboxSkin.NO_BOX.getSkin());radio_378_25_$1.hideLabel=true;AS3.setBindable(radio_378_25_$1,"boxLabel","");radioGroup_334_21_$1["defaultType"]=radio_378_25_$1["xtype"];delete radio_378_25_$1["xtype"];delete radio_378_25_$1["xclass"];radioGroup_334_21_$1.defaults=radio_378_25_$1;var ui_BEMPlugin_383_25_$1=
AS3.cast(com.coremedia.ui.plugins.BEMPlugin,{});AS3.setBindable(ui_BEMPlugin_383_25_$1,"block",POSITION_CHOOSER_BLOCK$static);var ui_BindPropertyPlugin_384_25_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_384_25_$1.componentProperty="value";ui_BindPropertyPlugin_384_25_$1.skipIfConsistent=false;ui_BindPropertyPlugin_384_25_$1.bindTo=this.getPositionValueExpression(AS3.getBindable(this,"teaserOverlayViewModel"));ui_BindPropertyPlugin_384_25_$1.bidirectional=true;
ui_BindPropertyPlugin_384_25_$1.reverseTransformer=AS3.bind(this,"toExpressionValue");ui_BindPropertyPlugin_384_25_$1.transformer=AS3.bind(this,"toInputValue");radioGroup_334_21_$1.plugins=[ui_BEMPlugin_383_25_$1,ui_BindPropertyPlugin_384_25_$1];var sliderField_392_21_$1=AS3.cast(Ext.slider.Single,{});sliderField_392_21_$1.itemId="positionYSlider";AS3.setBindable(sliderField_392_21_$1,"listeners",{dragStart:AS3.bind(this,"onActivate"),dragEnd:AS3.bind(this,"onDeactivate")});AS3.setBindable(sliderField_392_21_$1,
"height",112);AS3.setBindable(sliderField_392_21_$1,"margin","0 0 0 4");sliderField_392_21_$1.vertical=true;AS3.setBindable(sliderField_392_21_$1,"minValue",-50);AS3.setBindable(sliderField_392_21_$1,"maxValue",50);sliderField_392_21_$1.decimalPrecision=0;sliderField_392_21_$1.tipText=com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayPropertyFieldBase.tooltipTransformer;sliderField_392_21_$1.increment=1;var ui_BindPropertyPlugin_403_25_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,
{});ui_BindPropertyPlugin_403_25_$1.componentProperty="value";ui_BindPropertyPlugin_403_25_$1.skipIfConsistent=false;ui_BindPropertyPlugin_403_25_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayViewModel.SLIDER_POSITION_Y,AS3.getBindable(this,"teaserOverlayViewModel"));ui_BindPropertyPlugin_403_25_$1.transformer=com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayPropertyFieldBase.positionYTransformer;ui_BindPropertyPlugin_403_25_$1.reverseTransformer=
com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayPropertyFieldBase.positionYReverseTransformer;ui_BindPropertyPlugin_403_25_$1.bidirectional=true;sliderField_392_21_$1.plugins=[ui_BindPropertyPlugin_403_25_$1];var sliderField_411_21_$1=AS3.cast(Ext.slider.Single,{});sliderField_411_21_$1.itemId="positionXSlider";AS3.setBindable(sliderField_411_21_$1,"width",112);AS3.setBindable(sliderField_411_21_$1,"listeners",{dragStart:AS3.bind(this,"onActivate"),dragEnd:AS3.bind(this,"onDeactivate")});
AS3.setBindable(sliderField_411_21_$1,"minValue",-50);AS3.setBindable(sliderField_411_21_$1,"maxValue",50);sliderField_411_21_$1.decimalPrecision=0;sliderField_411_21_$1.increment=1;var ui_BindPropertyPlugin_419_25_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_419_25_$1.componentProperty="value";ui_BindPropertyPlugin_419_25_$1.skipIfConsistent=false;ui_BindPropertyPlugin_419_25_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayViewModel.SLIDER_POSITION_X,
AS3.getBindable(this,"teaserOverlayViewModel"));ui_BindPropertyPlugin_419_25_$1.bidirectional=true;sliderField_411_21_$1.plugins=[ui_BindPropertyPlugin_419_25_$1];var box_425_21_$1=AS3.cast(Ext.Component,{});var sliderField_426_21_$1=AS3.cast(Ext.slider.Single,{});sliderField_426_21_$1.itemId="widthSlider";AS3.setBindable(sliderField_426_21_$1,"margin","6 0 0 0");sliderField_426_21_$1["colspan"]=2;AS3.setBindable(sliderField_426_21_$1,"width",124);AS3.setBindable(sliderField_426_21_$1,"minValue",
0);AS3.setBindable(sliderField_426_21_$1,"maxValue",100);sliderField_426_21_$1.decimalPrecision=0;sliderField_426_21_$1.increment=1;sliderField_426_21_$1.labelSeparator="";AS3.setBindable(sliderField_426_21_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.TeaserOverlay","TeaserOverlay_width_label")));sliderField_426_21_$1.labelAlign="top";var ui_BindPropertyPlugin_438_25_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_438_25_$1.componentProperty=
"value";ui_BindPropertyPlugin_438_25_$1.skipIfConsistent=false;ui_BindPropertyPlugin_438_25_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayViewModel.SLIDER_WIDTH,AS3.getBindable(this,"teaserOverlayViewModel"));ui_BindPropertyPlugin_438_25_$1.bidirectional=true;sliderField_426_21_$1.plugins=[ui_BindPropertyPlugin_438_25_$1];local_TeaserOverlayPositionMenu_327_17_$1.items=[radioGroup_334_21_$1,sliderField_392_21_$1,sliderField_411_21_$1,
box_425_21_$1,sliderField_426_21_$1];ui_MenuIconButton_315_13_$1.menu=local_TeaserOverlayPositionMenu_327_17_$1;var tbSeparator_448_13_$1=AS3.cast(Ext.toolbar.Separator,{});tbSeparator_448_13_$1.itemId=net.jangaroo.ext.Exml.asString(TeaserOverlayPropertyField.RTE_SEP_SECOND_ITEM_ID);var ui_MenuIconButton_451_13_$1=AS3.cast(com.coremedia.ui.components.MenuIconButton,{});ui_MenuIconButton_451_13_$1.itemId=net.jangaroo.ext.Exml.asString(TeaserOverlayPropertyField.PARAGRAPH_FORMAT_GROUP_ITEM_ID);AS3.setBindable(ui_MenuIconButton_451_13_$1,
"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","paragraph_style")));AS3.setBindable(ui_MenuIconButton_451_13_$1,"tooltip",this.resourceManager.getString("com.coremedia.ui.ckeditor.CKEditor","format_group_tooltip"));AS3.setBindable(ui_MenuIconButton_451_13_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.ui.ckeditor.CKEditor","format_group_text")));var editor_BindDisablePlugin_456_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin,
{});AS3.setBindable(editor_BindDisablePlugin_456_17_$1,"forceReadOnlyValueExpression",this.getRichTextButtonsDisabledVE());editor_BindDisablePlugin_456_17_$1.bindTo=config.bindTo;ui_MenuIconButton_451_13_$1.plugins=[editor_BindDisablePlugin_456_17_$1];var menu_461_17_$1=AS3.cast(Ext.menu.Menu,{});var ui_RichTextMenuCheckItem_464_21_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextMenuCheckItem,{});ui_RichTextMenuCheckItem_464_21_$1.itemId=net.jangaroo.ext.Exml.asString(TeaserOverlayPropertyField.PARAGRAPH_HEADING1_ITEM_ID);
ui_RichTextMenuCheckItem_464_21_$1.group="p";var ui_RichTextAction_467_25_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextAction,{});AS3.setBindable(ui_RichTextAction_467_25_$1,"commandName",net.jangaroo.ext.Exml.asString(com.coremedia.ui.ckeditor.RichTextAction.COMMAND_PARAGRAPH_HEADING1));ui_RichTextMenuCheckItem_464_21_$1.baseAction=new com.coremedia.ui.ckeditor.RichTextAction(ui_RichTextAction_467_25_$1);var ui_RichTextMenuCheckItem_470_21_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextMenuCheckItem,
{});ui_RichTextMenuCheckItem_470_21_$1.itemId=net.jangaroo.ext.Exml.asString(TeaserOverlayPropertyField.PARAGRAPH_HEADING2_ITEM_ID);ui_RichTextMenuCheckItem_470_21_$1.group="p";var ui_RichTextAction_473_25_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextAction,{});AS3.setBindable(ui_RichTextAction_473_25_$1,"commandName",net.jangaroo.ext.Exml.asString(com.coremedia.ui.ckeditor.RichTextAction.COMMAND_PARAGRAPH_HEADING2));ui_RichTextMenuCheckItem_470_21_$1.baseAction=new com.coremedia.ui.ckeditor.RichTextAction(ui_RichTextAction_473_25_$1);
var ui_RichTextMenuCheckItem_476_21_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextMenuCheckItem,{});ui_RichTextMenuCheckItem_476_21_$1.itemId=net.jangaroo.ext.Exml.asString(TeaserOverlayPropertyField.PARAGRAPH_HEADING3_ITEM_ID);ui_RichTextMenuCheckItem_476_21_$1.group="p";var ui_RichTextAction_479_25_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextAction,{});AS3.setBindable(ui_RichTextAction_479_25_$1,"commandName",net.jangaroo.ext.Exml.asString(com.coremedia.ui.ckeditor.RichTextAction.COMMAND_PARAGRAPH_HEADING3));
ui_RichTextMenuCheckItem_476_21_$1.baseAction=new com.coremedia.ui.ckeditor.RichTextAction(ui_RichTextAction_479_25_$1);var menuSeparator_482_21_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_483_21_$1=AS3.cast(Ext.menu.Item,{});menuItem_483_21_$1.itemId=net.jangaroo.ext.Exml.asString(TeaserOverlayPropertyField.PARAGRAPH_FORMAT_REMOVE_ITEM_ID);var ui_RichTextAction_485_25_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextAction,{});AS3.setBindable(ui_RichTextAction_485_25_$1,"commandName",net.jangaroo.ext.Exml.asString(com.coremedia.ui.ckeditor.RichTextAction.COMMAND_PARAGRAPH_REMOVE));
menuItem_483_21_$1.baseAction=new com.coremedia.ui.ckeditor.RichTextAction(ui_RichTextAction_485_25_$1);menu_461_17_$1.items=[ui_RichTextMenuCheckItem_464_21_$1,ui_RichTextMenuCheckItem_470_21_$1,ui_RichTextMenuCheckItem_476_21_$1,menuSeparator_482_21_$1,menuItem_483_21_$1];ui_MenuIconButton_451_13_$1.menu=menu_461_17_$1;var tbSeparator_492_13_$1=AS3.cast(Ext.toolbar.Separator,{});tbSeparator_492_13_$1.itemId=net.jangaroo.ext.Exml.asString(TeaserOverlayPropertyField.RTE_SEP_THIRD_ITEM_ID);var ui_RichTextActionToggleButton_494_13_$1=
AS3.cast(com.coremedia.ui.ckeditor.RichTextActionToggleButton,{});ui_RichTextActionToggleButton_494_13_$1.itemId=net.jangaroo.ext.Exml.asString(TeaserOverlayPropertyField.BOLD_BUTTON_ITEM_ID);AS3.setBindable(ui_RichTextActionToggleButton_494_13_$1,"forceDisabledValueExpression",this.getRichTextButtonsDisabledVE());AS3.setBindable(ui_RichTextActionToggleButton_494_13_$1,"commandName",net.jangaroo.ext.Exml.asString(com.coremedia.ui.ckeditor.RichTextAction.COMMAND_BOLD));var editor_BindDisablePlugin_498_17_$1=
AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin,{});AS3.setBindable(editor_BindDisablePlugin_498_17_$1,"forceReadOnlyValueExpression",this.getRichTextButtonsDisabledVE());editor_BindDisablePlugin_498_17_$1.bindTo=config.bindTo;ui_RichTextActionToggleButton_494_13_$1.plugins=[editor_BindDisablePlugin_498_17_$1];var ui_RichTextActionToggleButton_503_13_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextActionToggleButton,{});ui_RichTextActionToggleButton_503_13_$1.itemId=
net.jangaroo.ext.Exml.asString(TeaserOverlayPropertyField.ITALIC_BUTTON_ITEM_ID);AS3.setBindable(ui_RichTextActionToggleButton_503_13_$1,"forceDisabledValueExpression",this.getRichTextButtonsDisabledVE());AS3.setBindable(ui_RichTextActionToggleButton_503_13_$1,"commandName",net.jangaroo.ext.Exml.asString(com.coremedia.ui.ckeditor.RichTextAction.COMMAND_ITALIC));var editor_BindDisablePlugin_507_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin,{});AS3.setBindable(editor_BindDisablePlugin_507_17_$1,
"forceReadOnlyValueExpression",this.getRichTextButtonsDisabledVE());editor_BindDisablePlugin_507_17_$1.bindTo=config.bindTo;ui_RichTextActionToggleButton_503_13_$1.plugins=[editor_BindDisablePlugin_507_17_$1];var tbSeparator_512_13_$1=AS3.cast(Ext.toolbar.Separator,{});tbSeparator_512_13_$1.itemId=net.jangaroo.ext.Exml.asString(TeaserOverlayPropertyField.RTE_SEP_FOURTH_ITEM_ID);var ui_IconButton_513_13_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_513_13_$1.itemId=net.jangaroo.ext.Exml.asString(TeaserOverlayPropertyField.TEXT_ALIGN_GROUP_ITEM_ID);
AS3.setBindable(ui_IconButton_513_13_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","text_alignment")));AS3.setBindable(ui_IconButton_513_13_$1,"tooltip",this.resourceManager.getString("com.coremedia.ui.ckeditor.CKEditor","alignment_group_tooltip"));AS3.setBindable(ui_IconButton_513_13_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.ui.ckeditor.CKEditor","alignment_group_text")));var editor_BindDisablePlugin_518_17_$1=
AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin,{});AS3.setBindable(editor_BindDisablePlugin_518_17_$1,"forceReadOnlyValueExpression",this.getRichTextButtonsDisabledVE());editor_BindDisablePlugin_518_17_$1.bindTo=config.bindTo;ui_IconButton_513_13_$1.plugins=[editor_BindDisablePlugin_518_17_$1];var menu_523_17_$1=AS3.cast(Ext.menu.Menu,{});var ui_RichTextMenuCheckItem_526_21_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextMenuCheckItem,{});ui_RichTextMenuCheckItem_526_21_$1.itemId=
net.jangaroo.ext.Exml.asString(TeaserOverlayPropertyField.TEXT_ALIGN_LEFT_ITEM_ID);ui_RichTextMenuCheckItem_526_21_$1.group="align";var ui_RichTextAction_529_25_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextAction,{});AS3.setBindable(ui_RichTextAction_529_25_$1,"commandName",net.jangaroo.ext.Exml.asString(com.coremedia.ui.ckeditor.RichTextAction.COMMAND_ALIGN_LEFT));ui_RichTextMenuCheckItem_526_21_$1.baseAction=new com.coremedia.ui.ckeditor.RichTextAction(ui_RichTextAction_529_25_$1);var ui_RichTextMenuCheckItem_532_21_$1=
AS3.cast(com.coremedia.ui.ckeditor.RichTextMenuCheckItem,{});ui_RichTextMenuCheckItem_532_21_$1.itemId=net.jangaroo.ext.Exml.asString(TeaserOverlayPropertyField.TEXT_ALIGN_CENTER_ITEM_ID);ui_RichTextMenuCheckItem_532_21_$1.group="align";var ui_RichTextAction_535_25_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextAction,{});AS3.setBindable(ui_RichTextAction_535_25_$1,"commandName",net.jangaroo.ext.Exml.asString(com.coremedia.ui.ckeditor.RichTextAction.COMMAND_ALIGN_CENTER));ui_RichTextMenuCheckItem_532_21_$1.baseAction=
new com.coremedia.ui.ckeditor.RichTextAction(ui_RichTextAction_535_25_$1);var ui_RichTextMenuCheckItem_538_21_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextMenuCheckItem,{});ui_RichTextMenuCheckItem_538_21_$1.itemId=net.jangaroo.ext.Exml.asString(TeaserOverlayPropertyField.TEXT_ALIGN_RIGHT_ITEM_ID);ui_RichTextMenuCheckItem_538_21_$1.group="align";var ui_RichTextAction_541_25_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextAction,{});AS3.setBindable(ui_RichTextAction_541_25_$1,"commandName",net.jangaroo.ext.Exml.asString(com.coremedia.ui.ckeditor.RichTextAction.COMMAND_ALIGN_RIGHT));
ui_RichTextMenuCheckItem_538_21_$1.baseAction=new com.coremedia.ui.ckeditor.RichTextAction(ui_RichTextAction_541_25_$1);var ui_RichTextMenuCheckItem_544_21_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextMenuCheckItem,{});ui_RichTextMenuCheckItem_544_21_$1.itemId=net.jangaroo.ext.Exml.asString(TeaserOverlayPropertyField.TEXT_ALIGN_JUSTIFIED_ITEM_ID);ui_RichTextMenuCheckItem_544_21_$1.group="align";var ui_RichTextAction_547_25_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextAction,{});AS3.setBindable(ui_RichTextAction_547_25_$1,
"commandName",net.jangaroo.ext.Exml.asString(com.coremedia.ui.ckeditor.RichTextAction.COMMAND_ALIGN_JUSTIFIED));ui_RichTextMenuCheckItem_544_21_$1.baseAction=new com.coremedia.ui.ckeditor.RichTextAction(ui_RichTextAction_547_25_$1);var menuSeparator_550_21_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_551_21_$1=AS3.cast(Ext.menu.Item,{});menuItem_551_21_$1.itemId=net.jangaroo.ext.Exml.asString(TeaserOverlayPropertyField.TEXT_ALIGN_REMOVE_ITEM_ID);var ui_RichTextAction_553_25_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextAction,
{});AS3.setBindable(ui_RichTextAction_553_25_$1,"commandName",net.jangaroo.ext.Exml.asString(com.coremedia.ui.ckeditor.RichTextAction.COMMAND_ALIGN_REMOVE));menuItem_551_21_$1.baseAction=new com.coremedia.ui.ckeditor.RichTextAction(ui_RichTextAction_553_25_$1);menu_523_17_$1.items=[ui_RichTextMenuCheckItem_526_21_$1,ui_RichTextMenuCheckItem_532_21_$1,ui_RichTextMenuCheckItem_538_21_$1,ui_RichTextMenuCheckItem_544_21_$1,menuSeparator_550_21_$1,menuItem_551_21_$1];ui_IconButton_513_13_$1.menu=menu_523_17_$1;
ui_FloatingToolbar_291_9_$1.items=[local_TeaserOverlayStyleSelector_299_13_$1,tbSpacer_312_13_$1,tbSeparator_313_13_$1,ui_MenuIconButton_315_13_$1,tbSeparator_448_13_$1,ui_MenuIconButton_451_13_$1,tbSeparator_492_13_$1,ui_RichTextActionToggleButton_494_13_$1,ui_RichTextActionToggleButton_503_13_$1,tbSeparator_512_13_$1,ui_IconButton_513_13_$1];panel_239_5_$1.tbar=ui_FloatingToolbar_291_9_$1;config_$1.items=[panel_239_5_$1];var layout_VBox_566_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_566_5_$1,
"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_566_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$hOYm(config_$1)}function __initialize__(config){this["initialConfig"]=config||{}}function getPositionIconHTML$static(element){return'\x3cdiv class\x3d"'+element.getCSSClass()+'"\x3e\x3c/div\x3e'}function afterRender(){com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayPropertyFieldBase.prototype.afterRender.call(this);this.switchingContainer$hOYm=AS3.as(this.queryById(TeaserOverlayPropertyField.SWITCHING_CONTAINER_ITEM_ID),
com.coremedia.ui.components.SwitchingContainer);this.switchingContainer$hOYm.on("activeItem",AS3.bind(this,"onActiveEditorChanged$hOYm"));this.onActiveEditorChanged$hOYm()}function onActiveEditorChanged(){var activeItem=this.switchingContainer$hOYm.getActiveItem();AS3.setBindable(this,"defaultField",activeItem?com.coremedia.ui.util.createComponentSelector().id(activeItem.getItemId()).build():null)}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayPropertyFieldBase",metadata:{"":["PublicApi"]},
alias:"widget.com.coremedia.cms.editor.sdk.config.TeaserOverlayPropertyField",switchingContainer$hOYm:null,constructor:TeaserOverlayPropertyField$,super$hOYm:function(){com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayPropertyFieldBase.prototype.constructor.apply(this,arguments)},__initialize__$hOYm:__initialize__,afterRender:afterRender,onActiveEditorChanged$hOYm:onActiveEditorChanged,config:{initialHeight:0,changeBuffer:0,delegatePropertyName:null},statics:{TEASER_OVERLAY_RICHTEXT_ITEM_ID:"teaserOverlayArea",
TEASER_TEXTAREA_ITEM_ID:"teaserText",SWITCHING_CONTAINER_ITEM_ID:"switchingContainer",POSITION_RATIO_GROUP_ITEM_ID:"positionRadioGroup",RTE_SEP_FIRST_ITEM_ID:"sepFirst",RTE_SEP_SECOND_ITEM_ID:"sepSecond",RTE_SEP_THIRD_ITEM_ID:"sepThird",RTE_SEP_FOURTH_ITEM_ID:"sepFourth",PARAGRAPH_FORMAT_GROUP_ITEM_ID:"paragraphFormatGroup",PARAGRAPH_HEADING1_ITEM_ID:"paragraphFormatHeading1",PARAGRAPH_HEADING2_ITEM_ID:"paragraphFormatHeading2",PARAGRAPH_HEADING3_ITEM_ID:"paragraphFormatHeading3",PARAGRAPH_FORMAT_REMOVE_ITEM_ID:"paragraphFormatRemove",
POSITION_GROUP_ITEM_ID:"positionGroup",BOLD_BUTTON_ITEM_ID:"bold",ITALIC_BUTTON_ITEM_ID:"italic",TEXT_ALIGN_GROUP_ITEM_ID:"textAlignGroup",TEXT_ALIGN_LEFT_ITEM_ID:"textAlignLeft",TEXT_ALIGN_CENTER_ITEM_ID:"textAlignCenter",TEXT_ALIGN_RIGHT_ITEM_ID:"textAlignRight",TEXT_ALIGN_JUSTIFIED_ITEM_ID:"textAlignJustified",TEXT_ALIGN_REMOVE_ITEM_ID:"textAlignRemove",IMAGE_PROPERTIES_ITEM_ID:"imageProperties",POSITION_CHOOSER_BLOCK:undefined,POSITION_CHOOSER_ELEMENT_GROUP:undefined,POSITION_CHOOSER_ELEMENT_TL:undefined,
POSITION_CHOOSER_ELEMENT_TC:undefined,POSITION_CHOOSER_ELEMENT_TR:undefined,POSITION_CHOOSER_ELEMENT_ML:undefined,POSITION_CHOOSER_ELEMENT_MC:undefined,POSITION_CHOOSER_ELEMENT_MR:undefined,POSITION_CHOOSER_ELEMENT_BL:undefined,POSITION_CHOOSER_ELEMENT_BC:undefined,POSITION_CHOOSER_ELEMENT_BR:undefined,__initStatics__:function(){POSITION_CHOOSER_BLOCK$static_();POSITION_CHOOSER_ELEMENT_GROUP$static_();POSITION_CHOOSER_ELEMENT_TL$static_();POSITION_CHOOSER_ELEMENT_TC$static_();POSITION_CHOOSER_ELEMENT_TR$static_();
POSITION_CHOOSER_ELEMENT_ML$static_();POSITION_CHOOSER_ELEMENT_MC$static_();POSITION_CHOOSER_ELEMENT_MR$static_();POSITION_CHOOSER_ELEMENT_BL$static_();POSITION_CHOOSER_ELEMENT_BC$static_();POSITION_CHOOSER_ELEMENT_BR$static_()}},requires:["Ext.Component","Ext.form.RadioGroup","Ext.form.field.Radio","Ext.layout.container.Table","Ext.layout.container.VBox","Ext.menu.Item","Ext.menu.Menu","Ext.menu.Separator","Ext.panel.Panel","Ext.slider.Single","Ext.toolbar.Separator","Ext.toolbar.Spacer","com.coremedia.cms.editor.TeaserOverlay_properties",
"com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayPropertyFieldBase","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.ckeditor.CKEditor_properties","com.coremedia.ui.ckeditor.RichTextAction","com.coremedia.ui.ckeditor.RichTextActionToggleButton","com.coremedia.ui.ckeditor.RichTextMenuCheckItem","com.coremedia.ui.components.FloatingToolbar","com.coremedia.ui.components.IconButton","com.coremedia.ui.components.MenuIconButton","com.coremedia.ui.components.StatefulResizer",
"com.coremedia.ui.components.SwitchingContainer","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.models.bem.BEMBlock","com.coremedia.ui.plugins.BEMPlugin","com.coremedia.ui.plugins.BindBlobPropertyPlugin","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.BindVisibilityPlugin","com.coremedia.ui.plugins.Binding","com.coremedia.ui.plugins.ResizablePlugin","com.coremedia.ui.plugins.WriteBeforeFlushPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.CheckboxSkin",
"com.coremedia.ui.util.createComponentSelector","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.components.CoreMediaRichTextArea","com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin","com.coremedia.cms.editor.sdk.premular.fields.RichTextPropertyFieldBase","com.coremedia.cms.editor.sdk.premular.fields.TextAreaPropertyField","com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyEmptyTextPlugin",
"com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.TextAreaPropertyFieldDelegatePlugin","com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayPositionMenu","com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayStyleSelector","com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayViewModel","com.coremedia.cms.editor.sdk.util.TeaserOverlayManager"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayPositionMenuBase",function(TeaserOverlayPositionMenuBase){function TeaserOverlayPositionMenuBase$(config){if(arguments.length<=0)config=null;this.super$$sIk(config);this.on("beforehide",function(){var activeElement=Ext.fly(window.document["activeElement"]);if(!activeElement)return true;var id=activeElement.getAttribute("id");if(id&&id.indexOf("coreMediaRichTextArea")!==-1)return false;return true})}return{extend:"Ext.menu.Menu",
constructor:TeaserOverlayPositionMenuBase$,super$$sIk:function(){Ext.menu.Menu.prototype.constructor.apply(this,arguments)},requires:["Ext","Ext.menu.Menu"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayStyleSelector",function(TeaserOverlayStyleSelector){function TeaserOverlayStyleSelector$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayStyleSelectorBase,{});var defaults_$1=AS3.cast(TeaserOverlayStyleSelector,{});var data_AutoField_54_7_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_54_7_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayStyleSelectorBase.VALUE_FIELD_NAME);
data_AutoField_54_7_$1.mapping="";var data_AutoField_56_7_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_56_7_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayStyleSelectorBase.TITLE_FIELD_NAME);data_AutoField_56_7_$1.mapping="";data_AutoField_56_7_$1["convert"]=com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayStyleSelectorBase.localizeTitle;var data_AutoField_59_7_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_59_7_$1.name=
net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayStyleSelectorBase.DESCRIPTION_FIELD_NAME);data_AutoField_59_7_$1.mapping="";data_AutoField_59_7_$1["convert"]=com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayStyleSelectorBase.localizeDescription;var data_AutoField_62_7_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_62_7_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayStyleSelectorBase.HAS_PREVIEW_FIELD_NAME);
data_AutoField_62_7_$1.mapping="";data_AutoField_62_7_$1["convert"]=com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayStyleSelectorBase.hasPreview;var data_AutoField_65_7_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_65_7_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayStyleSelectorBase.COLOR_FIELD_NAME);data_AutoField_65_7_$1.mapping="";data_AutoField_65_7_$1["convert"]=com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayStyleSelectorBase.resolveColor;
var data_AutoField_68_7_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_68_7_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayStyleSelectorBase.BACKGROUND_COLOR_FIELD_NAME);data_AutoField_68_7_$1.mapping="";data_AutoField_68_7_$1["convert"]=com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayStyleSelectorBase.resolveBackgroundColor;AS3.setBindable(defaults_$1,"fields",[data_AutoField_54_7_$1,data_AutoField_56_7_$1,data_AutoField_59_7_$1,
data_AutoField_62_7_$1,data_AutoField_65_7_$1,data_AutoField_68_7_$1]);config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.labelWidth=30;config_$1.itemId="styleSelector";AS3.setBindable(config_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.TeaserOverlay","TeaserOverlay_style_label")));config_$1.valueField=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayStyleSelectorBase.VALUE_FIELD_NAME);
AS3.setBindable(config_$1,"emptyText",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.TeaserOverlay","TeaserOverlay_style_no_selection")));AS3.setBindable(config_$1,"displayField",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayStyleSelectorBase.TITLE_FIELD_NAME));config_$1.tpl=com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayStyleSelectorBase.getTemplate();AS3.setBindable(config_$1,"minWidth",
200);var boundList_74_5_$1=AS3.cast(Ext.view.BoundList,{});AS3.setBindable(boundList_74_5_$1,"minWidth",360);config_$1.listConfig=boundList_74_5_$1;var ui_AddQuickTipPlugin_77_5_$1=AS3.cast(com.coremedia.ui.plugins.AddQuickTipPlugin,{});AS3.setBindable(ui_AddQuickTipPlugin_77_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.TeaserOverlay","TeaserOverlay_style_tooltip")));var ui_BindListPlugin_79_5_$1=AS3.cast(com.coremedia.ui.plugins.BindListPlugin,
{});AS3.setBindable(ui_BindListPlugin_79_5_$1,"bindTo",AS3.getBindable(config,"stylesVE"));AS3.setBindable(ui_BindListPlugin_79_5_$1,"fields",AS3.getBindable(config,"fields"));var editor_BindDisablePlugin_81_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin,{});AS3.setBindable(editor_BindDisablePlugin_81_5_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));editor_BindDisablePlugin_81_5_$1.bindTo=AS3.getBindable(config,"bindTo");
config_$1.plugins=[ui_AddQuickTipPlugin_77_5_$1,ui_BindListPlugin_79_5_$1,editor_BindDisablePlugin_81_5_$1];config_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$98qx(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayStyleSelectorBase",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.TeaserOverlayStyleSelector",constructor:TeaserOverlayStyleSelector$,super$98qx:function(){com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayStyleSelectorBase.prototype.constructor.apply(this,
arguments)},config:{teaserOverlayViewModel:null,stylesVE:null,bindTo:null,forceReadOnlyValueExpression:null,fields:null},requires:["Ext.data.field.Field","Ext.view.BoundList","com.coremedia.cms.editor.TeaserOverlay_properties","com.coremedia.cms.editor.sdk.premular.fields.teaser.TeaserOverlayStyleSelectorBase","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.ckeditor.CKEditor_properties","com.coremedia.ui.plugins.AddQuickTipPlugin","com.coremedia.ui.plugins.BindListPlugin","net.jangaroo.ext.Exml"],
uses:["com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.struct.DateTimeMenuBase",function(DateTimeMenuBase){function DateTimeMenuBase$(config){var this$=this;if(arguments.length<=0)config=null;this.super$NS3n(config);this.datePicker$NS3n=AS3.cast(Ext.picker.Date,this.find("itemId","date")[0]);this.timeField$NS3n=AS3.cast(com.coremedia.ui.components.StatefulTimeField,this.find("itemId","time")[0]);this.timeZoneField$NS3n=AS3.cast(com.coremedia.ui.components.LocalComboBox,this.find("itemId","timeZone")[0]);
this.initializeFields$NS3n(AS3.getBindable(config,"initialCalendar"));this.on("beforehide",function(){var activeElement=window.document["activeElement"];if(!activeElement)return true;var activeElementId=activeElement.id;if(activeElementId===this$.timeField$NS3n.getId()&&this$.timeField$NS3n.isExpanded)return false;if(activeElementId===this$.timeZoneField$NS3n.getId()&&this$.timeZoneField$NS3n.isExpanded)return false;return true});this.on("hide",function(){config.onMenuCloseCallback&&config.onMenuCloseCallback(this$.getCalendar$NS3n());
this$.destroy()})}function initializeFields(initialCalendar){if(initialCalendar){var date=initialCalendar.getDateWithoutOffset();this.datePicker$NS3n.setValue(date);this.timeField$NS3n.setValue(Ext.Date.format(date,DateTimeMenuBase.getTimeFormat()));this.initialTimeZone$NS3n=initialCalendar.getTimeZone();this.timeZoneField$NS3n.setValue(this.initialTimeZone$NS3n);this.initialOffset$NS3n=initialCalendar.getOffset()}else{var midnight=new Date;midnight.setMilliseconds(0);midnight.setSeconds(0);midnight.setMinutes(0);
midnight.setHours(0);this.timeField$NS3n.setValue(Ext.Date.format(midnight,DateTimeMenuBase.getTimeFormat()));this.timeZoneField$NS3n.setValue(getDefaultTimezone$static())}}function getDefaultTimezone$static(){return AS3.as(com.coremedia.cap.common.SESSION.getConnection().getContentRepository(),com.coremedia.cap.content.impl.ContentRepositoryImpl).getDefaultTimeZone()}function getCalendar(){var date=this.datePicker$NS3n.getValue();var time=this.timeField$NS3n.getValue();var timeDate;if(time)timeDate=
AS3.is(time,Date)?time:Ext.Date.parse(time,DateTimeMenuBase.getTimeFormat());var timeZone=this.timeZoneField$NS3n.getValue();return new com.coremedia.ui.data.Calendar({year:date.getFullYear(),month:date.getMonth(),day:date.getDate(),hour:timeDate?timeDate.getHours():0,minute:timeDate?timeDate.getMinutes():0,second:timeDate?timeDate.getSeconds():0,timeZone:timeZone,offset:timeZone===this.initialTimeZone$NS3n?this.initialOffset$NS3n:undefined,normalized:false})}function getTimeZoneIdsWithLocalizedNames$static(){var timeZoneIds=
DateTimeMenuBase.getTimeZoneIds();var timeZoneDataArray=[];for(var $1=0;$1<timeZoneIds.length;++$1){var timeZoneId=timeZoneIds[$1];var entry={id:timeZoneId,localizedName:com.coremedia.cms.editor.sdk.util.ContentLocalizationUtilInternal.localizeTimeZoneID(timeZoneId)};timeZoneDataArray.push(entry)}var mystore=Ext.create(Ext.data.JsonStore,{fields:[{"type":"string",name:"id"},{"type":"string",name:"localizedName"}]});mystore.loadData(timeZoneDataArray);return mystore}function getTimeZoneIds$static(){return AS3.as(com.coremedia.cap.common.SESSION.getConnection().getContentRepository(),
com.coremedia.cap.content.impl.ContentRepositoryImpl).getTimeZones()}function validateTime$static(value){if(!value)return true;if(AS3.is(value,Date))return true;var timeFormat=DateTimeMenuBase.getTimeFormat();var timeDate=Ext.Date.parse(value,timeFormat,true);if(timeDate)return true;return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","DateTimePropertyField_timeValidator_message")}function getTimeFormat$static(){return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor",
"DateTimePropertyField_timeFormat")}return{extend:"Ext.menu.Menu",datePicker$NS3n:null,timeField$NS3n:null,timeZoneField$NS3n:null,initialOffset$NS3n:0,initialTimeZone$NS3n:null,constructor:DateTimeMenuBase$,super$NS3n:function(){Ext.menu.Menu.prototype.constructor.apply(this,arguments)},initializeFields$NS3n:initializeFields,getCalendar$NS3n:getCalendar,statics:{getTimeZoneIdsWithLocalizedNames:getTimeZoneIdsWithLocalizedNames$static,getTimeZoneIds:getTimeZoneIds$static,validateTime:validateTime$static,
getTimeFormat:getTimeFormat$static},requires:["Ext","Ext.Date","Ext.data.JsonStore","Ext.menu.Menu","Ext.picker.Date","com.coremedia.cap.common.SESSION","com.coremedia.cap.content.impl.ContentRepositoryImpl","com.coremedia.cms.editor.Editor_properties","com.coremedia.ui.components.LocalComboBox","com.coremedia.ui.components.StatefulTimeField","com.coremedia.ui.data.Calendar","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.util.ContentLocalizationUtilInternal"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.struct.DeleteStructNodeActionBase",function(DeleteStructNodeActionBase){function DeleteStructNodeActionBase$(config){if(arguments.length<=0)config=null;this.super$yxil(AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.DeleteStructNodeAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,"deleteStructNode")))}function isDisabledForNode(selectedNode){return selectedNode.isRootNode()}function executeOnSelectedNode(node){var nodeToSelect;
if(node.isPropertyNode()){if(!node.isCollection()&&node.getPropertyType()===com.coremedia.cap.common.CapPropertyDescriptorType.LINK&&node.getValue()){node.clearProperty();return}nodeToSelect=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.StructTreeNode,node.nextSibling||node.previousSibling||node.parentNode);if(!node.removeProperty())return}else if(node.isListItemNode()){nodeToSelect=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.StructTreeNode,node.nextSibling?node:node.previousSibling||
node.parentNode);node.removeListItem()}if(nodeToSelect&&node!==nodeToSelect)nodeToSelect.select()}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.struct.StructNodeAction",constructor:DeleteStructNodeActionBase$,super$yxil:function(){com.coremedia.cms.editor.sdk.premular.fields.struct.StructNodeAction.prototype.constructor.apply(this,arguments)},isDisabledForNode:isDisabledForNode,executeOnSelectedNode:executeOnSelectedNode,requires:["com.coremedia.cap.common.CapPropertyDescriptorType",
"com.coremedia.cms.editor.sdk.premular.fields.struct.StructNodeAction"],uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil","com.coremedia.cms.editor.sdk.premular.fields.struct.DeleteStructNodeAction","com.coremedia.cms.editor.sdk.premular.fields.struct.StructTreeNode"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.struct.StructTreeNode",function(StructTreeNode){function StructTreeNode$(attributes){var this$=this;this.super$ZxAR(attributes);this.structTreeStore$ZxAR=attributes.structTreeStore;this.propertyPath$ZxAR=com.coremedia.cms.editor.sdk.premular.fields.struct.StructTreePathUtil.decodePath(this.getId());this.propertyOrIndex$ZxAR=this.isRootNode()?null:this.propertyPath$ZxAR[this.propertyPath$ZxAR.length-1];this.structValueExpression$ZxAR=attributes.structValueExpression;
this.nodeValueExpression$ZxAR=this.structValueExpression$ZxAR.extendBy(this.propertyPath$ZxAR);this.nodeValueExpression$ZxAR.addChangeListener(AS3.bind(this,"valueChanged$ZxAR"));this.valueChanged$ZxAR();this.renderDataExpression$ZxAR=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var value=this$.getValue();if(value===undefined)return undefined;if(AS3.is(value,com.coremedia.cap.content.Content))return{name:AS3.cast(com.coremedia.cap.content.Content,value).getName()};else if(AS3.is(value,
com.coremedia.cap.struct.Struct)){var structType=AS3.cast(com.coremedia.cap.struct.Struct,value).getType();if(structType){var descriptors=structType.getDescriptors();if(descriptors)return{size:descriptors.length}}return undefined}return value});this.renderDataExpression$ZxAR.addChangeListener(AS3.bind(this,"renderDataChanged$ZxAR"));this.renderDataChanged$ZxAR();if(!this.isLeaf()){this.childrenValueExpression$ZxAR=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"computeChildren$ZxAR"));
this.childrenValueExpression$ZxAR.addChangeListener(AS3.bind(this,"childrenChanged$ZxAR"));this.childrenChanged$ZxAR()}this.structTreeStore$ZxAR.nodeCreated(this)}function isLoaded(){return true}function set(fieldName,newValue,options){if(arguments.length<=2)options=null;return Ext.data.TreeModel.prototype.set.call(this,fieldName,newValue,{dirty:false})}function getParentStructTreeNode(){return AS3.cast(StructTreeNode,this.parentNode)}function getPropertyName(){AS3.assert(this.isPropertyNode(),"StructTreeNode.as",
99,5);return this.propertyOrIndex$ZxAR}function getListItemIndex(){AS3.assert(this.isListItemNode(),"StructTreeNode.as",104,5);return this.propertyOrIndex$ZxAR}function isPropertyNode(){return AS3.is(this.propertyOrIndex$ZxAR,String)}function isListItemNode(){return AS3.is(this.propertyOrIndex$ZxAR,Number)}function isStructNode(){var descriptor=this.getPropertyDescriptor();return descriptor.atomic&&descriptor.type===com.coremedia.cap.common.CapPropertyDescriptorType.STRUCT}function isRootNode(){return this.propertyPath$ZxAR.length===
0}function valueChanged(){var value=this.getValue();if(value!==undefined)this.set("value",value)}function renderDataChanged(){if(this.renderDataExpression$ZxAR.getValue()!==undefined)this.set("renderData",this.renderDataExpression$ZxAR.getValue())}function updateChildrenNow(){if(this.childrenValueExpression$ZxAR){this.childrenValueExpression$ZxAR.removeChangeListener(AS3.bind(this,"childrenChanged$ZxAR"));this.childrenValueExpression$ZxAR.addChangeListener(AS3.bind(this,"childrenChanged$ZxAR"));this.childrenChanged$ZxAR()}}
function childrenChanged(){if(!this.childrenValueExpression$ZxAR)return;var childNodes=this.childrenValueExpression$ZxAR.getValue();if(!childNodes)return;var treeStore=this.getTreeStore();treeStore&&treeStore.beginUpdate();try{this.updateChildren$ZxAR(childNodes)}finally{treeStore&&treeStore.endUpdate()}}function isCollection(){return this.getPropertyDescriptor().collection}function getPropertyType(){return this.getPropertyDescriptor().type}function computeChildren(){if(this.isCollection())return this.computeCollectionChildren$ZxAR();
else return this.computeStructChildren$ZxAR()}function computeCollectionChildren(){var collection=this.getValue();if(!collection)return undefined;var nodes=[];var descriptor=this.getPropertyDescriptor();var itemDescriptor=computeItemDescriptor$static(descriptor);for(var i=0;i<collection.length;i++)nodes.push(this.createListItemNodeConfig$ZxAR(descriptor,i,itemDescriptor));return nodes}function computeItemDescriptor$static(descriptor){var rawDescriptor=com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorUtil.toObject(descriptor);
rawDescriptor.atomic=true;rawDescriptor.collection=false;return com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorUtil.create(rawDescriptor)}function createListItemNodeConfig(descriptor,i,itemDescriptor){if(arguments.length<=2)itemDescriptor=null;if(!itemDescriptor)itemDescriptor=computeItemDescriptor$static(descriptor);var leaf=descriptor.type!==com.coremedia.cap.common.CapPropertyDescriptorType.STRUCT;return{structTreeStore:this.structTreeStore$ZxAR,id:this.extendedPropertyPath(i),
text:Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.premular.fields.struct.StructPropertyField","nth_item_pattern"),i+1),isItem:true,propertyDescriptor:itemDescriptor,leaf:leaf,expanded:!leaf,cls:"struct-list-item-node",structValueExpression:this.structValueExpression$ZxAR}}function getPropertyDescriptor(){return AS3.as(this.get("propertyDescriptor"),com.coremedia.cap.common.CapPropertyDescriptor)}function getParentStruct(){return this.parentNode?
this.getParentStructTreeNode().getValueAsStruct():null}function computeStructChildren(){var struct=this.getValue();if(!struct)return undefined;var structType=struct.getType();if(!structType)return undefined;var descriptors=structType.getDescriptors();if(!descriptors)return undefined;return descriptors.map(AS3.bind(this,"propertyDescriptor2nodeAttributes"))}function propertyDescriptor2nodeAttributes(descriptor){var leaf=descriptor.atomic&&descriptor.type!==com.coremedia.cap.common.CapPropertyDescriptorType.STRUCT;
var propertyName=descriptor.name;var linkType=com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorUtil.getLinkType(descriptor);return{structTreeStore:this.structTreeStore$ZxAR,id:this.extendedPropertyPath(propertyName),text:propertyName,propertyDescriptor:descriptor,leaf:leaf,expanded:!leaf,linkType:linkType?linkType.getName():undefined,structValueExpression:this.structValueExpression$ZxAR,cls:"struct-list-property-node"}}function extendedPropertyPath(propertyName){return com.coremedia.cms.editor.sdk.premular.fields.struct.StructTreePathUtil.encodePath(this.propertyPath$ZxAR.concat(propertyName))}
function updateChildren(newChildNodes){var newChildNodesById=this.indexNodes$ZxAR(newChildNodes);var oldChildNodes=this.childNodes.concat();var oldChildNodesById={};oldChildNodes.forEach(function(oldChildNode){var oldChildId=oldChildNode.getId();var newChildNode=newChildNodesById[oldChildId];if(!newChildNode||!descriptorsCompatible$static(newChildNode.propertyDescriptor,oldChildNode.getPropertyDescriptor()))oldChildNode.remove();else oldChildNodesById[oldChildId]=oldChildNode});for(var i=0;i<newChildNodes.length;i++){var newChild=
newChildNodes[i];var oldChildNode=oldChildNodesById[newChild.id];if(oldChildNode)this.insertChild(i,oldChildNode);else this.insertChild(i,newChild)}}function indexNodes(nodes){var index={};nodes.forEach(function(n){index[n.id]=n});return index}function descriptorsCompatible$static(propertyDescriptor1,propertyDescriptor2){return propertyDescriptor1.type===propertyDescriptor2.type&&propertyDescriptor1.collection===propertyDescriptor2.collection&&com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorUtil.getLinkType(propertyDescriptor1)===
com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorUtil.getLinkType(propertyDescriptor2)}function getValue(){return this.nodeValueExpression$ZxAR.getValue()}function getValueAsStruct(){return this.isStructNode()?this.getValue():null}function normalizeValue(value){switch(this.getPropertyDescriptor().type){case com.coremedia.cap.common.CapPropertyDescriptorType.STRING:return!value?"":String(value);case com.coremedia.cap.common.CapPropertyDescriptorType.BOOLEAN:return"true"===value||true===
value;case com.coremedia.cap.common.CapPropertyDescriptorType.INTEGER:return AS3.is(value,AS3.int_)?value:!value?null:AS3.int_(parseInt(value,10));case com.coremedia.cap.common.CapPropertyDescriptorType.DATE:return this.normalizeDatePropertyValue$ZxAR(value)}return undefined}function normalizeDatePropertyValue(value){if(!value)return null;if(AS3.is(value,com.coremedia.ui.data.Calendar))return value;var date;if(AS3.is(value,Date))date=value;else if(AS3.is(value,String)){date=new Date;try{date.setUTCMilliseconds(Date.parse(value))}catch(e){if(AS3.is(e,
AS3.Error)){com.coremedia.ui.logging.Logger.warn("Could not parse date: "+value);return null}else throw e;}}if(date){var calendar=new com.coremedia.ui.data.Calendar({year:date.getFullYear(),month:date.getMonth(),day:date.getDate(),hour:date.getHours(),minute:date.getMinutes(),second:date.getSeconds(),timeZone:getDefaultTimeZone$static(),offset:date.getTimezoneOffset(),normalized:false});return calendar}return null}function isInSync(){if(this.isStructNode())return AS3.is(this.getValue(),com.coremedia.cap.struct.Struct);
var pathToStruct=this.propertyPath$ZxAR.map(convertToString$static);if(this.isListItemNode())pathToStruct.pop();pathToStruct.pop();var struct=AS3.as(com.coremedia.ui.util.ObjectUtils.getPropertyAt(this.structValueExpression$ZxAR.getValue(),pathToStruct),com.coremedia.cap.struct.Struct);if(!struct)return false;var expectedDescriptor=this.getPropertyDescriptor();if(!expectedDescriptor)return false;var descriptor=struct.getType().getDescriptor(expectedDescriptor.name);if(!descriptor)return false;return descriptor.collection===
(expectedDescriptor.collection||this.isListItemNode())&&descriptor.name===expectedDescriptor.name&&descriptor.type===expectedDescriptor.type}function convertToString$static(object){return object.toString()}function getDefaultTimeZone$static(){return AS3.as(com.coremedia.cap.common.SESSION.getConnection().getContentRepository(),com.coremedia.cap.content.impl.ContentRepositoryImpl).getDefaultTimeZone()}function startEditing(colIndex){if(arguments.length<=0)colIndex=0;if(colIndex===1&&this.getPropertyType()===
com.coremedia.cap.common.CapPropertyDescriptorType.BOOLEAN)return;this.getCellEditingPlugin$ZxAR().startEditByPosition({row:this.getTreeStore().indexOf(this),column:colIndex})}function getCellEditingPlugin(){return AS3.cast(Ext.grid.plugin.CellEditing,this.getOwnerTree().getPlugin("cellEditing"))}function valueEdited(){if(this.isCollection()||this.isStructNode())return;var value=this.get("value");try{var convertedValue=this.normalizeValue$ZxAR(value);if(convertedValue!==undefined)if(this.isPropertyNode())this.getParentStruct().set(this.getPropertyName(),
convertedValue);else{var parentNode=this.getParentStructTreeNode();var struct=parentNode.getParentStruct();var property=parentNode.getPropertyName();var listItemIndex=this.getListItemIndex();struct.removeAt(property,listItemIndex);if(convertedValue!==null)struct.addAt(property,listItemIndex,convertedValue);else if(!this.nextSibling)AS3.cast(StructTreeNode,this.previousSibling||parentNode).select()}}catch(e){com.coremedia.ui.logging.Logger.warn("Struct property field: Cannot convert '"+value+"' to type "+
this.getPropertyType())}}function clearProperty(){this.getCellEditingPlugin$ZxAR().completeEdit();this.nodeValueExpression$ZxAR.setValue(null)}function removeProperty(){this.getCellEditingPlugin$ZxAR().cancelEdit();if(!this.getParentStruct().getType().removeProperty(this.getPropertyName()))return false;this.getParentStructTreeNode().updateChildrenNow();return true}function replaceValue(propertyDescriptor,valueForExistingProperty){this.getParentStruct().set(propertyDescriptor.name,valueForExistingProperty);
this.updateChildrenNow()}function addProperty(descriptorTemplate,referencePropertyName,value){if(arguments.length<=1)referencePropertyName=null;var rawStruct={};rawStruct[com.coremedia.cap.common.impl.StructTypeImpl.DESCRIPTORS_PROPERTY]=[descriptorTemplate];rawStruct[descriptorTemplate.name]=value;return this.addAllProperties(rawStruct,referencePropertyName)}function addAllProperties(rawStruct,referencePropertyName){var struct=this.getValueAsStruct();var properties=struct.toObject();var propertyNames=
struct.getType().getPropertyNames().concat();var descriptorsToAdd=rawStruct[com.coremedia.cap.common.impl.StructTypeImpl.DESCRIPTORS_PROPERTY];var namesAdded=[];for(var j=0;j<descriptorsToAdd.length;j++){var descriptorTemplate=descriptorsToAdd[j];var propertyNamePrefix=descriptorTemplate.name;var match=propertyNamePrefix.match(/^(.+) \(\d+\)$/);if(match)propertyNamePrefix=match[1];var propertyName=propertyNamePrefix;for(var index=1;properties[propertyName]!==undefined;++index)propertyName=propertyNamePrefix+
" ("+index+")";var value=rawStruct[descriptorTemplate.name];properties[propertyName]=value;namesAdded.push(propertyName);var descriptor=com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorUtil.withName(descriptorTemplate,propertyName);AS3.cast(com.coremedia.cap.common.impl.StructTypeImpl,struct.getType()).addProperty(descriptor,value)}var referenceNodeIndex=propertyNames.indexOf(referencePropertyName)+1;var newPropertyNames=propertyNames.slice(0,referenceNodeIndex).concat(namesAdded).concat(propertyNames.slice(referenceNodeIndex));
struct.getType().rearrangeProperties(newPropertyNames);this.updateChildrenNow();return AS3.cast(StructTreeNode,this.getChildAt(referenceNodeIndex+namesAdded.length-1))}function moveUpProperty(){var structType=this.getParentStruct().getType();var propertyNames=structType.getPropertyNames();var property=this.getPropertyName();var index=propertyNames.indexOf(property);propertyNames.splice(index,1);propertyNames.splice(index-1,0,property);structType.rearrangeProperties(propertyNames);AS3.cast(StructTreeNode,
this.parentNode).updateChildrenNow()}function addAt(index,initialValue){var struct=this.getParentStruct();var property=this.getPropertyName();struct.addAt(property,index,initialValue);this.appendChild(this.createListItemNodeConfig$ZxAR(this.getPropertyDescriptor(),AS3.as(struct.get(property),Array).length-1));var changedNode=this.childNodes[index];changedNode.set("value",initialValue);return changedNode}function removeListItem(){this.getCellEditingPlugin$ZxAR().cancelEdit();var parentNode=this.getParentStructTreeNode();
var struct=parentNode.getParentStruct();var property=parentNode.getPropertyName();struct.removeAt(property,this.getListItemIndex());parentNode.updateChildrenNow()}function moveUpListItem(){var index=this.getListItemIndex();var parentStructNode=this.getParentStructTreeNode();var struct=parentStructNode.getParentStruct();var property=parentStructNode.getPropertyName();var value=struct.removeAt(property,index);struct.addAt(property,index-1,value)}function allowDropLinks(contents){var propertyDescriptor=
this.getPropertyDescriptor();if(!propertyDescriptor)return false;if(propertyDescriptor.type!==com.coremedia.cap.common.CapPropertyDescriptorType.LINK)return false;if(propertyDescriptor.atomic&&this.isPropertyNode()&&contents.length!==1)return false;var linkType=com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorUtil.getLinkType(propertyDescriptor);return!(linkType&&com.coremedia.cms.editor.sdk.util.LinkListUtil.containsContentNotMatchingType(AS3.cast(com.coremedia.cap.content.ContentType,
linkType),contents))}function dropLinks(contents){if(contents.length===0)return;if(this.isPropertyNode())if(this.isCollection())this.prependLinksToParentList$ZxAR(contents);else this.replaceLink$ZxAR(contents[0]);else if(this.isListItemNode())this.insertLinksIntoParentList$ZxAR(contents)}function prependLinksToParentList(contents){var propertyName=this.getPropertyName();var struct=this.getParentStruct();var oldValue=struct.get(propertyName);struct.set(propertyName,contents.concat(oldValue));this.updateChildrenNow();
var nodeToFocus=AS3.cast(StructTreeNode,this.getChildAt(contents.length-1));nodeToFocus.refocus(1)}function replaceLink(content){this.getParentStruct().set(this.getPropertyName(),content);this.refocus(1)}function insertLinksIntoParentList(contents){var listItemIndex=this.getListItemIndex();var parentNode=this.getParentStructTreeNode();var struct=parentNode.getParentStruct();var property=parentNode.getPropertyName();var oldLinks=AS3.as(struct.get(property),Array);if(oldLinks){var newLinks=oldLinks.slice(0,
listItemIndex).concat(contents,oldLinks.slice(listItemIndex));struct.set(property,newLinks);parentNode.updateChildrenNow();var nodeToFocus=AS3.cast(StructTreeNode,parentNode.getChildAt(listItemIndex));nodeToFocus.refocus(1)}}function renameProperty(){var newPropertyName=String(this.get("text"));var struct=this.getParentStruct();if(struct){var oldPropertyName=this.getPropertyName();if(oldPropertyName!==newPropertyName){var structType=struct.getType();var parentNode=this.getParentStructTreeNode();if(AS3.cast(com.coremedia.cap.common.impl.StructTypeImpl,
structType).renameProperty(oldPropertyName,newPropertyName)){this.getCellEditingPlugin$ZxAR().cancelEdit();parentNode.updateChildrenNow();var nodeIndex=structType.getPropertyNames().indexOf(newPropertyName);if(nodeIndex!==-1){var renamedNode=AS3.cast(StructTreeNode,parentNode.getChildAt(nodeIndex));renamedNode.select(false);renamedNode.refocusEventually(0)}}else this.set("text",oldPropertyName)}}}function replaceLinkType(){var this$=this;var newLinkTypeName=String(this.get("linkType"));var structType=
this.getParentStruct().getType();var oldPropertyDescriptor=this.getPropertyDescriptor();var oldPropertyName=oldPropertyDescriptor.name;var oldValue=this.getParentStruct().get(oldPropertyName);var propertyNames=structType.getPropertyNames();structType.removeProperty(oldPropertyName);var rawDescriptor=com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorUtil.toObject(oldPropertyDescriptor);var newLinkType=com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getContentType(newLinkTypeName);
rawDescriptor.linkType=newLinkType;this.set("propertyDescriptor",com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorUtil.create(rawDescriptor));this.set("linkType",newLinkTypeName);var newContentValueExpression=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){if(oldValue===null)return null;if(oldPropertyDescriptor.atomic){var contentType=AS3.cast(com.coremedia.cap.content.Content,oldValue).getType();if(contentType===undefined)return undefined;if(contentType.isSubtypeOf(newLinkType))return oldValue;
return null}else{var contents=AS3.as(oldValue,Array);var newContents=[];var returnUndefined=false;for(var i=0;i<contents.length;i++){var content=AS3.as(contents[i],com.coremedia.cap.content.Content);var type2=AS3.cast(com.coremedia.cap.content.Content,content).getType();if(type2===undefined)returnUndefined=true;if(type2.isSubtypeOf(newLinkType))newContents.push(content)}return returnUndefined?undefined:newContents}});newContentValueExpression.loadValue(function(value){AS3.cast(com.coremedia.cap.common.impl.StructTypeImpl,
structType).addProperty(this$.getPropertyDescriptor(),value);structType.rearrangeProperties(propertyNames);this$.refocus(2)})}function select(scrollIntoView){if(arguments.length<=0)scrollIntoView=true;var ownerTree=this.getOwnerTree();if(ownerTree){ownerTree.getSelectionModel().select(this);if(scrollIntoView)ownerTree.ensureVisible(this)}}function refocusEventually(col){com.coremedia.ui.util.EventUtil.invokeLater(AS3.bind(this,"refocus"),col)}function refocus(col){this.select();var ownerTree=this.getOwnerTree();
var view=ownerTree.getView();var context=new Ext.grid.CellContext(view);context.setPosition(this,col);view.focusCell(context)}function removeListeners(){this.nodeValueExpression$ZxAR.removeChangeListener(AS3.bind(this,"valueChanged$ZxAR"));this.renderDataExpression$ZxAR.removeChangeListener(AS3.bind(this,"renderDataChanged$ZxAR"));this.childrenValueExpression$ZxAR&&this.childrenValueExpression$ZxAR.removeChangeListener(AS3.bind(this,"childrenChanged$ZxAR"))}function makeStructTreeRootNode$static(structValueExpression,
structTreeStore){return new StructTreeNode({structTreeStore:structTreeStore,id:com.coremedia.cms.editor.sdk.premular.fields.struct.StructTreePathUtil.ROOT_ID,text:"...",leaf:false,root:true,propertyDescriptor:com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorUtil.create({"type":com.coremedia.cap.common.CapPropertyDescriptorType.STRUCT}),expanded:true,structValueExpression:structValueExpression,cls:"struct-list-root-node"})}return{extend:"Ext.data.TreeModel",structTreeStore$ZxAR:null,
structValueExpression$ZxAR:null,nodeValueExpression$ZxAR:null,renderDataExpression$ZxAR:null,childrenValueExpression$ZxAR:null,propertyPath$ZxAR:null,propertyOrIndex$ZxAR:undefined,constructor:StructTreeNode$,super$ZxAR:function(){Ext.data.TreeModel.prototype.constructor.apply(this,arguments)},isLoaded:isLoaded,set:set,getParentStructTreeNode:getParentStructTreeNode,getPropertyName:getPropertyName,getListItemIndex:getListItemIndex,isPropertyNode:isPropertyNode,isListItemNode:isListItemNode,isStructNode:isStructNode,
isRootNode:isRootNode,valueChanged$ZxAR:valueChanged,renderDataChanged$ZxAR:renderDataChanged,updateChildrenNow:updateChildrenNow,childrenChanged$ZxAR:childrenChanged,isCollection:isCollection,getPropertyType:getPropertyType,computeChildren$ZxAR:computeChildren,computeCollectionChildren$ZxAR:computeCollectionChildren,createListItemNodeConfig$ZxAR:createListItemNodeConfig,getPropertyDescriptor:getPropertyDescriptor,getParentStruct:getParentStruct,computeStructChildren$ZxAR:computeStructChildren,propertyDescriptor2nodeAttributes:propertyDescriptor2nodeAttributes,
extendedPropertyPath:extendedPropertyPath,updateChildren$ZxAR:updateChildren,indexNodes$ZxAR:indexNodes,getValue:getValue,getValueAsStruct:getValueAsStruct,normalizeValue$ZxAR:normalizeValue,normalizeDatePropertyValue$ZxAR:normalizeDatePropertyValue,isInSync:isInSync,startEditing:startEditing,getCellEditingPlugin$ZxAR:getCellEditingPlugin,valueEdited:valueEdited,clearProperty:clearProperty,removeProperty:removeProperty,replaceValue:replaceValue,addProperty:addProperty,addAllProperties:addAllProperties,
moveUpProperty:moveUpProperty,addAt:addAt,removeListItem:removeListItem,moveUpListItem:moveUpListItem,allowDropLinks:allowDropLinks,dropLinks:dropLinks,prependLinksToParentList$ZxAR:prependLinksToParentList,replaceLink$ZxAR:replaceLink,insertLinksIntoParentList$ZxAR:insertLinksIntoParentList,renameProperty:renameProperty,replaceLinkType:replaceLinkType,select:select,refocusEventually:refocusEventually,refocus:refocus,removeListeners:removeListeners,statics:{makeStructTreeRootNode:makeStructTreeRootNode$static},
requires:["AS3.Error","AS3.int_","Ext.String","Ext.data.TreeModel","Ext.grid.CellContext","Ext.grid.plugin.CellEditing","com.coremedia.cap.common.CapPropertyDescriptor","com.coremedia.cap.common.CapPropertyDescriptorType","com.coremedia.cap.common.SESSION","com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorUtil","com.coremedia.cap.common.impl.StructTypeImpl","com.coremedia.cap.content.Content","com.coremedia.cap.content.ContentType","com.coremedia.cap.content.impl.ContentRepositoryImpl",
"com.coremedia.cap.struct.Struct","com.coremedia.cms.editor.sdk.premular.fields.struct.StructPropertyField_properties","com.coremedia.ui.data.Calendar","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.logging.Logger","com.coremedia.ui.util.EventUtil","com.coremedia.ui.util.ObjectUtils","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.premular.fields.struct.StructTreePathUtil","com.coremedia.cms.editor.sdk.util.LinkListUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.struct.StructEditorTreeGridBase",function(StructEditorTreeGridBase){var CM_STRUCT_LINK_LIST_DROP_CONTAINER$static="cm-struct-link-list-property-drop-container";var CM_STRUCT_EDITOR_ENTRY_BLOCK$static="cm-struct-editor-entry";var CM_STRUCT_EDITOR_ENTRY_DESCRIPTION_ELEMENT$static;function CM_STRUCT_EDITOR_ENTRY_DESCRIPTION_ELEMENT$static_(){CM_STRUCT_EDITOR_ENTRY_DESCRIPTION_ELEMENT$static=com.coremedia.ui.util.BEMUtils.getElementClassName(CM_STRUCT_EDITOR_ENTRY_BLOCK$static,
"description")}var CM_STRUCT_EDITOR_ENTRY_ICON_ELEMENT$static;function CM_STRUCT_EDITOR_ENTRY_ICON_ELEMENT$static_(){CM_STRUCT_EDITOR_ENTRY_ICON_ELEMENT$static=com.coremedia.ui.util.BEMUtils.getElementClassName(CM_STRUCT_EDITOR_ENTRY_BLOCK$static,"icon")}var CM_STRUCT_EDITOR_ENTRY_TEXT_ELEMENT$static;function CM_STRUCT_EDITOR_ENTRY_TEXT_ELEMENT$static_(){CM_STRUCT_EDITOR_ENTRY_TEXT_ELEMENT$static=com.coremedia.ui.util.BEMUtils.getElementClassName(CM_STRUCT_EDITOR_ENTRY_BLOCK$static,"text")}function StructEditorTreeGridBase$(config){if(arguments.length<=
0)config=null;this.super$GKqT(config);this.initValidationStateMixin();this.valueColumn$GKqT=this.getColumns().filter(isValueColumn$static)[0];this.mon(this.getSelectionModel(),"selectionchange",AS3.bind(this,"onSelectionChange"));this.onSelectionChange();this.on("beforeedit",AS3.bind(this,"onBeforeEdit$GKqT"));this.on("expandnode",onExpandCollapse$static(true,this));this.on("collapsenode",onExpandCollapse$static(false,this));this.on("beforecellclick",AS3.bind(this,"onBeforeCellClick$GKqT"));this.mon(this.getView(),
"render",AS3.bind(this,"onViewRender$GKqT"));this.mon(this.getStore(),"update",onStoreUpdate$static);com.coremedia.ui.data.util.ObservablePropertyUtil.createPropertyChangeEventsFor(this,"linkedContent")}function afterRender(){Ext.tree.Panel.prototype.afterRender.call(this);this.getHeaderContainer().addCls(com.coremedia.ui.bem.LinkListBEMEntities.ELEMENT_HEADER.getCSSClass())}function getSelectedNodeExpression(){if(!this.selectedNodeValueExpression$GKqT)this.selectedNodeValueExpression$GKqT=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(null);
return this.selectedNodeValueExpression$GKqT}function onExpandCollapse$static(newExpandedState,t){return function(node){if(newExpandedState)node.expand();else node.collapse();t.ownerCt.updateLayout()}}function onSelectionChange(){var selection=this.getSelection();var selectedNode=selection&&selection.length>0?AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.StructTreeNode,selection[0]):null;this.selectedNodeValueExpression$GKqT.setValue(selectedNode)}function onViewRender(){this.structEditorTreeGridDropTarget$GKqT=
new com.coremedia.cms.editor.sdk.premular.fields.struct.StructEditorTreeGridDropTarget(this)}function onDestroy(){Ext.tree.Panel.prototype.onDestroy.call(this);if(this.structEditorTreeGridDropTarget$GKqT)this.structEditorTreeGridDropTarget$GKqT.unreg();var columns=AS3.as(this["columns"],Array);if(columns&&columns.length>0)for(var i=0;i<columns.length;i++){var column=columns[i];if(column["editor"])column["editor"].destroy&&column["editor"].destroy()}this.getStore().destroy()}function isValueColumn$static(column){return column.dataIndex===
"value"}function onBeforeCellClick(view,td,cellIndex,structTreeNode,tr,rowIndex,e,eOpts){var column=this.getColumns()[cellIndex];if(column.dataIndex==="text"){if(e.getTarget(view["expanderSelector"]))return true;if(this.getSelectedNode$GKqT()!==structTreeNode){structTreeNode.select(false);return false}}return true}function onBeforeEdit(editing,context){if(this.getReadOnlyExpression$GKqT().getValue()){context.cancel=true;return}var structTreeNode=context.record;if(context.field==="text"){if(!structTreeNode.isPropertyNode()){context.cancel=
true;return}return}if(context.field==="linkType"){context.cancel=structTreeNode.getPropertyType()!==com.coremedia.cap.common.CapPropertyDescriptorType.LINK||structTreeNode.isListItemNode();return}if(context.field!=="value")return;var propertyDescriptor=structTreeNode.getPropertyDescriptor();var editorConfig=this.getEditorConfig$GKqT(propertyDescriptor);if(editorConfig){if(!AS3.is(this.valueColumn$GKqT.getEditor(),Ext.Component)||AS3.getBindable(AS3.cast(Ext.Component,this.valueColumn$GKqT.getEditor()),
"itemId","DUMMY")!==AS3.getBindable(editorConfig,"itemId","DUMMY")){Ext.destroy(this.valueColumn$GKqT.getEditor());this.valueColumn$GKqT.setEditor(AS3.cast(Ext.form.field.Field,Ext.ComponentManager.create(editorConfig)))}}else{context.cancel=true;switch(propertyDescriptor.type){case com.coremedia.cap.common.CapPropertyDescriptorType.BOOLEAN:structTreeNode.set(context.field,!structTreeNode.get(context.field));break;case com.coremedia.cap.common.CapPropertyDescriptorType.LINK:if(structTreeNode.isCollection()||
structTreeNode.getValue()===null)openCollectionViewInAppropriateState$static(propertyDescriptor);break;case com.coremedia.cap.common.CapPropertyDescriptorType.DATE:if(propertyDescriptor.atomic)this.openDateTimeMenu$GKqT(structTreeNode,context);break}}}function openDateTimeMenu(structTreeNode,context){var dateTimeMenuConfig=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.DateTimeMenu,{});AS3.setBindable(dateTimeMenuConfig,"initialCalendar",AS3.as(structTreeNode.getValue(),com.coremedia.ui.data.Calendar));
dateTimeMenuConfig.onMenuCloseCallback=function(cal){structTreeNode.set(context.field,cal)};var menu=AS3.cast(Ext.menu.Menu,Ext.ComponentManager.create(dateTimeMenuConfig));var element=Ext.get(this.getEl().select(".x-grid-item-focused").elements[0]);menu.showBy(element,"bl-tl?")}function openCollectionViewInAppropriateState$static(propertyDescriptor){var linkType=com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorUtil.getLinkType(propertyDescriptor);if(linkType.isSubtypeOf(com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getDocumentContentType())){var searchStateConfig=
AS3.cast(com.coremedia.cms.editor.sdk.collectionview.SearchState,{});searchStateConfig.contentType=linkType.getName();com.coremedia.cms.editor.sdk.editorContext.getCollectionViewManager().openSearch(new com.coremedia.cms.editor.sdk.collectionview.SearchState(searchStateConfig))}else com.coremedia.cms.editor.sdk.editorContext.getCollectionViewManager().openRepository()}function getEditorConfig(propertyDescriptor){var editorConfig=null;if(!propertyDescriptor.collection)for(var i=0;i<AS3.getBindable(this,
"editors").length;i++){var candidate=AS3.getBindable(this,"editors")[i];if(AS3.getBindable(candidate,"itemId","DUMMY")===propertyDescriptor.type)editorConfig=candidate}return editorConfig}function onStoreUpdate$static(store,structNode,operation,modifiedFieldNames){if(modifiedFieldNames)for(var $1=0;$1<modifiedFieldNames.length;++$1){var field=modifiedFieldNames[$1];switch(field){case "value":structNode.valueEdited();break;case "linkType":structNode.replaceLinkType();break;case "text":structNode.renameProperty()}}}
function getSelectedNode(){return this.getSelectedNodeExpression().getValue()}function getLinkedContent(){var selectedNode=this.getSelectedNode$GKqT();return selectedNode&&AS3.as(selectedNode.getValue(),com.coremedia.cap.content.Content)}function setContents(contents){this.getContentExpression$GKqT().setValue(contents)}function getContentExpression(){if(!this.contentValueExpression$GKqT)this.contentValueExpression$GKqT=com.coremedia.ui.data.ValueExpressionFactory.createFromValue();return this.contentValueExpression$GKqT}
function setForceReadOnly(readOnly){if(!AS3.getBindable(this,"forceReadOnlyValueExpression"))AS3.setBindable(this,"forceReadOnlyValueExpression",com.coremedia.ui.data.ValueExpressionFactory.createFromValue(readOnly))}function getReadOnlyExpression(){if(!this.readOnlyValueExpression$GKqT)this.readOnlyValueExpression$GKqT=com.coremedia.cms.editor.sdk.util.PropertyEditorUtil.createReadOnlyValueExpression(this.contentValueExpression$GKqT,AS3.getBindable(this,"forceReadOnlyValueExpression"));return this.readOnlyValueExpression$GKqT}
var STRUCT_VALUE_DESCRIPTION_HTML$static;function STRUCT_VALUE_DESCRIPTION_HTML$static_(){STRUCT_VALUE_DESCRIPTION_HTML$static="\x3cspan class\x3d'"+CM_STRUCT_EDITOR_ENTRY_DESCRIPTION_ELEMENT$static+"'\x3e{0}\x3c/span\x3e"}var CM_STRUCT_EDITOR_CHECKBOX$static="cm-struct-editor-checkbox";var CM_STRUCT_EDITOR_CHECKBOX_CHECKED$static;function CM_STRUCT_EDITOR_CHECKBOX_CHECKED$static_(){CM_STRUCT_EDITOR_CHECKBOX_CHECKED$static=com.coremedia.ui.util.BEMUtils.getModifierClassName(CM_STRUCT_EDITOR_CHECKBOX$static,
"checked")}function renderType$static(attributes){var descriptor=attributes.propertyDescriptor;if(descriptor.type===com.coremedia.cap.common.CapPropertyDescriptorType.LINK){if(!attributes.isItem){var linkType=AS3.cast(com.coremedia.cap.content.ContentType,com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorUtil.getLinkType(descriptor));var documentTypeName=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.localizeDocumentTypeName(linkType.getName());var iconCls=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.getIconStyleClassForContentType(linkType);
var text=Ext.String.format(STRUCT_VALUE_DESCRIPTION_HTML$static,documentTypeName);var linkDesc=com.coremedia.ui.util.EncodingUtil.encodeForHTML(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.premular.fields.struct.StructPropertyField","linkProperty_description"));return"\x3cdiv class\x3d'"+CM_STRUCT_EDITOR_ENTRY_BLOCK$static+"' data-qtip\x3d'"+linkDesc+" "+documentTypeName+"'\x3e"+"\x3cspan class\x3d'"+CM_STRUCT_EDITOR_ENTRY_TEXT_ELEMENT$static+"'\x3e"+linkDesc+
"\x3c/span\x3e"+Ext.String.format("\x3cspan class\x3d'"+CM_STRUCT_EDITOR_ENTRY_ICON_ELEMENT$static+" {0}'\x3e\x3c/span\x3e",iconCls)+text+"\x3c/div\x3e"}}else{var descriptorType=descriptor.type.toLowerCase();if(descriptor.collection===true)descriptorType=descriptorType+"s";var descriptorTypeString=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.premular.fields.struct.StructPropertyField","propertyType_"+descriptorType+"_text");return"\x3cdiv class\x3d'"+CM_STRUCT_EDITOR_ENTRY_BLOCK$static+
"'\x3e"+descriptorTypeString+"\x3c/div\x3e"}return""}function renderValue$static(attributes){var value=attributes.value;var propertyCount=attributes.renderData?attributes.renderData.size:0;var descriptor=attributes.propertyDescriptor;var valueDescription=null;if(!descriptor.collection&&descriptor.type===com.coremedia.cap.common.CapPropertyDescriptorType.STRUCT&&propertyCount===0)valueDescription=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.premular.fields.struct.StructPropertyField",
"struct_property_count_0");else if(descriptor.type===com.coremedia.cap.common.CapPropertyDescriptorType.LINK&&(!descriptor.collection||attributes.expanded)){var iconCls="";var text="";var content=AS3.as(value,com.coremedia.cap.content.Content);if(content)switch(content.getState()){case com.coremedia.ui.data.BeanState.UNREADABLE:iconCls=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.getIconStyleClassForStatus("lock");text=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.formatNotReadableName(content);
break;case com.coremedia.ui.data.BeanState.READABLE:iconCls=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.getIconStyleClassForContentType(content.getType());text=com.coremedia.ui.util.EncodingUtil.encodeForHTML(content.getName())}else{iconCls=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.premular.fields.struct.StructPropertyField","Action_addStructProperty_icon");text=descriptor.collection?mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.premular.fields.struct.StructPropertyField",
"links_drop_zone_text"):mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.premular.fields.struct.StructPropertyField","link_drop_zone_text")}var toolTipText=com.coremedia.ui.util.EncodingUtil.encodeForHTML(text);return'\x3cdiv class\x3d"'+CM_STRUCT_LINK_LIST_DROP_CONTAINER$static+'" data-qtip\x3d"'+toolTipText+'"\x3e\x3cspan data-qtip\x3d"'+toolTipText+'" class\x3d"'+iconCls+" "+CM_STRUCT_EDITOR_ENTRY_ICON_ELEMENT$static+'"\x3e\x3c/span\x3e\x3clabel class\x3d"icon-label-text" data-qtip\x3d"'+
toolTipText+'"\x3e'+text+"\x3c/label\x3e\x3c/div\x3e"}else if(descriptor.collection&&(!attributes.expanded||value.length===0)){var localizedElementType=com.coremedia.cms.editor.sdk.premular.fields.struct.StructEditorLocalizationUtil.localizeElementType(descriptor.type);var pattern=value.length===0?mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.premular.fields.struct.StructPropertyField","struct_collection_item_count_pattern_0"):value.length===1?mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.premular.fields.struct.StructPropertyField",
"struct_collection_item_count_pattern_1"):mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.premular.fields.struct.StructPropertyField","struct_collection_item_count_pattern_n");valueDescription=Ext.String.format(pattern,value.length,localizedElementType)}else if(attributes.expanded)valueDescription="\x26nbsp;";else switch(descriptor.type){case com.coremedia.cap.common.CapPropertyDescriptorType.BOOLEAN:return Ext.String.format("\x3cdiv class\x3d'{0}'\x3e\x26#160;\x3c/div\x3e",
value?CM_STRUCT_EDITOR_CHECKBOX$static+" "+CM_STRUCT_EDITOR_CHECKBOX_CHECKED$static:CM_STRUCT_EDITOR_CHECKBOX$static);case com.coremedia.cap.common.CapPropertyDescriptorType.STRUCT:valueDescription=propertyCount===1?mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.premular.fields.struct.StructPropertyField","struct_property_count_1"):Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.premular.fields.struct.StructPropertyField",
"struct_property_count_pattern_n"),propertyCount);break;case com.coremedia.cap.common.CapPropertyDescriptorType.STRING:if(value==="")valueDescription=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.premular.fields.struct.StructPropertyField","empty_string_text");break;case com.coremedia.cap.common.CapPropertyDescriptorType.INTEGER:if(value===null||value==="")valueDescription=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.premular.fields.struct.StructPropertyField",
"empty_integer_text");break;case com.coremedia.cap.common.CapPropertyDescriptorType.DATE:if(!value)valueDescription=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.premular.fields.struct.StructPropertyField","empty_date_text");else if(AS3.is(value,com.coremedia.ui.data.Calendar)){var calString=com.coremedia.cms.editor.sdk.util.CalendarUtil.format(value);return"\x3cdiv\x3e"+calString+"\x3c/div\x3e"}break}return valueDescription!==null?Ext.String.format(STRUCT_VALUE_DESCRIPTION_HTML$static,
valueDescription):com.coremedia.ui.util.EncodingUtil.encodeForHTML(value)}function getValueTemplate$static(){return new Ext.XTemplate("{[this.renderValue(values)]}",{renderValue:renderValue$static})}function getTypeTemplate$static(){return new Ext.XTemplate("{[this.renderType(values)]}",{renderType:renderType$static})}return{extend:"Ext.tree.Panel",mixins:["com.coremedia.ui.mixins.ValidationStateMixin"],metadata:{getLinkedContent:["ProvideToExtChildren"],setContents:["InjectFromExtParent",["variable",
"content"]],setForceReadOnly:["InjectFromExtParent"]},valueColumn$GKqT:null,contentValueExpression$GKqT:null,readOnlyValueExpression$GKqT:null,selectedNodeValueExpression$GKqT:null,structEditorTreeGridDropTarget$GKqT:null,constructor:StructEditorTreeGridBase$,super$GKqT:function(){Ext.tree.Panel.prototype.constructor.apply(this,arguments)},afterRender:afterRender,getSelectedNodeExpression:getSelectedNodeExpression,onSelectionChange:onSelectionChange,onViewRender$GKqT:onViewRender,onDestroy:onDestroy,
onBeforeCellClick$GKqT:onBeforeCellClick,onBeforeEdit$GKqT:onBeforeEdit,openDateTimeMenu$GKqT:openDateTimeMenu,getEditorConfig$GKqT:getEditorConfig,getSelectedNode$GKqT:getSelectedNode,getLinkedContent:getLinkedContent,setContents:setContents,getContentExpression$GKqT:getContentExpression,setForceReadOnly:setForceReadOnly,getReadOnlyExpression$GKqT:getReadOnlyExpression,config:{editors:null,bindTo:null,propertyName:null,forceReadOnlyValueExpression:null},statics:{CM_STRUCT_EDITOR_TREE_GRID_BLOCK:"cm-struct-editor-tree-grid",
CM_STRUCT_EDITOR_ENTRY_DESCRIPTION_ELEMENT:undefined,CM_STRUCT_EDITOR_ENTRY_ICON_ELEMENT:undefined,CM_STRUCT_EDITOR_ENTRY_TEXT_ELEMENT:undefined,STRUCT_VALUE_DESCRIPTION_HTML:undefined,CM_STRUCT_EDITOR_CHECKBOX_CHECKED:undefined,getValueTemplate:getValueTemplate$static,getTypeTemplate:getTypeTemplate$static,__initStatics__:function(){CM_STRUCT_EDITOR_ENTRY_DESCRIPTION_ELEMENT$static_();CM_STRUCT_EDITOR_ENTRY_ICON_ELEMENT$static_();CM_STRUCT_EDITOR_ENTRY_TEXT_ELEMENT$static_();STRUCT_VALUE_DESCRIPTION_HTML$static_();
CM_STRUCT_EDITOR_CHECKBOX_CHECKED$static_()}},requires:["Ext","Ext.Component","Ext.ComponentManager","Ext.String","Ext.XTemplate","Ext.form.field.Field","Ext.menu.Menu","Ext.tree.Panel","com.coremedia.cap.common.CapPropertyDescriptorType","com.coremedia.cap.common.SESSION","com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorUtil","com.coremedia.cap.content.Content","com.coremedia.cap.content.ContentType","com.coremedia.cms.editor.sdk.premular.fields.struct.StructPropertyField_properties",
"com.coremedia.ui.bem.LinkListBEMEntities","com.coremedia.ui.data.BeanState","com.coremedia.ui.data.Calendar","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.util.ObservablePropertyUtil","com.coremedia.ui.mixins.ValidationStateMixin","com.coremedia.ui.util.BEMUtils","com.coremedia.ui.util.EncodingUtil","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.collectionview.SearchState","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.premular.fields.struct.DateTimeMenu",
"com.coremedia.cms.editor.sdk.premular.fields.struct.StructEditorLocalizationUtil","com.coremedia.cms.editor.sdk.premular.fields.struct.StructEditorTreeGridDropTarget","com.coremedia.cms.editor.sdk.premular.fields.struct.StructTreeNode","com.coremedia.cms.editor.sdk.util.CalendarUtil","com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil","com.coremedia.cms.editor.sdk.util.PropertyEditorUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.struct.CutStructNodeAction",function(CutStructNodeAction){function CutStructNodeAction$(config){if(arguments.length<=0)config=null;this.super$D479(AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.StructNodeAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,"cutStructNode")))}function isDisabledForNode(selectedNode){return selectedNode.isRootNode()}function executeOnSelectedNode(node){com.coremedia.cms.editor.sdk.premular.fields.struct.StructClipboardUtil.copyToClipboard(node);
var nodeToSelect=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.StructTreeNode,node.parentNode);if(node.isPropertyNode()){if(!node.removeProperty())return}else if(node.isListItemNode())node.removeListItem();if(nodeToSelect)nodeToSelect.select()}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.struct.StructNodeAction",constructor:CutStructNodeAction$,super$D479:function(){com.coremedia.cms.editor.sdk.premular.fields.struct.StructNodeAction.prototype.constructor.apply(this,
arguments)},isDisabledForNode:isDisabledForNode,executeOnSelectedNode:executeOnSelectedNode,requires:["com.coremedia.cms.editor.sdk.premular.fields.struct.StructNodeAction"],uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil","com.coremedia.cms.editor.sdk.premular.fields.struct.StructClipboardUtil","com.coremedia.cms.editor.sdk.premular.fields.struct.StructTreeNode"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.struct.LinkTypeSelector",function(LinkTypeSelector){function LinkTypeSelector$(config){var this$=this;if(arguments.length<=0)config=null;var superConfig=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.search.ContentTypeSelector,Ext.apply({},config));AS3.setBindable(superConfig,"entries",com.coremedia.cms.editor.sdk.collectionview.search.ContentTypeSelectorBase.getAllContentTypeEntries());AS3.setBindable(superConfig,"contentTypeValueExpression",
com.coremedia.ui.data.ValueExpressionFactory.createFromValue());superConfig.selectOnFocus=true;this.super$sXcv(superConfig);this.addListener("focus",function(e){this$.expand()});this.addListener("select",function(e){this$.getFocusEl().blur()})}return{extend:"com.coremedia.cms.editor.sdk.collectionview.search.ContentTypeSelector",constructor:LinkTypeSelector$,super$sXcv:function(){com.coremedia.cms.editor.sdk.collectionview.search.ContentTypeSelector.prototype.constructor.apply(this,arguments)},requires:["Ext",
"com.coremedia.cms.editor.sdk.collectionview.search.ContentTypeSelector","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.sdk.collectionview.search.ContentTypeSelectorBase"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.struct.CopyStructNodeAction",function(CopyStructNodeAction){function CopyStructNodeAction$(config){if(arguments.length<=0)config=null;AS3.setBindable(this,"selectedNodeExpression",AS3.getBindable(config,"selectedNodeExpression"));this.super$_kQ8(AS3.cast(CopyStructNodeAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,"copyStructNode",{handler:AS3.bind(this,"copySelectedNode$_kQ8")})))}function isDisabledFor(contents){return com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.isDisabledFor.call(this,
contents)||!AS3.getBindable(this,"selectedNodeExpression").getValue()}function copySelectedNode(){var selectedNode=AS3.getBindable(this,"selectedNodeExpression").getValue();if(selectedNode)com.coremedia.cms.editor.sdk.premular.fields.struct.StructClipboardUtil.copyToClipboard(selectedNode)}return{extend:"com.coremedia.cms.editor.sdk.actions.ContentAction",constructor:CopyStructNodeAction$,super$_kQ8:function(){com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.constructor.apply(this,arguments)},
isDisabledFor:isDisabledFor,copySelectedNode$_kQ8:copySelectedNode,config:{selectedNodeExpression:null},requires:["com.coremedia.cms.editor.sdk.actions.ContentAction"],uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil","com.coremedia.cms.editor.sdk.premular.fields.struct.StructClipboardUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructPropertyAction",function(AddStructPropertyAction){function AddStructPropertyAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructPropertyActionBase,{});var defaults_$1=AS3.cast(AddStructPropertyAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$_JUx(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructPropertyActionBase",
constructor:AddStructPropertyAction$,super$_JUx:function(){com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructPropertyActionBase.prototype.constructor.apply(this,arguments)},config:{propertyType:null,isCollection:false},requires:["com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructPropertyActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.struct.StructTreePathUtil",function(StructTreePathUtil){function ROOT_ID$static_(){StructTreePathUtil.ROOT_ID=StructTreePathUtil.encodePath([])}function encodePath$static(propertyPath){return encodeURIComponent(Ext.JSON.encode(propertyPath))}function decodePath$static(encodedPropertyPath){return AS3.as(Ext.JSON.decode(decodeURIComponent(encodedPropertyPath)),Array)}function StructTreePathUtil$(){}return{constructor:StructTreePathUtil$,statics:{ROOT_ID:undefined,
encodePath:encodePath$static,decodePath:decodePath$static,__initStatics__:function(){ROOT_ID$static_()}},requires:["Ext.JSON"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.struct.StructNodeAction",function(StructNodeAction){function StructNodeAction$(config){if(arguments.length<=0)config=null;AS3.setBindable(this,"selectedNodeExpression",AS3.getBindable(config,"selectedNodeExpression"));this.super$DP$p(AS3.cast(com.coremedia.cms.editor.sdk.actions.ContentUpdateAction,Ext.apply({},config,{handler:AS3.bind(this,"doExecute$DP$p")})))}function isDisabledFor(contents){var selectedNode=AS3.getBindable(this,"selectedNodeExpression").getValue();
return com.coremedia.cms.editor.sdk.actions.ContentUpdateAction.prototype.isDisabledFor.call(this,contents)||!selectedNode||selectedNode.destroyed||!this.isNodeInSync$DP$p(selectedNode)||this.isDisabledForNode(selectedNode)}function isNodeInSync(selectedNode){return selectedNode.isInSync()}function isDisabledForNode(selectedNode){throw new AS3.Error("abstract method");}function doExecute(){var selectedNode=AS3.getBindable(this,"selectedNodeExpression").getValue();if(!this.isDisabledFor(this.getContents()))this.executeOnSelectedNode(selectedNode)}
function executeOnSelectedNode(node){throw new AS3.Error("abstract method");}return{extend:"com.coremedia.cms.editor.sdk.actions.ContentUpdateAction",constructor:StructNodeAction$,super$DP$p:function(){com.coremedia.cms.editor.sdk.actions.ContentUpdateAction.prototype.constructor.apply(this,arguments)},isDisabledFor:isDisabledFor,isNodeInSync$DP$p:isNodeInSync,isDisabledForNode:isDisabledForNode,doExecute$DP$p:doExecute,executeOnSelectedNode:executeOnSelectedNode,config:{selectedNodeExpression:null},
requires:["AS3.Error","Ext","com.coremedia.cms.editor.sdk.actions.ContentUpdateAction"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.struct.StructEditorTreeGridDropTarget",function(StructEditorTreeGridDropTarget){function StructEditorTreeGridDropTarget$(structEditorTreeGrid){this.super$oRgi(structEditorTreeGrid.getView().getEl(),AS3.cast(Ext.dd.DropTarget,{ddGroup:"ContentLinkDD",overClass:StructEditorTreeGridDropTarget.LINK_CELL_HOVER_CLASS}));this.addToGroup("ContentDD");this.structEditorTreeGrid$oRgi=structEditorTreeGrid}function getStructTreeNodeFromEvent(e){return AS3.as(this.structEditorTreeGrid$oRgi.getView().getRecord(e.target),
com.coremedia.cms.editor.sdk.premular.fields.struct.StructTreeNode)}function allowDrop$static(structTreeNode,dragInfo){if(!structTreeNode||!dragInfo)return false;var draggedItems=dragInfo.getContents();var contents=com.coremedia.cap.content.ContentProxyHelper.getContents(draggedItems);if(draggedItems.length!==contents.length)return false;return structTreeNode.allowDropLinks(contents)}function notifyOver(source,e,data){return this.handleOverDrag$oRgi(source,e,data)}function notifyEnter(source,e,data){return this.handleOverDrag$oRgi(source,
e,data)}function handleOverDrag(source,e,data){var dragInfo=com.coremedia.cms.editor.sdk.dragdrop.DragInfo.makeDragInfo(data);if(allowDrop$static(this.getStructTreeNodeFromEvent$oRgi(e),dragInfo)){this.removeHoverClass$oRgi();this.lastHover$oRgi=e.getTarget(".x-treegrid-col");return this.dropAllowed}else return this.dropNotAllowed}function notifyOut(source,e,data){this.removeHoverClass$oRgi()}function removeHoverClass(){if(this.lastHover$oRgi);}function onDrag(e){Ext.dd.DropTarget.prototype.onDrag.call(this,
e)}function notifyDrop(source,e,data){var dragInfo=com.coremedia.cms.editor.sdk.dragdrop.DragInfo.makeDragInfo(data);var structTreeNode=this.getStructTreeNodeFromEvent$oRgi(e);if(!allowDrop$static(structTreeNode,dragInfo))return false;var contents=com.coremedia.cap.content.ContentProxyHelper.getContents(dragInfo.getContents());structTreeNode.dropLinks(contents);this.removeHoverClass$oRgi();return true}return{extend:"Ext.dd.DropTarget",structEditorTreeGrid$oRgi:null,lastHover$oRgi:null,constructor:StructEditorTreeGridDropTarget$,
super$oRgi:function(){Ext.dd.DropTarget.prototype.constructor.apply(this,arguments)},getStructTreeNodeFromEvent$oRgi:getStructTreeNodeFromEvent,notifyOver:notifyOver,notifyEnter:notifyEnter,handleOverDrag$oRgi:handleOverDrag,notifyOut:notifyOut,removeHoverClass$oRgi:removeHoverClass,onDrag:onDrag,notifyDrop:notifyDrop,statics:{LINK_CELL_HOVER_CLASS:"struct-link-cell-hover"},requires:["Ext.dd.DropTarget","com.coremedia.cap.content.ContentProxyHelper"],uses:["com.coremedia.cms.editor.sdk.dragdrop.DragInfo",
"com.coremedia.cms.editor.sdk.premular.fields.struct.StructTreeNode"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.struct.DuplicateStructNodeAction",function(DuplicateStructNodeAction){function DuplicateStructNodeAction$(config){if(arguments.length<=0)config=null;this.super$cayI(AS3.cast(DuplicateStructNodeAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,"duplicateStructNode")))}function isDisabledForNode(selectedNode){return selectedNode.isRootNode()}function executeOnSelectedNode(node){var value=node.getValue();var parentNode=
node.getParentStructTreeNode();var structTreeNode;if(node.isPropertyNode()){var propertyName=node.getPropertyName();structTreeNode=parentNode.addProperty(node.getPropertyDescriptor(),propertyName,value);structTreeNode.select();structTreeNode.startEditing(0)}else if(node.isListItemNode()){structTreeNode=parentNode.addAt(node.getListItemIndex()+1,value);structTreeNode.select();structTreeNode.startEditing(1)}}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.struct.StructNodeAction",constructor:DuplicateStructNodeAction$,
super$cayI:function(){com.coremedia.cms.editor.sdk.premular.fields.struct.StructNodeAction.prototype.constructor.apply(this,arguments)},isDisabledForNode:isDisabledForNode,executeOnSelectedNode:executeOnSelectedNode,requires:["com.coremedia.cms.editor.sdk.premular.fields.struct.StructNodeAction"],uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.struct.StructClipboardUtil",function(StructClipboardUtil){function copyToClipboard$static(node){var clipboardValues={};var value=node.getValue();var serialized;if(AS3.is(value,com.coremedia.cap.struct.Struct))serialized=AS3.as(value,com.coremedia.cap.struct.Struct).toObject();else if(AS3.is(value,Array))serialized=AS3.as(value,Array).map(function(element){return AS3.is(element,com.coremedia.cap.struct.Struct)?AS3.cast(com.coremedia.cap.struct.Struct,
element).toObject():element});else serialized=value;var property=node.isRootNode()||node.isListItemNode()?null:node.getPropertyDescriptor();var entry=new com.coremedia.cms.editor.sdk.premular.fields.struct.StructClipboardEntry(property,serialized);clipboardValues[com.coremedia.cms.editor.sdk.premular.fields.struct.StructClipboardEntry.FLAVOR]=entry;if(node.getPropertyDescriptor().type===com.coremedia.cap.common.CapPropertyDescriptorType.LINK)if(AS3.is(value,com.coremedia.cap.content.Content))clipboardValues[com.coremedia.cms.editor.sdk.clipboard.Clipboard.CONTENTS_FLAVOR]=
[value];else if(AS3.is(value,Array))clipboardValues[com.coremedia.cms.editor.sdk.clipboard.Clipboard.CONTENTS_FLAVOR]=value;com.coremedia.cms.editor.sdk.clipboard.Clipboard.getInstance().setValues(clipboardValues,com.coremedia.cms.editor.sdk.clipboard.Clipboard.COPY)}function StructClipboardUtil$(){}return{constructor:StructClipboardUtil$,statics:{copyToClipboard:copyToClipboard$static},requires:["com.coremedia.cap.common.CapPropertyDescriptorType","com.coremedia.cap.content.Content","com.coremedia.cap.struct.Struct"],
uses:["com.coremedia.cms.editor.sdk.clipboard.Clipboard","com.coremedia.cms.editor.sdk.premular.fields.struct.StructClipboardEntry"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.struct.MoveStructNodeAction",function(MoveStructNodeAction){function MoveStructNodeAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.MoveStructNodeActionBase,{});var defaults_$1=AS3.cast(MoveStructNodeAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Spha(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.struct.MoveStructNodeActionBase",
constructor:MoveStructNodeAction$,super$Spha:function(){com.coremedia.cms.editor.sdk.premular.fields.struct.MoveStructNodeActionBase.prototype.constructor.apply(this,arguments)},config:{direction:null},requires:["com.coremedia.cms.editor.sdk.premular.fields.struct.MoveStructNodeActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructPropertyActionBase",function(AddStructPropertyActionBase){function AddStructPropertyActionBase$(config){if(arguments.length<=0)config=null;this.propertyDescriptor$y5qi=com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorUtil.create({name:mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.premular.fields.struct.StructPropertyField","new_property_text"),type:AS3.getBindable(config,"propertyType"),
collection:AS3.getBindable(config,"isCollection")});var rewrittenConfig=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructPropertyAction,Ext.apply({},config));AS3.setBindable(rewrittenConfig,"text",com.coremedia.cms.editor.sdk.premular.fields.struct.StructEditorLocalizationUtil.localizeType(this.propertyDescriptor$y5qi));rewrittenConfig["tooltip"]=com.coremedia.cms.editor.sdk.premular.fields.struct.StructEditorLocalizationUtil.localizeTypeTooltip(this.propertyDescriptor$y5qi);
this.super$y5qi(rewrittenConfig)}function isDisabledForNode(selectedNode){return!(selectedNode.isPropertyNode()||selectedNode.isStructNode())}function executeOnSelectedNode(node){var this$=this;window.setTimeout(function(){var newTreeNode=node.isStructNode()?this$.addStructProperty$y5qi(node):this$.addStructProperty$y5qi(node.getParentStructTreeNode(),node.getPropertyName());newTreeNode.select();newTreeNode.startEditing()},100)}function addStructProperty(node,referencePropertyName){if(arguments.length<=
1)referencePropertyName=null;return node.addProperty(this.propertyDescriptor$y5qi,referencePropertyName)}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.struct.StructNodeAction",propertyDescriptor$y5qi:null,constructor:AddStructPropertyActionBase$,super$y5qi:function(){com.coremedia.cms.editor.sdk.premular.fields.struct.StructNodeAction.prototype.constructor.apply(this,arguments)},isDisabledForNode:isDisabledForNode,executeOnSelectedNode:executeOnSelectedNode,addStructProperty$y5qi:addStructProperty,
requires:["Ext","com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorUtil","com.coremedia.cms.editor.sdk.premular.fields.struct.StructNodeAction","com.coremedia.cms.editor.sdk.premular.fields.struct.StructPropertyField_properties","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructPropertyAction","com.coremedia.cms.editor.sdk.premular.fields.struct.StructEditorLocalizationUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.struct.MoveStructNodeActionBase",function(MoveStructNodeActionBase){function MoveStructNodeActionBase$(config){if(arguments.length<=0)config=null;this.super$ygFL(AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.MoveStructNodeAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,"moveStructListItem"+AS3.getBindable(config,"direction"))))}function isUp(){return AS3.getBindable(AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.MoveStructNodeAction,
this.initialConfig),"direction")==="Up"}function isDisabledForNode(selectedNode){var store=selectedNode.getOwnerTree().getStore();com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(store,"add");com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(store,"append");com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(store,"insert");com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(store,"move");com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(store,
"remove");return this.isUp$ygFL()?!selectedNode.previousSibling:!selectedNode.nextSibling}function executeOnSelectedNode(node){if(node.isPropertyNode()){if(this.isUp$ygFL())node.moveUpProperty();else AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.StructTreeNode,node.nextSibling).moveUpProperty();node.select()}else if(node.isListItemNode())if(this.isUp$ygFL()){node.moveUpListItem();AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.StructTreeNode,node.previousSibling).select()}else{AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.StructTreeNode,
node.nextSibling).moveUpListItem();AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.StructTreeNode,node.nextSibling).select()}}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.struct.StructNodeAction",constructor:MoveStructNodeActionBase$,super$ygFL:function(){com.coremedia.cms.editor.sdk.premular.fields.struct.StructNodeAction.prototype.constructor.apply(this,arguments)},isUp$ygFL:isUp,isDisabledForNode:isDisabledForNode,executeOnSelectedNode:executeOnSelectedNode,requires:["com.coremedia.cms.editor.sdk.premular.fields.struct.StructNodeAction",
"com.coremedia.ui.data.dependencies.DependencyTracker"],uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil","com.coremedia.cms.editor.sdk.premular.fields.struct.MoveStructNodeAction","com.coremedia.cms.editor.sdk.premular.fields.struct.StructTreeNode"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructListItemAction",function(AddStructListItemAction){function AddStructListItemAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructListItemActionBase,{});var defaults_$1=AS3.cast(AddStructListItemAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$n4st(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructListItemActionBase",
constructor:AddStructListItemAction$,super$n4st:function(){com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructListItemActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructListItemActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructListItemActionBase",function(AddStructListItemActionBase){function AddStructListItemActionBase$(config){if(arguments.length<=0)config=null;this.super$21Ke(AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructListItemAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,"addStructListItem")))}function isDisabledForNode(selectedNode){return!(selectedNode.getPropertyDescriptor().collection||
selectedNode.isListItemNode())}function executeOnSelectedNode(node){var propertyType=node.getPropertyType();if(propertyType===com.coremedia.cap.common.CapPropertyDescriptorType.LINK)node.startEditing(1);else{var initialValue=undefined;if(propertyType===com.coremedia.cap.common.CapPropertyDescriptorType.INTEGER)initialValue=0;else if(propertyType===com.coremedia.cap.common.CapPropertyDescriptorType.DATE)initialValue=new Date;var structListItemNode=node.getPropertyDescriptor().collection?node.addAt(0,
initialValue):node.getParentStructTreeNode().addAt(node.getListItemIndex()+1,initialValue);structListItemNode.select();structListItemNode.startEditing(1)}}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.struct.StructNodeAction",constructor:AddStructListItemActionBase$,super$21Ke:function(){com.coremedia.cms.editor.sdk.premular.fields.struct.StructNodeAction.prototype.constructor.apply(this,arguments)},isDisabledForNode:isDisabledForNode,executeOnSelectedNode:executeOnSelectedNode,requires:["com.coremedia.cap.common.CapPropertyDescriptorType",
"com.coremedia.cms.editor.sdk.premular.fields.struct.StructNodeAction"],uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil","com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructListItemAction"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.struct.DateTimeMenu",function(DateTimeMenu){function DateTimeMenu$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.DateTimeMenuBase,{});var defaults_$1=AS3.cast(DateTimeMenu,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.plain=true;config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.MenuSkin.GRID_100);var datePicker_38_5_$1=AS3.cast(Ext.picker.Date,
{});datePicker_38_5_$1.itemId="date";var ui_StatefulTimeField_39_5_$1=AS3.cast(com.coremedia.ui.components.StatefulTimeField,{});ui_StatefulTimeField_39_5_$1.itemId="time";ui_StatefulTimeField_39_5_$1.increment=15;ui_StatefulTimeField_39_5_$1.allowBlank=true;ui_StatefulTimeField_39_5_$1.format=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.fields.struct.DateTimeMenuBase.getTimeFormat());ui_StatefulTimeField_39_5_$1.validator=com.coremedia.cms.editor.sdk.premular.fields.struct.DateTimeMenuBase.validateTime;
AS3.setBindable(ui_StatefulTimeField_39_5_$1,"width",310);AS3.setBindable(ui_StatefulTimeField_39_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","DateTimeMenu_time_title")));var ui_LocalComboBox_46_5_$1=AS3.cast(com.coremedia.ui.components.LocalComboBox,{});ui_LocalComboBox_46_5_$1.itemId="timeZone";AS3.setBindable(ui_LocalComboBox_46_5_$1,"encodeItems",true);AS3.setBindable(ui_LocalComboBox_46_5_$1,"store",com.coremedia.cms.editor.sdk.premular.fields.struct.DateTimeMenuBase.getTimeZoneIdsWithLocalizedNames());
AS3.setBindable(ui_LocalComboBox_46_5_$1,"displayField","localizedName");ui_LocalComboBox_46_5_$1.valueField="id";AS3.setBindable(ui_LocalComboBox_46_5_$1,"width",310);AS3.setBindable(ui_LocalComboBox_46_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","DateTimeMenu_timeZone_title")));config_$1.items=[datePicker_38_5_$1,ui_StatefulTimeField_39_5_$1,ui_LocalComboBox_46_5_$1];var ui_VerticalSpacingPlugin_56_5_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,
{});config_$1.plugins=[ui_VerticalSpacingPlugin_56_5_$1];config_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var layout_Anchor_60_5_$1=AS3.cast(Ext.layout.container.Anchor,{});AS3.setBindable(config_$1,"layout",layout_Anchor_60_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$KKO0(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.struct.DateTimeMenuBase",alias:"widget.com.coremedia.cms.editor.sdk.config.dateTimeMenu",constructor:DateTimeMenu$,super$KKO0:function(){com.coremedia.cms.editor.sdk.premular.fields.struct.DateTimeMenuBase.prototype.constructor.apply(this,
arguments)},onMenuCloseCallback:null,config:{initialCalendar:null},requires:["Ext.layout.container.Anchor","Ext.picker.Date","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.premular.fields.struct.DateTimeMenuBase","com.coremedia.ui.components.LocalComboBox","com.coremedia.ui.components.StatefulTimeField","com.coremedia.ui.plugins.VerticalSpacingPlugin","com.coremedia.ui.skins.MenuSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.struct.StructEditorContextMenu",function(StructEditorContextMenu){function StructEditorContextMenu$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.menu.Menu,{});var defaults_$1=AS3.cast(StructEditorContextMenu,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.plain=true;var menuItem_27_5_$1=AS3.cast(Ext.menu.Item,{});var editor_OpenInTabAction_29_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenInTabAction,
{});AS3.setBindable(editor_OpenInTabAction_29_9_$1,"contentVariableName","linkedContent");menuItem_27_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.OpenInTabAction(editor_OpenInTabAction_29_9_$1);var menuItem_32_5_$1=AS3.cast(Ext.menu.Item,{});var editor_ShowInRepositoryAction_34_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction,{});AS3.setBindable(editor_ShowInRepositoryAction_34_9_$1,"contentVariableName","linkedContent");menuItem_32_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction(editor_ShowInRepositoryAction_34_9_$1);
var menuSeparator_37_5_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_38_5_$1=AS3.cast(Ext.menu.Item,{});var local_CutStructNodeAction_40_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.CutStructNodeAction,{});AS3.setBindable(local_CutStructNodeAction_40_9_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.Premular.CONTENT_VARIABLE_NAME));AS3.setBindable(local_CutStructNodeAction_40_9_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,
"forceReadOnlyValueExpression"));AS3.setBindable(local_CutStructNodeAction_40_9_$1,"forceReadOnlyVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.DocumentTabPanel.FORCE_READ_ONLY_VARIABLE_NAME));AS3.setBindable(local_CutStructNodeAction_40_9_$1,"selectedNodeExpression",AS3.getBindable(config,"selectedNodeExpression"));menuItem_38_5_$1.baseAction=new com.coremedia.cms.editor.sdk.premular.fields.struct.CutStructNodeAction(local_CutStructNodeAction_40_9_$1);var menuItem_46_5_$1=
AS3.cast(Ext.menu.Item,{});var local_CopyStructNodeAction_48_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.CopyStructNodeAction,{});AS3.setBindable(local_CopyStructNodeAction_48_9_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.Premular.CONTENT_VARIABLE_NAME));AS3.setBindable(local_CopyStructNodeAction_48_9_$1,"selectedNodeExpression",AS3.getBindable(config,"selectedNodeExpression"));menuItem_46_5_$1.baseAction=new com.coremedia.cms.editor.sdk.premular.fields.struct.CopyStructNodeAction(local_CopyStructNodeAction_48_9_$1);
var menuItem_52_5_$1=AS3.cast(Ext.menu.Item,{});var local_PasteToStructNodeAction_54_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.PasteToStructNodeAction,{});AS3.setBindable(local_PasteToStructNodeAction_54_9_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.Premular.CONTENT_VARIABLE_NAME));AS3.setBindable(local_PasteToStructNodeAction_54_9_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));AS3.setBindable(local_PasteToStructNodeAction_54_9_$1,
"forceReadOnlyVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.DocumentTabPanel.FORCE_READ_ONLY_VARIABLE_NAME));AS3.setBindable(local_PasteToStructNodeAction_54_9_$1,"selectedNodeExpression",AS3.getBindable(config,"selectedNodeExpression"));menuItem_52_5_$1.baseAction=new com.coremedia.cms.editor.sdk.premular.fields.struct.PasteToStructNodeAction(local_PasteToStructNodeAction_54_9_$1);var menuItem_60_5_$1=AS3.cast(Ext.menu.Item,{});var editor_DuplicateStructNodeAction_62_9_$1=
AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.DuplicateStructNodeAction,{});AS3.setBindable(editor_DuplicateStructNodeAction_62_9_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.Premular.CONTENT_VARIABLE_NAME));AS3.setBindable(editor_DuplicateStructNodeAction_62_9_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));AS3.setBindable(editor_DuplicateStructNodeAction_62_9_$1,"forceReadOnlyVariableName",
net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.DocumentTabPanel.FORCE_READ_ONLY_VARIABLE_NAME));AS3.setBindable(editor_DuplicateStructNodeAction_62_9_$1,"selectedNodeExpression",AS3.getBindable(config,"selectedNodeExpression"));menuItem_60_5_$1.baseAction=new com.coremedia.cms.editor.sdk.premular.fields.struct.DuplicateStructNodeAction(editor_DuplicateStructNodeAction_62_9_$1);var menuSeparator_68_5_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_69_5_$1=AS3.cast(Ext.menu.Item,
{});var editor_MoveStructNodeAction_71_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.MoveStructNodeAction,{});AS3.setBindable(editor_MoveStructNodeAction_71_9_$1,"direction","Up");AS3.setBindable(editor_MoveStructNodeAction_71_9_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.Premular.CONTENT_VARIABLE_NAME));AS3.setBindable(editor_MoveStructNodeAction_71_9_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));
AS3.setBindable(editor_MoveStructNodeAction_71_9_$1,"forceReadOnlyVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.DocumentTabPanel.FORCE_READ_ONLY_VARIABLE_NAME));AS3.setBindable(editor_MoveStructNodeAction_71_9_$1,"selectedNodeExpression",AS3.getBindable(config,"selectedNodeExpression"));menuItem_69_5_$1.baseAction=new com.coremedia.cms.editor.sdk.premular.fields.struct.MoveStructNodeAction(editor_MoveStructNodeAction_71_9_$1);var menuItem_78_5_$1=AS3.cast(Ext.menu.Item,
{});var editor_MoveStructNodeAction_80_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.MoveStructNodeAction,{});AS3.setBindable(editor_MoveStructNodeAction_80_9_$1,"direction","Down");AS3.setBindable(editor_MoveStructNodeAction_80_9_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.Premular.CONTENT_VARIABLE_NAME));AS3.setBindable(editor_MoveStructNodeAction_80_9_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));
AS3.setBindable(editor_MoveStructNodeAction_80_9_$1,"forceReadOnlyVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.DocumentTabPanel.FORCE_READ_ONLY_VARIABLE_NAME));AS3.setBindable(editor_MoveStructNodeAction_80_9_$1,"selectedNodeExpression",AS3.getBindable(config,"selectedNodeExpression"));menuItem_78_5_$1.baseAction=new com.coremedia.cms.editor.sdk.premular.fields.struct.MoveStructNodeAction(editor_MoveStructNodeAction_80_9_$1);var menuSeparator_87_5_$1=AS3.cast(Ext.menu.Separator,
{});var menuItem_88_5_$1=AS3.cast(Ext.menu.Item,{});var editor_DeleteStructNodeAction_90_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.DeleteStructNodeAction,{});AS3.setBindable(editor_DeleteStructNodeAction_90_9_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.Premular.CONTENT_VARIABLE_NAME));AS3.setBindable(editor_DeleteStructNodeAction_90_9_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));
AS3.setBindable(editor_DeleteStructNodeAction_90_9_$1,"forceReadOnlyVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.DocumentTabPanel.FORCE_READ_ONLY_VARIABLE_NAME));AS3.setBindable(editor_DeleteStructNodeAction_90_9_$1,"selectedNodeExpression",AS3.getBindable(config,"selectedNodeExpression"));menuItem_88_5_$1.baseAction=new com.coremedia.cms.editor.sdk.premular.fields.struct.DeleteStructNodeAction(editor_DeleteStructNodeAction_90_9_$1);config_$1.items=[menuItem_27_5_$1,
menuItem_32_5_$1,menuSeparator_37_5_$1,menuItem_38_5_$1,menuItem_46_5_$1,menuItem_52_5_$1,menuItem_60_5_$1,menuSeparator_68_5_$1,menuItem_69_5_$1,menuItem_78_5_$1,menuSeparator_87_5_$1,menuItem_88_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$tAg6(config_$1)}return{extend:"Ext.menu.Menu",constructor:StructEditorContextMenu$,super$tAg6:function(){Ext.menu.Menu.prototype.constructor.apply(this,arguments)},config:{selectedNodeExpression:null,forceReadOnlyValueExpression:null},requires:["Ext.menu.Item",
"Ext.menu.Menu","Ext.menu.Separator","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.actions.OpenInTabAction","com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction","com.coremedia.cms.editor.sdk.premular.DocumentTabPanel","com.coremedia.cms.editor.sdk.premular.Premular","com.coremedia.cms.editor.sdk.premular.fields.struct.CopyStructNodeAction","com.coremedia.cms.editor.sdk.premular.fields.struct.CutStructNodeAction","com.coremedia.cms.editor.sdk.premular.fields.struct.DeleteStructNodeAction",
"com.coremedia.cms.editor.sdk.premular.fields.struct.DuplicateStructNodeAction","com.coremedia.cms.editor.sdk.premular.fields.struct.MoveStructNodeAction","com.coremedia.cms.editor.sdk.premular.fields.struct.PasteToStructNodeAction"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.struct.StructTreeStore",function(StructTreeStore){function StructTreeStore$(config){if(arguments.length<=0)config=null;var rootStructValueExpression=AS3.getBindable(config,"bindTo").extendBy("properties",AS3.getBindable(config,"propertyName"));var root=com.coremedia.cms.editor.sdk.premular.fields.struct.StructTreeNode.makeStructTreeRootNode(rootStructValueExpression,this);this.super$huTe(AS3.cast(Ext.data.TreeStore,Ext.apply({root:root},config)))}
function nodeCreated(node){if(!this.allNodes$huTe)this.allNodes$huTe=[];this.allNodes$huTe.push(node)}function destroy(){var params=Array.prototype.slice.call(arguments);this.allNodes$huTe&&this.allNodes$huTe.forEach(function(node){node.removeListeners()});Ext.data.TreeStore.prototype.destroy.call(this,params)}return{extend:"Ext.data.TreeStore",allNodes$huTe:null,constructor:StructTreeStore$,super$huTe:function(){Ext.data.TreeStore.prototype.constructor.apply(this,arguments)},nodeCreated:nodeCreated,
destroy:destroy,config:{bindTo:null,propertyName:null},requires:["Ext","Ext.data.TreeStore"],uses:["com.coremedia.cms.editor.sdk.premular.fields.struct.StructTreeNode"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.struct.StructEditorLocalizationUtil",function(StructEditorLocalizationUtil){var BUNDLE$static;function BUNDLE$static_(){BUNDLE$static=mx.resources.ResourceManager.getInstance().getResourceBundle(null,"com.coremedia.cms.editor.sdk.premular.fields.struct.StructPropertyField").content}function localizeType$static(propertyDescriptor){var parts=[];var linkType=com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorUtil.getLinkType(propertyDescriptor);
if(linkType&&linkType.getName()!==com.coremedia.cap.content.ContentTypeNames.CONTENT)parts.push(com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.localizeDocumentTypeName(linkType.getName()));var localizedPropertyType=BUNDLE$static[getPropertyTypeLocalizationKey$static(propertyDescriptor)];parts.push(localizedPropertyType);return parts.join(" ")}function localizeElementType$static(propertyType){return BUNDLE$static["propertyType_"+propertyType.toLowerCase()+"_text"]}function localizeTypeTooltip$static(propertyDescriptor){return Ext.String.format(BUNDLE$static.Action_addStructProperty_tooltip,
StructEditorLocalizationUtil.localizeType(propertyDescriptor))}function getPropertyTypeLocalizationKey$static(propertyType){var type=propertyType.type;if(propertyType.collection)type+="s";return"propertyType_"+type.toLowerCase()+"_text"}function StructEditorLocalizationUtil$(){}return{constructor:StructEditorLocalizationUtil$,statics:{BUNDLE:undefined,localizeType:localizeType$static,localizeElementType:localizeElementType$static,localizeTypeTooltip:localizeTypeTooltip$static,__initStatics__:function(){BUNDLE$static_()}},
requires:["Ext.String","com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorUtil","com.coremedia.cap.content.ContentTypeNames","com.coremedia.cms.editor.sdk.premular.fields.struct.StructPropertyField_properties","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.struct.PasteToStructNodeAction",function(PasteToStructNodeAction){function PasteToStructNodeAction$(config){if(arguments.length<=0)config=null;this.super$lBhr(AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.StructNodeAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,"pasteToStructNode")))}function getStructClipboardEntry$static(){var clipboard=com.coremedia.cms.editor.sdk.clipboard.Clipboard.getInstance();
var value=clipboard.getValue(com.coremedia.cms.editor.sdk.premular.fields.struct.StructClipboardEntry.FLAVOR,com.coremedia.cms.editor.sdk.clipboard.Clipboard.CONTENTS_FLAVOR);if(value===undefined)return null;if(AS3.is(value,com.coremedia.cms.editor.sdk.premular.fields.struct.StructClipboardEntry))return value;return new com.coremedia.cms.editor.sdk.premular.fields.struct.StructClipboardEntry(null,value)}function isDisabledForNode(selectedNode){var clipboardEntry=getStructClipboardEntry$static();if(!clipboardEntry)return true;
var value=clipboardEntry.getValue();if(!selectedNode.isListItemNode()||selectedNode.isStructNode())return false;if(clipboardEntry.getPropertyDescriptor())return true;var parentPropertyDescriptor=selectedNode.getParentStructTreeNode().getPropertyDescriptor();var array=AS3.as(value,Array);if(!array)array=[value];return!com.coremedia.cap.common.impl.StructTypeImpl.isValidValue(array,parentPropertyDescriptor)}function executeOnSelectedNode(node){var clipboardEntry=getStructClipboardEntry$static();if(!clipboardEntry)return;
if(clipboardEntry.getPropertyDescriptor())addProperty$static(node,clipboardEntry);else{var value=clipboardEntry.getValue();if(value[com.coremedia.cap.common.impl.StructTypeImpl.DESCRIPTORS_PROPERTY])addAllProperties$static(node,value);else addPlainValue$static(node,value)}}function addPlainValue$static(node,value){var propertyNode=node.isListItemNode()?node.getParentStructTreeNode():node;var propertyDescriptor=propertyNode.getPropertyDescriptor();var valueForExistingProperty=null;var childIndexToSelect=
NaN;var isStructNode=AS3.is(node.getValue(),com.coremedia.cap.struct.Struct);if(!isStructNode){var valueAsArray=AS3.as(value,Array);if(propertyDescriptor.atomic)if(valueAsArray){if(valueAsArray.length===1)valueForExistingProperty=value[0]}else valueForExistingProperty=value;else{var array;if(valueAsArray)array=valueAsArray;else array=[value];if(com.coremedia.cap.common.impl.StructTypeImpl.isValidValue(array,propertyDescriptor)){var insertionPoint=node.isListItemNode()?node.getListItemIndex()+1:0;
var oldArray=propertyNode.getValue();childIndexToSelect=insertionPoint+array.length-1;valueForExistingProperty=oldArray.slice(0,insertionPoint).concat(array,oldArray.slice(insertionPoint))}}}if(valueForExistingProperty&&com.coremedia.cap.common.impl.StructTypeImpl.isValidValue(valueForExistingProperty,propertyDescriptor)){propertyNode.replaceValue(propertyDescriptor,valueForExistingProperty);if(!isNaN(childIndexToSelect))newTreeNodeCreated$static(AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.StructTreeNode,
propertyNode.getChildAt(childIndexToSelect)))}else{var nodeForInsert=isStructNode?node:propertyNode.getParentStructTreeNode();var referencePropertyName=isStructNode?null:propertyNode.getPropertyName();var newDescriptor=com.coremedia.cap.common.impl.StructTypeImpl.createDescriptorImplicitly(value,mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.premular.fields.struct.StructPropertyField","new_property_text"));var newTreeNode=nodeForInsert.addProperty(newDescriptor,
referencePropertyName,value);newTreeNodeCreated$static(newTreeNode)}}function addProperty$static(node,clipboardEntry){var pasteTarget;var referencePropertyName;if(AS3.is(node.getValue(),com.coremedia.cap.struct.Struct)){pasteTarget=node;referencePropertyName=null}else{pasteTarget=node.getParentStructTreeNode();referencePropertyName=node.getPropertyName()}newTreeNodeCreated$static(pasteTarget.addProperty(clipboardEntry.getPropertyDescriptor(),referencePropertyName,clipboardEntry.getValue()))}function addAllProperties$static(node,
value){var pasteTarget=node;var referencePropertyName=null;while(!AS3.is(pasteTarget.getValue(),com.coremedia.cap.struct.Struct)){if(pasteTarget.isPropertyNode())referencePropertyName=pasteTarget.getPropertyName();pasteTarget=pasteTarget.getParentStructTreeNode()}var lastInsertedNode=pasteTarget.addAllProperties(value,referencePropertyName);if(lastInsertedNode)lastInsertedNode.select()}function newTreeNodeCreated$static(newTreeNode){if(newTreeNode){newTreeNode.select();newTreeNode.startEditing()}}
return{extend:"com.coremedia.cms.editor.sdk.premular.fields.struct.StructNodeAction",constructor:PasteToStructNodeAction$,super$lBhr:function(){com.coremedia.cms.editor.sdk.premular.fields.struct.StructNodeAction.prototype.constructor.apply(this,arguments)},isDisabledForNode:isDisabledForNode,executeOnSelectedNode:executeOnSelectedNode,requires:["com.coremedia.cap.common.impl.StructTypeImpl","com.coremedia.cap.struct.Struct","com.coremedia.cms.editor.sdk.premular.fields.struct.StructNodeAction","mx.resources.ResourceManager"],
uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil","com.coremedia.cms.editor.sdk.clipboard.Clipboard","com.coremedia.cms.editor.sdk.premular.fields.struct.StructClipboardEntry","com.coremedia.cms.editor.sdk.premular.fields.struct.StructTreeNode"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.struct.DeleteStructNodeAction",function(DeleteStructNodeAction){function DeleteStructNodeAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.DeleteStructNodeActionBase,{});var defaults_$1=AS3.cast(DeleteStructNodeAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$2Wy_(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.struct.DeleteStructNodeActionBase",
constructor:DeleteStructNodeAction$,super$2Wy_:function(){com.coremedia.cms.editor.sdk.premular.fields.struct.DeleteStructNodeActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.premular.fields.struct.DeleteStructNodeActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.struct.StructClipboardEntry",function(StructClipboardEntry){function StructClipboardEntry$(propertyDescriptor,value){this.propertyDescriptor$9DGN=propertyDescriptor;this.value$9DGN=value}function getPropertyDescriptor(){return this.propertyDescriptor$9DGN}function getValue(){return this.value$9DGN}return{propertyDescriptor$9DGN:null,value$9DGN:undefined,constructor:StructClipboardEntry$,getPropertyDescriptor:getPropertyDescriptor,getValue:getValue,
statics:{FLAVOR:"struct"}}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.struct.StructEditorTreeGrid",function(StructEditorTreeGrid){function StructEditorTreeGrid$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.StructEditorTreeGridBase,{});var defaults_$1=AS3.cast(StructEditorTreeGrid,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.useArrows=true;config_$1.rowLines=true;config_$1["enableHdMenu"]=false;config_$1.cls=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.fields.struct.StructEditorTreeGridBase.CM_STRUCT_EDITOR_TREE_GRID_BLOCK);
var local_StructTreeStore_30_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.StructTreeStore,{});AS3.setBindable(local_StructTreeStore_30_5_$1,"bindTo",AS3.getBindable(config,"bindTo"));AS3.setBindable(local_StructTreeStore_30_5_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));AS3.setBindable(config_$1,"store",new com.coremedia.cms.editor.sdk.premular.fields.struct.StructTreeStore(local_StructTreeStore_30_5_$1));var ui_BEMPlugin_35_5_$1=AS3.cast(com.coremedia.ui.plugins.BEMPlugin,
{});AS3.setBindable(ui_BEMPlugin_35_5_$1,"block",com.coremedia.ui.bem.LinkListBEMEntities.BLOCK);AS3.setBindable(ui_BEMPlugin_35_5_$1,"bodyElement",com.coremedia.ui.bem.LinkListBEMEntities.ELEMENT_LIST);AS3.setBindable(ui_BEMPlugin_35_5_$1,"modifier",com.coremedia.ui.bem.LinkListBEMEntities.MODIFIER_WITH_HEADER);var plugin_CellEditing_38_5_$1=AS3.cast(Ext.grid.plugin.CellEditing,{});plugin_CellEditing_38_5_$1.clicksToEdit=1;plugin_CellEditing_38_5_$1.pluginId="cellEditing";var ui_ContextMenuPlugin_40_5_$1=
AS3.cast(com.coremedia.ui.plugins.ContextMenuPlugin,{});var local_StructEditorContextMenu_42_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.StructEditorContextMenu,{});AS3.setBindable(local_StructEditorContextMenu_42_9_$1,"selectedNodeExpression",this.getSelectedNodeExpression());AS3.setBindable(local_StructEditorContextMenu_42_9_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));AS3.setBindable(ui_ContextMenuPlugin_40_5_$1,"contextMenu",local_StructEditorContextMenu_42_9_$1);
config_$1.plugins=[ui_BEMPlugin_35_5_$1,plugin_CellEditing_38_5_$1,ui_ContextMenuPlugin_40_5_$1];var ui_StatefulTreeView_49_5_$1=AS3.cast(com.coremedia.ui.components.StatefulTreeView,{});var plugin_TreeViewDragDrop_51_9_$1=AS3.cast(Ext.tree.plugin.TreeViewDragDrop,{});plugin_TreeViewDragDrop_51_9_$1.ddGroup="ContentDD";plugin_TreeViewDragDrop_51_9_$1.enableDrag=false;var editor_BindReadOnlyPlugin_53_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPlugin,{});AS3.setBindable(editor_BindReadOnlyPlugin_53_9_$1,
"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));editor_BindReadOnlyPlugin_53_9_$1.bindTo=AS3.getBindable(config,"bindTo");ui_StatefulTreeView_49_5_$1.plugins=[plugin_TreeViewDragDrop_51_9_$1,editor_BindReadOnlyPlugin_53_9_$1];config_$1["viewConfig"]=ui_StatefulTreeView_49_5_$1;var textField_60_5_$1=AS3.cast(Ext.form.field.Text,{});textField_60_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cap.common.CapPropertyDescriptorType.STRING);textField_60_5_$1.selectOnFocus=
true;var numberField_62_5_$1=AS3.cast(Ext.form.field.Number,{});numberField_62_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cap.common.CapPropertyDescriptorType.INTEGER);numberField_62_5_$1.selectOnFocus=true;numberField_62_5_$1.allowDecimals=false;AS3.setBindable(numberField_62_5_$1,"minValue",AS3.int_.MIN_VALUE);AS3.setBindable(numberField_62_5_$1,"maxValue",AS3.int_.MAX_VALUE);AS3.setBindable(config_$1,"editors",[textField_60_5_$1,numberField_62_5_$1]);var ui_FloatingToolbar_70_5_$1=
AS3.cast(com.coremedia.ui.components.FloatingToolbar,{});var ui_IconButton_72_9_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_72_9_$1.itemId="deleteStructNode";var editor_DeleteStructNodeAction_74_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.DeleteStructNodeAction,{});AS3.setBindable(editor_DeleteStructNodeAction_74_13_$1,"contentValueExpression",AS3.getBindable(config,"bindTo"));AS3.setBindable(editor_DeleteStructNodeAction_74_13_$1,"forceReadOnlyValueExpression",
AS3.getBindable(config,"forceReadOnlyValueExpression"));AS3.setBindable(editor_DeleteStructNodeAction_74_13_$1,"forceReadOnlyVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.DocumentTabPanel.FORCE_READ_ONLY_VARIABLE_NAME));AS3.setBindable(editor_DeleteStructNodeAction_74_13_$1,"selectedNodeExpression",this.getSelectedNodeExpression());ui_IconButton_72_9_$1.baseAction=new com.coremedia.cms.editor.sdk.premular.fields.struct.DeleteStructNodeAction(editor_DeleteStructNodeAction_74_13_$1);
var tbSeparator_80_9_$1=AS3.cast(Ext.toolbar.Separator,{});var editor_AddStructPropertyButton_81_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructPropertyButton,{});editor_AddStructPropertyButton_81_9_$1.itemId="addStructProperty";AS3.setBindable(editor_AddStructPropertyButton_81_9_$1,"contentValueExpression",AS3.getBindable(config,"bindTo"));AS3.setBindable(editor_AddStructPropertyButton_81_9_$1,"selectedNodeExpression",this.getSelectedNodeExpression());AS3.setBindable(editor_AddStructPropertyButton_81_9_$1,
"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));var ui_IconButton_85_9_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_85_9_$1.itemId="addStructListItem";var editor_AddStructListItemAction_87_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructListItemAction,{});AS3.setBindable(editor_AddStructListItemAction_87_13_$1,"contentValueExpression",AS3.getBindable(config,"bindTo"));AS3.setBindable(editor_AddStructListItemAction_87_13_$1,
"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));AS3.setBindable(editor_AddStructListItemAction_87_13_$1,"forceReadOnlyVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.DocumentTabPanel.FORCE_READ_ONLY_VARIABLE_NAME));AS3.setBindable(editor_AddStructListItemAction_87_13_$1,"selectedNodeExpression",this.getSelectedNodeExpression());ui_IconButton_85_9_$1.baseAction=new com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructListItemAction(editor_AddStructListItemAction_87_13_$1);
var tbSeparator_93_9_$1=AS3.cast(Ext.toolbar.Separator,{});var ui_IconButton_94_9_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_94_9_$1.itemId="moveStructNodeUp";var editor_MoveStructNodeAction_96_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.MoveStructNodeAction,{});AS3.setBindable(editor_MoveStructNodeAction_96_13_$1,"direction","Up");AS3.setBindable(editor_MoveStructNodeAction_96_13_$1,"contentValueExpression",AS3.getBindable(config,"bindTo"));AS3.setBindable(editor_MoveStructNodeAction_96_13_$1,
"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));AS3.setBindable(editor_MoveStructNodeAction_96_13_$1,"forceReadOnlyVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.DocumentTabPanel.FORCE_READ_ONLY_VARIABLE_NAME));AS3.setBindable(editor_MoveStructNodeAction_96_13_$1,"selectedNodeExpression",this.getSelectedNodeExpression());ui_IconButton_94_9_$1.baseAction=new com.coremedia.cms.editor.sdk.premular.fields.struct.MoveStructNodeAction(editor_MoveStructNodeAction_96_13_$1);
var ui_IconButton_103_9_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_103_9_$1.itemId="moveStructNodeDown";var editor_MoveStructNodeAction_105_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.MoveStructNodeAction,{});AS3.setBindable(editor_MoveStructNodeAction_105_13_$1,"direction","Down");AS3.setBindable(editor_MoveStructNodeAction_105_13_$1,"contentValueExpression",AS3.getBindable(config,"bindTo"));AS3.setBindable(editor_MoveStructNodeAction_105_13_$1,"forceReadOnlyValueExpression",
AS3.getBindable(config,"forceReadOnlyValueExpression"));AS3.setBindable(editor_MoveStructNodeAction_105_13_$1,"forceReadOnlyVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.DocumentTabPanel.FORCE_READ_ONLY_VARIABLE_NAME));AS3.setBindable(editor_MoveStructNodeAction_105_13_$1,"selectedNodeExpression",this.getSelectedNodeExpression());ui_IconButton_103_9_$1.baseAction=new com.coremedia.cms.editor.sdk.premular.fields.struct.MoveStructNodeAction(editor_MoveStructNodeAction_105_13_$1);
var tbSeparator_112_9_$1=AS3.cast(Ext.toolbar.Separator,{});var ui_IconButton_113_9_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_113_9_$1.itemId="cutStructNode";var local_CutStructNodeAction_115_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.CutStructNodeAction,{});AS3.setBindable(local_CutStructNodeAction_115_13_$1,"contentValueExpression",AS3.getBindable(config,"bindTo"));AS3.setBindable(local_CutStructNodeAction_115_13_$1,"forceReadOnlyValueExpression",
AS3.getBindable(config,"forceReadOnlyValueExpression"));AS3.setBindable(local_CutStructNodeAction_115_13_$1,"forceReadOnlyVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.DocumentTabPanel.FORCE_READ_ONLY_VARIABLE_NAME));AS3.setBindable(local_CutStructNodeAction_115_13_$1,"selectedNodeExpression",this.getSelectedNodeExpression());ui_IconButton_113_9_$1.baseAction=new com.coremedia.cms.editor.sdk.premular.fields.struct.CutStructNodeAction(local_CutStructNodeAction_115_13_$1);
var ui_IconButton_121_9_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_121_9_$1.itemId="copyStructNode";var local_CopyStructNodeAction_123_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.CopyStructNodeAction,{});AS3.setBindable(local_CopyStructNodeAction_123_13_$1,"contentValueExpression",AS3.getBindable(config,"bindTo"));AS3.setBindable(local_CopyStructNodeAction_123_13_$1,"selectedNodeExpression",this.getSelectedNodeExpression());ui_IconButton_121_9_$1.baseAction=
new com.coremedia.cms.editor.sdk.premular.fields.struct.CopyStructNodeAction(local_CopyStructNodeAction_123_13_$1);var ui_IconButton_127_9_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_127_9_$1.itemId="pasteToStructNode";var local_PasteToStructNodeAction_129_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.PasteToStructNodeAction,{});AS3.setBindable(local_PasteToStructNodeAction_129_13_$1,"contentValueExpression",AS3.getBindable(config,"bindTo"));AS3.setBindable(local_PasteToStructNodeAction_129_13_$1,
"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));AS3.setBindable(local_PasteToStructNodeAction_129_13_$1,"forceReadOnlyVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.DocumentTabPanel.FORCE_READ_ONLY_VARIABLE_NAME));AS3.setBindable(local_PasteToStructNodeAction_129_13_$1,"selectedNodeExpression",this.getSelectedNodeExpression());ui_IconButton_127_9_$1.baseAction=new com.coremedia.cms.editor.sdk.premular.fields.struct.PasteToStructNodeAction(local_PasteToStructNodeAction_129_13_$1);
var ui_IconButton_135_9_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_135_9_$1.itemId="duplicateStructNode";var editor_DuplicateStructNodeAction_137_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.DuplicateStructNodeAction,{});AS3.setBindable(editor_DuplicateStructNodeAction_137_13_$1,"contentValueExpression",AS3.getBindable(config,"bindTo"));AS3.setBindable(editor_DuplicateStructNodeAction_137_13_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));
AS3.setBindable(editor_DuplicateStructNodeAction_137_13_$1,"forceReadOnlyVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.DocumentTabPanel.FORCE_READ_ONLY_VARIABLE_NAME));AS3.setBindable(editor_DuplicateStructNodeAction_137_13_$1,"selectedNodeExpression",this.getSelectedNodeExpression());ui_IconButton_135_9_$1.baseAction=new com.coremedia.cms.editor.sdk.premular.fields.struct.DuplicateStructNodeAction(editor_DuplicateStructNodeAction_137_13_$1);var tbSeparator_143_9_$1=
AS3.cast(Ext.toolbar.Separator,{});var ui_IconButton_144_9_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_144_9_$1.itemId="openInTab";var editor_OpenInTabAction_146_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenInTabAction,{});AS3.setBindable(editor_OpenInTabAction_146_13_$1,"contentVariableName","linkedContent");ui_IconButton_144_9_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.OpenInTabAction(editor_OpenInTabAction_146_13_$1);ui_FloatingToolbar_70_5_$1.items=
[ui_IconButton_72_9_$1,tbSeparator_80_9_$1,editor_AddStructPropertyButton_81_9_$1,ui_IconButton_85_9_$1,tbSeparator_93_9_$1,ui_IconButton_94_9_$1,ui_IconButton_103_9_$1,tbSeparator_112_9_$1,ui_IconButton_113_9_$1,ui_IconButton_121_9_$1,ui_IconButton_127_9_$1,ui_IconButton_135_9_$1,tbSeparator_143_9_$1,ui_IconButton_144_9_$1];config_$1.tbar=ui_FloatingToolbar_70_5_$1;var treeColumn_153_5_$1=AS3.cast(Ext.tree.Column,{});treeColumn_153_5_$1.header=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.premular.fields.struct.StructPropertyField",
"property_text"));treeColumn_153_5_$1.flex=1.2;AS3.setBindable(treeColumn_153_5_$1,"align","left");treeColumn_153_5_$1.dataIndex="text";treeColumn_153_5_$1.renderer=com.coremedia.ui.util.EncodingUtil.encodeForHTML;treeColumn_153_5_$1.sortable=false;var textField_160_9_$1=AS3.cast(Ext.form.field.Text,{});textField_160_9_$1.selectOnFocus=true;AS3.setBindable(treeColumn_153_5_$1,"editor",textField_160_9_$1);var templateColumn_163_5_$1=AS3.cast(Ext.grid.column.Template,{});templateColumn_163_5_$1.header=
net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.premular.fields.struct.StructPropertyField","property_value_text"));templateColumn_163_5_$1.dataIndex="value";templateColumn_163_5_$1.sortable=false;AS3.setBindable(templateColumn_163_5_$1,"align",net.jangaroo.ext.Exml.asString(undefined));templateColumn_163_5_$1.flex=1.2;templateColumn_163_5_$1.tpl=com.coremedia.cms.editor.sdk.premular.fields.struct.StructEditorTreeGridBase.getValueTemplate();var textField_170_9_$1=
AS3.cast(Ext.form.field.Text,{});textField_170_9_$1.selectOnFocus=true;AS3.setBindable(templateColumn_163_5_$1,"editor",textField_170_9_$1);var templateColumn_173_5_$1=AS3.cast(Ext.grid.column.Template,{});templateColumn_173_5_$1.header=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.premular.fields.struct.StructPropertyField","property_type_text"));templateColumn_173_5_$1.flex=.6;AS3.setBindable(templateColumn_173_5_$1,"align","left");templateColumn_173_5_$1.dataIndex=
"linkType";templateColumn_173_5_$1.sortable=false;AS3.setBindable(templateColumn_173_5_$1,"editor",new com.coremedia.cms.editor.sdk.premular.fields.struct.LinkTypeSelector);templateColumn_173_5_$1.tpl=com.coremedia.cms.editor.sdk.premular.fields.struct.StructEditorTreeGridBase.getTypeTemplate();config_$1.columns=[treeColumn_153_5_$1,templateColumn_163_5_$1,templateColumn_173_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$sSWi(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.struct.StructEditorTreeGridBase",
alias:"widget.com.coremedia.cms.editor.sdk.config.structEditorTreeGrid",constructor:StructEditorTreeGrid$,super$sSWi:function(){com.coremedia.cms.editor.sdk.premular.fields.struct.StructEditorTreeGridBase.prototype.constructor.apply(this,arguments)},requires:["AS3.int_","Ext.form.field.Number","Ext.form.field.Text","Ext.grid.column.Template","Ext.grid.plugin.CellEditing","Ext.toolbar.Separator","Ext.tree.Column","Ext.tree.plugin.TreeViewDragDrop","com.coremedia.cap.common.CapPropertyDescriptorType",
"com.coremedia.cms.editor.sdk.premular.fields.struct.StructEditorTreeGridBase","com.coremedia.cms.editor.sdk.premular.fields.struct.StructPropertyField_properties","com.coremedia.ui.bem.LinkListBEMEntities","com.coremedia.ui.components.FloatingToolbar","com.coremedia.ui.components.IconButton","com.coremedia.ui.components.StatefulTreeView","com.coremedia.ui.plugins.BEMPlugin","com.coremedia.ui.plugins.ContextMenuPlugin","com.coremedia.ui.util.EncodingUtil","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.actions.OpenInTabAction",
"com.coremedia.cms.editor.sdk.premular.DocumentTabPanel","com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPlugin","com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructListItemAction","com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructPropertyButton","com.coremedia.cms.editor.sdk.premular.fields.struct.CopyStructNodeAction","com.coremedia.cms.editor.sdk.premular.fields.struct.CutStructNodeAction","com.coremedia.cms.editor.sdk.premular.fields.struct.DeleteStructNodeAction",
"com.coremedia.cms.editor.sdk.premular.fields.struct.DuplicateStructNodeAction","com.coremedia.cms.editor.sdk.premular.fields.struct.LinkTypeSelector","com.coremedia.cms.editor.sdk.premular.fields.struct.MoveStructNodeAction","com.coremedia.cms.editor.sdk.premular.fields.struct.PasteToStructNodeAction","com.coremedia.cms.editor.sdk.premular.fields.struct.StructEditorContextMenu","com.coremedia.cms.editor.sdk.premular.fields.struct.StructTreeStore"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.struct.StructPropertyField",function(StructPropertyField){function StructPropertyField$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.container.Container,{});var defaults_$1=AS3.cast(StructPropertyField,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var editor_PropertyFieldLabel_51_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyFieldLabel,{});editor_PropertyFieldLabel_51_5_$1.hideLabel=AS3.getBindable(config,
"hideLabel");AS3.setBindable(editor_PropertyFieldLabel_51_5_$1,"bindTo",AS3.getBindable(config,"bindTo"));AS3.setBindable(editor_PropertyFieldLabel_51_5_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));var editor_StructEditorTreeGrid_55_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.StructEditorTreeGrid,{});editor_StructEditorTreeGrid_55_5_$1.itemId="structPropertyField";AS3.setBindable(editor_StructEditorTreeGrid_55_5_$1,"bindTo",AS3.getBindable(config,
"bindTo"));AS3.setBindable(editor_StructEditorTreeGrid_55_5_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));editor_StructEditorTreeGrid_55_5_$1.enableColumnHide=false;AS3.setBindable(editor_StructEditorTreeGrid_55_5_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));editor_StructEditorTreeGrid_55_5_$1.rootVisible=true;var editor_PropertyFieldPlugin_62_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin,
{});AS3.setBindable(editor_PropertyFieldPlugin_62_9_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));var editor_ShowIssuesPlugin_63_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin,{});editor_ShowIssuesPlugin_63_9_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(editor_ShowIssuesPlugin_63_9_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));AS3.setBindable(editor_ShowIssuesPlugin_63_9_$1,
"hideIssues",AS3.getBindable(config,"hideIssues"));editor_StructEditorTreeGrid_55_5_$1.plugins=[editor_PropertyFieldPlugin_62_9_$1,editor_ShowIssuesPlugin_63_9_$1];editor_StructEditorTreeGrid_55_5_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;config_$1.items=[editor_PropertyFieldLabel_51_5_$1,editor_StructEditorTreeGrid_55_5_$1];var layout_Fit_71_5_$1=AS3.cast(Ext.layout.container.Fit,{});AS3.setBindable(config_$1,"layout",layout_Fit_71_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$KqKg(config_$1)}
return{extend:"Ext.container.Container",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.structPropertyField",constructor:StructPropertyField$,super$KqKg:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},config:{bindTo:null,forceReadOnlyValueExpression:null,hideLabel:false,propertyName:null,hideIssues:false},requires:["Ext.container.Container","Ext.layout.container.Fit","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.PropertyFieldLabel",
"com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin","com.coremedia.cms.editor.sdk.premular.fields.struct.StructEditorTreeGrid","com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructPropertyButton",function(AddStructPropertyButton){function AddStructPropertyButton$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.ui.components.ActionSplitButton,{});var defaults_$1=AS3.cast(AddStructPropertyButton,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons",
"add")));config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.TOOLBAR.getSkin());var menu_63_5_$1=AS3.cast(Ext.menu.Menu,{});var menuItem_65_9_$1=AS3.cast(Ext.menu.Item,{});menuItem_65_9_$1.itemId=net.jangaroo.ext.Exml.asString(AddStructPropertyButton.TEXT_ITEM_ID);var editor_AddStructPropertyAction_67_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructPropertyAction,{});AS3.setBindable(editor_AddStructPropertyAction_67_13_$1,"propertyType",net.jangaroo.ext.Exml.asString(com.coremedia.cap.common.CapPropertyDescriptorType.STRING));
AS3.setBindable(editor_AddStructPropertyAction_67_13_$1,"contentValueExpression",AS3.getBindable(config,"contentValueExpression"));AS3.setBindable(editor_AddStructPropertyAction_67_13_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));AS3.setBindable(editor_AddStructPropertyAction_67_13_$1,"forceReadOnlyVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.DocumentTabPanel.FORCE_READ_ONLY_VARIABLE_NAME));AS3.setBindable(editor_AddStructPropertyAction_67_13_$1,
"selectedNodeExpression",AS3.getBindable(config,"selectedNodeExpression"));menuItem_65_9_$1.baseAction=new com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructPropertyAction(editor_AddStructPropertyAction_67_13_$1);var menuItem_74_9_$1=AS3.cast(Ext.menu.Item,{});menuItem_74_9_$1.itemId=net.jangaroo.ext.Exml.asString(AddStructPropertyButton.NUMBER_ITEM_ID);var editor_AddStructPropertyAction_76_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructPropertyAction,{});AS3.setBindable(editor_AddStructPropertyAction_76_13_$1,
"propertyType",net.jangaroo.ext.Exml.asString(com.coremedia.cap.common.CapPropertyDescriptorType.INTEGER));AS3.setBindable(editor_AddStructPropertyAction_76_13_$1,"contentValueExpression",AS3.getBindable(config,"contentValueExpression"));AS3.setBindable(editor_AddStructPropertyAction_76_13_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));AS3.setBindable(editor_AddStructPropertyAction_76_13_$1,"forceReadOnlyVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.DocumentTabPanel.FORCE_READ_ONLY_VARIABLE_NAME));
AS3.setBindable(editor_AddStructPropertyAction_76_13_$1,"selectedNodeExpression",AS3.getBindable(config,"selectedNodeExpression"));menuItem_74_9_$1.baseAction=new com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructPropertyAction(editor_AddStructPropertyAction_76_13_$1);var menuItem_83_9_$1=AS3.cast(Ext.menu.Item,{});menuItem_83_9_$1.itemId=net.jangaroo.ext.Exml.asString(AddStructPropertyButton.CHECKBOX_ITEM_ID);var editor_AddStructPropertyAction_85_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructPropertyAction,
{});AS3.setBindable(editor_AddStructPropertyAction_85_13_$1,"propertyType",net.jangaroo.ext.Exml.asString(com.coremedia.cap.common.CapPropertyDescriptorType.BOOLEAN));AS3.setBindable(editor_AddStructPropertyAction_85_13_$1,"contentValueExpression",AS3.getBindable(config,"contentValueExpression"));AS3.setBindable(editor_AddStructPropertyAction_85_13_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));AS3.setBindable(editor_AddStructPropertyAction_85_13_$1,"forceReadOnlyVariableName",
net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.DocumentTabPanel.FORCE_READ_ONLY_VARIABLE_NAME));AS3.setBindable(editor_AddStructPropertyAction_85_13_$1,"selectedNodeExpression",AS3.getBindable(config,"selectedNodeExpression"));menuItem_83_9_$1.baseAction=new com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructPropertyAction(editor_AddStructPropertyAction_85_13_$1);var menuItem_92_9_$1=AS3.cast(Ext.menu.Item,{});menuItem_92_9_$1.itemId=net.jangaroo.ext.Exml.asString(AddStructPropertyButton.LINK_ITEM_ID);
var editor_AddStructPropertyAction_94_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructPropertyAction,{});AS3.setBindable(editor_AddStructPropertyAction_94_13_$1,"propertyType",net.jangaroo.ext.Exml.asString(com.coremedia.cap.common.CapPropertyDescriptorType.LINK));AS3.setBindable(editor_AddStructPropertyAction_94_13_$1,"contentValueExpression",AS3.getBindable(config,"contentValueExpression"));AS3.setBindable(editor_AddStructPropertyAction_94_13_$1,"forceReadOnlyValueExpression",
AS3.getBindable(config,"forceReadOnlyValueExpression"));AS3.setBindable(editor_AddStructPropertyAction_94_13_$1,"forceReadOnlyVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.DocumentTabPanel.FORCE_READ_ONLY_VARIABLE_NAME));AS3.setBindable(editor_AddStructPropertyAction_94_13_$1,"selectedNodeExpression",AS3.getBindable(config,"selectedNodeExpression"));menuItem_92_9_$1.baseAction=new com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructPropertyAction(editor_AddStructPropertyAction_94_13_$1);
var menuItem_101_9_$1=AS3.cast(Ext.menu.Item,{});menuItem_101_9_$1.itemId=net.jangaroo.ext.Exml.asString(AddStructPropertyButton.DATE_ITEM_ID);var editor_AddStructPropertyAction_103_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructPropertyAction,{});AS3.setBindable(editor_AddStructPropertyAction_103_13_$1,"propertyType",net.jangaroo.ext.Exml.asString(com.coremedia.cap.common.CapPropertyDescriptorType.DATE));AS3.setBindable(editor_AddStructPropertyAction_103_13_$1,"contentValueExpression",
AS3.getBindable(config,"contentValueExpression"));AS3.setBindable(editor_AddStructPropertyAction_103_13_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));AS3.setBindable(editor_AddStructPropertyAction_103_13_$1,"forceReadOnlyVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.DocumentTabPanel.FORCE_READ_ONLY_VARIABLE_NAME));AS3.setBindable(editor_AddStructPropertyAction_103_13_$1,"selectedNodeExpression",AS3.getBindable(config,
"selectedNodeExpression"));menuItem_101_9_$1.baseAction=new com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructPropertyAction(editor_AddStructPropertyAction_103_13_$1);var menuItem_110_9_$1=AS3.cast(Ext.menu.Item,{});menuItem_110_9_$1.itemId=net.jangaroo.ext.Exml.asString(AddStructPropertyButton.OBJECT_ITEM_ID);var editor_AddStructPropertyAction_112_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructPropertyAction,{});AS3.setBindable(editor_AddStructPropertyAction_112_13_$1,
"propertyType",net.jangaroo.ext.Exml.asString(com.coremedia.cap.common.CapPropertyDescriptorType.STRUCT));AS3.setBindable(editor_AddStructPropertyAction_112_13_$1,"contentValueExpression",AS3.getBindable(config,"contentValueExpression"));AS3.setBindable(editor_AddStructPropertyAction_112_13_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));AS3.setBindable(editor_AddStructPropertyAction_112_13_$1,"forceReadOnlyVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.DocumentTabPanel.FORCE_READ_ONLY_VARIABLE_NAME));
AS3.setBindable(editor_AddStructPropertyAction_112_13_$1,"selectedNodeExpression",AS3.getBindable(config,"selectedNodeExpression"));menuItem_110_9_$1.baseAction=new com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructPropertyAction(editor_AddStructPropertyAction_112_13_$1);var menuSeparator_119_9_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_120_9_$1=AS3.cast(Ext.menu.Item,{});menuItem_120_9_$1.itemId=net.jangaroo.ext.Exml.asString(AddStructPropertyButton.TEXTS_ITEM_ID);var editor_AddStructPropertyAction_122_13_$1=
AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructPropertyAction,{});AS3.setBindable(editor_AddStructPropertyAction_122_13_$1,"propertyType",net.jangaroo.ext.Exml.asString(com.coremedia.cap.common.CapPropertyDescriptorType.STRING));AS3.setBindable(editor_AddStructPropertyAction_122_13_$1,"isCollection",true);AS3.setBindable(editor_AddStructPropertyAction_122_13_$1,"contentValueExpression",AS3.getBindable(config,"contentValueExpression"));AS3.setBindable(editor_AddStructPropertyAction_122_13_$1,
"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));AS3.setBindable(editor_AddStructPropertyAction_122_13_$1,"forceReadOnlyVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.DocumentTabPanel.FORCE_READ_ONLY_VARIABLE_NAME));AS3.setBindable(editor_AddStructPropertyAction_122_13_$1,"selectedNodeExpression",AS3.getBindable(config,"selectedNodeExpression"));menuItem_120_9_$1.baseAction=new com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructPropertyAction(editor_AddStructPropertyAction_122_13_$1);
var menuItem_130_9_$1=AS3.cast(Ext.menu.Item,{});menuItem_130_9_$1.itemId=net.jangaroo.ext.Exml.asString(AddStructPropertyButton.NUMBERS_ITEM_ID);var editor_AddStructPropertyAction_132_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructPropertyAction,{});AS3.setBindable(editor_AddStructPropertyAction_132_13_$1,"propertyType",net.jangaroo.ext.Exml.asString(com.coremedia.cap.common.CapPropertyDescriptorType.INTEGER));AS3.setBindable(editor_AddStructPropertyAction_132_13_$1,
"isCollection",true);AS3.setBindable(editor_AddStructPropertyAction_132_13_$1,"contentValueExpression",AS3.getBindable(config,"contentValueExpression"));AS3.setBindable(editor_AddStructPropertyAction_132_13_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));AS3.setBindable(editor_AddStructPropertyAction_132_13_$1,"forceReadOnlyVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.DocumentTabPanel.FORCE_READ_ONLY_VARIABLE_NAME));AS3.setBindable(editor_AddStructPropertyAction_132_13_$1,
"selectedNodeExpression",AS3.getBindable(config,"selectedNodeExpression"));menuItem_130_9_$1.baseAction=new com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructPropertyAction(editor_AddStructPropertyAction_132_13_$1);var menuItem_140_9_$1=AS3.cast(Ext.menu.Item,{});menuItem_140_9_$1.itemId=net.jangaroo.ext.Exml.asString(AddStructPropertyButton.CHECKBOXES_ITEM_ID);var editor_AddStructPropertyAction_142_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructPropertyAction,
{});AS3.setBindable(editor_AddStructPropertyAction_142_13_$1,"propertyType",net.jangaroo.ext.Exml.asString(com.coremedia.cap.common.CapPropertyDescriptorType.BOOLEAN));AS3.setBindable(editor_AddStructPropertyAction_142_13_$1,"isCollection",true);AS3.setBindable(editor_AddStructPropertyAction_142_13_$1,"contentValueExpression",AS3.getBindable(config,"contentValueExpression"));AS3.setBindable(editor_AddStructPropertyAction_142_13_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));
AS3.setBindable(editor_AddStructPropertyAction_142_13_$1,"forceReadOnlyVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.DocumentTabPanel.FORCE_READ_ONLY_VARIABLE_NAME));AS3.setBindable(editor_AddStructPropertyAction_142_13_$1,"selectedNodeExpression",AS3.getBindable(config,"selectedNodeExpression"));menuItem_140_9_$1.baseAction=new com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructPropertyAction(editor_AddStructPropertyAction_142_13_$1);var menuItem_150_9_$1=
AS3.cast(Ext.menu.Item,{});menuItem_150_9_$1.itemId=net.jangaroo.ext.Exml.asString(AddStructPropertyButton.LINKS_ITEM_ID);var editor_AddStructPropertyAction_152_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructPropertyAction,{});AS3.setBindable(editor_AddStructPropertyAction_152_13_$1,"propertyType",net.jangaroo.ext.Exml.asString(com.coremedia.cap.common.CapPropertyDescriptorType.LINK));AS3.setBindable(editor_AddStructPropertyAction_152_13_$1,"isCollection",true);AS3.setBindable(editor_AddStructPropertyAction_152_13_$1,
"contentValueExpression",AS3.getBindable(config,"contentValueExpression"));AS3.setBindable(editor_AddStructPropertyAction_152_13_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));AS3.setBindable(editor_AddStructPropertyAction_152_13_$1,"forceReadOnlyVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.DocumentTabPanel.FORCE_READ_ONLY_VARIABLE_NAME));AS3.setBindable(editor_AddStructPropertyAction_152_13_$1,"selectedNodeExpression",
AS3.getBindable(config,"selectedNodeExpression"));menuItem_150_9_$1.baseAction=new com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructPropertyAction(editor_AddStructPropertyAction_152_13_$1);var menuItem_160_9_$1=AS3.cast(Ext.menu.Item,{});menuItem_160_9_$1.itemId=net.jangaroo.ext.Exml.asString(AddStructPropertyButton.DATES_ITEM_ID);var editor_AddStructPropertyAction_162_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructPropertyAction,{});AS3.setBindable(editor_AddStructPropertyAction_162_13_$1,
"propertyType",net.jangaroo.ext.Exml.asString(com.coremedia.cap.common.CapPropertyDescriptorType.DATE));AS3.setBindable(editor_AddStructPropertyAction_162_13_$1,"isCollection",true);AS3.setBindable(editor_AddStructPropertyAction_162_13_$1,"contentValueExpression",AS3.getBindable(config,"contentValueExpression"));AS3.setBindable(editor_AddStructPropertyAction_162_13_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));AS3.setBindable(editor_AddStructPropertyAction_162_13_$1,
"forceReadOnlyVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.DocumentTabPanel.FORCE_READ_ONLY_VARIABLE_NAME));AS3.setBindable(editor_AddStructPropertyAction_162_13_$1,"selectedNodeExpression",AS3.getBindable(config,"selectedNodeExpression"));menuItem_160_9_$1.baseAction=new com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructPropertyAction(editor_AddStructPropertyAction_162_13_$1);var menuItem_170_9_$1=AS3.cast(Ext.menu.Item,{});menuItem_170_9_$1.itemId=
net.jangaroo.ext.Exml.asString(AddStructPropertyButton.OBJECTS_ITEM_ID);var editor_AddStructPropertyAction_172_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructPropertyAction,{});AS3.setBindable(editor_AddStructPropertyAction_172_13_$1,"propertyType",net.jangaroo.ext.Exml.asString(com.coremedia.cap.common.CapPropertyDescriptorType.STRUCT));AS3.setBindable(editor_AddStructPropertyAction_172_13_$1,"isCollection",true);AS3.setBindable(editor_AddStructPropertyAction_172_13_$1,
"contentValueExpression",AS3.getBindable(config,"contentValueExpression"));AS3.setBindable(editor_AddStructPropertyAction_172_13_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));AS3.setBindable(editor_AddStructPropertyAction_172_13_$1,"forceReadOnlyVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.DocumentTabPanel.FORCE_READ_ONLY_VARIABLE_NAME));AS3.setBindable(editor_AddStructPropertyAction_172_13_$1,"selectedNodeExpression",
AS3.getBindable(config,"selectedNodeExpression"));menuItem_170_9_$1.baseAction=new com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructPropertyAction(editor_AddStructPropertyAction_172_13_$1);menu_63_5_$1.items=[menuItem_65_9_$1,menuItem_74_9_$1,menuItem_83_9_$1,menuItem_92_9_$1,menuItem_101_9_$1,menuItem_110_9_$1,menuSeparator_119_9_$1,menuItem_120_9_$1,menuItem_130_9_$1,menuItem_140_9_$1,menuItem_150_9_$1,menuItem_160_9_$1,menuItem_170_9_$1];config_$1.menu=menu_63_5_$1;net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$g_2t(config_$1)}return{extend:"com.coremedia.ui.components.ActionSplitButton",alias:"widget.com.coremedia.cms.editor.sdk.config.addStructPropertyButton",constructor:AddStructPropertyButton$,super$g_2t:function(){com.coremedia.ui.components.ActionSplitButton.prototype.constructor.apply(this,arguments)},config:{contentValueExpression:null,selectedNodeExpression:null,forceReadOnlyValueExpression:null},statics:{TEXT_ITEM_ID:"text",NUMBER_ITEM_ID:"number",CHECKBOX_ITEM_ID:"checkbox",
OBJECT_ITEM_ID:"object",LINK_ITEM_ID:"link",DATE_ITEM_ID:"date",TEXTS_ITEM_ID:"texts",NUMBERS_ITEM_ID:"numbers",CHECKBOXES_ITEM_ID:"checkboxes",OBJECTS_ITEM_ID:"objects",LINKS_ITEM_ID:"links",DATES_ITEM_ID:"dates"},requires:["Ext.menu.Item","Ext.menu.Menu","Ext.menu.Separator","com.coremedia.cap.common.CapPropertyDescriptorType","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.components.ActionSplitButton","com.coremedia.ui.skins.ButtonSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.DocumentTabPanel",
"com.coremedia.cms.editor.sdk.premular.fields.struct.AddStructPropertyAction"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.LinkListViewDropZone",function(LinkListViewDropZone){function LinkListViewDropZone$(config){var this$=this;if(arguments.length<=0)config=null;AS3.setBindable(this,"ddGroups",AS3.getBindable(config,"ddGroups")||[]);if(!config.ddGroup&&AS3.getBindable(this,"ddGroups").length>0){config.ddGroup=AS3.getBindable(this,"ddGroups")[0];AS3.setBindable(this,"ddGroups",AS3.getBindable(this,"ddGroups").slice(1))}this.super$bJdB(config);AS3.setBindable(this,
"linkListWrapper",AS3.getBindable(config,"linkListWrapper"));AS3.setBindable(this,"replaceOnDrop",AS3.getBindable(config,"replaceOnDrop"));AS3.setBindable(this,"readOnlyValueExpression",AS3.getBindable(config,"readOnlyValueExpression"));AS3.getBindable(this,"ddGroups").forEach(function(ddGroup){this$.addToGroup(ddGroup)});AS3.getBindable(this,"readOnlyValueExpression")&&AS3.getBindable(this,"readOnlyValueExpression").addChangeListener(AS3.bind(this,"updateReadOnly$bJdB"));this.updateReadOnly$bJdB()}
function destroy(){var params=Array.prototype.slice.call(arguments);AS3.getBindable(this,"readOnlyValueExpression")&&AS3.getBindable(this,"readOnlyValueExpression").removeChangeListener(AS3.bind(this,"updateReadOnly$bJdB"));Ext.grid.ViewDropZone.prototype.destroy.call(this,params)}function updateReadOnly(){if(AS3.getBindable(this,"readOnlyValueExpression")){var isReadOnly=AS3.as(AS3.getBindable(this,"readOnlyValueExpression").getValue(),Boolean);if(isReadOnly)this.lock();else this.unlock()}}function onNodeOver(nodeData,
source,e,data){var dragInfo=com.coremedia.cms.editor.sdk.dragdrop.DragInfo.makeDragInfo(data);this.addRecordsToDragData$bJdB(data,dragInfo);Ext.grid.ViewDropZone.prototype.onNodeOver.call(this,nodeData,source,e,data);var mayDrop=this.allowDrop$bJdB(dragInfo,data.view);if(!mayDrop)this.getIndicator().hide();return mayDrop?source.dropAllowed:source.dropNotAllowed}function onContainerOver(source,e,data){var dragInfo=com.coremedia.cms.editor.sdk.dragdrop.DragInfo.makeDragInfo(data);this.addRecordsToDragData$bJdB(data,
dragInfo);Ext.grid.ViewDropZone.prototype.onContainerOver.call(this,source,e,data);return this.allowDrop$bJdB(dragInfo,data.view)?source.dropAllowed:source.dropNotAllowed}function createContentRecords$static(store,contents){var records=[];var recordModel=store.getModel();contents.forEach(function(content){records.push(new recordModel({bean:content}))});return records}function addRecordsToDragData(data,dragInfo){if(!data.records)data.records=createContentRecords$static(AS3.as(this.getView$bJdB().getStore(),
Ext.data.Store),dragInfo.getContents())}function allowDrop(dragInfo,fromView){if(!dragInfo)return false;if(!this.isWritable$bJdB())return false;if(!AS3.getBindable(this,"linkListWrapper").acceptsLinks(dragInfo.getContents()))return false;var links=AS3.getBindable(this,"linkListWrapper").getLinks();if(links===undefined)return false;return this.getView$bJdB()===fromView||!AS3.getBindable(this,"replaceOnDrop")&&AS3.getBindable(this,"linkListWrapper").getFreeCapacity()>=dragInfo.getContents().length||
AS3.getBindable(this,"replaceOnDrop")&&AS3.getBindable(this,"linkListWrapper").getTotalCapacity()>=dragInfo.getContents().length}function onNodeDrop(nodeData,source,e,data){var dragInfo=com.coremedia.cms.editor.sdk.dragdrop.DragInfo.makeDragInfo(data);if(!this.allowDrop$bJdB(dragInfo,data.view))this["invalidateDrop"]();return Ext.grid.ViewDropZone.prototype.onNodeDrop.call(this,nodeData,source,e,data)}function isWritable(){return!(AS3.getBindable(this,"readOnlyValueExpression")&&AS3.getBindable(this,
"readOnlyValueExpression").getValue()===true)}function getView(){return this["view"]}return{extend:"Ext.grid.ViewDropZone",metadata:{"":["PublicApi"]},constructor:LinkListViewDropZone$,super$bJdB:function(){Ext.grid.ViewDropZone.prototype.constructor.apply(this,arguments)},destroy:destroy,updateReadOnly$bJdB:updateReadOnly,onNodeOver:onNodeOver,onContainerOver:onContainerOver,addRecordsToDragData$bJdB:addRecordsToDragData,allowDrop$bJdB:allowDrop,onNodeDrop:onNodeDrop,isWritable$bJdB:isWritable,getView$bJdB:getView,
config:{ddGroups:null,linkListWrapper:null,replaceOnDrop:false,readOnlyValueExpression:null},requires:["Ext.data.Store","Ext.grid.ViewDropZone"],uses:["com.coremedia.cms.editor.sdk.dragdrop.DragInfo"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.ComboBoxStringPropertyField",function(ComboBoxStringPropertyField){function ComboBoxStringPropertyField$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.ui.components.AdvancedFieldContainer,{});var defaults_$1=AS3.cast(ComboBoxStringPropertyField,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"defaultField",net.jangaroo.ext.Exml.asString(com.coremedia.ui.util.createComponentSelector().itemId(ComboBoxStringPropertyField.COMBO_BOX_STRING_PROPERTY_FIELD).build()));
var editor_SetPropertyLabelPlugin_70_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin,{});editor_SetPropertyLabelPlugin_70_5_$1.bindTo=AS3.getBindable(config,"bindTo");editor_SetPropertyLabelPlugin_70_5_$1.propertyName=net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName"));config_$1.plugins=[editor_SetPropertyLabelPlugin_70_5_$1];var ui_LocalComboBox_74_5_$1=AS3.cast(com.coremedia.ui.components.LocalComboBox,{});ui_LocalComboBox_74_5_$1.name=
net.jangaroo.ext.Exml.asString("properties."+AS3.getBindable(config,"propertyName"));ui_LocalComboBox_74_5_$1.itemId=net.jangaroo.ext.Exml.asString(ComboBoxStringPropertyField.COMBO_BOX_STRING_PROPERTY_FIELD);AS3.setBindable(ui_LocalComboBox_74_5_$1,"minWidth",AS3.getBindable(config,"fieldWidth"));AS3.setBindable(ui_LocalComboBox_74_5_$1,"maxWidth",AS3.getBindable(config,"fieldWidth"));AS3.setBindable(ui_LocalComboBox_74_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"fieldLabel",
"DUMMY")));AS3.setBindable(ui_LocalComboBox_74_5_$1,"emptyText",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"emptyText")));AS3.setBindable(ui_LocalComboBox_74_5_$1,"store",AS3.getBindable(config,"store"));ui_LocalComboBox_74_5_$1.valueField=net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"valueField"));AS3.setBindable(ui_LocalComboBox_74_5_$1,"displayField",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"displayField")));ui_LocalComboBox_74_5_$1.hideLabel=true;ui_LocalComboBox_74_5_$1.allowBlank=
true;var editor_SetPropertyEmptyTextPlugin_86_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyEmptyTextPlugin,{});editor_SetPropertyEmptyTextPlugin_86_9_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(editor_SetPropertyEmptyTextPlugin_86_9_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));var editor_BindReadOnlyPlugin_88_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPlugin,{});editor_BindReadOnlyPlugin_88_9_$1.bindTo=
AS3.getBindable(config,"bindTo");AS3.setBindable(editor_BindReadOnlyPlugin_88_9_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));var editor_PropertyFieldPlugin_90_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin,{});AS3.setBindable(editor_PropertyFieldPlugin_90_9_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));var editor_ShowIssuesPlugin_91_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin,
{});editor_ShowIssuesPlugin_91_9_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(editor_ShowIssuesPlugin_91_9_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));AS3.setBindable(editor_ShowIssuesPlugin_91_9_$1,"hideIssues",AS3.getBindable(config,"hideIssues"));var ui_BindPropertyPlugin_94_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_94_9_$1.ifUndefined="";ui_BindPropertyPlugin_94_9_$1.bindTo=AS3.getBindable(config,
"bindTo").extendBy("properties",AS3.getBindable(config,"propertyName"));ui_BindPropertyPlugin_94_9_$1.disableStrictConsistency=config.disableStrictConsistency;ui_BindPropertyPlugin_94_9_$1.bidirectional=true;ui_BindPropertyPlugin_94_9_$1.reverseTransformer=AS3.getBindable(config,"reverseTransformer");var ui_BlockEnterPlugin_99_9_$1=AS3.cast(com.coremedia.ui.plugins.BlockEnterPlugin,{});ui_LocalComboBox_74_5_$1.plugins=[editor_SetPropertyEmptyTextPlugin_86_9_$1,editor_BindReadOnlyPlugin_88_9_$1,editor_PropertyFieldPlugin_90_9_$1,
editor_ShowIssuesPlugin_91_9_$1,ui_BindPropertyPlugin_94_9_$1,ui_BlockEnterPlugin_99_9_$1];ui_LocalComboBox_74_5_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;config_$1.items=[ui_LocalComboBox_74_5_$1];var layout_Fit_104_5_$1=AS3.cast(Ext.layout.container.Fit,{});AS3.setBindable(config_$1,"layout",layout_Fit_104_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$kBAa(config_$1)}return{extend:"com.coremedia.ui.components.AdvancedFieldContainer",metadata:{"":["PublicApi"],disableStrictConsistency:["Config"]},
alias:"widget.com.coremedia.cms.editor.sdk.config.comboBoxStringPropertyField",constructor:ComboBoxStringPropertyField$,super$kBAa:function(){com.coremedia.ui.components.AdvancedFieldContainer.prototype.constructor.apply(this,arguments)},disableStrictConsistency:false,config:{bindTo:null,forceReadOnlyValueExpression:null,propertyName:null,valueField:null,displayField:null,emptyText:null,hideIssues:false,fieldWidth:0,store:null,reverseTransformer:null},statics:{COMBO_BOX_STRING_PROPERTY_FIELD:"comboBoxStringPropertyField"},
requires:["Ext.layout.container.Fit","com.coremedia.ui.components.AdvancedFieldContainer","com.coremedia.ui.components.LocalComboBox","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.BlockEnterPlugin","com.coremedia.ui.util.createComponentSelector","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyEmptyTextPlugin",
"com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin","com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.StringListPropertyFieldEntry",function(StringListPropertyFieldEntry){function StringListPropertyFieldEntry$(value,index,stringListValueExpression){this.value$MX$l=value;this.index$MX$l=index;this.stringListValueExpression$MX$l=stringListValueExpression}function getValue(){return this.value$MX$l}function setValue(newValue){var list=this.stringListValueExpression$MX$l.getValue();var newList=list.concat();newList[this.index$MX$l]=newValue;this.stringListValueExpression$MX$l.setValue(newList)}
function getIndex(){return this.index$MX$l}return{value$MX$l:null,index$MX$l:0,stringListValueExpression$MX$l:null,constructor:StringListPropertyFieldEntry$,getValue:getValue,setValue:setValue,getIndex:getIndex}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.InternalLinkWindow",function(InternalLinkWindow){function InternalLinkWindow$(config){var this$=this;if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.InternalLinkWindowBase,{});var defaults_$1=AS3.cast(InternalLinkWindow,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"closable",false);config_$1.header=false;config_$1.resizable=false;config_$1.constrainHeader=
true;config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.WindowSkin.GRID_200_LIGHT.getSkin());var ui_AdvancedFieldContainer_37_5_$1=AS3.cast(com.coremedia.ui.components.AdvancedFieldContainer,{});AS3.setBindable(ui_AdvancedFieldContainer_37_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.ui.ckeditor.CKEditor","internalLinkMenuName")));AS3.setBindable(ui_AdvancedFieldContainer_37_5_$1,"defaultField",net.jangaroo.ext.Exml.asString(com.coremedia.ui.util.createComponentSelector().itemId(InternalLinkWindow.TARGET_ITEM_ID).build()));
var editor_SingleLinkField_40_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.SingleLinkField,{});editor_SingleLinkField_40_9_$1.itemId=net.jangaroo.ext.Exml.asString(InternalLinkWindow.TARGET_ITEM_ID);editor_SingleLinkField_40_9_$1.flex=1;editor_SingleLinkField_40_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.PanelSkin.FRAME.getSkin());AS3.setBindable(editor_SingleLinkField_40_9_$1,"valueExpression",this.getContentVE());var ui_IconButton_45_9_$1=AS3.cast(com.coremedia.ui.components.IconButton,
{});ui_IconButton_45_9_$1.itemId="removeLinkItemButton";AS3.setBindable(ui_IconButton_45_9_$1,"handler",AS3.bind(this,"unlink"));AS3.setBindable(ui_IconButton_45_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.ui.ckeditor.CKEditor","unlink_text")));AS3.setBindable(ui_IconButton_45_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","remove")));var ui_BindPropertyPlugin_50_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,
{});ui_BindPropertyPlugin_50_13_$1.componentProperty="disabled";ui_BindPropertyPlugin_50_13_$1.transformer=AS3.bind(this,"enabledTransformer");ui_BindPropertyPlugin_50_13_$1.bindTo=this.getContentVE();ui_IconButton_45_9_$1.plugins=[ui_BindPropertyPlugin_50_13_$1];ui_AdvancedFieldContainer_37_5_$1.items=[editor_SingleLinkField_40_9_$1,ui_IconButton_45_9_$1];var ui_HorizontalSpacingPlugin_58_9_$1=AS3.cast(com.coremedia.ui.plugins.HorizontalSpacingPlugin,{});ui_AdvancedFieldContainer_37_5_$1.plugins=
[ui_HorizontalSpacingPlugin_58_9_$1];var ui_AdvancedFieldContainer_61_5_$1=AS3.cast(com.coremedia.ui.components.AdvancedFieldContainer,{});AS3.setBindable(ui_AdvancedFieldContainer_61_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.ui.ckeditor.CKEditor","targetType")));var ui_LinkTypeCombo_63_9_$1=AS3.cast(com.coremedia.ui.ckeditor.LinkTypeCombo,{});ui_LinkTypeCombo_63_9_$1.name="target.type";ui_LinkTypeCombo_63_9_$1.flex=1;var ui_BindPropertyPlugin_66_13_$1=
AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_66_13_$1.bidirectional=true;ui_BindPropertyPlugin_66_13_$1.componentEvent="change";ui_BindPropertyPlugin_66_13_$1.skipIfUndefined=true;var ui_ValueExpression_70_17_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_70_17_$1,"expression","type");AS3.setBindable(ui_ValueExpression_70_17_$1,"context",this.getModel());ui_BindPropertyPlugin_66_13_$1.bindTo=new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_70_17_$1);
var ui_BindPropertyPlugin_74_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_74_13_$1.componentProperty="disabled";ui_BindPropertyPlugin_74_13_$1.transformer=AS3.bind(this,"enabledTransformer");ui_BindPropertyPlugin_74_13_$1.bindTo=this.getContentVE();ui_LinkTypeCombo_63_9_$1.plugins=[ui_BindPropertyPlugin_66_13_$1,ui_BindPropertyPlugin_74_13_$1];var boundList_80_13_$1=AS3.cast(Ext.view.BoundList,{});AS3.setBindable(boundList_80_13_$1,"minWidth",200);ui_LinkTypeCombo_63_9_$1.listConfig=
boundList_80_13_$1;var ui_IconButton_83_9_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});AS3.setBindable(ui_IconButton_83_9_$1,"scale","small");ui_IconButton_83_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE.getSkin());AS3.setBindable(ui_IconButton_83_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","help")));AS3.setBindable(ui_IconButton_83_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.ui.ckeditor.CKEditor",
"internalLinkMenuBtnTooltip")));AS3.setBindable(ui_IconButton_83_9_$1,"tooltip",this.resourceManager.getString("com.coremedia.ui.ckeditor.CKEditor","internalLinkMenuBtnTooltip"));AS3.setBindable(ui_IconButton_83_9_$1,"margin","0 0 0 24");var button_89_9_$1=AS3.cast(Ext.button.Button,{});button_89_9_$1.itemId="internalLinkSubmitButton";button_89_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.INLINE.getSkin());AS3.setBindable(button_89_9_$1,"scale","small");AS3.setBindable(button_89_9_$1,
"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.ui.ckeditor.CKEditor","internalLinkMenuSubmitBtn")));AS3.setBindable(button_89_9_$1,"handler",function(){this$.hide()});ui_AdvancedFieldContainer_61_5_$1.items=[ui_LinkTypeCombo_63_9_$1,ui_IconButton_83_9_$1,button_89_9_$1];config_$1.items=[ui_AdvancedFieldContainer_37_5_$1,ui_AdvancedFieldContainer_61_5_$1];var fieldContainer_98_5_$1=AS3.cast(Ext.form.FieldContainer,{});AS3.setBindable(fieldContainer_98_5_$1,"layout",
"hbox");fieldContainer_98_5_$1.labelAlign="top";fieldContainer_98_5_$1.labelSeparator="";config_$1["defaultType"]=fieldContainer_98_5_$1["xtype"];delete fieldContainer_98_5_$1["xtype"];delete fieldContainer_98_5_$1["xclass"];config_$1.defaults=fieldContainer_98_5_$1;var ui_VerticalSpacingPlugin_103_5_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});config_$1.plugins=[ui_VerticalSpacingPlugin_103_5_$1];var layout_Anchor_106_5_$1=AS3.cast(Ext.layout.container.Anchor,{});AS3.setBindable(config_$1,
"layout",layout_Anchor_106_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$GM3Q(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.InternalLinkWindowBase",alias:"widget.com.coremedia.cms.editor.sdk.config.internalLinkWindow",constructor:InternalLinkWindow$,super$GM3Q:function(){com.coremedia.cms.editor.sdk.premular.fields.InternalLinkWindowBase.prototype.constructor.apply(this,arguments)},statics:{TARGET_ITEM_ID:"target"},requires:["Ext.button.Button","Ext.form.FieldContainer",
"Ext.layout.container.Anchor","Ext.view.BoundList","com.coremedia.cms.editor.sdk.premular.fields.InternalLinkWindowBase","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.ckeditor.CKEditor_properties","com.coremedia.ui.ckeditor.LinkTypeCombo","com.coremedia.ui.components.AdvancedFieldContainer","com.coremedia.ui.components.IconButton","com.coremedia.ui.exml.ValueExpression","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.HorizontalSpacingPlugin","com.coremedia.ui.plugins.VerticalSpacingPlugin",
"com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.PanelSkin","com.coremedia.ui.skins.WindowSkin","com.coremedia.ui.util.createComponentSelector","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.fields.SingleLinkField"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyFieldToolbar",function(LinkListPropertyFieldToolbar){function LinkListPropertyFieldToolbar$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.ui.components.FloatingToolbar,{});var defaults_$1=AS3.cast(LinkListPropertyFieldToolbar,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.LIGHT.getSkin());config_$1.excludeInputFields=
true;var editor_PropertyField_72_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyField,{});AS3.setBindable(editor_PropertyField_72_5_$1,"bindTo",AS3.getBindable(config,"bindTo"));AS3.setBindable(editor_PropertyField_72_5_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));config_$1["defaultType"]=editor_PropertyField_72_5_$1["xtype"];delete editor_PropertyField_72_5_$1["xtype"];delete editor_PropertyField_72_5_$1["xclass"];config_$1.defaults=editor_PropertyField_72_5_$1;
var ui_IconButton_77_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_77_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyField.DELETE_BUTTON_ITEM_ID);var actionRef_79_9_$1=AS3.cast(ext.ActionRef,{});actionRef_79_9_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.LinkListRemoveAction.ACTION_ID);ui_IconButton_77_5_$1.baseAction=actionRef_79_9_$1;var ui_IconButton_83_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,
{});ui_IconButton_83_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyField.OPEN_BUTTON_ITEM_ID);var editor_OpenInTabAction_85_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenInTabAction,{});AS3.setBindable(editor_OpenInTabAction_85_9_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyField.SELECTED_ITEMS_VARIABLE_NAME));ui_IconButton_83_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.OpenInTabAction(editor_OpenInTabAction_85_9_$1);
var tbSeparator_88_5_$1=AS3.cast(Ext.toolbar.Separator,{});tbSeparator_88_5_$1.itemId=net.jangaroo.ext.Exml.asString(LinkListPropertyFieldToolbar.LINK_LIST_SEP_FIRST_ITEM_ID);var ui_IconButton_90_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_90_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyField.CUT_BUTTON_ITEM_ID);var actionRef_92_9_$1=AS3.cast(ext.ActionRef,{});actionRef_92_9_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.LinkListCutAction.ACTION_ID);
ui_IconButton_90_5_$1.baseAction=actionRef_92_9_$1;var ui_IconButton_96_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_96_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyField.COPY_BUTTON_ITEM_ID);var actionRef_98_9_$1=AS3.cast(ext.ActionRef,{});actionRef_98_9_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.LinkListCopyAction.ACTION_ID);ui_IconButton_96_5_$1.baseAction=actionRef_98_9_$1;
var ui_IconButton_102_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_102_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyField.PASTE_BUTTON_ITEM_ID);var actionRef_104_9_$1=AS3.cast(ext.ActionRef,{});actionRef_104_9_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.LinkListPasteAction.ACTION_ID);ui_IconButton_102_5_$1.baseAction=actionRef_104_9_$1;config_$1.items=[ui_IconButton_77_5_$1,ui_IconButton_83_5_$1,
tbSeparator_88_5_$1,ui_IconButton_90_5_$1,ui_IconButton_96_5_$1,ui_IconButton_102_5_$1];var ui_AddItemsPlugin_109_5_$1=AS3.cast(com.coremedia.ui.plugins.AddItemsPlugin,{});AS3.setBindable(ui_AddItemsPlugin_109_5_$1,"items",AS3.getBindable(config,"additionalToolbarItems"));config_$1.plugins=[ui_AddItemsPlugin_109_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$rCrX(config_$1)}return{extend:"com.coremedia.ui.components.FloatingToolbar",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.linkListPropertyFieldToolbar",
constructor:LinkListPropertyFieldToolbar$,super$rCrX:function(){com.coremedia.ui.components.FloatingToolbar.prototype.constructor.apply(this,arguments)},config:{bindTo:null,forceReadOnlyValueExpression:null,selectedValuesExpression:null,selectedPositionsExpression:null,propertyName:null,linkType:null,maxCardinality:0,additionalToolbarItems:null},statics:{LINK_LIST_SEP_FIRST_ITEM_ID:"GridPanelSepFirst"},requires:["Ext.toolbar.Separator","com.coremedia.ui.components.FloatingToolbar","com.coremedia.ui.components.IconButton",
"com.coremedia.ui.plugins.AddItemsPlugin","com.coremedia.ui.skins.ToolbarSkin","ext.ActionRef","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.actions.LinkListCopyAction","com.coremedia.cms.editor.sdk.actions.LinkListCutAction","com.coremedia.cms.editor.sdk.actions.LinkListPasteAction","com.coremedia.cms.editor.sdk.actions.LinkListRemoveAction","com.coremedia.cms.editor.sdk.actions.OpenInTabAction","com.coremedia.cms.editor.sdk.premular.PropertyField","com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyField"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.ComboBoxAutoWidth",function(ComboBoxAutoWidth){function ComboBoxAutoWidth$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.ui.components.LocalComboBox,{});var defaults_$1=AS3.cast(ComboBoxAutoWidth,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$P7Xd(config_$1)}return{extend:"com.coremedia.ui.components.LocalComboBox",alias:"widget.com.coremedia.cms.editor.sdk.config.comboBoxAutoWidth",
constructor:ComboBoxAutoWidth$,super$P7Xd:function(){com.coremedia.ui.components.LocalComboBox.prototype.constructor.apply(this,arguments)},statics:{COMBO_BOX_AUTO_WIDTH:"combo-auto-width",CT_COMBO_BOX_AUTO_WIDTH:"combo-auto-width"},requires:["com.coremedia.ui.components.LocalComboBox","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.richtext.PasteContentAction",function(PasteContentAction){function PasteContentAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.richtext.PasteContentActionBase,{});var defaults_$1=AS3.cast(PasteContentAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"handler",AS3.bind(this,"exec"));AS3.setBindable(config_$1,"text",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.ui.ckeditor.CKEditor",
"pastecontent_text")));AS3.setBindable(config_$1,"iconCls",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.ui.ckeditor.CKEditor","pastecontent_iconCls")));AS3.setBindable(config_$1,"tooltip",mx.resources.ResourceManager.getInstance().getString("com.coremedia.ui.ckeditor.CKEditor","pastecontent_tooltip"));net.jangaroo.ext.Exml.apply(config_$1,config);this.super$WKuk(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.richtext.PasteContentActionBase",
metadata:{"":["PublicApi"]},constructor:PasteContentAction$,super$WKuk:function(){com.coremedia.cms.editor.sdk.premular.fields.richtext.PasteContentActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.premular.fields.richtext.PasteContentActionBase","com.coremedia.icons.CoreIcons_properties","mx.resources.ResourceManager","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.richtext.LinkAction",function(LinkAction){function LinkAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.richtext.LinkActionBase,{});var defaults_$1=AS3.cast(LinkAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"handler",AS3.bind(this,"exec"));AS3.setBindable(config_$1,"text",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.ui.ckeditor.CKEditor",
"cmlink_text")));AS3.setBindable(config_$1,"iconCls",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.ui.ckeditor.CKEditor","cmlink_iconCls")));AS3.setBindable(config_$1,"tooltip",mx.resources.ResourceManager.getInstance().getString("com.coremedia.ui.ckeditor.CKEditor","cmlink_tooltip"));net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Mzx2(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.richtext.LinkActionBase",metadata:{"":["PublicApi"]},
constructor:LinkAction$,super$Mzx2:function(){com.coremedia.cms.editor.sdk.premular.fields.richtext.LinkActionBase.prototype.constructor.apply(this,arguments)},config:{bindTo:null,forceReadOnlyValueExpression:null,externalLinkTargetTypeValueExpression:null},requires:["com.coremedia.cms.editor.sdk.premular.fields.richtext.LinkActionBase","com.coremedia.ui.ckeditor.CKEditor_properties","mx.resources.ResourceManager","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.richtext.LinkActionBase",function(LinkActionBase){function LinkActionBase$(config){if(arguments.length<=0)config=null;this.super$2YYp(config);this.effectiveReadOnlyExpression$2YYp=com.coremedia.cms.editor.sdk.util.PropertyEditorUtil.createReadOnlyValueExpression(AS3.getBindable(config,"bindTo"),AS3.getBindable(config,"forceReadOnlyValueExpression"));this.externalLinkTargetTypeValueExpression$2YYp=AS3.getBindable(config,"externalLinkTargetTypeValueExpression");
this.selectionChange$2YYp()}function setCKEditor(editor){this.ckEditor$2YYp=editor;if(this.ckEditor$2YYp)this.ckEditor$2YYp.on("selectionChange",AS3.bind(this,"selectionChange$2YYp"))}function selectionChange(){var selection=this.ckEditor$2YYp&&this.ckEditor$2YYp.getSelection();var ascendant=selection&&com.coremedia.ui.ckeditor.AnchorUtil.getSelectedAnchor(selection);this.setDisabled(this.effectiveReadOnlyExpression$2YYp.getValue()||com.coremedia.ui.ckeditor.AnchorUtil.isLinkWithoutUrlScheme(ascendant)||
com.coremedia.ui.ckeditor.AnchorUtil.isLinkAnchorReference(ascendant))}function exec(){var dialogConfig=AS3.cast(com.coremedia.ui.ckeditor.dialogs.Dialog_cmlink,{});AS3.setBindable(dialogConfig,"editor",this.ckEditor$2YYp);AS3.setBindable(dialogConfig,"targetTypeValueExpression",this.externalLinkTargetTypeValueExpression$2YYp);Ext.ComponentManager.create(dialogConfig).show()}return{extend:"Ext.Action",metadata:{"":["PublicApi"],setCKEditor:["InjectFromExtParent"]},ckEditor$2YYp:undefined,effectiveReadOnlyExpression$2YYp:null,
externalLinkTargetTypeValueExpression$2YYp:null,constructor:LinkActionBase$,super$2YYp:function(){Ext.Action.prototype.constructor.apply(this,arguments)},setCKEditor:setCKEditor,selectionChange$2YYp:selectionChange,exec:exec,requires:["Ext.Action","Ext.ComponentManager","com.coremedia.ui.ckeditor.AnchorUtil","com.coremedia.ui.ckeditor.dialogs.Dialog_cmlink"],uses:["com.coremedia.cms.editor.sdk.util.PropertyEditorUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.richtext.PasteContentActionBase",function(PasteContentActionBase){function PasteContentActionBase$(config){if(arguments.length<=0)config=null;this.super$qW8V(config)}function setCKEditor(editor){this.ckEditor$qW8V=editor;if(this.ckEditor$qW8V)this.ckEditor$qW8V.on("selectionChange",AS3.bind(this,"selectionChange$qW8V"))}function addComponent(comp){com.coremedia.ui.actions.DependencyTrackedAction.prototype.addComponent.call(this,comp);this.richtextPropertyField$qW8V=
AS3.as(comp.up(com.coremedia.ui.util.createComponentSelector()._xtype(com.coremedia.cms.editor.sdk.premular.fields.RichTextPropertyField.xtype).build()),com.coremedia.cms.editor.sdk.premular.fields.RichTextPropertyField)}function calculateDisabled(){var clipboard=com.coremedia.cms.editor.sdk.clipboard.Clipboard.getInstance();var contentsToPaste=clipboard.getContents();if(!contentsToPaste||contentsToPaste.length===0)return true;if(!this.ckEditor$qW8V)return true;var ranges=this.ckEditor$qW8V.getSelection().getRanges();
if(ranges[0]===undefined)return true;return!com.coremedia.cms.editor.sdk.dragdrop.RichTextAreaDropTarget.isValidRichTextContent(contentsToPaste)}function selectionChange(){this.setDisabled(this.calculateDisabled())}function exec(){var clipboard=com.coremedia.cms.editor.sdk.clipboard.Clipboard.getInstance();var contentsToPaste=clipboard.getContents();var richtext=AS3.as(this.richtextPropertyField$qW8V.down(com.coremedia.ui.util.createComponentSelector()._xtype(com.coremedia.ui.ckeditor.RichTextArea.xtype).build()),
com.coremedia.cms.editor.sdk.components.CoreMediaRichTextArea);com.coremedia.cms.editor.sdk.dragdrop.RichTextAreaDropTarget.createLinks(richtext,contentsToPaste)}return{extend:"com.coremedia.ui.actions.DependencyTrackedAction",metadata:{"":["PublicApi"],setCKEditor:["InjectFromExtParent"]},ckEditor$qW8V:undefined,richtextPropertyField$qW8V:null,constructor:PasteContentActionBase$,super$qW8V:function(){com.coremedia.ui.actions.DependencyTrackedAction.prototype.constructor.apply(this,arguments)},setCKEditor:setCKEditor,
addComponent:addComponent,calculateDisabled:calculateDisabled,selectionChange$qW8V:selectionChange,exec:exec,requires:["com.coremedia.ui.actions.DependencyTrackedAction","com.coremedia.ui.ckeditor.RichTextArea","com.coremedia.ui.util.createComponentSelector"],uses:["com.coremedia.cms.editor.sdk.clipboard.Clipboard","com.coremedia.cms.editor.sdk.components.CoreMediaRichTextArea","com.coremedia.cms.editor.sdk.dragdrop.RichTextAreaDropTarget","com.coremedia.cms.editor.sdk.premular.fields.RichTextPropertyField"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.ContentTypeStringPropertyField",function(ContentTypeStringPropertyField){function ContentTypeStringPropertyField$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.search.ContentTypeSelector,{});var defaults_$1=AS3.cast(ContentTypeStringPropertyField,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.name=net.jangaroo.ext.Exml.asString("properties."+AS3.getBindable(config,
"propertyName"));config_$1.valueField="name";AS3.setBindable(config_$1,"displayField","label");AS3.setBindable(config_$1,"contentTypeValueExpression",AS3.getBindable(config,"bindTo").extendBy("properties",AS3.getBindable(config,"propertyName")));AS3.setBindable(config_$1,"entries",com.coremedia.cms.editor.sdk.collectionview.search.ContentTypeSelectorBase.getContentTypeEntries(AS3.getBindable(config,"linkType")));config_$1.anchor="";var editor_SetPropertyLabelPlugin_55_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin,
{});editor_SetPropertyLabelPlugin_55_5_$1.bindTo=AS3.getBindable(config,"bindTo");editor_SetPropertyLabelPlugin_55_5_$1.propertyName=net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName"));var editor_SetPropertyEmptyTextPlugin_57_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyEmptyTextPlugin,{});editor_SetPropertyEmptyTextPlugin_57_5_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(editor_SetPropertyEmptyTextPlugin_57_5_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,
"propertyName")));var editor_BindDisablePlugin_59_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin,{});editor_BindDisablePlugin_59_5_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(editor_BindDisablePlugin_59_5_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));var editor_ShowIssuesPlugin_61_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin,{});editor_ShowIssuesPlugin_61_5_$1.bindTo=AS3.getBindable(config,
"bindTo");AS3.setBindable(editor_ShowIssuesPlugin_61_5_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));AS3.setBindable(editor_ShowIssuesPlugin_61_5_$1,"hideIssues",AS3.getBindable(config,"hideIssues"));var editor_PropertyFieldPlugin_64_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin,{});AS3.setBindable(editor_PropertyFieldPlugin_64_5_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));config_$1.plugins=
[editor_SetPropertyLabelPlugin_55_5_$1,editor_SetPropertyEmptyTextPlugin_57_5_$1,editor_BindDisablePlugin_59_5_$1,editor_ShowIssuesPlugin_61_5_$1,editor_PropertyFieldPlugin_64_5_$1];config_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$CBPq(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.collectionview.search.ContentTypeSelector",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.contentTypeStringPropertyField",
constructor:ContentTypeStringPropertyField$,super$CBPq:function(){com.coremedia.cms.editor.sdk.collectionview.search.ContentTypeSelector.prototype.constructor.apply(this,arguments)},config:{bindTo:null,forceReadOnlyValueExpression:null,propertyName:null,linkType:null,hideIssues:false},requires:["com.coremedia.cms.editor.sdk.collectionview.search.ContentTypeSelector","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.collectionview.search.ContentTypeSelectorBase","com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin",
"com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyEmptyTextPlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin","com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.LinkListGridPanel",function(LinkListGridPanel){function DD_GROUPS$static_(){LinkListGridPanel.DD_GROUPS=["ContentDD","ContentLinkDD"]}function DRAG_GROUPS$static_(){LinkListGridPanel.DRAG_GROUPS=["ContentLinkDD"]}function LinkListGridPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.LinkListGridPanelBase,{});var defaults_$1=AS3.cast(LinkListGridPanel,{});var ui_DataField_96_7_$1=
AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_96_7_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.fields.LinkListGridPanelBase.DATA_FIELD_IS_ANNOTATED);ui_DataField_96_7_$1.mapping="";ui_DataField_96_7_$1["convert"]=AS3.bind(this,"isAnnotated");ui_DataField_96_7_$1.ifUnreadable="";var ui_DataField_100_7_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_100_7_$1.name="thumbnailImage";ui_DataField_100_7_$1.mapping="";ui_DataField_100_7_$1["convert"]=
com.coremedia.cms.editor.sdk.util.ImageLinkListRenderer.convertThumbnail;ui_DataField_100_7_$1.ifUnreadable="";var ui_DataField_104_7_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_104_7_$1.name="type";ui_DataField_104_7_$1.mapping="type.name";ui_DataField_104_7_$1.ifError="";ui_DataField_104_7_$1.ifUnreadable="";ui_DataField_104_7_$1["convert"]=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.localizeDocumentTypeName;var ui_DataField_109_7_$1=AS3.cast(com.coremedia.ui.store.DataField,
{});ui_DataField_109_7_$1.name="typeCls";ui_DataField_109_7_$1.mapping="type";ui_DataField_109_7_$1.ifError="";ui_DataField_109_7_$1.ifUnreadable=mx.resources.ResourceManager.getInstance().getString("com.coremedia.icons.CoreIcons","no_rights");ui_DataField_109_7_$1["convert"]=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.getIconStyleClassForContentType;var ui_DataField_114_7_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_114_7_$1.name="name";ui_DataField_114_7_$1.ifUnreadable=
com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.formatNotReadableNameFromBeanRecord;ui_DataField_114_7_$1.ifError="";ui_DataField_114_7_$1.sortType=function(s){return s.toLowerCase()};var ui_DataField_118_7_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_118_7_$1.name="status";ui_DataField_118_7_$1.ifUnreadable="";ui_DataField_118_7_$1.ifError="";ui_DataField_118_7_$1.mapping="";ui_DataField_118_7_$1["convert"]=com.coremedia.cms.editor.sdk.util.ContentLifecycleUtil.getDetailedLifecycleStatus;
var ui_DataField_123_7_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_123_7_$1.name="editor";ui_DataField_123_7_$1.ifUnreadable="";ui_DataField_123_7_$1.ifError="";ui_DataField_123_7_$1.mapping="editor.name";AS3.setBindable(defaults_$1,"fields",[ui_DataField_96_7_$1,ui_DataField_100_7_$1,ui_DataField_104_7_$1,ui_DataField_109_7_$1,ui_DataField_114_7_$1,ui_DataField_118_7_$1,ui_DataField_123_7_$1]);config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"hideHeaders",
true);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.PanelSkin.NO_VALIDATION.getSkin());config_$1.forceFit=true;var ui_BEMPlugin_131_5_$1=AS3.cast(com.coremedia.ui.plugins.BEMPlugin,{});AS3.setBindable(ui_BEMPlugin_131_5_$1,"block",com.coremedia.ui.bem.LinkListBEMEntities.BLOCK);AS3.setBindable(ui_BEMPlugin_131_5_$1,"bodyElement",com.coremedia.ui.bem.LinkListBEMEntities.ELEMENT_LIST);AS3.setBindable(ui_BEMPlugin_131_5_$1,"modifier",this.getModifierVE());var editor_LinkListBindListPlugin_136_5_$1=
AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.LinkListBindListPlugin,{});AS3.setBindable(editor_LinkListBindListPlugin_136_5_$1,"bindTo",AS3.getBindable(config,"linkListWrapper").getVE());AS3.setBindable(editor_LinkListBindListPlugin_136_5_$1,"fields",AS3.getBindable(config,"fields"));AS3.setBindable(editor_LinkListBindListPlugin_136_5_$1,"additionalFields",AS3.getBindable(config,"additionalFields"));AS3.setBindable(editor_LinkListBindListPlugin_136_5_$1,"lazy",AS3.getBindable(config,"lazy"));
AS3.setBindable(editor_LinkListBindListPlugin_136_5_$1,"preventIncrementalUpdate",true);AS3.setBindable(editor_LinkListBindListPlugin_136_5_$1,"initialViewLimit",AS3.getBindable(config,"lazy")?AS3.getBindable(config,"initialViewLimit")||50:undefined);AS3.setBindable(editor_LinkListBindListPlugin_136_5_$1,"viewLimitIncrement",AS3.getBindable(config,"lazy")?AS3.getBindable(config,"viewLimitIncrement")||50:undefined);var ui_BindSelectionPlugin_143_5_$1=AS3.cast(com.coremedia.ui.plugins.BindSelectionPlugin,
{});AS3.setBindable(ui_BindSelectionPlugin_143_5_$1,"selectedPositions",AS3.getBindable(config,"selectedPositionsExpression"));AS3.setBindable(ui_BindSelectionPlugin_143_5_$1,"selectedValues",AS3.getBindable(config,"selectedValuesExpression"));config_$1.plugins=[ui_BEMPlugin_131_5_$1,editor_LinkListBindListPlugin_136_5_$1,ui_BindSelectionPlugin_143_5_$1];var editor_LinkListCopyAction_147_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.LinkListCopyAction,{});AS3.setBindable(editor_LinkListCopyAction_147_5_$1,
"text",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_copyToClipboard_text")));AS3.setBindable(editor_LinkListCopyAction_147_5_$1,"tooltip",mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_copyToClipboard_tooltip"));editor_LinkListCopyAction_147_5_$1.linkListWrapper=AS3.getBindable(config,"linkListWrapper");editor_LinkListCopyAction_147_5_$1.selectedValuesExpression=
AS3.getBindable(config,"selectedValuesExpression");var editor_LinkListCutAction_151_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.LinkListCutAction,{});AS3.setBindable(editor_LinkListCutAction_151_5_$1,"text",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_cutToClipboard_text")));AS3.setBindable(editor_LinkListCutAction_151_5_$1,"tooltip",mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions",
"Action_cutToClipboard_tooltip"));editor_LinkListCutAction_151_5_$1.linkListWrapper=AS3.getBindable(config,"linkListWrapper");editor_LinkListCutAction_151_5_$1.selectedValuesExpression=AS3.getBindable(config,"selectedValuesExpression");editor_LinkListCutAction_151_5_$1.selectedPositionsExpression=AS3.getBindable(config,"selectedPositionsExpression");var editor_LinkListPasteAction_156_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.LinkListPasteAction,{});AS3.setBindable(editor_LinkListPasteAction_156_5_$1,
"text",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_pasteFromClipboard_text")));AS3.setBindable(editor_LinkListPasteAction_156_5_$1,"tooltip",mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_pasteFromClipboard_tooltip"));editor_LinkListPasteAction_156_5_$1.linkListWrapper=AS3.getBindable(config,"linkListWrapper");editor_LinkListPasteAction_156_5_$1.selectedValuesExpression=
AS3.getBindable(config,"selectedValuesExpression");editor_LinkListPasteAction_156_5_$1.replace=AS3.getBindable(config,"replaceOnDrop");var editor_LinkListRemoveAction_161_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.LinkListRemoveAction,{});AS3.setBindable(editor_LinkListRemoveAction_161_5_$1,"text",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_deleteSelectedLinks_text")));AS3.setBindable(editor_LinkListRemoveAction_161_5_$1,
"tooltip",mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_deleteSelectedLinks_tooltip"));editor_LinkListRemoveAction_161_5_$1.linkListWrapper=AS3.getBindable(config,"linkListWrapper");editor_LinkListRemoveAction_161_5_$1.selectedValuesExpression=AS3.getBindable(config,"selectedValuesExpression");editor_LinkListRemoveAction_161_5_$1.selectedPositionsExpression=AS3.getBindable(config,"selectedPositionsExpression");AS3.setBindable(config_$1,
"actionList",[new com.coremedia.cms.editor.sdk.actions.LinkListCopyAction(editor_LinkListCopyAction_147_5_$1),new com.coremedia.cms.editor.sdk.actions.LinkListCutAction(editor_LinkListCutAction_151_5_$1),new com.coremedia.cms.editor.sdk.actions.LinkListPasteAction(editor_LinkListPasteAction_156_5_$1),new com.coremedia.cms.editor.sdk.actions.LinkListRemoveAction(editor_LinkListRemoveAction_161_5_$1)]);config_$1["actionList$at"]=net.jangaroo.ext.Exml.APPEND;var editor_ThumbnailColumn_168_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.columns.grid.ThumbnailColumn,
{});AS3.setBindable(editor_ThumbnailColumn_168_5_$1,"hidden",!AS3.getBindable(config,"showThumbnails"));var editor_TypeIconColumn_169_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.columns.grid.TypeIconColumn,{});var editor_NameColumn_170_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.columns.grid.NameColumn,{});editor_NameColumn_170_5_$1.flex=1;var editor_StatusColumn_171_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.columns.grid.StatusColumn,{});config_$1.columns=[editor_ThumbnailColumn_168_5_$1,editor_TypeIconColumn_169_5_$1,
editor_NameColumn_170_5_$1,editor_StatusColumn_171_5_$1];var selection_RowModel_174_5_$1=AS3.cast(Ext.selection.RowModel,{});selection_RowModel_174_5_$1.mode="MULTI";config_$1.selModel=new Ext.selection.RowModel(selection_RowModel_174_5_$1);var ui_StatefulTableView_177_5_$1=AS3.cast(com.coremedia.ui.components.StatefulTableView,{});ui_StatefulTableView_177_5_$1.deferEmptyText=false;ui_StatefulTableView_177_5_$1.stripeRows=AS3.is(AS3.getBindable(config,"viewStripeRows"),Boolean)?AS3.getBindable(config,
"viewStripeRows"):false;ui_StatefulTableView_177_5_$1.ui=net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"viewUi")||com.coremedia.ui.skins.TableViewSkin.DEFAULT.getSkin());ui_StatefulTableView_177_5_$1.trackOver=true;var editor_AriaVisibilityPlugin_182_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.plugins.AriaVisibilityPlugin,{});AS3.setBindable(editor_AriaVisibilityPlugin_182_9_$1,"bindTo",AS3.getBindable(config,"linkListWrapper").getVE());var ui_BindPropertyPlugin_183_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,
{});ui_BindPropertyPlugin_183_9_$1.componentProperty="readOnly";ui_BindPropertyPlugin_183_9_$1.bindTo=AS3.getBindable(config,"readOnlyValueExpression")||com.coremedia.ui.data.ValueExpressionFactory.createFromValue(false);var editor_LinkListViewDragDropPlugin_185_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.LinkListViewDragDropPlugin,{});AS3.setBindable(editor_LinkListViewDragDropPlugin_185_9_$1,"linkListWrapper",AS3.getBindable(config,"linkListWrapper"));AS3.setBindable(editor_LinkListViewDragDropPlugin_185_9_$1,
"dragGroups",LinkListGridPanel.DRAG_GROUPS);AS3.setBindable(editor_LinkListViewDragDropPlugin_185_9_$1,"dropGroups",LinkListGridPanel.DD_GROUPS);editor_LinkListViewDragDropPlugin_185_9_$1.enableDrag=AS3.getBindable(config,"viewEnableDrag")!==false;editor_LinkListViewDragDropPlugin_185_9_$1.enableDrop=AS3.getBindable(config,"viewEnableDrop")!==false;AS3.setBindable(editor_LinkListViewDragDropPlugin_185_9_$1,"htmlFeedback",AS3.getBindable(config,"htmlFeedback"));AS3.setBindable(editor_LinkListViewDragDropPlugin_185_9_$1,
"replaceOnDrop",AS3.getBindable(config,"replaceOnDrop"));AS3.setBindable(editor_LinkListViewDragDropPlugin_185_9_$1,"readOnlyValueExpression",AS3.getBindable(config,"readOnlyValueExpression"));ui_StatefulTableView_177_5_$1.plugins=[editor_AriaVisibilityPlugin_182_9_$1,ui_BindPropertyPlugin_183_9_$1,editor_LinkListViewDragDropPlugin_185_9_$1];config_$1.viewConfig=ui_StatefulTableView_177_5_$1;var local_LinkListDropArea_197_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.LinkListDropArea,
{});AS3.setBindable(local_LinkListDropArea_197_5_$1,"linkListWrapper",AS3.getBindable(config,"linkListWrapper"));AS3.setBindable(local_LinkListDropArea_197_5_$1,"ddGroups",LinkListGridPanel.DD_GROUPS);AS3.setBindable(local_LinkListDropArea_197_5_$1,"handler",AS3.getBindable(config,"dropAreaHandler"));AS3.setBindable(local_LinkListDropArea_197_5_$1,"readOnlyValueExpression",AS3.getBindable(config,"readOnlyValueExpression"));AS3.setBindable(local_LinkListDropArea_197_5_$1,"iconCls",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,
"dropAreaIconCls")));AS3.setBindable(local_LinkListDropArea_197_5_$1,"text",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"dropAreaText")));AS3.setBindable(local_LinkListDropArea_197_5_$1,"appendOnDrop",false);AS3.setBindable(local_LinkListDropArea_197_5_$1,"dropHandler",AS3.bind(this,"handleDropAreaDrop"));var ui_BEMMixin_206_9_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,{});AS3.setBindable(ui_BEMMixin_206_9_$1,"bemElement",com.coremedia.ui.bem.LinkListBEMEntities.ELEMENT_TAIL);delete ui_BEMMixin_206_9_$1["xtype"];
delete ui_BEMMixin_206_9_$1["xclass"];net.jangaroo.ext.Exml.apply(local_LinkListDropArea_197_5_$1,ui_BEMMixin_206_9_$1);config_$1.dropArea=local_LinkListDropArea_197_5_$1;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$4$rp(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.LinkListGridPanelBase",alias:"widget.com.coremedia.cms.editor.sdk.config.linkListGridPanel",constructor:LinkListGridPanel$,super$4$rp:function(){com.coremedia.cms.editor.sdk.premular.fields.LinkListGridPanelBase.prototype.constructor.apply(this,
arguments)},config:{lazy:false,initialViewLimit:NaN,viewLimitIncrement:NaN,dropAreaHandler:null,dropAreaIconCls:null,dropAreaText:null,additionalFields:null,showThumbnails:false,viewStripeRows:false,viewUi:null,viewEnableDrag:false,viewEnableDrop:false,htmlFeedback:null,fields:null},statics:{DD_GROUPS:undefined,DRAG_GROUPS:undefined,__initStatics__:function(){DD_GROUPS$static_();DRAG_GROUPS$static_()}},requires:["Ext.selection.RowModel","com.coremedia.cms.editor.sdk.premular.fields.LinkListGridPanelBase",
"com.coremedia.ui.bem.LinkListBEMEntities","com.coremedia.ui.components.StatefulTableView","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.BEMMixin","com.coremedia.ui.plugins.BEMPlugin","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.BindSelectionPlugin","com.coremedia.ui.skins.PanelSkin","com.coremedia.ui.skins.TableViewSkin","com.coremedia.ui.store.DataField","mx.resources.ResourceManager","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.actions.LinkListCopyAction",
"com.coremedia.cms.editor.sdk.actions.LinkListCutAction","com.coremedia.cms.editor.sdk.actions.LinkListPasteAction","com.coremedia.cms.editor.sdk.actions.LinkListRemoveAction","com.coremedia.cms.editor.sdk.columns.grid.NameColumn","com.coremedia.cms.editor.sdk.columns.grid.StatusColumn","com.coremedia.cms.editor.sdk.columns.grid.ThumbnailColumn","com.coremedia.cms.editor.sdk.columns.grid.TypeIconColumn","com.coremedia.cms.editor.sdk.plugins.AriaVisibilityPlugin","com.coremedia.cms.editor.sdk.premular.fields.LinkListBindListPlugin",
"com.coremedia.cms.editor.sdk.premular.fields.LinkListDropArea","com.coremedia.cms.editor.sdk.premular.fields.plugins.LinkListViewDragDropPlugin","com.coremedia.cms.editor.sdk.util.ContentLifecycleUtil","com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil","com.coremedia.cms.editor.sdk.util.ImageLinkListRenderer"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.LinkListGridPanelBase",function(LinkListGridPanelBase){function LinkListGridPanelBase$(config){if(arguments.length<=0)config=null;ariaCheck$static(config);var annotatedLinkListProvider=AS3.as(AS3.getBindable(config,"linkListWrapper"),com.coremedia.cms.editor.sdk.util.IAnnotatedLinkListProvider);if(annotatedLinkListProvider&&AS3.getBindable(config,"rowWidget")){var annotatedLinkListPluginCfg=AS3.cast(com.coremedia.ui.plugins.AnnotatedLinkListPlugin,
{});annotatedLinkListPluginCfg.widget=AS3.getBindable(config,"rowWidget");AS3.setBindable(annotatedLinkListPluginCfg,"isAnnotatedDataField",LinkListGridPanelBase.DATA_FIELD_IS_ANNOTATED);var annotatedLinkListVE=annotatedLinkListProvider.getAnnotatedLinkListVE();AS3.setBindable(annotatedLinkListPluginCfg,"structListVE",annotatedLinkListVE);config.plugins=config.plugins||[];config.plugins.push(annotatedLinkListPluginCfg);AS3.setBindable(config,"rowWidgetsAnnotatedPredicates",AS3.getBindable(config,
"rowWidgetsAnnotatedPredicates")||[com.coremedia.cms.editor.sdk.util.AnnotatedLinkListHelper.rowWidgetsAnnotatedBasedOnType])}this.super$GORa(config);AS3.setBindable(this,"hideDropArea",AS3.getBindable(config,"hideDropArea"));this.initValidationStateMixin();AS3.getBindable(this,"linkListWrapper").getVE().addChangeListener(AS3.bind(this,"updateModifiers$GORa"));AS3.getBindable(this,"linkListWrapper").getVE().addChangeListener(AS3.bind(this,"updateDropZone$GORa"));this.updateModifiers$GORa();this.on("render",
AS3.bind(this,"onRender"));this.on("validationStateChanged",AS3.bind(this,"onValidationChanged$GORa"));this.on("validationMessageChanged",AS3.bind(this,"onValidationChanged$GORa"));this.onValidationChanged$GORa();com.coremedia.ui.util.ThumbnailImage.registerDataViewAnimationHandlers(this.getView())}function isAnnotated(value,bean,rowIndex){var this$=this;var annotatedLinkListProvider=AS3.as(AS3.getBindable(this,"linkListWrapper"),com.coremedia.cms.editor.sdk.util.IAnnotatedLinkListProvider);return annotatedLinkListProvider&&
AS3.getBindable(this,"rowWidgetsAnnotatedPredicates")&&AS3.getBindable(this,"rowWidgetsAnnotatedPredicates").some(function(isAnnotatedFn){if(AS3.getBindable(this$,"rowWidgetsAnnotatedPredicates").length>1&&isAnnotatedFn===com.coremedia.cms.editor.sdk.util.AnnotatedLinkListHelper.rowWidgetsAnnotatedBasedOnType)return false;return isAnnotatedFn(annotatedLinkListProvider,rowIndex)})}function ariaCheck$static(config){if(!config.ariaLabel)config.ariaLabel=AS3.getBindable(config,"title","DUMMY")}function initComponent(){var this$=
this;Ext.grid.Panel.prototype.initComponent.call(this);if(!this.hideValidation){this.on("columnschanged",function(){this$.updateFirstVisibleColumn$GORa()});this.updateFirstVisibleColumn$GORa()}this.isInitialized$GORa=true;this.initDropArea$GORa()}function onDestroy(){AS3.getBindable(this,"linkListWrapper").getVE().removeChangeListener(AS3.bind(this,"updateModifiers$GORa"));AS3.getBindable(this,"linkListWrapper").getVE().removeChangeListener(AS3.bind(this,"updateDropZone$GORa"));AS3.getBindable(this,
"linkListWrapper").destroy();Ext.grid.Panel.prototype.onDestroy.call(this)}function updateFirstVisibleColumn(){var firstVisibleColumn=this.getFirstVisibleColumn$GORa();if(firstVisibleColumn!==this.lastModifiedColumn$GORa){if(this.lastModifiedColumn$GORa){updateColumnWidth$static(this.lastModifiedColumn$GORa,false);this.lastModifiedColumn$GORa=null}if(!firstVisibleColumn.flex){updateColumnWidth$static(firstVisibleColumn,true);this.lastModifiedColumn$GORa=firstVisibleColumn}}}function updateColumnWidth$static(column,
add){if(arguments.length<=1)add=false;var valueToAdd=(add?1:-1)*com.coremedia.ui.bem.LinkListBEMEntities.VALIDATION_SPACING_ADDED;if(column.rendered)column.setWidth(column["width"]+valueToAdd);else column["width"]=column["width"]+valueToAdd}function getFirstVisibleColumn(){var result=null;this.columns.some(function(column){if(!column.hidden){result=column;return true}});return result}function getFocusableChild(){if(!this.isEmpty$GORa())return this.getView();if(!AS3.getBindable(this,"hideDropArea")&&
!this.isFull$GORa())return this.dropArea;return null}function isFocusable(deep){if(arguments.length<=0)deep=false;return Ext.grid.Panel.prototype.isFocusable.call(this,deep)&&this.getFocusableChild()!==null}function focus(selectText,delay,callback,scope){switch(Math.max(arguments.length,2)){case 2:callback=null;case 3:scope=null}var focusableChild=this.getFocusableChild();focusableChild&&focusableChild.focus(selectText,delay,callback,scope)}function get$hideDropArea(){return this._hideDropArea$GORa}
function set$hideDropArea(newHideDropArea){this._hideDropArea$GORa=newHideDropArea;this.initDropArea$GORa();this.updateModifiers$GORa()}function initDropArea(){if(this.isInitialized$GORa&&!AS3.getBindable(this,"hideDropArea")&&!this.dropArea.isInstance){AS3.setBindable(this.dropArea,"dock","bottom");this.dropArea.itemId=LinkListGridPanelBase.DROP_AREA_ITEM_ID;this.dropArea=AS3.as(this.addDocked(this.dropArea)[0],Ext.Component)}}function getModifierVE(){if(!this.modifierVE$GORa)this.modifierVE$GORa=
com.coremedia.ui.data.ValueExpressionFactory.createFromValue([]);return this.modifierVE$GORa}function isEmpty(){var links=AS3.getBindable(this,"linkListWrapper").getLinks();return links!==undefined&&links.length===0}function isFull(){return AS3.getBindable(this,"linkListWrapper").getFreeCapacity()===0}function updateDropZone(){if(!AS3.getBindable(this,"hideDropArea"))if(this.isFull$GORa())this.dropArea.hide();else this.dropArea.show()}function updateModifiers(){var newModifiers=[];if(this.isEmpty$GORa())newModifiers.push(com.coremedia.ui.bem.LinkListBEMEntities.MODIFIER_EMPTY);
if(AS3.getBindable(this,"hideDropArea")||this.isFull$GORa())newModifiers.push(com.coremedia.ui.bem.LinkListBEMEntities.MODIFIER_NO_TAIL);if(AS3.getBindable(this,"embedded"))newModifiers.push(com.coremedia.ui.bem.LinkListBEMEntities.MODIFIER_EMBEDDED);if(this.hideValidation)newModifiers.push(com.coremedia.ui.bem.LinkListBEMEntities.MODIFIER_NO_VALIDATION);var oldModifiers=AS3.as(this.modifierVE$GORa.getValue(),Array);this.modifierVE$GORa.setValue(newModifiers);if(!Ext.Array.equals(oldModifiers,newModifiers))this.updateLayout()}
function getSelectedPositionsVE(){if(!this.selectedPositionsVE$GORa)this.selectedPositionsVE$GORa=com.coremedia.ui.data.ValueExpressionFactory.createFromValue();return this.selectedPositionsVE$GORa}function getSelectedVE(){if(!this.selectedVE$GORa)this.selectedVE$GORa=com.coremedia.ui.data.ValueExpressionFactory.createFromValue();return this.selectedVE$GORa}function handleDropAreaDrop(contents,sourceView){var store=AS3.as(this.getStore(),Ext.data.Store);var view=this.getView();var selectionModel=
this.getSelectionModel();if(view===sourceView){var links=AS3.getBindable(this,"linkListWrapper").getLinks()||[];var fromIndexes=contents.map(function(content){return links.indexOf(content)});AS3.getBindable(this,"linkListWrapper").moveLinksToIndex(fromIndexes,links.length-1)}else if(AS3.getBindable(this,"linkListWrapper").acceptsLinks(contents))AS3.getBindable(this,"linkListWrapper").addLinks(contents);var beanRecords=com.coremedia.cms.editor.sdk.util.StoreUtil.asBeanRecords(contents,store);selectionModel.select(beanRecords)}
function onValidationChanged(){var viewValidation=AS3.as(AS3.getBindable(this,"view","DUMMY"),com.coremedia.ui.mixins.ValidationStateMixin);if(viewValidation){AS3.setBindable(viewValidation,"validationState",AS3.getBindable(this,"validationState"));AS3.setBindable(viewValidation,"validationMessage",AS3.getBindable(this,"validationMessage"))}var dropAreaValidation=AS3.as(this.dropArea,com.coremedia.ui.mixins.ValidationStateMixin);if(dropAreaValidation){AS3.setBindable(dropAreaValidation,"validationState",
AS3.getBindable(this,"validationState"));AS3.setBindable(dropAreaValidation,"validationMessage",AS3.getBindable(this,"validationMessage"))}}return{extend:"Ext.grid.Panel",mixins:["com.coremedia.ui.mixins.ValidationStateMixin","com.coremedia.ui.mixins.HighlightableMixin"],selectedPositionsVE$GORa:null,selectedVE$GORa:null,dropArea:null,hideValidation:false,modifierVE$GORa:null,_hideDropArea$GORa:false,isInitialized$GORa:false,lastModifiedColumn$GORa:null,constructor:LinkListGridPanelBase$,super$GORa:function(){Ext.grid.Panel.prototype.constructor.apply(this,
arguments)},isAnnotated:isAnnotated,initComponent:initComponent,onDestroy:onDestroy,updateFirstVisibleColumn$GORa:updateFirstVisibleColumn,getFirstVisibleColumn$GORa:getFirstVisibleColumn,getFocusableChild:getFocusableChild,isFocusable:isFocusable,focus:focus,getHideDropArea:get$hideDropArea,setHideDropArea:set$hideDropArea,initDropArea$GORa:initDropArea,getModifierVE:getModifierVE,isEmpty$GORa:isEmpty,isFull$GORa:isFull,updateDropZone$GORa:updateDropZone,updateModifiers$GORa:updateModifiers,getSelectedPositionsVE:getSelectedPositionsVE,
getSelectedVE:getSelectedVE,handleDropAreaDrop:handleDropAreaDrop,onValidationChanged$GORa:onValidationChanged,config:{linkListWrapper:null,readOnlyValueExpression:null,selectedPositionsExpression:null,selectedValuesExpression:null,embedded:false,replaceOnDrop:false,rowWidget:null,rowWidgetsAnnotatedPredicates:null,hideDropArea:undefined},statics:{DROP_AREA_ITEM_ID:"dropArea",DATA_FIELD_IS_ANNOTATED:"isAnnotated"},requires:["Ext.Array","Ext.Component","Ext.data.Store","Ext.grid.Panel","com.coremedia.ui.bem.LinkListBEMEntities",
"com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.mixins.HighlightableMixin","com.coremedia.ui.mixins.ValidationStateMixin","com.coremedia.ui.plugins.AnnotatedLinkListPlugin","com.coremedia.ui.util.ThumbnailImage"],uses:["com.coremedia.cms.editor.sdk.util.AnnotatedLinkListHelper","com.coremedia.cms.editor.sdk.util.IAnnotatedLinkListProvider","com.coremedia.cms.editor.sdk.util.StoreUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.PropertyFieldContextMenu",function(PropertyFieldContextMenu){function PropertyFieldContextMenu$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.menu.Menu,{});var defaults_$1=AS3.cast(PropertyFieldContextMenu,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.plain=true;var ui_HideObsoleteSeparatorsPlugin_43_5_$1=AS3.cast(com.coremedia.ui.plugins.HideObsoleteSeparatorsPlugin,{});config_$1.plugins=[ui_HideObsoleteSeparatorsPlugin_43_5_$1];
var menuItem_46_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_46_5_$1.itemId=net.jangaroo.ext.Exml.asString(PropertyFieldContextMenu.OPEN_IN_TAB_MENU_ITEM_ID);var editor_OpenInTabAction_48_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenInTabAction,{});AS3.setBindable(editor_OpenInTabAction_48_9_$1,"contentValueExpression",AS3.getBindable(config,"selectedItemsVE"));menuItem_46_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.OpenInTabAction(editor_OpenInTabAction_48_9_$1);var menuItem_51_5_$1=
AS3.cast(Ext.menu.Item,{});menuItem_51_5_$1.itemId=net.jangaroo.ext.Exml.asString(PropertyFieldContextMenu.SHOW_IN_REPOSITORY_MENU_ITEM_ID);var editor_ShowInRepositoryAction_53_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction,{});AS3.setBindable(editor_ShowInRepositoryAction_53_9_$1,"contentValueExpression",AS3.getBindable(config,"selectedItemsVE"));menuItem_51_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction(editor_ShowInRepositoryAction_53_9_$1);
var menuSeparator_56_5_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_57_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_57_5_$1.itemId=net.jangaroo.ext.Exml.asString(PropertyFieldContextMenu.COPY_TO_CLIPBOARD_MENU_ITEM_ID);var editor_CopyToClipboardAction_59_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction,{});AS3.setBindable(editor_CopyToClipboardAction_59_9_$1,"contentValueExpression",AS3.getBindable(config,"selectedItemsVE"));menuItem_57_5_$1.baseAction=new com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction(editor_CopyToClipboardAction_59_9_$1);
var menuSeparator_62_5_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_63_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_63_5_$1.itemId=net.jangaroo.ext.Exml.asString(PropertyFieldContextMenu.UNDELETE_MENU_ITEM_ID);var editor_UndeleteAction_65_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.UndeleteAction,{});AS3.setBindable(editor_UndeleteAction_65_9_$1,"contentValueExpression",AS3.getBindable(config,"selectedItemsVE"));menuItem_63_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.UndeleteAction(editor_UndeleteAction_65_9_$1);
config_$1.items=[menuItem_46_5_$1,menuItem_51_5_$1,menuSeparator_56_5_$1,menuItem_57_5_$1,menuSeparator_62_5_$1,menuItem_63_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Iusy(config_$1)}return{extend:"Ext.menu.Menu",alias:"widget.com.coremedia.cms.editor.sdk.config.propertyFieldContextMenu",constructor:PropertyFieldContextMenu$,super$Iusy:function(){Ext.menu.Menu.prototype.constructor.apply(this,arguments)},config:{selectedItemsVE:null},statics:{OPEN_IN_TAB_MENU_ITEM_ID:"openInTab",
UNDELETE_MENU_ITEM_ID:"undelete",SHOW_IN_REPOSITORY_MENU_ITEM_ID:"open",COPY_TO_CLIPBOARD_MENU_ITEM_ID:"copyToClipboard"},requires:["Ext.menu.Item","Ext.menu.Menu","Ext.menu.Separator","com.coremedia.ui.plugins.HideObsoleteSeparatorsPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.actions.OpenInTabAction","com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction","com.coremedia.cms.editor.sdk.actions.UndeleteAction","com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.SingleLinkFieldBase",function(SingleLinkFieldBase){function SingleLinkFieldBase$(config){if(arguments.length<=0)config=null;this.super$jBrM(config)}function openCollectionView(){if(AS3.getBindable(this.getStore(),"data","DUMMY").length==0){var searchState=null;if(this.content$jBrM){var targetSite=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getSiteFor(this.content$jBrM);var baseFolder=targetSite&&targetSite.getSiteRootFolder();
if(baseFolder){searchState=new com.coremedia.cms.editor.sdk.collectionview.SearchState;searchState.folder=baseFolder}}if(AS3.getBindable(this,"linkContentType")){if(!searchState)searchState=new com.coremedia.cms.editor.sdk.collectionview.SearchState;searchState.contentType=AS3.getBindable(this,"linkContentType")}com.coremedia.cms.editor.sdk.editorContext.getCollectionViewManager().openSearch(searchState)}}function setContent(content){this.content$jBrM=content}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.LinkListGridPanel",
metadata:{setContent:["InjectFromExtParent",["variableNameConfig","contentVariableName"]]},content$jBrM:null,constructor:SingleLinkFieldBase$,super$jBrM:function(){com.coremedia.cms.editor.sdk.premular.fields.LinkListGridPanel.prototype.constructor.apply(this,arguments)},openCollectionView:openCollectionView,setContent:setContent,config:{valueExpression:null,linkContentType:null},requires:["com.coremedia.cms.editor.sdk.premular.fields.LinkListGridPanel","com.coremedia.ui.ckeditor.CKEditor_properties"],
uses:["com.coremedia.cms.editor.sdk.collectionview.SearchState","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.LinkListBindListPluginBase",function(LinkListBindListPluginBase){function LinkListBindListPluginBase$(config){if(arguments.length<=0)config=null;var copiedConfig=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.LinkListBindListPlugin,Ext.apply({},config));if(AS3.getBindable(config,"additionalFields"))AS3.setBindable(copiedConfig,"fields",AS3.getBindable(config,"fields","DUMMY").concat(AS3.getBindable(config,"additionalFields")));this.super$MOuA(copiedConfig)}
return{extend:"com.coremedia.ui.plugins.BindListPlugin",constructor:LinkListBindListPluginBase$,super$MOuA:function(){com.coremedia.ui.plugins.BindListPlugin.prototype.constructor.apply(this,arguments)},requires:["Ext","com.coremedia.ui.plugins.BindListPlugin"],uses:["com.coremedia.cms.editor.sdk.premular.fields.LinkListBindListPlugin"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyField",function(LinkListPropertyField){function LinkListPropertyField$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyFieldBase,{});var defaults_$1=AS3.cast(LinkListPropertyField,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"defaultField",net.jangaroo.ext.Exml.asString("#"+LinkListPropertyField.GRID_ITEM_ID+
" gridview"));var editor_SetPropertyLabelPlugin_243_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin,{});editor_SetPropertyLabelPlugin_243_5_$1.bindTo=AS3.getBindable(config,"bindTo");editor_SetPropertyLabelPlugin_243_5_$1.propertyName=net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyFieldName")||AS3.getBindable(config,"propertyName"));var editor_FileDropPlugin_245_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.upload.FileDropPlugin,{});AS3.setBindable(editor_FileDropPlugin_245_5_$1,
"folderValueExpression",this.getUploadFolderExpression(AS3.getBindable(config,"bindTo"),AS3.getBindable(config,"uploadFolderValueExpression")));AS3.setBindable(editor_FileDropPlugin_245_5_$1,"onDragEndHandler",AS3.bind(this,"onFileDragEnd"));AS3.setBindable(editor_FileDropPlugin_245_5_$1,"onDragOverHandler",AS3.bind(this,"onFileDragOver"));AS3.setBindable(editor_FileDropPlugin_245_5_$1,"dropHandler",AS3.bind(this,"linkListFileDropHandler"));AS3.setBindable(editor_FileDropPlugin_245_5_$1,"uploadDisabledExpression",
this.getUploadDisabledValueExpression(AS3.getBindable(config,"bindTo"),AS3.getBindable(config,"uploadFolderValueExpression")));config_$1.plugins=[editor_SetPropertyLabelPlugin_243_5_$1,editor_FileDropPlugin_245_5_$1];var editor_LinkListPropertyFieldGridPanel_252_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyFieldGridPanel,{});editor_LinkListPropertyFieldGridPanel_252_5_$1.itemId=net.jangaroo.ext.Exml.asString(LinkListPropertyField.GRID_ITEM_ID);AS3.setBindable(editor_LinkListPropertyFieldGridPanel_252_5_$1,
"dropAreaText",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","LinkListPropertyFieldWithSuggestions_text")));AS3.setBindable(editor_LinkListPropertyFieldGridPanel_252_5_$1,"linkSuggesterTemplateExtraFields",AS3.getBindable(config,"linkSuggesterTemplateExtraFields"));AS3.setBindable(editor_LinkListPropertyFieldGridPanel_252_5_$1,"linkSuggesterTemplate",AS3.getBindable(config,"linkSuggesterTemplate"));AS3.setBindable(editor_LinkListPropertyFieldGridPanel_252_5_$1,
"linkSuggester",AS3.getBindable(config,"linkSuggester"));AS3.setBindable(editor_LinkListPropertyFieldGridPanel_252_5_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));AS3.setBindable(editor_LinkListPropertyFieldGridPanel_252_5_$1,"propertyFieldName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyFieldName")));AS3.setBindable(editor_LinkListPropertyFieldGridPanel_252_5_$1,"bindTo",AS3.getBindable(config,"bindTo"));AS3.setBindable(editor_LinkListPropertyFieldGridPanel_252_5_$1,
"showThumbnails",AS3.getBindable(config,"showThumbnails"));AS3.setBindable(editor_LinkListPropertyFieldGridPanel_252_5_$1,"selectedPositionsExpression",this.getSelectedPositionsExpression());AS3.setBindable(editor_LinkListPropertyFieldGridPanel_252_5_$1,"selectedValuesExpression",this.getSelectedValuesExpression());AS3.setBindable(editor_LinkListPropertyFieldGridPanel_252_5_$1,"linkType",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"linkType")));AS3.setBindable(editor_LinkListPropertyFieldGridPanel_252_5_$1,
"maxCardinality",AS3.getBindable(config,"maxCardinality"));AS3.setBindable(editor_LinkListPropertyFieldGridPanel_252_5_$1,"additionalFields",AS3.getBindable(config,"fields"));AS3.setBindable(editor_LinkListPropertyFieldGridPanel_252_5_$1,"hideIssues",AS3.getBindable(config,"hideIssues"));editor_LinkListPropertyFieldGridPanel_252_5_$1.columns=AS3.getBindable(config,"columns");AS3.setBindable(editor_LinkListPropertyFieldGridPanel_252_5_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));
AS3.setBindable(editor_LinkListPropertyFieldGridPanel_252_5_$1,"rowWidget",AS3.getBindable(config,"rowWidget"));AS3.setBindable(editor_LinkListPropertyFieldGridPanel_252_5_$1,"rowWidgetsAnnotatedPredicates",AS3.getBindable(config,"rowWidgetsAnnotatedPredicates"));AS3.setBindable(editor_LinkListPropertyFieldGridPanel_252_5_$1,"linkListWrapper",AS3.getBindable(config,"linkListWrapper"));AS3.setBindable(editor_LinkListPropertyFieldGridPanel_252_5_$1,"openCollectionViewHandler",AS3.getBindable(config,
"openCollectionViewHandler"));var editor_LinkListPropertyFieldToolbar_274_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyFieldToolbar,{});AS3.setBindable(editor_LinkListPropertyFieldToolbar_274_9_$1,"bindTo",AS3.getBindable(config,"bindTo"));editor_LinkListPropertyFieldToolbar_274_9_$1.itemId=net.jangaroo.ext.Exml.asString(LinkListPropertyField.TOOLBAR_ITEM_ID);AS3.setBindable(editor_LinkListPropertyFieldToolbar_274_9_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,
"propertyName")));AS3.setBindable(editor_LinkListPropertyFieldToolbar_274_9_$1,"linkType",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"linkType")));AS3.setBindable(editor_LinkListPropertyFieldToolbar_274_9_$1,"maxCardinality",AS3.getBindable(config,"maxCardinality"));AS3.setBindable(editor_LinkListPropertyFieldToolbar_274_9_$1,"additionalToolbarItems",AS3.getBindable(config,"additionalToolbarItems"));AS3.setBindable(editor_LinkListPropertyFieldToolbar_274_9_$1,"selectedPositionsExpression",
this.getSelectedPositionsExpression());AS3.setBindable(editor_LinkListPropertyFieldToolbar_274_9_$1,"selectedValuesExpression",this.getSelectedValuesExpression());AS3.setBindable(editor_LinkListPropertyFieldToolbar_274_9_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));editor_LinkListPropertyFieldGridPanel_252_5_$1.tbar=editor_LinkListPropertyFieldToolbar_274_9_$1;var editor_AriaLabelPlugin_285_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.plugins.AriaLabelPlugin,
{});AS3.setBindable(editor_AriaLabelPlugin_285_9_$1,"parent",com.coremedia.cms.editor.sdk.premular.PropertyFieldGroup.xtype);AS3.setBindable(editor_AriaLabelPlugin_285_9_$1,"suffix",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","ListView_suffix")));var editor_SetPropertyEmptyTextPlugin_287_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyEmptyTextPlugin,{});editor_SetPropertyEmptyTextPlugin_287_9_$1.bindTo=AS3.getBindable(config,
"bindTo");AS3.setBindable(editor_SetPropertyEmptyTextPlugin_287_9_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyFieldName")||AS3.getBindable(config,"propertyName")));var editor_ShowIssuesPlugin_289_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin,{});editor_ShowIssuesPlugin_289_9_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(editor_ShowIssuesPlugin_289_9_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyFieldName")||
AS3.getBindable(config,"propertyName")));AS3.setBindable(editor_ShowIssuesPlugin_289_9_$1,"hideIssues",AS3.getBindable(config,"hideIssues"));var editor_PropertyFieldPlugin_293_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin,{});AS3.setBindable(editor_PropertyFieldPlugin_293_9_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyFieldName")||AS3.getBindable(config,"propertyName")));var ui_ContextMenuPlugin_294_9_$1=AS3.cast(com.coremedia.ui.plugins.ContextMenuPlugin,
{});var menu_296_13_$1=AS3.cast(Ext.menu.Menu,{});menu_296_13_$1.plain=true;var ui_HideObsoleteSeparatorsPlugin_298_17_$1=AS3.cast(com.coremedia.ui.plugins.HideObsoleteSeparatorsPlugin,{});menu_296_13_$1.plugins=[ui_HideObsoleteSeparatorsPlugin_298_17_$1];var menuItem_301_17_$1=AS3.cast(Ext.menu.Item,{});menuItem_301_17_$1.itemId=net.jangaroo.ext.Exml.asString(LinkListPropertyField.OPEN_IN_TAB_MENU_ITEM_ID);var editor_OpenInTabAction_303_21_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenInTabAction,
{});AS3.setBindable(editor_OpenInTabAction_303_21_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(LinkListPropertyField.SELECTED_ITEMS_VARIABLE_NAME));menuItem_301_17_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.OpenInTabAction(editor_OpenInTabAction_303_21_$1);var menuItem_306_17_$1=AS3.cast(Ext.menu.Item,{});menuItem_306_17_$1.itemId=net.jangaroo.ext.Exml.asString(LinkListPropertyField.SHOW_IN_LIBRARY_MENU_ITEM_ID);var editor_ShowInRepositoryAction_308_21_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction,
{});AS3.setBindable(editor_ShowInRepositoryAction_308_21_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(LinkListPropertyField.SELECTED_ITEMS_VARIABLE_NAME));menuItem_306_17_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction(editor_ShowInRepositoryAction_308_21_$1);var menuSeparator_312_17_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_313_17_$1=AS3.cast(Ext.menu.Item,{});menuItem_313_17_$1.itemId=net.jangaroo.ext.Exml.asString(LinkListPropertyField.CUT_BUTTON_ITEM_ID);
var actionRef_315_21_$1=AS3.cast(ext.ActionRef,{});actionRef_315_21_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.LinkListCutAction.ACTION_ID);menuItem_313_17_$1.baseAction=actionRef_315_21_$1;var menuItem_318_17_$1=AS3.cast(Ext.menu.Item,{});menuItem_318_17_$1.itemId=net.jangaroo.ext.Exml.asString(LinkListPropertyField.COPY_BUTTON_ITEM_ID);var actionRef_320_21_$1=AS3.cast(ext.ActionRef,{});actionRef_320_21_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.LinkListCopyAction.ACTION_ID);
menuItem_318_17_$1.baseAction=actionRef_320_21_$1;var menuItem_323_17_$1=AS3.cast(Ext.menu.Item,{});menuItem_323_17_$1.itemId=net.jangaroo.ext.Exml.asString(LinkListPropertyField.PASTE_BUTTON_ITEM_ID);var actionRef_325_21_$1=AS3.cast(ext.ActionRef,{});actionRef_325_21_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.LinkListPasteAction.ACTION_ID);menuItem_323_17_$1.baseAction=actionRef_325_21_$1;var menuSeparator_328_17_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_329_17_$1=
AS3.cast(Ext.menu.Item,{});menuItem_329_17_$1.itemId=net.jangaroo.ext.Exml.asString(LinkListPropertyField.UNDELETE_MENU_ITEM_ID);var editor_UndeleteAction_331_21_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.UndeleteAction,{});AS3.setBindable(editor_UndeleteAction_331_21_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(LinkListPropertyField.SELECTED_ITEMS_VARIABLE_NAME));menuItem_329_17_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.UndeleteAction(editor_UndeleteAction_331_21_$1);
var menuSeparator_334_17_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_335_17_$1=AS3.cast(Ext.menu.Item,{});menuItem_335_17_$1.itemId=net.jangaroo.ext.Exml.asString(LinkListPropertyField.REMOVE_FROM_LIST_MENU_ITEM_ID);var actionRef_337_21_$1=AS3.cast(ext.ActionRef,{});actionRef_337_21_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.LinkListRemoveAction.ACTION_ID);menuItem_335_17_$1.baseAction=actionRef_337_21_$1;menu_296_13_$1.items=[menuItem_301_17_$1,menuItem_306_17_$1,
menuSeparator_312_17_$1,menuItem_313_17_$1,menuItem_318_17_$1,menuItem_323_17_$1,menuSeparator_328_17_$1,menuItem_329_17_$1,menuSeparator_334_17_$1,menuItem_335_17_$1];AS3.setBindable(ui_ContextMenuPlugin_294_9_$1,"contextMenu",menu_296_13_$1);editor_LinkListPropertyFieldGridPanel_252_5_$1.plugins=[editor_AriaLabelPlugin_285_9_$1,editor_SetPropertyEmptyTextPlugin_287_9_$1,editor_ShowIssuesPlugin_289_9_$1,editor_PropertyFieldPlugin_293_9_$1,ui_ContextMenuPlugin_294_9_$1];editor_LinkListPropertyFieldGridPanel_252_5_$1["plugins$at"]=
net.jangaroo.ext.Exml.APPEND;config_$1.items=[editor_LinkListPropertyFieldGridPanel_252_5_$1];var layout_VBox_348_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_348_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_348_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$k$2w(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyFieldBase",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.linkListPropertyField",
constructor:LinkListPropertyField$,super$k$2w:function(){com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyFieldBase.prototype.constructor.apply(this,arguments)},config:{linkSuggesterTemplate:null,linkSuggesterTemplateExtraFields:null,linkSuggester:null,forceReadOnlyValueExpression:null,linkListWrapper:null,rowWidget:null,propertyFieldName:null,maxCardinality:0,hideIssues:false,fields:null,columns:null,contextMenuItems:null,gridCtCls:null,openCollectionViewHandler:null,additionalToolbarItems:null,
showThumbnails:false},statics:{GRID_ITEM_ID:"linkGrid",DROPAREA_ITEM_ID:"dropArea",DELETE_BUTTON_ITEM_ID:"delete",OPEN_BUTTON_ITEM_ID:"openInTab",CUT_BUTTON_ITEM_ID:"cut",COPY_BUTTON_ITEM_ID:"copy",PASTE_BUTTON_ITEM_ID:"paste",OPEN_IN_TAB_MENU_ITEM_ID:"openInTab",SHOW_IN_LIBRARY_MENU_ITEM_ID:"showInLibrary",COPY_BUTTON_MENU_ITEM_ID:"copy",PASTE_BUTTON_MENU_ITEM_ID:"paste",UNDELETE_MENU_ITEM_ID:"undelete",REMOVE_FROM_LIST_MENU_ITEM_ID:"delete",SELECTED_ITEMS_VARIABLE_NAME:"selectedItems",SELECTED_POSITIONS_VARIABLE_NAME:"selectedPositions",
BOUND_CONTENT_VARIABLE_NAME:"linkListStoringContent",FORCE_READ_ONLY_VARIABLE_NAME:"linkListForceReadOnly",TOOLBAR_ITEM_ID:"linkListPropertyFieldToolbar"},requires:["Ext.layout.container.VBox","Ext.menu.Item","Ext.menu.Menu","Ext.menu.Separator","com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyFieldBase","com.coremedia.ui.plugins.ContextMenuPlugin","com.coremedia.ui.plugins.HideObsoleteSeparatorsPlugin","ext.ActionRef","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.actions.LinkListCopyAction",
"com.coremedia.cms.editor.sdk.actions.LinkListCutAction","com.coremedia.cms.editor.sdk.actions.LinkListPasteAction","com.coremedia.cms.editor.sdk.actions.LinkListRemoveAction","com.coremedia.cms.editor.sdk.actions.OpenInTabAction","com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction","com.coremedia.cms.editor.sdk.actions.UndeleteAction","com.coremedia.cms.editor.sdk.plugins.AriaLabelPlugin","com.coremedia.cms.editor.sdk.premular.PropertyFieldGroup","com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin",
"com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyFieldGridPanel","com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyFieldToolbar","com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyEmptyTextPlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin","com.coremedia.cms.editor.sdk.upload.FileDropPlugin","com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.DateTimePropertyFieldBase",function(DateTimePropertyFieldBase){var SINGLE_CHARACTER_WIDTH$static=7;var FIELD_MIN_WIDTH$static=10;var timeZoneFieldMinWidth$static=NaN;function DateTimePropertyFieldBase$(config){var this$=this;if(arguments.length<=0)config=null;this.super$LVae(config);this.isTimeZonePickerHidden$LVae=AS3.getBindable(config,"timeZoneHidden");AS3.setBindable(this,"validValueExpression",AS3.getBindable(config,"validValueExpression"));
if(!AS3.getBindable(this,"defaultTimeZoneValueExpression"))AS3.setBindable(this,"defaultTimeZoneValueExpression",com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(DateTimePropertyFieldBase.getDefaultTimeZone));AS3.getBindable(this,"defaultTimeZoneValueExpression").addChangeListener(AS3.bind(this,"updateModelValues$LVae"));this.getValidDateExpression$LVae().addChangeListener(AS3.bind(this,"validateDateField$LVae"));this.getValidTimeZoneExpression$LVae().addChangeListener(AS3.bind(this,
"validateDateField$LVae"));this.propertyExpression$LVae=AS3.getBindable(config,"bindTo").extendBy("properties",AS3.getBindable(config,"propertyName"));this.getModel(config);var loadedExpression=AS3.getBindable(config,"bindTo").extendBy("properties",AS3.getBindable(config,"isLoadedPropertyName"));loadedExpression.loadValue(function(){this$.updateModelValues$LVae();this$.model$LVae.addValueChangeListener(AS3.bind(this$,"handleModelChanges$LVae"));this$.propertyExpression$LVae.addChangeListener(AS3.bind(this$,
"updateModelValues$LVae"))});this.addListener("beforedestroy",AS3.bind(this,"onBeforeDestroy$LVae"))}function onBeforeDestroy(){this.propertyExpression$LVae.removeChangeListener(AS3.bind(this,"updateModelValues$LVae"));this.model$LVae.removeValueChangeListener(AS3.bind(this,"handleModelChanges$LVae"));AS3.getBindable(this,"defaultTimeZoneValueExpression").removeChangeListener(AS3.bind(this,"updateModelValues$LVae"))}function getDateField(){return AS3.as(this.getComponent(DateTimePropertyFieldBase.DATE_ITEM_ID),
com.coremedia.ui.components.StatefulDateField)}function getTimeField(){return AS3.as(this.getComponent(DateTimePropertyFieldBase.TIME_ITEM_ID),com.coremedia.ui.components.StatefulTimeField)}function handleModelChanges(event){var modelDate=AS3.as(this.model$LVae.get("date"),Date);var modelTime=AS3.as(this.model$LVae.get("time"),Date);if(event.property==="time"&&modelTime&&!modelDate){var today=new Date;this.model$LVae.set("date",today)}else if(event.property==="date"&&modelDate&&!modelTime){var midnight=
new Date;midnight.setMilliseconds(0);midnight.setSeconds(0);midnight.setMinutes(0);midnight.setHours(0);this.model$LVae.set("time",midnight)}this.dirty$LVae=true;com.coremedia.ui.util.EventUtil.invokeLater(AS3.bind(this,"save$LVae"))}function save(){if(this.dirty$LVae){this.dirty$LVae=false;var calendar=this.getModelCalendar();if(calendar)if(this.isTimeZonePickerHidden$LVae)this.handleModelChangePickerHidden$LVae(calendar);else this.handleModelChangePickerShown$LVae(calendar);else if(this.lastCalendar$LVae!==
null){this.lastCalendar$LVae=null;this.propertyExpression$LVae.setValue(null)}}}function handleModelChangePickerShown(calendar){if(!this.lastCalendar$LVae||this.lastCalendar$LVae.getYear()!==calendar.getYear()||this.lastCalendar$LVae.getMonth()!==calendar.getMonth()||this.lastCalendar$LVae.getDay()!==calendar.getDay()||this.lastCalendar$LVae.getHour()!==calendar.getHour()||this.lastCalendar$LVae.getMinute()!==calendar.getMinute()||this.lastCalendar$LVae.getSecond()!==calendar.getSecond()||this.lastCalendar$LVae.getTimeZone()!==
calendar.getTimeZone()){this.lastCalendar$LVae=calendar;this.propertyExpression$LVae.setValue(calendar)}}function handleModelChangePickerHidden(calendar){var date=calendar.getDate();if(date&&(!this.lastCalendar$LVae||!com.coremedia.ui.util.ObjectUtils.equal(this.lastCalendar$LVae.getDate(),date)||this.lastCalendar$LVae.getTimeZone()!==calendar.getTimeZone())){this.lastCalendar$LVae=calendar;this.propertyExpression$LVae.setValue(calendar)}}function getModelCalendar(){var modelDate=AS3.as(this.model$LVae.get("date"),
Date);var modelTime=AS3.as(this.model$LVae.get("time"),Date);if(modelDate&&modelTime){var calendarConfig={normalized:false};calendarConfig.year=modelDate.getFullYear();calendarConfig.month=modelDate.getMonth();calendarConfig.day=modelDate.getDate();calendarConfig.hour=modelTime.getHours();calendarConfig.minute=modelTime.getMinutes();calendarConfig.second=modelTime.getSeconds();var timeZone=this.model$LVae.get("timeZone");if(timeZone)calendarConfig.timeZone=timeZone;if(this.isTimeZonePickerHidden$LVae){var localTimeZoneOffsetMinutes=
-modelDate.getTimezoneOffset();calendarConfig.offset=localTimeZoneOffsetMinutes*(60*1E3)}return new com.coremedia.ui.data.Calendar(calendarConfig)}return null}function updateModelValues(){var calendar=AS3.as(this.propertyExpression$LVae.getValue(),com.coremedia.ui.data.Calendar);if(calendar){if(!this.expectNormalization||calendar.isNormalized())if(this.isTimeZonePickerHidden$LVae)this.updateModelValuesPickerHidden$LVae(calendar);else this.updateModelValuesPickerShown$LVae(calendar)}else{if(this.lastCalendar$LVae)this.lastCalendar$LVae=
null;this.resetAllModelValues()}}function updateModelValuesPickerHidden(calendar){var date=calendar.getDate();if(date&&(!this.lastCalendar$LVae||!com.coremedia.ui.util.ObjectUtils.equal(this.lastCalendar$LVae.getDate(),date)||this.lastCalendar$LVae.getTimeZone()!==calendar.getTimeZone())){this.lastCalendar$LVae=calendar;this.model$LVae.updateProperties({"date":date,"time":date,"timeZone":calendar.getTimeZone()})}}function updateModelValuesPickerShown(calendar){if(!this.lastCalendar$LVae||this.lastCalendar$LVae.getYear()!==
calendar.getYear()||this.lastCalendar$LVae.getMonth()!==calendar.getMonth()||this.lastCalendar$LVae.getDay()!==calendar.getDay()||this.lastCalendar$LVae.getHour()!==calendar.getHour()||this.lastCalendar$LVae.getMinute()!==calendar.getMinute()||this.lastCalendar$LVae.getSecond()!==calendar.getSecond()||this.lastCalendar$LVae.getTimeZone()!==calendar.getTimeZone()){this.lastCalendar$LVae=calendar;var modelDate=new Date(calendar.getYear(),calendar.getMonth(),calendar.getDay(),0,0,0,0);var modelTime=
new Date(calendar.getYear(),calendar.getMonth(),calendar.getDay(),calendar.getHour(),calendar.getMinute(),calendar.getSecond(),0);this.model$LVae.updateProperties({"date":modelDate,"time":modelTime,"timeZone":calendar.getTimeZone()})}}function resetAllModelValues(){var this$=this;this.getTimeField$LVae().clearValue();this.getTimeField$LVae().clearInvalid();AS3.getBindable(this,"defaultTimeZoneValueExpression").loadValue(function(timeZone){var defaultTimeZone=timeZone;if(defaultTimeZone===null)defaultTimeZone=
DateTimePropertyFieldBase.getDefaultTimeZone();this$.model$LVae.updateProperties({"date":null,"time":null,"timeZone":defaultTimeZone})});this.getValidDateExpression$LVae().setValue(true)}function getDateFormat$static(){return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","DateTimePropertyField_dateFormat")}function getTimeFormat$static(){return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","DateTimePropertyField_timeFormat")}
function validateTime(value){if(!value||AS3.is(value,Date))return true;var timeFormat=DateTimePropertyFieldBase.getTimeFormat();var timeDate=Ext.Date.parse(value,timeFormat,true);if(!timeDate){this.getValidDateExpression$LVae().setValue(false);return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","DateTimePropertyField_timeValidator_message")}this.getValidDateExpression$LVae().setValue(true);return true}function validateTimeZone(value){var isValid=DateTimePropertyFieldBase.getTimeZoneIds().some(function(timeZone){return value===
com.coremedia.cms.editor.sdk.util.ContentLocalizationUtilInternal.localizeTimeZoneID(timeZone)});this.getValidTimeZoneExpression$LVae().setValue(isValid);if(!isValid)return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","DateTimePropertyField_timeZoneValidator_message");return isValid}function getTimeZoneIds$static(){return AS3.as(com.coremedia.cap.common.SESSION.getConnection().getContentRepository(),com.coremedia.cap.content.impl.ContentRepositoryImpl).getTimeZones()}
function getTimeZoneIdsWithLocalizedNames$static(){var timeZoneIds=DateTimePropertyFieldBase.getTimeZoneIds();var timeZoneDataArray=[];for(var i=0;i<timeZoneIds.length;i++){var entry={id:timeZoneIds[i],localizedName:com.coremedia.cms.editor.sdk.util.ContentLocalizationUtilInternal.localizeTimeZoneID(timeZoneIds[i])};timeZoneDataArray.push(entry)}var timeZoneStore=new Ext.data.JsonStore(AS3.cast(Ext.data.JsonStore,{fields:[{"type":"string",name:"id"},{"type":"string",name:"localizedName"}]}));timeZoneStore.loadData(timeZoneDataArray);
return timeZoneStore}function getDefaultTimeZone$static(){return AS3.as(com.coremedia.cap.common.SESSION.getConnection().getContentRepository(),com.coremedia.cap.content.impl.ContentRepositoryImpl).getDefaultTimeZone()}function measureString$static(){if(!timeZoneFieldMinWidth$static){var timeZoneFieldMinChars=FIELD_MIN_WIDTH$static;var timeZoneIds=DateTimePropertyFieldBase.getTimeZoneIds();for(var i=0;i<timeZoneIds.length;i++){var timeZoneId=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtilInternal.localizeTimeZoneID(timeZoneIds[i]);
if(timeZoneId.length>=timeZoneFieldMinChars)timeZoneFieldMinChars=timeZoneId.length}timeZoneFieldMinWidth$static=timeZoneFieldMinChars*SINGLE_CHARACTER_WIDTH$static}return timeZoneFieldMinWidth$static}function getModel(config){if(!this.model$LVae)if(AS3.getBindable(config,"model"))this.model$LVae=AS3.getBindable(config,"model");else this.model$LVae=com.coremedia.ui.data.beanFactory.createLocalBean();return this.model$LVae}function getValidDateExpression(){if(!this.validDateExpresson$LVae)this.validDateExpresson$LVae=
com.coremedia.ui.data.ValueExpressionFactory.createFromValue(undefined);return this.validDateExpresson$LVae}function getValidValueExpression(){if(!AS3.getBindable(this,"validValueExpression"))AS3.setBindable(this,"validValueExpression",com.coremedia.ui.data.ValueExpressionFactory.createFromValue(undefined));return AS3.getBindable(this,"validValueExpression")}function getValidTimeZoneExpression(){if(!this.validTimeZoneExpresson$LVae)this.validTimeZoneExpresson$LVae=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(undefined);
return this.validTimeZoneExpresson$LVae}function validateDateField(){this.getValidValueExpression$LVae().setValue(this.getValidTimeZoneExpression$LVae().getValue()&&this.getValidDateExpression$LVae().getValue())}return{extend:"com.coremedia.ui.components.AdvancedFieldContainer",metadata:{"":["PublicApi"]},expectNormalization:true,model$LVae:null,propertyExpression$LVae:null,isTimeZonePickerHidden$LVae:false,validDateExpresson$LVae:null,validTimeZoneExpresson$LVae:null,lastCalendar$LVae:null,dirty$LVae:false,
constructor:DateTimePropertyFieldBase$,super$LVae:function(){com.coremedia.ui.components.AdvancedFieldContainer.prototype.constructor.apply(this,arguments)},onBeforeDestroy$LVae:onBeforeDestroy,getDateField$LVae:getDateField,getTimeField$LVae:getTimeField,handleModelChanges$LVae:handleModelChanges,save$LVae:save,handleModelChangePickerShown$LVae:handleModelChangePickerShown,handleModelChangePickerHidden$LVae:handleModelChangePickerHidden,getModelCalendar:getModelCalendar,updateModelValues$LVae:updateModelValues,
updateModelValuesPickerHidden$LVae:updateModelValuesPickerHidden,updateModelValuesPickerShown$LVae:updateModelValuesPickerShown,resetAllModelValues:resetAllModelValues,validateTime:validateTime,validateTimeZone:validateTimeZone,getModel:getModel,getValidDateExpression$LVae:getValidDateExpression,getValidValueExpression$LVae:getValidValueExpression,getValidTimeZoneExpression$LVae:getValidTimeZoneExpression,validateDateField$LVae:validateDateField,config:{defaultTimeZoneValueExpression:null,isLoadedPropertyName:null,
validValueExpression:null},statics:{DATE_ITEM_ID:"date",TIME_ITEM_ID:"time",TIME_ZONE_ITEM_ID:"timeZone",getDateFormat:getDateFormat$static,getTimeFormat:getTimeFormat$static,getTimeZoneIds:getTimeZoneIds$static,getTimeZoneIdsWithLocalizedNames:getTimeZoneIdsWithLocalizedNames$static,getDefaultTimeZone:getDefaultTimeZone$static,measureString:measureString$static},requires:["Ext.Date","Ext.data.JsonStore","com.coremedia.cap.common.SESSION","com.coremedia.cap.content.impl.ContentRepositoryImpl","com.coremedia.cms.editor.Editor_properties",
"com.coremedia.ui.components.AdvancedFieldContainer","com.coremedia.ui.components.StatefulDateField","com.coremedia.ui.components.StatefulTimeField","com.coremedia.ui.data.Calendar","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.beanFactory","com.coremedia.ui.util.EventUtil","com.coremedia.ui.util.ObjectUtils","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.util.ContentLocalizationUtilInternal"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.BeanListChooserBindListPlugin",function(BeanListChooserBindListPlugin){function BeanListChooserBindListPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.BeanListChooserBindListPluginBase,{});var defaults_$1=AS3.cast(BeanListChooserBindListPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Dtn8(config_$1)}
return{extend:"com.coremedia.cms.editor.sdk.premular.fields.BeanListChooserBindListPluginBase",constructor:BeanListChooserBindListPlugin$,super$Dtn8:function(){com.coremedia.cms.editor.sdk.premular.fields.BeanListChooserBindListPluginBase.prototype.constructor.apply(this,arguments)},config:{additionalFields:null},requires:["com.coremedia.cms.editor.sdk.premular.fields.BeanListChooserBindListPluginBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.RichTextPropertyFieldBase",function(RichTextPropertyFieldBase){var PREFERENCE_LINK_TYPE_TARGET$static="ckeditor.externalLinkDialog.targetType";var AFTER_CONFIG_EVENT$static="afterConfigEvent";function RichTextPropertyFieldBase$(config){if(arguments.length<=0)config=null;this.richTextWindowGroup$ey9Q=new Ext.ZIndexManager;this.richTextWindowGroup$ey9Q["setBase"](Ext.WindowManager["zseed"]-1E4);this.super$ey9Q(config);this.fireEvent(AFTER_CONFIG_EVENT$static);
this.initValidationStateMixin();this.myRichTextArea$ey9Q=AS3.as(this.down(com.coremedia.ui.util.createComponentSelector()._xtype(com.coremedia.ui.ckeditor.RichTextArea.xtype).build()),com.coremedia.ui.ckeditor.RichTextArea);this.mon(this.myRichTextArea$ey9Q,com.coremedia.ui.ckeditor.RichTextArea.CKREADY_EVENT,AS3.bind(this,"ckEditorAvailable$ey9Q"),null,{single:true});this.mon(this.myRichTextArea$ey9Q,com.coremedia.ui.ckeditor.RichTextArea.CKRESIZE_EVENT,AS3.bind(this,"ckEditorResized$ey9Q"));this.addListener("validationStateChanged",
AS3.bind(this,"onValidationChanged$ey9Q"));this.addListener("validationMessageChanged",AS3.bind(this,"onValidationChanged$ey9Q"));this.onValidationChanged$ey9Q();com.coremedia.ui.util.ComponentUtil.findAsParentOf(this,com.coremedia.cms.editor.sdk.premular.DocumentPanel.xtype,AS3.bind(this,"initWithDocumentPanel$ey9Q"));this.lifecycleStatusValueExpression$ey9Q=config.bindTo.extendBy("lifecycleStatus");this.lifecycleStatusValueExpression$ey9Q.addChangeListener(AS3.bind(this.richTextWindowGroup$ey9Q,
"hideAll"));this.checkedInValueExpression$ey9Q=this.bindTo.extendBy(com.coremedia.cap.content.ContentPropertyNames.CHECKED_IN);this.checkedInValueExpression$ey9Q.addChangeListener(AS3.bind(this,"onContentCheckIn$ey9Q"));this.forceReadOnlyValueExpression=config.forceReadOnlyValueExpression}function onContentCheckIn(){if(this.checkedInValueExpression$ey9Q.getValue())this.myRichTextArea$ey9Q.resetDirty(true)}function ckEditorAvailable(){com.coremedia.ui.data.util.PropertyChangeEventUtil.fireEvent(this,
"cKEditor",null,this.getCKEditor())}function initWithDocumentPanel(theDocumentPanel){if(theDocumentPanel){this.diffManager$ey9Q=AS3.getBindable(theDocumentPanel,"diffManager");if(this.diffManager$ey9Q)this.myRichTextArea$ey9Q.customizeCKEditorConfig({"com.coremedia.richtext.diff":true})}}function getCKEditor(){return this.myRichTextArea$ey9Q&&this.myRichTextArea$ey9Q.getCKEditor()}function getRichTextWindowGroup(){return this.richTextWindowGroup$ey9Q}function getExternalLinkUrlValueExpression(){var this$=
this;var me=this;return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){if(!this$.myRichTextArea$ey9Q){com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(me,AFTER_CONFIG_EVENT$static);return undefined}var xlinkHref=this$.myRichTextArea$ey9Q.getXlinkHref();return getInternalLinkUrl$static(xlinkHref)?null:xlinkHref})}function getInternalLinkContentValueExpression(){var this$=this;var me=this;return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){if(!this$.myRichTextArea$ey9Q){com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(me,
AFTER_CONFIG_EVENT$static);return undefined}var xlinkHref=getInternalLinkUrl$static(this$.myRichTextArea$ey9Q.getXlinkHref());return xlinkHref?com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getContent(xlinkHref):null})}function getInternalLinkUrl$static(xlinkHref){if(xlinkHref&&xlinkHref.indexOf(":")===-1){var hashIndex=xlinkHref.indexOf("#");return hashIndex===0?null:hashIndex===-1?xlinkHref:xlinkHref.substr(0,hashIndex)}return null}function getRichTextAreaToolbar$static(container){return AS3.as(container.query(com.coremedia.ui.util.createComponentSelector()._xtype("toolbar").build())[0],
Ext.toolbar.Toolbar)}function getRichTextValueExpression(){var this$=this;var thys=this;return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){if(!thys.rendered){com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(thys,"afterrender");return undefined}var blob=this$.bindTo.extendBy("properties",this$.propertyName).getValue();if(blob&&!blob.isLoaded()){com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(blob,"data");blob.loadData();
return undefined}var diff=this$.getDiffForProperty$ey9Q();if(diff){var markupDiff=this$.diffManager$ey9Q.getMarkupDiff(thys,this$.propertyName);return markupDiff==null?this$.bindTo.extendBy("properties",this$.propertyName).getValue():markupDiff}else return new com.coremedia.ui.data.ValueExpressionValueHolder(this$.getDelegatingDataValueExpression$ey9Q())})}function getDelegatingDataValueExpression(){if(!this.delegatingDataValueExpression$ey9Q){var blob=this.getDataValueExpression$ey9Q().getValue()||
com.coremedia.ui.data.impl.BlobImpl.create(null,"");this.delegatingDataValueExpression$ey9Q=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(blob);this.delegatingDataValueExpression$ey9Q.addChangeListener(AS3.bind(this,"writeToDataExpression$ey9Q"))}return this.delegatingDataValueExpression$ey9Q}function getDataValueExpression(){if(!this.dataValueExpression$ey9Q){this.dataValueExpression$ey9Q=this.bindTo.extendBy("properties",this.propertyName);this.dataValueExpression$ey9Q.addChangeListener(AS3.bind(this,
"writeToDelegatingDataExpression$ey9Q"))}return this.dataValueExpression$ey9Q}function writeToDataExpression(ve){if(!AS3.getBindable(this.myRichTextArea$ey9Q,"delegating","DUMMY"))this.getDataValueExpression$ey9Q().setValue(ve.getValue())}function writeToDelegatingDataExpression(ve){this.getDelegatingDataValueExpression$ey9Q().setValue(ve.getValue())}function getDiffForProperty(){if(!this.diffManager$ey9Q)return null;return this.diffManager$ey9Q.isPropertyChanged(this.propertyName)}function ckEditorResized(){com.coremedia.cms.editor.sdk.premular.DocumentTabPanelBase.touched(this)}
function getLabelId(){return this.labelEl.id}function handleKeys$static(richTextArea,event){com.coremedia.cms.editor.sdk.editorContext.getKeyboardShortcutManager()["onKeyMapEvent"](event)}function getExternalLinkTargetTypeValueExpression(){if(!this.externalLinkTargetTypeValueExpression$ey9Q){var preferences=com.coremedia.cms.editor.sdk.editorContext.getPreferences();this.externalLinkTargetTypeValueExpression$ey9Q=com.coremedia.ui.data.ValueExpressionFactory.create(PREFERENCE_LINK_TYPE_TARGET$static,
preferences)}return this.externalLinkTargetTypeValueExpression$ey9Q}function onValidationChanged(){AS3.setBindable(this.myRichTextArea$ey9Q,"validationState",AS3.getBindable(this,"validationState"));AS3.setBindable(this.myRichTextArea$ey9Q,"validationMessage",AS3.getBindable(this,"validationMessage"))}function onDestroy(){this.lifecycleStatusValueExpression$ey9Q&&this.lifecycleStatusValueExpression$ey9Q.removeChangeListener(AS3.bind(this.richTextWindowGroup$ey9Q,"hideAll"));this.checkedInValueExpression$ey9Q&&
this.checkedInValueExpression$ey9Q.removeChangeListener(AS3.bind(this,"onContentCheckIn$ey9Q"));this.delegatingDataValueExpression$ey9Q&&this.delegatingDataValueExpression$ey9Q.removeChangeListener(AS3.bind(this,"writeToDataExpression$ey9Q"));this.dataValueExpression$ey9Q&&this.dataValueExpression$ey9Q.removeChangeListener(AS3.bind(this,"writeToDelegatingDataExpression$ey9Q"));com.coremedia.ui.components.AdvancedFieldContainer.prototype.onDestroy.call(this)}return{extend:"com.coremedia.ui.components.AdvancedFieldContainer",
mixins:["com.coremedia.ui.mixins.ValidationStateMixin","com.coremedia.ui.mixins.ReadOnlyStateMixin"],metadata:{"":["PublicApi"],getCKEditor:["ProvideToExtChildren"],getRichTextWindowGroup:["ProvideToExtChildren"]},diffManager$ey9Q:null,myRichTextArea$ey9Q:null,richTextWindowGroup$ey9Q:null,externalLinkTargetTypeValueExpression$ey9Q:null,lifecycleStatusValueExpression$ey9Q:null,checkedInValueExpression$ey9Q:null,bindTo:null,propertyName:null,forceReadOnlyValueExpression:null,dataValueExpression$ey9Q:null,
delegatingDataValueExpression$ey9Q:null,constructor:RichTextPropertyFieldBase$,super$ey9Q:function(){com.coremedia.ui.components.AdvancedFieldContainer.prototype.constructor.apply(this,arguments)},onContentCheckIn$ey9Q:onContentCheckIn,ckEditorAvailable$ey9Q:ckEditorAvailable,initWithDocumentPanel$ey9Q:initWithDocumentPanel,getCKEditor:getCKEditor,getRichTextWindowGroup:getRichTextWindowGroup,getExternalLinkUrlValueExpression:getExternalLinkUrlValueExpression,getInternalLinkContentValueExpression:getInternalLinkContentValueExpression,
getRichTextValueExpression:getRichTextValueExpression,getDelegatingDataValueExpression$ey9Q:getDelegatingDataValueExpression,getDataValueExpression$ey9Q:getDataValueExpression,writeToDataExpression$ey9Q:writeToDataExpression,writeToDelegatingDataExpression$ey9Q:writeToDelegatingDataExpression,getDiffForProperty$ey9Q:getDiffForProperty,ckEditorResized$ey9Q:ckEditorResized,getLabelId:getLabelId,getExternalLinkTargetTypeValueExpression:getExternalLinkTargetTypeValueExpression,onValidationChanged$ey9Q:onValidationChanged,
onDestroy:onDestroy,statics:{getRichTextAreaToolbar:getRichTextAreaToolbar$static,handleKeys:handleKeys$static},requires:["Ext.ZIndexManager","Ext.toolbar.Toolbar","com.coremedia.cap.common.SESSION","com.coremedia.cap.content.ContentPropertyNames","com.coremedia.ui.ckeditor.RichTextArea","com.coremedia.ui.components.AdvancedFieldContainer","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.ValueExpressionValueHolder","com.coremedia.ui.data.dependencies.DependencyTracker","com.coremedia.ui.data.impl.BlobImpl",
"com.coremedia.ui.data.util.PropertyChangeEventUtil","com.coremedia.ui.mixins.ReadOnlyStateMixin","com.coremedia.ui.mixins.ValidationStateMixin","com.coremedia.ui.util.ComponentUtil","com.coremedia.ui.util.createComponentSelector"],uses:["com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.premular.DocumentPanel","com.coremedia.cms.editor.sdk.premular.DocumentTabPanelBase"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.IntegerPropertyField",function(IntegerPropertyField){function IntegerPropertyField$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.ui.components.AdvancedFieldContainer,{});var defaults_$1=AS3.cast(IntegerPropertyField,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"defaultField",net.jangaroo.ext.Exml.asString(com.coremedia.ui.util.createComponentSelector().itemId(IntegerPropertyField.INTEGER_PROPERTY_FIELD_ITEM_ID).build()));
var editor_SetPropertyLabelPlugin_68_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin,{});editor_SetPropertyLabelPlugin_68_5_$1.bindTo=AS3.getBindable(config,"bindTo");editor_SetPropertyLabelPlugin_68_5_$1.propertyName=net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName"));config_$1.plugins=[editor_SetPropertyLabelPlugin_68_5_$1];var ui_StatefulNumberField_72_5_$1=AS3.cast(com.coremedia.ui.components.StatefulNumberField,{});ui_StatefulNumberField_72_5_$1.name=
net.jangaroo.ext.Exml.asString("properties."+AS3.getBindable(config,"propertyName"));AS3.setBindable(ui_StatefulNumberField_72_5_$1,"height",23);ui_StatefulNumberField_72_5_$1.allowBlank=true;ui_StatefulNumberField_72_5_$1.allowDecimals=false;ui_StatefulNumberField_72_5_$1.anchor="100%";ui_StatefulNumberField_72_5_$1.itemId=net.jangaroo.ext.Exml.asString(IntegerPropertyField.INTEGER_PROPERTY_FIELD_ITEM_ID);ui_StatefulNumberField_72_5_$1.hideLabel=true;AS3.setBindable(ui_StatefulNumberField_72_5_$1,
"hideTrigger",true);AS3.setBindable(ui_StatefulNumberField_72_5_$1,"maxValue",IntegerPropertyField.MAX_VALUE);AS3.setBindable(ui_StatefulNumberField_72_5_$1,"minValue",IntegerPropertyField.MIN_VALUE);ui_StatefulNumberField_72_5_$1.checkChangeBuffer=AS3.getBindable(config,"changeBuffer");var editor_SetPropertyEmptyTextPlugin_84_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyEmptyTextPlugin,{});editor_SetPropertyEmptyTextPlugin_84_9_$1.bindTo=AS3.getBindable(config,"bindTo");
AS3.setBindable(editor_SetPropertyEmptyTextPlugin_84_9_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));var editor_BindReadOnlyPlugin_86_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPlugin,{});AS3.setBindable(editor_BindReadOnlyPlugin_86_9_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));editor_BindReadOnlyPlugin_86_9_$1.bindTo=AS3.getBindable(config,"bindTo");var editor_PropertyFieldPlugin_88_9_$1=
AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin,{});AS3.setBindable(editor_PropertyFieldPlugin_88_9_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));var editor_ShowIssuesPlugin_89_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin,{});editor_ShowIssuesPlugin_89_9_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(editor_ShowIssuesPlugin_89_9_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,
"propertyName")));AS3.setBindable(editor_ShowIssuesPlugin_89_9_$1,"hideIssues",AS3.getBindable(config,"hideIssues"));var ui_BindPropertyPlugin_92_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_92_9_$1.ifUndefined="";ui_BindPropertyPlugin_92_9_$1.bindTo=AS3.getBindable(config,"bindTo").extendBy("properties",AS3.getBindable(config,"propertyName"));ui_BindPropertyPlugin_92_9_$1.disableStrictConsistency=config.disableStrictConsistency;ui_BindPropertyPlugin_92_9_$1.reverseTransformer=
function(value){return value||value===0?value:null};ui_BindPropertyPlugin_92_9_$1.bidirectional=true;var ui_BlockEnterPlugin_97_9_$1=AS3.cast(com.coremedia.ui.plugins.BlockEnterPlugin,{});ui_StatefulNumberField_72_5_$1.plugins=[editor_SetPropertyEmptyTextPlugin_84_9_$1,editor_BindReadOnlyPlugin_86_9_$1,editor_PropertyFieldPlugin_88_9_$1,editor_ShowIssuesPlugin_89_9_$1,ui_BindPropertyPlugin_92_9_$1,ui_BlockEnterPlugin_97_9_$1];config_$1.items=[ui_StatefulNumberField_72_5_$1];var layout_VBox_102_5_$1=
AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_102_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_102_5_$1);var labelable_105_5_$1=AS3.cast(Ext.form.Labelable,{});labelable_105_5_$1.labelSeparator="";config_$1["defaultType"]=labelable_105_5_$1["xtype"];delete labelable_105_5_$1["xtype"];delete labelable_105_5_$1["xclass"];config_$1.defaults=labelable_105_5_$1;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$IUHw(config_$1)}return{extend:"com.coremedia.ui.components.AdvancedFieldContainer",
metadata:{"":["PublicApi"],disableStrictConsistency:["Config"]},alias:"widget.com.coremedia.cms.editor.sdk.config.integerPropertyField",constructor:IntegerPropertyField$,super$IUHw:function(){com.coremedia.ui.components.AdvancedFieldContainer.prototype.constructor.apply(this,arguments)},disableStrictConsistency:false,config:{bindTo:null,forceReadOnlyValueExpression:null,propertyName:null,hideIssues:false,changeBuffer:NaN},statics:{INTEGER_PROPERTY_FIELD_ITEM_ID:"integerPropertyField",MAX_VALUE:2147483647,
MIN_VALUE:-2147483648},requires:["Ext.form.Labelable","Ext.layout.container.VBox","com.coremedia.ui.components.AdvancedFieldContainer","com.coremedia.ui.components.StatefulNumberField","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.BlockEnterPlugin","com.coremedia.ui.util.createComponentSelector","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyEmptyTextPlugin",
"com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin","com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.StringListUpdateAction",function(StringListUpdateAction){function StringListUpdateAction$(config){if(arguments.length<=0)config=null;this.selectedPositions=config.selectedPositions;this.selectedValues=config.selectedValues;this.stringListEntriesValueExpression=config.stringListEntriesValueExpression;this.super$ExA1(config)}return{extend:"com.coremedia.cms.editor.sdk.actions.ContentUpdateAction",selectedPositions:null,selectedValues:null,stringListEntriesValueExpression:null,
constructor:StringListUpdateAction$,super$ExA1:function(){com.coremedia.cms.editor.sdk.actions.ContentUpdateAction.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.actions.ContentUpdateAction"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.DeleteStringListEntryAction",function(DeleteStringListEntryAction){function DeleteStringListEntryAction$(config){if(arguments.length<=0)config=null;this.super$JOmx(AS3.cast(DeleteStringListEntryAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,"deleteStructNode",{handler:AS3.bind(this,"doExecute$JOmx")})))}function doExecute(){var list=this.stringListEntriesValueExpression.getValue();var positions=this.selectedPositions.getValue();
var newList=list.concat();for(var i=positions.length-1;i>=0;i--)newList.splice(positions[i],1);this.stringListEntriesValueExpression.setValue(newList);var selectedRow=this.selectedPositions.getValue()[0];if(newList.length<=selectedRow)selectedRow=newList.length-1;this.selectedValues.setValue([new com.coremedia.cms.editor.sdk.premular.fields.StringListPropertyFieldEntry(newList[selectedRow],selectedRow,this.selectedValues)])}function calculateDisabled(){if(com.coremedia.cms.editor.sdk.premular.fields.StringListUpdateAction.prototype.calculateDisabled.call(this))return true;
var selectedPositionsArray=AS3.as(this.selectedPositions.getValue(),Array);return!selectedPositionsArray||selectedPositionsArray.length===0}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.StringListUpdateAction",constructor:DeleteStringListEntryAction$,super$JOmx:function(){com.coremedia.cms.editor.sdk.premular.fields.StringListUpdateAction.prototype.constructor.apply(this,arguments)},doExecute$JOmx:doExecute,calculateDisabled:calculateDisabled,requires:["com.coremedia.cms.editor.sdk.premular.fields.StringListUpdateAction"],
uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil","com.coremedia.cms.editor.sdk.premular.fields.StringListPropertyFieldEntry"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.TextAreaStringPropertyField",function(TextAreaStringPropertyField){function TextAreaStringPropertyField$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.StringPropertyField,{});var defaults_$1=AS3.cast(TextAreaStringPropertyField,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var ui_ResizableTextArea_22_5_$1=AS3.cast(com.coremedia.ui.components.ResizableTextArea,{});
ui_ResizableTextArea_22_5_$1.itemId="textAreaPropertyField";AS3.setBindable(ui_ResizableTextArea_22_5_$1,"height",100);ui_ResizableTextArea_22_5_$1.anchor="100%";config_$1.items=[ui_ResizableTextArea_22_5_$1];var layout_Fit_27_5_$1=AS3.cast(Ext.layout.container.Fit,{});AS3.setBindable(config_$1,"layout",layout_Fit_27_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$SeM7(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.StringPropertyField",metadata:{"":["PublicApi"]},
alias:"widget.com.coremedia.cms.editor.sdk.config.textAreaStringPropertyField",constructor:TextAreaStringPropertyField$,super$SeM7:function(){com.coremedia.cms.editor.sdk.premular.fields.StringPropertyField.prototype.constructor.apply(this,arguments)},requires:["Ext.layout.container.Fit","com.coremedia.cms.editor.sdk.premular.fields.StringPropertyField","com.coremedia.ui.components.ResizableTextArea","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyFieldGridPanel",function(LinkListPropertyFieldGridPanel){function LinkListPropertyFieldGridPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyFieldGridPanelBase,{});var defaults_$1=AS3.cast(LinkListPropertyFieldGridPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"hideHeaders",true);config_$1.forceFit=
true;AS3.setBindable(config_$1,"linkListWrapper",this.getLinkListWrapper(config));AS3.setBindable(config_$1,"dropAreaHandler",AS3.bind(this,"processOpenCollectionViewHandler"));AS3.setBindable(config_$1,"readOnlyValueExpression",this.getReadOnlyValueExpression(config));var editor_MoveLinkAction_41_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.MoveLinkAction,{});editor_MoveLinkAction_41_5_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.MoveLinkAction.ACTION_ID_UP);
AS3.setBindable(editor_MoveLinkAction_41_5_$1,"grid",this);AS3.setBindable(editor_MoveLinkAction_41_5_$1,"direction",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.MoveLinkAction.ACTION_ID_UP));AS3.setBindable(editor_MoveLinkAction_41_5_$1,"linkListWrapper",this.getLinkListWrapper(config));var editor_MoveLinkAction_45_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.MoveLinkAction,{});editor_MoveLinkAction_45_5_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.MoveLinkAction.ACTION_ID_DOWN);
AS3.setBindable(editor_MoveLinkAction_45_5_$1,"grid",this);AS3.setBindable(editor_MoveLinkAction_45_5_$1,"direction",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.MoveLinkAction.ACTION_ID_DOWN));AS3.setBindable(editor_MoveLinkAction_45_5_$1,"linkListWrapper",this.getLinkListWrapper(config));AS3.setBindable(config_$1,"actionList",[new com.coremedia.cms.editor.sdk.actions.MoveLinkAction(editor_MoveLinkAction_41_5_$1),new com.coremedia.cms.editor.sdk.actions.MoveLinkAction(editor_MoveLinkAction_45_5_$1)]);
config_$1["actionList$at"]=net.jangaroo.ext.Exml.APPEND;var local_LinkListDropAreaWithSuggestions_51_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.LinkListDropAreaWithSuggestions,{});AS3.setBindable(local_LinkListDropAreaWithSuggestions_51_5_$1,"linkListWrapper",this.getLinkListWrapper(config));AS3.setBindable(local_LinkListDropAreaWithSuggestions_51_5_$1,"linkSuggester",com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyFieldGridPanelBase.createLinkSuggester(config));local_LinkListDropAreaWithSuggestions_51_5_$1.suggestionsTemplate=
AS3.getBindable(config,"linkSuggesterTemplate")||com.coremedia.cms.editor.sdk.premular.fields.LinkListDropAreaUtils.getContentSuggestionsTemplate();AS3.setBindable(local_LinkListDropAreaWithSuggestions_51_5_$1,"extraFields",AS3.getBindable(config,"linkSuggesterTemplateExtraFields"));AS3.setBindable(local_LinkListDropAreaWithSuggestions_51_5_$1,"ddGroups",com.coremedia.cms.editor.sdk.premular.fields.LinkListGridPanel.DD_GROUPS);AS3.setBindable(local_LinkListDropAreaWithSuggestions_51_5_$1,"handler",
AS3.getBindable(config,"dropAreaHandler")||AS3.bind(this,"processOpenCollectionViewHandler"));AS3.setBindable(local_LinkListDropAreaWithSuggestions_51_5_$1,"readOnlyValueExpression",AS3.getBindable(config,"readOnlyValueExpression")||this.getReadOnlyValueExpression(config));AS3.setBindable(local_LinkListDropAreaWithSuggestions_51_5_$1,"iconCls",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"dropAreaIconCls")));AS3.setBindable(local_LinkListDropAreaWithSuggestions_51_5_$1,"appendOnDrop",false);
AS3.setBindable(local_LinkListDropAreaWithSuggestions_51_5_$1,"dropHandler",AS3.bind(this,"handleDropAreaDrop"));AS3.setBindable(local_LinkListDropAreaWithSuggestions_51_5_$1,"text",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"dropAreaText")||this.getDropAreaText(config)));var ui_BEMMixin_63_9_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,{});AS3.setBindable(ui_BEMMixin_63_9_$1,"bemElement",com.coremedia.ui.bem.LinkListBEMEntities.ELEMENT_TAIL);delete ui_BEMMixin_63_9_$1["xtype"];delete ui_BEMMixin_63_9_$1["xclass"];
net.jangaroo.ext.Exml.apply(local_LinkListDropAreaWithSuggestions_51_5_$1,ui_BEMMixin_63_9_$1);config_$1.dropArea=local_LinkListDropAreaWithSuggestions_51_5_$1;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$zmh4(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyFieldGridPanelBase",alias:"widget.com.coremedia.cms.editor.sdk.config.linkListPropertyFieldGridPanel",constructor:LinkListPropertyFieldGridPanel$,super$zmh4:function(){com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyFieldGridPanelBase.prototype.constructor.apply(this,
arguments)},config:{linkSuggesterTemplate:null,linkSuggesterTemplateExtraFields:null},requires:["com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyFieldGridPanelBase","com.coremedia.ui.bem.LinkListBEMEntities","com.coremedia.ui.plugins.BEMMixin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.actions.MoveLinkAction","com.coremedia.cms.editor.sdk.premular.fields.LinkListDropAreaUtils","com.coremedia.cms.editor.sdk.premular.fields.LinkListDropAreaWithSuggestions","com.coremedia.cms.editor.sdk.premular.fields.LinkListGridPanel"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.DatePropertyField",function(DatePropertyField){function DatePropertyField$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.ui.components.StatefulDateField,{});var defaults_$1=AS3.cast(DatePropertyField,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.name=net.jangaroo.ext.Exml.asString("properties."+AS3.getBindable(config,"propertyName"));config_$1.anchor="98%";config_$1.allowBlank=true;config_$1.formatText=
"";config_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","Date_property_field"));config_$1.format=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","DatePropertyField_dateFormat")||"m/d/Y H:i");config_$1.checkChangeBuffer=100;var editor_SetPropertyLabelPlugin_69_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin,{});editor_SetPropertyLabelPlugin_69_5_$1.bindTo=
AS3.getBindable(config,"bindTo");editor_SetPropertyLabelPlugin_69_5_$1.propertyName=net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName"));var editor_SetPropertyEmptyTextPlugin_71_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyEmptyTextPlugin,{});editor_SetPropertyEmptyTextPlugin_71_5_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(editor_SetPropertyEmptyTextPlugin_71_5_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,
"propertyName")));var editor_BindDisablePlugin_73_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin,{});AS3.setBindable(editor_BindDisablePlugin_73_5_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));editor_BindDisablePlugin_73_5_$1.bindTo=AS3.getBindable(config,"bindTo");var editor_PropertyFieldPlugin_75_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin,{});AS3.setBindable(editor_PropertyFieldPlugin_75_5_$1,
"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));var editor_ShowIssuesPlugin_76_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin,{});editor_ShowIssuesPlugin_76_5_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(editor_ShowIssuesPlugin_76_5_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));AS3.setBindable(editor_ShowIssuesPlugin_76_5_$1,"hideIssues",AS3.getBindable(config,"hideIssues"));var ui_BindPropertyPlugin_79_5_$1=
AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_79_5_$1.bindTo=AS3.getBindable(config,"bindTo").extendBy("properties",AS3.getBindable(config,"propertyName"));ui_BindPropertyPlugin_79_5_$1.disableStrictConsistency=config.disableStrictConsistency;ui_BindPropertyPlugin_79_5_$1.bidirectional=true;ui_BindPropertyPlugin_79_5_$1.ifUndefined=null;ui_BindPropertyPlugin_79_5_$1.transformer=function(value){if(AS3.is(value,com.coremedia.ui.data.Calendar))return value.getDate();
return AS3.as(value,Date)};ui_BindPropertyPlugin_79_5_$1.reverseTransformer=function(value){if(!config.writeCalendar)return value;var date=AS3.as(value,Date);if(date)return new com.coremedia.ui.data.Calendar({year:date.getFullYear(),month:date.getMonth(),day:date.getDate(),hour:0,minute:0,second:0,offset:-date.getTimezoneOffset()*(60*1E3),timeZone:AS3.as(com.coremedia.cap.common.SESSION.getConnection().getContentRepository(),com.coremedia.cap.content.impl.ContentRepositoryImpl).getDefaultTimeZone(),
normalized:false});return AS3.as(value,com.coremedia.ui.data.Calendar)};config_$1.plugins=[editor_SetPropertyLabelPlugin_69_5_$1,editor_SetPropertyEmptyTextPlugin_71_5_$1,editor_BindDisablePlugin_73_5_$1,editor_PropertyFieldPlugin_75_5_$1,editor_ShowIssuesPlugin_76_5_$1,ui_BindPropertyPlugin_79_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$y2S4(config_$1)}return{extend:"com.coremedia.ui.components.StatefulDateField",metadata:{disableStrictConsistency:["Config"]},alias:"widget.com.coremedia.cms.editor.sdk.config.datePropertyField",
constructor:DatePropertyField$,super$y2S4:function(){com.coremedia.ui.components.StatefulDateField.prototype.constructor.apply(this,arguments)},writeCalendar:false,disableStrictConsistency:false,config:{bindTo:null,forceReadOnlyValueExpression:null,propertyName:null,hideIssues:false},requires:["com.coremedia.cap.common.SESSION","com.coremedia.cap.content.impl.ContentRepositoryImpl","com.coremedia.cms.editor.Editor_properties","com.coremedia.ui.components.StatefulDateField","com.coremedia.ui.data.Calendar",
"com.coremedia.ui.plugins.BindPropertyPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyEmptyTextPlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin","com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.BooleanPropertyField",function(BooleanPropertyField){function BooleanPropertyField$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.ui.components.StatefulCheckbox,{});var defaults_$1=AS3.cast(BooleanPropertyField,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var editor_BindDisablePlugin_63_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin,{});AS3.setBindable(editor_BindDisablePlugin_63_5_$1,
"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));editor_BindDisablePlugin_63_5_$1.bindTo=AS3.getBindable(config,"bindTo");var editor_SetPropertyValueLabelPlugin_65_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyValueLabelPlugin,{});editor_SetPropertyValueLabelPlugin_65_5_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(editor_SetPropertyValueLabelPlugin_65_5_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,
"propertyName")));AS3.setBindable(editor_SetPropertyValueLabelPlugin_65_5_$1,"propertyValue","true");AS3.setBindable(editor_SetPropertyValueLabelPlugin_65_5_$1,"labelProperty","boxLabel");var ui_BindPropertyPlugin_69_5_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_69_5_$1.bindTo=AS3.getBindable(config,"bindTo").extendBy("properties",AS3.getBindable(config,"propertyName"));ui_BindPropertyPlugin_69_5_$1.disableStrictConsistency=config.disableStrictConsistency;ui_BindPropertyPlugin_69_5_$1.bidirectional=
true;ui_BindPropertyPlugin_69_5_$1.ifUndefined=false;ui_BindPropertyPlugin_69_5_$1.transformer=function(value){return!!value};ui_BindPropertyPlugin_69_5_$1.reverseTransformer=function(checked){return AS3.getBindable(config,"dontTransformToInteger")?checked:checked?1:0};var editor_ShowIssuesPlugin_75_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin,{});editor_ShowIssuesPlugin_75_5_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(editor_ShowIssuesPlugin_75_5_$1,"ifUndefined",
AS3.getBindable(config,"dontTransformToInteger")?false:0);AS3.setBindable(editor_ShowIssuesPlugin_75_5_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));AS3.setBindable(editor_ShowIssuesPlugin_75_5_$1,"hideIssues",AS3.getBindable(config,"hideIssues"));var editor_PropertyFieldPlugin_79_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin,{});AS3.setBindable(editor_PropertyFieldPlugin_79_5_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,
"propertyName")));config_$1.plugins=[editor_BindDisablePlugin_63_5_$1,editor_SetPropertyValueLabelPlugin_65_5_$1,ui_BindPropertyPlugin_69_5_$1,editor_ShowIssuesPlugin_75_5_$1,editor_PropertyFieldPlugin_79_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$IeNG(config_$1)}return{extend:"com.coremedia.ui.components.StatefulCheckbox",metadata:{"":["PublicApi"],disableStrictConsistency:["Config"]},alias:"widget.com.coremedia.cms.editor.sdk.config.booleanPropertyField",constructor:BooleanPropertyField$,
super$IeNG:function(){com.coremedia.ui.components.StatefulCheckbox.prototype.constructor.apply(this,arguments)},disableStrictConsistency:false,config:{bindTo:null,forceReadOnlyValueExpression:null,propertyName:null,dontTransformToInteger:false,hideIssues:false},statics:{BOOLEAN_PROPERTY_FIELD_CSS:"boolean-property-field"},requires:["com.coremedia.ui.components.StatefulCheckbox","com.coremedia.ui.plugins.BindPropertyPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin",
"com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyValueLabelPlugin","com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyFieldBase",function(LinkListPropertyFieldBase){function LinkListPropertyFieldBase$(config){if(arguments.length<=0)config=null;this.super$e7wh(config);this.initValidationStateMixin();AS3.setBindable(this,"bindTo",AS3.getBindable(config,"bindTo"));AS3.getBindable(this,"bindTo").addChangeListener(AS3.bind(this,"updateStoringContent$e7wh"));this.updateStoringContent$e7wh();this.forceReadOnlyValueExpression$e7wh=AS3.getBindable(config,
"forceReadOnlyValueExpression");if(this.forceReadOnlyValueExpression$e7wh){this.forceReadOnlyValueExpression$e7wh.addChangeListener(AS3.bind(this,"updateForceReadOnlyStatus$e7wh"));this.updateForceReadOnlyStatus$e7wh()}this.linkListWrapper$e7wh=AS3.getBindable(config,"linkListWrapper")}function getSelectedPositionsExpression(){return this.selectedPositionsExpression$e7wh||(this.selectedPositionsExpression$e7wh=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyField.SELECTED_POSITIONS_VARIABLE_NAME,
this))}function getSelectedValuesExpression(){return this.selectedValuesExpression$e7wh||(this.selectedValuesExpression$e7wh=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyField.SELECTED_ITEMS_VARIABLE_NAME,this))}function getUploadDisabledValueExpression(bindTo,uploadFolderValueExpression){var this$=this;if(!this.uploadDisabledExpression$e7wh)this.uploadDisabledExpression$e7wh=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var content=
bindTo.getValue();if(!content.isInProduction())return true;if(com.coremedia.cms.editor.sdk.util.AccessControlUtil.isReadOnly(content))return true;var folder=this$.getUploadFolderExpression(bindTo,uploadFolderValueExpression).getValue();if(!folder||com.coremedia.cms.editor.sdk.util.AccessControlUtil.isReadOnly(folder))return true;return false});return this.uploadDisabledExpression$e7wh}function getUploadFolderExpression(bindTo,uploadFolderValueExpression){switch(arguments.length){case 0:bindTo=null;
case 1:uploadFolderValueExpression=null}if(!this.internalUploadFolderValueExpression$e7wh)this.internalUploadFolderValueExpression$e7wh=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){if(uploadFolderValueExpression)return uploadFolderValueExpression.getValue();var content=bindTo.getValue();return content.getParent()});return this.internalUploadFolderValueExpression$e7wh}function onFileDragEnd(){this.setHighlighted(false)}function onFileDragOver(){this.setHighlighted(true)}
function linkListFileDropHandler(files,settings){var this$=this;if(AS3.getBindable(this,"fileDropHandler")){AS3.getBindable(this,"fileDropHandler").call(null,files,settings);return}if(!this.isValidUpload$e7wh(files,settings))return;com.coremedia.cms.editor.sdk.upload.UploadManager.upload(files,this.getUploadFolderExpression().getValue(),settings,true,function(result){var appendContent=[];for(var $1=0;$1<result.length;++$1){var uploadFile=result[$1];var newContent=AS3.as(uploadFile.getResultObject(),
com.coremedia.cap.content.Content);if(newContent)if(!AS3.getBindable(this$,"linkType")||newContent.getType().isSubtypeOf(AS3.getBindable(this$,"linkType")))appendContent.push(newContent)}if(this$.linkListWrapper$e7wh){if(this$.linkListWrapper$e7wh.acceptsLinks(appendContent))this$.linkListWrapper$e7wh.addLinks(appendContent)}else{var content=AS3.getBindable(this$,"bindTo").getValue();var ve=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.cap.content.ContentPropertyNames.PROPERTIES+
"."+AS3.getBindable(this$,"propertyName"),content);var existingLinks=ve.getValue();var linkListResult=existingLinks.concat(appendContent);ve.setValue(linkListResult)}this$.onFileDragEnd()})}function setHighlighted(highlighted){var grid=AS3.as(this.queryById(com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyField.GRID_ITEM_ID),com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyFieldGridPanel);AS3.setBindable(grid,"highlighted",highlighted)}function getSelectedItems(){return this.selectedItems$e7wh}
function setSelectedItems(value){var oldValue=this.selectedItems$e7wh;this.selectedItems$e7wh=value;com.coremedia.ui.data.util.PropertyChangeEventUtil.fireEvent(this,com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyField.SELECTED_ITEMS_VARIABLE_NAME,oldValue,value)}function getSelectedPositions(){return this.selectedPositions$e7wh}function setSelectedPositions(value){var oldValue=this.selectedPositions$e7wh;this.selectedPositions$e7wh=value;com.coremedia.ui.data.util.PropertyChangeEventUtil.fireEvent(this,
com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyField.SELECTED_POSITIONS_VARIABLE_NAME,oldValue,value)}function updateStoringContent(){var oldValue=this.currentlyBoundContent$e7wh;this.currentlyBoundContent$e7wh=AS3.as(AS3.getBindable(this,"bindTo").getValue(),com.coremedia.cap.content.Content);com.coremedia.ui.data.util.PropertyChangeEventUtil.fireEvent(this,com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyField.BOUND_CONTENT_VARIABLE_NAME,oldValue,this.currentlyBoundContent$e7wh)}
function getStoringContent(){return this.currentlyBoundContent$e7wh}function setStoringContent(content){}function isValidUpload(files,settings){for(var $1=0;$1<files.length;++$1){var file=files[$1];var mappedDocumentType=com.coremedia.cms.editor.sdk.upload.UploadManager.getMappedDocumentType(file,settings);if(!mappedDocumentType){com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showInfo(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","Blob_uploadError_title"),
mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","Blob_uploadError_empty_type_error"));return false}var targetContentType=com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getContentType(mappedDocumentType);var contentType=com.coremedia.cms.editor.sdk.util.LinkListUtil.getTargetContentType(AS3.getBindable(this,"bindTo"),AS3.getBindable(this,"propertyName"),AS3.getBindable(this,"linkType"));if(!targetContentType.isSubtypeOf(contentType)){var msgTemplate=
mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","Blob_uploadError_type_error");var sourceContentTypeName=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.getLabelForContentType(contentType);var targetContentTypeName=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.getLabelForContentType(targetContentType);var msg=Ext.String.format(msgTemplate,file.getMimeType(),targetContentTypeName,sourceContentTypeName);com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showInfo(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor",
"Blob_uploadError_title"),msg);return false}}return true}function updateForceReadOnlyStatus(){var oldValue=this.currentReadOnlyState$e7wh;this.currentReadOnlyState$e7wh=AS3.as(this.forceReadOnlyValueExpression$e7wh.getValue(),Boolean);com.coremedia.ui.data.util.PropertyChangeEventUtil.fireEvent(this,com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyField.FORCE_READ_ONLY_VARIABLE_NAME,oldValue,this.currentReadOnlyState$e7wh)}function getForceReadOnlyState(){return this.currentReadOnlyState$e7wh}
function setForceReadOnlyState(value){}function onDestroy(){com.coremedia.ui.components.AdvancedFieldContainer.prototype.onDestroy.call(this);AS3.getBindable(this,"bindTo").removeChangeListener(AS3.bind(this,"updateStoringContent$e7wh"));if(this.forceReadOnlyValueExpression$e7wh)this.forceReadOnlyValueExpression$e7wh.removeChangeListener(AS3.bind(this,"updateForceReadOnlyStatus$e7wh"))}return{extend:"com.coremedia.ui.components.AdvancedFieldContainer",mixins:["com.coremedia.ui.mixins.ValidationStateMixin"],
metadata:{"":["PublicApi"],getSelectedItems:["ProvideToExtChildren"],getSelectedPositions:["ProvideToExtChildren"],getStoringContent:["ProvideToExtChildren",["variable","linkListStoringContent"]],getForceReadOnlyState:["ProvideToExtChildren",["variable","linkListForceReadOnly"]]},selectedPositionsExpression$e7wh:null,selectedValuesExpression$e7wh:null,selectedPositions$e7wh:undefined,selectedItems$e7wh:undefined,uploadDisabledExpression$e7wh:null,internalUploadFolderValueExpression$e7wh:null,currentlyBoundContent$e7wh:null,
forceReadOnlyValueExpression$e7wh:null,currentReadOnlyState$e7wh:false,linkListWrapper$e7wh:null,constructor:LinkListPropertyFieldBase$,super$e7wh:function(){com.coremedia.ui.components.AdvancedFieldContainer.prototype.constructor.apply(this,arguments)},getSelectedPositionsExpression:getSelectedPositionsExpression,getSelectedValuesExpression:getSelectedValuesExpression,getUploadDisabledValueExpression:getUploadDisabledValueExpression,getUploadFolderExpression:getUploadFolderExpression,onFileDragEnd:onFileDragEnd,
onFileDragOver:onFileDragOver,linkListFileDropHandler:linkListFileDropHandler,setHighlighted:setHighlighted,getSelectedItems:getSelectedItems,setSelectedItems:setSelectedItems,getSelectedPositions:getSelectedPositions,setSelectedPositions:setSelectedPositions,updateStoringContent$e7wh:updateStoringContent,getStoringContent:getStoringContent,setStoringContent:setStoringContent,isValidUpload$e7wh:isValidUpload,updateForceReadOnlyStatus$e7wh:updateForceReadOnlyStatus,getForceReadOnlyState:getForceReadOnlyState,
setForceReadOnlyState:setForceReadOnlyState,onDestroy:onDestroy,config:{uploadFolderValueExpression:null,bindTo:null,linkType:null,rowWidgetsAnnotatedPredicates:null,fileDropHandler:null,propertyName:null},requires:["Ext.String","com.coremedia.cap.common.SESSION","com.coremedia.cap.content.Content","com.coremedia.cap.content.ContentPropertyNames","com.coremedia.ui.components.AdvancedFieldContainer","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.util.PropertyChangeEventUtil",
"com.coremedia.ui.mixins.ValidationStateMixin","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyField","com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyFieldGridPanel","com.coremedia.cms.editor.sdk.upload.UploadManager","com.coremedia.cms.editor.sdk.util.AccessControlUtil","com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil","com.coremedia.cms.editor.sdk.util.LinkListUtil","com.coremedia.cms.editor.sdk.util.MessageBoxUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.StringPropertyField",function(StringPropertyField){function StringPropertyField$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.ui.components.TextFieldContainer,{});var defaults_$1=AS3.cast(StringPropertyField,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.labelAlign="top";AS3.setBindable(config_$1,"propertyPath",net.jangaroo.ext.Exml.asString("properties."+AS3.getBindable(config,"propertyName")));
var editor_SetPropertyLabelPlugin_44_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin,{});editor_SetPropertyLabelPlugin_44_5_$1.bindTo=AS3.getBindable(config,"bindTo","DUMMY");editor_SetPropertyLabelPlugin_44_5_$1.propertyName=net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName"));var ui_NestedRulesPlugin_46_5_$1=AS3.cast(com.coremedia.ui.plugins.NestedRulesPlugin,{});var field_48_9_$1=AS3.cast(Ext.form.field.Base,{});var editor_SetPropertyEmptyTextPlugin_50_13_$1=
AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyEmptyTextPlugin,{});editor_SetPropertyEmptyTextPlugin_50_13_$1.bindTo=AS3.getBindable(config,"bindTo","DUMMY");AS3.setBindable(editor_SetPropertyEmptyTextPlugin_50_13_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));var editor_BindReadOnlyPlugin_52_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPlugin,{});AS3.setBindable(editor_BindReadOnlyPlugin_52_13_$1,
"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));editor_BindReadOnlyPlugin_52_13_$1.bindTo=AS3.getBindable(config,"bindTo","DUMMY");var editor_PropertyFieldPlugin_54_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin,{});AS3.setBindable(editor_PropertyFieldPlugin_54_13_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));var editor_ShowIssuesPlugin_55_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin,
{});editor_ShowIssuesPlugin_55_13_$1.bindTo=AS3.getBindable(config,"bindTo","DUMMY");AS3.setBindable(editor_ShowIssuesPlugin_55_13_$1,"ifUndefined","");AS3.setBindable(editor_ShowIssuesPlugin_55_13_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));AS3.setBindable(editor_ShowIssuesPlugin_55_13_$1,"hideIssues",AS3.getBindable(config,"hideIssues"));field_48_9_$1.plugins=[editor_SetPropertyEmptyTextPlugin_50_13_$1,editor_BindReadOnlyPlugin_52_13_$1,editor_PropertyFieldPlugin_54_13_$1,
editor_ShowIssuesPlugin_55_13_$1];ui_NestedRulesPlugin_46_5_$1.rules=[field_48_9_$1];config_$1.plugins=[editor_SetPropertyLabelPlugin_44_5_$1,ui_NestedRulesPlugin_46_5_$1];config_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$8MX1(config_$1)}return{extend:"com.coremedia.ui.components.TextFieldContainer",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.stringPropertyField",constructor:StringPropertyField$,super$8MX1:function(){com.coremedia.ui.components.TextFieldContainer.prototype.constructor.apply(this,
arguments)},config:{forceReadOnlyValueExpression:null,propertyName:null,hideIssues:false},requires:["Ext.form.field.Base","com.coremedia.ui.components.TextFieldContainer","com.coremedia.ui.plugins.NestedRulesPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyEmptyTextPlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin",
"com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.LinkListDropAreaWithSuggestionsBase",function(LinkListDropAreaWithSuggestionsBase){function LINK_LIST_DROP_AREA_BLOCK$static_(){LinkListDropAreaWithSuggestionsBase.LINK_LIST_DROP_AREA_BLOCK=new com.coremedia.ui.models.bem.BEMBlock("cm-link-list-drop-area--with-suggestions")}function LINK_LIST_DROP_AREA_BOUNDLIST_EMPTY_ELEMENT$static_(){LinkListDropAreaWithSuggestionsBase.LINK_LIST_DROP_AREA_BOUNDLIST_EMPTY_ELEMENT=LinkListDropAreaWithSuggestionsBase.LINK_LIST_DROP_AREA_BLOCK.createElement("empty")}
function BUTTON_ELEMENT$static_(){LinkListDropAreaWithSuggestionsBase.BUTTON_ELEMENT=LinkListDropAreaWithSuggestionsBase.LINK_LIST_DROP_AREA_BLOCK.createElement("button")}var LINK_LIST_DROP_AREA_BOUNDLIST_EMPTY_TEXT$static;function LINK_LIST_DROP_AREA_BOUNDLIST_EMPTY_TEXT$static_(){LINK_LIST_DROP_AREA_BOUNDLIST_EMPTY_TEXT$static=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","LinkListPropertyField_boundlist_empty_text")}function LinkListDropAreaWithSuggestionsBase$(config){if(arguments.length<=
0)config=null;this.super$9dBJ(config)}function afterRender(){com.coremedia.cms.editor.sdk.premular.fields.LinkListDropAreaBase.prototype.afterRender.call(this);this.setupInlineComboBox$9dBJ()}function attachHandler(){var inlineSearchLibraryButton=AS3.as(this.queryById(LinkListDropAreaWithSuggestionsBase.INLINE_SEARCH_LIBRARY_BUTTON_ID),Ext.button.Button);if(inlineSearchLibraryButton)inlineSearchLibraryButton.setHandler(AS3.bind(this,"invokeHandler"))}function invokeHandler(){if(!this.disabled){var box=
this.getInlineComboBox$9dBJ();var searchTerm=box&&box.getRawValue();AS3.getBindable(this,"handler")&&AS3.getBindable(this,"handler")(searchTerm)}}function getSuggestedLinksValueExpressions(){if(!this.suggestedLinksValueExpression$9dBJ)this.suggestedLinksValueExpression$9dBJ=com.coremedia.ui.data.ValueExpressionFactory.createFromValue([]);return this.suggestedLinksValueExpression$9dBJ}function focusSuggestionField(){this.getInlineComboBox$9dBJ().focus()}function triggerSuggestionSearch(c,e){var this$=
this;AS3.getBindable(this,"linkSuggester").suggestLinks(AS3.getBindable(this,"linkListWrapper"),c.getRawValue(),function(hits){if(!this$.getInlineComboBox$9dBJ().containsFocus)return;this$.getSuggestedLinksValueExpressions().setValue(hits);if(hits.length>this$._previousNumberOfHits$9dBJ){var pickerElement=this$.getInlineComboBoxBoundList$9dBJ().getEl();if(pickerElement){var _height=AS3.getBindable(this$,"suggestionsComboBoxPickerMaxHeight")||LinkListDropAreaWithSuggestionsBase.DEFAULT_SUGGESTIONS_COMBOBOX_PICKER_MAX_HEIGHT;
pickerElement.setHeight(_height+"px")}}this$._previousNumberOfHits$9dBJ=hits.length;this$.expandInlineComboBox$9dBJ()})}function expandInlineComboBox(){this.getInlineComboBox$9dBJ().expand()}function getInlineComboBox(){return AS3.as(this.queryById(LinkListDropAreaWithSuggestionsBase.INLINE_SEARCH_COMBOBOX_ID),Ext.form.field.ComboBox)}function getInlineComboBoxBoundList(){return AS3.as(this.getInlineComboBox$9dBJ().getPicker(),Ext.view.BoundList)}function setupInlineComboBox(){var box=this.getInlineComboBox$9dBJ();
if(box){AS3.setBindable(this.getInlineComboBoxBoundList$9dBJ(),"emptyText",'\x3cdiv class\x3d"'+LinkListDropAreaWithSuggestionsBase.LINK_LIST_DROP_AREA_BOUNDLIST_EMPTY_ELEMENT+'"\x3e'+LINK_LIST_DROP_AREA_BOUNDLIST_EMPTY_TEXT$static+"\x3c/div\x3e");this.mon(box,"focusenter",AS3.bind(this,"triggerSuggestionSearch"));this.mon(box.el,"click",AS3.bind(this,"triggerSuggestionSearchIfBoundlistIsClosed$9dBJ"));this.mon(box,"select",AS3.bind(this,"fillGridPanel$9dBJ"))}}function getDetailedLifecycleStatus(content){var status=
content.getLifecycleStatus();var editor="";if(status===com.coremedia.cap.content.LifecycleStatus.IN_PRODUCTION){if(content.isCheckedOutByOther()){status=com.coremedia.cms.editor.sdk.util.ContentLifecycleUtil.CHECKED_OUT_BY_OTHER_LIFECYCLE_STATUS;if(content.getEditor())editor=content.getEditor().getName()}if(content.isCheckedOutByCurrentSession())status=com.coremedia.cms.editor.sdk.util.ContentLifecycleUtil.CHECKED_OUT_LIFECYCLE_STATUS}return com.coremedia.cms.editor.sdk.util.ContentLifecycleUtil.localizeDetailedLifecycleStatus(status,
editor)}function getDetailedLifecycleStatusCls(content){var status=content.getLifecycleStatus();if(status===com.coremedia.cap.content.LifecycleStatus.IN_PRODUCTION){if(content.isCheckedOutByOther())status=com.coremedia.cms.editor.sdk.util.ContentLifecycleUtil.CHECKED_OUT_BY_OTHER_LIFECYCLE_STATUS;if(content.isCheckedOutByCurrentSession())status=com.coremedia.cms.editor.sdk.util.ContentLifecycleUtil.CHECKED_OUT_LIFECYCLE_STATUS}return com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.getIconStyleClassForStatus(status)}
function triggerSuggestionSearchIfBoundlistIsClosed(){if(this.getInlineComboBox$9dBJ().getRawValue()!=="")return;if(!this.getInlineComboBox$9dBJ().isExpanded)this.triggerSuggestionSearch(this.getInlineComboBox$9dBJ(),null)}function fillGridPanel(inlineComboBoxBoundList,record){if(record){var bean=record.getBean();var linksToAdd=[bean];if(AS3.getBindable(this,"linkListWrapper").acceptsLinks(linksToAdd))AS3.getBindable(this,"linkListWrapper").addLinks(linksToAdd);this.getInlineComboBox$9dBJ().selectText();
this.getInlineComboBox$9dBJ().setSelection(null)}}function makeFields$static(config){var result=[];if(AS3.getBindable(config,"defaultFields"))result=result.concat(AS3.getBindable(config,"defaultFields"));if(AS3.getBindable(config,"extraFields"))result=result.concat(AS3.getBindable(config,"extraFields"));return result}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.LinkListDropAreaBase",_previousNumberOfHits$9dBJ:0,suggestedLinksValueExpression$9dBJ:null,constructor:LinkListDropAreaWithSuggestionsBase$,
super$9dBJ:function(){com.coremedia.cms.editor.sdk.premular.fields.LinkListDropAreaBase.prototype.constructor.apply(this,arguments)},afterRender:afterRender,attachHandler:attachHandler,invokeHandler:invokeHandler,getSuggestedLinksValueExpressions:getSuggestedLinksValueExpressions,focusSuggestionField:focusSuggestionField,triggerSuggestionSearch:triggerSuggestionSearch,expandInlineComboBox$9dBJ:expandInlineComboBox,getInlineComboBox$9dBJ:getInlineComboBox,getInlineComboBoxBoundList$9dBJ:getInlineComboBoxBoundList,
setupInlineComboBox$9dBJ:setupInlineComboBox,getDetailedLifecycleStatus:getDetailedLifecycleStatus,getDetailedLifecycleStatusCls:getDetailedLifecycleStatusCls,triggerSuggestionSearchIfBoundlistIsClosed$9dBJ:triggerSuggestionSearchIfBoundlistIsClosed,fillGridPanel$9dBJ:fillGridPanel,config:{linkSuggester:null,suggestionsComboBoxPickerMaxHeight:NaN},statics:{SUGGESTING_DROP_AREA_CONTAINER_ID:"suggestingDropAreaContainer",INLINE_SEARCH_COMBOBOX_ID:"inlineSearchComboBox",INLINE_SEARCH_LIBRARY_BUTTON_ID:"inlineSearchLibraryButton",
LINK_LIST_DROP_AREA_BLOCK:undefined,LINK_LIST_DROP_AREA_BOUNDLIST_EMPTY_ELEMENT:undefined,BUTTON_ELEMENT:undefined,LINK_LIST_DROP_AREA_BOUNDLIST_EMPTY_TEXT:undefined,DEFAULT_SUGGESTIONS_COMBOBOX_PICKER_MAX_HEIGHT:111,makeFields:makeFields$static,__initStatics__:function(){LINK_LIST_DROP_AREA_BLOCK$static_();LINK_LIST_DROP_AREA_BOUNDLIST_EMPTY_ELEMENT$static_();BUTTON_ELEMENT$static_();LINK_LIST_DROP_AREA_BOUNDLIST_EMPTY_TEXT$static_()}},requires:["Ext.button.Button","Ext.form.field.ComboBox","Ext.view.BoundList",
"com.coremedia.cap.content.LifecycleStatus","com.coremedia.cms.editor.sdk.premular.fields.LinkListDropAreaBase","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.models.bem.BEMBlock","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.util.ContentLifecycleUtil","com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.StringListPropertyFieldBase",function(StringListPropertyFieldBase){function StringListPropertyFieldBase$(config){if(arguments.length<=0)config=null;this.super$nukq(config)}function initComponent(){Ext.container.Container.prototype.initComponent.call(this);this.grid$nukq=AS3.as(this.queryById(StringListPropertyFieldBase.GRID_ITEM_ID),Ext.grid.Panel);this.grid$nukq.addListener("validateedit",AS3.bind(this,"deleteEmptyRow$nukq"));this.textField$nukq=
AS3.as(this.queryById(StringListPropertyFieldBase.TEXT_FIELD_ITEM_ID),Ext.form.field.Text);this.textField$nukq.addListener("specialkey",AS3.bind(this,"addToListOnEnter$nukq"));this.textField$nukq.addListener("blur",AS3.bind(this,"addToListOnBlur$nukq"));this.textField$nukq.addListener("focus",AS3.bind(this,"removeSelection$nukq"))}function getSelectedValuesVE(){if(!this.selectedValuesVE$nukq)this.selectedValuesVE$nukq=com.coremedia.ui.data.ValueExpressionFactory.createFromValue([]);return this.selectedValuesVE$nukq}
function getStringListVE(config){if(!this.stringListVE$nukq)this.stringListVE$nukq=AS3.getBindable(config,"bindTo").extendBy("properties",AS3.getBindable(config,"propertyName"));return this.stringListVE$nukq}function getModifierVE(config){var this$=this;if(!this.modifierVE$nukq)this.modifierVE$nukq=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var entries=this$.getStringListVE(config).getValue();if(entries===undefined||entries.length===0)return[com.coremedia.ui.bem.LinkListBEMEntities.MODIFIER_EMPTY];
return[]});return this.modifierVE$nukq}function stringListToObjectTransformer(values){var result=[];for(var i=0;i<values.length;i++)result.push(new com.coremedia.cms.editor.sdk.premular.fields.StringListPropertyFieldEntry(values[i],i,this.getStringListVE(this)));return result}function entriesEquals$static(entry1,entry2){return entry1.getIndex()===entry2.getIndex()}function addToListOnEnter(field,e){if(e.getKey()===Ext.event.Event.ENTER){e.stopEvent();this.doAddToList$nukq(field)}}function addToListOnBlur(field){this.doAddToList$nukq(field)}
function doAddToList(field){if(field.getValue()){var list=this.getStringListVE(this).getValue();if(!list)list=[];this.getStringListVE(this).setValue(list.concat(field.getValue()));field.setValue("")}}function removeSelection(){this.getSelectedValuesVE().setValue([])}function deleteEmptyRow(event){var value=event.value;if(!value){var record=event.record;var index=record.store.indexOf(record);var list=this.getStringListVE(this).getValue();if(list){list=list.concat();list.splice(index,1);this.getStringListVE(this).setValue(list)}return false}return true}
return{extend:"Ext.container.Container",metadata:{"":["PublicApi"]},stringListVE$nukq:null,selectedValuesVE$nukq:null,modifierVE$nukq:null,grid$nukq:null,textField$nukq:null,constructor:StringListPropertyFieldBase$,super$nukq:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},initComponent:initComponent,getSelectedValuesVE:getSelectedValuesVE,getStringListVE:getStringListVE,getModifierVE:getModifierVE,stringListToObjectTransformer:stringListToObjectTransformer,addToListOnEnter$nukq:addToListOnEnter,
addToListOnBlur$nukq:addToListOnBlur,doAddToList$nukq:doAddToList,removeSelection$nukq:removeSelection,deleteEmptyRow$nukq:deleteEmptyRow,config:{bindTo:null,propertyName:null},statics:{GRID_ITEM_ID:"grid",TEXT_FIELD_ITEM_ID:"textField",entriesEquals:entriesEquals$static},requires:["Ext.container.Container","Ext.event.Event","Ext.form.field.Text","Ext.grid.Panel","com.coremedia.ui.bem.LinkListBEMEntities","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.sdk.premular.fields.StringListPropertyFieldEntry"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.DateTimePropertyField",function(DateTimePropertyField){function DateTimePropertyField$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.DateTimePropertyFieldBase,{});var defaults_$1=AS3.cast(DateTimePropertyField,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.fieldGroup=true;AS3.setBindable(config_$1,"defaultField",net.jangaroo.ext.Exml.asString(com.coremedia.ui.util.createComponentSelector().itemId(com.coremedia.cms.editor.sdk.premular.fields.DateTimePropertyFieldBase.DATE_ITEM_ID).build()));
config_$1.delegateLabelClickOnly=true;AS3.setBindable(config_$1,"isLoadedPropertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));var editor_PropertyFieldPlugin_88_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin,{});AS3.setBindable(editor_PropertyFieldPlugin_88_5_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));var editor_SetPropertyLabelPlugin_89_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin,
{});editor_SetPropertyLabelPlugin_89_5_$1.bindTo=AS3.getBindable(config,"bindTo");editor_SetPropertyLabelPlugin_89_5_$1.propertyName=net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName"));var ui_HorizontalSpacingPlugin_91_5_$1=AS3.cast(com.coremedia.ui.plugins.HorizontalSpacingPlugin,{});AS3.setBindable(ui_HorizontalSpacingPlugin_91_5_$1,"modifier",com.coremedia.ui.bem.SpacingBEMEntities.HORIZONTAL_SPACING_MODIFIER_200);config_$1.plugins=[editor_PropertyFieldPlugin_88_5_$1,editor_SetPropertyLabelPlugin_89_5_$1,
ui_HorizontalSpacingPlugin_91_5_$1];var ui_StatefulDateField_94_5_$1=AS3.cast(com.coremedia.ui.components.StatefulDateField,{});ui_StatefulDateField_94_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.fields.DateTimePropertyFieldBase.DATE_ITEM_ID);ui_StatefulDateField_94_5_$1.allowBlank=true;ui_StatefulDateField_94_5_$1.format=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.fields.DateTimePropertyFieldBase.getDateFormat());ui_StatefulDateField_94_5_$1.formatText=
"";ui_StatefulDateField_94_5_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","Date_property_field"));AS3.setBindable(ui_StatefulDateField_94_5_$1,"emptyText",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","DateTimePropertyField_emptyDate")));AS3.setBindable(ui_StatefulDateField_94_5_$1,"minWidth",100);ui_StatefulDateField_94_5_$1.checkChangeBuffer=100;var ui_BindPropertyPlugin_103_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,
{});ui_BindPropertyPlugin_103_9_$1.bidirectional=true;ui_BindPropertyPlugin_103_9_$1.componentEvent="blur";ui_BindPropertyPlugin_103_9_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.create("date",this.getModel(config));ui_BindPropertyPlugin_103_9_$1.disableStrictConsistency=config.disableStrictConsistency;var editor_ShowIssuesPlugin_107_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin,{});editor_ShowIssuesPlugin_107_9_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(editor_ShowIssuesPlugin_107_9_$1,
"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));AS3.setBindable(editor_ShowIssuesPlugin_107_9_$1,"hideIssues",AS3.getBindable(config,"hideIssues"));var editor_BindDisablePlugin_110_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin,{});AS3.setBindable(editor_BindDisablePlugin_110_9_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));editor_BindDisablePlugin_110_9_$1.bindTo=AS3.getBindable(config,
"bindTo");ui_StatefulDateField_94_5_$1.plugins=[ui_BindPropertyPlugin_103_9_$1,editor_ShowIssuesPlugin_107_9_$1,editor_BindDisablePlugin_110_9_$1];var displayField_114_5_$1=AS3.cast(Ext.form.field.Display,{});AS3.setBindable(displayField_114_5_$1,"value",this.resourceManager.getString("com.coremedia.cms.editor.Editor","DateTimePropertyField_timeSeparator"));var ui_ExtendedTimeField_116_5_$1=AS3.cast(com.coremedia.ui.components.ExtendedTimeField,{});ui_ExtendedTimeField_116_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.fields.DateTimePropertyFieldBase.TIME_ITEM_ID);
ui_ExtendedTimeField_116_5_$1.increment=15;AS3.setBindable(ui_ExtendedTimeField_116_5_$1,"width",85);ui_ExtendedTimeField_116_5_$1.allowBlank=true;ui_ExtendedTimeField_116_5_$1.format=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.fields.DateTimePropertyFieldBase.getTimeFormat());ui_ExtendedTimeField_116_5_$1.formatText="";ui_ExtendedTimeField_116_5_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","Time_property_field"));
AS3.setBindable(ui_ExtendedTimeField_116_5_$1,"emptyText",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","DateTimePropertyField_emptyTime")));ui_ExtendedTimeField_116_5_$1.validator=AS3.bind(this,"validateTime");ui_ExtendedTimeField_116_5_$1.checkChangeBuffer=100;var editor_ShowIssuesPlugin_127_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin,{});editor_ShowIssuesPlugin_127_9_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(editor_ShowIssuesPlugin_127_9_$1,
"hideIssues",AS3.getBindable(config,"hideIssues"));AS3.setBindable(editor_ShowIssuesPlugin_127_9_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));var ui_BindPropertyPlugin_130_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_130_9_$1.bidirectional=true;ui_BindPropertyPlugin_130_9_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.create("time",this.getModel(config));ui_BindPropertyPlugin_130_9_$1.disableStrictConsistency=
config.disableStrictConsistency;var editor_BindDisablePlugin_133_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin,{});AS3.setBindable(editor_BindDisablePlugin_133_9_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));editor_BindDisablePlugin_133_9_$1.bindTo=AS3.getBindable(config,"bindTo");ui_ExtendedTimeField_116_5_$1.plugins=[editor_ShowIssuesPlugin_127_9_$1,ui_BindPropertyPlugin_130_9_$1,editor_BindDisablePlugin_133_9_$1];
var ui_LocalComboBox_137_5_$1=AS3.cast(com.coremedia.ui.components.LocalComboBox,{});ui_LocalComboBox_137_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.fields.DateTimePropertyFieldBase.TIME_ZONE_ITEM_ID);AS3.setBindable(ui_LocalComboBox_137_5_$1,"width",110);AS3.setBindable(ui_LocalComboBox_137_5_$1,"encodeItems",true);AS3.setBindable(ui_LocalComboBox_137_5_$1,"disabled",AS3.getBindable(config,"timeZoneDisabled"));AS3.setBindable(ui_LocalComboBox_137_5_$1,"hidden",
AS3.getBindable(config,"timeZoneHidden"));AS3.setBindable(ui_LocalComboBox_137_5_$1,"store",com.coremedia.cms.editor.sdk.premular.fields.DateTimePropertyFieldBase.getTimeZoneIdsWithLocalizedNames());AS3.setBindable(ui_LocalComboBox_137_5_$1,"displayField","localizedName");ui_LocalComboBox_137_5_$1.valueField="id";ui_LocalComboBox_137_5_$1.forceSelection=false;AS3.setBindable(ui_LocalComboBox_137_5_$1,"emptyText",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"DateTimePropertyField_emptyTimeZone")));ui_LocalComboBox_137_5_$1.validator=AS3.bind(this,"validateTimeZone");ui_LocalComboBox_137_5_$1.checkChangeBuffer=100;var ui_BindPropertyPlugin_150_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_150_9_$1.bidirectional=true;ui_BindPropertyPlugin_150_9_$1.componentEvent="select";ui_BindPropertyPlugin_150_9_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.create("timeZone",this.getModel(config));ui_BindPropertyPlugin_150_9_$1.disableStrictConsistency=
config.disableStrictConsistency;var editor_ShowIssuesPlugin_154_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin,{});editor_ShowIssuesPlugin_154_9_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(editor_ShowIssuesPlugin_154_9_$1,"hideIssues",AS3.getBindable(config,"hideIssues"));AS3.setBindable(editor_ShowIssuesPlugin_154_9_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));var editor_BindDisablePlugin_157_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin,
{});AS3.setBindable(editor_BindDisablePlugin_157_9_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));editor_BindDisablePlugin_157_9_$1.bindTo=AS3.getBindable(config,"bindTo");ui_LocalComboBox_137_5_$1.plugins=[ui_BindPropertyPlugin_150_9_$1,editor_ShowIssuesPlugin_154_9_$1,editor_BindDisablePlugin_157_9_$1];var boundList_161_9_$1=AS3.cast(Ext.view.BoundList,{});AS3.setBindable(boundList_161_9_$1,"minWidth",com.coremedia.cms.editor.sdk.premular.fields.DateTimePropertyFieldBase.measureString());
ui_LocalComboBox_137_5_$1.listConfig=boundList_161_9_$1;var container_164_5_$1=AS3.cast(Ext.container.Container,{});var button_166_9_$1=AS3.cast(Ext.button.Button,{});button_166_9_$1.itemId="reset";button_166_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE.getSkin());AS3.setBindable(button_166_9_$1,"handler",AS3.bind(this,"resetAllModelValues"));AS3.setBindable(button_166_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"DateTimePropertyField_dateReset_text")));var editor_BindDisablePlugin_171_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin,{});AS3.setBindable(editor_BindDisablePlugin_171_13_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));editor_BindDisablePlugin_171_13_$1.bindTo=AS3.getBindable(config,"bindTo");button_166_9_$1.plugins=[editor_BindDisablePlugin_171_13_$1];container_164_5_$1.items=[button_166_9_$1];config_$1.items=[ui_StatefulDateField_94_5_$1,
displayField_114_5_$1,ui_ExtendedTimeField_116_5_$1,ui_LocalComboBox_137_5_$1,container_164_5_$1];var layout_HBox_179_5_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_179_5_$1,"align","middle");AS3.setBindable(config_$1,"layout",layout_HBox_179_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$f36t(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.DateTimePropertyFieldBase",metadata:{"":["PublicApi"],disableStrictConsistency:["Config"]},alias:"widget.com.coremedia.cms.editor.sdk.config.dateTimePropertyField",
constructor:DateTimePropertyField$,super$f36t:function(){com.coremedia.cms.editor.sdk.premular.fields.DateTimePropertyFieldBase.prototype.constructor.apply(this,arguments)},disableStrictConsistency:false,config:{bindTo:null,model:null,forceReadOnlyValueExpression:null,propertyName:null,timeZoneHidden:false,timeZoneDisabled:false,hideIssues:false},requires:["Ext.button.Button","Ext.container.Container","Ext.form.field.Display","Ext.layout.container.HBox","Ext.view.BoundList","com.coremedia.cms.editor.Editor_properties",
"com.coremedia.cms.editor.sdk.premular.fields.DateTimePropertyFieldBase","com.coremedia.ui.bem.SpacingBEMEntities","com.coremedia.ui.components.ExtendedTimeField","com.coremedia.ui.components.LocalComboBox","com.coremedia.ui.components.StatefulDateField","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.HorizontalSpacingPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.util.createComponentSelector","net.jangaroo.ext.Exml"],
uses:["com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin","com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.FormSpacerElement",function(FormSpacerElement){function FormSpacerElement$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.Component,{});var defaults_$1=AS3.cast(FormSpacerElement,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.autoEl={tag:"div",html:AS3.getBindable(config,"htmlValue")?AS3.getBindable(config,"htmlValue"):" ",cls:AS3.getBindable(config,"spacerClass")?AS3.getBindable(config,"spacerClass"):
"default-spacer-class"};net.jangaroo.ext.Exml.apply(config_$1,config);this.super$eOgv(config_$1)}return{extend:"Ext.Component",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.formSpacerElement",constructor:FormSpacerElement$,super$eOgv:function(){Ext.Component.prototype.constructor.apply(this,arguments)},config:{htmlValue:null,spacerClass:null},requires:["Ext.Component","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.InternalLinkButtonBase",function(InternalLinkButtonBase){function InternalLinkButtonBase$(config){if(arguments.length<=0)config=null;this.super$2xaD(config);this.effectiveReadOnlyExpression$2xaD=com.coremedia.cms.editor.sdk.util.PropertyEditorUtil.createReadOnlyValueExpression(AS3.getBindable(config,"bindTo"),AS3.getBindable(config,"forceReadOnlyValueExpression"));this.selectionChange$2xaD()}function onToggle(button,pressed){if(!pressed&&this.internalLinkWindow$2xaD)this.internalLinkWindow$2xaD.hide();
else this.openWindow$2xaD()}function getWindow(){if(!this.internalLinkWindow$2xaD){var windowParent=this.getRenderToContainer$2xaD();var internalLinkWindowConfig=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.InternalLinkWindow,{});internalLinkWindowConfig.renderTo=windowParent.el;com.coremedia.ui.context.ComponentContextManager.configOwnerCt(internalLinkWindowConfig,windowParent);this.internalLinkWindow$2xaD=new com.coremedia.cms.editor.sdk.premular.fields.InternalLinkWindow(internalLinkWindowConfig);
this.internalLinkWindow$2xaD.addListener("beforedestroy",AS3.bind(this,"windowDestroyed$2xaD"));this.internalLinkWindow$2xaD.addListener("hide",AS3.bind(this,"windowHide$2xaD"));this.richTextWindowGroup$2xaD.register(this.internalLinkWindow$2xaD);this.internalLinkWindow$2xaD.setCKEditor(this.ckEditor$2xaD)}return this.internalLinkWindow$2xaD}function getRenderToContainer(){return this.findParentByType(com.coremedia.cms.editor.sdk.premular.fields.RichTextPropertyField.xtype)}function windowHide(){this.toggle(false)}
function openWindow(){this.getWindow().showBy(this,"tl-bl?");this.toggle(true)}function windowDestroyed(){this.internalLinkWindow$2xaD=null}function setRichTextWindowGroup(grp){this.richTextWindowGroup$2xaD=grp}function setCKEditor(ckEditor){this.ckEditor$2xaD=ckEditor;if(this.ckEditor$2xaD){this.ckEditor$2xaD.on("selectionChange",AS3.bind(this,"selectionChange$2xaD"));this.getWindow().setCKEditor(ckEditor)}}function selectionChange(){var selection=this.ckEditor$2xaD&&this.ckEditor$2xaD.getSelection();
var ascendant=selection&&com.coremedia.ui.ckeditor.AnchorUtil.getSelectedAnchor(selection);this.setDisabled(this.effectiveReadOnlyExpression$2xaD.getValue()||com.coremedia.ui.ckeditor.AnchorUtil.isLinkWithUrlScheme(ascendant)||com.coremedia.ui.ckeditor.AnchorUtil.isLinkAnchorReference(ascendant))}function onDestroy(){Ext.destroy(this.internalLinkWindow$2xaD);com.coremedia.ui.components.IconButton.prototype.onDestroy.call(this)}return{extend:"com.coremedia.ui.components.IconButton",metadata:{setRichTextWindowGroup:["InjectFromExtParent"],
setCKEditor:["InjectFromExtParent"]},ckEditor$2xaD:undefined,richTextWindowGroup$2xaD:null,internalLinkWindow$2xaD:null,effectiveReadOnlyExpression$2xaD:null,constructor:InternalLinkButtonBase$,super$2xaD:function(){com.coremedia.ui.components.IconButton.prototype.constructor.apply(this,arguments)},onToggle:onToggle,getWindow:getWindow,getRenderToContainer$2xaD:getRenderToContainer,windowHide$2xaD:windowHide,openWindow$2xaD:openWindow,windowDestroyed$2xaD:windowDestroyed,setRichTextWindowGroup:setRichTextWindowGroup,
setCKEditor:setCKEditor,selectionChange$2xaD:selectionChange,onDestroy:onDestroy,requires:["Ext","com.coremedia.ui.ckeditor.AnchorUtil","com.coremedia.ui.components.IconButton","com.coremedia.ui.context.ComponentContextManager"],uses:["com.coremedia.cms.editor.sdk.premular.fields.InternalLinkWindow","com.coremedia.cms.editor.sdk.premular.fields.RichTextPropertyField","com.coremedia.cms.editor.sdk.util.PropertyEditorUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.RichTextPropertyFieldContextMenu",function(RichTextPropertyFieldContextMenu){function RichTextPropertyFieldContextMenu$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.menu.Menu,{});var defaults_$1=AS3.cast(RichTextPropertyFieldContextMenu,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.plain=true;var menuItem_35_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_35_5_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyFieldContextMenu.OPEN_IN_TAB_MENU_ITEM_ID);
var editor_OpenInTabAction_37_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenInTabAction,{});AS3.setBindable(editor_OpenInTabAction_37_9_$1,"contentValueExpression",AS3.getBindable(config,"internalLinkContentValueExpression"));menuItem_35_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.OpenInTabAction(editor_OpenInTabAction_37_9_$1);var menuItem_40_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_40_5_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyFieldContextMenu.OPEN_IN_BROWSER_TAB_MENU_ITEM_ID);
var editor_OpenInBrowserTabAction_42_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenInBrowserTabAction,{});AS3.setBindable(editor_OpenInBrowserTabAction_42_9_$1,"urlValueExpression",AS3.getBindable(config,"externalLinkUrlValueExpression"));menuItem_40_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.OpenInBrowserTabAction(editor_OpenInBrowserTabAction_42_9_$1);var menuSeparator_45_5_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_46_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_46_5_$1.itemId=
net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.fields.RichTextPropertyField.IMAGE_PROPERTIES_ITEM_ID);var ui_PropertiesAction_48_9_$1=AS3.cast(com.coremedia.ui.ckeditor.PropertiesAction,{});AS3.setBindable(ui_PropertiesAction_48_9_$1,"disabled",false);menuItem_46_5_$1.baseAction=new com.coremedia.ui.ckeditor.PropertiesAction(ui_PropertiesAction_48_9_$1);config_$1.items=[menuItem_35_5_$1,menuItem_40_5_$1,menuSeparator_45_5_$1,menuItem_46_5_$1];net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$3ZW5(config_$1)}return{extend:"Ext.menu.Menu",alias:"widget.com.coremedia.cms.editor.sdk.config.richTextPropertyFieldContextMenu",constructor:RichTextPropertyFieldContextMenu$,super$3ZW5:function(){Ext.menu.Menu.prototype.constructor.apply(this,arguments)},config:{internalLinkContentValueExpression:null,externalLinkUrlValueExpression:null},statics:{OPEN_IN_TAB_MENU_ITEM_ID:"openInTab",OPEN_IN_BROWSER_TAB_MENU_ITEM_ID:"openInBrowserTab"},requires:["Ext.menu.Item","Ext.menu.Menu",
"Ext.menu.Separator","com.coremedia.ui.ckeditor.PropertiesAction","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.actions.OpenInBrowserTabAction","com.coremedia.cms.editor.sdk.actions.OpenInTabAction","com.coremedia.cms.editor.sdk.premular.fields.RichTextPropertyField"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.LinkListDropAreaUtils",function(LinkListDropAreaUtils){var CONTENT_SUGGESTIONS_BOUND_LIST_CLASS$static="cm-link-list-drop-area-content-suggestions-boundlist";function getContentSuggestionsTemplate$static(){var xTemplate=new Ext.XTemplate(['\x3ctpl for\x3d"."\x3e','\x3cdiv class\x3d"'+CONTENT_SUGGESTIONS_BOUND_LIST_CLASS$static+" "+com.coremedia.ui.bem.IconWithTextBEMEntities.BLOCK+'"\x3e','\x3cdiv class\x3d"'+com.coremedia.ui.bem.IconWithTextBEMEntities.ELEMENT_ICON+
' {typeCls:htmlEncode}" data-qtip\x3d"{typeName}"\x3e',"\x3c/div\x3e",'\x3cdiv class\x3d"'+com.coremedia.ui.bem.IconWithTextBEMEntities.ELEMENT_TEXT+'" data-qtip\x3d"{name:htmlEncode}\x3cbr\x3e{siteName:htmlEncode} - {siteLocale:htmlEncode}"\x3e',"{name:htmlEncode}","\x3c/div\x3e",'\x3cdiv class\x3d"'+com.coremedia.ui.bem.IconWithTextBEMEntities.ELEMENT_ICON+' {lifecycleStatusCls:htmlEncode}" data-qtip\x3d"{lifecycleStatus}"\x3e',"\x3c/div\x3e","\x3c/div\x3e","\x3c/tpl\x3e"]);return xTemplate}function getProjectContentSuggestionsTemplate$static(){var xTemplate=
new Ext.XTemplate(['\x3ctpl for\x3d"."\x3e','\x3cdiv class\x3d"'+CONTENT_SUGGESTIONS_BOUND_LIST_CLASS$static+" "+com.coremedia.ui.bem.IconWithTextBEMEntities.BLOCK+'"\x3e','\x3cdiv class\x3d"'+com.coremedia.ui.bem.IconWithTextBEMEntities.ELEMENT_ICON+' {typeCls:htmlEncode}" data-qtip\x3d"{typeName}"\x3e',"\x3c/div\x3e",'\x3cdiv style\x3d"width: 34%;" class\x3d"'+com.coremedia.ui.bem.IconWithTextBEMEntities.ELEMENT_TEXT+'" data-qtip\x3d"{path:htmlEncode}"\x3e',"{name:htmlEncode}","\x3c/div\x3e",'\x3cdiv style\x3d"width: 33%;" class\x3d"'+
com.coremedia.ui.bem.IconWithTextBEMEntities.ELEMENT_TEXT+'"\x3e',"{siteName:htmlEncode}","\x3c/div\x3e",'\x3cdiv style\x3d"width: 33%;" class\x3d"'+com.coremedia.ui.bem.IconWithTextBEMEntities.ELEMENT_TEXT+'"\x3e',"{siteLocale:htmlEncode}","\x3c/div\x3e",'\x3cdiv class\x3d"'+com.coremedia.ui.bem.IconWithTextBEMEntities.ELEMENT_ICON+' {lifecycleStatusCls:htmlEncode}" data-qtip\x3d"{lifecycleStatus}"\x3e',"\x3c/div\x3e","\x3c/div\x3e","\x3c/tpl\x3e"]);return xTemplate}function LinkListDropAreaUtils$(){}
return{constructor:LinkListDropAreaUtils$,statics:{getContentSuggestionsTemplate:getContentSuggestionsTemplate$static,getProjectContentSuggestionsTemplate:getProjectContentSuggestionsTemplate$static},requires:["Ext.XTemplate","com.coremedia.ui.bem.IconWithTextBEMEntities"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.InternalLinkWindowBase",function(InternalLinkWindowBase){var DEFAULT_INTERNAL_LINK_TYPE$static="replace";var PREFERENCE_INTERNAL_LINK_TYPE$static="ckeditor.internalLinkDialog.targetType";var COMBO_WINDOW_OFFSET$static=122;function InternalLinkWindowBase$(config){if(arguments.length<=0)config=null;this.resetModel(true);this.super$iDxB(config)}function afterRender(){Ext.window.Window.prototype.afterRender.call(this);var s=Ext.String.format(this.resourceManager.getString("com.coremedia.ui.ckeditor.CKEditor",
"internalLinkMenuDragText"));var width=(new Ext.util.TextMetrics(this.getEl())).getWidth(s)+COMBO_WINDOW_OFFSET$static;this.setWidth(width)}function getModel(){if(!this.model$iDxB)this.model$iDxB=com.coremedia.ui.data.beanFactory.createLocalBean();return this.model$iDxB}function getLinkTypePreferenceValueExpression(){if(!this.linkTypePreferenceValueExpression$iDxB){var preferences=com.coremedia.cms.editor.sdk.editorContext.getPreferences();this.linkTypePreferenceValueExpression$iDxB=com.coremedia.ui.data.ValueExpressionFactory.create(PREFERENCE_INTERNAL_LINK_TYPE$static,
preferences)}return this.linkTypePreferenceValueExpression$iDxB}function setRichTextWindowGroup(grp){grp.register(this)}function onValueChange(){var this$=this;if(!this.isVisible(true))return;this.updateInProgress$iDxB++;try{var linkElement=this.getSelectedInternalLink$iDxB();if(linkElement!==null&&this.isValidLink$iDxB()){this.updateLinkElement$iDxB();this.setDirty$iDxB()}else if(linkElement===null&&!this.isValidLink$iDxB()&&this.getContent$iDxB()===null);else if(linkElement===null&&this.getContent$iDxB()!==
null){this.createNewLink$iDxB();this.setDirty$iDxB()}else if(linkElement!==null&&!this.isValidLink$iDxB()&&this.getContent$iDxB()!==null){this.updateLinkElement$iDxB();this.setDirty$iDxB()}else if(linkElement!==null&&!this.isValidLink$iDxB()){this.resetModel(false);this.setDirty$iDxB()}}finally{window.setTimeout(function(){this$.updateInProgress$iDxB--;this$.focus()},0)}this.save()}function onLinkTypeChange(pce){if(pce.oldValue!==pce.newValue)this.getLinkTypePreferenceValueExpression().setValue(pce.newValue)}
function getContentVE(){if(!this.contentVE$iDxB)this.contentVE$iDxB=com.coremedia.ui.data.ValueExpressionFactory.create("content",this.getModel());return this.contentVE$iDxB}function getContent(){var content=null;var contentArray=AS3.as(this.getContentVE().getValue(),Array);if(contentArray&&contentArray.length===1)content=contentArray[0];return content}function show(animateTarget,callback,scope){switch(arguments.length){case 0:animateTarget=null;case 1:callback=null;case 2:scope=null}this.resetModel(true);
var modelBean=this.getModel();modelBean.addValueChangeListener(AS3.bind(this,"onValueChange$iDxB"));modelBean.addPropertyChangeListener("type",AS3.bind(this,"onLinkTypeChange$iDxB"));var element=this.getSelectedInternalLink$iDxB();var selection=this.ckEditor$iDxB.getSelection();if(element){selection["selectElement"](element);var url=element.getAttribute("_xlink:href")||"http://";var content=com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getContent(url);var linkType=element.getAttribute("_xlink:show");
modelBean.set("href",url);modelBean.set("content",content?[content]:[]);modelBean.set("type",linkType)}this.onValueChange$iDxB();Ext.window.Window.prototype.show.call(this,animateTarget,callback,scope)}function onHide(animateTarget,callback,scope){switch(Math.max(arguments.length,1)){case 1:callback=null;case 2:scope=null}Ext.window.Window.prototype.onHide.call(this,animateTarget,callback,scope);this.model$iDxB.removeValueChangeListener(AS3.bind(this,"onValueChange$iDxB"));this.model$iDxB.removePropertyChangeListener("type",
AS3.bind(this,"onLinkTypeChange$iDxB"))}function getSelectedText(){var selection=this.ckEditor$iDxB.getSelection();if(selection===null)return null;var text=""+selection.getSelectedText();if(text.length>0)return text;return null}function executeWithoutFocus(operation){this.updateInProgress$iDxB++;try{this.ckEditor$iDxB.focusManager.lock();operation()}finally{this.ckEditor$iDxB.focusManager.unlock();this.updateInProgress$iDxB--}}function save(){if(this.dirty$iDxB){this.ckEditor$iDxB["fire"]("save");
this.dirty$iDxB=false}}function unlink(){this.getContentVE().setValue([])}function resetModel(force){if(arguments.length<=0)force=false;if(this.isVisible(true)||force){var modelBean=this.getModel();modelBean.set("href","");modelBean.set("content",[]);modelBean.set("type",this.getTargetType$iDxB())}}function createNewLink(){var this$=this;if(this.getContent$iDxB()!==null){var droppedContent=this.getContent$iDxB();var url=droppedContent.getUriPath();var modelBean=this.getModel();modelBean.removeValueChangeListener(AS3.bind(this,
"onValueChange$iDxB"));try{modelBean.set("href",url);modelBean.set("content",[droppedContent]);if(!modelBean.get("type"))modelBean.set("type",this.getTargetType$iDxB())}finally{modelBean.addValueChangeListener(AS3.bind(this,"onValueChange$iDxB"))}var attributes={"href":"#","_xlink:href":modelBean.get("href"),"_xlink:show":modelBean.get("type")};this.executeWithoutFocus$iDxB(function(){var selection=this$.getSelectedText$iDxB();if(selection!==null){var style=new CKEDITOR["style"]({element:"a",attributes:attributes});
style.type=CKEDITOR["STYLE_INLINE"];this$.ckEditor$iDxB.applyStyle(style)}else{var linkElement=this$.ckEditor$iDxB.document.createElement("a",{attributes:attributes});if(this$.ckEditor$iDxB.getSelection().getStartElement()["is"]("img")){var image=this$.ckEditor$iDxB.getSelection().getStartElement();linkElement.append(image)}else{var text=this$.ckEditor$iDxB.document.createText(droppedContent.getName());linkElement.append(text)}if(this$.ckEditor$iDxB.getSelection()===null&&Ext.isIE)this$.ckEditor$iDxB.focus();
var ranges=this$.ckEditor$iDxB.getSelection().getRanges();ranges[0].insertNode(linkElement);ranges[0].selectNodeContents(linkElement);this$.ckEditor$iDxB.getSelection().selectRanges(ranges)}})}}function getTargetType(){return this.getLinkTypePreferenceValueExpression().getValue()||DEFAULT_INTERNAL_LINK_TYPE$static}function isValidLink(){var modelBean=this.getModel();return modelBean.get("href")!==null&&AS3.as(modelBean.get("href"),String).length>0}function updateLinkElement(){var this$=this;var linkElement=
this.getSelectedInternalLink$iDxB();if(linkElement!==null)if(this.getContent$iDxB()!==null){var url=this.getContent$iDxB().getUriPath();linkElement.setAttribute("_xlink:href",url);linkElement.setAttribute("_xlink:show",this.getModel().get("type"))}else this.executeWithoutFocus$iDxB(function(){this$.ckEditor$iDxB.execCommand("unlink")})}function setDirty(){this.dirty$iDxB=true}function setCKEditor(ckEditor){this.ckEditor$iDxB=ckEditor;ckEditor.on("focus",AS3.bind(this,"maybeHide$iDxB"))}function maybeHide(){if(!this.updateInProgress$iDxB)this.hide()}
function getSelectedInternalLink(){var this$=this;if(Ext.isIE&&this.ckEditor$iDxB!==null&&this.ckEditor$iDxB.getSelection()===null){this.updateInProgress$iDxB++;this.ckEditor$iDxB.focus(true);com.coremedia.ui.util.EventUtil.invokeLater(function(){this$.updateInProgress$iDxB--})}try{var selection=this.ckEditor$iDxB.getSelection();var ascendant=com.coremedia.ui.ckeditor.AnchorUtil.getSelectedAnchor(selection);return com.coremedia.ui.ckeditor.AnchorUtil.isLinkWithoutUrlScheme(ascendant)?ascendant:null}catch(e){return null}}
function enabledTransformer(){var contentList=this.getModel().get("content");return!contentList||contentList.length===0}return{extend:"Ext.window.Window",metadata:{setRichTextWindowGroup:["InjectFromExtParent"]},ckEditor$iDxB:undefined,model$iDxB:null,dirty$iDxB:false,updateInProgress$iDxB:0,linkTypePreferenceValueExpression$iDxB:null,contentVE$iDxB:null,constructor:InternalLinkWindowBase$,super$iDxB:function(){Ext.window.Window.prototype.constructor.apply(this,arguments)},afterRender:afterRender,
getModel:getModel,getLinkTypePreferenceValueExpression:getLinkTypePreferenceValueExpression,setRichTextWindowGroup:setRichTextWindowGroup,onValueChange$iDxB:onValueChange,onLinkTypeChange$iDxB:onLinkTypeChange,getContentVE:getContentVE,getContent$iDxB:getContent,show:show,onHide:onHide,getSelectedText$iDxB:getSelectedText,executeWithoutFocus$iDxB:executeWithoutFocus,save:save,unlink:unlink,resetModel:resetModel,createNewLink$iDxB:createNewLink,getTargetType$iDxB:getTargetType,isValidLink$iDxB:isValidLink,
updateLinkElement$iDxB:updateLinkElement,setDirty$iDxB:setDirty,setCKEditor:setCKEditor,maybeHide$iDxB:maybeHide,getSelectedInternalLink$iDxB:getSelectedInternalLink,enabledTransformer:enabledTransformer,requires:["Ext","Ext.String","Ext.util.TextMetrics","Ext.window.Window","com.coremedia.cap.common.SESSION","com.coremedia.ui.ckeditor.AnchorUtil","com.coremedia.ui.ckeditor.CKEditor_properties","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.beanFactory","com.coremedia.ui.util.EventUtil"],
uses:["com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyFieldGridPanelBase",function(LinkListPropertyFieldGridPanelBase){function LinkListPropertyFieldGridPanelBase$(config){if(arguments.length<=0)config=null;this.super$IuEr(config)}function processOpenCollectionViewHandler(searchTerm){if(AS3.getBindable(this,"openCollectionViewHandler"))this.processAlternativeToOpenCollectionView$IuEr();else this.openCollectionView$IuEr(searchTerm)}function createLinkSuggester$static(config){if(AS3.getBindable(config,
"linkSuggester"))return AS3.getBindable(config,"linkSuggester");var suggesterCfg=AS3.cast(com.coremedia.cms.editor.sdk.util.SearchContentLinkSuggester,{});AS3.setBindable(suggesterCfg,"contentValueExpression",AS3.getBindable(config,"bindTo"));var cType=com.coremedia.cms.editor.sdk.util.LinkListUtil.getTargetContentType(AS3.getBindable(config,"bindTo"),AS3.getBindable(config,"propertyName"),AS3.getBindable(config,"linkType"));if(cType)AS3.setBindable(suggesterCfg,"linkTypeName",cType.getName());return new com.coremedia.cms.editor.sdk.util.SearchContentLinkSuggester(suggesterCfg)}
function processAlternativeToOpenCollectionView(){AS3.getBindable(this,"openCollectionViewHandler")(this.getContentType(),AS3.getBindable(this,"bindTo").getValue())}function openCollectionView(searchTerm){if(!this.disabled){var contentTypeName=this.getContentType().getName();var targetContent=AS3.getBindable(this,"bindTo").getValue();var targetSite=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getSiteFor(targetContent);var baseFolder=targetSite&&targetSite.getSiteRootFolder();var searchState=
new com.coremedia.cms.editor.sdk.collectionview.SearchState;searchState.contentType=contentTypeName;if(searchTerm){var prefixSearch=searchTerm.length>=3&&searchTerm.charAt(searchTerm.length-1)!==" ";searchState.searchText=prefixSearch?searchTerm+"*":searchTerm}searchState.folder=baseFolder;var view;if(com.coremedia.cms.editor.sdk.editorContext.getImageBlobProperty(contentTypeName))view=com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants.THUMBNAILS_VIEW;else view=com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants.LIST_VIEW;
com.coremedia.cms.editor.sdk.editorContext.getCollectionViewManager().openSearch(searchState,true,view)}}function getLinkListWrapper(config){if(!this.wrapper$IuEr)if(AS3.getBindable(config,"linkListWrapper"))this.wrapper$IuEr=AS3.getBindable(config,"linkListWrapper");else this.wrapper$IuEr=getContentLinkListWrapper$static(config);return this.wrapper$IuEr}function getContentType(config){if(arguments.length<=0)config=null;var bindTo=config?AS3.getBindable(config,"bindTo"):AS3.getBindable(this,"bindTo");
var propertyPath=config?AS3.getBindable(config,"propertyName"):AS3.getBindable(this,"propertyName");var typeName=config?AS3.getBindable(config,"linkType"):AS3.getBindable(this,"linkType");return com.coremedia.cms.editor.sdk.util.LinkListUtil.getTargetContentType(bindTo,propertyPath,typeName)}function getContentLinkListWrapper$static(config){var linkListWrapperCfg=AS3.cast(com.coremedia.cms.editor.sdk.util.ContentLinkListWrapper,{});AS3.setBindable(linkListWrapperCfg,"bindTo",AS3.getBindable(config,
"bindTo"));AS3.setBindable(linkListWrapperCfg,"propertyName",AS3.getBindable(config,"propertyName"));AS3.setBindable(linkListWrapperCfg,"linkTypeName",AS3.getBindable(config,"linkType"));AS3.setBindable(linkListWrapperCfg,"maxCardinality",AS3.getBindable(config,"maxCardinality"));AS3.setBindable(linkListWrapperCfg,"readOnlyVE",com.coremedia.cms.editor.sdk.util.PropertyEditorUtil.createReadOnlyValueExpression(AS3.getBindable(config,"bindTo"),AS3.getBindable(config,"forceReadOnlyValueExpression")));
return new com.coremedia.cms.editor.sdk.util.ContentLinkListWrapper(linkListWrapperCfg)}function getDropAreaText(config){var content=AS3.getBindable(config,"bindTo").getValue();if(content)return com.coremedia.cms.editor.sdk.util.PropertyEditorUtil.getLocalizedStringWithoutFallback(content.getType().getName(),AS3.getBindable(config,"propertyFieldName")||AS3.getBindable(config,"propertyName"),com.coremedia.cms.editor.sdk.util.PropertyEditorUtil.EMPTY_TEXT);return null}function getReadOnlyValueExpression(config){if(!this._readOnlyValueExpression$IuEr)this._readOnlyValueExpression$IuEr=
com.coremedia.cms.editor.sdk.util.PropertyEditorUtil.createReadOnlyValueExpression(AS3.getBindable(config,"bindTo"),AS3.getBindable(config,"forceReadOnlyValueExpression"));return this._readOnlyValueExpression$IuEr}function focus(selectText,delay,callback,scope){var this$=this;arguments=Array.prototype.slice.call(arguments);switch(Math.max(arguments.length,2)){case 2:callback=null;case 3:scope=null}var isFromPBE=delay===1;if(!this.prolongedHighlighting$IuEr&&isFromPBE){this.prolongedHighlighting$IuEr=
true;this.restoreHighlighted$IuEr=AS3.getBindable(this,"highlighted");AS3.setBindable(this,"highlighted",true);var observable=AS3.as(this,Ext.util.Observable);observable.addListener("highlightedChanged",AS3.bind(this,"changeRestoreHighlighted$IuEr"));var task=new Ext.util.DelayedTask(function(){observable.removeListener("highlightedChanged",AS3.bind(this$,"changeRestoreHighlighted$IuEr"));AS3.setBindable(this$,"highlighted",this$.restoreHighlighted$IuEr);this$.prolongedHighlighting$IuEr=false});task.delay(3E3)}return com.coremedia.cms.editor.sdk.premular.fields.LinkListGridPanel.prototype.focus.apply(this,
arguments)}function changeRestoreHighlighted(obs,newHighlighted,oldHighlighted){this.restoreHighlighted$IuEr=newHighlighted}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.LinkListGridPanel",wrapper$IuEr:null,_readOnlyValueExpression$IuEr:null,restoreHighlighted$IuEr:false,prolongedHighlighting$IuEr:false,constructor:LinkListPropertyFieldGridPanelBase$,super$IuEr:function(){com.coremedia.cms.editor.sdk.premular.fields.LinkListGridPanel.prototype.constructor.apply(this,arguments)},processOpenCollectionViewHandler:processOpenCollectionViewHandler,
processAlternativeToOpenCollectionView$IuEr:processAlternativeToOpenCollectionView,openCollectionView$IuEr:openCollectionView,getLinkListWrapper:getLinkListWrapper,getContentType:getContentType,getDropAreaText:getDropAreaText,getReadOnlyValueExpression:getReadOnlyValueExpression,focus:focus,changeRestoreHighlighted$IuEr:changeRestoreHighlighted,config:{bindTo:null,propertyName:null,propertyFieldName:null,linkType:null,maxCardinality:0,hideIssues:false,forceReadOnlyValueExpression:null,openCollectionViewHandler:null,
linkSuggester:null},statics:{createLinkSuggester:createLinkSuggester$static},requires:["Ext.util.DelayedTask","Ext.util.Observable","com.coremedia.cms.editor.sdk.premular.fields.LinkListGridPanel"],uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants","com.coremedia.cms.editor.sdk.collectionview.SearchState","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.util.ContentLinkListWrapper","com.coremedia.cms.editor.sdk.util.LinkListUtil","com.coremedia.cms.editor.sdk.util.PropertyEditorUtil",
"com.coremedia.cms.editor.sdk.util.SearchContentLinkSuggester"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.RichTextPropertyField",function(RichTextPropertyField){function FIND_TOOLBAR$static_(){RichTextPropertyField.FIND_TOOLBAR=com.coremedia.cms.editor.sdk.premular.fields.RichTextPropertyFieldBase.getRichTextAreaToolbar}function RichTextPropertyField$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.RichTextPropertyFieldBase,{});var defaults_$1=AS3.cast(RichTextPropertyField,{});AS3.setBindable(defaults_$1,
"embeddedImageMaxWidth",com.coremedia.cms.editor.sdk.components.CoreMediaRichTextArea.EMBEDDED_IMAGE_DEFAULT_WIDTH);AS3.setBindable(defaults_$1,"changeBuffer",1E3);config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var editor_SetPropertyLabelPlugin_354_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin,{});editor_SetPropertyLabelPlugin_354_5_$1.bindTo=config.bindTo;editor_SetPropertyLabelPlugin_354_5_$1.propertyName=net.jangaroo.ext.Exml.asString(config.propertyName);
var editor_ShowIssuesPlugin_356_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin,{});editor_ShowIssuesPlugin_356_5_$1.bindTo=config.bindTo;AS3.setBindable(editor_ShowIssuesPlugin_356_5_$1,"propertyName",net.jangaroo.ext.Exml.asString(config.propertyName));AS3.setBindable(editor_ShowIssuesPlugin_356_5_$1,"hideIssues",AS3.getBindable(config,"hideIssues"));var editor_BindReadOnlyPlugin_359_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPlugin,{});
editor_BindReadOnlyPlugin_359_5_$1.bindTo=config.bindTo;AS3.setBindable(editor_BindReadOnlyPlugin_359_5_$1,"forceReadOnlyValueExpression",config.forceReadOnlyValueExpression);config_$1.plugins=[editor_SetPropertyLabelPlugin_354_5_$1,editor_ShowIssuesPlugin_356_5_$1,editor_BindReadOnlyPlugin_359_5_$1];var panel_363_5_$1=AS3.cast(Ext.panel.Panel,{});panel_363_5_$1.manageHeight=false;panel_363_5_$1.defaultFocus=net.jangaroo.ext.Exml.asString(com.coremedia.ui.util.createComponentSelector().itemId(RichTextPropertyField.RICH_TEXT_AREA_ITEM_ID).build());
var editor_CoreMediaRichTextArea_366_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.components.CoreMediaRichTextArea,{});editor_CoreMediaRichTextArea_366_9_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.RICH_TEXT_AREA_ITEM_ID);AS3.setBindable(editor_CoreMediaRichTextArea_366_9_$1,"listeners",{"keydown":com.coremedia.cms.editor.sdk.premular.fields.RichTextPropertyFieldBase.handleKeys});AS3.setBindable(editor_CoreMediaRichTextArea_366_9_$1,"height",AS3.getBindable(config,"initialHeight"));
editor_CoreMediaRichTextArea_366_9_$1.ariaLabelledBy=AS3.bind(this,"getLabelId");AS3.setBindable(editor_CoreMediaRichTextArea_366_9_$1,"embeddedImageMaxWidth",AS3.getBindable(config,"embeddedImageMaxWidth"));editor_CoreMediaRichTextArea_366_9_$1.focusCls="x-form-focus";AS3.setBindable(editor_CoreMediaRichTextArea_366_9_$1,"changeBuffer",AS3.getBindable(config,"changeBuffer"));var editor_BindReadOnlyPlugin_374_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPlugin,{});
AS3.setBindable(editor_BindReadOnlyPlugin_374_13_$1,"forceReadOnlyValueExpression",config.forceReadOnlyValueExpression);editor_BindReadOnlyPlugin_374_13_$1.bindTo=config.bindTo;var ui_WriteBeforeFlushPlugin_376_13_$1=AS3.cast(com.coremedia.ui.plugins.WriteBeforeFlushPlugin,{});AS3.setBindable(ui_WriteBeforeFlushPlugin_376_13_$1,"valueExpression",config.bindTo);var editor_PropertyFieldPlugin_377_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin,{});AS3.setBindable(editor_PropertyFieldPlugin_377_13_$1,
"propertyName",net.jangaroo.ext.Exml.asString(config.propertyName));var ui_BindBlobPropertyPlugin_379_13_$1=AS3.cast(com.coremedia.ui.plugins.BindBlobPropertyPlugin,{});ui_BindBlobPropertyPlugin_379_13_$1.bindTo=this.getRichTextValueExpression();var ui_ContextMenuPlugin_380_13_$1=AS3.cast(com.coremedia.ui.plugins.ContextMenuPlugin,{});var editor_RichTextPropertyFieldContextMenu_382_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.RichTextPropertyFieldContextMenu,{});AS3.setBindable(editor_RichTextPropertyFieldContextMenu_382_17_$1,
"internalLinkContentValueExpression",this.getInternalLinkContentValueExpression());AS3.setBindable(editor_RichTextPropertyFieldContextMenu_382_17_$1,"externalLinkUrlValueExpression",this.getExternalLinkUrlValueExpression());AS3.setBindable(ui_ContextMenuPlugin_380_13_$1,"contextMenu",editor_RichTextPropertyFieldContextMenu_382_17_$1);var ui_ResizablePlugin_387_13_$1=AS3.cast(com.coremedia.ui.plugins.ResizablePlugin,{});AS3.setBindable(ui_ResizablePlugin_387_13_$1,"fitComponent",true);var ui_StatefulResizer_389_17_$1=
AS3.cast(com.coremedia.ui.components.StatefulResizer,{});ui_StatefulResizer_389_17_$1.minHeight=30;ui_StatefulResizer_389_17_$1.handles="s";ui_StatefulResizer_389_17_$1.pinned=true;ui_StatefulResizer_389_17_$1.dynamic=false;AS3.setBindable(ui_StatefulResizer_389_17_$1,"embed",false);AS3.setBindable(ui_StatefulResizer_389_17_$1,"horizontalResize",false);ui_ResizablePlugin_387_13_$1.resizableConfig=ui_StatefulResizer_389_17_$1;editor_CoreMediaRichTextArea_366_9_$1.plugins=[editor_BindReadOnlyPlugin_374_13_$1,
ui_WriteBeforeFlushPlugin_376_13_$1,editor_PropertyFieldPlugin_377_13_$1,ui_BindBlobPropertyPlugin_379_13_$1,ui_ContextMenuPlugin_380_13_$1,ui_ResizablePlugin_387_13_$1];editor_CoreMediaRichTextArea_366_9_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;panel_363_5_$1.items=[editor_CoreMediaRichTextArea_366_9_$1];var ui_FloatingToolbar_402_9_$1=AS3.cast(com.coremedia.ui.components.FloatingToolbar,{});ui_FloatingToolbar_402_9_$1.enableOverflow=true;ui_FloatingToolbar_402_9_$1.defaultButtonUI=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.TOOLBAR.getSkin());
var ui_RichTextActionToggleButton_405_13_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextActionToggleButton,{});ui_RichTextActionToggleButton_405_13_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.UNDO_BUTTON_ITEM_ID);AS3.setBindable(ui_RichTextActionToggleButton_405_13_$1,"commandName",net.jangaroo.ext.Exml.asString(com.coremedia.ui.ckeditor.RichTextAction.COMMAND_UNDO));var ui_RichTextActionToggleButton_406_13_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextActionToggleButton,{});ui_RichTextActionToggleButton_406_13_$1.itemId=
net.jangaroo.ext.Exml.asString(RichTextPropertyField.REDO_BUTTON_ITEM_ID);AS3.setBindable(ui_RichTextActionToggleButton_406_13_$1,"commandName",net.jangaroo.ext.Exml.asString(com.coremedia.ui.ckeditor.RichTextAction.COMMAND_REDO));var tbSeparator_407_13_$1=AS3.cast(Ext.toolbar.Separator,{});tbSeparator_407_13_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.RTE_SEP_FIRST_ITEM_ID);AS3.setBindable(tbSeparator_407_13_$1,"width","3px");var ui_MenuIconButton_409_13_$1=AS3.cast(com.coremedia.ui.components.MenuIconButton,
{});ui_MenuIconButton_409_13_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.PARAGRAPH_FORMAT_GROUP_ITEM_ID);AS3.setBindable(ui_MenuIconButton_409_13_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","paragraph_style")));AS3.setBindable(ui_MenuIconButton_409_13_$1,"tooltip",this.resourceManager.getString("com.coremedia.ui.ckeditor.CKEditor","format_group_tooltip"));AS3.setBindable(ui_MenuIconButton_409_13_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.ui.ckeditor.CKEditor",
"format_group_text")));var editor_BindDisablePlugin_414_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin,{});AS3.setBindable(editor_BindDisablePlugin_414_17_$1,"forceReadOnlyValueExpression",config.forceReadOnlyValueExpression);editor_BindDisablePlugin_414_17_$1.bindTo=config.bindTo;ui_MenuIconButton_409_13_$1.plugins=[editor_BindDisablePlugin_414_17_$1];var menu_418_17_$1=AS3.cast(Ext.menu.Menu,{});var ui_RichTextMenuCheckItem_421_21_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextMenuCheckItem,
{});ui_RichTextMenuCheckItem_421_21_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.PARAGRAPH_HEADING1_ITEM_ID);ui_RichTextMenuCheckItem_421_21_$1.group="p";var ui_RichTextAction_424_25_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextAction,{});AS3.setBindable(ui_RichTextAction_424_25_$1,"commandName",net.jangaroo.ext.Exml.asString(com.coremedia.ui.ckeditor.RichTextAction.COMMAND_PARAGRAPH_HEADING1));ui_RichTextMenuCheckItem_421_21_$1.baseAction=new com.coremedia.ui.ckeditor.RichTextAction(ui_RichTextAction_424_25_$1);
var ui_RichTextMenuCheckItem_427_21_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextMenuCheckItem,{});ui_RichTextMenuCheckItem_427_21_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.PARAGRAPH_HEADING2_ITEM_ID);ui_RichTextMenuCheckItem_427_21_$1.group="p";var ui_RichTextAction_430_25_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextAction,{});AS3.setBindable(ui_RichTextAction_430_25_$1,"commandName",net.jangaroo.ext.Exml.asString(com.coremedia.ui.ckeditor.RichTextAction.COMMAND_PARAGRAPH_HEADING2));
ui_RichTextMenuCheckItem_427_21_$1.baseAction=new com.coremedia.ui.ckeditor.RichTextAction(ui_RichTextAction_430_25_$1);var ui_RichTextMenuCheckItem_433_21_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextMenuCheckItem,{});ui_RichTextMenuCheckItem_433_21_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.PARAGRAPH_HEADING3_ITEM_ID);ui_RichTextMenuCheckItem_433_21_$1.group="p";var ui_RichTextAction_436_25_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextAction,{});AS3.setBindable(ui_RichTextAction_436_25_$1,
"commandName",net.jangaroo.ext.Exml.asString(com.coremedia.ui.ckeditor.RichTextAction.COMMAND_PARAGRAPH_HEADING3));ui_RichTextMenuCheckItem_433_21_$1.baseAction=new com.coremedia.ui.ckeditor.RichTextAction(ui_RichTextAction_436_25_$1);var menuSeparator_439_21_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_440_21_$1=AS3.cast(Ext.menu.Item,{});menuItem_440_21_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.PARAGRAPH_FORMAT_REMOVE_ITEM_ID);var ui_RichTextAction_442_25_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextAction,
{});AS3.setBindable(ui_RichTextAction_442_25_$1,"commandName",net.jangaroo.ext.Exml.asString(com.coremedia.ui.ckeditor.RichTextAction.COMMAND_PARAGRAPH_REMOVE));menuItem_440_21_$1.baseAction=new com.coremedia.ui.ckeditor.RichTextAction(ui_RichTextAction_442_25_$1);menu_418_17_$1.items=[ui_RichTextMenuCheckItem_421_21_$1,ui_RichTextMenuCheckItem_427_21_$1,ui_RichTextMenuCheckItem_433_21_$1,menuSeparator_439_21_$1,menuItem_440_21_$1];ui_MenuIconButton_409_13_$1.menu=menu_418_17_$1;var tbSeparator_449_13_$1=
AS3.cast(Ext.toolbar.Separator,{});tbSeparator_449_13_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.RTE_SEP_SECOND_ITEM_ID);var ui_RichTextActionToggleButton_450_13_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextActionToggleButton,{});ui_RichTextActionToggleButton_450_13_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.BOLD_BUTTON_ITEM_ID);AS3.setBindable(ui_RichTextActionToggleButton_450_13_$1,"commandName",net.jangaroo.ext.Exml.asString(com.coremedia.ui.ckeditor.RichTextAction.COMMAND_BOLD));
var ui_RichTextActionToggleButton_451_13_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextActionToggleButton,{});ui_RichTextActionToggleButton_451_13_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.ITALIC_BUTTON_ITEM_ID);AS3.setBindable(ui_RichTextActionToggleButton_451_13_$1,"commandName",net.jangaroo.ext.Exml.asString(com.coremedia.ui.ckeditor.RichTextAction.COMMAND_ITALIC));var ui_RichTextActionToggleButton_453_13_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextActionToggleButton,{});
ui_RichTextActionToggleButton_453_13_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.BLOCKQUOTE_BUTTON_ITEM_ID);AS3.setBindable(ui_RichTextActionToggleButton_453_13_$1,"commandName",net.jangaroo.ext.Exml.asString(com.coremedia.ui.ckeditor.RichTextAction.COMMAND_BLOCKQUOTE));var ui_IconButton_456_13_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_456_13_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.INLINE_FORMAT_GROUP_ITEM_ID);AS3.setBindable(ui_IconButton_456_13_$1,
"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","format_text_inline")));AS3.setBindable(ui_IconButton_456_13_$1,"tooltip",this.resourceManager.getString("com.coremedia.ui.ckeditor.CKEditor","inlineformat_group_tooltip"));AS3.setBindable(ui_IconButton_456_13_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.ui.ckeditor.CKEditor","inlineformat_group_text")));var editor_BindDisablePlugin_461_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin,
{});AS3.setBindable(editor_BindDisablePlugin_461_17_$1,"forceReadOnlyValueExpression",config.forceReadOnlyValueExpression);editor_BindDisablePlugin_461_17_$1.bindTo=config.bindTo;ui_IconButton_456_13_$1.plugins=[editor_BindDisablePlugin_461_17_$1];var menu_465_17_$1=AS3.cast(Ext.menu.Menu,{});var ui_RichTextMenuCheckItem_467_21_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextMenuCheckItem,{});ui_RichTextMenuCheckItem_467_21_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.INLINE_UNDERLINE_ITEM_ID);
var ui_RichTextAction_469_25_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextAction,{});AS3.setBindable(ui_RichTextAction_469_25_$1,"commandName",net.jangaroo.ext.Exml.asString(com.coremedia.ui.ckeditor.RichTextAction.COMMAND_UNDERLINE));ui_RichTextMenuCheckItem_467_21_$1.baseAction=new com.coremedia.ui.ckeditor.RichTextAction(ui_RichTextAction_469_25_$1);var ui_RichTextMenuCheckItem_472_21_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextMenuCheckItem,{});ui_RichTextMenuCheckItem_472_21_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.INLINE_STRIKETHROUGH_ITEM_ID);
var ui_RichTextAction_474_25_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextAction,{});AS3.setBindable(ui_RichTextAction_474_25_$1,"commandName",net.jangaroo.ext.Exml.asString(com.coremedia.ui.ckeditor.RichTextAction.COMMAND_STRIKE));ui_RichTextMenuCheckItem_472_21_$1.baseAction=new com.coremedia.ui.ckeditor.RichTextAction(ui_RichTextAction_474_25_$1);var ui_RichTextMenuCheckItem_477_21_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextMenuCheckItem,{});ui_RichTextMenuCheckItem_477_21_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.INLINE_SUPERSCRIPT_ITEM_ID);
var ui_RichTextAction_479_25_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextAction,{});AS3.setBindable(ui_RichTextAction_479_25_$1,"commandName",net.jangaroo.ext.Exml.asString(com.coremedia.ui.ckeditor.RichTextAction.COMMAND_SUPERSCRIPT));ui_RichTextMenuCheckItem_477_21_$1.baseAction=new com.coremedia.ui.ckeditor.RichTextAction(ui_RichTextAction_479_25_$1);var ui_RichTextMenuCheckItem_482_21_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextMenuCheckItem,{});ui_RichTextMenuCheckItem_482_21_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.INLINE_SUBSCRIPT_ITEM_ID);
var ui_RichTextAction_484_25_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextAction,{});AS3.setBindable(ui_RichTextAction_484_25_$1,"commandName",net.jangaroo.ext.Exml.asString(com.coremedia.ui.ckeditor.RichTextAction.COMMAND_SUBSCRIPT));ui_RichTextMenuCheckItem_482_21_$1.baseAction=new com.coremedia.ui.ckeditor.RichTextAction(ui_RichTextAction_484_25_$1);menu_465_17_$1.items=[ui_RichTextMenuCheckItem_467_21_$1,ui_RichTextMenuCheckItem_472_21_$1,ui_RichTextMenuCheckItem_477_21_$1,ui_RichTextMenuCheckItem_482_21_$1];
ui_IconButton_456_13_$1.menu=menu_465_17_$1;var tbSeparator_491_13_$1=AS3.cast(Ext.toolbar.Separator,{});tbSeparator_491_13_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.RTE_SEP_THIRD_ITEM_ID);var editor_InternalLinkButton_492_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.InternalLinkButton,{});editor_InternalLinkButton_492_13_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.INTERNAL_LINK_BUTTON_ITEM_ID);AS3.setBindable(editor_InternalLinkButton_492_13_$1,
"bindTo",config.bindTo);AS3.setBindable(editor_InternalLinkButton_492_13_$1,"forceReadOnlyValueExpression",config.forceReadOnlyValueExpression);var ui_IconButton_495_13_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_495_13_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.EXTERNAL_LINK_BUTTON_ITEM_ID);var editor_LinkAction_497_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.richtext.LinkAction,{});AS3.setBindable(editor_LinkAction_497_17_$1,"bindTo",
config.bindTo);AS3.setBindable(editor_LinkAction_497_17_$1,"forceReadOnlyValueExpression",config.forceReadOnlyValueExpression);AS3.setBindable(editor_LinkAction_497_17_$1,"externalLinkTargetTypeValueExpression",this.getExternalLinkTargetTypeValueExpression());ui_IconButton_495_13_$1.baseAction=new com.coremedia.cms.editor.sdk.premular.fields.richtext.LinkAction(editor_LinkAction_497_17_$1);var ui_RichTextActionToggleButton_502_13_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextActionToggleButton,{});
ui_RichTextActionToggleButton_502_13_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.REMOVE_LINK_BUTTON_ITEM_ID);AS3.setBindable(ui_RichTextActionToggleButton_502_13_$1,"commandName",net.jangaroo.ext.Exml.asString(com.coremedia.ui.ckeditor.RichTextAction.COMMAND_UNLINK));var ui_IconButton_504_13_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_504_13_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.SHOW_PICTURES_BUTTON_ITEM_ID);AS3.setBindable(ui_IconButton_504_13_$1,
"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.ui.ckeditor.CKEditor","cmimage_text")));AS3.setBindable(ui_IconButton_504_13_$1,"tooltip",this.resourceManager.getString("com.coremedia.ui.ckeditor.CKEditor","cmimage_tooltip"));AS3.setBindable(ui_IconButton_504_13_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","type_picture")));var editor_ShowCollectionViewInCurrentSiteAction_509_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ShowCollectionViewInCurrentSiteAction,
{});AS3.setBindable(editor_ShowCollectionViewInCurrentSiteAction_509_17_$1,"view",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants.THUMBNAILS_VIEW));AS3.setBindable(editor_ShowCollectionViewInCurrentSiteAction_509_17_$1,"contentType",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.editorContext.getDefaultRichTextImageDocumentType()));AS3.setBindable(editor_ShowCollectionViewInCurrentSiteAction_509_17_$1,"bindTo",config.bindTo);ui_IconButton_504_13_$1.baseAction=
new com.coremedia.cms.editor.sdk.actions.ShowCollectionViewInCurrentSiteAction(editor_ShowCollectionViewInCurrentSiteAction_509_17_$1);var editor_BindDisablePlugin_514_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin,{});AS3.setBindable(editor_BindDisablePlugin_514_17_$1,"forceReadOnlyValueExpression",config.forceReadOnlyValueExpression);editor_BindDisablePlugin_514_17_$1.bindTo=config.bindTo;ui_IconButton_504_13_$1.plugins=[editor_BindDisablePlugin_514_17_$1];
var tbSeparator_518_13_$1=AS3.cast(Ext.toolbar.Separator,{});tbSeparator_518_13_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.RTE_SEP_FOURTH_ITEM_ID);var ui_IconButton_519_13_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_519_13_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.TEXT_ALIGN_GROUP_ITEM_ID);AS3.setBindable(ui_IconButton_519_13_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons",
"text_alignment")));AS3.setBindable(ui_IconButton_519_13_$1,"tooltip",this.resourceManager.getString("com.coremedia.ui.ckeditor.CKEditor","alignment_group_tooltip"));AS3.setBindable(ui_IconButton_519_13_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.ui.ckeditor.CKEditor","alignment_group_text")));var editor_BindDisablePlugin_524_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin,{});AS3.setBindable(editor_BindDisablePlugin_524_17_$1,
"forceReadOnlyValueExpression",config.forceReadOnlyValueExpression);editor_BindDisablePlugin_524_17_$1.bindTo=config.bindTo;ui_IconButton_519_13_$1.plugins=[editor_BindDisablePlugin_524_17_$1];var menu_528_17_$1=AS3.cast(Ext.menu.Menu,{});var ui_RichTextMenuCheckItem_531_21_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextMenuCheckItem,{});ui_RichTextMenuCheckItem_531_21_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.TEXT_ALIGN_LEFT_ITEM_ID);ui_RichTextMenuCheckItem_531_21_$1.group="align";
var ui_RichTextAction_534_25_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextAction,{});AS3.setBindable(ui_RichTextAction_534_25_$1,"commandName",net.jangaroo.ext.Exml.asString(com.coremedia.ui.ckeditor.RichTextAction.COMMAND_ALIGN_LEFT));ui_RichTextMenuCheckItem_531_21_$1.baseAction=new com.coremedia.ui.ckeditor.RichTextAction(ui_RichTextAction_534_25_$1);var ui_RichTextMenuCheckItem_537_21_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextMenuCheckItem,{});ui_RichTextMenuCheckItem_537_21_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.TEXT_ALIGN_CENTER_ITEM_ID);
ui_RichTextMenuCheckItem_537_21_$1.group="align";var ui_RichTextAction_540_25_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextAction,{});AS3.setBindable(ui_RichTextAction_540_25_$1,"commandName",net.jangaroo.ext.Exml.asString(com.coremedia.ui.ckeditor.RichTextAction.COMMAND_ALIGN_CENTER));ui_RichTextMenuCheckItem_537_21_$1.baseAction=new com.coremedia.ui.ckeditor.RichTextAction(ui_RichTextAction_540_25_$1);var ui_RichTextMenuCheckItem_543_21_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextMenuCheckItem,
{});ui_RichTextMenuCheckItem_543_21_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.TEXT_ALIGN_RIGHT_ITEM_ID);ui_RichTextMenuCheckItem_543_21_$1.group="align";var ui_RichTextAction_546_25_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextAction,{});AS3.setBindable(ui_RichTextAction_546_25_$1,"commandName",net.jangaroo.ext.Exml.asString(com.coremedia.ui.ckeditor.RichTextAction.COMMAND_ALIGN_RIGHT));ui_RichTextMenuCheckItem_543_21_$1.baseAction=new com.coremedia.ui.ckeditor.RichTextAction(ui_RichTextAction_546_25_$1);
var ui_RichTextMenuCheckItem_549_21_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextMenuCheckItem,{});ui_RichTextMenuCheckItem_549_21_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.TEXT_ALIGN_JUSTIFIED_ITEM_ID);ui_RichTextMenuCheckItem_549_21_$1.group="align";var ui_RichTextAction_552_25_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextAction,{});AS3.setBindable(ui_RichTextAction_552_25_$1,"commandName",net.jangaroo.ext.Exml.asString(com.coremedia.ui.ckeditor.RichTextAction.COMMAND_ALIGN_JUSTIFIED));
ui_RichTextMenuCheckItem_549_21_$1.baseAction=new com.coremedia.ui.ckeditor.RichTextAction(ui_RichTextAction_552_25_$1);var menuSeparator_555_21_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_556_21_$1=AS3.cast(Ext.menu.Item,{});menuItem_556_21_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.TEXT_ALIGN_REMOVE_ITEM_ID);var ui_RichTextAction_558_25_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextAction,{});AS3.setBindable(ui_RichTextAction_558_25_$1,"commandName",net.jangaroo.ext.Exml.asString(com.coremedia.ui.ckeditor.RichTextAction.COMMAND_ALIGN_REMOVE));
menuItem_556_21_$1.baseAction=new com.coremedia.ui.ckeditor.RichTextAction(ui_RichTextAction_558_25_$1);menu_528_17_$1.items=[ui_RichTextMenuCheckItem_531_21_$1,ui_RichTextMenuCheckItem_537_21_$1,ui_RichTextMenuCheckItem_543_21_$1,ui_RichTextMenuCheckItem_549_21_$1,menuSeparator_555_21_$1,menuItem_556_21_$1];ui_IconButton_519_13_$1.menu=menu_528_17_$1;var tbSeparator_565_13_$1=AS3.cast(Ext.toolbar.Separator,{});tbSeparator_565_13_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.RTE_SEP_FIFTH_ITEM_ID);
var ui_IconButton_566_13_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_566_13_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.TABLE_GROUP_ITEM_ID);AS3.setBindable(ui_IconButton_566_13_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","table")));AS3.setBindable(ui_IconButton_566_13_$1,"tooltip",this.resourceManager.getString("com.coremedia.ui.ckeditor.CKEditor","cmtable_group_tooltip"));AS3.setBindable(ui_IconButton_566_13_$1,
"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.ui.ckeditor.CKEditor","cmtable_group_text")));var editor_BindDisablePlugin_571_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin,{});AS3.setBindable(editor_BindDisablePlugin_571_17_$1,"forceReadOnlyValueExpression",config.forceReadOnlyValueExpression);editor_BindDisablePlugin_571_17_$1.bindTo=config.bindTo;ui_IconButton_566_13_$1.plugins=[editor_BindDisablePlugin_571_17_$1];var menu_575_17_$1=
AS3.cast(Ext.menu.Menu,{});var menuItem_577_21_$1=AS3.cast(Ext.menu.Item,{});menuItem_577_21_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.TABLE_ADD_ITEM_ID);var ui_TableAction_579_25_$1=AS3.cast(com.coremedia.ui.ckeditor.TableAction,{});menuItem_577_21_$1.baseAction=new com.coremedia.ui.ckeditor.TableAction(ui_TableAction_579_25_$1);var menuSeparator_582_21_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_583_21_$1=AS3.cast(Ext.menu.Item,{});menuItem_583_21_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.TABLE_INSERT_ROW_ABOVE_ITEM_ID);
var ui_RichTextAction_585_25_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextAction,{});AS3.setBindable(ui_RichTextAction_585_25_$1,"commandName",net.jangaroo.ext.Exml.asString(com.coremedia.ui.ckeditor.RichTextAction.COMMAND_TABLE_ROW_INSERT_BEFORE));menuItem_583_21_$1.baseAction=new com.coremedia.ui.ckeditor.RichTextAction(ui_RichTextAction_585_25_$1);var menuItem_588_21_$1=AS3.cast(Ext.menu.Item,{});menuItem_588_21_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.TABLE_INSERT_ROW_BELOW_ITEM_ID);
var ui_RichTextAction_590_25_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextAction,{});AS3.setBindable(ui_RichTextAction_590_25_$1,"commandName",net.jangaroo.ext.Exml.asString(com.coremedia.ui.ckeditor.RichTextAction.COMMAND_TABLE_ROW_INSERT_AFTER));menuItem_588_21_$1.baseAction=new com.coremedia.ui.ckeditor.RichTextAction(ui_RichTextAction_590_25_$1);var menuItem_593_21_$1=AS3.cast(Ext.menu.Item,{});menuItem_593_21_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.TABLE_DELETE_ROWS_ITEM_ID);
var ui_RichTextAction_595_25_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextAction,{});AS3.setBindable(ui_RichTextAction_595_25_$1,"commandName",net.jangaroo.ext.Exml.asString(com.coremedia.ui.ckeditor.RichTextAction.COMMAND_TABLE_ROW_DELETE));menuItem_593_21_$1.baseAction=new com.coremedia.ui.ckeditor.RichTextAction(ui_RichTextAction_595_25_$1);var menuSeparator_598_21_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_599_21_$1=AS3.cast(Ext.menu.Item,{});menuItem_599_21_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.TABLE_INSERT_COLUMN_LEFT_ITEM_ID);
var ui_RichTextAction_601_25_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextAction,{});AS3.setBindable(ui_RichTextAction_601_25_$1,"commandName",net.jangaroo.ext.Exml.asString(com.coremedia.ui.ckeditor.RichTextAction.COMMAND_TABLE_COLUMN_INSERT_BEFORE));menuItem_599_21_$1.baseAction=new com.coremedia.ui.ckeditor.RichTextAction(ui_RichTextAction_601_25_$1);var menuItem_604_21_$1=AS3.cast(Ext.menu.Item,{});menuItem_604_21_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.TABLE_INSERT_COLUMN_RIGHT_ITEM_ID);
var ui_RichTextAction_606_25_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextAction,{});AS3.setBindable(ui_RichTextAction_606_25_$1,"commandName",net.jangaroo.ext.Exml.asString(com.coremedia.ui.ckeditor.RichTextAction.COMMAND_TABLE_COLUMN_INSERT_AFTER));menuItem_604_21_$1.baseAction=new com.coremedia.ui.ckeditor.RichTextAction(ui_RichTextAction_606_25_$1);var menuItem_609_21_$1=AS3.cast(Ext.menu.Item,{});menuItem_609_21_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.TABLE_DELETE_COLUMNS_ITEM_ID);
var ui_RichTextAction_611_25_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextAction,{});AS3.setBindable(ui_RichTextAction_611_25_$1,"commandName",net.jangaroo.ext.Exml.asString(com.coremedia.ui.ckeditor.RichTextAction.COMMAND_TABLE_COLUMN_DELETE));menuItem_609_21_$1.baseAction=new com.coremedia.ui.ckeditor.RichTextAction(ui_RichTextAction_611_25_$1);var menuSeparator_614_21_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_615_21_$1=AS3.cast(Ext.menu.Item,{});menuItem_615_21_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.TABLE_REMOVE_ITEM_ID);
var ui_RichTextAction_617_25_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextAction,{});AS3.setBindable(ui_RichTextAction_617_25_$1,"commandName",net.jangaroo.ext.Exml.asString(com.coremedia.ui.ckeditor.RichTextAction.COMMAND_TABLE_DELETE));menuItem_615_21_$1.baseAction=new com.coremedia.ui.ckeditor.RichTextAction(ui_RichTextAction_617_25_$1);menu_575_17_$1.items=[menuItem_577_21_$1,menuSeparator_582_21_$1,menuItem_583_21_$1,menuItem_588_21_$1,menuItem_593_21_$1,menuSeparator_598_21_$1,menuItem_599_21_$1,
menuItem_604_21_$1,menuItem_609_21_$1,menuSeparator_614_21_$1,menuItem_615_21_$1];ui_IconButton_566_13_$1.menu=menu_575_17_$1;var tbSeparator_624_13_$1=AS3.cast(Ext.toolbar.Separator,{});tbSeparator_624_13_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.RTE_SEP_SIXTH_ITEM_ID);var ui_IconButton_625_13_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_625_13_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.PASTE_TEXT_ITEM_ID);var ui_PasteTextAction_627_17_$1=
AS3.cast(com.coremedia.ui.ckeditor.PasteTextAction,{});ui_IconButton_625_13_$1.baseAction=new com.coremedia.ui.ckeditor.PasteTextAction(ui_PasteTextAction_627_17_$1);var ui_IconButton_630_13_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_630_13_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.PASTE_FROM_WORD_ITEM_ID);var ui_PasteFromWordAction_632_17_$1=AS3.cast(com.coremedia.ui.ckeditor.PasteFromWordAction,{});ui_IconButton_630_13_$1.baseAction=new com.coremedia.ui.ckeditor.PasteFromWordAction(ui_PasteFromWordAction_632_17_$1);
var ui_IconButton_635_13_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_635_13_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.PASTE_CONTENT_ITEM_ID);var editor_PasteContentAction_637_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.richtext.PasteContentAction,{});ui_IconButton_635_13_$1.baseAction=new com.coremedia.cms.editor.sdk.premular.fields.richtext.PasteContentAction(editor_PasteContentAction_637_17_$1);var tbSeparator_640_13_$1=AS3.cast(Ext.toolbar.Separator,
{});tbSeparator_640_13_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.RTE_SEP_SEVENTH_ITEM_ID);var ui_RichTextActionToggleButton_641_13_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextActionToggleButton,{});ui_RichTextActionToggleButton_641_13_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.NUMBERED_LIST_ITEM_ID);AS3.setBindable(ui_RichTextActionToggleButton_641_13_$1,"commandName",net.jangaroo.ext.Exml.asString(com.coremedia.ui.ckeditor.RichTextAction.COMMAND_NUMBERED_LIST));
var ui_RichTextActionToggleButton_643_13_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextActionToggleButton,{});ui_RichTextActionToggleButton_643_13_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.BULLETED_LIST_ITEM_ID);AS3.setBindable(ui_RichTextActionToggleButton_643_13_$1,"commandName",net.jangaroo.ext.Exml.asString(com.coremedia.ui.ckeditor.RichTextAction.COMMAND_BULLETED_LIST));var tbSeparator_645_13_$1=AS3.cast(Ext.toolbar.Separator,{});tbSeparator_645_13_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.RTE_SEP_EIGHTH_ITEM_ID);
var ui_RichTextActionToggleButton_646_13_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextActionToggleButton,{});ui_RichTextActionToggleButton_646_13_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.OUTDENT_ITEM_ID);AS3.setBindable(ui_RichTextActionToggleButton_646_13_$1,"commandName",net.jangaroo.ext.Exml.asString(com.coremedia.ui.ckeditor.RichTextAction.COMMAND_OUTDENT));var ui_RichTextActionToggleButton_647_13_$1=AS3.cast(com.coremedia.ui.ckeditor.RichTextActionToggleButton,{});ui_RichTextActionToggleButton_647_13_$1.itemId=
net.jangaroo.ext.Exml.asString(RichTextPropertyField.INDENT_ITEM_ID);AS3.setBindable(ui_RichTextActionToggleButton_647_13_$1,"commandName",net.jangaroo.ext.Exml.asString(com.coremedia.ui.ckeditor.RichTextAction.COMMAND_INDENT));var tbSeparator_648_13_$1=AS3.cast(Ext.toolbar.Separator,{});tbSeparator_648_13_$1.itemId=net.jangaroo.ext.Exml.asString(RichTextPropertyField.RTE_SEP_NINTH_ITEM_ID);var ui_IconButton_649_13_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_649_13_$1.itemId=
net.jangaroo.ext.Exml.asString(RichTextPropertyField.IMAGE_PROPERTIES_ITEM_ID);var ui_PropertiesAction_651_17_$1=AS3.cast(com.coremedia.ui.ckeditor.PropertiesAction,{});ui_IconButton_649_13_$1.baseAction=new com.coremedia.ui.ckeditor.PropertiesAction(ui_PropertiesAction_651_17_$1);ui_FloatingToolbar_402_9_$1.items=[ui_RichTextActionToggleButton_405_13_$1,ui_RichTextActionToggleButton_406_13_$1,tbSeparator_407_13_$1,ui_MenuIconButton_409_13_$1,tbSeparator_449_13_$1,ui_RichTextActionToggleButton_450_13_$1,
ui_RichTextActionToggleButton_451_13_$1,ui_RichTextActionToggleButton_453_13_$1,ui_IconButton_456_13_$1,tbSeparator_491_13_$1,editor_InternalLinkButton_492_13_$1,ui_IconButton_495_13_$1,ui_RichTextActionToggleButton_502_13_$1,ui_IconButton_504_13_$1,tbSeparator_518_13_$1,ui_IconButton_519_13_$1,tbSeparator_565_13_$1,ui_IconButton_566_13_$1,tbSeparator_624_13_$1,ui_IconButton_625_13_$1,ui_IconButton_630_13_$1,ui_IconButton_635_13_$1,tbSeparator_640_13_$1,ui_RichTextActionToggleButton_641_13_$1,ui_RichTextActionToggleButton_643_13_$1,
tbSeparator_645_13_$1,ui_RichTextActionToggleButton_646_13_$1,ui_RichTextActionToggleButton_647_13_$1,tbSeparator_648_13_$1,ui_IconButton_649_13_$1];panel_363_5_$1.tbar=ui_FloatingToolbar_402_9_$1;config_$1.items=[panel_363_5_$1];var layout_VBox_660_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_660_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_660_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$ccFf(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.RichTextPropertyFieldBase",
metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.richTextPropertyField",constructor:RichTextPropertyField$,super$ccFf:function(){com.coremedia.cms.editor.sdk.premular.fields.RichTextPropertyFieldBase.prototype.constructor.apply(this,arguments)},config:{embeddedImageMaxWidth:0,initialHeight:0,hideIssues:false,changeBuffer:0},statics:{UNDO_BUTTON_ITEM_ID:"undo",REDO_BUTTON_ITEM_ID:"redo",RICH_TEXT_AREA_ITEM_ID:"richTextArea",PARAGRAPH_FORMAT_GROUP_ITEM_ID:"paragraphFormatGroup",
PARAGRAPH_HEADING1_ITEM_ID:"paragraphFormatHeading1",PARAGRAPH_HEADING2_ITEM_ID:"paragraphFormatHeading2",PARAGRAPH_HEADING3_ITEM_ID:"paragraphFormatHeading3",PARAGRAPH_HEADING4_ITEM_ID:"paragraphFormatHeading4",PARAGRAPH_HEADING5_ITEM_ID:"paragraphFormatHeading5",PARAGRAPH_HEADING6_ITEM_ID:"paragraphFormatHeading6",PARAGRAPH_FORMAT_REMOVE_ITEM_ID:"paragraphFormatRemove",BOLD_BUTTON_ITEM_ID:"bold",ITALIC_BUTTON_ITEM_ID:"italic",BLOCKQUOTE_BUTTON_ITEM_ID:"blockquote",INLINE_FORMAT_GROUP_ITEM_ID:"inlineFormatGroup",
INLINE_UNDERLINE_ITEM_ID:"inlineFormatUnderline",INLINE_STRIKETHROUGH_ITEM_ID:"inlineFormatStrikeThrough",INLINE_SUPERSCRIPT_ITEM_ID:"inlineFormatSuperscript",INLINE_SUBSCRIPT_ITEM_ID:"inlineFormatSubscript",INTERNAL_LINK_BUTTON_ITEM_ID:"internalLinkButton",EXTERNAL_LINK_BUTTON_ITEM_ID:"externalLinkButton",REMOVE_LINK_BUTTON_ITEM_ID:"removeLinkButton",SHOW_PICTURES_BUTTON_ITEM_ID:"showPicturesButton",TEXT_ALIGN_GROUP_ITEM_ID:"textAlignGroup",TEXT_ALIGN_LEFT_ITEM_ID:"textAlignLeft",TEXT_ALIGN_CENTER_ITEM_ID:"textAlignCenter",
TEXT_ALIGN_RIGHT_ITEM_ID:"textAlignRight",TEXT_ALIGN_JUSTIFIED_ITEM_ID:"textAlignJustified",TEXT_ALIGN_REMOVE_ITEM_ID:"textAlignRemove",TABLE_GROUP_ITEM_ID:"tableGroup",TABLE_ADD_ITEM_ID:"tableAdd",TABLE_INSERT_ROW_ABOVE_ITEM_ID:"tableInsertRowAbove",TABLE_INSERT_ROW_BELOW_ITEM_ID:"tableInsertRowBelow",TABLE_DELETE_ROWS_ITEM_ID:"tableDeleteRows",TABLE_INSERT_COLUMN_LEFT_ITEM_ID:"tableInsertColumnLeft",TABLE_INSERT_COLUMN_RIGHT_ITEM_ID:"tableInsertColumnRight",TABLE_DELETE_COLUMNS_ITEM_ID:"tableDeleteColumns",
TABLE_REMOVE_ITEM_ID:"tableRemove",CELL_MERGE_ITEM_ID:"cellMerge",CELL_MERGE_RIGHT_ITEM_ID:"cellMergeRight",CELL_MERGE_DOWN_ITEM_ID:"cellMergeDown",CELL_VERTICAL_SPLIT_ITEM_ID:"cellVerticalSplit",CELL_HORIZONTAL_SPLIT_ITEM_ID:"cellHorizontalSplit",PASTE_TEXT_ITEM_ID:"pasteText",PASTE_FROM_WORD_ITEM_ID:"pasteFromWord",PASTE_CONTENT_ITEM_ID:"pasteContent",NUMBERED_LIST_ITEM_ID:"numberedList",BULLETED_LIST_ITEM_ID:"bulletedList",OUTDENT_ITEM_ID:"outdent",INDENT_ITEM_ID:"indent",IMAGE_PROPERTIES_ITEM_ID:"imageProperties",
RTE_SEP_FIRST_ITEM_ID:"sepFirst",RTE_SEP_SECOND_ITEM_ID:"sepSecond",RTE_SEP_THIRD_ITEM_ID:"sepThird",RTE_SEP_FOURTH_ITEM_ID:"sepFourth",RTE_SEP_FIFTH_ITEM_ID:"sepFifth",RTE_SEP_SIXTH_ITEM_ID:"sepSixth",RTE_SEP_SEVENTH_ITEM_ID:"sepSeventh",RTE_SEP_EIGHTH_ITEM_ID:"sepEighth",RTE_SEP_NINTH_ITEM_ID:"sepNinth",FIND_TOOLBAR:undefined,__initStatics__:function(){FIND_TOOLBAR$static_()}},requires:["Ext.layout.container.VBox","Ext.menu.Item","Ext.menu.Menu","Ext.menu.Separator","Ext.panel.Panel","Ext.toolbar.Separator",
"com.coremedia.cms.editor.sdk.premular.fields.RichTextPropertyFieldBase","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.ckeditor.CKEditor_properties","com.coremedia.ui.ckeditor.PasteFromWordAction","com.coremedia.ui.ckeditor.PasteTextAction","com.coremedia.ui.ckeditor.PropertiesAction","com.coremedia.ui.ckeditor.RichTextAction","com.coremedia.ui.ckeditor.RichTextActionToggleButton","com.coremedia.ui.ckeditor.RichTextMenuCheckItem","com.coremedia.ui.ckeditor.TableAction","com.coremedia.ui.components.FloatingToolbar",
"com.coremedia.ui.components.IconButton","com.coremedia.ui.components.MenuIconButton","com.coremedia.ui.components.StatefulResizer","com.coremedia.ui.plugins.BindBlobPropertyPlugin","com.coremedia.ui.plugins.ContextMenuPlugin","com.coremedia.ui.plugins.ResizablePlugin","com.coremedia.ui.plugins.WriteBeforeFlushPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.util.createComponentSelector","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.actions.ShowCollectionViewInCurrentSiteAction",
"com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants","com.coremedia.cms.editor.sdk.components.CoreMediaRichTextArea","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin","com.coremedia.cms.editor.sdk.premular.fields.InternalLinkButton","com.coremedia.cms.editor.sdk.premular.fields.RichTextPropertyFieldContextMenu","com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPlugin",
"com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin","com.coremedia.cms.editor.sdk.premular.fields.richtext.LinkAction","com.coremedia.cms.editor.sdk.premular.fields.richtext.PasteContentAction","com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.StringListPropertyField",function(StringListPropertyField){function __initialize__(config){this.selectedPositions$VEf3=com.coremedia.ui.data.ValueExpressionFactory.createFromValue([])}function StringListPropertyField$(config){if(arguments.length<=0)config=null;this.__initialize__$VEf3(config);var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.StringListPropertyFieldBase,{});var defaults_$1=AS3.cast(StringListPropertyField,{});
AS3.setBindable(defaults_$1,"textFieldEmptyText","Enter "+AS3.getBindable(config,"propertyName")+".");config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var editor_ShowIssuesPlugin_64_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin,{});editor_ShowIssuesPlugin_64_5_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(editor_ShowIssuesPlugin_64_5_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));AS3.setBindable(editor_ShowIssuesPlugin_64_5_$1,
"hideIssues",AS3.getBindable(config,"hideIssues"));var editor_PropertyFieldPlugin_67_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin,{});AS3.setBindable(editor_PropertyFieldPlugin_67_5_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));var editor_SetPropertyLabelPlugin_68_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin,{});editor_SetPropertyLabelPlugin_68_5_$1.bindTo=AS3.getBindable(config,"bindTo");
editor_SetPropertyLabelPlugin_68_5_$1.propertyName=net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName"));config_$1.plugins=[editor_ShowIssuesPlugin_64_5_$1,editor_PropertyFieldPlugin_67_5_$1,editor_SetPropertyLabelPlugin_68_5_$1];var gridPanel_72_5_$1=AS3.cast(Ext.grid.Panel,{});gridPanel_72_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.fields.StringListPropertyFieldBase.GRID_ITEM_ID);gridPanel_72_5_$1.enableColumnMove=false;AS3.setBindable(gridPanel_72_5_$1,
"hideHeaders",true);gridPanel_72_5_$1.anchor="100%";var ui_BEMPlugin_77_9_$1=AS3.cast(com.coremedia.ui.plugins.BEMPlugin,{});AS3.setBindable(ui_BEMPlugin_77_9_$1,"block",com.coremedia.ui.bem.LinkListBEMEntities.BLOCK);AS3.setBindable(ui_BEMPlugin_77_9_$1,"bodyElement",com.coremedia.ui.bem.LinkListBEMEntities.ELEMENT_LIST);AS3.setBindable(ui_BEMPlugin_77_9_$1,"modifier",this.getModifierVE(config));var ui_BindListPlugin_80_9_$1=AS3.cast(com.coremedia.ui.plugins.BindListPlugin,{});AS3.setBindable(ui_BindListPlugin_80_9_$1,
"bindTo",AS3.getBindable(config,"bindTo").extendBy("properties",AS3.getBindable(config,"propertyName")));AS3.setBindable(ui_BindListPlugin_80_9_$1,"transformer",AS3.bind(this,"stringListToObjectTransformer"));AS3.setBindable(ui_BindListPlugin_80_9_$1,"ifUndefined",[]);AS3.setBindable(ui_BindListPlugin_80_9_$1,"idProperty","value");var ui_DataField_85_13_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_85_13_$1.name="colName";ui_DataField_85_13_$1.mapping="value";ui_DataField_85_13_$1.encode=
false;AS3.setBindable(ui_BindListPlugin_80_9_$1,"fields",[ui_DataField_85_13_$1]);var ui_BindSelectionPlugin_90_9_$1=AS3.cast(com.coremedia.ui.plugins.BindSelectionPlugin,{});AS3.setBindable(ui_BindSelectionPlugin_90_9_$1,"selectedPositions",this.selectedPositions$VEf3);AS3.setBindable(ui_BindSelectionPlugin_90_9_$1,"selectedValues",this.getSelectedValuesVE());AS3.setBindable(ui_BindSelectionPlugin_90_9_$1,"equalsStrategy",com.coremedia.cms.editor.sdk.premular.fields.StringListPropertyFieldBase.entriesEquals);
gridPanel_72_5_$1.plugins=[ui_BEMPlugin_77_9_$1,ui_BindListPlugin_80_9_$1,ui_BindSelectionPlugin_90_9_$1];var toolbar_95_9_$1=AS3.cast(Ext.toolbar.Toolbar,{});toolbar_95_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.FIELD.getSkin());var ui_IconButton_97_13_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_97_13_$1.itemId=net.jangaroo.ext.Exml.asString(StringListPropertyField.DELETE_BUTTON_ITEM_ID);var editor_DeleteStringListEntryAction_99_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.DeleteStringListEntryAction,
{});AS3.setBindable(editor_DeleteStringListEntryAction_99_17_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.Premular.CONTENT_VARIABLE_NAME));AS3.setBindable(editor_DeleteStringListEntryAction_99_17_$1,"forceReadOnlyVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.DocumentTabPanel.FORCE_READ_ONLY_VARIABLE_NAME));editor_DeleteStringListEntryAction_99_17_$1.selectedPositions=this.selectedPositions$VEf3;editor_DeleteStringListEntryAction_99_17_$1.selectedValues=
this.getSelectedValuesVE();editor_DeleteStringListEntryAction_99_17_$1.stringListEntriesValueExpression=AS3.getBindable(config,"bindTo").extendBy("properties",AS3.getBindable(config,"propertyName"));ui_IconButton_97_13_$1.baseAction=new com.coremedia.cms.editor.sdk.premular.fields.DeleteStringListEntryAction(editor_DeleteStringListEntryAction_99_17_$1);var ui_IconButton_106_13_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_106_13_$1.itemId=net.jangaroo.ext.Exml.asString(StringListPropertyField.MOVE_UP_BUTTON_ITEM_ID);
var editor_MoveStringListEntryAction_108_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.MoveStringListEntryAction,{});AS3.setBindable(editor_MoveStringListEntryAction_108_17_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.Premular.CONTENT_VARIABLE_NAME));AS3.setBindable(editor_MoveStringListEntryAction_108_17_$1,"forceReadOnlyVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.DocumentTabPanel.FORCE_READ_ONLY_VARIABLE_NAME));
editor_MoveStringListEntryAction_108_17_$1.selectedPositions=this.selectedPositions$VEf3;editor_MoveStringListEntryAction_108_17_$1.selectedValues=this.getSelectedValuesVE();editor_MoveStringListEntryAction_108_17_$1.stringListEntriesValueExpression=AS3.getBindable(config,"bindTo").extendBy("properties",AS3.getBindable(config,"propertyName"));editor_MoveStringListEntryAction_108_17_$1.direction="Up";ui_IconButton_106_13_$1.baseAction=new com.coremedia.cms.editor.sdk.premular.fields.MoveStringListEntryAction(editor_MoveStringListEntryAction_108_17_$1);
var ui_IconButton_116_13_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_116_13_$1.itemId=net.jangaroo.ext.Exml.asString(StringListPropertyField.MOVE_DOWN_BUTTON_ITEM_ID);var editor_MoveStringListEntryAction_118_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.MoveStringListEntryAction,{});AS3.setBindable(editor_MoveStringListEntryAction_118_17_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.Premular.CONTENT_VARIABLE_NAME));
AS3.setBindable(editor_MoveStringListEntryAction_118_17_$1,"forceReadOnlyVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.DocumentTabPanel.FORCE_READ_ONLY_VARIABLE_NAME));editor_MoveStringListEntryAction_118_17_$1.selectedPositions=this.selectedPositions$VEf3;editor_MoveStringListEntryAction_118_17_$1.selectedValues=this.getSelectedValuesVE();editor_MoveStringListEntryAction_118_17_$1.stringListEntriesValueExpression=AS3.getBindable(config,"bindTo").extendBy("properties",
AS3.getBindable(config,"propertyName"));editor_MoveStringListEntryAction_118_17_$1.direction="Down";ui_IconButton_116_13_$1.baseAction=new com.coremedia.cms.editor.sdk.premular.fields.MoveStringListEntryAction(editor_MoveStringListEntryAction_118_17_$1);toolbar_95_9_$1.items=[ui_IconButton_97_13_$1,ui_IconButton_106_13_$1,ui_IconButton_116_13_$1];gridPanel_72_5_$1.tbar=toolbar_95_9_$1;var gridColumn_130_9_$1=AS3.cast(Ext.grid.column.Column,{});gridColumn_130_9_$1.stateId="colName";gridColumn_130_9_$1.dataIndex=
"colName";gridColumn_130_9_$1.flex=1;gridColumn_130_9_$1.renderer=com.coremedia.ui.util.EncodingUtil.encodeForHTML;var textField_135_13_$1=AS3.cast(Ext.form.field.Text,{});textField_135_13_$1.selectOnFocus=true;var editor_BindReadOnlyPlugin_137_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPlugin,{});AS3.setBindable(editor_BindReadOnlyPlugin_137_17_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));editor_BindReadOnlyPlugin_137_17_$1.bindTo=
AS3.getBindable(config,"bindTo");textField_135_13_$1.plugins=[editor_BindReadOnlyPlugin_137_17_$1];AS3.setBindable(gridColumn_130_9_$1,"editor",textField_135_13_$1);gridPanel_72_5_$1.columns=[gridColumn_130_9_$1];var selection_RowModel_145_9_$1=AS3.cast(Ext.selection.RowModel,{});selection_RowModel_145_9_$1.mode="MULTI";selection_RowModel_145_9_$1.enableKeyNav=false;gridPanel_72_5_$1.selModel=new Ext.selection.RowModel(selection_RowModel_145_9_$1);var ui_StatefulTableView_148_9_$1=AS3.cast(com.coremedia.ui.components.StatefulTableView,
{});ui_StatefulTableView_148_9_$1.deferEmptyText=false;ui_StatefulTableView_148_9_$1.stripeRows=false;var editor_BindReadOnlyPlugin_151_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPlugin,{});editor_BindReadOnlyPlugin_151_13_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(editor_BindReadOnlyPlugin_151_13_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));ui_StatefulTableView_148_9_$1.plugins=[editor_BindReadOnlyPlugin_151_13_$1];
gridPanel_72_5_$1.viewConfig=ui_StatefulTableView_148_9_$1;var container_157_9_$1=AS3.cast(Ext.container.Container,{});AS3.setBindable(container_157_9_$1,"dock","bottom");container_157_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.FRAME.getSkin());var ui_BEMMixin_160_13_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,{});AS3.setBindable(ui_BEMMixin_160_13_$1,"bemElement",com.coremedia.ui.bem.LinkListBEMEntities.ELEMENT_TAIL);delete ui_BEMMixin_160_13_$1["xtype"];delete ui_BEMMixin_160_13_$1["xclass"];
net.jangaroo.ext.Exml.apply(container_157_9_$1,ui_BEMMixin_160_13_$1);var layout_Fit_163_13_$1=AS3.cast(Ext.layout.container.Fit,{});AS3.setBindable(container_157_9_$1,"layout",layout_Fit_163_13_$1);var textField_166_13_$1=AS3.cast(Ext.form.field.Text,{});textField_166_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.fields.StringListPropertyFieldBase.TEXT_FIELD_ITEM_ID);AS3.setBindable(textField_166_13_$1,"emptyText",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,
"textFieldEmptyText")));textField_166_13_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.TextfieldSkin.EMBEDDED.getSkin());var editor_BindDisablePlugin_170_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin,{});AS3.setBindable(editor_BindDisablePlugin_170_17_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));editor_BindDisablePlugin_170_17_$1.bindTo=AS3.getBindable(config,"bindTo");textField_166_13_$1.plugins=[editor_BindDisablePlugin_170_17_$1];
container_157_9_$1.items=[textField_166_13_$1];gridPanel_72_5_$1.dockedItems=[container_157_9_$1];config_$1.items=[gridPanel_72_5_$1];var layout_Fit_180_5_$1=AS3.cast(Ext.layout.container.Fit,{});AS3.setBindable(config_$1,"layout",layout_Fit_180_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$VEf3(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.StringListPropertyFieldBase",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.stringListPropertyField",
selectedPositions$VEf3:null,__initialize__$VEf3:__initialize__,constructor:StringListPropertyField$,super$VEf3:function(){com.coremedia.cms.editor.sdk.premular.fields.StringListPropertyFieldBase.prototype.constructor.apply(this,arguments)},config:{forceReadOnlyValueExpression:null,textFieldEmptyText:null,hideIssues:false},statics:{DELETE_BUTTON_ITEM_ID:"delete",MOVE_UP_BUTTON_ITEM_ID:"moveUp",MOVE_DOWN_BUTTON_ITEM_ID:"moveDown"},requires:["Ext.container.Container","Ext.form.field.Text","Ext.grid.Panel",
"Ext.grid.column.Column","Ext.layout.container.Fit","Ext.selection.RowModel","Ext.toolbar.Toolbar","com.coremedia.cms.editor.sdk.premular.fields.StringListPropertyFieldBase","com.coremedia.ui.bem.LinkListBEMEntities","com.coremedia.ui.components.IconButton","com.coremedia.ui.components.StatefulTableView","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.BEMMixin","com.coremedia.ui.plugins.BEMPlugin","com.coremedia.ui.plugins.BindListPlugin","com.coremedia.ui.plugins.BindSelectionPlugin",
"com.coremedia.ui.skins.ContainerSkin","com.coremedia.ui.skins.TextfieldSkin","com.coremedia.ui.skins.ToolbarSkin","com.coremedia.ui.store.DataField","com.coremedia.ui.util.EncodingUtil","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.DocumentTabPanel","com.coremedia.cms.editor.sdk.premular.Premular","com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin","com.coremedia.cms.editor.sdk.premular.fields.DeleteStringListEntryAction","com.coremedia.cms.editor.sdk.premular.fields.MoveStringListEntryAction",
"com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin","com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.BlobPropertyFieldBase",function(BlobPropertyFieldBase){function BlobPropertyFieldBase$(config){if(arguments.length<=0)config=null;this.super$bJlc(config);this.initValidationStateMixin();this.blobIconCls$bJlc=AS3.getBindable(config,"blobIconCls")}function getIdFromMimeType(data){if(!data||data.getSize()===undefined)return BlobPropertyFieldBase.EMPTY_CONTAINER_ITEM_ID;var contentType=data.getContentType();if(AS3.getBindable(this,"showImageThumbnail")!==
false&&(contentType==="image/gif"||contentType==="image/jpeg"||contentType==="image/png"))return BlobPropertyFieldBase.IMAGE_CONTAINER_ITEM_ID;return BlobPropertyFieldBase.BLOB_CONTAINER_ITEM_ID}function focus(selectText,delay,callback,scope){var this$=this;arguments=Array.prototype.slice.call(arguments);switch(Math.max(arguments.length,2)){case 2:callback=null;case 3:scope=null}var isFromPBE=delay===1;if(!this.prolongedHighlighting$bJlc&&isFromPBE){this.prolongedHighlighting$bJlc=true;var highlightableContainer=
AS3.as(this.queryById(BlobPropertyFieldBase.IMAGE_CONTAINER_ITEM_ID),com.coremedia.ui.mixins.HighlightableMixin);this.restoreHighlighted$bJlc=AS3.getBindable(highlightableContainer,"highlighted","DUMMY");AS3.setBindable(highlightableContainer,"highlighted",true);var observable=AS3.as(this,Ext.util.Observable);observable.addListener("highlightedChanged",AS3.bind(this,"changeRestoreHighlighted$bJlc"));var task=new Ext.util.DelayedTask(function(){observable.removeListener("highlightedChanged",AS3.bind(this$,
"changeRestoreHighlighted$bJlc"));AS3.setBindable(highlightableContainer,"highlighted",this$.restoreHighlighted$bJlc);this$.prolongedHighlighting$bJlc=false});task.delay(3E3)}return Ext.form.FieldContainer.prototype.focus.apply(this,arguments)}function changeRestoreHighlighted(obs,newHighlighted,oldHighlighted){this.restoreHighlighted$bJlc=newHighlighted}function getBlobImage(uri,width,height){if(uri){var content=this.initialConfig.bindTo.getValue();var url=com.coremedia.cms.editor.sdk.editorContext.getThumbnailUri(content,
com.coremedia.cms.editor.sdk.util.ImageUtil.getCroppingOperation(width,height));if(url)return url}return uri}function getBlobImageTransformer(width,height){var this$=this;return function(uri){return this$.getBlobImage(uri,width,height)}}function updateIconClass(container,ve){AS3.setBindable(container,"iconCls",this.blobIconCls$bJlc||com.coremedia.cms.editor.sdk.util.PropertyEditorUtil.getBlobContentTypeIconClass(ve.getValue()))}return{extend:"Ext.form.FieldContainer",mixins:["com.coremedia.ui.mixins.ValidationStateMixin",
"com.coremedia.ui.mixins.HighlightableMixin"],metadata:{"":["PublicApi"]},blobIconCls$bJlc:null,restoreHighlighted$bJlc:false,prolongedHighlighting$bJlc:false,constructor:BlobPropertyFieldBase$,super$bJlc:function(){Ext.form.FieldContainer.prototype.constructor.apply(this,arguments)},getIdFromMimeType:getIdFromMimeType,focus:focus,changeRestoreHighlighted$bJlc:changeRestoreHighlighted,getBlobImage:getBlobImage,getBlobImageTransformer:getBlobImageTransformer,updateIconClass:updateIconClass,config:{showImageThumbnail:true},
statics:{EMPTY_CONTAINER_ITEM_ID:"empty",BLOB_CONTAINER_ITEM_ID:"blob",IMAGE_CONTAINER_ITEM_ID:"image",BLOB_DETAILS_ITEM_ID:"blobDetails"},requires:["Ext.form.FieldContainer","Ext.util.DelayedTask","Ext.util.Observable","com.coremedia.ui.mixins.HighlightableMixin","com.coremedia.ui.mixins.ValidationStateMixin"],uses:["com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.util.ImageUtil","com.coremedia.cms.editor.sdk.util.PropertyEditorUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.ComboBoxLinkPropertyField",function(ComboBoxLinkPropertyField){function __initialize__(config){this.linkValueExpression$UCbR=this.getLinkValueExpression(config);this.linkArrayValueExpression$UCbR=com.coremedia.ui.data.ValueExpressionFactory.convertToSingletonArray(this.linkValueExpression$UCbR);var firstField=Ext.create(Ext.data.field.Field,{name:ComboBoxLinkPropertyField.BEAN_FIELD_NAME,mapping:""});this.myFields$UCbR=[firstField].concat(AS3.getBindable(config,
"fields")||[])}function ComboBoxLinkPropertyField$(config){if(arguments.length<=0)config=null;this.__initialize__$UCbR(config);var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.ComboBoxLinkPropertyFieldBase,{});var defaults_$1=AS3.cast(ComboBoxLinkPropertyField,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"defaultField",net.jangaroo.ext.Exml.asString(com.coremedia.ui.util.createComponentSelector().itemId(ComboBoxLinkPropertyField.COMBO_BOX_ITEM_ID).build()));
var editor_SetPropertyLabelPlugin_165_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin,{});editor_SetPropertyLabelPlugin_165_5_$1.bindTo=AS3.getBindable(config,"bindTo");editor_SetPropertyLabelPlugin_165_5_$1.propertyName=net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName"));var editor_PropertyFieldPlugin_167_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin,{});AS3.setBindable(editor_PropertyFieldPlugin_167_5_$1,"propertyName",
net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));var ui_VerticalSpacingPlugin_168_5_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});config_$1.plugins=[editor_SetPropertyLabelPlugin_165_5_$1,editor_PropertyFieldPlugin_167_5_$1,ui_VerticalSpacingPlugin_168_5_$1];var ui_LocalComboBox_171_5_$1=AS3.cast(com.coremedia.ui.components.LocalComboBox,{});ui_LocalComboBox_171_5_$1.itemId=net.jangaroo.ext.Exml.asString(ComboBoxLinkPropertyField.COMBO_BOX_ITEM_ID);ui_LocalComboBox_171_5_$1.valueField=
net.jangaroo.ext.Exml.asString(ComboBoxLinkPropertyField.BEAN_FIELD_NAME);AS3.setBindable(ui_LocalComboBox_171_5_$1,"displayField",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"displayField")));AS3.setBindable(ui_LocalComboBox_171_5_$1,"emptyText",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"emptyText")));ui_LocalComboBox_171_5_$1.emptyCls=net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"emptyCls"));AS3.setBindable(ui_LocalComboBox_171_5_$1,"valueNotFoundText","");ui_LocalComboBox_171_5_$1.tpl=
AS3.getBindable(config,"comboBoxTemplate");var object_179_9_$1={};object_179_9_$1.itemCls=com.coremedia.ui.components.LocalComboBox.COMBO_BOX_TPL_ITEM_CLASS;ui_LocalComboBox_171_5_$1.listConfig=object_179_9_$1;var ui_AddQuickTipPlugin_182_9_$1=AS3.cast(com.coremedia.ui.plugins.AddQuickTipPlugin,{});AS3.setBindable(ui_AddQuickTipPlugin_182_9_$1,"text",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"qtip")));var ui_BindListPlugin_183_9_$1=AS3.cast(com.coremedia.ui.plugins.BindListPlugin,{});
AS3.setBindable(ui_BindListPlugin_183_9_$1,"bindTo",com.coremedia.ui.data.ValueExpressionFactory.createUnion(AS3.getBindable(config,"offeredContentsValueExpression"),this.linkArrayValueExpression$UCbR,false));AS3.setBindable(ui_BindListPlugin_183_9_$1,"fields",this.myFields$UCbR);AS3.setBindable(ui_BindListPlugin_183_9_$1,"sortField",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"sortField")));var editor_BindDisablePlugin_187_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin,
{});editor_BindDisablePlugin_187_9_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(editor_BindDisablePlugin_187_9_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));var ui_BindPropertyPlugin_189_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_189_9_$1.bindTo=this.linkValueExpression$UCbR;ui_BindPropertyPlugin_189_9_$1.disableStrictConsistency=config.disableStrictConsistency;ui_BindPropertyPlugin_189_9_$1.bidirectional=
true;ui_BindPropertyPlugin_189_9_$1.skipIfUndefined=true;ui_BindPropertyPlugin_189_9_$1.componentEvent="change";var editor_ShowIssuesPlugin_194_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin,{});editor_ShowIssuesPlugin_194_9_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(editor_ShowIssuesPlugin_194_9_$1,"ifUndefined",AS3.getBindable(config,"fallbackForNullValueExpression")?function(){return AS3.getBindable(config,"fallbackForNullValueExpression").getValue()}:undefined);
AS3.setBindable(editor_ShowIssuesPlugin_194_9_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));AS3.setBindable(editor_ShowIssuesPlugin_194_9_$1,"hideIssues",AS3.getBindable(config,"hideIssues"));ui_LocalComboBox_171_5_$1.plugins=[ui_AddQuickTipPlugin_182_9_$1,ui_BindListPlugin_183_9_$1,editor_BindDisablePlugin_187_9_$1,ui_BindPropertyPlugin_189_9_$1,editor_ShowIssuesPlugin_194_9_$1];ui_LocalComboBox_171_5_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var dataView_200_5_$1=
AS3.cast(Ext.view.View,{});dataView_200_5_$1.itemId=net.jangaroo.ext.Exml.asString(ComboBoxLinkPropertyField.SELECTION_ITEM_ID);dataView_200_5_$1.tpl=AS3.getBindable(config,"displayTemplate")||com.coremedia.cms.editor.sdk.premular.fields.ComboBoxLinkPropertyFieldBase.getDefaultDisplayTpl(AS3.getBindable(config,"displayField"));dataView_200_5_$1.itemSelector=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.fields.ComboBoxLinkPropertyFieldBase.LIST_ELEMENT_ITEM.getCSSSelector());
AS3.setBindable(dataView_200_5_$1,"emptyText",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"emptyText")));var ui_BindListPlugin_205_9_$1=AS3.cast(com.coremedia.ui.plugins.BindListPlugin,{});AS3.setBindable(ui_BindListPlugin_205_9_$1,"bindTo",this.linkArrayValueExpression$UCbR);AS3.setBindable(ui_BindListPlugin_205_9_$1,"fields",this.myFields$UCbR);dataView_200_5_$1.plugins=[ui_BindListPlugin_205_9_$1];config_$1.items=[ui_LocalComboBox_171_5_$1,dataView_200_5_$1];var layout_VBox_212_5_$1=
AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_212_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_212_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$UCbR(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.ComboBoxLinkPropertyFieldBase",metadata:{disableStrictConsistency:["Config"]},alias:"widget.com.coremedia.cms.editor.sdk.config.comboBoxLinkPropertyField",linkValueExpression$UCbR:null,linkArrayValueExpression$UCbR:null,
myFields$UCbR:null,__initialize__$UCbR:__initialize__,constructor:ComboBoxLinkPropertyField$,super$UCbR:function(){com.coremedia.cms.editor.sdk.premular.fields.ComboBoxLinkPropertyFieldBase.prototype.constructor.apply(this,arguments)},disableStrictConsistency:false,config:{bindTo:null,forceReadOnlyValueExpression:null,offeredContentsValueExpression:null,fallbackForNullValueExpression:null,propertyName:null,hideIssues:false,linkTypeName:null,emptyText:null,emptyCls:null,displayField:null,sortField:null,
fields:null,comboBoxTemplate:null,displayTemplate:null,qtip:null},statics:{BEAN_FIELD_NAME:"bean",COMBO_BOX_ITEM_ID:"combobox",SELECTION_ITEM_ID:"selection"},requires:["Ext","Ext.data.field.Field","Ext.layout.container.VBox","Ext.view.View","com.coremedia.cms.editor.sdk.premular.fields.ComboBoxLinkPropertyFieldBase","com.coremedia.ui.components.LocalComboBox","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.AddQuickTipPlugin","com.coremedia.ui.plugins.BindListPlugin","com.coremedia.ui.plugins.BindPropertyPlugin",
"com.coremedia.ui.plugins.VerticalSpacingPlugin","com.coremedia.ui.util.createComponentSelector","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin","com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.LinkListDropAreaBase",function(LinkListDropAreaBase){function LinkListDropAreaBase$(config){if(arguments.length<=0)config=null;if(AS3.getBindable(config,"readOnlyValueExpression")){var bindPropertyPlugin=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});bindPropertyPlugin.bindTo=AS3.getBindable(config,"readOnlyValueExpression");bindPropertyPlugin.componentProperty="disabled";config.plugins=config.plugins||[];config.plugins.push(bindPropertyPlugin)}this.super$ZidO(config)}
function initComponent(){com.coremedia.ui.components.ExtendedContainer.prototype.initComponent.call(this);AS3.getBindable(this,"readOnlyValueExpression")&&AS3.getBindable(this,"readOnlyValueExpression").addChangeListener(AS3.bind(this,"updateCursor$ZidO"));this.updateCursor$ZidO()}function afterRender(){com.coremedia.ui.components.ExtendedContainer.prototype.afterRender.call(this);this.attachHandler();this.setupDropZone$ZidO()}function onDestroy(){AS3.getBindable(this,"readOnlyValueExpression")&&
AS3.getBindable(this,"readOnlyValueExpression").removeChangeListener(AS3.bind(this,"updateCursor$ZidO"));this.dropTarget$ZidO&&this.dropTarget$ZidO.unreg();com.coremedia.ui.components.ExtendedContainer.prototype.onDestroy.call(this)}function updateCursor(){var cursor="pointer";if(!AS3.getBindable(this,"handler")||AS3.getBindable(this,"readOnlyValueExpression")&&AS3.getBindable(this,"readOnlyValueExpression").getValue())cursor="default";this.setStyle("cursor",cursor)}function attachHandler(){this.el.addListener("click",
AS3.bind(this,"invokeHandler"));var keyMapConfig=AS3.cast(Ext.util.KeyMap,{});keyMapConfig.target=this.el;var keyMap=new Ext.util.KeyMap(keyMapConfig);keyMap.addBinding({key:[13,32],handler:AS3.bind(this,"invokeHandler"),scope:this.el})}function invokeHandler(){if(!this.disabled)AS3.getBindable(this,"handler")&&AS3.getBindable(this,"handler")()}function handleEnter(dropAllowed){AS3.setBindable(this,"highlighted",dropAllowed)}function handleOver(dropAllowed){AS3.setBindable(this,"highlighted",dropAllowed)}
function handleOut(dropAllowed){AS3.setBindable(this,"highlighted",false)}function handleDrop(dropAllowed,links,sourceView){AS3.setBindable(this,"highlighted",false);if(dropAllowed){if(AS3.getBindable(this,"appendOnDrop"))AS3.getBindable(this,"linkListWrapper").addLinks(links);AS3.getBindable(this,"dropHandler")&&AS3.getBindable(this,"dropHandler")(links,sourceView)}}function setupDropZone(){var gridPanel=AS3.as(this.up(com.coremedia.ui.util.createComponentSelector()._xtype("gridpanel").build()),
Ext.grid.Panel);var boundView=gridPanel?gridPanel.getView():null;this.dropTarget$ZidO=new com.coremedia.cms.editor.sdk.premular.fields.LinkListDropAreaTarget(this,AS3.getBindable(this,"linkListWrapper"),AS3.getBindable(this,"ddGroups"),boundView,AS3.bind(this,"handleEnter$ZidO"),AS3.bind(this,"handleOver$ZidO"),AS3.bind(this,"handleOut$ZidO"),AS3.bind(this,"handleDrop$ZidO"))}return{extend:"com.coremedia.ui.components.ExtendedContainer",dropTarget$ZidO:null,constructor:LinkListDropAreaBase$,super$ZidO:function(){com.coremedia.ui.components.ExtendedContainer.prototype.constructor.apply(this,
arguments)},initComponent:initComponent,afterRender:afterRender,onDestroy:onDestroy,updateCursor$ZidO:updateCursor,attachHandler:attachHandler,invokeHandler:invokeHandler,handleEnter$ZidO:handleEnter,handleOver$ZidO:handleOver,handleOut$ZidO:handleOut,handleDrop$ZidO:handleDrop,setupDropZone$ZidO:setupDropZone,config:{linkListWrapper:null,handler:null,readOnlyValueExpression:null,ddGroups:null,dropHandler:null,appendOnDrop:true},requires:["Ext.grid.Panel","Ext.util.KeyMap","com.coremedia.ui.components.ExtendedContainer",
"com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.util.createComponentSelector"],uses:["com.coremedia.cms.editor.sdk.premular.fields.LinkListDropAreaTarget"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.ContentListChooserPropertyField",function(ContentListChooserPropertyField){function ContentListChooserPropertyField$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.container.Container,{});var defaults_$1=AS3.cast(ContentListChooserPropertyField,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"layout","form");var editor_SetPropertyLabelPlugin_122_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin,
{});editor_SetPropertyLabelPlugin_122_5_$1.bindTo=AS3.getBindable(config,"bindTo");editor_SetPropertyLabelPlugin_122_5_$1.propertyName=net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName"));config_$1.plugins=[editor_SetPropertyLabelPlugin_122_5_$1];var container_126_5_$1=AS3.cast(Ext.container.Container,{});AS3.setBindable(container_126_5_$1,"layout","anchor");var editor_BeanListChooser_128_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.components.BeanListChooser,{});editor_BeanListChooser_128_9_$1.itemId=
net.jangaroo.ext.Exml.asString(ContentListChooserPropertyField.BEAN_LIST_CHOOSER_ITEM_ID);AS3.setBindable(editor_BeanListChooser_128_9_$1,"beanList",AS3.getBindable(config,"contentList"));AS3.setBindable(editor_BeanListChooser_128_9_$1,"height",AS3.getBindable(config,"chooserHeight"));AS3.setBindable(editor_BeanListChooser_128_9_$1,"bindTo",AS3.getBindable(config,"bindTo").extendBy("properties"));editor_BeanListChooser_128_9_$1.disableStrictConsistency=config.disableStrictConsistency;AS3.setBindable(editor_BeanListChooser_128_9_$1,
"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));AS3.setBindable(editor_BeanListChooser_128_9_$1,"emptySelection",AS3.getBindable(config,"emptySelection"));editor_BeanListChooser_128_9_$1.cls=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.components.BeanListChooserUtil.getDefaultBemBlockCssClass());AS3.setBindable(editor_BeanListChooser_128_9_$1,"dataFields",AS3.getBindable(config,"customDataFields")?AS3.getBindable(config,"customDataFields"):com.coremedia.cms.editor.sdk.components.BeanListChooserUtil.getDefaultContentDataFields());
AS3.setBindable(editor_BeanListChooser_128_9_$1,"itemSelector",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"customItemSelector")?AS3.getBindable(config,"customItemSelector"):com.coremedia.cms.editor.sdk.components.BeanListChooserUtil.getDefaultContentItemSelector()));AS3.setBindable(editor_BeanListChooser_128_9_$1,"template",AS3.getBindable(config,"customTemplate")?AS3.getBindable(config,"customTemplate"):com.coremedia.cms.editor.sdk.components.BeanListChooserUtil.getDefaultContentTemplate());
var editor_PropertyFieldPlugin_140_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin,{});AS3.setBindable(editor_PropertyFieldPlugin_140_13_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));var editor_ShowIssuesPlugin_141_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin,{});editor_ShowIssuesPlugin_141_13_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(editor_ShowIssuesPlugin_141_13_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,
"propertyName")));AS3.setBindable(editor_ShowIssuesPlugin_141_13_$1,"hideIssues",AS3.getBindable(config,"hideIssues"));var editor_BindDisablePlugin_144_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin,{});editor_BindDisablePlugin_144_13_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(editor_BindDisablePlugin_144_13_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));editor_BeanListChooser_128_9_$1.plugins=[editor_PropertyFieldPlugin_140_13_$1,
editor_ShowIssuesPlugin_141_13_$1,editor_BindDisablePlugin_144_13_$1];editor_BeanListChooser_128_9_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;container_126_5_$1.items=[editor_BeanListChooser_128_9_$1];config_$1.items=[container_126_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$N3ik(config_$1)}return{extend:"Ext.container.Container",metadata:{"":["Deprecated","PublicApi"],disableStrictConsistency:["Config"]},alias:"widget.com.coremedia.cms.editor.sdk.config.contentListChooserPropertyField",
constructor:ContentListChooserPropertyField$,super$N3ik:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},disableStrictConsistency:false,config:{contentList:null,bindTo:null,emptySelection:null,forceReadOnlyValueExpression:null,propertyName:null,hideIssues:false,customTemplate:null,chooserHeight:NaN,customDataFields:null,customItemSelector:null},statics:{BEAN_LIST_CHOOSER_ITEM_ID:"beanListChooser"},requires:["Ext.container.Container","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.components.BeanListChooser",
"com.coremedia.cms.editor.sdk.components.BeanListChooserUtil","com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin","com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.MasterVersionPropertyField",function(MasterVersionPropertyField){function MasterVersionPropertyField$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.MasterVersionPropertyFieldBase,{});var defaults_$1=AS3.cast(MasterVersionPropertyField,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"layout","form");AS3.setBindable(config_$1,"defaultField",net.jangaroo.ext.Exml.asString(com.coremedia.ui.util.createComponentSelector().itemId(com.coremedia.cms.editor.sdk.premular.fields.MasterVersionPropertyFieldBase.NUMBER_FIELD_ITEM_ID).build()));
var editor_SetPropertyLabelPlugin_42_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin,{});editor_SetPropertyLabelPlugin_42_5_$1.bindTo=AS3.getBindable(config,"bindTo");editor_SetPropertyLabelPlugin_42_5_$1.propertyName=net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName"));config_$1.plugins=[editor_SetPropertyLabelPlugin_42_5_$1];var displayField_47_5_$1=AS3.cast(Ext.form.field.Display,{});var ui_BindVisibilityPlugin_49_9_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,
{});ui_BindVisibilityPlugin_49_9_$1.bindTo=this.getNumberFieldValueVE();var ui_BindPropertyPlugin_51_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_51_9_$1.bindTo=AS3.getBindable(config,"bindTo").extendBy("properties",AS3.getBindable(config,"propertyName"));ui_BindPropertyPlugin_51_9_$1.boundValueChanged=AS3.bind(this,"labelBoundValueChanged");displayField_47_5_$1.plugins=[ui_BindVisibilityPlugin_49_9_$1,ui_BindPropertyPlugin_51_9_$1];var ui_StatefulNumberField_56_5_$1=
AS3.cast(com.coremedia.ui.components.StatefulNumberField,{});ui_StatefulNumberField_56_5_$1.name=net.jangaroo.ext.Exml.asString("properties."+AS3.getBindable(config,"propertyName"));ui_StatefulNumberField_56_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.fields.MasterVersionPropertyFieldBase.NUMBER_FIELD_ITEM_ID);ui_StatefulNumberField_56_5_$1.anchor="100%";ui_StatefulNumberField_56_5_$1.allowBlank=true;ui_StatefulNumberField_56_5_$1.allowDecimals=false;ui_StatefulNumberField_56_5_$1.hideLabel=
true;var editor_SetPropertyEmptyTextPlugin_63_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyEmptyTextPlugin,{});editor_SetPropertyEmptyTextPlugin_63_9_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(editor_SetPropertyEmptyTextPlugin_63_9_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));var editor_BindReadOnlyPlugin_65_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPlugin,{});AS3.setBindable(editor_BindReadOnlyPlugin_65_9_$1,
"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));editor_BindReadOnlyPlugin_65_9_$1.bindTo=AS3.getBindable(config,"bindTo");var editor_PropertyFieldPlugin_67_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin,{});AS3.setBindable(editor_PropertyFieldPlugin_67_9_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));var editor_ShowIssuesPlugin_68_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin,
{});editor_ShowIssuesPlugin_68_9_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(editor_ShowIssuesPlugin_68_9_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));AS3.setBindable(editor_ShowIssuesPlugin_68_9_$1,"hideIssues",AS3.getBindable(config,"hideIssues"));var ui_BindPropertyPlugin_71_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_71_9_$1.ifUndefined="";ui_BindPropertyPlugin_71_9_$1.bindTo=AS3.getBindable(config,
"bindTo").extendBy("properties",AS3.getBindable(config,"propertyName"));ui_BindPropertyPlugin_71_9_$1.disableStrictConsistency=config.disableStrictConsistency;ui_BindPropertyPlugin_71_9_$1.reverseTransformer=AS3.bind(this,"numberFieldReverseTransformer");ui_BindPropertyPlugin_71_9_$1.bidirectional=true;var ui_BlockEnterPlugin_76_9_$1=AS3.cast(com.coremedia.ui.plugins.BlockEnterPlugin,{});ui_StatefulNumberField_56_5_$1.plugins=[editor_SetPropertyEmptyTextPlugin_63_9_$1,editor_BindReadOnlyPlugin_65_9_$1,
editor_PropertyFieldPlugin_67_9_$1,editor_ShowIssuesPlugin_68_9_$1,ui_BindPropertyPlugin_71_9_$1,ui_BlockEnterPlugin_76_9_$1];config_$1.items=[displayField_47_5_$1,ui_StatefulNumberField_56_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$BmfY(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.MasterVersionPropertyFieldBase",metadata:{disableStrictConsistency:["Config"]},alias:"widget.com.coremedia.cms.editor.sdk.config.masterVersionPropertyField",constructor:MasterVersionPropertyField$,
super$BmfY:function(){com.coremedia.cms.editor.sdk.premular.fields.MasterVersionPropertyFieldBase.prototype.constructor.apply(this,arguments)},disableStrictConsistency:false,config:{bindTo:null,forceReadOnlyValueExpression:null,propertyName:null,hideIssues:false},requires:["Ext.form.field.Display","com.coremedia.cms.editor.sdk.premular.fields.MasterVersionPropertyFieldBase","com.coremedia.ui.components.StatefulNumberField","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.BindVisibilityPlugin",
"com.coremedia.ui.plugins.BlockEnterPlugin","com.coremedia.ui.util.createComponentSelector","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyEmptyTextPlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin","com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.TextAreaPropertyField",function(TextAreaPropertyField){function TextAreaPropertyField$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.ui.components.AdvancedFieldContainer,{});var defaults_$1=AS3.cast(TextAreaPropertyField,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.labelAlign="top";AS3.setBindable(config_$1,"defaultField",net.jangaroo.ext.Exml.asString(com.coremedia.ui.util.createComponentSelector().itemId(TextAreaPropertyField.TEXT_AREA_PROPERTY_FIELD_ITEM_ID).build()));
var editor_SetPropertyLabelPlugin_71_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin,{});editor_SetPropertyLabelPlugin_71_5_$1.bindTo=AS3.getBindable(config,"bindTo");editor_SetPropertyLabelPlugin_71_5_$1.propertyName=net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName"));config_$1.plugins=[editor_SetPropertyLabelPlugin_71_5_$1];var ui_ResizableTextArea_75_5_$1=AS3.cast(com.coremedia.ui.components.ResizableTextArea,{});ui_ResizableTextArea_75_5_$1.name=
net.jangaroo.ext.Exml.asString("properties."+AS3.getBindable(config,"propertyName"));ui_ResizableTextArea_75_5_$1.itemId=net.jangaroo.ext.Exml.asString(TextAreaPropertyField.TEXT_AREA_PROPERTY_FIELD_ITEM_ID);AS3.setBindable(ui_ResizableTextArea_75_5_$1,"height",100);ui_ResizableTextArea_75_5_$1.anchor="100%";ui_ResizableTextArea_75_5_$1.hideLabel=true;ui_ResizableTextArea_75_5_$1.checkChangeBuffer=AS3.getBindable(config,"changeBuffer");var editor_SetPropertyEmptyTextPlugin_82_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyEmptyTextPlugin,
{});editor_SetPropertyEmptyTextPlugin_82_9_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(editor_SetPropertyEmptyTextPlugin_82_9_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));var editor_BindReadOnlyPlugin_84_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPlugin,{});AS3.setBindable(editor_BindReadOnlyPlugin_84_9_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));editor_BindReadOnlyPlugin_84_9_$1.bindTo=
AS3.getBindable(config,"bindTo");var editor_PropertyFieldPlugin_86_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin,{});AS3.setBindable(editor_PropertyFieldPlugin_86_9_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));var editor_ShowIssuesPlugin_87_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin,{});editor_ShowIssuesPlugin_87_9_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(editor_ShowIssuesPlugin_87_9_$1,
"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));AS3.setBindable(editor_ShowIssuesPlugin_87_9_$1,"hideIssues",AS3.getBindable(config,"hideIssues"));var ui_BindBlobPropertyPlugin_90_9_$1=AS3.cast(com.coremedia.ui.plugins.BindBlobPropertyPlugin,{});ui_BindBlobPropertyPlugin_90_9_$1.bindTo=AS3.getBindable(config,"bindTo").extendBy("properties",AS3.getBindable(config,"propertyName"));AS3.setBindable(ui_BindBlobPropertyPlugin_90_9_$1,"transformer",AS3.getBindable(config,
"transformer")||com.coremedia.cms.editor.sdk.util.RichTextPlainTextTransformer.convertToPlainText);AS3.setBindable(ui_BindBlobPropertyPlugin_90_9_$1,"reverseTransformer",AS3.getBindable(config,"reverseTransformer")||com.coremedia.cms.editor.sdk.util.RichTextPlainTextTransformer.convertToMarkup);ui_ResizableTextArea_75_5_$1.plugins=[editor_SetPropertyEmptyTextPlugin_82_9_$1,editor_BindReadOnlyPlugin_84_9_$1,editor_PropertyFieldPlugin_86_9_$1,editor_ShowIssuesPlugin_87_9_$1,ui_BindBlobPropertyPlugin_90_9_$1];
ui_ResizableTextArea_75_5_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;config_$1.items=[ui_ResizableTextArea_75_5_$1];var layout_Anchor_97_5_$1=AS3.cast(Ext.layout.container.Anchor,{});AS3.setBindable(config_$1,"layout",layout_Anchor_97_5_$1);var labelable_100_5_$1=AS3.cast(Ext.form.Labelable,{});labelable_100_5_$1.labelSeparator="";config_$1["defaultType"]=labelable_100_5_$1["xtype"];delete labelable_100_5_$1["xtype"];delete labelable_100_5_$1["xclass"];config_$1.defaults=labelable_100_5_$1;net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$8uHO(config_$1)}return{extend:"com.coremedia.ui.components.AdvancedFieldContainer",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.textAreaPropertyField",constructor:TextAreaPropertyField$,super$8uHO:function(){com.coremedia.ui.components.AdvancedFieldContainer.prototype.constructor.apply(this,arguments)},config:{bindTo:null,forceReadOnlyValueExpression:null,propertyName:null,hideIssues:false,changeBuffer:NaN,transformer:null,reverseTransformer:null},
statics:{TEXT_AREA_PROPERTY_FIELD_ITEM_ID:"textAreaPropertyField"},requires:["Ext.form.Labelable","Ext.layout.container.Anchor","com.coremedia.ui.components.AdvancedFieldContainer","com.coremedia.ui.components.ResizableTextArea","com.coremedia.ui.plugins.BindBlobPropertyPlugin","com.coremedia.ui.util.createComponentSelector","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyEmptyTextPlugin",
"com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin","com.coremedia.cms.editor.sdk.util.RichTextPlainTextTransformer","com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.SingleLinkField",function(SingleLinkField){function SingleLinkField$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.SingleLinkFieldBase,{});var defaults_$1=AS3.cast(SingleLinkField,{});AS3.setBindable(defaults_$1,"contentVariableName","content");config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"dropAreaHandler",AS3.bind(this,"openCollectionView"));
AS3.setBindable(config_$1,"dropAreaText",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.ui.ckeditor.CKEditor","internalLinkMenuDragText")));AS3.setBindable(config_$1,"replaceOnDrop",true);AS3.setBindable(config_$1,"selectedValuesExpression",this.getSelectedVE());AS3.setBindable(config_$1,"showThumbnails",false);var editor_MemoryLinkListWrapper_37_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.util.MemoryLinkListWrapper,{});AS3.setBindable(editor_MemoryLinkListWrapper_37_5_$1,
"linksVE",AS3.getBindable(config,"valueExpression"));AS3.setBindable(editor_MemoryLinkListWrapper_37_5_$1,"linkTypeName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"linkContentType")));AS3.setBindable(editor_MemoryLinkListWrapper_37_5_$1,"maxCardinality",1);AS3.setBindable(config_$1,"linkListWrapper",new com.coremedia.cms.editor.sdk.util.MemoryLinkListWrapper(editor_MemoryLinkListWrapper_37_5_$1));var ui_ContextMenuPlugin_43_5_$1=AS3.cast(com.coremedia.ui.plugins.ContextMenuPlugin,{});
var editor_PropertyFieldContextMenu_45_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.PropertyFieldContextMenu,{});AS3.setBindable(editor_PropertyFieldContextMenu_45_9_$1,"selectedItemsVE",this.getSelectedVE());AS3.setBindable(ui_ContextMenuPlugin_43_5_$1,"contextMenu",editor_PropertyFieldContextMenu_45_9_$1);config_$1.plugins=[ui_ContextMenuPlugin_43_5_$1];config_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$U3pb(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.SingleLinkFieldBase",
alias:"widget.com.coremedia.cms.editor.sdk.config.singleLinkField",constructor:SingleLinkField$,super$U3pb:function(){com.coremedia.cms.editor.sdk.premular.fields.SingleLinkFieldBase.prototype.constructor.apply(this,arguments)},config:{contentVariableName:null},requires:["com.coremedia.cms.editor.sdk.premular.fields.SingleLinkFieldBase","com.coremedia.ui.ckeditor.CKEditor_properties","com.coremedia.ui.plugins.ContextMenuPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.fields.PropertyFieldContextMenu",
"com.coremedia.cms.editor.sdk.util.MemoryLinkListWrapper"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.TextBlobPropertyField",function(TextBlobPropertyField){function TextBlobPropertyField$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.ui.components.StatefulTextArea,{});var defaults_$1=AS3.cast(TextBlobPropertyField,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.name=net.jangaroo.ext.Exml.asString("properties."+AS3.getBindable(config,"propertyName"));config_$1.anchor="100%";config_$1.grow=
true;config_$1.growMax=2E3;config_$1.growMin=100;var editor_SetPropertyLabelPlugin_56_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin,{});editor_SetPropertyLabelPlugin_56_5_$1.bindTo=AS3.getBindable(config,"bindTo");editor_SetPropertyLabelPlugin_56_5_$1.propertyName=net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName"));var editor_SetPropertyEmptyTextPlugin_58_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyEmptyTextPlugin,
{});editor_SetPropertyEmptyTextPlugin_58_5_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(editor_SetPropertyEmptyTextPlugin_58_5_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));var editor_BindDisablePlugin_60_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin,{});AS3.setBindable(editor_BindDisablePlugin_60_5_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));editor_BindDisablePlugin_60_5_$1.bindTo=
AS3.getBindable(config,"bindTo");var editor_PropertyFieldPlugin_62_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin,{});AS3.setBindable(editor_PropertyFieldPlugin_62_5_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));var editor_ShowIssuesPlugin_63_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin,{});editor_ShowIssuesPlugin_63_5_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(editor_ShowIssuesPlugin_63_5_$1,
"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));AS3.setBindable(editor_ShowIssuesPlugin_63_5_$1,"hideIssues",AS3.getBindable(config,"hideIssues"));var ui_BindBlobPropertyPlugin_66_5_$1=AS3.cast(com.coremedia.ui.plugins.BindBlobPropertyPlugin,{});ui_BindBlobPropertyPlugin_66_5_$1.bindTo=AS3.getBindable(config,"bindTo").extendBy("properties",AS3.getBindable(config,"propertyName"));AS3.setBindable(ui_BindBlobPropertyPlugin_66_5_$1,"mimeType",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,
"defaultMimeType")||"text/plain"));config_$1.plugins=[editor_SetPropertyLabelPlugin_56_5_$1,editor_SetPropertyEmptyTextPlugin_58_5_$1,editor_BindDisablePlugin_60_5_$1,editor_PropertyFieldPlugin_62_5_$1,editor_ShowIssuesPlugin_63_5_$1,ui_BindBlobPropertyPlugin_66_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$qXz8(config_$1)}return{extend:"com.coremedia.ui.components.StatefulTextArea",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.textBlobPropertyField",
constructor:TextBlobPropertyField$,super$qXz8:function(){com.coremedia.ui.components.StatefulTextArea.prototype.constructor.apply(this,arguments)},config:{bindTo:null,forceReadOnlyValueExpression:null,propertyName:null,defaultMimeType:null,hideIssues:false},requires:["com.coremedia.ui.components.StatefulTextArea","com.coremedia.ui.plugins.BindBlobPropertyPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin",
"com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyEmptyTextPlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin","com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.LinkListDropAreaTarget",function(LinkListDropAreaTarget){function LinkListDropAreaTarget$(dropArea,linkListWrapper,ddGroups,boundView,handleEnter,handlerOver,handleOut,handleDrop){var this$=this;switch(Math.max(arguments.length,3)){case 3:boundView=null;case 4:handleEnter=null;case 5:handlerOver=null;case 6:handleOut=null;case 7:handleDrop=null}ddGroups=ddGroups||[];this.super$kexO(dropArea.getEl(),AS3.cast(Ext.dd.DropTarget,{ddGroup:ddGroups.length>
0?ddGroups[0]:undefined}));ddGroups.length>1&&ddGroups.slice(1).forEach(function(ddGroup){this$.addToGroup(ddGroup)});this.dropArea$kexO=dropArea;this.linkListWrapper$kexO=linkListWrapper;this.boundView$kexO=boundView;this.handleEnter$kexO=handleEnter;this.handleOver$kexO=handlerOver;this.handleOut$kexO=handleOut;this.handleDrop$kexO=handleDrop;this.lock();linkListWrapper.getVE().loadValue(function(){this$.unlock()})}function allowDrop(dragInfo,fromView){if(!dragInfo||this.dropArea$kexO.disabled)return false;
if(!this.linkListWrapper$kexO.acceptsLinks(dragInfo.getContents()))return false;return this.boundView$kexO!==null&&this.boundView$kexO===fromView||this.linkListWrapper$kexO.getFreeCapacity()>=dragInfo.getContents().length}function notifyEnter(source,e,data){var dragInfo=com.coremedia.cms.editor.sdk.dragdrop.DragInfo.makeDragInfo(data);var mayDrop=this.allowDrop$kexO(dragInfo,data.view);this.handleEnter$kexO&&this.handleEnter$kexO(mayDrop);return mayDrop?this.dropAllowed:this.dropNotAllowed}function notifyOver(source,
e,data){var dragInfo=com.coremedia.cms.editor.sdk.dragdrop.DragInfo.makeDragInfo(data);var mayDrop=this.allowDrop$kexO(dragInfo,data.view);this.handleOver$kexO&&this.handleOver$kexO(mayDrop);return mayDrop?this.dropAllowed:this.dropNotAllowed}function notifyDrop(source,e,data){var dragInfo=com.coremedia.cms.editor.sdk.dragdrop.DragInfo.makeDragInfo(data);var mayDrop=this.allowDrop$kexO(dragInfo,data.view);this.handleDrop$kexO&&this.handleDrop$kexO(mayDrop,dragInfo.getContents(),data.view);return mayDrop}
function notifyOut(source,e,data){var dragInfo=com.coremedia.cms.editor.sdk.dragdrop.DragInfo.makeDragInfo(data);var mayDrop=this.allowDrop$kexO(dragInfo,data.view);this.handleOut$kexO&&this.handleOut$kexO(mayDrop);Ext.dd.DropTarget.prototype.notifyOut.call(this,source,e,data)}return{extend:"Ext.dd.DropTarget",dropArea$kexO:null,boundView$kexO:null,linkListWrapper$kexO:null,handleEnter$kexO:null,handleOver$kexO:null,handleOut$kexO:null,handleDrop$kexO:null,constructor:LinkListDropAreaTarget$,super$kexO:function(){Ext.dd.DropTarget.prototype.constructor.apply(this,
arguments)},allowDrop$kexO:allowDrop,notifyEnter:notifyEnter,notifyOver:notifyOver,notifyDrop:notifyDrop,notifyOut:notifyOut,requires:["Ext.dd.DropTarget"],uses:["com.coremedia.cms.editor.sdk.dragdrop.DragInfo"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.XmlPropertyField",function(XmlPropertyField){function XmlPropertyField$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.form.field.TextArea,{});var defaults_$1=AS3.cast(XmlPropertyField,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.name=net.jangaroo.ext.Exml.asString("properties."+AS3.getBindable(config,"propertyName"));config_$1.anchor="100%";config_$1.grow=true;config_$1.growMax=2E3;config_$1.growMin=
100;var editor_SetPropertyLabelPlugin_50_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin,{});editor_SetPropertyLabelPlugin_50_5_$1.bindTo=AS3.getBindable(config,"bindTo");editor_SetPropertyLabelPlugin_50_5_$1.propertyName=net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName"));var editor_SetPropertyEmptyTextPlugin_52_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyEmptyTextPlugin,{});editor_SetPropertyEmptyTextPlugin_52_5_$1.bindTo=
AS3.getBindable(config,"bindTo");AS3.setBindable(editor_SetPropertyEmptyTextPlugin_52_5_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));var editor_BindReadOnlyPlugin_54_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPlugin,{});AS3.setBindable(editor_BindReadOnlyPlugin_54_5_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));editor_BindReadOnlyPlugin_54_5_$1.bindTo=AS3.getBindable(config,
"bindTo");var editor_PropertyFieldPlugin_56_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin,{});AS3.setBindable(editor_PropertyFieldPlugin_56_5_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));var editor_ShowIssuesPlugin_57_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin,{});editor_ShowIssuesPlugin_57_5_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(editor_ShowIssuesPlugin_57_5_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,
"propertyName")));AS3.setBindable(editor_ShowIssuesPlugin_57_5_$1,"hideIssues",AS3.getBindable(config,"hideIssues"));var ui_BindBlobPropertyPlugin_60_5_$1=AS3.cast(com.coremedia.ui.plugins.BindBlobPropertyPlugin,{});ui_BindBlobPropertyPlugin_60_5_$1.bindTo=AS3.getBindable(config,"bindTo").extendBy("properties",AS3.getBindable(config,"propertyName"));config_$1.plugins=[editor_SetPropertyLabelPlugin_50_5_$1,editor_SetPropertyEmptyTextPlugin_52_5_$1,editor_BindReadOnlyPlugin_54_5_$1,editor_PropertyFieldPlugin_56_5_$1,
editor_ShowIssuesPlugin_57_5_$1,ui_BindBlobPropertyPlugin_60_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$QA$1(config_$1)}return{extend:"Ext.form.field.TextArea",alias:"widget.com.coremedia.cms.editor.sdk.config.xmlPropertyField",constructor:XmlPropertyField$,super$QA$1:function(){Ext.form.field.TextArea.prototype.constructor.apply(this,arguments)},config:{bindTo:null,forceReadOnlyValueExpression:null,propertyName:null,hideIssues:false},requires:["Ext.form.field.TextArea","com.coremedia.ui.plugins.BindBlobPropertyPlugin",
"net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyEmptyTextPlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin","com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.SingleLinkEditor",function(SingleLinkEditor){function SingleLinkEditor$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.SingleLinkEditorBase,{});var defaults_$1=AS3.cast(SingleLinkEditor,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"linkListLabel")));config_$1.labelAlign="top";
var layout_HBox_36_5_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_36_5_$1,"align","middle");AS3.setBindable(config_$1,"layout",layout_HBox_36_5_$1);var ui_HorizontalSpacingPlugin_39_5_$1=AS3.cast(com.coremedia.ui.plugins.HorizontalSpacingPlugin,{});config_$1.plugins=[ui_HorizontalSpacingPlugin_39_5_$1];var editor_PropertyField_42_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyField,{});AS3.setBindable(editor_PropertyField_42_5_$1,"bindTo",AS3.getBindable(config,
"bindTo"));editor_PropertyField_42_5_$1.labelSeparator="";config_$1["defaultType"]=editor_PropertyField_42_5_$1["xtype"];delete editor_PropertyField_42_5_$1["xtype"];delete editor_PropertyField_42_5_$1["xclass"];config_$1.defaults=editor_PropertyField_42_5_$1;var editor_SingleLinkField_46_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.SingleLinkField,{});editor_SingleLinkField_46_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.fields.SingleLinkEditorBase.LINK_FIELD_ITEM_ID);
AS3.setBindable(editor_SingleLinkField_46_5_$1,"valueExpression",AS3.getBindable(config,"bindTo"));AS3.setBindable(editor_SingleLinkField_46_5_$1,"linkContentType",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"linkContentType")));editor_SingleLinkField_46_5_$1.flex=1;var ui_IconButton_50_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_50_5_$1.itemId="removeLinkItemButton";AS3.setBindable(ui_IconButton_50_5_$1,"tooltip",this.resourceManager.getString("com.coremedia.cms.editor.sdk.actions.Actions",
"Action_deleteStructNode_text"));AS3.setBindable(ui_IconButton_50_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_deleteStructNode_text")));AS3.setBindable(ui_IconButton_50_5_$1,"handler",function(){AS3.getBindable(config,"bindTo").setValue([])});AS3.setBindable(ui_IconButton_50_5_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","remove")));var ui_BindPropertyPlugin_56_9_$1=
AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_56_9_$1.componentProperty="disabled";ui_BindPropertyPlugin_56_9_$1.bindTo=AS3.getBindable(config,"bindTo");ui_BindPropertyPlugin_56_9_$1.transformer=function(v){return!v||v.length==0};ui_BindPropertyPlugin_56_9_$1.ifUndefined="true";var editor_BindDisablePlugin_60_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin,{});AS3.setBindable(editor_BindDisablePlugin_60_9_$1,"forceReadOnlyValueExpression",
AS3.getBindable(config,"forceReadOnlyValueExpression"));editor_BindDisablePlugin_60_9_$1.bindTo=AS3.getBindable(config,"bindTo");ui_IconButton_50_5_$1.plugins=[ui_BindPropertyPlugin_56_9_$1,editor_BindDisablePlugin_60_9_$1];config_$1.items=[editor_SingleLinkField_46_5_$1,ui_IconButton_50_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$bWBY(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.SingleLinkEditorBase",alias:"widget.com.coremedia.cms.editor.sdk.config.singleLinkEditor",
constructor:SingleLinkEditor$,super$bWBY:function(){com.coremedia.cms.editor.sdk.premular.fields.SingleLinkEditorBase.prototype.constructor.apply(this,arguments)},config:{bindTo:null,forceReadOnlyValueExpression:null,linkListLabel:null,linkContentType:null},requires:["Ext.layout.container.HBox","com.coremedia.cms.editor.sdk.actions.Actions_properties","com.coremedia.cms.editor.sdk.premular.fields.SingleLinkEditorBase","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.components.IconButton",
"com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.HorizontalSpacingPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.PropertyField","com.coremedia.cms.editor.sdk.premular.fields.SingleLinkField","com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.ComboBoxLinkPropertyFieldBase",function(ComboBoxLinkPropertyFieldBase){function LIST_BLOCK$static_(){ComboBoxLinkPropertyFieldBase.LIST_BLOCK=new com.coremedia.ui.models.bem.BEMBlock("cm-combo-box-list")}function LIST_ELEMENT_ITEM$static_(){ComboBoxLinkPropertyFieldBase.LIST_ELEMENT_ITEM=ComboBoxLinkPropertyFieldBase.LIST_BLOCK.createElement("item")}function ITEM_BLOCK$static_(){ComboBoxLinkPropertyFieldBase.ITEM_BLOCK=new com.coremedia.ui.models.bem.BEMBlock("cm-combo-box-item")}
function ITEM_ELEMENT_LEFT$static_(){ComboBoxLinkPropertyFieldBase.ITEM_ELEMENT_LEFT=ComboBoxLinkPropertyFieldBase.ITEM_BLOCK.createElement("left")}function ITEM_ELEMENT_RIGHT$static_(){ComboBoxLinkPropertyFieldBase.ITEM_ELEMENT_RIGHT=ComboBoxLinkPropertyFieldBase.ITEM_BLOCK.createElement("right")}function ITEM_ELEMENT_THUMBNAIL$static_(){ComboBoxLinkPropertyFieldBase.ITEM_ELEMENT_THUMBNAIL=ComboBoxLinkPropertyFieldBase.ITEM_BLOCK.createElement("thumbnail")}function ITEM_ELEMENT_NAME$static_(){ComboBoxLinkPropertyFieldBase.ITEM_ELEMENT_NAME=
ComboBoxLinkPropertyFieldBase.ITEM_BLOCK.createElement("name")}function ITEM_ELEMENT_DESCRIPTION$static_(){ComboBoxLinkPropertyFieldBase.ITEM_ELEMENT_DESCRIPTION=ComboBoxLinkPropertyFieldBase.ITEM_BLOCK.createElement("description")}function ITEM_ELEMENT_SITE$static_(){ComboBoxLinkPropertyFieldBase.ITEM_ELEMENT_SITE=ComboBoxLinkPropertyFieldBase.ITEM_BLOCK.createElement("site")}function ComboBoxLinkPropertyFieldBase$(config){if(arguments.length<=0)config=null;this.super$3XxC(config)}function getLinkValueExpression(config){if(!this.linkValueExpression$3XxC)this.linkValueExpression$3XxC=
com.coremedia.cms.editor.sdk.util.LinkListUtil.createLinkValueExpression(AS3.getBindable(config,"bindTo"),AS3.getBindable(config,"propertyName"),AS3.getBindable(config,"linkTypeName"),true,AS3.getBindable(config,"fallbackForNullValueExpression"));return this.linkValueExpression$3XxC}function getDefaultDisplayTpl$static(displayField){return(new Ext.XTemplate('\x3cdiv class\x3d"'+ComboBoxLinkPropertyFieldBase.LIST_BLOCK+'"\x3e\x3ctpl for\x3d"."\x3e\x3cdiv class\x3d"'+ComboBoxLinkPropertyFieldBase.LIST_ELEMENT_ITEM+
'"\x3e{'+displayField+"}\x3c/div\x3e\x3c/tpl\x3e\x3c/div\x3e")).compile()}function getExtendedTemplate$static(forComboBox,titleField,descriptionField,thumbnailUriField,thumbnailTooltipField,siteField,thumbnailField){switch(Math.max(arguments.length,1)){case 1:titleField=null;case 2:descriptionField=null;case 3:thumbnailUriField=null;case 4:thumbnailTooltipField=null;case 5:siteField=null;case 6:thumbnailField=null}var additionalCls=forComboBox?com.coremedia.ui.components.LocalComboBox.COMBO_BOX_TPL_ITEM_CLASS+
" ":"";var title="";var description="";var site="";var thumbnail="";if(titleField)title='\x3cspan class\x3d"'+ComboBoxLinkPropertyFieldBase.ITEM_ELEMENT_NAME+'"\x3e{'+titleField+"}\x3c/span\x3e";if(descriptionField)description='\x3cspan class\x3d"'+ComboBoxLinkPropertyFieldBase.ITEM_ELEMENT_DESCRIPTION+'"\x3e{'+descriptionField+"}\x3c/span\x3e";if(siteField)site='\x3cspan class\x3d"'+ComboBoxLinkPropertyFieldBase.ITEM_ELEMENT_SITE+'"\x3e{'+siteField+"}\x3c/span\x3e";if(thumbnailField)thumbnail="{"+
thumbnailField+"}";else if(thumbnailUriField){var thumbnailTooltip="";if(thumbnailTooltipField)thumbnailTooltip=' data-qtip\x3d"{'+thumbnailTooltipField+'}"';thumbnail='\x3cimg class\x3d"'+ComboBoxLinkPropertyFieldBase.ITEM_ELEMENT_THUMBNAIL+'"'+'\x3ctpl if\x3d"'+thumbnailUriField+'"\x3esrc\x3d"{'+thumbnailUriField+'}"\x3c/tpl\x3e'+'\x3ctpl if\x3d"!'+thumbnailUriField+'"\x3esrc\x3d"'+Ext.BLANK_IMAGE_URL+'""\x3c/tpl\x3e'+thumbnailTooltip+"/\x3e"}return(new Ext.XTemplate('\x3cdiv class\x3d"'+ComboBoxLinkPropertyFieldBase.LIST_BLOCK+
'"\x3e','\x3ctpl for\x3d"."\x3e','\x3cdiv class\x3d" '+additionalCls+ComboBoxLinkPropertyFieldBase.LIST_ELEMENT_ITEM+" "+ComboBoxLinkPropertyFieldBase.ITEM_BLOCK+'"\x3e','\x3cdiv class\x3d"'+ComboBoxLinkPropertyFieldBase.ITEM_ELEMENT_LEFT+'"\x3e',thumbnail,"\x3c/div\x3e",'\x3cdiv class\x3d"'+ComboBoxLinkPropertyFieldBase.ITEM_ELEMENT_RIGHT+'"\x3e',title,description,site,"\x3c/div\x3e","\x3c/div\x3e","\x3c/tpl\x3e","\x3c/div\x3e")).compile()}function getExtendedComboBoxTpl$static(titleField,descriptionField,
thumbnailUriField,thumbnailTooltipField,siteField,thumbnailField){switch(arguments.length){case 0:titleField=null;case 1:descriptionField=null;case 2:thumbnailUriField=null;case 3:thumbnailTooltipField=null;case 4:siteField=null;case 5:thumbnailField=null}return getExtendedTemplate$static(true,titleField,descriptionField,thumbnailUriField,thumbnailTooltipField,siteField,thumbnailField)}function getExtendedDisplayTpl$static(titleField,descriptionField,thumbnailUriField,thumbnailTooltipField,siteField,
thumbnailField){switch(arguments.length){case 0:titleField=null;case 1:descriptionField=null;case 2:thumbnailUriField=null;case 3:thumbnailTooltipField=null;case 4:siteField=null;case 5:thumbnailField=null}return getExtendedTemplate$static(false,titleField,descriptionField,thumbnailUriField,thumbnailTooltipField,siteField,thumbnailField)}return{extend:"com.coremedia.ui.components.AdvancedFieldContainer",linkValueExpression$3XxC:null,constructor:ComboBoxLinkPropertyFieldBase$,super$3XxC:function(){com.coremedia.ui.components.AdvancedFieldContainer.prototype.constructor.apply(this,
arguments)},getLinkValueExpression:getLinkValueExpression,statics:{LIST_BLOCK:undefined,LIST_ELEMENT_ITEM:undefined,ITEM_BLOCK:undefined,ITEM_ELEMENT_LEFT:undefined,ITEM_ELEMENT_RIGHT:undefined,ITEM_ELEMENT_THUMBNAIL:undefined,ITEM_ELEMENT_NAME:undefined,ITEM_ELEMENT_DESCRIPTION:undefined,ITEM_ELEMENT_SITE:undefined,getDefaultDisplayTpl:getDefaultDisplayTpl$static,getExtendedComboBoxTpl:getExtendedComboBoxTpl$static,getExtendedDisplayTpl:getExtendedDisplayTpl$static,__initStatics__:function(){LIST_BLOCK$static_();
LIST_ELEMENT_ITEM$static_();ITEM_BLOCK$static_();ITEM_ELEMENT_LEFT$static_();ITEM_ELEMENT_RIGHT$static_();ITEM_ELEMENT_THUMBNAIL$static_();ITEM_ELEMENT_NAME$static_();ITEM_ELEMENT_DESCRIPTION$static_();ITEM_ELEMENT_SITE$static_()}},requires:["Ext","Ext.XTemplate","com.coremedia.ui.components.AdvancedFieldContainer","com.coremedia.ui.components.LocalComboBox","com.coremedia.ui.models.bem.BEMBlock"],uses:["com.coremedia.cms.editor.sdk.util.LinkListUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.BeanListChooserBindListPluginBase",function(BeanListChooserBindListPluginBase){function BeanListChooserBindListPluginBase$(config){if(arguments.length<=0)config=null;var copiedConfig=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.BeanListChooserBindListPlugin,Ext.apply({},config));AS3.setBindable(copiedConfig,"fields",AS3.getBindable(config,"fields","DUMMY").concat(AS3.getBindable(config,"additionalFields")));this.super$BvCv(copiedConfig)}
return{extend:"com.coremedia.ui.plugins.BindListPlugin",constructor:BeanListChooserBindListPluginBase$,super$BvCv:function(){com.coremedia.ui.plugins.BindListPlugin.prototype.constructor.apply(this,arguments)},requires:["Ext","com.coremedia.ui.plugins.BindListPlugin"],uses:["com.coremedia.cms.editor.sdk.premular.fields.BeanListChooserBindListPlugin"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.SpinnerPropertyField",function(SpinnerPropertyField){function SpinnerPropertyField$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.ui.components.AdvancedFieldContainer,{});var defaults_$1=AS3.cast(SpinnerPropertyField,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"defaultField",net.jangaroo.ext.Exml.asString(com.coremedia.ui.util.createComponentSelector().itemId(SpinnerPropertyField.SPINNER_PROPERTY_FIELD).build()));
var editor_SetPropertyLabelPlugin_64_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin,{});editor_SetPropertyLabelPlugin_64_5_$1.bindTo=AS3.getBindable(config,"bindTo");editor_SetPropertyLabelPlugin_64_5_$1.propertyName=net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName"));config_$1.plugins=[editor_SetPropertyLabelPlugin_64_5_$1];var ui_StatefulNumberField_68_5_$1=AS3.cast(com.coremedia.ui.components.StatefulNumberField,{});ui_StatefulNumberField_68_5_$1.name=
net.jangaroo.ext.Exml.asString("properties."+AS3.getBindable(config,"propertyName"));ui_StatefulNumberField_68_5_$1.itemId=net.jangaroo.ext.Exml.asString(SpinnerPropertyField.SPINNER_PROPERTY_FIELD);AS3.setBindable(ui_StatefulNumberField_68_5_$1,"minWidth",AS3.getBindable(config,"fieldWidth"));AS3.setBindable(ui_StatefulNumberField_68_5_$1,"maxWidth",AS3.getBindable(config,"fieldWidth"));ui_StatefulNumberField_68_5_$1.allowBlank=true;ui_StatefulNumberField_68_5_$1.allowDecimals=false;AS3.setBindable(ui_StatefulNumberField_68_5_$1,
"spinUpEnabled",true);AS3.setBindable(ui_StatefulNumberField_68_5_$1,"spinDownEnabled",true);ui_StatefulNumberField_68_5_$1.hideLabel=true;AS3.setBindable(ui_StatefulNumberField_68_5_$1,"minValue",AS3.getBindable(config,"minValue")||AS3.getBindable(config,"minValue")===0?AS3.getBindable(config,"minValue"):SpinnerPropertyField.MIN_VALUE);AS3.setBindable(ui_StatefulNumberField_68_5_$1,"maxValue",AS3.getBindable(config,"maxValue")||AS3.getBindable(config,"maxValue")===0?AS3.getBindable(config,"maxValue"):
SpinnerPropertyField.MAX_VALUE);var editor_SetPropertyEmptyTextPlugin_80_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyEmptyTextPlugin,{});editor_SetPropertyEmptyTextPlugin_80_9_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(editor_SetPropertyEmptyTextPlugin_80_9_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));var editor_BindReadOnlyPlugin_82_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPlugin,
{});editor_BindReadOnlyPlugin_82_9_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(editor_BindReadOnlyPlugin_82_9_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));var editor_PropertyFieldPlugin_84_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin,{});AS3.setBindable(editor_PropertyFieldPlugin_84_9_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));var editor_ShowIssuesPlugin_85_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin,
{});editor_ShowIssuesPlugin_85_9_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(editor_ShowIssuesPlugin_85_9_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));AS3.setBindable(editor_ShowIssuesPlugin_85_9_$1,"hideIssues",AS3.getBindable(config,"hideIssues"));var ui_BindPropertyPlugin_88_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_88_9_$1.ifUndefined="";ui_BindPropertyPlugin_88_9_$1.bindTo=AS3.getBindable(config,
"bindTo").extendBy("properties",AS3.getBindable(config,"propertyName"));ui_BindPropertyPlugin_88_9_$1.disableStrictConsistency=config.disableStrictConsistency;ui_BindPropertyPlugin_88_9_$1.reverseTransformer=function(value){return value||value===0?value:null};ui_BindPropertyPlugin_88_9_$1.bidirectional=true;var ui_BindPropertyPlugin_93_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_93_9_$1.ifUndefined="";ui_BindPropertyPlugin_93_9_$1.componentEvent="spin";ui_BindPropertyPlugin_93_9_$1.bindTo=
AS3.getBindable(config,"bindTo").extendBy("properties",AS3.getBindable(config,"propertyName"));ui_BindPropertyPlugin_93_9_$1.disableStrictConsistency=config.disableStrictConsistency;ui_BindPropertyPlugin_93_9_$1.reverseTransformer=function(value){return value||value===0?value:AS3.getBindable(config,"minValue")};ui_BindPropertyPlugin_93_9_$1.bidirectional=true;var ui_BlockEnterPlugin_99_9_$1=AS3.cast(com.coremedia.ui.plugins.BlockEnterPlugin,{});ui_StatefulNumberField_68_5_$1.plugins=[editor_SetPropertyEmptyTextPlugin_80_9_$1,
editor_BindReadOnlyPlugin_82_9_$1,editor_PropertyFieldPlugin_84_9_$1,editor_ShowIssuesPlugin_85_9_$1,ui_BindPropertyPlugin_88_9_$1,ui_BindPropertyPlugin_93_9_$1,ui_BlockEnterPlugin_99_9_$1];ui_StatefulNumberField_68_5_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;config_$1.items=[ui_StatefulNumberField_68_5_$1];var layout_Fit_104_5_$1=AS3.cast(Ext.layout.container.Fit,{});AS3.setBindable(config_$1,"layout",layout_Fit_104_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$eYz$(config_$1)}
return{extend:"com.coremedia.ui.components.AdvancedFieldContainer",metadata:{"":["PublicApi"],disableStrictConsistency:["Config"]},alias:"widget.com.coremedia.cms.editor.sdk.config.spinnerPropertyField",constructor:SpinnerPropertyField$,super$eYz$:function(){com.coremedia.ui.components.AdvancedFieldContainer.prototype.constructor.apply(this,arguments)},disableStrictConsistency:false,config:{bindTo:null,forceReadOnlyValueExpression:null,propertyName:null,hideIssues:false,minValue:0,maxValue:0,fieldWidth:0},
statics:{SPINNER_PROPERTY_FIELD:"spinnerPropertyField",MAX_VALUE:2147483647,MIN_VALUE:-2147483648},requires:["Ext.layout.container.Fit","com.coremedia.ui.components.AdvancedFieldContainer","com.coremedia.ui.components.StatefulNumberField","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.BlockEnterPlugin","com.coremedia.ui.util.createComponentSelector","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPlugin",
"com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyEmptyTextPlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin","com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.LinkListDropArea",function(LinkListDropArea){function LinkListDropArea$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.LinkListDropAreaBase,{});var defaults_$1=AS3.cast(LinkListDropArea,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.maskOnDisable=false;config_$1["ariaRole"]="button";config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.FRAME.getSkin());
config_$1.tabIndex=0;config_$1["focusable"]=true;var layout_Fit_38_5_$1=AS3.cast(Ext.layout.container.Fit,{});AS3.setBindable(config_$1,"layout",layout_Fit_38_5_$1);var ui_IconDisplayField_41_5_$1=AS3.cast(com.coremedia.ui.components.IconDisplayField,{});ui_IconDisplayField_41_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.IconDisplayFieldSkin.EMBEDDED.getSkin());AS3.setBindable(ui_IconDisplayField_41_5_$1,"iconCls",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"iconCls")||
mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","LinkListPropertyField_icon")));AS3.setBindable(ui_IconDisplayField_41_5_$1,"value",AS3.getBindable(config,"text")||mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","LinkListPropertyField_text"));config_$1.items=[ui_IconDisplayField_41_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$mDfd(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.LinkListDropAreaBase",
alias:"widget.com.coremedia.cms.editor.sdk.config.linkListDropArea",constructor:LinkListDropArea$,super$mDfd:function(){com.coremedia.cms.editor.sdk.premular.fields.LinkListDropAreaBase.prototype.constructor.apply(this,arguments)},config:{iconCls:null,text:null},requires:["Ext.layout.container.Fit","com.coremedia.cms.editor.sdk.premular.fields.LinkListDropAreaBase","com.coremedia.ui.components.IconDisplayField","com.coremedia.ui.skins.ContainerSkin","com.coremedia.ui.skins.IconDisplayFieldSkin","mx.resources.ResourceManager",
"net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.AvailableLocalesPropertyField",function(AvailableLocalesPropertyField){function AvailableLocalesPropertyField$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.ui.components.AdvancedFieldContainer,{});var defaults_$1=AS3.cast(AvailableLocalesPropertyField,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"layout","anchor");AS3.setBindable(config_$1,"defaultField",net.jangaroo.ext.Exml.asString(com.coremedia.ui.util.createComponentSelector().itemId(AvailableLocalesPropertyField.AVAILABLE_LOCALES_COMBO_BOX_ITEM_ID).build()));
var editor_SetPropertyLabelPlugin_52_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin,{});editor_SetPropertyLabelPlugin_52_5_$1.bindTo=AS3.getBindable(config,"bindTo");editor_SetPropertyLabelPlugin_52_5_$1.propertyName=net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName"));config_$1.plugins=[editor_SetPropertyLabelPlugin_52_5_$1];var editor_AvailableLocalesComboBox_56_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.translate.AvailableLocalesComboBox,
{});editor_AvailableLocalesComboBox_56_5_$1.itemId=net.jangaroo.ext.Exml.asString(AvailableLocalesPropertyField.AVAILABLE_LOCALES_COMBO_BOX_ITEM_ID);AS3.setBindable(editor_AvailableLocalesComboBox_56_5_$1,"bindTo",AS3.getBindable(config,"bindTo").extendBy("properties"));AS3.setBindable(editor_AvailableLocalesComboBox_56_5_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));AS3.setBindable(editor_AvailableLocalesComboBox_56_5_$1,"addEmptyItem",AS3.getBindable(config,
"addEmptyItem")===undefined||AS3.getBindable(config,"addEmptyItem"));editor_AvailableLocalesComboBox_56_5_$1.anchor="100%";var editor_PropertyFieldPlugin_62_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin,{});AS3.setBindable(editor_PropertyFieldPlugin_62_9_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));var editor_ShowIssuesPlugin_63_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin,{});editor_ShowIssuesPlugin_63_9_$1.bindTo=
AS3.getBindable(config,"bindTo");AS3.setBindable(editor_ShowIssuesPlugin_63_9_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));AS3.setBindable(editor_ShowIssuesPlugin_63_9_$1,"hideIssues",AS3.getBindable(config,"hideIssues"));var editor_BindDisablePlugin_66_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin,{});editor_BindDisablePlugin_66_9_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(editor_BindDisablePlugin_66_9_$1,
"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));editor_AvailableLocalesComboBox_56_5_$1.plugins=[editor_PropertyFieldPlugin_62_9_$1,editor_ShowIssuesPlugin_63_9_$1,editor_BindDisablePlugin_66_9_$1];editor_AvailableLocalesComboBox_56_5_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;config_$1.items=[editor_AvailableLocalesComboBox_56_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$EImY(config_$1)}return{extend:"com.coremedia.ui.components.AdvancedFieldContainer",
metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.availableLocalesPropertyField",constructor:AvailableLocalesPropertyField$,super$EImY:function(){com.coremedia.ui.components.AdvancedFieldContainer.prototype.constructor.apply(this,arguments)},config:{bindTo:null,forceReadOnlyValueExpression:null,propertyName:null,hideIssues:false,addEmptyItem:false},statics:{AVAILABLE_LOCALES_COMBO_BOX_ITEM_ID:"availableLocalesComboBoxItemId"},requires:["com.coremedia.ui.components.AdvancedFieldContainer",
"com.coremedia.ui.util.createComponentSelector","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin","com.coremedia.cms.editor.sdk.translate.AvailableLocalesComboBox","com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.LinkListViewDragZone",function(LinkListViewDragZone){function LinkListViewDragZone$(config){var this$=this;if(arguments.length<=0)config=null;AS3.setBindable(this,"ddGroups",AS3.getBindable(config,"ddGroups")||[]);if(!config.ddGroup&&AS3.getBindable(this,"ddGroups").length>0){config.ddGroup=AS3.getBindable(this,"ddGroups")[0];AS3.setBindable(this,"ddGroups",AS3.getBindable(this,"ddGroups").slice(1))}this.super$CesG(config);AS3.setBindable(this,
"htmlFeedback",AS3.getBindable(config,"htmlFeedback")||com.coremedia.cms.editor.sdk.dragdrop.DragDropVisualFeedback.getHtmlFeedback);AS3.getBindable(this,"ddGroups").forEach(function(ddGroup){this$.addToGroup(ddGroup)})}function onStartDrag(x,y){Ext.view.DragZone.prototype.onStartDrag.call(this,x,y);var view=AS3.as(this["view"],Ext.view.Table);this.dragData.sourceView=view;var recordFromIndexes={};this.dragData.records.forEach(function(record){recordFromIndexes[record.getId()]=AS3.as(view.getStore(),
Ext.data.Store).indexOf(record)});this.dragData.recordFromIndexes=recordFromIndexes;this.getProxy().update(AS3.getBindable(this,"htmlFeedback")(this.dragData.records))}return{extend:"Ext.view.DragZone",metadata:{"":["PublicApi"]},constructor:LinkListViewDragZone$,super$CesG:function(){Ext.view.DragZone.prototype.constructor.apply(this,arguments)},onStartDrag:onStartDrag,config:{ddGroups:null,htmlFeedback:null},requires:["Ext.data.Store","Ext.view.DragZone","Ext.view.Table"],uses:["com.coremedia.cms.editor.sdk.dragdrop.DragDropVisualFeedback"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.LinkListDropAreaWithSuggestions",function(LinkListDropAreaWithSuggestions){function LinkListDropAreaWithSuggestions$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.LinkListDropAreaWithSuggestionsBase,{});var defaults_$1=AS3.cast(LinkListDropAreaWithSuggestions,{});var ui_DataField_48_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_48_9_$1.name="id";ui_DataField_48_9_$1.encode=
false;var ui_DataField_50_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_50_9_$1.name="name";ui_DataField_50_9_$1.encode=false;var ui_DataField_52_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_52_9_$1.name="typeCls";ui_DataField_52_9_$1.mapping="type";ui_DataField_52_9_$1["convert"]=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.getIconStyleClassForContentType;ui_DataField_52_9_$1.encode=false;var ui_DataField_56_9_$1=AS3.cast(com.coremedia.ui.store.DataField,
{});ui_DataField_56_9_$1.name="typeName";ui_DataField_56_9_$1.mapping="type.name";ui_DataField_56_9_$1["convert"]=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.localizeDocumentTypeName;ui_DataField_56_9_$1.encode=false;var ui_DataField_60_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_60_9_$1.name="lifecycleStatus";ui_DataField_60_9_$1.mapping="";ui_DataField_60_9_$1.convert=AS3.bind(this,"getDetailedLifecycleStatus");ui_DataField_60_9_$1.encode=false;var ui_DataField_64_9_$1=
AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_64_9_$1.name="lifecycleStatusCls";ui_DataField_64_9_$1.mapping="";ui_DataField_64_9_$1["convert"]=AS3.bind(this,"getDetailedLifecycleStatusCls");ui_DataField_64_9_$1.encode=false;var ui_DataField_68_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_68_9_$1.name="siteName";ui_DataField_68_9_$1.mapping="";ui_DataField_68_9_$1.ifUnreadable="";ui_DataField_68_9_$1["convert"]=com.coremedia.cms.editor.sdk.util.SiteUtil.getSiteNameFor;
var ui_DataField_72_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_72_9_$1.name="siteLocale";ui_DataField_72_9_$1.mapping="";ui_DataField_72_9_$1.ifUnreadable="";ui_DataField_72_9_$1["convert"]=com.coremedia.cms.editor.sdk.util.SiteUtil.getSiteLocaleNameFor;AS3.setBindable(defaults_$1,"defaultFields",[ui_DataField_48_9_$1,ui_DataField_50_9_$1,ui_DataField_52_9_$1,ui_DataField_56_9_$1,ui_DataField_60_9_$1,ui_DataField_64_9_$1,ui_DataField_68_9_$1,ui_DataField_72_9_$1]);config=net.jangaroo.ext.Exml.apply(defaults_$1,
config);config_$1.maskOnDisable=false;config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.FRAME.getSkin());config_$1.defaultFocus=net.jangaroo.ext.Exml.asString(com.coremedia.ui.util.createComponentSelector().itemId(com.coremedia.cms.editor.sdk.premular.fields.LinkListDropAreaWithSuggestionsBase.INLINE_SEARCH_COMBOBOX_ID).build());var container_85_5_$1=AS3.cast(Ext.container.Container,{});container_85_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.fields.LinkListDropAreaWithSuggestionsBase.SUGGESTING_DROP_AREA_CONTAINER_ID);
var layout_HBox_87_9_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(container_85_5_$1,"layout",layout_HBox_87_9_$1);var button_90_9_$1=AS3.cast(Ext.button.Button,{});button_90_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE.getSkin());AS3.setBindable(button_90_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","add")));AS3.setBindable(button_90_9_$1,"handler",AS3.bind(this,"focusSuggestionField"));
button_90_9_$1.tabIndex=-1;AS3.setBindable(button_90_9_$1,"tooltip",mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","LinkListPropertyFieldWithSuggestions__button_focus_tooltip_text"));button_90_9_$1.ariaLabel=net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","LinkListPropertyFieldWithSuggestions__button_focus_tooltip_text"));var ui_BEMMixin_97_13_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,
{});AS3.setBindable(ui_BEMMixin_97_13_$1,"bemElement",com.coremedia.cms.editor.sdk.premular.fields.LinkListDropAreaWithSuggestionsBase.BUTTON_ELEMENT);delete ui_BEMMixin_97_13_$1["xtype"];delete ui_BEMMixin_97_13_$1["xclass"];net.jangaroo.ext.Exml.apply(button_90_9_$1,ui_BEMMixin_97_13_$1);var ui_SimpleSuggestionsComboBox_100_9_$1=AS3.cast(com.coremedia.ui.components.SimpleSuggestionsComboBox,{});ui_SimpleSuggestionsComboBox_100_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.fields.LinkListDropAreaWithSuggestionsBase.INLINE_SEARCH_COMBOBOX_ID);
AS3.setBindable(ui_SimpleSuggestionsComboBox_100_9_$1,"doQueryFunction",AS3.bind(this,"triggerSuggestionSearch"));ui_SimpleSuggestionsComboBox_100_9_$1.ariaLabel=net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","LinkListPropertyFieldWithSuggestions_text"));ui_SimpleSuggestionsComboBox_100_9_$1.flex=1;ui_SimpleSuggestionsComboBox_100_9_$1.queryMode="remote";ui_SimpleSuggestionsComboBox_100_9_$1["lastQuery"]="";ui_SimpleSuggestionsComboBox_100_9_$1.minChars=
3;ui_SimpleSuggestionsComboBox_100_9_$1.queryDelay=500;ui_SimpleSuggestionsComboBox_100_9_$1.queryParam="query";AS3.setBindable(ui_SimpleSuggestionsComboBox_100_9_$1,"hideTrigger",true);ui_SimpleSuggestionsComboBox_100_9_$1.enableKeyEvents=true;ui_SimpleSuggestionsComboBox_100_9_$1.triggerAction="query";ui_SimpleSuggestionsComboBox_100_9_$1.selectOnTab=false;AS3.setBindable(ui_SimpleSuggestionsComboBox_100_9_$1,"displayField",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"text")||mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor",
"LinkListPropertyFieldWithSuggestions_text")));AS3.setBindable(ui_SimpleSuggestionsComboBox_100_9_$1,"emptyText",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"text")||mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","LinkListPropertyFieldWithSuggestions_text")));ui_SimpleSuggestionsComboBox_100_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.TextfieldSkin.EMBEDDED.getSkin());var boundList_117_13_$1=AS3.cast(Ext.view.BoundList,{});boundList_117_13_$1.itemTpl=
config.suggestionsTemplate;boundList_117_13_$1.deferEmptyText=false;AS3.setBindable(boundList_117_13_$1,"maxHeight",AS3.getBindable(config,"suggestionsComboBoxPickerMaxHeight")||com.coremedia.cms.editor.sdk.premular.fields.LinkListDropAreaWithSuggestionsBase.DEFAULT_SUGGESTIONS_COMBOBOX_PICKER_MAX_HEIGHT);AS3.setBindable(boundList_117_13_$1,"scrollable","vertical");boundList_117_13_$1.itemSelector="div";ui_SimpleSuggestionsComboBox_100_9_$1.listConfig=boundList_117_13_$1;var local_LinkListBindListPlugin_125_13_$1=
AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.LinkListBindListPlugin,{});AS3.setBindable(local_LinkListBindListPlugin_125_13_$1,"bindTo",this.getSuggestedLinksValueExpressions());AS3.setBindable(local_LinkListBindListPlugin_125_13_$1,"fields",com.coremedia.cms.editor.sdk.premular.fields.LinkListDropAreaWithSuggestionsBase.makeFields(config));var ui_StopEventPropagationPlugin_127_13_$1=AS3.cast(com.coremedia.ui.plugins.StopEventPropagationPlugin,{});ui_SimpleSuggestionsComboBox_100_9_$1.plugins=
[local_LinkListBindListPlugin_125_13_$1,ui_StopEventPropagationPlugin_127_13_$1];ui_SimpleSuggestionsComboBox_100_9_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var button_130_9_$1=AS3.cast(Ext.button.Button,{});button_130_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE.getSkin());button_130_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.fields.LinkListDropAreaWithSuggestionsBase.INLINE_SEARCH_LIBRARY_BUTTON_ID);AS3.setBindable(button_130_9_$1,
"iconCls",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","LinkListPropertyField_button_icon")));button_130_9_$1.ariaLabel=net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","LinkListPropertyField_button_aria_label"));AS3.setBindable(button_130_9_$1,"tooltip",mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","LinkListPropertyFieldWithSuggestions__button_tooltip_text"));
var ui_BEMMixin_136_13_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,{});AS3.setBindable(ui_BEMMixin_136_13_$1,"bemElement",com.coremedia.cms.editor.sdk.premular.fields.LinkListDropAreaWithSuggestionsBase.BUTTON_ELEMENT);delete ui_BEMMixin_136_13_$1["xtype"];delete ui_BEMMixin_136_13_$1["xclass"];net.jangaroo.ext.Exml.apply(button_130_9_$1,ui_BEMMixin_136_13_$1);container_85_5_$1.items=[button_90_9_$1,ui_SimpleSuggestionsComboBox_100_9_$1,button_130_9_$1];var ui_BEMPlugin_141_9_$1=AS3.cast(com.coremedia.ui.plugins.BEMPlugin,
{});AS3.setBindable(ui_BEMPlugin_141_9_$1,"block",com.coremedia.cms.editor.sdk.premular.fields.LinkListDropAreaWithSuggestionsBase.LINK_LIST_DROP_AREA_BLOCK);container_85_5_$1.plugins=[ui_BEMPlugin_141_9_$1];config_$1.items=[container_85_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$SZZY(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.LinkListDropAreaWithSuggestionsBase",alias:"widget.com.coremedia.cms.editor.sdk.config.linkListDropAreaWithSuggestions",suggestionsTemplate:null,
constructor:LinkListDropAreaWithSuggestions$,super$SZZY:function(){com.coremedia.cms.editor.sdk.premular.fields.LinkListDropAreaWithSuggestionsBase.prototype.constructor.apply(this,arguments)},config:{iconCls:null,text:null,defaultFields:null,extraFields:null},requires:["Ext.button.Button","Ext.container.Container","Ext.layout.container.HBox","Ext.view.BoundList","com.coremedia.cms.editor.sdk.premular.fields.LinkListDropAreaWithSuggestionsBase","com.coremedia.ui.components.SimpleSuggestionsComboBox",
"com.coremedia.ui.plugins.BEMMixin","com.coremedia.ui.plugins.BEMPlugin","com.coremedia.ui.plugins.StopEventPropagationPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.ContainerSkin","com.coremedia.ui.skins.TextfieldSkin","com.coremedia.ui.store.DataField","com.coremedia.ui.util.createComponentSelector","mx.resources.ResourceManager","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.fields.LinkListBindListPlugin","com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil",
"com.coremedia.cms.editor.sdk.util.SiteUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.BlobPropertyField",function(BlobPropertyField){var CONTAINER_WIDTH_HEIGHT$static=128;var IMAGE_WIDTH_HEIGHT$static;function IMAGE_WIDTH_HEIGHT$static_(){IMAGE_WIDTH_HEIGHT$static=CONTAINER_WIDTH_HEIGHT$static-2}var BLOB_BLOCK$static;function BLOB_BLOCK$static_(){BLOB_BLOCK$static=new com.coremedia.ui.models.bem.BEMBlock("cm-blob-property-field-blob")}var BLOB_MODIFIER_IMAGE$static;function BLOB_MODIFIER_IMAGE$static_(){BLOB_MODIFIER_IMAGE$static=
BLOB_BLOCK$static.createModifier("image")}function __initialize__(config){this.propertiesValueExpression$$eDr=AS3.getBindable(config,"bindTo").extendBy("properties");this.propertyValueExpression$$eDr=this.propertiesValueExpression$$eDr.extendBy(AS3.getBindable(config,"propertyName"))}function BlobPropertyField$(config){if(arguments.length<=0)config=null;this.__initialize__$$eDr(config);var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.BlobPropertyFieldBase,{});var defaults_$1=AS3.cast(BlobPropertyField,
{});AS3.setBindable(defaults_$1,"containerLayout","form");config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var ui_BindPropertyPlugin_105_5_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_105_5_$1.bindTo=AS3.getBindable(config,"bindTo").extendBy("type.name");ui_BindPropertyPlugin_105_5_$1.componentProperty="fieldLabel";ui_BindPropertyPlugin_105_5_$1.transformer=function(value){return com.coremedia.cms.editor.sdk.util.PropertyEditorUtil.getLocalizedLabel(value,
AS3.getBindable(config,"propertyName"))};var editor_PropertyFieldPlugin_108_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin,{});AS3.setBindable(editor_PropertyFieldPlugin_108_5_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));config_$1.plugins=[ui_BindPropertyPlugin_105_5_$1,editor_PropertyFieldPlugin_108_5_$1];var layout_Auto_112_5_$1=AS3.cast(Ext.layout.container.Auto,{});AS3.setBindable(config_$1,"layout",layout_Auto_112_5_$1);var panel_115_5_$1=
AS3.cast(Ext.panel.Panel,{});var ui_HorizontalSpacingPlugin_117_9_$1=AS3.cast(com.coremedia.ui.plugins.HorizontalSpacingPlugin,{});AS3.setBindable(ui_HorizontalSpacingPlugin_117_9_$1,"modifier",com.coremedia.ui.bem.SpacingBEMEntities.HORIZONTAL_SPACING_MODIFIER_200);panel_115_5_$1.plugins=[ui_HorizontalSpacingPlugin_117_9_$1];var toolbar_120_9_$1=AS3.cast(Ext.toolbar.Toolbar,{});toolbar_120_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.HEADER_GRID_100.getSkin());var ui_IconButton_122_13_$1=
AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_122_13_$1.itemId="deleteBlob";var editor_DeleteBlobAction_124_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.DeleteBlobAction,{});AS3.setBindable(editor_DeleteBlobAction_124_17_$1,"blobValueExpression",this.propertyValueExpression$$eDr);AS3.setBindable(editor_DeleteBlobAction_124_17_$1,"contentValueExpression",AS3.getBindable(config,"bindTo"));AS3.setBindable(editor_DeleteBlobAction_124_17_$1,"forceReadOnlyVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.DocumentTabPanel.FORCE_READ_ONLY_VARIABLE_NAME));
ui_IconButton_122_13_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.DeleteBlobAction(editor_DeleteBlobAction_124_17_$1);var ui_IconButton_130_13_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_130_13_$1.itemId="openBlob";var editor_OpenBlobAction_132_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenBlobAction,{});AS3.setBindable(editor_OpenBlobAction_132_17_$1,"blobValueExpression",this.propertyValueExpression$$eDr);ui_IconButton_130_13_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.OpenBlobAction(editor_OpenBlobAction_132_17_$1);
toolbar_120_9_$1.items=[ui_IconButton_122_13_$1,ui_IconButton_130_13_$1];panel_115_5_$1.tbar=toolbar_120_9_$1;var ui_SwitchingContainer_140_9_$1=AS3.cast(com.coremedia.ui.components.SwitchingContainer,{});AS3.setBindable(ui_SwitchingContainer_140_9_$1,"activeItemValueExpression",this.propertyValueExpression$$eDr);ui_SwitchingContainer_140_9_$1.maskOnDisable=false;AS3.setBindable(ui_SwitchingContainer_140_9_$1,"transformer",AS3.bind(this,"getIdFromMimeType"));var editor_BindDisablePlugin_144_13_$1=
AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin,{});AS3.setBindable(editor_BindDisablePlugin_144_13_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));editor_BindDisablePlugin_144_13_$1.bindTo=AS3.getBindable(config,"bindTo");ui_SwitchingContainer_140_9_$1.plugins=[editor_BindDisablePlugin_144_13_$1];var ui_ExtendedContainer_148_13_$1=AS3.cast(com.coremedia.ui.components.ExtendedContainer,{});ui_ExtendedContainer_148_13_$1.itemId=
net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.fields.BlobPropertyFieldBase.BLOB_CONTAINER_ITEM_ID);ui_ExtendedContainer_148_13_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.FRAME.getSkin());AS3.setBindable(ui_ExtendedContainer_148_13_$1,"height",CONTAINER_WIDTH_HEIGHT$static);AS3.setBindable(ui_ExtendedContainer_148_13_$1,"width",CONTAINER_WIDTH_HEIGHT$static);var ui_IconDisplayField_153_17_$1=AS3.cast(com.coremedia.ui.components.IconDisplayField,
{});AS3.setBindable(ui_IconDisplayField_153_17_$1,"scale","large");ui_IconDisplayField_153_17_$1.hideLabel=true;ui_IconDisplayField_153_17_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.IconDisplayFieldSkin.DOUBLE.getSkin());var ui_BindPlugin_157_21_$1=AS3.cast(com.coremedia.ui.plugins.BindPlugin,{});ui_BindPlugin_157_21_$1.bindTo=this.propertyValueExpression$$eDr;ui_BindPlugin_157_21_$1.boundValueChanged=AS3.bind(this,"updateIconClass");ui_IconDisplayField_153_17_$1.plugins=[ui_BindPlugin_157_21_$1];
ui_ExtendedContainer_148_13_$1.items=[ui_IconDisplayField_153_17_$1];var editor_ShowIssuesPlugin_164_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin,{});editor_ShowIssuesPlugin_164_17_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(editor_ShowIssuesPlugin_164_17_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));AS3.setBindable(editor_ShowIssuesPlugin_164_17_$1,"hideIssues",AS3.getBindable(config,"hideIssues"));var ui_BEMPlugin_167_17_$1=
AS3.cast(com.coremedia.ui.plugins.BEMPlugin,{});AS3.setBindable(ui_BEMPlugin_167_17_$1,"block",BLOB_BLOCK$static);ui_ExtendedContainer_148_13_$1.plugins=[editor_ShowIssuesPlugin_164_17_$1,ui_BEMPlugin_167_17_$1];var layout_HBox_170_17_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_170_17_$1,"pack","center");AS3.setBindable(layout_HBox_170_17_$1,"align","middle");AS3.setBindable(ui_ExtendedContainer_148_13_$1,"layout",layout_HBox_170_17_$1);var ui_ExtendedContainer_174_13_$1=
AS3.cast(com.coremedia.ui.components.ExtendedContainer,{});ui_ExtendedContainer_174_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.fields.BlobPropertyFieldBase.IMAGE_CONTAINER_ITEM_ID);ui_ExtendedContainer_174_13_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.FRAME.getSkin());AS3.setBindable(ui_ExtendedContainer_174_13_$1,"width",CONTAINER_WIDTH_HEIGHT$static);AS3.setBindable(ui_ExtendedContainer_174_13_$1,"height",CONTAINER_WIDTH_HEIGHT$static);
var ui_Image_180_17_$1=AS3.cast(com.coremedia.ui.components.Image,{});AS3.setBindable(ui_Image_180_17_$1,"width",IMAGE_WIDTH_HEIGHT$static);AS3.setBindable(ui_Image_180_17_$1,"height",IMAGE_WIDTH_HEIGHT$static);var editor_SetPropertyLabelPlugin_183_21_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin,{});editor_SetPropertyLabelPlugin_183_21_$1.bindTo=AS3.getBindable(config,"bindTo");editor_SetPropertyLabelPlugin_183_21_$1.propertyName=net.jangaroo.ext.Exml.asString(AS3.getBindable(config,
"propertyName"));var ui_BindPropertyPlugin_185_21_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_185_21_$1.componentProperty="src";ui_BindPropertyPlugin_185_21_$1.bindTo=this.propertyValueExpression$$eDr.extendBy("uri");ui_BindPropertyPlugin_185_21_$1.transformer=this.getBlobImageTransformer(IMAGE_WIDTH_HEIGHT$static,IMAGE_WIDTH_HEIGHT$static);ui_Image_180_17_$1.plugins=[editor_SetPropertyLabelPlugin_183_21_$1,ui_BindPropertyPlugin_185_21_$1];ui_ExtendedContainer_174_13_$1.items=
[ui_Image_180_17_$1];var editor_ShowIssuesPlugin_192_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin,{});editor_ShowIssuesPlugin_192_17_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(editor_ShowIssuesPlugin_192_17_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));AS3.setBindable(editor_ShowIssuesPlugin_192_17_$1,"hideIssues",AS3.getBindable(config,"hideIssues"));var ui_BEMPlugin_195_17_$1=AS3.cast(com.coremedia.ui.plugins.BEMPlugin,
{});AS3.setBindable(ui_BEMPlugin_195_17_$1,"block",BLOB_BLOCK$static);ui_ExtendedContainer_174_13_$1.plugins=[editor_ShowIssuesPlugin_192_17_$1,ui_BEMPlugin_195_17_$1];var editor_Html5Upload_198_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.components.html5.Html5Upload,{});editor_Html5Upload_198_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.fields.BlobPropertyFieldBase.EMPTY_CONTAINER_ITEM_ID);AS3.setBindable(editor_Html5Upload_198_13_$1,"width",CONTAINER_WIDTH_HEIGHT$static);
AS3.setBindable(editor_Html5Upload_198_13_$1,"height",CONTAINER_WIDTH_HEIGHT$static);AS3.setBindable(editor_Html5Upload_198_13_$1,"bindTo",this.propertiesValueExpression$$eDr);AS3.setBindable(editor_Html5Upload_198_13_$1,"targetProperty",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));AS3.setBindable(editor_Html5Upload_198_13_$1,"buttonText",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.util.PropertyEditorUtil.getBlobUploadButtonText(AS3.getBindable(config,"contentType"),
AS3.getBindable(config,"buttonText"))));AS3.setBindable(editor_Html5Upload_198_13_$1,"helpText",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.util.PropertyEditorUtil.getBlobHelpText(AS3.getBindable(config,"contentType"),AS3.getBindable(config,"helpText"))));var editor_BindDisablePlugin_206_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin,{});AS3.setBindable(editor_BindDisablePlugin_206_17_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));
editor_BindDisablePlugin_206_17_$1.bindTo=AS3.getBindable(config,"bindTo");var editor_ShowIssuesPlugin_208_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin,{});editor_ShowIssuesPlugin_208_17_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(editor_ShowIssuesPlugin_208_17_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));AS3.setBindable(editor_ShowIssuesPlugin_208_17_$1,"hideIssues",AS3.getBindable(config,"hideIssues"));var ui_BEMPlugin_211_17_$1=
AS3.cast(com.coremedia.ui.plugins.BEMPlugin,{});AS3.setBindable(ui_BEMPlugin_211_17_$1,"block",BLOB_BLOCK$static);editor_Html5Upload_198_13_$1.plugins=[editor_BindDisablePlugin_206_17_$1,editor_ShowIssuesPlugin_208_17_$1,ui_BEMPlugin_211_17_$1];ui_SwitchingContainer_140_9_$1.items=[ui_ExtendedContainer_148_13_$1,ui_ExtendedContainer_174_13_$1,editor_Html5Upload_198_13_$1];var container_217_9_$1=AS3.cast(Ext.container.Container,{});container_217_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.fields.BlobPropertyFieldBase.BLOB_DETAILS_ITEM_ID);
var displayField_219_13_$1=AS3.cast(Ext.form.field.Display,{});AS3.setBindable(displayField_219_13_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","Blob_size_text")));var ui_BindPropertyPlugin_221_17_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_221_17_$1.componentProperty="value";ui_BindPropertyPlugin_221_17_$1.transformer=AS3.getBindable(config,"sizeLabelTransformer")||com.coremedia.cms.editor.sdk.util.PropertyEditorUtil.getHumanReadableBlobSize;
ui_BindPropertyPlugin_221_17_$1.bindTo=this.propertyValueExpression$$eDr;displayField_219_13_$1.plugins=[ui_BindPropertyPlugin_221_17_$1];var displayField_226_13_$1=AS3.cast(Ext.form.field.Display,{});AS3.setBindable(displayField_226_13_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","Blob_contentType_text")));var ui_BindPropertyPlugin_228_17_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_228_17_$1.componentProperty=
"value";ui_BindPropertyPlugin_228_17_$1.transformer=com.coremedia.cms.editor.sdk.util.PropertyEditorUtil.getBlobContentType;ui_BindPropertyPlugin_228_17_$1.bindTo=this.propertyValueExpression$$eDr;displayField_226_13_$1.plugins=[ui_BindPropertyPlugin_228_17_$1];container_217_9_$1.items=[displayField_219_13_$1,displayField_226_13_$1];panel_115_5_$1.items=[ui_SwitchingContainer_140_9_$1,container_217_9_$1];var layout_HBox_237_9_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(panel_115_5_$1,
"layout",layout_HBox_237_9_$1);config_$1.items=[panel_115_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$$eDr(config_$1);modifiersValueExpression_.call(this)}function modifiersValueExpression_(){this.modifiersValueExpression=com.coremedia.ui.data.ValueExpressionFactory.createFromValue([])}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.BlobPropertyFieldBase",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.blobPropertyField",propertiesValueExpression$$eDr:null,
propertyValueExpression$$eDr:null,__initialize__$$eDr:__initialize__,constructor:BlobPropertyField$,super$$eDr:function(){com.coremedia.cms.editor.sdk.premular.fields.BlobPropertyFieldBase.prototype.constructor.apply(this,arguments)},config:{bindTo:null,forceReadOnlyValueExpression:null,modifiersValueExpression:undefined,propertyName:null,contentType:null,buttonText:null,helpText:null,hideIssues:false,blobIconCls:null,sizeLabelTransformer:null,containerLayout:null},statics:{IMAGE_WIDTH_HEIGHT:undefined,
BLOB_BLOCK:undefined,BLOB_MODIFIER_IMAGE:undefined,__initStatics__:function(){IMAGE_WIDTH_HEIGHT$static_();BLOB_BLOCK$static_();BLOB_MODIFIER_IMAGE$static_()}},requires:["Ext.container.Container","Ext.form.field.Display","Ext.layout.container.Auto","Ext.layout.container.HBox","Ext.panel.Panel","Ext.toolbar.Toolbar","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.premular.fields.BlobPropertyFieldBase","com.coremedia.ui.bem.SpacingBEMEntities","com.coremedia.ui.components.ExtendedContainer",
"com.coremedia.ui.components.IconButton","com.coremedia.ui.components.IconDisplayField","com.coremedia.ui.components.Image","com.coremedia.ui.components.SwitchingContainer","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.models.bem.BEMBlock","com.coremedia.ui.plugins.BEMPlugin","com.coremedia.ui.plugins.BindPlugin","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.HorizontalSpacingPlugin","com.coremedia.ui.skins.ContainerSkin","com.coremedia.ui.skins.IconDisplayFieldSkin",
"com.coremedia.ui.skins.ToolbarSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.actions.DeleteBlobAction","com.coremedia.cms.editor.sdk.actions.OpenBlobAction","com.coremedia.cms.editor.sdk.components.html5.Html5Upload","com.coremedia.cms.editor.sdk.premular.DocumentTabPanel","com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin",
"com.coremedia.cms.editor.sdk.util.PropertyEditorUtil","com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.InternalLinkButton",function(InternalLinkButton){function InternalLinkButton$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.InternalLinkButtonBase,{});var defaults_$1=AS3.cast(InternalLinkButton,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.ui.ckeditor.CKEditor",
"cminternallink_iconCls")));AS3.setBindable(config_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.ui.ckeditor.CKEditor","cminternallink_text")));AS3.setBindable(config_$1,"tooltip",this.resourceManager.getString("com.coremedia.ui.ckeditor.CKEditor","cminternallink_tooltip"));config_$1.enableToggle=true;config_$1.toggleHandler=AS3.bind(this,"onToggle");net.jangaroo.ext.Exml.apply(config_$1,config);this.super$5wmS(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.InternalLinkButtonBase",
alias:"widget.com.coremedia.cms.editor.sdk.config.internalLinkButton",constructor:InternalLinkButton$,super$5wmS:function(){com.coremedia.cms.editor.sdk.premular.fields.InternalLinkButtonBase.prototype.constructor.apply(this,arguments)},config:{bindTo:null,forceReadOnlyValueExpression:null},requires:["com.coremedia.cms.editor.sdk.premular.fields.InternalLinkButtonBase","com.coremedia.ui.ckeditor.CKEditor_properties","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.MoveStringListEntryAction",function(MoveStringListEntryAction){function MoveStringListEntryAction$(config){if(arguments.length<=0)config=null;this.super$K54L(AS3.cast(MoveStringListEntryAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,"moveStructListItem"+config.direction,{handler:AS3.bind(this,"doExecute$K54L")})))}function isUp(){return AS3.cast(MoveStringListEntryAction,this.initialConfig).direction==="Up"}
function doExecute(){if(this.calculateDisabled())return;var selectedPositionsArray=AS3.as(this.selectedPositions.getValue(),Array);if(selectedPositionsArray&&selectedPositionsArray.length===1){var selectedRow=selectedPositionsArray[0];var selectedValue=this.selectedValues.getValue()[0];var list=this.stringListEntriesValueExpression.getValue();var newList=list.concat();if(this.isUp$K54L()&&selectedRow>0){this.changePlaces$K54L(newList,selectedRow-1,selectedRow);selectedRow=selectedRow-1}else if(!this.isUp$K54L()&&
selectedRow<list.length-1){this.changePlaces$K54L(newList,selectedRow,selectedRow+1);selectedRow=selectedRow+1}this.stringListEntriesValueExpression.setValue(newList);this.selectedValues.setValue([new com.coremedia.cms.editor.sdk.premular.fields.StringListPropertyFieldEntry(newList[selectedRow],selectedRow,this.selectedValues)])}}function changePlaces(newList,firstIndex,secondIndex){var first=newList[firstIndex];var second=newList[secondIndex];newList[firstIndex]=second;newList[secondIndex]=first}
function calculateDisabled(){if(com.coremedia.cms.editor.sdk.premular.fields.StringListUpdateAction.prototype.calculateDisabled.call(this))return true;var selectedPositionsArray=AS3.as(this.selectedPositions.getValue(),Array);var stringListEntriesArray=AS3.as(this.stringListEntriesValueExpression.getValue(),Array);if(!stringListEntriesArray||!selectedPositionsArray||selectedPositionsArray.length!==1)return true;var isFirstRow=selectedPositionsArray[0]===0;var isLastRow=selectedPositionsArray[0]>=
stringListEntriesArray.length-1;return this.isUp$K54L()&&isFirstRow||!this.isUp$K54L()&&isLastRow}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.StringListUpdateAction",direction:null,constructor:MoveStringListEntryAction$,super$K54L:function(){com.coremedia.cms.editor.sdk.premular.fields.StringListUpdateAction.prototype.constructor.apply(this,arguments)},isUp$K54L:isUp,doExecute$K54L:doExecute,changePlaces$K54L:changePlaces,calculateDisabled:calculateDisabled,requires:["com.coremedia.cms.editor.sdk.premular.fields.StringListUpdateAction"],
uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil","com.coremedia.cms.editor.sdk.premular.fields.StringListPropertyFieldEntry"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.SingleLinkEditorBase",function(SingleLinkEditorBase){function SingleLinkEditorBase$(config){if(arguments.length<=0)config=null;this.super$LJpJ(config);this.initValidationStateMixin();this.addListener("validationStateChanged",AS3.bind(this,"onValidationChanged$LJpJ"));this.addListener("validationMessageChanged",AS3.bind(this,"onValidationChanged$LJpJ"));this.onValidationChanged$LJpJ()}function onValidationChanged(){var linkField=AS3.as(this.queryById(SingleLinkEditorBase.LINK_FIELD_ITEM_ID),
com.coremedia.cms.editor.sdk.premular.fields.SingleLinkField);AS3.setBindable(linkField,"validationState",AS3.getBindable(this,"validationState"));AS3.setBindable(linkField,"validationMessage",AS3.getBindable(this,"validationMessage"))}return{extend:"Ext.form.FieldContainer",mixins:["com.coremedia.ui.mixins.ValidationStateMixin"],constructor:SingleLinkEditorBase$,super$LJpJ:function(){Ext.form.FieldContainer.prototype.constructor.apply(this,arguments)},onValidationChanged$LJpJ:onValidationChanged,
statics:{LINK_FIELD_ITEM_ID:"target"},requires:["Ext.form.FieldContainer","com.coremedia.ui.mixins.ValidationStateMixin"],uses:["com.coremedia.cms.editor.sdk.premular.fields.SingleLinkField"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.LinkListBindListPlugin",function(LinkListBindListPlugin){function LinkListBindListPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.LinkListBindListPluginBase,{});var defaults_$1=AS3.cast(LinkListBindListPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var ui_DataField_36_5_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_36_5_$1.name="thumbnailUrl";
ui_DataField_36_5_$1.mapping="";ui_DataField_36_5_$1.ifUnreadable="";var ui_DataField_39_5_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_39_5_$1.name="type";ui_DataField_39_5_$1.mapping="type.name";ui_DataField_39_5_$1.ifError="";ui_DataField_39_5_$1.ifUnreadable="";ui_DataField_39_5_$1["convert"]=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.localizeDocumentTypeName;var ui_DataField_44_5_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_44_5_$1.name="typeCls";
ui_DataField_44_5_$1.mapping="type";ui_DataField_44_5_$1.ifError="";ui_DataField_44_5_$1.ifUnreadable=mx.resources.ResourceManager.getInstance().getString("com.coremedia.icons.CoreIcons","no_rights");ui_DataField_44_5_$1["convert"]=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.getIconStyleClassForContentType;var ui_DataField_49_5_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_49_5_$1.name="name";ui_DataField_49_5_$1.ifUnreadable=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.formatNotReadableNameFromBeanRecord;
ui_DataField_49_5_$1.ifError="";ui_DataField_49_5_$1.sortType=function(s){return s.toLowerCase()};var ui_DataField_53_5_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_53_5_$1.name="status";ui_DataField_53_5_$1.ifUnreadable="";ui_DataField_53_5_$1.ifError="";ui_DataField_53_5_$1.mapping="";ui_DataField_53_5_$1["convert"]=com.coremedia.cms.editor.sdk.util.ContentLifecycleUtil.getDetailedLifecycleStatus;var ui_DataField_58_5_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_58_5_$1.name=
"editor";ui_DataField_58_5_$1.ifUnreadable="";ui_DataField_58_5_$1.ifError="";ui_DataField_58_5_$1.mapping="editor.name";AS3.setBindable(config_$1,"fields",[ui_DataField_36_5_$1,ui_DataField_39_5_$1,ui_DataField_44_5_$1,ui_DataField_49_5_$1,ui_DataField_53_5_$1,ui_DataField_58_5_$1]);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$wOUP(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.LinkListBindListPluginBase",constructor:LinkListBindListPlugin$,super$wOUP:function(){com.coremedia.cms.editor.sdk.premular.fields.LinkListBindListPluginBase.prototype.constructor.apply(this,
arguments)},config:{additionalFields:null},requires:["com.coremedia.cms.editor.sdk.premular.fields.LinkListBindListPluginBase","com.coremedia.ui.store.DataField","mx.resources.ResourceManager","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.util.ContentLifecycleUtil","com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.PropertyFieldPluginBase",function(PropertyFieldPluginBase){function PropertyFieldPluginBase$(config){if(arguments.length<=0)config=null;this.propertyName$vW97=AS3.getBindable(config,"propertyName");this.super$vW97(config)}function init(component){this.targetComponent$vW97=component;com.coremedia.ui.util.ComponentUtil.findAsParentOf(component,com.coremedia.cms.editor.sdk.premular.DocumentTabPanel.xtype,AS3.bind(this,"addTargetComponentToPanel$vW97"))}
function getPropertyName(){return this.propertyName$vW97}function addTargetComponentToPanel(panel){this.tabPanel$vW97=panel;if(panel){this.tabPanel$vW97.registerPropertyField("properties."+this.propertyName$vW97,this.targetComponent$vW97);this.targetComponent$vW97.mon(this.targetComponent$vW97,"beforedestroy",AS3.bind(this,"unregisterPropertyField$vW97"))}else com.coremedia.ui.logging.Logger.warn("could not register property field '"+"properties."+this.propertyName$vW97+"' - no documentTabPanel found.")}
function unregisterPropertyField(){this.tabPanel$vW97.unregisterPropertyField("properties."+this.propertyName$vW97,this.targetComponent$vW97)}return{extend:"Ext.plugin.Abstract",metadata:{"":["PublicApi"]},propertyName$vW97:null,targetComponent$vW97:null,tabPanel$vW97:null,constructor:PropertyFieldPluginBase$,super$vW97:function(){Ext.plugin.Abstract.prototype.constructor.apply(this,arguments)},init:init,getPropertyName:getPropertyName,addTargetComponentToPanel$vW97:addTargetComponentToPanel,unregisterPropertyField$vW97:unregisterPropertyField,
requires:["Ext.plugin.Abstract","com.coremedia.ui.logging.Logger","com.coremedia.ui.util.ComponentUtil"],uses:["com.coremedia.cms.editor.sdk.premular.DocumentTabPanel"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.SiteInfo",function(SiteInfo){function SiteInfo$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.SiteInfoBase,{});var defaults_$1=AS3.cast(SiteInfo,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.Editor","SiteInfo_header_text"));config_$1.itemId="siteInfoForm";AS3.setBindable(config_$1,"collapsed",
false);var displayField_40_5_$1=AS3.cast(Ext.form.field.Display,{});displayField_40_5_$1.itemId=net.jangaroo.ext.Exml.asString(SiteInfo.SITE_NAME_ITEM_ID);AS3.setBindable(displayField_40_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","SiteInfo_name_text")));var ui_BindPropertyPlugin_43_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_43_9_$1.componentProperty="value";ui_BindPropertyPlugin_43_9_$1.bindTo=
this.getSiteValueExpression(config);ui_BindPropertyPlugin_43_9_$1.transformer=AS3.bind(this,"siteToName");displayField_40_5_$1.plugins=[ui_BindPropertyPlugin_43_9_$1];var displayField_48_5_$1=AS3.cast(Ext.form.field.Display,{});displayField_48_5_$1.itemId=net.jangaroo.ext.Exml.asString(SiteInfo.SITE_LOCALE_ITEM_ID);AS3.setBindable(displayField_48_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","SiteInfo_locale_text")));var ui_BindPropertyPlugin_51_9_$1=
AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_51_9_$1.componentProperty="value";ui_BindPropertyPlugin_51_9_$1.bindTo=this.getSiteValueExpression(config);ui_BindPropertyPlugin_51_9_$1.transformer=AS3.bind(this,"siteToLocale");displayField_48_5_$1.plugins=[ui_BindPropertyPlugin_51_9_$1];config_$1.items=[displayField_40_5_$1,displayField_48_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Hoot(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.SiteInfoBase",
metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.siteInfo",bindTo:null,constructor:SiteInfo$,super$Hoot:function(){com.coremedia.cms.editor.sdk.premular.SiteInfoBase.prototype.constructor.apply(this,arguments)},statics:{SITE_NAME_ITEM_ID:"documentPath",SITE_LOCALE_ITEM_ID:"typeName"},requires:["Ext.form.field.Display","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.premular.SiteInfoBase","com.coremedia.ui.plugins.BindPropertyPlugin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.GenericDocumentFormBase",function(GenericDocumentFormBase){function GenericDocumentFormBase$(config){if(arguments.length<=0)config=null;this.super$UZU5(config)}function getContent$static(config){if(!AS3.getBindable(config,"bindTo"))throw new AS3.Error("A GenericDocumentForm must have a 'bindTo' config.");var bindTo=AS3.getBindable(config,"bindTo");var content=AS3.as(bindTo.getValue(),com.coremedia.cap.content.Content);if(!content)throw new AS3.Error("A GenericDocumentForm must be bound to a document (Content).");
return content}function generatePropertyEditors$static(config){var contentType=GenericDocumentFormBase.getContent(config).getType();if(!contentType)throw new AS3.Error("Unknown content type.");var propertyEditors=[];var tabIndex=10;AS3.as(contentType,com.coremedia.cap.content.impl.ContentTypeImpl).getDescriptors().forEach(function(descriptor){var propertyEditor=buildPropertyEditor$static(descriptor);if(propertyEditor)propertyEditors.push(propertyEditor)});return propertyEditors}function buildPropertyEditor$static(descriptor){var propertyName=
descriptor.name;var propertyField;switch(descriptor.type){case com.coremedia.cap.common.CapPropertyDescriptorType.INTEGER:propertyField=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.IntegerPropertyField,{});break;case com.coremedia.cap.common.CapPropertyDescriptorType.DATE:propertyField=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.DateTimePropertyField,{});AS3.setBindable(AS3.as(propertyField,com.coremedia.cms.editor.sdk.premular.fields.DateTimePropertyField),"timeZoneHidden",true);
break;case com.coremedia.cap.common.CapPropertyDescriptorType.STRING:propertyField=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.StringPropertyField,{});break;case com.coremedia.cap.common.CapPropertyDescriptorType.BLOB:var blobPropertyDescriptor=AS3.cast(com.coremedia.cap.common.descriptors.BlobPropertyDescriptor,descriptor);var mimeParts=blobPropertyDescriptor.contentType.split("/");switch(mimeParts[0]){case "text":propertyField=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.TextBlobPropertyField,
{});break;default:propertyField=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.BlobPropertyField,{});AS3.setBindable(AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.BlobPropertyField,propertyField),"contentType",blobPropertyDescriptor.contentType)}break;case com.coremedia.cap.common.CapPropertyDescriptorType.LINK:propertyField=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyField,{});break;case com.coremedia.cap.common.CapPropertyDescriptorType.MARKUP:if(AS3.cast(com.coremedia.cap.common.descriptors.MarkupPropertyDescriptor,
descriptor).grammar===com.coremedia.cap.common.MarkupGrammar.MARKUP_GRAMMAR_RICHTEXT)propertyField=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.RichTextPropertyField,{});else propertyField=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.XmlPropertyField,{});break;case com.coremedia.cap.common.CapPropertyDescriptorType.STRUCT:propertyField=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.struct.StructPropertyField,{});break}if(propertyField)propertyField.propertyName=propertyName;
return propertyField}return{extend:"com.coremedia.cms.editor.sdk.premular.DocumentForm",constructor:GenericDocumentFormBase$,super$UZU5:function(){com.coremedia.cms.editor.sdk.premular.DocumentForm.prototype.constructor.apply(this,arguments)},statics:{getContent:getContent$static,generatePropertyEditors:generatePropertyEditors$static},requires:["AS3.Error","com.coremedia.cap.common.CapPropertyDescriptorType","com.coremedia.cap.common.MarkupGrammar","com.coremedia.cap.common.descriptors.BlobPropertyDescriptor",
"com.coremedia.cap.common.descriptors.MarkupPropertyDescriptor","com.coremedia.cap.content.Content","com.coremedia.cap.content.impl.ContentTypeImpl","com.coremedia.cms.editor.sdk.premular.DocumentForm"],uses:["com.coremedia.cms.editor.sdk.premular.fields.BlobPropertyField","com.coremedia.cms.editor.sdk.premular.fields.DateTimePropertyField","com.coremedia.cms.editor.sdk.premular.fields.IntegerPropertyField","com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyField","com.coremedia.cms.editor.sdk.premular.fields.RichTextPropertyField",
"com.coremedia.cms.editor.sdk.premular.fields.StringPropertyField","com.coremedia.cms.editor.sdk.premular.fields.TextBlobPropertyField","com.coremedia.cms.editor.sdk.premular.fields.XmlPropertyField","com.coremedia.cms.editor.sdk.premular.fields.struct.StructPropertyField"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.OpenIssuesWindowButton",function(OpenIssuesWindowButton){function OpenIssuesWindowButton$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.validation.IssuesButton,{});var defaults_$1=AS3.cast(OpenIssuesWindowButton,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"scale","medium");config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.WORKAREA.getSkin());
AS3.setBindable(config_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","OpenIssuesWindow_btn_text")));AS3.setBindable(config_$1,"issuesVE",this.getAllIssuesVE(config.bindTo));config_$1.hasIssuesText=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","OpenIssuesWindow_btn_errorMessage"));config_$1.hasNoIssuesText=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"OpenIssuesWindow_btn_tooltip"));var editor_OpenReferenceWindowAction_63_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenReferenceWindowAction,{});AS3.setBindable(editor_OpenReferenceWindowAction_63_5_$1,"toggleDialog",true);AS3.setBindable(editor_OpenReferenceWindowAction_63_5_$1,"activateOnToggle",true);AS3.setBindable(editor_OpenReferenceWindowAction_63_5_$1,"useActionAsAnimationTarget",true);var editor_IssuesWindow_67_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.IssuesWindow,{});
AS3.setBindable(editor_IssuesWindow_67_9_$1,"bindTo",this.getAllIssuesVE(config.bindTo));AS3.setBindable(editor_IssuesWindow_67_9_$1,"premular",AS3.getBindable(config,"premular"));AS3.setBindable(editor_IssuesWindow_67_9_$1,"propertyFieldRegistry",AS3.getBindable(config,"propertyFieldRegistry"));AS3.setBindable(editor_OpenReferenceWindowAction_63_5_$1,"dialog",editor_IssuesWindow_67_9_$1);config_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.OpenReferenceWindowAction(editor_OpenReferenceWindowAction_63_5_$1);
net.jangaroo.ext.Exml.apply(config_$1,config);this.super$NEke(config_$1)}function getAllIssuesVE(bindTo){if(!this.allIssuesVE$NEke)this.allIssuesVE$NEke=bindTo.extendBy("issues.all");return this.allIssuesVE$NEke}return{extend:"com.coremedia.cms.editor.sdk.validation.IssuesButton",alias:"widget.com.coremedia.cms.editor.sdk.config.openIssuesWindowButton",allIssuesVE$NEke:null,constructor:OpenIssuesWindowButton$,super$NEke:function(){com.coremedia.cms.editor.sdk.validation.IssuesButton.prototype.constructor.apply(this,
arguments)},getAllIssuesVE:getAllIssuesVE,bindTo:null,config:{propertyFieldRegistry:null,premular:null},requires:["com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.validation.IssuesButton","com.coremedia.ui.skins.ButtonSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.actions.OpenReferenceWindowAction","com.coremedia.cms.editor.sdk.premular.IssuesWindow"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.DocumentMetaDataFormDispatcher",function(DocumentMetaDataFormDispatcher){function DocumentMetaDataFormDispatcher$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.components.SubtypeAwareSwitchingContainer,{});var defaults_$1=AS3.cast(DocumentMetaDataFormDispatcher,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"activeItemValueExpression",AS3.getBindable(config,"bindTo").extendBy("type.name"));
var editor_PropertyField_29_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyField,{});AS3.setBindable(editor_PropertyField_29_5_$1,"bindTo",AS3.getBindable(config,"bindTo"));config_$1["defaultType"]=editor_PropertyField_29_5_$1["xtype"];delete editor_PropertyField_29_5_$1["xtype"];delete editor_PropertyField_29_5_$1["xclass"];config_$1.defaults=editor_PropertyField_29_5_$1;var label_33_5_$1=AS3.cast(Ext.form.Label,{});AS3.setBindable(label_33_5_$1,"text","");config_$1.items=[label_33_5_$1];
config_$1.itemTemplate=null;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$yDLN(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.components.SubtypeAwareSwitchingContainer",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.documentMetaDataFormDispatcher",constructor:DocumentMetaDataFormDispatcher$,super$yDLN:function(){com.coremedia.cms.editor.sdk.components.SubtypeAwareSwitchingContainer.prototype.constructor.apply(this,arguments)},config:{bindTo:null},
requires:["Ext.form.Label","com.coremedia.cms.editor.sdk.components.SubtypeAwareSwitchingContainer","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.PropertyField"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.DownloadXliffWorkflowActionBase",function(DownloadXliffWorkflowActionBase){function DownloadXliffWorkflowActionBase$(config){if(arguments.length<=0)config=null;this.derivedContentsVariable$lnkH=AS3.getBindable(config,"derivedContentsVariable");this.masterContentObjectsVariable$lnkH=AS3.getBindable(config,"masterContentObjectsVariable");this.filenameVariable$lnkH=AS3.getBindable(config,"filenameVariable");this.commentVariable$lnkH=AS3.getBindable(config,
"commentVariable");this.processValueExpression$lnkH=AS3.getBindable(config,"processValueExpression");this.taskValueExpression$lnkH=AS3.getBindable(config,"taskValueExpression");this.super$lnkH(AS3.cast(com.coremedia.ui.actions.DependencyTrackedAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,"downloadXliff",{handler:AS3.bind(this,"downloadXliff$lnkH")})))}function downloadXliff(){var uri=com.coremedia.ui.data.impl.RemoteService.calculateRequestURI("translate/xliffWorkflow")+
"?process\x3d"+this.getProcessUriPath$lnkH()+"\x26filenameVariable\x3d"+this.filenameVariable$lnkH+"\x26derivedContentsVariable\x3d"+this.derivedContentsVariable$lnkH+"\x26masterContentObjectsVariable\x3d"+this.masterContentObjectsVariable$lnkH+"\x26commentVariable\x3d"+this.commentVariable$lnkH;window.open(uri)}function getProcessUriPath(){var process=this.processValueExpression$lnkH.getValue();if(process)return process.getUriPath();return""}function calculateDisabled(){if(!this.taskValueExpression$lnkH)return false;
var task=this.taskValueExpression$lnkH.getValue();return!task||!task.isAccepted()||task.getPerformer()!==com.coremedia.cap.common.SESSION.getUser()}return{extend:"com.coremedia.ui.actions.DependencyTrackedAction",processValueExpression$lnkH:null,taskValueExpression$lnkH:null,derivedContentsVariable$lnkH:null,masterContentObjectsVariable$lnkH:null,filenameVariable$lnkH:null,commentVariable$lnkH:null,constructor:DownloadXliffWorkflowActionBase$,super$lnkH:function(){com.coremedia.ui.actions.DependencyTrackedAction.prototype.constructor.apply(this,
arguments)},downloadXliff$lnkH:downloadXliff,getProcessUriPath$lnkH:getProcessUriPath,calculateDisabled:calculateDisabled,requires:["com.coremedia.cap.common.SESSION","com.coremedia.ui.actions.DependencyTrackedAction","com.coremedia.ui.data.impl.RemoteService"],uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.PropertyFieldInfo",function(PropertyFieldInfo){function PropertyFieldInfo$(propertyFieldEl,propertyFieldY,propertyFieldHeight,documentForm,documentFormY,documentFormHeight){this.propertyFieldEl$FWIH=propertyFieldEl;this.propertyFieldY$FWIH=propertyFieldY;this.propertyFieldHeight$FWIH=propertyFieldHeight;this.documentForm$FWIH=documentForm;this.documentFormY$FWIH=documentFormY;this.documentFormHeight$FWIH=documentFormHeight}function getPropertyFieldEl(){return this.propertyFieldEl$FWIH}
function getPropertyFieldY(){return this.propertyFieldY$FWIH}function getPropertyFieldHeight(){return this.propertyFieldHeight$FWIH}function getDocumentForm(){return this.documentForm$FWIH}function getDocumentFormY(){return this.documentFormY$FWIH}function getDocumentFormHeight(){return this.documentFormHeight$FWIH}function getPropertyFieldRelativeY(){return this.propertyFieldY$FWIH-this.documentFormY$FWIH}function isVisible(){return this.propertyFieldY$FWIH<this.documentFormY$FWIH+this.documentFormHeight$FWIH&&
this.documentFormY$FWIH<this.propertyFieldY$FWIH+this.propertyFieldHeight$FWIH}function isFullyVisible(){return this.propertyFieldY$FWIH>=this.documentFormY$FWIH&&this.propertyFieldY$FWIH+this.propertyFieldHeight$FWIH<=this.documentFormY$FWIH+this.documentFormHeight$FWIH}return{propertyFieldEl$FWIH:null,propertyFieldY$FWIH:NaN,propertyFieldHeight$FWIH:NaN,documentForm$FWIH:null,documentFormY$FWIH:NaN,documentFormHeight$FWIH:NaN,constructor:PropertyFieldInfo$,getPropertyFieldEl:getPropertyFieldEl,
getPropertyFieldY:getPropertyFieldY,getPropertyFieldHeight:getPropertyFieldHeight,getDocumentForm:getDocumentForm,getDocumentFormY:getDocumentFormY,getDocumentFormHeight:getDocumentFormHeight,getPropertyFieldRelativeY:getPropertyFieldRelativeY,isVisible:isVisible,isFullyVisible:isFullyVisible}});Ext.define("com.coremedia.cms.editor.sdk.premular.TabbedDocumentFormDispatcher",function(TabbedDocumentFormDispatcher){function TabbedDocumentFormDispatcher$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.ui.components.SwitchingContainer,{});var defaults_$1=AS3.cast(TabbedDocumentFormDispatcher,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"activeItemValueExpression",AS3.getBindable(config,"bindTo").extendBy("type.name"));var fx_Object_60_7_$1=
Object({});fx_Object_60_7_$1.bindTo=AS3.getBindable(config,"bindTo");fx_Object_60_7_$1.propertyFieldRegistry=AS3.getBindable(config,"propertyFieldRegistry");fx_Object_60_7_$1.focusForwarder=AS3.getBindable(config,"focusForwarder");fx_Object_60_7_$1.premularConfigurationVE=AS3.getBindable(config,"premularConfigurationVE");fx_Object_60_7_$1.forceReadOnlyValueExpression=AS3.getBindable(config,"forceReadOnlyValueExpression");config_$1["defaultType"]=fx_Object_60_7_$1["xtype"];delete fx_Object_60_7_$1["xtype"];
delete fx_Object_60_7_$1["xclass"];config_$1.defaults=fx_Object_60_7_$1;var editor_DocumentTabPanel_68_7_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.DocumentTabPanel,{});AS3.setBindable(editor_DocumentTabPanel_68_7_$1,"bindTo",AS3.getBindable(config,"bindTo"));AS3.setBindable(editor_DocumentTabPanel_68_7_$1,"propertyFieldRegistry",AS3.getBindable(config,"propertyFieldRegistry"));AS3.setBindable(editor_DocumentTabPanel_68_7_$1,"focusForwarder",AS3.getBindable(config,"focusForwarder"));AS3.setBindable(editor_DocumentTabPanel_68_7_$1,
"premularConfigurationVE",AS3.getBindable(config,"premularConfigurationVE"));AS3.setBindable(editor_DocumentTabPanel_68_7_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));var editor_DocumentFormDispatcher_74_11_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.DocumentFormDispatcher,{});editor_DocumentFormDispatcher_74_11_$1["title"]=this.resourceManager.getString("com.coremedia.cms.editor.Editor","DocumentForm_title");AS3.setBindable(editor_DocumentFormDispatcher_74_11_$1,
"singleType",true);var editor_MetaDataPanel_77_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.MetaDataPanel,{});editor_MetaDataPanel_77_9_$1["title"]=this.resourceManager.getString("com.coremedia.cms.editor.Editor","MetaDataPanel_title");editor_DocumentTabPanel_68_7_$1.items=[editor_DocumentFormDispatcher_74_11_$1,editor_MetaDataPanel_77_9_$1];config_$1.itemTemplate=editor_DocumentTabPanel_68_7_$1;var label_84_5_$1=AS3.cast(Ext.form.Label,{});AS3.setBindable(label_84_5_$1,"text","Error: No form exists for this type of document.");
config_$1.lazyItems=[label_84_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$PT_K(config_$1)}return{extend:"com.coremedia.ui.components.SwitchingContainer",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.tabbedDocumentFormDispatcher",constructor:TabbedDocumentFormDispatcher$,super$PT_K:function(){com.coremedia.ui.components.SwitchingContainer.prototype.constructor.apply(this,arguments)},config:{bindTo:null,focusForwarder:null,propertyFieldRegistry:null,
forceReadOnlyValueExpression:null,premularConfigurationVE:null},requires:["Ext.form.Label","com.coremedia.cms.editor.Editor_properties","com.coremedia.ui.components.SwitchingContainer","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.DocumentFormDispatcher","com.coremedia.cms.editor.sdk.premular.DocumentTabPanel","com.coremedia.cms.editor.sdk.premular.MetaDataPanel"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.VersionComparisonMenuItem",function(VersionComparisonMenuItem){function VersionComparisonMenuItem$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.VersionComparisonMenuItemBase,{});var defaults_$1=AS3.cast(VersionComparisonMenuItem,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"handler",AS3.bind(this,"openVersionComparison"));var ui_BindPropertyPlugin_16_5_$1=
AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_16_5_$1.bindTo=this.getVersionInfoValueExpression();ui_BindPropertyPlugin_16_5_$1.componentProperty="text";var ui_BindIconClassPlugin_18_5_$1=AS3.cast(com.coremedia.ui.plugins.BindIconClassPlugin,{});ui_BindIconClassPlugin_18_5_$1.bindTo=this.getIconClsValueExpression();var ui_BindStyleClassPlugin_19_5_$1=AS3.cast(com.coremedia.ui.plugins.BindStyleClassPlugin,{});ui_BindStyleClassPlugin_19_5_$1.bindTo=this.getIsSelectedValueExpression();
AS3.setBindable(ui_BindStyleClassPlugin_19_5_$1,"cls","selected-version");config_$1.plugins=[ui_BindPropertyPlugin_16_5_$1,ui_BindIconClassPlugin_18_5_$1,ui_BindStyleClassPlugin_19_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$35zH(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.VersionComparisonMenuItemBase",alias:"widget.com.coremedia.cms.editor.sdk.config.versionComparisonMenuItem",constructor:VersionComparisonMenuItem$,super$35zH:function(){com.coremedia.cms.editor.sdk.premular.VersionComparisonMenuItemBase.prototype.constructor.apply(this,
arguments)},requires:["com.coremedia.cms.editor.sdk.premular.VersionComparisonMenuItemBase","com.coremedia.ui.plugins.BindIconClassPlugin","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.BindStyleClassPlugin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.EmptyIssues",function(EmptyIssues){function EmptyIssues$(entity){this.entity$Cli5=entity}function getEntity(){return this.entity$Cli5}function isValid(){return true}function getAll(){return[]}function getByProperty(){return com.coremedia.ui.data.beanFactory.createLocalBean({})}function getGlobal(){return[]}function getUri(){return""}function getUriPath(){return""}function getAbsoluteUri(){return""}function load(callback){if(arguments.length<=0)callback=
null;callback(this.entity$Cli5)}function flush(callback){if(arguments.length<=0)callback=null;callback(this.entity$Cli5)}function isLoaded(){return true}function invalidate(callback){if(arguments.length<=0)callback=null;if(callback)com.coremedia.ui.util.EventUtil.invokeLater(callback,this.entity$Cli5)}function addBeforeFlushListener(beforeFlush){}function removeBeforeFlushListener(beforeFlush){}function addPropertyChangeListener(property,onChange){}function removePropertyChangeListener(property,onChange){}
function hasPropertyChangeListener(property){return false}function addValueChangeListener(onChange){}function removeValueChangeListener(onChange){}function hasValueChangeListener(){return false}function get(property){switch(property){case "entity":return this.entity$Cli5;case "valid":return this.isValid();case "all":return this.getAll();case "byProperty":return this.getByProperty();case "global":return this.getGlobal()}return undefined}function instantiate(property){return this.get(property)}function set(property,
value){throwNotModifiableError$static()}function toObject(){return{"entity":this.entity$Cli5,"valid":this.isValid(),"all":this.getAll(),"byProperty":this.getByProperty(),"global":this.getGlobal()}}function updateProperties(newValue){throwNotModifiableError$static()}function toJson(){return com.coremedia.ui.util.ObjectUtils.toJson(this.toObject())}function getState(){return com.coremedia.ui.data.BeanState.READABLE}function addAt(property,position,value){switch(Math.max(arguments.length,1)){case 1:position=
-1;case 2:value=null}throwNotModifiableError$static()}function removeAt(property,position){if(arguments.length<=1)position=-1;throwNotModifiableError$static()}function throwNotModifiableError$static(){throw new AS3.Error("empty issues cannot be updated");}return{mixins:["com.coremedia.ui.data.validation.Issues"],entity$Cli5:null,constructor:EmptyIssues$,getEntity:getEntity,isValid:isValid,getAll:getAll,getByProperty:getByProperty,getGlobal:getGlobal,getUri:getUri,getUriPath:getUriPath,getAbsoluteUri:getAbsoluteUri,
load:load,flush:flush,isLoaded:isLoaded,invalidate:invalidate,addBeforeFlushListener:addBeforeFlushListener,removeBeforeFlushListener:removeBeforeFlushListener,addPropertyChangeListener:addPropertyChangeListener,removePropertyChangeListener:removePropertyChangeListener,hasPropertyChangeListener:hasPropertyChangeListener,addValueChangeListener:addValueChangeListener,removeValueChangeListener:removeValueChangeListener,hasValueChangeListener:hasValueChangeListener,get:get,instantiate:instantiate,set:set,
toObject:toObject,updateProperties:updateProperties,toJson:toJson,getState:getState,addAt:addAt,removeAt:removeAt,requires:["AS3.Error","com.coremedia.ui.data.BeanState","com.coremedia.ui.data.beanFactory","com.coremedia.ui.data.validation.Issues","com.coremedia.ui.util.EventUtil","com.coremedia.ui.util.ObjectUtils"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.DocumentFormToolbarContainer",function(DocumentFormToolbarContainer){function DocumentFormToolbarContainer$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.DocumentFormToolbarContainerBase,{});var defaults_$1=AS3.cast(DocumentFormToolbarContainer,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Nra7(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.DocumentFormToolbarContainerBase",
alias:"widget.com.coremedia.cms.editor.sdk.config.documentFormToolbarContainer",constructor:DocumentFormToolbarContainer$,super$Nra7:function(){com.coremedia.cms.editor.sdk.premular.DocumentFormToolbarContainerBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.premular.DocumentFormToolbarContainerBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.PropertyFieldAnnotatedLinkListWidgetBase",function(PropertyFieldAnnotatedLinkListWidgetBase){function PropertyFieldAnnotatedLinkListWidgetBase$(config){if(arguments.length<=0)config=null;this.super$qI22(config)}function calculateDefaults(){if(AS3.getBindable(this,"recordIndex","DUMMY")===undefined)throw new AS3.Error("Could not determine the record index of the widget!");var propertyFieldDefault=AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyField,
{});AS3.setBindable(propertyFieldDefault,"bindTo",AS3.getBindable(this,"bindTo"));propertyFieldDefault["propertyName"]=AS3.getBindable(this,"propertyNameWithoutIndex")+"."+AS3.getBindable(this,"recordIndex","DUMMY");AS3.setBindable(propertyFieldDefault,"forceReadOnlyValueExpression",AS3.getBindable(this,"forceReadOnlyValueExpression"));return propertyFieldDefault}return{extend:"com.coremedia.ui.components.AnnotatedLinkListWidget",constructor:PropertyFieldAnnotatedLinkListWidgetBase$,super$qI22:function(){com.coremedia.ui.components.AnnotatedLinkListWidget.prototype.constructor.apply(this,
arguments)},calculateDefaults:calculateDefaults,config:{bindTo:null,propertyNameWithoutIndex:null,forceReadOnlyValueExpression:null},requires:["AS3.Error","com.coremedia.ui.components.AnnotatedLinkListWidget"],uses:["com.coremedia.cms.editor.sdk.premular.PropertyField"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.PropertyFieldAnnotatedLinkListWidget",function(PropertyFieldAnnotatedLinkListWidget){function PropertyFieldAnnotatedLinkListWidget$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyFieldAnnotatedLinkListWidgetBase,{});var defaults_$1=AS3.cast(PropertyFieldAnnotatedLinkListWidget,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.defaults=AS3.bind(this,"calculateDefaults");
var layout_Anchor_22_5_$1=AS3.cast(Ext.layout.container.Anchor,{});AS3.setBindable(config_$1,"layout",layout_Anchor_22_5_$1);var ui_StopEventPropagationPlugin_25_5_$1=AS3.cast(com.coremedia.ui.plugins.StopEventPropagationPlugin,{});config_$1.plugins=[ui_StopEventPropagationPlugin_25_5_$1];config_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$FHOH(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.PropertyFieldAnnotatedLinkListWidgetBase",
metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.premular.PropertyFieldAnnotatedLinkListWidget",constructor:PropertyFieldAnnotatedLinkListWidget$,super$FHOH:function(){com.coremedia.cms.editor.sdk.premular.PropertyFieldAnnotatedLinkListWidgetBase.prototype.constructor.apply(this,arguments)},requires:["Ext.layout.container.Anchor","com.coremedia.cms.editor.sdk.premular.PropertyFieldAnnotatedLinkListWidgetBase","com.coremedia.ui.plugins.StopEventPropagationPlugin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.DocumentTabPanelBase",function(DocumentTabPanelBase){var TOUCHED$static="documentTabPanelTouched";var SOFT_SCROLL_INTERVAL$static=30;function DocumentTabPanelBase$(config){if(arguments.length<=0)config=null;this.propertyFieldsByDocumentFormId$PPoz={};this.propertyNameByPropertyFieldId$PPoz={};this.propertyFieldRegistry$PPoz=AS3.getBindable(config,"propertyFieldRegistry");this.bindTo$PPoz=AS3.getBindable(config,"bindTo");this.super$PPoz(config);AS3.getBindable(this,
"focusForwarder")&&AS3.getBindable(this,"focusForwarder").addListener(this);this.setForceReadOnly(AS3.getBindable(config,"forceReadOnlyValueExpression")&&AS3.getBindable(config,"forceReadOnlyValueExpression").getValue()?AS3.getBindable(config,"forceReadOnlyValueExpression").getValue():false);this.on("beforerender",AS3.bind(this,"beforeRender$PPoz"),this,{single:true});this.on(TOUCHED$static,AS3.bind(this,"sendShow$PPoz"));this.on("collapsibleChanged",AS3.bind(this,"collapsibleChanged$PPoz"))}function collapsibleChanged(collapsibleItemId,
expanded){AS3.getBindable(this,"focusForwarder").forwardCollapsibleChangeToManager(collapsibleItemId,expanded)}function onCollapsibleChange(collapsibleItemId,expanded){var collapsible=AS3.as(this.down(com.coremedia.ui.util.createComponentSelector().itemId(collapsibleItemId).build()),com.coremedia.cms.editor.sdk.premular.PropertyFieldGroup);if(collapsible&&collapsible.rendered)if(expanded)collapsible.expand(true);else collapsible.collapse()}function getContentTypeName(){return this.getItemId()}function beforeRender(){var property=
AS3.getBindable(this,"focusForwarder")&&AS3.getBindable(this,"focusForwarder").getProperty();var tabTitle;if(property)tabTitle=this.propertyFieldRegistry$PPoz.getTabTitle(property,this.getContentTypeName$PPoz());else tabTitle=AS3.getBindable(this,"focusForwarder")&&AS3.getBindable(this,"focusForwarder").getTabTitle();if(tabTitle){var tab=this.getTabByTitle$PPoz(tabTitle);if(tab){this.setActiveTab(tab.getItemId());return}}this.setActiveTab(0)}function getTabTitle$static(component){if(AS3.is(component,
com.coremedia.cms.editor.sdk.premular.DocumentForm))return AS3.getBindable(AS3.cast(com.coremedia.cms.editor.sdk.premular.DocumentForm,component),"title");if(AS3.is(component,com.coremedia.cms.editor.sdk.premular.DocumentFormDispatcher))return AS3.cast(com.coremedia.cms.editor.sdk.premular.DocumentFormDispatcher,component).title;if(AS3.is(component,Ext.panel.Panel))return AS3.getBindable(AS3.cast(Ext.panel.Panel,component),"title","DUMMY");return null}function getTabByTitle(tabTitle){var tab=AS3.cast(Ext.container.Container,
this.itemCollection.findBy(function(component){return getTabTitle$static(component)===tabTitle}));return tab}function onPropertyShow(bean,tabTitle,property,isFocus,setCurrentProperty,sendState,position,distance,scrollOnly){var content=AS3.as(bean,com.coremedia.cap.content.Content);if(!content||content.getType().getName()!==this.getContentTypeName$PPoz())return;if(property!==null){var propertyFieldFocused=this.showPropertyFieldByName$PPoz(property,isFocus,setCurrentProperty,sendState,position,distance,
scrollOnly);if(propertyFieldFocused)return}if(tabTitle!==null){var tab=this.getTabByTitle$PPoz(tabTitle);if(this.getActiveTab()!==tab){this.setActiveTabSilently$PPoz(tab);this.setCurrentPropertyField$PPoz(null)}}else this.setCurrentPropertyField$PPoz(null);if(sendState)this.sendPosition$PPoz(isFocus,false,true,scrollOnly)}function setActiveTabSilently(tab){this.tabChangeInProgress$PPoz=true;try{this.setActiveTab(tab)}finally{this.tabChangeInProgress$PPoz=false}}function focusPropertyField(focusPropertyName){return this.showPropertyFieldByName$PPoz(focusPropertyName,
true,true,true,NaN,NaN,false)}function showPropertyFieldByName(propertyName,isFocus,setCurrentProperty,sendPositionToManager,targetPosition,distance,scrollOnly){var this$=this;if(!propertyName)return false;var propertyField=this.propertyFieldRegistry$PPoz.getPropertyField(propertyName,this.getContentTypeName$PPoz());if(!propertyField)return false;var tab=propertyField.findParentBy(function(item){return this$.itemCollection.contains(item)});if(!tab)return true;if(!scrollOnly){var currentComponent=
propertyField;while(currentComponent&&currentComponent!==tab){if(AS3.is(currentComponent,Ext.panel.Panel)&&AS3.getBindable(AS3.cast(Ext.panel.Panel,currentComponent),"collapsed","DUMMY")){if(currentComponent.el)AS3.cast(Ext.panel.Panel,currentComponent).expand(true);distance=NaN}currentComponent=currentComponent.up()}}if(this.getActiveTab()!==tab){this.setActiveTabSilently$PPoz(tab);distance=NaN}var jumped=false;var propertyFieldInfo=getPropertyFieldInfo$static(propertyField);if(propertyFieldInfo){this.referencePropertyField$PPoz=
propertyField;this.referencePropertyFieldPosition$PPoz=NaN;if(isNaN(targetPosition)){jumped=!propertyFieldInfo.isFullyVisible();var propertyFieldEl=propertyFieldInfo.getPropertyFieldEl();propertyFieldEl.scrollIntoView(propertyFieldInfo.getDocumentForm().getEl(),false);this.scrollDocumentFormSoftlyBy$PPoz(0,propertyFieldInfo.getDocumentForm())}else{var totalDistance=propertyFieldInfo.getPropertyFieldRelativeY()-targetPosition;if(!isNaN(distance)&&com.coremedia.ui.util.MathUtil.signum(distance)===com.coremedia.ui.util.MathUtil.signum(totalDistance)){this.scrollDocumentFormBy$PPoz(com.coremedia.ui.util.MathUtil.signum(distance)*
Math.min(Math.abs(distance),Math.abs(totalDistance)),propertyFieldInfo.getDocumentForm());propertyFieldInfo=getPropertyFieldInfo$static(propertyField)}var currentScrollTop=propertyFieldInfo.getDocumentForm().getEl().dom.scrollTop;var currentPosition=propertyFieldInfo.getPropertyFieldRelativeY();var softScrollDistance=currentPosition-targetPosition;if(softScrollDistance<-currentScrollTop)softScrollDistance=-currentScrollTop;if(isNaN(distance)||Math.abs(softScrollDistance)<5){this.scrollDocumentFormBy$PPoz(softScrollDistance,
propertyFieldInfo.getDocumentForm());softScrollDistance=NaN}this.scrollDocumentFormSoftlyBy$PPoz(softScrollDistance,propertyFieldInfo.getDocumentForm())}}if(setCurrentProperty)this.setCurrentPropertyField$PPoz(propertyField);if(isFocus){this.expectedFocusTarget$PPoz=propertyField;if(propertyField["select"])propertyField.focus(true,1);else propertyField.focus(false,1)}if(sendPositionToManager)this.sendPosition$PPoz(true,false,jumped,false);return true}function scrollDocumentFormBy(distance,documentForm){if(distance===
0)return;var documentFormEl=documentForm.getEl();var newScrollTop=documentFormEl.dom.scrollTop+distance;this.scrollInProgress$PPoz=true;documentFormEl.dom.scrollTop=newScrollTop;this.expectedScrollPosition$PPoz=documentFormEl.dom.scrollTop;this.scrollInProgress$PPoz=false}function scrollDocumentFormSoftlyBy(softScrollDistance,component){if(isNaN(this.remainingSoftScrollDistance$PPoz)&&!isNaN(softScrollDistance))this.eventuallyScrollSoftly$PPoz();this.remainingSoftScrollDistance$PPoz=softScrollDistance;
this.softScrollingForm$PPoz=component}function eventuallyScrollSoftly(){window.setTimeout(AS3.bind(this,"scrollSoftly$PPoz"),SOFT_SCROLL_INTERVAL$static)}function scrollSoftly(){if(!isNaN(this.remainingSoftScrollDistance$PPoz)){var direction=com.coremedia.ui.util.MathUtil.signum(this.remainingSoftScrollDistance$PPoz);var absoluteDistance=Math.abs(this.remainingSoftScrollDistance$PPoz);var distance=direction*Math.min(absoluteDistance,Math.max(10,absoluteDistance/5));distance=Math.round(distance);this.remainingSoftScrollDistance$PPoz=
this.remainingSoftScrollDistance$PPoz-distance;this.scrollDocumentFormBy$PPoz(distance,this.softScrollingForm$PPoz);if(this.remainingSoftScrollDistance$PPoz===0){this.remainingSoftScrollDistance$PPoz=NaN;this.softScrollingForm$PPoz=null}else this.eventuallyScrollSoftly$PPoz()}}function setCurrentPropertyField(propertyField){this.setCurrentHighlighted$PPoz(false);this.currentPropertyField$PPoz=propertyField;this.currentFieldElement$PPoz=this.currentPropertyField$PPoz?DocumentTabPanelBase.findLabeledElement(this.currentPropertyField$PPoz):
null;this.setCurrentHighlighted$PPoz(true)}function setCurrentHighlighted(newHighlighted){setHighlighted$static(this.currentPropertyField$PPoz,newHighlighted);var ct=AS3.as(this.currentPropertyField$PPoz,Ext.container.Container);if(ct)ct.cascade(function(item){setHighlighted$static(item,newHighlighted);return true})}function setHighlighted$static(cmp,newHighlighted){var highlightable=AS3.as(cmp,com.coremedia.ui.mixins.HighlightableMixin);if(highlightable)AS3.setBindable(highlightable,"highlighted",
newHighlighted)}function findDocumentForm$static(propertyField){return AS3.cast(com.coremedia.cms.editor.sdk.premular.DocumentForm,propertyField.findParentByType(com.coremedia.cms.editor.sdk.premular.DocumentForm))}function findLabeledElement$static(propertyField){var el=propertyField.getEl();if(el&&!el.hasCls("property-field-boundary"))el=el.up("div");while(el&&(!el.child("label")||AS3.cast(Ext.dom.Element,el.child("label")).dom.innerHTML==="")&&!el.hasCls("property-field-boundary"))el=el.up("div");
if(el&&el.child("label")&&AS3.cast(Ext.dom.Element,el.child("label")).dom.innerHTML!="")return el;else return propertyField.getEl()}function hasFocus$static(field){return field["hasFocus"]||AS3.is(field,Ext.form.field.Checkbox)&&Ext.isWebKit}function registerPropertyField(propertyName,propertyField){var this$=this;var documentForm=findDocumentForm$static(propertyField);if(documentForm){var id=documentForm.getId();if(!this.propertyFieldsByDocumentFormId$PPoz[id]){this.propertyFieldsByDocumentFormId$PPoz[id]=
[];if(!documentForm.rendered)documentForm.addListener("afterrender",function(){this$.registerScrollListener$PPoz(documentForm)},null,{single:true});else this.registerScrollListener$PPoz(documentForm);documentForm.addListener("afterlayout",function(){AS3.getBindable(this$,"focusForwarder")&&AS3.getBindable(this$,"focusForwarder").refireShow()})}this.propertyFieldsByDocumentFormId$PPoz[id].push(propertyField)}this.propertyNameByPropertyFieldId$PPoz[propertyField.getId()]=propertyName;propertyField.mon(propertyField,
"focus",function(){this$.propertyFieldFocused$PPoz(propertyField)});propertyField.mon(propertyField,"blur",function(){this$.propertyFieldBlurred$PPoz(propertyField)});this.propertyFieldRegistry$PPoz.registerPropertyField(propertyName,this.getContentTypeName$PPoz(),propertyField)}function registerScrollListener(documentForm){var this$=this;documentForm.getEl().addListener("scroll",function(){this$.documentFormScrolled$PPoz(documentForm)})}function documentFormScrolled(documentForm){if(this.scrollInProgress$PPoz||
!(documentForm.getEl().dom.scrollTop!==this.expectedScrollPosition$PPoz))return;this.expectedScrollPosition$PPoz=NaN;this.scrollDocumentFormSoftlyBy$PPoz(0,documentForm);this.sendShow$PPoz()}function unregisterPropertyField(propertyName,propertyField){for(var documentFormId in this.propertyFieldsByDocumentFormId$PPoz){var fields=this.propertyFieldsByDocumentFormId$PPoz[documentFormId];var index=fields.indexOf(propertyField);if(index!==-1)fields.splice(index,1)}delete this.propertyNameByPropertyFieldId$PPoz[propertyField.getId()];
this.propertyFieldRegistry$PPoz.unregisterPropertyField(propertyName,this.getContentTypeName$PPoz(),propertyField)}function propertyFieldFocused(propertyField){var isUserInteraction=propertyField!==this.expectedFocusTarget$PPoz;this.expectedFocusTarget$PPoz=null;if(isUserInteraction){var propertyFieldInfo=getPropertyFieldInfo$static(propertyField);if(propertyFieldInfo){this.scrollDocumentFormSoftlyBy$PPoz(0,propertyFieldInfo.getDocumentForm());this.setCurrentPropertyField$PPoz(propertyField);this.sendFocus$PPoz()}}}
function propertyFieldBlurred(propertyField){if(propertyField===this.currentPropertyField$PPoz){this.setCurrentPropertyField$PPoz(null);AS3.getBindable(this,"focusForwarder")&&AS3.getBindable(this,"focusForwarder").forwardBlurToManager()}}function sendShow(){this.sendPosition$PPoz(false,false,false,true)}function sendFocus(){this.sendPosition$PPoz(true,true,false,false)}function sendPosition(isFocus,userOperation,jumped,scrollOnly){var tabTitle=this.getActiveTab()["title"];var distance=this.referencePropertyFieldPosition$PPoz-
this.getReferencePosition$PPoz();if(isNaN(distance))distance=0;if(jumped)distance=NaN;this.referencePropertyField$PPoz=null;if(this.currentPropertyField$PPoz){var currentFieldInfo=getPropertyFieldInfo$static(this.currentPropertyField$PPoz);if(currentFieldInfo&&currentFieldInfo.isVisible())this.referencePropertyField$PPoz=this.currentPropertyField$PPoz}if(!this.referencePropertyField$PPoz)this.referencePropertyField$PPoz=this.findCentralPropertyField$PPoz(tabTitle);var propertyFieldInfo=null;if(this.referencePropertyField$PPoz){propertyFieldInfo=
getPropertyFieldInfo$static(this.referencePropertyField$PPoz);this.referencePropertyFieldPosition$PPoz=propertyFieldInfo.getPropertyFieldRelativeY()}else this.referencePropertyFieldPosition$PPoz=NaN;var propertyName=propertyFieldInfo===null?null:this.propertyNameByPropertyFieldId$PPoz[this.referencePropertyField$PPoz.getId()];var position=propertyFieldInfo===null?NaN:propertyFieldInfo.getPropertyFieldRelativeY();var content=this.bindTo$PPoz.getValue();AS3.getBindable(this,"focusForwarder")&&AS3.getBindable(this,
"focusForwarder").forwardShowToManager(content,tabTitle,propertyName,isFocus,userOperation,position,distance,scrollOnly)}function getReferencePosition(){if(!this.referencePropertyField$PPoz)return NaN;var propertyFieldInfo=getPropertyFieldInfo$static(this.referencePropertyField$PPoz);if(propertyFieldInfo===null)return NaN;else return propertyFieldInfo.getPropertyFieldRelativeY()}function findCentralPropertyField(tabTitle){var propertyFields=this.propertyFieldRegistry$PPoz.getPropertyFields(tabTitle,
this.getContentTypeName$PPoz());if(!propertyFields)return null;var centralPropertyField=this.selectCentralPropertyField$PPoz(propertyFields,false);if(!centralPropertyField)centralPropertyField=this.selectCentralPropertyField$PPoz(propertyFields,false);return centralPropertyField}function selectCentralPropertyField(propertyFields,allowInvisible){var minDistance=Number.MAX_VALUE;var centralPropertyField=null;propertyFields.forEach(function(propertyField){var propertyFieldInfo=getPropertyFieldInfo$static(propertyField);
if(propertyFieldInfo&&(propertyFieldInfo.isVisible()||allowInvisible)){var documentFormCenter=propertyFieldInfo.getDocumentFormY()+propertyFieldInfo.getDocumentFormHeight()/2;var propertyFieldBottom=propertyFieldInfo.getPropertyFieldY()+propertyFieldInfo.getPropertyFieldHeight();var distance=Math.max(0,documentFormCenter-propertyFieldBottom,propertyFieldInfo.getPropertyFieldY()-documentFormCenter);if(distance<minDistance){minDistance=distance;centralPropertyField=propertyField}}});return centralPropertyField}
function getPropertyFieldInfo$static(propertyField){var theDocumentForm=findDocumentForm$static(propertyField);if(theDocumentForm){var labeledElement=DocumentTabPanelBase.findLabeledElement(propertyField);if(labeledElement){var documentFormEl=theDocumentForm.getEl();return new com.coremedia.cms.editor.sdk.premular.PropertyFieldInfo(labeledElement,labeledElement.getY(),labeledElement.getHeight(),theDocumentForm,documentFormEl.getY(),documentFormEl.getHeight())}}return null}function onDestroy(){Ext.tab.Panel.prototype.onDestroy.call(this);
AS3.getBindable(this,"focusForwarder")&&AS3.getBindable(this,"focusForwarder").removeListener(this)}function touched$static(component){var parent=component.findParentByType(com.coremedia.cms.editor.sdk.premular.DocumentTabPanel.xtype);if(parent)parent.fireEvent(TOUCHED$static)}function setForceReadOnly(readOnly){var oldValue=this.forceReadOnly$PPoz;this.forceReadOnly$PPoz=readOnly;com.coremedia.ui.data.util.PropertyChangeEventUtil.fireEvent(this,com.coremedia.cms.editor.sdk.premular.DocumentTabPanel.FORCE_READ_ONLY_VARIABLE_NAME,
oldValue,readOnly)}function getForceReadOnly(){return this.forceReadOnly$PPoz}return{extend:"Ext.tab.Panel",mixins:["com.coremedia.cms.editor.sdk.premular.FocusListener","com.coremedia.ui.mixins.LazyItemsContainerMixin"],metadata:{"":["Event",["name","documentTabPanelTouched"],"PublicApi"],getForceReadOnly:["ProvideToExtChildren"]},propertyFieldRegistry$PPoz:null,bindTo$PPoz:null,propertyFieldsByDocumentFormId$PPoz:null,propertyNameByPropertyFieldId$PPoz:null,tabChangeInProgress$PPoz:false,currentPropertyField$PPoz:null,
currentFieldElement$PPoz:null,referencePropertyField$PPoz:null,referencePropertyFieldPosition$PPoz:NaN,expectedFocusTarget$PPoz:null,expectedScrollPosition$PPoz:NaN,scrollInProgress$PPoz:false,remainingSoftScrollDistance$PPoz:NaN,softScrollingForm$PPoz:null,forceReadOnly$PPoz:false,constructor:DocumentTabPanelBase$,super$PPoz:function(){Ext.tab.Panel.prototype.constructor.apply(this,arguments)},collapsibleChanged$PPoz:collapsibleChanged,onCollapsibleChange:onCollapsibleChange,getContentTypeName$PPoz:getContentTypeName,
beforeRender$PPoz:beforeRender,getTabByTitle$PPoz:getTabByTitle,onPropertyShow:onPropertyShow,setActiveTabSilently$PPoz:setActiveTabSilently,focusPropertyField:focusPropertyField,showPropertyFieldByName$PPoz:showPropertyFieldByName,scrollDocumentFormBy$PPoz:scrollDocumentFormBy,scrollDocumentFormSoftlyBy$PPoz:scrollDocumentFormSoftlyBy,eventuallyScrollSoftly$PPoz:eventuallyScrollSoftly,scrollSoftly$PPoz:scrollSoftly,setCurrentPropertyField$PPoz:setCurrentPropertyField,setCurrentHighlighted$PPoz:setCurrentHighlighted,
registerPropertyField:registerPropertyField,registerScrollListener$PPoz:registerScrollListener,documentFormScrolled$PPoz:documentFormScrolled,unregisterPropertyField:unregisterPropertyField,propertyFieldFocused$PPoz:propertyFieldFocused,propertyFieldBlurred$PPoz:propertyFieldBlurred,sendShow$PPoz:sendShow,sendFocus$PPoz:sendFocus,sendPosition$PPoz:sendPosition,getReferencePosition$PPoz:getReferencePosition,findCentralPropertyField$PPoz:findCentralPropertyField,selectCentralPropertyField$PPoz:selectCentralPropertyField,
onDestroy:onDestroy,setForceReadOnly:setForceReadOnly,getForceReadOnly:getForceReadOnly,config:{focusForwarder:null},statics:{findLabeledElement:findLabeledElement$static,touched:touched$static},requires:["Ext","Ext.container.Container","Ext.dom.Element","Ext.form.field.Checkbox","Ext.panel.Panel","Ext.tab.Panel","com.coremedia.cap.content.Content","com.coremedia.cms.editor.sdk.premular.FocusListener","com.coremedia.ui.data.util.PropertyChangeEventUtil","com.coremedia.ui.mixins.HighlightableMixin",
"com.coremedia.ui.mixins.LazyItemsContainerMixin","com.coremedia.ui.util.MathUtil","com.coremedia.ui.util.createComponentSelector"],uses:["com.coremedia.cms.editor.sdk.premular.DocumentForm","com.coremedia.cms.editor.sdk.premular.DocumentFormDispatcher","com.coremedia.cms.editor.sdk.premular.DocumentTabPanel","com.coremedia.cms.editor.sdk.premular.PropertyFieldGroup","com.coremedia.cms.editor.sdk.premular.PropertyFieldInfo"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.DocumentPath",function(DocumentPath){function DocumentPath$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.form.field.Display,{});var defaults_$1=AS3.cast(DocumentPath,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.DisplayFieldSkin.UNDERLINE.getSkin());var editor_ShowInRepositoryAction_42_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction,
{});AS3.setBindable(editor_ShowInRepositoryAction_42_5_$1,"contentValueExpression",AS3.getBindable(config,"bindTo"));AS3.setBindable(editor_ShowInRepositoryAction_42_5_$1,"treeModelId",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants.TREE_MODEL_ID));config_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction(editor_ShowInRepositoryAction_42_5_$1);var ui_BindPropertyPlugin_46_5_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,
{});ui_BindPropertyPlugin_46_5_$1.componentProperty="value";ui_BindPropertyPlugin_46_5_$1.bindTo=AS3.getBindable(config,"bindTo").extendBy("path");ui_BindPropertyPlugin_46_5_$1.transformer=com.coremedia.ui.util.EncodingUtil.encodeForHTML;config_$1.plugins=[ui_BindPropertyPlugin_46_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$upC2(config_$1)}function afterRender(){var this$=this;Ext.form.field.Display.prototype.afterRender.call(this);var el=this.getEl();el.setStyle("cursor","pointer");
el.on("click",function(){this$.baseAction.execute()})}return{extend:"Ext.form.field.Display",alias:"widget.com.coremedia.cms.editor.sdk.config.documentPath",constructor:DocumentPath$,super$upC2:function(){Ext.form.field.Display.prototype.constructor.apply(this,arguments)},afterRender:afterRender,config:{bindTo:null},requires:["Ext.form.field.Display","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.skins.DisplayFieldSkin","com.coremedia.ui.util.EncodingUtil","net.jangaroo.ext.Exml"],
uses:["com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction","com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.SwitchDifferencingButton",function(SwitchDifferencingButton){function SwitchDifferencingButton$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.SwitchDifferencingButtonBase,{});var defaults_$1=AS3.cast(SwitchDifferencingButton,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"layout","hbox");var ui_IconSplitButton_25_5_$1=AS3.cast(com.coremedia.ui.components.IconSplitButton,
{});ui_IconSplitButton_25_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.SwitchDifferencingButtonBase.MAIN_BUTTON_ITEM_ID);AS3.setBindable(ui_IconSplitButton_25_5_$1,"scale","medium");ui_IconSplitButton_25_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.WORKAREA.getSkin());AS3.setBindable(ui_IconSplitButton_25_5_$1,"text",net.jangaroo.ext.Exml.asString(com.coremedia.ui.util.AriaUtils.DUMMY_TEXT));AS3.setBindable(ui_IconSplitButton_25_5_$1,
"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","version_comparison")));var menu_31_9_$1=AS3.cast(Ext.menu.Menu,{});var menuItem_33_13_$1=AS3.cast(Ext.menu.Item,{});menuItem_33_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.SwitchDifferencingButtonBase.MASTER_COMPARISON_MENU_ITEM_ID);AS3.setBindable(menuItem_33_13_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"SwitchDifferencingButton_master_text")));AS3.setBindable(menuItem_33_13_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","language_comparison")));AS3.setBindable(menuItem_33_13_$1,"handler",AS3.bind(this,"openMasterComparison"));var menuItem_37_13_$1=AS3.cast(Ext.menu.Item,{});menuItem_37_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.SwitchDifferencingButtonBase.VERSION_COMPARISON_MENU_ITEM_ID);AS3.setBindable(menuItem_37_13_$1,
"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","SwitchDifferencingButton_version_text")));AS3.setBindable(menuItem_37_13_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","version_comparison")));AS3.setBindable(menuItem_37_13_$1,"handler",AS3.bind(this,"openVersionComparison"));menu_31_9_$1.items=[menuItem_33_13_$1,menuItem_37_13_$1];ui_IconSplitButton_25_5_$1.menu=menu_31_9_$1;config_$1.items=
[ui_IconSplitButton_25_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$mf42(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.SwitchDifferencingButtonBase",alias:"widget.com.coremedia.cms.editor.sdk.config.switchDifferencingButton",constructor:SwitchDifferencingButton$,super$mf42:function(){com.coremedia.cms.editor.sdk.premular.SwitchDifferencingButtonBase.prototype.constructor.apply(this,arguments)},requires:["Ext.menu.Item","Ext.menu.Menu","com.coremedia.cms.editor.Editor_properties",
"com.coremedia.cms.editor.sdk.premular.SwitchDifferencingButtonBase","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.components.IconSplitButton","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.util.AriaUtils","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.differencing.AbstractDiffComputation",function(AbstractDiffComputation){function AbstractDiffComputation$(comp,rawDiffParametersValueExpression){this.comp$fU6k=comp;this.asyncComputation$fU6k=new com.coremedia.ui.util.AsyncComputation(AS3.bind(this,"triggered$fU6k"));this.diffParametersValueExpression$fU6k=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"getDiffParameters$fU6k"),rawDiffParametersValueExpression);this.diffParametersValueExpression$fU6k.addChangeListener(AS3.bind(this,
"diffParametersChanged"));this.diffParametersChanged()}function diff(start,end,callback){throw new AS3.Error("must be overridden in subclasses");}function gatherDependencies(contentObject){throw new AS3.Error("must be overridden in subclasses");}function getDiffParameters(rawDiffParametersValueExpression){var rawDiffParameters=rawDiffParametersValueExpression.getValue();if(!rawDiffParameters)return null;if(!this.isComponentVisible())return null;var start=rawDiffParameters.start;this.gatherDependencies(start);
var end=rawDiffParameters.end;this.gatherDependencies(end);return{start:start,end:end}}function isComponentVisible(){var current=this.comp$fU6k;while(current){if(!current.rendered){com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(current,"afterrender");return false}if(current.hidden){com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(current,"show");return false}com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(current,"hide");if(AS3.is(current,
Ext.panel.Panel)){if(AS3.getBindable(AS3.cast(Ext.panel.Panel,current),"collapsed","DUMMY")){com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(current,"expand");return false}com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(current,"collapse")}var next=current.up();if(next){var layout=AS3.as(next.getLayout(),Ext.layout.container.Card);if(layout){if(layout.getActiveItem()!==current){com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(current,
"activate");return false}com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(current,"deactivate")}}current=next}return true}function diffParametersChanged(){var diffParameters=this.diffParametersValueExpression$fU6k.getValue();var mayPostpone=com.coremedia.ui.util.ObjectUtils.compareObjects(diffParameters,this.lastDiffParameters$fU6k);this.asyncComputation$fU6k.trigger(mayPostpone?1E3:20,mayPostpone,diffParameters);this.lastDiffParameters$fU6k=diffParameters}function triggered(callback){var this$=
this;var diffParameters=this.diffParametersValueExpression$fU6k.getValue();if(!diffParameters)this.diff(null,null,callback);else com.coremedia.ui.data.RemoteBeanUtil.flushAll(function(){var start=getNormalizedContentObject$static(diffParameters.start);var end=getNormalizedContentObject$static(diffParameters.end);this$.diff(start,end,callback)},diffParameters.start,diffParameters.end)}function getNormalizedContentObject$static(start){if(AS3.is(start,com.coremedia.cap.content.Content)&&AS3.cast(com.coremedia.cap.content.Content,
start).isCheckedIn())return AS3.cast(com.coremedia.cap.content.Content,start).getCheckedInVersion();return start}function getValue(){return this.asyncComputation$fU6k.getValue()}function dispose(){this.diffParametersValueExpression$fU6k.removeChangeListener(AS3.bind(this,"diffParametersChanged"));this.asyncComputation$fU6k.dispose()}return{comp$fU6k:null,diffParametersValueExpression$fU6k:null,asyncComputation$fU6k:null,lastDiffParameters$fU6k:null,constructor:AbstractDiffComputation$,diff:diff,gatherDependencies:gatherDependencies,
getDiffParameters$fU6k:getDiffParameters,isComponentVisible:isComponentVisible,diffParametersChanged:diffParametersChanged,triggered$fU6k:triggered,getValue:getValue,dispose:dispose,requires:["AS3.Error","Ext.layout.container.Card","Ext.panel.Panel","com.coremedia.cap.content.Content","com.coremedia.ui.data.RemoteBeanUtil","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.dependencies.DependencyTracker","com.coremedia.ui.util.AsyncComputation","com.coremedia.ui.util.ObjectUtils"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.differencing.EnableDifferencingActionBase",function(EnableDifferencingActionBase){function EnableDifferencingActionBase$(config){if(arguments.length<=0)config=null;this.super$HpZs(AS3.cast(com.coremedia.ui.actions.DependencyTrackedAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,"enableDifferencing",{handler:AS3.bind(this,"triggerDifferencing")})))}function triggerDifferencing(){var diffManager=AS3.getBindable(AS3.cast(com.coremedia.cms.editor.sdk.premular.differencing.EnableDifferencingAction,
this.initialConfig),"premular").getDiffManager();diffManager.getPausedValueExpression().setValue(!diffManager.isPaused())}return{extend:"com.coremedia.ui.actions.DependencyTrackedAction",constructor:EnableDifferencingActionBase$,super$HpZs:function(){com.coremedia.ui.actions.DependencyTrackedAction.prototype.constructor.apply(this,arguments)},triggerDifferencing:triggerDifferencing,requires:["com.coremedia.ui.actions.DependencyTrackedAction"],uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil",
"com.coremedia.cms.editor.sdk.premular.differencing.EnableDifferencingAction"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.differencing.DifferencesWindowBase",function(DifferencesWindowBase){function DifferencesWindowBase$(config){if(arguments.length<=0)config=null;this.super$Pk_5(config);this.inVersionComparisonMode$Pk_5=AS3.getBindable(this,"premular").isInVersionComparisonMode();AS3.getBindable(this,"premular").addListener(com.coremedia.cms.editor.sdk.premular.PremularBase.STATE_EVENT_NAME,AS3.bind(this,"premularStateChanged$Pk_5"));AS3.getBindable(this,"premular").addListener(com.coremedia.cms.editor.sdk.premular.PremularBase.READ_ONLY_CONTENT_PROPERTY_NAME,
AS3.bind(this,"premularReadOnlyContentChanged$Pk_5"));this.differencingPausedValueExpression$Pk_5=AS3.getBindable(config,"diffManager").getPausedValueExpression();this.differencingPausedValueExpression$Pk_5.addChangeListener(AS3.bind(this,"onDifferencingPaused$Pk_5"))}function getHeaderData(){var version=AS3.getBindable(this,"diffManager").getVersion();var versionNumber=version?version.getVersionNumber():0;var pattern=AS3.getBindable(this,"premular").isInVersionComparisonMode()?this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"DifferencesWindow_headerVersion_text"):this.resourceManager.getString("com.coremedia.cms.editor.Editor","DifferencesWindow_headerMaster_text");return{message:Ext.String.format(pattern,versionNumber)}}function getHeaderDataValueExpression(){return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"getHeaderData$Pk_5"))}function premularStateChanged(){if(!AS3.getBindable(this,"premular").isReadOnlyDocumentPanelVisible())this.close()}function premularReadOnlyContentChanged(event){if(this.inVersionComparisonMode$Pk_5!==
AS3.getBindable(this,"premular").isInVersionComparisonMode())this.close()}function onDifferencingPaused(pausedExpression){var paused=pausedExpression.getValue();if(paused)this.close()}function beforeDestroy(){AS3.getBindable(this,"premular").removeListener(com.coremedia.cms.editor.sdk.premular.PremularBase.STATE_EVENT_NAME,AS3.bind(this,"premularStateChanged$Pk_5"));AS3.getBindable(this,"premular").removeListener(com.coremedia.cms.editor.sdk.premular.PremularBase.READ_ONLY_CONTENT_PROPERTY_NAME,AS3.bind(this,
"premularReadOnlyContentChanged$Pk_5"));if(this.differencingPausedValueExpression$Pk_5)this.differencingPausedValueExpression$Pk_5.removeChangeListener(AS3.bind(this,"onDifferencingPaused$Pk_5"));com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.beforeDestroy.call(this)}return{extend:"com.coremedia.cms.editor.sdk.components.StudioDialog",inVersionComparisonMode$Pk_5:false,differencingPausedValueExpression$Pk_5:null,constructor:DifferencesWindowBase$,super$Pk_5:function(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.constructor.apply(this,
arguments)},getHeaderData$Pk_5:getHeaderData,getHeaderDataValueExpression:getHeaderDataValueExpression,premularStateChanged$Pk_5:premularStateChanged,premularReadOnlyContentChanged$Pk_5:premularReadOnlyContentChanged,onDifferencingPaused$Pk_5:onDifferencingPaused,beforeDestroy:beforeDestroy,config:{diffManager:null,premular:null},requires:["Ext.String","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.components.StudioDialog","com.coremedia.ui.data.ValueExpressionFactory"],
uses:["com.coremedia.cms.editor.sdk.premular.PremularBase"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.differencing.OverviewDiffComputation",function(OverviewDiffComputation){function OverviewDiffComputation$(thePremular,diffParametersValueExpression){this.super$Rwjt(thePremular,diffParametersValueExpression);this.thePremular$Rwjt=thePremular}function diff(start,end,callback){if(start&&end&&start!==end){var contentRepository=AS3.cast(com.coremedia.cap.content.impl.ContentRepositoryImpl,com.coremedia.cap.common.SESSION.getConnection().getContentRepository());
contentRepository.diff(start,end,callback)}else callback({})}function gatherDependencies(contentObject){if(AS3.is(contentObject,com.coremedia.cap.content.Content))AS3.cast(com.coremedia.ui.data.impl.RemoteBeanImpl,contentObject).dependOnEtag();else AS3.cast(com.coremedia.ui.data.impl.BeanImpl,contentObject).dependencyOnValue()}function isComponentVisible(){return this.thePremular$Rwjt.isReadOnlyDocumentPanelVisible()&&com.coremedia.cms.editor.sdk.premular.differencing.AbstractDiffComputation.prototype.isComponentVisible.call(this)}
return{extend:"com.coremedia.cms.editor.sdk.premular.differencing.AbstractDiffComputation",thePremular$Rwjt:null,constructor:OverviewDiffComputation$,super$Rwjt:function(){com.coremedia.cms.editor.sdk.premular.differencing.AbstractDiffComputation.prototype.constructor.apply(this,arguments)},diff:diff,gatherDependencies:gatherDependencies,isComponentVisible:isComponentVisible,requires:["com.coremedia.cap.common.SESSION","com.coremedia.cap.content.Content","com.coremedia.cap.content.impl.ContentRepositoryImpl",
"com.coremedia.cms.editor.sdk.premular.differencing.AbstractDiffComputation","com.coremedia.ui.data.impl.BeanImpl","com.coremedia.ui.data.impl.RemoteBeanImpl"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.differencing.OpenDifferencesWindowButtonBase",function(OpenDifferencesWindowButtonBase){function OpenDifferencesWindowButtonBase$(config){if(arguments.length<=0)config=null;this.super$E6Sj(config)}function getIssues(config){var content=AS3.getBindable(config,"diffManager").getContent();if(!content)return[];var contentType=content.getType();if(!contentType)return[];var contentTypeName=contentType.getName();var changedProperties=AS3.getBindable(config,
"diffManager").getChangedProperties();var result=[];for(var i=0;i<changedProperties.length;i++){var propertyName=changedProperties[i];if(AS3.getBindable(config,"premular").getReadOnlyPropertyFieldRegistry().getPropertyField("properties."+propertyName,contentTypeName))result.push(new com.coremedia.ui.data.impl.IssueImpl({entity:content,property:propertyName,code:""}))}return result}function getIssuesExpression(config){if(!this.issuesExpression$E6Sj)this.issuesExpression$E6Sj=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,
"getIssues"),config);return this.issuesExpression$E6Sj}function transformValidationState(issues){if(issues.length)return com.coremedia.ui.mixins.ValidationState.SUCCESS;return null}function transformIconCls(issues){return this.resourceManager.getString("com.coremedia.cms.editor.Editor","OpenDifferencesWindow_btn_icon")}return{extend:"com.coremedia.cms.editor.sdk.validation.IssuesButton",mixins:["com.coremedia.ui.mixins.ValidationStateMixin"],issuesExpression$E6Sj:null,constructor:OpenDifferencesWindowButtonBase$,
super$E6Sj:function(){com.coremedia.cms.editor.sdk.validation.IssuesButton.prototype.constructor.apply(this,arguments)},getIssues:getIssues,getIssuesExpression:getIssuesExpression,transformValidationState:transformValidationState,transformIconCls:transformIconCls,requires:["com.coremedia.cms.editor.sdk.validation.IssuesButton","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.impl.IssueImpl","com.coremedia.ui.mixins.ValidationState","com.coremedia.ui.mixins.ValidationStateMixin"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.differencing.DifferencesWindow",function(DifferencesWindow){function DifferencesWindow$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.differencing.DifferencesWindowBase,{});var defaults_$1=AS3.cast(DifferencesWindow,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.Editor","DifferencesWindow_title"));
config_$1.stateId="differencesWindowState";AS3.setBindable(config_$1,"stateful",true);AS3.setBindable(config_$1,"width",300);AS3.setBindable(config_$1,"height",400);config_$1.constrainHeader=true;config_$1.constrain=true;config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.WindowSkin.GRID_200_DARK.getSkin());var container_43_5_$1=AS3.cast(Ext.container.Container,{});container_43_5_$1.anchor="100%";var ui_UpdatingTemplateRenderer_45_9_$1=AS3.cast(com.coremedia.ui.components.UpdatingTemplateRenderer,
{});ui_UpdatingTemplateRenderer_45_9_$1.itemId="diffHeader";ui_UpdatingTemplateRenderer_45_9_$1.flex=1;ui_UpdatingTemplateRenderer_45_9_$1.cls="title";AS3.setBindable(ui_UpdatingTemplateRenderer_45_9_$1,"bindTo",this.getHeaderDataValueExpression());ui_UpdatingTemplateRenderer_45_9_$1.tpl="{message}";var ui_IconDisplayField_50_9_$1=AS3.cast(com.coremedia.ui.components.IconDisplayField,{});ui_IconDisplayField_50_9_$1.itemId="helpIcon";AS3.setBindable(ui_IconDisplayField_50_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons",
"help")));var ui_StatefulQuickTip_53_13_$1=AS3.cast(com.coremedia.ui.components.StatefulQuickTip,{});ui_StatefulQuickTip_53_13_$1.text=this.resourceManager.getString("com.coremedia.cms.editor.Editor","DifferencesWindow_tooltip");AS3.setBindable(ui_StatefulQuickTip_53_13_$1,"width",200);AS3.setBindable(ui_IconDisplayField_50_9_$1,"tooltip",ui_StatefulQuickTip_53_13_$1);container_43_5_$1.items=[ui_UpdatingTemplateRenderer_45_9_$1,ui_IconDisplayField_50_9_$1];var layout_HBox_60_9_$1=AS3.cast(Ext.layout.container.HBox,
{});AS3.setBindable(container_43_5_$1,"layout",layout_HBox_60_9_$1);var editor_ContentIssuesPanel_63_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.ContentIssuesPanel,{});editor_ContentIssuesPanel_63_5_$1.itemId="diffIssues";editor_ContentIssuesPanel_63_5_$1.header=false;AS3.setBindable(editor_ContentIssuesPanel_63_5_$1,"issuesValueExpression",AS3.getBindable(config,"issuesExpression"));AS3.setBindable(editor_ContentIssuesPanel_63_5_$1,"premularFocusManager",AS3.getBindable(config,"premular").getPremularFocusManager());
AS3.setBindable(editor_ContentIssuesPanel_63_5_$1,"propertyFieldRegistry",AS3.getBindable(config,"premular").getReadOnlyPropertyFieldRegistry());AS3.setBindable(editor_ContentIssuesPanel_63_5_$1,"noIssuesMessage",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","DifferencesWindow_noChanges_text")));editor_ContentIssuesPanel_63_5_$1.collapsible=false;AS3.setBindable(editor_ContentIssuesPanel_63_5_$1,"titlePattern","");config_$1.items=[container_43_5_$1,
editor_ContentIssuesPanel_63_5_$1];var button_73_5_$1=AS3.cast(Ext.button.Button,{});button_73_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_SECONDARY.getSkin());AS3.setBindable(button_73_5_$1,"scale","small");AS3.setBindable(button_73_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","dialog_defaultCloseButton_text")));AS3.setBindable(button_73_5_$1,"handler",AS3.bind(this,"close"));config_$1.buttons=[button_73_5_$1];
var layout_Anchor_79_5_$1=AS3.cast(Ext.layout.container.Anchor,{});AS3.setBindable(config_$1,"layout",layout_Anchor_79_5_$1);var ui_VerticalSpacingPlugin_82_5_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});AS3.setBindable(ui_VerticalSpacingPlugin_82_5_$1,"modifier",com.coremedia.ui.bem.SpacingBEMEntities.VERTICAL_SPACING_MODIFIER_200);AS3.setBindable(ui_VerticalSpacingPlugin_82_5_$1,"includeDocked",false);config_$1.plugins=[ui_VerticalSpacingPlugin_82_5_$1];net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$mDwK(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.differencing.DifferencesWindowBase",alias:"widget.com.coremedia.cms.editor.sdk.config.differencesWindow",constructor:DifferencesWindow$,super$mDwK:function(){com.coremedia.cms.editor.sdk.premular.differencing.DifferencesWindowBase.prototype.constructor.apply(this,arguments)},config:{issuesExpression:null},requires:["Ext.button.Button","Ext.container.Container","Ext.layout.container.Anchor","Ext.layout.container.HBox",
"com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.premular.differencing.DifferencesWindowBase","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.bem.SpacingBEMEntities","com.coremedia.ui.components.IconDisplayField","com.coremedia.ui.components.StatefulQuickTip","com.coremedia.ui.components.UpdatingTemplateRenderer","com.coremedia.ui.plugins.VerticalSpacingPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.WindowSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.ContentIssuesPanel"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.differencing.OpenDifferencesWindowButton",function(OpenDifferencesWindowButton){function OpenDifferencesWindowButton$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.differencing.OpenDifferencesWindowButtonBase,{});var defaults_$1=AS3.cast(OpenDifferencesWindowButton,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"scale","medium");config_$1.enableToggle=true;
config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.WORKAREA.getSkin());config_$1.itemId="openDifferencesButton";AS3.setBindable(config_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","OpenDifferencesWindow_text")));config_$1.hasIssuesText=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","OpenDifferencesWindow_btn_changesMessage"));config_$1.hasNoIssuesText=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"OpenDifferencesWindow_btn_tooltip"));AS3.setBindable(config_$1,"issuesVE",this.getIssuesExpression(config));var editor_OpenReferenceWindowAction_49_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenReferenceWindowAction,{});AS3.setBindable(editor_OpenReferenceWindowAction_49_5_$1,"toggleDialog",true);AS3.setBindable(editor_OpenReferenceWindowAction_49_5_$1,"activateOnToggle",true);AS3.setBindable(editor_OpenReferenceWindowAction_49_5_$1,"useActionAsAnimationTarget",true);var editor_DifferencesWindow_53_9_$1=
AS3.cast(com.coremedia.cms.editor.sdk.premular.differencing.DifferencesWindow,{});AS3.setBindable(editor_DifferencesWindow_53_9_$1,"diffManager",AS3.getBindable(config,"diffManager"));AS3.setBindable(editor_DifferencesWindow_53_9_$1,"premular",AS3.getBindable(config,"premular"));AS3.setBindable(editor_DifferencesWindow_53_9_$1,"issuesExpression",this.getIssuesExpression(config));AS3.setBindable(editor_OpenReferenceWindowAction_49_5_$1,"dialog",editor_DifferencesWindow_53_9_$1);config_$1.baseAction=
new com.coremedia.cms.editor.sdk.actions.OpenReferenceWindowAction(editor_OpenReferenceWindowAction_49_5_$1);var ui_BindPropertyPlugin_60_5_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_60_5_$1.componentProperty="disabled";ui_BindPropertyPlugin_60_5_$1.bindTo=AS3.getBindable(config,"diffManager").getPausedValueExpression();config_$1.plugins=[ui_BindPropertyPlugin_60_5_$1];config_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$46ey(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.differencing.OpenDifferencesWindowButtonBase",alias:"widget.com.coremedia.cms.editor.sdk.config.openDifferencesWindowButton",constructor:OpenDifferencesWindowButton$,super$46ey:function(){com.coremedia.cms.editor.sdk.premular.differencing.OpenDifferencesWindowButtonBase.prototype.constructor.apply(this,arguments)},config:{diffManager:null,premular:null},requires:["com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.premular.differencing.OpenDifferencesWindowButtonBase",
"com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.skins.ButtonSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.actions.OpenReferenceWindowAction","com.coremedia.cms.editor.sdk.premular.differencing.DifferencesWindow"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.differencing.MarkupDiffComputation",function(MarkupDiffComputation){function MarkupDiffComputation$(comp,property,diffParametersValueExpression){this.property$Ba9e=property;this.super$Ba9e(comp,diffParametersValueExpression)}function diff(start,end,callback){if(start&&end&&start!==end){var contentRepository=AS3.cast(com.coremedia.cap.content.impl.ContentRepositoryImpl,com.coremedia.cap.common.SESSION.getConnection().getContentRepository());contentRepository.diffMarkup(start,
end,this.property$Ba9e,callback)}else callback(null)}function gatherDependencies(contentObject){if(contentObject.getState().readable!==false){var properties=contentObject.getProperties();if(properties)properties.get(this.property$Ba9e)}}return{extend:"com.coremedia.cms.editor.sdk.premular.differencing.AbstractDiffComputation",property$Ba9e:null,constructor:MarkupDiffComputation$,super$Ba9e:function(){com.coremedia.cms.editor.sdk.premular.differencing.AbstractDiffComputation.prototype.constructor.apply(this,
arguments)},diff:diff,gatherDependencies:gatherDependencies,requires:["com.coremedia.cap.common.SESSION","com.coremedia.cap.content.impl.ContentRepositoryImpl","com.coremedia.cms.editor.sdk.premular.differencing.AbstractDiffComputation"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.differencing.EnableDifferencingAction",function(EnableDifferencingAction){function EnableDifferencingAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.differencing.EnableDifferencingActionBase,{});var defaults_$1=AS3.cast(EnableDifferencingAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$sOY5(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.differencing.EnableDifferencingActionBase",
constructor:EnableDifferencingAction$,super$sOY5:function(){com.coremedia.cms.editor.sdk.premular.differencing.EnableDifferencingActionBase.prototype.constructor.apply(this,arguments)},config:{premular:null},requires:["com.coremedia.cms.editor.sdk.premular.differencing.EnableDifferencingActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.differencing.DiffManager",function(DiffManager){function propertyDiffComputations_(){this.propertyDiffComputations$bLAM={}}function DiffManager$(thePremular){propertyDiffComputations_.call(this);this.thePremular$bLAM=thePremular}function initialize(){this.diffParametersValueExpression$bLAM=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"computeDiffParameters$bLAM"));this.overviewDiffComputation$bLAM=new com.coremedia.cms.editor.sdk.premular.differencing.OverviewDiffComputation(this.thePremular$bLAM,
this.diffParametersValueExpression$bLAM)}function getPausedValueExpression(){if(!this.pausedValueExpression$bLAM)this.pausedValueExpression$bLAM=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(false);return this.pausedValueExpression$bLAM}function isPaused(){return this.getPausedValueExpression().getValue()}function getContent(){var contentInForm=this.thePremular$bLAM.getReadOnlyContent();if(AS3.is(contentInForm,com.coremedia.cms.editor.sdk.premular.HistoricContent))contentInForm=AS3.cast(com.coremedia.cms.editor.sdk.premular.HistoricContent,
contentInForm).getContent();return contentInForm}function getVersion(){var contentInForm=this.thePremular$bLAM.getReadOnlyContent();if(AS3.is(contentInForm,com.coremedia.cms.editor.sdk.premular.HistoricContent))return AS3.cast(com.coremedia.cms.editor.sdk.premular.HistoricContent,contentInForm).getVersion();return null}function isPropertyChanged(propertyName){if(this.isPaused())return null;var diffs=this.overviewDiffComputation$bLAM.getValue();return diffs?diffs[propertyName]:null}function getChangedProperties(){if(this.isPaused())return[];
var diffs=this.overviewDiffComputation$bLAM.getValue();return com.coremedia.ui.util.ObjectUtils.getPropertyNames(diffs)}function getMarkupDiff(comp,propertyName){if(this.isPaused())return null;var key=comp.getId();if(!this.propertyDiffComputations$bLAM[key])this.propertyDiffComputations$bLAM[key]=new com.coremedia.cms.editor.sdk.premular.differencing.MarkupDiffComputation(comp,propertyName,this.diffParametersValueExpression$bLAM);return AS3.cast(com.coremedia.cms.editor.sdk.premular.differencing.MarkupDiffComputation,
this.propertyDiffComputations$bLAM[key]).getValue()}function computeDiffParameters(){if(this.isPaused())return null;var content=this.thePremular$bLAM.getContent();if(!content)return null;if(content.getState()===com.coremedia.ui.data.BeanState.UNKNOWN)return null;var readOnlyContent=this.thePremular$bLAM.getReadOnlyContent();if(!readOnlyContent)return null;if(AS3.is(readOnlyContent,com.coremedia.cms.editor.sdk.premular.HistoricContent)){var readOnlyVersion=AS3.cast(com.coremedia.cms.editor.sdk.premular.HistoricContent,
readOnlyContent).getVersion();if(readOnlyVersion.getState()===com.coremedia.ui.data.BeanState.UNKNOWN){readOnlyVersion.load();return null}if(AS3.cast(com.coremedia.cms.editor.sdk.premular.HistoricContent,readOnlyContent).getContent()===content)return{start:readOnlyVersion,end:content};else return computeDiffParametersForMaster$static(readOnlyVersion,content)}else return computeDiffParametersForMaster$static(readOnlyContent,content)}function computeDiffParametersForMaster$static(readOnlyContentObject,
content){var sitesService=com.coremedia.cms.editor.sdk.editorContext.getSitesService();var masterVersion=sitesService.getMasterVersionOrDerivedFromVersion(content);if(!masterVersion)return null;if(masterVersion.getState()===com.coremedia.ui.data.BeanState.UNKNOWN){masterVersion.load();return null}return{start:masterVersion,end:readOnlyContentObject}}function destroy(){if(this.overviewDiffComputation$bLAM)this.overviewDiffComputation$bLAM.dispose();for(var property in this.propertyDiffComputations$bLAM)if(this.propertyDiffComputations$bLAM.hasOwnProperty(property)){var computation=
this.propertyDiffComputations$bLAM[property];computation.dispose()}}return{thePremular$bLAM:null,diffParametersValueExpression$bLAM:null,overviewDiffComputation$bLAM:null,pausedValueExpression$bLAM:null,constructor:DiffManager$,initialize:initialize,getPausedValueExpression:getPausedValueExpression,isPaused:isPaused,getContent:getContent,getVersion:getVersion,isPropertyChanged:isPropertyChanged,getChangedProperties:getChangedProperties,getMarkupDiff:getMarkupDiff,computeDiffParameters$bLAM:computeDiffParameters,
destroy:destroy,requires:["com.coremedia.ui.data.BeanState","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.util.ObjectUtils"],uses:["com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.premular.HistoricContent","com.coremedia.cms.editor.sdk.premular.differencing.MarkupDiffComputation","com.coremedia.cms.editor.sdk.premular.differencing.OverviewDiffComputation"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.CollapsiblePanelBase",function(CollapsiblePanelBase){var CLS_COLLAPSIBLE_PANEL$static;function CLS_COLLAPSIBLE_PANEL$static_(){CLS_COLLAPSIBLE_PANEL$static=com.coremedia.ui.skins.PanelSkin.CARD_200.getSkin()}var CLS_COLLAPSIBLE_NESTED_PANEL$static;function CLS_COLLAPSIBLE_NESTED_PANEL$static_(){CLS_COLLAPSIBLE_NESTED_PANEL$static=com.coremedia.ui.skins.PanelSkin.CARD_NESTED.getSkin()}var CLS_MULTILINE_TITLE$static="cm-multiline-title";function CollapsiblePanelBase$(config){if(arguments.length<=
0)config=null;this.ariaCheck(config);this.super$dSij(config);if(AS3.getBindable(config,"multilineTitle"))this.addCls(CLS_MULTILINE_TITLE$static);if(!AS3.getBindable(config,"collapsed","DUMMY")||AS3.getBindable(config,"collapsed","DUMMY")&&!AS3.getBindable(this,"collapsed","DUMMY"))this.fireEvent("beforeexpand",this)}function afterRender(){Ext.panel.Panel.prototype.afterRender.call(this);if(this.collapsible&&this.titleCollapse)this.applyTitleCollapseStyle();com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,
"isSubCollapsible$dSij")).loadValue(AS3.bind(this,"applySubCollapsible$dSij"))}function applyTitleCollapseStyle(){this.header&&this.header.setStyle("cursor","pointer")}function isSubCollapsible(){var parent=this.findParentByType(com.coremedia.cms.editor.sdk.premular.CollapsiblePanel.xtype,false);return parent!==undefined&&parent!==null}function ariaCheck(config){if(!config.ariaLabel&&AS3.getBindable(config,"title","DUMMY"))config.ariaLabel=AS3.getBindable(config,"title","DUMMY");if(config.ariaLabel)return;
if(config.header===false)return;Ext["ariaWarn"]("No aria-label set for collapsible panel with itemid "+AS3.getBindable(config,"itemId","DUMMY"))}function applySubCollapsible(isSubCollapsible){if(this.initialConfig.ui===CLS_COLLAPSIBLE_PANEL$static)if(isSubCollapsible)this.setUI(CLS_COLLAPSIBLE_NESTED_PANEL$static);else this.setUI(CLS_COLLAPSIBLE_PANEL$static)}return{extend:"Ext.panel.Panel",mixins:["com.coremedia.ui.mixins.LazyItemsContainerMixin"],metadata:{"":["PublicApi"]},constructor:CollapsiblePanelBase$,
super$dSij:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},afterRender:afterRender,applyTitleCollapseStyle:applyTitleCollapseStyle,isSubCollapsible$dSij:isSubCollapsible,ariaCheck:ariaCheck,applySubCollapsible$dSij:applySubCollapsible,statics:{CLS_COLLAPSIBLE_PANEL:undefined,CLS_COLLAPSIBLE_NESTED_PANEL:undefined,__initStatics__:function(){CLS_COLLAPSIBLE_PANEL$static_();CLS_COLLAPSIBLE_NESTED_PANEL$static_()}},requires:["Ext","Ext.panel.Panel","com.coremedia.ui.data.ValueExpressionFactory",
"com.coremedia.ui.mixins.LazyItemsContainerMixin","com.coremedia.ui.skins.PanelSkin"],uses:["com.coremedia.cms.editor.sdk.premular.CollapsiblePanel"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.PremularFocusManager",function(PremularFocusManager){function PremularFocusManager$(readOnlyContentBeanValueExpression,contentBeanValueExpression){this.readOnlyContentBeanValueExpression$Y_Gf=readOnlyContentBeanValueExpression;this.contentBeanValueExpression$Y_Gf=contentBeanValueExpression;this.readOnlyDocumentFormFocusForwarder$Y_Gf=new com.coremedia.cms.editor.sdk.premular.FocusForwarder(AS3.bind(this,"onReadOnlyDocumentFormShow$Y_Gf"),AS3.bind(this,
"onReadOnlyDocumentFormBlur$Y_Gf"),AS3.bind(this,"onReadOnlyCollapsibleChange$Y_Gf"));this.documentFormFocusForwarder$Y_Gf=new com.coremedia.cms.editor.sdk.premular.FocusForwarder(AS3.bind(this,"onDocumentFormShow$Y_Gf"),AS3.bind(this,"onDocumentFormBlur$Y_Gf"),AS3.bind(this,"onDocumentFormCollapsibleChange$Y_Gf"));this.previewFocusForwarder$Y_Gf=new com.coremedia.cms.editor.sdk.premular.FocusForwarder(AS3.bind(this,"onPreviewShow$Y_Gf"))}function getReadOnlyDocumentFormFocusForwarder(){return this.readOnlyDocumentFormFocusForwarder$Y_Gf}
function getDocumentFormFocusForwarder(){return this.documentFormFocusForwarder$Y_Gf}function getPreviewFocusForwarder(){return this.previewFocusForwarder$Y_Gf}function onReadOnlyDocumentFormShow(content,tabTitle,property,isFocus,userOperation,position,distance,scrollOnly){this.documentFormFocusForwarder$Y_Gf.fireShow(this.contentBeanValueExpression$Y_Gf.getValue(),tabTitle,property,false,isFocus,false,position,distance,scrollOnly);if(isFocus&&userOperation)this.previewFocusForwarder$Y_Gf.fireShow(this.contentBeanValueExpression$Y_Gf.getValue(),
tabTitle,property,false,false,false,position,distance,scrollOnly)}function onReadOnlyDocumentFormBlur(){this.documentFormFocusForwarder$Y_Gf.fireBlur();this.previewFocusForwarder$Y_Gf.fireBlur()}function onDocumentFormShow(content,tabTitle,property,isFocus,userOperation,position,distance,scrollOnly){this.readOnlyDocumentFormFocusForwarder$Y_Gf.fireShow(this.readOnlyContentBeanValueExpression$Y_Gf.getValue()||this.contentBeanValueExpression$Y_Gf.getValue(),tabTitle,property,false,isFocus,false,position,
distance,scrollOnly);if(isFocus&&userOperation)this.previewFocusForwarder$Y_Gf.fireShow(this.contentBeanValueExpression$Y_Gf.getValue(),tabTitle,property,false,false,false,position,distance,scrollOnly)}function onDocumentFormBlur(){this.readOnlyDocumentFormFocusForwarder$Y_Gf.fireBlur();this.previewFocusForwarder$Y_Gf.fireBlur()}function onPreviewShow(content,tabTitle,property){if(content===this.contentBeanValueExpression$Y_Gf.getValue())this.focusProperty(content,property)}function onReadOnlyCollapsibleChange(itemId,
expanded){this.documentFormFocusForwarder$Y_Gf.fireCollapsibleChange(itemId,expanded)}function onDocumentFormCollapsibleChange(itemId,expanded){this.readOnlyDocumentFormFocusForwarder$Y_Gf.fireCollapsibleChange(itemId,expanded)}function focusProperty(content,property){this.documentFormFocusForwarder$Y_Gf.fireShow(this.contentBeanValueExpression$Y_Gf.getValue(),null,property,true,true,true,NaN,NaN,false)}function showTab(tabTitle){this.documentFormFocusForwarder$Y_Gf.fireShow(this.contentBeanValueExpression$Y_Gf.getValue(),
tabTitle,null,false,false,true,NaN,NaN,false)}return{readOnlyContentBeanValueExpression$Y_Gf:null,contentBeanValueExpression$Y_Gf:null,readOnlyDocumentFormFocusForwarder$Y_Gf:null,documentFormFocusForwarder$Y_Gf:null,previewFocusForwarder$Y_Gf:null,constructor:PremularFocusManager$,getReadOnlyDocumentFormFocusForwarder:getReadOnlyDocumentFormFocusForwarder,getDocumentFormFocusForwarder:getDocumentFormFocusForwarder,getPreviewFocusForwarder:getPreviewFocusForwarder,onReadOnlyDocumentFormShow$Y_Gf:onReadOnlyDocumentFormShow,
onReadOnlyDocumentFormBlur$Y_Gf:onReadOnlyDocumentFormBlur,onDocumentFormShow$Y_Gf:onDocumentFormShow,onDocumentFormBlur$Y_Gf:onDocumentFormBlur,onPreviewShow$Y_Gf:onPreviewShow,onReadOnlyCollapsibleChange$Y_Gf:onReadOnlyCollapsibleChange,onDocumentFormCollapsibleChange$Y_Gf:onDocumentFormCollapsibleChange,focusProperty:focusProperty,showTab:showTab,uses:["com.coremedia.cms.editor.sdk.premular.FocusForwarder"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.IssuesWindow",function(IssuesWindow){function IssuesWindow$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.IssuesWindowBase,{});var defaults_$1=AS3.cast(IssuesWindow,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.Editor","IssuesWindow_title"));AS3.setBindable(config_$1,"width",300);AS3.setBindable(config_$1,
"height",400);config_$1.stateId="issuesWindowState";AS3.setBindable(config_$1,"stateful",true);config_$1.constrainHeader=true;config_$1.constrain=true;AS3.setBindable(config_$1,"scrollable",true);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.WindowSkin.GRID_200_DARK.getSkin());var container_45_5_$1=AS3.cast(Ext.container.Container,{});container_45_5_$1.anchor="100%";AS3.setBindable(container_45_5_$1,"height",22);var ui_IconDisplayField_48_9_$1=AS3.cast(com.coremedia.ui.components.IconDisplayField,
{});ui_IconDisplayField_48_9_$1.itemId="helpIcon";AS3.setBindable(ui_IconDisplayField_48_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","help")));var ui_StatefulQuickTip_51_13_$1=AS3.cast(com.coremedia.ui.components.StatefulQuickTip,{});ui_StatefulQuickTip_51_13_$1.text=this.resourceManager.getString("com.coremedia.cms.editor.Editor","IssuesWindow_tooltip");AS3.setBindable(ui_StatefulQuickTip_51_13_$1,"width",200);AS3.setBindable(ui_IconDisplayField_48_9_$1,
"tooltip",ui_StatefulQuickTip_51_13_$1);container_45_5_$1.items=[ui_IconDisplayField_48_9_$1];var layout_HBox_57_9_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_57_9_$1,"pack","end");AS3.setBindable(container_45_5_$1,"layout",layout_HBox_57_9_$1);var editor_ContentIssuesPanel_60_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.ContentIssuesPanel,{});editor_ContentIssuesPanel_60_5_$1.itemId=net.jangaroo.ext.Exml.asString(IssuesWindow.ERROR_ISSUES_PANEL_ITEM_ID);AS3.setBindable(editor_ContentIssuesPanel_60_5_$1,
"issuesValueExpression",this.getErrorIssuesExpression());AS3.setBindable(editor_ContentIssuesPanel_60_5_$1,"premularFocusManager",AS3.getBindable(config,"premular").getPremularFocusManager());AS3.setBindable(editor_ContentIssuesPanel_60_5_$1,"propertyFieldRegistry",AS3.getBindable(config,"propertyFieldRegistry"));AS3.setBindable(editor_ContentIssuesPanel_60_5_$1,"titlePattern",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","IssuesWindow_errorHeader_text")));
AS3.setBindable(editor_ContentIssuesPanel_60_5_$1,"noIssuesMessage",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","IssuesWindow_noError_text")));editor_ContentIssuesPanel_60_5_$1.onGlobalIssueClick=AS3.bind(this,"globalIssueClicked");var editor_ContentIssuesPanel_67_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.ContentIssuesPanel,{});editor_ContentIssuesPanel_67_5_$1.itemId="warningIssues";AS3.setBindable(editor_ContentIssuesPanel_67_5_$1,"issuesValueExpression",
this.getWarnIssuesExpression());AS3.setBindable(editor_ContentIssuesPanel_67_5_$1,"premularFocusManager",AS3.getBindable(config,"premular").getPremularFocusManager());AS3.setBindable(editor_ContentIssuesPanel_67_5_$1,"propertyFieldRegistry",AS3.getBindable(config,"propertyFieldRegistry"));AS3.setBindable(editor_ContentIssuesPanel_67_5_$1,"titlePattern",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","IssuesWindow_warnHeader_text")));AS3.setBindable(editor_ContentIssuesPanel_67_5_$1,
"noIssuesMessage",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","IssuesWindow_noWarn_text")));editor_ContentIssuesPanel_67_5_$1.onGlobalIssueClick=AS3.bind(this,"globalIssueClicked");config_$1.items=[container_45_5_$1,editor_ContentIssuesPanel_60_5_$1,editor_ContentIssuesPanel_67_5_$1];var button_76_5_$1=AS3.cast(Ext.button.Button,{});button_76_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_SECONDARY.getSkin());AS3.setBindable(button_76_5_$1,
"scale","small");AS3.setBindable(button_76_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","dialog_defaultCloseButton_text")));AS3.setBindable(button_76_5_$1,"handler",AS3.bind(this,"close"));config_$1.buttons=[button_76_5_$1];var layout_Anchor_82_5_$1=AS3.cast(Ext.layout.container.Anchor,{});AS3.setBindable(config_$1,"layout",layout_Anchor_82_5_$1);var ui_VerticalSpacingPlugin_85_5_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,
{});AS3.setBindable(ui_VerticalSpacingPlugin_85_5_$1,"modifier",com.coremedia.ui.bem.SpacingBEMEntities.VERTICAL_SPACING_MODIFIER_200);AS3.setBindable(ui_VerticalSpacingPlugin_85_5_$1,"includeDocked",false);config_$1.plugins=[ui_VerticalSpacingPlugin_85_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$HbPi(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.IssuesWindowBase",alias:"widget.com.coremedia.cms.editor.sdk.config.issuesWindow",constructor:IssuesWindow$,super$HbPi:function(){com.coremedia.cms.editor.sdk.premular.IssuesWindowBase.prototype.constructor.apply(this,
arguments)},config:{propertyFieldRegistry:null},statics:{ERROR_ISSUES_PANEL_ITEM_ID:"errorIssues"},requires:["Ext.button.Button","Ext.container.Container","Ext.layout.container.Anchor","Ext.layout.container.HBox","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.premular.IssuesWindowBase","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.bem.SpacingBEMEntities","com.coremedia.ui.components.IconDisplayField","com.coremedia.ui.components.StatefulQuickTip","com.coremedia.ui.plugins.VerticalSpacingPlugin",
"com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.WindowSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.ContentIssuesPanel"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.VersionComparisonMenuItemBase",function(VersionComparisonMenuItemBase){function VersionComparisonMenuItemBase$(config){if(arguments.length<=0)config=null;this.super$MSd2(config)}function openVersionComparison(){AS3.getBindable(this,"version")&&AS3.getBindable(this,"premular").openInReadOnlyDocumentPanel(AS3.getBindable(this,"version"))}function getVersionInfoValueExpression(){if(!this.versionInfoValueExpression$MSd2)this.versionInfoValueExpression$MSd2=
com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"computeVersionInfo"));return this.versionInfoValueExpression$MSd2}function computeVersionInfo(){if(!AS3.getBindable(this,"version").isLoaded()){AS3.getBindable(this,"version").load();return undefined}if(AS3.getBindable(this,"version").isDestroyed())return"";var content=AS3.getBindable(this,"version").getContainingContent();if(content.getState()===com.coremedia.ui.data.BeanState.UNKNOWN)return undefined;if(content.isDestroyed())return"";
var newestVersion=AS3.getBindable(this,"version").isLatestVersion();var latestPublished=AS3.getBindable(this,"version").isLatestPublishedVersion();var latestTranslated=!AS3.getBindable(this,"premular").isInVersionComparisonMode()&&AS3.getBindable(this,"version")===AS3.getBindable(this,"premular").getMasterVersionValueExpression().getValue();var toBeTranslated=!AS3.getBindable(this,"premular").isInVersionComparisonMode()&&AS3.getBindable(this,"version")===com.coremedia.cms.editor.sdk.translate.TranslationWorkflowUtil.getVersionToBeTranslated(content);
var sitesService=com.coremedia.cms.editor.sdk.editorContext.getSitesService();var derivedFrom=AS3.getBindable(this,"version")===sitesService.getMasterVersionOrDerivedFromVersion(AS3.getBindable(this,"premular").getContent());var pattern;if(latestTranslated)pattern=this.resourceManager.getString("com.coremedia.cms.editor.Editor","VersionComparisonMenuItem_latestTranslated_text");else if(toBeTranslated)pattern=this.resourceManager.getString("com.coremedia.cms.editor.Editor","VersionComparisonMenuItem_toBeTranslated_text");
else if(latestPublished)pattern=this.resourceManager.getString("com.coremedia.cms.editor.Editor","VersionComparisonMenuItem_latestPublished_text");else if(newestVersion)pattern=this.resourceManager.getString("com.coremedia.cms.editor.Editor","VersionComparisonMenuItem_newestVersion_text");else if(derivedFrom)pattern=this.resourceManager.getString("com.coremedia.cms.editor.Editor","VersionComparisonMenuItem_derivedFrom_text");else pattern=this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"VersionComparisonMenuItem_text");return com.coremedia.cms.editor.sdk.util.FormatUtil.format(pattern,AS3.getBindable(this,"version").getVersionNumber(),com.coremedia.ui.util.EncodingUtil.encodeForHTML(AS3.getBindable(this,"version").getEditor().getName()),com.coremedia.ui.util.EncodingUtil.encodeForHTML(Ext.Date.format(AS3.getBindable(this,"version").getEditionDate(),this.resourceManager.getString("com.coremedia.cms.editor.Editor","dateFormat"))))}function getIconClsValueExpression(){if(!this.iconClsValueExpression$MSd2)this.iconClsValueExpression$MSd2=
com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"computeIconCls$MSd2"));return this.iconClsValueExpression$MSd2}function computeIconCls(){if(!AS3.getBindable(this,"version").isLoaded()){AS3.getBindable(this,"version").load();return undefined}if(AS3.getBindable(this,"version").isDestroyed())return"";var isLatestPublishedVersion=AS3.getBindable(this,"version").isLatestPublishedVersion();var publisher=AS3.getBindable(this,"version").getPublisher();if(isLatestPublishedVersion||
publisher!=null){var iconCls=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.getIconStyleClassForStatus(com.coremedia.cap.content.LifecycleStatus.PUBLISHED);if(!isLatestPublishedVersion)iconCls+=" was-published";return iconCls}return""}function getIsSelectedValueExpression(){var this$=this;if(!this.isSelectedValueExpression$MSd2)this.isSelectedValueExpression$MSd2=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){return AS3.getBindable(this$,"version")===AS3.getBindable(this$,
"premular").getReadOnlyContentObject()});return this.isSelectedValueExpression$MSd2}return{extend:"Ext.menu.Item",versionInfoValueExpression$MSd2:null,iconClsValueExpression$MSd2:null,isSelectedValueExpression$MSd2:null,constructor:VersionComparisonMenuItemBase$,super$MSd2:function(){Ext.menu.Item.prototype.constructor.apply(this,arguments)},openVersionComparison:openVersionComparison,getVersionInfoValueExpression:getVersionInfoValueExpression,computeVersionInfo:computeVersionInfo,getIconClsValueExpression:getIconClsValueExpression,
computeIconCls$MSd2:computeIconCls,getIsSelectedValueExpression:getIsSelectedValueExpression,config:{version:null,premular:null},requires:["Ext.Date","Ext.menu.Item","com.coremedia.cap.content.LifecycleStatus","com.coremedia.cms.editor.Editor_properties","com.coremedia.ui.data.BeanState","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.util.EncodingUtil"],uses:["com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.translate.TranslationWorkflowUtil","com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil",
"com.coremedia.cms.editor.sdk.util.FormatUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.ReadOnlyVersionSelectorBase",function(ReadOnlyVersionSelectorBase){function ReadOnlyVersionSelectorBase$(config){if(arguments.length<=0)config=null;config.ariaLabel=com.coremedia.ui.util.AriaUtils.DUMMY_TEXT;this.super$5yCa(config)}function getContent(){return AS3.getBindable(this,"bindTo")&&AS3.as(AS3.getBindable(this,"bindTo").getValue(),com.coremedia.cap.content.Content)}function getVersionInfoValueExpression(){var this$=this;if(!this.versionInfoValueExpression$5yCa)this.versionInfoValueExpression$5yCa=
com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var version=this$.getVersionValueExpression$5yCa().getValue();if(version===undefined)return undefined;if(!version)return"";var pattern=version.isLatestPublishedVersion()?this$.resourceManager.getString("com.coremedia.cms.editor.Editor","VersionSelector_version_latestPublished_text"):this$.resourceManager.getString("com.coremedia.cms.editor.Editor","VersionSelector_version_default_text");var inVersionComparisonMode=AS3.getBindable(this$,
"premular").isInVersionComparisonMode();if(!inVersionComparisonMode)pattern=version===AS3.getBindable(this$,"premular").getMasterVersionValueExpression().getValue()?this$.resourceManager.getString("com.coremedia.cms.editor.Editor","VersionSelector_version_latestTranslated_text"):version===com.coremedia.cms.editor.sdk.translate.TranslationWorkflowUtil.getVersionToBeTranslated(version.getContainingContent())?this$.resourceManager.getString("com.coremedia.cms.editor.Editor","VersionSelector_version_toBeTranslated_text"):
pattern;return com.coremedia.cms.editor.sdk.util.FormatUtil.format(pattern,version.getVersionNumber())});return this.versionInfoValueExpression$5yCa}function getVersionTooltipValueExpression(){var this$=this;if(!this.versionTooltipValueExpression$5yCa)this.versionTooltipValueExpression$5yCa=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var version=this$.getVersionValueExpression$5yCa().getValue();if(version===undefined)return undefined;if(!version)return"";return com.coremedia.cms.editor.sdk.util.FormatUtil.format(this$.resourceManager.getString("com.coremedia.cms.editor.Editor",
"VersionSelector_versionTooltip_text"),version.getVersionNumber(),com.coremedia.ui.util.EncodingUtil.encodeForHTML(version.getEditor().getName()),com.coremedia.ui.util.EncodingUtil.encodeForHTML(Ext.Date.format(version.getEditionDate(),this$.resourceManager.getString("com.coremedia.cms.editor.Editor","dateFormat"))),com.coremedia.ui.util.EncodingUtil.encodeForHTML(this$.computeStateString$5yCa(version)))});return this.versionTooltipValueExpression$5yCa}function computeStateString(version){var latestTranslatedKey=
version===AS3.getBindable(this,"premular").getMasterVersionValueExpression().getValue()?"_latestTranslated":version===com.coremedia.cms.editor.sdk.translate.TranslationWorkflowUtil.getVersionToBeTranslated(version.getContainingContent())?"_toBeTranslated":"";var publishedKey;if(version.isLatestPublishedVersion())publishedKey="_latestPublished";else if(version.getPublisher())publishedKey="_published";else publishedKey="_notPublished";var pattern=this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"VersionSelector_versionTooltip_state"+latestTranslatedKey+publishedKey);var publisherName="";var publicationDateString="";if(version.getPublicationDate()){publisherName=version.getPublisher().getName();publicationDateString=Ext.Date.format(version.getPublicationDate(),this.resourceManager.getString("com.coremedia.cms.editor.Editor","dateFormat"))}return com.coremedia.cms.editor.sdk.util.FormatUtil.format(pattern,publisherName,publicationDateString)}function getMainMenuItemsValueExpression(){var this$=
this;if(!this.mainMenuItemsValueExpression$5yCa)this.mainMenuItemsValueExpression$5yCa=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var allVersions=this$.getVersionHistoryValueExpression$5yCa().getValue();if(allVersions===undefined)return undefined;if(!allVersions)return[];var importantVersionItemIds=this$.computeImportantVersionItemIds$5yCa(allVersions);var mainMenuItems=[];var unimportantVersionItems;for(var i=0;i<allVersions.length;i++){var currentVersion=allVersions[i];
var currentVersionItemId=importantVersionItemIds[i]||computeItemId$static(currentVersion);var versionItem=this$.createVersionItem$5yCa(currentVersion,currentVersionItemId);if(importantVersionItemIds[i]){addUnimportantVersions();mainMenuItems.push(versionItem)}else{if(!unimportantVersionItems)unimportantVersionItems=[];unimportantVersionItems.push(versionItem)}}addUnimportantVersions();var menuSeparatorCfg=AS3.cast(Ext.menu.Separator,{});menuSeparatorCfg.itemId="enableDifferencingCheckBoxSeparator";
mainMenuItems.push(menuSeparatorCfg);mainMenuItems.push(this$.createEnableDifferencingCheckItem$5yCa());return mainMenuItems;function addUnimportantVersions(){if(unimportantVersionItems)if(unimportantVersionItems.length<2){mainMenuItems=mainMenuItems.concat(unimportantVersionItems);unimportantVersionItems=null}else{mainMenuItems.push(this$.createVersionSubMenu$5yCa(unimportantVersionItems));unimportantVersionItems=null}}});return this.mainMenuItemsValueExpression$5yCa}function computeImportantVersionItemIds(allVersions){var importantVersionIds=
[];var importantVersions=this.computeImportantVersionMap$5yCa();for(var i=0;i<allVersions.length;i++){var currentVersion=allVersions[i];var selectedVersionAdded=false;for(var key in importantVersions)if(currentVersion===importantVersions[key]){if(!importantVersionIds[i])importantVersionIds[i]=computeItemId$static(currentVersion);importantVersionIds[i]+="_"+key;if(key==="selected")selectedVersionAdded=true}if(AS3.getBindable(this,"showSelectedVersion")&&AS3.getBindable(this,"showSurroundingVersions")&&
selectedVersionAdded){var previousIndex=i-1;if(previousIndex>=0&&!importantVersionIds[previousIndex])importantVersionIds[previousIndex]=computeItemId$static(AS3.cast(com.coremedia.cap.content.Version,allVersions[previousIndex]));var nextIndex=i+1;if(nextIndex<allVersions.length&&!importantVersionIds[nextIndex])importantVersionIds[nextIndex]=computeItemId$static(AS3.cast(com.coremedia.cap.content.Version,allVersions[nextIndex]))}}return importantVersionIds}function computeItemId$static(version){return version.getUriPath().replace(/\//g,
"-")}function computeImportantVersionMap(){var importantVersions={};var selectedVersion=this.getVersionValueExpression$5yCa().getValue();if(selectedVersion===undefined)return undefined;if(!selectedVersion)return importantVersions;var content=AS3.getBindable(this,"premular").getContent();var sitesService=com.coremedia.cms.editor.sdk.editorContext.getSitesService();var selectedContent=selectedVersion.getContainingContent();var newestVersion=selectedContent.getCheckedInVersion()||selectedContent.getCheckedOutVersion();
var latestPublishedVersion=selectedContent.getLatestPublishedVersion();var latestTranslatedVersion=AS3.getBindable(this,"premular").isInVersionComparisonMode()?null:sitesService.getMasterVersion(content);var toBeTranslatedVersion=AS3.getBindable(this,"premular").isInVersionComparisonMode()?null:com.coremedia.cms.editor.sdk.translate.TranslationWorkflowUtil.getVersionToBeTranslated(selectedContent);importantVersions["newest"]=newestVersion;importantVersions["latestPublished"]=latestPublishedVersion;
importantVersions["latestTranslated"]=latestTranslatedVersion;importantVersions["toBeTranslated"]=toBeTranslatedVersion;if(sitesService.getMasterVersionNumber(content)<0)importantVersions["derivedFrom"]=sitesService.getMasterVersionOrDerivedFromVersion(content);if(AS3.getBindable(this,"showSelectedVersion"))importantVersions["selected"]=selectedVersion;return importantVersions}function createVersionItem(version,itemId){var versionComparisonMenuItemCfg=AS3.cast(com.coremedia.cms.editor.sdk.premular.VersionComparisonMenuItem,
{});versionComparisonMenuItemCfg.itemId=itemId;AS3.setBindable(versionComparisonMenuItemCfg,"premular",AS3.getBindable(this,"premular"));AS3.setBindable(versionComparisonMenuItemCfg,"version",version);return versionComparisonMenuItemCfg}function createVersionSubMenu(currentSubMenuItems){var startVersionNumber=AS3.cast(com.coremedia.cap.content.Version,currentSubMenuItems[0].version).getVersionNumber();var endVersionNumber=AS3.cast(com.coremedia.cap.content.Version,currentSubMenuItems[currentSubMenuItems.length-
1].version).getVersionNumber();var menuItemCfg=AS3.cast(Ext.menu.Item,{});menuItemCfg.itemId="subMenu_"+startVersionNumber+"-"+endVersionNumber+"_"+currentSubMenuItems.length;AS3.setBindable(menuItemCfg,"text",com.coremedia.cms.editor.sdk.util.FormatUtil.format(this.resourceManager.getString("com.coremedia.cms.editor.Editor","VersionSelector_versionSubMenu_text"),startVersionNumber,endVersionNumber,currentSubMenuItems.length));var lazyAutoScrollMenuCfg=AS3.cast(com.coremedia.cms.editor.sdk.premular.LazyAutoScrollMenu,
{});AS3.setBindable(lazyAutoScrollMenuCfg,"bindTo",com.coremedia.ui.data.ValueExpressionFactory.createFromValue(currentSubMenuItems));AS3.setBindable(lazyAutoScrollMenuCfg,"premular",AS3.getBindable(this,"premular"));AS3.setBindable(menuItemCfg,"menu",lazyAutoScrollMenuCfg);return menuItemCfg}function createEnableDifferencingCheckItem(){var menuCheckItemCfg=AS3.cast(Ext.menu.CheckItem,{});menuCheckItemCfg.itemId="enableDifferencingCheckBox";AS3.setBindable(menuCheckItemCfg,"checked",!AS3.getBindable(this,
"premular").getDiffManager().isPaused());AS3.setBindable(menuCheckItemCfg,"text",AS3.getBindable(this,"premular").isInVersionComparisonMode()?this.resourceManager.getString("com.coremedia.cms.editor.Editor","VersionSelector_enableDifferencing_versionComparison_text"):this.resourceManager.getString("com.coremedia.cms.editor.Editor","VersionSelector_enableDifferencing_masterComparison_text"));var enableDifferencingActionCfg=AS3.cast(com.coremedia.cms.editor.sdk.premular.differencing.EnableDifferencingAction,
{});AS3.setBindable(enableDifferencingActionCfg,"premular",AS3.getBindable(this,"premular"));menuCheckItemCfg.baseAction=new com.coremedia.cms.editor.sdk.premular.differencing.EnableDifferencingAction(enableDifferencingActionCfg);return menuCheckItemCfg}function getVersionValueExpression(){var this$=this;if(!this.versionValueExpression$5yCa)this.versionValueExpression$5yCa=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var content=this$.getContent();if(!content)return null;
var version;if(AS3.is(content,com.coremedia.cms.editor.sdk.premular.HistoricContent))version=AS3.cast(com.coremedia.cms.editor.sdk.premular.HistoricContent,content).getVersion();else version=content.getCheckedInVersion()||content.getCheckedOutVersion();if(!version)return null;if(version.isDestroyed()===undefined){version.load();return undefined}if(version.isDestroyed())return null;return version});return this.versionValueExpression$5yCa}function getVersionHistoryValueExpression(){var this$=this;if(!this.versionHistoryValueExpression$5yCa)this.versionHistoryValueExpression$5yCa=
com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var content=this$.getContent();if(!content)return undefined;var versionHistory=content.getVersionHistory();if(!versionHistory)return undefined;var items=AS3.as(versionHistory.getItems(),Array);return items?items.concat().reverse():undefined});return this.versionHistoryValueExpression$5yCa}return{extend:"Ext.button.Button",versionValueExpression$5yCa:null,versionHistoryValueExpression$5yCa:null,mainMenuItemsValueExpression$5yCa:null,
versionInfoValueExpression$5yCa:null,versionTooltipValueExpression$5yCa:null,constructor:ReadOnlyVersionSelectorBase$,super$5yCa:function(){Ext.button.Button.prototype.constructor.apply(this,arguments)},getContent:getContent,getVersionInfoValueExpression:getVersionInfoValueExpression,getVersionTooltipValueExpression:getVersionTooltipValueExpression,computeStateString$5yCa:computeStateString,getMainMenuItemsValueExpression:getMainMenuItemsValueExpression,computeImportantVersionItemIds$5yCa:computeImportantVersionItemIds,
computeImportantVersionMap$5yCa:computeImportantVersionMap,createVersionItem$5yCa:createVersionItem,createVersionSubMenu$5yCa:createVersionSubMenu,createEnableDifferencingCheckItem$5yCa:createEnableDifferencingCheckItem,getVersionValueExpression$5yCa:getVersionValueExpression,getVersionHistoryValueExpression$5yCa:getVersionHistoryValueExpression,config:{bindTo:null,premular:null,showSelectedVersion:true,showSurroundingVersions:true},requires:["Ext.Date","Ext.button.Button","Ext.menu.CheckItem","Ext.menu.Item",
"Ext.menu.Separator","com.coremedia.cap.content.Content","com.coremedia.cap.content.Version","com.coremedia.cms.editor.Editor_properties","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.util.AriaUtils","com.coremedia.ui.util.EncodingUtil"],uses:["com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.premular.HistoricContent","com.coremedia.cms.editor.sdk.premular.LazyAutoScrollMenu","com.coremedia.cms.editor.sdk.premular.VersionComparisonMenuItem","com.coremedia.cms.editor.sdk.premular.differencing.EnableDifferencingAction",
"com.coremedia.cms.editor.sdk.translate.TranslationWorkflowUtil","com.coremedia.cms.editor.sdk.util.FormatUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.CollapsibleFormPanel",function(CollapsibleFormPanel){function CollapsibleFormPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.CollapsiblePanel,{});var defaults_$1=AS3.cast(CollapsibleFormPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var layout_Form_18_5_$1=AS3.cast(Ext.layout.container.Form,{});layout_Form_18_5_$1.manageOverflow=true;AS3.setBindable(config_$1,"layout",
layout_Form_18_5_$1);var labelable_22_5_$1=AS3.cast(Ext.form.Labelable,{});labelable_22_5_$1.labelSeparator=":";labelable_22_5_$1.labelAlign="left";config_$1["defaultType"]=labelable_22_5_$1["xtype"];delete labelable_22_5_$1["xtype"];delete labelable_22_5_$1["xclass"];config_$1.defaults=labelable_22_5_$1;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$1K$O(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.CollapsiblePanel",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.collapsibleFormPanel",
constructor:CollapsibleFormPanel$,super$1K$O:function(){com.coremedia.cms.editor.sdk.premular.CollapsiblePanel.prototype.constructor.apply(this,arguments)},requires:["Ext.form.Labelable","Ext.layout.container.Form","com.coremedia.cms.editor.sdk.premular.CollapsiblePanel","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.PremularBase",function(PremularBase){var READ_ONLY_DOCUMENT_PANEL_VISIBLE_CLS$static="read-only-document-panel-visible";function hiddenTabs_(){this.hiddenTabs$L_z5=[]}function PremularBase$(config){if(arguments.length<=0)config=null;AS3.setBindable(config,"entity",config.content);this.super$L_z5(config);hiddenTabs_.call(this);this.initReadOnlyContentMonitor$L_z5();this.getDiffManager().initialize();this.addListener("beforerender",AS3.bind(this,"createItems$L_z5"));
this.addListener("beforeclose",AS3.bind(this,"beforeClose$L_z5"));this.addListener("activate",AS3.bind(this,"activated$L_z5"));this.getPremularConfigurationVE(null).addChangeListener(AS3.bind(this,"applyPremularConfiguration$L_z5"))}function afterRender(){com.coremedia.cms.editor.sdk.desktop.WorkAreaTab.prototype.afterRender.call(this);this.applyPremularConfiguration$L_z5()}function handleCollapse(itemId){var premularConfig=this.getPremularConfig$L_z5();switch(itemId){case PremularBase.READ_ONLY_DOCUMENT_PANEL_ITEM_ID:this.readOnlyDocumentPanelVisible$L_z5=
false;premularConfig.readOnlyContentObject=null;break;case PremularBase.DOCUMENT_PANEL_ITEM_ID:if(premularConfig.showPreview)premularConfig.showForm=false;else premularConfig.showPreview=true;break;case PremularBase.PREVIEW_PANEL_ITEM_ID:if(premularConfig.showForm)premularConfig.showPreview=false;else{premularConfig.showForm=true;premularConfig.readOnlyContentObject=this.getReadOnlyContentObject();this.readOnlyDocumentPanelVisible$L_z5=premularConfig.readOnlyContentObject!=null}break}this.premularStateUpdated$L_z5()}
function handleExpand(itemId){var premularConfig=this.getPremularConfig$L_z5();switch(itemId){case PremularBase.READ_ONLY_DOCUMENT_PANEL_ITEM_ID:this.readOnlyDocumentPanelVisible$L_z5=premularConfig.showForm;premularConfig.readOnlyContentObject=this.getReadOnlyContentObject();break;case PremularBase.DOCUMENT_PANEL_ITEM_ID:premularConfig.showForm=true;break;case PremularBase.PREVIEW_PANEL_ITEM_ID:premularConfig.showPreview=true;break}this.premularStateUpdated$L_z5()}function assumeState(tabState){if(com.coremedia.cms.editor.sdk.desktop.WorkAreaTab.prototype.assumeState.call(this,
tabState)){this.getPremularConfig$L_z5().applyState(tabState);this.applyPremularConfiguration$L_z5();return true}return false}function applyPremularConfiguration(){var premularConfig=this.getPremularConfigurationVE(this.initialConfig.premularConfiguration).getValue();if(premularConfig.readOnlyContentObject)this.openInReadOnlyDocumentPanel(premularConfig.readOnlyContentObject);else this.closeReadOnlyDocumentPanel();if(premularConfig.showPreview===true)this.openPreview();else if(premularConfig.showPreview===
false)this.closePreview();if(premularConfig.showForm===true)this.openForm();else if(premularConfig.showForm===false)this.closeForm();if(AS3.is(premularConfig.activeTabIndex,Number))this.getTabs()&&this.getTabs().setActiveTab(premularConfig.activeTabIndex)}function initReadOnlyContentMonitor(){this.readOnlyContentMonitorValueExpression$L_z5=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"monitorReadOnlyContent$L_z5"));this.readOnlyContentMonitorValueExpression$L_z5.addChangeListener(Ext.emptyFn)}
function cleanUpReadOnlyContentMonitor(){this.readOnlyContentMonitorValueExpression$L_z5.removeChangeListener(Ext.emptyFn)}function monitorReadOnlyContent(){var readOnlyContent=this.getReadOnlyContent();if(readOnlyContent&&readOnlyContent.isDestroyed()){this.closeReadOnlyDocumentPanel();this.setReadOnlyContent$L_z5(null)}}function createItems(){this.addTabsListeners$L_z5();this.updateVisibility$L_z5()}function getContent(){com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(this,
com.coremedia.cms.editor.sdk.premular.Premular.CONTENT_VARIABLE_NAME);return this.content}function getPremularModeToolbar(){return AS3.cast(Ext.container.Container,this.queryById(PremularBase.PREMULAR_MODE_TOOLBAR_ITEM_ID))}function getReadOnlyDocumentPanel(){return AS3.cast(com.coremedia.cms.editor.sdk.premular.DocumentPanel,this.queryById(PremularBase.READ_ONLY_DOCUMENT_PANEL_ITEM_ID))}function getReadOnlyDocumentFormToolbarContainer(){return AS3.cast(Ext.container.Container,this.queryById(PremularBase.READ_ONLY_DOCUMENT_FORM_TOOLBAR_CONTAINER_ITEM_ID))}
function getDocumentPanelSplitBox(){return AS3.cast(Ext.Component,this.queryById(PremularBase.DOCUMENT_PANEL_SPLIT_BAR_ITEM_ID))}function getDocumentPanelHeaderSplitBox(){return AS3.cast(Ext.Component,this.queryById(PremularBase.DOCUMENT_PANEL_HEADER_SPLIT_BAR_ITEM_ID))}function getDocumentPanel(){return AS3.cast(com.coremedia.cms.editor.sdk.premular.DocumentPanel,this.queryById(PremularBase.DOCUMENT_PANEL_ITEM_ID))}function getDocumentContainer(){return AS3.cast(Ext.container.Container,this.queryById(PremularBase.DOCUMENT_CONTAINER_ITEM_ID))}
function getDocumentFormToolbarContainer(){return AS3.cast(Ext.container.Container,this.queryById(PremularBase.DOCUMENT_FORM_TOOLBAR_CONTAINER_ITEM_ID))}function getTabs(){return AS3.cast(Ext.tab.Panel,this.queryById(PremularBase.TABS_ITEM_ID))}function getPreviewSplitBox(){return AS3.cast(Ext.Component,this.queryById(PremularBase.PREVIEW_SPLIT_BAR_ITEM_ID))}function getPreviewPanel(){return AS3.cast(com.coremedia.cms.editor.sdk.preview.PreviewPanel,this.queryById(PremularBase.PREVIEW_PANEL_ITEM_ID))}
function addTabsListeners(){var dispatcher=this.getDocumentPanel().getTabbedDocumentFormDispatcher();dispatcher.addListener("activeItem",AS3.bind(this,"updateTabsFromDocumentTabPanel$L_z5"));if(!dispatcher.rendered)dispatcher.addListener("afterRender",AS3.bind(this,"updateTabsFromDocumentTabPanel$L_z5"),this,{single:true});this.updateTabsFromDocumentTabPanel$L_z5();this.getTabs().addListener("tabchange",AS3.bind(this,"tabChanged$L_z5"))}function updateTabsFromDocumentTabPanel(){var this$=this;this.isUpdatingTabs$L_z5=
true;try{this.removeListenersFromObservedDocumentTabPanel$L_z5();var tabs=this.getTabs();tabs.removeAll(true);this.hiddenTabs$L_z5.forEach(function(tab){if(AS3.is(tab.destroy,Function))tab.destroy()});this.hiddenTabs$L_z5=[];var dispatcher=this.getDocumentPanel().getTabbedDocumentFormDispatcher();var documentTabPanel=AS3.as(dispatcher.getActiveItem(),com.coremedia.cms.editor.sdk.premular.DocumentTabPanel);if(documentTabPanel){this.observedDocumentTabPanel$L_z5=documentTabPanel;documentTabPanel.addListener("add",
AS3.bind(this,"updateTabsFromDocumentTabPanel$L_z5"),null,{target:documentTabPanel});documentTabPanel.addListener("tabchange",AS3.bind(this,"updateActiveTabFromDocumentTabPanel$L_z5"));documentTabPanel.itemCollection.each(function(item){var autoHideEnabled=false;var documentForm=AS3.as(item,com.coremedia.cms.editor.sdk.premular.DocumentForm);if(documentForm)autoHideEnabled=documentForm.isAutoHideEnabled();var title=AS3.as(item["title"],String);if(title){var tabConfig=AS3.cast(Ext.panel.Panel,{});
tabConfig.itemId=item.getItemId();tabConfig["autoHide"]=autoHideEnabled;AS3.setBindable(tabConfig,"title",title);var tabComponent=tabs.add(tabConfig);if(autoHideEnabled)this$.hiddenTabs$L_z5.push(tabComponent)}});this.updateActiveTabFromDocumentTabPanel$L_z5()}var tabExpandPlugin=AS3.as(this.getTabs().getPlugin("tabExpandPlugin"),com.coremedia.cms.editor.sdk.plugins.TabExpandPlugin);if(tabExpandPlugin)tabExpandPlugin.refresh();tabs.updateLayout()}finally{this.isUpdatingTabs$L_z5=false}}function removeListenersFromObservedDocumentTabPanel(){if(this.observedDocumentTabPanel$L_z5){this.observedDocumentTabPanel$L_z5.removeListener("add",
AS3.bind(this,"updateTabsFromDocumentTabPanel$L_z5"));this.observedDocumentTabPanel$L_z5.removeListener("tabchange",AS3.bind(this,"updateActiveTabFromDocumentTabPanel$L_z5"))}}function updateActiveTabFromDocumentTabPanel(){if(this.observedDocumentTabPanel$L_z5){var activeTab=this.observedDocumentTabPanel$L_z5.getActiveTab();if(activeTab){var title=activeTab["title"];if(title){var tabs=this.getTabs();var tabToBeActivated=tabs.itemCollection.findBy(function(item){return AS3.getBindable(item,"title",
"DUMMY")===title});if(!tabToBeActivated)tabToBeActivated=this.hiddenTabs$L_z5.filter(function(item){return AS3.getBindable(item,"title","DUMMY")===title})[0];if(tabToBeActivated&&tabToBeActivated!==tabs.getActiveTab()){this.isUpdatingTabs$L_z5=true;try{tabs.setActiveTab(tabToBeActivated)}finally{this.isUpdatingTabs$L_z5=false}}}}}}function tabChanged(){if(this.isUpdatingTabs$L_z5)return;if(this.getTabs()){var activeTab=AS3.cast(Ext.panel.Panel,this.getTabs().getActiveTab());if(activeTab){var tabTitle=
AS3.getBindable(activeTab,"title","DUMMY");this.premularFocusManager$L_z5.showTab(tabTitle);this.getPremularConfig$L_z5().activeTabIndex=this.getTabs().itemCollection.indexOf(activeTab)}}}function getContentBeanValueExpression(){if(!this.contentBeanValueExpression$L_z5)this.contentBeanValueExpression$L_z5=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.cms.editor.sdk.premular.Premular.CONTENT_VARIABLE_NAME,this);return this.contentBeanValueExpression$L_z5}function getMasterVersionValueExpression(){var this$=
this;if(!this.masterVersionValueExpression$L_z5)this.masterVersionValueExpression$L_z5=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var derivedContent=this$.getContent();if(!derivedContent)return null;return com.coremedia.cms.editor.sdk.editorContext.getSitesService().getMasterVersion(derivedContent)});return this.masterVersionValueExpression$L_z5}function getReadOnlyContentValueExpression(){if(!this.readOnlyContentBeanValueExpression$L_z5)this.readOnlyContentBeanValueExpression$L_z5=
com.coremedia.ui.data.ValueExpressionFactory.create(PremularBase.READ_ONLY_CONTENT_PROPERTY_NAME,this);return this.readOnlyContentBeanValueExpression$L_z5}function getPremularFocusManager(){if(!this.premularFocusManager$L_z5)this.premularFocusManager$L_z5=new com.coremedia.cms.editor.sdk.premular.PremularFocusManager(this.getReadOnlyContentValueExpression(),this.getContentBeanValueExpression());return this.premularFocusManager$L_z5}function getDocumentFormPropertyFieldRegistry(){if(!this.documentFormPropertyFieldRegistry$L_z5)this.documentFormPropertyFieldRegistry$L_z5=
new com.coremedia.cms.editor.sdk.premular.PropertyFieldRegistry(this);return this.documentFormPropertyFieldRegistry$L_z5}function getReadOnlyPropertyFieldRegistry(){if(!this.readOnlyPropertyFieldRegistry$L_z5)this.readOnlyPropertyFieldRegistry$L_z5=new com.coremedia.cms.editor.sdk.premular.PropertyFieldRegistry(this);return this.readOnlyPropertyFieldRegistry$L_z5}function getDiffManager(){if(!this.diffManager$L_z5)this.diffManager$L_z5=new com.coremedia.cms.editor.sdk.premular.differencing.DiffManager(this);
return this.diffManager$L_z5}function cleanUpDiffManager(){if(this.diffManager$L_z5)this.diffManager$L_z5.destroy()}function refreshContent(){invalidateIssues$static(this.content);invalidateIssues$static(AS3.as(this.getReadOnlyContentValueExpression().getValue(),com.coremedia.cap.content.Content))}function invalidateIssues$static(contentToInvalidate){if(contentToInvalidate){var issues=contentToInvalidate.getIssues();if(issues)issues.invalidate()}}function setTheContent(contentToBeShown){var oldValue=
this.content;this["content"]=contentToBeShown;this.refreshContent();com.coremedia.ui.data.util.PropertyChangeEventUtil.fireEvent(this,com.coremedia.cms.editor.sdk.premular.Premular.CONTENT_VARIABLE_NAME,oldValue,this.content);this.setEntity(contentToBeShown)}function setEntity(entity){com.coremedia.cms.editor.sdk.desktop.WorkAreaTab.prototype.setEntity.call(this,entity);if(this.getContent()!==entity)this.setTheContent(AS3.as(entity,com.coremedia.cap.content.Content))}function calculateIcon(){return com.coremedia.cms.editor.sdk.desktop.PremularWorkAreaTabTypeBase.getIconClsForContent(this.getContent())}
function isInEditMode(){try{return this.content&&this.content.isCheckedOutByCurrentSession()}catch(e){if(AS3.is(e,AS3.Error));else throw e;}return false}function activated(){this.refreshContent()}function beforeClose(){this.removeListener("activate",AS3.bind(this,"activated$L_z5"));return this.closeAsynchronously()}function closeTab(ignoreDeletedContent){var showMessageAfterClose=!ignoreDeletedContent&&this.content&&(this.content.getState()===com.coremedia.ui.data.BeanState.NON_EXISTENT||this.content.isDeleted());
if(this.up()!==undefined){this.fireEvent("close",this);this.removeListener("beforeclose",AS3.bind(this,"beforeClose$L_z5"));this.close();if(showMessageAfterClose)com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showInfo(this.resourceManager.getString("com.coremedia.cms.editor.Editor","Premular_closedMessage_title"),this.resourceManager.getString("com.coremedia.cms.editor.Editor","Premular_closedMessage_text"))}}function setPreventCloseMessage(value){this.preventCloseMessage$L_z5=value}function mayBeOpened$static(content){return content&&
content.getState().readable!==false&&!content.isFolder()&&!content.isDeleted()}function confirmCloseTab(btn,continueClosingCallback){var this$=this;var continueClosingCallBck=continueClosingCallback?continueClosingCallback:Ext.emptyFn;if(btn==="yes")this.content.checkIn(function(result){if(result.successful)this$.forceCloseTab();continueClosingCallBck(true)});else if(btn==="no"){this.preventCloseMessage$L_z5=true;this.content.revert(function(result){if(result.successful)this$.forceCloseTab();else this$.preventCloseMessage$L_z5=
false;continueClosingCallBck(true)})}else if(btn==="cancel")continueClosingCallBck(false)}function forceCloseTab(){try{this.closeTab$L_z5(true)}catch(e){if(AS3.is(e,AS3.Error))com.coremedia.ui.logging.Logger.warn("Could not close tab: "+e);else throw e;}}function showIssues(){var docPanel=this.getDocumentPanel();if(docPanel){var documentFormToolbar=AS3.as(docPanel.getTopToolbar(),com.coremedia.cms.editor.sdk.premular.DocumentFormToolbar);if(documentFormToolbar){var openIssuesButton=AS3.as(documentFormToolbar.down(com.coremedia.ui.util.createComponentSelector()._xtype(com.coremedia.cms.editor.sdk.premular.OpenIssuesWindowButton.xtype).build()),
com.coremedia.cms.editor.sdk.premular.OpenIssuesWindowButton);if(openIssuesButton)AS3.as(openIssuesButton.baseAction,com.coremedia.ui.actions.OpenDialogAction).showDialog(AS3.as(openIssuesButton,Ext.Component))}}}function calculateTitle(){return com.coremedia.cms.editor.sdk.desktop.PremularWorkAreaTabTypeBase.getTitleForContent(this.getContent())}function onDestroy(){this.getPremularConfigurationVE(null).removeChangeListener(AS3.bind(this,"applyPremularConfiguration$L_z5"));this.cleanUpReadOnlyContentMonitor$L_z5();
this.cleanUpDiffManager$L_z5();this.removeListenersFromObservedDocumentTabPanel$L_z5();com.coremedia.cms.editor.sdk.desktop.WorkAreaTab.prototype.onDestroy.call(this);this["initialConfig"]=null}function collapsePanel(itemId){this.handleCollapse(itemId)}function closePreview(){this.handleCollapse(PremularBase.PREVIEW_PANEL_ITEM_ID)}function openForm(){this.handleExpand(PremularBase.DOCUMENT_PANEL_ITEM_ID)}function closeForm(){this.handleCollapse(PremularBase.DOCUMENT_PANEL_ITEM_ID)}function openPreview(){this.handleExpand(PremularBase.PREVIEW_PANEL_ITEM_ID)}
function closeReadOnlyDocumentPanel(){if(this.isReadOnlyDocumentPanelVisible())this.handleCollapse(PremularBase.READ_ONLY_DOCUMENT_PANEL_ITEM_ID)}function openReadOnlyDocumentPanel(){if(!this.isReadOnlyDocumentPanelVisible())this.handleExpand(PremularBase.READ_ONLY_DOCUMENT_PANEL_ITEM_ID)}function isReadOnlyDocumentPanelVisible(){com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(this,PremularBase.STATE_EVENT_NAME);return this.readOnlyDocumentPanelVisible$L_z5}function premularStateUpdated(){this.fireEvent(PremularBase.STATE_EVENT_NAME);
if(this.rendered)this.updateVisibility$L_z5()}function updateVisibility(){var this$=this;com.coremedia.ui.util.EventUtil.invokeLater(function(){var premularModeToolbar=this$.getPremularModeToolbar();var readOnlyDocumentFormToolbarContainer=this$.getReadOnlyDocumentFormToolbarContainer();var documentFormToolbarContainer=this$.getDocumentFormToolbarContainer();var documentContainer=this$.getDocumentContainer();premularModeToolbar.setVisible(com.coremedia.cms.editor.sdk.editorContext.getSitesService().isMultiLanguageSupportEnabled()&&
(this$.readOnlyDocumentPanelVisible$L_z5||this$.getPremularConfig$L_z5().showForm));if(this$.readOnlyDocumentPanelVisible$L_z5){premularModeToolbar.addCls(READ_ONLY_DOCUMENT_PANEL_VISIBLE_CLS$static);documentContainer.setMinWidth(PremularBase.DEFAULT_DOCUMENT_CONTAINER_MIN_WIDTH*2);if(premularModeToolbar.ownerCt!==readOnlyDocumentFormToolbarContainer){documentFormToolbarContainer.remove(premularModeToolbar,false);readOnlyDocumentFormToolbarContainer.insert(0,premularModeToolbar)}}else{premularModeToolbar.removeCls(READ_ONLY_DOCUMENT_PANEL_VISIBLE_CLS$static);
documentContainer.setMinWidth(PremularBase.DEFAULT_DOCUMENT_CONTAINER_MIN_WIDTH);if(premularModeToolbar.ownerCt!==documentFormToolbarContainer){readOnlyDocumentFormToolbarContainer.remove(premularModeToolbar,false);documentFormToolbarContainer.insert(0,premularModeToolbar)}}this$.getReadOnlyDocumentPanel().setVisible(this$.readOnlyDocumentPanelVisible$L_z5);readOnlyDocumentFormToolbarContainer.setVisible(this$.readOnlyDocumentPanelVisible$L_z5);this$.getDocumentPanelSplitBox().setVisible(this$.readOnlyDocumentPanelVisible$L_z5&&
this$.getPremularConfig$L_z5().showForm);this$.getDocumentPanelHeaderSplitBox().setVisible(this$.readOnlyDocumentPanelVisible$L_z5&&this$.getPremularConfig$L_z5().showForm);this$.getDocumentContainer().setVisible(this$.getPremularConfig$L_z5().showForm);documentFormToolbarContainer.setVisible(this$.getPremularConfig$L_z5().showForm);this$.getTabs().setVisible(this$.readOnlyDocumentPanelVisible$L_z5||this$.getPremularConfig$L_z5().showForm);this$.getPreviewSplitBox().setVisible(this$.getPremularConfig$L_z5().showForm&&
this$.getPremularConfig$L_z5().showPreview);this$.getPreviewPanel().setVisible(this$.getPremularConfig$L_z5().showPreview);this$.updateLayout()})}function getReadOnlyContent(){com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(this,PremularBase.READ_ONLY_CONTENT_PROPERTY_NAME);return this.readOnlyContent$L_z5}function getReadOnlyContentObject(){var readOnlyContent=this.getReadOnlyContent();return AS3.is(readOnlyContent,com.coremedia.cms.editor.sdk.premular.HistoricContent)?AS3.cast(com.coremedia.cms.editor.sdk.premular.HistoricContent,
readOnlyContent).getVersion():readOnlyContent}function setReadOnlyContent(readOnlyContent){var oldValue=this.readOnlyContent$L_z5;this.readOnlyContent$L_z5=readOnlyContent;this.fireEvent(PremularBase.READ_ONLY_CONTENT_PROPERTY_NAME,com.coremedia.ui.data.util.PropertyChangeEventUtil.createEvent(this,PremularBase.READ_ONLY_CONTENT_PROPERTY_NAME,oldValue,readOnlyContent))}function openInReadOnlyDocumentPanel(readOnlyContentObject){var this$=this;if(arguments.length<=0)readOnlyContentObject=null;if(readOnlyContentObject)com.coremedia.ui.data.RemoteBeanUtil.loadAll(function(){if(readOnlyContentObject.getType()!==
this$.getContent().getType())throw new AS3.Error("PremularBase#openReadOnlyDocumentPanel() - The side-by-side view can only show two content objects of the same type: document '"+this$.getContent()+"'is of type '"+this$.getContent().getType()+"', but the read-only content object '"+readOnlyContentObject+"' is of type '"+readOnlyContentObject.getType()+"'");var readOnlyContent=readOnlyContentObject.isVersion()?new com.coremedia.cms.editor.sdk.premular.HistoricContentImpl(AS3.cast(com.coremedia.cap.content.Version,
readOnlyContentObject)):AS3.cast(com.coremedia.cap.content.Content,readOnlyContentObject);this$.setReadOnlyContent$L_z5(readOnlyContent);this$.openReadOnlyDocumentPanel()},readOnlyContentObject,this.getContent());else if(this.getReadOnlyContent())this.openReadOnlyDocumentPanel()}function isInVersionComparisonMode(){var content=this.getContent();var readOnlyContent=this.getReadOnlyContent();return AS3.is(readOnlyContent,com.coremedia.cms.editor.sdk.premular.HistoricContent)&&AS3.cast(com.coremedia.cms.editor.sdk.premular.HistoricContent,
readOnlyContent).getContent()===content}function closeAsynchronously(continueClosingCallback){var this$=this;if(arguments.length<=0)continueClosingCallback=null;if(this.isInEditMode()){com.coremedia.cms.editor.sdk.util.MessageBoxUtilInternal.show(Ext.String.format(this.resourceManager.getString("com.coremedia.cms.editor.Editor","Premular_closeMessage_title_named"),this.getContent().getName()),Ext.String.format(this.resourceManager.getString("com.coremedia.cms.editor.Editor","Premular_closeMessage_text_named"),
this.getContent().getName()),null,{yes:this.resourceManager.getString("com.coremedia.cms.editor.Editor","Premular_closeMessage_btn_checkin"),no:this.resourceManager.getString("com.coremedia.cms.editor.Editor","Premular_closeMessage_btn_revert"),cancel:this.resourceManager.getString("com.coremedia.cms.editor.Editor","Premular_closeMessage_btn_cancel")},function(btn){this$.confirmCloseTab$L_z5(btn,continueClosingCallback)});return false}else{this.forceCloseTab();return true}}function getPremularConfig(){return AS3.as(this.getPremularConfigurationVE(this.initialConfig.premularConfiguration).getValue(),
com.coremedia.cms.editor.sdk.premular.PremularConfiguration)}function getPremularConfigurationVE(initialPremularConfig){if(!this.premularConfigurationVE$L_z5)this.premularConfigurationVE$L_z5=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(initialPremularConfig);return this.premularConfigurationVE$L_z5}function setPremularConfiguration(conf){this.getPremularConfigurationVE(null).setValue(conf)}return{extend:"com.coremedia.cms.editor.sdk.desktop.WorkAreaTab",mixins:["com.coremedia.ui.components.AsynchronouslyClosable"],
metadata:{"":["PublicApi"],getContent:["ProvideToExtChildren"]},contentBeanValueExpression$L_z5:null,masterVersionValueExpression$L_z5:null,readOnlyContentBeanValueExpression$L_z5:null,premularFocusManager$L_z5:null,documentFormPropertyFieldRegistry$L_z5:null,readOnlyPropertyFieldRegistry$L_z5:null,diffManager$L_z5:null,readOnlyDocumentPanelVisible$L_z5:false,readOnlyContent$L_z5:null,isUpdatingTabs$L_z5:false,observedDocumentTabPanel$L_z5:null,readOnlyContentMonitorValueExpression$L_z5:null,preventCloseMessage$L_z5:false,
constructor:PremularBase$,super$L_z5:function(){com.coremedia.cms.editor.sdk.desktop.WorkAreaTab.prototype.constructor.apply(this,arguments)},afterRender:afterRender,handleCollapse:handleCollapse,handleExpand:handleExpand,assumeState:assumeState,applyPremularConfiguration$L_z5:applyPremularConfiguration,initReadOnlyContentMonitor$L_z5:initReadOnlyContentMonitor,cleanUpReadOnlyContentMonitor$L_z5:cleanUpReadOnlyContentMonitor,monitorReadOnlyContent$L_z5:monitorReadOnlyContent,createItems$L_z5:createItems,
content:null,premularConfigurationVE$L_z5:null,getContent:getContent,getPremularModeToolbar:getPremularModeToolbar,getReadOnlyDocumentPanel:getReadOnlyDocumentPanel,getReadOnlyDocumentFormToolbarContainer:getReadOnlyDocumentFormToolbarContainer,getDocumentPanelSplitBox:getDocumentPanelSplitBox,getDocumentPanelHeaderSplitBox:getDocumentPanelHeaderSplitBox,getDocumentPanel:getDocumentPanel,getDocumentContainer:getDocumentContainer,getDocumentFormToolbarContainer:getDocumentFormToolbarContainer,getTabs:getTabs,
getPreviewSplitBox:getPreviewSplitBox,getPreviewPanel:getPreviewPanel,addTabsListeners$L_z5:addTabsListeners,updateTabsFromDocumentTabPanel$L_z5:updateTabsFromDocumentTabPanel,removeListenersFromObservedDocumentTabPanel$L_z5:removeListenersFromObservedDocumentTabPanel,updateActiveTabFromDocumentTabPanel$L_z5:updateActiveTabFromDocumentTabPanel,tabChanged$L_z5:tabChanged,getContentBeanValueExpression:getContentBeanValueExpression,getMasterVersionValueExpression:getMasterVersionValueExpression,getReadOnlyContentValueExpression:getReadOnlyContentValueExpression,
getPremularFocusManager:getPremularFocusManager,getDocumentFormPropertyFieldRegistry:getDocumentFormPropertyFieldRegistry,getReadOnlyPropertyFieldRegistry:getReadOnlyPropertyFieldRegistry,getDiffManager:getDiffManager,cleanUpDiffManager$L_z5:cleanUpDiffManager,refreshContent:refreshContent,setTheContent:setTheContent,setEntity:setEntity,calculateIcon:calculateIcon,isInEditMode:isInEditMode,activated$L_z5:activated,beforeClose$L_z5:beforeClose,closeTab$L_z5:closeTab,setPreventCloseMessage:setPreventCloseMessage,
confirmCloseTab$L_z5:confirmCloseTab,forceCloseTab:forceCloseTab,showIssues:showIssues,calculateTitle:calculateTitle,onDestroy:onDestroy,collapsePanel:collapsePanel,closePreview:closePreview,openForm:openForm,closeForm:closeForm,openPreview:openPreview,closeReadOnlyDocumentPanel:closeReadOnlyDocumentPanel,openReadOnlyDocumentPanel:openReadOnlyDocumentPanel,isReadOnlyDocumentPanelVisible:isReadOnlyDocumentPanelVisible,premularStateUpdated$L_z5:premularStateUpdated,updateVisibility$L_z5:updateVisibility,
getReadOnlyContent:getReadOnlyContent,getReadOnlyContentObject:getReadOnlyContentObject,setReadOnlyContent$L_z5:setReadOnlyContent,openInReadOnlyDocumentPanel:openInReadOnlyDocumentPanel,isInVersionComparisonMode:isInVersionComparisonMode,closeAsynchronously:closeAsynchronously,getPremularConfig$L_z5:getPremularConfig,getPremularConfigurationVE:getPremularConfigurationVE,setPremularConfiguration:setPremularConfiguration,config:{premularConfiguration:null},statics:{STATE_EVENT_NAME:"premularState",
READ_ONLY_CONTENT_PROPERTY_NAME:"readOnlyContent",PREMULAR_MODE_TOOLBAR_ITEM_ID:"premularModeToolbar",SWITCH_DIFFERENCING_BUTTON_ITEM_ID:"switchDifferencingButton",READ_ONLY_DOCUMENT_FORM_TOOLBAR_DISPATCHER_ITEM_ID:"readOnlyDocumentFormToolbarDispatcher",READ_ONLY_DOCUMENT_FORM_TOOLBAR_CONTAINER_ITEM_ID:"readOnlyDocumentFormToolbarContainer",READ_ONLY_DOCUMENT_PANEL_ITEM_ID:"readOnlyDocumentPanel",DOCUMENT_PANEL_SPLIT_BAR_ITEM_ID:"documentPanelSplitBar",DOCUMENT_PANEL_HEADER_SPLIT_BAR_ITEM_ID:"documentPanelHeaderSplitBar",
DOCUMENT_FORM_TOOLBAR_ITEM_ID:"documentToolbar",DOCUMENT_FORM_TOOLBAR_CONTAINER_ITEM_ID:"documentToolbarContainer",DOCUMENT_PANEL_ITEM_ID:"containerForm",DOCUMENT_CONTAINER_ITEM_ID:"documentContainer",TABS_ITEM_ID:"tabs",PREVIEW_SPLIT_BAR_ITEM_ID:"previewSplitBar",PREVIEW_PANEL_ITEM_ID:"previewPanel",DEFAULT_DOCUMENT_CONTAINER_MIN_WIDTH:470,mayBeOpened:mayBeOpened$static},requires:["AS3.Error","Ext","Ext.Component","Ext.String","Ext.container.Container","Ext.panel.Panel","Ext.tab.Panel","com.coremedia.cap.content.Content",
"com.coremedia.cap.content.Version","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.desktop.WorkAreaTab","com.coremedia.ui.actions.OpenDialogAction","com.coremedia.ui.components.AsynchronouslyClosable","com.coremedia.ui.data.BeanState","com.coremedia.ui.data.RemoteBeanUtil","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.dependencies.DependencyTracker","com.coremedia.ui.data.util.PropertyChangeEventUtil","com.coremedia.ui.logging.Logger","com.coremedia.ui.util.EventUtil",
"com.coremedia.ui.util.createComponentSelector"],uses:["com.coremedia.cms.editor.sdk.desktop.PremularWorkAreaTabTypeBase","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.plugins.TabExpandPlugin","com.coremedia.cms.editor.sdk.premular.DocumentForm","com.coremedia.cms.editor.sdk.premular.DocumentFormToolbar","com.coremedia.cms.editor.sdk.premular.DocumentPanel","com.coremedia.cms.editor.sdk.premular.DocumentTabPanel","com.coremedia.cms.editor.sdk.premular.HistoricContent",
"com.coremedia.cms.editor.sdk.premular.HistoricContentImpl","com.coremedia.cms.editor.sdk.premular.OpenIssuesWindowButton","com.coremedia.cms.editor.sdk.premular.Premular","com.coremedia.cms.editor.sdk.premular.PremularConfiguration","com.coremedia.cms.editor.sdk.premular.PremularFocusManager","com.coremedia.cms.editor.sdk.premular.PropertyFieldRegistry","com.coremedia.cms.editor.sdk.premular.differencing.DiffManager","com.coremedia.cms.editor.sdk.preview.PreviewPanel","com.coremedia.cms.editor.sdk.util.MessageBoxUtil",
"com.coremedia.cms.editor.sdk.util.MessageBoxUtilInternal"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.DocumentMetaDataForm",function(DocumentMetaDataForm){function DocumentMetaDataForm$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.container.Container,{});var defaults_$1=AS3.cast(DocumentMetaDataForm,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"scrollable",true);var editor_PropertyField_31_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyField,{});AS3.setBindable(editor_PropertyField_31_5_$1,
"bindTo",AS3.getBindable(config,"bindTo"));editor_PropertyField_31_5_$1.labelSeparator="";editor_PropertyField_31_5_$1.labelAlign="top";config_$1["defaultType"]=editor_PropertyField_31_5_$1["xtype"];delete editor_PropertyField_31_5_$1["xtype"];delete editor_PropertyField_31_5_$1["xclass"];config_$1.defaults=editor_PropertyField_31_5_$1;var layout_Anchor_36_5_$1=AS3.cast(Ext.layout.container.Anchor,{});AS3.setBindable(config_$1,"layout",layout_Anchor_36_5_$1);net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$djAG(config_$1)}return{extend:"Ext.container.Container",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.documentMetaDataForm",constructor:DocumentMetaDataForm$,super$djAG:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},config:{bindTo:null},requires:["Ext.container.Container","Ext.layout.container.Anchor","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.PropertyField"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.ReferrerListPanelBase",function(ReferrerListPanelBase){var DEFAULT_MAX_LIST_LENGTH$static=500;function maxListLength_(){this.maxListLength=DEFAULT_MAX_LIST_LENGTH$static}function ReferrerListPanelBase$(config){if(arguments.length<=0)config=null;this.super$vnas(config);maxListLength_.call(this)}function getIncludeDeletedValueExpression(){if(!this.includeDeletedValueExpression$vnas)this.includeDeletedValueExpression$vnas=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(false);
return this.includeDeletedValueExpression$vnas}function getReferrerListValueExpression(config){if(!this.referrerListValueExpression$vnas)this.referrerListValueExpression$vnas=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"computeReferrers$vnas"),config);return this.referrerListValueExpression$vnas}function getActiveItemValueExpression(config){var this$=this;if(!this.activeItemValueExpression$vnas)this.activeItemValueExpression$vnas=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var referrers=
this$.getReferrerListValueExpression(config).getValue();if(referrers===undefined)return undefined;if(referrers)if(referrers.length>0)return this$.REFERRER_LIST_ITEM_ID;return this$.EMPTY_REFERRER_LIST_LABEL_ITEM_ID});return this.activeItemValueExpression$vnas}function computeReferrers(config){var this$=this;var content=AS3.getBindable(config,"bindTo").getValue();if(!content)return undefined;var returnUndefined=false;var unfilteredReferrers;if(AS3.getBindable(config,"contentType")&&(AS3.getBindable(config,
"propertyName")||AS3.getBindable(config,"propertyNames")))if(AS3.getBindable(config,"propertyName"))unfilteredReferrers=content.getReferrersWithNamedDescriptor(AS3.getBindable(config,"contentType"),AS3.getBindable(config,"propertyName"));else{unfilteredReferrers=[];for(var $1=0;$1<AS3.getBindable(config,"propertyNames").length;++$1){var prop=AS3.getBindable(config,"propertyNames")[$1];var refs=content.getReferrersWithNamedDescriptor(AS3.getBindable(config,"contentType"),prop);if(!refs)return undefined;
unfilteredReferrers=unfilteredReferrers.concat(refs)}}else unfilteredReferrers=content.getReferrers();if(!unfilteredReferrers)return undefined;var maxListLength=config.maxListLength||DEFAULT_MAX_LIST_LENGTH$static;if(unfilteredReferrers.length>maxListLength){unfilteredReferrers.splice(maxListLength,unfilteredReferrers.length-maxListLength);this.getListLimitLabelVisibility().setValue(true)}var referrers=unfilteredReferrers.filter(function(referrer){var documentTypesHiddenInReferrers=com.coremedia.cms.editor.sdk.editorContext.getDocumentTypesHiddenInReferrers();
if(referrer.getState()===com.coremedia.ui.data.BeanState.UNREADABLE)return false;var contentType=referrer.getType();if(!contentType){returnUndefined=true;return false}if(!this$.getIncludeDeletedValueExpression().getValue()&&referrer.isDeleted())return false;return documentTypesHiddenInReferrers.indexOf(contentType.getName())===-1});this.getListLimitLabelText(config).setValue(com.coremedia.cms.editor.sdk.util.FormatUtil.format(com.coremedia.cms.editor.Editor_properties.INSTANCE.ReferrerListPanel_listLimitLabel,
referrers.length));return returnUndefined?undefined:referrers}function getSelectedValuesExpression(){if(!this.selectedValuesExpression$vnas){var selectedValuesBean=com.coremedia.ui.data.beanFactory.createLocalBean({values:[]});this.selectedValuesExpression$vnas=com.coremedia.ui.data.ValueExpressionFactory.create("values",selectedValuesBean)}return this.selectedValuesExpression$vnas}function toolbarVisibilityTransformer(values){return AS3.getBindable(this,"displayToolbarWhenEmpty")||values.length!==
0}function hidePreview(config){if(AS3.getBindable(config,"showThumbnail")==undefined||AS3.getBindable(config,"showThumbnail")===null)return true;return!AS3.getBindable(config,"showThumbnail")}function getListLimitLabelVisibility(){if(!this.listLimitLabelVisibilityValueExpression$vnas)this.listLimitLabelVisibilityValueExpression$vnas=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(undefined);return this.listLimitLabelVisibilityValueExpression$vnas}function getListLimitLabelText(config){if(!this.listLimitLabelTextValueExpression$vnas)this.listLimitLabelTextValueExpression$vnas=
com.coremedia.ui.data.ValueExpressionFactory.createFromValue(com.coremedia.cms.editor.sdk.util.FormatUtil.format(com.coremedia.cms.editor.Editor_properties.INSTANCE.ReferrerListPanel_listLimitLabel,config.maxListLength||DEFAULT_MAX_LIST_LENGTH$static));return this.listLimitLabelTextValueExpression$vnas}return{extend:"com.coremedia.cms.editor.sdk.premular.PropertyFieldGroup",metadata:{"":["PublicApi"]},selectedValuesExpression$vnas:null,referrerListValueExpression$vnas:null,activeItemValueExpression$vnas:null,
listLimitLabelVisibilityValueExpression$vnas:null,listLimitLabelTextValueExpression$vnas:null,includeDeletedValueExpression$vnas:null,REFERRER_LIST_ITEM_ID:"referrerList",INCLUDE_DELETED_ITEM_ID:"includeDeleted",EMPTY_REFERRER_LIST_LABEL_ITEM_ID:"emptyReferrerListLabel",LIST_LIMIT_LABEL_ITEM_ID:"listLimitLabel",constructor:ReferrerListPanelBase$,super$vnas:function(){com.coremedia.cms.editor.sdk.premular.PropertyFieldGroup.prototype.constructor.apply(this,arguments)},getIncludeDeletedValueExpression:getIncludeDeletedValueExpression,
getReferrerListValueExpression:getReferrerListValueExpression,getActiveItemValueExpression:getActiveItemValueExpression,computeReferrers$vnas:computeReferrers,getSelectedValuesExpression:getSelectedValuesExpression,toolbarVisibilityTransformer:toolbarVisibilityTransformer,hidePreview:hidePreview,getListLimitLabelVisibility:getListLimitLabelVisibility,getListLimitLabelText:getListLimitLabelText,config:{propertyName:null,emptyText:null,contentType:null,displayToolbarWhenEmpty:false},requires:["com.coremedia.cms.editor.sdk.premular.PropertyFieldGroup",
"com.coremedia.ui.data.BeanState","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.beanFactory"],uses:["com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.util.FormatUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.AbstractTranslationActionBase",function(AbstractTranslationActionBase){function AbstractTranslationActionBase$(config){if(arguments.length<=0)config=null;this.super$kLNK(config)}function isDisabledFor(contents){if(!contents||contents.length!==1||!AS3.is(contents[0],com.coremedia.cap.content.Content))return true;var content=contents[0];var contentType=content.getType();if(!contentType)return true;var masterProperty=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getSiteModel().getMasterProperty();
var masterDescriptor=contentType.getDescriptor(masterProperty);if(!masterDescriptor||masterDescriptor.type!==com.coremedia.cap.common.CapPropertyDescriptorType.LINK)return true;var masterLinks=content.getProperties().get(masterProperty);if(!masterLinks||masterLinks.length!==1)return true;var master=masterLinks[0];var masterVersionProperty=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getSiteModel().getMasterVersionProperty();var masterVersionDescriptor=contentType.getDescriptor(masterVersionProperty);
if(!masterVersionDescriptor||masterVersionDescriptor.type!==com.coremedia.cap.common.CapPropertyDescriptorType.INTEGER)return true;if(content.getProperties().get(masterVersionProperty)===undefined)return true;var masterVersion=content.getProperties().get(masterVersionProperty);var versionHistory=master.getVersionHistory();if(versionHistory===undefined||!versionHistory.getItems()||versionHistory.getItems().length===0)return true;var latestVersion=versionHistory.getItems()[versionHistory.getItems().length-
1];return latestVersion.getVersionNumber()<=masterVersion}return{extend:"com.coremedia.cms.editor.sdk.actions.ContentAction",constructor:AbstractTranslationActionBase$,super$kLNK:function(){com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.constructor.apply(this,arguments)},isDisabledFor:isDisabledFor,requires:["com.coremedia.cap.common.CapPropertyDescriptorType","com.coremedia.cap.content.Content","com.coremedia.cms.editor.sdk.actions.ContentAction"],uses:["com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.VersionHistoryBase",function(VersionHistoryBase){function VersionHistoryBase$(config){if(arguments.length<=0)config=null;this.super$ehSl(config);if(!AS3.as(this,com.coremedia.ui.mixins.LazyItemsContainerMixin).itemsAreLazy())this.afterLazyItemsAdded$ehSl();else this.addListener(com.coremedia.ui.mixins.LazyItemsContainerMixin.LAZY_ITEMS_ADDED_EVENT,AS3.bind(this,"afterLazyItemsAdded$ehSl"))}function afterLazyItemsAdded(){this.versionHistoryListView$ehSl=
AS3.as(this.queryById("versionHistory"),Ext.grid.Panel);if(this.versionHistoryListView$ehSl){this.versionHistoryListView$ehSl.addListener("afterrender",AS3.bind(this,"afterViewRender$ehSl"));this.versionHistoryListView$ehSl.getStore().addListener("load",AS3.bind(this,"attachVersionRowTooltips$ehSl"));this.versionHistoryListView$ehSl.getStore().addListener("datachanged",AS3.bind(this,"attachVersionRowTooltips$ehSl"));this.versionHistoryListView$ehSl.getStore().addListener("update",AS3.bind(this,"attachVersionRowTooltips$ehSl"))}}
function afterViewRender(){this.versionHistoryListView$ehSl.getHeaderContainer().addCls(com.coremedia.ui.bem.LinkListBEMEntities.ELEMENT_HEADER.getCSSClass())}function lifecycleStatusDescription(status,data){if(data.isLatestPublishedVersion())return this.resourceManager.getString("com.coremedia.cms.editor.Editor","MetaDataPanel_history_state_latestPublished_text");else if(data.isLatestApprovedVersion())return this.resourceManager.getString("com.coremedia.cms.editor.Editor","MetaDataPanel_history_state_latestApproved_text");
else if(data.getVersionNumber()==1)return this.resourceManager.getString("com.coremedia.cms.editor.Editor","MetaDataPanel_history_state_initial_text");else if(data.isLatestVersion())return this.resourceManager.getString("com.coremedia.cms.editor.Editor","MetaDataPanel_history_state_latest_text");else if(data.getPublisher())return this.resourceManager.getString("com.coremedia.cms.editor.Editor","MetaDataPanel_history_state_formerlyPublished_text");return""}function lifecycleStatus(status,data){var version=
AS3.as(data,com.coremedia.cap.content.Version);if(version)if(version.getPublisher()&&!version.isLatestPublishedVersion())return this.STATUS_WAS_PUBLISHED$ehSl;return status}function get$selectedValuesExpression(){if(!this._selectedValuesExpression$ehSl)this._selectedValuesExpression$ehSl=com.coremedia.ui.data.ValueExpressionFactory.createFromValue();return this._selectedValuesExpression$ehSl}function get$selectedSingleValueExpression(){if(!this._selectedSingleValueExpression$ehSl)this._selectedSingleValueExpression$ehSl=
com.coremedia.ui.data.ValueExpressionFactory.createSingleItemValueExpression(this.selectedValuesExpression);return this._selectedSingleValueExpression$ehSl}function attachVersionRowTooltips(st){var this$=this;st.getData().each(function(rec){AS3.as(rec.getBean(),com.coremedia.cap.content.Version).load(function(){this$.attachVersionRowTooltip$ehSl(rec)})})}function attachVersionRowTooltip(rec){var this$=this;var version=AS3.as(rec.getBean(),com.coremedia.cap.content.Version);if(version.isDestroyed())return;
if(rec.getStore()){var indexOfRecord=rec.getStore().indexOf(rec);var text="";if(version.getApprover())text=text+"\x3ctr\x3e"+"\x3ctd\x3e"+this.resourceManager.getString("com.coremedia.cms.editor.Editor","MetaDataPanel_history_state_lastApprovedBy_text")+" \x3c/td\x3e"+"\x3ctd\x3e"+com.coremedia.ui.util.EncodingUtil.encodeForHTML(version.getApprover().getName())+"\x3c/td\x3e"+"\x3ctd\x3e"+com.coremedia.ui.util.EncodingUtil.encodeForHTML(Ext.Date.format(version.getApprovalDate(),this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"dateFormat")))+"\x3c/td\x3e"+"\x3c/tr\x3e";if(version.getPublisher())text=text+"\x3ctr\x3e"+"\x3ctd\x3e"+this.resourceManager.getString("com.coremedia.cms.editor.Editor","MetaDataPanel_history_state_lastPublishedBy_text")+" \x3c/td\x3e"+"\x3ctd\x3e"+com.coremedia.ui.util.EncodingUtil.encodeForHTML(version.getPublisher().getName())+"\x3c/td\x3e"+"\x3ctd\x3e"+com.coremedia.ui.util.EncodingUtil.encodeForHTML(Ext.Date.format(version.getPublicationDate(),this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"dateFormat")))+"\x3c/td\x3e"+"\x3c/tr\x3e";if(text!="")com.coremedia.ui.util.EventUtil.invokeLater(function(){var node=this$.versionHistoryListView$ehSl.getView().getNode(indexOfRecord);if(node)node.setAttribute("data-qtip","\x3ctable cellspacing\x3d'5' cellpadding\x3d'5'\x3e"+text+"\x3c/table\x3e")})}}function getActiveHistoryContainerExpression(){var this$=this;return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var content=AS3.getBindable(this$,"bindTo").getValue();
if(content.getVersionHistory()===undefined||content.getVersionHistory().getItems()===undefined)return undefined;if(content.getVersionHistory().getItems().length>0)return com.coremedia.cms.editor.sdk.premular.VersionHistory.VERSIONS_CONTAINER_ITEM_ID;return com.coremedia.cms.editor.sdk.premular.VersionHistory.EMPTY_VERSIONS_CONTAINER_ITEM_ID})}return{extend:"com.coremedia.cms.editor.sdk.premular.PropertyFieldGroup",metadata:{"":["PublicApi"]},versionHistoryListView$ehSl:null,_selectedValuesExpression$ehSl:null,
_selectedSingleValueExpression$ehSl:null,STATUS_WAS_PUBLISHED$ehSl:"was_published",constructor:VersionHistoryBase$,super$ehSl:function(){com.coremedia.cms.editor.sdk.premular.PropertyFieldGroup.prototype.constructor.apply(this,arguments)},afterLazyItemsAdded$ehSl:afterLazyItemsAdded,afterViewRender$ehSl:afterViewRender,lifecycleStatusDescription:lifecycleStatusDescription,lifecycleStatus:lifecycleStatus,attachVersionRowTooltips$ehSl:attachVersionRowTooltips,attachVersionRowTooltip$ehSl:attachVersionRowTooltip,
getActiveHistoryContainerExpression:getActiveHistoryContainerExpression,__accessors__:{selectedValuesExpression:{get:get$selectedValuesExpression},selectedSingleValueExpression:{get:get$selectedSingleValueExpression}},requires:["Ext.Date","Ext.grid.Panel","com.coremedia.cap.content.Version","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.premular.PropertyFieldGroup","com.coremedia.ui.bem.LinkListBEMEntities","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.mixins.LazyItemsContainerMixin",
"com.coremedia.ui.util.EncodingUtil","com.coremedia.ui.util.EventUtil"],uses:["com.coremedia.cms.editor.sdk.premular.VersionHistory"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.DocumentPanel",function(DocumentPanel){function DocumentPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.DocumentPanelBase,{});var defaults_$1=AS3.cast(DocumentPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"layout","fit");var editor_TabbedDocumentFormDispatcher_46_7_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.TabbedDocumentFormDispatcher,
{});editor_TabbedDocumentFormDispatcher_46_7_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.DocumentPanelBase.DISPATCHER_ITEM_ID);AS3.setBindable(editor_TabbedDocumentFormDispatcher_46_7_$1,"bindTo",AS3.getBindable(config,"bindTo"));AS3.setBindable(editor_TabbedDocumentFormDispatcher_46_7_$1,"premularConfigurationVE",AS3.getBindable(config,"premularConfigurationVE"));AS3.setBindable(editor_TabbedDocumentFormDispatcher_46_7_$1,"propertyFieldRegistry",AS3.getBindable(config,
"propertyFieldRegistry"));AS3.setBindable(editor_TabbedDocumentFormDispatcher_46_7_$1,"focusForwarder",AS3.getBindable(config,"focusForwarder"));AS3.setBindable(editor_TabbedDocumentFormDispatcher_46_7_$1,"forceReadOnlyValueExpression",this.getForceReadOnlyValueExpression(config));config_$1.items=[editor_TabbedDocumentFormDispatcher_46_7_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$WnR7(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.DocumentPanelBase",alias:"widget.com.coremedia.cms.editor.sdk.config.documentPanel",
constructor:DocumentPanel$,super$WnR7:function(){com.coremedia.cms.editor.sdk.premular.DocumentPanelBase.prototype.constructor.apply(this,arguments)},config:{focusForwarder:null,propertyFieldRegistry:null,premularConfigurationVE:null,collapseHandler:null},requires:["com.coremedia.cms.editor.sdk.premular.DocumentPanelBase","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.TabbedDocumentFormDispatcher"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.FocusForwarder",function(FocusForwarder){function listeners_(){this.listeners$hWxS=[]}function FocusForwarder$(showCallback,blurCallback,collapsibleChangeCallback){listeners_.call(this);switch(Math.max(arguments.length,1)){case 1:blurCallback=null;case 2:collapsibleChangeCallback=null}this.showCallback$hWxS=showCallback;this.blurCallback$hWxS=blurCallback;this.collapsibleChangeCallback$hWxS=collapsibleChangeCallback}function addListener(listener){this.listeners$hWxS.push(listener)}
function removeListener(listener){var pos=this.listeners$hWxS.indexOf(listener);if(pos!==-1)this.listeners$hWxS.splice(pos,1)}function getProperty(){return this.currentProperty$hWxS}function getTabTitle(){return this.currentTabTitle$hWxS}function fireShow(content,tabTitle,property,isFocus,setCurrentProperty,sendState,position,distance,scrollOnly){this.externallyControlled$hWxS=true;this.currentContent$hWxS=content;this.currentProperty$hWxS=property;this.currentTabTitle$hWxS=tabTitle;this.currentSetCurrentProperty$hWxS=
setCurrentProperty;this.currentPosition$hWxS=position;this.doFireShow$hWxS(isFocus,sendState,distance,scrollOnly)}function fireBlur(){this.fireShow(this.currentContent$hWxS,null,null,false,false,false,NaN,NaN,false)}function refireShow(){if(this.externallyControlled$hWxS)for(var i=0;i<this.listeners$hWxS.length;i++){var listener=this.listeners$hWxS[i];listener.onPropertyShow(this.currentContent$hWxS,this.currentTabTitle$hWxS,this.currentProperty$hWxS,false,this.currentSetCurrentProperty$hWxS,false,
this.currentPosition$hWxS,NaN,true)}}function doFireShow(isFocus,sendState,distance,scrollOnly){for(var i=0;i<this.listeners$hWxS.length;i++){var listener=this.listeners$hWxS[i];listener.onPropertyShow(this.currentContent$hWxS,this.currentTabTitle$hWxS,this.currentProperty$hWxS,isFocus,this.currentSetCurrentProperty$hWxS,sendState,this.currentPosition$hWxS,distance,scrollOnly)}}function fireCollapsibleChange(collapsibleItemId,expanded){for(var i=0;i<this.listeners$hWxS.length;i++){var listener=this.listeners$hWxS[i];
listener.onCollapsibleChange(collapsibleItemId,expanded)}}function forwardShowToManager(content,tabTitle,property,isFocus,userOperation,position,distance,scrollOnly){this.externallyControlled$hWxS=false;this.showCallback$hWxS&&this.showCallback$hWxS(content,tabTitle,property,isFocus,userOperation,position,distance,scrollOnly)}function forwardBlurToManager(){this.externallyControlled$hWxS=false;this.blurCallback$hWxS&&this.blurCallback$hWxS()}function forwardCollapsibleChangeToManager(itemId,expanded){this.collapsibleChangeCallback$hWxS&&
this.collapsibleChangeCallback$hWxS(itemId,expanded)}return{showCallback$hWxS:null,blurCallback$hWxS:null,collapsibleChangeCallback$hWxS:null,externallyControlled$hWxS:false,currentContent$hWxS:null,currentTabTitle$hWxS:null,currentProperty$hWxS:null,currentSetCurrentProperty$hWxS:false,currentPosition$hWxS:NaN,constructor:FocusForwarder$,addListener:addListener,removeListener:removeListener,getProperty:getProperty,getTabTitle:getTabTitle,fireShow:fireShow,fireBlur:fireBlur,refireShow:refireShow,
doFireShow$hWxS:doFireShow,fireCollapsibleChange:fireCollapsibleChange,forwardShowToManager:forwardShowToManager,forwardBlurToManager:forwardBlurToManager,forwardCollapsibleChangeToManager:forwardCollapsibleChangeToManager}});Ext.define("com.coremedia.cms.editor.sdk.premular.IssuesWindowBase",function(IssuesWindowBase){function IssuesWindowBase$(config){if(arguments.length<=0)config=null;this.super$FBjT(config)}function getFilteredIssues(predicate){return this.getIssues().filter(predicate)}function getIssues(){return AS3.getBindable(this,"bindTo").getValue()||[]}function getWarnIssues(){return this.getFilteredIssues$FBjT(com.coremedia.cms.editor.sdk.validation.ValidationUtil.isWarnIssue)}function getErrorIssues(){return this.getFilteredIssues$FBjT(com.coremedia.cms.editor.sdk.validation.ValidationUtil.isErrorIssue)}
function getWarnIssuesExpression(){if(!this.warnIssueModelsExpression$FBjT)this.warnIssueModelsExpression$FBjT=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"getWarnIssues"));return this.warnIssueModelsExpression$FBjT}function getErrorIssuesExpression(){if(!this.errorIssueModelsExpression$FBjT)this.errorIssueModelsExpression$FBjT=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"getErrorIssues"));return this.errorIssueModelsExpression$FBjT}
function globalIssueClicked(issueModel){var this$=this;if(issueModel.code==="master_updated")com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var content=AS3.getBindable(this$,"premular").getContent();if(!content)return null;var master=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getMaster(content);if(master===undefined)return undefined;if(master===null)return null;return master.getCheckedInVersion()||master.getCheckedOutVersion()}).loadValue(function(master){if(master)AS3.getBindable(this$,
"premular").openInReadOnlyDocumentPanel(master)})}return{extend:"com.coremedia.cms.editor.sdk.components.StudioDialog",warnIssueModelsExpression$FBjT:null,errorIssueModelsExpression$FBjT:null,constructor:IssuesWindowBase$,super$FBjT:function(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.constructor.apply(this,arguments)},getFilteredIssues$FBjT:getFilteredIssues,getIssues:getIssues,getWarnIssues:getWarnIssues,getErrorIssues:getErrorIssues,getWarnIssuesExpression:getWarnIssuesExpression,
getErrorIssuesExpression:getErrorIssuesExpression,globalIssueClicked:globalIssueClicked,config:{bindTo:null,premular:null},requires:["com.coremedia.cms.editor.sdk.components.StudioDialog","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.validation.ValidationUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.PropertyFieldBase",function(PropertyFieldBase){function PropertyFieldBase$(config){this.super$EgQq();if(arguments.length<=0)config=null;throw new AS3.Error("PropertyField is abstract; use only for setting defaults on other components.");}return{extend:"Ext.Component",mixins:["Ext.form.Labelable"],metadata:{"":["PublicApi"]},constructor:PropertyFieldBase$,super$EgQq:function(){Ext.Component.prototype.constructor.apply(this,arguments)},requires:["AS3.Error",
"Ext.Component","Ext.form.Labelable"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.DocumentForm",function(DocumentForm){function DocumentForm$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.ui.components.FloatingToolbarContainer,{});var defaults_$1=AS3.cast(DocumentForm,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1["itemsLazyUntilEvent"]="beforerender";config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.DARK_200.getSkin());AS3.setBindable(config_$1,
"scrollable",true);config_$1.padding="12px";var field_100_7_$1=AS3.cast(Ext.form.field.Base,{});field_100_7_$1.labelAlign="top";field_100_7_$1.labelSeparator="";var editor_PropertyField_103_11_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyField,{});AS3.setBindable(editor_PropertyField_103_11_$1,"bindTo",AS3.getBindable(config,"bindTo"));AS3.setBindable(editor_PropertyField_103_11_$1,"hideIssues",AS3.getBindable(config,"hideIssues"));AS3.setBindable(editor_PropertyField_103_11_$1,"premularConfigurationVE",
AS3.getBindable(config,"premularConfigurationVE"));AS3.setBindable(editor_PropertyField_103_11_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));delete editor_PropertyField_103_11_$1["xtype"];delete editor_PropertyField_103_11_$1["xclass"];net.jangaroo.ext.Exml.apply(field_100_7_$1,editor_PropertyField_103_11_$1);config_$1["defaultType"]=field_100_7_$1["xtype"];delete field_100_7_$1["xtype"];delete field_100_7_$1["xclass"];config_$1.defaults=field_100_7_$1;
var layout_Anchor_111_5_$1=AS3.cast(Ext.layout.container.Anchor,{});AS3.setBindable(config_$1,"layout",layout_Anchor_111_5_$1);var ui_VerticalSpacingPlugin_114_5_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});AS3.setBindable(ui_VerticalSpacingPlugin_114_5_$1,"modifier",com.coremedia.ui.bem.SpacingBEMEntities.VERTICAL_SPACING_MODIFIER_200);config_$1.plugins=[ui_VerticalSpacingPlugin_114_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$tjkX(config_$1)}function isAutoHideEnabled(){return AS3.getBindable(this,
"autoHide")}function beforeLayout(){var el=this.getEl();if(el)this.lastScrollTop$tjkX=el.dom.scrollTop;com.coremedia.ui.components.FloatingToolbarContainer.prototype.beforeLayout.call(this)}function afterLayout(layout){com.coremedia.ui.components.FloatingToolbarContainer.prototype.afterLayout.call(this,layout);if(!isNaN(this.lastScrollTop$tjkX))this.getEl().dom.scrollTop=this.lastScrollTop$tjkX}return{extend:"com.coremedia.ui.components.FloatingToolbarContainer",mixins:["com.coremedia.ui.mixins.LazyItemsContainerMixin"],
metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.documentForm",constructor:DocumentForm$,super$tjkX:function(){com.coremedia.ui.components.FloatingToolbarContainer.prototype.constructor.apply(this,arguments)},lastScrollTop$tjkX:NaN,isAutoHideEnabled:isAutoHideEnabled,beforeLayout:beforeLayout,afterLayout:afterLayout,config:{bindTo:null,forceReadOnlyValueExpression:null,premularConfigurationVE:null,title:null,hideIssues:false,autoHide:false},requires:["Ext.form.field.Base",
"Ext.layout.container.Anchor","com.coremedia.ui.bem.SpacingBEMEntities","com.coremedia.ui.components.FloatingToolbarContainer","com.coremedia.ui.mixins.LazyItemsContainerMixin","com.coremedia.ui.plugins.VerticalSpacingPlugin","com.coremedia.ui.skins.ContainerSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.PropertyField"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.MetaDataPanel",function(MetaDataPanel){function MetaDataPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.DocumentForm,{});var defaults_$1=AS3.cast(MetaDataPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var editor_DocumentInfo_23_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.DocumentInfo,{});editor_DocumentInfo_23_5_$1.itemId=net.jangaroo.ext.Exml.asString(MetaDataPanel.DOCUMENT_INFO_ID);
editor_DocumentInfo_23_5_$1.bindTo=AS3.getBindable(config,"bindTo");var editor_VersionHistory_26_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.VersionHistory,{});editor_VersionHistory_26_5_$1.itemId=net.jangaroo.ext.Exml.asString(MetaDataPanel.VERSION_HISTORY_ID);AS3.setBindable(editor_VersionHistory_26_5_$1,"bindTo",AS3.getBindable(config,"bindTo"));var editor_DocumentMetaDataFormDispatcher_28_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.DocumentMetaDataFormDispatcher,{});AS3.setBindable(editor_DocumentMetaDataFormDispatcher_28_5_$1,
"bindTo",AS3.getBindable(config,"bindTo"));config_$1.items=[editor_DocumentInfo_23_5_$1,editor_VersionHistory_26_5_$1,editor_DocumentMetaDataFormDispatcher_28_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$7xaJ(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.DocumentForm",alias:"widget.com.coremedia.cms.editor.sdk.config.metaDataPanel",constructor:MetaDataPanel$,super$7xaJ:function(){com.coremedia.cms.editor.sdk.premular.DocumentForm.prototype.constructor.apply(this,
arguments)},statics:{DOCUMENT_INFO_ID:"documentInfo",VERSION_HISTORY_ID:"versionHistory"},requires:["com.coremedia.cms.editor.sdk.premular.DocumentForm","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.DocumentInfo","com.coremedia.cms.editor.sdk.premular.DocumentMetaDataFormDispatcher","com.coremedia.cms.editor.sdk.premular.VersionHistory"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.AbstractTranslationAction",function(AbstractTranslationAction){function AbstractTranslationAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.AbstractTranslationActionBase,{});var defaults_$1=AS3.cast(AbstractTranslationAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$ACHZ(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.AbstractTranslationActionBase",
constructor:AbstractTranslationAction$,super$ACHZ:function(){com.coremedia.cms.editor.sdk.premular.AbstractTranslationActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.premular.AbstractTranslationActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.DocumentFormDispatcher",function(DocumentFormDispatcher){function DocumentFormDispatcher$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.DocumentFormDispatcherBase,{});var defaults_$1=AS3.cast(DocumentFormDispatcher,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var editor_PropertyField_50_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyField,{});AS3.setBindable(editor_PropertyField_50_5_$1,
"bindTo",AS3.getBindable(config,"bindTo"));AS3.setBindable(editor_PropertyField_50_5_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));config_$1["defaultType"]=editor_PropertyField_50_5_$1["xtype"];delete editor_PropertyField_50_5_$1["xtype"];delete editor_PropertyField_50_5_$1["xclass"];config_$1.defaults=editor_PropertyField_50_5_$1;var editor_GenericDocumentForm_55_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.GenericDocumentForm,{});AS3.setBindable(editor_GenericDocumentForm_55_5_$1,
"bindTo",AS3.getBindable(config,"bindTo"));AS3.setBindable(editor_GenericDocumentForm_55_5_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));config_$1.itemTemplate=editor_GenericDocumentForm_55_5_$1;var label_60_5_$1=AS3.cast(Ext.form.Label,{});AS3.setBindable(label_60_5_$1,"text","Error: No form exists for this type of document.");var editor_QueryForm_61_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.QueryForm,{});editor_QueryForm_61_5_$1.itemId="Query";
config_$1.lazyItems=[label_60_5_$1,editor_QueryForm_61_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$gNqe(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.DocumentFormDispatcherBase",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.documentFormDispatcher",constructor:DocumentFormDispatcher$,super$gNqe:function(){com.coremedia.cms.editor.sdk.premular.DocumentFormDispatcherBase.prototype.constructor.apply(this,arguments)},config:{bindTo:null,
forceReadOnlyValueExpression:null,premularConfigurationVE:null,singleType:false},requires:["Ext.form.Label","com.coremedia.cms.editor.sdk.premular.DocumentFormDispatcherBase","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.GenericDocumentForm","com.coremedia.cms.editor.sdk.premular.PropertyField","com.coremedia.cms.editor.sdk.premular.QueryForm"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.DocumentPanelBase",function(DocumentPanelBase){function DocumentPanelBase$(config){if(arguments.length<=0)config=null;this.super$6zOu(config)}function getTabbedDocumentFormDispatcher(){return AS3.cast(com.coremedia.cms.editor.sdk.premular.TabbedDocumentFormDispatcher,this.getComponent(DocumentPanelBase.DISPATCHER_ITEM_ID))}function getForceReadOnlyValueExpression(config){if(!this.forceReadOnlyValueExpression$6zOu)this.forceReadOnlyValueExpression$6zOu=
com.coremedia.ui.data.ValueExpressionFactory.createFromValue(AS3.getBindable(config,"readOnly")||false);return this.forceReadOnlyValueExpression$6zOu}return{extend:"Ext.panel.Panel",forceReadOnlyValueExpression$6zOu:null,constructor:DocumentPanelBase$,super$6zOu:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},getTabbedDocumentFormDispatcher:getTabbedDocumentFormDispatcher,getForceReadOnlyValueExpression:getForceReadOnlyValueExpression,config:{bindTo:null,readOnly:false,diffManager:null},
statics:{DISPATCHER_ITEM_ID:"dispatcher"},requires:["Ext.panel.Panel","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.sdk.premular.TabbedDocumentFormDispatcher"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.HistoricContentImpl",function(HistoricContentImpl){var VALUE_CHANGED_EVENT$static="valueChanged";function HistoricContentImpl$(version){this.super$muRu();this.content$muRu=version.getContainingContent();this.version$muRu=version;this.immutableProperties$muRu={checkedOut:this.isCheckedOut(),checkedOutByCurrentSession:this.isCheckedOutByCurrentSession(),checkedOutByOther:this.isCheckedOutByOther(),checkedIn:this.isCheckedIn(),checkedOutVersion:this.getCheckedOutVersion(),
checkedInVersion:this.getCheckedInVersion(),issues:this.getIssues()};this.content$muRu.load();version.load()}function getVersion(){return this.version$muRu}function getContent(){return this.content$muRu}function getId(){return this.content$muRu.getId()}function isRoot(){return this.content$muRu.isRoot()}function isFolder(){return this.content$muRu.isFolder()}function isDocument(){return this.content$muRu.isDocument()}function getName(){return this.content$muRu.getName()}function getPath(){return this.content$muRu.getPath()}
function getReferrers(){return this.content$muRu.getReferrers()}function getReferrersWithDescriptor(contentType,descriptor){return this.content$muRu.getReferrersWithDescriptor(contentType,descriptor)}function getReferrersWithNamedDescriptor(contentTypeName,descriptorName,callback){return this.content$muRu.getReferrersWithNamedDescriptor(contentTypeName,descriptorName,callback)}function rename(name,callback){if(arguments.length<=1)callback=null;throw new AS3.Error("rename not supported by HistoricContent");
}function moveTo(target,callback){if(arguments.length<=1)callback=null;throw new AS3.Error("moveTo not supported by HistoricContent");}function copyTo(target,callback){if(arguments.length<=1)callback=null;throw new AS3.Error("copyTo not supported by HistoricContent");}function getCreator(){return this.content$muRu.getCreator()}function getCreationDate(){return this.content$muRu.getCreationDate()}function getModificationDate(){return this.content$muRu.getModificationDate()}function isCheckedOut(){return false}
function isCheckedIn(){return true}function isPublished(){return this.content$muRu.isPublished()}function isInProduction(){return this.content$muRu.isInProduction()}function isDeleted(){return this.content$muRu.isDeleted()}function isDestroyed(){return this.version$muRu.isDestroyed()}function getLifecycleStatus(){return this.content$muRu.getLifecycleStatus()}function getParent(){return this.content$muRu.getParent()}function getLastParent(){return this.content$muRu.getLastParent()}function getEditor(){return this.content$muRu.getEditor()}
function getChildren(){return this.content$muRu.getChildren()}function getChildrenByName(){return this.content$muRu.getChildrenByName()}function getChildDocuments(){return this.content$muRu.getChildDocuments()}function getSubFolders(){return this.content$muRu.getSubFolders()}function getPreviewUrl(){return this.content$muRu.getPreviewUrl()}function isCheckedOutByCurrentSession(){return false}function isCheckedOutByOther(){return false}function getChild(path,callback){if(arguments.length<=1)callback=
null;return this.content$muRu.getChild(path,callback)}function getVersionHistory(){return this.content$muRu.getVersionHistory()}function getLatestApprovedVersion(){return this.content$muRu.getLatestApprovedVersion()}function getLatestPublishedVersion(){return this.content$muRu.getLatestPublishedVersion()}function getCheckedOutVersion(){return null}function getCheckedInVersion(){return this.version$muRu}function getIssues(){return new com.coremedia.cms.editor.sdk.premular.EmptyIssues(this)}function checkIn(callback){if(arguments.length<=
0)callback=null;throw new AS3.Error("check in not supported by HistoricContent");}function checkOut(callback){if(arguments.length<=0)callback=null;throw new AS3.Error("check out not supported by HistoricContent");}function revert(callback){if(arguments.length<=0)callback=null;throw new AS3.Error("revert not supported by HistoricContent");}function doDelete(callback){if(arguments.length<=0)callback=null;throw new AS3.Error("delete not supported by HistoricContent");}function undelete(callback){if(arguments.length<=
0)callback=null;throw new AS3.Error("undelete not supported by HistoricContent");}function getType(){return this.content$muRu.getType()}function getProperties(){return this.version$muRu.getProperties()}function getRepository(){return this.content$muRu.getRepository()}function isContent(){return this.content$muRu.isContent()}function isVersion(){return this.content$muRu.isVersion()}function getUri(){return this.content$muRu.getUri()}function getUriPath(){return this.content$muRu.getUriPath()}function getAbsoluteUri(){return this.content$muRu.getAbsoluteUri()}
function getType_(){return this.content$muRu.getType_()}function getNumericId(){return com.coremedia.cap.common.IdHelper.parseContentId(this.content$muRu)}function hasRightsRules(){return com.coremedia.cap.undoc.content.ContentUtil.hasRightsRules(this.content$muRu)}function getMergeVersions(){return[]}function load(callback){if(arguments.length<=0)callback=null;var me=this;com.coremedia.ui.data.RemoteBeanUtil.loadAll(function(){callback(me)},this.content$muRu,this.version$muRu)}function flush(callback){if(arguments.length<=
0)callback=null;this.content$muRu.flush(callback)}function isLoaded(){return this.content$muRu.isLoaded()&&this.version$muRu.isLoaded()}function invalidate(callback){if(arguments.length<=0)callback=null;var me=this;com.coremedia.ui.data.RemoteBeanUtil.invalidateAll(function(){callback(me)},this.content$muRu,this.version$muRu)}function addBeforeFlushListener(beforeFlush){}function removeBeforeFlushListener(beforeFlush){}function isImmutableProperty(propertyName){return this.immutableProperties$muRu.hasOwnProperty(propertyName)}
function addPropertyChangeListener(property,onChange){var propertyName=String(property);if(this.isImmutableProperty$muRu(propertyName))return;if(propertyName===com.coremedia.cap.content.ContentPropertyNames.PROPERTIES)this.version$muRu.addPropertyChangeListener(property,onChange);else if(propertyName===com.coremedia.ui.data.BeanState.PROPERTY_NAME){this.version$muRu.addPropertyChangeListener(property,onChange);this.content$muRu.addPropertyChangeListener(property,onChange)}else this.content$muRu.addPropertyChangeListener(property,
onChange)}function removePropertyChangeListener(property,onChange){var propertyName=String(property);if(this.isImmutableProperty$muRu(propertyName))return;if(propertyName===com.coremedia.cap.content.ContentPropertyNames.PROPERTIES)this.version$muRu.removePropertyChangeListener(property,onChange);else if(propertyName===com.coremedia.ui.data.BeanState.PROPERTY_NAME){this.version$muRu.removePropertyChangeListener(property,onChange);this.content$muRu.removePropertyChangeListener(property,onChange)}else this.content$muRu.removePropertyChangeListener(property,
onChange)}function hasPropertyChangeListener(property){var propertyName=String(property);if(this.isImmutableProperty$muRu(propertyName))return false;if(propertyName===com.coremedia.cap.content.ContentPropertyNames.PROPERTIES)return this.version$muRu.hasPropertyChangeListener(property);else if(propertyName===com.coremedia.ui.data.BeanState.PROPERTY_NAME)return this.version$muRu.hasPropertyChangeListener(property)&&this.content$muRu.hasPropertyChangeListener(property);else return this.content$muRu.hasPropertyChangeListener(property)}
function addValueChangeListener(onChange){if(!this.hasListener(VALUE_CHANGED_EVENT$static)){this.content$muRu.addValueChangeListener(AS3.bind(this,"contentValueChanged$muRu"));this.version$muRu.addValueChangeListener(AS3.bind(this,"versionValueChanged$muRu"))}this.addListener(VALUE_CHANGED_EVENT$static,onChange)}function removeValueChangeListener(onChange){this.removeListener(VALUE_CHANGED_EVENT$static,onChange);if(!this.hasListener(VALUE_CHANGED_EVENT$static)){this.content$muRu.removeValueChangeListener(AS3.bind(this,
"contentValueChanged$muRu"));this.version$muRu.removeValueChangeListener(AS3.bind(this,"versionValueChanged$muRu"))}}function hasValueChangeListener(){return this.hasListener(VALUE_CHANGED_EVENT$static)}function versionValueChanged(event){if(event.property===com.coremedia.ui.data.BeanState.PROPERTY_NAME)this.fireValueChangedEvent$muRu(com.coremedia.ui.data.BeanState.PROPERTY_NAME,event.oldValue,event.newValue,event.oldState,event.newState);else if(event.property.indexOf("properties.")===0)this.fireValueChangedEvent$muRu(event.property,
event.oldValue,event.newValue,event.oldState,event.newState)}function contentValueChanged(event){if(!this.isImmutableProperty$muRu(event.property)&&event.property.indexOf("properties\n")!==0)this.fireValueChangedEvent$muRu(event.property,event.oldValue,event.newValue,event.oldState,event.newState)}function fireValueChangedEvent(property,oldValue,newValue,oldState,newState){this.fireEvent(VALUE_CHANGED_EVENT$static,com.coremedia.ui.data.util.PropertyChangeEventUtil.createEvent(this,property,oldValue,
newValue,oldState,newState))}function get(property){var propertyName=String(property);if(this.isImmutableProperty$muRu(propertyName))return this.immutableProperties$muRu[propertyName];if(propertyName===com.coremedia.cap.content.ContentPropertyNames.PROPERTIES)return this.getProperties();else if(propertyName===com.coremedia.ui.data.BeanState.PROPERTY_NAME)return this.getState();else return this.content$muRu.get(property)}function instantiate(property){return this.get(property)}function set(property,
value){throwUpdateNotSupported$static()}function updateProperties(newValue){throwUpdateNotSupported$static()}function addAt(property,position,value){switch(Math.max(arguments.length,1)){case 1:position=-1;case 2:value=null}throwUpdateNotSupported$static()}function removeAt(property,position){if(arguments.length<=1)position=-1;throwUpdateNotSupported$static()}function throwUpdateNotSupported$static(){throw new AS3.Error("update not supported by HistoricContent");}function toObject(){var result=this.content$muRu.toObject();
result[com.coremedia.cap.content.ContentPropertyNames.PROPERTIES]=this.version$muRu.getProperties().toObject();Ext.apply(result,this.immutableProperties$muRu);return result}function toJson(){return this.content$muRu.toJson()}function getState(){var contentState=this.content$muRu.getState();var versionState=this.version$muRu.getState();if(contentState===com.coremedia.ui.data.BeanState.UNKNOWN||versionState===com.coremedia.ui.data.BeanState.UNKNOWN)return com.coremedia.ui.data.BeanState.UNKNOWN;if(contentState===
com.coremedia.ui.data.BeanState.NON_EXISTENT||versionState===com.coremedia.ui.data.BeanState.NON_EXISTENT)return com.coremedia.ui.data.BeanState.NON_EXISTENT;if(contentState===com.coremedia.ui.data.BeanState.UNREADABLE||versionState===com.coremedia.ui.data.BeanState.UNREADABLE)return com.coremedia.ui.data.BeanState.UNREADABLE;return contentState}return{extend:"Ext.util.Observable",mixins:["com.coremedia.cms.editor.sdk.premular.HistoricContent","com.coremedia.cap.undoc.content.Content"],metadata:{"":["Event",
["name","valueChanged"]]},content$muRu:null,version$muRu:null,immutableProperties$muRu:null,constructor:HistoricContentImpl$,super$muRu:function(){Ext.util.Observable.prototype.constructor.apply(this,arguments)},getVersion:getVersion,getContent:getContent,getId:getId,isRoot:isRoot,isFolder:isFolder,isDocument:isDocument,getName:getName,getPath:getPath,getReferrers:getReferrers,getReferrersWithDescriptor:getReferrersWithDescriptor,getReferrersWithNamedDescriptor:getReferrersWithNamedDescriptor,rename:rename,
moveTo:moveTo,copyTo:copyTo,getCreator:getCreator,getCreationDate:getCreationDate,getModificationDate:getModificationDate,isCheckedOut:isCheckedOut,isCheckedIn:isCheckedIn,isPublished:isPublished,isInProduction:isInProduction,isDeleted:isDeleted,isDestroyed:isDestroyed,getLifecycleStatus:getLifecycleStatus,getParent:getParent,getLastParent:getLastParent,getEditor:getEditor,getChildren:getChildren,getChildrenByName:getChildrenByName,getChildDocuments:getChildDocuments,getSubFolders:getSubFolders,getPreviewUrl:getPreviewUrl,
isCheckedOutByCurrentSession:isCheckedOutByCurrentSession,isCheckedOutByOther:isCheckedOutByOther,getChild:getChild,getVersionHistory:getVersionHistory,getLatestApprovedVersion:getLatestApprovedVersion,getLatestPublishedVersion:getLatestPublishedVersion,getCheckedOutVersion:getCheckedOutVersion,getCheckedInVersion:getCheckedInVersion,getIssues:getIssues,checkIn:checkIn,checkOut:checkOut,revert:revert,doDelete:doDelete,undelete:undelete,getType:getType,getProperties:getProperties,getRepository:getRepository,
isContent:isContent,isVersion:isVersion,getUri:getUri,getUriPath:getUriPath,getAbsoluteUri:getAbsoluteUri,getType_:getType_,getNumericId:getNumericId,hasRightsRules:hasRightsRules,getMergeVersions:getMergeVersions,load:load,flush:flush,isLoaded:isLoaded,invalidate:invalidate,addBeforeFlushListener:addBeforeFlushListener,removeBeforeFlushListener:removeBeforeFlushListener,isImmutableProperty$muRu:isImmutableProperty,addPropertyChangeListener:addPropertyChangeListener,removePropertyChangeListener:removePropertyChangeListener,
hasPropertyChangeListener:hasPropertyChangeListener,addValueChangeListener:addValueChangeListener,removeValueChangeListener:removeValueChangeListener,hasValueChangeListener:hasValueChangeListener,versionValueChanged$muRu:versionValueChanged,contentValueChanged$muRu:contentValueChanged,fireValueChangedEvent$muRu:fireValueChangedEvent,get:get,instantiate:instantiate,set:set,updateProperties:updateProperties,addAt:addAt,removeAt:removeAt,toObject:toObject,toJson:toJson,getState:getState,requires:["AS3.Error",
"Ext","Ext.util.Observable","com.coremedia.cap.common.IdHelper","com.coremedia.cap.content.ContentPropertyNames","com.coremedia.cap.undoc.content.Content","com.coremedia.cap.undoc.content.ContentUtil","com.coremedia.cms.editor.sdk.premular.HistoricContent","com.coremedia.ui.data.BeanState","com.coremedia.ui.data.RemoteBeanUtil","com.coremedia.ui.data.util.PropertyChangeEventUtil"],uses:["com.coremedia.cms.editor.sdk.premular.EmptyIssues"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.ReferrerListPanel",function(ReferrerListPanel){function ReferrerListPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.ReferrerListPanelBase,{});var defaults_$1=AS3.cast(ReferrerListPanel,{});var editor_ThumbnailColumn_35_7_$1=AS3.cast(com.coremedia.cms.editor.sdk.columns.grid.ThumbnailColumn,{});AS3.setBindable(editor_ThumbnailColumn_35_7_$1,"border",false);editor_ThumbnailColumn_35_7_$1.menuDisabled=
true;AS3.setBindable(editor_ThumbnailColumn_35_7_$1,"hidden",this.hidePreview(config));var editor_TypeIconColumn_38_7_$1=AS3.cast(com.coremedia.cms.editor.sdk.columns.grid.TypeIconColumn,{});editor_TypeIconColumn_38_7_$1.header="";editor_TypeIconColumn_38_7_$1.sortable=false;editor_TypeIconColumn_38_7_$1.menuDisabled=true;var editor_NameColumn_41_7_$1=AS3.cast(com.coremedia.cms.editor.sdk.columns.grid.NameColumn,{});editor_NameColumn_41_7_$1.sortable=false;editor_NameColumn_41_7_$1.menuDisabled=true;
editor_NameColumn_41_7_$1.flex=1;var editor_SiteNameColumn_44_7_$1=AS3.cast(com.coremedia.cms.editor.sdk.columns.grid.SiteNameColumn,{});editor_SiteNameColumn_44_7_$1.sortable=false;editor_SiteNameColumn_44_7_$1.menuDisabled=true;var editor_SiteLocaleColumn_46_7_$1=AS3.cast(com.coremedia.cms.editor.sdk.columns.grid.SiteLocaleColumn,{});editor_SiteLocaleColumn_46_7_$1.sortable=false;editor_SiteLocaleColumn_46_7_$1.menuDisabled=true;var editor_StatusColumn_48_7_$1=AS3.cast(com.coremedia.cms.editor.sdk.columns.grid.StatusColumn,
{});editor_StatusColumn_48_7_$1.header="";editor_StatusColumn_48_7_$1.sortable=false;editor_StatusColumn_48_7_$1.menuDisabled=true;this.defaultColumns$yuZ5=[editor_ThumbnailColumn_35_7_$1,editor_TypeIconColumn_38_7_$1,editor_NameColumn_41_7_$1,editor_SiteNameColumn_44_7_$1,editor_SiteLocaleColumn_46_7_$1,editor_StatusColumn_48_7_$1];var ui_DataField_53_7_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_53_7_$1.name="siteName";ui_DataField_53_7_$1.mapping="";ui_DataField_53_7_$1.ifUnreadable=
"";ui_DataField_53_7_$1["convert"]=com.coremedia.cms.editor.sdk.util.SiteUtil.getSiteNameFor;var ui_DataField_57_7_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_57_7_$1.name="siteLocale";ui_DataField_57_7_$1.mapping="";ui_DataField_57_7_$1.ifUnreadable="";ui_DataField_57_7_$1["convert"]=com.coremedia.cms.editor.sdk.util.SiteUtil.getSiteLocaleNameFor;this.additionalLocalFields$yuZ5=[ui_DataField_53_7_$1,ui_DataField_57_7_$1];AS3.setBindable(defaults_$1,"additionalFields",[]);config=
net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.Editor","ReferrerListPanel_label"));config_$1.itemId="referrerListPanel";var container_90_5_$1=AS3.cast(Ext.container.Container,{});container_90_5_$1.itemId="toolbarWrapper";var ui_BEMMixin_97_9_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,{});AS3.setBindable(ui_BEMMixin_97_9_$1,"bemElement",undefined);delete ui_BEMMixin_97_9_$1["xtype"];delete ui_BEMMixin_97_9_$1["xclass"];
net.jangaroo.ext.Exml.apply(container_90_5_$1,ui_BEMMixin_97_9_$1);var ui_BindVisibilityPlugin_100_9_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_100_9_$1.bindTo=this.getReferrerListValueExpression(config);AS3.setBindable(ui_BindVisibilityPlugin_100_9_$1,"transformer",AS3.bind(this,"toolbarVisibilityTransformer"));container_90_5_$1.plugins=[ui_BindVisibilityPlugin_100_9_$1];var toolbar_104_9_$1=AS3.cast(Ext.toolbar.Toolbar,{});toolbar_104_9_$1.itemId="referrerToolbar";
toolbar_104_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.FIELD.getSkin());var ui_IconButton_107_13_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_107_13_$1.itemId="openInTab";var editor_OpenInTabAction_109_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenInTabAction,{});AS3.setBindable(editor_OpenInTabAction_109_17_$1,"contentValueExpression",this.getSelectedValuesExpression());ui_IconButton_107_13_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.OpenInTabAction(editor_OpenInTabAction_109_17_$1);
var ui_IconButton_112_13_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_112_13_$1.itemId="open";var editor_ShowInRepositoryAction_114_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction,{});AS3.setBindable(editor_ShowInRepositoryAction_114_17_$1,"contentValueExpression",this.getSelectedValuesExpression());ui_IconButton_112_13_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction(editor_ShowInRepositoryAction_114_17_$1);var tbSeparator_117_13_$1=
AS3.cast(Ext.toolbar.Separator,{});tbSeparator_117_13_$1.itemId="openActionsSeparator";var ui_IconButton_118_13_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_118_13_$1.itemId="copyToClipboard";var editor_CopyToClipboardAction_120_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction,{});AS3.setBindable(editor_CopyToClipboardAction_120_17_$1,"contentValueExpression",this.getSelectedValuesExpression());ui_IconButton_118_13_$1.baseAction=new com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction(editor_CopyToClipboardAction_120_17_$1);
toolbar_104_9_$1.items=[ui_IconButton_107_13_$1,ui_IconButton_112_13_$1,tbSeparator_117_13_$1,ui_IconButton_118_13_$1];container_90_5_$1.items=[toolbar_104_9_$1];var ui_SwitchingContainer_127_5_$1=AS3.cast(com.coremedia.ui.components.SwitchingContainer,{});AS3.setBindable(ui_SwitchingContainer_127_5_$1,"activeItemValueExpression",this.getActiveItemValueExpression(config));var label_129_9_$1=AS3.cast(Ext.form.Label,{});label_129_9_$1.itemId=net.jangaroo.ext.Exml.asString(this.EMPTY_REFERRER_LIST_LABEL_ITEM_ID);
AS3.setBindable(label_129_9_$1,"text",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"emptyText")||this.resourceManager.getString("com.coremedia.cms.editor.Editor","ReferrerListPanel_emptyListLabel")));var panel_131_9_$1=AS3.cast(Ext.panel.Panel,{});panel_131_9_$1.itemId=net.jangaroo.ext.Exml.asString(this.REFERRER_LIST_ITEM_ID);var editor_LinkListGridPanel_133_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.LinkListGridPanel,{});editor_LinkListGridPanel_133_13_$1.enableColumnMove=
false;AS3.setBindable(editor_LinkListGridPanel_133_13_$1,"hideHeaders",AS3.getBindable(config,"hideHeaders")||false);editor_LinkListGridPanel_133_13_$1.columns=com.coremedia.ui.util.ComponentUtil.cloneComponents(AS3.getBindable(config,"columns"))||this.defaultColumns$yuZ5;AS3.setBindable(editor_LinkListGridPanel_133_13_$1,"additionalFields",this.additionalLocalFields$yuZ5.concat(AS3.getBindable(config,"additionalFields")));AS3.setBindable(editor_LinkListGridPanel_133_13_$1,"selectedValuesExpression",
this.getSelectedValuesExpression());AS3.setBindable(editor_LinkListGridPanel_133_13_$1,"readOnlyValueExpression",com.coremedia.ui.data.ValueExpressionFactory.createFromValue(true));AS3.setBindable(editor_LinkListGridPanel_133_13_$1,"hideDropArea",true);var editor_MemoryLinkListWrapper_141_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.util.MemoryLinkListWrapper,{});AS3.setBindable(editor_MemoryLinkListWrapper_141_17_$1,"linksVE",this.getReferrerListValueExpression(config));AS3.setBindable(editor_LinkListGridPanel_133_13_$1,
"linkListWrapper",new com.coremedia.cms.editor.sdk.util.MemoryLinkListWrapper(editor_MemoryLinkListWrapper_141_17_$1));var ui_BEMPlugin_144_17_$1=AS3.cast(com.coremedia.ui.plugins.BEMPlugin,{});AS3.setBindable(ui_BEMPlugin_144_17_$1,"block",com.coremedia.ui.bem.LinkListBEMEntities.BLOCK);AS3.setBindable(ui_BEMPlugin_144_17_$1,"bodyElement",com.coremedia.ui.bem.LinkListBEMEntities.ELEMENT_LIST);AS3.setBindable(ui_BEMPlugin_144_17_$1,"modifier",com.coremedia.ui.bem.LinkListBEMEntities.MODIFIER_WITH_HEADER);
var ui_ContextMenuPlugin_147_17_$1=AS3.cast(com.coremedia.ui.plugins.ContextMenuPlugin,{});var editor_PropertyFieldContextMenu_149_21_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.PropertyFieldContextMenu,{});AS3.setBindable(editor_PropertyFieldContextMenu_149_21_$1,"selectedItemsVE",this.getSelectedValuesExpression());AS3.setBindable(ui_ContextMenuPlugin_147_17_$1,"contextMenu",editor_PropertyFieldContextMenu_149_21_$1);editor_LinkListGridPanel_133_13_$1.plugins=[ui_BEMPlugin_144_17_$1,
ui_ContextMenuPlugin_147_17_$1];editor_LinkListGridPanel_133_13_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var displayField_154_13_$1=AS3.cast(Ext.form.field.Display,{});displayField_154_13_$1.itemId=net.jangaroo.ext.Exml.asString(this.LIST_LIMIT_LABEL_ITEM_ID);displayField_154_13_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.DisplayFieldSkin.ITALIC);var ui_BindVisibilityPlugin_157_17_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_157_17_$1.bindTo=
this.getListLimitLabelVisibility();var ui_BindPropertyPlugin_158_17_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_158_17_$1.bindTo=this.getListLimitLabelText(config);ui_BindPropertyPlugin_158_17_$1.componentProperty="value";displayField_154_13_$1.plugins=[ui_BindVisibilityPlugin_157_17_$1,ui_BindPropertyPlugin_158_17_$1];panel_131_9_$1.items=[editor_LinkListGridPanel_133_13_$1,displayField_154_13_$1];ui_SwitchingContainer_127_5_$1.lazyItems=[label_129_9_$1,panel_131_9_$1];
var checkbox_166_5_$1=AS3.cast(Ext.form.field.Checkbox,{});checkbox_166_5_$1.itemId=net.jangaroo.ext.Exml.asString(this.INCLUDE_DELETED_ITEM_ID);checkbox_166_5_$1.hideLabel=true;AS3.setBindable(checkbox_166_5_$1,"hidden",AS3.getBindable(config,"hideDeletedItemsCheckbox"));AS3.setBindable(checkbox_166_5_$1,"boxLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","ReferrerListPanel_list_include_deleted")));var ui_BindPropertyPlugin_171_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,
{});ui_BindPropertyPlugin_171_9_$1.bidirectional=true;ui_BindPropertyPlugin_171_9_$1.bindTo=this.getIncludeDeletedValueExpression();checkbox_166_5_$1.plugins=[ui_BindPropertyPlugin_171_9_$1];config_$1.items=[container_90_5_$1,ui_SwitchingContainer_127_5_$1,checkbox_166_5_$1];var editor_PropertyFieldPlugin_178_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin,{});AS3.setBindable(editor_PropertyFieldPlugin_178_5_$1,"propertyName",net.jangaroo.ext.Exml.asString(ReferrerListPanel.xtype));
config_$1.plugins=[editor_PropertyFieldPlugin_178_5_$1];config_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$yuZ5(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.ReferrerListPanelBase",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.referrerListPanel",defaultColumns$yuZ5:null,additionalLocalFields$yuZ5:null,constructor:ReferrerListPanel$,super$yuZ5:function(){com.coremedia.cms.editor.sdk.premular.ReferrerListPanelBase.prototype.constructor.apply(this,
arguments)},config:{hideHeaders:false,addBorder:false,hideDeletedItemsCheckbox:false,additionalFields:null,showThumbnail:false,columns:null},requires:["Ext.container.Container","Ext.form.Label","Ext.form.field.Checkbox","Ext.form.field.Display","Ext.panel.Panel","Ext.toolbar.Separator","Ext.toolbar.Toolbar","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.premular.ReferrerListPanelBase","com.coremedia.ui.bem.LinkListBEMEntities","com.coremedia.ui.components.IconButton","com.coremedia.ui.components.SwitchingContainer",
"com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.BEMMixin","com.coremedia.ui.plugins.BEMPlugin","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.BindVisibilityPlugin","com.coremedia.ui.plugins.ContextMenuPlugin","com.coremedia.ui.skins.DisplayFieldSkin","com.coremedia.ui.skins.ToolbarSkin","com.coremedia.ui.store.DataField","com.coremedia.ui.util.ComponentUtil","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.actions.OpenInTabAction","com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction",
"com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction","com.coremedia.cms.editor.sdk.columns.grid.NameColumn","com.coremedia.cms.editor.sdk.columns.grid.SiteLocaleColumn","com.coremedia.cms.editor.sdk.columns.grid.SiteNameColumn","com.coremedia.cms.editor.sdk.columns.grid.StatusColumn","com.coremedia.cms.editor.sdk.columns.grid.ThumbnailColumn","com.coremedia.cms.editor.sdk.columns.grid.TypeIconColumn","com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin","com.coremedia.cms.editor.sdk.premular.fields.LinkListGridPanel",
"com.coremedia.cms.editor.sdk.premular.fields.PropertyFieldContextMenu","com.coremedia.cms.editor.sdk.util.MemoryLinkListWrapper","com.coremedia.cms.editor.sdk.util.SiteUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.DocumentFormToolbar",function(DocumentFormToolbar){function DocumentFormToolbar$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.DocumentFormToolbarBase,{});var defaults_$1=AS3.cast(DocumentFormToolbar,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","DocumentFormToolbar_label"));
AS3.setBindable(config_$1,"height","40px");var tbSpacer_55_5_$1=AS3.cast(Ext.toolbar.Spacer,{});AS3.setBindable(tbSpacer_55_5_$1,"width",12);var container_59_5_$1=AS3.cast(Ext.container.Container,{});container_59_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.DocumentFormToolbarBase.DOCUMENT_TOOLBAR_TEXT_CONTAINER_ITEM_ID);container_59_5_$1.flex=1;var ui_IconDisplayField_62_9_$1=AS3.cast(com.coremedia.ui.components.IconDisplayField,{});ui_IconDisplayField_62_9_$1.itemId=
net.jangaroo.ext.Exml.asString(DocumentFormToolbar.LIFECYCLE_STATUS_ITEM_ID);AS3.setBindable(ui_IconDisplayField_62_9_$1,"overflowBehaviour",com.coremedia.ui.mixins.OverflowBehaviour.ELLIPSIS);ui_IconDisplayField_62_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.IconDisplayFieldSkin.WORKAREA.getSkin());var ui_BindPlugin_66_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPlugin,{});ui_BindPlugin_66_13_$1.bindTo=AS3.getBindable(config,"bindTo").extendBy("lifecycleStatus");ui_BindPlugin_66_13_$1.boundValueChanged=
com.coremedia.cms.editor.sdk.premular.DocumentFormToolbarBase.changeLifecycleStatus;ui_IconDisplayField_62_9_$1.plugins=[ui_BindPlugin_66_13_$1];var ui_IconDisplayField_70_9_$1=AS3.cast(com.coremedia.ui.components.IconDisplayField,{});ui_IconDisplayField_70_9_$1.itemId=net.jangaroo.ext.Exml.asString(DocumentFormToolbar.CHECKED_OUT_STATUS_ITEM_ID);ui_IconDisplayField_70_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.IconDisplayFieldSkin.WORKAREA.getSkin());AS3.setBindable(ui_IconDisplayField_70_9_$1,
"overflowBehaviour",com.coremedia.ui.mixins.OverflowBehaviour.ELLIPSIS);AS3.setBindable(ui_IconDisplayField_70_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","help")));AS3.setBindable(ui_IconDisplayField_70_9_$1,"iconPosition",net.jangaroo.ext.Exml.asString(com.coremedia.ui.components.IconDisplayField.ICON_POSITION_AFTER_VALUE));var ui_BindPlugin_76_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPlugin,{});ui_BindPlugin_76_13_$1.bindTo=this.getCheckedOutValueExpression();
ui_BindPlugin_76_13_$1.boundValueChanged=AS3.bind(this,"changeCheckedOutStatus");ui_IconDisplayField_70_9_$1.plugins=[ui_BindPlugin_76_13_$1];var ui_ExtendedDisplayField_81_9_$1=AS3.cast(com.coremedia.ui.components.ExtendedDisplayField,{});ui_ExtendedDisplayField_81_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.DocumentFormToolbarBase.LOCALE_NAME_ITEM_ID);AS3.setBindable(ui_ExtendedDisplayField_81_9_$1,"overflowBehaviour",com.coremedia.ui.mixins.OverflowBehaviour.ELLIPSIS);
ui_ExtendedDisplayField_81_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.DisplayFieldSkin.WORKAREA.getSkin());var ui_BindPlugin_85_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPlugin,{});ui_BindPlugin_85_13_$1.bindTo=this.getLocaleValueExpression();ui_BindPlugin_85_13_$1.boundValueChanged=AS3.bind(this,"changeLocale");ui_ExtendedDisplayField_81_9_$1.plugins=[ui_BindPlugin_85_13_$1];container_59_5_$1.items=[ui_IconDisplayField_62_9_$1,ui_IconDisplayField_70_9_$1,ui_ExtendedDisplayField_81_9_$1];
var displayField_92_9_$1=AS3.cast(Ext.form.field.Display,{});AS3.setBindable(displayField_92_9_$1,"margin","0 6 0 0");container_59_5_$1["defaultType"]=displayField_92_9_$1["xtype"];delete displayField_92_9_$1["xtype"];delete displayField_92_9_$1["xclass"];container_59_5_$1.defaults=displayField_92_9_$1;var layout_HBox_96_9_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(container_59_5_$1,"layout",layout_HBox_96_9_$1);var ui_IconDisplayField_101_5_$1=AS3.cast(com.coremedia.ui.components.IconDisplayField,
{});ui_IconDisplayField_101_5_$1.itemId=net.jangaroo.ext.Exml.asString(DocumentFormToolbar.DOCUMENT_TYPE_ITEM_ID);ui_IconDisplayField_101_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.IconDisplayFieldSkin.WORKAREA.getSkin());AS3.setBindable(ui_IconDisplayField_101_5_$1,"overflowBehaviour",com.coremedia.ui.mixins.OverflowBehaviour.ELLIPSIS);ui_IconDisplayField_101_5_$1.tooltipOnValue=true;var ui_BindPlugin_106_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPlugin,{});ui_BindPlugin_106_9_$1.bindTo=
AS3.getBindable(config,"bindTo").extendBy("type");ui_BindPlugin_106_9_$1.boundValueChanged=com.coremedia.cms.editor.sdk.premular.DocumentFormToolbarBase.changeType;ui_IconDisplayField_101_5_$1.plugins=[ui_BindPlugin_106_9_$1];var tbSpacer_110_5_$1=AS3.cast(Ext.toolbar.Spacer,{});AS3.setBindable(tbSpacer_110_5_$1,"width","6px");var editor_OpenIssuesWindowButton_112_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.OpenIssuesWindowButton,{});editor_OpenIssuesWindowButton_112_5_$1.itemId=net.jangaroo.ext.Exml.asString(DocumentFormToolbar.OPEN_ISSUE_WINDOW_BUTTON_ITEM_ID);
editor_OpenIssuesWindowButton_112_5_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(editor_OpenIssuesWindowButton_112_5_$1,"premular",AS3.getBindable(config,"premular"));AS3.setBindable(editor_OpenIssuesWindowButton_112_5_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","validator_check")));AS3.setBindable(editor_OpenIssuesWindowButton_112_5_$1,"propertyFieldRegistry",AS3.getBindable(config,"propertyFieldRegistry"));var ui_IconButton_118_5_$1=
AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_118_5_$1.itemId=net.jangaroo.ext.Exml.asString(DocumentFormToolbar.COLLAPSE_BUTTON_ITEM_ID);AS3.setBindable(ui_IconButton_118_5_$1,"scale","medium");ui_IconButton_118_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.WORKAREA.getSkin());AS3.setBindable(ui_IconButton_118_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","Document_panel_btn_tooltip")));AS3.setBindable(ui_IconButton_118_5_$1,
"tooltip",this.resourceManager.getString("com.coremedia.cms.editor.Editor","Document_panel_btn_tooltip"));AS3.setBindable(ui_IconButton_118_5_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","collapsing_arrow_left")));AS3.setBindable(ui_IconButton_118_5_$1,"handler",AS3.getBindable(config,"collapseHandler"));config_$1.items=[tbSpacer_55_5_$1,container_59_5_$1,ui_IconDisplayField_101_5_$1,tbSpacer_110_5_$1,editor_OpenIssuesWindowButton_112_5_$1,
ui_IconButton_118_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$fY2Q(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.DocumentFormToolbarBase",alias:"widget.com.coremedia.cms.editor.sdk.config.documentFormToolbar",constructor:DocumentFormToolbar$,super$fY2Q:function(){com.coremedia.cms.editor.sdk.premular.DocumentFormToolbarBase.prototype.constructor.apply(this,arguments)},config:{propertyFieldRegistry:null,collapseHandler:null,premular:null},statics:{COLLAPSE_BUTTON_ITEM_ID:"collapseButton",
LIFECYCLE_STATUS_ITEM_ID:"lifecycleStatus",CHECKED_OUT_STATUS_ITEM_ID:"checkedOutStatus",DOCUMENT_TYPE_ITEM_ID:"documentType",OPEN_ISSUE_WINDOW_BUTTON_ITEM_ID:"openIssueWindowButton"},requires:["Ext.container.Container","Ext.form.field.Display","Ext.layout.container.HBox","Ext.toolbar.Spacer","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.premular.DocumentFormToolbarBase","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.components.ExtendedDisplayField","com.coremedia.ui.components.IconButton",
"com.coremedia.ui.components.IconDisplayField","com.coremedia.ui.mixins.OverflowBehaviour","com.coremedia.ui.plugins.BindPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.DisplayFieldSkin","com.coremedia.ui.skins.IconDisplayFieldSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.OpenIssuesWindowButton"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.IssuesPanel",function(IssuesPanel){function IssuesPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.IssuesPanelBase,{});var defaults_$1=AS3.cast(IssuesPanel,{});AS3.setBindable(defaults_$1,"itemSelector",com.coremedia.cms.editor.sdk.premular.IssuesPanelBase.ELEMENT_ITEM.getCSSSelector());config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var ui_BindPropertyPlugin_46_5_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,
{});ui_BindPropertyPlugin_46_5_$1.componentProperty="title";ui_BindPropertyPlugin_46_5_$1.bindTo=AS3.getBindable(config,"bindTo");ui_BindPropertyPlugin_46_5_$1.transformer=function(issues){return Ext.String.format(AS3.getBindable(config,"titlePattern"),issues.length)};config_$1.plugins=[ui_BindPropertyPlugin_46_5_$1];config_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var container_53_5_$1=AS3.cast(Ext.container.Container,{});container_53_5_$1.itemId="noIssues";AS3.setBindable(container_53_5_$1,
"html",AS3.getBindable(config,"noIssuesMessage"));var ui_BindVisibilityPlugin_56_9_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_56_9_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(ui_BindVisibilityPlugin_56_9_$1,"transformer",function(issues){return issues.length===0});container_53_5_$1.plugins=[ui_BindVisibilityPlugin_56_9_$1];var dataView_62_5_$1=AS3.cast(Ext.view.View,{});dataView_62_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.IssuesPanelBase.DATA_VIEW_ITEM_ID);
dataView_62_5_$1["ariaRole"]=null;dataView_62_5_$1.itemSelector=net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"itemSelector"));dataView_62_5_$1.tpl=AS3.getBindable(config,"issuesTemplate");dataView_62_5_$1["focusable"]=false;AS3.setBindable(dataView_62_5_$1,"tabIndex",-1);dataView_62_5_$1["onFocusEnter"]=Ext.emptyFn;dataView_62_5_$1["onFocusLeave"]=Ext.emptyFn;AS3.setBindable(dataView_62_5_$1,"store",AS3.getBindable(config,"store"));var ui_BindVisibilityPlugin_72_9_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,
{});ui_BindVisibilityPlugin_72_9_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(ui_BindVisibilityPlugin_72_9_$1,"transformer",function(issues){return issues.length>0});dataView_62_5_$1.plugins=[ui_BindVisibilityPlugin_72_9_$1];config_$1.items=[container_53_5_$1,dataView_62_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$vb08(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.IssuesPanelBase",alias:"widget.com.coremedia.cms.editor.sdk.config.issuesPanel",constructor:IssuesPanel$,
super$vb08:function(){com.coremedia.cms.editor.sdk.premular.IssuesPanelBase.prototype.constructor.apply(this,arguments)},config:{noIssuesMessage:null,issuesTemplate:null,store:null,itemSelector:null,titlePattern:null},requires:["Ext","Ext.String","Ext.container.Container","Ext.view.View","com.coremedia.cms.editor.sdk.premular.IssuesPanelBase","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.BindVisibilityPlugin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.VersionComparisonDocumentFormToolbar",function(VersionComparisonDocumentFormToolbar){function VersionComparisonDocumentFormToolbar$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.DocumentFormToolbar,{});var defaults_$1=AS3.cast(VersionComparisonDocumentFormToolbar,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var tbSpacer_19_5_$1=AS3.cast(Ext.toolbar.Spacer,{});AS3.setBindable(tbSpacer_19_5_$1,
"width",6);var editor_ReadOnlyVersionSelector_20_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.ReadOnlyVersionSelector,{});editor_ReadOnlyVersionSelector_20_5_$1.itemId="versionInfo";editor_ReadOnlyVersionSelector_20_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.WORKAREA.getSkin());AS3.setBindable(editor_ReadOnlyVersionSelector_20_5_$1,"bindTo",AS3.getBindable(config,"bindTo"));AS3.setBindable(editor_ReadOnlyVersionSelector_20_5_$1,"premular",AS3.getBindable(config,
"premular"));var tbFill_24_5_$1=AS3.cast(Ext.toolbar.Fill,{});var editor_OpenDifferencesWindowButton_25_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.differencing.OpenDifferencesWindowButton,{});AS3.setBindable(editor_OpenDifferencesWindowButton_25_5_$1,"diffManager",AS3.getBindable(config,"premular").getDiffManager());editor_OpenDifferencesWindowButton_25_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.WORKAREA.getSkin());AS3.setBindable(editor_OpenDifferencesWindowButton_25_5_$1,
"premular",AS3.getBindable(config,"premular"));config_$1.items=[tbSpacer_19_5_$1,editor_ReadOnlyVersionSelector_20_5_$1,tbFill_24_5_$1,editor_OpenDifferencesWindowButton_25_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$mUfT(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.DocumentFormToolbar",alias:"widget.com.coremedia.cms.editor.sdk.config.versionComparisonDocumentFormToolbar",constructor:VersionComparisonDocumentFormToolbar$,super$mUfT:function(){com.coremedia.cms.editor.sdk.premular.DocumentFormToolbar.prototype.constructor.apply(this,
arguments)},requires:["Ext.toolbar.Fill","Ext.toolbar.Spacer","com.coremedia.cms.editor.sdk.premular.DocumentFormToolbar","com.coremedia.ui.skins.ButtonSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.ReadOnlyVersionSelector","com.coremedia.cms.editor.sdk.premular.differencing.OpenDifferencesWindowButton"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.StandAloneDocumentView",function(StandAloneDocumentView){function StandAloneDocumentView$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.StandAloneDocumentViewBase,{});var defaults_$1=AS3.cast(StandAloneDocumentView,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"scrollable",true);var editor_TabbedDocumentFormDispatcher_29_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.TabbedDocumentFormDispatcher,
{});editor_TabbedDocumentFormDispatcher_29_5_$1.itemId="documentFormDispatcher";AS3.setBindable(editor_TabbedDocumentFormDispatcher_29_5_$1,"focusForwarder",this.getFocusForwarder());AS3.setBindable(editor_TabbedDocumentFormDispatcher_29_5_$1,"propertyFieldRegistry",this.getPropertyFieldRegistry());AS3.setBindable(editor_TabbedDocumentFormDispatcher_29_5_$1,"bindTo",AS3.getBindable(config,"bindTo"));config_$1.items=[editor_TabbedDocumentFormDispatcher_29_5_$1];var layout_Fit_35_5_$1=AS3.cast(Ext.layout.container.Fit,
{});AS3.setBindable(config_$1,"layout",layout_Fit_35_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$dJl7(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.StandAloneDocumentViewBase",alias:"widget.com.coremedia.cms.editor.sdk.config.standAloneDocumentView",constructor:StandAloneDocumentView$,super$dJl7:function(){com.coremedia.cms.editor.sdk.premular.StandAloneDocumentViewBase.prototype.constructor.apply(this,arguments)},config:{bindTo:null},requires:["Ext.layout.container.Fit",
"com.coremedia.cms.editor.sdk.premular.StandAloneDocumentViewBase","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.TabbedDocumentFormDispatcher"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.DocumentInfo",function(DocumentInfo){function DocumentInfo$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.CollapsibleFormPanel,{});var defaults_$1=AS3.cast(DocumentInfo,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.Editor","MetaDataPanel_filing_text"));config_$1.itemId="documentInfo";var editor_PropertyFieldPlugin_55_5_$1=
AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin,{});AS3.setBindable(editor_PropertyFieldPlugin_55_5_$1,"propertyName",net.jangaroo.ext.Exml.asString(DocumentInfo.xtype));config_$1.plugins=[editor_PropertyFieldPlugin_55_5_$1];config_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var editor_DocumentPath_59_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.DocumentPath,{});editor_DocumentPath_59_5_$1.itemId=net.jangaroo.ext.Exml.asString(DocumentInfo.DOCUMENT_PATH_ITEM_ID);AS3.setBindable(editor_DocumentPath_59_5_$1,
"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","MetaDataPanel_path_text")));AS3.setBindable(editor_DocumentPath_59_5_$1,"bindTo",config.bindTo);var displayField_62_5_$1=AS3.cast(Ext.form.field.Display,{});displayField_62_5_$1.itemId=net.jangaroo.ext.Exml.asString(DocumentInfo.CREATOR_NAME_ITEM_ID);AS3.setBindable(displayField_62_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"MetaDataPanel_creator_text")));var ui_BindPropertyPlugin_65_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_65_9_$1.componentProperty="value";ui_BindPropertyPlugin_65_9_$1.bindTo=config.bindTo.extendBy("creator.name");displayField_62_5_$1.plugins=[ui_BindPropertyPlugin_65_9_$1];var displayField_69_5_$1=AS3.cast(Ext.form.field.Display,{});displayField_69_5_$1.itemId=net.jangaroo.ext.Exml.asString(DocumentInfo.DOCUMENT_ID_ITEM_ID);AS3.setBindable(displayField_69_5_$1,
"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","MetaDataPanel_documentId_text")));var ui_BindPropertyPlugin_72_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_72_9_$1.componentProperty="value";ui_BindPropertyPlugin_72_9_$1.bindTo=config.bindTo.extendBy("id");ui_BindPropertyPlugin_72_9_$1.transformer=function(value){return value?value.substr(25):""};displayField_69_5_$1.plugins=[ui_BindPropertyPlugin_72_9_$1];
var displayField_77_5_$1=AS3.cast(Ext.form.field.Display,{});displayField_77_5_$1.itemId=net.jangaroo.ext.Exml.asString(DocumentInfo.TYPE_NAME_ITEM_ID);AS3.setBindable(displayField_77_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","MetaDataPanel_contentType_text")));var ui_BindPropertyPlugin_80_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_80_9_$1.componentProperty="value";ui_BindPropertyPlugin_80_9_$1.bindTo=
config.bindTo.extendBy("type.name");ui_BindPropertyPlugin_80_9_$1.transformer=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.localizeDocumentTypeName;displayField_77_5_$1.plugins=[ui_BindPropertyPlugin_80_9_$1];var displayField_85_5_$1=AS3.cast(Ext.form.field.Display,{});displayField_85_5_$1.itemId=net.jangaroo.ext.Exml.asString(DocumentInfo.PARENT_FOLDER_ID_ITEM_ID);AS3.setBindable(displayField_85_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"MetaDataPanel_parentFolderId_text")));var ui_BindPropertyPlugin_88_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_88_9_$1.componentProperty="value";ui_BindPropertyPlugin_88_9_$1.bindTo=config.bindTo.extendBy("parent.id");ui_BindPropertyPlugin_88_9_$1.transformer=function(value){return value?value.substr(25):""};displayField_85_5_$1.plugins=[ui_BindPropertyPlugin_88_9_$1];config_$1.items=[editor_DocumentPath_59_5_$1,displayField_62_5_$1,displayField_69_5_$1,displayField_77_5_$1,
displayField_85_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$u3EB(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.CollapsibleFormPanel",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.documentInfo",bindTo:null,constructor:DocumentInfo$,super$u3EB:function(){com.coremedia.cms.editor.sdk.premular.CollapsibleFormPanel.prototype.constructor.apply(this,arguments)},statics:{DOCUMENT_PATH_ITEM_ID:"documentPath",TYPE_NAME_ITEM_ID:"typeName",
CREATOR_NAME_ITEM_ID:"creatorName",DOCUMENT_ID_ITEM_ID:"documentId",PARENT_FOLDER_ID_ITEM_ID:"parentFolderId"},requires:["Ext.form.field.Display","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.premular.CollapsibleFormPanel","com.coremedia.ui.plugins.BindPropertyPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.DocumentPath","com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin","com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.IPropertyFieldRegistry",function(IPropertyFieldRegistry){return{}});Ext.define("com.coremedia.cms.editor.sdk.premular.QueryForm",function(QueryForm){function QueryForm$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.DocumentForm,{});var defaults_$1=AS3.cast(QueryForm,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var editor_StringPropertyField_17_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.StringPropertyField,{});AS3.setBindable(editor_StringPropertyField_17_5_$1,"propertyName","Description");
var editor_XmlPropertyField_18_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.XmlPropertyField,{});AS3.setBindable(editor_XmlPropertyField_18_5_$1,"propertyName","Expression");config_$1.items=[editor_StringPropertyField_17_5_$1,editor_XmlPropertyField_18_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$vudA(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.DocumentForm",alias:"widget.com.coremedia.cms.editor.sdk.config.queryForm",constructor:QueryForm$,super$vudA:function(){com.coremedia.cms.editor.sdk.premular.DocumentForm.prototype.constructor.apply(this,
arguments)},requires:["com.coremedia.cms.editor.sdk.premular.DocumentForm","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.fields.StringPropertyField","com.coremedia.cms.editor.sdk.premular.fields.XmlPropertyField"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin",function(PropertyFieldPlugin){function PropertyFieldPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyFieldPluginBase,{});var defaults_$1=AS3.cast(PropertyFieldPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$gw9M(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.PropertyFieldPluginBase",
metadata:{"":["PublicApi"]},constructor:PropertyFieldPlugin$,super$gw9M:function(){com.coremedia.cms.editor.sdk.premular.PropertyFieldPluginBase.prototype.constructor.apply(this,arguments)},config:{propertyName:null},requires:["com.coremedia.cms.editor.sdk.premular.PropertyFieldPluginBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.IssuesPanelBase",function(IssuesPanelBase){function BLOCK$static_(){IssuesPanelBase.BLOCK=new com.coremedia.ui.models.bem.BEMBlock("cm-issues")}function ELEMENT_ITEM$static_(){IssuesPanelBase.ELEMENT_ITEM=IssuesPanelBase.BLOCK.createElement("item")}function ISSUE_BLOCK$static_(){IssuesPanelBase.ISSUE_BLOCK=new com.coremedia.ui.models.bem.BEMBlock("cm-issue")}function ISSUE_ELEMENT_LINK$static_(){IssuesPanelBase.ISSUE_ELEMENT_LINK=IssuesPanelBase.ISSUE_BLOCK.createElement("link")}
function ISSUE_ELEMENT_TEXT$static_(){IssuesPanelBase.ISSUE_ELEMENT_TEXT=IssuesPanelBase.ISSUE_BLOCK.createElement("text")}function ISSUE_ELEMENT_LIST$static_(){IssuesPanelBase.ISSUE_ELEMENT_LIST=IssuesPanelBase.ISSUE_BLOCK.createElement("list")}function ISSUE_MODIFIER_WITH_LIST$static_(){IssuesPanelBase.ISSUE_MODIFIER_WITH_LIST=IssuesPanelBase.ISSUE_BLOCK.createModifier("with-list")}var ISSUE_LINK_BLOCK$static;function ISSUE_LINK_BLOCK$static_(){ISSUE_LINK_BLOCK$static=new com.coremedia.ui.models.bem.BEMBlock("cm-issue-link")}
var ISSUE_LINK_MODIFIER_FOCUSED$static;function ISSUE_LINK_MODIFIER_FOCUSED$static_(){ISSUE_LINK_MODIFIER_FOCUSED$static=ISSUE_LINK_BLOCK$static.createModifier("focused")}function IssuesPanelBase$(config){if(arguments.length<=0)config=null;this.super$peRv(config);AS3.getBindable(this,"bindTo").addChangeListener(AS3.bind(this,"issuesChanged$peRv"));this.issuesChanged$peRv()}function getIssuesTemplate$static(){return new Ext.XTemplate('\x3cdiv class\x3d"'+IssuesPanelBase.BLOCK+'"\x3e','\x3ctpl for\x3d"."\x3e',
'\x3cdiv class\x3d"'+IssuesPanelBase.ELEMENT_ITEM+" "+IssuesPanelBase.ISSUE_BLOCK+'"\x3e','\x3cdiv tabIndex\x3d"0" role\x3d"button" class\x3d"'+IssuesPanelBase.ISSUE_ELEMENT_LINK+'"\x3e{propertyLabel}\x3c/div\x3e','\x3cdiv class\x3d"'+IssuesPanelBase.ISSUE_ELEMENT_TEXT+'"\x3e{text:htmlEncode}\x3c/div\x3e',"\x3c/div\x3e","\x3c/tpl\x3e","\x3c/div\x3e")}function getView(){return AS3.as(this.queryById(IssuesPanelBase.DATA_VIEW_ITEM_ID),Ext.view.View)}function issuesChanged(){var issueModels=AS3.getBindable(this,
"bindTo").getValue();var store=AS3.as(this.getView().getStore(),Ext.data.Store);store.loadData(issueModels)}function onDestroy(){AS3.getBindable(this,"bindTo").removeChangeListener(AS3.bind(this,"issuesChanged$peRv"));com.coremedia.cms.editor.sdk.premular.CollapsiblePanel.prototype.onDestroy.call(this)}function afterRender(){com.coremedia.cms.editor.sdk.premular.CollapsiblePanel.prototype.afterRender.call(this);this.mon(this.getEl(),"focusmove",AS3.bind(this,"focusLink$peRv"))}function focusLink(evt){if(this.focusedLink$peRv){this.focusedLink$peRv.removeCls(ISSUE_LINK_MODIFIER_FOCUSED$static.getCSSClass());
this.focusedLink$peRv=null}var target=Ext.get(evt.target);if(target&&target.hasCls(IssuesPanelBase.ISSUE_ELEMENT_LINK.getCSSClass())){this.focusedLink$peRv=target;this.focusedLink$peRv.addCls(ISSUE_LINK_MODIFIER_FOCUSED$static.getCSSClass())}}function onFocusEnter(evt){com.coremedia.cms.editor.sdk.premular.CollapsiblePanel.prototype.onFocusEnter.call(this,evt);this.focusLink$peRv(evt)}function onFocusLeave(evt){com.coremedia.cms.editor.sdk.premular.CollapsiblePanel.prototype.onFocusLeave.call(this,
evt);if(this.focusedLink$peRv){this.focusedLink$peRv.removeCls(ISSUE_LINK_MODIFIER_FOCUSED$static.getCSSClass());this.focusedLink$peRv=null}}return{extend:"com.coremedia.cms.editor.sdk.premular.CollapsiblePanel",focusedLink$peRv:null,constructor:IssuesPanelBase$,super$peRv:function(){com.coremedia.cms.editor.sdk.premular.CollapsiblePanel.prototype.constructor.apply(this,arguments)},getView:getView,issuesChanged$peRv:issuesChanged,onDestroy:onDestroy,afterRender:afterRender,focusLink$peRv:focusLink,
onFocusEnter:onFocusEnter,onFocusLeave:onFocusLeave,config:{bindTo:null},statics:{BLOCK:undefined,ELEMENT_ITEM:undefined,ISSUE_BLOCK:undefined,ISSUE_ELEMENT_LINK:undefined,ISSUE_ELEMENT_TEXT:undefined,ISSUE_ELEMENT_LIST:undefined,ISSUE_MODIFIER_WITH_LIST:undefined,ISSUE_LINK_BLOCK:undefined,ISSUE_LINK_MODIFIER_FOCUSED:undefined,DATA_VIEW_ITEM_ID:"issues",getIssuesTemplate:getIssuesTemplate$static,__initStatics__:function(){BLOCK$static_();ELEMENT_ITEM$static_();ISSUE_BLOCK$static_();ISSUE_ELEMENT_LINK$static_();
ISSUE_ELEMENT_TEXT$static_();ISSUE_ELEMENT_LIST$static_();ISSUE_MODIFIER_WITH_LIST$static_();ISSUE_LINK_BLOCK$static_();ISSUE_LINK_MODIFIER_FOCUSED$static_()}},requires:["Ext","Ext.XTemplate","Ext.data.Store","Ext.view.View","com.coremedia.cms.editor.sdk.premular.CollapsiblePanel","com.coremedia.ui.models.bem.BEMBlock"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.MasterComparisonDocumentFormToolbar",function(MasterComparisonDocumentFormToolbar){function MasterComparisonDocumentFormToolbar$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.DocumentFormToolbar,{});var defaults_$1=AS3.cast(MasterComparisonDocumentFormToolbar,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var tbSpacer_21_5_$1=AS3.cast(Ext.toolbar.Spacer,{});AS3.setBindable(tbSpacer_21_5_$1,
"width",6);var editor_ReadOnlyVersionSelector_22_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.ReadOnlyVersionSelector,{});editor_ReadOnlyVersionSelector_22_5_$1.itemId="versionInfo";editor_ReadOnlyVersionSelector_22_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.WORKAREA.getSkin());AS3.setBindable(editor_ReadOnlyVersionSelector_22_5_$1,"bindTo",AS3.getBindable(config,"bindTo"));AS3.setBindable(editor_ReadOnlyVersionSelector_22_5_$1,"premular",AS3.getBindable(config,
"premular"));var tbFill_26_5_$1=AS3.cast(Ext.toolbar.Fill,{});var tbSpacer_27_5_$1=AS3.cast(Ext.toolbar.Spacer,{});AS3.setBindable(tbSpacer_27_5_$1,"width",6);var ui_ExtendedDisplayField_28_5_$1=AS3.cast(com.coremedia.ui.components.ExtendedDisplayField,{});AS3.setBindable(ui_ExtendedDisplayField_28_5_$1,"width",125);AS3.setBindable(ui_ExtendedDisplayField_28_5_$1,"overflowBehaviour",com.coremedia.ui.mixins.OverflowBehaviour.ELLIPSIS);ui_ExtendedDisplayField_28_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.DisplayFieldSkin.WORKAREA.getSkin());
var ui_BindPlugin_32_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPlugin,{});ui_BindPlugin_32_9_$1.bindTo=this.getLocaleValueExpression();ui_BindPlugin_32_9_$1.boundValueChanged=AS3.bind(this,"changeLocale");ui_ExtendedDisplayField_28_5_$1.plugins=[ui_BindPlugin_32_9_$1];var tbSpacer_36_5_$1=AS3.cast(Ext.toolbar.Spacer,{});AS3.setBindable(tbSpacer_36_5_$1,"width",6);var editor_OpenDifferencesWindowButton_37_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.differencing.OpenDifferencesWindowButton,
{});AS3.setBindable(editor_OpenDifferencesWindowButton_37_5_$1,"diffManager",AS3.getBindable(config,"premular").getDiffManager());editor_OpenDifferencesWindowButton_37_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.WORKAREA.getSkin());AS3.setBindable(editor_OpenDifferencesWindowButton_37_5_$1,"premular",AS3.getBindable(config,"premular"));config_$1.items=[tbSpacer_21_5_$1,editor_ReadOnlyVersionSelector_22_5_$1,tbFill_26_5_$1,tbSpacer_27_5_$1,ui_ExtendedDisplayField_28_5_$1,
tbSpacer_36_5_$1,editor_OpenDifferencesWindowButton_37_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$eqAF(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.DocumentFormToolbar",alias:"widget.com.coremedia.cms.editor.sdk.config.masterComparisonDocumentFormToolbar",constructor:MasterComparisonDocumentFormToolbar$,super$eqAF:function(){com.coremedia.cms.editor.sdk.premular.DocumentFormToolbar.prototype.constructor.apply(this,arguments)},requires:["Ext.toolbar.Fill","Ext.toolbar.Spacer",
"com.coremedia.cms.editor.sdk.premular.DocumentFormToolbar","com.coremedia.ui.components.ExtendedDisplayField","com.coremedia.ui.mixins.OverflowBehaviour","com.coremedia.ui.plugins.BindPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.DisplayFieldSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.ReadOnlyVersionSelector","com.coremedia.cms.editor.sdk.premular.differencing.OpenDifferencesWindowButton"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.DocumentFormToolbarContainerBase",function(DocumentFormToolbarContainerBase){function DocumentFormToolbarContainerBase$(config){if(arguments.length<=0)config=null;this.super$ZFXu(config)}return{extend:"Ext.container.Container",constructor:DocumentFormToolbarContainerBase$,super$ZFXu:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},requires:["Ext.container.Container"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.PropertyFieldGroup",function(PropertyFieldGroup){function PropertyFieldGroup$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyFieldGroupBase,{});var defaults_$1=AS3.cast(PropertyFieldGroup,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var editor_PropertyField_23_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyField,{});AS3.setBindable(editor_PropertyField_23_5_$1,
"bindTo",AS3.getBindable(config,"bindTo"));AS3.setBindable(editor_PropertyField_23_5_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));editor_PropertyField_23_5_$1.labelSeparator="";editor_PropertyField_23_5_$1.labelAlign="top";editor_PropertyField_23_5_$1.anchor="100%";config_$1["defaultType"]=editor_PropertyField_23_5_$1["xtype"];delete editor_PropertyField_23_5_$1["xtype"];delete editor_PropertyField_23_5_$1["xclass"];config_$1.defaults=editor_PropertyField_23_5_$1;
var ui_VerticalSpacingPlugin_30_5_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});var editor_ReusabilityComponentStatePlugin_31_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.reusability.ReusabilityComponentStatePlugin,{});editor_ReusabilityComponentStatePlugin_31_5_$1.stateId=net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"itemId","DUMMY"));editor_ReusabilityComponentStatePlugin_31_5_$1.bindTo=AS3.getBindable(config,"bindTo");editor_ReusabilityComponentStatePlugin_31_5_$1.events=
["expand","collapse"];editor_ReusabilityComponentStatePlugin_31_5_$1.applyStateFn=AS3.bind(this,"applyReusabilityState");editor_ReusabilityComponentStatePlugin_31_5_$1.saveStateFn=AS3.bind(this,"saveReusabilityState");config_$1.plugins=[ui_VerticalSpacingPlugin_30_5_$1,editor_ReusabilityComponentStatePlugin_31_5_$1];config_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Q5By(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.PropertyFieldGroupBase",
metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.propertyFieldGroup",constructor:PropertyFieldGroup$,super$Q5By:function(){com.coremedia.cms.editor.sdk.premular.PropertyFieldGroupBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.premular.PropertyFieldGroupBase","com.coremedia.ui.plugins.VerticalSpacingPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.desktop.reusability.ReusabilityComponentStatePlugin","com.coremedia.cms.editor.sdk.premular.PropertyField"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.HistoricContent",function(HistoricContent){return{mixins:["com.coremedia.cap.content.Content"],requires:["com.coremedia.cap.content.Content"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.PropertyFieldGroupBase",function(PropertyFieldGroupBase){function PropertyFieldGroupBase$(config){var this$=this;if(arguments.length<=0)config=null;AS3.setBindable(this,"bindTo",AS3.getBindable(config,"bindTo"));if(!AS3.getBindable(config,"bindTo"))throw new AS3.Error("No bindTo expression defined for PropertyFieldGroup '"+this.getItemId()+"'");if(!AS3.getBindable(config,"itemId","DUMMY"))throw new AS3.Error("No itemId defined for PropertyFieldGroup with title '"+
AS3.getBindable(config,"title","DUMMY")+"'");AS3.setBindable(config,"collapsed",this.getCollapsedStateFromPremularConfig(config));if(!config.ariaLabel)config.ariaLabel=AS3.getBindable(config,"title","DUMMY");this.super$xU$j(config);var content=AS3.as(AS3.getBindable(config,"bindTo").getValue(),com.coremedia.cap.content.Content);if(content&&content.getType()){var documentType=content.getType().getName();this.stateSaveExpression=com.coremedia.ui.data.ValueExpressionFactory.create("forms."+documentType+
"."+this.getItemId(),com.coremedia.cms.editor.sdk.editorContext.getPreferences())}this.collapsedState$xU$j=AS3.getBindable(config,"collapsed","DUMMY");this.on("beforeexpand",AS3.bind(this,"beforeExpand$xU$j"));this.on("beforecollapse",AS3.bind(this,"beforeCollapse$xU$j"));this.on("add",AS3.bind(this,"checkSingleItem$xU$j"));this.on("remove",AS3.bind(this,"checkSingleItem$xU$j"));this.checkSingleItem$xU$j();AS3.getBindable(this,"premularConfigurationVE")&&AS3.getBindable(this,"premularConfigurationVE").loadValue(function(){this$.refreshExpandState$xU$j()})}
function getCollapsedStateFromPremularConfig(config){var premularConfiguration=this.getPremularConfiguration$xU$j(config);if(premularConfiguration){var expandOnValuesNames=[];if(AS3.getBindable(config,"expandOnValues"))expandOnValuesNames=AS3.getBindable(config,"expandOnValues").split(",");return premularConfiguration.getCollapsedState(AS3.getBindable(config,"itemId","DUMMY"),AS3.getBindable(config,"propertyNames"),expandOnValuesNames,AS3.getBindable(config,"collapsed","DUMMY"),config.collapsible)||
false}return false}function refreshExpandState(shouldExpand){if(arguments.length<=0)shouldExpand=null;if(!AS3.is(shouldExpand,Boolean))shouldExpand=!this.getCollapsedStateFromPremularConfig(AS3.as(this.initialConfig,com.coremedia.cms.editor.sdk.premular.PropertyFieldGroup));this.preventStateSaving$xU$j=true;if(!this.rendered){AS3.setBindable(this,"collapsed",!shouldExpand);this.preventStateSaving$xU$j=false;return}if(shouldExpand){if(AS3.getBindable(this,"collapsed","DUMMY"))this.componentLayout["lastCollapsedState"]=
"top";this.expand(true);com.coremedia.cms.editor.sdk.premular.CollapsiblePanel.prototype.afterExpand.call(this,true);if(!this.manageHeight&&this.getEl().dom.style.height)this.getEl().dom.style.height="auto"}else this.collapse("top",true);this.preventStateSaving$xU$j=false}function getPremularConfiguration(config){if(arguments.length<=0)config=null;if(!config)config=AS3.as(this.initialConfig,PropertyFieldGroupBase);if(AS3.getBindable(config,"premularConfigurationVE"))return AS3.getBindable(config,
"premularConfigurationVE").getValue();var parentConfig=config;while(parentConfig["$initParent"]&&parentConfig["$initParent"].config){if(parentConfig.premularConfigurationVE)return parentConfig.premularConfigurationVE.getValue();parentConfig=parentConfig["$initParent"].config}return null}function beforeExpand(){if(!this.preventStateSaving$xU$j)this.saveStateToExpression$xU$j(false)}function beforeCollapse(){if(!this.preventStateSaving$xU$j)this.saveStateToExpression$xU$j(true)}function saveStateToExpression(isCollapsed){if(this.collapsedState$xU$j!==
isCollapsed){this.collapsedState$xU$j=isCollapsed;if(this.stateSaveExpression)this.stateSaveExpression.setValue(isCollapsed);var parent=AS3.as(this.findParentByType(com.coremedia.cms.editor.sdk.premular.DocumentTabPanel.xtype),com.coremedia.cms.editor.sdk.premular.DocumentTabPanel);if(parent)parent.fireEvent("collapsibleChanged",this.getItemId(),!isCollapsed)}}function saveReusabilityState(){return{collapsed:AS3.getBindable(this,"collapsed","DUMMY")}}function applyReusabilityState(state){if(state.collapsed!==
undefined){var shouldExpand=state.collapsed!=="top";this.refreshExpandState$xU$j(shouldExpand)}else this.refreshExpandState$xU$j()}function checkSingleItem(){if(this.itemCollection.getCount()>0){var c1=AS3.as(this.itemCollection.getAt(0),Ext.Component);if(c1){var l1=AS3.as(c1,Ext.form.Labelable);if(l1)if(AS3.getBindable(this,"hideSingleComponentLabel")&&this.itemCollection.getCount()===1)l1["setHideLabel"](true);else{var hideLabel1=AS3.as(c1.initialConfig.hideLabel,Boolean)||false;l1["setHideLabel"](hideLabel1)}}}}
return{extend:"com.coremedia.cms.editor.sdk.premular.CollapsiblePanel",metadata:{"":["PublicApi"]},stateSaveExpression:null,preventStateSaving$xU$j:false,collapsedState$xU$j:false,constructor:PropertyFieldGroupBase$,super$xU$j:function(){com.coremedia.cms.editor.sdk.premular.CollapsiblePanel.prototype.constructor.apply(this,arguments)},getCollapsedStateFromPremularConfig:getCollapsedStateFromPremularConfig,refreshExpandState$xU$j:refreshExpandState,getPremularConfiguration$xU$j:getPremularConfiguration,
beforeExpand$xU$j:beforeExpand,beforeCollapse$xU$j:beforeCollapse,saveStateToExpression$xU$j:saveStateToExpression,saveReusabilityState:saveReusabilityState,applyReusabilityState:applyReusabilityState,checkSingleItem$xU$j:checkSingleItem,config:{bindTo:null,forceReadOnlyValueExpression:null,expandOnValues:null,premularConfigurationVE:null,hideSingleComponentLabel:true,propertyNames:null},requires:["AS3.Error","Ext.Component","Ext.form.Labelable","com.coremedia.cap.content.Content","com.coremedia.cms.editor.sdk.premular.CollapsiblePanel",
"com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.premular.DocumentTabPanel","com.coremedia.cms.editor.sdk.premular.PropertyFieldGroup"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.DocumentFormToolbarReadOnlyContainer",function(DocumentFormToolbarReadOnlyContainer){function DocumentFormToolbarReadOnlyContainer$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.container.Container,{});var defaults_$1=AS3.cast(DocumentFormToolbarReadOnlyContainer,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$nEx5(config_$1)}return{extend:"Ext.container.Container",
alias:"widget.com.coremedia.cms.editor.sdk.config.documentFormReadOnlyToolbarContainer",constructor:DocumentFormToolbarReadOnlyContainer$,super$nEx5:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},requires:["Ext.container.Container","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.GenericDocumentForm",function(GenericDocumentForm){function GenericDocumentForm$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.GenericDocumentFormBase,{});var defaults_$1=AS3.cast(GenericDocumentForm,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.items=com.coremedia.cms.editor.sdk.premular.GenericDocumentFormBase.generatePropertyEditors(config);config_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.GenericDocumentFormBase.getContent(config).getType().getName());
net.jangaroo.ext.Exml.apply(config_$1,config);this.super$k2QK(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.GenericDocumentFormBase",alias:"widget.com.coremedia.cms.editor.sdk.config.genericDocumentForm",constructor:GenericDocumentForm$,super$k2QK:function(){com.coremedia.cms.editor.sdk.premular.GenericDocumentFormBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.premular.GenericDocumentFormBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.ReadOnlyDocumentFormToolbarDispatcher",function(ReadOnlyDocumentFormToolbarDispatcher){function ReadOnlyDocumentFormToolbarDispatcher$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.ReadOnlyDocumentFormToolbarDispatcherBase,{});var defaults_$1=AS3.cast(ReadOnlyDocumentFormToolbarDispatcher,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var panel_24_5_$1=AS3.cast(Ext.panel.Panel,{});
panel_24_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.ReadOnlyDocumentFormToolbarDispatcherBase.MASTER_COMPARISON_PANEL_ID);var editor_MasterComparisonDocumentFormToolbar_26_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.MasterComparisonDocumentFormToolbar,{});AS3.setBindable(editor_MasterComparisonDocumentFormToolbar_26_9_$1,"bindTo",AS3.getBindable(config,"premular").getReadOnlyContentValueExpression());editor_MasterComparisonDocumentFormToolbar_26_9_$1["tabGuard"]=
false;editor_MasterComparisonDocumentFormToolbar_26_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.WORKAREA.getSkin());AS3.setBindable(editor_MasterComparisonDocumentFormToolbar_26_9_$1,"premular",AS3.getBindable(config,"premular"));panel_24_5_$1.tbar=editor_MasterComparisonDocumentFormToolbar_26_9_$1;var panel_34_5_$1=AS3.cast(Ext.panel.Panel,{});panel_34_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.ReadOnlyDocumentFormToolbarDispatcherBase.VERSION_COMPARISON_PANEL_ID);
var editor_VersionComparisonDocumentFormToolbar_36_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.VersionComparisonDocumentFormToolbar,{});AS3.setBindable(editor_VersionComparisonDocumentFormToolbar_36_9_$1,"bindTo",AS3.getBindable(config,"premular").getReadOnlyContentValueExpression());editor_VersionComparisonDocumentFormToolbar_36_9_$1["tabGuard"]=false;editor_VersionComparisonDocumentFormToolbar_36_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.WORKAREA.getSkin());
AS3.setBindable(editor_VersionComparisonDocumentFormToolbar_36_9_$1,"premular",AS3.getBindable(config,"premular"));panel_34_5_$1.tbar=editor_VersionComparisonDocumentFormToolbar_36_9_$1;config_$1.items=[panel_24_5_$1,panel_34_5_$1];var layout_Card_45_5_$1=AS3.cast(Ext.layout.container.Card,{});layout_Card_45_5_$1.deferredRender=true;AS3.setBindable(config_$1,"layout",layout_Card_45_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$az6V(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.ReadOnlyDocumentFormToolbarDispatcherBase",
alias:"widget.com.coremedia.cms.editor.sdk.config.readOnlyDocumentFormToolbarDispatcher",constructor:ReadOnlyDocumentFormToolbarDispatcher$,super$az6V:function(){com.coremedia.cms.editor.sdk.premular.ReadOnlyDocumentFormToolbarDispatcherBase.prototype.constructor.apply(this,arguments)},config:{premular:null},requires:["Ext.layout.container.Card","Ext.panel.Panel","com.coremedia.cms.editor.sdk.premular.ReadOnlyDocumentFormToolbarDispatcherBase","com.coremedia.ui.skins.ToolbarSkin","net.jangaroo.ext.Exml"],
uses:["com.coremedia.cms.editor.sdk.premular.MasterComparisonDocumentFormToolbar","com.coremedia.cms.editor.sdk.premular.VersionComparisonDocumentFormToolbar"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.PremularFieldGroups",function(PremularFieldGroups){function fieldCache_(){this.fieldCache$EB1w=com.coremedia.ui.data.beanFactory.createLocalBean()}function PremularFieldGroups$(){fieldCache_.call(this)}function getGroup(contentTypeName,itemId){var groups=this.fieldCache$EB1w.get(contentTypeName);if(groups)for(var $1=0;$1<groups.length;++$1){var group=groups[$1];if(group.getItemId()===itemId)return group}return null}function loadStatesFor(contentTypeName){var formFields=
com.coremedia.cms.editor.sdk.editorContext.getPreferences().get("forms");if(formFields){var fields=formFields.get(contentTypeName);if(fields){var descriptors=fields.getType().getDescriptors();for(var $1=0;$1<descriptors.length;++$1){var desc=descriptors[$1];var itemId=desc.name;var collapsed=fields.get(itemId);var group=new com.coremedia.cms.editor.sdk.premular.PremularFieldGroup(itemId,collapsed);if(!this.fieldCache$EB1w.get(contentTypeName))this.fieldCache$EB1w.set(contentTypeName,[]);this.fieldCache$EB1w.get(contentTypeName).push(group)}}}}
function updatePremularFieldGroup(contentTypeName,itemId,isCollapsed){var group=this.getGroup(contentTypeName,itemId);if(group)group.setCollapsed(isCollapsed);else{if(!this.fieldCache$EB1w.get(contentTypeName))this.fieldCache$EB1w.set(contentTypeName,[]);this.fieldCache$EB1w.get(contentTypeName).push(new com.coremedia.cms.editor.sdk.premular.PremularFieldGroup(itemId,isCollapsed))}}return{constructor:PremularFieldGroups$,getGroup:getGroup,loadStatesFor:loadStatesFor,updatePremularFieldGroup:updatePremularFieldGroup,
requires:["com.coremedia.ui.data.beanFactory"],uses:["com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.premular.PremularFieldGroup"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.PropertyFieldRegistry",function(PropertyFieldRegistry){function propertyFields_(){this.propertyFields$02QW={}}function PropertyFieldRegistry$(rootComponent){propertyFields_.call(this);this.rootComponent$02QW=rootComponent}function registerPropertyField(propertyName,contentType,propertyField){var propertyFieldMap=this.propertyFields$02QW[contentType];if(!propertyFieldMap){propertyFieldMap={};this.propertyFields$02QW[contentType]=propertyFieldMap}if(propertyFieldMap[propertyName])com.coremedia.ui.logging.Logger.warn("Multiple property editors for property'"+
propertyName+"' and content type '"+contentType+"' found! Only the last one will receive focus events!");propertyFieldMap[propertyName]=propertyField}function unregisterPropertyField(propertyName,contentType,propertyField){var propertyFieldMap=this.propertyFields$02QW[contentType];if(!propertyFieldMap||!propertyFieldMap[propertyName])com.coremedia.ui.logging.Logger.warn("Tried to unregister field for unknown property name '"+propertyName+"'.");else delete propertyFieldMap[propertyName]}function getPropertyField(propertyName,
contentType){var propertyFieldMap=this.propertyFields$02QW[contentType];if(!propertyFieldMap)return null;var propertyField=propertyFieldMap[propertyName]||null;if(!propertyField&&AS3.is(this.rootComponent$02QW,Ext.container.Container))com.coremedia.ui.mixins.LazyItemsContainerMixin.unfoldLazyItems(AS3.as(this.rootComponent$02QW,Ext.container.Container));propertyField=propertyFieldMap[propertyName]||null;return propertyField}function getPropertyFields(tabTitle,contentType){var propertyFieldMap=this.propertyFields$02QW[contentType];
if(!propertyFieldMap)return[];var result=[];for(var propertyName in propertyFieldMap){var propertyField=propertyFieldMap[propertyName];var outermostTabComponent=this.findOutermostTabComponent$02QW(propertyField);if(outermostTabComponent&&outermostTabComponent["title"]===tabTitle)result.push(propertyField)}return result}function getTabTitle(propertyName,contentType){var outermostTabComponent=this.findOutermostTabComponentByName$02QW(propertyName,contentType);if(!outermostTabComponent)return null;return outermostTabComponent["title"]}
function getTabPosition(propertyName,contentType){var outermostTabComponent=this.findOutermostTabComponentByName$02QW(propertyName,contentType);if(!outermostTabComponent)return-1;return outermostTabComponent.up().itemCollection.indexOf(outermostTabComponent)}function getItemIndexPath(propertyName,contentType){var propertyField=this.getPropertyField(propertyName,contentType);if(!propertyField)return[];var result=[];while(propertyField!==this.rootComponent$02QW){var ownerPropertyField=propertyField.up();
if(!ownerPropertyField||!ownerPropertyField.itemCollection)return[];result.unshift(ownerPropertyField.itemCollection.indexOf(propertyField));propertyField=ownerPropertyField}return result}function findOutermostTabComponentByName(propertyName,contentType){return this.findOutermostTabComponent$02QW(this.getPropertyField(propertyName,contentType))}function findOutermostTabComponent(propertyField){var lastTabComponent=null;while(propertyField&&propertyField!==this.rootComponent$02QW){if(AS3.is(propertyField.up(),
Ext.tab.Panel))lastTabComponent=propertyField;propertyField=propertyField.up()}return lastTabComponent}function destroy(){this.propertyFields$02QW=null}return{mixins:["com.coremedia.cms.editor.sdk.premular.IPropertyFieldRegistry"],rootComponent$02QW:null,constructor:PropertyFieldRegistry$,registerPropertyField:registerPropertyField,unregisterPropertyField:unregisterPropertyField,getPropertyField:getPropertyField,getPropertyFields:getPropertyFields,getTabTitle:getTabTitle,getTabPosition:getTabPosition,
getItemIndexPath:getItemIndexPath,findOutermostTabComponentByName$02QW:findOutermostTabComponentByName,findOutermostTabComponent$02QW:findOutermostTabComponent,destroy:destroy,requires:["Ext.container.Container","Ext.tab.Panel","com.coremedia.cms.editor.sdk.premular.IPropertyFieldRegistry","com.coremedia.ui.logging.Logger","com.coremedia.ui.mixins.LazyItemsContainerMixin"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.IssueModel",function(IssueModel){function equals(o){var that=AS3.as(o,IssueModel);if(!that)return false;return this.entity===this.entity&&com.coremedia.ui.util.ObjectUtils.equal(this.itemIndexPath,that.itemIndexPath)&&this.property===that.property&&this.text===that.text}function IssueModel$(){}return{mixins:["com.coremedia.ui.util.WithEquals"],id:0,entity:null,itemIndexPath:null,property:null,propertyLabel:null,text:null,code:null,equals:equals,constructor:IssueModel$,
requires:["com.coremedia.ui.util.ObjectUtils","com.coremedia.ui.util.WithEquals"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.SwitchDifferencingButtonBase",function(SwitchDifferencingButtonBase){function mainButton_(){this.mainButton$JRhp=AS3.cast(Ext.button.Button,this.getComponent(0))}function SwitchDifferencingButtonBase$(config){if(arguments.length<=0)config=null;this.super$JRhp(config);mainButton_.call(this);this.sitesService$JRhp=com.coremedia.cms.editor.sdk.editorContext.getSitesService();this.mainButton$JRhp=AS3.cast(Ext.button.Button,this.getComponent(SwitchDifferencingButtonBase.MAIN_BUTTON_ITEM_ID));
this.masterComparisonMenuItem$JRhp=AS3.cast(Ext.menu.Item,AS3.getBindable(this.mainButton$JRhp,"menu","DUMMY").getComponent(SwitchDifferencingButtonBase.MASTER_COMPARISON_MENU_ITEM_ID));this.versionComparisonMenuItem$JRhp=AS3.cast(Ext.menu.Item,AS3.getBindable(this.mainButton$JRhp,"menu","DUMMY").getComponent(SwitchDifferencingButtonBase.VERSION_COMPARISON_MENU_ITEM_ID));this.addMenuItemTooltip$JRhp(this.masterComparisonMenuItem$JRhp,this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"SwitchDifferencingButton_master_tooltip"));this.addMenuItemTooltip$JRhp(this.versionComparisonMenuItem$JRhp,this.resourceManager.getString("com.coremedia.cms.editor.Editor","SwitchDifferencingButton_version_tooltip"));this.buttonStateValueExpression$JRhp=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"computeButtonState$JRhp"));this.buttonStateValueExpression$JRhp.addChangeListener(AS3.bind(this,"updateButton$JRhp"));this.mainButton$JRhp.setHandler(AS3.bind(this,"mainButtonClicked$JRhp"))}
function addMenuItemTooltip(item,tooltip){item.on("afterrender",function(){item.el.dom.setAttribute("data-qtip",com.coremedia.ui.util.EncodingUtil.encodeForHTML(tooltip))})}function afterRender(){Ext.container.Container.prototype.afterRender.call(this);this.updateButton$JRhp()}function computeButtonState(){var disabled;var mode;var open;var masterComparisonMenuItemDisabled;var versionComparisonMenuItemDisabled;open=AS3.getBindable(this,"premular").isReadOnlyDocumentPanelVisible();if(open){versionComparisonMenuItemDisabled=
AS3.getBindable(this,"premular").isInVersionComparisonMode();masterComparisonMenuItemDisabled=!versionComparisonMenuItemDisabled}else{masterComparisonMenuItemDisabled=false;versionComparisonMenuItemDisabled=false}if(!masterComparisonMenuItemDisabled){var readOnlyContentObject=this.computeMasterContentObjectToCompare$JRhp();if(!readOnlyContentObject)masterComparisonMenuItemDisabled=true}if(!versionComparisonMenuItemDisabled){var version=this.computeVersionToCompare$JRhp();if(!version)versionComparisonMenuItemDisabled=
true}if(AS3.getBindable(this,"premular").isInVersionComparisonMode())if(!open&&versionComparisonMenuItemDisabled&&!masterComparisonMenuItemDisabled){mode="master";disabled=false}else{mode="version";disabled=!open&&versionComparisonMenuItemDisabled}else if(!open&&masterComparisonMenuItemDisabled&&!versionComparisonMenuItemDisabled){mode="version";disabled=false}else{mode="master";disabled=!open&&masterComparisonMenuItemDisabled}return[disabled,mode,open,masterComparisonMenuItemDisabled,versionComparisonMenuItemDisabled]}
function updateButton(){var buttonState=this.buttonStateValueExpression$JRhp.getValue();if(!buttonState)return;var disabled=buttonState[0];var mode=buttonState[1];var open=buttonState[2];var masterComparisonMenuItemDisabled=buttonState[3];var versionComparisonMenuItemDisabled=buttonState[4];this.setDisabled(disabled);this.mainButton$JRhp.setIconCls(this.resourceManager.getString("com.coremedia.cms.editor.Editor","SwitchDifferencingButton_"+mode+"_icon"));var text;if(open)text=this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"SwitchDifferencingButton_hide_tooltip");else text=this.resourceManager.getString("com.coremedia.cms.editor.Editor","SwitchDifferencingButton_"+mode+"_tooltip");this.mainButton$JRhp["setAriaLabel"](text);this.mainButton$JRhp.setTooltip(text);this.masterComparisonMenuItem$JRhp.setDisabled(masterComparisonMenuItemDisabled);this.versionComparisonMenuItem$JRhp.setDisabled(versionComparisonMenuItemDisabled)}function mainButtonClicked(){var buttonState=this.computeButtonState$JRhp();var disabled=buttonState[0];
var mode=buttonState[1];var open=buttonState[2];if(disabled)return;this.mon(AS3.getBindable(this,"premular"),com.coremedia.cms.editor.sdk.premular.PremularBase.STATE_EVENT_NAME,AS3.bind(this,"restoreFocus"));if(open){this.mainButton$JRhp.setPressed(false);AS3.getBindable(this,"premular").closeReadOnlyDocumentPanel()}else{this.mainButton$JRhp.setPressed(true);if(mode==="master")this.openMasterComparison();else this.openVersionComparison()}}function restoreFocus(){var this$=this;this.on("afterlayout",
function(){this$.mainButton$JRhp.focus()},this,{single:true})}function openMasterComparison(){var this$=this;this.mainButton$JRhp.setPressed(true);if(!AS3.getBindable(this,"premular").getReadOnlyContent()||AS3.getBindable(this,"premular").isInVersionComparisonMode()){var masterExpression=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"computeMasterContentObjectToCompare$JRhp"));masterExpression.loadValue(function(masterContentObject){if(masterContentObject)AS3.getBindable(this$,
"premular").openInReadOnlyDocumentPanel(masterContentObject)})}else AS3.getBindable(this,"premular").openInReadOnlyDocumentPanel()}function openVersionComparison(){var this$=this;this.mainButton$JRhp.setPressed(true);if(!AS3.getBindable(this,"premular").getReadOnlyContent()||!AS3.getBindable(this,"premular").isInVersionComparisonMode()){var versionExpression=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"computeVersionToCompare$JRhp"));versionExpression.loadValue(function(version){if(version)AS3.getBindable(this$,
"premular").openInReadOnlyDocumentPanel(version)})}else AS3.getBindable(this,"premular").openInReadOnlyDocumentPanel()}function computeMasterContentObjectToCompare(){var content=AS3.getBindable(this,"premular").getContent();var masterContent=this.sitesService$JRhp.getMaster(content);if(masterContent===undefined)return undefined;if(masterContent===null)return null;if(!masterContent.isLoaded()){masterContent.load();return undefined}if(!masterContent.getState().readable)return null;var toBeTranslatedVersion=
com.coremedia.cms.editor.sdk.translate.TranslationWorkflowUtil.getVersionToBeTranslated(masterContent);if(toBeTranslatedVersion===undefined)return undefined;if(toBeTranslatedVersion)return toBeTranslatedVersion;var masterVersion=this.sitesService$JRhp.getMasterVersionOrDerivedFromVersion(content);if(masterVersion===undefined)return undefined;if(masterVersion)return masterVersion;return masterContent.getCheckedInVersion()||masterContent.getCheckedOutVersion()}function computeVersionToCompare(){var content=
AS3.getBindable(this,"premular").getContent();var latestPublishedVersion=content.getLatestPublishedVersion();if(latestPublishedVersion)return latestPublishedVersion;var versionHistory=content.getVersionHistory();if(!versionHistory||!versionHistory.isLoaded()){versionHistory&&versionHistory.load();return undefined}var versions=versionHistory.getItems();if(!versions||versions.length===0)return null;if(versions.length===1)return versions[0];if(content.isCheckedIn())return versions[versions.length-2];
else return versions[versions.length-1]}function beforeDestroy(){this.buttonStateValueExpression$JRhp.removeChangeListener(AS3.bind(this,"updateButton$JRhp"));Ext.container.Container.prototype.beforeDestroy.call(this)}return{extend:"Ext.container.Container",buttonStateValueExpression$JRhp:null,masterComparisonMenuItem$JRhp:null,versionComparisonMenuItem$JRhp:null,sitesService$JRhp:null,constructor:SwitchDifferencingButtonBase$,super$JRhp:function(){Ext.container.Container.prototype.constructor.apply(this,
arguments)},addMenuItemTooltip$JRhp:addMenuItemTooltip,afterRender:afterRender,computeButtonState$JRhp:computeButtonState,updateButton$JRhp:updateButton,mainButtonClicked$JRhp:mainButtonClicked,restoreFocus:restoreFocus,openMasterComparison:openMasterComparison,openVersionComparison:openVersionComparison,computeMasterContentObjectToCompare$JRhp:computeMasterContentObjectToCompare,computeVersionToCompare$JRhp:computeVersionToCompare,beforeDestroy:beforeDestroy,config:{premular:null},statics:{MAIN_BUTTON_ITEM_ID:"mainButton",
MASTER_COMPARISON_MENU_ITEM_ID:"master",VERSION_COMPARISON_MENU_ITEM_ID:"version"},requires:["Ext.button.Button","Ext.container.Container","Ext.menu.Item","com.coremedia.cms.editor.Editor_properties","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.util.EncodingUtil"],uses:["com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.premular.PremularBase","com.coremedia.cms.editor.sdk.translate.TranslationWorkflowUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.DocumentFormToolbarBase",function(DocumentFormToolbarBase){function DocumentFormToolbarBase$(config){if(arguments.length<=0)config=null;this.super$BxwB(config)}function getContent(){return AS3.as(AS3.getBindable(this,"bindTo").getValue(),com.coremedia.cap.content.Content)}function getCheckedOutValueExpression(){var this$=this;if(!this.checkedOutValueExpression$BxwB)this.checkedOutValueExpression$BxwB=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var content=
this$.getContent();var text="";var helpTitle;var helpText="";var clickHandler;var clickHandlerArgs;if(content)if(content.isCheckedOut())if(content.isCheckedOutByCurrentSession()){text=this$.resourceManager.getString("com.coremedia.cms.editor.Editor","DocumentFormToolbar_state_checkedOut_text");helpText=this$.resourceManager.getString("com.coremedia.cms.editor.Editor","DocumentFormToolbar_state_checkedOut_info")}else{var editor=content.getEditor();var name=editor?editor.getName():"???";if(content.getRepository().getAccessControl().mayPerform(content,
com.coremedia.cap.content.authorization.Right.WRITE)){text=name?Ext.String.format(this$.resourceManager.getString("com.coremedia.cms.editor.Editor","DocumentFormToolbar_state_checkedOutByOther_mayWrite_text"),name):"";helpText=this$.resourceManager.getString("com.coremedia.cms.editor.Editor","DocumentFormToolbar_state_checkedOutByOther_mayWrite_info")}else{text=name?Ext.String.format(this$.resourceManager.getString("com.coremedia.cms.editor.Editor","DocumentFormToolbar_state_checkedOutByOther_noRights_text"),
name):"";helpText=this$.resourceManager.getString("com.coremedia.cms.editor.Editor","DocumentFormToolbar_state_checkedOutByOther_noRights_info")}}else if(!content.getRepository().getAccessControl().mayPerform(content,com.coremedia.cap.content.authorization.Right.WRITE)){text=this$.resourceManager.getString("com.coremedia.cms.editor.Editor","DocumentFormToolbar_state_noRights_text");helpText=this$.resourceManager.getString("com.coremedia.cms.editor.Editor","DocumentFormToolbar_state_noRights_info")}else{var workflowRepository=
com.coremedia.cap.common.SESSION.getConnection().getWorkflowRepository();if(workflowRepository){var workflowContentService=workflowRepository.getWorkflowContentService();var isLockedForUser=workflowContentService.isLockedForUser(content);if(isLockedForUser){var processArray=workflowContentService.getLockingProcesses(content);var workflowName="Workflow";if(processArray&&processArray.length>0)processArray.forEach(function(process){if(process&&process.getProperties())if(process.getProperties().get("subject"))workflowName=
process.getProperties().get("subject")});text=Ext.String.format(this$.resourceManager.getString("com.coremedia.cms.editor.Editor","DocumentFormToolbar_state_locked_workflow_text"));helpTitle=this$.resourceManager.getString("com.coremedia.cms.editor.Editor","DocumentFormToolbar_state_locked_workflow_helpTitle");helpText=Ext.String.format(this$.resourceManager.getString("com.coremedia.cms.editor.Editor","DocumentFormToolbar_state_locked_workflow_helpText"),workflowName);clickHandler=this$.lockedByWorkflowTextClickHandler$BxwB;
clickHandlerArgs=[processArray[0]]}}}var help=null;if(helpText){if(!helpTitle)helpTitle=text;help=AS3.cast(com.coremedia.ui.components.StatefulQuickTip,{});AS3.setBindable(help,"title",com.coremedia.ui.util.EncodingUtil.encodeForHTML(helpTitle));help.text=com.coremedia.ui.util.EncodingUtil.encodeForHTML(helpText)}return{visible:!!text,text:com.coremedia.ui.util.EncodingUtil.encodeForHTML(text),clickHandler:clickHandler,clickHandlerArgs:clickHandlerArgs,help:help?help:""}});return this.checkedOutValueExpression$BxwB}
function getLocaleValueExpression(){var this$=this;if(!this.localeNameValueExpression$BxwB)this.localeNameValueExpression$BxwB=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var content=this$.getContent();if(content){var workflowRepository=com.coremedia.cap.common.SESSION.getConnection().getWorkflowRepository();if(null!==workflowRepository){var workflowContentService=workflowRepository.getWorkflowContentService();var isLockedForUser=workflowContentService.isLockedForUser(content);
if(isLockedForUser)return{text:"",help:"",visible:false}}}if(!(content&&content.getCheckedInVersion()))return{text:"",help:"",visible:false};var site=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getSiteFor(content);if(site===undefined)return undefined;if(site&&site.getLocale()){var displayName=site.getLocale().getDisplayName();return{text:displayName,help:displayName,visible:true}}else return{text:"",help:"",visible:false}});return this.localeNameValueExpression$BxwB}function attachCheckedOutStatusClickHandler(iconDisplayField){this.mon(iconDisplayField.inputEl,
"click",this.checkedOutStatusClickHandler$BxwB);iconDisplayField.inputEl.setStyle("cursor","pointer");iconDisplayField.textEl.setStyle("text-decoration","underline")}function detachCheckedOutStatusClickHandler(iconDisplayField){iconDisplayField.textEl.setStyle("text-decoration",null);iconDisplayField.inputEl.setStyle("cursor",null);this.mun(iconDisplayField.inputEl,"click",this.checkedOutStatusClickHandler$BxwB)}function changeDisplayField(extendedDisplayField,valueExpression){var model=valueExpression.getValue();
if(model){if(model.visible!==!extendedDisplayField.hidden)extendedDisplayField.setVisible(model.visible);AS3.setBindable(extendedDisplayField,"value",model.text);AS3.setBindable(extendedDisplayField,"tooltip",model.help)}}function changeCheckedOutStatus(iconDisplayField,valueExpression){this.changeDisplayField(iconDisplayField,valueExpression);var model=valueExpression.getValue();if(model){var clickHandler=AS3.as(model.clickHandler,Function);if(this.checkedOutStatusClickHandler$BxwB){if(iconDisplayField.rendered)this.detachCheckedOutStatusClickHandler$BxwB(iconDisplayField);
this.checkedOutStatusClickHandler$BxwB=null}if(clickHandler){this.checkedOutStatusClickHandler$BxwB=function(){clickHandler.apply(null,model.clickHandlerArgs)};if(this.rendered)this.attachCheckedOutStatusClickHandler$BxwB(iconDisplayField);else iconDisplayField.on("afterrender",AS3.bind(this,"attachCheckedOutStatusClickHandler$BxwB"))}}}function changeLocale(extendedDisplayField,valueExpression){this.changeDisplayField(extendedDisplayField,valueExpression)}function changeType$static(iconDisplayField,
valueExpression){var cType;try{cType=AS3.as(valueExpression.getValue(),com.coremedia.cap.content.ContentType)}catch(e){if(AS3.is(e,AS3.Error))cType=null;else throw e;}if(cType){AS3.setBindable(iconDisplayField,"iconCls",com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.getIconStyleClassForContentType(cType).toLowerCase());var labelForContentType=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.getLabelForContentType(cType);AS3.setBindable(iconDisplayField,"value",Ext.util.Format.ellipsis(labelForContentType,
10,false));var tooltip=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.getToolTipForContentType(cType)||labelForContentType;AS3.setBindable(iconDisplayField,"tooltip",tooltip)}}function setLockedByWorkflowTextClickHandler(handler){this.lockedByWorkflowTextClickHandler$BxwB=handler}function changeLifecycleStatus$static(icon,valueExpression){var status=valueExpression.getValue();AS3.setBindable(icon,"tooltip",com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.getLocalizedLifecycleStatus(status));
AS3.setBindable(icon,"iconCls",com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.getIconStyleClassForStatus(status));icon.setVisible(status===com.coremedia.cap.content.LifecycleStatus.APPROVED||status===com.coremedia.cap.content.LifecycleStatus.PUBLISHED)}return{extend:"Ext.toolbar.Toolbar",checkedOutValueExpression$BxwB:null,localeNameValueExpression$BxwB:null,lockedByWorkflowTextClickHandler$BxwB:null,checkedOutStatusClickHandler$BxwB:null,constructor:DocumentFormToolbarBase$,super$BxwB:function(){Ext.toolbar.Toolbar.prototype.constructor.apply(this,
arguments)},getContent:getContent,getCheckedOutValueExpression:getCheckedOutValueExpression,getLocaleValueExpression:getLocaleValueExpression,attachCheckedOutStatusClickHandler$BxwB:attachCheckedOutStatusClickHandler,detachCheckedOutStatusClickHandler$BxwB:detachCheckedOutStatusClickHandler,changeDisplayField:changeDisplayField,changeCheckedOutStatus:changeCheckedOutStatus,changeLocale:changeLocale,setLockedByWorkflowTextClickHandler:setLockedByWorkflowTextClickHandler,config:{bindTo:null},statics:{LOCALE_NAME_ITEM_ID:"localName",
DOCUMENT_TOOLBAR_TEXT_CONTAINER_ITEM_ID:"documentToolbarTextContainer",changeType:changeType$static,changeLifecycleStatus:changeLifecycleStatus$static},requires:["AS3.Error","Ext.String","Ext.toolbar.Toolbar","Ext.util.Format","com.coremedia.cap.common.SESSION","com.coremedia.cap.content.Content","com.coremedia.cap.content.ContentType","com.coremedia.cap.content.LifecycleStatus","com.coremedia.cap.content.authorization.Right","com.coremedia.cms.editor.Editor_properties","com.coremedia.ui.components.StatefulQuickTip",
"com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.util.EncodingUtil"],uses:["com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.SiteInfoBase",function(SiteInfoBase){function SiteInfoBase$(config){if(arguments.length<=0)config=null;this.super$0tGe(config)}function getSiteValueExpression(config){if(!this.siteValueExpression$0tGe)this.siteValueExpression$0tGe=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var content=config.bindTo.getValue();switch(com.coremedia.ui.data.RemoteBeanUtil.isAccessible(content)){case undefined:return undefined;case false:return null}var sitesService=
com.coremedia.cms.editor.sdk.editorContext.getSitesService();return sitesService.getSiteFor(content)});return this.siteValueExpression$0tGe}function siteToName(site){if(site)return site.getName();else return"-"}function siteToLocale(site){if(site)return site.getLocale().getDisplayName();else return"-"}return{extend:"com.coremedia.cms.editor.sdk.premular.CollapsibleFormPanel",metadata:{"":["PublicApi"]},siteValueExpression$0tGe:null,constructor:SiteInfoBase$,super$0tGe:function(){com.coremedia.cms.editor.sdk.premular.CollapsibleFormPanel.prototype.constructor.apply(this,
arguments)},getSiteValueExpression:getSiteValueExpression,siteToName:siteToName,siteToLocale:siteToLocale,requires:["com.coremedia.cms.editor.sdk.premular.CollapsibleFormPanel","com.coremedia.ui.data.RemoteBeanUtil","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.ReadOnlyDocumentFormToolbarDispatcherBase",function(ReadOnlyDocumentFormToolbarDispatcherBase){function ReadOnlyDocumentFormToolbarDispatcherBase$(config){if(arguments.length<=0)config=null;this.super$8sKG(config);this.premular$8sKG=AS3.getBindable(config,"premular");this.premular$8sKG.addListener(com.coremedia.cms.editor.sdk.premular.PremularBase.READ_ONLY_CONTENT_PROPERTY_NAME,AS3.bind(this,"readOnlyContentChanged$8sKG"));this.readOnlyContentChanged$8sKG()}
function readOnlyContentChanged(){var activeItemId=null;var readOnlyContent=this.premular$8sKG.getReadOnlyContent();if(this.premular$8sKG.isInVersionComparisonMode())activeItemId=ReadOnlyDocumentFormToolbarDispatcherBase.VERSION_COMPARISON_PANEL_ID;else if(readOnlyContent)activeItemId=ReadOnlyDocumentFormToolbarDispatcherBase.MASTER_COMPARISON_PANEL_ID;if(activeItemId){this["activeItem"]=activeItemId;this.fireEvent("activeItem",this,activeItemId?this.getComponent(activeItemId):null);if(this.rendered)AS3.as(this.getLayout(),
Ext.layout.container.Card).setActiveItem(activeItemId)}}function beforeDestroy(){this.premular$8sKG.removeListener(com.coremedia.cms.editor.sdk.premular.PremularBase.READ_ONLY_CONTENT_PROPERTY_NAME,AS3.bind(this,"readOnlyContentChanged$8sKG"));Ext.container.Container.prototype.beforeDestroy.call(this)}return{extend:"Ext.container.Container",premular$8sKG:null,constructor:ReadOnlyDocumentFormToolbarDispatcherBase$,super$8sKG:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},
readOnlyContentChanged$8sKG:readOnlyContentChanged,beforeDestroy:beforeDestroy,statics:{MASTER_COMPARISON_PANEL_ID:"masterComparisonPanel",VERSION_COMPARISON_PANEL_ID:"versionComparisonPanel"},requires:["Ext.container.Container","Ext.layout.container.Card"],uses:["com.coremedia.cms.editor.sdk.premular.PremularBase"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.DownloadXliffWorkflowAction",function(DownloadXliffWorkflowAction){function DownloadXliffWorkflowAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.DownloadXliffWorkflowActionBase,{});var defaults_$1=AS3.cast(DownloadXliffWorkflowAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$oF2W(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.DownloadXliffWorkflowActionBase",
constructor:DownloadXliffWorkflowAction$,super$oF2W:function(){com.coremedia.cms.editor.sdk.premular.DownloadXliffWorkflowActionBase.prototype.constructor.apply(this,arguments)},config:{processValueExpression:null,taskValueExpression:null,derivedContentsVariable:null,masterContentObjectsVariable:null,filenameVariable:null,commentVariable:null},requires:["com.coremedia.cms.editor.sdk.premular.DownloadXliffWorkflowActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.DocumentFormDispatcherBase",function(DocumentFormDispatcherBase){function DocumentFormDispatcherBase$(config){if(arguments.length<=0)config=null;if(!AS3.getBindable(config,"singleType"))AS3.setBindable(config,"activeItemValueExpression",AS3.getBindable(config,"bindTo").extendBy("type.name"));else{this.contentType=AS3.as(AS3.getBindable(config,"bindTo").getValue(),com.coremedia.cap.content.Content).getType().getName();AS3.setBindable(config,"activeItemValueExpression",
com.coremedia.ui.data.ValueExpressionFactory.create("contentType",this))}this.super$zYGP(config)}return{extend:"com.coremedia.ui.components.SwitchingContainer",metadata:{"":["PublicApi"]},contentType:null,constructor:DocumentFormDispatcherBase$,super$zYGP:function(){com.coremedia.ui.components.SwitchingContainer.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cap.content.Content","com.coremedia.ui.components.SwitchingContainer","com.coremedia.ui.data.ValueExpressionFactory"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.PremularConfiguration",function(PremularConfiguration){var excludedDocTypeProperties$static;function excludedDocTypeProperties$static_(){excludedDocTypeProperties$static=[]}function PremularConfiguration$(document,readOnlyContentObject,showPreview,showForm,activeTabIndex){switch(Math.max(arguments.length,1)){case 1:readOnlyContentObject=null;case 2:showPreview=true;case 3:showForm=true;case 4:activeTabIndex=0}this._content$zSy2=document;this._readOnlyContentObject$zSy2=
readOnlyContentObject;this._showPreview$zSy2=showPreview;this._showForm$zSy2=showForm;this._activeTabIndex$zSy2=activeTabIndex;if(this._showPreview$zSy2===undefined)this._showPreview$zSy2=true;if(this._showForm$zSy2===undefined)this._showForm$zSy2=true}function load(callback){var this$=this;this.premularGroups$zSy2=new com.coremedia.cms.editor.sdk.premular.PremularFieldGroups;com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var c=this$._content$zSy2;if(!c)return undefined;
if(!c.isLoaded()){c.load();return undefined}if(!c.getType().getName())return undefined;if(c.getPath()===undefined)return undefined;if(!AS3.as(com.coremedia.cms.editor.sdk.editorContext.getPreferences(),com.coremedia.cap.common.impl.StructRemoteBeanImpl).isLoaded())return undefined;var issuesVE=com.coremedia.ui.data.ValueExpressionFactory.create("issues",this$._content$zSy2);this$.issues$zSy2=issuesVE.getValue();if(this$.issues$zSy2===undefined)return undefined;if(!this$.issues$zSy2.isLoaded()){this$.issues$zSy2.load();
return undefined}this$.premularGroups$zSy2.loadStatesFor(this$._content$zSy2.getType().getName());return true}).loadValue(callback)}function updatePremularFieldGroup(contentTypeName,itemId,isCollapsed){return this.premularGroups$zSy2.updatePremularFieldGroup(contentTypeName,itemId,isCollapsed)}function getCollapsedState(itemId,propertyNames,expandOnValuesNames,collapsed,collapsible){switch(Math.max(arguments.length,3)){case 3:collapsed=false;case 4:collapsible=true}if(!itemId)return false;if(collapsible===
false)return false;var isExpandForIssueNeeded=this.checkPropertyIssues$zSy2(propertyNames);if(isExpandForIssueNeeded)return false;var isExpandForValueNeeded=this.checkPropertyValues$zSy2(expandOnValuesNames);if(isExpandForValueNeeded)return false;var contentTypeName=this._content$zSy2.getType().getName();var premularGroup=this.premularGroups$zSy2.getGroup(contentTypeName,itemId);if(premularGroup)return premularGroup.isCollapsed();return collapsed}function addExcludedPreloadProperty$static(docType,
propertyName){excludedDocTypeProperties$static.push(docType+":"+propertyName)}function isPreloadExcluded$static(docTypeName,propertyName){for(var $1=0;$1<excludedDocTypeProperties$static.length;++$1){var excludedProperty=excludedDocTypeProperties$static[$1];var excludedType=null;excludedType=excludedProperty.split(":")[0];excludedProperty=excludedProperty.split(":")[1];if(excludedType===docTypeName&&excludedProperty===propertyName)return true}return false}function checkPropertyIssues(propertyNames){var pNames=
propertyNames||[];if(!AS3.as(this._content$zSy2,com.coremedia.cms.editor.sdk.premular.HistoricContent))for(var i=0;i<pNames.length;i++){var propertyName=pNames[i];if(!propertyCanBeValidated$static(propertyName))continue;var issueResult=this.issues$zSy2.getByProperty().get(propertyName);if(issueResult&&issueResult.length>0)return true}return false}function checkPropertyValues(expandOnValuesNames){for(var $1=0;$1<expandOnValuesNames.length;++$1){var field=expandOnValuesNames[$1];var fieldValue=this._content$zSy2.getProperties().get(field);
if(!com.coremedia.cms.editor.sdk.util.RichTextUtil.isEmpty(AS3.as(fieldValue,String)))return true;if(AS3.as(fieldValue,com.coremedia.ui.data.Calendar))return true;if(AS3.as(fieldValue,Array)&&fieldValue.length>0)return true;if(AS3.as(fieldValue,com.coremedia.ui.data.Blob)){var blobValue=AS3.as(AS3.as(fieldValue,com.coremedia.ui.data.Blob).getData(),String);return!com.coremedia.cms.editor.sdk.util.RichTextUtil.isEmpty(blobValue)}if(AS3.as(fieldValue,Boolean)||!isNaN(parseInt(fieldValue)))return true}return false}
function propertyCanBeValidated$static(propertyName){return propertyName.indexOf("placement")===-1}function get$content(){return this._content$zSy2}function set$content(value){this._content$zSy2=value}function get$readOnlyContentObject(){return this._readOnlyContentObject$zSy2}function get$showPreview(){return this._showPreview$zSy2}function get$showForm(){return this._showForm$zSy2}function set$readOnlyContentObject(value){this._readOnlyContentObject$zSy2=value}function set$showPreview(value){this._showPreview$zSy2=
value}function set$showForm(value){this._showForm$zSy2=value}function get$activeTabIndex(){return this._activeTabIndex$zSy2}function set$activeTabIndex(value){this._activeTabIndex$zSy2=value}function applyState(state){if(state.readOnlyContentObject!==undefined)this.readOnlyContentObject=state.readOnlyContentObject;if(state.showForm!==undefined)this.showForm=state.showForm;if(state.showPreview!==undefined)this.showPreview=state.showPreview;if(state.content!==undefined)this.content=state.content;if(state.activeTabIndex!==
undefined)this.activeTabIndex=state.activeTabIndex}return{metadata:{"":["PublicApi"]},_content$zSy2:null,_readOnlyContentObject$zSy2:null,_showPreview$zSy2:false,_showForm$zSy2:false,_activeTabIndex$zSy2:0,issues$zSy2:null,premularGroups$zSy2:null,constructor:PremularConfiguration$,load:load,updatePremularFieldGroup:updatePremularFieldGroup,getCollapsedState:getCollapsedState,checkPropertyIssues$zSy2:checkPropertyIssues,checkPropertyValues$zSy2:checkPropertyValues,applyState:applyState,statics:{excludedDocTypeProperties:undefined,
addExcludedPreloadProperty:addExcludedPreloadProperty$static,__initStatics__:function(){excludedDocTypeProperties$static_()}},__accessors__:{content:{get:get$content,set:set$content},readOnlyContentObject:{get:get$readOnlyContentObject,set:set$readOnlyContentObject},showPreview:{get:get$showPreview,set:set$showPreview},showForm:{get:get$showForm,set:set$showForm},activeTabIndex:{get:get$activeTabIndex,set:set$activeTabIndex}},requires:["com.coremedia.cap.common.impl.StructRemoteBeanImpl","com.coremedia.ui.data.Blob",
"com.coremedia.ui.data.Calendar","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.premular.HistoricContent","com.coremedia.cms.editor.sdk.premular.PremularFieldGroups","com.coremedia.cms.editor.sdk.util.RichTextUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.DocumentTabPanel",function(DocumentTabPanel){function DocumentTabPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.DocumentTabPanelBase,{});var defaults_$1=AS3.cast(DocumentTabPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.itemsLazyUntilEvent="beforerender";var tabBar_63_7_$1=AS3.cast(Ext.tab.Bar,{});AS3.setBindable(tabBar_63_7_$1,"hidden",true);AS3.setBindable(config_$1,
"tabBar",tabBar_63_7_$1);var editor_TabChangePlugin_66_7_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.TabChangePlugin,{});var editor_AriaMainRegionPlugin_67_7_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.AriaMainRegionPlugin,{});config_$1.plugins=[editor_TabChangePlugin_66_7_$1,editor_AriaMainRegionPlugin_67_7_$1];var fx_Object_70_7_$1=Object({});fx_Object_70_7_$1.bindTo=AS3.getBindable(config,"bindTo");fx_Object_70_7_$1.premularConfigurationVE=AS3.getBindable(config,"premularConfigurationVE");
fx_Object_70_7_$1.forceReadOnlyValueExpression=AS3.getBindable(config,"forceReadOnlyValueExpression");config_$1["defaultType"]=fx_Object_70_7_$1["xtype"];delete fx_Object_70_7_$1["xtype"];delete fx_Object_70_7_$1["xclass"];config_$1.defaults=fx_Object_70_7_$1;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$rkVC(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.DocumentTabPanelBase",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.documentTabPanel",
constructor:DocumentTabPanel$,super$rkVC:function(){com.coremedia.cms.editor.sdk.premular.DocumentTabPanelBase.prototype.constructor.apply(this,arguments)},config:{bindTo:null,propertyFieldRegistry:null,forceReadOnlyValueExpression:null,premularConfigurationVE:null},statics:{FORCE_READ_ONLY_VARIABLE_NAME:"forceReadOnly"},requires:["Ext.tab.Bar","com.coremedia.cms.editor.sdk.premular.DocumentTabPanelBase","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.desktop.AriaMainRegionPlugin","com.coremedia.cms.editor.sdk.desktop.TabChangePlugin"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.ContentIssuesPanelBase",function(ContentIssuesPanelBase){function ContentIssuesPanelBase$(config){if(arguments.length<=0)config=null;this.super$td14(config);this.getView().addListener("itemclick",AS3.bind(this,"issueClicked$td14"))}function afterRender(){var this$=this;com.coremedia.cms.editor.sdk.premular.IssuesPanel.prototype.afterRender.call(this);Ext.EventManager.on(this.getView().getEl(),"keyup",function(evt,t,o){if(evt.keyCode===KeyEvent.DOM_VK_ENTER||
evt.keyCode===KeyEvent.DOM_VK_RETURN||evt.keyCode===KeyEvent.DOM_VK_SPACE)this$.issueClicked$td14(this$.getView(),this$.getView().getSelectionModel().getSelection()[0],null,NaN)});this.mon(this.getView(),"refresh",AS3.bind(this,"addDescribedBys$td14"))}function addDescribedBys(){var queryResult=this.getView().getEl().query("."+com.coremedia.cms.editor.sdk.premular.IssuesPanelBase.ISSUE_BLOCK.getCSSClass(),false);queryResult.forEach(function(issueEl){var textEl=issueEl.down("."+com.coremedia.cms.editor.sdk.premular.IssuesPanelBase.ISSUE_ELEMENT_TEXT.getCSSClass());
var linkEl=issueEl.down("."+com.coremedia.cms.editor.sdk.premular.IssuesPanelBase.ISSUE_ELEMENT_LINK.getCSSClass());if(textEl&&linkEl){textEl.dom.setAttribute("id",Ext.id());com.coremedia.ui.util.AriaUtils.addDescribedBy(linkEl,AS3.as(textEl.dom.getAttribute("id"),String))}})}function getIssueModels(issuesValueExpression){var issues=AS3.as(issuesValueExpression.getValue(),Array);if(!issues)return[];var models=issues.map(AS3.bind(this,"toModel$td14"));models.sort(compareModels$static);for(var i=0;i<
models.length;i++)models[i].id=""+i;return models}function toModel(issue){var model=new com.coremedia.cms.editor.sdk.premular.IssueModel;model.entity=issue.entity;model.property=issue.property;var propertyPath=com.coremedia.cap.content.ContentPropertyNames.PROPERTIES+"."+issue.property;if(issue.property){var propertyLabel=this.getPropertyLabel(issue);var contentTypeName=AS3.cast(com.coremedia.cap.content.Content,issue.entity).getType().getName();var tabTitle=AS3.getBindable(this,"propertyFieldRegistry").getTabTitle(propertyPath,
contentTypeName);if(tabTitle)model.propertyLabel=tabTitle+" \x3e "+propertyLabel;else model.propertyLabel=propertyLabel;model.itemIndexPath=AS3.getBindable(this,"propertyFieldRegistry").getItemIndexPath(propertyPath,contentTypeName)}else{model.propertyLabel=this.resourceManager.getString("com.coremedia.cms.editor.Editor","IssuesWindow_globalProperty_text");model.itemIndexPath=[]}model.text=com.coremedia.cms.editor.sdk.validation.ValidationUtil.formatText(issue);model.code=issue.code;return model}
function getPropertyLabel(issue){return com.coremedia.cms.editor.sdk.util.PropertyEditorUtil.getLocalizedLabel(AS3.as(issue.entity,com.coremedia.cap.content.Content).getType().getName(),issue.property)}function compareModels$static(model1,model2){if(!model1.property){if(model2.property)return-1}else{if(!model2.property)return 1;var prefixLength=Math.min(model1.itemIndexPath.length,model2.itemIndexPath.length);for(var i=0;i<prefixLength;i++)if(model1.itemIndexPath[i]!==model2.itemIndexPath[i])return model1.itemIndexPath[i]-
model2.itemIndexPath[i];if(model1.itemIndexPath.length<model2.itemIndexPath.length)return-1;if(model1.itemIndexPath.length>model2.itemIndexPath.length)return 1;if(model1.propertyLabel<model2.propertyLabel)return-1;if(model1.propertyLabel>model2.propertyLabel)return 1}if(model1.text<model2.text)return-1;if(model1.text>model2.text)return 1;return 0}function getIssuesStore(){return Ext.create(Ext.data.JsonStore,{idProperty:"id",fields:["id","propertyLabel","property","text"]})}function issueClicked(v,
record,item,index){var issueModel=AS3.as(record.data,com.coremedia.cms.editor.sdk.premular.IssueModel);var property=issueModel.property;if(property){var content=AS3.as(issueModel.entity,com.coremedia.cap.content.Content);AS3.getBindable(this,"premularFocusManager").focusProperty(content,com.coremedia.cap.content.ContentPropertyNames.PROPERTIES+"."+property)}else if(this.onGlobalIssueClick)this.onGlobalIssueClick(issueModel)}function ariaCheck(config){if(AS3.is(config,com.coremedia.cms.editor.sdk.premular.ContentIssuesPanel)&&
AS3.getBindable(AS3.as(config,com.coremedia.cms.editor.sdk.premular.ContentIssuesPanel),"titlePattern"))return;com.coremedia.cms.editor.sdk.premular.IssuesPanel.prototype.ariaCheck.call(this,config)}return{extend:"com.coremedia.cms.editor.sdk.premular.IssuesPanel",constructor:ContentIssuesPanelBase$,super$td14:function(){com.coremedia.cms.editor.sdk.premular.IssuesPanel.prototype.constructor.apply(this,arguments)},afterRender:afterRender,addDescribedBys$td14:addDescribedBys,onGlobalIssueClick:null,
getIssueModels:getIssueModels,toModel$td14:toModel,getPropertyLabel:getPropertyLabel,getIssuesStore:getIssuesStore,issueClicked$td14:issueClicked,ariaCheck:ariaCheck,config:{premularFocusManager:null,propertyFieldRegistry:null},requires:["Ext","Ext.EventManager","Ext.data.JsonStore","com.coremedia.cap.content.Content","com.coremedia.cap.content.ContentPropertyNames","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.premular.IssuesPanel","com.coremedia.ui.util.AriaUtils"],
uses:["com.coremedia.cms.editor.sdk.premular.ContentIssuesPanel","com.coremedia.cms.editor.sdk.premular.IssueModel","com.coremedia.cms.editor.sdk.premular.IssuesPanelBase","com.coremedia.cms.editor.sdk.util.PropertyEditorUtil","com.coremedia.cms.editor.sdk.validation.ValidationUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.CollapsiblePanel",function(CollapsiblePanel){function CollapsiblePanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.CollapsiblePanelBase,{});var defaults_$1=AS3.cast(CollapsiblePanel,{});AS3.setBindable(defaults_$1,"expandOnHover",true);config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.collapsible=true;config_$1.titleCollapse=true;config_$1.itemsLazyUntilEvent="beforeexpand";
config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.PanelSkin.CARD_200.getSkin());var ui_ExpandPanelOnHoverPlugin_42_5_$1=AS3.cast(com.coremedia.ui.plugins.ExpandPanelOnHoverPlugin,{});AS3.setBindable(ui_ExpandPanelOnHoverPlugin_42_5_$1,"activateOnHoverDDGroups",AS3.getBindable(config,"expandOnHover")?com.coremedia.cms.editor.sdk.util.UIBehaviour.ACTIVATE_ON_HOVER_DD_GROUPS:[]);AS3.setBindable(ui_ExpandPanelOnHoverPlugin_42_5_$1,"activateOnHoverDelay",com.coremedia.cms.editor.sdk.util.UIBehaviour.ACTIVATE_ON_HOVER_DELAY);
config_$1.plugins=[ui_ExpandPanelOnHoverPlugin_42_5_$1];var layout_Anchor_46_5_$1=AS3.cast(Ext.layout.container.Anchor,{});layout_Anchor_46_5_$1.manageOverflow=false;AS3.setBindable(config_$1,"layout",layout_Anchor_46_5_$1);var labelable_49_5_$1=AS3.cast(Ext.form.Labelable,{});labelable_49_5_$1.labelSeparator="";labelable_49_5_$1.labelAlign="top";config_$1["defaultType"]=labelable_49_5_$1["xtype"];delete labelable_49_5_$1["xtype"];delete labelable_49_5_$1["xclass"];config_$1.defaults=labelable_49_5_$1;
var header_53_5_$1=AS3.cast(Ext.panel.Header,{});AS3.setBindable(header_53_5_$1,"titlePosition",2);header_53_5_$1["focusableContainer"]=false;config_$1.header=header_53_5_$1;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$nyuy(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.CollapsiblePanelBase",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.collapsiblePanel",constructor:CollapsiblePanel$,super$nyuy:function(){com.coremedia.cms.editor.sdk.premular.CollapsiblePanelBase.prototype.constructor.apply(this,
arguments)},config:{multilineTitle:false,expandOnHover:false},requires:["Ext.form.Labelable","Ext.layout.container.Anchor","Ext.panel.Header","com.coremedia.cms.editor.sdk.premular.CollapsiblePanelBase","com.coremedia.ui.plugins.ExpandPanelOnHoverPlugin","com.coremedia.ui.skins.PanelSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.util.UIBehaviour"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.PremularFieldGroup",function(PremularFieldGroup){function PremularFieldGroup$(itemId,collapsed){this.itemId$VRCP=itemId;this.collapsed$VRCP=collapsed}function getItemId(){return this.itemId$VRCP}function isCollapsed(){return this.collapsed$VRCP}function setCollapsed(newCollapsed){this.collapsed$VRCP=newCollapsed}return{itemId$VRCP:null,collapsed$VRCP:false,constructor:PremularFieldGroup$,getItemId:getItemId,isCollapsed:isCollapsed,setCollapsed:setCollapsed}});Ext.define("com.coremedia.cms.editor.sdk.premular.StandAloneDocumentViewBase",function(StandAloneDocumentViewBase){function StandAloneDocumentViewBase$(config){if(arguments.length<=0)config=null;this.super$ctiu(config)}function getPropertyFieldRegistry(){return new com.coremedia.cms.editor.sdk.premular.PropertyFieldRegistry(this)}function getFocusForwarder(){return new com.coremedia.cms.editor.sdk.premular.FocusForwarder(Ext.emptyFn,Ext.emptyFn)}function getTabbedDocumentFormDispatcher(){return AS3.as(this.query(com.coremedia.ui.util.createComponentSelector()._xtype(com.coremedia.cms.editor.sdk.premular.TabbedDocumentFormDispatcher.xtype).build())[0],
com.coremedia.cms.editor.sdk.premular.TabbedDocumentFormDispatcher)}return{extend:"Ext.container.Container",constructor:StandAloneDocumentViewBase$,super$ctiu:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},getPropertyFieldRegistry:getPropertyFieldRegistry,getFocusForwarder:getFocusForwarder,getTabbedDocumentFormDispatcher:getTabbedDocumentFormDispatcher,requires:["Ext","Ext.container.Container","com.coremedia.ui.util.createComponentSelector"],uses:["com.coremedia.cms.editor.sdk.premular.FocusForwarder",
"com.coremedia.cms.editor.sdk.premular.PropertyFieldRegistry","com.coremedia.cms.editor.sdk.premular.TabbedDocumentFormDispatcher"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.ReadOnlyVersionSelector",function(ReadOnlyVersionSelector){function ReadOnlyVersionSelector$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.ReadOnlyVersionSelectorBase,{});var defaults_$1=AS3.cast(ReadOnlyVersionSelector,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"scale","medium");config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.WORKAREA.getSkin());
var ui_BindPropertyPlugin_24_5_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_24_5_$1.componentProperty="text";ui_BindPropertyPlugin_24_5_$1.bindTo=this.getVersionInfoValueExpression();ui_BindPropertyPlugin_24_5_$1.skipIfUndefined=true;var ui_BindTooltipPlugin_27_5_$1=AS3.cast(com.coremedia.ui.plugins.BindTooltipPlugin,{});ui_BindTooltipPlugin_27_5_$1.bindTo=this.getVersionTooltipValueExpression();config_$1.plugins=[ui_BindPropertyPlugin_24_5_$1,ui_BindTooltipPlugin_27_5_$1];
var menu_31_5_$1=AS3.cast(Ext.menu.Menu,{});var ui_BindItemsPlugin_33_9_$1=AS3.cast(com.coremedia.ui.plugins.BindItemsPlugin,{});AS3.setBindable(ui_BindItemsPlugin_33_9_$1,"valueExpression",this.getMainMenuItemsValueExpression());AS3.setBindable(ui_BindItemsPlugin_33_9_$1,"reuseComponents",false);var ui_BEMPlugin_35_9_$1=AS3.cast(com.coremedia.ui.plugins.BEMPlugin,{});AS3.setBindable(ui_BEMPlugin_35_9_$1,"block","cm-version-selector-menu");AS3.setBindable(ui_BEMPlugin_35_9_$1,"defaultElement","item");
menu_31_5_$1.plugins=[ui_BindItemsPlugin_33_9_$1,ui_BEMPlugin_35_9_$1];config_$1.menu=menu_31_5_$1;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$ybcp(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.ReadOnlyVersionSelectorBase",alias:"widget.com.coremedia.cms.editor.sdk.config.readOnlyVersionSelector",constructor:ReadOnlyVersionSelector$,super$ybcp:function(){com.coremedia.cms.editor.sdk.premular.ReadOnlyVersionSelectorBase.prototype.constructor.apply(this,arguments)},requires:["Ext.menu.Menu",
"com.coremedia.cms.editor.sdk.premular.ReadOnlyVersionSelectorBase","com.coremedia.ui.plugins.BEMPlugin","com.coremedia.ui.plugins.BindItemsPlugin","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.BindTooltipPlugin","com.coremedia.ui.skins.ButtonSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.PropertyField",function(PropertyField){function PropertyField$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyFieldBase,{});var defaults_$1=AS3.cast(PropertyField,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.labelPad=null;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$jOL3(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.PropertyFieldBase",
metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.propertyField",constructor:PropertyField$,super$jOL3:function(){com.coremedia.cms.editor.sdk.premular.PropertyFieldBase.prototype.constructor.apply(this,arguments)},config:{bindTo:null,forceReadOnlyValueExpression:null,premularConfigurationVE:null,hideIssues:false},requires:["com.coremedia.cms.editor.sdk.premular.PropertyFieldBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.ContentIssuesPanel",function(ContentIssuesPanel){function ContentIssuesPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.ContentIssuesPanelBase,{});var defaults_$1=AS3.cast(ContentIssuesPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"bindTo",com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"getIssueModels"),AS3.getBindable(config,
"issuesValueExpression")));AS3.setBindable(config_$1,"issuesTemplate",com.coremedia.cms.editor.sdk.premular.IssuesPanelBase.getIssuesTemplate());AS3.setBindable(config_$1,"store",this.getIssuesStore());net.jangaroo.ext.Exml.apply(config_$1,config);this.super$N9RJ(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.ContentIssuesPanelBase",alias:"widget.com.coremedia.cms.editor.sdk.config.contentIssuesPanel",constructor:ContentIssuesPanel$,super$N9RJ:function(){com.coremedia.cms.editor.sdk.premular.ContentIssuesPanelBase.prototype.constructor.apply(this,
arguments)},config:{issuesValueExpression:null},requires:["com.coremedia.cms.editor.sdk.premular.ContentIssuesPanelBase","com.coremedia.ui.data.ValueExpressionFactory","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.IssuesPanelBase"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.PropertyFieldLabel",function(PropertyFieldLabel){function PropertyFieldLabel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.form.field.Display,{});var defaults_$1=AS3.cast(PropertyFieldLabel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"hidden",config.hideLabel);config_$1.labelSeparator="";config_$1.labelAlign="top";var editor_SetPropertyLabelPlugin_45_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin,
{});editor_SetPropertyLabelPlugin_45_5_$1.bindTo=AS3.getBindable(config,"bindTo");editor_SetPropertyLabelPlugin_45_5_$1.propertyName=net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName"));config_$1.plugins=[editor_SetPropertyLabelPlugin_45_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$fjjn(config_$1)}return{extend:"Ext.form.field.Display",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.propertyFieldLabel",constructor:PropertyFieldLabel$,
super$fjjn:function(){Ext.form.field.Display.prototype.constructor.apply(this,arguments)},config:{bindTo:null,propertyName:null},requires:["Ext.form.field.Display","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.LazyAutoScrollMenu",function(LazyAutoScrollMenu){function LazyAutoScrollMenu$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.menu.Menu,{});var defaults_$1=AS3.cast(LazyAutoScrollMenu,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"scrollable",true);var ui_BindItemsPlugin_34_5_$1=AS3.cast(com.coremedia.ui.plugins.BindItemsPlugin,{});AS3.setBindable(ui_BindItemsPlugin_34_5_$1,"valueExpression",
AS3.getBindable(config,"bindTo"));AS3.setBindable(ui_BindItemsPlugin_34_5_$1,"reuseComponents",true);AS3.setBindable(ui_BindItemsPlugin_34_5_$1,"lazy",true);config_$1.plugins=[ui_BindItemsPlugin_34_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$7ryH(config_$1)}return{extend:"Ext.menu.Menu",alias:"widget.com.coremedia.cms.editor.sdk.config.lazyAutoScrollMenu",constructor:LazyAutoScrollMenu$,super$7ryH:function(){Ext.menu.Menu.prototype.constructor.apply(this,arguments)},config:{bindTo:null,
premular:null},requires:["Ext.menu.Menu","com.coremedia.ui.plugins.BindItemsPlugin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.Premular",function(Premular){function Premular$(config){var this$=this;if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.PremularBase,{});var defaults_$1=AS3.cast(Premular,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var layout_HBox_70_5_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_70_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_HBox_70_5_$1);
var container_75_5_$1=AS3.cast(Ext.container.Container,{});container_75_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.PremularBase.DOCUMENT_CONTAINER_ITEM_ID);container_75_5_$1.flex=1;AS3.setBindable(container_75_5_$1,"hidden",AS3.getBindable(config,"showForm")===false);container_75_5_$1["ariaRole"]="region";container_75_5_$1["focusable"]=true;container_75_5_$1.defaultFocus=":focusable";container_75_5_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"Premular_form_label"));AS3.setBindable(container_75_5_$1,"minWidth",com.coremedia.cms.editor.sdk.premular.PremularBase.DEFAULT_DOCUMENT_CONTAINER_MIN_WIDTH);var layout_VBox_84_9_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_84_9_$1,"align","stretch");AS3.setBindable(container_75_5_$1,"layout",layout_VBox_84_9_$1);var container_87_9_$1=AS3.cast(Ext.container.Container,{});container_87_9_$1.focusableContainer=true;var layout_HBox_89_13_$1=AS3.cast(Ext.layout.container.HBox,
{});AS3.setBindable(container_87_9_$1,"layout",layout_HBox_89_13_$1);var editor_DocumentFormToolbarReadOnlyContainer_92_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.DocumentFormToolbarReadOnlyContainer,{});editor_DocumentFormToolbarReadOnlyContainer_92_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.PremularBase.READ_ONLY_DOCUMENT_FORM_TOOLBAR_CONTAINER_ITEM_ID);AS3.setBindable(editor_DocumentFormToolbarReadOnlyContainer_92_13_$1,"hidden",true);editor_DocumentFormToolbarReadOnlyContainer_92_13_$1.flex=
1;var layout_HBox_96_17_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(editor_DocumentFormToolbarReadOnlyContainer_92_13_$1,"layout",layout_HBox_96_17_$1);var editor_ReadOnlyDocumentFormToolbarDispatcher_99_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.ReadOnlyDocumentFormToolbarDispatcher,{});editor_ReadOnlyDocumentFormToolbarDispatcher_99_17_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.PremularBase.READ_ONLY_DOCUMENT_FORM_TOOLBAR_DISPATCHER_ITEM_ID);
editor_ReadOnlyDocumentFormToolbarDispatcher_99_17_$1.flex=1;AS3.setBindable(editor_ReadOnlyDocumentFormToolbarDispatcher_99_17_$1,"premular",this);editor_DocumentFormToolbarReadOnlyContainer_92_13_$1.items=[editor_ReadOnlyDocumentFormToolbarDispatcher_99_17_$1];var splitter_106_13_$1=AS3.cast(Ext.resizer.Splitter,{});AS3.setBindable(splitter_106_13_$1,"width","4px");AS3.setBindable(splitter_106_13_$1,"disabled",true);AS3.setBindable(splitter_106_13_$1,"hidden",true);splitter_106_13_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.SplitterSkin.LIGHT.getSkin());
splitter_106_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.PremularBase.DOCUMENT_PANEL_HEADER_SPLIT_BAR_ITEM_ID);var editor_DocumentFormToolbarContainer_112_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.DocumentFormToolbarContainer,{});editor_DocumentFormToolbarContainer_112_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.PremularBase.DOCUMENT_FORM_TOOLBAR_CONTAINER_ITEM_ID);editor_DocumentFormToolbarContainer_112_13_$1.flex=
1;var layout_HBox_115_17_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(editor_DocumentFormToolbarContainer_112_13_$1,"layout",layout_HBox_115_17_$1);var toolbar_118_17_$1=AS3.cast(Ext.toolbar.Toolbar,{});toolbar_118_17_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.PremularBase.PREMULAR_MODE_TOOLBAR_ITEM_ID);toolbar_118_17_$1["tabGuard"]=false;toolbar_118_17_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.WORKAREA.getSkin());var editor_SwitchDifferencingButton_122_21_$1=
AS3.cast(com.coremedia.cms.editor.sdk.premular.SwitchDifferencingButton,{});AS3.setBindable(editor_SwitchDifferencingButton_122_21_$1,"premular",this);editor_SwitchDifferencingButton_122_21_$1.maskOnDisable=false;editor_SwitchDifferencingButton_122_21_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.PremularBase.SWITCH_DIFFERENCING_BUTTON_ITEM_ID);toolbar_118_17_$1.items=[editor_SwitchDifferencingButton_122_21_$1];var editor_DocumentFormToolbar_127_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.DocumentFormToolbar,
{});editor_DocumentFormToolbar_127_17_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.PremularBase.DOCUMENT_FORM_TOOLBAR_ITEM_ID);editor_DocumentFormToolbar_127_17_$1.flex=1;editor_DocumentFormToolbar_127_17_$1["tabGuard"]=false;editor_DocumentFormToolbar_127_17_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.WORKAREA.getSkin());AS3.setBindable(editor_DocumentFormToolbar_127_17_$1,"bindTo",this.getContentBeanValueExpression());AS3.setBindable(editor_DocumentFormToolbar_127_17_$1,
"propertyFieldRegistry",this.getDocumentFormPropertyFieldRegistry());AS3.setBindable(editor_DocumentFormToolbar_127_17_$1,"premular",this);AS3.setBindable(editor_DocumentFormToolbar_127_17_$1,"collapseHandler",function(){this$.collapsePanel(com.coremedia.cms.editor.sdk.premular.PremularBase.DOCUMENT_PANEL_ITEM_ID)});editor_DocumentFormToolbarContainer_112_13_$1.items=[toolbar_118_17_$1,editor_DocumentFormToolbar_127_17_$1];container_87_9_$1.items=[editor_DocumentFormToolbarReadOnlyContainer_92_13_$1,
splitter_106_13_$1,editor_DocumentFormToolbarContainer_112_13_$1];var tabPanel_140_9_$1=AS3.cast(Ext.tab.Panel,{});tabPanel_140_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.PremularBase.TABS_ITEM_ID);var editor_TabExpandPlugin_142_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.plugins.TabExpandPlugin,{});var ui_DragDropTabPlugin_143_13_$1=AS3.cast(com.coremedia.ui.plugins.DragDropTabPlugin,{});AS3.setBindable(ui_DragDropTabPlugin_143_13_$1,"activateOnHoverDDGroups",
com.coremedia.cms.editor.sdk.util.UIBehaviour.ACTIVATE_ON_HOVER_DD_GROUPS);AS3.setBindable(ui_DragDropTabPlugin_143_13_$1,"activateOnHoverDelay",com.coremedia.cms.editor.sdk.util.UIBehaviour.ACTIVATE_ON_HOVER_DELAY);tabPanel_140_9_$1.plugins=[editor_TabExpandPlugin_142_13_$1,ui_DragDropTabPlugin_143_13_$1];tabPanel_140_9_$1.items=[];var tabBar_149_13_$1=AS3.cast(Ext.tab.Bar,{});tabBar_149_13_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.TabBarSkin.WORKAREA_PANEL.getSkin());AS3.setBindable(tabPanel_140_9_$1,
"tabBar",tabBar_149_13_$1);var container_153_9_$1=AS3.cast(Ext.container.Container,{});container_153_9_$1.flex=1;var layout_HBox_155_13_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_155_13_$1,"align","stretch");AS3.setBindable(container_153_9_$1,"layout",layout_HBox_155_13_$1);var editor_DocumentPanel_158_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.DocumentPanel,{});editor_DocumentPanel_158_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.PremularBase.READ_ONLY_DOCUMENT_PANEL_ITEM_ID);
editor_DocumentPanel_158_13_$1.flex=1;editor_DocumentPanel_158_13_$1.collapsible=false;AS3.setBindable(editor_DocumentPanel_158_13_$1,"readOnly",true);AS3.setBindable(editor_DocumentPanel_158_13_$1,"hidden",true);AS3.setBindable(editor_DocumentPanel_158_13_$1,"premularConfigurationVE",this.getPremularConfigurationVE(AS3.getBindable(config,"premularConfiguration")));AS3.setBindable(editor_DocumentPanel_158_13_$1,"bindTo",this.getReadOnlyContentValueExpression());AS3.setBindable(editor_DocumentPanel_158_13_$1,
"diffManager",this.getDiffManager());AS3.setBindable(editor_DocumentPanel_158_13_$1,"propertyFieldRegistry",this.getReadOnlyPropertyFieldRegistry());AS3.setBindable(editor_DocumentPanel_158_13_$1,"focusForwarder",this.getPremularFocusManager().getReadOnlyDocumentFormFocusForwarder());var splitter_169_13_$1=AS3.cast(Ext.resizer.Splitter,{});AS3.setBindable(splitter_169_13_$1,"width","4px");AS3.setBindable(splitter_169_13_$1,"disabled",true);AS3.setBindable(splitter_169_13_$1,"hidden",true);splitter_169_13_$1.ui=
net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.SplitterSkin.DARK.getSkin());splitter_169_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.PremularBase.DOCUMENT_PANEL_SPLIT_BAR_ITEM_ID);var editor_DocumentPanel_175_15_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.DocumentPanel,{});editor_DocumentPanel_175_15_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.PremularBase.DOCUMENT_PANEL_ITEM_ID);editor_DocumentPanel_175_15_$1.flex=
1;editor_DocumentPanel_175_15_$1.collapsible=false;AS3.setBindable(editor_DocumentPanel_175_15_$1,"premularConfigurationVE",this.getPremularConfigurationVE(AS3.getBindable(config,"premularConfiguration")));AS3.setBindable(editor_DocumentPanel_175_15_$1,"bindTo",this.getContentBeanValueExpression());AS3.setBindable(editor_DocumentPanel_175_15_$1,"propertyFieldRegistry",this.getDocumentFormPropertyFieldRegistry());AS3.setBindable(editor_DocumentPanel_175_15_$1,"focusForwarder",this.getPremularFocusManager().getDocumentFormFocusForwarder());
container_153_9_$1.items=[editor_DocumentPanel_158_13_$1,splitter_169_13_$1,editor_DocumentPanel_175_15_$1];container_75_5_$1.items=[container_87_9_$1,tabPanel_140_9_$1,container_153_9_$1];var ui_MultiItemSplitter_188_5_$1=AS3.cast(com.coremedia.ui.layouts.MultiItemSplitter,{});ui_MultiItemSplitter_188_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.PremularBase.PREVIEW_SPLIT_BAR_ITEM_ID);ui_MultiItemSplitter_188_5_$1.stateId="premular-splitter";AS3.setBindable(ui_MultiItemSplitter_188_5_$1,
"hidden",AS3.getBindable(config,"showForm")===false||AS3.getBindable(config,"showPreview")===false);ui_MultiItemSplitter_188_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.SplitterSkin.PREMULAR.getSkin());AS3.setBindable(ui_MultiItemSplitter_188_5_$1,"width","4px");ui_MultiItemSplitter_188_5_$1.collapseOnDblClick=false;var editor_PreviewPanel_196_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.preview.PreviewPanel,{});editor_PreviewPanel_196_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.PremularBase.PREVIEW_PANEL_ITEM_ID);
editor_PreviewPanel_196_5_$1.flex=1;AS3.setBindable(editor_PreviewPanel_196_5_$1,"minWidth",300);editor_PreviewPanel_196_5_$1.collapsible=true;AS3.setBindable(editor_PreviewPanel_196_5_$1,"collapseHandler",function(){this$.collapsePanel(com.coremedia.cms.editor.sdk.premular.PremularBase.PREVIEW_PANEL_ITEM_ID)});AS3.setBindable(editor_PreviewPanel_196_5_$1,"bindTo",this.getContentBeanValueExpression());editor_PreviewPanel_196_5_$1.reloadHandler=AS3.bind(this,"refreshContent");AS3.setBindable(editor_PreviewPanel_196_5_$1,
"focusForwarder",this.getPremularFocusManager().getPreviewFocusForwarder());var editor_PreviewContextMenu_205_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.preview.PreviewContextMenu,{});editor_PreviewPanel_196_5_$1.contextMenu=editor_PreviewContextMenu_205_9_$1;config_$1.items=[container_75_5_$1,ui_MultiItemSplitter_188_5_$1,editor_PreviewPanel_196_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$fxvK(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.PremularBase",metadata:{"":["PublicApi"]},
alias:"widget.com.coremedia.cms.editor.sdk.config.premular",constructor:Premular$,super$fxvK:function(){com.coremedia.cms.editor.sdk.premular.PremularBase.prototype.constructor.apply(this,arguments)},config:{readOnlyContentObject:null,showPreview:false,showForm:false},statics:{CONTENT_VARIABLE_NAME:"content"},requires:["Ext.container.Container","Ext.layout.container.HBox","Ext.layout.container.VBox","Ext.resizer.Splitter","Ext.tab.Bar","Ext.tab.Panel","Ext.toolbar.Toolbar","com.coremedia.cms.editor.sdk.premular.PremularBase",
"com.coremedia.ui.layouts.MultiItemSplitter","com.coremedia.ui.plugins.DragDropTabPlugin","com.coremedia.ui.skins.SplitterSkin","com.coremedia.ui.skins.TabBarSkin","com.coremedia.ui.skins.ToolbarSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.plugins.TabExpandPlugin","com.coremedia.cms.editor.sdk.premular.DocumentFormToolbar","com.coremedia.cms.editor.sdk.premular.DocumentFormToolbarContainer","com.coremedia.cms.editor.sdk.premular.DocumentFormToolbarReadOnlyContainer","com.coremedia.cms.editor.sdk.premular.DocumentPanel",
"com.coremedia.cms.editor.sdk.premular.ReadOnlyDocumentFormToolbarDispatcher","com.coremedia.cms.editor.sdk.premular.SwitchDifferencingButton","com.coremedia.cms.editor.sdk.preview.PreviewContextMenu","com.coremedia.cms.editor.sdk.preview.PreviewPanel","com.coremedia.cms.editor.sdk.util.UIBehaviour"]}});Ext.define("com.coremedia.cms.editor.sdk.premular.VersionHistory",function(VersionHistory){function FIND_TOOLBAR$static_(){VersionHistory.FIND_TOOLBAR=function(versionHistory){return AS3.cast(Ext.toolbar.Toolbar,versionHistory.getComponent("versionHistoryToolbar"))}}function FIND_CONTEXT_MENU$static_(){VersionHistory.FIND_CONTEXT_MENU=function(versionHistory){return com.coremedia.ui.plugins.ContextMenuPlugin.findMenu(AS3.cast(Ext.container.Container,versionHistory.queryById("versionHistory")))}}function VersionHistory$(config){if(arguments.length<=
0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.VersionHistoryBase,{});var defaults_$1=AS3.cast(VersionHistory,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.Editor","MetaDataPanel_history_text"));config_$1.itemId=net.jangaroo.ext.Exml.asString(VersionHistory.ITEM_ID_VERSION_HISTORY);var editor_PropertyFieldPlugin_65_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin,
{});AS3.setBindable(editor_PropertyFieldPlugin_65_5_$1,"propertyName",net.jangaroo.ext.Exml.asString(VersionHistory.xtype));config_$1.plugins=[editor_PropertyFieldPlugin_65_5_$1];config_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var ui_SwitchingContainer_69_5_$1=AS3.cast(com.coremedia.ui.components.SwitchingContainer,{});ui_SwitchingContainer_69_5_$1.itemId="switchingContainer";AS3.setBindable(ui_SwitchingContainer_69_5_$1,"activeItemValueExpression",this.getActiveHistoryContainerExpression());
var container_72_9_$1=AS3.cast(Ext.container.Container,{});container_72_9_$1.itemId=net.jangaroo.ext.Exml.asString(VersionHistory.VERSIONS_CONTAINER_ITEM_ID);var toolbar_74_13_$1=AS3.cast(Ext.toolbar.Toolbar,{});toolbar_74_13_$1.itemId="versionHistoryToolbar";toolbar_74_13_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.FIELD.getSkin());var ui_IconButton_77_17_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_77_17_$1.itemId=net.jangaroo.ext.Exml.asString(VersionHistory.OPEN_VERSION_COMPARISON_ITEM_ID);
var editor_OpenVersionComparisonAction_79_21_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenVersionComparisonAction,{});AS3.setBindable(editor_OpenVersionComparisonAction_79_21_$1,"versionValueExpression",this.selectedSingleValueExpression);ui_IconButton_77_17_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.OpenVersionComparisonAction(editor_OpenVersionComparisonAction_79_21_$1);var ui_IconButton_82_17_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_82_17_$1.itemId=
net.jangaroo.ext.Exml.asString(VersionHistory.RESTORE_VERSION_ITEM_ID);var editor_RestoreVersionAction_84_21_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.RestoreVersionAction,{});AS3.setBindable(editor_RestoreVersionAction_84_21_$1,"valueExpression",AS3.getBindable(config,"bindTo"));AS3.setBindable(editor_RestoreVersionAction_84_21_$1,"versionValueExpression",this.selectedSingleValueExpression);AS3.setBindable(editor_RestoreVersionAction_84_21_$1,"forceReadOnlyVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.DocumentTabPanel.FORCE_READ_ONLY_VARIABLE_NAME));
ui_IconButton_82_17_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.RestoreVersionAction(editor_RestoreVersionAction_84_21_$1);toolbar_74_13_$1.items=[ui_IconButton_77_17_$1,ui_IconButton_82_17_$1];var gridPanel_91_13_$1=AS3.cast(Ext.grid.Panel,{});gridPanel_91_13_$1.itemId="versionHistory";AS3.setBindable(gridPanel_91_13_$1,"maxHeight",200);AS3.setBindable(gridPanel_91_13_$1,"scrollable",true);gridPanel_91_13_$1.sortableColumns=false;var ui_StatefulTableView_96_17_$1=AS3.cast(com.coremedia.ui.components.StatefulTableView,
{});ui_StatefulTableView_96_17_$1.stripeRows=false;var editor_BindReadOnlyPlugin_98_21_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPlugin,{});editor_BindReadOnlyPlugin_98_21_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(editor_BindReadOnlyPlugin_98_21_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));ui_StatefulTableView_96_17_$1.plugins=[editor_BindReadOnlyPlugin_98_21_$1];gridPanel_91_13_$1["viewConfig"]=ui_StatefulTableView_96_17_$1;
var ui_BEMPlugin_104_17_$1=AS3.cast(com.coremedia.ui.plugins.BEMPlugin,{});AS3.setBindable(ui_BEMPlugin_104_17_$1,"block",com.coremedia.ui.bem.LinkListBEMEntities.BLOCK);AS3.setBindable(ui_BEMPlugin_104_17_$1,"bodyElement",com.coremedia.ui.bem.LinkListBEMEntities.ELEMENT_LIST);AS3.setBindable(ui_BEMPlugin_104_17_$1,"modifier",com.coremedia.ui.bem.LinkListBEMEntities.MODIFIER_WITH_HEADER);var ui_BindListPlugin_107_17_$1=AS3.cast(com.coremedia.ui.plugins.BindListPlugin,{});AS3.setBindable(ui_BindListPlugin_107_17_$1,
"bindTo",AS3.getBindable(config,"bindTo").extendBy("versionHistory.items"));AS3.setBindable(ui_BindListPlugin_107_17_$1,"transformer",function(array){return array.concat().reverse()});AS3.setBindable(ui_BindListPlugin_107_17_$1,"lazy",true);AS3.setBindable(ui_BindListPlugin_107_17_$1,"initialViewLimit",10);AS3.setBindable(ui_BindListPlugin_107_17_$1,"viewLimitIncrement",10);var ui_DataField_113_21_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_113_21_$1.name="latestApprovedVersion";
var ui_DataField_114_21_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_114_21_$1.name="latestPublishedVersion";var ui_DataField_115_21_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_115_21_$1.name="latestVersion";var ui_DataField_116_21_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_116_21_$1.name="editionDate";var ui_DataField_117_21_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_117_21_$1.name="editor";ui_DataField_117_21_$1.mapping="editor.name";
var ui_DataField_119_21_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_119_21_$1.name="versionNumber";var ui_DataField_120_21_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_120_21_$1.name="publisher";var ui_DataField_121_21_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_121_21_$1.name="lifecycleStatusDescription";ui_DataField_121_21_$1.mapping="lifecycleStatus";ui_DataField_121_21_$1.convert=AS3.bind(this,"lifecycleStatusDescription");var ui_DataField_124_21_$1=
AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_124_21_$1.name="status";ui_DataField_124_21_$1.mapping="lifecycleStatus";ui_DataField_124_21_$1.convert=AS3.bind(this,"lifecycleStatus");AS3.setBindable(ui_BindListPlugin_107_17_$1,"fields",[ui_DataField_113_21_$1,ui_DataField_114_21_$1,ui_DataField_115_21_$1,ui_DataField_116_21_$1,ui_DataField_117_21_$1,ui_DataField_119_21_$1,ui_DataField_120_21_$1,ui_DataField_121_21_$1,ui_DataField_124_21_$1]);var ui_ContextMenuPlugin_129_17_$1=AS3.cast(com.coremedia.ui.plugins.ContextMenuPlugin,
{});var menu_131_21_$1=AS3.cast(Ext.menu.Menu,{});menu_131_21_$1.plain=true;var menuItem_133_25_$1=AS3.cast(Ext.menu.Item,{});menuItem_133_25_$1.itemId=net.jangaroo.ext.Exml.asString(VersionHistory.OPEN_VERSION_COMPARISON_ITEM_ID);var editor_OpenVersionComparisonAction_135_29_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenVersionComparisonAction,{});AS3.setBindable(editor_OpenVersionComparisonAction_135_29_$1,"versionValueExpression",this.selectedSingleValueExpression);menuItem_133_25_$1.baseAction=
new com.coremedia.cms.editor.sdk.actions.OpenVersionComparisonAction(editor_OpenVersionComparisonAction_135_29_$1);var menuItem_139_25_$1=AS3.cast(Ext.menu.Item,{});menuItem_139_25_$1.itemId=net.jangaroo.ext.Exml.asString(VersionHistory.RESTORE_VERSION_ITEM_ID);var editor_RestoreVersionAction_141_29_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.RestoreVersionAction,{});AS3.setBindable(editor_RestoreVersionAction_141_29_$1,"valueExpression",AS3.getBindable(config,"bindTo"));AS3.setBindable(editor_RestoreVersionAction_141_29_$1,
"versionValueExpression",this.selectedSingleValueExpression);AS3.setBindable(editor_RestoreVersionAction_141_29_$1,"forceReadOnlyVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.premular.DocumentTabPanel.FORCE_READ_ONLY_VARIABLE_NAME));menuItem_139_25_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.RestoreVersionAction(editor_RestoreVersionAction_141_29_$1);menu_131_21_$1.items=[menuItem_133_25_$1,menuItem_139_25_$1];AS3.setBindable(ui_ContextMenuPlugin_129_17_$1,"contextMenu",
menu_131_21_$1);var ui_BindSelectionPlugin_150_17_$1=AS3.cast(com.coremedia.ui.plugins.BindSelectionPlugin,{});AS3.setBindable(ui_BindSelectionPlugin_150_17_$1,"selectedValues",this.selectedValuesExpression);gridPanel_91_13_$1.plugins=[ui_BEMPlugin_104_17_$1,ui_BindListPlugin_107_17_$1,ui_ContextMenuPlugin_129_17_$1,ui_BindSelectionPlugin_150_17_$1];var dateColumn_153_17_$1=AS3.cast(Ext.grid.column.Date,{});dateColumn_153_17_$1.dataIndex="editionDate";dateColumn_153_17_$1.sortable=false;dateColumn_153_17_$1.menuDisabled=
true;dateColumn_153_17_$1.header=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","MetaDataPanel_history_date_text"));dateColumn_153_17_$1.format=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","dateFormat"));dateColumn_153_17_$1.flex=.23;var gridColumn_159_17_$1=AS3.cast(Ext.grid.column.Column,{});gridColumn_159_17_$1.dataIndex="editor";gridColumn_159_17_$1.sortable=false;gridColumn_159_17_$1.menuDisabled=
true;gridColumn_159_17_$1.header=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","MetaDataPanel_history_editor_text"));gridColumn_159_17_$1.flex=.27;var numberColumn_164_17_$1=AS3.cast(Ext.grid.column.Number,{});numberColumn_164_17_$1.dataIndex="versionNumber";numberColumn_164_17_$1.format="0";numberColumn_164_17_$1.sortable=false;numberColumn_164_17_$1.menuDisabled=true;AS3.setBindable(numberColumn_164_17_$1,"align","center");numberColumn_164_17_$1.header=
net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","MetaDataPanel_history_version_text"));numberColumn_164_17_$1.flex=.125;var gridColumn_170_17_$1=AS3.cast(Ext.grid.column.Column,{});gridColumn_170_17_$1.dataIndex="lifecycleStatusDescription";gridColumn_170_17_$1.header=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","MetaDataPanel_history_state_text"));gridColumn_170_17_$1.sortable=false;gridColumn_170_17_$1.menuDisabled=
false;gridColumn_170_17_$1.flex=.25;var editor_StatusColumn_176_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.columns.grid.StatusColumn,{});editor_StatusColumn_176_17_$1.header="\x26nbsp;";AS3.setBindable(editor_StatusColumn_176_17_$1,"align","center");editor_StatusColumn_176_17_$1.sortable=false;editor_StatusColumn_176_17_$1.menuDisabled=true;gridPanel_91_13_$1.columns=[dateColumn_153_17_$1,gridColumn_159_17_$1,numberColumn_164_17_$1,gridColumn_170_17_$1,editor_StatusColumn_176_17_$1];var selection_RowModel_182_17_$1=
AS3.cast(Ext.selection.RowModel,{});selection_RowModel_182_17_$1.mode="SINGLE";gridPanel_91_13_$1.selModel=new Ext.selection.RowModel(selection_RowModel_182_17_$1);container_72_9_$1.items=[toolbar_74_13_$1,gridPanel_91_13_$1];var displayField_187_9_$1=AS3.cast(Ext.form.field.Display,{});displayField_187_9_$1.itemId=net.jangaroo.ext.Exml.asString(VersionHistory.EMPTY_VERSIONS_CONTAINER_ITEM_ID);AS3.setBindable(displayField_187_9_$1,"value",this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"MetaDataPanel_history_emptyText"));ui_SwitchingContainer_69_5_$1.items=[container_72_9_$1,displayField_187_9_$1];config_$1.items=[ui_SwitchingContainer_69_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$bmi_(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.premular.VersionHistoryBase",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.versionHistory",constructor:VersionHistory$,super$bmi_:function(){com.coremedia.cms.editor.sdk.premular.VersionHistoryBase.prototype.constructor.apply(this,
arguments)},statics:{ITEM_ID_VERSION_HISTORY:"cmVersionHistory",FIND_TOOLBAR:undefined,FIND_CONTEXT_MENU:undefined,OPEN_VERSION_COMPARISON_ITEM_ID:"openVersionComparison",RESTORE_VERSION_ITEM_ID:"restoreVersion",VERSIONS_CONTAINER_ITEM_ID:"versionsContainer",EMPTY_VERSIONS_CONTAINER_ITEM_ID:"emptyVersionsContainer",__initStatics__:function(){FIND_TOOLBAR$static_();FIND_CONTEXT_MENU$static_()}},requires:["Ext.container.Container","Ext.form.field.Display","Ext.grid.Panel","Ext.grid.column.Column","Ext.grid.column.Date",
"Ext.grid.column.Number","Ext.menu.Item","Ext.menu.Menu","Ext.selection.RowModel","Ext.toolbar.Toolbar","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.premular.VersionHistoryBase","com.coremedia.ui.bem.LinkListBEMEntities","com.coremedia.ui.components.IconButton","com.coremedia.ui.components.StatefulTableView","com.coremedia.ui.components.SwitchingContainer","com.coremedia.ui.plugins.BEMPlugin","com.coremedia.ui.plugins.BindListPlugin","com.coremedia.ui.plugins.BindSelectionPlugin",
"com.coremedia.ui.plugins.ContextMenuPlugin","com.coremedia.ui.skins.ToolbarSkin","com.coremedia.ui.store.DataField","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.actions.OpenVersionComparisonAction","com.coremedia.cms.editor.sdk.actions.RestoreVersionAction","com.coremedia.cms.editor.sdk.columns.grid.StatusColumn","com.coremedia.cms.editor.sdk.premular.DocumentTabPanel","com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPlugin"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.tree.CompoundTreeModel",function(CompoundTreeModel){var ROOT_ID$static="compoundTreeRoot";var ROOT$static;function ROOT$static_(){ROOT$static=ROOT_ID$static}function delegates_(){this.delegates$kqyX=[]}function treeFilters_(){this.treeFilters$kqyX=[]}function CompoundTreeModel$(){delegates_.call(this);treeFilters_.call(this)}function getTreeModelForId(id){for(var i=0;i<this.delegates$kqyX.length;i++){var treeModel=this.delegates$kqyX[i];if(treeModel.getTreeId()===
id)return treeModel}return null}function getTreeModelForModel(model){var nodeId=this.getNodeId(model);return this.getTreeModel(nodeId)}function addTreeModel(treeModel){this.delegates$kqyX=[treeModel].concat(this.delegates$kqyX)}function addTreeFilter(treeFilter){this.treeFilters$kqyX.push(treeFilter)}function isEditable(model){var nodeId=this.getNodeId(model);var treeModel=this.getTreeModel(nodeId);return treeModel.isEditable(model)}function isRootVisible(){return false}function rename(model,newName,
oldName,callback){var nodeId=this.getNodeId(model);var treeModel=this.getTreeModel(nodeId);treeModel.rename(model,newName,oldName,callback)}function getRootId(){return ROOT_ID$static}function getText(nodeId){if(nodeId===ROOT_ID$static)return ROOT_ID$static;var treeModel=this.getTreeModel(nodeId);return treeModel.getText(nodeId)}function getIconCls(nodeId){var treeModel=this.getTreeModel(nodeId);return treeModel.getIconCls(nodeId)}function getTextCls(nodeId){var treeModel=this.getTreeModel(nodeId);
return treeModel.getTextCls(nodeId)}function getChildren(nodeId){if(nodeId===ROOT_ID$static)return this.getRootNodeState$kqyX();var treeModel=this.getTreeModel(nodeId);if(!treeModel)return undefined;var children=treeModel.getChildren(nodeId);if(children===undefined)return undefined;if(children)return this.filter$kqyX(children);return children}function getIdPathFromModel(model){for(var i=0;i<this.delegates$kqyX.length;i++){var treeModel=this.delegates$kqyX[i];var path=treeModel.getIdPathFromModel(model);
if(path===undefined)return path;if(path!==null){if(!treeModel.isRootVisible())path.shift();return[ROOT$static].concat(path)}}return null}function getIdPath(nodeId){return this.getIdPathFromModel(this.getNodeModel(nodeId))}function getNodeId(model){if(model===ROOT$static)return ROOT_ID$static;var treeModels=this.getTreeModels$kqyX();for(var i=0;i<treeModels.length;i++){var treeModel=treeModels[i];var nodeId=treeModel.getNodeId(model);if(nodeId)return nodeId}return null}function getNodeModel(nodeId){if(nodeId===
ROOT_ID$static)return ROOT$static;for(var i=0;i<this.delegates$kqyX.length;i++){var treeModel=this.delegates$kqyX[i];var model=treeModel.getNodeModel(nodeId);if(model)return model}return null}function getTreeModels(){return this.delegates$kqyX}function getTreeModel(nodeId){if(nodeId===ROOT_ID$static)return this;for(var i=0;i<this.delegates$kqyX.length;i++){var treeModel=this.delegates$kqyX[i];var model=treeModel.getNodeModel(nodeId);if(model===undefined)return undefined;if(model)return treeModel}return null}
function filterTreeChildren(children,nodeChildren){var filtered=[];for(var i=0;i<children.length;i++){var doRemove=this.filterChild$kqyX(this.treeFilters$kqyX,children[i]);if(doRemove===undefined)return undefined;if(!doRemove)filtered.push(children[i]);else if(nodeChildren){var id=this.getNodeId(children[i]);nodeChildren.removeNode(id)}}return filtered}function filterChild(filter,child){var id=this.getNodeId(child);var treeModel=null;if(id)treeModel=this.getTreeModel(id);for(var i=0;i<filter.length;i++){var doRemove=
filter[i].filter(treeModel,child);if(doRemove===undefined)return undefined;if(doRemove)return true}return false}function filter(children){var childrenToFilter=[];for(var i=0;i<children.getChildIds().length;i++){var id=children.getChildIds()[i];var model=this.getNodeModel(id);childrenToFilter.push(model)}var filteredChildren=this.filterTreeChildren(childrenToFilter,children);if(!filteredChildren)return undefined;return children}function getRootNodeState(){var childIds=[];var textsByChildId={};var iconsByChildId=
{};var classByChildId={};var treeModels=this.getTreeModels$kqyX().concat([]).reverse();var rootIndex=0;for(var i=0;i<treeModels.length;i++){var treeModel=treeModels[i];if(!treeModel.isEnabled())continue;var subTreeId=treeModel.getRootId();if(subTreeId)if(treeModel.isRootVisible()){childIds.push(subTreeId);textsByChildId[childIds[rootIndex]]=treeModel.getText(subTreeId);iconsByChildId[childIds[rootIndex]]=treeModel.getIconCls(subTreeId);classByChildId[childIds[rootIndex]]=treeModel.getTextCls(subTreeId);
rootIndex++}else{var subChildren=treeModel.getChildren(subTreeId);if(subChildren===undefined)return undefined;Ext.each(subChildren.getChildIds(),function(subChildId){childIds.push(subChildId);textsByChildId[childIds[rootIndex]]=treeModel.getText(subChildId);iconsByChildId[childIds[rootIndex]]=treeModel.getIconCls(subChildId);classByChildId[childIds[rootIndex]]=treeModel.getTextCls(subChildId);rootIndex++})}}return new com.coremedia.ui.models.NodeChildren(childIds,textsByChildId,iconsByChildId,classByChildId)}
return{mixins:["com.coremedia.ui.models.TreeModel"],constructor:CompoundTreeModel$,getTreeModelForId:getTreeModelForId,getTreeModelForModel:getTreeModelForModel,addTreeModel:addTreeModel,addTreeFilter:addTreeFilter,isEditable:isEditable,isRootVisible:isRootVisible,rename:rename,getRootId:getRootId,getText:getText,getIconCls:getIconCls,getTextCls:getTextCls,getChildren:getChildren,getIdPathFromModel:getIdPathFromModel,getIdPath:getIdPath,getNodeId:getNodeId,getNodeModel:getNodeModel,getTreeModels$kqyX:getTreeModels,
getTreeModel:getTreeModel,filterTreeChildren:filterTreeChildren,filterChild$kqyX:filterChild,filter$kqyX:filter,getRootNodeState$kqyX:getRootNodeState,statics:{ROOT:undefined,__initStatics__:function(){ROOT$static_()}},requires:["Ext","com.coremedia.ui.models.NodeChildren","com.coremedia.ui.models.TreeModel"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.tree.ContentTreeModel",function(ContentTreeModel){function ContentTreeModel$(){}function setEnabled(enabled){this.enabled$Znyn=enabled}function isEnabled(){return this.enabled$Znyn}function rename(model,newName,oldName,callback){com.coremedia.cms.editor.sdk.editorContext.getCollectionViewExtender().findExtension(model,function(extension){extension&&extension.getContentTreeRelation().rename(AS3.as(model,com.coremedia.cap.content.Content),newName,
callback)})}function isEditable(model){return true}function getRootId(){throw new AS3.Error("must be implemented by subclass");}function isRootVisible(){return true}function getChildren(nodeId){return this.getContentNodeState(nodeId)}function getNodeId(model){var content=AS3.as(model,com.coremedia.cap.content.Content);return content&&content.getUriPath()}function getNodeModel(nodeId){return AS3.as(com.coremedia.ui.data.beanFactory.getRemoteBean(nodeId),com.coremedia.cap.content.Content)}function getVisibleRootModels(){return[this.getRoot$Znyn()]}
function getRoot(){return this.getNodeModel(this.getRootId())}function getParent$static(content){var extension=com.coremedia.cms.editor.sdk.editorContext.getCollectionViewExtender().getExtension(content);if(extension===undefined)return undefined;return extension&&extension.getContentTreeRelation().getParent(content)}function getIconCls(nodeId){var nodeModel=AS3.as(this.getNodeModel(nodeId),com.coremedia.cap.content.Content);if(nodeModel)if(nodeModel.isDocument())return"content-type-xs "+com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.getIconStyleClassForContentType(nodeModel.getType());
return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","CollectionView_folder_icon")}function getText(nodeId){var model=this.getNodeModel(nodeId);if(model===undefined)return undefined;return AS3.as(model,com.coremedia.cap.content.Content).getName()}function getChildModels$static(content){var extension=com.coremedia.cms.editor.sdk.editorContext.getCollectionViewExtender().getExtension(content);if(extension===undefined)return undefined;if(!extension)return[];return extension.getContentTreeRelation().getSubFolders(content)}
function getIdPath(nodeId){return this.getIdPathFromModel(this.getNodeModel(nodeId))}function getIdPathFromModel(model){var content=AS3.as(model,com.coremedia.cap.content.Content);if(!content)return null;if(!content.isLoaded()){content.load();return undefined}switch(content.isDeleted()){case undefined:return undefined;case true:return null}var extension=com.coremedia.cms.editor.sdk.editorContext.getCollectionViewExtender().getExtension(content);if(extension===undefined)return undefined;if(!extension)return null;
var contentTreeRelation=extension.getContentTreeRelation();if(!contentTreeRelation.isFolderNode(content))content=contentTreeRelation.getParent(content);var path=[];var visibleRoots=this.getVisibleRootModels();while(content){if(content.isDeleted())return null;path.push(this.getNodeId(content));if(visibleRoots.indexOf(content)!==-1)break;content=ContentTreeModel.getParent(content);if(content===undefined)return undefined;if(!content)return null}return path.reverse()}function isUndefined$static(value){return value===
undefined}function getContentNodeState(nodeId){var content=AS3.as(this.getNodeModel(nodeId),com.coremedia.cap.content.Content);var subFolders=ContentTreeModel.getChildModels(content);if(!subFolders)return undefined;var accessControl=com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getAccessControl();var readableSubFolders=accessControl.filterReadableContents(subFolders);if(!readableSubFolders)return undefined;var childrenByText=content.getChildrenByName();if(!childrenByText)return undefined;
var textsByChildId=this.computeTextByChildId(childrenByText);var filteredChildIds=[];var filteredTextsByChildId={};var filteredIconsByChildId={};var filteredClassByChildId={};var baseHomeFolder=this.getBaseHomeFolder();var rootModels=this.getVisibleRootModels();for(var i=0;i<readableSubFolders.length;i++)if(rootModels.indexOf(readableSubFolders[i])===-1&&readableSubFolders[i]!==baseHomeFolder){var childId=this.getNodeId(readableSubFolders[i]);filteredChildIds.push(childId);var childText=this.getText(childId);
if(childText===undefined)return undefined;filteredTextsByChildId[childId]=textsByChildId[childId]||childText;filteredIconsByChildId[childId]=this.getIconCls(childId);filteredClassByChildId[childId]=this.getTextCls(nodeId)}return new com.coremedia.ui.models.NodeChildren(filteredChildIds,filteredTextsByChildId,filteredIconsByChildId,filteredClassByChildId)}function getBaseHomeFolder(){return com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getBaseHomeFolder()}function computeTextByChildId(childrenByText){var textByChildId=
{};for(var childText in childrenByText){var child=AS3.as(childrenByText[childText],com.coremedia.cap.content.Content);if(child){var nodeId=this.getNodeId(child);textByChildId[nodeId]=childText}}return textByChildId}function getTextCls(nodeId){var nodeModel=this.getNodeModel(nodeId);if(nodeModel===undefined)return undefined;var content=AS3.as(nodeModel,com.coremedia.cap.content.Content);return com.coremedia.cms.editor.sdk.util.AccessControlUtil.calculateCSSClasses(content)}function getSiteRootFolder$static(){var site=
com.coremedia.cms.editor.sdk.editorContext.getSitesService().getPreferredSite();if(!site)return site===null?null:undefined;if(site.getName()===undefined||site.getLocale()===undefined||site.getLocale().getDisplayName()===undefined)return undefined;return site.getSiteRootFolder()}function getTreeId(){return com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants.TREE_MODEL_ID}return{mixins:["com.coremedia.cms.editor.sdk.collectionview.tree.CompoundChildTreeModel"],enabled$Znyn:true,constructor:ContentTreeModel$,
setEnabled:setEnabled,isEnabled:isEnabled,rename:rename,isEditable:isEditable,getRootId:getRootId,isRootVisible:isRootVisible,getChildren:getChildren,getNodeId:getNodeId,getNodeModel:getNodeModel,getVisibleRootModels:getVisibleRootModels,getRoot$Znyn:getRoot,getIconCls:getIconCls,getText:getText,getIdPath:getIdPath,getIdPathFromModel:getIdPathFromModel,getContentNodeState:getContentNodeState,getBaseHomeFolder:getBaseHomeFolder,computeTextByChildId:computeTextByChildId,getTextCls:getTextCls,getTreeId:getTreeId,
statics:{getParent:getParent$static,getChildModels:getChildModels$static,isUndefined:isUndefined$static,getSiteRootFolder:getSiteRootFolder$static},requires:["AS3.Error","com.coremedia.cap.common.SESSION","com.coremedia.cap.content.Content","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.collectionview.tree.CompoundChildTreeModel","com.coremedia.ui.data.beanFactory","com.coremedia.ui.models.NodeChildren","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants",
"com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.util.AccessControlUtil","com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.tree.OpenInTreeAction",function(OpenInTreeAction){function OpenInTreeAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.tree.OpenInTreeActionBase,{});var defaults_$1=AS3.cast(OpenInTreeAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$9XjY(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.collectionview.tree.OpenInTreeActionBase",
constructor:OpenInTreeAction$,super$9XjY:function(){com.coremedia.cms.editor.sdk.collectionview.tree.OpenInTreeActionBase.prototype.constructor.apply(this,arguments)},config:{selectedItemsValueExpression:null,selectedFolderValueExpression:null},requires:["com.coremedia.cms.editor.sdk.collectionview.tree.OpenInTreeActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.tree.LibraryDragDropTreeModel",function(LibraryDragDropTreeModel){function LibraryDragDropTreeModel$(){}function performDefaultAction(droppedNodeIds,targetNodeId,callback){var dragDropModel=this.getDragDropModel$8tei(targetNodeId);if(dragDropModel)dragDropModel.performDefaultAction(droppedNodeIds,targetNodeId,callback)}function performAlternativeAction(droppedNodeIds,targetNodeId,callback){var dragDropModel=this.getDragDropModel$8tei(targetNodeId);
if(dragDropModel)dragDropModel.performAlternativeAction(droppedNodeIds,targetNodeId,callback)}function allowDefaultAction(source,nodeIds,targetNodeId){var dragDropModel=this.getDragDropModel$8tei(targetNodeId);if(dragDropModel)return dragDropModel.allowDefaultAction(source,nodeIds,targetNodeId);return false}function allowAlternativeAction(source,nodeIds,targetNodeId){var dragDropModel=this.getDragDropModel$8tei(targetNodeId);if(dragDropModel)return dragDropModel.allowAlternativeAction(source,nodeIds,
targetNodeId);return false}function getModelItemId(){return undefined}function getDragDropModel(nodeId){return AS3.as(com.coremedia.cms.editor.sdk.editorContext.getCollectionViewManager(),com.coremedia.cms.editor.sdk.collectionview.CollectionViewManagerImpl).getDragDropModel(nodeId)}function toString(){return"LibraryDragDropTreeModel"}return{mixins:["com.coremedia.ui.models.DragDropModel"],constructor:LibraryDragDropTreeModel$,performDefaultAction:performDefaultAction,performAlternativeAction:performAlternativeAction,
allowDefaultAction:allowDefaultAction,allowAlternativeAction:allowAlternativeAction,getModelItemId:getModelItemId,getDragDropModel$8tei:getDragDropModel,toString:toString,requires:["com.coremedia.ui.models.DragDropModel"],uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionViewManagerImpl","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.tree.CompoundChildTreeModel",function(CompoundChildTreeModel){return{mixins:["com.coremedia.ui.models.TreeModel"],requires:["com.coremedia.ui.models.TreeModel"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.tree.RepositoryTreeModel",function(RepositoryTreeModel){function REPOSITORY_ROOT_ID$static_(){RepositoryTreeModel.REPOSITORY_ROOT_ID=RepositoryTreeModel.ID_PREFIX+"root"}var REPOSITORY_ROOT_TEXT$static="CMS";function PREFERRED_SITE_LINK_NODE_ID_PREFIX$static_(){RepositoryTreeModel.PREFERRED_SITE_LINK_NODE_ID_PREFIX=RepositoryTreeModel.ID_PREFIX+"site-"}function extraRootModels_(){this.extraRootModels$ZOmY=[]}function iconClsById_(){this.iconClsById$ZOmY=
{}}function RepositoryTreeModel$(){this.super$ZOmY();extraRootModels_.call(this);iconClsById_.call(this);this.setIconCls(getUserHomeFolder$static(),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","CollectionView_userHomeFolder_icon"))}function getUserHomeFolder$static(){return com.coremedia.cap.common.SESSION.getUser().getHomeFolder()}function getRepositoryRootFolder$static(){return com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getRoot()}
function isEditable(model){var content=AS3.as(model,com.coremedia.cap.content.Content);return content&&AS3.cast(com.coremedia.cap.content.authorization.impl.AccessControlImpl,content.getRepository().getAccessControl()).isWritable(content)}function addExtraRootModel(content){this.extraRootModels$ZOmY.push(content)}function setIconCls(model,iconCls){this.iconClsById$ZOmY[this.getNodeId(model)]=iconCls}function getRootId(){return RepositoryTreeModel.REPOSITORY_ROOT_ID}function isRootVisible(){return false}
function isPreferredSiteLink$static(nodeId){return!!nodeId&&nodeId.indexOf(RepositoryTreeModel.PREFERRED_SITE_LINK_NODE_ID_PREFIX)===0}function getText(nodeId){if(nodeId===RepositoryTreeModel.REPOSITORY_ROOT_ID)return REPOSITORY_ROOT_TEXT$static;else if(isPreferredSiteLink$static(nodeId))nodeId=nodeId.substr(RepositoryTreeModel.PREFERRED_SITE_LINK_NODE_ID_PREFIX.length);else if(nodeId===this.getNodeId(getRepositoryRootFolder$static()))return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor",
"CollectionView_contentRootFolder_treenode_title");var content=AS3.as(this.getNodeModel(nodeId),com.coremedia.cap.content.Content);var site=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getPreferredSite();if(site&&site.getSiteRootFolder()===content)return[site.getName(),site.getLocale().getDisplayName()].join(" - ");return com.coremedia.cms.editor.sdk.collectionview.tree.ContentTreeModel.prototype.getText.call(this,nodeId)}function getContentNodeState(nodeId){if(isPreferredSiteLink$static(nodeId))return new com.coremedia.ui.models.NodeChildren([],
{},{});var content=AS3.as(this.getNodeModel(nodeId),com.coremedia.cap.content.Content);var subFolders=com.coremedia.cms.editor.sdk.collectionview.tree.ContentTreeModel.getChildModels(content);if(!subFolders)return undefined;var accessControl=com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getAccessControl();var readableSubFolders=accessControl.filterReadableContents(subFolders);if(!readableSubFolders)return undefined;var childrenByText=content.getChildrenByName();if(!childrenByText)return undefined;
var textsByChildId=this.computeTextByChildId(childrenByText);var filteredChildIds=[];var filteredTextsByChildId={};var filteredIconsByChildId={};var filteredClassByChildId={};var baseHomeFolder=this.getBaseHomeFolder();var preferredSite=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getPreferredSite();var preferredSiteRootFolder=preferredSite&&preferredSite.getSiteRootFolder();for(var i=0;i<readableSubFolders.length;i++)if(this.extraRootModels$ZOmY.indexOf(readableSubFolders[i])===-1&&
readableSubFolders[i]!==baseHomeFolder){var childId=readableSubFolders[i]===preferredSiteRootFolder?getPreferredSiteLinkNodeId$static(preferredSiteRootFolder):this.getNodeId(readableSubFolders[i]);filteredChildIds.push(childId);filteredTextsByChildId[childId]=textsByChildId[childId]||this.getText(childId);filteredIconsByChildId[childId]=this.getIconCls(childId);filteredClassByChildId[childId]=this.getTextCls(childId)}return new com.coremedia.ui.models.NodeChildren(filteredChildIds,filteredTextsByChildId,
filteredIconsByChildId,filteredClassByChildId)}function getTextCls(nodeId){if(isPreferredSiteLink$static(nodeId))nodeId=nodeId.substr(RepositoryTreeModel.PREFERRED_SITE_LINK_NODE_ID_PREFIX.length);var nodeModel=this.getNodeModel(nodeId);var content=AS3.as(nodeModel,com.coremedia.cap.content.Content);return com.coremedia.cms.editor.sdk.util.AccessControlUtil.calculateCSSClasses(content)}function getIconCls(nodeId){if(isPreferredSiteLink$static(nodeId))return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor",
"CollectionView_preferredSiteLink_icon");var nodeModel=AS3.as(this.getNodeModel(nodeId),com.coremedia.cap.content.Content);if(nodeModel&&nodeModel.isFolder()){var specialIconCls=this.iconClsById$ZOmY[nodeId];if(specialIconCls)return specialIconCls;var sitesService=com.coremedia.cms.editor.sdk.editorContext.getSitesService();var sites=sitesService.getSites();for(var $1=0;$1<sites.length;++$1){var site=sites[$1];if(site.getSiteRootFolder()===nodeModel)return com.coremedia.cms.editor.sdk.sites.ContentSiteUtil.getSiteIconCls(site)}}return com.coremedia.cms.editor.sdk.collectionview.tree.ContentTreeModel.prototype.getIconCls.call(this,
nodeId)}function getChildren(nodeId){if(nodeId===RepositoryTreeModel.REPOSITORY_ROOT_ID)return this.getRepositoryRootNodeState$ZOmY();return com.coremedia.cms.editor.sdk.collectionview.tree.ContentTreeModel.prototype.getChildren.call(this,nodeId)}function getRootNodeId(model){if(model==RepositoryTreeModel.REPOSITORY_ROOT_ID)return com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getRoot().getUriPath();var content=AS3.as(model,com.coremedia.cap.content.Content);if(content&&content.isFolder())return com.coremedia.cms.editor.sdk.collectionview.tree.ContentTreeModel.prototype.getNodeId.call(this,
model);return null}function getNodeModel(nodeId){if(isPreferredSiteLink$static(nodeId)){var siteUriPath=nodeId.substr(RepositoryTreeModel.PREFERRED_SITE_LINK_NODE_ID_PREFIX.length);return AS3.as(com.coremedia.ui.data.beanFactory.getRemoteBean(siteUriPath),com.coremedia.cap.content.Content)}if(nodeId===RepositoryTreeModel.REPOSITORY_ROOT_ID)return com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getRoot();var content=AS3.as(com.coremedia.cms.editor.sdk.collectionview.tree.ContentTreeModel.prototype.getNodeModel.call(this,
nodeId),com.coremedia.cap.content.Content);if(content&&content.isFolder())return content;return null}function getIdPathFromModel(model){var content=AS3.as(model,com.coremedia.cap.content.Content);if(!content)return null;switch(content.isDeleted()){case undefined:return undefined;case true:return null}if(content.isDocument()){content=content.getParent();if(content===undefined)return undefined}var path=com.coremedia.cms.editor.sdk.collectionview.tree.ContentTreeModel.prototype.getIdPathFromModel.call(this,
content);if(!path)return undefined;return[RepositoryTreeModel.REPOSITORY_ROOT_ID].concat(path)}function getRepositoryRootNodeState(){var rootModels=this.getVisibleRootModels();if(rootModels.some(com.coremedia.cms.editor.sdk.collectionview.tree.ContentTreeModel.isUndefined))return undefined;var childIds=[];var textsByChildId={};var iconsByChildId={};var classByChildId={};for(var $1=0;$1<rootModels.length;++$1){var rootModel=rootModels[$1];if(rootModel){var childId=this.getRootNodeId$ZOmY(rootModel);
childIds.push(childId);textsByChildId[childId]=this.getText(childId);iconsByChildId[childId]=this.getIconCls(childId);classByChildId[childId]=this.getTextCls(childId)}}return new com.coremedia.ui.models.NodeChildren(childIds,textsByChildId,iconsByChildId,classByChildId)}function getVisibleRootModels(){var result=[];result.push(getUserHomeFolder$static());var siteRootFolder=com.coremedia.cms.editor.sdk.collectionview.tree.ContentTreeModel.getSiteRootFolder();if(siteRootFolder)result.push(siteRootFolder);
result=result.concat(this.extraRootModels$ZOmY);result.push(getRepositoryRootFolder$static());return result}function getPreferredSiteLinkNodeId$static(siteRootFolder){return RepositoryTreeModel.PREFERRED_SITE_LINK_NODE_ID_PREFIX+siteRootFolder.getUriPath()}function toString(){return RepositoryTreeModel.ID_PREFIX}return{extend:"com.coremedia.cms.editor.sdk.collectionview.tree.ContentTreeModel",constructor:RepositoryTreeModel$,super$ZOmY:function(){com.coremedia.cms.editor.sdk.collectionview.tree.ContentTreeModel.prototype.constructor.apply(this,
arguments)},isEditable:isEditable,addExtraRootModel:addExtraRootModel,setIconCls:setIconCls,getRootId:getRootId,isRootVisible:isRootVisible,getText:getText,getContentNodeState:getContentNodeState,getTextCls:getTextCls,getIconCls:getIconCls,getChildren:getChildren,getRootNodeId$ZOmY:getRootNodeId,getNodeModel:getNodeModel,getIdPathFromModel:getIdPathFromModel,getRepositoryRootNodeState$ZOmY:getRepositoryRootNodeState,getVisibleRootModels:getVisibleRootModels,toString:toString,statics:{ID_PREFIX:"content/",
REPOSITORY_ROOT_ID:undefined,PREFERRED_SITE_LINK_NODE_ID_PREFIX:undefined,__initStatics__:function(){REPOSITORY_ROOT_ID$static_();PREFERRED_SITE_LINK_NODE_ID_PREFIX$static_()}},requires:["com.coremedia.cap.common.SESSION","com.coremedia.cap.content.Content","com.coremedia.cap.content.authorization.impl.AccessControlImpl","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.collectionview.tree.ContentTreeModel","com.coremedia.ui.data.beanFactory","com.coremedia.ui.models.NodeChildren",
"mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.sites.ContentSiteUtil","com.coremedia.cms.editor.sdk.util.AccessControlUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.tree.TreeViewContextMenu",function(TreeViewContextMenu){function __initialize__(config){this.selectedFolderValueExpression$hF9i=com.coremedia.ui.context.ComponentContextManager.getInstance().getContextExpression(this,com.coremedia.cms.editor.sdk.collectionview.CollectionView.SELECTED_FOLDER_VARIABLE_NAME)}function TreeViewContextMenu$(config){if(arguments.length<=0)config=null;this.__initialize__$hF9i(config);var config_$1=AS3.cast(Ext.menu.Menu,
{});var defaults_$1=AS3.cast(TreeViewContextMenu,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.plain=true;var ui_HideObsoleteSeparatorsPlugin_103_5_$1=AS3.cast(com.coremedia.ui.plugins.HideObsoleteSeparatorsPlugin,{});config_$1.plugins=[ui_HideObsoleteSeparatorsPlugin_103_5_$1];var menuItem_106_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_106_5_$1.itemId=net.jangaroo.ext.Exml.asString(TreeViewContextMenu.OPEN_IN_TAB_MENU_ITEM_ID);var editor_OpenEntitiesInTabsAction_108_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenEntitiesInTabsAction,
{});AS3.setBindable(editor_OpenEntitiesInTabsAction_108_9_$1,"entitiesVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.CollectionView.SELECTED_FOLDER_VARIABLE_NAME));menuItem_106_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.OpenEntitiesInTabsAction(editor_OpenEntitiesInTabsAction_108_9_$1);var menuSeparator_111_5_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_112_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_112_5_$1.itemId=net.jangaroo.ext.Exml.asString(TreeViewContextMenu.OPEN_SITE_HOMEPAGE_IN_TAB_MENU_ITEM_ID);
var editor_OpenSiteHomepageInTabAction_114_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.sites.OpenSiteHomepageInTabAction,{});AS3.setBindable(editor_OpenSiteHomepageInTabAction_114_9_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.CollectionView.SELECTED_FOLDER_VARIABLE_NAME));menuItem_112_5_$1.baseAction=new com.coremedia.cms.editor.sdk.sites.OpenSiteHomepageInTabAction(editor_OpenSiteHomepageInTabAction_114_9_$1);var menuSeparator_117_5_$1=AS3.cast(Ext.menu.Separator,
{});var menuItem_118_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_118_5_$1.itemId=net.jangaroo.ext.Exml.asString(TreeViewContextMenu.SHOW_HIDE_ITEMS);var editor_ShowHiddenItemsAction_120_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.navigationtree.actions.ShowHiddenItemsAction,{});AS3.setBindable(editor_ShowHiddenItemsAction_120_9_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.CollectionView.SELECTED_FOLDER_VARIABLE_NAME));menuItem_118_5_$1.baseAction=
new com.coremedia.cms.editor.sdk.navigationtree.actions.ShowHiddenItemsAction(editor_ShowHiddenItemsAction_120_9_$1);var menuSeparator_123_5_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_124_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_124_5_$1.itemId=net.jangaroo.ext.Exml.asString(TreeViewContextMenu.SET_PREFERRED_SITE_MENU_ITEM_ID);var editor_SetPreferredSiteContentAction_126_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.sites.SetPreferredSiteContentAction,{});AS3.setBindable(editor_SetPreferredSiteContentAction_126_9_$1,
"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.CollectionView.SELECTED_FOLDER_VARIABLE_NAME));menuItem_124_5_$1.baseAction=new com.coremedia.cms.editor.sdk.sites.SetPreferredSiteContentAction(editor_SetPreferredSiteContentAction_126_9_$1);var menuSeparator_129_5_$1=AS3.cast(Ext.menu.Separator,{});var editor_BookmarkMenuItem_130_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.bookmarks.BookmarkMenuItem,{});editor_BookmarkMenuItem_130_5_$1.itemId=net.jangaroo.ext.Exml.asString(TreeViewContextMenu.BOOKMARK_ITEM_ID);
AS3.setBindable(editor_BookmarkMenuItem_130_5_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.CollectionView.SELECTED_FOLDER_VARIABLE_NAME));var menuSeparator_132_5_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_133_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_133_5_$1.itemId=net.jangaroo.ext.Exml.asString(TreeViewContextMenu.CUT_TO_CLIPBOARD_ITEM_ID);var editor_CutToClipboardAction_135_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.clipboard.CutToClipboardAction,
{});AS3.setBindable(editor_CutToClipboardAction_135_9_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.CollectionView.SELECTED_FOLDER_VARIABLE_NAME));editor_CutToClipboardAction_135_9_$1["hideForContentProxy"]=true;menuItem_133_5_$1.baseAction=new com.coremedia.cms.editor.sdk.clipboard.CutToClipboardAction(editor_CutToClipboardAction_135_9_$1);var menuItem_139_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_139_5_$1.itemId=net.jangaroo.ext.Exml.asString(TreeViewContextMenu.COPY_TO_CLIPBOARD_ITEM_ID);
var editor_CopyToClipboardAction_141_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction,{});AS3.setBindable(editor_CopyToClipboardAction_141_9_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.CollectionView.SELECTED_FOLDER_VARIABLE_NAME));menuItem_139_5_$1.baseAction=new com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction(editor_CopyToClipboardAction_141_9_$1);var menuItem_144_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_144_5_$1.itemId=
net.jangaroo.ext.Exml.asString(TreeViewContextMenu.PASTE_FROM_CLIPBOARD_ITEM_ID);var editor_PasteFromClipboardAction_146_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.clipboard.PasteFromClipboardAction,{});AS3.setBindable(editor_PasteFromClipboardAction_146_9_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.CollectionView.SELECTED_FOLDER_VARIABLE_NAME));editor_PasteFromClipboardAction_146_9_$1["hideForContentProxy"]=true;menuItem_144_5_$1.baseAction=
new com.coremedia.cms.editor.sdk.clipboard.PasteFromClipboardAction(editor_PasteFromClipboardAction_146_9_$1);var menuSeparator_150_5_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_151_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_151_5_$1.itemId=net.jangaroo.ext.Exml.asString(TreeViewContextMenu.RENAME_CONTENT_ITEM_MENU_ITEM_ID);var editor_RenameContentItemAction_153_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.RenameContentItemAction,{});AS3.setBindable(editor_RenameContentItemAction_153_9_$1,
"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.CollectionView.SELECTED_FOLDER_VARIABLE_NAME));editor_RenameContentItemAction_153_9_$1["hideForContentProxy"]=true;menuItem_151_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.RenameContentItemAction(editor_RenameContentItemAction_153_9_$1);var menuSeparator_157_5_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_158_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_158_5_$1.itemId=net.jangaroo.ext.Exml.asString(TreeViewContextMenu.APPROVE_MENU_ITEM_ID);
var editor_ApproveAction_160_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ApproveAction,{});AS3.setBindable(editor_ApproveAction_160_9_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.CollectionView.SELECTED_FOLDER_VARIABLE_NAME));menuItem_158_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.ApproveAction(editor_ApproveAction_160_9_$1);var menuItem_163_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_163_5_$1.itemId=net.jangaroo.ext.Exml.asString(TreeViewContextMenu.PUBLISH_MENU_ITEM_ID);
var editor_PublishAction_165_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.PublishAction,{});AS3.setBindable(editor_PublishAction_165_9_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.CollectionView.SELECTED_FOLDER_VARIABLE_NAME));menuItem_163_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.PublishAction(editor_PublishAction_165_9_$1);var menuSeparator_168_5_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_169_5_$1=AS3.cast(Ext.menu.Item,
{});menuItem_169_5_$1.itemId=net.jangaroo.ext.Exml.asString(TreeViewContextMenu.WITHDRAW_MENU_ITEM_ID);var editor_WithdrawAction_171_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.WithdrawAction,{});AS3.setBindable(editor_WithdrawAction_171_9_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.CollectionView.SELECTED_FOLDER_VARIABLE_NAME));menuItem_169_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.WithdrawAction(editor_WithdrawAction_171_9_$1);
var menuItem_174_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_174_5_$1.itemId=net.jangaroo.ext.Exml.asString(TreeViewContextMenu.DELETE_MENU_ITEM_ID);var editor_DeleteAction_176_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.DeleteAction,{});AS3.setBindable(editor_DeleteAction_176_9_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.CollectionView.SELECTED_FOLDER_VARIABLE_NAME));menuItem_174_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.DeleteAction(editor_DeleteAction_176_9_$1);
config_$1.items=[menuItem_106_5_$1,menuSeparator_111_5_$1,menuItem_112_5_$1,menuSeparator_117_5_$1,menuItem_118_5_$1,menuSeparator_123_5_$1,menuItem_124_5_$1,menuSeparator_129_5_$1,editor_BookmarkMenuItem_130_5_$1,menuSeparator_132_5_$1,menuItem_133_5_$1,menuItem_139_5_$1,menuItem_144_5_$1,menuSeparator_150_5_$1,menuItem_151_5_$1,menuSeparator_157_5_$1,menuItem_158_5_$1,menuItem_163_5_$1,menuSeparator_168_5_$1,menuItem_169_5_$1,menuItem_174_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$hF9i(config_$1)}
return{extend:"Ext.menu.Menu",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.treeViewContextMenu",selectedFolderValueExpression$hF9i:null,__initialize__$hF9i:__initialize__,constructor:TreeViewContextMenu$,super$hF9i:function(){Ext.menu.Menu.prototype.constructor.apply(this,arguments)},statics:{CUT_TO_CLIPBOARD_ITEM_ID:"cutToClipboard",COPY_TO_CLIPBOARD_ITEM_ID:"copyToClipboard",PASTE_FROM_CLIPBOARD_ITEM_ID:"pasteFromClipboard",OPEN_IN_TAB_MENU_ITEM_ID:"openInTab",RENAME_CONTENT_ITEM_MENU_ITEM_ID:"rename",
BOOKMARK_ITEM_ID:"bookmark",APPROVE_MENU_ITEM_ID:"approve",DISAPPROVE_MENU_ITEM_ID:"disapprove",PUBLISH_MENU_ITEM_ID:"publish",WITHDRAW_MENU_ITEM_ID:"withdraw",DELETE_MENU_ITEM_ID:"delete",OPEN_SITE_HOMEPAGE_IN_TAB_MENU_ITEM_ID:"openSiteHomepageInTab",SET_PREFERRED_SITE_MENU_ITEM_ID:"setPreferredSite",SHOW_HIDE_ITEMS:"showHideItems"},requires:["Ext.menu.Item","Ext.menu.Menu","Ext.menu.Separator","com.coremedia.ui.context.ComponentContextManager","com.coremedia.ui.plugins.HideObsoleteSeparatorsPlugin",
"net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.actions.ApproveAction","com.coremedia.cms.editor.sdk.actions.DeleteAction","com.coremedia.cms.editor.sdk.actions.OpenEntitiesInTabsAction","com.coremedia.cms.editor.sdk.actions.PublishAction","com.coremedia.cms.editor.sdk.actions.RenameContentItemAction","com.coremedia.cms.editor.sdk.actions.WithdrawAction","com.coremedia.cms.editor.sdk.bookmarks.BookmarkMenuItem","com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction","com.coremedia.cms.editor.sdk.clipboard.CutToClipboardAction",
"com.coremedia.cms.editor.sdk.clipboard.PasteFromClipboardAction","com.coremedia.cms.editor.sdk.collectionview.CollectionView","com.coremedia.cms.editor.sdk.navigationtree.actions.ShowHiddenItemsAction","com.coremedia.cms.editor.sdk.sites.OpenSiteHomepageInTabAction","com.coremedia.cms.editor.sdk.sites.SetPreferredSiteContentAction"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.tree.LibraryTreeBase",function(LibraryTreeBase){function LibraryTreeBase$(config){if(arguments.length<=0)config=null;config=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.tree.LibraryTree,Ext.apply({},config));this.super$Fz0B(config);this.mon(AS3.getBindable(config,"containerComponent"),"beforehide",AS3.bind(this,"completeEdit$Fz0B"));this.on("resize",storeWidth$static);this.on("beforeitemdblclick",AS3.bind(this,"beforeNodeDoubleClick"));
this.on("selectionchange",AS3.bind(this,"selectionChange$Fz0B"))}function afterRender(){Ext.tree.Panel.prototype.afterRender.call(this);var treeView=AS3.as(this.getView(),Ext.tree.View);if(treeView)treeView.getEl().dom["focus"]=Ext.emptyFn}function getDefaultSelection$static(){return com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getRoot()}function beforeNodeDoubleClick(view,node,item,index,event){var compoundTreeModel=getLibraryTreeModel$static();var model=compoundTreeModel.getNodeModel(node.getId());
var tab=com.coremedia.cms.editor.sdk.editorContext.getWorkAreaTabManager().findTabForEntity(model);if(tab){com.coremedia.cms.editor.sdk.editorContext.getWorkArea().setActiveTab(tab);return false}if(AS3.is(model,com.coremedia.cap.content.Content)){var content=AS3.as(model,com.coremedia.cap.content.Content);if(content.isDocument()){com.coremedia.cms.editor.sdk.editorContext.getContentTabManager().openDocument(content);return false}}return true}function getLibraryTreeModel$static(){return com.coremedia.cms.editor.sdk.editorContext.getCollectionViewManager()["getLibraryTreeModel"]()}
function getSelectedFolderExpression(){return com.coremedia.ui.context.ComponentContextManager.getInstance().getContextExpression(this,com.coremedia.cms.editor.sdk.collectionview.CollectionView.SELECTED_FOLDER_VARIABLE_NAME)}function selectionChange(){this.lastSelectionChange$Fz0B=new Date}function beforeNameEdit(editing,context){editing.cancelEdit();var node=context.record;var libraryTreeModel=getLibraryTreeModel$static();var model=libraryTreeModel.getNodeModel(node.getId());var startEdit=libraryTreeModel.isEditable(model)&&
this.getSelectionModel().isSelected(node)&&!!this.lastSelectionChange$Fz0B&&(new Date).getTime()-this.lastSelectionChange$Fz0B.getTime()>1E3;return startEdit}function validateNameEdit(editing,context){var node=context.record;var libraryTreeModel=getLibraryTreeModel$static();var model=libraryTreeModel.getNodeModel(node.getId());var newName=trimSpaces$static(context.value);var oldName=AS3.as(node.get("text"),String);if(newName!==oldName)libraryTreeModel.rename(model,newName,oldName,function renamed(flushResult){if(!flushResult||
!flushResult.successful)node.set("text",oldName);else node.set("text",newName)});return true}function completeEdit(){this.getStore().sync()}function trimSpaces$static(str){while(str.charCodeAt(0)===32)str=str.substring(1,str.length);while(str.charCodeAt(str.length-1)===32)str=str.substring(0,str.length-1);return str}function storeWidth$static(cmp,width){com.coremedia.ui.util.LocalStorageUtil.setItem(LibraryTreeBase.WIDTH_STORAGE_KEY,String(width))}function editContentName(content){var selectedRecord=
this.getSelection()[0];var selectionIndex=this.getStore().indexOf(selectedRecord);var row=this.getView().getRow(selectionIndex);var column=this.getColumns()[0];var cellContext=new Ext.grid.CellContext(this.getView());cellContext.setPosition(row,column);AS3.cast(Ext.grid.plugin.CellEditing,this["editingPlugin"]).startEditByPosition(cellContext)}function CELL_TPL$static_(){LibraryTreeBase.CELL_TPL=new Ext.XTemplate("{%","this.addAriaAttrs(values);","%}",'\x3ctd class\x3d"{tdCls}" {tdAttr} {cellAttr:attributes} {ariaAttrs:attributes} tabIndex\x3d"-1"',
' style\x3d"width:{column.cellWidth}px;\x3ctpl if\x3d"tdStyle"\x3e{tdStyle}\x3c/tpl\x3e"','\x3ctpl if\x3d"column.cellFocusable \x3d\x3d\x3d false"\x3e',' role\x3d"presentation"',"\x3ctpl else\x3e",' role\x3d"{cellRole}" tabindex\x3d"-1"',"\x3c/tpl\x3e",'  data-columnid\x3d"{[values.column.getItemId()]}"\x3e','\x3cdiv {unselectableAttr} class\x3d"'+Ext.baseCSSPrefix+'grid-cell-inner {innerCls}" ','style\x3d"text-align:{align};\x3ctpl if\x3d"style"\x3e{style}\x3c/tpl\x3e" ',"{cellInnerAttr:attributes}\x3e{value}\x3c/div\x3e",
"\x3c/td\x3e",{priority:0,addAriaAttrs:function(values){var record=values.record;values.ariaAttrs={};values.ariaAttrs["aria-level"]=record.getDepth();values.ariaAttrs["aria-expanded"]=record.isExpanded()}})}function dblClickPrecondition(){var selectedFolderExpression=this.getSelectedFolderExpression();var value=selectedFolderExpression.getValue();return!(value&&AS3.is(value,com.coremedia.cap.content.Content)&&AS3.as(value,com.coremedia.cap.content.Content).isFolder())}return{extend:"Ext.tree.Panel",
mixins:["com.coremedia.cms.editor.sdk.actions.CanEditContentName"],lastSelectionChange$Fz0B:null,constructor:LibraryTreeBase$,super$Fz0B:function(){Ext.tree.Panel.prototype.constructor.apply(this,arguments)},afterRender:afterRender,beforeNodeDoubleClick:beforeNodeDoubleClick,getSelectedFolderExpression:getSelectedFolderExpression,selectionChange$Fz0B:selectionChange,beforeNameEdit:beforeNameEdit,validateNameEdit:validateNameEdit,completeEdit$Fz0B:completeEdit,editContentName:editContentName,dblClickPrecondition:dblClickPrecondition,
statics:{WIDTH_STORAGE_KEY:"repositoryTree.width",getDefaultSelection:getDefaultSelection$static,CELL_TPL:undefined,__initStatics__:function(){CELL_TPL$static_()}},requires:["Ext","Ext.XTemplate","Ext.grid.CellContext","Ext.grid.plugin.CellEditing","Ext.tree.Panel","Ext.tree.View","com.coremedia.cap.common.SESSION","com.coremedia.cap.content.Content","com.coremedia.cms.editor.sdk.actions.CanEditContentName","com.coremedia.ui.context.ComponentContextManager","com.coremedia.ui.util.LocalStorageUtil"],
uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionView","com.coremedia.cms.editor.sdk.collectionview.tree.LibraryTree","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.tree.LibraryTreeViewDropZone",function(LibraryTreeViewDropZone){function LibraryTreeViewDropZone$(config){var this$=this;if(arguments.length<=0)config=null;AS3.setBindable(this,"ddGroups",AS3.getBindable(config,"ddGroups")||[]);if(!config.ddGroup&&AS3.getBindable(this,"ddGroups").length>0){config.ddGroup=AS3.getBindable(this,"ddGroups")[0];AS3.setBindable(this,"ddGroups",AS3.getBindable(this,"ddGroups").slice(1))}this.super$Hz0w(config);AS3.getBindable(this,
"ddGroups").forEach(function(ddGroup){this$.addToGroup(ddGroup)});AS3.setBindable(this,"tree",AS3.getBindable(config,"tree"));this.beanCollectionDropZoneHelper$Hz0w=new com.coremedia.ui.util.BeanCollectionDropZoneHelper(new com.coremedia.cms.editor.sdk.collectionview.tree.LibraryDragDropTreeModel)}function notifyEnter(source,evt,data){Ext.view.DropZone.prototype.notifyEnter.call(this,source,evt,data);return this.beanCollectionDropZoneHelper$Hz0w.notifyEnter(source,evt,data)}function notifyOut(source,
evt,data){Ext.view.DropZone.prototype.notifyOut.call(this,source,evt,data);this.beanCollectionDropZoneHelper$Hz0w.notifyOut(source,evt,data)}function onNodeOver(nodeData,source,e,data){Ext.view.DropZone.prototype.onNodeOver.call(this,nodeData,source,e,data);var targetNode=AS3.cast(HTMLElement,nodeData);var targetNodeId=AS3.getBindable(this,"tree").getStore().getAt(Number(targetNode.getAttribute("data-recordindex"))).getId();var node={node:{id:targetNodeId}};return this.beanCollectionDropZoneHelper$Hz0w.onNodeOver(node,
source,e,data)}function onNodeDrop(nodeData,source,e,data){var targetNode=AS3.cast(HTMLElement,nodeData);var targetNodeId=AS3.getBindable(this,"tree").getStore().getAt(Number(targetNode.getAttribute("data-recordindex"))).getId();var node={node:{id:targetNodeId}};AS3.getBindable(this,"tree").getView().focusNode(AS3.getBindable(this,"tree").getSelection()[0]);return this.beanCollectionDropZoneHelper$Hz0w.onNodeDrop(node,source,e,data)}return{extend:"Ext.view.DropZone",beanCollectionDropZoneHelper$Hz0w:null,
constructor:LibraryTreeViewDropZone$,super$Hz0w:function(){Ext.view.DropZone.prototype.constructor.apply(this,arguments)},notifyEnter:notifyEnter,notifyOut:notifyOut,onNodeOver:onNodeOver,onNodeDrop:onNodeDrop,config:{ddGroups:null,tree:null},requires:["Ext.view.DropZone","com.coremedia.ui.util.BeanCollectionDropZoneHelper"],uses:["com.coremedia.cms.editor.sdk.collectionview.tree.LibraryDragDropTreeModel"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.tree.RepositoryTreeDragDropModel",function(RepositoryTreeDragDropModel){function RepositoryTreeDragDropModel$(treeModel){this.treeModel=treeModel}function performDefaultAction(droppedNodeIds,targetNodeId,callback){var contents=this.getContents$hkwV(droppedNodeIds);if(contents){var targetFolder=AS3.as(this.treeModel.getNodeModel(targetNodeId),com.coremedia.cap.content.Content);(new com.coremedia.cms.editor.sdk.actions.MoveContentAction(contents,
targetFolder)).execute(callback)}}function performAlternativeAction(droppedNodeIds,targetNodeId,callback){var contents=this.getContents$hkwV(droppedNodeIds);if(contents){var targetFolder=AS3.as(this.treeModel.getNodeModel(targetNodeId),com.coremedia.cap.content.Content);var copiedContentValueExpression=com.coremedia.ui.data.ValueExpressionFactory.createFromValue([]);(new com.coremedia.cms.editor.sdk.actions.CopyContentAction(contents,AS3.as(targetFolder,com.coremedia.cap.content.Content))).execute(callback)}}
function allowDefaultAction(source,beanIds,targetId){var contents=this.getContents$hkwV(beanIds);if(contents&&this.isValidDragSource(source)){var targetFolder=getContent$static(targetId);if(targetFolder){var folderTreeRelation=this.getContentTreeRelation$hkwV(targetFolder);if(folderTreeRelation)return folderTreeRelation.mayMove(contents,targetFolder)}}return false}function allowAlternativeAction(source,beanIds,targetId){var contents=this.getContents$hkwV(beanIds);if(contents&&this.isValidDragSource(source)){var targetFolder=
getContent$static(targetId);var folderTreeRelation=this.getContentTreeRelation$hkwV(targetFolder);if(folderTreeRelation)return folderTreeRelation.mayCopy(contents,targetFolder)}return false}function getContentTreeRelation(content){var collectionViewExtender=com.coremedia.cms.editor.sdk.editorContext.getCollectionViewExtender();var collectionViewExtension=collectionViewExtender.getExtension(content);if(collectionViewExtension===undefined)return undefined;return collectionViewExtension&&collectionViewExtension.getContentTreeRelation()}
function getModelItemId(){return undefined}function getParent(target){var targetFolderRelation=this.getContentTreeRelation$hkwV(target);return targetFolderRelation&&targetFolderRelation.getParent(target)}function isValidDragSource(source){var dragData=source.dragData;var ids=com.coremedia.ui.util.BeanCollectionDropZoneHelper.extractNodeIds(dragData);if(ids.length>0){var cvManager=AS3.as(com.coremedia.cms.editor.sdk.editorContext.getCollectionViewManager(),com.coremedia.cms.editor.sdk.collectionview.CollectionViewManagerInternal);
var compoundTreeModel=cvManager.getLibraryTreeModel();var content=getContent$static(ids[0]);var idPath=compoundTreeModel.getIdPathFromModel(content);if(!idPath)return undefined;var sourceTreeModel=compoundTreeModel.getTreeModel(idPath[1]);return sourceTreeModel.getRootId()===this.treeModel.getRootId()}return true}function getContent$static(id){return AS3.as(com.coremedia.ui.data.beanFactory.getRemoteBean(id),com.coremedia.cap.content.Content)}function toSourceIds$static(toMove){var ids=[];for(var i=
0;i<toMove.length;i++){var remoteBean=AS3.as(toMove[i],com.coremedia.ui.data.RemoteBean);if(remoteBean){var id=com.coremedia.ui.util.BeanCollectionDropZoneHelper.extractNodeId(remoteBean);ids.push(id)}}return ids}function getContents(beanIds){var contents=[];for(var i=0;i<beanIds.length;i++){var content=getContent$static(beanIds[i]);if(content)contents.push(content);else return undefined}return contents}function toString(){return"DnD Model for the Repository"}return{mixins:["com.coremedia.ui.models.DragDropModel"],
treeModel:null,constructor:RepositoryTreeDragDropModel$,performDefaultAction:performDefaultAction,performAlternativeAction:performAlternativeAction,allowDefaultAction:allowDefaultAction,allowAlternativeAction:allowAlternativeAction,getContentTreeRelation$hkwV:getContentTreeRelation,getModelItemId:getModelItemId,getParent$hkwV:getParent,isValidDragSource:isValidDragSource,getContents$hkwV:getContents,toString:toString,statics:{toSourceIds:toSourceIds$static},requires:["com.coremedia.cap.content.Content",
"com.coremedia.ui.data.RemoteBean","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.beanFactory","com.coremedia.ui.models.DragDropModel","com.coremedia.ui.util.BeanCollectionDropZoneHelper"],uses:["com.coremedia.cms.editor.sdk.actions.CopyContentAction","com.coremedia.cms.editor.sdk.actions.MoveContentAction","com.coremedia.cms.editor.sdk.collectionview.CollectionViewManagerInternal","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.tree.OpenInTreeActionBase",function(OpenInTreeActionBase){function OpenInTreeActionBase$(config){if(arguments.length<=0)config=null;this.super$9HLJ(AS3.cast(com.coremedia.cms.editor.sdk.collectionview.tree.OpenInTreeAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,"openInTree",{handler:AS3.bind(this,"open$9HLJ")})));this.selectedFolderValueExpression$9HLJ=AS3.getBindable(config,"selectedFolderValueExpression");
if(AS3.getBindable(config,"selectedItemsValueExpression"))this.selectedItemsValueExpressin$9HLJ=AS3.getBindable(config,"selectedItemsValueExpression");else this.selectedItemsValueExpressin$9HLJ=com.coremedia.ui.data.ValueExpressionFactory.createFromValue()}function setLibraryTreeModel(libraryTreeModel){this.libraryTreeModel$9HLJ=libraryTreeModel}function setSelectedRepositoryItems(items){this.selectedItemsValueExpressin$9HLJ.setValue(items)}function calculateHidden(){var visible=this.calculateVisible$9HLJ();
if(visible===undefined)return undefined;return!visible}function calculateDisabled(){var visible=this.calculateVisible$9HLJ();if(visible===undefined)return undefined;return!visible||this.selectedItemsValueExpressin$9HLJ.getValue().some(function(bean){return!com.coremedia.ui.data.RemoteBeanUtil.isAccessible(bean)})}function calculateVisible(){var items=this.selectedItemsValueExpressin$9HLJ.getValue();if(!items||items.length===0)return false;var item=items[0];if(AS3.is(item,com.coremedia.cap.content.Content)){if(item.isFolder())return true;
if(!this.belongsToActiveTreeModel$9HLJ(item))return false;var collectionViewExtender=com.coremedia.cms.editor.sdk.editorContext.getCollectionViewExtender();var collectionViewExtension=collectionViewExtender.getExtension(item);if(collectionViewExtension===undefined)return undefined;if(!collectionViewExtension)return null;return this.isPartOfTree$9HLJ(item)&&collectionViewExtension.getContentTreeRelation().isFolderNode(item)}var nodeId=this.libraryTreeModel$9HLJ.getNodeId(item);if(nodeId){var idPath=
this.libraryTreeModel$9HLJ.getIdPath(nodeId);return idPath&&idPath.length>0&&idPath[idPath.length-1]==nodeId}return false}function belongsToActiveTreeModel(item){var cmManager=AS3.as(com.coremedia.cms.editor.sdk.editorContext.getCollectionViewManager(),com.coremedia.cms.editor.sdk.collectionview.CollectionViewManagerInternal);var activeTreeModel=cmManager.getActiveTreeModel();var treeModel=cmManager.getLibraryTreeModel().getTreeModelForModel(item);return treeModel&&activeTreeModel&&treeModel.getRootId()===
activeTreeModel.getRootId()}function isPartOfTree(item){var nodeId=this.libraryTreeModel$9HLJ.getNodeId(item);return!!nodeId}function open(contents){if(!this.calculateDisabled())this.selectedFolderValueExpression$9HLJ.setValue(this.selectedItemsValueExpressin$9HLJ.getValue()[0])}return{extend:"com.coremedia.ui.actions.DependencyTrackedAction",metadata:{setLibraryTreeModel:["InjectFromExtParent"],setSelectedRepositoryItems:["InjectFromExtParent"]},selectedFolderValueExpression$9HLJ:null,libraryTreeModel$9HLJ:null,
selectedItemsValueExpressin$9HLJ:null,constructor:OpenInTreeActionBase$,super$9HLJ:function(){com.coremedia.ui.actions.DependencyTrackedAction.prototype.constructor.apply(this,arguments)},setLibraryTreeModel:setLibraryTreeModel,setSelectedRepositoryItems:setSelectedRepositoryItems,calculateHidden:calculateHidden,calculateDisabled:calculateDisabled,calculateVisible$9HLJ:calculateVisible,belongsToActiveTreeModel$9HLJ:belongsToActiveTreeModel,isPartOfTree$9HLJ:isPartOfTree,open$9HLJ:open,requires:["com.coremedia.cap.content.Content",
"com.coremedia.ui.actions.DependencyTrackedAction","com.coremedia.ui.data.RemoteBeanUtil","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil","com.coremedia.cms.editor.sdk.collectionview.CollectionViewManagerInternal","com.coremedia.cms.editor.sdk.collectionview.tree.OpenInTreeAction","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.tree.LibraryTreeViewDragZone",function(LibraryTreeViewDragZone){function LibraryTreeViewDragZone$(config){var this$=this;if(arguments.length<=0)config=null;AS3.setBindable(this,"ddGroups",AS3.getBindable(config,"ddGroups")||[]);if(!config.ddGroup&&AS3.getBindable(this,"ddGroups").length>0){config.ddGroup=AS3.getBindable(this,"ddGroups")[0];AS3.setBindable(this,"ddGroups",AS3.getBindable(this,"ddGroups").slice(1))}this.super$vIF$(config);AS3.getBindable(this,
"ddGroups").forEach(function(ddGroup){this$.addToGroup(ddGroup)})}function onInitDrag(x,y){var data=this.dragData;var ddel=data.ddel;var view=data.view;var record=view.getRecord(data.item);data.node=record;data.records=[record];data.copy=true;Ext.get(ddel).setHtml(com.coremedia.ui.util.EncodingUtil.encodeForHTML(Ext.ClassManager.get("Ext.tree.ViewDragZone").prototype.getDragText.apply(this,[])));this.getProxy().update(ddel);Ext.view.DragZone.prototype.onStartDrag.call(this,x,y);return true}return{extend:"Ext.view.DragZone",
constructor:LibraryTreeViewDragZone$,super$vIF$:function(){Ext.view.DragZone.prototype.constructor.apply(this,arguments)},onInitDrag:onInitDrag,config:{ddGroups:null},requires:["Ext","Ext.ClassManager","Ext.view.DragZone","com.coremedia.ui.util.EncodingUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.tree.LibraryTree",function(LibraryTree){var DD_GROUPS$static;function DD_GROUPS$static_(){DD_GROUPS$static=["ContentDD"]}function LibraryTree$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.tree.LibraryTreeBase,{});var defaults_$1=AS3.cast(LibraryTree,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"scrollable",true);AS3.setBindable(config_$1,
"width",230);config_$1["id"]="librarytree";config_$1.cls="cm-library-tree";AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.Editor","TreeView_repository"));config_$1.rootVisible=false;AS3.setBindable(config_$1,"hideHeaders",true);var treeColumn_58_5_$1=AS3.cast(Ext.tree.Column,{});treeColumn_58_5_$1.dataIndex="text";treeColumn_58_5_$1.flex=1;AS3.setBindable(treeColumn_58_5_$1,"align","left");treeColumn_58_5_$1.renderer=com.coremedia.ui.util.EncodingUtil.encodeForHTML;
var textField_63_9_$1=AS3.cast(Ext.form.field.Text,{});textField_63_9_$1.selectOnFocus=true;AS3.setBindable(treeColumn_58_5_$1,"editor",textField_63_9_$1);config_$1.columns=[treeColumn_58_5_$1];var ui_BindTreePlugin_69_5_$1=AS3.cast(com.coremedia.ui.plugins.BindTreePlugin,{});AS3.setBindable(ui_BindTreePlugin_69_5_$1,"treeModel",com.coremedia.cms.editor.sdk.editorContext.getCollectionViewManager()["getLibraryTreeModel"]());ui_BindTreePlugin_69_5_$1.encode=false;var ui_BindTreeSelectionPlugin_71_5_$1=
AS3.cast(com.coremedia.ui.plugins.BindTreeSelectionPlugin,{});AS3.setBindable(ui_BindTreeSelectionPlugin_71_5_$1,"valueExpression",this.getSelectedFolderExpression());AS3.setBindable(ui_BindTreeSelectionPlugin_71_5_$1,"treeModel",com.coremedia.cms.editor.sdk.editorContext.getCollectionViewManager()["getLibraryTreeModel"]());AS3.setBindable(ui_BindTreeSelectionPlugin_71_5_$1,"defaultValue",com.coremedia.cms.editor.sdk.collectionview.tree.LibraryTreeBase.getDefaultSelection());AS3.setBindable(ui_BindTreeSelectionPlugin_71_5_$1,
"openPathValueExpression",AS3.getBindable(config,"openPathValueExpression"));var ui_ContextMenuPlugin_75_5_$1=AS3.cast(com.coremedia.ui.plugins.ContextMenuPlugin,{});AS3.setBindable(ui_ContextMenuPlugin_75_5_$1,"dblClickPrecondition",AS3.bind(this,"dblClickPrecondition"));var editor_TreeViewContextMenu_77_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.tree.TreeViewContextMenu,{});AS3.setBindable(ui_ContextMenuPlugin_75_5_$1,"contextMenu",editor_TreeViewContextMenu_77_9_$1);var ui_CellEditPlugin_80_5_$1=
AS3.cast(com.coremedia.ui.plugins.CellEditPlugin,{});ui_CellEditPlugin_80_5_$1.clicksToEdit=1;var object_82_9_$1={};object_82_9_$1.beforeedit=AS3.bind(this,"beforeNameEdit");object_82_9_$1.validateedit=AS3.bind(this,"validateNameEdit");AS3.setBindable(ui_CellEditPlugin_80_5_$1,"listeners",object_82_9_$1);config_$1.plugins=[ui_BindTreePlugin_69_5_$1,ui_BindTreeSelectionPlugin_71_5_$1,ui_ContextMenuPlugin_75_5_$1,ui_CellEditPlugin_80_5_$1];var treeView_88_5_$1=AS3.cast(Ext.tree.View,{});treeView_88_5_$1.ariaLabel=
net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","CollectionView_repositorytree_text"));treeView_88_5_$1["cellTpl"]=com.coremedia.cms.editor.sdk.collectionview.tree.LibraryTreeBase.CELL_TPL;treeView_88_5_$1.loadMask=false;var editor_LibraryTreeViewDragDropPlugin_93_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.LibraryTreeViewDragDropPlugin,{});AS3.setBindable(editor_LibraryTreeViewDragDropPlugin_93_9_$1,"ddGroups",DD_GROUPS$static);
AS3.setBindable(editor_LibraryTreeViewDragDropPlugin_93_9_$1,"tree",this);editor_LibraryTreeViewDragDropPlugin_93_9_$1.containerScroll=true;editor_LibraryTreeViewDragDropPlugin_93_9_$1.appendOnly=true;treeView_88_5_$1.plugins=[editor_LibraryTreeViewDragDropPlugin_93_9_$1];config_$1.viewConfig=treeView_88_5_$1;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Ul8Q(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.collectionview.tree.LibraryTreeBase",alias:"widget.com.coremedia.cms.editor.sdk.config.libraryTree",
constructor:LibraryTree$,super$Ul8Q:function(){com.coremedia.cms.editor.sdk.collectionview.tree.LibraryTreeBase.prototype.constructor.apply(this,arguments)},config:{openPathValueExpression:null,createdContentValueExpression:null,containerComponent:null,editorField:null},statics:{DD_GROUPS:undefined,__initStatics__:function(){DD_GROUPS$static_()}},requires:["Ext.form.field.Text","Ext.tree.Column","Ext.tree.View","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.collectionview.tree.LibraryTreeBase",
"com.coremedia.ui.plugins.BindTreePlugin","com.coremedia.ui.plugins.BindTreeSelectionPlugin","com.coremedia.ui.plugins.CellEditPlugin","com.coremedia.ui.plugins.ContextMenuPlugin","com.coremedia.ui.util.EncodingUtil","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.collectionview.tree.TreeViewContextMenu","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.premular.fields.plugins.LibraryTreeViewDragDropPlugin"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.CollectionViewSearchContainer",function(CollectionViewSearchContainer){function CollectionViewSearchContainer$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.container.Container,{});var defaults_$1=AS3.cast(CollectionViewSearchContainer,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.SEARCH_MODE);var editor_CutToClipboardAction_28_5_$1=
AS3.cast(com.coremedia.cms.editor.sdk.clipboard.CutToClipboardAction,{});AS3.setBindable(editor_CutToClipboardAction_28_5_$1,"contentValueExpression",AS3.getBindable(config,"selectedItemsValueExpression"));var editor_CopyToClipboardAction_29_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction,{});AS3.setBindable(editor_CopyToClipboardAction_29_5_$1,"contentValueExpression",AS3.getBindable(config,"selectedItemsValueExpression"));var editor_PasteFromClipboardAction_30_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.clipboard.PasteFromClipboardAction,
{});AS3.setBindable(editor_PasteFromClipboardAction_30_5_$1,"contentValueExpression",AS3.getBindable(config,"selectedFolderValueExpression"));var editor_ApproveAction_31_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ApproveAction,{});AS3.setBindable(editor_ApproveAction_31_5_$1,"contentValueExpression",AS3.getBindable(config,"selectedItemsValueExpression"));var editor_PublishAction_32_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.PublishAction,{});AS3.setBindable(editor_PublishAction_32_5_$1,
"contentValueExpression",AS3.getBindable(config,"selectedItemsValueExpression"));var editor_ApprovePublishAction_33_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ApprovePublishAction,{});AS3.setBindable(editor_ApprovePublishAction_33_5_$1,"contentValueExpression",AS3.getBindable(config,"selectedItemsValueExpression"));var editor_WithdrawAction_34_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.WithdrawAction,{});AS3.setBindable(editor_WithdrawAction_34_5_$1,"contentValueExpression",AS3.getBindable(config,
"selectedItemsValueExpression"));var editor_DeleteAction_35_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.DeleteAction,{});AS3.setBindable(editor_DeleteAction_35_5_$1,"contentValueExpression",AS3.getBindable(config,"selectedItemsValueExpression"));var editor_UndeleteAction_36_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.UndeleteAction,{});AS3.setBindable(editor_UndeleteAction_36_5_$1,"contentValueExpression",AS3.getBindable(config,"selectedItemsValueExpression"));var editor_ContentExportAction_37_5_$1=
AS3.cast(com.coremedia.cms.editor.sdk.util.ContentExportAction,{});AS3.setBindable(editor_ContentExportAction_37_5_$1,"contentValueExpression",AS3.getBindable(config,"selectedItemsValueExpression"));var editor_BookmarkAction_38_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.bookmarks.BookmarkAction,{});AS3.setBindable(editor_BookmarkAction_38_5_$1,"contentValueExpression",AS3.getBindable(config,"selectedItemsValueExpression"));AS3.setBindable(config_$1,"actionList",[new com.coremedia.cms.editor.sdk.clipboard.CutToClipboardAction(editor_CutToClipboardAction_28_5_$1),
new com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction(editor_CopyToClipboardAction_29_5_$1),new com.coremedia.cms.editor.sdk.clipboard.PasteFromClipboardAction(editor_PasteFromClipboardAction_30_5_$1),new com.coremedia.cms.editor.sdk.actions.ApproveAction(editor_ApproveAction_31_5_$1),new com.coremedia.cms.editor.sdk.actions.PublishAction(editor_PublishAction_32_5_$1),new com.coremedia.cms.editor.sdk.actions.ApprovePublishAction(editor_ApprovePublishAction_33_5_$1),new com.coremedia.cms.editor.sdk.actions.WithdrawAction(editor_WithdrawAction_34_5_$1),
new com.coremedia.cms.editor.sdk.actions.DeleteAction(editor_DeleteAction_35_5_$1),new com.coremedia.cms.editor.sdk.actions.UndeleteAction(editor_UndeleteAction_36_5_$1),new com.coremedia.cms.editor.sdk.util.ContentExportAction(editor_ContentExportAction_37_5_$1),new com.coremedia.cms.editor.sdk.bookmarks.BookmarkAction(editor_BookmarkAction_38_5_$1)]);config_$1["actionList$at"]=net.jangaroo.ext.Exml.APPEND;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$_IZ5(config_$1)}return{extend:"Ext.container.Container",
metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.collectionViewSearchContainer",constructor:CollectionViewSearchContainer$,super$_IZ5:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},config:{selectedItemsValueExpression:null,selectedFolderValueExpression:null},requires:["Ext.container.Container","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.actions.ApproveAction","com.coremedia.cms.editor.sdk.actions.ApprovePublishAction",
"com.coremedia.cms.editor.sdk.actions.DeleteAction","com.coremedia.cms.editor.sdk.actions.PublishAction","com.coremedia.cms.editor.sdk.actions.UndeleteAction","com.coremedia.cms.editor.sdk.actions.WithdrawAction","com.coremedia.cms.editor.sdk.bookmarks.BookmarkAction","com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction","com.coremedia.cms.editor.sdk.clipboard.CutToClipboardAction","com.coremedia.cms.editor.sdk.clipboard.PasteFromClipboardAction","com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel",
"com.coremedia.cms.editor.sdk.util.ContentExportAction"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.SearchContainer",function(SearchContainer){function SearchContainer$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.SearchContainerBase,{});var defaults_$1=AS3.cast(SearchContainer,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$9x$e(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.collectionview.SearchContainerBase",
metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.searchContainer",constructor:SearchContainer$,super$9x$e:function(){com.coremedia.cms.editor.sdk.collectionview.SearchContainerBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.collectionview.SearchContainerBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel",function(CollectionViewModel){function SEARCH_MODE_PROPERTY_NAMES$static_(){CollectionViewModel.SEARCH_MODE_PROPERTY_NAMES=[CollectionViewModel.SEARCH_TEXT_PROPERTY,CollectionViewModel.CONTENT_TYPE_PROPERTY,CollectionViewModel.FOLDER_PROPERTY,CollectionViewModel.ORDER_BY_PROPERTY,CollectionViewModel.LIMIT_PROPERTY]}var FILTER_DEFAULT_STATE$static;function FILTER_DEFAULT_STATE$static_(){FILTER_DEFAULT_STATE$static={searchText:"",
contentType:"Content_"}}function searchFilters_(){this.searchFilters$DDyr={}}function CollectionViewModel$(initialFolder){this.super$DDyr();searchFilters_.call(this);if(arguments.length<=0)initialFolder=null;var initialState={};Ext.apply(initialState,FILTER_DEFAULT_STATE$static);initialState[CollectionViewModel.MODE_PROPERTY]=CollectionViewModel.REPOSITORY_MODE;initialState[CollectionViewModel.VIEW_PROPERTY]=com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants.LIST_VIEW;var site=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getPreferredSite();
initialState[CollectionViewModel.FOLDER_PROPERTY]=initialFolder||site&&site.getSiteRootFolder()||com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getRoot();initialState[CollectionViewModel.ORDER_BY_PROPERTY]=CollectionViewModel.ORDER_BY_FRESHNESS_DESC;initialState[CollectionViewModel.ORDER_BY_PROPERTY_REPOSITORY_LIST]=CollectionViewModel.ORDER_BY_NAME_ASC;initialState[CollectionViewModel.CONTENT_TYPE_PROPERTY]="Content_";this.mainStateBean$DDyr=com.coremedia.ui.data.beanFactory.createLocalBean(initialState);
this.mainStateBean$DDyr.addValueChangeListener(AS3.bind(this,"stateBeanChanged$DDyr"));this.allStateBeans$DDyr={_main:this.mainStateBean$DDyr}}function getMainStateBean(){return this.mainStateBean$DDyr}function getFilterStateBean(searchedFilterId){for(var filterId in this.searchFilters$DDyr){var searchFilter=AS3.as(this.searchFilters$DDyr[filterId],com.coremedia.cms.editor.sdk.collectionview.search.SearchFilter);if(searchFilter.getFilterId()===searchedFilterId)return searchFilter.getStateBean()}return null}
function getAllStateBeans(){return this.allStateBeans$DDyr}function getCurrentState(){var stateBeans=this.getAllStateBeans();var result={};for(var stateId in stateBeans)result[stateId]=AS3.as(stateBeans[stateId],com.coremedia.ui.data.Bean).toObject();return result}function updateState(targetState){this.resetSearchFilters();if(targetState)for(var stateId in this.allStateBeans$DDyr){var targetBeanState=targetState[stateId];var searchFilter=this.searchFilters$DDyr[stateId];if(searchFilter)targetBeanState=
searchFilter.transformState(Ext.apply({},targetBeanState));AS3.as(this.allStateBeans$DDyr[stateId],com.coremedia.ui.data.Bean).updateProperties(targetBeanState)}this.triggerSearch()}function addSearchFilters(){var searchFilters=Array.prototype.slice.call(arguments);var flattenedFilters=com.coremedia.ui.util.ArrayUtils.flatten(searchFilters);for(var i=0;i<flattenedFilters.length;i++){var searchFilter=flattenedFilters[i];var filterId=searchFilter.getFilterId();this.searchFilters$DDyr[filterId]=searchFilter;
var filterStateBean=searchFilter.getStateBean();filterStateBean.addValueChangeListener(AS3.bind(this,"fireUpdateEventEventually$DDyr"));this.allStateBeans$DDyr[filterId]=filterStateBean}this.updateSearchFilters$DDyr()}function getSearchState(){var result=new com.coremedia.cms.editor.sdk.collectionview.SearchState;result.searchText;result.contentType;result.folder;result.inProduction;result.editedByMe;result.editedByOthers;result.notEdited;result.approved;result.published;result.deleted;result.lastEditedBy;
result.filters;result.orderBy;return result}function setSearchState(reset,view,searchState,model){if(reset)this.resetSearchFilters();if(!model)model=com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getRoot();var mainStateBean=this.getMainStateBean();var state={};state[CollectionViewModel.MODE_PROPERTY]=CollectionViewModel.SEARCH_MODE;if(reset){state[CollectionViewModel.FOLDER_PROPERTY]=model;state[CollectionViewModel.ORDER_BY_PROPERTY]=CollectionViewModel.ORDER_BY_FRESHNESS_DESC;
state[CollectionViewModel.ORDER_BY_PROPERTY_REPOSITORY_LIST]=CollectionViewModel.ORDER_BY_NAME_ASC}if(view)state[CollectionViewModel.VIEW_PROPERTY]=view;Ext.apply(state,com.coremedia.ui.util.ObjectUtils.extractNonNullProperties(searchState,CollectionViewModel.SEARCH_MODE_PROPERTY_NAMES));mainStateBean.updateProperties(state);var statusFilterState=com.coremedia.ui.util.ObjectUtils.extractNonNullProperties(searchState,com.coremedia.cms.editor.sdk.collectionview.search.StatusFilterPanelBase.PROPERTY_NAMES);
var searchStatusFilterBean=this.getFilterStateBean(com.coremedia.cms.editor.sdk.collectionview.search.StatusFilterPanel.FILTER_ID);if(searchStatusFilterBean)searchStatusFilterBean.updateProperties(statusFilterState);var lastEditedFilterState=com.coremedia.ui.util.ObjectUtils.extractNonNullProperties(searchState,com.coremedia.cms.editor.sdk.collectionview.search.LastEditedFilterPanelBase.PROPERTY_NAMES);var lastEditedFilterBean=this.getFilterStateBean(com.coremedia.cms.editor.sdk.collectionview.search.LastEditedFilterPanel.FILTER_ID);
if(lastEditedFilterBean)lastEditedFilterBean.updateProperties(lastEditedFilterState);if(searchState&&searchState.filters)for(var filterId in searchState.filters){var stateBean=this.getFilterStateBean(filterId);stateBean.updateProperties(searchState.filters[filterId])}}function triggerSearch(){this.fireUpdateEventEventually$DDyr()}function stateBeanChanged(event){var this$=this;if(event.property===CollectionViewModel.MODE_PROPERTY&&event.newValue===CollectionViewModel.REPOSITORY_MODE)if(!this.isInDefaultState$DDyr())this.resetSearchFilters();
if(event.property===CollectionViewModel.SEARCH_TEXT_PROPERTY)return;if(event.property===CollectionViewModel.FOLDER_PROPERTY&&event.newValue)com.coremedia.cms.editor.sdk.editorContext.getCollectionViewExtender().findExtension(event.newValue,function(extension){var newAvailableSearchTypes=extension?extension.getAvailableSearchTypes(event.newValue):[];var currentSearchType=event.bean.get(CollectionViewModel.CONTENT_TYPE_PROPERTY);if(!newAvailableSearchTypes.some(function(entry){return entry.name===currentSearchType}))event.bean.set(CollectionViewModel.CONTENT_TYPE_PROPERTY,
com.coremedia.cap.content.ContentTypeNames.CONTENT);var searchFilters=extension?extension.getEnabledSearchFilterIds():[];this$.setEnabledFilters(searchFilters);this$.fireUpdateEventEventually$DDyr()});else this.fireUpdateEventEventually$DDyr()}function updateSearchFilters(){var this$=this;var folder=this.mainStateBean$DDyr.get(CollectionViewModel.FOLDER_PROPERTY);com.coremedia.cms.editor.sdk.editorContext.getCollectionViewExtender().findExtension(folder,function(extension){var enabledSearchFilters=
extension?extension.getEnabledSearchFilterIds():[];this$.setEnabledFilters(enabledSearchFilters);this$.fireUpdateEventEventually$DDyr()})}function fireUpdateEventEventually(){if(!this.dirty$DDyr){this.dirty$DDyr=true;com.coremedia.ui.util.EventUtil.invokeLater(AS3.bind(this,"fireUpdateEvent$DDyr"))}}function fireUpdateEvent(){if(!this.isInDefaultState$DDyr()&&this.mainStateBean$DDyr.get(CollectionViewModel.MODE_PROPERTY)===CollectionViewModel.REPOSITORY_MODE)this.mainStateBean$DDyr.set(CollectionViewModel.MODE_PROPERTY,
CollectionViewModel.SEARCH_MODE);this.dirty$DDyr=false;this.fireEvent(CollectionViewModel.UPDATE_EVENT,this)}function resetSearchFilters(){this.mainStateBean$DDyr.updateProperties(FILTER_DEFAULT_STATE$static);for(var filterId in this.searchFilters$DDyr){var searchFilter=AS3.as(this.searchFilters$DDyr[filterId],com.coremedia.cms.editor.sdk.collectionview.search.SearchFilter);searchFilter.getStateBean().updateProperties(searchFilter.getDefaultState())}}function setEnabledFilters(filterIds){for(var filterId in this.searchFilters$DDyr){var searchFilter=
AS3.as(this.searchFilters$DDyr[filterId],com.coremedia.cms.editor.sdk.collectionview.search.SearchFilter);var searchFilterComponent=AS3.as(searchFilter,Ext.Component);var visible=true;if(!filterIds||filterIds.indexOf(filterId)===-1){searchFilter.getStateBean().updateProperties(searchFilter.getDefaultState());visible=false}if(searchFilterComponent){var conditionalFilterPanel=AS3.as(searchFilterComponent,com.coremedia.cms.editor.sdk.collectionview.search.ConditionalFilterPanel);if(visible&&conditionalFilterPanel)visible=
conditionalFilterPanel.isApplicable();searchFilterComponent.setVisible(visible)}}}function isInDefaultState(){var bean=this.mainStateBean$DDyr;if(!allBeanPropertiesEqual$static(bean,FILTER_DEFAULT_STATE$static))return false;return this.areFiltersInDefaultState()}function areFiltersInDefaultState(){for(var filterId in this.searchFilters$DDyr){var searchFilter=AS3.as(this.searchFilters$DDyr[filterId],com.coremedia.cms.editor.sdk.collectionview.search.SearchFilter);if(!allBeanPropertiesEqual$static(searchFilter.getStateBean(),
searchFilter.getDefaultState()))return false}return true}function allBeanPropertiesEqual$static(bean,properties){for(var property in properties)if(!com.coremedia.ui.util.ObjectUtils.equal(properties[property],bean.get(property)))return false;return true}function getSearchSuggestionsParameters(callback){if(arguments.length<=0)callback=null;return this.getSearchOrSearchSuggestionsParameters$DDyr(callback)}function getSearchParameters(callback){if(arguments.length<=0)callback=null;if(callback){this.getSearchOrSearchSuggestionsParameters$DDyr(function(searchParameters){if(!searchParameters)callback(null);
else{searchParameters.limit=-1;callback(searchParameters)}});return null}else{var searchParameters=this.getSearchOrSearchSuggestionsParameters$DDyr();if(!searchParameters)return searchParameters;searchParameters.limit=-1;return searchParameters}}function getHistory(){if(!this.history$DDyr)this.history$DDyr=new com.coremedia.cms.editor.sdk.collectionview.search.History(this);return this.history$DDyr}function getSearchOrSearchSuggestionsParameters(callback){var this$=this;if(arguments.length<=0)callback=
null;var selection=this.getMainStateBean().get(CollectionViewModel.FOLDER_PROPERTY);if(callback){com.coremedia.cms.editor.sdk.editorContext.getCollectionViewExtender().findExtension(selection,function(extension){callback(extension&&extension.getSearchOrSearchSuggestionsParameters(this$.searchFilters$DDyr,this$.getMainStateBean()))});return null}else{var extension=com.coremedia.cms.editor.sdk.editorContext.getCollectionViewExtender().getExtension(selection);return extension&&extension.getSearchOrSearchSuggestionsParameters(this.searchFilters$DDyr,
this.getMainStateBean())}}function setMode(view){this.mainStateBean$DDyr.set(CollectionViewModel.MODE_PROPERTY,view)}function lookupCollectionViewModel$static(child){var current=child;while(current){if(AS3.is(current,com.coremedia.cms.editor.sdk.collectionview.ICollectionView))return AS3.as(current,com.coremedia.cms.editor.sdk.collectionview.ICollectionView).getCollectionViewModel();current=current.up()}return null}return{extend:"Ext.util.Observable",metadata:{"":["Event",["name","update"]]},dirty$DDyr:false,
history$DDyr:null,mainStateBean$DDyr:null,allStateBeans$DDyr:null,constructor:CollectionViewModel$,super$DDyr:function(){Ext.util.Observable.prototype.constructor.apply(this,arguments)},getMainStateBean:getMainStateBean,getFilterStateBean:getFilterStateBean,getAllStateBeans:getAllStateBeans,getCurrentState:getCurrentState,updateState:updateState,addSearchFilters:addSearchFilters,getSearchState:getSearchState,setSearchState:setSearchState,triggerSearch:triggerSearch,stateBeanChanged$DDyr:stateBeanChanged,
updateSearchFilters$DDyr:updateSearchFilters,fireUpdateEventEventually$DDyr:fireUpdateEventEventually,fireUpdateEvent$DDyr:fireUpdateEvent,resetSearchFilters:resetSearchFilters,setEnabledFilters:setEnabledFilters,isInDefaultState$DDyr:isInDefaultState,areFiltersInDefaultState:areFiltersInDefaultState,getSearchSuggestionsParameters:getSearchSuggestionsParameters,getSearchParameters:getSearchParameters,getHistory:getHistory,getSearchOrSearchSuggestionsParameters$DDyr:getSearchOrSearchSuggestionsParameters,
setMode:setMode,statics:{UPDATE_EVENT:"update",MODE_PROPERTY:"mode",REPOSITORY_MODE:"repository",SEARCH_MODE:"search",VIEW_PROPERTY:"view",SEARCH_TEXT_PROPERTY:"searchText",CONTENT_TYPE_PROPERTY:"contentType",FOLDER_PROPERTY:"folder",ORDER_BY_PROPERTY:"orderBy",ORDER_BY_FRESHNESS_DESC:"freshness desc",ORDER_BY_NAME_ASC:"name asc",ORDER_BY_PROPERTY_REPOSITORY_LIST:"orderByRepo",LIMIT_PROPERTY:"limit",SEARCH_MODE_PROPERTY_NAMES:undefined,FILTER_DEFAULT_STATE:undefined,lookupCollectionViewModel:lookupCollectionViewModel$static,
__initStatics__:function(){SEARCH_MODE_PROPERTY_NAMES$static_();FILTER_DEFAULT_STATE$static_()}},requires:["Ext","Ext.Component","Ext.util.Observable","com.coremedia.cap.common.SESSION","com.coremedia.cap.content.ContentTypeNames","com.coremedia.ui.data.Bean","com.coremedia.ui.data.beanFactory","com.coremedia.ui.util.ArrayUtils","com.coremedia.ui.util.EventUtil","com.coremedia.ui.util.ObjectUtils"],uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants","com.coremedia.cms.editor.sdk.collectionview.ICollectionView",
"com.coremedia.cms.editor.sdk.collectionview.SearchState","com.coremedia.cms.editor.sdk.collectionview.search.ConditionalFilterPanel","com.coremedia.cms.editor.sdk.collectionview.search.History","com.coremedia.cms.editor.sdk.collectionview.search.LastEditedFilterPanel","com.coremedia.cms.editor.sdk.collectionview.search.LastEditedFilterPanelBase","com.coremedia.cms.editor.sdk.collectionview.search.SearchFilter","com.coremedia.cms.editor.sdk.collectionview.search.StatusFilterPanel","com.coremedia.cms.editor.sdk.collectionview.search.StatusFilterPanelBase",
"com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.list.FolderContentDropZone",function(FolderContentDropZone){function FolderContentDropZone$(component,beanCollectionDragDropModel,config,customGetTargetFromEvent,getActiveStoreOfComponent){if(arguments.length<=4)getActiveStoreOfComponent=null;this.super$Lxjd(component.getEl(),config);this.dropComponent$Lxjd=component;this.customGetTargetFromEvent$Lxjd=customGetTargetFromEvent;this.getActiveStoreOfComponent$Lxjd=getActiveStoreOfComponent;this.beanCollectionDropZoneHelper$Lxjd=
new com.coremedia.ui.util.BeanCollectionDropZoneHelper(beanCollectionDragDropModel)}function notifyEnter(source,event,data){return this.beanCollectionDropZoneHelper$Lxjd.notifyEnter(source,event,data)}function notifyOut(source,e,data){this.beanCollectionDropZoneHelper$Lxjd.notifyOut(source,e,data)}function onNodeOver(nodeData,source,event,data){Ext.dd.DropZone.prototype.onNodeOver.call(this,nodeData,source,event,data);return this.beanCollectionDropZoneHelper$Lxjd.onNodeOver(nodeData,source,event,
data)}function onNodeDrop(nodeData,source,dropEvent,data){var success=this.beanCollectionDropZoneHelper$Lxjd.onNodeDrop(nodeData,source,dropEvent,data);if(success&&!this.beanCollectionDropZoneHelper$Lxjd.isAlternativeRequested(dropEvent)&&this.getActiveStoreOfComponent$Lxjd)FolderContentDropZone.selectDroppedNodesIfVisible(this.dropComponent$Lxjd,this.getActiveStoreOfComponent$Lxjd(this.dropComponent$Lxjd),nodeData.node.id,com.coremedia.ui.util.BeanCollectionDropZoneHelper.extractNodeIds(data));return success}
function getTargetFromEvent(e){return this.customGetTargetFromEvent$Lxjd(e)}function selectDroppedNodesIfVisible$static(component,componentStore,droppedOntoFolderUri,droppedContentsUris){var selectedRepositoryItemsValueExpression=com.coremedia.ui.context.ComponentContextManager.getInstance().getContextExpression(component,com.coremedia.cms.editor.sdk.collectionview.CollectionView.SELECTED_REPOSITORY_ITEMS_VARIABLE_NAME);var selectedFolderValueExpression=com.coremedia.ui.context.ComponentContextManager.getInstance().getContextExpression(component,
com.coremedia.cms.editor.sdk.collectionview.CollectionView.SELECTED_FOLDER_VARIABLE_NAME);var selectedFolder=selectedFolderValueExpression.getValue();if(selectedFolder&&selectedFolder.getUriPath()===droppedOntoFolderUri){selectedRepositoryItemsValueExpression.setValue([]);var contents=droppedContentsUris.map(function(contentUri){return com.coremedia.ui.data.beanFactory.getRemoteBean(contentUri)});componentStore.addListener("update",function storeLoaded(store){store.removeListener("update",storeLoaded);
if(containsRecords$static(componentStore,contents))selectedRepositoryItemsValueExpression.setValue(contents)})}}function containsRecords$static(store,beans){var contains=true;beans.forEach(function(bean){var index=findBeanRecordIndex$static(store,bean);if(index===-1)contains=false});return contains}function findBeanRecordIndex$static(store,bean){if(bean)return store.findBy(function(record){return record.getBean()===bean});return-1}return{extend:"Ext.dd.DropZone",beanCollectionDropZoneHelper$Lxjd:null,
dropComponent$Lxjd:null,customGetTargetFromEvent$Lxjd:null,getActiveStoreOfComponent$Lxjd:null,constructor:FolderContentDropZone$,super$Lxjd:function(){Ext.dd.DropZone.prototype.constructor.apply(this,arguments)},notifyEnter:notifyEnter,notifyOut:notifyOut,onNodeOver:onNodeOver,onNodeDrop:onNodeDrop,getTargetFromEvent:getTargetFromEvent,statics:{selectDroppedNodesIfVisible:selectDroppedNodesIfVisible$static},requires:["Ext.dd.DropZone","com.coremedia.ui.context.ComponentContextManager","com.coremedia.ui.data.beanFactory",
"com.coremedia.ui.util.BeanCollectionDropZoneHelper"],uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionView"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.list.LibraryListViewBase",function(LibraryListViewBase){var NAME_FIELD$static="name";var FLIP_KEY$static;function FLIP_KEY$static_(){FLIP_KEY$static=Ext.event.Event.ALT}function LibraryListViewBase$(config){if(arguments.length<=0)config=null;this.super$O75G(config);this.orderByPropertyInCollectionViewModel$O75G=AS3.getBindable(config,"orderByPropertyInCollectionViewModel");this.mon(this.selModel,"selectionchange",AS3.bind(this,"handleSelectionModelSelectionChange$O75G"));
this.mon(this.getStore(),"update",AS3.bind(this,"handleStoreUpdate$O75G"));if(AS3.getBindable(config,"createdContentValueExpression"))AS3.getBindable(config,"createdContentValueExpression").addChangeListener(AS3.bind(this,"contentCreated$O75G"));this.on("validateedit",AS3.bind(this,"onRename$O75G"));this.on("rowclick",AS3.bind(this,"handleRowClick$O75G"));config.selectedItemsValueExpression.addChangeListener(AS3.bind(this,"handleSelectionValueExpressionChange$O75G"));var cvm=this.getCollectionViewModel();
if(cvm)this.collectionViewSortStateManager$O75G=new com.coremedia.cms.editor.sdk.collectionview.sort.CollectionViewSortStateManager(cvm,this.getColumns(),this.orderByPropertyInCollectionViewModel$O75G);this.bindStoreAndView$O75G()}function afterRender(){com.coremedia.cms.editor.sdk.collectionview.list.AbstractListView.prototype.afterRender.call(this);var gridViewDragDropPlugin=AS3.as(this.getView().getPlugin(com.coremedia.ui.components.CustomEditorGridBase.DRAG_DROP_PLUGIN_ID),Ext.grid.plugin.DragDrop);
gridViewDragDropPlugin.dragZone.scroll=false}function onRename(grid,event){var cv=AS3.as(com.coremedia.cms.editor.sdk.editorContext.getCollectionViewManager(),com.coremedia.cms.editor.sdk.collectionview.CollectionViewManagerImpl).getCollectionView();var folderSelection=cv.getSelectedFolderValueExpression().getValue();var newName=event.value;var content=AS3.as(AS3.as(event.record,com.coremedia.ui.store.BeanRecord).getBean(),com.coremedia.cap.content.Content);com.coremedia.cms.editor.sdk.editorContext.getCollectionViewExtender().findExtension(folderSelection,
function(extension){var oldName=content.getName();if(oldName!==Ext.String.trim(newName))extension&&extension.getContentTreeRelation().rename(content,newName)});AS3.cast(Ext.grid.plugin.CellEditing,this["editingPlugin"]).cancelEdit()}function onDestroy(){com.coremedia.cms.editor.sdk.collectionview.list.AbstractListView.prototype.onDestroy.call(this);if(AS3.getBindable(this,"createdContentValueExpression"))AS3.getBindable(this,"createdContentValueExpression").removeChangeListener(AS3.bind(this,"contentCreated$O75G"));
this.selectedItemsValueExpression.removeChangeListener(AS3.bind(this,"handleSelectionValueExpressionChange$O75G"))}function setCollectionViewModel(collectionViewModel){this.collectionViewModel$O75G=collectionViewModel;this.collectionViewSortStateManager$O75G=new com.coremedia.cms.editor.sdk.collectionview.sort.CollectionViewSortStateManager(this.getCollectionViewModel(),this.getColumns(),this.orderByPropertyInCollectionViewModel$O75G);this.bindStoreAndView$O75G()}function getCollectionViewModel(){return this.collectionViewModel$O75G}
function contentCreated(){var this$=this;if(this.isActiveView$O75G()){var content=AS3.getBindable(this,"createdContentValueExpression").getValue();if(content)com.coremedia.ui.util.EventUtil.invokeLater(function(){this$.selectedItemsValueExpression.setValue([].concat(content));var rowNumber=com.coremedia.cms.editor.sdk.collectionview.list.AbstractListViewBase.findBeanRecordIndex(this$.getStore(),content);var row=this$.getView().getRow(rowNumber);if(row)row.scrollIntoView()})}}function isActiveView(){var myParent=
this.findParentByType(com.coremedia.cms.editor.sdk.collectionview.FolderContentContainer.xtype);var parent=AS3.as(this.findParentByType(com.coremedia.cms.editor.sdk.collectionview.FolderContentSwitchingContainer.xtype),com.coremedia.cms.editor.sdk.collectionview.FolderContentSwitchingContainer);return parent&&parent.isActiveView(myParent,com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants.LIST_VIEW)}function handleSelectionModelSelectionChange(){if(this.isActiveView$O75G()){var selectedItems=
this.getSelectedItemsFromSelectionModel$O75G();var createdContent=AS3.getBindable(this,"createdContentValueExpression")?AS3.getBindable(this,"createdContentValueExpression").getValue():null;if(selectedItems&&createdContent&&selectedItems.length===1&&selectedItems[0]===createdContent){AS3.getBindable(this,"createdContentValueExpression").setValue(null);var rowNumber=com.coremedia.cms.editor.sdk.collectionview.list.AbstractListViewBase.findBeanRecordIndex(this.getStore(),createdContent);if(this.getStore().getAt(rowNumber).get(NAME_FIELD$static))this.editRowAfterCreate$O75G(rowNumber);
else this.waitEditingCreated$O75G=createdContent}}}function getSelectedItemsFromSelectionModel(){var result=[];var selectedRecords=AS3.cast(Ext.selection.RowModel,this.selModel).getSelection();selectedRecords.forEach(function(record){result.push(record.getBean())});return result}function editRowAfterCreate(rowNumber){var this$=this;if(rowNumber!==-1){this.waitEditingCreated$O75G=null;com.coremedia.ui.util.EventUtil.invokeLater(function(){var row=this$.getView().getRow(rowNumber);var column=this$.getColumns().filter(function(col){return AS3.is(col,
com.coremedia.cms.editor.sdk.columns.grid.NameColumn)})[0];row&&column&&this$.forceStartEditing(row,column)})}}function handleStoreUpdate(store,record){if(this.waitEditingCreated$O75G&&this.waitEditingCreated$O75G===record.getBean()&&record.get(NAME_FIELD$static))this.editRowAfterCreate$O75G(store.indexOf(record))}function handleSelectionValueExpressionChange(){if(this.flipKeyPressed$O75G){var selectedItems=AS3.as(this.selectedItemsValueExpression.getValue(),Array);if(selectedItems&&selectedItems.length===
1){var selectedContent=AS3.as(this.selectedItemsValueExpression.getValue()[0],com.coremedia.cap.content.Content);if(selectedContent&&selectedContent.isDocument())com.coremedia.cms.editor.sdk.editorContext.getContentTabManager().openDocumentInActiveTab(selectedContent)}}}function handleKeyDown(e){com.coremedia.cms.editor.sdk.collectionview.list.AbstractListView.prototype.handleKeyDown.call(this,e);if(e.getKey()===FLIP_KEY$static)this.flipKeyPressed$O75G=true}function handleKeyUp(e){com.coremedia.cms.editor.sdk.collectionview.list.AbstractListView.prototype.handleKeyUp.call(this,
e);if(e.getKey()===FLIP_KEY$static)this.flipKeyPressed$O75G=false}function handleRowClick(){this.flipKeyPressed$O75G=false}function refreshColumnHeader(){var parent=this.findParentByType(com.coremedia.ui.components.SwitchingContainer.xtype);if(parent.isVisible(true)){Ext.suspendLayouts();this.updateSortCssStyles$O75G();Ext.resumeLayouts()}}function updateSortCssStyles(){var columns=this.getColumns();var columnSortDirection=this.getSortStateManager().getSortDirectionFromModel();var sortColumn=this.getSortStateManager().getSortColumnFromModel();
for(var $1=0;$1<columns.length;++$1){var column=columns[$1];var ascSortCls=column["ascSortCls"];var descSortCls=column["descSortCls"];if(column!==sortColumn)column.removeCls(ascSortCls).removeCls(descSortCls);else switch(columnSortDirection){case "asc":column.addCls(ascSortCls).removeCls(descSortCls);break;case "desc":column.removeCls(ascSortCls).addCls(descSortCls);break;default:column.removeCls(ascSortCls).removeCls(descSortCls)}}}function bindStoreAndView(){if(this.getCollectionViewModel()&&this.orderByPropertyInCollectionViewModel$O75G){this.getView()["headerCt"].setSortState=
function(){};this.mon(this.getView(),"refresh",AS3.bind(this,"refreshColumnHeader$O75G"));var mainStateBean=this.getCollectionViewModel().getMainStateBean();mainStateBean.addPropertyChangeListener(this.orderByPropertyInCollectionViewModel$O75G,AS3.bind(this,"refreshColumnHeader$O75G"))}}function getSortStateManager(){return this.collectionViewSortStateManager$O75G}return{extend:"com.coremedia.cms.editor.sdk.collectionview.list.AbstractListView",mixins:["com.coremedia.cms.editor.sdk.collectionview.sort.SortStateManagerProvider"],
metadata:{setCollectionViewModel:["InjectFromExtParent"]},flipKeyPressed$O75G:false,waitEditingCreated$O75G:null,collectionViewModel$O75G:null,collectionViewSortStateManager$O75G:null,orderByPropertyInCollectionViewModel$O75G:null,constructor:LibraryListViewBase$,super$O75G:function(){com.coremedia.cms.editor.sdk.collectionview.list.AbstractListView.prototype.constructor.apply(this,arguments)},afterRender:afterRender,onRename$O75G:onRename,onDestroy:onDestroy,setCollectionViewModel:setCollectionViewModel,
getCollectionViewModel:getCollectionViewModel,contentCreated$O75G:contentCreated,isActiveView$O75G:isActiveView,handleSelectionModelSelectionChange$O75G:handleSelectionModelSelectionChange,getSelectedItemsFromSelectionModel$O75G:getSelectedItemsFromSelectionModel,editRowAfterCreate$O75G:editRowAfterCreate,handleStoreUpdate$O75G:handleStoreUpdate,handleSelectionValueExpressionChange$O75G:handleSelectionValueExpressionChange,handleKeyDown:handleKeyDown,handleKeyUp:handleKeyUp,handleRowClick$O75G:handleRowClick,
refreshColumnHeader$O75G:refreshColumnHeader,updateSortCssStyles$O75G:updateSortCssStyles,bindStoreAndView$O75G:bindStoreAndView,getSortStateManager:getSortStateManager,config:{createdContentValueExpression:null},statics:{FLIP_KEY:undefined,__initStatics__:function(){FLIP_KEY$static_()}},requires:["Ext","Ext.String","Ext.event.Event","Ext.grid.plugin.CellEditing","Ext.grid.plugin.DragDrop","Ext.selection.RowModel","com.coremedia.cap.content.Content","com.coremedia.cms.editor.sdk.collectionview.list.AbstractListView",
"com.coremedia.cms.editor.sdk.collectionview.sort.SortStateManagerProvider","com.coremedia.ui.components.CustomEditorGridBase","com.coremedia.ui.components.SwitchingContainer","com.coremedia.ui.store.BeanRecord","com.coremedia.ui.util.EventUtil"],uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants","com.coremedia.cms.editor.sdk.collectionview.CollectionViewManagerImpl","com.coremedia.cms.editor.sdk.collectionview.FolderContentContainer","com.coremedia.cms.editor.sdk.collectionview.FolderContentSwitchingContainer",
"com.coremedia.cms.editor.sdk.collectionview.list.AbstractListViewBase","com.coremedia.cms.editor.sdk.collectionview.sort.CollectionViewSortStateManager","com.coremedia.cms.editor.sdk.columns.grid.NameColumn","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.list.ListViewBindListPluginBase",function(ListViewBindListPluginBase){function ListViewBindListPluginBase$(config){if(arguments.length<=0)config=null;var copiedConfig=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.list.ListViewBindListPlugin,Ext.apply({},config));AS3.setBindable(copiedConfig,"fields",AS3.getBindable(config,"fields","DUMMY").concat(com.coremedia.cms.editor.sdk.editorContext.getListViewDataFields()));this.super$$CK1(copiedConfig)}
function afterSetupStore(){var list=AS3.as(this.component,com.coremedia.cms.editor.sdk.collectionview.list.LibraryListView);if(list&&AS3.is(list,com.coremedia.cms.editor.sdk.collectionview.sort.SortStateManagerProvider))list.getStore().sort=function(dataIndex,dir){AS3.as(list,com.coremedia.cms.editor.sdk.collectionview.sort.SortStateManagerProvider).getSortStateManager().sortByDataIndex(dataIndex,true,dir)}}return{extend:"com.coremedia.ui.plugins.BindListPlugin",constructor:ListViewBindListPluginBase$,
super$$CK1:function(){com.coremedia.ui.plugins.BindListPlugin.prototype.constructor.apply(this,arguments)},afterSetupStore:afterSetupStore,requires:["Ext","com.coremedia.ui.plugins.BindListPlugin"],uses:["com.coremedia.cms.editor.sdk.collectionview.list.LibraryListView","com.coremedia.cms.editor.sdk.collectionview.list.ListViewBindListPlugin","com.coremedia.cms.editor.sdk.collectionview.sort.SortStateManagerProvider","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.list.ListViewCreationDateColumn",function(ListViewCreationDateColumn){function ListViewCreationDateColumn$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.columns.grid.CreationDateColumn,{});var defaults_$1=AS3.cast(ListViewCreationDateColumn,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.header=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"ListView_columnHeader_creationDate")||this.resourceManager.getString("com.coremedia.cms.editor.sdk.columns.grid.GridColumns","creationDate_header"));net.jangaroo.ext.Exml.apply(config_$1,config);this.super$ai1b(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.columns.grid.CreationDateColumn",metadata:{"":["PublicApi"]},constructor:ListViewCreationDateColumn$,super$ai1b:function(){com.coremedia.cms.editor.sdk.columns.grid.CreationDateColumn.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.Editor_properties",
"com.coremedia.cms.editor.sdk.columns.grid.CreationDateColumn","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.list.ListViewLifecycleStatusColumn",function(ListViewLifecycleStatusColumn){function ListViewLifecycleStatusColumn$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.grid.column.Template,{});var defaults_$1=AS3.cast(ListViewLifecycleStatusColumn,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.header=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","ListView_columnHeader_lifecycleStatus"));
AS3.setBindable(config_$1,"width",46);config_$1.dataIndex="lifecycleStatus";config_$1.tpl=new Ext.Template('\x3cimg width\x3d"16" height\x3d"16" class\x3d"status-{lifecycleStatus}" src\x3d'+Ext.BLANK_IMAGE_URL+"\x3e");net.jangaroo.ext.Exml.apply(config_$1,config);this.super$b6km(config_$1)}return{extend:"Ext.grid.column.Template",metadata:{"":["PublicApi","Deprecated",["since","2.0.3","replacement","com.coremedia.cms.editor.sdk.collectionview.list.ListViewStatusColumn"]]},constructor:ListViewLifecycleStatusColumn$,
super$b6km:function(){Ext.grid.column.Template.prototype.constructor.apply(this,arguments)},requires:["Ext","Ext.Template","Ext.grid.column.Template","com.coremedia.cms.editor.Editor_properties","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.list.ListViewTypeIconColumn",function(ListViewTypeIconColumn){function ListViewTypeIconColumn$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.columns.grid.TypeIconColumn,{});var defaults_$1=AS3.cast(ListViewTypeIconColumn,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"width",75);config_$1.resizable=true;config_$1.header=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"ListView_columnHeader_type")||this.resourceManager.getString("com.coremedia.cms.editor.sdk.columns.grid.GridColumns","type_header"));net.jangaroo.ext.Exml.apply(config_$1,config);this.super$MyIB(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.columns.grid.TypeIconColumn",metadata:{"":["PublicApi"]},constructor:ListViewTypeIconColumn$,super$MyIB:function(){com.coremedia.cms.editor.sdk.columns.grid.TypeIconColumn.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.Editor_properties",
"com.coremedia.cms.editor.sdk.columns.grid.TypeIconColumn","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.list.ListViewTypeColumn",function(ListViewTypeColumn){function ListViewTypeColumn$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.columns.grid.TypeColumn,{});var defaults_$1=AS3.cast(ListViewTypeColumn,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.header=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","ListView_columnHeader_type")||
this.resourceManager.getString("com.coremedia.cms.editor.sdk.columns.grid.GridColumns","type_header"));net.jangaroo.ext.Exml.apply(config_$1,config);this.super$igYo(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.columns.grid.TypeColumn",metadata:{"":["PublicApi"]},constructor:ListViewTypeColumn$,super$igYo:function(){com.coremedia.cms.editor.sdk.columns.grid.TypeColumn.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.columns.grid.TypeColumn",
"net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.list.ListViewSiteColumn",function(ListViewSiteColumn){function ListViewSiteColumn$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.columns.grid.SiteNameColumn,{});var defaults_$1=AS3.cast(ListViewSiteColumn,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$flh$(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.columns.grid.SiteNameColumn",
constructor:ListViewSiteColumn$,super$flh$:function(){com.coremedia.cms.editor.sdk.columns.grid.SiteNameColumn.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.columns.grid.SiteNameColumn","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.list.RepositoryListBase",function(RepositoryListBase){function RepositoryListBase$(config){if(arguments.length<=0)config=null;var columns=determineColumns$static(AS3.getBindable(config,"instanceName"));config.columns=com.coremedia.cms.editor.sdk.collectionview.list.AbstractListViewBase.createColumnModel(columns,config);var copiedConfig=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.list.RepositoryList,Ext.apply({},config));this.super$W5Au(copiedConfig)}
function determineColumns$static(instanceName){return com.coremedia.cms.editor.sdk.editorContext.getRepositoryListViewColumns(instanceName)}function getContentsValueExpression(){var this$=this;return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){if(!this$.getSelectedFolderExpression())return undefined;var selectedFolder=this$.getSelectedFolderExpression().getValue();var cvManager=AS3.as(com.coremedia.cms.editor.sdk.editorContext.getCollectionViewManager(),com.coremedia.cms.editor.sdk.collectionview.CollectionViewManagerInternal);
return cvManager.getFolderChildren(selectedFolder)})}function getSelectedFolderExpression(){return com.coremedia.ui.context.ComponentContextManager.getInstance().getContextExpression(this,com.coremedia.cms.editor.sdk.collectionview.CollectionView.SELECTED_FOLDER_VARIABLE_NAME)}return{extend:"com.coremedia.cms.editor.sdk.collectionview.list.LibraryListView",constructor:RepositoryListBase$,super$W5Au:function(){com.coremedia.cms.editor.sdk.collectionview.list.LibraryListView.prototype.constructor.apply(this,
arguments)},getContentsValueExpression:getContentsValueExpression,getSelectedFolderExpression:getSelectedFolderExpression,requires:["Ext","com.coremedia.cms.editor.sdk.collectionview.list.LibraryListView","com.coremedia.ui.context.ComponentContextManager","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionView","com.coremedia.cms.editor.sdk.collectionview.CollectionViewManagerInternal","com.coremedia.cms.editor.sdk.collectionview.list.AbstractListViewBase",
"com.coremedia.cms.editor.sdk.collectionview.list.RepositoryList","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.list.AbstractListView",function(AbstractListView){function AbstractListView$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.list.AbstractListViewBase,{});var defaults_$1=AS3.cast(AbstractListView,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var editor_LinkListViewDragZone_21_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.LinkListViewDragZone,{});AS3.setBindable(config_$1,
"dragZoneCfg",editor_LinkListViewDragZone_21_5_$1);var ui_BindSelectionPlugin_25_5_$1=AS3.cast(com.coremedia.ui.plugins.BindSelectionPlugin,{});AS3.setBindable(ui_BindSelectionPlugin_25_5_$1,"selectedValues",config.selectedItemsValueExpression);config_$1.plugins=[ui_BindSelectionPlugin_25_5_$1];config_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$GMSa(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.collectionview.list.AbstractListViewBase",
alias:"widget.com.coremedia.cms.editor.sdk.config.abstractListView",constructor:AbstractListView$,super$GMSa:function(){com.coremedia.cms.editor.sdk.collectionview.list.AbstractListViewBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.collectionview.list.AbstractListViewBase","com.coremedia.ui.plugins.BindSelectionPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.fields.LinkListViewDragZone"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.list.ListViewSiteLocaleColumn",function(ListViewSiteLocaleColumn){function ListViewSiteLocaleColumn$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.columns.grid.SiteLocaleColumn,{});var defaults_$1=AS3.cast(ListViewSiteLocaleColumn,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"width",80);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$L2Sv(config_$1)}
return{extend:"com.coremedia.cms.editor.sdk.columns.grid.SiteLocaleColumn",constructor:ListViewSiteLocaleColumn$,super$L2Sv:function(){com.coremedia.cms.editor.sdk.columns.grid.SiteLocaleColumn.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.columns.grid.SiteLocaleColumn","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.list.RepositoryList",function(RepositoryList){function RepositoryList$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.list.RepositoryListBase,{});var defaults_$1=AS3.cast(RepositoryList,{});AS3.setBindable(defaults_$1,"instanceName","defaultCollectionViewList");config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"orderByPropertyInCollectionViewModel",
net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.ORDER_BY_PROPERTY_REPOSITORY_LIST));config_$1.emptyText=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","CollectionView_emptyFolder_text"));config_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","CollectionView_repositorylist_text"));config_$1.header=false;var editor_ListViewBindListPlugin_38_5_$1=
AS3.cast(com.coremedia.cms.editor.sdk.collectionview.list.ListViewBindListPlugin,{});AS3.setBindable(editor_ListViewBindListPlugin_38_5_$1,"bindTo",this.getContentsValueExpression());var ui_ContextMenuPlugin_39_5_$1=AS3.cast(com.coremedia.ui.plugins.ContextMenuPlugin,{});var editor_CollectionRepositoryContextMenu_41_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.CollectionRepositoryContextMenu,{});editor_CollectionRepositoryContextMenu_41_9_$1.selectedItemsValueExpression=config.selectedItemsValueExpression;
AS3.setBindable(editor_CollectionRepositoryContextMenu_41_9_$1,"selectedFolderValueExpression",this.getSelectedFolderExpression());AS3.setBindable(ui_ContextMenuPlugin_39_5_$1,"contextMenu",editor_CollectionRepositoryContextMenu_41_9_$1);config_$1.plugins=[editor_ListViewBindListPlugin_38_5_$1,ui_ContextMenuPlugin_39_5_$1];config_$1["plugins$at"]=net.jangaroo.ext.Exml.PREPEND;var editor_ListViewTypeIconColumn_49_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.list.ListViewTypeIconColumn,
{});AS3.setBindable(editor_ListViewTypeIconColumn_49_5_$1,"showTypeName",true);editor_ListViewTypeIconColumn_49_5_$1.sortable=true;editor_ListViewTypeIconColumn_49_5_$1["sortField"]="type";var editor_ListViewNameColumn_52_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.list.ListViewNameColumn,{});editor_ListViewNameColumn_52_5_$1.sortable=true;editor_ListViewNameColumn_52_5_$1["defaultSortColumn"]=true;editor_ListViewNameColumn_52_5_$1["defaultSortDirection"]="asc";var editor_ListViewCreationDateColumn_55_5_$1=
AS3.cast(com.coremedia.cms.editor.sdk.collectionview.list.ListViewCreationDateColumn,{});editor_ListViewCreationDateColumn_55_5_$1.sortable=true;var editor_FreshnessColumn_56_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.columns.grid.FreshnessColumn,{});AS3.setBindable(editor_FreshnessColumn_56_5_$1,"hidden",true);editor_FreshnessColumn_56_5_$1.sortable=true;var editor_ListViewStatusColumn_58_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.list.ListViewStatusColumn,{});editor_ListViewStatusColumn_58_5_$1.sortable=
true;AS3.setBindable(config_$1,"defaultColumns",[editor_ListViewTypeIconColumn_49_5_$1,editor_ListViewNameColumn_52_5_$1,editor_ListViewCreationDateColumn_55_5_$1,editor_FreshnessColumn_56_5_$1,editor_ListViewStatusColumn_58_5_$1]);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$cTD7(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.collectionview.list.RepositoryListBase",alias:"widget.com.coremedia.cms.editor.sdk.config.repositoryList",constructor:RepositoryList$,super$cTD7:function(){com.coremedia.cms.editor.sdk.collectionview.list.RepositoryListBase.prototype.constructor.apply(this,
arguments)},config:{instanceName:null},requires:["com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.collectionview.list.RepositoryListBase","com.coremedia.ui.plugins.ContextMenuPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionRepositoryContextMenu","com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel","com.coremedia.cms.editor.sdk.collectionview.list.ListViewBindListPlugin","com.coremedia.cms.editor.sdk.collectionview.list.ListViewCreationDateColumn",
"com.coremedia.cms.editor.sdk.collectionview.list.ListViewNameColumn","com.coremedia.cms.editor.sdk.collectionview.list.ListViewStatusColumn","com.coremedia.cms.editor.sdk.collectionview.list.ListViewTypeIconColumn","com.coremedia.cms.editor.sdk.columns.grid.FreshnessColumn"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.list.AbstractListViewBase",function(AbstractListViewBase){function AbstractListViewBase$(config){if(arguments.length<=0)config=null;this.super$KB0L(config)}function allowEdit(bean){var content=AS3.as(bean,com.coremedia.cap.content.Content);return content&&content.getRepository().getAccessControl().mayPerform(content,com.coremedia.cap.content.authorization.Right.WRITE)}function editContentName(content){var row=this.getView().getRow(AbstractListViewBase.findBeanRecordIndex(this.getStore(),
content));var column=this.getColumns().filter(function(col){return AS3.is(col,com.coremedia.cms.editor.sdk.columns.grid.NameColumn)})[0];this.forceStartEditing(row,column)}function afterRender(){com.coremedia.ui.components.CustomEditorGrid.prototype.afterRender.call(this);this.el.on("keydown",AS3.bind(this,"handleKeyDown"));this.el.on("keyup",AS3.bind(this,"handleKeyUp"))}function getCellEditingPlugin(){return AS3.cast(Ext.grid.plugin.CellEditing,this.getPlugin("cellEditing"))}function handleKeyDown(e){if(e.getKey()===
Ext.event.Event.ENTER&&!this.getCellEditingPlugin$KB0L().editing){var contents=this.selectedItemsValueExpression.getValue();if(contents)if(contents.length===1&&AS3.cast(com.coremedia.cap.content.Content,contents[0]).isFolder())com.coremedia.cms.editor.sdk.editorContext.getCollectionViewManager().showInRepository(contents[0]);else com.coremedia.cms.editor.sdk.editorContext.getContentTabManager().openDocuments(this.selectedItemsValueExpression.getValue())}}function handleKeyUp(e){}function createColumnModel$static(columns,
config){if(columns&&columns.length>0)columns=columns.concat();else columns=AS3.getBindable(config,"defaultColumns");return columns}function findBeanRecordIndex$static(store,bean){if(bean)return store.findBy(function(record){return record.getBean()===bean});return-1}return{extend:"com.coremedia.ui.components.CustomEditorGrid",mixins:["com.coremedia.cms.editor.sdk.actions.CanEditContentName"],ddPlugin$KB0L:null,selectedItemsValueExpression:null,constructor:AbstractListViewBase$,super$KB0L:function(){com.coremedia.ui.components.CustomEditorGrid.prototype.constructor.apply(this,
arguments)},allowEdit:allowEdit,editContentName:editContentName,afterRender:afterRender,getCellEditingPlugin$KB0L:getCellEditingPlugin,handleKeyDown:handleKeyDown,handleKeyUp:handleKeyUp,config:{defaultColumns:null},statics:{createColumnModel:createColumnModel$static,findBeanRecordIndex:findBeanRecordIndex$static},requires:["Ext.event.Event","Ext.grid.plugin.CellEditing","com.coremedia.cap.content.Content","com.coremedia.cap.content.authorization.Right","com.coremedia.cms.editor.sdk.actions.CanEditContentName",
"com.coremedia.ui.components.CustomEditorGrid"],uses:["com.coremedia.cms.editor.sdk.columns.grid.NameColumn","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.list.SearchListBase",function(SearchListBase){function SearchListBase$(config){if(arguments.length<=0)config=null;var columns=this.determineColumns$jjQM(AS3.getBindable(config,"instanceName"));config.columns=com.coremedia.cms.editor.sdk.collectionview.list.AbstractListViewBase.createColumnModel(columns,config);var copiedConfig=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.list.SearchList,Ext.apply({},config));this.super$jjQM(copiedConfig)}
function determineColumns(instanceName){return com.coremedia.cms.editor.sdk.editorContext.getSearchListViewColumns(instanceName)}return{extend:"com.coremedia.cms.editor.sdk.collectionview.list.LibraryListView",constructor:SearchListBase$,super$jjQM:function(){com.coremedia.cms.editor.sdk.collectionview.list.LibraryListView.prototype.constructor.apply(this,arguments)},determineColumns$jjQM:determineColumns,requires:["Ext","com.coremedia.cms.editor.sdk.collectionview.list.LibraryListView"],uses:["com.coremedia.cms.editor.sdk.collectionview.list.AbstractListViewBase",
"com.coremedia.cms.editor.sdk.collectionview.list.SearchList","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.list.ListViewBindListPlugin",function(ListViewBindListPlugin){function ListViewBindListPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.list.ListViewBindListPluginBase,{});var defaults_$1=AS3.cast(ListViewBindListPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"lazy",AS3.getBindable(config,"lazy","DUMMY")||true);var ui_DataField_31_5_$1=
AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_31_5_$1.name="type";ui_DataField_31_5_$1.mapping="type.name";ui_DataField_31_5_$1.ifError="";ui_DataField_31_5_$1.ifUnreadable="";ui_DataField_31_5_$1["convert"]=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.localizeDocumentTypeName;var ui_DataField_36_5_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_36_5_$1.name="typeCls";ui_DataField_36_5_$1.mapping="type";ui_DataField_36_5_$1.ifError="";ui_DataField_36_5_$1.ifUnreadable=
mx.resources.ResourceManager.getInstance().getString("com.coremedia.icons.CoreIcons","no_rights");ui_DataField_36_5_$1["convert"]=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.getIconStyleClassForContentType;var ui_DataField_41_5_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_41_5_$1.name="name";ui_DataField_41_5_$1.ifUnreadable=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.formatNotReadableNameFromBeanRecord;ui_DataField_41_5_$1.encode=true;ui_DataField_41_5_$1.ifError=
"";ui_DataField_41_5_$1.sortType=function(s){return s?s.toLowerCase():s};var ui_DataField_46_5_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_46_5_$1.name="nameClass";ui_DataField_46_5_$1.ifUnreadable="";ui_DataField_46_5_$1.ifError="";ui_DataField_46_5_$1.mapping="";ui_DataField_46_5_$1["convert"]=com.coremedia.cms.editor.sdk.util.AccessControlUtil.calculateCSSClasses;var ui_DataField_51_5_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_51_5_$1.name="creationDate";ui_DataField_51_5_$1.ifUnreadable=
"";ui_DataField_51_5_$1.ifError="";var ui_DataField_54_5_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_54_5_$1.name="status";ui_DataField_54_5_$1.ifUnreadable="";ui_DataField_54_5_$1.ifError="";ui_DataField_54_5_$1.mapping="";ui_DataField_54_5_$1["convert"]=com.coremedia.cms.editor.sdk.util.ContentLifecycleUtil.getDetailedLifecycleStatus;var ui_DataField_59_5_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_59_5_$1.name="editor";ui_DataField_59_5_$1.ifUnreadable="";ui_DataField_59_5_$1.ifError=
"";ui_DataField_59_5_$1.mapping="editor.name";var ui_DataField_63_5_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_63_5_$1.name="freshness";ui_DataField_63_5_$1.ifUnreadable="";ui_DataField_63_5_$1.ifError="";ui_DataField_63_5_$1.mapping="modificationDate";AS3.setBindable(config_$1,"fields",[ui_DataField_31_5_$1,ui_DataField_36_5_$1,ui_DataField_41_5_$1,ui_DataField_46_5_$1,ui_DataField_51_5_$1,ui_DataField_54_5_$1,ui_DataField_59_5_$1,ui_DataField_63_5_$1]);net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$jD8G(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.collectionview.list.ListViewBindListPluginBase",constructor:ListViewBindListPlugin$,super$jD8G:function(){com.coremedia.cms.editor.sdk.collectionview.list.ListViewBindListPluginBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.collectionview.list.ListViewBindListPluginBase","com.coremedia.ui.store.DataField","mx.resources.ResourceManager","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.util.AccessControlUtil",
"com.coremedia.cms.editor.sdk.util.ContentLifecycleUtil","com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.list.ListViewStatusColumn",function(ListViewStatusColumn){function ListViewStatusColumn$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.columns.grid.StatusColumn,{});var defaults_$1=AS3.cast(ListViewStatusColumn,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.header=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","ListView_columnHeader_status")||
this.resourceManager.getString("com.coremedia.cms.editor.sdk.columns.grid.GridColumns","status_header"));AS3.setBindable(config_$1,"width",46);config_$1.resizable=true;config_$1.fixed=false;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$VoRg(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.columns.grid.StatusColumn",metadata:{"":["PublicApi"]},constructor:ListViewStatusColumn$,super$VoRg:function(){com.coremedia.cms.editor.sdk.columns.grid.StatusColumn.prototype.constructor.apply(this,
arguments)},requires:["com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.columns.grid.StatusColumn","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.list.SearchList",function(SearchList){function __initialize__(){this.searchResultHitsValueExpression$_FOb=com.coremedia.ui.context.ComponentContextManager.getInstance().getContextExpression(this,com.coremedia.cms.editor.sdk.collectionview.CollectionView.SEARCHRESULT_VARIABLE_NAME).extendBy(com.coremedia.cap.content.search.SearchParameters.HITS);this.mySelectedItemsValueExpression$_FOb=com.coremedia.ui.context.ComponentContextManager.getInstance().getContextExpression(this,
com.coremedia.cms.editor.sdk.collectionview.CollectionView.SELECTED_SEARCH_ITEMS_VARIABLE_NAME)}function SearchList$(config){if(arguments.length<=0)config=null;this.__initialize__$_FOb();var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.list.SearchListBase,{});var defaults_$1=AS3.cast(SearchList,{});AS3.setBindable(defaults_$1,"instanceName","defaultCollectionViewList");config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.selectedItemsValueExpression=this.mySelectedItemsValueExpression$_FOb;
AS3.setBindable(config_$1,"orderByPropertyInCollectionViewModel",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.ORDER_BY_PROPERTY));config_$1.emptyText=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","CollectionView_emptySearch_text"));config_$1.header=false;var editor_ListViewBindListPlugin_47_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.list.ListViewBindListPlugin,{});AS3.setBindable(editor_ListViewBindListPlugin_47_5_$1,
"bindTo",this.searchResultHitsValueExpression$_FOb);AS3.setBindable(editor_ListViewBindListPlugin_47_5_$1,"initialViewLimit",50);AS3.setBindable(editor_ListViewBindListPlugin_47_5_$1,"viewLimitIncrement",100);var ui_ContextMenuPlugin_50_5_$1=AS3.cast(com.coremedia.ui.plugins.ContextMenuPlugin,{});var editor_CollectionSearchContextMenu_52_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.CollectionSearchContextMenu,{});editor_CollectionSearchContextMenu_52_9_$1.selectedItemsValueExpression=
this.mySelectedItemsValueExpression$_FOb;AS3.setBindable(ui_ContextMenuPlugin_50_5_$1,"contextMenu",editor_CollectionSearchContextMenu_52_9_$1);var editor_HandleEmptySearchResultPlugin_55_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.HandleEmptySearchResultPlugin,{});config_$1.plugins=[editor_ListViewBindListPlugin_47_5_$1,ui_ContextMenuPlugin_50_5_$1,editor_HandleEmptySearchResultPlugin_55_5_$1];config_$1["plugins$at"]=net.jangaroo.ext.Exml.PREPEND;var editor_ListViewTypeIconColumn_59_5_$1=
AS3.cast(com.coremedia.cms.editor.sdk.collectionview.list.ListViewTypeIconColumn,{});AS3.setBindable(editor_ListViewTypeIconColumn_59_5_$1,"showTypeName",true);editor_ListViewTypeIconColumn_59_5_$1.sortable=true;editor_ListViewTypeIconColumn_59_5_$1["sortField"]="type";var editor_ListViewNameColumn_62_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.list.ListViewNameColumn,{});editor_ListViewNameColumn_62_5_$1.sortable=true;var editor_ListViewCreationDateColumn_63_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.list.ListViewCreationDateColumn,
{});editor_ListViewCreationDateColumn_63_5_$1.sortable=true;var editor_FreshnessColumn_64_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.columns.grid.FreshnessColumn,{});AS3.setBindable(editor_FreshnessColumn_64_5_$1,"hidden",true);editor_FreshnessColumn_64_5_$1.sortable=true;var editor_ListViewStatusColumn_66_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.list.ListViewStatusColumn,{});editor_ListViewStatusColumn_66_5_$1.sortable=true;AS3.setBindable(config_$1,"defaultColumns",[editor_ListViewTypeIconColumn_59_5_$1,
editor_ListViewNameColumn_62_5_$1,editor_ListViewCreationDateColumn_63_5_$1,editor_FreshnessColumn_64_5_$1,editor_ListViewStatusColumn_66_5_$1]);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$_FOb(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.collectionview.list.SearchListBase",alias:"widget.com.coremedia.cms.editor.sdk.config.searchList",searchResultHitsValueExpression$_FOb:null,mySelectedItemsValueExpression$_FOb:null,__initialize__$_FOb:__initialize__,constructor:SearchList$,
super$_FOb:function(){com.coremedia.cms.editor.sdk.collectionview.list.SearchListBase.prototype.constructor.apply(this,arguments)},config:{instanceName:null},requires:["com.coremedia.cap.content.search.SearchParameters","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.collectionview.list.SearchListBase","com.coremedia.ui.context.ComponentContextManager","com.coremedia.ui.plugins.ContextMenuPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionSearchContextMenu",
"com.coremedia.cms.editor.sdk.collectionview.CollectionView","com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel","com.coremedia.cms.editor.sdk.collectionview.HandleEmptySearchResultPlugin","com.coremedia.cms.editor.sdk.collectionview.list.ListViewBindListPlugin","com.coremedia.cms.editor.sdk.collectionview.list.ListViewCreationDateColumn","com.coremedia.cms.editor.sdk.collectionview.list.ListViewNameColumn","com.coremedia.cms.editor.sdk.collectionview.list.ListViewStatusColumn","com.coremedia.cms.editor.sdk.collectionview.list.ListViewTypeIconColumn",
"com.coremedia.cms.editor.sdk.columns.grid.FreshnessColumn"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.list.LibraryListView",function(LibraryListView){function LibraryListView$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.list.LibraryListViewBase,{});var defaults_$1=AS3.cast(LibraryListView,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"ddGroup","ContentDD");AS3.setBindable(config_$1,"border",false);config_$1.bufferedRenderer=false;var editor_PersistColumnConfigurationPlugin_25_5_$1=
AS3.cast(com.coremedia.cms.editor.sdk.plugins.PersistColumnConfigurationPlugin,{});AS3.setBindable(editor_PersistColumnConfigurationPlugin_25_5_$1,"storeId","library-list-view");var ui_BEMPlugin_26_5_$1=AS3.cast(com.coremedia.ui.plugins.BEMPlugin,{});AS3.setBindable(ui_BEMPlugin_26_5_$1,"block","collection-view-grid");AS3.setBindable(ui_BEMPlugin_26_5_$1,"modifier","library");config_$1.plugins=[editor_PersistColumnConfigurationPlugin_25_5_$1,ui_BEMPlugin_26_5_$1];config_$1["plugins$at"]=net.jangaroo.ext.Exml.PREPEND;
net.jangaroo.ext.Exml.apply(config_$1,config);this.super$mFtV(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.collectionview.list.LibraryListViewBase",alias:"widget.com.coremedia.cms.editor.sdk.config.libraryListView",constructor:LibraryListView$,super$mFtV:function(){com.coremedia.cms.editor.sdk.collectionview.list.LibraryListViewBase.prototype.constructor.apply(this,arguments)},config:{orderByPropertyInCollectionViewModel:null},requires:["com.coremedia.cms.editor.sdk.collectionview.list.LibraryListViewBase",
"com.coremedia.ui.plugins.BEMPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.plugins.PersistColumnConfigurationPlugin"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.list.ListViewNameColumn",function(ListViewNameColumn){function ListViewNameColumn$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.columns.grid.NameColumn,{});var defaults_$1=AS3.cast(ListViewNameColumn,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.flex=1;config_$1.header=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","ListView_columnHeader_name")||
this.resourceManager.getString("com.coremedia.cms.editor.sdk.columns.grid.GridColumns","name_header"));var textField_30_5_$1=AS3.cast(Ext.form.field.Text,{});textField_30_5_$1.selectOnFocus=true;var ui_StopEventPropagationPlugin_32_9_$1=AS3.cast(com.coremedia.ui.plugins.StopEventPropagationPlugin,{});textField_30_5_$1.plugins=[ui_StopEventPropagationPlugin_32_9_$1];textField_30_5_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;AS3.setBindable(config_$1,"editor",textField_30_5_$1);net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$x1D3(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.columns.grid.NameColumn",metadata:{"":["PublicApi"]},constructor:ListViewNameColumn$,super$x1D3:function(){com.coremedia.cms.editor.sdk.columns.grid.NameColumn.prototype.constructor.apply(this,arguments)},requires:["Ext.form.field.Text","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.columns.grid.NameColumn","com.coremedia.ui.plugins.StopEventPropagationPlugin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.ICollectionView",function(ICollectionView){return{}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.HandleEmptySearchResultPlugin",function(HandleEmptySearchResultPlugin){function HandleEmptySearchResultPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.HandleEmptySearchResultPluginBase,{});var defaults_$1=AS3.cast(HandleEmptySearchResultPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$MHfC(config_$1)}
return{extend:"com.coremedia.cms.editor.sdk.collectionview.HandleEmptySearchResultPluginBase",constructor:HandleEmptySearchResultPlugin$,super$MHfC:function(){com.coremedia.cms.editor.sdk.collectionview.HandleEmptySearchResultPluginBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.collectionview.HandleEmptySearchResultPluginBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.search.ConditionalFilterPanel",function(ConditionalFilterPanel){function ConditionalFilterPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.search.ConditionalFilterPanelBase,{});var defaults_$1=AS3.cast(ConditionalFilterPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"collapsed",true);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$s7Gx(config_$1)}
return{extend:"com.coremedia.cms.editor.sdk.collectionview.search.ConditionalFilterPanelBase",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.conditionalFilterPanel",constructor:ConditionalFilterPanel$,super$s7Gx:function(){com.coremedia.cms.editor.sdk.collectionview.search.ConditionalFilterPanelBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.collectionview.search.ConditionalFilterPanelBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.search.TranslationStatusFilterUtil",function(TranslationStatusFilterUtil){function getRootSite$static(site){var current=site;while(current.getMasterSite())current=current.getMasterSite();return current}function getSiteDisplayName$static(site){return site.getLocale().getDisplayName()}function getAllDerivedSites$static(rootSite){var result=[];addDerivedSites$static(rootSite,result);com.coremedia.ui.util.ArrayUtils.sortByAspects(result,TranslationStatusFilterUtil.getSiteDisplayName);
return result}function addDerivedSites$static(site,result){var derivedSites=site.getDerivedSites();if(derivedSites)for(var i=0;i<derivedSites.length;i++){var derivedSite=derivedSites[i];if(derivedSite.isLanguageTranslationTargetSite()&&!derivedSite.isUnderConstruction()){result.push(derivedSite);addDerivedSites$static(derivedSite,result)}}}function isAppropriateSite$static(site){return!!site&&!!site.getMasterSite()}function TranslationStatusFilterUtil$(){}return{constructor:TranslationStatusFilterUtil$,
statics:{getRootSite:getRootSite$static,getSiteDisplayName:getSiteDisplayName$static,getAllDerivedSites:getAllDerivedSites$static,isAppropriateSite:isAppropriateSite$static},requires:["com.coremedia.ui.util.ArrayUtils"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.search.SiteFilterPanelBase",function(SiteFilterPanelBase){var FILTER_QUERY_SITE$static="folderpath:\x3c{0}\x3e";function SiteFilterPanelBase$(config){if(arguments.length<=0)config=null;this.super$9zC1(config);this.addListener(com.coremedia.ui.mixins.LazyItemsContainerMixin.LAZY_ITEMS_ADDED_EVENT,AS3.bind(this,"afterLazyItemsAdded$9zC1"))}function afterLazyItemsAdded(){this.radioGroup$9zC1=AS3.as(this.queryById(SiteFilterPanelBase.RADIO_GROUP_ITEM_ID),
Ext.form.RadioGroup);this.mon(this.radioGroup$9zC1,"change",AS3.bind(this,"radioGroupChanged$9zC1"));this.getStateBean().addValueChangeListener(AS3.bind(this,"stateBeanChanged$9zC1"))}function afterLayout(layout){this.stateBeanChanged$9zC1();com.coremedia.cms.editor.sdk.collectionview.search.FilterPanel.prototype.afterLayout.call(this,layout)}function radioGroupChanged(radioGroup,radio){if(this.viewUpdateInProgress$9zC1)return;this.getStateBean().set(SiteFilterPanelBase.SITE_PROPERTY,radio[this.getRadioGroupName()])}
function getRadioGroupName(){return SiteFilterPanelBase.RADIO_GROUP_NAME+this.getId()}function stateBeanChanged(){if(this.radioGroup$9zC1){this.viewUpdateInProgress$9zC1=true;try{var stateBean=this.getStateBean();var selectedSiteId=stateBean.get(SiteFilterPanelBase.SITE_PROPERTY)||"";var radioGroupValue={};radioGroupValue[this.getRadioGroupName()]=selectedSiteId;this.radioGroup$9zC1.setValue(radioGroupValue)}finally{this.viewUpdateInProgress$9zC1=false}}}function buildQuery(){var stateBean=this.getStateBean();
var siteId=stateBean.get(SiteFilterPanelBase.SITE_PROPERTY);if(siteId===SiteFilterPanelBase.PREFERRED_SITE_VALUE){var preferredSite=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getPreferredSite();if(preferredSite){var siteRootFolder=preferredSite.getSiteRootFolder();var query=Ext.String.format(FILTER_QUERY_SITE$static,siteRootFolder.getUriPath());return query}}return null}function getDefaultState(){var state={};state[SiteFilterPanelBase.SITE_PROPERTY]=SiteFilterPanelBase.NO_FILTER_VALUE;
return state}return{extend:"com.coremedia.cms.editor.sdk.collectionview.search.FilterPanel",viewUpdateInProgress$9zC1:false,radioGroup$9zC1:null,constructor:SiteFilterPanelBase$,super$9zC1:function(){com.coremedia.cms.editor.sdk.collectionview.search.FilterPanel.prototype.constructor.apply(this,arguments)},afterLazyItemsAdded$9zC1:afterLazyItemsAdded,afterLayout:afterLayout,radioGroupChanged$9zC1:radioGroupChanged,getRadioGroupName:getRadioGroupName,stateBeanChanged$9zC1:stateBeanChanged,buildQuery:buildQuery,
getDefaultState:getDefaultState,statics:{SITE_PROPERTY:"site",PREFERRED_SITE_VALUE:"PREFERRED",NO_FILTER_VALUE:"ANY",RADIO_GROUP_ITEM_ID:"radiogroup",RADIO_GROUP_NAME:"siteFilterGroup"},requires:["Ext.String","Ext.form.RadioGroup","com.coremedia.cms.editor.sdk.collectionview.search.FilterPanel","com.coremedia.ui.mixins.LazyItemsContainerMixin"],uses:["com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.search.SearchFilter",function(SearchFilter){return{}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.search.TranslationStatusSiteSelectorBase",function(TranslationStatusSiteSelectorBase){function TranslationStatusSiteSelectorBase$(config){var this$=this;if(arguments.length<=0)config=null;this.super$jQW5(config);this.rootSitesComboBox$jQW5=AS3.as(this.getComponent(TranslationStatusSiteSelectorBase.ROOT_SITES_COMBO_BOX_ITEM_ID),Ext.form.field.ComboBox);this.rootSitesStore$jQW5=AS3.as(this.rootSitesComboBox$jQW5.getStore(),Ext.data.Store);this.derivedSitesComboBox$jQW5=
AS3.as(this.getComponent(TranslationStatusSiteSelectorBase.DERIVED_SITES_COMBO_BOX_ITEM_ID),Ext.form.field.ComboBox);this.derivedSitesStore$jQW5=AS3.as(this.derivedSitesComboBox$jQW5.getStore(),Ext.data.Store);var rootSitesVE=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"getRootSites"));rootSitesVE.loadValue(function(rootSites){this$.rootSitesStore$jQW5.setData(this$.convertSites$jQW5(rootSites));rootSites.length>0&&this$.rootSitesComboBox$jQW5.select(rootSites[0])});
this.rootSitesComboBox$jQW5.on("change",AS3.bind(this,"selectedRootSiteChanged$jQW5"));this.derivedSitesComboBox$jQW5.on("change",AS3.bind(this,"selectedDerivedSiteChanged$jQW5"));AS3.getBindable(this,"selectedSiteIdValueExpression").addChangeListener(AS3.bind(this,"selectedSiteChanged$jQW5"));this.selectedSiteChanged$jQW5();this.preferresSiteVE$jQW5=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){return com.coremedia.cms.editor.sdk.editorContext.getSitesService().getPreferredSite()});
this.preferresSiteVE$jQW5.addChangeListener(AS3.bind(this,"preferredSiteChanged$jQW5"));this.preferredSiteChanged$jQW5()}function preferredSiteChanged(){var preferredSite=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getPreferredSite();var model=this.rootSitesStore$jQW5.findRecord("id",com.coremedia.cms.editor.sdk.translate.TranslationStatusSearchUtil.PREFERRED_SITE_ID);if(preferredSite&&preferredSite.isLanguageTranslationTargetSite()){if(!model)this.rootSitesStore$jQW5.insert(0,{id:com.coremedia.cms.editor.sdk.translate.TranslationStatusSearchUtil.PREFERRED_SITE_ID,
name:this.resourceManager.getString("com.coremedia.cms.editor.Editor","Filter_TranslationStatus_preferredSite_text"),localeDisplayName:preferredSite.getLocale()?preferredSite.getLocale().getDisplayName():"-"})}else if(!!model)this.rootSitesStore$jQW5.remove(model)}function convertSites(sites){if(!sites)return sites;return sites.map(function(site){return{id:site.getId(),name:site.getName(),localeDisplayName:site.getLocale()?site.getLocale().getDisplayName():"-"}})}function selectedSiteChanged(){var selectedSiteId=
AS3.getBindable(this,"selectedSiteIdValueExpression").getValue();if(!selectedSiteId||selectedSiteId===com.coremedia.cms.editor.sdk.translate.TranslationStatusSearchUtil.PREFERRED_SITE_ID)this.rootSitesComboBox$jQW5.setValue(selectedSiteId);else{var site=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getSite(selectedSiteId);if(!site)return;this.lastSelectedLocale$jQW5=site.getLocale();site=com.coremedia.cms.editor.sdk.collectionview.search.TranslationStatusFilterUtil.getRootSite(site);
this.rootSitesComboBox$jQW5.setValue(site.getId())}}function getRootSites(){var sitesService=com.coremedia.cms.editor.sdk.editorContext.getSitesService();var sites=sitesService.getSites();if(!sites)return undefined;var result=sites.filter(function(site){return!site.getMasterSite()&&site.getDerivedSites().length>0&&!site.isUnderConstruction()});com.coremedia.ui.util.ArrayUtils.sortByAspects(result,function(site){return site.getName()});var preferredSite=sitesService.getPreferredSite();if(preferredSite)result.unshift(new com.coremedia.cms.editor.sdk.sites.SiteImpl(com.coremedia.cms.editor.sdk.translate.TranslationStatusSearchUtil.PREFERRED_SITE_ID,
null,null,null,null,this.resourceManager.getString("com.coremedia.cms.editor.Editor","Filter_TranslationStatus_preferredSite_text"),null,null,false,false));return result}function selectedRootSiteChanged(){var selectedRootSiteId=this.rootSitesComboBox$jQW5.getValue();var derivedSites=getDerivedSites$static(this.rootSitesComboBox$jQW5.getValue());this.derivedSitesStore$jQW5.setData(this.convertSites$jQW5(derivedSites));if(!selectedRootSiteId||selectedRootSiteId===com.coremedia.cms.editor.sdk.translate.TranslationStatusSearchUtil.PREFERRED_SITE_ID){this.derivedSitesComboBox$jQW5.setValue(null);
this.derivedSitesComboBox$jQW5.hide();AS3.getBindable(this,"selectedSiteIdValueExpression").setValue(selectedRootSiteId)}else{this.derivedSitesComboBox$jQW5.show();if(derivedSites.length>0){if(this.lastSelectedLocale$jQW5)for(var i=0;i<derivedSites.length;i++){var site=derivedSites[i];var siteLocale=site.getLocale();if(this.lastSelectedLocale$jQW5.equals(siteLocale)){this.derivedSitesComboBox$jQW5.setValue(site.getId());return}}this.derivedSitesComboBox$jQW5.setValue(derivedSites[0].getId())}}}function selectedDerivedSiteChanged(){var selectedDerivedSiteId=
this.derivedSitesComboBox$jQW5.getValue();if(selectedDerivedSiteId)AS3.getBindable(this,"selectedSiteIdValueExpression").setValue(selectedDerivedSiteId)}function getDerivedSites$static(rootSiteId){if(!rootSiteId)return[];var rootSite=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getSite(rootSiteId);if(!rootSite)return[];return com.coremedia.cms.editor.sdk.collectionview.search.TranslationStatusFilterUtil.getAllDerivedSites(rootSite)}function beforeDestroy(){this.preferresSiteVE$jQW5.removeChangeListener(AS3.bind(this,
"preferredSiteChanged$jQW5"));AS3.getBindable(this,"selectedSiteIdValueExpression").removeChangeListener(AS3.bind(this,"selectedSiteChanged$jQW5"));Ext.container.Container.prototype.beforeDestroy.call(this)}return{extend:"Ext.container.Container",rootSitesComboBox$jQW5:null,rootSitesStore$jQW5:null,derivedSitesComboBox$jQW5:null,derivedSitesStore$jQW5:null,lastSelectedLocale$jQW5:null,preferresSiteVE$jQW5:null,constructor:TranslationStatusSiteSelectorBase$,super$jQW5:function(){Ext.container.Container.prototype.constructor.apply(this,
arguments)},preferredSiteChanged$jQW5:preferredSiteChanged,convertSites$jQW5:convertSites,selectedSiteChanged$jQW5:selectedSiteChanged,getRootSites:getRootSites,selectedRootSiteChanged$jQW5:selectedRootSiteChanged,selectedDerivedSiteChanged$jQW5:selectedDerivedSiteChanged,beforeDestroy:beforeDestroy,config:{selectedSiteIdValueExpression:null},statics:{ROOT_SITES_COMBO_BOX_ITEM_ID:"rootSitesComboBox",DERIVED_SITES_COMBO_BOX_ITEM_ID:"derivedSitesComboBox"},requires:["Ext.container.Container","Ext.data.Store",
"Ext.form.field.ComboBox","com.coremedia.cms.editor.Editor_properties","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.util.ArrayUtils"],uses:["com.coremedia.cms.editor.sdk.collectionview.search.TranslationStatusFilterUtil","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.sites.SiteImpl","com.coremedia.cms.editor.sdk.translate.TranslationStatusSearchUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.search.TranslationStatusSiteSelector",function(TranslationStatusSiteSelector){function TranslationStatusSiteSelector$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.search.TranslationStatusSiteSelectorBase,{});var defaults_$1=AS3.cast(TranslationStatusSiteSelector,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var ui_LocalComboBox_21_5_$1=AS3.cast(com.coremedia.ui.components.LocalComboBox,
{});ui_LocalComboBox_21_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.search.TranslationStatusSiteSelectorBase.ROOT_SITES_COMBO_BOX_ITEM_ID);AS3.setBindable(ui_LocalComboBox_21_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","Filter_TranslationStatus_site_text")));AS3.setBindable(ui_LocalComboBox_21_5_$1,"displayField","name");ui_LocalComboBox_21_5_$1.valueField="id";AS3.setBindable(ui_LocalComboBox_21_5_$1,
"encodeItems",true);AS3.setBindable(ui_LocalComboBox_21_5_$1,"emptyText",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","Filter_TranslationStatus_noSite_text")));var store_Json_28_9_$1=AS3.cast(Ext.data.JsonStore,{});var ui_DataField_30_13_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_30_13_$1.name="name";ui_DataField_30_13_$1.sortType=AS3.bind(Ext.data.SortTypes,"asUCString");ui_DataField_30_13_$1.encode=false;var ui_DataField_33_13_$1=
AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_33_13_$1.name="id";ui_DataField_33_13_$1.encode=false;AS3.setBindable(store_Json_28_9_$1,"fields",[ui_DataField_30_13_$1,ui_DataField_33_13_$1]);AS3.setBindable(ui_LocalComboBox_21_5_$1,"store",new Ext.data.JsonStore(store_Json_28_9_$1));ui_LocalComboBox_21_5_$1.plugins=[];ui_LocalComboBox_21_5_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var ui_LocalComboBox_42_5_$1=AS3.cast(com.coremedia.ui.components.LocalComboBox,{});ui_LocalComboBox_42_5_$1.itemId=
net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.search.TranslationStatusSiteSelectorBase.DERIVED_SITES_COMBO_BOX_ITEM_ID);AS3.setBindable(ui_LocalComboBox_42_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","Filter_TranslationStatus_locale_text")));AS3.setBindable(ui_LocalComboBox_42_5_$1,"displayField","localeDisplayName");ui_LocalComboBox_42_5_$1.valueField="id";AS3.setBindable(ui_LocalComboBox_42_5_$1,"encodeItems",
true);AS3.setBindable(ui_LocalComboBox_42_5_$1,"hidden",true);var store_Json_49_9_$1=AS3.cast(Ext.data.JsonStore,{});var ui_DataField_51_13_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_51_13_$1.name="localeDisplayName";ui_DataField_51_13_$1.encode=false;var ui_DataField_53_13_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_53_13_$1.name="id";ui_DataField_53_13_$1.encode=false;AS3.setBindable(store_Json_49_9_$1,"fields",[ui_DataField_51_13_$1,ui_DataField_53_13_$1]);
AS3.setBindable(ui_LocalComboBox_42_5_$1,"store",new Ext.data.JsonStore(store_Json_49_9_$1));ui_LocalComboBox_42_5_$1.plugins=[];ui_LocalComboBox_42_5_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;config_$1.items=[ui_LocalComboBox_21_5_$1,ui_LocalComboBox_42_5_$1];var ui_LocalComboBox_63_5_$1=AS3.cast(com.coremedia.ui.components.LocalComboBox,{});ui_LocalComboBox_63_5_$1.anchor="100%";ui_LocalComboBox_63_5_$1.labelAlign="top";ui_LocalComboBox_63_5_$1.labelSeparator="";config_$1["defaultType"]=ui_LocalComboBox_63_5_$1["xtype"];
delete ui_LocalComboBox_63_5_$1["xtype"];delete ui_LocalComboBox_63_5_$1["xclass"];config_$1.defaults=ui_LocalComboBox_63_5_$1;var layout_Anchor_68_5_$1=AS3.cast(Ext.layout.container.Anchor,{});AS3.setBindable(config_$1,"layout",layout_Anchor_68_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$FzSK(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.collectionview.search.TranslationStatusSiteSelectorBase",alias:"widget.com.coremedia.cms.editor.sdk.config.translationStatusSiteSelector",
constructor:TranslationStatusSiteSelector$,super$FzSK:function(){com.coremedia.cms.editor.sdk.collectionview.search.TranslationStatusSiteSelectorBase.prototype.constructor.apply(this,arguments)},requires:["Ext.data.JsonStore","Ext.data.SortTypes","Ext.layout.container.Anchor","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.collectionview.search.TranslationStatusSiteSelectorBase","com.coremedia.ui.components.LocalComboBox","com.coremedia.ui.store.DataField","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.search.SearchAreaBase",function(SearchAreaBase){function SearchAreaBase$(config){if(arguments.length<=0)config=null;this.super$riJx(config);this.getSelectedFolderExpression$riJx().addChangeListener(AS3.bind(this,"folderSelectionChanged$riJx"));this.searchField$riJx=AS3.as(this.queryById(SearchAreaBase.SEARCH_FIELD_ITEM_ID),com.coremedia.cms.editor.sdk.collectionview.search.SearchField)}function search(){this.searchField$riJx.search()}function getSearchField(){return this.searchField$riJx}
function back(){AS3.getBindable(this,"collectionViewModel").getHistory().back()}function forward(){AS3.getBindable(this,"collectionViewModel").getHistory().forward()}function folderSelectionChanged(ve){var this$=this;var selection=ve.getValue();com.coremedia.cms.editor.sdk.editorContext.getCollectionViewExtender().findExtension(selection,function(extension){var availableSearchTypes=extension?extension.getAvailableSearchTypes(selection):[];var typeCombo=this$.getContentTypeSelector();var value=typeCombo.getValue();
AS3.cast(Ext.data.Store,typeCombo.getStore()).loadData(availableSearchTypes);if(value===null)typeCombo.setValue(AS3.getBindable(typeCombo,"contentTypeValueExpression").getValue());else typeCombo.setValue(value);var searchable=extension&&extension.isSearchable();this$.disableChild$riJx(SearchAreaBase.SWITCH_TO_SEARCH_BUTTON_ITEM_ID,!searchable);this$.disableChild$riJx(SearchAreaBase.SEARCH_BUTTON_ITEM_ID,!searchable);this$.disableChild$riJx(SearchAreaBase.SEARCH_FIELD_ITEM_ID,!searchable);typeCombo.setDisabled(!searchable)})}
function disableChild(itemId,disable){var component=this.queryById(itemId);if(component)component.setDisabled(disable)}function afterRender(){Ext.container.Container.prototype.afterRender.call(this);this.folderSelectionChanged$riJx(this.getSelectedFolderExpression$riJx())}function getContentTypeSelector(){return AS3.as(this.queryById(SearchAreaBase.TYPE_BOX_COMBO_ITEM_ID),com.coremedia.cms.editor.sdk.collectionview.search.ContentTypeSelector)}function getSelectedFolderExpression(){return com.coremedia.ui.context.ComponentContextManager.getInstance().getContextExpression(this,
com.coremedia.cms.editor.sdk.collectionview.CollectionView.SELECTED_FOLDER_VARIABLE_NAME)}function getContentTypeValueExpression(collectionViewModel){if(!this.contentTypeValueExpression$riJx)this.contentTypeValueExpression$riJx=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.CONTENT_TYPE_PROPERTY,collectionViewModel.getMainStateBean());return this.contentTypeValueExpression$riJx}return{extend:"Ext.container.Container",contentTypeValueExpression$riJx:null,
searchField$riJx:null,constructor:SearchAreaBase$,super$riJx:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},search:search,getSearchField:getSearchField,back:back,forward:forward,folderSelectionChanged$riJx:folderSelectionChanged,disableChild$riJx:disableChild,afterRender:afterRender,getContentTypeSelector:getContentTypeSelector,getSelectedFolderExpression$riJx:getSelectedFolderExpression,getContentTypeValueExpression:getContentTypeValueExpression,config:{collectionViewModel:null},
statics:{BREADCRUMB_ITEM_ID:"breadcrumb",SEARCH_FIELD_ITEM_ID:"searchField",SEARCH_BUTTON_ITEM_ID:"startSearch",SWITCH_TO_SEARCH_BUTTON_ITEM_ID:"switchToSearch",TYPE_BOX_COMBO_ITEM_ID:"typeBox"},requires:["Ext.container.Container","Ext.data.Store","com.coremedia.ui.context.ComponentContextManager","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionView","com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel","com.coremedia.cms.editor.sdk.collectionview.search.ContentTypeSelector",
"com.coremedia.cms.editor.sdk.collectionview.search.SearchField","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.search.LastEditedFilterPanel",function(LastEditedFilterPanel){function LastEditedFilterPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.search.LastEditedFilterPanelBase,{});var defaults_$1=AS3.cast(LastEditedFilterPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.itemId=net.jangaroo.ext.Exml.asString(LastEditedFilterPanel.FILTER_ID);AS3.setBindable(config_$1,
"title",this.resourceManager.getString("com.coremedia.cms.editor.Editor","Filter_lastEditedBy_text"));var container_28_5_$1=AS3.cast(Ext.container.Container,{});var editor_ComboBoxAutoWidth_30_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.ComboBoxAutoWidth,{});editor_ComboBoxAutoWidth_30_9_$1.itemId="lastEditedByFilter";AS3.setBindable(editor_ComboBoxAutoWidth_30_9_$1,"displayField","value");editor_ComboBoxAutoWidth_30_9_$1.hideLabel=true;editor_ComboBoxAutoWidth_30_9_$1.valueField="id";
AS3.setBindable(editor_ComboBoxAutoWidth_30_9_$1,"encodeItems",true);AS3.setBindable(editor_ComboBoxAutoWidth_30_9_$1,"width",100);var ui_BindPropertyPlugin_37_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_37_13_$1.bidirectional=true;var ui_ValueExpression_39_17_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_39_17_$1,"expression","lastEditedBy");AS3.setBindable(ui_ValueExpression_39_17_$1,"context",this.getStateBean());
ui_BindPropertyPlugin_37_13_$1.bindTo=new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_39_17_$1);editor_ComboBoxAutoWidth_30_9_$1.plugins=[ui_BindPropertyPlugin_37_13_$1];editor_ComboBoxAutoWidth_30_9_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var store_Json_45_13_$1=AS3.cast(Ext.data.JsonStore,{});AS3.setBindable(store_Json_45_13_$1,"fields",["id","value"]);AS3.setBindable(store_Json_45_13_$1,"data",[{id:com.coremedia.cms.editor.sdk.collectionview.search.LastEditedFilterPanelBase.LAST_EDITED_BY_ANYONE,
value:this.resourceManager.getString("com.coremedia.cms.editor.Editor","Filter_lastEditedByAnyone_text")},{id:com.coremedia.cms.editor.sdk.collectionview.search.LastEditedFilterPanelBase.LAST_EDITED_BY_ME,value:this.resourceManager.getString("com.coremedia.cms.editor.Editor","Filter_lastEditedByMe_text")}]);AS3.setBindable(editor_ComboBoxAutoWidth_30_9_$1,"store",new Ext.data.JsonStore(store_Json_45_13_$1));container_28_5_$1.items=[editor_ComboBoxAutoWidth_30_9_$1];var layout_VBox_55_9_$1=AS3.cast(Ext.layout.container.VBox,
{});AS3.setBindable(layout_VBox_55_9_$1,"align","stretch");AS3.setBindable(container_28_5_$1,"layout",layout_VBox_55_9_$1);config_$1.items=[container_28_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$0Ssu(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.collectionview.search.LastEditedFilterPanelBase",alias:"widget.com.coremedia.cms.editor.sdk.config.lastEditedFilterPanel",constructor:LastEditedFilterPanel$,super$0Ssu:function(){com.coremedia.cms.editor.sdk.collectionview.search.LastEditedFilterPanelBase.prototype.constructor.apply(this,
arguments)},statics:{FILTER_ID:"lastEdited"},requires:["Ext.container.Container","Ext.data.JsonStore","Ext.layout.container.VBox","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.collectionview.search.LastEditedFilterPanelBase","com.coremedia.ui.exml.ValueExpression","com.coremedia.ui.plugins.BindPropertyPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.fields.ComboBoxAutoWidth"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.search.ContentTypeSelectorBase",function(ContentTypeSelectorBase){function getTemplate$static(){return['\x3ctpl for\x3d"."\x3e','\x3cdiv class\x3d"x-menu-item x-menu-item-default '+com.coremedia.ui.components.LocalComboBox.COMBO_BOX_TPL_ITEM_CLASS+'" role\x3d"option"\x3e','\x3cspan class\x3d"'+com.coremedia.ui.bem.IconWithTextBEMEntities.BLOCK+'"\x3e','\x3cspan class\x3d"'+com.coremedia.ui.bem.IconWithTextBEMEntities.ELEMENT_ICON+' {icon}"\x3e\x3c/span\x3e',
'\x3cspan class\x3d"'+com.coremedia.ui.bem.IconWithTextBEMEntities.ELEMENT_TEXT+'"\x3e{label}\x3c/span\x3e',"\x3c/span\x3e","\x3c/div\x3e","\x3c/tpl\x3e"]}function ContentTypeSelectorBase$(config){if(arguments.length<=0)config=null;this.super$E__k(config);AS3.getBindable(this,"contentTypeValueExpression").addChangeListener(AS3.bind(this,"nameChanged$E__k"))}function nameChanged(ve){var name=ve.getValue();if(AS3.getBindable(this,"entries").some(function(entry){return entry.name===name}))this.setValue(name)}
function computeMaxNameWidth$static(entries){if(entries&&entries.length)return com.coremedia.ui.util.TextMetricsUtil.getMaxWidth("div",["x-boundlist"],entries.map(getEntryLabel$static))+64}function getEntryLabel$static(entry){return entry.label}function afterRender(){com.coremedia.ui.components.LocalComboBox.prototype.afterRender.call(this);var name=AS3.getBindable(this,"contentTypeValueExpression").getValue();if(name!==undefined)this.setValue(name)}function getAvailableContentTypeEntries$static(availableContentTypes){if(arguments.length<=
0)availableContentTypes=null;return(availableContentTypes||com.coremedia.cms.editor.sdk.collectionview.CollectionViewUtil.applyBlacklist(com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getContentTypes(),com.coremedia.cms.editor.sdk.editorContext.getContentTypesExcludedFromSearch())).map(contentTypeToEntry$static)}function getAllContentTypeEntries$static(){return com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getDocumentTypes().map(contentTypeToEntry$static)}
function getContentTypeEntries$static(linkType){if(arguments.length<=0)linkType=null;var contentTypes=com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getContentTypes();if(linkType)contentTypes=contentTypes.filter(function(contentType){return contentType.isSubtypeOf(linkType)});return contentTypes.map(contentTypeToEntry$static)}function contentTypeToEntry$static(contentType){var name=contentType.getName();return{name:name,label:com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.localizeDocumentTypeName(name),
icon:com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.getIconStyleClassForContentType(contentType)}}function onDestroy(){com.coremedia.ui.components.LocalComboBox.prototype.onDestroy.call(this);AS3.getBindable(this,"contentTypeValueExpression").removeChangeListener(AS3.bind(this,"nameChanged$E__k"))}return{extend:"com.coremedia.ui.components.LocalComboBox",metadata:{"":["PublicApi"]},constructor:ContentTypeSelectorBase$,super$E__k:function(){com.coremedia.ui.components.LocalComboBox.prototype.constructor.apply(this,
arguments)},nameChanged$E__k:nameChanged,afterRender:afterRender,onDestroy:onDestroy,config:{entries:null,contentTypeValueExpression:null},statics:{getTemplate:getTemplate$static,computeMaxNameWidth:computeMaxNameWidth$static,getAvailableContentTypeEntries:getAvailableContentTypeEntries$static,getAllContentTypeEntries:getAllContentTypeEntries$static,getContentTypeEntries:getContentTypeEntries$static},requires:["com.coremedia.cap.common.SESSION","com.coremedia.ui.bem.IconWithTextBEMEntities","com.coremedia.ui.components.LocalComboBox",
"com.coremedia.ui.util.TextMetricsUtil"],uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionViewUtil","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.search.SearchArea",function(SearchArea){function __initialize__(config){this.selectedFolderValueExpression$CTyA=com.coremedia.ui.context.ComponentContextManager.getInstance().getContextExpression(this,com.coremedia.cms.editor.sdk.collectionview.CollectionView.SELECTED_FOLDER_VARIABLE_NAME)}function SearchArea$(config){if(arguments.length<=0)config=null;this.__initialize__$CTyA(config);var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.search.SearchAreaBase,
{});var defaults_$1=AS3.cast(SearchArea,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"layout","anchor");config_$1["focusable"]=true;config_$1.defaultFocus=net.jangaroo.ext.Exml.asString(com.coremedia.ui.util.createComponentSelector().itemId(com.coremedia.cms.editor.sdk.collectionview.search.SearchAreaBase.SEARCH_FIELD_ITEM_ID).build());var toolbar_59_5_$1=AS3.cast(Ext.toolbar.Toolbar,{});toolbar_59_5_$1.itemId="searchBarPanel";toolbar_59_5_$1["ariaRole"]=null;
toolbar_59_5_$1["focusableContainer"]=false;toolbar_59_5_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","SearchArea_header_toolbar"));toolbar_59_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.WINDOW_HEADER.getSkin());var ui_IconButton_65_9_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});AS3.setBindable(ui_IconButton_65_9_$1,"tooltip",this.resourceManager.getString("com.coremedia.cms.editor.Editor","SearchArea_historyBack_btn_tooltip"));
ui_IconButton_65_9_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","SearchArea_historyBack_btn_tooltip"));ui_IconButton_65_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.INVERTED.getSkin());AS3.setBindable(ui_IconButton_65_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","backward")));AS3.setBindable(ui_IconButton_65_9_$1,"disabled",true);ui_IconButton_65_9_$1.itemId=
"back";AS3.setBindable(ui_IconButton_65_9_$1,"scale","medium");AS3.setBindable(ui_IconButton_65_9_$1,"handler",AS3.bind(this,"back"));var ui_UpdateEnabledPlugin_74_13_$1=AS3.cast(com.coremedia.ui.plugins.UpdateEnabledPlugin,{});var ui_ValueExpression_76_17_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_76_17_$1,"expression","collectionViewModel.history.historyBean.enableBack");AS3.setBindable(ui_ValueExpression_76_17_$1,"context",this);AS3.setBindable(ui_UpdateEnabledPlugin_74_13_$1,
"valueExpression",new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_76_17_$1));ui_IconButton_65_9_$1.plugins=[ui_UpdateEnabledPlugin_74_13_$1];var ui_IconButton_82_9_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});AS3.setBindable(ui_IconButton_82_9_$1,"tooltip",this.resourceManager.getString("com.coremedia.cms.editor.Editor","SearchArea_historyForward_btn_tooltip"));ui_IconButton_82_9_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"SearchArea_historyForward_btn_tooltip"));ui_IconButton_82_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.INVERTED.getSkin());AS3.setBindable(ui_IconButton_82_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","forward")));AS3.setBindable(ui_IconButton_82_9_$1,"disabled",true);ui_IconButton_82_9_$1.itemId="forward";AS3.setBindable(ui_IconButton_82_9_$1,"scale","medium");AS3.setBindable(ui_IconButton_82_9_$1,"handler",
AS3.bind(this,"forward"));var ui_UpdateEnabledPlugin_91_13_$1=AS3.cast(com.coremedia.ui.plugins.UpdateEnabledPlugin,{});var ui_ValueExpression_93_17_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_93_17_$1,"expression","collectionViewModel.history.historyBean.enableForward");AS3.setBindable(ui_ValueExpression_93_17_$1,"context",this);AS3.setBindable(ui_UpdateEnabledPlugin_91_13_$1,"valueExpression",new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_93_17_$1));
ui_IconButton_82_9_$1.plugins=[ui_UpdateEnabledPlugin_91_13_$1];var container_99_9_$1=AS3.cast(Ext.container.Container,{});container_99_9_$1.flex=1;var editor_ContentTypeSelector_101_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.search.ContentTypeSelector,{});editor_ContentTypeSelector_101_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.search.SearchAreaBase.TYPE_BOX_COMBO_ITEM_ID);editor_ContentTypeSelector_101_13_$1.flex=.3;AS3.setBindable(editor_ContentTypeSelector_101_13_$1,
"minWidth",100);AS3.setBindable(editor_ContentTypeSelector_101_13_$1,"emptyText",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","SearchArea_content_type_selector_empty_text")));editor_ContentTypeSelector_101_13_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","SearchArea_contenttypeselector_tooltip"));AS3.setBindable(editor_ContentTypeSelector_101_13_$1,"entries",com.coremedia.cms.editor.sdk.collectionview.search.ContentTypeSelectorBase.getAvailableContentTypeEntries());
AS3.setBindable(editor_ContentTypeSelector_101_13_$1,"contentTypeValueExpression",this.getContentTypeValueExpression(AS3.getBindable(config,"collectionViewModel")));editor_ContentTypeSelector_101_13_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.TextfieldSkin.WINDOW_HEADER.getSkin());var ui_BEMMixin_110_17_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,{});AS3.setBindable(ui_BEMMixin_110_17_$1,"bemElement",com.coremedia.ui.bem.GroupBEMEntities.ELEMENT_LEFT);delete ui_BEMMixin_110_17_$1["xtype"];
delete ui_BEMMixin_110_17_$1["xclass"];net.jangaroo.ext.Exml.apply(editor_ContentTypeSelector_101_13_$1,ui_BEMMixin_110_17_$1);var editor_SearchField_113_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.search.SearchField,{});editor_SearchField_113_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.search.SearchAreaBase.SEARCH_FIELD_ITEM_ID);editor_SearchField_113_13_$1.flex=.7;AS3.setBindable(editor_SearchField_113_13_$1,"collectionViewModel",AS3.getBindable(config,
"collectionViewModel"));editor_SearchField_113_13_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.TextfieldSkin.WINDOW_HEADER.getSkin());var ui_BEMMixin_118_17_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,{});AS3.setBindable(ui_BEMMixin_118_17_$1,"bemElement",com.coremedia.ui.bem.GroupBEMEntities.ELEMENT_RIGHT);delete ui_BEMMixin_118_17_$1["xtype"];delete ui_BEMMixin_118_17_$1["xclass"];net.jangaroo.ext.Exml.apply(editor_SearchField_113_13_$1,ui_BEMMixin_118_17_$1);container_99_9_$1.items=
[editor_ContentTypeSelector_101_13_$1,editor_SearchField_113_13_$1];var layout_HBox_123_13_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(container_99_9_$1,"layout",layout_HBox_123_13_$1);var ui_BEMPlugin_126_13_$1=AS3.cast(com.coremedia.ui.plugins.BEMPlugin,{});AS3.setBindable(ui_BEMPlugin_126_13_$1,"block",com.coremedia.ui.bem.GroupBEMEntities.BLOCK);container_99_9_$1.plugins=[ui_BEMPlugin_126_13_$1];var ui_IconButton_129_9_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});AS3.setBindable(ui_IconButton_129_9_$1,
"tooltip",this.resourceManager.getString("com.coremedia.cms.editor.Editor","SearchArea_search_btn_tooltip"));ui_IconButton_129_9_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","SearchArea_search_btn_tooltip"));ui_IconButton_129_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.INVERTED.getSkin());AS3.setBindable(ui_IconButton_129_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons",
"search")));AS3.setBindable(ui_IconButton_129_9_$1,"scale","small");ui_IconButton_129_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.search.SearchAreaBase.SEARCH_BUTTON_ITEM_ID);AS3.setBindable(ui_IconButton_129_9_$1,"handler",AS3.bind(this,"search"));toolbar_59_5_$1.items=[ui_IconButton_65_9_$1,ui_IconButton_82_9_$1,container_99_9_$1,ui_IconButton_129_9_$1];var container_138_5_$1=AS3.cast(Ext.container.Container,{});container_138_5_$1.itemId=net.jangaroo.ext.Exml.asString(SearchArea.BREADCRUMB_CONTAINER_ITEM_ID);
var layout_HBox_140_9_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_140_9_$1,"align","stretch");AS3.setBindable(container_138_5_$1,"layout",layout_HBox_140_9_$1);var toolbar_143_9_$1=AS3.cast(Ext.toolbar.Toolbar,{});toolbar_143_9_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","CollectionView_searchArea_mode_toolbar_label"));var container_145_13_$1=AS3.cast(Ext.container.Container,{});container_145_13_$1.itemId=net.jangaroo.ext.Exml.asString(SearchArea.SWITCH_BUTTON_CONTAINER_ITEM_ID);
container_145_13_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.GROUP.getSkin());AS3.setBindable(container_145_13_$1,"layout","hbox");var ui_IconButton_149_17_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_149_17_$1.itemId=net.jangaroo.ext.Exml.asString(SearchArea.SWITCH_TO_REPOSITORY_BUTTON_ITEM_ID);ui_IconButton_149_17_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.TOOLBAR_GROUPED.getSkin());AS3.setBindable(ui_IconButton_149_17_$1,
"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","tree_view")));AS3.setBindable(ui_IconButton_149_17_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","SearchArea_repositoryMode_btn_tooltip")));AS3.setBindable(ui_IconButton_149_17_$1,"tooltip",this.resourceManager.getString("com.coremedia.cms.editor.Editor","SearchArea_repositoryMode_btn_tooltip"));AS3.setBindable(ui_IconButton_149_17_$1,
"pressed",true);ui_IconButton_149_17_$1.toggleGroup=net.jangaroo.ext.Exml.asString(SearchArea.SWITCH_BUTTON_CONTAINER_ITEM_ID+"-toggle-group");ui_IconButton_149_17_$1.enableToggle=true;ui_IconButton_149_17_$1.allowDepress=false;var editor_CollectionViewModelAction_159_21_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.CollectionViewModelAction,{});AS3.setBindable(editor_CollectionViewModelAction_159_21_$1,"property",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.MODE_PROPERTY));
AS3.setBindable(editor_CollectionViewModelAction_159_21_$1,"value",com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.REPOSITORY_MODE);ui_IconButton_149_17_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.CollectionViewModelAction(editor_CollectionViewModelAction_159_21_$1);var ui_IconButton_163_17_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_163_17_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.search.SearchAreaBase.SWITCH_TO_SEARCH_BUTTON_ITEM_ID);
ui_IconButton_163_17_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.TOOLBAR_GROUPED.getSkin());AS3.setBindable(ui_IconButton_163_17_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","search")));AS3.setBindable(ui_IconButton_163_17_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","SearchArea_searchMode_btn_tooltip")));AS3.setBindable(ui_IconButton_163_17_$1,"tooltip",
this.resourceManager.getString("com.coremedia.cms.editor.Editor","SearchArea_searchMode_btn_tooltip"));ui_IconButton_163_17_$1.toggleGroup=net.jangaroo.ext.Exml.asString(SearchArea.SWITCH_BUTTON_CONTAINER_ITEM_ID+"-toggle-group");ui_IconButton_163_17_$1.enableToggle=true;ui_IconButton_163_17_$1.allowDepress=false;var editor_CollectionViewModelAction_172_21_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.CollectionViewModelAction,{});AS3.setBindable(editor_CollectionViewModelAction_172_21_$1,"property",
net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.MODE_PROPERTY));AS3.setBindable(editor_CollectionViewModelAction_172_21_$1,"value",com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.SEARCH_MODE);ui_IconButton_163_17_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.CollectionViewModelAction(editor_CollectionViewModelAction_172_21_$1);container_145_13_$1.items=[ui_IconButton_149_17_$1,ui_IconButton_163_17_$1];toolbar_143_9_$1.items=[container_145_13_$1];
var editor_Breadcrumb_180_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.components.breadcrumb.Breadcrumb,{});editor_Breadcrumb_180_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.search.SearchAreaBase.BREADCRUMB_ITEM_ID);editor_Breadcrumb_180_9_$1.flex=1;editor_Breadcrumb_180_9_$1.padding=0;editor_Breadcrumb_180_9_$1.defaultButtonUI=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.TOOLBAR.getSkin());editor_Breadcrumb_180_9_$1.enableOverflow=true;
AS3.setBindable(editor_Breadcrumb_180_9_$1,"treeModel",com.coremedia.cms.editor.sdk.editorContext.getCollectionViewManager()["getLibraryTreeModel"]());AS3.setBindable(editor_Breadcrumb_180_9_$1,"selectedNodeValueExpression",this.selectedFolderValueExpression$CTyA);AS3.setBindable(editor_Breadcrumb_180_9_$1,"hideRootNode",true);AS3.setBindable(editor_Breadcrumb_180_9_$1,"hideElementIcons",true);container_138_5_$1.items=[toolbar_143_9_$1,editor_Breadcrumb_180_9_$1];config_$1.items=[toolbar_59_5_$1,
container_138_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$CTyA(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.collectionview.search.SearchAreaBase",alias:"widget.com.coremedia.cms.editor.sdk.config.searchArea",selectedFolderValueExpression$CTyA:null,__initialize__$CTyA:__initialize__,constructor:SearchArea$,super$CTyA:function(){com.coremedia.cms.editor.sdk.collectionview.search.SearchAreaBase.prototype.constructor.apply(this,arguments)},statics:{BREADCRUMB_CONTAINER_ITEM_ID:"breadcrumbContainer",
SWITCH_BUTTON_CONTAINER_ITEM_ID:"switchButtonContainer",SWITCH_TO_REPOSITORY_BUTTON_ITEM_ID:"switchToRepository"},requires:["Ext.container.Container","Ext.layout.container.HBox","Ext.toolbar.Toolbar","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.collectionview.search.SearchAreaBase","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.bem.GroupBEMEntities","com.coremedia.ui.components.IconButton","com.coremedia.ui.context.ComponentContextManager","com.coremedia.ui.exml.ValueExpression",
"com.coremedia.ui.plugins.BEMMixin","com.coremedia.ui.plugins.BEMPlugin","com.coremedia.ui.plugins.UpdateEnabledPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.ContainerSkin","com.coremedia.ui.skins.TextfieldSkin","com.coremedia.ui.skins.ToolbarSkin","com.coremedia.ui.util.createComponentSelector","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.actions.CollectionViewModelAction","com.coremedia.cms.editor.sdk.collectionview.CollectionView","com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel",
"com.coremedia.cms.editor.sdk.collectionview.search.ContentTypeSelector","com.coremedia.cms.editor.sdk.collectionview.search.ContentTypeSelectorBase","com.coremedia.cms.editor.sdk.collectionview.search.SearchField","com.coremedia.cms.editor.sdk.components.breadcrumb.Breadcrumb","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.search.SearchFieldBase",function(SearchFieldBase){function autoSuggestResultTpl$static_(){SearchFieldBase.autoSuggestResultTpl=new Ext.XTemplate('\x3ctpl for\x3d"."\x3e\x3cdiv class\x3d"search-item" style\x3d"font-weight:bold;"\x3e',"{"+com.coremedia.cap.content.search.SearchSuggestionsParameters.SUGGESTION_VALUE+":htmlEncode} ({"+com.coremedia.cap.content.search.SearchSuggestionsParameters.SUGGESTION_COUNT+":htmlEncode})\x3c/span\x3e","\x3c/div\x3e\x3c/tpl\x3e")}
function SearchFieldBase$(config){if(arguments.length<=0)config=null;this.super$0uQE(config);this.collectionViewModel$0uQE=AS3.getBindable(config,"collectionViewModel");this.on("beforequery",AS3.bind(this,"addSearchFilters$0uQE"));this.on("beforequery",AS3.bind(this,"clearLastQuery$0uQE"));this.on("specialkey",AS3.bind(this,"handleSpecialKey$0uQE"));this.on("select",AS3.bind(this,"handleSelect$0uQE"));this.on("blur",AS3.bind(this,"handleBlur$0uQE"))}function getCollectionViewModel(){if(!this.collectionViewModel$0uQE)this.collectionViewModel$0uQE=
com.coremedia.ui.context.ComponentContextManager.getInstance().getContextExpression(this,com.coremedia.cms.editor.sdk.collectionview.CollectionView.MODEL_VARIABLE_NAME).getValue();return this.collectionViewModel$0uQE}function getSearchSuggestionsDataProxy(){if(!this.httpProxy$0uQE){var reader=AS3.cast(Ext.data.reader.Json,{});AS3.setBindable(reader,"rootProperty",com.coremedia.cap.content.search.SearchSuggestionsParameters.SUGGESTIONS);var searchService=com.coremedia.cms.editor.sdk.editorContext.getSession().getConnection().getContentRepository().getSearchService();
this.httpProxy$0uQE=Ext.create(Ext.data.proxy.Ajax,{method:"GET",url:searchService.getSearchSuggestionsUri(),reader:reader})}return this.httpProxy$0uQE}function addSearchFilters(){var searchSuggestionsParameters=this.getCollectionViewModel$0uQE().getSearchSuggestionsParameters();if(searchSuggestionsParameters){var extraParams=this.getSearchSuggestionsDataProxy().getExtraParams();Ext.apply(extraParams,com.coremedia.ui.util.ObjectUtils.getPublicProperties(searchSuggestionsParameters));com.coremedia.ui.util.ObjectUtils.removeUndefinedOrNullProperties(extraParams);
return true}this.getSearchSuggestionsDataProxy().setExtraParams({});return false}function doQuery(query,forceAll,rawQuery){var this$=this;switch(Math.max(arguments.length,1)){case 1:forceAll=false;case 2:rawQuery=false}var selectedFolderValueExpression=com.coremedia.ui.context.ComponentContextManager.getInstance().getContextExpression(this,com.coremedia.cms.editor.sdk.collectionview.CollectionView.SELECTED_FOLDER_VARIABLE_NAME);var model=selectedFolderValueExpression.getValue();com.coremedia.cms.editor.sdk.editorContext.getCollectionViewExtender().findExtension(model,
function(extension){this$.getSearchSuggestionsDataProxy().setUrl(extension&&extension.getSearchSuggestionsUrl());this$.getCollectionViewModel$0uQE().getSearchSuggestionsParameters(function(searchParameters){if(this$.lastQuery&&query.length>this$.lastQuery.length&&query.toLowerCase().indexOf(this$.lastQuery.toLowerCase())===0&&query.indexOf(" ",this$.lastQuery.length-1)===-1&&(!searchParameters||this$.getStore().getCount()<searchParameters.limit))this["mode"]="local";else this["mode"]="remote";this$.superDoQuery$0uQE(query,
forceAll)})})}function getValue(){return Ext.form.field.ComboBox.prototype.getValue.call(this)||""}function superDoQuery(query,forceAll){Ext.form.field.ComboBox.prototype.doQuery.call(this,query,forceAll)}function clearLastQuery(){this.lastQuery=null}function handleSpecialKey(_,e){if(e.getKey()===Ext.event.Event.ENTER){e.stopPropagation();e.preventDefault();this.search()}}function handleSelect(){this.search()}function handleBlur(){if(this.collectionViewModel$0uQE.getMainStateBean().get(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.MODE_PROPERTY)===
com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.SEARCH_MODE){this.collectionViewModel$0uQE.getMainStateBean().set(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.SEARCH_TEXT_PROPERTY,this.getValue());this.collapse()}}function search(){var collectionViewModel=this.getCollectionViewModel$0uQE();collectionViewModel.getMainStateBean().set(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.SEARCH_TEXT_PROPERTY,this.getValue());collectionViewModel.triggerSearch();
this.collapse();this.selectText()}return{extend:"Ext.form.field.ComboBox",collectionViewModel$0uQE:null,httpProxy$0uQE:null,constructor:SearchFieldBase$,super$0uQE:function(){Ext.form.field.ComboBox.prototype.constructor.apply(this,arguments)},getCollectionViewModel$0uQE:getCollectionViewModel,getSearchSuggestionsDataProxy:getSearchSuggestionsDataProxy,addSearchFilters$0uQE:addSearchFilters,doQuery:doQuery,getValue:getValue,superDoQuery$0uQE:superDoQuery,clearLastQuery$0uQE:clearLastQuery,handleSpecialKey$0uQE:handleSpecialKey,
handleSelect$0uQE:handleSelect,handleBlur$0uQE:handleBlur,search:search,statics:{autoSuggestResultTpl:undefined,__initStatics__:function(){autoSuggestResultTpl$static_()}},requires:["Ext","Ext.XTemplate","Ext.data.proxy.Ajax","Ext.data.reader.Json","Ext.event.Event","Ext.form.field.ComboBox","com.coremedia.cap.content.search.SearchSuggestionsParameters","com.coremedia.ui.context.ComponentContextManager","com.coremedia.ui.util.ObjectUtils"],uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionView",
"com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.search.History",function(History){function History$(collectionViewModel){this.all$Pr$$=this.current$Pr$$=0;this.history$Pr$$=[];this.historyBean$Pr$$=com.coremedia.ui.data.beanFactory.createLocalBean({enableBack:false,enableForward:false});this.collectionViewModel$Pr$$=collectionViewModel;collectionViewModel.addListener(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.UPDATE_EVENT,AS3.bind(this,"stateUpdated"))}function getHistoryBean(){return this.historyBean$Pr$$}
function getEntries(){return this.history$Pr$$}function stateUpdated(){var state=this.collectionViewModel$Pr$$.getCurrentState();var lastState=this.history$Pr$$[this.current$Pr$$];if(lastState&&state)if(this.stateIdentical$Pr$$(lastState,state))return;if(this.all$Pr$$>this.current$Pr$$)this.all$Pr$$=this.current$Pr$$;this.current$Pr$$++;this.all$Pr$$++;this.updateHistoryBean$Pr$$();this.history$Pr$$[this.current$Pr$$]=state}function stateIdentical(states1,states2){for(var stateId in states1)if(!com.coremedia.ui.util.ObjectUtils.compareObjectsWithEqual(states1[stateId],
states2[stateId]))return false;return true}function updateHistoryBean(){this.historyBean$Pr$$.set("enableBack",this.current$Pr$$>1);this.historyBean$Pr$$.set("enableForward",this.current$Pr$$<this.all$Pr$$)}function back(){if(this.current$Pr$$-1>0){this.current$Pr$$--;this.updateHistoryBean$Pr$$();this.restore$Pr$$();return true}return false}function forward(){if(this.all$Pr$$>this.current$Pr$$){this.current$Pr$$++;this.updateHistoryBean$Pr$$();this.restore$Pr$$();return true}return false}function restore(){var targetState=
this.history$Pr$$[this.current$Pr$$];this.collectionViewModel$Pr$$.updateState(targetState)}return{all$Pr$$:0,current$Pr$$:0,history$Pr$$:null,historyBean$Pr$$:null,collectionViewModel$Pr$$:null,constructor:History$,getHistoryBean:getHistoryBean,getEntries:getEntries,stateUpdated:stateUpdated,stateIdentical$Pr$$:stateIdentical,updateHistoryBean$Pr$$:updateHistoryBean,back:back,forward:forward,restore$Pr$$:restore,requires:["com.coremedia.ui.data.beanFactory","com.coremedia.ui.util.ObjectUtils"],uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.search.TranslationStatusFilterPanel",function(TranslationStatusFilterPanel){function TranslationStatusFilterPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.search.TranslationStatusFilterPanelBase,{});var defaults_$1=AS3.cast(TranslationStatusFilterPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.itemId=net.jangaroo.ext.Exml.asString(TranslationStatusFilterPanel.FILTER_ID);
AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.Editor","Filter_TranslationStatus_text"));var container_30_5_$1=AS3.cast(Ext.container.Container,{});var editor_TranslationStatusSiteSelector_32_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.search.TranslationStatusSiteSelector,{});AS3.setBindable(editor_TranslationStatusSiteSelector_32_9_$1,"selectedSiteIdValueExpression",com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.cms.editor.sdk.collectionview.search.TranslationStatusFilterPanelBase.SITE_PROPERTY,
this.getStateBean()));container_30_5_$1.items=[editor_TranslationStatusSiteSelector_32_9_$1];var layout_VBox_36_9_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_36_9_$1,"align","stretch");AS3.setBindable(container_30_5_$1,"layout",layout_VBox_36_9_$1);var fieldContainer_39_5_$1=AS3.cast(Ext.form.FieldContainer,{});fieldContainer_39_5_$1.itemId="checkboxContainer";AS3.setBindable(fieldContainer_39_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"Filter_TranslationStatus_status_text")));var ui_BindItemsPlugin_42_9_$1=AS3.cast(com.coremedia.ui.plugins.BindItemsPlugin,{});AS3.setBindable(ui_BindItemsPlugin_42_9_$1,"valueExpression",this.getCheckboxConfigsValueExpression());AS3.setBindable(ui_BindItemsPlugin_42_9_$1,"reuseComponents",true);fieldContainer_39_5_$1.plugins=[ui_BindItemsPlugin_42_9_$1];config_$1.items=[container_30_5_$1,fieldContainer_39_5_$1];var labelable_48_5_$1=AS3.cast(Ext.form.Labelable,{});labelable_48_5_$1.labelSeparator=
"";labelable_48_5_$1.labelAlign="top";config_$1["defaultType"]=labelable_48_5_$1["xtype"];delete labelable_48_5_$1["xtype"];delete labelable_48_5_$1["xclass"];config_$1.defaults=labelable_48_5_$1;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$FT3U(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.collectionview.search.TranslationStatusFilterPanelBase",alias:"widget.com.coremedia.cms.editor.sdk.config.translationStatusFilterPanel",constructor:TranslationStatusFilterPanel$,super$FT3U:function(){com.coremedia.cms.editor.sdk.collectionview.search.TranslationStatusFilterPanelBase.prototype.constructor.apply(this,
arguments)},statics:{FILTER_ID:"translationStatus"},requires:["Ext.container.Container","Ext.form.FieldContainer","Ext.form.Labelable","Ext.layout.container.VBox","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.collectionview.search.TranslationStatusFilterPanelBase","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.BindItemsPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.collectionview.search.TranslationStatusSiteSelector"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.search.SearchFieldKeyNav",function(SearchFieldKeyNav){function SearchFieldKeyNav$(config){if(arguments.length<=0)config=null;this.super$qeR1(config)}function onKeyEnter(event){if(this["view"].highlightedItem)Ext.view.BoundListKeyNav.prototype.callParent.call(this,[event])}return{extend:"Ext.view.BoundListKeyNav",constructor:SearchFieldKeyNav$,super$qeR1:function(){Ext.view.BoundListKeyNav.prototype.constructor.apply(this,arguments)},onKeyEnter:onKeyEnter,
requires:["Ext.view.BoundListKeyNav"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.search.StatusFilterPanel",function(StatusFilterPanel){function StatusFilterPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.search.StatusFilterPanelBase,{});var defaults_$1=AS3.cast(StatusFilterPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.itemId=net.jangaroo.ext.Exml.asString(StatusFilterPanel.FILTER_ID);AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"Filter_status_text"));var container_29_5_$1=AS3.cast(Ext.container.Container,{});var container_31_9_$1=AS3.cast(Ext.container.Container,{});var layout_HBox_33_13_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(container_31_9_$1,"layout",layout_HBox_33_13_$1);var checkbox_36_13_$1=AS3.cast(Ext.form.field.Checkbox,{});checkbox_36_13_$1.itemId="filterInProductionCheckbox";checkbox_36_13_$1.flex=1;AS3.setBindable(checkbox_36_13_$1,"boxLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"Filter_inProduction_text")));checkbox_36_13_$1.hideLabel=true;var ui_BindPropertyPlugin_41_17_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_41_17_$1.bidirectional=true;var ui_ValueExpression_43_21_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_43_21_$1,"expression",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.search.StatusFilterPanelBase.IN_PRODUCTION_FILTER_PROPERTY));AS3.setBindable(ui_ValueExpression_43_21_$1,
"context",this.getStateBean());ui_BindPropertyPlugin_41_17_$1.bindTo=new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_43_21_$1);checkbox_36_13_$1.plugins=[ui_BindPropertyPlugin_41_17_$1];var ui_MenuIconButton_49_13_$1=AS3.cast(com.coremedia.ui.components.MenuIconButton,{});ui_MenuIconButton_49_13_$1.itemId="filterInProductionSubMenu";AS3.setBindable(ui_MenuIconButton_49_13_$1,"arrowVisible",false);AS3.setBindable(ui_MenuIconButton_49_13_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"Filter_status_dropdown_button_text")));AS3.setBindable(ui_MenuIconButton_49_13_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","arrow_down")));ui_MenuIconButton_49_13_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.TOOLBAR.getSkin());var menu_55_17_$1=AS3.cast(Ext.menu.Menu,{});var menuCheckItem_57_21_$1=AS3.cast(Ext.menu.CheckItem,{});menuCheckItem_57_21_$1.itemId="filterCheckedOutByMeCheckbox";AS3.setBindable(menuCheckItem_57_21_$1,
"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","Filter_checkedOutByMe_text")));var ui_BindPropertyPlugin_60_25_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_60_25_$1.componentProperty="checked";ui_BindPropertyPlugin_60_25_$1.bidirectional=true;var ui_ValueExpression_63_29_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_63_29_$1,"expression",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.search.StatusFilterPanelBase.EDITED_BY_ME_FILTER_PROPERTY));
AS3.setBindable(ui_ValueExpression_63_29_$1,"context",this.getStateBean());ui_BindPropertyPlugin_60_25_$1.bindTo=new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_63_29_$1);var ui_BindPropertyPlugin_67_25_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_67_25_$1.componentProperty="disabled";ui_BindPropertyPlugin_67_25_$1.transformer=function(value){return!value};var ui_ValueExpression_70_29_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_70_29_$1,
"expression",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.search.StatusFilterPanelBase.IN_PRODUCTION_FILTER_PROPERTY));AS3.setBindable(ui_ValueExpression_70_29_$1,"context",this.getStateBean());ui_BindPropertyPlugin_67_25_$1.bindTo=new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_70_29_$1);menuCheckItem_57_21_$1.plugins=[ui_BindPropertyPlugin_60_25_$1,ui_BindPropertyPlugin_67_25_$1];var menuCheckItem_76_21_$1=AS3.cast(Ext.menu.CheckItem,{});menuCheckItem_76_21_$1.itemId=
"filterCheckOutByOthersCheckbox";AS3.setBindable(menuCheckItem_76_21_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","Filter_checkedOutByOthers_text")));var ui_BindPropertyPlugin_79_25_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_79_25_$1.componentProperty="checked";ui_BindPropertyPlugin_79_25_$1.bidirectional=true;var ui_ValueExpression_82_29_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_82_29_$1,
"expression",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.search.StatusFilterPanelBase.EDITED_BY_OTHERS_FILTER_PROPERTY));AS3.setBindable(ui_ValueExpression_82_29_$1,"context",this.getStateBean());ui_BindPropertyPlugin_79_25_$1.bindTo=new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_82_29_$1);var ui_BindPropertyPlugin_86_25_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_86_25_$1.componentProperty="disabled";ui_BindPropertyPlugin_86_25_$1.transformer=
function(value){return!value};var ui_ValueExpression_89_29_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_89_29_$1,"expression",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.search.StatusFilterPanelBase.IN_PRODUCTION_FILTER_PROPERTY));AS3.setBindable(ui_ValueExpression_89_29_$1,"context",this.getStateBean());ui_BindPropertyPlugin_86_25_$1.bindTo=new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_89_29_$1);menuCheckItem_76_21_$1.plugins=
[ui_BindPropertyPlugin_79_25_$1,ui_BindPropertyPlugin_86_25_$1];var menuCheckItem_95_21_$1=AS3.cast(Ext.menu.CheckItem,{});menuCheckItem_95_21_$1.itemId="filterNotCheckedOutCheckbox";AS3.setBindable(menuCheckItem_95_21_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","Filter_notCheckedOut_text")));var ui_BindPropertyPlugin_98_25_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_98_25_$1.componentProperty="checked";
ui_BindPropertyPlugin_98_25_$1.bidirectional=true;var ui_ValueExpression_101_29_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_101_29_$1,"expression",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.search.StatusFilterPanelBase.NOT_EDITED_FILTER_PROPERTY));AS3.setBindable(ui_ValueExpression_101_29_$1,"context",this.getStateBean());ui_BindPropertyPlugin_98_25_$1.bindTo=new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_101_29_$1);
var ui_BindPropertyPlugin_105_25_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_105_25_$1.componentProperty="disabled";ui_BindPropertyPlugin_105_25_$1.transformer=function(value){return!value};var ui_ValueExpression_108_29_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_108_29_$1,"expression",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.search.StatusFilterPanelBase.IN_PRODUCTION_FILTER_PROPERTY));
AS3.setBindable(ui_ValueExpression_108_29_$1,"context",this.getStateBean());ui_BindPropertyPlugin_105_25_$1.bindTo=new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_108_29_$1);menuCheckItem_95_21_$1.plugins=[ui_BindPropertyPlugin_98_25_$1,ui_BindPropertyPlugin_105_25_$1];menu_55_17_$1.items=[menuCheckItem_57_21_$1,menuCheckItem_76_21_$1,menuCheckItem_95_21_$1];ui_MenuIconButton_49_13_$1.menu=menu_55_17_$1;container_31_9_$1.items=[checkbox_36_13_$1,ui_MenuIconButton_49_13_$1];var checkbox_120_9_$1=
AS3.cast(Ext.form.field.Checkbox,{});checkbox_120_9_$1.itemId="filterApprovedCheckbox";AS3.setBindable(checkbox_120_9_$1,"boxLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","Filter_approved_text")));checkbox_120_9_$1.hideLabel=true;var ui_BindPropertyPlugin_124_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_124_13_$1.bidirectional=true;var ui_ValueExpression_126_17_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,
{});AS3.setBindable(ui_ValueExpression_126_17_$1,"expression",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.search.StatusFilterPanelBase.APPROVED_FILTER_PROPERTY));AS3.setBindable(ui_ValueExpression_126_17_$1,"context",this.getStateBean());ui_BindPropertyPlugin_124_13_$1.bindTo=new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_126_17_$1);checkbox_120_9_$1.plugins=[ui_BindPropertyPlugin_124_13_$1];var checkbox_132_9_$1=AS3.cast(Ext.form.field.Checkbox,{});checkbox_132_9_$1.itemId=
"filterPublishedCheckbox";AS3.setBindable(checkbox_132_9_$1,"boxLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","Filter_published_text")));checkbox_132_9_$1.hideLabel=true;var ui_BindPropertyPlugin_136_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_136_13_$1.bidirectional=true;var ui_ValueExpression_138_17_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_138_17_$1,"expression",
net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.search.StatusFilterPanelBase.PUBLISHED_FILTER_PROPERTY));AS3.setBindable(ui_ValueExpression_138_17_$1,"context",this.getStateBean());ui_BindPropertyPlugin_136_13_$1.bindTo=new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_138_17_$1);checkbox_132_9_$1.plugins=[ui_BindPropertyPlugin_136_13_$1];var checkbox_144_9_$1=AS3.cast(Ext.form.field.Checkbox,{});checkbox_144_9_$1.itemId="filterDeletedCheckbox";AS3.setBindable(checkbox_144_9_$1,
"boxLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","Filter_deleted_text")));checkbox_144_9_$1.hideLabel=true;var ui_BindPropertyPlugin_148_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_148_13_$1.bidirectional=true;var ui_ValueExpression_150_17_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_150_17_$1,"expression",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.search.StatusFilterPanelBase.DELETED_FILTER_PROPERTY));
AS3.setBindable(ui_ValueExpression_150_17_$1,"context",this.getStateBean());ui_BindPropertyPlugin_148_13_$1.bindTo=new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_150_17_$1);checkbox_144_9_$1.plugins=[ui_BindPropertyPlugin_148_13_$1];container_29_5_$1.items=[container_31_9_$1,checkbox_120_9_$1,checkbox_132_9_$1,checkbox_144_9_$1];var layout_VBox_158_9_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_158_9_$1,"align","stretch");AS3.setBindable(container_29_5_$1,"layout",
layout_VBox_158_9_$1);config_$1.items=[container_29_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$6$V5(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.collectionview.search.StatusFilterPanelBase",alias:"widget.com.coremedia.cms.editor.sdk.config.statusFilterPanel",constructor:StatusFilterPanel$,super$6$V5:function(){com.coremedia.cms.editor.sdk.collectionview.search.StatusFilterPanelBase.prototype.constructor.apply(this,arguments)},statics:{FILTER_ID:"status"},requires:["Ext.container.Container",
"Ext.form.field.Checkbox","Ext.layout.container.HBox","Ext.layout.container.VBox","Ext.menu.CheckItem","Ext.menu.Menu","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.collectionview.search.StatusFilterPanelBase","com.coremedia.ui.components.MenuIconButton","com.coremedia.ui.exml.ValueExpression","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.skins.ButtonSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.search.TranslationStatusFilterCheckbox",function(TranslationStatusFilterCheckbox){function TranslationStatusFilterCheckbox$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.form.field.Checkbox,{});var defaults_$1=AS3.cast(TranslationStatusFilterCheckbox,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.itemId=net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"translationState"));AS3.setBindable(config_$1,
"boxLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","Filter_TranslationStatus_status_"+AS3.getBindable(config,"translationState")+"_text")));config_$1.hideLabel=true;var ui_BindPropertyPlugin_29_5_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_29_5_$1.bidirectional=true;ui_BindPropertyPlugin_29_5_$1.bindTo=AS3.getBindable(config,"bindTo");var ui_AddQuickTipPlugin_34_5_$1=AS3.cast(com.coremedia.ui.plugins.AddQuickTipPlugin,
{});AS3.setBindable(ui_AddQuickTipPlugin_34_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","Filter_TranslationStatus_status_"+AS3.getBindable(config,"translationState")+"_tooltip")));config_$1.plugins=[ui_BindPropertyPlugin_29_5_$1,ui_AddQuickTipPlugin_34_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$_gwf(config_$1)}return{extend:"Ext.form.field.Checkbox",alias:"widget.com.coremedia.cms.editor.sdk.config.translationStatusFilterCheckbox",
constructor:TranslationStatusFilterCheckbox$,super$_gwf:function(){Ext.form.field.Checkbox.prototype.constructor.apply(this,arguments)},config:{bindTo:null,translationState:null},requires:["Ext.form.field.Checkbox","com.coremedia.cms.editor.Editor_properties","com.coremedia.ui.plugins.AddQuickTipPlugin","com.coremedia.ui.plugins.BindPropertyPlugin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.search.RelativeDateFilterPanel",function(RelativeDateFilterPanel){function RelativeDateFilterPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.search.RelativeDateFilterPanelBase,{});var defaults_$1=AS3.cast(RelativeDateFilterPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.itemId=net.jangaroo.ext.Exml.asString("datefilter-panel-"+AS3.getBindable(config,
"dateFieldName"));AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.Editor","Filter_date_"+AS3.getBindable(config,"dateFieldName")+"_text"));var container_39_5_$1=AS3.cast(Ext.container.Container,{});var editor_ComboBoxAutoWidth_41_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.ComboBoxAutoWidth,{});editor_ComboBoxAutoWidth_41_9_$1.itemId=net.jangaroo.ext.Exml.asString("datefilter-"+AS3.getBindable(config,"dateFieldName"));AS3.setBindable(editor_ComboBoxAutoWidth_41_9_$1,
"displayField","value");editor_ComboBoxAutoWidth_41_9_$1.hideLabel=true;AS3.setBindable(editor_ComboBoxAutoWidth_41_9_$1,"encodeItems",true);editor_ComboBoxAutoWidth_41_9_$1.valueField="id";AS3.setBindable(editor_ComboBoxAutoWidth_41_9_$1,"width",100);var ui_BindPropertyPlugin_48_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_48_13_$1.bidirectional=true;var ui_ValueExpression_50_17_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_50_17_$1,
"expression",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"dateFieldName")));AS3.setBindable(ui_ValueExpression_50_17_$1,"context",this.getStateBean());ui_BindPropertyPlugin_48_13_$1.bindTo=new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_50_17_$1);editor_ComboBoxAutoWidth_41_9_$1.plugins=[ui_BindPropertyPlugin_48_13_$1];editor_ComboBoxAutoWidth_41_9_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var store_Json_56_13_$1=AS3.cast(Ext.data.JsonStore,{});AS3.setBindable(store_Json_56_13_$1,
"fields",["id","value"]);AS3.setBindable(store_Json_56_13_$1,"data",[{id:com.coremedia.cms.editor.sdk.collectionview.search.RelativeDateFilterPanelBase.ANY_DATE,value:this.resourceManager.getString("com.coremedia.cms.editor.Editor","Filter_date_days_any_text")},{id:1,value:this.resourceManager.getString("com.coremedia.cms.editor.Editor","Filter_date_days_1_text")},{id:7,value:this.resourceManager.getString("com.coremedia.cms.editor.Editor","Filter_date_days_7_text")},{id:14,value:this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"Filter_date_days_14_text")},{id:30,value:this.resourceManager.getString("com.coremedia.cms.editor.Editor","Filter_date_days_30_text")},{id:365,value:this.resourceManager.getString("com.coremedia.cms.editor.Editor","Filter_date_days_365_text")}]);AS3.setBindable(editor_ComboBoxAutoWidth_41_9_$1,"store",new Ext.data.JsonStore(store_Json_56_13_$1));container_39_5_$1.items=[editor_ComboBoxAutoWidth_41_9_$1];var layout_VBox_70_9_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_70_9_$1,
"align","stretch");AS3.setBindable(container_39_5_$1,"layout",layout_VBox_70_9_$1);config_$1.items=[container_39_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$i0dT(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.collectionview.search.RelativeDateFilterPanelBase",alias:"widget.com.coremedia.cms.editor.sdk.config.relativeDateFilterPanel",constructor:RelativeDateFilterPanel$,super$i0dT:function(){com.coremedia.cms.editor.sdk.collectionview.search.RelativeDateFilterPanelBase.prototype.constructor.apply(this,
arguments)},config:{dateFieldName:null,queryTemplate:null},requires:["Ext.container.Container","Ext.data.JsonStore","Ext.layout.container.VBox","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.collectionview.search.RelativeDateFilterPanelBase","com.coremedia.ui.exml.ValueExpression","com.coremedia.ui.plugins.BindPropertyPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.fields.ComboBoxAutoWidth"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.search.StatusFilterPanelBase",function(StatusFilterPanelBase){function DEFAULT_STATE$static_(){StatusFilterPanelBase.DEFAULT_STATE={}}function static$0(){StatusFilterPanelBase.DEFAULT_STATE[StatusFilterPanelBase.IN_PRODUCTION_FILTER_PROPERTY]=true;StatusFilterPanelBase.DEFAULT_STATE[StatusFilterPanelBase.EDITED_BY_ME_FILTER_PROPERTY]=true;StatusFilterPanelBase.DEFAULT_STATE[StatusFilterPanelBase.EDITED_BY_OTHERS_FILTER_PROPERTY]=true;StatusFilterPanelBase.DEFAULT_STATE[StatusFilterPanelBase.NOT_EDITED_FILTER_PROPERTY]=
true;StatusFilterPanelBase.DEFAULT_STATE[StatusFilterPanelBase.APPROVED_FILTER_PROPERTY]=true;StatusFilterPanelBase.DEFAULT_STATE[StatusFilterPanelBase.PUBLISHED_FILTER_PROPERTY]=true;StatusFilterPanelBase.DEFAULT_STATE[StatusFilterPanelBase.DELETED_FILTER_PROPERTY]=false}function PROPERTY_NAMES$static_(){StatusFilterPanelBase.PROPERTY_NAMES=com.coremedia.ui.util.ObjectUtils.getPropertyNames(StatusFilterPanelBase.DEFAULT_STATE)}function StatusFilterPanelBase$(config){if(arguments.length<=0)config=
null;this.super$G0Ws(config)}function buildQuery(){var stateBean=this.getStateBean();var editedByMe=stateBean.get(StatusFilterPanelBase.IN_PRODUCTION_FILTER_PROPERTY)&&stateBean.get(StatusFilterPanelBase.EDITED_BY_ME_FILTER_PROPERTY);var editedByOthers=stateBean.get(StatusFilterPanelBase.IN_PRODUCTION_FILTER_PROPERTY)&&stateBean.get(StatusFilterPanelBase.EDITED_BY_OTHERS_FILTER_PROPERTY);var notEdited=stateBean.get(StatusFilterPanelBase.IN_PRODUCTION_FILTER_PROPERTY)&&stateBean.get(StatusFilterPanelBase.NOT_EDITED_FILTER_PROPERTY);
var approved=stateBean.get(StatusFilterPanelBase.APPROVED_FILTER_PROPERTY);var published=stateBean.get(StatusFilterPanelBase.PUBLISHED_FILTER_PROPERTY);var deleted=stateBean.get(StatusFilterPanelBase.DELETED_FILTER_PROPERTY);return buildQueryInternal$static(editedByMe,editedByOthers,notEdited,approved,published,deleted)}function buildDefaultQuery$static(){var editedByMe=StatusFilterPanelBase.DEFAULT_STATE[StatusFilterPanelBase.IN_PRODUCTION_FILTER_PROPERTY]&&StatusFilterPanelBase.DEFAULT_STATE[StatusFilterPanelBase.EDITED_BY_ME_FILTER_PROPERTY];
var editedByOthers=StatusFilterPanelBase.DEFAULT_STATE[StatusFilterPanelBase.IN_PRODUCTION_FILTER_PROPERTY]&&StatusFilterPanelBase.DEFAULT_STATE[StatusFilterPanelBase.EDITED_BY_OTHERS_FILTER_PROPERTY];var notEdited=StatusFilterPanelBase.DEFAULT_STATE[StatusFilterPanelBase.IN_PRODUCTION_FILTER_PROPERTY]&&StatusFilterPanelBase.DEFAULT_STATE[StatusFilterPanelBase.NOT_EDITED_FILTER_PROPERTY];var approved=StatusFilterPanelBase.DEFAULT_STATE[StatusFilterPanelBase.APPROVED_FILTER_PROPERTY];var published=
StatusFilterPanelBase.DEFAULT_STATE[StatusFilterPanelBase.PUBLISHED_FILTER_PROPERTY];var deleted=StatusFilterPanelBase.DEFAULT_STATE[StatusFilterPanelBase.DELETED_FILTER_PROPERTY];return buildQueryInternal$static(editedByMe,editedByOthers,notEdited,approved,published,deleted)}function buildQueryInternal$static(editedByMe,editedByOthers,notEdited,approved,published,deleted){if(editedByMe&&editedByOthers&&notEdited&&approved&&published&&deleted)return"";else{var user=com.coremedia.cap.common.SESSION.getUser();
var userUri="\x3c"+user.getUriPath()+"\x3e";var filterQueriesStatus=[];if(editedByMe&&editedByOthers&&notEdited)filterQueriesStatus.push("status:0");else{if(editedByMe)filterQueriesStatus.push(Ext.String.format("(ischeckedout:true AND editor:{0})",userUri));if(editedByOthers)filterQueriesStatus.push(Ext.String.format("(ischeckedout:true NOT editor:{0})",userUri));if(notEdited)filterQueriesStatus.push(Ext.String.format("(status:0 AND ischeckedout:false)",userUri))}if(approved)filterQueriesStatus.push("status:1");
if(published)filterQueriesStatus.push("status:2");if(deleted)filterQueriesStatus.push("status:3");if(filterQueriesStatus.length>0)return filterQueriesStatus.join(" OR ");else return""}}function getDefaultState(){return StatusFilterPanelBase.DEFAULT_STATE}return{extend:"com.coremedia.cms.editor.sdk.collectionview.search.FilterPanel",constructor:StatusFilterPanelBase$,super$G0Ws:function(){com.coremedia.cms.editor.sdk.collectionview.search.FilterPanel.prototype.constructor.apply(this,arguments)},buildQuery:buildQuery,
getDefaultState:getDefaultState,statics:{IN_PRODUCTION_FILTER_PROPERTY:"inProduction",EDITED_BY_ME_FILTER_PROPERTY:"editedByMe",EDITED_BY_OTHERS_FILTER_PROPERTY:"editedByOthers",NOT_EDITED_FILTER_PROPERTY:"notEdited",APPROVED_FILTER_PROPERTY:"approved",PUBLISHED_FILTER_PROPERTY:"published",DELETED_FILTER_PROPERTY:"deleted",DEFAULT_STATE:undefined,PROPERTY_NAMES:undefined,buildDefaultQuery:buildDefaultQuery$static,__initStatics__:function(){DEFAULT_STATE$static_();static$0();PROPERTY_NAMES$static_()}},
requires:["Ext.String","com.coremedia.cap.common.SESSION","com.coremedia.cms.editor.sdk.collectionview.search.FilterPanel","com.coremedia.ui.util.ObjectUtils"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.search.SearchField",function(SearchField){function SearchField$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.search.SearchFieldBase,{});var defaults_$1=AS3.cast(SearchField,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"emptyText",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","SearchField_empty_text")));
config_$1.flex=1;config_$1.selectOnTab=false;config_$1.autoSelect=true;config_$1.enableKeyEvents=false;config_$1.queryMode="remote";config_$1["lastQuery"]="";AS3.setBindable(config_$1,"hideTrigger",true);config_$1.triggerAction="query";config_$1.minChars=3;config_$1.queryDelay=500;config_$1.queryParam="query";config_$1.selectOnFocus=true;AS3.setBindable(config_$1,"displayField",net.jangaroo.ext.Exml.asString(com.coremedia.cap.content.search.SearchSuggestionsParameters.SUGGESTION_VALUE));var ui_BindPropertyPlugin_42_5_$1=
AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_42_5_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.SEARCH_TEXT_PROPERTY,AS3.getBindable(config,"collectionViewModel").getMainStateBean());ui_BindPropertyPlugin_42_5_$1.reverseTransformer=function(value){return value||""};config_$1.plugins=[ui_BindPropertyPlugin_42_5_$1];var store_Json_46_5_$1=AS3.cast(Ext.data.JsonStore,{});AS3.setBindable(store_Json_46_5_$1,
"autoDestroy",true);AS3.setBindable(store_Json_46_5_$1,"proxy",this.getSearchSuggestionsDataProxy());var data_AutoField_49_9_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_49_9_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.cap.content.search.SearchSuggestionsParameters.SUGGESTION_VALUE);var data_NumberField_50_9_$1=AS3.cast(Ext.data.field.Number,{});data_NumberField_50_9_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.cap.content.search.SearchSuggestionsParameters.SUGGESTION_COUNT);
AS3.setBindable(store_Json_46_5_$1,"fields",[data_AutoField_49_9_$1,data_NumberField_50_9_$1]);AS3.setBindable(config_$1,"store",new Ext.data.JsonStore(store_Json_46_5_$1));var boundList_56_5_$1=AS3.cast(Ext.view.BoundList,{});boundList_56_5_$1.loadingText=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","SearchField_loading_text"));boundList_56_5_$1.itemTpl=com.coremedia.cms.editor.sdk.collectionview.search.SearchFieldBase.autoSuggestResultTpl;boundList_56_5_$1.itemSelector=
"div";boundList_56_5_$1["navigationModel"]=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.search.SearchFieldKeyNav,{});config_$1.listConfig=boundList_56_5_$1;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$J68T(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.collectionview.search.SearchFieldBase",alias:"widget.com.coremedia.cms.editor.sdk.config.searchField",constructor:SearchField$,super$J68T:function(){com.coremedia.cms.editor.sdk.collectionview.search.SearchFieldBase.prototype.constructor.apply(this,
arguments)},config:{collectionViewModel:null},requires:["Ext.data.JsonStore","Ext.data.field.Field","Ext.data.field.Number","Ext.view.BoundList","com.coremedia.cap.content.search.SearchSuggestionsParameters","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.collectionview.search.SearchFieldBase","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.BindPropertyPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel",
"com.coremedia.cms.editor.sdk.collectionview.search.SearchFieldKeyNav"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.search.FilterPanelBase",function(FilterPanelBase){function BLOCK$static_(){FilterPanelBase.BLOCK=new com.coremedia.ui.models.bem.BEMBlock("cm-filter-panel")}function ELEMENT_HEADER$static_(){FilterPanelBase.ELEMENT_HEADER=FilterPanelBase.BLOCK.createElement("header")}function ELEMENT_BODY$static_(){FilterPanelBase.ELEMENT_BODY=FilterPanelBase.BLOCK.createElement("body")}function ELEMENT_RESET$static_(){FilterPanelBase.ELEMENT_RESET=FilterPanelBase.BLOCK.createElement("reset")}
function MODIFIER_CUSTOMIZED$static_(){FilterPanelBase.MODIFIER_CUSTOMIZED=FilterPanelBase.BLOCK.createModifier("customized")}function FilterPanelBase$(config){if(arguments.length<=0)config=null;this.super$F7x8(config);this.getStateBean().updateProperties(this.getDefaultState());this.initValidationStateMixin()}function getValidationStateVE(){var this$=this;if(!this.validationStateVE$F7x8)this.validationStateVE$F7x8=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){return this$.isInDefaultState()?
null:com.coremedia.ui.mixins.ValidationState.SUCCESS});return this.validationStateVE$F7x8}function getModifierVE(){var this$=this;if(!this.modifierVE$F7x8)this.modifierVE$F7x8=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){if(this$.isInDefaultState())return[];else return[FilterPanelBase.MODIFIER_CUSTOMIZED.getIdentifier()]});return this.modifierVE$F7x8}function resetFilter(){this.getStateBean().updateProperties(this.getDefaultState())}function isInDefaultState(){return com.coremedia.ui.util.ObjectUtils.compareObjectsWithEqual(this.getStateBean().toObject(),
this.getDefaultState())}function getStateBean(){if(!this.stateBean$F7x8)this.stateBean$F7x8=com.coremedia.ui.data.beanFactory.createLocalBean();return this.stateBean$F7x8}function buildQuery(){throw new AS3.Error("buildQuery() must be overridden in subclasses");}function getFilterId(){return this.getItemId()}function getDefaultState(){throw new AS3.Error("getDefaultState() must be overridden in subclasses");}function transformState(state){return state}return{extend:"com.coremedia.cms.editor.sdk.premular.CollapsiblePanel",
mixins:["com.coremedia.cms.editor.sdk.collectionview.search.SearchFilter","com.coremedia.ui.mixins.ValidationStateMixin"],stateBean$F7x8:null,validationStateVE$F7x8:null,modifierVE$F7x8:null,constructor:FilterPanelBase$,super$F7x8:function(){com.coremedia.cms.editor.sdk.premular.CollapsiblePanel.prototype.constructor.apply(this,arguments)},getValidationStateVE:getValidationStateVE,getModifierVE:getModifierVE,resetFilter:resetFilter,isInDefaultState:isInDefaultState,getStateBean:getStateBean,buildQuery:buildQuery,
getFilterId:getFilterId,getDefaultState:getDefaultState,transformState:transformState,statics:{BLOCK:undefined,ELEMENT_HEADER:undefined,ELEMENT_BODY:undefined,ELEMENT_RESET:undefined,MODIFIER_CUSTOMIZED:undefined,GRID_200:12,__initStatics__:function(){BLOCK$static_();ELEMENT_HEADER$static_();ELEMENT_BODY$static_();ELEMENT_RESET$static_();MODIFIER_CUSTOMIZED$static_()}},requires:["AS3.Error","com.coremedia.cms.editor.sdk.collectionview.search.SearchFilter","com.coremedia.cms.editor.sdk.premular.CollapsiblePanel",
"com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.beanFactory","com.coremedia.ui.mixins.ValidationState","com.coremedia.ui.mixins.ValidationStateMixin","com.coremedia.ui.models.bem.BEMBlock","com.coremedia.ui.util.ObjectUtils"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.search.LastEditedFilterPanelBase",function(LastEditedFilterPanelBase){function DEFAULT_STATE$static_(){LastEditedFilterPanelBase.DEFAULT_STATE={}}function static$0(){LastEditedFilterPanelBase.DEFAULT_STATE[LastEditedFilterPanelBase.LAST_EDITED_BY_PROPERTY]=LastEditedFilterPanelBase.LAST_EDITED_BY_ANYONE}function PROPERTY_NAMES$static_(){LastEditedFilterPanelBase.PROPERTY_NAMES=com.coremedia.ui.util.ObjectUtils.getPropertyNames(LastEditedFilterPanelBase.DEFAULT_STATE)}
var FILTER_QUERY_LAST_EDITED_BY$static="(editor:{0} OR modifier:{0})";function LastEditedFilterPanelBase$(config){if(arguments.length<=0)config=null;this.super$awof(config)}function buildQuery(){var stateBean=this.getStateBean();if(stateBean.get(LastEditedFilterPanelBase.LAST_EDITED_BY_PROPERTY)===LastEditedFilterPanelBase.LAST_EDITED_BY_ME){var user=com.coremedia.cap.common.SESSION.getUser();return Ext.String.format(FILTER_QUERY_LAST_EDITED_BY$static,"\x3c"+user.getUriPath()+"\x3e")}else return""}
function getDefaultState(){var state={};state[LastEditedFilterPanelBase.LAST_EDITED_BY_PROPERTY]=LastEditedFilterPanelBase.LAST_EDITED_BY_ANYONE;return state}return{extend:"com.coremedia.cms.editor.sdk.collectionview.search.FilterPanel",constructor:LastEditedFilterPanelBase$,super$awof:function(){com.coremedia.cms.editor.sdk.collectionview.search.FilterPanel.prototype.constructor.apply(this,arguments)},buildQuery:buildQuery,getDefaultState:getDefaultState,statics:{LAST_EDITED_BY_PROPERTY:"lastEditedBy",
LAST_EDITED_BY_ME:"me",LAST_EDITED_BY_ANYONE:"anyone",DEFAULT_STATE:undefined,PROPERTY_NAMES:undefined,__initStatics__:function(){DEFAULT_STATE$static_();static$0();PROPERTY_NAMES$static_()}},requires:["Ext.String","com.coremedia.cap.common.SESSION","com.coremedia.cms.editor.sdk.collectionview.search.FilterPanel","com.coremedia.ui.util.ObjectUtils"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.search.SearchFiltersBase",function(SearchFiltersBase){function SearchFiltersBase$(config){if(arguments.length<=0)config=null;this.super$siHF(AS3.cast(com.coremedia.cms.editor.sdk.collectionview.search.SearchFilters,config));this.collectionViewModel$siHF=com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.lookupCollectionViewModel(this);if(!this.collectionViewModel$siHF)throw new AS3.Error("SearchFiltersBase must only be used within CollectionView");
this.collectionViewModel$siHF.addSearchFilters(this.getSearchFilters$siHF());this.inDefaultStateExpression$siHF=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"isInDefaultState$siHF"));this.inDefaultStateExpression$siHF.addChangeListener(AS3.bind(this,"updateStyleClasses$siHF"));this.updateStyleClasses$siHF()}function getSearchFilters(){return this.itemCollection.getRange().filter(function(item){return AS3.is(item,com.coremedia.cms.editor.sdk.collectionview.search.SearchFilter)})}
function updateStyleClasses(){SearchFiltersBase.updateState(this.ownerCt,this.inDefaultStateExpression$siHF.getValue())}function updateState$static(owner,defaultState){var ownerPanel=AS3.as(owner,Ext.panel.Panel);if(ownerPanel){var placeholder=ownerPanel["getPlaceholder"]();if(placeholder)if(defaultState)placeholder.removeCls("search-filters-highlighted");else placeholder.addCls("search-filters-highlighted")}}function isInDefaultState(){return this.collectionViewModel$siHF.areFiltersInDefaultState()}
return{extend:"Ext.container.Container",metadata:{"":["PublicApi"]},inDefaultStateExpression$siHF:null,collectionViewModel$siHF:null,constructor:SearchFiltersBase$,super$siHF:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},getSearchFilters$siHF:getSearchFilters,updateStyleClasses$siHF:updateStyleClasses,isInDefaultState$siHF:isInDefaultState,statics:{updateState:updateState$static},requires:["AS3.Error","Ext.container.Container","Ext.panel.Panel","com.coremedia.ui.data.ValueExpressionFactory"],
uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel","com.coremedia.cms.editor.sdk.collectionview.search.SearchFilter","com.coremedia.cms.editor.sdk.collectionview.search.SearchFilters"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.search.FilterPanel",function(FilterPanel){function FilterPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.search.FilterPanelBase,{});var defaults_$1=AS3.cast(FilterPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.PanelSkin.FILTER.getSkin());AS3.setBindable(config_$1,"collapsed",true);var ui_BindPropertyPlugin_61_5_$1=
AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_61_5_$1.componentProperty="validationState";ui_BindPropertyPlugin_61_5_$1.bindTo=this.getValidationStateVE();var ui_BEMPlugin_63_5_$1=AS3.cast(com.coremedia.ui.plugins.BEMPlugin,{});AS3.setBindable(ui_BEMPlugin_63_5_$1,"block",com.coremedia.cms.editor.sdk.collectionview.search.FilterPanelBase.BLOCK.getIdentifier());AS3.setBindable(ui_BEMPlugin_63_5_$1,"bodyElement",com.coremedia.cms.editor.sdk.collectionview.search.FilterPanelBase.ELEMENT_BODY);
AS3.setBindable(ui_BEMPlugin_63_5_$1,"modifier",this.getModifierVE());config_$1.plugins=[ui_BindPropertyPlugin_61_5_$1,ui_BEMPlugin_63_5_$1];var header_68_5_$1=AS3.cast(Ext.panel.Header,{});AS3.setBindable(header_68_5_$1,"titlePosition",1);var ui_BEMMixin_70_9_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,{});AS3.setBindable(ui_BEMMixin_70_9_$1,"bemElement",com.coremedia.cms.editor.sdk.collectionview.search.FilterPanelBase.ELEMENT_HEADER);delete ui_BEMMixin_70_9_$1["xtype"];delete ui_BEMMixin_70_9_$1["xclass"];
net.jangaroo.ext.Exml.apply(header_68_5_$1,ui_BEMMixin_70_9_$1);var ui_AddItemsPlugin_74_9_$1=AS3.cast(com.coremedia.ui.plugins.AddItemsPlugin,{});var tool_76_13_$1=AS3.cast(Ext.panel.Tool,{});tool_76_13_$1.itemId="resetButton";tool_76_13_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE.getSkin());tool_76_13_$1.handler=AS3.bind(this,"resetFilter");tool_76_13_$1.tooltip=this.resourceManager.getString("com.coremedia.cms.editor.Editor","Filter_restore_btn_text");AS3.setBindable(tool_76_13_$1,
"type","close");var ui_BEMMixin_82_17_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,{});AS3.setBindable(ui_BEMMixin_82_17_$1,"bemElement",com.coremedia.cms.editor.sdk.collectionview.search.FilterPanelBase.ELEMENT_RESET);delete ui_BEMMixin_82_17_$1["xtype"];delete ui_BEMMixin_82_17_$1["xclass"];net.jangaroo.ext.Exml.apply(tool_76_13_$1,ui_BEMMixin_82_17_$1);AS3.setBindable(ui_AddItemsPlugin_74_9_$1,"items",[tool_76_13_$1]);header_68_5_$1.plugins=[ui_AddItemsPlugin_74_9_$1];config_$1.header=header_68_5_$1;
net.jangaroo.ext.Exml.apply(config_$1,config);this.super$xeTN(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.collectionview.search.FilterPanelBase",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.filterPanel",constructor:FilterPanel$,super$xeTN:function(){com.coremedia.cms.editor.sdk.collectionview.search.FilterPanelBase.prototype.constructor.apply(this,arguments)},requires:["Ext.panel.Header","Ext.panel.Tool","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.collectionview.search.FilterPanelBase",
"com.coremedia.ui.plugins.AddItemsPlugin","com.coremedia.ui.plugins.BEMMixin","com.coremedia.ui.plugins.BEMPlugin","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.PanelSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.search.SearchQueryUtil",function(SearchQueryUtil){function buildExcludeDocumentTypesQuery$static(contentTypes){if(arguments.length<=0)contentTypes=null;return SearchQueryUtil.buildExcludeContentTypesQuery(contentTypes)}function buildExcludeContentTypesQuery$static(contentTypes){if(arguments.length<=0)contentTypes=null;var docTypeExclusions=contentTypes||com.coremedia.cms.editor.sdk.editorContext.getContentTypesExcludedFromSearchResult();var excludeDoctypesFragment=
"";for(var $1=0;$1<docTypeExclusions.length;++$1){var excludedDocType=docTypeExclusions[$1];excludeDoctypesFragment=excludeDoctypesFragment+"-documenttype:"+excludedDocType+" "}return excludeDoctypesFragment}function SearchQueryUtil$(){}return{metadata:{buildExcludeDocumentTypesQuery:["Deprecated"]},constructor:SearchQueryUtil$,statics:{buildExcludeDocumentTypesQuery:buildExcludeDocumentTypesQuery$static,buildExcludeContentTypesQuery:buildExcludeContentTypesQuery$static},uses:["com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.search.TranslationStatusFilterPanelBase",function(TranslationStatusFilterPanelBase){function TRANSLATION_STATES$static_(){TranslationStatusFilterPanelBase.TRANSLATION_STATES=[com.coremedia.cms.editor.sdk.translate.TranslationStatusUtil.UP_TO_DATE,com.coremedia.cms.editor.sdk.translate.TranslationStatusUtil.PSEUDO_STATE_IN_TRANSLATION,com.coremedia.cms.editor.sdk.translate.TranslationStatusUtil.NOT_LOCALIZED_YET,com.coremedia.cms.editor.sdk.translate.TranslationStatusUtil.NEW_IN_MASTER,
com.coremedia.cms.editor.sdk.translate.TranslationStatusUtil.NOT_UP_TO_DATE]}function getTranslationStates$static(){return TranslationStatusFilterPanelBase.TRANSLATION_STATES}function TranslationStatusFilterPanelBase$(config){if(arguments.length<=0)config=null;this.super$BQpF(config);this.getStateBean().addPropertyChangeListener(TranslationStatusFilterPanelBase.SITE_PROPERTY,AS3.bind(this,"validateSite$BQpF"))}function validateSite(){var siteId=this.getStateBean().get(TranslationStatusFilterPanelBase.SITE_PROPERTY);
if(siteId&&siteId!==com.coremedia.cms.editor.sdk.translate.TranslationStatusSearchUtil.PREFERRED_SITE_ID){var site=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getSite(siteId);if(!com.coremedia.cms.editor.sdk.collectionview.search.TranslationStatusFilterUtil.isAppropriateSite(site))this.getStateBean().updateProperties(this.getDefaultState())}}function buildQuery(){var this$=this;var derivedSiteId=this.getStateBean().get(TranslationStatusFilterPanelBase.SITE_PROPERTY);var searchParameters=
new com.coremedia.cms.editor.sdk.translate.TranslationStatusSearchParameters;searchParameters.targetSiteId=derivedSiteId;searchParameters.translationStates=TranslationStatusFilterPanelBase.TRANSLATION_STATES.filter(function(translationState){return!!this$.getStateBean().get(translationState)});return com.coremedia.cms.editor.sdk.translate.TranslationStatusSearchUtil.buildQuery(searchParameters)}function getDefaultState(){var state={};state[TranslationStatusFilterPanelBase.SITE_PROPERTY]=null;state[TranslationStatusFilterPanelBase.TRANSLATION_STATES[0]]=
true;for(var i=1;i<TranslationStatusFilterPanelBase.TRANSLATION_STATES.length;i++)state[TranslationStatusFilterPanelBase.TRANSLATION_STATES[i]]=false;return state}function getCheckboxConfigsValueExpression(){var this$=this;if(!this.checkboxConfigsValueExpression$BQpF)this.checkboxConfigsValueExpression$BQpF=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var checkboxConfigs=[];for(var i=0;i<TranslationStatusFilterPanelBase.TRANSLATION_STATES.length;i++){var translationState=
TranslationStatusFilterPanelBase.TRANSLATION_STATES[i];var translationStatusFilterCheckboxCfg=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.search.TranslationStatusFilterCheckbox,{});translationStatusFilterCheckboxCfg.itemId=translationState;AS3.setBindable(translationStatusFilterCheckboxCfg,"translationState",translationState);AS3.setBindable(translationStatusFilterCheckboxCfg,"bindTo",com.coremedia.ui.data.ValueExpressionFactory.create(translationState,this$.getStateBean()));checkboxConfigs.push(translationStatusFilterCheckboxCfg)}return checkboxConfigs});
return this.checkboxConfigsValueExpression$BQpF}function beforeDestroy(){this.getStateBean().removePropertyChangeListener(TranslationStatusFilterPanelBase.SITE_PROPERTY,AS3.bind(this,"validateSite$BQpF"));com.coremedia.cms.editor.sdk.collectionview.search.FilterPanel.prototype.beforeDestroy.call(this)}return{extend:"com.coremedia.cms.editor.sdk.collectionview.search.FilterPanel",checkboxConfigsValueExpression$BQpF:null,constructor:TranslationStatusFilterPanelBase$,super$BQpF:function(){com.coremedia.cms.editor.sdk.collectionview.search.FilterPanel.prototype.constructor.apply(this,
arguments)},validateSite$BQpF:validateSite,buildQuery:buildQuery,getDefaultState:getDefaultState,getCheckboxConfigsValueExpression:getCheckboxConfigsValueExpression,beforeDestroy:beforeDestroy,statics:{SITE_PROPERTY:"site",TRANSLATION_STATES:undefined,getTranslationStates:getTranslationStates$static,__initStatics__:function(){TRANSLATION_STATES$static_()}},requires:["com.coremedia.cms.editor.sdk.collectionview.search.FilterPanel","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.sdk.collectionview.search.TranslationStatusFilterCheckbox",
"com.coremedia.cms.editor.sdk.collectionview.search.TranslationStatusFilterUtil","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.translate.TranslationStatusSearchParameters","com.coremedia.cms.editor.sdk.translate.TranslationStatusSearchUtil","com.coremedia.cms.editor.sdk.translate.TranslationStatusUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.search.ConditionalFilterPanelBase",function(ConditionalFilterPanelBase){function ConditionalFilterPanelBase$(config){if(arguments.length<=0)config=null;this.super$tLci(config);this.visibilityExpression$tLci=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"isApplicable"));this.visibilityExpression$tLci.addChangeListener(AS3.bind(this,"updateVisibility$tLci"));this.updateVisibility$tLci()}function isApplicable(){throw new AS3.Error("isApplicable() must be overridden in subclasses");
}function buildQuery(){return this.isApplicable()?this.doBuildQuery():null}function doBuildQuery(){throw new AS3.Error("doBuildQuery() must be overridden in subclasses");}function updateVisibility(){var visible=this.visibilityExpression$tLci.getValue();if(visible===undefined)return;if(visible)this.show();else{this.hide();this.resetFilter()}}return{extend:"com.coremedia.cms.editor.sdk.collectionview.search.FilterPanel",visibilityExpression$tLci:null,constructor:ConditionalFilterPanelBase$,super$tLci:function(){com.coremedia.cms.editor.sdk.collectionview.search.FilterPanel.prototype.constructor.apply(this,
arguments)},isApplicable:isApplicable,buildQuery:buildQuery,doBuildQuery:doBuildQuery,updateVisibility$tLci:updateVisibility,requires:["AS3.Error","com.coremedia.cms.editor.sdk.collectionview.search.FilterPanel","com.coremedia.ui.data.ValueExpressionFactory"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.search.SearchFiltersPanel",function(SearchFiltersPanel){function SearchFiltersPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.search.SearchFiltersPanelBase,{});var defaults_$1=AS3.cast(SearchFiltersPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.Editor","Filters"));AS3.setBindable(config_$1,
"region","west");AS3.setBindable(config_$1,"width",230);config_$1["floatable"]=false;AS3.setBindable(config_$1,"minWidth",230);AS3.setBindable(config_$1,"maxWidth",500);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.PanelSkin.EMBEDDED.getSkin());config_$1["split"]={width:"3px",collapsible:false};config_$1.collapsible=true;AS3.setBindable(config_$1,"collapsed",true);config_$1.titleCollapse=true;AS3.setBindable(config_$1,"scrollable","y");var header_46_5_$1=AS3.cast(Ext.panel.Header,
{});header_46_5_$1["focusableContainer"]=false;config_$1.header=header_46_5_$1;var ui_BindVisibilityPlugin_49_5_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_49_5_$1.bindTo=this.getVisibilityExpression();ui_BindVisibilityPlugin_49_5_$1["updateWithLayout"]=true;config_$1.plugins=[ui_BindVisibilityPlugin_49_5_$1];var editor_SearchFilters_53_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.search.SearchFilters,{});editor_SearchFilters_53_5_$1.itemId="searchFilter";
config_$1.items=[editor_SearchFilters_53_5_$1];var layout_Anchor_56_5_$1=AS3.cast(Ext.layout.container.Anchor,{});AS3.setBindable(config_$1,"layout",layout_Anchor_56_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Gln6(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.collectionview.search.SearchFiltersPanelBase",alias:"widget.com.coremedia.cms.editor.sdk.config.searchFiltersPanel",constructor:SearchFiltersPanel$,super$Gln6:function(){com.coremedia.cms.editor.sdk.collectionview.search.SearchFiltersPanelBase.prototype.constructor.apply(this,
arguments)},config:{state:null,alwaysVisible:false},requires:["Ext.layout.container.Anchor","Ext.panel.Header","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.collectionview.search.SearchFiltersPanelBase","com.coremedia.ui.plugins.BindVisibilityPlugin","com.coremedia.ui.skins.PanelSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.collectionview.search.SearchFilters"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.search.SearchFilters",function(SearchFilters){function LAST_EDITED_FILTER_ITEM_ID$static_(){SearchFilters.LAST_EDITED_FILTER_ITEM_ID=com.coremedia.cms.editor.sdk.collectionview.search.LastEditedFilterPanel.FILTER_ID}function SearchFilters$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.search.SearchFiltersBase,{});var defaults_$1=AS3.cast(SearchFilters,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,
config);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.GRID_200);var editor_StatusFilterPanel_33_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.search.StatusFilterPanel,{});var editor_LastEditedFilterPanel_34_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.search.LastEditedFilterPanel,{});var editor_SiteFilterPanel_35_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.search.SiteFilterPanel,{});var editor_RelativeDateFilterPanel_36_5_$1=
AS3.cast(com.coremedia.cms.editor.sdk.collectionview.search.RelativeDateFilterPanel,{});AS3.setBindable(editor_RelativeDateFilterPanel_36_5_$1,"dateFieldName","modificationdate");var editor_RelativeDateFilterPanel_37_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.search.RelativeDateFilterPanel,{});AS3.setBindable(editor_RelativeDateFilterPanel_37_5_$1,"dateFieldName","publicationdate");var editor_TranslationStatusFilterPanel_38_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.search.TranslationStatusFilterPanel,
{});config_$1.items=[editor_StatusFilterPanel_33_5_$1,editor_LastEditedFilterPanel_34_5_$1,editor_SiteFilterPanel_35_5_$1,editor_RelativeDateFilterPanel_36_5_$1,editor_RelativeDateFilterPanel_37_5_$1,editor_TranslationStatusFilterPanel_38_5_$1];var layout_Anchor_41_5_$1=AS3.cast(Ext.layout.container.Anchor,{});AS3.setBindable(config_$1,"layout",layout_Anchor_41_5_$1);var ui_VerticalSpacingPlugin_44_5_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});AS3.setBindable(ui_VerticalSpacingPlugin_44_5_$1,
"modifier",com.coremedia.ui.bem.SpacingBEMEntities.VERTICAL_SPACING_MODIFIER_200);config_$1.plugins=[ui_VerticalSpacingPlugin_44_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$8gXU(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.collectionview.search.SearchFiltersBase",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.searchFilters",constructor:SearchFilters$,super$8gXU:function(){com.coremedia.cms.editor.sdk.collectionview.search.SearchFiltersBase.prototype.constructor.apply(this,
arguments)},statics:{LAST_EDITED_FILTER_ITEM_ID:undefined,__initStatics__:function(){LAST_EDITED_FILTER_ITEM_ID$static_()}},requires:["Ext.layout.container.Anchor","com.coremedia.cms.editor.sdk.collectionview.search.SearchFiltersBase","com.coremedia.ui.bem.SpacingBEMEntities","com.coremedia.ui.plugins.VerticalSpacingPlugin","com.coremedia.ui.skins.ContainerSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.collectionview.search.LastEditedFilterPanel","com.coremedia.cms.editor.sdk.collectionview.search.RelativeDateFilterPanel",
"com.coremedia.cms.editor.sdk.collectionview.search.SiteFilterPanel","com.coremedia.cms.editor.sdk.collectionview.search.StatusFilterPanel","com.coremedia.cms.editor.sdk.collectionview.search.TranslationStatusFilterPanel"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.search.SiteFilterPanel",function(SiteFilterPanel){function __initialize__(config){this["initialConfig"]=config||{}}function SiteFilterPanel$(config){if(arguments.length<=0)config=null;this.__initialize__$bk0G(config);var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.search.SiteFilterPanelBase,{});var defaults_$1=AS3.cast(SiteFilterPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.itemId=net.jangaroo.ext.Exml.asString(SiteFilterPanel.FILTER_ID);
AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.Editor","Filter_Site_text"));var container_35_5_$1=AS3.cast(Ext.container.Container,{});var radioGroup_37_9_$1=AS3.cast(Ext.form.RadioGroup,{});radioGroup_37_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.search.SiteFilterPanelBase.RADIO_GROUP_ITEM_ID);radioGroup_37_9_$1.columns=1;var radio_40_13_$1=AS3.cast(Ext.form.field.Radio,{});radio_40_13_$1.inputValue=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.search.SiteFilterPanelBase.NO_FILTER_VALUE);
radio_40_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.search.SiteFilterPanelBase.NO_FILTER_VALUE);radio_40_13_$1.name=net.jangaroo.ext.Exml.asString(this.getRadioGroupName());radio_40_13_$1["inGroup"]=true;radio_40_13_$1.checked=true;radio_40_13_$1.hideLabel=true;AS3.setBindable(radio_40_13_$1,"boxLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","Filter_Site_all_content_button")));var radio_47_13_$1=AS3.cast(Ext.form.field.Radio,
{});radio_47_13_$1.inputValue=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.search.SiteFilterPanelBase.PREFERRED_SITE_VALUE);radio_47_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.search.SiteFilterPanelBase.PREFERRED_SITE_VALUE);radio_47_13_$1.name=net.jangaroo.ext.Exml.asString(this.getRadioGroupName());radio_47_13_$1["inGroup"]=true;radio_47_13_$1.hideLabel=true;AS3.setBindable(radio_47_13_$1,"boxLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"Filter_Site_preferred_site_button")));radioGroup_37_9_$1.items=[radio_40_13_$1,radio_47_13_$1];container_35_5_$1.items=[radioGroup_37_9_$1];var layout_VBox_57_9_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_57_9_$1,"align","stretch");AS3.setBindable(container_35_5_$1,"layout",layout_VBox_57_9_$1);config_$1.items=[container_35_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$bk0G(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.collectionview.search.SiteFilterPanelBase",
alias:"widget.com.coremedia.cms.editor.sdk.config.siteFilterPanel",__initialize__$bk0G:__initialize__,constructor:SiteFilterPanel$,super$bk0G:function(){com.coremedia.cms.editor.sdk.collectionview.search.SiteFilterPanelBase.prototype.constructor.apply(this,arguments)},statics:{FILTER_ID:"site"},requires:["Ext.container.Container","Ext.form.RadioGroup","Ext.form.field.Radio","Ext.layout.container.VBox","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.collectionview.search.SiteFilterPanelBase",
"net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.search.ContentTypeSelector",function(ContentTypeSelector){function ContentTypeSelector$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.search.ContentTypeSelectorBase,{});var defaults_$1=AS3.cast(ContentTypeSelector,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"width",100);config_$1.itemId="contentTypeSelector";config_$1.valueField="name";AS3.setBindable(config_$1,
"displayField","label");config_$1.tpl=com.coremedia.cms.editor.sdk.collectionview.search.ContentTypeSelectorBase.getTemplate();config_$1.allowBlank=false;var ui_BindPropertyPlugin_26_5_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_26_5_$1.bindTo=AS3.getBindable(config,"contentTypeValueExpression");ui_BindPropertyPlugin_26_5_$1.bidirectional=true;ui_BindPropertyPlugin_26_5_$1.componentEvent="select";config_$1.plugins=[ui_BindPropertyPlugin_26_5_$1];config_$1["plugins$at"]=
net.jangaroo.ext.Exml.APPEND;var store_Json_31_5_$1=AS3.cast(Ext.data.JsonStore,{});AS3.setBindable(store_Json_31_5_$1,"data",AS3.getBindable(config,"entries"));var util_Sorter_33_9_$1=AS3.cast(Ext.util.Sorter,{});AS3.setBindable(util_Sorter_33_9_$1,"property","label");AS3.setBindable(util_Sorter_33_9_$1,"direction","ASC");AS3.setBindable(store_Json_31_5_$1,"sorters",[new Ext.util.Sorter(util_Sorter_33_9_$1)]);var data_AutoField_37_9_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_37_9_$1.name=
"name";var data_AutoField_38_9_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_38_9_$1.name="icon";var data_AutoField_39_9_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_39_9_$1.name="label";data_AutoField_39_9_$1.sortType=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtilInternal.documentTypeNameSortType;AS3.setBindable(store_Json_31_5_$1,"fields",[data_AutoField_37_9_$1,data_AutoField_38_9_$1,data_AutoField_39_9_$1]);AS3.setBindable(config_$1,"store",new Ext.data.JsonStore(store_Json_31_5_$1));
var boundList_45_5_$1=AS3.cast(Ext.view.BoundList,{});AS3.setBindable(boundList_45_5_$1,"minWidth",com.coremedia.cms.editor.sdk.collectionview.search.ContentTypeSelectorBase.computeMaxNameWidth(AS3.getBindable(config,"entries")));config_$1.listConfig=boundList_45_5_$1;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Pbiz(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.collectionview.search.ContentTypeSelectorBase",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.contentTypeSelector",
constructor:ContentTypeSelector$,super$Pbiz:function(){com.coremedia.cms.editor.sdk.collectionview.search.ContentTypeSelectorBase.prototype.constructor.apply(this,arguments)},requires:["Ext.data.JsonStore","Ext.data.field.Field","Ext.util.Sorter","Ext.view.BoundList","com.coremedia.cms.editor.sdk.collectionview.search.ContentTypeSelectorBase","com.coremedia.ui.plugins.BindPropertyPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.util.ContentLocalizationUtilInternal"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.search.SearchFiltersPanelBase",function(SearchFiltersPanelBase){function SearchFiltersPanelBase$(config){if(arguments.length<=0)config=null;this.super$NkGt(config);if(!AS3.getBindable(config,"alwaysVisible")){this.selectedFolderExpression$NkGt=com.coremedia.ui.context.ComponentContextManager.getInstance().getContextExpression(this,com.coremedia.cms.editor.sdk.collectionview.CollectionView.SELECTED_FOLDER_VARIABLE_NAME);this.selectedFolderExpression$NkGt.addChangeListener(AS3.bind(this,
"folderSelectionChanged$NkGt"))}}function afterRender(){Ext.panel.Panel.prototype.afterRender.call(this);this.folderSelectionChanged$NkGt(this.selectedFolderExpression$NkGt)}function beforeLayout(){this.scrollX$NkGt=this.getScrollX();this.scrollY$NkGt=this.getScrollY();Ext.panel.Panel.prototype.beforeLayout.call(this)}function afterLayout(layout){Ext.panel.Panel.prototype.afterLayout.call(this,layout);this.scrollTo(this.scrollX$NkGt,this.scrollY$NkGt,false)}function getVisibilityExpression(){if(!this.visibilityExpression$NkGt)this.visibilityExpression$NkGt=
com.coremedia.ui.data.ValueExpressionFactory.createFromValue(true);return this.visibilityExpression$NkGt}function folderSelectionChanged(ve){var this$=this;if(ve){var selection=ve.getValue();com.coremedia.cms.editor.sdk.editorContext.getCollectionViewExtender().findExtension(selection,function(extension){var searchFilters=[];if(extension)searchFilters=extension.getEnabledSearchFilterIds();this$.getVisibilityExpression().setValue(searchFilters!==null&&searchFilters.length>0);this$.setVisible(searchFilters!==
null&&searchFilters.length>0)})}}function onDestroy(){this.selectedFolderExpression$NkGt&&this.selectedFolderExpression$NkGt.removeChangeListener(AS3.bind(this,"folderSelectionChanged$NkGt"));Ext.panel.Panel.prototype.onDestroy.call(this)}return{extend:"Ext.panel.Panel",selectedFolderExpression$NkGt:null,visibilityExpression$NkGt:null,scrollX$NkGt:NaN,scrollY$NkGt:NaN,constructor:SearchFiltersPanelBase$,super$NkGt:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},afterRender:afterRender,
beforeLayout:beforeLayout,afterLayout:afterLayout,getVisibilityExpression:getVisibilityExpression,folderSelectionChanged$NkGt:folderSelectionChanged,onDestroy:onDestroy,requires:["Ext.panel.Panel","com.coremedia.ui.context.ComponentContextManager","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionView","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.search.RelativeDateFilterPanelBase",function(RelativeDateFilterPanelBase){function RelativeDateFilterPanelBase$(config){if(arguments.length<=0)config=null;this.fieldName$pKvE=AS3.getBindable(config,"dateFieldName")||"modificationdate";this.queryTemplate$pKvE=AS3.getBindable(config,"queryTemplate")||RelativeDateFilterPanelBase.QUERY_FRAGMENT;this.super$pKvE(config)}function buildQuery(){var state=this.getStateBean();var freshness=state.get(this.fieldName$pKvE);
if(freshness===undefined||freshness===null||freshness===RelativeDateFilterPanelBase.ANY_DATE)return null;else return Ext.String.format(this.queryTemplate$pKvE,this.fieldName$pKvE,freshness)}function getDefaultState(){var state={};state[this.fieldName$pKvE]=RelativeDateFilterPanelBase.ANY_DATE;return state}return{extend:"com.coremedia.cms.editor.sdk.collectionview.search.FilterPanel",queryTemplate$pKvE:null,fieldName$pKvE:null,constructor:RelativeDateFilterPanelBase$,super$pKvE:function(){com.coremedia.cms.editor.sdk.collectionview.search.FilterPanel.prototype.constructor.apply(this,
arguments)},buildQuery:buildQuery,getDefaultState:getDefaultState,statics:{QUERY_FRAGMENT:"({0}:[NOW/HOUR-{1}DAYS TO NOW/HOUR+1HOUR] AND isdeleted:false)",ANY_DATE:-1},requires:["Ext.String","com.coremedia.cms.editor.sdk.collectionview.search.FilterPanel"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.SortableSwitchingContainer",function(SortableSwitchingContainer){function SortableSwitchingContainer$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.SortableSwitchingContainerBase,{});var defaults_$1=AS3.cast(SortableSwitchingContainer,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$_bPy(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.collectionview.SortableSwitchingContainerBase",
metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.sortableSwitchingContainer",constructor:SortableSwitchingContainer$,super$_bPy:function(){com.coremedia.cms.editor.sdk.collectionview.SortableSwitchingContainerBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.collectionview.SortableSwitchingContainerBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.HandleEmptySearchResultPluginBase",function(HandleEmptySearchResultPluginBase){var EMPTY_TEXT$static;function EMPTY_TEXT$static_(){EMPTY_TEXT$static=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","CollectionView_emptySearch_text")}var EMPTY_TEXT_NOT_ROOT$static;function EMPTY_TEXT_NOT_ROOT$static_(){EMPTY_TEXT_NOT_ROOT$static=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor",
"CollectionView_emptySearchNotRoot_text")}var CLEAR_PATH_TEXT$static;function CLEAR_PATH_TEXT$static_(){CLEAR_PATH_TEXT$static=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","CollectionView_emptySearchNotRoot_link_text")}var BLOCK$static;function BLOCK$static_(){BLOCK$static=new com.coremedia.ui.models.bem.BEMBlock("cm-empty-search-result")}var ELEMENT_PARAGRAPH$static;function ELEMENT_PARAGRAPH$static_(){ELEMENT_PARAGRAPH$static=BLOCK$static.createElement("paragraph")}
var ELEMENT_LINK$static;function ELEMENT_LINK$static_(){ELEMENT_LINK$static=BLOCK$static.createElement("link")}var CLEAR_PATH_COMMAND$static="clearPath";function HandleEmptySearchResultPluginBase$(config){this.super$Yeyz();if(arguments.length<=0)config=null;this.additionalHandler=config.additionalHandler}function init(component){this.component$Yeyz=component;com.coremedia.ui.util.ComponentUtil.findAsParentOf(component,com.coremedia.cms.editor.sdk.collectionview.CollectionView.xtype,AS3.bind(this,
"initCollectionView$Yeyz"))}function initCollectionView(theCollectionView){this.theCollectionView$Yeyz=theCollectionView;this.emptyTextValueExpression$Yeyz=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"computeEmptyText$Yeyz"));this.emptyTextValueExpression$Yeyz.addChangeListener(AS3.bind(this,"onEmptyTextChange$Yeyz"));this.onEmptyTextChange$Yeyz();this.component$Yeyz.on("afterrender",AS3.bind(this,"attachListener$Yeyz"));this.component$Yeyz.on("beforedestroy",AS3.bind(this,
"onDestroy$Yeyz"))}function attachListener(){this.component$Yeyz.getEl().addListener("click",AS3.bind(this,"linkClicked$Yeyz"))}function linkClicked(e){var target=e.getTarget();if(target&&target.getAttribute("data-command")===CLEAR_PATH_COMMAND$static){this.theCollectionView$Yeyz.getCollectionViewModel().getMainStateBean().set(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.FOLDER_PROPERTY,com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getRoot());e.stopEvent()}}
function computeEmptyText(){var searchResult=this.theCollectionView$Yeyz.getSearchResult();if(!searchResult)return undefined;var hits=searchResult.getHits();var emptyText="";if(hits&&hits.length===0){var mainStateBean=this.theCollectionView$Yeyz.getCollectionViewModel().getMainStateBean();var folder=mainStateBean.get(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.FOLDER_PROPERTY);if(AS3.is(folder,com.coremedia.cap.content.Content)){if(!AS3.cast(com.coremedia.cap.content.Content,folder).isRoot()){emptyText=
'\x3cp class\x3d"'+ELEMENT_PARAGRAPH$static+'"\x3e'+EMPTY_TEXT_NOT_ROOT$static+"\x3c/p\x3e";emptyText+='\x3cp class\x3d"'+ELEMENT_PARAGRAPH$static+'"\x3e\x3ca class\x3d"'+ELEMENT_LINK$static+'" href\x3d"#" data-command\x3d"'+CLEAR_PATH_COMMAND$static+'"\x3e'+CLEAR_PATH_TEXT$static+"\x3c/a\x3e\x3c/p\x3e"}}else if(this.additionalHandler){var rawEmptyText=this.additionalHandler.call(null,mainStateBean);emptyText=rawEmptyText&&this.formatRawEmptyText$Yeyz(rawEmptyText)}emptyText=emptyText||'\x3cp class\x3d"'+
ELEMENT_PARAGRAPH$static+'"\x3e'+EMPTY_TEXT$static+"\x3c/p\x3e"}return'\x3cdiv class\x3d"'+BLOCK$static+'"\x3e'+emptyText+"\x3c/div\x3e"}function formatRawEmptyText(text){var formattedText="";var lines=text.split("\n");lines.forEach(function(line){formattedText+='\x3cp class\x3d"'+ELEMENT_PARAGRAPH$static+'"\x3e'+line+"\x3c/p\x3e"});return formattedText}function onEmptyTextChange(){var emptyText=this.emptyTextValueExpression$Yeyz.getValue();if(emptyText!==undefined){var dataView=AS3.as(this.component$Yeyz,
Ext.view.View);if(!dataView){var gridPanel=AS3.as(this.component$Yeyz,Ext.grid.Panel);if(gridPanel)dataView=gridPanel.getView()}if(dataView)dataView["setEmptyText"](emptyText)}}function onDestroy(){this.emptyTextValueExpression$Yeyz.removeChangeListener(AS3.bind(this,"onEmptyTextChange$Yeyz"));if(this.component$Yeyz.getEl())this.component$Yeyz.getEl().removeListener("click",AS3.bind(this,"linkClicked$Yeyz"))}return{extend:"Ext.plugin.Abstract",theCollectionView$Yeyz:null,component$Yeyz:null,emptyTextValueExpression$Yeyz:null,
additionalHandler:null,constructor:HandleEmptySearchResultPluginBase$,super$Yeyz:function(){Ext.plugin.Abstract.prototype.constructor.apply(this,arguments)},init:init,initCollectionView$Yeyz:initCollectionView,attachListener$Yeyz:attachListener,linkClicked$Yeyz:linkClicked,computeEmptyText$Yeyz:computeEmptyText,formatRawEmptyText$Yeyz:formatRawEmptyText,onEmptyTextChange$Yeyz:onEmptyTextChange,onDestroy$Yeyz:onDestroy,statics:{EMPTY_TEXT:undefined,EMPTY_TEXT_NOT_ROOT:undefined,CLEAR_PATH_TEXT:undefined,
BLOCK:undefined,ELEMENT_PARAGRAPH:undefined,ELEMENT_LINK:undefined,__initStatics__:function(){EMPTY_TEXT$static_();EMPTY_TEXT_NOT_ROOT$static_();CLEAR_PATH_TEXT$static_();BLOCK$static_();ELEMENT_PARAGRAPH$static_();ELEMENT_LINK$static_()}},requires:["Ext.grid.Panel","Ext.plugin.Abstract","Ext.view.View","com.coremedia.cap.common.SESSION","com.coremedia.cap.content.Content","com.coremedia.cms.editor.Editor_properties","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.models.bem.BEMBlock",
"com.coremedia.ui.util.ComponentUtil","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionView","com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.SearchFilterState",function(SearchFilterState){function SearchFilterState$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.SearchFilterStateBase,{});var defaults_$1=AS3.cast(SearchFilterState,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$8gcW(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.collectionview.SearchFilterStateBase",
metadata:{"":["PublicApi"]},constructor:SearchFilterState$,super$8gcW:function(){com.coremedia.cms.editor.sdk.collectionview.SearchFilterStateBase.prototype.constructor.apply(this,arguments)},config:{filterId:null},requires:["com.coremedia.cms.editor.sdk.collectionview.SearchFilterStateBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.SwitchViewButtonsContainer",function(SwitchViewButtonsContainer){function __initialize__(config){this.collectionViewModel$BsoA=AS3.cast(com.coremedia.cms.editor.sdk.EditorContextImpl,com.coremedia.cms.editor.sdk.editorContext).getCollectionViewModel();this.uniqueId$BsoA=Ext.id()}function SwitchViewButtonsContainer$(config){if(arguments.length<=0)config=null;this.__initialize__$BsoA(config);var config_$1=AS3.cast(Ext.container.Container,{});var defaults_$1=
AS3.cast(SwitchViewButtonsContainer,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.itemId="switchButtonsContainer";config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.GROUP.getSkin());var ui_IconButton_40_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_40_5_$1.itemId="list";ui_IconButton_40_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.TOOLBAR_GROUPED.getSkin());ui_IconButton_40_5_$1.scope=AS3.getBindable(config,
"scope");AS3.setBindable(ui_IconButton_40_5_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","list_view")));AS3.setBindable(ui_IconButton_40_5_$1,"tooltip",this.resourceManager.getString("com.coremedia.cms.editor.Editor","SearchArea_listView_btn_tooltip"));AS3.setBindable(ui_IconButton_40_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","SearchArea_listView_btn_tooltip")));AS3.setBindable(ui_IconButton_40_5_$1,
"pressed",true);ui_IconButton_40_5_$1.toggleGroup=net.jangaroo.ext.Exml.asString(this.uniqueId$BsoA+"-switchButtonsContainer-toggle-group");ui_IconButton_40_5_$1.enableToggle=true;ui_IconButton_40_5_$1.allowDepress=false;var editor_SwitchViewAction_51_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.SwitchViewAction,{});AS3.setBindable(editor_SwitchViewAction_51_9_$1,"view",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants.LIST_VIEW));AS3.setBindable(editor_SwitchViewAction_51_9_$1,
"collectionViewModel",this.collectionViewModel$BsoA);ui_IconButton_40_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.SwitchViewAction(editor_SwitchViewAction_51_9_$1);var ui_IconButton_55_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_55_5_$1.itemId="thumb";ui_IconButton_55_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.TOOLBAR_GROUPED.getSkin());ui_IconButton_55_5_$1.scope=AS3.getBindable(config,"scope");AS3.setBindable(ui_IconButton_55_5_$1,
"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","thumbnail_view")));AS3.setBindable(ui_IconButton_55_5_$1,"tooltip",this.resourceManager.getString("com.coremedia.cms.editor.Editor","SearchArea_thumbnailView_btn_tooltip"));AS3.setBindable(ui_IconButton_55_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","SearchArea_thumbnailView_btn_tooltip")));ui_IconButton_55_5_$1.toggleGroup=net.jangaroo.ext.Exml.asString(this.uniqueId$BsoA+
"-switchButtonsContainer-toggle-group");ui_IconButton_55_5_$1.enableToggle=true;ui_IconButton_55_5_$1.allowDepress=false;var editor_SwitchViewAction_65_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.SwitchViewAction,{});AS3.setBindable(editor_SwitchViewAction_65_9_$1,"view",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants.THUMBNAILS_VIEW));AS3.setBindable(editor_SwitchViewAction_65_9_$1,"collectionViewModel",this.collectionViewModel$BsoA);ui_IconButton_55_5_$1.baseAction=
new com.coremedia.cms.editor.sdk.actions.SwitchViewAction(editor_SwitchViewAction_65_9_$1);config_$1.items=[ui_IconButton_40_5_$1,ui_IconButton_55_5_$1];var layout_HBox_71_5_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(config_$1,"layout",layout_HBox_71_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$BsoA(config_$1)}return{extend:"Ext.container.Container",alias:"widget.com.coremedia.cms.editor.sdk.config.switchViewButtonsContainer",collectionViewModel$BsoA:null,uniqueId$BsoA:null,
__initialize__$BsoA:__initialize__,constructor:SwitchViewButtonsContainer$,super$BsoA:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},config:{scope:null},requires:["Ext","Ext.container.Container","Ext.layout.container.HBox","com.coremedia.cms.editor.Editor_properties","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.components.IconButton","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.ContainerSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.EditorContextImpl",
"com.coremedia.cms.editor.sdk.actions.SwitchViewAction","com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.thumbnail.ThumbDataViewBase",function(ThumbDataViewBase){function LIST_BLOCK$static_(){ThumbDataViewBase.LIST_BLOCK=new com.coremedia.ui.models.bem.BEMBlock("cm-thumb-data-view")}function LIST_ELEMENT_ITEM$static_(){ThumbDataViewBase.LIST_ELEMENT_ITEM=ThumbDataViewBase.LIST_BLOCK.createElement("item")}function LIST_MODIFIER_EMPTY$static_(){ThumbDataViewBase.LIST_MODIFIER_EMPTY=ThumbDataViewBase.LIST_BLOCK.createModifier("empty")}function LIST_MODIFIER_FRAME$static_(){ThumbDataViewBase.LIST_MODIFIER_FRAME=
ThumbDataViewBase.LIST_BLOCK.createModifier("frame")}function THUMBNAIL_BLOCK$static_(){ThumbDataViewBase.THUMBNAIL_BLOCK=new com.coremedia.ui.models.bem.BEMBlock("cm-thumbnail")}function THUMBNAIL_ELEMENT_ICON$static_(){ThumbDataViewBase.THUMBNAIL_ELEMENT_ICON=ThumbDataViewBase.THUMBNAIL_BLOCK.createElement("icon")}function THUMBNAIL_ELEMENT_TEXT$static_(){ThumbDataViewBase.THUMBNAIL_ELEMENT_TEXT=ThumbDataViewBase.THUMBNAIL_BLOCK.createElement("text")}function THUMBNAIL_MODIFIER_LOADING$static_(){ThumbDataViewBase.THUMBNAIL_MODIFIER_LOADING=
ThumbDataViewBase.THUMBNAIL_BLOCK.createModifier("loading")}function THUMBNAIL_MODIFIER_NO_SELECTION$static_(){ThumbDataViewBase.THUMBNAIL_MODIFIER_NO_SELECTION=ThumbDataViewBase.THUMBNAIL_BLOCK.createModifier("no-selection")}function THUMBNAIL_MODIFIER_READ_ONLY$static_(){ThumbDataViewBase.THUMBNAIL_MODIFIER_READ_ONLY=ThumbDataViewBase.THUMBNAIL_BLOCK.createModifier("read-only")}function THUMBNAIL_IMAGE_MODIFIER_COLLECTION_VIEW$static_(){ThumbDataViewBase.THUMBNAIL_IMAGE_MODIFIER_COLLECTION_VIEW=
com.coremedia.ui.util.ThumbnailImage.BLOCK.createModifier("collection-view")}var THUMBNAIL_IMG_SIZE$static=64;function ThumbDataViewBase$(config){if(arguments.length<=0)config=null;var thumbnailViewXTemplate=new com.coremedia.ui.DispatchingXTemplate({"default":new Ext.XTemplate('\x3cdiv tabindex\x3d0 role\x3d"option" aria-label\x3d"{typeName} {shortName}" class\x3d"'+ThumbDataViewBase.LIST_ELEMENT_ITEM+" "+ThumbDataViewBase.THUMBNAIL_BLOCK+'\x3ctpl if\x3d"loaded"\x3e\x3ctpl else\x3e '+ThumbDataViewBase.THUMBNAIL_MODIFIER_LOADING+
'\x3c/tpl\x3e {readOnlyModifierCls}" data-content-id\x3d"{contentId}"\x3e','\x3cdiv role\x3d"presentation" class\x3d"'+ThumbDataViewBase.THUMBNAIL_ELEMENT_ICON+' {docTypeClass}"\x3e\x3c/div\x3e','\x3cp role\x3d"presentation" class\x3d"'+ThumbDataViewBase.THUMBNAIL_ELEMENT_TEXT+'" data-qtip\x3d"{shortName}"\x3e{shortName}\x3c/p\x3e',"\x3c/div\x3e"),"image":new Ext.XTemplate('\x3cdiv tabindex\x3d0 role\x3d"option" aria-label\x3d"{typeName} {shortName}" class\x3d"'+ThumbDataViewBase.LIST_ELEMENT_ITEM+
" "+ThumbDataViewBase.THUMBNAIL_BLOCK+'\x3ctpl if\x3d"loaded"\x3e\x3ctpl else\x3e '+ThumbDataViewBase.THUMBNAIL_MODIFIER_LOADING+'\x3c/tpl\x3e {readOnlyModifierCls}" data-content-id\x3d"{contentId}"data-content-id\x3d"{contentId}"\x3e','{[values.thumbnailImage.render("'+ThumbDataViewBase.THUMBNAIL_IMAGE_MODIFIER_COLLECTION_VIEW.getCSSClass()+'")]}','\x3cp role\x3d"presentation" class\x3d"'+ThumbDataViewBase.THUMBNAIL_ELEMENT_TEXT+'" data-qtip\x3d"{shortName}"\x3e\x3cspan class\x3d"{docTypeClass}"\x3e\x3c/span\x3e {shortName}\x3c/p\x3e',
"\x3c/div\x3e")},dispatchXTemplate$static);config.tpl=thumbnailViewXTemplate;this.super$Y4y3(config);this.on("afterrender",AS3.bind(this,"afterFirstRender$Y4y3"),null,{single:true});this.mon(this.getStore(),"update",AS3.bind(this,"handleStoreUpdate$Y4y3"));if(AS3.getBindable(config,"createdContentValueExpression"))AS3.getBindable(config,"createdContentValueExpression").addChangeListener(AS3.bind(this,"contentCreated$Y4y3"));this.editable$Y4y3=config.editable$Y4y3===undefined?true:config.editable$Y4y3;
if(this.editable$Y4y3)this.initializeNameEditor$Y4y3();this.on("itemmousedown",AS3.bind(this,"onItemMouseDown$Y4y3"));com.coremedia.ui.util.ThumbnailImage.registerDataViewAnimationHandlers(this)}function initializeNameEditor(){var textfieldConfig=AS3.cast(Ext.form.field.Text,{});textfieldConfig.allowBlank=false;textfieldConfig.selectOnFocus=true;textfieldConfig.ui=com.coremedia.ui.skins.TextfieldSkin.CENTERED.getSkin();var editorConfig=AS3.cast(Ext.Editor,{});var textField=new Ext.form.field.Text(textfieldConfig);
editorConfig.field=textField;editorConfig.ignoreNoChange=true;this.nameEditor$Y4y3=new Ext.Editor(editorConfig);this.mon(this.nameEditor$Y4y3,"complete",AS3.bind(this,"nameEditCompleted$Y4y3"))}function afterFirstRender(){this.setupDragDropZones$Y4y3()}function onItemMouseDown(dataView,record,item,index,e,eOpts){if(this.editable$Y4y3){var beanRecord=AS3.as(record,com.coremedia.ui.store.BeanRecord);var target=AS3.as(e.getTarget(ThumbDataViewBase.THUMBNAIL_ELEMENT_TEXT.getCSSSelector(),10,true),Ext.dom.Element);
if(beanRecord&&target)this.editName$Y4y3(beanRecord)}}function setupDragDropZones(){new com.coremedia.cms.editor.sdk.collectionview.thumbnail.ThumbnailDragZone(this,this.dragDDGroup,this.ddHtmlFeedbackFunction)}function getCollectionViewModel(){return this.collectionViewModel$Y4y3}function setCollectionViewModel(collectionViewModel){this.collectionViewModel$Y4y3=collectionViewModel}function getEditor(field){if(field===ThumbDataViewBase.NAME_FIELD)return this.nameEditor$Y4y3;else return null}function nameEditCompleted(editor,
value){var content=AS3.as(this.recordBeingEdited$Y4y3.getBean(),com.coremedia.cap.content.Content);com.coremedia.cms.editor.sdk.editorContext.getCollectionViewExtender().findExtension(content,function(extension){extension&&extension.getContentTreeRelation().rename(content,value)})}function contentCreated(){var this$=this;if(this.isActiveView$Y4y3()){var createdContent=AS3.getBindable(this,"createdContentValueExpression").getValue();if(createdContent)com.coremedia.ui.util.EventUtil.invokeLater(function(){AS3.getBindable(this$,
"selectedItemsValueExpression").setValue([].concat(createdContent));AS3.getBindable(this$,"createdContentValueExpression").setValue(null);this$.recordBeingEdited$Y4y3=findBeanRecord$static(AS3.cast(Ext.data.Store,this$.getStore()),createdContent);if(this$.recordBeingEdited$Y4y3&&this$.recordBeingEdited$Y4y3.get(ThumbDataViewBase.NAME_FIELD))this$.editName$Y4y3(this$.recordBeingEdited$Y4y3);else this$.waitEditingCreated$Y4y3=createdContent})}}function isActiveView(){var myParent=this.findParentByType(com.coremedia.cms.editor.sdk.collectionview.FolderContentContainer.xtype);
var parent=AS3.as(this.findParentByType(com.coremedia.cms.editor.sdk.collectionview.FolderContentSwitchingContainer.xtype),com.coremedia.cms.editor.sdk.collectionview.FolderContentSwitchingContainer);return parent.isActiveView(myParent,com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants.THUMBNAILS_VIEW)}function dispatchXTemplate$static(data){return data["thumbnailImage"]?"image":"default"}function computeThumbnailImage$static(model,docType){if(arguments.length<=1)docType=null;return com.coremedia.cms.editor.sdk.editorContext.getThumbnailImage(model,
com.coremedia.cms.editor.sdk.util.ImageUtil.getCroppingOperation(THUMBNAIL_IMG_SIZE$static,THUMBNAIL_IMG_SIZE$static),docType)}function isLoaded$static(){return true}function getReadOnlyModifierCls$static(name,content){return name&&AS3.is(content,com.coremedia.cap.content.Content)&&com.coremedia.cms.editor.sdk.util.AccessControlUtil.isReadOnly(content)?ThumbDataViewBase.THUMBNAIL_MODIFIER_READ_ONLY.getCSSClass():""}function getModifierVE(config){if(!this.modifierVE$Y4y3)this.modifierVE$Y4y3=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var modifiers=
[];var value=AS3.getBindable(config,"bindTo").getValue();if(value!==undefined&&value.length===0)modifiers.push(ThumbDataViewBase.LIST_MODIFIER_EMPTY);return modifiers});return this.modifierVE$Y4y3}function editContentName(content){this.editName$Y4y3(findBeanRecord$static(AS3.cast(Ext.data.Store,this.getStore()),content))}function editName(node){this.waitEditingCreated$Y4y3=null;if(this.nameEditor$Y4y3.editing)this.nameEditor$Y4y3.completeEdit(false);this.recordBeingEdited$Y4y3=findBeanRecord$static(AS3.cast(Ext.data.Store,
this.getStore()),node.getBean());this.startNameEdit$Y4y3(node)}function startNameEdit(node){var nodeElement=Ext.dom.Element.get(this.getNode(node));var textElement=nodeElement.query(ThumbDataViewBase.THUMBNAIL_ELEMENT_TEXT.getCSSSelector(),false)[0];this.nameEditor$Y4y3.startEdit(textElement,node.getBean().get(ThumbDataViewBase.NAME_FIELD))}function handleStoreUpdate(store,record){if(this.waitEditingCreated$Y4y3&&this.waitEditingCreated$Y4y3===record.getBean()&&record.get(ThumbDataViewBase.NAME_FIELD))this.editName$Y4y3(record)}
function onDestroy(){Ext.view.View.prototype.onDestroy.call(this);if(AS3.getBindable(this,"createdContentValueExpression"))AS3.getBindable(this,"createdContentValueExpression").removeChangeListener(AS3.bind(this,"contentCreated$Y4y3"))}function findBeanRecord$static(store,bean){if(bean){var number=store.findBy(function(record){return record.getBean()===bean});return AS3.as(store.getAt(number),com.coremedia.ui.store.BeanRecord)}return null}return{extend:"Ext.view.View",mixins:["com.coremedia.cms.editor.sdk.actions.CanEditContentName"],
metadata:{setCollectionViewModel:["InjectFromExtParent"]},nameEditor$Y4y3:null,collectionViewModel$Y4y3:null,waitEditingCreated$Y4y3:null,dragDDGroup:null,ddHtmlFeedbackFunction:null,editable$Y4y3:false,recordBeingEdited$Y4y3:null,modifierVE$Y4y3:null,constructor:ThumbDataViewBase$,super$Y4y3:function(){Ext.view.View.prototype.constructor.apply(this,arguments)},initializeNameEditor$Y4y3:initializeNameEditor,afterFirstRender$Y4y3:afterFirstRender,onItemMouseDown$Y4y3:onItemMouseDown,setupDragDropZones$Y4y3:setupDragDropZones,
getCollectionViewModel:getCollectionViewModel,setCollectionViewModel:setCollectionViewModel,getEditor:getEditor,nameEditCompleted$Y4y3:nameEditCompleted,contentCreated$Y4y3:contentCreated,isActiveView$Y4y3:isActiveView,getModifierVE:getModifierVE,editContentName:editContentName,editName$Y4y3:editName,startNameEdit$Y4y3:startNameEdit,handleStoreUpdate$Y4y3:handleStoreUpdate,onDestroy:onDestroy,config:{bindTo:null,createdContentValueExpression:null,selectedItemsValueExpression:null},statics:{LIST_BLOCK:undefined,
LIST_ELEMENT_ITEM:undefined,LIST_MODIFIER_EMPTY:undefined,LIST_MODIFIER_FRAME:undefined,THUMBNAIL_BLOCK:undefined,THUMBNAIL_ELEMENT_ICON:undefined,THUMBNAIL_ELEMENT_TEXT:undefined,THUMBNAIL_MODIFIER_LOADING:undefined,THUMBNAIL_MODIFIER_NO_SELECTION:undefined,THUMBNAIL_MODIFIER_READ_ONLY:undefined,THUMBNAIL_IMAGE_MODIFIER_COLLECTION_VIEW:undefined,NAME_FIELD:"name",computeThumbnailImage:computeThumbnailImage$static,isLoaded:isLoaded$static,getReadOnlyModifierCls:getReadOnlyModifierCls$static,__initStatics__:function(){LIST_BLOCK$static_();
LIST_ELEMENT_ITEM$static_();LIST_MODIFIER_EMPTY$static_();LIST_MODIFIER_FRAME$static_();THUMBNAIL_BLOCK$static_();THUMBNAIL_ELEMENT_ICON$static_();THUMBNAIL_ELEMENT_TEXT$static_();THUMBNAIL_MODIFIER_LOADING$static_();THUMBNAIL_MODIFIER_NO_SELECTION$static_();THUMBNAIL_MODIFIER_READ_ONLY$static_();THUMBNAIL_IMAGE_MODIFIER_COLLECTION_VIEW$static_()}},requires:["Ext.Editor","Ext.XTemplate","Ext.data.Store","Ext.dom.Element","Ext.form.field.Text","Ext.view.View","com.coremedia.cap.content.Content","com.coremedia.cms.editor.sdk.actions.CanEditContentName",
"com.coremedia.ui.DispatchingXTemplate","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.models.bem.BEMBlock","com.coremedia.ui.skins.TextfieldSkin","com.coremedia.ui.store.BeanRecord","com.coremedia.ui.util.EventUtil","com.coremedia.ui.util.ThumbnailImage"],uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants","com.coremedia.cms.editor.sdk.collectionview.FolderContentContainer","com.coremedia.cms.editor.sdk.collectionview.FolderContentSwitchingContainer","com.coremedia.cms.editor.sdk.collectionview.thumbnail.ThumbnailDragZone",
"com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.util.AccessControlUtil","com.coremedia.cms.editor.sdk.util.ImageUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.thumbnail.RepositoryThumbnailsBase",function(RepositoryThumbnailsBase){function RepositoryThumbnailsBase$(config){if(arguments.length<=0)config=null;this.super$VLYL(config)}function getContentsValueExpression(){var this$=this;return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){if(!this$.getSelectedFolderExpression())return undefined;var selectedFolder=this$.getSelectedFolderExpression().getValue();var cvManager=
AS3.as(com.coremedia.cms.editor.sdk.editorContext.getCollectionViewManager(),com.coremedia.cms.editor.sdk.collectionview.CollectionViewManagerInternal);return cvManager.getFolderChildren(selectedFolder)})}function getSelectedFolderExpression(){return com.coremedia.ui.context.ComponentContextManager.getInstance().getContextExpression(this,com.coremedia.cms.editor.sdk.collectionview.CollectionView.SELECTED_FOLDER_VARIABLE_NAME)}function setCollectionViewModel(collectionViewModel){this.collectionViewModel$VLYL=
collectionViewModel}function getCollectionViewModel(){return this.collectionViewModel$VLYL}function disableBrowserContextMenu(){this.el.on("contextmenu",function(event){event.preventDefault()})}return{extend:"Ext.container.Container",metadata:{setCollectionViewModel:["InjectFromExtParent"]},collectionViewModel$VLYL:null,constructor:RepositoryThumbnailsBase$,super$VLYL:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},getContentsValueExpression:getContentsValueExpression,
getSelectedFolderExpression:getSelectedFolderExpression,setCollectionViewModel:setCollectionViewModel,getCollectionViewModel:getCollectionViewModel,disableBrowserContextMenu:disableBrowserContextMenu,requires:["Ext.container.Container","com.coremedia.ui.context.ComponentContextManager","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionView","com.coremedia.cms.editor.sdk.collectionview.CollectionViewManagerInternal","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.thumbnail.RepositoryThumbnails",function(RepositoryThumbnails){function RepositoryThumbnails$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.thumbnail.RepositoryThumbnailsBase,{});var defaults_$1=AS3.cast(RepositoryThumbnails,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"layout","border");var ui_BEMPlugin_49_5_$1=AS3.cast(com.coremedia.ui.plugins.BEMPlugin,
{});AS3.setBindable(ui_BEMPlugin_49_5_$1,"block","thumb-view-container");AS3.setBindable(ui_BEMPlugin_49_5_$1,"modifier","library");config_$1.plugins=[ui_BEMPlugin_49_5_$1];var panel_53_5_$1=AS3.cast(Ext.panel.Panel,{});panel_53_5_$1.itemId=net.jangaroo.ext.Exml.asString(RepositoryThumbnails.THUMB_DATA_VIEW_PANEL_ITEM_ID);panel_53_5_$1.bodyBorder=false;AS3.setBindable(panel_53_5_$1,"scrollable",true);AS3.setBindable(panel_53_5_$1,"region","center");panel_53_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.PanelSkin.EMBEDDED.getSkin());
AS3.setBindable(panel_53_5_$1,"layout","anchor");var object_60_9_$1={};object_60_9_$1.afterrender=AS3.bind(this,"disableBrowserContextMenu");AS3.setBindable(panel_53_5_$1,"listeners",object_60_9_$1);var header_63_9_$1=AS3.cast(Ext.panel.Header,{});AS3.setBindable(header_63_9_$1,"height","24px");panel_53_5_$1.header=header_63_9_$1;var editor_ThumbDataView_66_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.thumbnail.ThumbDataView,{});editor_ThumbDataView_66_9_$1.itemId="thumbdataview";editor_ThumbDataView_66_9_$1.dragDDGroup=
"ContentDD";AS3.setBindable(editor_ThumbDataView_66_9_$1,"emptyText",net.jangaroo.ext.Exml.asString('\x3cdiv class\x3d"collection-view-empty-text"\x3e'+this.resourceManager.getString("com.coremedia.cms.editor.Editor","CollectionView_emptyFolder_text")+"\x3c/div\x3e"));AS3.setBindable(editor_ThumbDataView_66_9_$1,"selectedItemsValueExpression",AS3.getBindable(config,"selectedItemsValueExpression"));AS3.setBindable(editor_ThumbDataView_66_9_$1,"createdContentValueExpression",AS3.getBindable(config,
"createdContentValueExpression"));AS3.setBindable(editor_ThumbDataView_66_9_$1,"bindTo",this.getContentsValueExpression());var ui_ContextMenuPlugin_73_13_$1=AS3.cast(com.coremedia.ui.plugins.ContextMenuPlugin,{});var editor_CollectionRepositoryContextMenu_75_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.CollectionRepositoryContextMenu,{});editor_CollectionRepositoryContextMenu_75_17_$1.selectedItemsValueExpression=AS3.getBindable(config,"selectedItemsValueExpression");AS3.setBindable(editor_CollectionRepositoryContextMenu_75_17_$1,
"selectedFolderValueExpression",this.getSelectedFolderExpression());AS3.setBindable(ui_ContextMenuPlugin_73_13_$1,"contextMenu",editor_CollectionRepositoryContextMenu_75_17_$1);editor_ThumbDataView_66_9_$1.plugins=[ui_ContextMenuPlugin_73_13_$1];editor_ThumbDataView_66_9_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;panel_53_5_$1.items=[editor_ThumbDataView_66_9_$1];config_$1.items=[panel_53_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$5a_a(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.collectionview.thumbnail.RepositoryThumbnailsBase",
alias:"widget.com.coremedia.cms.editor.sdk.config.repositoryThumbnails",constructor:RepositoryThumbnails$,super$5a_a:function(){com.coremedia.cms.editor.sdk.collectionview.thumbnail.RepositoryThumbnailsBase.prototype.constructor.apply(this,arguments)},config:{createdContentValueExpression:null,selectedItemsValueExpression:null,collectionViewModel:null},statics:{THUMB_DATA_VIEW_PANEL_ITEM_ID:"thumbdataviewscroller"},requires:["Ext.panel.Header","Ext.panel.Panel","com.coremedia.cms.editor.Editor_properties",
"com.coremedia.cms.editor.sdk.collectionview.thumbnail.RepositoryThumbnailsBase","com.coremedia.ui.plugins.BEMPlugin","com.coremedia.ui.plugins.ContextMenuPlugin","com.coremedia.ui.skins.PanelSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionRepositoryContextMenu","com.coremedia.cms.editor.sdk.collectionview.thumbnail.ThumbDataView"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.thumbnail.ThumbDataView",function(ThumbDataView){function ThumbDataView$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.thumbnail.ThumbDataViewBase,{});var defaults_$1=AS3.cast(ThumbDataView,{});var data_BooleanField_58_7_$1=AS3.cast(Ext.data.field.Boolean,{});data_BooleanField_58_7_$1.name="loaded";data_BooleanField_58_7_$1.mapping="name";data_BooleanField_58_7_$1["convert"]=com.coremedia.cms.editor.sdk.collectionview.thumbnail.ThumbDataViewBase.isLoaded;
var data_AutoField_61_7_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_61_7_$1.name="readOnlyModifierCls";data_AutoField_61_7_$1.mapping="name";data_AutoField_61_7_$1["convert"]=com.coremedia.cms.editor.sdk.collectionview.thumbnail.ThumbDataViewBase.getReadOnlyModifierCls;var data_AutoField_64_7_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_64_7_$1.name="name";var data_AutoField_65_7_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_65_7_$1.name="shortName";data_AutoField_65_7_$1.mapping=
"name";var data_AutoField_67_7_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_67_7_$1.name="type";data_AutoField_67_7_$1.mapping="type.name";var ui_DataField_70_7_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_70_7_$1.name="typeCls";ui_DataField_70_7_$1.mapping="type";ui_DataField_70_7_$1.ifError="";ui_DataField_70_7_$1.ifUnreadable=mx.resources.ResourceManager.getInstance().getString("com.coremedia.icons.CoreIcons","no_rights");ui_DataField_70_7_$1["convert"]=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.getIconStyleClassForContentType;
var data_AutoField_75_7_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_75_7_$1.name="docTypeClass";data_AutoField_75_7_$1.mapping="type.name";data_AutoField_75_7_$1["convert"]=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.getIconStyleClassForContentTypeName;var data_AutoField_78_7_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_78_7_$1.name="typeName";data_AutoField_78_7_$1.mapping="type.name";data_AutoField_78_7_$1["convert"]=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.getLabelForContentTypeName;
var ui_DataField_81_7_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_81_7_$1.name="thumbnailImage";ui_DataField_81_7_$1.mapping="";ui_DataField_81_7_$1["convert"]=com.coremedia.cms.editor.sdk.collectionview.thumbnail.ThumbDataViewBase.computeThumbnailImage;ui_DataField_81_7_$1.ifUnreadable=null;ui_DataField_81_7_$1.allowNull=true;var data_AutoField_86_7_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_86_7_$1.name="contentId";data_AutoField_86_7_$1.mapping="uriPath";var data_DateField_89_7_$1=
AS3.cast(Ext.data.field.Date,{});data_DateField_89_7_$1.name="modDate";data_DateField_89_7_$1.mapping="modificationDate";data_DateField_89_7_$1.dateFormat="d.m.Y - G:i";AS3.setBindable(defaults_$1,"fields",[data_BooleanField_58_7_$1,data_AutoField_61_7_$1,data_AutoField_64_7_$1,data_AutoField_65_7_$1,data_AutoField_67_7_$1,ui_DataField_70_7_$1,data_AutoField_75_7_$1,data_AutoField_78_7_$1,ui_DataField_81_7_$1,data_AutoField_86_7_$1,data_DateField_89_7_$1]);config=net.jangaroo.ext.Exml.apply(defaults_$1,
config);config_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","CollectionView_thumnail_dataview"));config_$1.multiSelect=true;config_$1.itemSelector=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.thumbnail.ThumbDataViewBase.LIST_ELEMENT_ITEM.getCSSSelector());config_$1.deferEmptyText=false;config_$1.loadingText=net.jangaroo.ext.Exml.asString(Ext.LoadMask["prototype"]["msg"]);AS3.setBindable(config_$1,"height",
"100%");var ui_BindListPlugin_98_5_$1=AS3.cast(com.coremedia.ui.plugins.BindListPlugin,{});AS3.setBindable(ui_BindListPlugin_98_5_$1,"bindTo",AS3.getBindable(config,"bindTo"));AS3.setBindable(ui_BindListPlugin_98_5_$1,"lazy",true);AS3.setBindable(ui_BindListPlugin_98_5_$1,"initialViewLimit",AS3.getBindable(config,"initialViewLimit"));AS3.setBindable(ui_BindListPlugin_98_5_$1,"viewLimitIncrement",AS3.getBindable(config,"viewLimitIncrement"));AS3.setBindable(ui_BindListPlugin_98_5_$1,"fields",AS3.getBindable(config,
"fields"));var ui_BindSelectionPlugin_103_5_$1=AS3.cast(com.coremedia.ui.plugins.BindSelectionPlugin,{});AS3.setBindable(ui_BindSelectionPlugin_103_5_$1,"selectedValues",AS3.getBindable(config,"selectedItemsValueExpression"));var ui_BEMPlugin_104_5_$1=AS3.cast(com.coremedia.ui.plugins.BEMPlugin,{});AS3.setBindable(ui_BEMPlugin_104_5_$1,"block",com.coremedia.cms.editor.sdk.collectionview.thumbnail.ThumbDataViewBase.LIST_BLOCK);AS3.setBindable(ui_BEMPlugin_104_5_$1,"modifier",this.getModifierVE(config));
config_$1.plugins=[ui_BindListPlugin_98_5_$1,ui_BindSelectionPlugin_103_5_$1,ui_BEMPlugin_104_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$2QqI(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.collectionview.thumbnail.ThumbDataViewBase",alias:"widget.com.coremedia.cms.editor.sdk.config.thumbDataView",constructor:ThumbDataView$,super$2QqI:function(){com.coremedia.cms.editor.sdk.collectionview.thumbnail.ThumbDataViewBase.prototype.constructor.apply(this,arguments)},config:{initialViewLimit:0,
viewLimitIncrement:0,editable:false,fields:null},requires:["Ext.LoadMask","Ext.data.field.Boolean","Ext.data.field.Date","Ext.data.field.Field","com.coremedia.cms.editor.sdk.collectionview.thumbnail.ThumbDataViewBase","com.coremedia.ui.plugins.BEMPlugin","com.coremedia.ui.plugins.BindListPlugin","com.coremedia.ui.plugins.BindSelectionPlugin","com.coremedia.ui.store.DataField","mx.resources.ResourceManager","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.thumbnail.ThumbnailDragZone",function(ThumbnailDragZone){function ThumbnailDragZone$(dataView,ddGroup,ddHtmlFeedbackFunction){this.super$3uav(dataView.getEl(),AS3.cast(Ext.dd.DragZone,{ddGroup:ddGroup,scroll:false}));this.dataView$3uav=dataView;this.ddHtmlFeedbackFunction$3uav=ddHtmlFeedbackFunction||com.coremedia.cms.editor.sdk.dragdrop.DragDropVisualFeedback.getHtmlFeedback;this.ddel$3uav=window.document.createElement("div")}function getDragData(e){var item=
e.getTarget(this.dataView$3uav.itemSelector);if(item)return{copy:true,event:e,view:this.dataView$3uav,ddel:this.ddel$3uav,item:item,records:this.dataView$3uav.getSelectionModel().getSelection(),fromPosition:Ext.fly(item).getXY()}}function onInitDrag(x,y){var result=Ext.dd.DragZone.prototype.onInitDrag.call(this,x,y);if(result){var record=this.dataView$3uav.getRecord(this.dragData.item);if(!this.dataView$3uav.getSelectionModel().isSelected(record))this.dataView$3uav.getSelectionModel()["selectWithEvent"](record,
this.dragData.event);var selection=this.dataView$3uav.getSelectionModel().getSelection();if(selection.length==0)return false;var beans=this.getBeans$3uav(selection,false);this.getProxy().update(this.ddHtmlFeedbackFunction$3uav(beans));this.dragData.contents=beans;this.dragData.records=this.getBeans$3uav(selection,true);return true}return false}function getRepairXY(e){return this.dragData?this.dragData.fromPosition:null}function getBeans(records,asRecord){var beans=[];records.forEach(function(record){if(AS3.is(record,
com.coremedia.ui.store.BeanRecord))if(asRecord)beans.push(record);else beans.push(AS3.as(record,com.coremedia.ui.store.BeanRecord).getBean())});return beans}return{extend:"Ext.dd.DragZone",dataView$3uav:null,ddHtmlFeedbackFunction$3uav:null,ddel$3uav:null,constructor:ThumbnailDragZone$,super$3uav:function(){Ext.dd.DragZone.prototype.constructor.apply(this,arguments)},getDragData:getDragData,onInitDrag:onInitDrag,getRepairXY:getRepairXY,getBeans$3uav:getBeans,requires:["Ext","Ext.dd.DragZone","com.coremedia.ui.store.BeanRecord"],
uses:["com.coremedia.cms.editor.sdk.dragdrop.DragDropVisualFeedback"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.thumbnail.SearchThumbnails",function(SearchThumbnails){function __initialize__(){this.selectedItemsValueExpression$qCu2=com.coremedia.ui.context.ComponentContextManager.getInstance().getContextExpression(this,com.coremedia.cms.editor.sdk.collectionview.CollectionView.SELECTED_SEARCH_ITEMS_VARIABLE_NAME);this.searchResultHitsValueExpression$qCu2=com.coremedia.ui.context.ComponentContextManager.getInstance().getContextExpression(this,com.coremedia.cms.editor.sdk.collectionview.CollectionView.SEARCHRESULT_VARIABLE_NAME).extendBy(com.coremedia.cap.content.search.SearchParameters.HITS)}
function SearchThumbnails$(config){if(arguments.length<=0)config=null;this.__initialize__$qCu2();var config_$1=AS3.cast(Ext.container.Container,{});var defaults_$1=AS3.cast(SearchThumbnails,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"layout","border");var ui_BEMPlugin_39_5_$1=AS3.cast(com.coremedia.ui.plugins.BEMPlugin,{});AS3.setBindable(ui_BEMPlugin_39_5_$1,"block","thumb-view-container");AS3.setBindable(ui_BEMPlugin_39_5_$1,"modifier","library");config_$1.plugins=
[ui_BEMPlugin_39_5_$1];var panel_43_5_$1=AS3.cast(Ext.panel.Panel,{});panel_43_5_$1.itemId=net.jangaroo.ext.Exml.asString(SearchThumbnails.THUMB_DATA_VIEW_PANEL_ITEM_ID);panel_43_5_$1.bodyBorder=false;AS3.setBindable(panel_43_5_$1,"scrollable",true);panel_43_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.PanelSkin.EMBEDDED.getSkin());AS3.setBindable(panel_43_5_$1,"region","center");AS3.setBindable(panel_43_5_$1,"layout","anchor");var header_50_9_$1=AS3.cast(Ext.panel.Header,{});AS3.setBindable(header_50_9_$1,
"height","24px");panel_43_5_$1.header=header_50_9_$1;var editor_ThumbDataView_53_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.thumbnail.ThumbDataView,{});editor_ThumbDataView_53_9_$1.itemId="thumbdataview";editor_ThumbDataView_53_9_$1.dragDDGroup="ContentDD";AS3.setBindable(editor_ThumbDataView_53_9_$1,"bindTo",this.searchResultHitsValueExpression$qCu2);AS3.setBindable(editor_ThumbDataView_53_9_$1,"emptyText",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"CollectionView_emptySearch_text")));AS3.setBindable(editor_ThumbDataView_53_9_$1,"selectedItemsValueExpression",this.selectedItemsValueExpression$qCu2);AS3.setBindable(editor_ThumbDataView_53_9_$1,"initialViewLimit",50);AS3.setBindable(editor_ThumbDataView_53_9_$1,"viewLimitIncrement",100);var editor_HandleEmptySearchResultPlugin_61_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.HandleEmptySearchResultPlugin,{});var ui_ContextMenuPlugin_62_13_$1=AS3.cast(com.coremedia.ui.plugins.ContextMenuPlugin,
{});var editor_CollectionSearchContextMenu_64_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.CollectionSearchContextMenu,{});editor_CollectionSearchContextMenu_64_17_$1.selectedItemsValueExpression=this.selectedItemsValueExpression$qCu2;AS3.setBindable(ui_ContextMenuPlugin_62_13_$1,"contextMenu",editor_CollectionSearchContextMenu_64_17_$1);editor_ThumbDataView_53_9_$1.plugins=[editor_HandleEmptySearchResultPlugin_61_13_$1,ui_ContextMenuPlugin_62_13_$1];editor_ThumbDataView_53_9_$1["plugins$at"]=
net.jangaroo.ext.Exml.APPEND;panel_43_5_$1.items=[editor_ThumbDataView_53_9_$1];config_$1.items=[panel_43_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$qCu2(config_$1)}return{extend:"Ext.container.Container",alias:"widget.com.coremedia.cms.editor.sdk.config.searchThumbnails",selectedItemsValueExpression$qCu2:null,searchResultHitsValueExpression$qCu2:null,__initialize__$qCu2:__initialize__,constructor:SearchThumbnails$,super$qCu2:function(){Ext.container.Container.prototype.constructor.apply(this,
arguments)},statics:{THUMB_DATA_VIEW_PANEL_ITEM_ID:"thumbdataviewscroller"},requires:["Ext.container.Container","Ext.panel.Header","Ext.panel.Panel","com.coremedia.cap.content.search.SearchParameters","com.coremedia.cms.editor.Editor_properties","com.coremedia.ui.context.ComponentContextManager","com.coremedia.ui.plugins.BEMPlugin","com.coremedia.ui.plugins.ContextMenuPlugin","com.coremedia.ui.skins.PanelSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionSearchContextMenu",
"com.coremedia.cms.editor.sdk.collectionview.CollectionView","com.coremedia.cms.editor.sdk.collectionview.HandleEmptySearchResultPlugin","com.coremedia.cms.editor.sdk.collectionview.thumbnail.ThumbDataView"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.CollectionViewRepositoryContainer",function(CollectionViewRepositoryContainer){function CollectionViewRepositoryContainer$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.container.Container,{});var defaults_$1=AS3.cast(CollectionViewRepositoryContainer,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.REPOSITORY_MODE);
var editor_CutToClipboardAction_29_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.clipboard.CutToClipboardAction,{});AS3.setBindable(editor_CutToClipboardAction_29_5_$1,"contentValueExpression",AS3.getBindable(config,"selectedItemsValueExpression"));var editor_CopyToClipboardAction_30_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction,{});AS3.setBindable(editor_CopyToClipboardAction_30_5_$1,"contentValueExpression",AS3.getBindable(config,"selectedItemsValueExpression"));var editor_PasteFromClipboardAction_31_5_$1=
AS3.cast(com.coremedia.cms.editor.sdk.clipboard.PasteFromClipboardAction,{});AS3.setBindable(editor_PasteFromClipboardAction_31_5_$1,"contentValueExpression",AS3.getBindable(config,"selectedFolderValueExpression"));var editor_ApproveAction_32_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ApproveAction,{});AS3.setBindable(editor_ApproveAction_32_5_$1,"contentValueExpression",AS3.getBindable(config,"selectedItemsValueExpression"));var editor_PublishAction_33_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.PublishAction,
{});AS3.setBindable(editor_PublishAction_33_5_$1,"contentValueExpression",AS3.getBindable(config,"selectedItemsValueExpression"));var editor_ApprovePublishAction_34_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ApprovePublishAction,{});AS3.setBindable(editor_ApprovePublishAction_34_5_$1,"contentValueExpression",AS3.getBindable(config,"selectedItemsValueExpression"));var editor_WithdrawAction_35_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.WithdrawAction,{});AS3.setBindable(editor_WithdrawAction_35_5_$1,
"contentValueExpression",AS3.getBindable(config,"selectedItemsValueExpression"));var editor_DeleteAction_36_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.DeleteAction,{});AS3.setBindable(editor_DeleteAction_36_5_$1,"contentValueExpression",AS3.getBindable(config,"selectedItemsValueExpression"));var editor_ContentExportAction_37_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.util.ContentExportAction,{});AS3.setBindable(editor_ContentExportAction_37_5_$1,"contentValueExpression",AS3.getBindable(config,
"selectedItemsValueExpression"));var editor_BookmarkAction_38_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.bookmarks.BookmarkAction,{});AS3.setBindable(editor_BookmarkAction_38_5_$1,"contentValueExpression",AS3.getBindable(config,"selectedItemsValueExpression"));var editor_OpenUploadDialogAction_39_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.upload.OpenUploadDialogAction,{});AS3.setBindable(editor_OpenUploadDialogAction_39_5_$1,"contentValueExpression",AS3.getBindable(config,"selectedFolderValueExpression"));
AS3.setBindable(config_$1,"actionList",[new com.coremedia.cms.editor.sdk.clipboard.CutToClipboardAction(editor_CutToClipboardAction_29_5_$1),new com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction(editor_CopyToClipboardAction_30_5_$1),new com.coremedia.cms.editor.sdk.clipboard.PasteFromClipboardAction(editor_PasteFromClipboardAction_31_5_$1),new com.coremedia.cms.editor.sdk.actions.ApproveAction(editor_ApproveAction_32_5_$1),new com.coremedia.cms.editor.sdk.actions.PublishAction(editor_PublishAction_33_5_$1),
new com.coremedia.cms.editor.sdk.actions.ApprovePublishAction(editor_ApprovePublishAction_34_5_$1),new com.coremedia.cms.editor.sdk.actions.WithdrawAction(editor_WithdrawAction_35_5_$1),new com.coremedia.cms.editor.sdk.actions.DeleteAction(editor_DeleteAction_36_5_$1),new com.coremedia.cms.editor.sdk.util.ContentExportAction(editor_ContentExportAction_37_5_$1),new com.coremedia.cms.editor.sdk.bookmarks.BookmarkAction(editor_BookmarkAction_38_5_$1),new com.coremedia.cms.editor.sdk.upload.OpenUploadDialogAction(editor_OpenUploadDialogAction_39_5_$1)]);
config_$1["actionList$at"]=net.jangaroo.ext.Exml.APPEND;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$M8DZ(config_$1)}return{extend:"Ext.container.Container",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.collectionViewRepositoryContainer",constructor:CollectionViewRepositoryContainer$,super$M8DZ:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},config:{selectedItemsValueExpression:null,selectedFolderValueExpression:null},requires:["Ext.container.Container",
"net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.actions.ApproveAction","com.coremedia.cms.editor.sdk.actions.ApprovePublishAction","com.coremedia.cms.editor.sdk.actions.DeleteAction","com.coremedia.cms.editor.sdk.actions.PublishAction","com.coremedia.cms.editor.sdk.actions.WithdrawAction","com.coremedia.cms.editor.sdk.bookmarks.BookmarkAction","com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction","com.coremedia.cms.editor.sdk.clipboard.CutToClipboardAction","com.coremedia.cms.editor.sdk.clipboard.PasteFromClipboardAction",
"com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel","com.coremedia.cms.editor.sdk.upload.OpenUploadDialogAction","com.coremedia.cms.editor.sdk.util.ContentExportAction"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.SearchToolbar",function(SearchToolbar){function SearchToolbar$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.toolbar.Toolbar,{});var defaults_$1=AS3.cast(SearchToolbar,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.enableOverflow=true;config_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","CollectionView_searchToolbar_label"));config_$1.ui=
net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.LIGHT.getSkin());config_$1.flex=1;var ui_IconButton_71_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_71_5_$1.itemId="saveSearch";var editor_OpenSaveSearchWindowAction_73_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenSaveSearchWindowAction,{});ui_IconButton_71_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.OpenSaveSearchWindowAction(editor_OpenSaveSearchWindowAction_73_9_$1);var tbSeparator_76_5_$1=
AS3.cast(Ext.toolbar.Separator,{});tbSeparator_76_5_$1.itemId=net.jangaroo.ext.Exml.asString(SearchToolbar.SEARCH_TOOLBAR_SPACER_FIRST_ITEM_ID);var ui_IconButton_77_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_77_5_$1.itemId=net.jangaroo.ext.Exml.asString(SearchToolbar.COPY_BUTTON_ITEM_ID);var actionRef_79_9_$1=AS3.cast(ext.ActionRef,{});actionRef_79_9_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction.ACTION_ID);ui_IconButton_77_5_$1.baseAction=
actionRef_79_9_$1;var tbSeparator_82_5_$1=AS3.cast(Ext.toolbar.Separator,{});tbSeparator_82_5_$1.itemId=net.jangaroo.ext.Exml.asString(SearchToolbar.SEARCH_TOOLBAR_SPACER_SECOND_ITEM_ID);var ui_IconButton_83_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_83_5_$1.itemId="open";var editor_OpenInTabAction_85_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenInTabAction,{});AS3.setBindable(editor_OpenInTabAction_85_9_$1,"contentValueExpression",AS3.getBindable(config,"selectedItemsValueExpression"));
ui_IconButton_83_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.OpenInTabAction(editor_OpenInTabAction_85_9_$1);var tbSeparator_88_5_$1=AS3.cast(Ext.toolbar.Separator,{});tbSeparator_88_5_$1.itemId=net.jangaroo.ext.Exml.asString(SearchToolbar.SEARCH_TOOLBAR_SPACER_THIRD_ITEM_ID);var ui_IconButton_89_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_89_5_$1.itemId=net.jangaroo.ext.Exml.asString(SearchToolbar.BOOKMARK_BUTTON_ITEM_ID);var actionRef_91_9_$1=AS3.cast(ext.ActionRef,
{});actionRef_91_9_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.bookmarks.BookmarkAction.ACTION_ID);ui_IconButton_89_5_$1.baseAction=actionRef_91_9_$1;var tbSeparator_94_5_$1=AS3.cast(Ext.toolbar.Separator,{});var ui_IconButton_95_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_95_5_$1.itemId=net.jangaroo.ext.Exml.asString(SearchToolbar.APPROVE_BUTTON_ITEM_ID);var actionRef_97_9_$1=AS3.cast(ext.ActionRef,{});actionRef_97_9_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.ApproveAction.ACTION_ID);
ui_IconButton_95_5_$1.baseAction=actionRef_97_9_$1;var ui_IconButton_100_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_100_5_$1.itemId=net.jangaroo.ext.Exml.asString(SearchToolbar.PUBLISH_BUTTON_ITEM_ID);var actionRef_102_9_$1=AS3.cast(ext.ActionRef,{});actionRef_102_9_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.PublishAction.ACTION_ID);ui_IconButton_100_5_$1.baseAction=actionRef_102_9_$1;var ui_IconButton_105_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,
{});ui_IconButton_105_5_$1.itemId="finish";var actionRef_107_9_$1=AS3.cast(ext.ActionRef,{});actionRef_107_9_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.ApprovePublishAction.ACTION_ID);ui_IconButton_105_5_$1.baseAction=actionRef_107_9_$1;var tbSeparator_110_5_$1=AS3.cast(Ext.toolbar.Separator,{});tbSeparator_110_5_$1.itemId=net.jangaroo.ext.Exml.asString(SearchToolbar.SEARCH_TOOLBAR_SPACER_FOURTH_ITEM_ID);var ui_IconButton_111_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,
{});ui_IconButton_111_5_$1.itemId=net.jangaroo.ext.Exml.asString(SearchToolbar.WITHDRAW_BUTTON_ITEM_ID);var actionRef_113_9_$1=AS3.cast(ext.ActionRef,{});actionRef_113_9_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.WithdrawAction.ACTION_ID);ui_IconButton_111_5_$1.baseAction=actionRef_113_9_$1;var tbSeparator_116_5_$1=AS3.cast(Ext.toolbar.Separator,{});tbSeparator_116_5_$1.itemId=net.jangaroo.ext.Exml.asString(SearchToolbar.SEARCH_TOOLBAR_SPACER_FIFTH_ITEM_ID);var ui_IconButton_117_5_$1=
AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_117_5_$1.itemId=net.jangaroo.ext.Exml.asString(SearchToolbar.DELETE_BUTTON_ITEM_ID);var actionRef_119_9_$1=AS3.cast(ext.ActionRef,{});actionRef_119_9_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.DeleteAction.ACTION_ID);ui_IconButton_117_5_$1.baseAction=actionRef_119_9_$1;var ui_IconButton_122_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_122_5_$1.itemId="undelete";var actionRef_124_9_$1=
AS3.cast(ext.ActionRef,{});actionRef_124_9_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.UndeleteAction.ACTION_ID);ui_IconButton_122_5_$1.baseAction=actionRef_124_9_$1;config_$1.items=[ui_IconButton_71_5_$1,tbSeparator_76_5_$1,ui_IconButton_77_5_$1,tbSeparator_82_5_$1,ui_IconButton_83_5_$1,tbSeparator_88_5_$1,ui_IconButton_89_5_$1,tbSeparator_94_5_$1,ui_IconButton_95_5_$1,ui_IconButton_100_5_$1,ui_IconButton_105_5_$1,tbSeparator_110_5_$1,ui_IconButton_111_5_$1,tbSeparator_116_5_$1,
ui_IconButton_117_5_$1,ui_IconButton_122_5_$1];var layout_HBox_129_5_$1=AS3.cast(Ext.layout.container.HBox,{});layout_HBox_129_5_$1["triggerWidth"]=26;AS3.setBindable(config_$1,"layout",layout_HBox_129_5_$1);var ui_HideObsoleteSeparatorsPlugin_132_5_$1=AS3.cast(com.coremedia.ui.plugins.HideObsoleteSeparatorsPlugin,{});config_$1.plugins=[ui_HideObsoleteSeparatorsPlugin_132_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$jQoY(config_$1)}return{extend:"Ext.toolbar.Toolbar",metadata:{"":["PublicApi"]},
alias:"widget.com.coremedia.cms.editor.sdk.config.searchToolbar",constructor:SearchToolbar$,super$jQoY:function(){Ext.toolbar.Toolbar.prototype.constructor.apply(this,arguments)},config:{selectedItemsValueExpression:null},statics:{SEARCH_TOOLBAR_SPACER_FIRST_ITEM_ID:"searchToolbarSpacerFirst",SEARCH_TOOLBAR_SPACER_SECOND_ITEM_ID:"searchToolbarSpacerSecond",SEARCH_TOOLBAR_SPACER_THIRD_ITEM_ID:"searchToolbarSpacerThird",SEARCH_TOOLBAR_SPACER_FOURTH_ITEM_ID:"repositoryToolbarSpacerFourth",SEARCH_TOOLBAR_SPACER_FIFTH_ITEM_ID:"searchToolbarSpacerFifth",
COPY_BUTTON_ITEM_ID:"copyToClipboard",BOOKMARK_BUTTON_ITEM_ID:"bookmarkButton",APPROVE_BUTTON_ITEM_ID:"approve",PUBLISH_BUTTON_ITEM_ID:"publish",WITHDRAW_BUTTON_ITEM_ID:"withdraw",DELETE_BUTTON_ITEM_ID:"delete"},requires:["Ext.layout.container.HBox","Ext.toolbar.Separator","Ext.toolbar.Toolbar","com.coremedia.ui.components.IconButton","com.coremedia.ui.plugins.HideObsoleteSeparatorsPlugin","com.coremedia.ui.skins.ToolbarSkin","ext.ActionRef","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.actions.ApproveAction",
"com.coremedia.cms.editor.sdk.actions.ApprovePublishAction","com.coremedia.cms.editor.sdk.actions.DeleteAction","com.coremedia.cms.editor.sdk.actions.OpenInTabAction","com.coremedia.cms.editor.sdk.actions.OpenSaveSearchWindowAction","com.coremedia.cms.editor.sdk.actions.PublishAction","com.coremedia.cms.editor.sdk.actions.UndeleteAction","com.coremedia.cms.editor.sdk.actions.WithdrawAction","com.coremedia.cms.editor.sdk.bookmarks.BookmarkAction","com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.FolderContentContainer",function(FolderContentContainer){function FolderContentContainer$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.FolderContentContainerBase,{});var defaults_$1=AS3.cast(FolderContentContainer,{});AS3.setBindable(defaults_$1,"instanceName","defaultCollectionViewList");config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"activeItemValueExpression",
com.coremedia.cms.editor.sdk.collectionview.FolderContentContainerBase.getActiveItemValueExpression());var editor_RepositoryList_31_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.list.RepositoryList,{});editor_RepositoryList_31_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants.LIST_VIEW);AS3.setBindable(editor_RepositoryList_31_5_$1,"createdContentValueExpression",AS3.getBindable(config,"createdContentValueExpression"));editor_RepositoryList_31_5_$1.selectedItemsValueExpression=
AS3.getBindable(config,"selectedRepositoryItemsValueExpression");AS3.setBindable(editor_RepositoryList_31_5_$1,"instanceName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"instanceName")));var editor_RepositoryThumbnails_35_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.thumbnail.RepositoryThumbnails,{});editor_RepositoryThumbnails_35_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants.THUMBNAILS_VIEW);AS3.setBindable(editor_RepositoryThumbnails_35_5_$1,
"createdContentValueExpression",AS3.getBindable(config,"createdContentValueExpression"));AS3.setBindable(editor_RepositoryThumbnails_35_5_$1,"selectedItemsValueExpression",AS3.getBindable(config,"selectedRepositoryItemsValueExpression"));config_$1.items=[editor_RepositoryList_31_5_$1,editor_RepositoryThumbnails_35_5_$1];var layout_Card_40_5_$1=AS3.cast(Ext.layout.container.Card,{});layout_Card_40_5_$1.deferredRender=true;AS3.setBindable(config_$1,"layout",layout_Card_40_5_$1);net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$mDM7(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.collectionview.FolderContentContainerBase",alias:"widget.com.coremedia.cms.editor.sdk.config.folderContentContainer",constructor:FolderContentContainer$,super$mDM7:function(){com.coremedia.cms.editor.sdk.collectionview.FolderContentContainerBase.prototype.constructor.apply(this,arguments)},config:{selectedRepositoryItemsValueExpression:null,instanceName:null},requires:["Ext.layout.container.Card","com.coremedia.cms.editor.sdk.collectionview.FolderContentContainerBase",
"net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants","com.coremedia.cms.editor.sdk.collectionview.list.RepositoryList","com.coremedia.cms.editor.sdk.collectionview.thumbnail.RepositoryThumbnails"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.FolderContentContainerBase",function(FolderContentContainerBase){function FolderContentContainerBase$(config){if(arguments.length<=0)config=null;this.super$t3Ju(config);this.addListener("afterrender",AS3.bind(this,"setupFolderContentDropZone$t3Ju"))}function setSelectedFolder(selectedFolder){this.selectedFolder$t3Ju=selectedFolder}function setupFolderContentDropZone(){var dropZoneConfig=AS3.cast(Ext.dd.DropZone,{ddGroup:"ContentDD"});this.folderContentDropZone$t3Ju=
new com.coremedia.cms.editor.sdk.collectionview.list.FolderContentDropZone(this,new com.coremedia.cms.editor.sdk.collectionview.tree.LibraryDragDropTreeModel,dropZoneConfig,AS3.bind(this,"customGetTargetFromEvent$t3Ju"),AS3.bind(this,"getActiveStore"))}function beforeDestroy(){this.folderContentDropZone$t3Ju.unreg();com.coremedia.cms.editor.sdk.collectionview.SortableSwitchingContainerBase.prototype.beforeDestroy.call(this)}function getActiveStore(){var activeItemValue=this.getActiveItemValue();if(activeItemValue===
com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants.LIST_VIEW)return AS3.as(this.getActiveItem(),com.coremedia.cms.editor.sdk.collectionview.list.RepositoryList).getStore();else if(activeItemValue===com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants.THUMBNAILS_VIEW)return AS3.as(AS3.as(AS3.as(this.getActiveItem(),Ext.container.Container).queryById("thumbdataview"),Ext.view.View).getStore(),Ext.data.Store);return undefined}function customGetTargetFromEvent(e){var contentId;
var activeItemValue=this.getActiveItemValue();if(activeItemValue===com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants.LIST_VIEW)contentId=this.getTargetContentIdInList$t3Ju(e);else if(activeItemValue===com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants.THUMBNAILS_VIEW)contentId=getTargetContentIdInDataView$static(e);if(!contentId)if(this.selectedFolder$t3Ju)contentId=this.selectedFolder$t3Ju.getUriPath();if(!contentId)return undefined;return{node:{id:contentId}}}
function getTargetContentIdInList(e){var repList=AS3.as(this.down(com.coremedia.ui.util.createComponentSelector()._xtype(com.coremedia.cms.editor.sdk.collectionview.list.RepositoryList.xtype).build()),com.coremedia.cms.editor.sdk.collectionview.list.RepositoryList);var rowSelector=repList.getView()["rowSelector"];if(!rowSelector)throw AS3.cast(AS3.Error,repList.getView().getId()+" has no rowSelector. We cannot find the row target.");var target=e.getTarget(rowSelector);if(target){var targetRowIndex=
repList.getView().indexOf(target);try{return AS3.as(AS3.as(repList.getStore().getAt(targetRowIndex),com.coremedia.ui.store.BeanRecord).getBean(),com.coremedia.cap.content.Content).getUriPath()}catch(e){if(AS3.is(e,AS3.Error));else throw e;}}return undefined}function getTargetContentIdInDataView$static(e){var target=e.getTarget("[data-content-id]");if(target)return AS3.as(target.getAttribute("data-content-id"),String);return undefined}function getActiveItemValueExpression$static(){return com.coremedia.ui.data.ValueExpressionFactory.create("view",
AS3.cast(com.coremedia.cms.editor.sdk.EditorContextImpl,com.coremedia.cms.editor.sdk.editorContext).getCollectionViewModel().getMainStateBean())}return{extend:"com.coremedia.cms.editor.sdk.collectionview.SortableSwitchingContainerBase",metadata:{setSelectedFolder:["InjectFromExtParent"]},folderContentDropZone$t3Ju:null,selectedFolder$t3Ju:null,constructor:FolderContentContainerBase$,super$t3Ju:function(){com.coremedia.cms.editor.sdk.collectionview.SortableSwitchingContainerBase.prototype.constructor.apply(this,
arguments)},setSelectedFolder:setSelectedFolder,setupFolderContentDropZone$t3Ju:setupFolderContentDropZone,beforeDestroy:beforeDestroy,getActiveStore:getActiveStore,customGetTargetFromEvent$t3Ju:customGetTargetFromEvent,getTargetContentIdInList$t3Ju:getTargetContentIdInList,config:{createdContentValueExpression:null},statics:{getActiveItemValueExpression:getActiveItemValueExpression$static},requires:["AS3.Error","Ext.container.Container","Ext.data.Store","Ext.dd.DropZone","Ext.view.View","com.coremedia.cap.content.Content",
"com.coremedia.cms.editor.sdk.collectionview.SortableSwitchingContainerBase","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.store.BeanRecord","com.coremedia.ui.util.createComponentSelector"],uses:["com.coremedia.cms.editor.sdk.EditorContextImpl","com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants","com.coremedia.cms.editor.sdk.collectionview.list.FolderContentDropZone","com.coremedia.cms.editor.sdk.collectionview.list.RepositoryList","com.coremedia.cms.editor.sdk.collectionview.tree.LibraryDragDropTreeModel",
"com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.CollectionViewContainerBase",function(CollectionViewContainerBase){function CollectionViewContainerBase$(config){if(arguments.length<=0)config=null;this.super$HhR_(config);this.collectionView$HhR_=AS3.as(Ext.getCmp(com.coremedia.cms.editor.sdk.collectionview.CollectionView.COLLECTION_VIEW_ID),com.coremedia.cms.editor.sdk.collectionview.CollectionView);this.on("afterrender",AS3.bind(this,"setContainerTitle"))}function setContainerTitle(containerCmp){var title=
this.resourceManager.getString("com.coremedia.cms.editor.Editor","CollectionView_title");containerCmp["title"]=title;containerCmp.fireEvent("titlechange",containerCmp,title)}function show(animateTarget,callback,scope){switch(arguments.length){case 0:animateTarget=null;case 1:callback=null;case 2:scope=null}com.coremedia.ui.components.SwitchingContainer.prototype.show.call(this,animateTarget,callback,scope);this.collectionView$HhR_.focus()}return{extend:"com.coremedia.ui.components.SwitchingContainer",
collectionView$HhR_:null,constructor:CollectionViewContainerBase$,super$HhR_:function(){com.coremedia.ui.components.SwitchingContainer.prototype.constructor.apply(this,arguments)},setContainerTitle:setContainerTitle,show:show,requires:["Ext","com.coremedia.cms.editor.Editor_properties","com.coremedia.ui.components.SwitchingContainer"],uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionView"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.SearchContainerBase",function(SearchContainerBase){function SearchContainerBase$(config){if(arguments.length<=0)config=null;this.super$5GRP(config)}return{extend:"com.coremedia.cms.editor.sdk.collectionview.SortableSwitchingContainer",metadata:{"":["PublicApi"]},constructor:SearchContainerBase$,super$5GRP:function(){com.coremedia.cms.editor.sdk.collectionview.SortableSwitchingContainer.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.collectionview.SortableSwitchingContainer"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.SearchFilterStateBase",function(SearchFilterStateBase){function SearchFilterStateBase$(config){if(arguments.length<=0)config=null;this.state$b5IH=this.buildState(config);this.id$b5IH=AS3.getBindable(config,"filterId")}function buildState(config){var state=Ext.apply({},config);delete state.filterId;return state}function getId(){return this.id$b5IH}function getState(){return this.state$b5IH}return{metadata:{"":["PublicApi"]},id$b5IH:null,state$b5IH:null,
constructor:SearchFilterStateBase$,buildState:buildState,getId:getId,getState:getState,requires:["Ext"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.RepositoryToolbar",function(RepositoryToolbar){function __initialize__(config){this.selectedFolderValueExpression$Z6r0=com.coremedia.ui.context.ComponentContextManager.getInstance().getContextExpression(this,com.coremedia.cms.editor.sdk.collectionview.CollectionView.SELECTED_FOLDER_VARIABLE_NAME)}function RepositoryToolbar$(config){if(arguments.length<=0)config=null;this.__initialize__$Z6r0(config);var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.RepositoryToolbarBase,
{});var defaults_$1=AS3.cast(RepositoryToolbar,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","CollectionView_repositoryToolbar_label"));config_$1.enableOverflow=true;config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.LIGHT.getSkin());config_$1.flex=1;var ui_IconButton_108_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});AS3.setBindable(ui_IconButton_108_5_$1,
"tooltip",this.resourceManager.getString("com.coremedia.cms.editor.Editor","SearchArea_newFolder_btn_tooltip"));AS3.setBindable(ui_IconButton_108_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","SearchArea_newFolder_btn_tooltip")));AS3.setBindable(ui_IconButton_108_5_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","create_new_folder")));ui_IconButton_108_5_$1.itemId="createFolder";
var editor_NewContentAction_113_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.NewContentAction,{});AS3.setBindable(editor_NewContentAction_113_9_$1,"folderValueExpression",this.selectedFolderValueExpression$Z6r0);AS3.setBindable(editor_NewContentAction_113_9_$1,"createdContentValueExpression",AS3.getBindable(config,"createdContentValueExpression"));AS3.setBindable(editor_NewContentAction_113_9_$1,"primaryDisabledExpression",this.getNewContentActionDisabledExpression());AS3.setBindable(editor_NewContentAction_113_9_$1,
"contentType","Folder_");AS3.setBindable(editor_NewContentAction_113_9_$1,"name",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","SearchArea_newFolderName_text")));ui_IconButton_108_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.NewContentAction(editor_NewContentAction_113_9_$1);var ui_IconButton_120_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});AS3.setBindable(ui_IconButton_120_5_$1,"tooltip",this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"SearchArea_newDocument_btn_tooltip"));AS3.setBindable(ui_IconButton_120_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","SearchArea_newDocument_btn_tooltip")));AS3.setBindable(ui_IconButton_120_5_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","create_content")));ui_IconButton_120_5_$1.itemId="createDocument";var ui_BindPropertyPlugin_125_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,
{});ui_BindPropertyPlugin_125_9_$1.componentProperty="disabled";ui_BindPropertyPlugin_125_9_$1.bindTo=this.getNewContentActionDisabledExpression();ui_IconButton_120_5_$1.plugins=[ui_BindPropertyPlugin_125_9_$1];var editor_DocTypeMenu_130_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.DocTypeMenu,{});AS3.setBindable(editor_DocTypeMenu_130_9_$1,"folderValueExpression",this.selectedFolderValueExpression$Z6r0);AS3.setBindable(editor_DocTypeMenu_130_9_$1,"createdContentValueExpression",AS3.getBindable(config,
"createdContentValueExpression"));AS3.setBindable(editor_DocTypeMenu_130_9_$1,"layout","anchor");ui_IconButton_120_5_$1.menu=editor_DocTypeMenu_130_9_$1;var ui_IconButton_135_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_135_5_$1.itemId="openUpload";AS3.setBindable(ui_IconButton_135_5_$1,"text",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.upload.Upload","UploadFileAction_menu_item_text")));AS3.setBindable(ui_IconButton_135_5_$1,
"iconCls",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.icons.CoreIcons","upload")));AS3.setBindable(ui_IconButton_135_5_$1,"tooltip",com.coremedia.cms.editor.sdk.upload.UploadHelper.resolveTooltip());var actionRef_140_9_$1=AS3.cast(ext.ActionRef,{});actionRef_140_9_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.upload.OpenUploadDialogAction.ACTION_ID);ui_IconButton_135_5_$1.baseAction=actionRef_140_9_$1;var tbSeparator_143_5_$1=
AS3.cast(Ext.toolbar.Separator,{});tbSeparator_143_5_$1.itemId=net.jangaroo.ext.Exml.asString(RepositoryToolbar.REPOSITORY_TOOLBAR_SPACER_FIRST_ITEM_ID);var ui_IconButton_144_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_144_5_$1.itemId=net.jangaroo.ext.Exml.asString(RepositoryToolbar.CUT_BUTTON_ITEM_ID);var actionRef_146_9_$1=AS3.cast(ext.ActionRef,{});actionRef_146_9_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.clipboard.CutToClipboardAction.ACTION_ID);
ui_IconButton_144_5_$1.baseAction=actionRef_146_9_$1;var ui_IconButton_149_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_149_5_$1.itemId=net.jangaroo.ext.Exml.asString(RepositoryToolbar.COPY_BUTTON_ITEM_ID);var actionRef_151_9_$1=AS3.cast(ext.ActionRef,{});actionRef_151_9_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction.ACTION_ID);ui_IconButton_149_5_$1.baseAction=actionRef_151_9_$1;var ui_IconButton_154_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,
{});ui_IconButton_154_5_$1.itemId=net.jangaroo.ext.Exml.asString(RepositoryToolbar.PASTE_BUTTON_ITEM_ID);var actionRef_156_9_$1=AS3.cast(ext.ActionRef,{});actionRef_156_9_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.clipboard.PasteFromClipboardAction.ACTION_ID);ui_IconButton_154_5_$1.baseAction=actionRef_156_9_$1;var tbSeparator_159_5_$1=AS3.cast(Ext.toolbar.Separator,{});tbSeparator_159_5_$1.itemId=net.jangaroo.ext.Exml.asString(RepositoryToolbar.REPOSITORY_TOOLBAR_SPACER_SECOND_ITEM_ID);
var ui_IconButton_160_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_160_5_$1.itemId=net.jangaroo.ext.Exml.asString(RepositoryToolbar.OPEN_BUTTON_ITEM_ID);var editor_OpenInTabAction_162_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenInTabAction,{});AS3.setBindable(editor_OpenInTabAction_162_9_$1,"contentValueExpression",AS3.getBindable(config,"selectedItemsValueExpression"));editor_OpenInTabAction_162_9_$1.preventHide=true;ui_IconButton_160_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.OpenInTabAction(editor_OpenInTabAction_162_9_$1);
var tbSeparator_165_5_$1=AS3.cast(Ext.toolbar.Separator,{});tbSeparator_165_5_$1.itemId=net.jangaroo.ext.Exml.asString(RepositoryToolbar.REPOSITORY_TOOLBAR_SPACER_THIRD_ITEM_ID);var ui_IconButton_166_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_166_5_$1.itemId=net.jangaroo.ext.Exml.asString(RepositoryToolbar.BOOKMARK_BUTTON_ITEM_ID);var actionRef_168_9_$1=AS3.cast(ext.ActionRef,{});actionRef_168_9_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.bookmarks.BookmarkAction.ACTION_ID);
ui_IconButton_166_5_$1.baseAction=actionRef_168_9_$1;var tbSeparator_171_5_$1=AS3.cast(Ext.toolbar.Separator,{});var ui_IconButton_172_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_172_5_$1.itemId=net.jangaroo.ext.Exml.asString(RepositoryToolbar.APPROVE_BUTTON_ITEM_ID);var actionRef_174_9_$1=AS3.cast(ext.ActionRef,{});actionRef_174_9_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.ApproveAction.ACTION_ID);ui_IconButton_172_5_$1.baseAction=actionRef_174_9_$1;
var ui_IconButton_177_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_177_5_$1.itemId=net.jangaroo.ext.Exml.asString(RepositoryToolbar.PUBLISH_BUTTON_ITEM_ID);var actionRef_179_9_$1=AS3.cast(ext.ActionRef,{});actionRef_179_9_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.PublishAction.ACTION_ID);ui_IconButton_177_5_$1.baseAction=actionRef_179_9_$1;var ui_IconButton_182_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_182_5_$1.itemId=
net.jangaroo.ext.Exml.asString(RepositoryToolbar.APPROVE_PUBLISH_BUTTON_ITEM_ID);var actionRef_184_9_$1=AS3.cast(ext.ActionRef,{});actionRef_184_9_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.ApprovePublishAction.ACTION_ID);ui_IconButton_182_5_$1.baseAction=actionRef_184_9_$1;var tbSeparator_187_5_$1=AS3.cast(Ext.toolbar.Separator,{});tbSeparator_187_5_$1.itemId=net.jangaroo.ext.Exml.asString(RepositoryToolbar.REPOSITORY_TOOLBAR_SPACER_FOURTH_ITEM_ID);var ui_IconButton_188_5_$1=
AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_188_5_$1.itemId=net.jangaroo.ext.Exml.asString(RepositoryToolbar.WITHDRAW_BUTTON_ITEM_ID);var actionRef_190_9_$1=AS3.cast(ext.ActionRef,{});actionRef_190_9_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.WithdrawAction.ACTION_ID);ui_IconButton_188_5_$1.baseAction=actionRef_190_9_$1;var tbSeparator_193_5_$1=AS3.cast(Ext.toolbar.Separator,{});tbSeparator_193_5_$1.itemId=net.jangaroo.ext.Exml.asString(RepositoryToolbar.REPOSITORY_TOOLBAR_SPACER_FIFTH_ITEM_ID);
var ui_IconButton_194_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_194_5_$1.itemId=net.jangaroo.ext.Exml.asString(RepositoryToolbar.DELETE_BUTTON_ITEM_ID);var actionRef_196_9_$1=AS3.cast(ext.ActionRef,{});actionRef_196_9_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.DeleteAction.ACTION_ID);ui_IconButton_194_5_$1.baseAction=actionRef_196_9_$1;config_$1.items=[ui_IconButton_108_5_$1,ui_IconButton_120_5_$1,ui_IconButton_135_5_$1,tbSeparator_143_5_$1,
ui_IconButton_144_5_$1,ui_IconButton_149_5_$1,ui_IconButton_154_5_$1,tbSeparator_159_5_$1,ui_IconButton_160_5_$1,tbSeparator_165_5_$1,ui_IconButton_166_5_$1,tbSeparator_171_5_$1,ui_IconButton_172_5_$1,ui_IconButton_177_5_$1,ui_IconButton_182_5_$1,tbSeparator_187_5_$1,ui_IconButton_188_5_$1,tbSeparator_193_5_$1,ui_IconButton_194_5_$1];var layout_HBox_201_5_$1=AS3.cast(Ext.layout.container.HBox,{});layout_HBox_201_5_$1["triggerWidth"]=26;AS3.setBindable(config_$1,"layout",layout_HBox_201_5_$1);var ui_HideObsoleteSeparatorsPlugin_204_5_$1=
AS3.cast(com.coremedia.ui.plugins.HideObsoleteSeparatorsPlugin,{});config_$1.plugins=[ui_HideObsoleteSeparatorsPlugin_204_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Z6r0(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.collectionview.RepositoryToolbarBase",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.repositoryToolbar",selectedFolderValueExpression$Z6r0:null,__initialize__$Z6r0:__initialize__,constructor:RepositoryToolbar$,super$Z6r0:function(){com.coremedia.cms.editor.sdk.collectionview.RepositoryToolbarBase.prototype.constructor.apply(this,
arguments)},config:{selectedItemsValueExpression:null,createdContentValueExpression:null},statics:{REPOSITORY_TOOLBAR_SPACER_FIRST_ITEM_ID:"repositoryToolbarSpacerFirst",REPOSITORY_TOOLBAR_SPACER_SECOND_ITEM_ID:"repositoryToolbarSpacerSecond",CUT_BUTTON_ITEM_ID:"cutToClipboard",COPY_BUTTON_ITEM_ID:"copyToClipboard",PASTE_BUTTON_ITEM_ID:"pasteFromClipboard",DELETE_BUTTON_ITEM_ID:"delete",OPEN_BUTTON_ITEM_ID:"open",BOOKMARK_BUTTON_ITEM_ID:"bookmarkButton",APPROVE_BUTTON_ITEM_ID:"approve",PUBLISH_BUTTON_ITEM_ID:"publish",
WITHDRAW_BUTTON_ITEM_ID:"withdraw",APPROVE_PUBLISH_BUTTON_ITEM_ID:"finish",REPOSITORY_TOOLBAR_SPACER_THIRD_ITEM_ID:"repositoryToolbarSpacerThird",REPOSITORY_TOOLBAR_SPACER_FOURTH_ITEM_ID:"repositoryToolbarSpacerFourth",REPOSITORY_TOOLBAR_SPACER_FIFTH_ITEM_ID:"repositoryToolbarSpacerFifth"},requires:["Ext.layout.container.HBox","Ext.toolbar.Separator","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.collectionview.RepositoryToolbarBase","com.coremedia.icons.CoreIcons_properties",
"com.coremedia.ui.components.IconButton","com.coremedia.ui.context.ComponentContextManager","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.HideObsoleteSeparatorsPlugin","com.coremedia.ui.skins.ToolbarSkin","ext.ActionRef","mx.resources.ResourceManager","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.actions.ApproveAction","com.coremedia.cms.editor.sdk.actions.ApprovePublishAction","com.coremedia.cms.editor.sdk.actions.DeleteAction","com.coremedia.cms.editor.sdk.actions.NewContentAction",
"com.coremedia.cms.editor.sdk.actions.OpenInTabAction","com.coremedia.cms.editor.sdk.actions.PublishAction","com.coremedia.cms.editor.sdk.actions.WithdrawAction","com.coremedia.cms.editor.sdk.bookmarks.BookmarkAction","com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction","com.coremedia.cms.editor.sdk.clipboard.CutToClipboardAction","com.coremedia.cms.editor.sdk.clipboard.PasteFromClipboardAction","com.coremedia.cms.editor.sdk.collectionview.CollectionView","com.coremedia.cms.editor.sdk.collectionview.DocTypeMenu",
"com.coremedia.cms.editor.sdk.upload.OpenUploadDialogAction","com.coremedia.cms.editor.sdk.upload.UploadHelper"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.CollectionViewUtil",function(CollectionViewUtil){var PREFERENCES_COLLECTION$static="collection";var PREFERENCES_SAVED_SEARCHES$static="savedSearches";function applyBlacklist$static(allTypes,blacklistedNames){var result=[];Ext.each(allTypes,function(ct){if(!blacklistedNames.some(function(name){return ct.getName()===name}))result.push(ct)});return result}function updateSavedSearches$static(searches){com.coremedia.cms.editor.sdk.util.PreferencesUtil.updatePreferencesJSONProperty(searches,
PREFERENCES_COLLECTION$static,PREFERENCES_SAVED_SEARCHES$static)}function getSavedSearches$static(){return AS3.as(com.coremedia.cms.editor.sdk.util.PreferencesUtil.getPreferencesJSONProperty([com.coremedia.cms.editor.sdk.util.PreferencesUtil.decodeJsonString],PREFERENCES_COLLECTION$static,PREFERENCES_SAVED_SEARCHES$static),Array)}function CollectionViewUtil$(){}return{constructor:CollectionViewUtil$,statics:{applyBlacklist:applyBlacklist$static,updateSavedSearches:updateSavedSearches$static,getSavedSearches:getSavedSearches$static},
requires:["Ext"],uses:["com.coremedia.cms.editor.sdk.util.PreferencesUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.CollectionViewManagerInternal",function(CollectionViewManagerInternal){return{mixins:["com.coremedia.cms.editor.sdk.collectionview.CollectionViewManager"],requires:["com.coremedia.cms.editor.sdk.collectionview.CollectionViewManager"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.RepositoryToolbarSwitchingContainer",function(RepositoryToolbarSwitchingContainer){function RepositoryToolbarSwitchingContainer$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.ui.components.SwitchingContainer,{});var defaults_$1=AS3.cast(RepositoryToolbarSwitchingContainer,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$vtLJ(config_$1)}return{extend:"com.coremedia.ui.components.SwitchingContainer",
metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.repositoryToolbarSwitchingContainer",constructor:RepositoryToolbarSwitchingContainer$,super$vtLJ:function(){com.coremedia.ui.components.SwitchingContainer.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.ui.components.SwitchingContainer","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.CollectionViewBase",function(CollectionViewBase){var CREATED_CONTENT_PROPERTY$static="newContent";var OPEN_PATH_PROPERTY$static="openPath";var DEFAULT_REPOSITORY_TREE_WIDTH$static=203;var TREE_SECONDARY_SELECTION_CLASS$static="cm-list-selection-nonempty";function CollectionViewBase$(config){var this$=this;if(arguments.length<=0)config=null;this.super$kd55(config);this.getCollectionViewModel().getMainStateBean().addPropertyChangeListener(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.MODE_PROPERTY,
AS3.bind(this,"modeChanged$kd55"));this.getCollectionViewModel().addListener(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.UPDATE_EVENT,AS3.bind(this,"search$kd55"));if(AS3.getBindable(config,"state"))this.getCollectionViewModel().getMainStateBean().updateProperties(AS3.getBindable(config,"state"));var treePanel=AS3.as(this.queryById(com.coremedia.cms.editor.sdk.collectionview.CollectionView.TREE_ITEM_ID),Ext.tree.Panel);this.mon(treePanel,"beforeclick",AS3.bind(this,"clearRepositoryListSelection$kd55"));
this.mon(treePanel,"containerclick",AS3.bind(this,"clearRepositoryListSelection$kd55"));this.getSelectedRepositoryItemsValueExpression().addChangeListener(AS3.bind(this,"updateTreeSelectionCss$kd55"));this.folderContentContainer$kd55=AS3.as(this.queryById("repository-panel"),com.coremedia.cms.editor.sdk.collectionview.FolderContentContainer);this.getSelectedItemsValueExpression().addChangeListener(function(ve){this$.setSelectedItems(ve.getValue())})}function updateTreeSelectionCss(ve){var element=
this.getEl();if(element){var listSelection=ve.getValue();if(listSelection&&listSelection.length>0)element.addCls(TREE_SECONDARY_SELECTION_CLASS$static);else element.removeCls(TREE_SECONDARY_SELECTION_CLASS$static)}}function getLibraryTreeModel(){return getLibraryTreeModelInternal$static()}function getLibraryTreeModelInternal$static(){return AS3.cast(com.coremedia.cms.editor.sdk.collectionview.CollectionViewManagerInternal,com.coremedia.cms.editor.sdk.editorContext.getCollectionViewManager()).getLibraryTreeModel()}
function getCollectionViewModel(){var this$=this;if(!this.collectionViewModel$kd55){this.collectionViewModel$kd55=AS3.cast(com.coremedia.cms.editor.sdk.EditorContextImpl,com.coremedia.cms.editor.sdk.editorContext).getCollectionViewModel();this.setSelectedFolder(this.collectionViewModel$kd55.getMainStateBean().get(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.FOLDER_PROPERTY));this.collectionViewModel$kd55.getMainStateBean().addPropertyChangeListener(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.FOLDER_PROPERTY,
function(event){this$.setSelectedFolder(event.newValue)})}return this.collectionViewModel$kd55}function setCollectionViewModel(collectionViewModel){var oldCollectionViewModel=this.collectionViewModel$kd55;this.collectionViewModel$kd55=collectionViewModel;com.coremedia.ui.data.util.PropertyChangeEventUtil.fireEvent(this,com.coremedia.cms.editor.sdk.collectionview.CollectionView.MODEL_VARIABLE_NAME,oldCollectionViewModel,this.collectionViewModel$kd55)}function getSearchResult(){com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(this,
com.coremedia.cms.editor.sdk.collectionview.CollectionView.SEARCHRESULT_VARIABLE_NAME);return this.searchResult$kd55}function setSearchResult(newSearchResult){var oldSearchResult=this.searchResult$kd55;this.searchResult$kd55=newSearchResult;com.coremedia.ui.data.util.PropertyChangeEventUtil.fireEvent(this,com.coremedia.cms.editor.sdk.collectionview.CollectionView.SEARCHRESULT_VARIABLE_NAME,oldSearchResult,this.searchResult$kd55)}function getSearchResultValueExpression(){if(!this.searchResultValueExpression$kd55)this.searchResultValueExpression$kd55=
com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.cms.editor.sdk.collectionview.CollectionView.SEARCHRESULT_VARIABLE_NAME,this);return this.searchResultValueExpression$kd55}function getSearchResultHitsValueExpression(){if(!this.searchResultValueHitsExpression$kd55)this.searchResultValueHitsExpression$kd55=this.getSearchResultValueExpression().extendBy(com.coremedia.cap.content.search.SearchParameters.HITS);return this.searchResultValueHitsExpression$kd55}function getCreatedContentValueExpression(){if(!this.createdContentValueExpression$kd55)this.createdContentValueExpression$kd55=
com.coremedia.ui.data.ValueExpressionFactory.create(CREATED_CONTENT_PROPERTY$static,this);return this.createdContentValueExpression$kd55}function getNewContentActionDisabledExpression(){var this$=this;if(!this.newContentActionDisabledExpression$kd55)this.newContentActionDisabledExpression$kd55=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var folder=AS3.as(this$.getSelectedFolderValueExpression().getValue(),com.coremedia.cap.content.Content);return!folder||folder.getState()===
com.coremedia.ui.data.BeanState.UNKNOWN||folder.isDestroyed()||folder.isDeleted()||!com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getDocumentTypes().some(function(documentType){return!documentType.isAbstract()&&folder.getRepository().getAccessControl().mayCreate(folder,documentType)})});return this.newContentActionDisabledExpression$kd55}function getSelectedFolderValueExpression(){if(!this.selectedFolderValueExpression$kd55)this.selectedFolderValueExpression$kd55=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.cms.editor.sdk.collectionview.CollectionView.SELECTED_FOLDER_VARIABLE_NAME,
this);return this.selectedFolderValueExpression$kd55}function getUploadDisabledValueExpression(){var this$=this;if(!this.uploadDisabledValueExpression$kd55)this.uploadDisabledValueExpression$kd55=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var mode=this$.getCurrentMode();if(mode!==com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.REPOSITORY_MODE)return true;var selectedFolder=this$.getSelectedFolderValueExpression().getValue();if(selectedFolder){var extension=
com.coremedia.cms.editor.sdk.editorContext.getCollectionViewExtender().getExtension(selectedFolder);if(extension===undefined)return undefined;if(extension){var uploadDisabled=extension.isUploadDisabledFor(selectedFolder);if(uploadDisabled===undefined)return undefined;return uploadDisabled}}return true});return this.uploadDisabledValueExpression$kd55}function getSelectedRepositoryItemsValueExpression(){if(!this.selectedRepositoryItemsValueExpression$kd55)this.selectedRepositoryItemsValueExpression$kd55=
com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.cms.editor.sdk.collectionview.CollectionView.SELECTED_REPOSITORY_ITEMS_VARIABLE_NAME,this);return this.selectedRepositoryItemsValueExpression$kd55}function getSelectedItemsValueExpression(){var this$=this;if(!this.selectedItemsValueExpression$kd55)this.selectedItemsValueExpression$kd55=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var listItems=this$.getSelectedRepositoryItemsValueExpression().getValue();
if(listItems&&listItems.length>0)return listItems;var folderValue=this$.getSelectedFolderValueExpression().getValue();return folderValue===undefined?undefined:com.coremedia.ui.util.ArrayUtils.asArray(folderValue)});return this.selectedItemsValueExpression$kd55}function getActiveRepositoryToolbarExpression(){var this$=this;if(!this.activeToolbarExpression$kd55){this.activeToolbarExpression$kd55=com.coremedia.ui.data.ValueExpressionFactory.createFromValue("repositoryToolbar");this.getSelectedFolderValueExpression().addChangeListener(function(ve){var selection=
ve.getValue();com.coremedia.cms.editor.sdk.editorContext.getCollectionViewExtender().findExtension(selection,function(extension){var toolbarItemId=extension&&extension.getRepositoryToolbarItemId();this$.activeToolbarExpression$kd55.setValue(toolbarItemId?toolbarItemId:"repositoryToolbar")})})}return this.activeToolbarExpression$kd55}function getActiveSearchToolbarViewExpression(){if(!this.activeSearchToolbarExpression$kd55)this.activeSearchToolbarExpression$kd55=com.coremedia.ui.data.ValueExpressionFactory.createFromValue("repositorySearchToolbarContainer");
return this.activeSearchToolbarExpression$kd55}function getActiveFolderContentContainerExpression(){var this$=this;if(!this.activeListViewExpression$kd55){this.activeListViewExpression$kd55=com.coremedia.ui.data.ValueExpressionFactory.createFromValue("repository-panel");this.getSelectedFolderValueExpression().addChangeListener(function(ve){var selection=ve.getValue();com.coremedia.cms.editor.sdk.editorContext.getCollectionViewExtender().findExtension(selection,function(extension){var itemId=extension&&
extension.getFolderContainerItemId();this$.activeListViewExpression$kd55.setValue(itemId?itemId:"repository-panel")})})}return this.activeListViewExpression$kd55}function getActiveSearchListExpression(){var this$=this;if(!this.activeSearchListViewExpression$kd55){this.activeSearchListViewExpression$kd55=com.coremedia.ui.data.ValueExpressionFactory.createFromValue("search-panel");this.getSelectedFolderValueExpression().addChangeListener(function(ve){var selection=ve.getValue();com.coremedia.cms.editor.sdk.editorContext.getCollectionViewExtender().findExtension(selection,
function(extension){var itemId=extension&&extension.getSearchViewItemId();this$.activeSearchListViewExpression$kd55.setValue(itemId?itemId:"search-panel")})})}return this.activeSearchListViewExpression$kd55}function getSelectedSearchItemsValueExpression(){if(!this.selectedSearchItemsValueExpression$kd55)this.selectedSearchItemsValueExpression$kd55=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.cms.editor.sdk.collectionview.CollectionView.SELECTED_SEARCH_ITEMS_VARIABLE_NAME,this);
return this.selectedSearchItemsValueExpression$kd55}function getSelectedSingleSearchItemValueExpression(){if(!this.selectedSingleSearchItemValueExpression$kd55)this.selectedSingleSearchItemValueExpression$kd55=com.coremedia.ui.data.ValueExpressionFactory.createSingleItemValueExpression(this.getSelectedSearchItemsValueExpression());return this.selectedSingleSearchItemValueExpression$kd55}function getOpenPathValueExpression(){if(!this.openPathValueExpression$kd55)this.openPathValueExpression$kd55=com.coremedia.ui.data.ValueExpressionFactory.create(OPEN_PATH_PROPERTY$static,
this);return this.openPathValueExpression$kd55}function search(){var this$=this;if(this.collectionViewModel$kd55.getMainStateBean().get(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.MODE_PROPERTY)===com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.SEARCH_MODE){this.setSearchResult(null);var selection=this.getSelectedFolderValueExpression().getValue();com.coremedia.cms.editor.sdk.editorContext.getCollectionViewExtender().findExtension(selection,function(extension){if(extension){var sortState=
this$.collectionViewModel$kd55.getMainStateBean().get(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.ORDER_BY_PROPERTY);var sortStateManager=this$.getSortStateManager();if(sortStateManager)sortStateManager.setCurrentSortCriteria(sortState);this$.doSearch$kd55(extension)}})}}function doSearch(extension){var this$=this;this.collectionViewModel$kd55.getSearchParameters(function(searchParameters){if(searchParameters)extension.search(searchParameters,function(newSearchResult){this$.setSearchResult(newSearchResult)});
else this$.setSearchResult(null)})}function getCurrentMode(){return this.collectionViewModel$kd55.getMainStateBean().get(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.MODE_PROPERTY)}function getCurrentView(){return this.collectionViewModel$kd55.getMainStateBean().get(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.VIEW_PROPERTY)}function modeChanged(pce){var this$=this;if(pce.newValue===com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.REPOSITORY_MODE){this.selectedFolderWhenEnteringRepositoryMode$kd55=
this.selectedFolder$kd55;var selectedSearchItems=this.getSelectedSearchItems();if(selectedSearchItems&&selectedSearchItems.length>0){var selectedSearchItem=selectedSearchItems[selectedSearchItems.length-1];com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){return this$.getTreeNodeFor$kd55(selectedSearchItem)}).loadValue(function(folder){this$.setOpenPath(folder);com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){if(this$.getSelectedFolderValueExpression().getValue()!==
folder)return undefined;return true}).loadValue(function(selectionUpdated){this$.setSelectedRepositoryItems(selectedSearchItems)})})}else if(this.selectedFolder$kd55)this.setOpenPath(this.selectedFolder$kd55);this.setSelectedRepositoryItems(selectedSearchItems)}else if(pce.oldValue===com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.REPOSITORY_MODE){if(!this.selectedFolder$kd55||this.selectedFolderWhenEnteringRepositoryMode$kd55===this.selectedFolder$kd55)if(this.currentSearchHitsIncludeAtLeastOneSelectedRepositoryItem$kd55()||
this.atLeastOneSearchOccurred$kd55===false)this.setSelectedSearchItems(this.getSelectedRepositoryItems());else this.setSelectedSearchItems(null);else this.setSelectedSearchItems(this.getSelectedRepositoryItems());this.atLeastOneSearchOccurred$kd55=true}}function currentSearchHitsIncludeAtLeastOneSelectedRepositoryItem(){var searchResultHits=this.getSearchResultHitsValueExpression().getValue();if(!searchResultHits)return false;for(var $1=0;$1<this.selectedRepositoryItems$kd55.length;++$1){var selectedItem=
this.selectedRepositoryItems$kd55[$1];if(searchResultHits.indexOf(selectedItem)!==-1)return true}return false}function getSelectedFolder(){return this.selectedFolder$kd55}function setSelectedFolder(folder){var oldValue=this.selectedFolder$kd55;this.selectedFolder$kd55=folder;if(!com.coremedia.ui.util.ObjectUtils.equal(oldValue,this.selectedFolder$kd55)){this.getCollectionViewModel().getMainStateBean().set(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.FOLDER_PROPERTY,this.selectedFolder$kd55);
com.coremedia.ui.data.util.PropertyChangeEventUtil.fireEvent(this,com.coremedia.cms.editor.sdk.collectionview.CollectionView.SELECTED_FOLDER_VARIABLE_NAME,oldValue,this.selectedFolder$kd55)}}function getSelectedRepositoryItems(){return this.selectedRepositoryItems$kd55}function setSelectedRepositoryItems(value){if(!value)value=[];var oldValue=this.selectedRepositoryItems$kd55;this.selectedRepositoryItems$kd55=value;com.coremedia.ui.data.util.PropertyChangeEventUtil.fireEvent(this,com.coremedia.cms.editor.sdk.collectionview.CollectionView.SELECTED_REPOSITORY_ITEMS_VARIABLE_NAME,
oldValue,value)}function getSelectedItems(){return this.selectedItems$kd55}function setSelectedItems(value){if(!value)value=[];var oldValue=this.selectedItems$kd55;this.selectedItems$kd55=value;com.coremedia.ui.data.util.PropertyChangeEventUtil.fireEvent(this,com.coremedia.cms.editor.sdk.collectionview.CollectionView.SELECTED_ITEMS_VARIABLE_NAME,oldValue,value)}function setSelectedSearchItems(value){if(!value)value=[];var oldValue=this.selectedSearchItems$kd55;this.selectedSearchItems$kd55=value;
com.coremedia.ui.data.util.PropertyChangeEventUtil.fireEvent(this,com.coremedia.cms.editor.sdk.collectionview.CollectionView.SELECTED_SEARCH_ITEMS_VARIABLE_NAME,oldValue,value)}function getSelectedSearchItems(){return this.selectedSearchItems$kd55}function getNewContent(){return this.newContent$kd55}function setNewContent(value){var oldValue=this.newContent$kd55;this.newContent$kd55=value;com.coremedia.ui.data.util.PropertyChangeEventUtil.fireEvent(this,CREATED_CONTENT_PROPERTY$static,oldValue,value)}
function getOpenPath(){return this.openPath$kd55}function setOpenPath(value,treeId){if(arguments.length<=1)treeId=null;if(value)this.recalculateSelectedRepositoryItems$kd55(value,treeId);var oldValue=this.openPath$kd55;this.openPath$kd55=value;com.coremedia.ui.data.util.PropertyChangeEventUtil.fireEvent(this,OPEN_PATH_PROPERTY$static,oldValue,value)}function recalculateSelectedRepositoryItems(folder,treeId){var this$=this;var newSelectedRepositoryItems=[];if(AS3.is(this.selectedRepositoryItems$kd55,
Array)){this.selectedRepositoryItems$kd55.forEach(function(item){var parent=this$.getTreeNodeFor$kd55(item,treeId);if(com.coremedia.ui.util.ObjectUtils.equal(parent,folder))newSelectedRepositoryItems.push(item)});this.setSelectedRepositoryItems(newSelectedRepositoryItems)}}function clearRepositoryListSelection(){this.setSelectedRepositoryItems([])}function getSearchArea(){return AS3.as(this.queryById(com.coremedia.cms.editor.sdk.collectionview.CollectionView.SEARCH_AREA_ITEM_ID),com.coremedia.cms.editor.sdk.collectionview.search.SearchArea)}
function getTreeNodeFor(item,treeId){if(arguments.length<=1)treeId=null;var idPath=null;var content=AS3.as(item,com.coremedia.cap.content.Content);if(content)if(content.getPath()===undefined)return undefined;if(treeId){var treeModel=getLibraryTreeModelInternal$static().getTreeModelForId(treeId);idPath=treeModel.getIdPathFromModel(item)}else idPath=getLibraryTreeModelInternal$static().getIdPathFromModel(item);if(idPath===null)return null;if(idPath===undefined)return undefined;if(idPath&&idPath.length>
0){var parentId=idPath[idPath.length-1];var parent=getLibraryTreeModelInternal$static().getNodeModel(parentId);return parent}return undefined}function showInRepositoryMode(selection,treeId){var this$=this;if(arguments.length<=1)treeId=null;com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){return this$.getTreeNodeFor$kd55(selection,treeId)}).loadValue(function(parent){if(parent==null)this$.setSelectedRepositoryItems(null);if(com.coremedia.ui.util.ObjectUtils.equal(selection,
parent))this$.setOpenPath(selection,treeId);else{if(this$.getSelectedFolderValueExpression().getValue()===parent)this$.setSelectedRepositoryItems([selection]);else{var selectContent=function(){if(this$.getSelectedFolderValueExpression().getValue()===parent){this$.getSelectedFolderValueExpression().removeChangeListener(selectContent);this$.setSelectedRepositoryItems([selection])}};this$.getSelectedFolderValueExpression().addChangeListener(selectContent)}this$.setOpenPath(parent,treeId)}})}function folderItemsTextVisibleVE(){var this$=
this;return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var view=this$.getCollectionViewModel().getMainStateBean().get(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.MODE_PROPERTY);return view===com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.REPOSITORY_MODE})}function totalHitsLabelVisibleVE(){var this$=this;return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var view=this$.getCollectionViewModel().getMainStateBean().get(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.MODE_PROPERTY);
return view===com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.SEARCH_MODE})}function pathInfoLabelVisibleVE(){var this$=this;return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var pathInfo=this$.calculatePathInfo$kd55();var pathInfoVisible=!!pathInfo;return pathInfo!==undefined&&pathInfoVisible})}function getPathInfoExpression(){return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"calculatePathInfo$kd55"))}function calculatePathInfo(){var view=
this.getCollectionViewModel().getMainStateBean().get(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.MODE_PROPERTY);if(view===com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.SEARCH_MODE){var selection=this.getSelectedSingleSearchItemValueExpression$kd55().getValue();var extension=com.coremedia.cms.editor.sdk.editorContext.getCollectionViewExtender().getExtension(selection);if(extension===undefined)return undefined;if(extension){var selectionPath=extension.getPathInfo(selection);
if(selectionPath)return selectionPath}}return""}function getFolderChildrenCountVE(){var this$=this;return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var view=this$.getCollectionViewModel().getMainStateBean().get(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.MODE_PROPERTY);var result=" ";var selectedFolder=AS3.as(this$.selectedFolderValueExpression$kd55.getValue(),com.coremedia.cap.content.Content);if(view===com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.REPOSITORY_MODE&&
selectedFolder&&com.coremedia.ui.data.RemoteBeanUtil.isAccessible(selectedFolder)){var folderChildren=selectedFolder.getChildren();if(AS3.is(folderChildren,Array)&&folderChildren.length>49){var itemCountTemplate=this$.resourceManager.getString("com.coremedia.cms.editor.Editor","CollectionView_number_of_items_in_selected_folder");result=Ext.String.format(itemCountTemplate,folderChildren.length)}}return result})}function getTotalHitsExpression(){return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,
"calculateTotalHits$kd55"))}function getToolbarContainer(){return AS3.as(this.queryById("toolbarSwitchingContainer"),com.coremedia.ui.components.SwitchingContainer)}function getFolderContentSwitchingContainer(){return AS3.as(this.queryById("listViewSwitchingContainer"),com.coremedia.ui.components.SwitchingContainer)}function getSearchListSwitchingContainer(){return AS3.as(this.queryById("searchSwitchingContainer"),com.coremedia.ui.components.SwitchingContainer)}function calculateTotalHits(){var totalHits;
var view=this.getCollectionViewModel().getMainStateBean().get(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.MODE_PROPERTY);if(view===com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.SEARCH_MODE){var searchResult=this.getSearchResult();if(searchResult){var total=searchResult.getTotal();if(total!==undefined){var bundle=this.resourceManager.getResourceBundle(null,"com.coremedia.cms.editor.Editor").content;var searchResultLength=searchResult.getHits().length;var pattern=
total==1?bundle.CollectionView_one_hit_text:total<=searchResultLength?bundle.CollectionView_many_hits_text:bundle.CollectionView_partial_hits_text;totalHits=Ext.String.format(pattern,total,searchResultLength)}}}return totalHits}function getLibraryTreeWidth$static(){var width=Number(com.coremedia.ui.util.LocalStorageUtil.getItem(com.coremedia.cms.editor.sdk.collectionview.tree.LibraryTreeBase.WIDTH_STORAGE_KEY));if(!width)width=DEFAULT_REPOSITORY_TREE_WIDTH$static;return width}function getActiveStoreOfFolderContentContainer(){return this.folderContentContainer$kd55&&
this.folderContentContainer$kd55.getActiveStore()}function getSearchListContainer(itemId){var container=this.getSearchListSwitchingContainer$kd55();return AS3.as(container.down(com.coremedia.ui.util.createComponentSelector().itemId(itemId).build()),Ext.container.Container)}function getActiveSearchListContainer(){var itemId=this.getActiveSearchListExpression().getValue();var container=this.getSearchListSwitchingContainer$kd55();return AS3.as(container.down(com.coremedia.ui.util.createComponentSelector().itemId(itemId).build()),
Ext.container.Container)}function isActiveToolbar(toolbarContainer){var viewMode=this.collectionViewModel$kd55.getMainStateBean().get(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.MODE_PROPERTY);if(viewMode===com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.REPOSITORY_MODE){var activeRepoToolbarItemId=this.getActiveRepositoryToolbarExpression().getValue();return activeRepoToolbarItemId===toolbarContainer.getItemId()}var activeSearchToolbarItemId=this.getActiveSearchToolbarViewExpression().getValue();
return activeSearchToolbarItemId===toolbarContainer.getItemId()}function getSortStateManager(){var viewMode=this.getCollectionViewModel().getMainStateBean().get(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.MODE_PROPERTY);if(viewMode===com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.REPOSITORY_MODE){var activeFolderContentContainer=AS3.as(this.getFolderContentSwitchingContainer$kd55(),com.coremedia.cms.editor.sdk.collectionview.sort.SortStateManagerProvider);return activeFolderContentContainer.getSortStateManager()}var activeSearchListContainer=
AS3.as(this.getSearchListSwitchingContainer$kd55(),com.coremedia.cms.editor.sdk.collectionview.sort.SortStateManagerProvider);return activeSearchListContainer.getSortStateManager()}function fileDropHandler(files,settings){var selectedFolder=this.getSelectedFolderValueExpression().getValue();if(selectedFolder){var extension=com.coremedia.cms.editor.sdk.editorContext.getCollectionViewExtender().getExtension(selectedFolder);if(!extension.isUploadDisabledFor(selectedFolder))extension.upload(files,selectedFolder,
settings)}}function onFileDragOver$static(){enableDropStyle$static(true)}function onFileDragEnd$static(){enableDropStyle$static(false)}function enableDropStyle$static(enable){var cv=AS3.as(Ext.getCmp(com.coremedia.cms.editor.sdk.collectionview.CollectionView.COLLECTION_VIEW_ID),com.coremedia.cms.editor.sdk.collectionview.CollectionView);var parentWindow=cv.findParentByType(com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelFloatingWindow.xtype);var parentPanel=AS3.as(cv.findParentByType(com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanel.xtype),
Ext.panel.Panel);if(parentWindow)if(enable)parentWindow.setStyle("box-shadow","0 0 0 100000px rgba(0,0,0,.66)");else parentWindow.setStyle("box-shadow","none")}return{extend:"Ext.container.Container",mixins:["com.coremedia.cms.editor.sdk.collectionview.ICollectionView"],metadata:{"":["Event",["name","selectedFolder"],"PublicApi"],getLibraryTreeModel:["ProvideToExtChildren"],getCollectionViewModel:["ProvideToExtChildren"],getSearchResult:["ProvideToExtChildren"],getSelectedFolder:["ProvideToExtChildren"],
getSelectedRepositoryItems:["ProvideToExtChildren"],getSelectedItems:["ProvideToExtChildren"],getSelectedSearchItems:["ProvideToExtChildren"]},searchResult$kd55:null,newContent$kd55:null,openPath$kd55:null,selectedFolder$kd55:null,selectedRepositoryItems$kd55:null,selectedItems$kd55:null,selectedSearchItems$kd55:null,selectedFolderWhenEnteringRepositoryMode$kd55:null,atLeastOneSearchOccurred$kd55:false,searchResultValueExpression$kd55:null,searchResultValueHitsExpression$kd55:null,collectionViewModel$kd55:null,
newContentActionDisabledExpression$kd55:null,selectedFolderValueExpression$kd55:null,selectedRepositoryItemsValueExpression$kd55:null,selectedItemsValueExpression$kd55:null,selectedSearchItemsValueExpression$kd55:null,selectedSingleSearchItemValueExpression$kd55:null,createdContentValueExpression$kd55:null,openPathValueExpression$kd55:null,uploadDisabledValueExpression$kd55:null,folderContentContainer$kd55:null,activeToolbarExpression$kd55:null,activeSearchToolbarExpression$kd55:null,activeListViewExpression$kd55:null,
activeSearchListViewExpression$kd55:null,constructor:CollectionViewBase$,super$kd55:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},updateTreeSelectionCss$kd55:updateTreeSelectionCss,getLibraryTreeModel:getLibraryTreeModel,getCollectionViewModel:getCollectionViewModel,setCollectionViewModel:setCollectionViewModel,getSearchResult:getSearchResult,setSearchResult:setSearchResult,getSearchResultValueExpression:getSearchResultValueExpression,getSearchResultHitsValueExpression:getSearchResultHitsValueExpression,
getCreatedContentValueExpression:getCreatedContentValueExpression,getNewContentActionDisabledExpression:getNewContentActionDisabledExpression,getSelectedFolderValueExpression:getSelectedFolderValueExpression,getUploadDisabledValueExpression:getUploadDisabledValueExpression,getSelectedRepositoryItemsValueExpression:getSelectedRepositoryItemsValueExpression,getSelectedItemsValueExpression:getSelectedItemsValueExpression,getActiveRepositoryToolbarExpression:getActiveRepositoryToolbarExpression,getActiveSearchToolbarViewExpression:getActiveSearchToolbarViewExpression,
getActiveFolderContentContainerExpression:getActiveFolderContentContainerExpression,getActiveSearchListExpression:getActiveSearchListExpression,getSelectedSearchItemsValueExpression:getSelectedSearchItemsValueExpression,getSelectedSingleSearchItemValueExpression$kd55:getSelectedSingleSearchItemValueExpression,getOpenPathValueExpression:getOpenPathValueExpression,search$kd55:search,doSearch$kd55:doSearch,getCurrentMode:getCurrentMode,getCurrentView:getCurrentView,modeChanged$kd55:modeChanged,currentSearchHitsIncludeAtLeastOneSelectedRepositoryItem$kd55:currentSearchHitsIncludeAtLeastOneSelectedRepositoryItem,
getSelectedFolder:getSelectedFolder,setSelectedFolder:setSelectedFolder,getSelectedRepositoryItems:getSelectedRepositoryItems,setSelectedRepositoryItems:setSelectedRepositoryItems,getSelectedItems:getSelectedItems,setSelectedItems:setSelectedItems,setSelectedSearchItems:setSelectedSearchItems,getSelectedSearchItems:getSelectedSearchItems,getNewContent:getNewContent,setNewContent:setNewContent,getOpenPath:getOpenPath,setOpenPath:setOpenPath,recalculateSelectedRepositoryItems$kd55:recalculateSelectedRepositoryItems,
clearRepositoryListSelection$kd55:clearRepositoryListSelection,getSearchArea$kd55:getSearchArea,getTreeNodeFor$kd55:getTreeNodeFor,showInRepositoryMode:showInRepositoryMode,folderItemsTextVisibleVE:folderItemsTextVisibleVE,totalHitsLabelVisibleVE:totalHitsLabelVisibleVE,pathInfoLabelVisibleVE:pathInfoLabelVisibleVE,getPathInfoExpression:getPathInfoExpression,calculatePathInfo$kd55:calculatePathInfo,getFolderChildrenCountVE:getFolderChildrenCountVE,getTotalHitsExpression:getTotalHitsExpression,getToolbarContainer$kd55:getToolbarContainer,
getFolderContentSwitchingContainer$kd55:getFolderContentSwitchingContainer,getSearchListSwitchingContainer$kd55:getSearchListSwitchingContainer,calculateTotalHits$kd55:calculateTotalHits,getActiveStoreOfFolderContentContainer:getActiveStoreOfFolderContentContainer,getSearchListContainer:getSearchListContainer,getActiveSearchListContainer:getActiveSearchListContainer,isActiveToolbar:isActiveToolbar,getSortStateManager:getSortStateManager,fileDropHandler:fileDropHandler,statics:{PATH_INFO_LABEL:"pathInfoLabel",
TOTAL_HITS_LABEL:"totalHitsLabel",FOLDER_ITEMS:"folderChildrenCount",getLibraryTreeWidth:getLibraryTreeWidth$static,onFileDragOver:onFileDragOver$static,onFileDragEnd:onFileDragEnd$static},requires:["Ext","Ext.String","Ext.container.Container","Ext.panel.Panel","Ext.tree.Panel","com.coremedia.cap.common.SESSION","com.coremedia.cap.content.Content","com.coremedia.cap.content.search.SearchParameters","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.collectionview.ICollectionView",
"com.coremedia.ui.components.SwitchingContainer","com.coremedia.ui.data.BeanState","com.coremedia.ui.data.RemoteBeanUtil","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.dependencies.DependencyTracker","com.coremedia.ui.data.util.PropertyChangeEventUtil","com.coremedia.ui.util.ArrayUtils","com.coremedia.ui.util.LocalStorageUtil","com.coremedia.ui.util.ObjectUtils","com.coremedia.ui.util.createComponentSelector"],uses:["com.coremedia.cms.editor.sdk.EditorContextImpl","com.coremedia.cms.editor.sdk.collectionview.CollectionView",
"com.coremedia.cms.editor.sdk.collectionview.CollectionViewManagerInternal","com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel","com.coremedia.cms.editor.sdk.collectionview.FolderContentContainer","com.coremedia.cms.editor.sdk.collectionview.search.SearchArea","com.coremedia.cms.editor.sdk.collectionview.sort.SortStateManagerProvider","com.coremedia.cms.editor.sdk.collectionview.tree.LibraryTreeBase","com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanel","com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelFloatingWindow",
"com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.sort.SortStateManagerProvider",function(SortStateManagerProvider){return{}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.sort.RepositoryListSorter",function(RepositoryListSorter){return{}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.sort.CollectionViewSortStateManager",function(CollectionViewSortStateManager){var SORT_DIRECTION_ASC$static="asc";function CollectionViewSortStateManager$(collectionViewModel,columnModel,orderByPropertyInCollectionViewModel){this.super$ojnS();this.collectionViewModel$ojnS=collectionViewModel;this.columnModel$ojnS=columnModel;this.orderByPropertyInCollectionViewModel$ojnS=orderByPropertyInCollectionViewModel;this.getExpandedOrderByExpression().addChangeListener(AS3.bind(this,
"onSortFieldChangedInModel$ojnS"));this.triggerSearch()}function onSortFieldChangedInModel(){var this$=this;var sortField=this.getSortFieldExpression().getValue();var column=this.getColumnBySortField$ojnS(sortField);if(!column){var title=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","SearchList_sorting_error_handling_ui_has_no_header_title");var messagePattern=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","SearchList_sorting_error_handling_ui_has_no_header_message");
var message=Ext.String.format(messagePattern,sortField);com.coremedia.ui.logging.Logger.warn(title+": "+message);com.coremedia.ui.util.EventUtil.invokeLater(function(){this$.getExpandedOrderByExpression().setValue("freshness desc");this$.triggerSearch()})}}function triggerSearch(){var sortField=undefined;var sortDirection=undefined;if(!this.getExpandedOrderByExpression().getValue()){for(var $1=0;$1<this.columnModel$ojnS.length;++$1){var column=this.columnModel$ojnS[$1];if(column["defaultSortColumn"]){sortField=
getSortFieldFromColumn$static(column);sortDirection=column["defaultSortDirection"]||SORT_DIRECTION_ASC$static;break}}if(!sortField)for(var $2=0;$2<this.columnModel$ojnS.length;++$2){var sColumn=this.columnModel$ojnS[$2];if(sColumn.sortable){sortField=getSortFieldFromColumn$static(sColumn);break}}if(!sortField)throw new AS3.Error("CollectionViewSortStateManager did not find a sortable column, please check your column model definition.");if(!sortDirection)sortDirection=SORT_DIRECTION_ASC$static}else{sortField=
this.getSortFieldFromModel$ojnS();sortDirection=this.getSortDirectionFromModel()}this.updateSortState$ojnS(sortField,false,sortDirection)}function sortByDataIndex(dataIndex,shouldToggle,dir){switch(Math.max(arguments.length,1)){case 1:shouldToggle=true;case 2:dir=null}var sortField=this.getSortFieldFromDataIndex$ojnS(dataIndex);this.updateSortState$ojnS(sortField,shouldToggle,dir)}function sortByHeader(header,shouldToggle,dir){switch(Math.max(arguments.length,1)){case 1:shouldToggle=true;case 2:dir=
null}var sortField=this.getSortFieldFromHeader$ojnS(header);this.updateSortState$ojnS(sortField,shouldToggle,dir)}function sortToggle(){var sortField=this.getSortFieldFromModel$ojnS();this.updateSortState$ojnS(sortField)}function updateSortState(sortField,shouldToggle,dir){switch(Math.max(arguments.length,1)){case 1:shouldToggle=true;case 2:dir=null}dir=dir&&["asc","desc"].indexOf(dir.toLowerCase())!==-1?dir.toLowerCase():null;var sortDirection=dir||this.getSortDirectionFromModel();var column=this.getColumnBySortField$ojnS(sortField);
if(column){if(!dir)if(column["sortDirection"])sortDirection=readDirectionFromColumn$static(sortDirection,column);else if(shouldToggle)sortDirection=this.toggleDirection$ojnS(sortField,sortDirection);var orderBy=sortField+" "+sortDirection;var extendOrderBy=column["extendOrderBy"];if(extendOrderBy){var extended=extendOrderBy(sortField,sortDirection);var extendedString=AS3.is(extended,Array)?AS3.as(extended,Array).join(","):AS3.as(extended,String);orderBy+=","+extendedString}this.getExpandedOrderByExpression().setValue(orderBy);
this.collectionViewModel$ojnS.getMainStateBean().set(this.orderByPropertyInCollectionViewModel$ojnS,orderBy)}}function readDirectionFromColumn$static(sortDirection,column){var sortDirectionFromColumn=column["sortDirection"];if(sortDirectionFromColumn==="asc"||sortDirectionFromColumn==="desc")return sortDirectionFromColumn;else com.coremedia.ui.logging.Logger.warn("Invalid sortdirection in column "+column.dataIndex);return sortDirection}function toggleDirection(sortField,sortDirection){if(this.getSortFieldFromModel$ojnS()===
sortField)sortDirection=sortDirection==="asc"?"desc":"asc";return sortDirection}function getExpandedOrderByExpression(){if(!this.expandedOrderByExpression$ojnS)this.expandedOrderByExpression$ojnS=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(null);return this.expandedOrderByExpression$ojnS}function getSortFieldExpression(){var this$=this;return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){return this$.getSortFieldFromModel$ojnS()})}function getSortDirectionExpression(){var this$=
this;return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){return this$.getSortDirectionFromModel()})}function getHeaderFromSortField(sortField){var column=this.getColumnBySortField$ojnS(sortField);if(!column){var error=new AS3.Error(sortField);com.coremedia.ui.logging.Logger.error("No column is configured for the sort field: "+sortField);throw error;}else if(column.header)return column.header;else{com.coremedia.ui.logging.Logger.error("No header is configured for the column with dataIndex: "+
column.dataIndex);return column.dataIndex}}function getSortDirectionFromModel(){var sortDirection="desc";var orderByArray=this.getCurrentSortCriteria();if(orderByArray.length>0){var firstOrderByArray=orderByArray[0].split(" ");sortDirection=firstOrderByArray[1]&&firstOrderByArray[1].toLowerCase()}return sortDirection}function getSortColumnIndexFromModel(){var column=this.getSortColumnFromModel();return column?this.columnModel$ojnS.indexOf(column):-1}function getSortColumnFromModel(){return this.getColumnBySortField$ojnS(this.getSortFieldFromModel$ojnS())}
function getSortFieldFromColumn$static(column){return column["sortField"]||column.dataIndex.toLowerCase()}function getSortFieldFromDataIndex(dataIndex){var sortField=null;var column=com.coremedia.cms.editor.sdk.util.ColumnsUtil.getColumnByDataIndex(this.columnModel$ojnS,dataIndex);if(column)sortField=getSortFieldFromColumn$static(column);return sortField}function getSortFieldFromHeader(header){var sortField=null;var column=com.coremedia.cms.editor.sdk.util.ColumnsUtil.getColumnByHeader(this.columnModel$ojnS,
header);if(column)sortField=getSortFieldFromColumn$static(column);return sortField}function getColumnBySortField(sortField){var matchedColumns=this.columnModel$ojnS.filter(function(column){return getSortFieldFromColumn$static(column)===sortField});return matchedColumns.length>=1?matchedColumns[0]:null}function getSortFieldFromModel(){var sortField;var orderByArray=this.getCurrentSortCriteria();if(orderByArray.length>0){var firstOrderByArray=orderByArray[0].split(" ");sortField=firstOrderByArray[0]}return sortField}
function getCurrentSortCriteria(){return this.expandedOrderByExpression$ojnS.getValue().split(",")}function setCurrentSortCriteria(sortCriteria){this.expandedOrderByExpression$ojnS.setValue(sortCriteria)}return{extend:"Ext.util.Observable",collectionViewModel$ojnS:null,columnModel$ojnS:null,orderByPropertyInCollectionViewModel$ojnS:null,expandedOrderByExpression$ojnS:null,constructor:CollectionViewSortStateManager$,super$ojnS:function(){Ext.util.Observable.prototype.constructor.apply(this,arguments)},
onSortFieldChangedInModel$ojnS:onSortFieldChangedInModel,triggerSearch:triggerSearch,sortByDataIndex:sortByDataIndex,sortByHeader:sortByHeader,sortToggle:sortToggle,updateSortState$ojnS:updateSortState,toggleDirection$ojnS:toggleDirection,getExpandedOrderByExpression:getExpandedOrderByExpression,getSortFieldExpression:getSortFieldExpression,getSortDirectionExpression:getSortDirectionExpression,getHeaderFromSortField:getHeaderFromSortField,getSortDirectionFromModel:getSortDirectionFromModel,getSortColumnIndexFromModel:getSortColumnIndexFromModel,
getSortColumnFromModel:getSortColumnFromModel,getSortFieldFromDataIndex$ojnS:getSortFieldFromDataIndex,getSortFieldFromHeader$ojnS:getSortFieldFromHeader,getColumnBySortField$ojnS:getColumnBySortField,getSortFieldFromModel$ojnS:getSortFieldFromModel,getCurrentSortCriteria:getCurrentSortCriteria,setCurrentSortCriteria:setCurrentSortCriteria,requires:["AS3.Error","Ext.String","Ext.util.Observable","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.logging.Logger","com.coremedia.ui.util.EventUtil",
"mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.util.ColumnsUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.sort.RepositoryListSorterImpl",function(RepositoryListSorterImpl){function baseHomeFolder_(){this.baseHomeFolder$jsao=com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getBaseHomeFolder()}function userHomeFolder_(){this.userHomeFolder$jsao=com.coremedia.cap.common.SESSION.getUser().getHomeFolder()}function noHomeFolderPredicate(content){return content!==this.baseHomeFolder$jsao&&content!==this.userHomeFolder$jsao}function searchResultCallbackSyncBean_(){this.searchResultCallbackSyncBean$jsao=
com.coremedia.ui.data.beanFactory.createLocalBean({hits:undefined})}function hiddenChildren_(){this.hiddenChildren$jsao=[]}function hideChild(content){this.hiddenChildren$jsao.push(content)}function getChildren(folder){var this$=this;var children=folder.getChildren();if(children===undefined)return undefined;return children.filter(function(child){return this$.hiddenChildren$jsao.indexOf(child)===-1})}function filter(folder,children){var filteredChildren=com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getAccessControl().filterReadableContents(children);
if(!filteredChildren)return undefined;filteredChildren=this.filterForTreeFilters$jsao(filteredChildren);if(!filteredChildren)return undefined;return filteredChildren.filter(AS3.bind(this,"noHomeFolderPredicate$jsao"))}function triggerSolrSort(folder,children,sortValues){var searchParameters=this.computeSearchParameters(folder,sortValues);if(!this.lastSearchParameters$jsao||!com.coremedia.ui.util.ObjectUtils.compareObjectsWithEqual(this.lastSearchParameters$jsao,searchParameters)){var searchResult=
com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getSearchService().search(searchParameters);searchResult.load(AS3.bind(this,"proceedAfterLoad$jsao"));this.lastSearchParameters$jsao=searchParameters}sortHits$static(children,this.searchResultCallbackSyncBean$jsao.get("hits"));return children}function computeSearchParameters(folder,sortValues){var adjustedSortValues=sortValues;if(sortValues&&sortValues.length>0){var firstOrderSorting=sortValues[0];if(firstOrderSorting&&firstOrderSorting.indexOf("name")!==
0)adjustedSortValues=[firstOrderSorting,"name asc"]}var searchParameters=AS3.cast(com.coremedia.cap.content.search.SearchParameters,{});searchParameters.query="*";searchParameters.contentType=["Content_"];searchParameters.folder=folder.getUriPath();searchParameters.orderBy=adjustedSortValues;searchParameters.includeSubfolders=false;var docTypeExclusions=com.coremedia.cms.editor.sdk.editorContext.getContentTypesExcludedFromSearchResult();var excludeDoctypesFragment="";for(var $1=0;$1<docTypeExclusions.length;++$1){var excludedDocType=
docTypeExclusions[$1];excludeDoctypesFragment=excludeDoctypesFragment+"-documenttype:"+excludedDocType+" "}if(searchParameters.filterQuery)searchParameters.filterQuery.push(excludeDoctypesFragment);else searchParameters.filterQuery=[excludeDoctypesFragment];searchParameters.limit=-1;return searchParameters}function sort(folder,children){var cvManager=AS3.as(com.coremedia.cms.editor.sdk.editorContext.getCollectionViewManager(),com.coremedia.cms.editor.sdk.collectionview.CollectionViewManagerInternal);
var sortValue="name asc";var sortStateManager=cvManager.getCollectionView().getSortStateManager();if(sortStateManager){var sortValues=sortStateManager.getCurrentSortCriteria();sortValue=sortValues[0]}var fieldAndDirection=sortValue.split(" ");if(fieldAndDirection[0]==="name"){this.lastSearchParameters$jsao=null;if(fieldAndDirection[1]==="desc"){var indexAfterFolders=0;while(indexAfterFolders<children.length&&children[indexAfterFolders].isFolder())indexAfterFolders++;var folders=children.slice(0,indexAfterFolders);
var documents=children.slice(indexAfterFolders);folders.reverse();documents.reverse();children=folders.concat(documents)}return children}return this.triggerSolrSort(folder,children,sortValues)}function sortHits$static(children,solrSortedChildren){if(solrSortedChildren&&solrSortedChildren.length>0){var solrIndex=buildIndexByContentIdMap$static(solrSortedChildren);var originalIndex=buildIndexByContentIdMap$static(children);children.sort(function(a,b){if(a===b)return 0;var isFolderA=a.isFolder();var isFolderB=
b.isFolder();if(isFolderA!==isFolderB)return isFolderA?-1:1;var indexA=solrIndex[a.getId()];var indexB=solrIndex[b.getId()];var aNotInSolr=indexA===undefined;var bNotInSolr=indexB===undefined;if(aNotInSolr&&bNotInSolr)return originalIndex[a.getId()]-originalIndex[b.getId()];return aNotInSolr?-1:bNotInSolr?1:indexA-indexB})}}function filterForTreeFilters(filteredChildren){var collectionViewManagerInternal=AS3.as(com.coremedia.cms.editor.sdk.editorContext.getCollectionViewManager(),com.coremedia.cms.editor.sdk.collectionview.CollectionViewManagerInternal);
var treeModel=collectionViewManagerInternal.getLibraryTreeModel();return treeModel.filterTreeChildren(filteredChildren)}function buildIndexByContentIdMap$static(contentList){var indexByContentId={};for(var i=0;i<contentList.length;i++)indexByContentId[AS3.cast(com.coremedia.cap.content.Content,contentList[i]).getId()]=i;return indexByContentId}function proceedAfterLoad(bean){this.searchResultCallbackSyncBean$jsao.set("hits",bean.getHits())}function RepositoryListSorterImpl$(){baseHomeFolder_.call(this);
userHomeFolder_.call(this);searchResultCallbackSyncBean_.call(this);hiddenChildren_.call(this)}return{mixins:["com.coremedia.cms.editor.sdk.collectionview.sort.RepositoryListSorter"],noHomeFolderPredicate$jsao:noHomeFolderPredicate,lastSearchParameters$jsao:null,hideChild:hideChild,getChildren:getChildren,filter:filter,triggerSolrSort:triggerSolrSort,computeSearchParameters:computeSearchParameters,sort:sort,filterForTreeFilters$jsao:filterForTreeFilters,proceedAfterLoad$jsao:proceedAfterLoad,constructor:RepositoryListSorterImpl$,
requires:["com.coremedia.cap.common.SESSION","com.coremedia.cap.content.Content","com.coremedia.cap.content.search.SearchParameters","com.coremedia.cms.editor.sdk.collectionview.sort.RepositoryListSorter","com.coremedia.ui.data.beanFactory","com.coremedia.ui.util.ObjectUtils"],uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionViewManagerInternal","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.SearchToolbarSwitchingContainer",function(SearchToolbarSwitchingContainer){function SearchToolbarSwitchingContainer$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.ui.components.SwitchingContainer,{});var defaults_$1=AS3.cast(SearchToolbarSwitchingContainer,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$660r(config_$1)}return{extend:"com.coremedia.ui.components.SwitchingContainer",
metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.searchToolbarSwitchingContainer",constructor:SearchToolbarSwitchingContainer$,super$660r:function(){com.coremedia.ui.components.SwitchingContainer.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.ui.components.SwitchingContainer","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.CollectionViewContainer",function(CollectionViewContainer){function CollectionViewContainer$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.CollectionViewContainerBase,{});var defaults_$1=AS3.cast(CollectionViewContainer,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1["id"]=CollectionViewContainer.ID;config_$1.defaultFocus=net.jangaroo.ext.Exml.asString(com.coremedia.ui.util.createComponentSelector().focusable().build());
config_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","CollectionView_title"));config_$1["minWidth"]=380;config_$1["minHeight"]=350;AS3.setBindable(config_$1,"width",630);AS3.setBindable(config_$1,"height",489);AS3.setBindable(config_$1,"activeItem",com.coremedia.cms.editor.sdk.collectionview.CollectionView.COLLECTION_VIEW_ID);config_$1["docked"]=false;var editor_CollectionView_32_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.CollectionView,
{});editor_CollectionView_32_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.CollectionView.COLLECTION_VIEW_ID);editor_CollectionView_32_5_$1.flex=1;config_$1.items=[editor_CollectionView_32_5_$1];var layout_Card_36_5_$1=AS3.cast(Ext.layout.container.Card,{});layout_Card_36_5_$1.deferredRender=true;AS3.setBindable(config_$1,"layout",layout_Card_36_5_$1);var ui_ValueExpression_39_5_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_39_5_$1,
"expression",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.CollectionView.COLLECTION_VIEW_ID));AS3.setBindable(ui_ValueExpression_39_5_$1,"context",com.coremedia.ui.data.beanFactory.createLocalBean());AS3.setBindable(config_$1,"activeItemValueExpression",new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_39_5_$1));net.jangaroo.ext.Exml.apply(config_$1,config);this.super$6KgD(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.collectionview.CollectionViewContainerBase",
alias:"widget.com.coremedia.cms.editor.sdk.config.collectionViewContainer",constructor:CollectionViewContainer$,super$6KgD:function(){com.coremedia.cms.editor.sdk.collectionview.CollectionViewContainerBase.prototype.constructor.apply(this,arguments)},statics:{ID:"collection-view-container"},requires:["Ext.layout.container.Card","com.coremedia.cms.editor.sdk.collectionview.CollectionViewContainerBase","com.coremedia.ui.data.beanFactory","com.coremedia.ui.exml.ValueExpression","com.coremedia.ui.util.createComponentSelector",
"net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionView"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.FolderContentSwitchingContainer",function(FolderContentSwitchingContainer){function FolderContentSwitchingContainer$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.FolderContentSwitchingContainerBase,{});var defaults_$1=AS3.cast(FolderContentSwitchingContainer,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Grcj(config_$1)}
return{extend:"com.coremedia.cms.editor.sdk.collectionview.FolderContentSwitchingContainerBase",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.folderContentSwitchingContainer",constructor:FolderContentSwitchingContainer$,super$Grcj:function(){com.coremedia.cms.editor.sdk.collectionview.FolderContentSwitchingContainerBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.collectionview.FolderContentSwitchingContainerBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants",function(CollectionViewConstants){function CollectionViewConstants$(){}return{metadata:{"":["PublicApi"]},constructor:CollectionViewConstants$,statics:{LAST_EDITED_BY_ME:"me",LAST_EDITED_BY_ANYONE:"anyone",LIST_VIEW:"list",THUMBNAILS_VIEW:"thumbnails",TREE_MODEL_ID:"repositoryTreeId"}}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.RepositoryToolbarBase",function(RepositoryToolbarBase){function RepositoryToolbarBase$(config){if(arguments.length<=0)config=null;this.super$CqWn(config)}function afterRender(){var this$=this;Ext.toolbar.Toolbar.prototype.afterRender.call(this);var collectionView=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.CollectionView,this.findParentByType(com.coremedia.cms.editor.sdk.collectionview.CollectionView));var masterValueExpression=collectionView.getNewContentActionDisabledExpression();
function updateLocalFromMaster(){var masterValue=masterValueExpression.getValue();if(masterValue!==undefined)this$.getNewContentActionDisabledExpression().setValue(masterValue)}masterValueExpression.addChangeListener(updateLocalFromMaster);updateLocalFromMaster()}function getNewContentActionDisabledExpression(){if(!this.newContentActionDisabledDelegate$CqWn)this.newContentActionDisabledDelegate$CqWn=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(false);return this.newContentActionDisabledDelegate$CqWn}
return{extend:"Ext.toolbar.Toolbar",metadata:{"":["PublicApi"]},newContentActionDisabledDelegate$CqWn:null,constructor:RepositoryToolbarBase$,super$CqWn:function(){Ext.toolbar.Toolbar.prototype.constructor.apply(this,arguments)},afterRender:afterRender,getNewContentActionDisabledExpression:getNewContentActionDisabledExpression,requires:["Ext.toolbar.Toolbar","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionView"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.CollectionViewManager",function(CollectionViewManager){return{}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.SearchSwitchingContainer",function(SearchSwitchingContainer){function SearchSwitchingContainer$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.SortableSwitchingContainer,{});var defaults_$1=AS3.cast(SearchSwitchingContainer,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$runi(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.collectionview.SortableSwitchingContainer",
metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.searchSwitchingContainer",constructor:SearchSwitchingContainer$,super$runi:function(){com.coremedia.cms.editor.sdk.collectionview.SortableSwitchingContainer.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.collectionview.SortableSwitchingContainer","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.CollectionRepositoryContextMenu",function(CollectionRepositoryContextMenu){function CollectionRepositoryContextMenu$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.menu.Menu,{});var defaults_$1=AS3.cast(CollectionRepositoryContextMenu,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.plain=true;var ui_HideObsoleteSeparatorsPlugin_89_5_$1=AS3.cast(com.coremedia.ui.plugins.HideObsoleteSeparatorsPlugin,
{});config_$1.plugins=[ui_HideObsoleteSeparatorsPlugin_89_5_$1];var menuItem_93_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_93_5_$1.itemId=net.jangaroo.ext.Exml.asString(CollectionRepositoryContextMenu.OPEN_MENU_ITEM_ID);var editor_OpenInTreeAction_95_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.tree.OpenInTreeAction,{});AS3.setBindable(editor_OpenInTreeAction_95_9_$1,"selectedFolderValueExpression",AS3.getBindable(config,"selectedFolderValueExpression"));menuItem_93_5_$1.baseAction=new com.coremedia.cms.editor.sdk.collectionview.tree.OpenInTreeAction(editor_OpenInTreeAction_95_9_$1);
var menuItem_98_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_98_5_$1.itemId=net.jangaroo.ext.Exml.asString(CollectionRepositoryContextMenu.OPEN_IN_TAB_MENU_ITEM_ID);var editor_OpenEntitiesInTabsAction_100_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenEntitiesInTabsAction,{});AS3.setBindable(editor_OpenEntitiesInTabsAction_100_9_$1,"entitiesValueExpression",config.selectedItemsValueExpression);menuItem_98_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.OpenEntitiesInTabsAction(editor_OpenEntitiesInTabsAction_100_9_$1);
var menuSeparator_103_5_$1=AS3.cast(Ext.menu.Separator,{});var editor_BookmarkMenuItem_104_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.bookmarks.BookmarkMenuItem,{});editor_BookmarkMenuItem_104_5_$1.itemId=net.jangaroo.ext.Exml.asString(CollectionRepositoryContextMenu.BOOKMARK_ITEM_ID);AS3.setBindable(editor_BookmarkMenuItem_104_5_$1,"contentValueExpression",config.selectedItemsValueExpression);var menuSeparator_106_5_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_107_5_$1=AS3.cast(Ext.menu.Item,
{});menuItem_107_5_$1.itemId=net.jangaroo.ext.Exml.asString(CollectionRepositoryContextMenu.CUT_TO_CLIPBOARD_ITEM_ID);var editor_CutToClipboardAction_109_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.clipboard.CutToClipboardAction,{});AS3.setBindable(editor_CutToClipboardAction_109_9_$1,"contentValueExpression",config.selectedItemsValueExpression);menuItem_107_5_$1.baseAction=new com.coremedia.cms.editor.sdk.clipboard.CutToClipboardAction(editor_CutToClipboardAction_109_9_$1);var menuItem_112_5_$1=AS3.cast(Ext.menu.Item,
{});menuItem_112_5_$1.itemId=net.jangaroo.ext.Exml.asString(CollectionRepositoryContextMenu.COPY_TO_CLIPBOARD_ITEM_ID);var editor_CopyToClipboardAction_114_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction,{});AS3.setBindable(editor_CopyToClipboardAction_114_9_$1,"contentValueExpression",config.selectedItemsValueExpression);menuItem_112_5_$1.baseAction=new com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction(editor_CopyToClipboardAction_114_9_$1);var menuItem_117_5_$1=
AS3.cast(Ext.menu.Item,{});menuItem_117_5_$1.itemId=net.jangaroo.ext.Exml.asString(CollectionRepositoryContextMenu.PASTE_FROM_CLIPBOARD_ITEM_ID);var editor_PasteFromClipboardAction_119_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.clipboard.PasteFromClipboardAction,{});AS3.setBindable(editor_PasteFromClipboardAction_119_9_$1,"contentValueExpression",config.selectedItemsValueExpression);AS3.setBindable(editor_PasteFromClipboardAction_119_9_$1,"selectedFolderValueExpression",AS3.getBindable(config,"selectedFolderValueExpression"));
menuItem_117_5_$1.baseAction=new com.coremedia.cms.editor.sdk.clipboard.PasteFromClipboardAction(editor_PasteFromClipboardAction_119_9_$1);var menuSeparator_123_5_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_124_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_124_5_$1.itemId=net.jangaroo.ext.Exml.asString(CollectionRepositoryContextMenu.RENAME_CONTENT_ITEM_MENU_ITEM_ID);var editor_RenameContentItemAction_126_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.RenameContentItemAction,{});AS3.setBindable(editor_RenameContentItemAction_126_9_$1,
"contentValueExpression",config.selectedItemsValueExpression);menuItem_124_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.RenameContentItemAction(editor_RenameContentItemAction_126_9_$1);var menuSeparator_129_5_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_130_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_130_5_$1.itemId=net.jangaroo.ext.Exml.asString(CollectionRepositoryContextMenu.APPROVE_MENU_ITEM_ID);var editor_ApproveAction_132_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ApproveAction,
{});AS3.setBindable(editor_ApproveAction_132_9_$1,"contentValueExpression",config.selectedItemsValueExpression);menuItem_130_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.ApproveAction(editor_ApproveAction_132_9_$1);var menuItem_135_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_135_5_$1.itemId=net.jangaroo.ext.Exml.asString(CollectionRepositoryContextMenu.PUBLISH_MENU_ITEM_ID);var editor_PublishAction_137_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.PublishAction,{});AS3.setBindable(editor_PublishAction_137_9_$1,
"contentValueExpression",config.selectedItemsValueExpression);menuItem_135_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.PublishAction(editor_PublishAction_137_9_$1);var menuSeparator_140_5_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_141_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_141_5_$1.itemId=net.jangaroo.ext.Exml.asString(CollectionRepositoryContextMenu.WITHDRAW_MENU_ITEM_ID);var editor_WithdrawAction_143_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.WithdrawAction,{});AS3.setBindable(editor_WithdrawAction_143_9_$1,
"contentValueExpression",config.selectedItemsValueExpression);menuItem_141_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.WithdrawAction(editor_WithdrawAction_143_9_$1);var menuItem_146_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_146_5_$1.itemId=net.jangaroo.ext.Exml.asString(CollectionRepositoryContextMenu.DELETE_MENU_ITEM_ID);var editor_DeleteAction_148_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.DeleteAction,{});AS3.setBindable(editor_DeleteAction_148_9_$1,"contentValueExpression",
config.selectedItemsValueExpression);menuItem_146_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.DeleteAction(editor_DeleteAction_148_9_$1);config_$1.items=[menuItem_93_5_$1,menuItem_98_5_$1,menuSeparator_103_5_$1,editor_BookmarkMenuItem_104_5_$1,menuSeparator_106_5_$1,menuItem_107_5_$1,menuItem_112_5_$1,menuItem_117_5_$1,menuSeparator_123_5_$1,menuItem_124_5_$1,menuSeparator_129_5_$1,menuItem_130_5_$1,menuItem_135_5_$1,menuSeparator_140_5_$1,menuItem_141_5_$1,menuItem_146_5_$1];net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$KJWr(config_$1)}return{extend:"Ext.menu.Menu",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.collectionRepositoryContextMenu",selectedItemsValueExpression:null,constructor:CollectionRepositoryContextMenu$,super$KJWr:function(){Ext.menu.Menu.prototype.constructor.apply(this,arguments)},config:{selectedFolderValueExpression:null},statics:{CUT_TO_CLIPBOARD_ITEM_ID:"cutToClipboard",COPY_TO_CLIPBOARD_ITEM_ID:"copyToClipboard",PASTE_FROM_CLIPBOARD_ITEM_ID:"pasteFromClipboard",
OPEN_MENU_ITEM_ID:"open",OPEN_IN_TAB_MENU_ITEM_ID:"openInTab",BOOKMARK_ITEM_ID:"bookmark",APPROVE_MENU_ITEM_ID:"approve",DISAPPROVE_MENU_ITEM_ID:"disapprove",PUBLISH_MENU_ITEM_ID:"publish",RENAME_CONTENT_ITEM_MENU_ITEM_ID:"rename",WITHDRAW_MENU_ITEM_ID:"withdraw",DELETE_MENU_ITEM_ID:"delete"},requires:["Ext.menu.Item","Ext.menu.Menu","Ext.menu.Separator","com.coremedia.ui.plugins.HideObsoleteSeparatorsPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.actions.ApproveAction","com.coremedia.cms.editor.sdk.actions.DeleteAction",
"com.coremedia.cms.editor.sdk.actions.OpenEntitiesInTabsAction","com.coremedia.cms.editor.sdk.actions.PublishAction","com.coremedia.cms.editor.sdk.actions.RenameContentItemAction","com.coremedia.cms.editor.sdk.actions.WithdrawAction","com.coremedia.cms.editor.sdk.bookmarks.BookmarkMenuItem","com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction","com.coremedia.cms.editor.sdk.clipboard.CutToClipboardAction","com.coremedia.cms.editor.sdk.clipboard.PasteFromClipboardAction","com.coremedia.cms.editor.sdk.collectionview.tree.OpenInTreeAction"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.SearchToolbarContainer",function(SearchToolbarContainer){function SearchToolbarContainer$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.SearchToolbarContainerBase,{});var defaults_$1=AS3.cast(SearchToolbarContainer,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.itemId="searchToolbar";var editor_SearchToolbarSwitchingContainer_34_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.SearchToolbarSwitchingContainer,
{});editor_SearchToolbarSwitchingContainer_34_5_$1.itemId="searchToolbarSwitchingContainer";AS3.setBindable(editor_SearchToolbarSwitchingContainer_34_5_$1,"width","100%");AS3.setBindable(editor_SearchToolbarSwitchingContainer_34_5_$1,"activeItemValueExpression",AS3.getBindable(config,"activeSearchToolbarExpression"));var container_38_9_$1=AS3.cast(Ext.container.Container,{});container_38_9_$1.itemId="repositorySearchToolbarContainer";var editor_SearchToolbar_40_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.SearchToolbar,
{});AS3.setBindable(editor_SearchToolbar_40_13_$1,"margin","1 0 0");editor_SearchToolbar_40_13_$1.itemId=net.jangaroo.ext.Exml.asString(SearchToolbarContainer.TOOLBAR_ITEM_ID);AS3.setBindable(editor_SearchToolbar_40_13_$1,"selectedItemsValueExpression",AS3.getBindable(config,"selectedItemsValueExpression"));editor_SearchToolbar_40_13_$1.defaultButtonUI=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.TOOLBAR.getSkin());var toolbar_44_13_$1=AS3.cast(Ext.toolbar.Toolbar,{});toolbar_44_13_$1.itemId=
"switchViewButtonsToolbar";toolbar_44_13_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","CollectionView_switchView_toolbar_label"));toolbar_44_13_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.LIGHT.getSkin());var editor_SwitchViewButtonsContainer_48_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.SwitchViewButtonsContainer,{});toolbar_44_13_$1.items=[editor_SwitchViewButtonsContainer_48_17_$1];container_38_9_$1.items=
[editor_SearchToolbar_40_13_$1,toolbar_44_13_$1];var layout_HBox_53_13_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(container_38_9_$1,"layout",layout_HBox_53_13_$1);editor_SearchToolbarSwitchingContainer_34_5_$1.items=[container_38_9_$1];config_$1.items=[editor_SearchToolbarSwitchingContainer_34_5_$1];var layout_HBox_60_5_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(config_$1,"layout",layout_HBox_60_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$MDN$(config_$1)}
return{extend:"com.coremedia.cms.editor.sdk.collectionview.SearchToolbarContainerBase",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.searchToolbarContainer",constructor:SearchToolbarContainer$,super$MDN$:function(){com.coremedia.cms.editor.sdk.collectionview.SearchToolbarContainerBase.prototype.constructor.apply(this,arguments)},config:{activeSearchToolbarExpression:null,selectedItemsValueExpression:null},statics:{TOOLBAR_ITEM_ID:"repositorySearchToolbar"},requires:["Ext.container.Container",
"Ext.layout.container.HBox","Ext.toolbar.Toolbar","com.coremedia.cms.editor.sdk.collectionview.SearchToolbarContainerBase","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.ToolbarSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.collectionview.SearchToolbar","com.coremedia.cms.editor.sdk.collectionview.SearchToolbarSwitchingContainer","com.coremedia.cms.editor.sdk.collectionview.SwitchViewButtonsContainer"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.ToggleCollectionViewAction",function(ToggleCollectionViewAction){function ToggleCollectionViewAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.sidepanel.ToggleComponentInSidePanelAction,{});var defaults_$1=AS3.cast(ToggleCollectionViewAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"componentId",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.CollectionViewContainer.ID));
AS3.setBindable(config_$1,"text",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","CollectionView_title")));net.jangaroo.ext.Exml.apply(config_$1,config);this.super$ih1U(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.desktop.sidepanel.ToggleComponentInSidePanelAction",constructor:ToggleCollectionViewAction$,super$ih1U:function(){com.coremedia.cms.editor.sdk.desktop.sidepanel.ToggleComponentInSidePanelAction.prototype.constructor.apply(this,
arguments)},statics:{ACTION_ID:"toggleCollectionViewAction"},requires:["com.coremedia.cms.editor.sdk.desktop.sidepanel.ToggleComponentInSidePanelAction","mx.resources.ResourceManager","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionViewContainer"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.SortableSwitchingContainerBase",function(SortableSwitchingContainerBase){function SortableSwitchingContainerBase$(config){if(arguments.length<=0)config=null;this.super$qZDj(config)}function getSortStateManager(){var child=this.getActiveItem();if(AS3.is(child,com.coremedia.cms.editor.sdk.collectionview.sort.SortStateManagerProvider))return AS3.as(child,com.coremedia.cms.editor.sdk.collectionview.sort.SortStateManagerProvider).getSortStateManager();
var $2;for(var $1 in $2=this.itemCollection["items"]){var c=$2[$1];if(AS3.is(c,com.coremedia.cms.editor.sdk.collectionview.sort.SortStateManagerProvider))return AS3.as(c,com.coremedia.cms.editor.sdk.collectionview.sort.SortStateManagerProvider).getSortStateManager()}return null}return{extend:"com.coremedia.ui.components.SwitchingContainer",mixins:["com.coremedia.cms.editor.sdk.collectionview.sort.SortStateManagerProvider"],metadata:{"":["PublicApi"]},constructor:SortableSwitchingContainerBase$,super$qZDj:function(){com.coremedia.ui.components.SwitchingContainer.prototype.constructor.apply(this,
arguments)},getSortStateManager:getSortStateManager,requires:["com.coremedia.cms.editor.sdk.collectionview.sort.SortStateManagerProvider","com.coremedia.ui.components.SwitchingContainer"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.CollectionViewExtender",function(CollectionViewExtender){function extensionsByPriority_(){this.extensionsByPriority$8Nsx={}}function priorities_(){this.priorities$8Nsx=[]}function CollectionViewExtender$(){extensionsByPriority_.call(this);priorities_.call(this);this.repositoryCollectionViewExtension$8Nsx=new com.coremedia.cms.editor.sdk.collectionview.RepositoryCollectionViewExtension;this.addExtension(this.repositoryCollectionViewExtension$8Nsx,
2E3)}function getRepositoryCollectionViewExtension(){return this.repositoryCollectionViewExtension$8Nsx}function getAllExtensions(){var allExtensions=[];for(var i=0;i<this.priorities$8Nsx.length;i++){var priority=this.priorities$8Nsx[i];var extensionsWithPriority=this.extensionsByPriority$8Nsx[priority];allExtensions=allExtensions.concat(extensionsWithPriority)}return allExtensions}function getExtension(model){return this.createActiveExtensionValueExpression$8Nsx(model).getValue()}function findExtension(model,
callback){var activeExtensionVE=this.createActiveExtensionValueExpression$8Nsx(model);activeExtensionVE.loadValue(callback)}function getContentTreeRelation(contentType){var allExtensions=this.getAllExtensions();for(var i=0;i<allExtensions.length;i++){var extension=allExtensions[i];var contentTreeRelation=extension.getContentTreeRelation();if(contentTreeRelation&&(contentTreeRelation.folderNodeType()===contentType||contentTreeRelation.leafNodeType()===contentType))return extension.getContentTreeRelation()}return this.getRepositoryCollectionViewExtension().getContentTreeRelation()}
function createActiveExtensionValueExpression(model){var this$=this;return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var applicableExtension=null;var hasUndecidedExtensions=false;for(var i=0;i<this$.priorities$8Nsx.length;i++){var priority=this$.priorities$8Nsx[i];var extensionsWithPriority=this$.extensionsByPriority$8Nsx[priority];for(var j=0;j<extensionsWithPriority.length;j++){var extension=extensionsWithPriority[j];var applicable=extension.isApplicable(model);
if(applicable===undefined)hasUndecidedExtensions=true;else if(applicable)applicableExtension=extension}if(!hasUndecidedExtensions&&applicableExtension)return applicableExtension}return hasUndecidedExtensions?undefined:applicableExtension})}function addExtension(extension,priority){if(arguments.length<=1)priority=1E3;if(this.priorities$8Nsx.indexOf(priority)===-1){this.priorities$8Nsx.push(priority);this.priorities$8Nsx.sort(function(a,b){return a-b})}if(!this.extensionsByPriority$8Nsx[priority])this.extensionsByPriority$8Nsx[priority]=
[];AS3.as(this.extensionsByPriority$8Nsx[priority],Array).push(extension);return this}return{repositoryCollectionViewExtension$8Nsx:null,constructor:CollectionViewExtender$,getRepositoryCollectionViewExtension:getRepositoryCollectionViewExtension,getAllExtensions:getAllExtensions,getExtension:getExtension,findExtension:findExtension,getContentTreeRelation:getContentTreeRelation,createActiveExtensionValueExpression$8Nsx:createActiveExtensionValueExpression,addExtension:addExtension,requires:["com.coremedia.ui.data.ValueExpressionFactory"],
uses:["com.coremedia.cms.editor.sdk.collectionview.RepositoryCollectionViewExtension"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.CollectionViewExtension",function(CollectionViewExtension){return{}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.CollectionViewManagerImpl",function(CollectionViewManagerImpl){var DRAG_DROP_MODEL_PROPERTY$static="$CollectionViewManagerImpl_dragDropModel";function libraryTreeModel_(){this.libraryTreeModel$ul9v=new com.coremedia.cms.editor.sdk.collectionview.tree.CompoundTreeModel}function CollectionViewManagerImpl$(){this.super$ul9v();libraryTreeModel_.call(this);var extension=com.coremedia.cms.editor.sdk.editorContext.getCollectionViewExtender().getRepositoryCollectionViewExtension();
this.repositoryListSorter$ul9v=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.sort.RepositoryListSorterImpl,extension.getRepositoryListSorter());this.repositoryTreeModel$ul9v=new com.coremedia.cms.editor.sdk.collectionview.tree.RepositoryTreeModel;this.addTreeModel(this.repositoryTreeModel$ul9v,new com.coremedia.cms.editor.sdk.collectionview.tree.RepositoryTreeDragDropModel(this.repositoryTreeModel$ul9v))}function addTreeFilter(treeFilter){this.libraryTreeModel$ul9v.addTreeFilter(treeFilter)}
function getFolderChildren(folder){var extension=com.coremedia.cms.editor.sdk.editorContext.getCollectionViewExtender().getExtension(folder);if(extension===undefined)return undefined;var listSorter=extension&&extension.getRepositoryListSorter();if(!listSorter)return[];var children=listSorter.getChildren(folder);if(children===undefined)return undefined;children=listSorter.filter(folder,children);if(children===undefined)return undefined;return listSorter.sort(folder,children)}function addTreeModel(treeModel,
dragDropModel){this.getLibraryTreeModel().addTreeModel(treeModel);treeModel[DRAG_DROP_MODEL_PROPERTY$static]=dragDropModel}function getActiveTreeModel(){var selection=this.getCollectionView().getSelectedFolderValueExpression().getValue();if(selection)return this.getLibraryTreeModel().getTreeModelForModel(selection);return null}function getDragDropModel(nodeId){var treeModel=this.getLibraryTreeModel().getTreeModel(nodeId);if(treeModel)return treeModel[DRAG_DROP_MODEL_PROPERTY$static];return null}function addRepositoryTreeRoot(content,
iconCls){if(arguments.length<=1)iconCls=null;this.repositoryTreeModel$ul9v.addExtraRootModel(content);if(iconCls)this.repositoryTreeModel$ul9v.setIconCls(content,iconCls);this.repositoryListSorter$ul9v.hideChild(content)}function getCollectionViewContainer(){return AS3.cast(com.coremedia.cms.editor.sdk.collectionview.CollectionViewContainer,com.coremedia.cms.editor.sdk.desktop.sidepanel.sidePanelManager.getOrCreateComponent(com.coremedia.cms.editor.sdk.collectionview.CollectionViewContainer.ID))}
function getCollectionView(){return AS3.as(this.getCollectionViewContainer().getComponent(com.coremedia.cms.editor.sdk.collectionview.CollectionView.COLLECTION_VIEW_ID),com.coremedia.cms.editor.sdk.collectionview.CollectionView)}function showInRepository(content,view,treeId){switch(Math.max(arguments.length,1)){case 1:view=null;case 2:treeId=null}this.openRepositoryInternal$ul9v(null,view);this.getCollectionView().showInRepositoryMode(content,treeId)}function getLibraryTreeModel(){return this.libraryTreeModel$ul9v}
function openSearch(state,reset,view){switch(arguments.length){case 0:state=null;case 1:reset=true;case 2:view=null}this.getCollectionViewContainer().show();var collectionViewModel=this.getCollectionView().getCollectionViewModel();collectionViewModel.setSearchState(reset,view,state);collectionViewModel.triggerSearch()}function openSearchForType(type,view,baseFolder){switch(Math.max(arguments.length,1)){case 1:view=null;case 2:baseFolder=null}var searchState=new com.coremedia.cms.editor.sdk.collectionview.SearchState;
searchState.contentType=type;searchState.folder=baseFolder;if(!view)if(com.coremedia.cms.editor.sdk.editorContext.getImageBlobProperty(type))view=com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants.THUMBNAILS_VIEW;else view=com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants.LIST_VIEW;this.openSearch(searchState,true,view)}function openRepository(state,reset,view){switch(arguments.length){case 0:state=null;case 1:reset=true;case 2:view=null}var folder;if(state&&state.folder)folder=
state.folder;else if(reset)folder=getInitialFolder$static();else{var mainStateBean=this.getCollectionView().getCollectionViewModel().getMainStateBean();folder=mainStateBean.get(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.FOLDER_PROPERTY)}this.openRepositoryInternal$ul9v(folder,view);this.getCollectionView().setOpenPath(folder)}function getInitialFolder$static(){var content;var preferredSite=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getPreferredSite();if(preferredSite)content=
preferredSite.getSiteRootFolder();else content=com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getRoot();return content}function openRepositoryInternal(folder,view){var mainStateBean=this.getCollectionView().getCollectionViewModel().getMainStateBean();var state={};state[com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.MODE_PROPERTY]=com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.REPOSITORY_MODE;state[com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.VIEW_PROPERTY]=
view||mainStateBean.get(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.VIEW_PROPERTY);if(folder)state[com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.FOLDER_PROPERTY]=folder;mainStateBean.updateProperties(state);this.getCollectionViewContainer().show()}function openWithMainState(state){if(arguments.length<=0)state=null;this.getCollectionViewContainer().show();if(state){var mainStateBean=this.getCollectionView().getCollectionViewModel().getMainStateBean();mainStateBean.updateProperties(state)}}
function openWithAllState(state){if(arguments.length<=0)state=null;this.getCollectionViewContainer().show();var collectionViewModel=this.getCollectionView().getCollectionViewModel();collectionViewModel.updateState(state)}return{extend:"Ext.util.Observable",mixins:["com.coremedia.cms.editor.sdk.collectionview.CollectionViewManagerInternal"],repositoryListSorter$ul9v:null,repositoryTreeModel$ul9v:null,constructor:CollectionViewManagerImpl$,super$ul9v:function(){Ext.util.Observable.prototype.constructor.apply(this,
arguments)},addTreeFilter:addTreeFilter,getFolderChildren:getFolderChildren,addTreeModel:addTreeModel,getActiveTreeModel:getActiveTreeModel,getDragDropModel:getDragDropModel,addRepositoryTreeRoot:addRepositoryTreeRoot,getCollectionViewContainer:getCollectionViewContainer,getCollectionView:getCollectionView,showInRepository:showInRepository,getLibraryTreeModel:getLibraryTreeModel,openSearch:openSearch,openSearchForType:openSearchForType,openRepository:openRepository,openRepositoryInternal$ul9v:openRepositoryInternal,
openWithMainState:openWithMainState,openWithAllState:openWithAllState,requires:["Ext.util.Observable","com.coremedia.cap.common.SESSION","com.coremedia.cms.editor.sdk.collectionview.CollectionViewManagerInternal"],uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionView","com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants","com.coremedia.cms.editor.sdk.collectionview.CollectionViewContainer","com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel","com.coremedia.cms.editor.sdk.collectionview.SearchState",
"com.coremedia.cms.editor.sdk.collectionview.sort.RepositoryListSorterImpl","com.coremedia.cms.editor.sdk.collectionview.tree.CompoundTreeModel","com.coremedia.cms.editor.sdk.collectionview.tree.RepositoryTreeDragDropModel","com.coremedia.cms.editor.sdk.collectionview.tree.RepositoryTreeModel","com.coremedia.cms.editor.sdk.desktop.sidepanel.sidePanelManager","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.CollectionSearchContextMenu",function(CollectionSearchContextMenu){function CollectionSearchContextMenu$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.menu.Menu,{});var defaults_$1=AS3.cast(CollectionSearchContextMenu,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.plain=true;var ui_HideObsoleteSeparatorsPlugin_76_5_$1=AS3.cast(com.coremedia.ui.plugins.HideObsoleteSeparatorsPlugin,{});config_$1.plugins=
[ui_HideObsoleteSeparatorsPlugin_76_5_$1];var menuItem_80_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_80_5_$1.itemId=net.jangaroo.ext.Exml.asString(CollectionSearchContextMenu.OPEN_IN_TAB_MENU_ITEM_ID);var editor_OpenInTabAction_82_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenInTabAction,{});AS3.setBindable(editor_OpenInTabAction_82_9_$1,"contentValueExpression",config.selectedItemsValueExpression);menuItem_80_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.OpenInTabAction(editor_OpenInTabAction_82_9_$1);
var menuItem_85_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_85_5_$1.itemId=net.jangaroo.ext.Exml.asString(CollectionSearchContextMenu.SHOW_IN_FOLDER_MENU_ITEM_ID);var editor_OpenInRepositoryAction_87_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenInRepositoryAction,{});AS3.setBindable(editor_OpenInRepositoryAction_87_9_$1,"contentValueExpression",config.selectedItemsValueExpression);menuItem_85_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.OpenInRepositoryAction(editor_OpenInRepositoryAction_87_9_$1);
var menuSeparator_90_5_$1=AS3.cast(Ext.menu.Separator,{});var editor_BookmarkMenuItem_91_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.bookmarks.BookmarkMenuItem,{});AS3.setBindable(editor_BookmarkMenuItem_91_5_$1,"contentValueExpression",config.selectedItemsValueExpression);var menuSeparator_92_5_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_93_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_93_5_$1.itemId=net.jangaroo.ext.Exml.asString(CollectionSearchContextMenu.COPY_TO_CLIPBOARD_ITEM_ID);var editor_CopyToClipboardAction_95_9_$1=
AS3.cast(com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction,{});AS3.setBindable(editor_CopyToClipboardAction_95_9_$1,"contentValueExpression",config.selectedItemsValueExpression);menuItem_93_5_$1.baseAction=new com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction(editor_CopyToClipboardAction_95_9_$1);var menuSeparator_98_5_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_99_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_99_5_$1.itemId=net.jangaroo.ext.Exml.asString(CollectionSearchContextMenu.RENAME_MENU_ITEM_ID);
var editor_RenameContentItemAction_101_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.RenameContentItemAction,{});AS3.setBindable(editor_RenameContentItemAction_101_9_$1,"contentValueExpression",config.selectedItemsValueExpression);menuItem_99_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.RenameContentItemAction(editor_RenameContentItemAction_101_9_$1);var menuSeparator_104_5_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_105_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_105_5_$1.itemId=
net.jangaroo.ext.Exml.asString(CollectionSearchContextMenu.APPROVE_MENU_ITEM_ID);var editor_ApproveAction_107_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ApproveAction,{});AS3.setBindable(editor_ApproveAction_107_9_$1,"contentValueExpression",config.selectedItemsValueExpression);menuItem_105_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.ApproveAction(editor_ApproveAction_107_9_$1);var menuItem_110_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_110_5_$1.itemId=net.jangaroo.ext.Exml.asString(CollectionSearchContextMenu.PUBLISH_MENU_ITEM_ID);
var editor_PublishAction_112_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.PublishAction,{});AS3.setBindable(editor_PublishAction_112_9_$1,"contentValueExpression",config.selectedItemsValueExpression);menuItem_110_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.PublishAction(editor_PublishAction_112_9_$1);var menuSeparator_115_5_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_116_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_116_5_$1.itemId=net.jangaroo.ext.Exml.asString(CollectionSearchContextMenu.WITHDRAW_MENU_ITEM_ID);
var editor_WithdrawAction_118_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.WithdrawAction,{});AS3.setBindable(editor_WithdrawAction_118_9_$1,"contentValueExpression",config.selectedItemsValueExpression);menuItem_116_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.WithdrawAction(editor_WithdrawAction_118_9_$1);var menuSeparator_121_5_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_122_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_122_5_$1.itemId=net.jangaroo.ext.Exml.asString(CollectionSearchContextMenu.UNDELETE_MENU_ITEM_ID);
var editor_UndeleteAction_124_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.UndeleteAction,{});AS3.setBindable(editor_UndeleteAction_124_9_$1,"contentValueExpression",config.selectedItemsValueExpression);menuItem_122_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.UndeleteAction(editor_UndeleteAction_124_9_$1);var menuItem_127_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_127_5_$1.itemId=net.jangaroo.ext.Exml.asString(CollectionSearchContextMenu.DELETE_MENU_ITEM_ID);var editor_DeleteAction_129_9_$1=
AS3.cast(com.coremedia.cms.editor.sdk.actions.DeleteAction,{});AS3.setBindable(editor_DeleteAction_129_9_$1,"contentValueExpression",config.selectedItemsValueExpression);menuItem_127_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.DeleteAction(editor_DeleteAction_129_9_$1);config_$1.items=[menuItem_80_5_$1,menuItem_85_5_$1,menuSeparator_90_5_$1,editor_BookmarkMenuItem_91_5_$1,menuSeparator_92_5_$1,menuItem_93_5_$1,menuSeparator_98_5_$1,menuItem_99_5_$1,menuSeparator_104_5_$1,menuItem_105_5_$1,
menuItem_110_5_$1,menuSeparator_115_5_$1,menuItem_116_5_$1,menuSeparator_121_5_$1,menuItem_122_5_$1,menuItem_127_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$XkUN(config_$1)}return{extend:"Ext.menu.Menu",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.collectionSearchContextMenu",selectedItemsValueExpression:null,constructor:CollectionSearchContextMenu$,super$XkUN:function(){Ext.menu.Menu.prototype.constructor.apply(this,arguments)},statics:{COPY_TO_CLIPBOARD_ITEM_ID:"copyToClipboard",
OPEN_IN_TAB_MENU_ITEM_ID:"openInTab",SHOW_IN_FOLDER_MENU_ITEM_ID:"showInFolder",APPROVE_MENU_ITEM_ID:"approve",RENAME_MENU_ITEM_ID:"rename",DISAPPROVE_MENU_ITEM_ID:"disapprove",PUBLISH_MENU_ITEM_ID:"publish",WITHDRAW_MENU_ITEM_ID:"withdraw",UNDELETE_MENU_ITEM_ID:"undelete",DELETE_MENU_ITEM_ID:"delete"},requires:["Ext.menu.Item","Ext.menu.Menu","Ext.menu.Separator","com.coremedia.ui.plugins.HideObsoleteSeparatorsPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.actions.ApproveAction",
"com.coremedia.cms.editor.sdk.actions.DeleteAction","com.coremedia.cms.editor.sdk.actions.OpenInRepositoryAction","com.coremedia.cms.editor.sdk.actions.OpenInTabAction","com.coremedia.cms.editor.sdk.actions.PublishAction","com.coremedia.cms.editor.sdk.actions.RenameContentItemAction","com.coremedia.cms.editor.sdk.actions.UndeleteAction","com.coremedia.cms.editor.sdk.actions.WithdrawAction","com.coremedia.cms.editor.sdk.bookmarks.BookmarkMenuItem","com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.SearchToolbarContainerBase",function(SearchToolbarContainerBase){function SearchToolbarContainerBase$(config){if(arguments.length<=0)config=null;this.super$3pbm(config);this.activeSearchToolbarExpression$3pbm=AS3.getBindable(config,"activeSearchToolbarExpression");var selectedFolderExpression=com.coremedia.ui.context.ComponentContextManager.getInstance().getContextExpression(this,com.coremedia.cms.editor.sdk.collectionview.CollectionView.SELECTED_FOLDER_VARIABLE_NAME);
selectedFolderExpression.addChangeListener(AS3.bind(this,"folderSelectionChanged$3pbm"));var repositorySearchToolbarContainer=AS3.as(this.queryById("repositorySearchToolbarContainer"),Ext.container.Container);this.on("resize",function(){repositorySearchToolbarContainer.updateLayout()})}function folderSelectionChanged(ve){var this$=this;var selection=ve.getValue();com.coremedia.cms.editor.sdk.editorContext.getCollectionViewExtender().findExtension(selection,function(extension){var toolbarItemId=extension&&
extension.getSearchToolbarItemId();if(toolbarItemId)this$.activeSearchToolbarExpression$3pbm.setValue(toolbarItemId);else this$.activeSearchToolbarExpression$3pbm.setValue("repositorySearchToolbarContainer")})}return{extend:"Ext.container.Container",metadata:{"":["PublicApi"]},activeSearchToolbarExpression$3pbm:null,constructor:SearchToolbarContainerBase$,super$3pbm:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},folderSelectionChanged$3pbm:folderSelectionChanged,requires:["Ext.container.Container",
"com.coremedia.ui.context.ComponentContextManager"],uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionView","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.FolderContentSwitchingContainerBase",function(FolderContentSwitchingContainerBase){function FolderContentSwitchingContainerBase$(config){if(arguments.length<=0)config=null;this.super$b3OU(config)}function isActiveView(component,view){var cmManger=AS3.as(com.coremedia.cms.editor.sdk.editorContext.getCollectionViewManager(),com.coremedia.cms.editor.sdk.collectionview.CollectionViewManagerInternal);var mainStateBean=cmManger.getCollectionView().getCollectionViewModel().getMainStateBean();
if(mainStateBean.get(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.VIEW_PROPERTY)===view){var parentId=component.getItemId();var selectedFolderContainer=this.getActiveItemValue();return parentId===selectedFolderContainer}return false}return{extend:"com.coremedia.cms.editor.sdk.collectionview.SortableSwitchingContainerBase",metadata:{"":["PublicApi"]},constructor:FolderContentSwitchingContainerBase$,super$b3OU:function(){com.coremedia.cms.editor.sdk.collectionview.SortableSwitchingContainerBase.prototype.constructor.apply(this,
arguments)},isActiveView:isActiveView,requires:["com.coremedia.cms.editor.sdk.collectionview.SortableSwitchingContainerBase"],uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionViewManagerInternal","com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.CollectionView",function(CollectionView){function COLLECTION_VIEW_FOOTER_TEXT$static_(){CollectionView.COLLECTION_VIEW_FOOTER_TEXT=new com.coremedia.ui.models.bem.BEMBlock("cm-collection-view-footer-item")}function __initialize__(config){com.coremedia.ui.util.ObservableUtil.init(this,config)}function CollectionView$(config){if(arguments.length<=0)config=null;this.__initialize__$cq1K(config);var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.CollectionViewBase,
{});var defaults_$1=AS3.cast(CollectionView,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1["ariaRole"]="region";config_$1["focusable"]=true;config_$1.defaultFocus=net.jangaroo.ext.Exml.asString(com.coremedia.ui.util.createComponentSelector().itemId(CollectionView.SEARCH_AREA_ITEM_ID).build());config_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","CollectionView_label"));config_$1["id"]=CollectionView.COLLECTION_VIEW_ID;
var editor_SearchArea_124_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.search.SearchArea,{});AS3.setBindable(editor_SearchArea_124_5_$1,"region","north");editor_SearchArea_124_5_$1.itemId=net.jangaroo.ext.Exml.asString(CollectionView.SEARCH_AREA_ITEM_ID);AS3.setBindable(editor_SearchArea_124_5_$1,"collectionViewModel",this.getCollectionViewModel());var ui_SwitchingContainer_127_5_$1=AS3.cast(com.coremedia.ui.components.SwitchingContainer,{});ui_SwitchingContainer_127_5_$1.itemId=net.jangaroo.ext.Exml.asString(CollectionView.COLLECTION_MODES_CONTAINER_ITEM_ID);
AS3.setBindable(ui_SwitchingContainer_127_5_$1,"layoutOnCardChange",true);AS3.setBindable(ui_SwitchingContainer_127_5_$1,"region","center");var editor_CollectionViewSearchContainer_131_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.CollectionViewSearchContainer,{});AS3.setBindable(editor_CollectionViewSearchContainer_131_9_$1,"selectedItemsValueExpression",this.getSelectedSearchItemsValueExpression());AS3.setBindable(editor_CollectionViewSearchContainer_131_9_$1,"selectedFolderValueExpression",
this.getSelectedFolderValueExpression());var editor_SearchToolbarContainer_134_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.SearchToolbarContainer,{});AS3.setBindable(editor_SearchToolbarContainer_134_13_$1,"region","north");AS3.setBindable(editor_SearchToolbarContainer_134_13_$1,"selectedItemsValueExpression",this.getSelectedSearchItemsValueExpression());AS3.setBindable(editor_SearchToolbarContainer_134_13_$1,"activeSearchToolbarExpression",this.getActiveSearchToolbarViewExpression());
var editor_SearchFiltersPanel_137_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.search.SearchFiltersPanel,{});var editor_SearchSwitchingContainer_138_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.SearchSwitchingContainer,{});AS3.setBindable(editor_SearchSwitchingContainer_138_13_$1,"region","center");editor_SearchSwitchingContainer_138_13_$1.itemId="searchSwitchingContainer";AS3.setBindable(editor_SearchSwitchingContainer_138_13_$1,"activeItemValueExpression",this.getActiveSearchListExpression());
var editor_SearchContainer_142_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.SearchContainer,{});editor_SearchContainer_142_17_$1.itemId="search-panel";var editor_SearchList_144_21_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.list.SearchList,{});editor_SearchList_144_21_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants.LIST_VIEW);var editor_SearchThumbnails_145_21_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.thumbnail.SearchThumbnails,
{});editor_SearchThumbnails_145_21_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants.THUMBNAILS_VIEW);editor_SearchContainer_142_17_$1.items=[editor_SearchList_144_21_$1,editor_SearchThumbnails_145_21_$1];var layout_Card_148_21_$1=AS3.cast(Ext.layout.container.Card,{});layout_Card_148_21_$1.deferredRender=true;AS3.setBindable(editor_SearchContainer_142_17_$1,"layout",layout_Card_148_21_$1);var ui_ValueExpression_151_21_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,
{});AS3.setBindable(ui_ValueExpression_151_21_$1,"expression","view");AS3.setBindable(ui_ValueExpression_151_21_$1,"context",this.getCollectionViewModel().getMainStateBean());AS3.setBindable(editor_SearchContainer_142_17_$1,"activeItemValueExpression",new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_151_21_$1));editor_SearchSwitchingContainer_138_13_$1.lazyItems=[editor_SearchContainer_142_17_$1];editor_CollectionViewSearchContainer_131_9_$1.items=[editor_SearchToolbarContainer_134_13_$1,
editor_SearchFiltersPanel_137_13_$1,editor_SearchSwitchingContainer_138_13_$1];var editor_ExtendedBorderLayout_159_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.layouts.ExtendedBorderLayout,{});AS3.setBindable(editor_ExtendedBorderLayout_159_13_$1,"showCollapsedTitles",["west"]);AS3.setBindable(editor_CollectionViewSearchContainer_131_9_$1,"layout",editor_ExtendedBorderLayout_159_13_$1);var editor_CollectionViewRepositoryContainer_162_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.CollectionViewRepositoryContainer,
{});AS3.setBindable(editor_CollectionViewRepositoryContainer_162_9_$1,"selectedItemsValueExpression",this.getSelectedItemsValueExpression());AS3.setBindable(editor_CollectionViewRepositoryContainer_162_9_$1,"selectedFolderValueExpression",this.getSelectedFolderValueExpression());var editor_RepositoryToolbarSwitchingContainer_165_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.RepositoryToolbarSwitchingContainer,{});AS3.setBindable(editor_RepositoryToolbarSwitchingContainer_165_13_$1,"region",
"north");editor_RepositoryToolbarSwitchingContainer_165_13_$1.itemId="toolbarSwitchingContainer";AS3.setBindable(editor_RepositoryToolbarSwitchingContainer_165_13_$1,"activeItemValueExpression",this.getActiveRepositoryToolbarExpression());var editor_RepositoryToolbarContainer_169_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.RepositoryToolbarContainer,{});editor_RepositoryToolbarContainer_169_17_$1.itemId="repositoryToolbar";AS3.setBindable(editor_RepositoryToolbarContainer_169_17_$1,
"selectedItemsValueExpression",this.getSelectedItemsValueExpression());AS3.setBindable(editor_RepositoryToolbarContainer_169_17_$1,"createdContentValueExpression",this.getCreatedContentValueExpression());editor_RepositoryToolbarSwitchingContainer_165_13_$1.lazyItems=[editor_RepositoryToolbarContainer_169_17_$1];var editor_LibraryTree_174_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.tree.LibraryTree,{});AS3.setBindable(editor_LibraryTree_174_13_$1,"region","west");editor_LibraryTree_174_13_$1.itemId=
net.jangaroo.ext.Exml.asString(CollectionView.TREE_ITEM_ID);AS3.setBindable(editor_LibraryTree_174_13_$1,"width",com.coremedia.cms.editor.sdk.collectionview.CollectionViewBase.getLibraryTreeWidth());editor_LibraryTree_174_13_$1["minSize"]=203;editor_LibraryTree_174_13_$1["maxSize"]=500;editor_LibraryTree_174_13_$1["floatable"]=false;editor_LibraryTree_174_13_$1["split"]={width:"3px",collapsible:false};AS3.setBindable(editor_LibraryTree_174_13_$1,"openPathValueExpression",this.getOpenPathValueExpression());
AS3.setBindable(editor_LibraryTree_174_13_$1,"createdContentValueExpression",this.getCreatedContentValueExpression());AS3.setBindable(editor_LibraryTree_174_13_$1,"containerComponent",this);editor_LibraryTree_174_13_$1.bodyBorder=false;editor_LibraryTree_174_13_$1.collapsible=true;editor_LibraryTree_174_13_$1.titleCollapse=true;editor_LibraryTree_174_13_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.PanelSkin.EMBEDDED.getSkin());editor_LibraryTree_174_13_$1.useArrows=true;editor_LibraryTree_174_13_$1.lines=
true;var plugins_BEMPlugin_191_17_$1=AS3.cast(com.coremedia.ui.plugins.BEMPlugin,{});AS3.setBindable(plugins_BEMPlugin_191_17_$1,"block","x-autowidth-table");editor_LibraryTree_174_13_$1.plugins=[plugins_BEMPlugin_191_17_$1];editor_LibraryTree_174_13_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var header_194_17_$1=AS3.cast(Ext.panel.Header,{});header_194_17_$1["focusableContainer"]=false;editor_LibraryTree_174_13_$1.header=header_194_17_$1;var editor_FolderContentSwitchingContainer_197_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.FolderContentSwitchingContainer,
{});AS3.setBindable(editor_FolderContentSwitchingContainer_197_13_$1,"region","center");editor_FolderContentSwitchingContainer_197_13_$1.itemId="listViewSwitchingContainer";AS3.setBindable(editor_FolderContentSwitchingContainer_197_13_$1,"activeItemValueExpression",this.getActiveFolderContentContainerExpression());var editor_FolderContentContainer_201_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.FolderContentContainer,{});editor_FolderContentContainer_201_17_$1.itemId=net.jangaroo.ext.Exml.asString(CollectionView.REPOSITORY_LIST_ITEM_ID);
AS3.setBindable(editor_FolderContentContainer_201_17_$1,"createdContentValueExpression",this.getCreatedContentValueExpression());AS3.setBindable(editor_FolderContentContainer_201_17_$1,"selectedRepositoryItemsValueExpression",this.getSelectedRepositoryItemsValueExpression());editor_FolderContentSwitchingContainer_197_13_$1.lazyItems=[editor_FolderContentContainer_201_17_$1];editor_CollectionViewRepositoryContainer_162_9_$1.items=[editor_RepositoryToolbarSwitchingContainer_165_13_$1,editor_LibraryTree_174_13_$1,
editor_FolderContentSwitchingContainer_197_13_$1];var editor_ExtendedBorderLayout_210_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.layouts.ExtendedBorderLayout,{});AS3.setBindable(editor_ExtendedBorderLayout_210_13_$1,"showCollapsedTitles",["west"]);AS3.setBindable(editor_CollectionViewRepositoryContainer_162_9_$1,"layout",editor_ExtendedBorderLayout_210_13_$1);ui_SwitchingContainer_127_5_$1.items=[editor_CollectionViewSearchContainer_131_9_$1,editor_CollectionViewRepositoryContainer_162_9_$1];var layout_Card_215_9_$1=
AS3.cast(Ext.layout.container.Card,{});layout_Card_215_9_$1.deferredRender=true;AS3.setBindable(ui_SwitchingContainer_127_5_$1,"layout",layout_Card_215_9_$1);var ui_ValueExpression_218_9_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_218_9_$1,"expression","mode");AS3.setBindable(ui_ValueExpression_218_9_$1,"context",this.getCollectionViewModel().getMainStateBean());AS3.setBindable(ui_SwitchingContainer_127_5_$1,"activeItemValueExpression",new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_218_9_$1));
var toolbar_223_5_$1=AS3.cast(Ext.toolbar.Toolbar,{});toolbar_223_5_$1.itemId=net.jangaroo.ext.Exml.asString(CollectionView.FOOTER_INFO_ITEM_ID);AS3.setBindable(toolbar_223_5_$1,"region","south");AS3.setBindable(toolbar_223_5_$1,"height",24);var tbText_227_9_$1=AS3.cast(Ext.toolbar.TextItem,{});tbText_227_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.CollectionViewBase.PATH_INFO_LABEL);var ui_BindPropertyPlugin_229_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,
{});ui_BindPropertyPlugin_229_13_$1.ifUndefined="";ui_BindPropertyPlugin_229_13_$1.componentProperty="text";ui_BindPropertyPlugin_229_13_$1.bindTo=this.getPathInfoExpression();ui_BindPropertyPlugin_229_13_$1.transformer=com.coremedia.ui.util.EncodingUtil.encodeForHTML;var ui_BindVisibilityPlugin_233_13_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_233_13_$1.bindTo=this.pathInfoLabelVisibleVE();var ui_BEMPlugin_234_13_$1=AS3.cast(com.coremedia.ui.plugins.BEMPlugin,
{});AS3.setBindable(ui_BEMPlugin_234_13_$1,"block",CollectionView.COLLECTION_VIEW_FOOTER_TEXT);tbText_227_9_$1.plugins=[ui_BindPropertyPlugin_229_13_$1,ui_BindVisibilityPlugin_233_13_$1,ui_BEMPlugin_234_13_$1];var tbText_237_9_$1=AS3.cast(Ext.toolbar.TextItem,{});tbText_237_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.CollectionViewBase.FOLDER_ITEMS);var ui_BindPropertyPlugin_239_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_239_13_$1.ifUndefined=
"";ui_BindPropertyPlugin_239_13_$1.componentProperty="text";ui_BindPropertyPlugin_239_13_$1.bindTo=this.getFolderChildrenCountVE();var ui_BindVisibilityPlugin_242_13_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_242_13_$1.bindTo=this.folderItemsTextVisibleVE();var ui_BEMPlugin_243_13_$1=AS3.cast(com.coremedia.ui.plugins.BEMPlugin,{});AS3.setBindable(ui_BEMPlugin_243_13_$1,"block",CollectionView.COLLECTION_VIEW_FOOTER_TEXT);tbText_237_9_$1.plugins=[ui_BindPropertyPlugin_239_13_$1,
ui_BindVisibilityPlugin_242_13_$1,ui_BEMPlugin_243_13_$1];var tbText_246_9_$1=AS3.cast(Ext.toolbar.TextItem,{});tbText_246_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.CollectionViewBase.TOTAL_HITS_LABEL);var ui_BindPropertyPlugin_248_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_248_13_$1.ifUndefined="";ui_BindPropertyPlugin_248_13_$1.componentProperty="text";ui_BindPropertyPlugin_248_13_$1.bindTo=this.getTotalHitsExpression();
var ui_BindVisibilityPlugin_251_13_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_251_13_$1.bindTo=this.totalHitsLabelVisibleVE();var ui_BEMPlugin_252_13_$1=AS3.cast(com.coremedia.ui.plugins.BEMPlugin,{});AS3.setBindable(ui_BEMPlugin_252_13_$1,"block",CollectionView.COLLECTION_VIEW_FOOTER_TEXT);AS3.setBindable(ui_BEMPlugin_252_13_$1,"modifier","right");tbText_246_9_$1.plugins=[ui_BindPropertyPlugin_248_13_$1,ui_BindVisibilityPlugin_251_13_$1,ui_BEMPlugin_252_13_$1];
toolbar_223_5_$1.items=[tbText_227_9_$1,tbText_237_9_$1,tbText_246_9_$1];config_$1.items=[editor_SearchArea_124_5_$1,ui_SwitchingContainer_127_5_$1,toolbar_223_5_$1];var editor_ExtendedBorderLayout_260_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.layouts.ExtendedBorderLayout,{});AS3.setBindable(editor_ExtendedBorderLayout_260_5_$1,"showCollapsedTitles",["west"]);AS3.setBindable(config_$1,"layout",editor_ExtendedBorderLayout_260_5_$1);var editor_ToggleFloatingWindowAction_264_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ToggleFloatingWindowAction,
{});AS3.setBindable(editor_ToggleFloatingWindowAction_264_5_$1,"component",this);AS3.setBindable(config_$1,"actionList",[new com.coremedia.cms.editor.sdk.actions.ToggleFloatingWindowAction(editor_ToggleFloatingWindowAction_264_5_$1)]);config_$1["actionList$at"]=net.jangaroo.ext.Exml.APPEND;var editor_FileDropPlugin_268_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.upload.FileDropPlugin,{});AS3.setBindable(editor_FileDropPlugin_268_5_$1,"folderValueExpression",com.coremedia.ui.context.ComponentContextManager.getInstance().getContextExpression(this,
CollectionView.SELECTED_FOLDER_VARIABLE_NAME));AS3.setBindable(editor_FileDropPlugin_268_5_$1,"onDragEndHandler",com.coremedia.cms.editor.sdk.collectionview.CollectionViewBase.onFileDragEnd);AS3.setBindable(editor_FileDropPlugin_268_5_$1,"onDragOverHandler",com.coremedia.cms.editor.sdk.collectionview.CollectionViewBase.onFileDragOver);AS3.setBindable(editor_FileDropPlugin_268_5_$1,"dropHandler",AS3.bind(this,"fileDropHandler"));AS3.setBindable(editor_FileDropPlugin_268_5_$1,"uploadDisabledExpression",
this.getUploadDisabledValueExpression());config_$1.plugins=[editor_FileDropPlugin_268_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$cq1K(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.collectionview.CollectionViewBase",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.collectionView",__initialize__$cq1K:__initialize__,constructor:CollectionView$,super$cq1K:function(){com.coremedia.cms.editor.sdk.collectionview.CollectionViewBase.prototype.constructor.apply(this,
arguments)},config:{state:null},statics:{MODEL_VARIABLE_NAME:"collectionViewModel",SEARCHRESULT_VARIABLE_NAME:"searchResult",SELECTED_FOLDER_VARIABLE_NAME:"selectedFolder",SELECTED_REPOSITORY_ITEMS_VARIABLE_NAME:"selectedRepositoryItems",SELECTED_ITEMS_VARIABLE_NAME:"selectedItems",SELECTED_SEARCH_ITEMS_VARIABLE_NAME:"selectedSearchItems",COLLECTION_MODES_CONTAINER_ITEM_ID:"collections-panel",SEARCH_AREA_ITEM_ID:"search-area",TREE_ITEM_ID:"library-tree",FOOTER_INFO_ITEM_ID:"collection-view-footer-info",
FILTER_ITEMS_CONTAINER:"filter-items-container",REPOSITORY_ITEMS_CONTAINER:"repository-items-container",REPOSITORY_LIST_ITEM_ID:"repository-panel",COLLECTION_VIEW_ID:"collection-view",LIBRARY_UPLOAD_OPEN_IN_TAB_DEFAULT:false,COLLECTION_VIEW_FOOTER_TEXT:undefined,__initStatics__:function(){COLLECTION_VIEW_FOOTER_TEXT$static_()}},requires:["Ext.layout.container.Card","Ext.panel.Header","Ext.toolbar.TextItem","Ext.toolbar.Toolbar","com.coremedia.cms.editor.sdk.collectionview.CollectionViewBase","com.coremedia.ui.components.SwitchingContainer",
"com.coremedia.ui.context.ComponentContextManager","com.coremedia.ui.exml.ValueExpression","com.coremedia.ui.models.bem.BEMBlock","com.coremedia.ui.plugins.BEMPlugin","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.BindVisibilityPlugin","com.coremedia.ui.skins.PanelSkin","com.coremedia.ui.util.EncodingUtil","com.coremedia.ui.util.ObservableUtil","com.coremedia.ui.util.createComponentSelector","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.actions.ToggleFloatingWindowAction",
"com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants","com.coremedia.cms.editor.sdk.collectionview.CollectionViewRepositoryContainer","com.coremedia.cms.editor.sdk.collectionview.CollectionViewSearchContainer","com.coremedia.cms.editor.sdk.collectionview.FolderContentContainer","com.coremedia.cms.editor.sdk.collectionview.FolderContentSwitchingContainer","com.coremedia.cms.editor.sdk.collectionview.RepositoryToolbarContainer","com.coremedia.cms.editor.sdk.collectionview.RepositoryToolbarSwitchingContainer",
"com.coremedia.cms.editor.sdk.collectionview.SearchContainer","com.coremedia.cms.editor.sdk.collectionview.SearchSwitchingContainer","com.coremedia.cms.editor.sdk.collectionview.SearchToolbarContainer","com.coremedia.cms.editor.sdk.collectionview.list.SearchList","com.coremedia.cms.editor.sdk.collectionview.search.SearchArea","com.coremedia.cms.editor.sdk.collectionview.search.SearchFiltersPanel","com.coremedia.cms.editor.sdk.collectionview.thumbnail.SearchThumbnails","com.coremedia.cms.editor.sdk.collectionview.tree.LibraryTree",
"com.coremedia.cms.editor.sdk.layouts.ExtendedBorderLayout","com.coremedia.cms.editor.sdk.upload.FileDropPlugin"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.SearchState",function(SearchState){function SearchState$(config){if(arguments.length<=0)config=null;Ext.apply(this,config);this.filters=config&&config.filters?Ext.apply({},config.filters):{}}function setFilter(filterId,state){this.filters[filterId]=state}return{metadata:{"":["PublicApi"]},constructor:SearchState$,setFilter:setFilter,requires:["Ext"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.RepositoryToolbarContainerBase",function(RepositoryToolbarContainerBase){function RepositoryToolbarContainerBase$(config){if(arguments.length<=0)config=null;this.super$4kcI(config)}return{extend:"Ext.container.Container",metadata:{"":["PublicApi"]},constructor:RepositoryToolbarContainerBase$,super$4kcI:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},requires:["Ext.container.Container"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.RepositoryCollectionViewExtension",function(RepositoryCollectionViewExtension){function repositoryContentTreeRelation_(){this.repositoryContentTreeRelation$N9JX=new com.coremedia.cms.editor.sdk.RepositoryContentTreeRelation}function RepositoryCollectionViewExtension$(){repositoryContentTreeRelation_.call(this);this.repositoryListSorter$N9JX=new com.coremedia.cms.editor.sdk.collectionview.sort.RepositoryListSorterImpl}function isApplicable(model){return AS3.is(model,
com.coremedia.cap.content.Content)}function getContentTreeRelation(){return this.repositoryContentTreeRelation$N9JX}function search(searchParameters,callback){var searchResult=com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getSearchService().search(searchParameters);callback.call(null,searchResult)}function getSearchOrSearchSuggestionsParameters(searchFilters,mainStateBean){var filterQueryFragments=[];for(var filterId in searchFilters)if(searchFilters.hasOwnProperty(filterId)){var searchFilter=
AS3.as(searchFilters[filterId],com.coremedia.cms.editor.sdk.collectionview.search.SearchFilter);var queryFragments=searchFilter.buildQuery();if(queryFragments)filterQueryFragments.push("("+queryFragments+")")}var searchText=mainStateBean.get(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.SEARCH_TEXT_PROPERTY);var contentType=mainStateBean.get(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.CONTENT_TYPE_PROPERTY);var folder=mainStateBean.get(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.FOLDER_PROPERTY);
var orderByProperty=mainStateBean.get(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.ORDER_BY_PROPERTY);var orderByAsArray=orderByProperty.split(",");if(orderByAsArray&&orderByAsArray.length>0){var firstOrderSorting=orderByAsArray[0];if(firstOrderSorting&&firstOrderSorting.indexOf("name")!==0)orderByAsArray=[firstOrderSorting,com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.ORDER_BY_NAME_ASC]}var searchParameters=AS3.cast(com.coremedia.cap.content.search.SearchParameters,
{});searchParameters.query=searchText||"";searchParameters.contentType=contentType?[contentType]:[];searchParameters.folder=folder?folder.getUriPath():null;searchParameters.orderBy=orderByAsArray;searchParameters.includeSubfolders=true;searchParameters.limit=10;if(filterQueryFragments.length>0)searchParameters.filterQuery=[filterQueryFragments.join(" AND ")];var excludeDoctypesQuery=com.coremedia.cms.editor.sdk.collectionview.search.SearchQueryUtil.buildExcludeContentTypesQuery();if(searchParameters.filterQuery)searchParameters.filterQuery.push(excludeDoctypesQuery);
else searchParameters.filterQuery=[excludeDoctypesQuery];var extensionSearchParams=this.applySearchParameters(folder,filterQueryFragments,searchParameters);if(extensionSearchParams)searchParameters=extensionSearchParams;return searchParameters}function getSearchSuggestionsUrl(){var searchService=com.coremedia.cms.editor.sdk.editorContext.getSession().getConnection().getContentRepository().getSearchService();return searchService.getSearchSuggestionsUri()}function getSearchViewItemId(){return null}
function getFolderContainerItemId(){return null}function isSearchable(){return true}function isUploadDisabledFor(folder){return false}function upload(files,folder,settings){com.coremedia.cms.editor.sdk.upload.UploadManager.upload(files,AS3.as(folder,com.coremedia.cap.content.Content),settings)}function getAvailableSearchTypes(folder){return com.coremedia.cms.editor.sdk.collectionview.search.ContentTypeSelectorBase.getAvailableContentTypeEntries()}function getRepositoryToolbarItemId(){return null}
function getRepositoryListSorter(){return this.repositoryListSorter$N9JX}function getSearchToolbarItemId(){return null}function getEnabledSearchFilterIds(){return com.coremedia.cms.editor.sdk.editorContext.getEnabledSearchFilterIds()}function getPathInfo(model){var selectedContent=AS3.as(model,com.coremedia.cap.content.Content);if(selectedContent.getParent())return selectedContent.getParent().getPath();else if(selectedContent.isDeleted()){var pathArray=[];var currentContent=selectedContent.getLastParent();
while(currentContent&&currentContent.isRoot()===false){var name=currentContent.getName();pathArray.push(name);if(currentContent.isDeleted())currentContent=currentContent.getLastParent();else currentContent=currentContent.getParent()}pathArray.reverse();return Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","CollectionView_contentState_deleted_text"),"/"+pathArray.join("/"))}return""}function applySearchParameters(folder,filterQueryFragments,
searchParameters){return null}return{mixins:["com.coremedia.cms.editor.sdk.collectionview.CollectionViewExtension"],repositoryListSorter$N9JX:null,constructor:RepositoryCollectionViewExtension$,isApplicable:isApplicable,getContentTreeRelation:getContentTreeRelation,search:search,getSearchOrSearchSuggestionsParameters:getSearchOrSearchSuggestionsParameters,getSearchSuggestionsUrl:getSearchSuggestionsUrl,getSearchViewItemId:getSearchViewItemId,getFolderContainerItemId:getFolderContainerItemId,isSearchable:isSearchable,
isUploadDisabledFor:isUploadDisabledFor,upload:upload,getAvailableSearchTypes:getAvailableSearchTypes,getRepositoryToolbarItemId:getRepositoryToolbarItemId,getRepositoryListSorter:getRepositoryListSorter,getSearchToolbarItemId:getSearchToolbarItemId,getEnabledSearchFilterIds:getEnabledSearchFilterIds,getPathInfo:getPathInfo,applySearchParameters:applySearchParameters,requires:["Ext.String","com.coremedia.cap.common.SESSION","com.coremedia.cap.content.Content","com.coremedia.cap.content.search.SearchParameters",
"com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.collectionview.CollectionViewExtension","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.RepositoryContentTreeRelation","com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel","com.coremedia.cms.editor.sdk.collectionview.search.ContentTypeSelectorBase","com.coremedia.cms.editor.sdk.collectionview.search.SearchFilter","com.coremedia.cms.editor.sdk.collectionview.search.SearchQueryUtil","com.coremedia.cms.editor.sdk.collectionview.sort.RepositoryListSorterImpl",
"com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.upload.UploadManager"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.RepositoryToolbarContainer",function(RepositoryToolbarContainer){function RepositoryToolbarContainer$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.RepositoryToolbarContainerBase,{});var defaults_$1=AS3.cast(RepositoryToolbarContainer,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.itemId="repositoryToolbar";var editor_RepositoryToolbar_37_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.RepositoryToolbar,
{});AS3.setBindable(editor_RepositoryToolbar_37_5_$1,"margin","1 0 0");editor_RepositoryToolbar_37_5_$1.itemId=net.jangaroo.ext.Exml.asString(RepositoryToolbarContainer.TOOLBAR_ITEM_ID);editor_RepositoryToolbar_37_5_$1.defaultButtonUI=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.TOOLBAR.getSkin());AS3.setBindable(editor_RepositoryToolbar_37_5_$1,"selectedItemsValueExpression",AS3.getBindable(config,"selectedItemsValueExpression"));AS3.setBindable(editor_RepositoryToolbar_37_5_$1,
"createdContentValueExpression",AS3.getBindable(config,"createdContentValueExpression"));var toolbar_42_5_$1=AS3.cast(Ext.toolbar.Toolbar,{});toolbar_42_5_$1.itemId="switchViewButtonsToolbar";toolbar_42_5_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","CollectionView_switchView_toolbar_label"));toolbar_42_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.LIGHT.getSkin());var editor_SwitchViewButtonsContainer_46_9_$1=
AS3.cast(com.coremedia.cms.editor.sdk.collectionview.SwitchViewButtonsContainer,{});toolbar_42_5_$1.items=[editor_SwitchViewButtonsContainer_46_9_$1];config_$1.items=[editor_RepositoryToolbar_37_5_$1,toolbar_42_5_$1];var layout_HBox_51_5_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(config_$1,"layout",layout_HBox_51_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$RUSX(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.collectionview.RepositoryToolbarContainerBase",metadata:{"":["PublicApi"]},
alias:"widget.com.coremedia.cms.editor.sdk.config.repositoryToolbarContainer",constructor:RepositoryToolbarContainer$,super$RUSX:function(){com.coremedia.cms.editor.sdk.collectionview.RepositoryToolbarContainerBase.prototype.constructor.apply(this,arguments)},config:{selectedItemsValueExpression:null,createdContentValueExpression:null},statics:{TOOLBAR_ITEM_ID:"repositoryToolbar"},requires:["Ext.layout.container.HBox","Ext.toolbar.Toolbar","com.coremedia.cms.editor.sdk.collectionview.RepositoryToolbarContainerBase",
"com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.ToolbarSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.collectionview.RepositoryToolbar","com.coremedia.cms.editor.sdk.collectionview.SwitchViewButtonsContainer"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.DocTypeMenu",function(DocTypeMenu){var DOC_TYPE_MENU_BLOCK$static="cm-doctype-menu";function DocTypeMenu$(config){if(arguments.length<=0)config=null;config.cls=DOC_TYPE_MENU_BLOCK$static;this.super$mcZ0(processConfig$static(config||{}))}function processConfig$static(config){if(!AS3.getBindable(config,"createdContentValueExpression"))throw new AS3.Error("Error");var beanValueExpression=AS3.getBindable(config,"createdContentValueExpression");var concreteDocumentTypes=
com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getConcreteDocumentTypes();var creatableDocumentTypes=com.coremedia.cms.editor.sdk.collectionview.CollectionViewUtil.applyBlacklist(concreteDocumentTypes,com.coremedia.cms.editor.sdk.editorContext.getExcludedDocumentTypes());var newContentActions=[];var docTypeCollection=new Ext.util.MixedCollection;docTypeCollection.addAll(creatableDocumentTypes);docTypeCollection.sortBy(sortByDocTypeName$static);docTypeCollection.each(function(documentType){var newContentActionCfg=
AS3.cast(com.coremedia.cms.editor.sdk.actions.NewContentAction,{});AS3.setBindable(newContentActionCfg,"hideWhenDisabled",true);AS3.setBindable(newContentActionCfg,"folderValueExpression",AS3.getBindable(config,"folderValueExpression"));AS3.setBindable(newContentActionCfg,"createdContentValueExpression",beanValueExpression);AS3.setBindable(newContentActionCfg,"contentType",documentType);AS3.setBindable(newContentActionCfg,"text",com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.localizeDocumentTypeName(documentType.getName()));
AS3.setBindable(newContentActionCfg,"iconCls","content-type-xs "+com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.getIconStyleClassForContentType(documentType));newContentActions.push(new com.coremedia.cms.editor.sdk.actions.NewContentAction(newContentActionCfg))});return AS3.cast(DocTypeMenu,Ext.apply(config,{items:newContentActions}))}function sortByDocTypeName$static(lhs,rhs){var lhsName=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.localizeDocumentTypeName(lhs.getName()).toLowerCase();
var rhsName=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.localizeDocumentTypeName(rhs.getName()).toLowerCase();if(lhsName===rhsName){if(lhsName===rhsName)return 0;return lhsName<rhsName?-1:1}return lhsName<rhsName?-1:1}return{extend:"Ext.menu.Menu",alias:"widget.com.coremedia.cms.editor.sdk.config.docTypeMenu",constructor:DocTypeMenu$,super$mcZ0:function(){Ext.menu.Menu.prototype.constructor.apply(this,arguments)},config:{createdContentValueExpression:null,folderValueExpression:null},
requires:["AS3.Error","Ext","Ext.menu.Menu","Ext.util.MixedCollection","com.coremedia.cap.common.SESSION"],uses:["com.coremedia.cms.editor.sdk.actions.NewContentAction","com.coremedia.cms.editor.sdk.collectionview.CollectionViewUtil","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.collectionview.RepositoryState",function(RepositoryState){function RepositoryState$(){}return{metadata:{"":["PublicApi"]},constructor:RepositoryState$}});Ext.define("com.coremedia.cms.editor.sdk.desktop.HeaderToolbarUserMenuBase",function(HeaderToolbarUserMenuBase){function HeaderToolbarUserMenuBase$(config){if(arguments.length<=0)config=null;this.super$d4rT(config)}function getCMSVersion$static(){return com.coremedia.cap.common.SESSION.getConnection().getLoginService().getVersion()}return{extend:"Ext.menu.Menu",constructor:HeaderToolbarUserMenuBase$,super$d4rT:function(){Ext.menu.Menu.prototype.constructor.apply(this,arguments)},statics:{getCMSVersion:getCMSVersion$static},
requires:["Ext.menu.Menu","com.coremedia.cap.common.SESSION"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.WorkAreaTabManagerPlugin",function(WorkAreaTabManagerPlugin){function WorkAreaTabManagerPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.WorkAreaTabManagerPluginBase,{});var defaults_$1=AS3.cast(WorkAreaTabManagerPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$9p0r(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.desktop.WorkAreaTabManagerPluginBase",
constructor:WorkAreaTabManagerPlugin$,super$9p0r:function(){com.coremedia.cms.editor.sdk.desktop.WorkAreaTabManagerPluginBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.desktop.WorkAreaTabManagerPluginBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.WorkAreaTabTypeAware",function(WorkAreaTabTypeAware){return{}});Ext.define("com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelManagerImpl",function(SidePanelManagerImpl){function items_(){this.items$Snwj={}}function itemXTypes_(){this.itemXTypes$Snwj={}}function sidePanels_(){this.sidePanels$Snwj={}}function itemStates_(){this.itemStates$Snwj={}}function addItemCallbacks_(){this.addItemCallbacks$Snwj={}}function SidePanelManagerImpl$(){items_.call(this);itemXTypes_.call(this);sidePanels_.call(this);itemStates_.call(this);addItemCallbacks_.call(this);this.readState$Snwj()}
function createDefaults$static(){var panelCfg=AS3.cast(Ext.panel.Panel,{});panelCfg["minWidth"]=300;panelCfg["minHeight"]=200;AS3.setBindable(panelCfg,"width",400);AS3.setBindable(panelCfg,"height",300);panelCfg["header"]=false;return panelCfg}function init(){this.initVisibleItems$Snwj()}function readState(){this.itemStates$Snwj=Ext.JSON.decode(com.coremedia.ui.util.LocalStorageUtil.getItem("side-panel-manager"))||{}}function storeParent(id){var item=this.items$Snwj[id];if(this.itemStates$Snwj[id])this.itemStates$Snwj[id].parent=
this.getParentId$Snwj(item);else this.itemStates$Snwj[id]={parent:this.getParentId$Snwj(item),visible:false};this.storeState$Snwj()}function storeVisibility(id,visible){var item=this.items$Snwj[id];if(this.itemStates$Snwj[id])this.itemStates$Snwj[id].visible=visible;else this.itemStates$Snwj[id]={parent:this.getParentId$Snwj(item),visible:visible};this.storeState$Snwj()}function storeState(){com.coremedia.ui.util.LocalStorageUtil.setItem("side-panel-manager",Ext.JSON.encode(this.itemStates$Snwj))}
function getParentId(item){var parent=item.findParentBy(function(container,item){return AS3.is(container,com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelFloatingWindow)||AS3.is(container,com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanel)});return parent&&parent.getId()}function initVisibleItems(){for(var id in this.itemStates$Snwj){var itemState=this.itemStates$Snwj[id];if(itemState&&itemState.visible){var item=this.getOrCreateComponent(id);if(item)item.show();else delete this.itemStates$Snwj[id]}}}
function registerComponent(id,xtype){this.itemXTypes$Snwj[id]=xtype}function getComponent(id){return this.items$Snwj[id]}function getOrCreateComponent(id){return this.getComponent(id)||this.createItem$Snwj(id)}function getComponentOnCreation(id,callback){var item=this.getComponent(id);if(item)com.coremedia.ui.util.EventUtil.invokeLater(callback(item));else if(this.addItemCallbacks$Snwj[id])Array(this.addItemCallbacks$Snwj[id]).push(callback);else this.addItemCallbacks$Snwj[id]=[callback]}function createItem(id){var this$=
this;var xtype=this.itemXTypes$Snwj[id];if(!xtype){com.coremedia.ui.logging.Logger.warn("No component registered with id "+id);return null}else{var newItem=Ext.ComponentManager.create({id:id},xtype);applyDefaults$static(newItem,createDefaults$static());var isVisibleOrig=AS3.bind(newItem,"isVisible");newItem.isVisible=function(deep){return isVisibleOrig.apply(newItem,[true])};this.registerItem(newItem);this.monitorItem$Snwj(id,newItem);var mainView=Ext.getCmp("main");var itemState=this.itemStates$Snwj[id];
if(mainView)if(mainView.rendered)this.addItemToPanelOrWindow$Snwj(id,newItem,itemState);else mainView.mon(mainView,"afterrender",function(){this$.addItemToPanelOrWindow$Snwj(id,newItem,itemState)},null,{single:true});else com.coremedia.ui.logging.Logger.warn("Could not add item "+id);return newItem}}function registerItem(newItem){this.items$Snwj[AS3.getBindable(newItem,"id","DUMMY")]=newItem}function resetItems(){this.items$Snwj={}}function applyDefaults$static(obj,defaults){for(var key in defaults)if(!obj[key])obj[key]=
defaults[key]}function monitorItem(id,newItem){var this$=this;newItem.mon(newItem,"added",function(){this$.storeParent$Snwj(id)});newItem.mon(newItem,"show",function(){this$.storeVisibility$Snwj(id,true)});newItem.mon(newItem,"hide",function(){this$.storeVisibility$Snwj(id,false)})}function addItemToPanelOrWindow(id,newItem,itemState){var parentId=itemState&&itemState.parent;var sidePanelFloatingWindowConfig=AS3.cast(com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelFloatingWindow,{});sidePanelFloatingWindowConfig.items=
[newItem];if(parentId)if(this.getSidePanel(parentId))this.getSidePanel(parentId).addItem(newItem);else new com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelFloatingWindow(sidePanelFloatingWindowConfig);else if(newItem.initialConfig.docked){var sidePanels=this.getSidePanels();var sidePanel=sidePanels&&sidePanels.length>0&&sidePanels[0];if(sidePanel)sidePanel.addItem(newItem);else new com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelFloatingWindow(sidePanelFloatingWindowConfig)}else new com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelFloatingWindow(sidePanelFloatingWindowConfig);
var callbacks=this.addItemCallbacks$Snwj[id]||[];for(var i=0;i<callbacks.length;i++){var callback=callbacks[i];callback(newItem,id)}delete this.addItemCallbacks$Snwj[id]}function registerSidePanel(id,sidePanel){this.sidePanels$Snwj[id]=sidePanel}function getSidePanel(id){return this.sidePanels$Snwj[id]}function getSidePanels(){var sidePanelArray=[];for(var id in this.sidePanels$Snwj)sidePanelArray.push(this.sidePanels$Snwj[id]);return sidePanelArray}function dock(id){var toDock=this.getComponent(id);
if(toDock){var parent=AS3.as(toDock.up(),Ext.window.Window);if(parent){var sidePanels=this.getSidePanels();if(sidePanels.length>0){var sidePanel=sidePanels[0];sidePanel.dockItem(parent)}}}}function onDragFloatingWindow(w,e){for(var id in this.sidePanels$Snwj){var sidePanel=this.sidePanels$Snwj[id];sidePanel.onDragFloatingWindow(w,e)}}function endDragFloatingWindow(w,e){var willDock=false;for(var id in this.sidePanels$Snwj){var sidePanel=this.sidePanels$Snwj[id];willDock=willDock||sidePanel.endDragFloatingWindow(w,
e)}return willDock}function onDragSidePanel(draggedPanel,e){for(var id in this.sidePanels$Snwj){var sidePanel=this.sidePanels$Snwj[id];sidePanel.onDragSidePanel(draggedPanel,e)}}function endDragSidePanel(draggedPanel,e){var willDock=false;for(var id in this.sidePanels$Snwj){var sidePanel=this.sidePanels$Snwj[id];willDock=willDock||sidePanel.endDragSidePanel(draggedPanel,e)}return willDock}function reRegisterFloatings$static(rootItem){var floatings=rootItem.isFloating()?[rootItem]:[];if(AS3.is(rootItem,
Ext.container.Container))floatings=floatings.concat(AS3.as(rootItem,Ext.container.Container).query("component[floating\x3dtrue]"));floatings.forEach(function(floating){floating["registerWithOwnerCt"]()})}return{mixins:["com.coremedia.cms.editor.sdk.desktop.sidepanel.ISidePanelManager"],constructor:SidePanelManagerImpl$,init:init,readState$Snwj:readState,storeParent$Snwj:storeParent,storeVisibility$Snwj:storeVisibility,storeState$Snwj:storeState,getParentId$Snwj:getParentId,initVisibleItems$Snwj:initVisibleItems,
registerComponent:registerComponent,getComponent:getComponent,getOrCreateComponent:getOrCreateComponent,getComponentOnCreation:getComponentOnCreation,createItem$Snwj:createItem,registerItem:registerItem,resetItems:resetItems,monitorItem$Snwj:monitorItem,addItemToPanelOrWindow$Snwj:addItemToPanelOrWindow,registerSidePanel:registerSidePanel,getSidePanel:getSidePanel,getSidePanels:getSidePanels,dock:dock,onDragFloatingWindow:onDragFloatingWindow,endDragFloatingWindow:endDragFloatingWindow,onDragSidePanel:onDragSidePanel,
endDragSidePanel:endDragSidePanel,statics:{reRegisterFloatings:reRegisterFloatings$static},requires:["Ext","Ext.ComponentManager","Ext.JSON","Ext.container.Container","Ext.panel.Panel","Ext.window.Window","com.coremedia.cms.editor.sdk.desktop.sidepanel.ISidePanelManager","com.coremedia.ui.logging.Logger","com.coremedia.ui.util.EventUtil","com.coremedia.ui.util.LocalStorageUtil"],uses:["com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanel","com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelFloatingWindow"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.sidepanel.ToggleComponentInSidePanelActionBase",function(ToggleComponentInSidePanelActionBase){function ToggleComponentInSidePanelActionBase$(config){if(arguments.length<=0)config=null;this.super$A0rp(config);this.componentId$A0rp=AS3.getBindable(config,"componentId");if(!this.componentId$A0rp)throw AS3.cast(AS3.Error,"Missing config: componentId");}function focusComponent$static(cmp){cmp.isFocusable(true)&&cmp.focus()}function addComponent(comp){var this$=
this;com.coremedia.ui.actions.ToggleComponentAction.prototype.addComponent.call(this,comp);comp.on("render",AS3.bind(this,"addDropTarget$A0rp"));if(this.items.length===1)com.coremedia.cms.editor.sdk.desktop.sidepanel.sidePanelManager.getComponentOnCreation(this.componentId$A0rp,function(sidePanelComp){sidePanelComp.on("show",AS3.bind(this$,"onShow$A0rp"));sidePanelComp.on("hide",AS3.bind(this$,"onHide$A0rp"));AS3.setBindable(this$,"pressed",sidePanelComp.isVisible(true))})}function addDropTarget(comp){var this$=
this;new com.coremedia.cms.editor.sdk.desktop.sidepanel.ShowInSidePanelDropTarget(comp,function(){AS3.setBindable(this$,"pressed",true)})}function removeComponent(comp){var this$=this;com.coremedia.ui.actions.ToggleComponentAction.prototype.removeComponent.call(this,comp);if(this.items.length===0)com.coremedia.cms.editor.sdk.desktop.sidepanel.sidePanelManager.getComponentOnCreation(this.componentId$A0rp,function(sidePanelComp){sidePanelComp.un("show",AS3.bind(this$,"onShow$A0rp"));sidePanelComp.un("hide",
AS3.bind(this$,"onHide$A0rp"));AS3.setBindable(this$,"pressed",sidePanelComp.isVisible(true))})}function onShow(){AS3.setBindable(this,"pressed",true)}function onHide(){AS3.setBindable(this,"pressed",false)}function pressHandler(){com.coremedia.ui.actions.ToggleComponentAction.prototype.pressHandler.call(this);var comp=com.coremedia.cms.editor.sdk.desktop.sidepanel.sidePanelManager.getOrCreateComponent(this.componentId$A0rp);if(!comp.isVisible(true)){var wasTriggeredByUser=this.triggeredByUser;comp.show();
if(comp.isVisible(true))focusComponent$static(comp);else comp.on("show",function(){if(wasTriggeredByUser)focusComponent$static(comp)},null,{single:true})}}function unpressHandler(){com.coremedia.ui.actions.ToggleComponentAction.prototype.unpressHandler.call(this);var comp=com.coremedia.cms.editor.sdk.desktop.sidepanel.sidePanelManager.getOrCreateComponent(this.componentId$A0rp);if(comp.isVisible(true))comp.hide()}return{extend:"com.coremedia.ui.actions.ToggleComponentAction",componentId$A0rp:null,
constructor:ToggleComponentInSidePanelActionBase$,super$A0rp:function(){com.coremedia.ui.actions.ToggleComponentAction.prototype.constructor.apply(this,arguments)},addComponent:addComponent,addDropTarget$A0rp:addDropTarget,removeComponent:removeComponent,onShow$A0rp:onShow,onHide$A0rp:onHide,pressHandler:pressHandler,unpressHandler:unpressHandler,requires:["AS3.Error","com.coremedia.ui.actions.ToggleComponentAction"],uses:["com.coremedia.cms.editor.sdk.desktop.sidepanel.ShowInSidePanelDropTarget",
"com.coremedia.cms.editor.sdk.desktop.sidepanel.sidePanelManager"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanel",function(SidePanel){function SidePanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelBase,{});var defaults_$1=AS3.cast(SidePanel,{});AS3.setBindable(defaults_$1,"dropZoneThresholdPixel",25);config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"title","Side Panel Window");AS3.setBindable(config_$1,"hidden",true);AS3.setBindable(config_$1,
"border",false);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.PanelSkin.DOCKED.getSkin());var ui_SwitchingContainer_46_5_$1=AS3.cast(com.coremedia.ui.components.SwitchingContainer,{});ui_SwitchingContainer_46_5_$1.itemId="switching-container";AS3.setBindable(ui_SwitchingContainer_46_5_$1,"region","center");AS3.setBindable(ui_SwitchingContainer_46_5_$1,"activeItemValueExpression",this.getActiveItemValueExpression());ui_SwitchingContainer_46_5_$1.bubbleEvents=["show","hide","activeItem"];
config_$1.items=[ui_SwitchingContainer_46_5_$1];var layout_Fit_53_5_$1=AS3.cast(Ext.layout.container.Fit,{});AS3.setBindable(config_$1,"layout",layout_Fit_53_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$xAoW(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelBase",alias:"widget.com.coremedia.cms.editor.sdk.config.sidePanel",constructor:SidePanel$,super$xAoW:function(){com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelBase.prototype.constructor.apply(this,
arguments)},config:{dropZone:null,dropZoneThresholdPixel:NaN},requires:["Ext.layout.container.Fit","com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelBase","com.coremedia.ui.components.SwitchingContainer","com.coremedia.ui.skins.PanelSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelBase",function(SidePanelBase){function SidePanelBase$(config){if(arguments.length<=0)config=null;this.dropZoneThresholdPixel$fDUH=AS3.getBindable(config,"dropZoneThresholdPixel");this.super$fDUH(AS3.cast(Ext.panel.Panel,Ext.apply({draggable:this.createDraggable$fDUH()},config)));this.switchingContainer$fDUH=AS3.cast(com.coremedia.ui.components.SwitchingContainer,this.getComponent("switching-container"));this.switchingContainer$fDUH.mon(this.switchingContainer$fDUH,
"beforeremove",AS3.bind(this,"onSwitchingContainerBeforeRemove$fDUH"));this.on("afterrender",AS3.bind(this,"onAfterRender$fDUH"));this.on("show",AS3.bind(this,"onShowInternal$fDUH"));this.on("hide",AS3.bind(this,"onHideInternal$fDUH"));AS3.cast(com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelManagerImpl,com.coremedia.cms.editor.sdk.desktop.sidepanel.sidePanelManager).registerSidePanel(AS3.getBindable(config,"id","DUMMY")||AS3.getBindable(config,"itemId","DUMMY")||this.getItemId(),AS3.cast(com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanel,
this))}function onAfterRender(){this.disableHeaderContextMenu$fDUH()}function onShowInternal(comp){var this$=this;var activeItem=this.getActiveItem();if(comp===this){if(activeItem){activeItem.events["show"].bubble=false;activeItem.show();activeItem.events["show"].bubble=true}}else if(comp===activeItem){this.rendered&&this.suspendEvents(false);this.show();this.rendered&&this.resumeEvents();this.doLayoutMainView$fDUH()}else{comp.on("activate",function(cmp){if(cmp.up()===this$.switchingContainer$fDUH)this$.onShowInternal$fDUH(cmp)},
null,{single:true});this.setActiveContainerItem(comp)}}function onHideInternal(comp){var activeItem=this.getActiveItem();if(comp===this)if(activeItem){activeItem.events["hide"].bubble=false;activeItem.hide();activeItem.events["hide"].bubble=true}else this.doLayoutMainView$fDUH();else if(comp===activeItem){this.rendered&&this.suspendEvents(false);this.hide();this.rendered&&this.resumeEvents();this.doLayoutMainView$fDUH()}}function onSwitchingContainerBeforeRemove(container,component){component.mun(component,
"titlechange",AS3.bind(this,"onTitleChange$fDUH"));this.getActiveItemValueExpression().setValue(null)}function disableHeaderContextMenu(){this.mon(this.header,"contextmenu",com.coremedia.ui.util.ContextMenuUtil.disableContextMenu);this.mun(this,"afterrender",AS3.bind(this,"disableHeaderContextMenu$fDUH"))}function getActiveItem(){var activeItemId=this.getActiveItemValueExpression().getValue();return activeItemId?this.switchingContainer$fDUH.getComponent(activeItemId):null}function setActiveContainerItem(item){var component;
if(AS3.is(item,String))component=this.switchingContainer$fDUH.getComponent(item);else if(AS3.is(item,Ext.Component)&&AS3.cast(Ext.Component,item).up()===this.switchingContainer$fDUH)component=item;if(!component)component=this.addItem(item);var activeItem=this.getActiveItem();activeItem&&activeItem.mun(activeItem,"titlechange",AS3.bind(this,"onTitleChange$fDUH"));this.show();component["hidden"]=true;this.getActiveItemValueExpression().setValue(component.getId());this.setTitle(component["title"]||"");
component.mon(component,"titlechange",AS3.bind(this,"onTitleChange$fDUH"));AS3.setBindable(this,"minWidth",component.initialConfig.minWidth);return component}function onTitleChange(component,title){this.setTitle(title)}function getActiveItemValueExpression(){return this.activeItemValueExpression$fDUH||(this.activeItemValueExpression$fDUH=com.coremedia.ui.data.ValueExpressionFactory.createFromValue())}function addItem(item){var component=this.switchingContainer$fDUH.add(item);com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelManagerImpl.reRegisterFloatings(item);
component.enableBubble(["beforeshow","show","hide"]);return component}function createDraggable(){var this$=this;var that=AS3.cast(com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanel,this);var draggable={insertProxy:false,startDrag:function(e){com.coremedia.ui.components.IFrameMgr.getInstance().showShims()},onDrag:function(e){AS3.cast(com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelManagerImpl,com.coremedia.cms.editor.sdk.desktop.sidepanel.sidePanelManager).onDragSidePanel(that,e)},endDrag:function(e){arguments=
Array.prototype.slice.call(arguments);if(e){var movedToOtherSidePanel=AS3.cast(com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelManagerImpl,com.coremedia.cms.editor.sdk.desktop.sidepanel.sidePanelManager).endDragSidePanel(that,e);movedToOtherSidePanel||this$.undockActiveItem$fDUH(e);com.coremedia.ui.components.IFrameMgr.getInstance().hideShims()}AS3.cast(Function,window.Ext.panel.DD["prototype"].endDrag).apply(this,arguments);movedToOtherSidePanel&&Ext.getCmp(com.coremedia.cms.editor.sdk.desktop.EditorMainView.ID).updateLayout()}};
return draggable}function undockActiveItem(e){var itemToUndock=this.getActiveItem();this.undockItem(itemToUndock,e.getX(),e.getY())}function undockItem(itemToUndock,x,y){this.getActiveItemValueExpression().setValue(null);var config=AS3.cast(com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelFloatingWindow,{});if(x!==undefined||y!==undefined){AS3.setBindable(config,"x",x);AS3.setBindable(config,"y",y)}config.items=[itemToUndock];this.hide();var window=AS3.cast(Ext.window.Window,Ext.ComponentManager.create(config));
window.show();itemToUndock.updateLayout()}function onDragFloatingWindow(w,e){this.onDrag$fDUH(e)}function endDragFloatingWindow(w,e){if(this.isInDropZone$fDUH(e.getX(),e.getY())){this.highlightDropZone$fDUH(false);this.dockItem(w);return true}return false}function dockItem(w){var component=w.getComponent(0);w.remove(component,{destroy:false,detach:true});this.setActiveContainerItem(component);w.destroy()}function onDragSidePanel(draggedPanel,e){this.onDrag$fDUH(e)}function endDragSidePanel(draggedPanel,
e){if(this.isInDropZone$fDUH(e.getX(),e.getY())){this.highlightDropZone$fDUH(false);if(draggedPanel===this)return true;var item=draggedPanel.getActiveItem();if(!item)return false;this.setActiveContainerItem(item);com.coremedia.ui.util.EventUtil.invokeLater(AS3.bind(draggedPanel,"hide"));return true}return false}function onDrag(e){if(this.isInDropZone$fDUH(e.pageX,e.pageY))this.highlightDropZone$fDUH(true);else this.highlightDropZone$fDUH(false)}function isInDropZone(x,y){var dropZone=this.getDropZone();
if(dropZone){var dropZoneMinX=dropZone.getEl().getX()-this.dropZoneThresholdPixel$fDUH;var dropZoneMaxX=dropZoneMinX+dropZone.getEl().getWidth()+2*this.dropZoneThresholdPixel$fDUH;var dropZoneMinY=dropZone.getEl().getY()-this.dropZoneThresholdPixel$fDUH;var dropZoneMaxY=dropZoneMinY+dropZone.getEl().getHeight()+2*this.dropZoneThresholdPixel$fDUH;return!!(x>dropZoneMinX&&x<dropZoneMaxX&&y>dropZoneMinY&&y<dropZoneMaxY)}}function highlightDropZone(highlight){var dropZone=this.getDropZone();if(dropZone)if(highlight)dropZone.setUI(com.coremedia.ui.skins.ContainerSkin.HIGHLIGHTED.getSkin());
else dropZone.setUI(com.coremedia.ui.skins.ContainerSkin.LIGHT.getSkin())}function getDropZone(){if(!this.initialConfig.dropZone)return null;if(AS3.is(this.initialConfig.dropZone,Ext.Component))return this.initialConfig.dropZone;else if(AS3.is(this.initialConfig.dropZone,String))return Ext.getCmp(this.initialConfig.dropZone);return null}function doLayoutMainView(){this.up().updateLayout()}return{extend:"Ext.panel.Panel",activeItemValueExpression$fDUH:null,switchingContainer$fDUH:null,dropZoneThresholdPixel$fDUH:NaN,
constructor:SidePanelBase$,super$fDUH:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},onAfterRender$fDUH:onAfterRender,onShowInternal$fDUH:onShowInternal,onHideInternal$fDUH:onHideInternal,onSwitchingContainerBeforeRemove$fDUH:onSwitchingContainerBeforeRemove,disableHeaderContextMenu$fDUH:disableHeaderContextMenu,getActiveItem:getActiveItem,setActiveContainerItem:setActiveContainerItem,onTitleChange$fDUH:onTitleChange,getActiveItemValueExpression:getActiveItemValueExpression,
addItem:addItem,createDraggable$fDUH:createDraggable,undockActiveItem$fDUH:undockActiveItem,undockItem:undockItem,onDragFloatingWindow:onDragFloatingWindow,endDragFloatingWindow:endDragFloatingWindow,dockItem:dockItem,onDragSidePanel:onDragSidePanel,endDragSidePanel:endDragSidePanel,onDrag$fDUH:onDrag,isInDropZone$fDUH:isInDropZone,highlightDropZone$fDUH:highlightDropZone,getDropZone:getDropZone,doLayoutMainView$fDUH:doLayoutMainView,requires:["Ext","Ext.Component","Ext.ComponentManager","Ext.panel.Panel",
"Ext.window.Window","com.coremedia.ui.components.IFrameMgr","com.coremedia.ui.components.SwitchingContainer","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.skins.ContainerSkin","com.coremedia.ui.util.ContextMenuUtil","com.coremedia.ui.util.EventUtil"],uses:["com.coremedia.cms.editor.sdk.desktop.EditorMainView","com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanel","com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelFloatingWindow","com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelManagerImpl",
"com.coremedia.cms.editor.sdk.desktop.sidepanel.sidePanelManager"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.sidepanel.sidePanelManager",function(sidePanelManager){function sidePanelManager_(){return new com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelManagerImpl}return{__factory__:sidePanelManager_,requires:["com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelManagerImpl"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.sidepanel.ISidePanelManager",function(ISidePanelManager){return{}});Ext.define("com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelStudioPlugin",function(SidePanelStudioPlugin){function SidePanelStudioPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.configuration.StudioPlugin,{});var defaults_$1=AS3.cast(SidePanelStudioPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var editor_SidePanelPlugin_22_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelPlugin,{});var editor_CollectionViewContainer_24_9_$1=
AS3.cast(com.coremedia.cms.editor.sdk.collectionview.CollectionViewContainer,{});editor_CollectionViewContainer_24_9_$1["id"]=com.coremedia.cms.editor.sdk.collectionview.CollectionViewContainer.ID;editor_SidePanelPlugin_22_5_$1.components=[editor_CollectionViewContainer_24_9_$1];AS3.setBindable(config_$1,"configuration",[new com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelPlugin(editor_SidePanelPlugin_22_5_$1)]);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Zzrf(config_$1)}return{extend:"com.coremedia.cms.editor.configuration.StudioPlugin",
constructor:SidePanelStudioPlugin$,super$Zzrf:function(){com.coremedia.cms.editor.configuration.StudioPlugin.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.configuration.StudioPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionViewContainer","com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelPlugin"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.sidepanel.ShowInSidePanelDropTarget",function(ShowInSidePanelDropTarget){function ShowInSidePanelDropTarget$(comp,hoverHandler){this.super$4DT_(comp.getEl(),AS3.cast(Ext.dd.DropTarget,{ddGroup:"ContentLinkDD"}));this.hoverHandler$4DT_=hoverHandler;this.addToGroup("ContentDD")}function onHover(){this.showInSidePanelTimer$4DT_=null;this.hoverHandler$4DT_()}function notifyEnter(source,e,data){if(!this.showInSidePanelTimer$4DT_)this.showInSidePanelTimer$4DT_=
window.setTimeout(AS3.bind(this,"onHover$4DT_"),1E3);return this.dropNotAllowed}function notifyOut(source,e,data){this.clearTimeout$4DT_()}function notifyDrop(source,e,data){this.clearTimeout$4DT_();return false}function clearTimeout(){if(this.showInSidePanelTimer$4DT_){window.clearTimeout(this.showInSidePanelTimer$4DT_);this.showInSidePanelTimer$4DT_=null}}return{extend:"Ext.dd.DropTarget",showInSidePanelTimer$4DT_:null,hoverHandler$4DT_:null,constructor:ShowInSidePanelDropTarget$,super$4DT_:function(){Ext.dd.DropTarget.prototype.constructor.apply(this,
arguments)},onHover$4DT_:onHover,notifyEnter:notifyEnter,notifyOut:notifyOut,notifyDrop:notifyDrop,clearTimeout$4DT_:clearTimeout,requires:["Ext.dd.DropTarget"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelFloatingWindow",function(SidePanelFloatingWindow){function SidePanelFloatingWindow$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelFloatingWindowBase,{});var defaults_$1=AS3.cast(SidePanelFloatingWindow,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"title","Side Panel");AS3.setBindable(config_$1,"layout","fit");config_$1.closeAction=
"hide";AS3.setBindable(config_$1,"stateful",true);config_$1.stateEvents=["afterrender","resize","move"];config_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","CollectionView_label"));config_$1.draggable=true;config_$1.constrainHeader=true;AS3.setBindable(config_$1,"hidden",true);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$EHHM(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelFloatingWindowBase",
alias:"widget.com.coremedia.cms.editor.sdk.config.sidePanelFloatingWindow",constructor:SidePanelFloatingWindow$,super$EHHM:function(){com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelFloatingWindowBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelFloatingWindowBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelPlugin",function(SidePanelPlugin){function SidePanelPlugin$(config){if(arguments.length<=0)config=null;this.components=config.components}function init(editorContext){if(this.components)for(var i=0;i<this.components.length;i++){var component=this.components[i];component&&com.coremedia.cms.editor.sdk.desktop.sidepanel.sidePanelManager.registerComponent(AS3.getBindable(component,"id","DUMMY"),component.xtype)}}return{mixins:["com.coremedia.cms.editor.sdk.EditorPlugin"],
components:null,constructor:SidePanelPlugin$,init:init,requires:["com.coremedia.cms.editor.sdk.EditorPlugin"],uses:["com.coremedia.cms.editor.sdk.desktop.sidepanel.sidePanelManager"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelFloatingWindowBase",function(SidePanelFloatingWindowBase){function SidePanelFloatingWindowBase$(config){if(arguments.length<=0)config=null;if(!config.items||config.items.length<1)throw AS3.cast(AS3.Error,"Window must not have 0 items");if(config.items[0].ariaLabel)config.ariaLabel=config.items[0].ariaLabel;var item=AS3.as(config.items[0],Ext.Component);if(!item)throw AS3.cast(AS3.Error,"Item is not a valid component");this["id"]=
SidePanelFloatingWindowBase.STATE_ID_PREFIX+item.getId();item.enableBubble(["show","hide"]);this.startX$QdH7=AS3.getBindable(config,"x","DUMMY");this.startY$QdH7=AS3.getBindable(config,"y","DUMMY");AS3.setBindable(config,"title",item["title"]);AS3.setBindable(config,"width",item.initialConfig.width);AS3.setBindable(config,"height",config.header?item.initialConfig.height+this.headerHeight$QdH7:item.initialConfig.height);AS3.setBindable(config,"minWidth",item.initialConfig.minWidth);AS3.setBindable(config,
"minHeight",config.header?item.initialConfig.minHeight+this.headerHeight$QdH7:item.initialConfig.minHeight);this.super$QdH7(AS3.cast(com.coremedia.cms.editor.sdk.components.StudioDialog,Ext.apply({},config,item["getWindowDefaults"]&&item["getWindowDefaults"]())));this.on("beforeAdd",onBeforeAddInternal$static);this.on("beforeremove",AS3.bind(this,"onBeforeRemove$QdH7"));this.on("show",AS3.bind(this,"onShowInternal$QdH7"));this.on("hide",AS3.bind(this,"onHideInternal$QdH7"));this.on("beforestatesave",
AS3.bind(this,"checkIfDocked$QdH7"));this.mon(item,"titlechange",AS3.bind(this,"onTitleChange$QdH7"));com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelManagerImpl.reRegisterFloatings(this)}function onBeforeAddInternal$static(){com.coremedia.ui.logging.Logger.error("It is not allowed to add new components to this window. Please create a new one");return false}function onBeforeRemove(){var item=this.getComponent(0);item&&item.mun(item,"titlechange",AS3.bind(this,"onTitleChange$QdH7"))}function getState(){return{x:AS3.getBindable(this,
"x","DUMMY"),y:AS3.getBindable(this,"y","DUMMY"),height:this.getHeight(),width:this.getWidth()}}function checkIfDocked(){return!this.docked$QdH7}function onTitleChange(component,title){this.setTitle(title)}function applyState(state){var this$=this;if(this.rendered)this.doApplyState$QdH7(state);else this.on("afterrender",function(){this$.doApplyState$QdH7(state)})}function doApplyState(state){var posX=this.startX$QdH7||state.x;var posY=this.startY$QdH7||state.y;var viewSize=Ext.getBody().getViewSize();
if(posX<0||posX>viewSize.width||posY<0||posY>viewSize.height){posX=100;posY=100}this["x"]=posX;this["y"]=posY;this.setPosition(posX,posY);this["width"]=state.width;this.setWidth(state.width);this["height"]=state.height;this.setHeight(state.height);state.visible&&this.show()}function onShowInternal(component){var item=this.getComponent(0);if(item&&component===this){item.events["show"].bubble=false;item.show();item.events["show"].bubble=true}else{this.rendered&&this.suspendEvents(false);this.show();
this.rendered&&this.resumeEvents()}this.toFront()}function onHideInternal(component){var item=this.getComponent(0);if(item&&component===this){item.events["hide"].bubble=false;item.fireEvent("hide",item);item.events["hide"].bubble=true}else{this.rendered&&this.suspendEvents(false);this.hide();this.rendered&&this.resumeEvents()}}function setupDD(){var this$=this;var me=AS3.cast(com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelFloatingWindow,this);var componentDragger=AS3.cast(Ext.util.ComponentDragger,
this.dd);var originalOnDrag=AS3.bind(componentDragger,"onDrag");componentDragger.onDrag=function(e){arguments=Array.prototype.slice.call(arguments);var result=originalOnDrag.apply(AS3.bind(componentDragger,"onDrag"),arguments);AS3.cast(com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelManagerImpl,com.coremedia.cms.editor.sdk.desktop.sidepanel.sidePanelManager).onDragFloatingWindow(me,e);return result};var originalOnEnd=AS3.bind(componentDragger,"onEnd");componentDragger.onEnd=function(e){arguments=
Array.prototype.slice.call(arguments);var result=originalOnEnd.apply(componentDragger,arguments);this$.docked$QdH7=AS3.cast(com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelManagerImpl,com.coremedia.cms.editor.sdk.desktop.sidepanel.sidePanelManager).endDragFloatingWindow(me,e);return result}}function onBoxReady(width,height){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.onBoxReady.call(this,width,height);this.setupDD$QdH7()}return{extend:"com.coremedia.cms.editor.sdk.components.StudioDialog",
startX$QdH7:NaN,startY$QdH7:NaN,headerHeight$QdH7:34,docked$QdH7:false,constructor:SidePanelFloatingWindowBase$,super$QdH7:function(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.constructor.apply(this,arguments)},onBeforeRemove$QdH7:onBeforeRemove,getState:getState,checkIfDocked$QdH7:checkIfDocked,onTitleChange$QdH7:onTitleChange,applyState:applyState,doApplyState$QdH7:doApplyState,onShowInternal$QdH7:onShowInternal,onHideInternal$QdH7:onHideInternal,setupDD$QdH7:setupDD,onBoxReady:onBoxReady,
statics:{STATE_ID_PREFIX:"side-panel-window_"},requires:["AS3.Error","Ext","Ext.Component","Ext.util.ComponentDragger","com.coremedia.cms.editor.sdk.components.StudioDialog","com.coremedia.ui.logging.Logger"],uses:["com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelFloatingWindow","com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelManagerImpl","com.coremedia.cms.editor.sdk.desktop.sidepanel.sidePanelManager"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.sidepanel.ToggleComponentInSidePanelAction",function(ToggleComponentInSidePanelAction){function ToggleComponentInSidePanelAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.sidepanel.ToggleComponentInSidePanelActionBase,{});var defaults_$1=AS3.cast(ToggleComponentInSidePanelAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$gYE2(config_$1)}
return{extend:"com.coremedia.cms.editor.sdk.desktop.sidepanel.ToggleComponentInSidePanelActionBase",constructor:ToggleComponentInSidePanelAction$,super$gYE2:function(){com.coremedia.cms.editor.sdk.desktop.sidepanel.ToggleComponentInSidePanelActionBase.prototype.constructor.apply(this,arguments)},config:{componentId:null},requires:["com.coremedia.cms.editor.sdk.desktop.sidepanel.ToggleComponentInSidePanelActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxiesContextMenu",function(WorkAreaTabProxiesContextMenu){function WorkAreaTabProxiesContextMenu$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxiesContextMenuBase,{});var defaults_$1=AS3.cast(WorkAreaTabProxiesContextMenu,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var ui_HideObsoleteSeparatorsPlugin_85_5_$1=AS3.cast(com.coremedia.ui.plugins.HideObsoleteSeparatorsPlugin,
{});config_$1.plugins=[ui_HideObsoleteSeparatorsPlugin_85_5_$1];var menuItem_88_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_88_5_$1.itemId=net.jangaroo.ext.Exml.asString(WorkAreaTabProxiesContextMenu.CLOSE_TAB_MENU_ITEM_ID);var editor_CloseTabsAction_90_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.CloseTabsAction,{});AS3.setBindable(editor_CloseTabsAction_90_9_$1,"mode",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.desktop.CloseTabsAction.CLOSE_TAB_MODE));AS3.setBindable(editor_CloseTabsAction_90_9_$1,
"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_closeTabsAction_closeTabText")));menuItem_88_5_$1.baseAction=new com.coremedia.cms.editor.sdk.desktop.CloseTabsAction(editor_CloseTabsAction_90_9_$1);var menuItem_94_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_94_5_$1.itemId=net.jangaroo.ext.Exml.asString(WorkAreaTabProxiesContextMenu.CLOSE_OTHER_TABS_MENU_ITEM_ID);var editor_CloseTabsAction_96_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.CloseTabsAction,
{});AS3.setBindable(editor_CloseTabsAction_96_9_$1,"mode",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.desktop.CloseTabsAction.CLOSE_OTHER_TABS_MODE));AS3.setBindable(editor_CloseTabsAction_96_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_closeTabsAction_closeOtherTabsText")));menuItem_94_5_$1.baseAction=new com.coremedia.cms.editor.sdk.desktop.CloseTabsAction(editor_CloseTabsAction_96_9_$1);var menuItem_100_5_$1=
AS3.cast(Ext.menu.Item,{});menuItem_100_5_$1.itemId=net.jangaroo.ext.Exml.asString(WorkAreaTabProxiesContextMenu.CLOSE_ALL_TABS_MENU_ITEM_ID);var editor_CloseTabsAction_102_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.CloseTabsAction,{});AS3.setBindable(editor_CloseTabsAction_102_9_$1,"mode",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.desktop.CloseTabsAction.CLOSE_ALL_TABS_MODE));AS3.setBindable(editor_CloseTabsAction_102_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.actions.Actions",
"Action_closeTabsAction_closeAllTabsText")));menuItem_100_5_$1.baseAction=new com.coremedia.cms.editor.sdk.desktop.CloseTabsAction(editor_CloseTabsAction_102_9_$1);var menuSeparator_106_5_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_107_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_107_5_$1.itemId=net.jangaroo.ext.Exml.asString(WorkAreaTabProxiesContextMenu.RENAME_CONTENT_OF_ACTIVE_TAB_ITEM_ID);var editor_RenameTabContentAction_109_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.RenameTabContentAction,
{});AS3.setBindable(editor_RenameTabContentAction_109_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_renameTabContentAction_menu_text")));menuItem_107_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.RenameTabContentAction(editor_RenameTabContentAction_109_9_$1);var menuItem_113_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_113_5_$1.itemId=net.jangaroo.ext.Exml.asString(WorkAreaTabProxiesContextMenu.SHOW_CONTENT_OF_ACTIVE_TAB_IN_LIBRARY_MENU_ITEM_ID);
var editor_ShowTabContentInRepositoryAction_115_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ShowTabContentInRepositoryAction,{});AS3.setBindable(editor_ShowTabContentInRepositoryAction_115_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_showInTree_text")));menuItem_113_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.ShowTabContentInRepositoryAction(editor_ShowTabContentInRepositoryAction_115_9_$1);var menuSeparator_119_5_$1=
AS3.cast(Ext.menu.Separator,{});var menuItem_120_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_120_5_$1.itemId=net.jangaroo.ext.Exml.asString(WorkAreaTabProxiesContextMenu.REVERT_ALL_CONTENTS_MENU_ITEM_ID);var editor_ProcessAllContentTabsAction_122_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ProcessAllContentTabsAction,{});AS3.setBindable(editor_ProcessAllContentTabsAction_122_9_$1,"action",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.ProcessAllContentTabsAction.PROCESS_ALL_CONTENT_TABS_REVERT));
AS3.setBindable(editor_ProcessAllContentTabsAction_122_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_revert_all_text")));menuItem_120_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.ProcessAllContentTabsAction(editor_ProcessAllContentTabsAction_122_9_$1);var menuItem_126_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_126_5_$1.itemId=net.jangaroo.ext.Exml.asString(WorkAreaTabProxiesContextMenu.CHECK_IN_ALL_CONTENTS_MENU_ITEM_ID);
var editor_ProcessAllContentTabsAction_128_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ProcessAllContentTabsAction,{});AS3.setBindable(editor_ProcessAllContentTabsAction_128_9_$1,"action",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.ProcessAllContentTabsAction.PROCESS_ALL_CONTENT_TABS_CHECKIN));AS3.setBindable(editor_ProcessAllContentTabsAction_128_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.actions.Actions",
"Action_checkIn_all_text")));menuItem_126_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.ProcessAllContentTabsAction(editor_ProcessAllContentTabsAction_128_9_$1);var menuSeparator_132_5_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_133_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_133_5_$1.itemId=net.jangaroo.ext.Exml.asString(WorkAreaTabProxiesContextMenu.DELETE_CONTENT_OF_ACTIVE_TAB_ITEM_ID);var editor_DeleteTabContentAction_135_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.DeleteTabContentAction,
{});AS3.setBindable(editor_DeleteTabContentAction_135_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_delete_text")));menuItem_133_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.DeleteTabContentAction(editor_DeleteTabContentAction_135_9_$1);config_$1.items=[menuItem_88_5_$1,menuItem_94_5_$1,menuItem_100_5_$1,menuSeparator_106_5_$1,menuItem_107_5_$1,menuItem_113_5_$1,menuSeparator_119_5_$1,menuItem_120_5_$1,
menuItem_126_5_$1,menuSeparator_132_5_$1,menuItem_133_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$wWbu(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxiesContextMenuBase",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.workAreaTabProxiesContextMenu",constructor:WorkAreaTabProxiesContextMenu$,super$wWbu:function(){com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxiesContextMenuBase.prototype.constructor.apply(this,
arguments)},statics:{CLOSE_TAB_MENU_ITEM_ID:"closeTabMenuItemId",CLOSE_OTHER_TABS_MENU_ITEM_ID:"closeOtherTabsMenuItemId",CLOSE_ALL_TABS_MENU_ITEM_ID:"closeAllTabsMenuItemId",RENAME_CONTENT_OF_ACTIVE_TAB_ITEM_ID:"renameContentOfActiveTabItemId",SHOW_CONTENT_OF_ACTIVE_TAB_IN_LIBRARY_MENU_ITEM_ID:"showContentOfActiveTabInLibraryMenuItemId",REVERT_ALL_CONTENTS_MENU_ITEM_ID:"revertAllContentsMenuItemId",CHECK_IN_ALL_CONTENTS_MENU_ITEM_ID:"checkInAllContentsMenuItemId",DELETE_CONTENT_OF_ACTIVE_TAB_ITEM_ID:"deleteContentOfActiveTabItemId",
CONTEXT_CLICKED_TAB_ENTITY_VARIABLE_NAME:"contextClickedTabEntity"},requires:["Ext.menu.Item","Ext.menu.Separator","com.coremedia.cms.editor.sdk.actions.Actions_properties","com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxiesContextMenuBase","com.coremedia.ui.plugins.HideObsoleteSeparatorsPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.actions.DeleteTabContentAction","com.coremedia.cms.editor.sdk.actions.ProcessAllContentTabsAction","com.coremedia.cms.editor.sdk.actions.RenameTabContentAction",
"com.coremedia.cms.editor.sdk.actions.ShowTabContentInRepositoryAction","com.coremedia.cms.editor.sdk.desktop.CloseTabsAction"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.reusability.PremularProxyTabState",function(PremularProxyTabState){function PremularProxyTabState$(state){this.super$qSsN(state)}function clone(){return new PremularProxyTabState(this.plainState())}return{extend:"com.coremedia.cms.editor.sdk.desktop.reusability.ProxyTabState",content:null,premularConfiguration:null,contentTypeName:null,constructor:PremularProxyTabState$,super$qSsN:function(){com.coremedia.cms.editor.sdk.desktop.reusability.ProxyTabState.prototype.constructor.apply(this,
arguments)},clone:clone,requires:["com.coremedia.cms.editor.sdk.desktop.reusability.ProxyTabState"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.reusability.ProxyTabState",function(ProxyTabState){function ProxyTabState$(state){this.super$ubcf();Ext.apply(this,state)}function plainState(){var state={};com.coremedia.ui.util.ObjectUtils.mergeOwnProperties(this,state);return state}function clone(){return new ProxyTabState(this.plainState())}return{extend:"joo.JavaScriptObject",entity:null,constructor:ProxyTabState$,super$ubcf:function(){joo.JavaScriptObject.prototype.constructor.apply(this,arguments)},
plainState:plainState,clone:clone,requires:["Ext","com.coremedia.ui.util.ObjectUtils","joo.JavaScriptObject"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxiesContextMenuBase",function(WorkAreaTabProxiesContextMenuBase){function WorkAreaTabProxiesContextMenuBase$(config){if(arguments.length<=0)config=null;this.super$U0Xf(config)}function getContextClickedTabEntity(){com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(this,com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxiesContextMenu.CONTEXT_CLICKED_TAB_ENTITY_VARIABLE_NAME);return this.tabEntity$U0Xf}
function setContextClickedTab(tab){com.coremedia.ui.components.TabContextMenu.prototype.setContextClickedTab.call(this,tab);var oldTabEntity=this.tabEntity$U0Xf;var entityTab=AS3.as(tab,com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxy);this.tabEntity$U0Xf=entityTab&&AS3.getBindable(entityTab,"proxyState").entity;com.coremedia.ui.data.util.PropertyChangeEventUtil.fireEvent(this,com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxiesContextMenu.CONTEXT_CLICKED_TAB_ENTITY_VARIABLE_NAME,
oldTabEntity,this.tabEntity$U0Xf)}return{extend:"com.coremedia.ui.components.TabContextMenu",metadata:{"":["PublicApi"],getContextClickedTabEntity:["ProvideToExtChildren"]},tabEntity$U0Xf:null,constructor:WorkAreaTabProxiesContextMenuBase$,super$U0Xf:function(){com.coremedia.ui.components.TabContextMenu.prototype.constructor.apply(this,arguments)},getContextClickedTabEntity:getContextClickedTabEntity,setContextClickedTab:setContextClickedTab,requires:["com.coremedia.ui.components.TabContextMenu",
"com.coremedia.ui.data.dependencies.DependencyTracker","com.coremedia.ui.data.util.PropertyChangeEventUtil"],uses:["com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxiesContextMenu","com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxy"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.reusability.ReusableDocumentFormTabsPlugin",function(ReusableDocumentFormTabsPlugin){function ReusableDocumentFormTabsPlugin$(config){if(arguments.length<=0)config=null;this.__initialize__$stky(config);var config_$1=AS3.cast(com.coremedia.cms.editor.configuration.StudioPlugin,{});var defaults_$1=AS3.cast(ReusableDocumentFormTabsPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$stky(config_$1)}
function __initialize__(config){this.defaultLimit=config.defaultLimit||0;this.limitsPerContentType=config.limitsPerContentType||{}}function init(editorContext){var this$=this;com.coremedia.cms.editor.configuration.StudioPlugin.prototype.init.call(this,editorContext);var premularTabType=new com.coremedia.cms.editor.sdk.desktop.PremularWorkAreaTabType;if(this.defaultLimit)com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getConcreteDocumentTypes().forEach(function(docType){com.coremedia.ui.util.reusableComponentsService.setReusabilityLimit(premularTabType.computeReusabilityKey(new com.coremedia.cms.editor.sdk.desktop.reusability.PremularProxyTabState({contentTypeName:docType.getName()})),
this$.defaultLimit)});for(var typeName in this.limitsPerContentType)com.coremedia.ui.util.reusableComponentsService.setReusabilityLimit(premularTabType.computeReusabilityKey(new com.coremedia.cms.editor.sdk.desktop.reusability.PremularProxyTabState({contentTypeName:typeName})),this.limitsPerContentType[typeName])}return{extend:"com.coremedia.cms.editor.configuration.StudioPlugin",metadata:{"":["PublicApi"]},constructor:ReusableDocumentFormTabsPlugin$,super$stky:function(){com.coremedia.cms.editor.configuration.StudioPlugin.prototype.constructor.apply(this,
arguments)},__initialize__$stky:__initialize__,defaultLimit:0,limitsPerContentType:null,init:init,requires:["com.coremedia.cap.common.SESSION","com.coremedia.cms.editor.configuration.StudioPlugin","com.coremedia.ui.util.reusableComponentsService","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.desktop.PremularWorkAreaTabType","com.coremedia.cms.editor.sdk.desktop.reusability.PremularProxyTabState"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxiesTabPanel",function(WorkAreaTabProxiesTabPanel){function WorkAreaTabProxiesTabPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxiesTabPanelBase,{});var defaults_$1=AS3.cast(WorkAreaTabProxiesTabPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1["ariaRole"]=null;config_$1.itemId=net.jangaroo.ext.Exml.asString(WorkAreaTabProxiesTabPanel.WORK_AREA_TAB_PROXIES_TABBAR_ID);
config_$1.flex=1;var local_WorkAreaTabBar_29_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.WorkAreaTabBar,{});local_WorkAreaTabBar_29_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.TabBarSkin.WORKAREA.getSkin());local_WorkAreaTabBar_29_5_$1.flex=1;var ui_BindVisibilityPlugin_32_9_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_32_9_$1.bindTo=this.getTabBarVisibilityVE();local_WorkAreaTabBar_29_5_$1.plugins=[ui_BindVisibilityPlugin_32_9_$1];
AS3.setBindable(config_$1,"tabBar",local_WorkAreaTabBar_29_5_$1);var editor_TabStateManagerPlugin_38_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.TabStateManagerPlugin,{});var ui_DragDropTabPlugin_39_5_$1=AS3.cast(com.coremedia.ui.plugins.DragDropTabPlugin,{});AS3.setBindable(ui_DragDropTabPlugin_39_5_$1,"customizeDragData",com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxiesTabPanelBase.customizeDragData);AS3.setBindable(ui_DragDropTabPlugin_39_5_$1,"rearrangeDDGroup",net.jangaroo.ext.Exml.asString("tabSortDD"+
WorkAreaTabProxiesTabPanel.WORK_AREA_TAB_PROXIES_TABBAR_ID));AS3.setBindable(ui_DragDropTabPlugin_39_5_$1,"activateOnHoverDDGroups",com.coremedia.cms.editor.sdk.util.UIBehaviour.ACTIVATE_ON_HOVER_DD_GROUPS);AS3.setBindable(ui_DragDropTabPlugin_39_5_$1,"activateOnHoverDelay",com.coremedia.cms.editor.sdk.util.UIBehaviour.ACTIVATE_ON_HOVER_DELAY);var ui_TabContextMenuPlugin_43_5_$1=AS3.cast(com.coremedia.ui.plugins.TabContextMenuPlugin,{});var reusability_WorkAreaTabProxiesContextMenu_45_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxiesContextMenu,
{});AS3.setBindable(ui_TabContextMenuPlugin_43_5_$1,"contextMenu",reusability_WorkAreaTabProxiesContextMenu_45_9_$1);config_$1.plugins=[editor_TabStateManagerPlugin_38_5_$1,ui_DragDropTabPlugin_39_5_$1,ui_TabContextMenuPlugin_43_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$mtdb(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxiesTabPanelBase",alias:"widget.com.coremedia.cms.editor.sdk.desktop.workAreaTabProxiesTabPanel",constructor:WorkAreaTabProxiesTabPanel$,
super$mtdb:function(){com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxiesTabPanelBase.prototype.constructor.apply(this,arguments)},statics:{WORK_AREA_TAB_PROXIES_TABBAR_ID:"workAreaTabProxies"},requires:["com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxiesTabPanelBase","com.coremedia.ui.plugins.BindVisibilityPlugin","com.coremedia.ui.plugins.DragDropTabPlugin","com.coremedia.ui.plugins.TabContextMenuPlugin","com.coremedia.ui.skins.TabBarSkin","net.jangaroo.ext.Exml"],
uses:["com.coremedia.cms.editor.sdk.desktop.TabStateManagerPlugin","com.coremedia.cms.editor.sdk.desktop.WorkAreaTabBar","com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxiesContextMenu","com.coremedia.cms.editor.sdk.util.UIBehaviour"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.reusability.ReusableTabType",function(ReusableTabType){return{mixins:["com.coremedia.cms.editor.sdk.desktop.EntityWorkAreaTabType"],requires:["com.coremedia.cms.editor.sdk.desktop.EntityWorkAreaTabType"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.reusability.ReusabilityComponentStatePlugin",function(ReusabilityComponentStatePlugin){function ReusabilityComponentStatePlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.plugin.Abstract,{});var defaults_$1=AS3.cast(ReusabilityComponentStatePlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$_O3V(config_$1)}var stateIds$static;function stateIds$static_(){stateIds$static=
[]}var statesCleared$static=false;function init(component){var this$=this;if(!this.stateId||!this.bindTo)return;this.comp$_O3V=component;this.bindTo.addChangeListener(AS3.bind(this,"applyReusabilityState$_O3V"));this.events.forEach(function(event){component.on(event,AS3.bind(this$,"saveReusabilityState$_O3V"))});component.on("beforedestroy",function(){this$.bindTo.removeChangeListener(AS3.bind(this$,"applyReusabilityState$_O3V"))});Ext.EventManager.on(window,"beforeunload",function(){if(!statesCleared$static){stateIds$static.forEach(function(stateId){Ext.state.Manager.clear(stateId)});
statesCleared$static=true}})}function applyReusabilityState(){var reusabilityStateId=this.getReusabilityStateId$_O3V();if(!reusabilityStateId)return;var state=Ext.state.Manager.get(reusabilityStateId,{});this.applyStateFn.call(this.comp$_O3V,state)}function saveReusabilityState(){var reusabilityStateId=this.getReusabilityStateId$_O3V();if(!reusabilityStateId)return;var state=this.saveStateFn.call(this.comp$_O3V);Ext.state.Manager.set(reusabilityStateId,state)}function getReusabilityStateId(){var entity=
this.bindTo.getValue();if(!entity)return null;var id="tabReusability_"+entity.getUriPath()+"_"+"_"+this.stateId;stateIds$static.push(id);return id}return{extend:"Ext.plugin.Abstract",metadata:{"":["PublicApi"]},constructor:ReusabilityComponentStatePlugin$,super$_O3V:function(){Ext.plugin.Abstract.prototype.constructor.apply(this,arguments)},bindTo:null,stateId:null,events:null,saveStateFn:null,applyStateFn:null,comp$_O3V:null,init:init,applyReusabilityState$_O3V:applyReusabilityState,saveReusabilityState$_O3V:saveReusabilityState,
getReusabilityStateId$_O3V:getReusabilityStateId,statics:{stateIds:undefined,__initStatics__:function(){stateIds$static_()}},requires:["Ext.EventManager","Ext.plugin.Abstract","Ext.state.Manager","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxyBase",function(WorkAreaTabProxyBase){var NO_HEADER_TAB_TYPE_IDS$static;function NO_HEADER_TAB_TYPE_IDS$static_(){NO_HEADER_TAB_TYPE_IDS$static=[com.coremedia.cms.editor.sdk.dashboard.Dashboard.xtype,com.coremedia.cms.editor.sdk.desktop.StartTab.xtype]}var PROXY_STATE_CHANGED_EVENT$static="proxyStateChangedEvent";function lastState_(){this.lastState$bfYf={}}function entityChangeHandlers_(){this.entityChangeHandlers$bfYf={}}
function WorkAreaTabProxyBase$(config){if(arguments.length<=0)config=null;this.super$bfYf(config);lastState_.call(this);entityChangeHandlers_.call(this);this.on("beforeclose",AS3.bind(this,"closeHandler$bfYf"));this.on("activate",AS3.bind(this,"setReferenceTabActive$bfYf"));this.on("afterrender",AS3.bind(this,"setReferenceTabActive$bfYf"));if(!AS3.getBindable(this,"proxyState"))AS3.setBindable(this,"proxyState",new com.coremedia.cms.editor.sdk.desktop.reusability.ProxyTabState({}));this.register$bfYf();
if(AS3.is(AS3.getBindable(this,"referenceTabType"),com.coremedia.cms.editor.sdk.desktop.reusability.ReusableTabType))AS3.as(AS3.getBindable(this,"referenceTabType"),com.coremedia.cms.editor.sdk.desktop.reusability.ReusableTabType).notifyTabProxyReady(AS3.as(this,com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxy));this.manageTabStripVisibility$bfYf();this.fireEvent(WorkAreaTabProxyBase.REFERENCE_TAB_CHANGED_EVENT)}function get$proxyState(){return this._proxyState$bfYf}function set$proxyState(newProxyState){var oldEntity=
this._proxyState$bfYf?this._proxyState$bfYf.entity:null;this.unregister$bfYf();this._proxyState$bfYf=newProxyState;this.register$bfYf();if(oldEntity&&AS3.getBindable(this,"referenceTab")&&AS3.is(AS3.getBindable(this,"referenceTab"),com.coremedia.cms.editor.sdk.desktop.WorkAreaTab)&&AS3.as(AS3.getBindable(this,"referenceTab"),com.coremedia.cms.editor.sdk.desktop.WorkAreaTab).getEntity()===oldEntity)AS3.as(AS3.getBindable(this,"referenceTab"),com.coremedia.cms.editor.sdk.desktop.WorkAreaTab).setEntity(this._proxyState$bfYf.entity);
this.fireEvent(PROXY_STATE_CHANGED_EVENT$static)}function get$referenceTab(){return this._referenceTab$bfYf}function set$referenceTab(tab){this.detachFromReferenceTab$bfYf();this._referenceTab$bfYf=tab;this.attachToReferenceTab$bfYf();this.fireEvent(WorkAreaTabProxyBase.REFERENCE_TAB_CHANGED_EVENT)}function register(){if(!AS3.getBindable(this,"proxyState"))return;this.attachEntityChangeHandlers$bfYf();if(AS3.getBindable(this,"proxyState").entity)AS3.as(this.up(),com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxiesTabPanel).registerWorkAreaTabProxyForEntity(AS3.getBindable(this,
"proxyState").entity,AS3.as(this,com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxy));else AS3.as(this.up(),com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxiesTabPanel).registerWorkAreaTabProxyForEntity(AS3.getBindable(this,"referenceTab"),AS3.as(this,com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxy))}function unregister(){if(!AS3.getBindable(this,"proxyState")||!this.up())return;this.detachEntityChangeHandlers$bfYf();if(AS3.getBindable(this,"proxyState").entity)AS3.as(this.up(),
com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxiesTabPanel).unregisterWorkAreaTabProxyForEntity(AS3.getBindable(this,"proxyState").entity);else AS3.as(this.up(),com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxiesTabPanel).unregisterWorkAreaTabProxyForEntity(AS3.getBindable(this,"referenceTab"))}function manageTabStripVisibility(){if(NO_HEADER_TAB_TYPE_IDS$static.indexOf(AS3.getBindable(this,"referenceTabType").getId())!==-1)if(this.rendered)this["tab"].setVisible(false);
else this.on("afterrender",function(){this["tab"].setVisible(false)})}function setReferenceTabActive(){if(!(com.coremedia.cms.editor.sdk.editorContext.getWorkAreaTabProxies().getActiveTab()===this))return;if(!AS3.getBindable(this,"referenceTab")||!AS3.getBindable(this,"referenceTab").up()){AS3.getBindable(this,"proxyState").entity&&com.coremedia.cms.editor.sdk.editorContext.getWorkAreaTabManager().openTabForEntity(AS3.getBindable(this,"proxyState").entity,false);return}AS3.as(AS3.getBindable(this,
"referenceTab").up(),Ext.tab.Panel).setActiveTab(AS3.getBindable(this,"referenceTab"));var reusableTabType=AS3.as(AS3.getBindable(this,"referenceTabType"),com.coremedia.cms.editor.sdk.desktop.reusability.ReusableTabType);if(reusableTabType){var reusabilityKey=reusableTabType.computeReusabilityKey(AS3.getBindable(this,"proxyState"));com.coremedia.ui.util.reusableComponentsService.reusableComponentActivated(reusabilityKey,AS3.getBindable(this,"referenceTab"))}}function closeHandler(){return this.closeAsynchronously()}
function attachToReferenceTab(){if(AS3.getBindable(this,"referenceTab")){AS3.setBindable(this,"closable",AS3.getBindable(AS3.getBindable(this,"referenceTab"),"closable","DUMMY"));this.mon(AS3.getBindable(this,"referenceTab"),"activate",AS3.bind(this,"setActive$bfYf"));this.mon(AS3.getBindable(this,"referenceTab"),"removed",AS3.bind(this,"onReferenceTabRemoved$bfYf"))}}function setActive(){AS3.as(this.up(),Ext.tab.Panel).setActiveTab(this)}function onReferenceTabRemoved(){AS3.setBindable(this,"referenceTab",
null);this.unregister$bfYf();this.destroy()}function detachFromReferenceTab(){if(AS3.getBindable(this,"referenceTab")){this.mun(AS3.getBindable(this,"referenceTab"),"activate",AS3.bind(this,"setActive$bfYf"));this.mun(AS3.getBindable(this,"referenceTab"),"removed",AS3.bind(this,"onReferenceTabRemoved$bfYf"))}}function getTitleVE(){var this$=this;var me=this;if(!this.titleVE$bfYf)this.titleVE$bfYf=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(me,
PROXY_STATE_CHANGED_EVENT$static);com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(me,WorkAreaTabProxyBase.REFERENCE_TAB_CHANGED_EVENT);if(AS3.getBindable(this$,"referenceTabType")&&AS3.is(AS3.getBindable(this$,"referenceTabType"),com.coremedia.cms.editor.sdk.desktop.reusability.ReusableTabType))return AS3.as(AS3.getBindable(this$,"referenceTabType"),com.coremedia.cms.editor.sdk.desktop.reusability.ReusableTabType).computeTabTitle(AS3.getBindable(this$,"proxyState"));if(!AS3.getBindable(this$,
"referenceTab"))return this$.myTitle$bfYf;if(AS3.is(AS3.getBindable(this$,"referenceTabType"),com.coremedia.cms.editor.sdk.desktop.reusability.ReusableTabType))this$.myTitle$bfYf=AS3.as(AS3.getBindable(this$,"referenceTab"),com.coremedia.cms.editor.sdk.desktop.WorkAreaTab).calculateTitle();else this$.myTitle$bfYf=AS3.getBindable(this$,"referenceTab").getTitle();com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(AS3.getBindable(this$,"referenceTab"),"titlechange");return this$.myTitle$bfYf});
return this.titleVE$bfYf}function getIconClsVE(){var this$=this;var me=this;if(!this.iconClsVE$bfYf)this.iconClsVE$bfYf=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(me,PROXY_STATE_CHANGED_EVENT$static);com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(me,WorkAreaTabProxyBase.REFERENCE_TAB_CHANGED_EVENT);if(AS3.getBindable(this$,"referenceTabType")&&AS3.is(AS3.getBindable(this$,
"referenceTabType"),com.coremedia.cms.editor.sdk.desktop.reusability.ReusableTabType))return AS3.as(AS3.getBindable(this$,"referenceTabType"),com.coremedia.cms.editor.sdk.desktop.reusability.ReusableTabType).computeTabIconCls(AS3.getBindable(this$,"proxyState"));if(!AS3.getBindable(this$,"referenceTab"))return this$.myIconCls$bfYf;if(AS3.is(AS3.getBindable(this$,"referenceTabType"),com.coremedia.cms.editor.sdk.desktop.reusability.ReusableTabType))this$.myIconCls$bfYf=AS3.as(AS3.getBindable(this$,
"referenceTab"),com.coremedia.cms.editor.sdk.desktop.WorkAreaTab).calculateIcon();else this$.myIconCls$bfYf=AS3.getBindable(this$,"referenceTab").getIconCls();com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(AS3.getBindable(this$,"referenceTab"),"iconclschange");return this$.myIconCls$bfYf});return this.iconClsVE$bfYf}function closeAsynchronously(continueClosingCallback){if(arguments.length<=0)continueClosingCallback=null;var reusableTabType=AS3.as(AS3.getBindable(this,"referenceTabType"),
com.coremedia.cms.editor.sdk.desktop.reusability.ReusableTabType);if(AS3.getBindable(this,"referenceTab")&&!AS3.is(AS3.getBindable(this,"referenceTab"),com.coremedia.ui.components.AsynchronouslyClosable)){this.unregisterAndCloseReferenceTab$bfYf();return true}if(!AS3.getBindable(this,"referenceTab")&&reusableTabType&&reusableTabType.isDirectlyClosable(AS3.getBindable(this,"proxyState"))){this.unregisterAndDestroyWorkAreaTabProxy$bfYf();return true}if(!AS3.getBindable(this,"referenceTab"))com.coremedia.cms.editor.sdk.editorContext.getWorkAreaTabManager().openTabForEntity(AS3.getBindable(this,
"proxyState").entity,false);if(AS3.is(AS3.getBindable(this,"referenceTab"),com.coremedia.ui.components.AsynchronouslyClosable)){var asyncClose=AS3.as(AS3.getBindable(this,"referenceTab"),com.coremedia.ui.components.AsynchronouslyClosable);var closedSynchronously=asyncClose.closeAsynchronously(function(cont){continueClosingCallback&&continueClosingCallback(cont)});if(closedSynchronously)if(!this.destroyed)this.unregisterAndCloseReferenceTab$bfYf();return closedSynchronously}else{this.unregisterAndCloseReferenceTab$bfYf();
return true}}function unregisterAndCloseReferenceTab(){this.unregister$bfYf();AS3.getBindable(this,"referenceTab").close()}function unregisterAndDestroyWorkAreaTabProxy(){this.unregister$bfYf();this.destroy()}function getStateValueExpression(){var this$=this;var me=AS3.as(this,com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxy);if(!this.stateExpression$bfYf)this.stateExpression$bfYf=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(me,
WorkAreaTabProxyBase.REFERENCE_TAB_CHANGED_EVENT);if(AS3.getBindable(this$,"referenceTab")){var referenceTabStateVE;var tabStateHolder=AS3.as(AS3.getBindable(this$,"referenceTab"),com.coremedia.ui.data.StateHolder);if(tabStateHolder)referenceTabStateVE=tabStateHolder.getStateValueExpression();else referenceTabStateVE=AS3.getBindable(this$,"referenceTabType").getStateValueExpression(AS3.getBindable(this$,"referenceTab"));if(referenceTabStateVE)this$.lastState$bfYf=referenceTabStateVE.getValue();else this$.lastState$bfYf=
{};if(AS3.is(AS3.getBindable(this$,"referenceTabType"),com.coremedia.cms.editor.sdk.desktop.reusability.ReusableTabType)&&AS3.as(com.coremedia.cms.editor.sdk.editorContext.getWorkArea(),com.coremedia.cms.editor.sdk.desktop.WorkAreaBase).isTabDirty(AS3.as(AS3.getBindable(this$,"referenceTab"),com.coremedia.cms.editor.sdk.desktop.WorkAreaTab)))this$.lastState$bfYf=AS3.as(AS3.getBindable(this$,"referenceTabType"),com.coremedia.cms.editor.sdk.desktop.PremularWorkAreaTabTypeBase).computeStateSerialization(AS3.getBindable(this$,
"proxyState"))}return this$.lastState$bfYf});return this.stateExpression$bfYf}function customizeDragData(tabDragZone,dragData,dragGhost){if(AS3.is(AS3.getBindable(this,"referenceTabType"),com.coremedia.cms.editor.sdk.desktop.EntityWorkAreaTabType)){var dragDropGroup=AS3.as(AS3.getBindable(this,"referenceTabType"),com.coremedia.cms.editor.sdk.desktop.EntityWorkAreaTabType).getDragDropGroup();if(dragDropGroup){tabDragZone.addToGroup(dragDropGroup);dragGhost.dom.innerHTML=com.coremedia.ui.util.DraggableItemsUtils.DRAG_GHOST_TEMPLATE.apply({title:this.getDragTitle$bfYf(),
icon:this.getDragIcon()});dragData.contents=[AS3.getBindable(this,"proxyState").entity]}}}function getDragTitle(){return this.getTitleVE().getValue()}function getDragIcon(){return this.getIconClsVE().getValue()}function encodeForHtml$static(str){return com.coremedia.ui.util.EncodingUtil.encodeForHTML(com.coremedia.ui.util.EncodingUtil.decodeFromHTML(str))}function registerEntityChangeHandler(property,handler){this.entityChangeHandlers$bfYf[property]=handler;this.attachEntityChangeHandler$bfYf(property,
handler)}function attachEntityChangeHandler(property,handler){if(AS3.getBindable(this,"proxyState").entity&&AS3.is(AS3.getBindable(this,"proxyState").entity,com.coremedia.ui.data.Bean)){var entityBean=AS3.as(AS3.getBindable(this,"proxyState").entity,com.coremedia.ui.data.Bean);entityBean.addPropertyChangeListener(property,handler)}}function attachEntityChangeHandlers(){if(AS3.getBindable(this,"proxyState").entity&&AS3.is(AS3.getBindable(this,"proxyState").entity,com.coremedia.ui.data.Bean)){var entityBean=
AS3.as(AS3.getBindable(this,"proxyState").entity,com.coremedia.ui.data.Bean);for(var property in this.entityChangeHandlers$bfYf)entityBean.addPropertyChangeListener(property,this.entityChangeHandlers$bfYf[property])}}function detachEntityChangeHandlers(){if(AS3.getBindable(this,"proxyState").entity&&AS3.is(AS3.getBindable(this,"proxyState").entity,com.coremedia.ui.data.Bean)){var entityBean=AS3.as(AS3.getBindable(this,"proxyState").entity,com.coremedia.ui.data.Bean);for(var property in this.entityChangeHandlers$bfYf)entityBean.removePropertyChangeListener(property,
this.entityChangeHandlers$bfYf[property])}}return{extend:"Ext.panel.Panel",mixins:["com.coremedia.ui.mixins.LazyItemsContainerMixin","com.coremedia.ui.components.AsynchronouslyClosable","com.coremedia.ui.data.StateHolder"],myTitle$bfYf:null,titleVE$bfYf:null,myIconCls$bfYf:null,iconClsVE$bfYf:null,_proxyState$bfYf:null,_referenceTab$bfYf:null,stateExpression$bfYf:null,constructor:WorkAreaTabProxyBase$,super$bfYf:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},getProxyState:get$proxyState,
setProxyState:set$proxyState,getReferenceTab:get$referenceTab,setReferenceTab:set$referenceTab,register$bfYf:register,unregister$bfYf:unregister,manageTabStripVisibility$bfYf:manageTabStripVisibility,setReferenceTabActive$bfYf:setReferenceTabActive,closeHandler$bfYf:closeHandler,attachToReferenceTab$bfYf:attachToReferenceTab,setActive$bfYf:setActive,onReferenceTabRemoved$bfYf:onReferenceTabRemoved,detachFromReferenceTab$bfYf:detachFromReferenceTab,getTitleVE:getTitleVE,getIconClsVE:getIconClsVE,closeAsynchronously:closeAsynchronously,
unregisterAndCloseReferenceTab$bfYf:unregisterAndCloseReferenceTab,unregisterAndDestroyWorkAreaTabProxy$bfYf:unregisterAndDestroyWorkAreaTabProxy,getStateValueExpression:getStateValueExpression,customizeDragData:customizeDragData,getDragTitle$bfYf:getDragTitle,getDragIcon:getDragIcon,registerEntityChangeHandler:registerEntityChangeHandler,attachEntityChangeHandler$bfYf:attachEntityChangeHandler,attachEntityChangeHandlers$bfYf:attachEntityChangeHandlers,detachEntityChangeHandlers$bfYf:detachEntityChangeHandlers,
config:{referenceTabType:null,proxyState:undefined,referenceTab:undefined},statics:{NO_HEADER_TAB_TYPE_IDS:undefined,REFERENCE_TAB_CHANGED_EVENT:"referenceTabChangedEvent",encodeForHtml:encodeForHtml$static,__initStatics__:function(){NO_HEADER_TAB_TYPE_IDS$static_()}},requires:["Ext.panel.Panel","Ext.tab.Panel","com.coremedia.ui.components.AsynchronouslyClosable","com.coremedia.ui.data.Bean","com.coremedia.ui.data.StateHolder","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.dependencies.DependencyTracker",
"com.coremedia.ui.mixins.LazyItemsContainerMixin","com.coremedia.ui.util.DraggableItemsUtils","com.coremedia.ui.util.EncodingUtil","com.coremedia.ui.util.reusableComponentsService"],uses:["com.coremedia.cms.editor.sdk.dashboard.Dashboard","com.coremedia.cms.editor.sdk.desktop.EntityWorkAreaTabType","com.coremedia.cms.editor.sdk.desktop.PremularWorkAreaTabTypeBase","com.coremedia.cms.editor.sdk.desktop.StartTab","com.coremedia.cms.editor.sdk.desktop.WorkAreaBase","com.coremedia.cms.editor.sdk.desktop.WorkAreaTab",
"com.coremedia.cms.editor.sdk.desktop.reusability.ProxyTabState","com.coremedia.cms.editor.sdk.desktop.reusability.ReusableTabType","com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxiesTabPanel","com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxy","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxy",function(WorkAreaTabProxy){var TAB_CONFIG$static;function TAB_CONFIG$static_(){TAB_CONFIG$static=AS3.cast(com.coremedia.ui.components.ExtendedTab,{minWidth:90})}function WorkAreaTabProxy$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxyBase,{});var defaults_$1=AS3.cast(WorkAreaTabProxy,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);
config_$1.itemsLazyUntilEvent="beforerender";AS3.setBindable(config_$1,"closable",true);config_$1["tabConfig"]=TAB_CONFIG$static;var ui_BindPropertyPlugin_27_5_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_27_5_$1.componentProperty="title";ui_BindPropertyPlugin_27_5_$1.bindTo=this.getTitleVE();ui_BindPropertyPlugin_27_5_$1.transformer=com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxyBase.encodeForHtml;var ui_BindPropertyPlugin_30_5_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,
{});ui_BindPropertyPlugin_30_5_$1.componentProperty="iconCls";ui_BindPropertyPlugin_30_5_$1.bindTo=this.getIconClsVE();config_$1.plugins=[ui_BindPropertyPlugin_27_5_$1,ui_BindPropertyPlugin_30_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Mhcu(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxyBase",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.workAreaTabProxy",constructor:WorkAreaTabProxy$,super$Mhcu:function(){com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxyBase.prototype.constructor.apply(this,
arguments)},statics:{TAB_CONFIG:undefined,__initStatics__:function(){TAB_CONFIG$static_()}},requires:["com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxyBase","com.coremedia.ui.components.ExtendedTab","com.coremedia.ui.plugins.BindPropertyPlugin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxiesTabPanelBase",function(WorkAreaTabProxiesTabPanelBase){function tooltipInfoTrigger_(){this.tooltipInfoTrigger$6NfM=new com.coremedia.ui.data.dependencies.Trigger}function WorkAreaTabProxiesTabPanelBase$(config){var this$=this;if(arguments.length<=0)config=null;this.entitiesToWorkAreaTabProxiesMap$6NfM={};this.super$6NfM(config);tooltipInfoTrigger_.call(this);this.tooltipSkipFlags$6NfM=com.coremedia.ui.data.beanFactory.createLocalBean();
this.tooltipSkipFlags$6NfM.addValueChangeListener(function(event){this$.updateTooltips$6NfM()});this.startUpdateTooltipInfo$6NfM()}function onAdd(component,position){var this$=this;Ext.tab.Panel.prototype.onAdd.call(this,component,position);var proxy=AS3.as(component,com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxy);this.mon(proxy,"titlechange",function(){this$.triggerTooltipUpdate$6NfM();this$.updateTooltip$6NfM(proxy)});this.mon(proxy,"destroy",AS3.bind(this,"triggerTooltipUpdate$6NfM"));
this.triggerTooltipUpdate$6NfM();this.updateTooltip$6NfM(proxy)}function triggerTooltipUpdate(){this.tooltipInfoTrigger$6NfM.trigger()}function updateTooltips(){this.itemCollection.each(AS3.bind(this,"updateTooltip$6NfM"))}function updateTooltip(item){var tab=item["tab"];if(!tab){com.coremedia.ui.logging.Logger.warn("Premular tab '"+item.getId()+"' has no tab property!");return}var ve=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"computeToolTip$6NfM"),item);ve.loadValue(function(tooltip){tab.setTooltip(tooltip)})}
function computeToolTip(proxy){com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(proxy,com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxyBase.REFERENCE_TAB_CHANGED_EVENT);var tabTooltipInfoObject;if(AS3.is(AS3.getBindable(proxy,"referenceTabType"),com.coremedia.cms.editor.sdk.desktop.reusability.ReusableTabType))tabTooltipInfoObject=AS3.as(AS3.getBindable(proxy,"referenceTabType"),com.coremedia.cms.editor.sdk.desktop.reusability.ReusableTabType).computeTooltipInfo(AS3.getBindable(proxy,
"proxyState"));else{var workAreaTab=AS3.as(AS3.getBindable(proxy,"referenceTab"),com.coremedia.cms.editor.sdk.desktop.WorkAreaTab);tabTooltipInfoObject=workAreaTab&&workAreaTab.calculateTooltip()}if(tabTooltipInfoObject===undefined)return undefined;var tabTooltipInfo=AS3.as(tabTooltipInfoObject,com.coremedia.cms.editor.sdk.desktop.TabTooltipInfo);if(!tabTooltipInfo)return"\x3cdiv\x3e"+proxy["title"]+"\x3c/div\x3e";var tooltipEntries=tabTooltipInfo.getTooltipEntries();var tooltip="";var spaceAdded=
false;for(var i=0;i<tooltipEntries.length;i++){var entry=tooltipEntries[i];var skipEntry=this.tooltipSkipFlags$6NfM.get(entry.getName());if(!skipEntry){if(!spaceAdded&&i>0){tooltip+='\x3cdiv style\x3d"height:6px"\x3e\x3c/div\x3e';spaceAdded=true}tooltip+="\x3cdiv\x3e"+entry+"\x3c/div\x3e"}}return tooltip}function startUpdateTooltipInfo(){var this$=this;var ve=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var sitesService=com.coremedia.cms.editor.sdk.editorContext.getSitesService();
this$.tooltipInfoTrigger$6NfM.dependOn();var allSites=sitesService.getSites();if(allSites===undefined)return undefined;if(allSites.length===0)return null;var returnUndefined=AS3.cast(com.coremedia.cms.editor.sdk.EditorContextImpl,com.coremedia.cms.editor.sdk.editorContext).computeTooltipSkipFlags(this$.tooltipSkipFlags$6NfM,this$.itemCollection);if(returnUndefined===true||returnUndefined===undefined)return undefined;return null});ve.addChangeListener(Ext.emptyFn);ve.loadValue(Ext.emptyFn)}function getContentLocale$static(content){var siteModel=
com.coremedia.cms.editor.sdk.editorContext.getSitesService().getSiteModel();if(!siteModel)return null;var localeDescriptor=content.getType().getDescriptor(siteModel.getLocaleProperty());if(!localeDescriptor)return null;var properties=content.getProperties();if(!properties)return undefined;var contentLanguageTag=properties.get(localeDescriptor.name);if(contentLanguageTag===undefined)return undefined;if(!contentLanguageTag)return null;var localesService=AS3.as(com.coremedia.cms.editor.sdk.editorContext,
com.coremedia.cms.editor.sdk.EditorContextImpl).getLocalesService();return localesService.getLocale(contentLanguageTag)}function customizeDragData$static(tabDragZone,dragData,dragGhost){var draggedTabProxy=AS3.as(dragData.dragItem,com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxy);if(draggedTabProxy)draggedTabProxy.customizeDragData(tabDragZone,dragData,dragGhost)}function registerWorkAreaTabProxyForEntity(entity,proxy){this.entitiesToWorkAreaTabProxiesMap$6NfM[getEntityKey$static(entity)]=
proxy}function unregisterWorkAreaTabProxyForEntity(entity){delete this.entitiesToWorkAreaTabProxiesMap$6NfM[getEntityKey$static(entity)]}function getWorkAreaTabProxyForEntity(entity){return this.entitiesToWorkAreaTabProxiesMap$6NfM[getEntityKey$static(entity)]}function getEntityKey$static(entity){if(AS3.is(entity,String))return entity;else if(AS3.is(entity,com.coremedia.ui.data.RemoteBean))return AS3.as(entity,com.coremedia.ui.data.RemoteBean).getUriPath();else if(AS3.is(entity,Ext.Component))return AS3.as(entity,
Ext.Component).getId();else if(entity)return entity;else return""}function getTabBarVisibilityVE(){var this$=this;var me=AS3.as(this,com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxiesTabPanel);return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var tabBar=this$.getTabBar();if(tabBar){com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(tabBar,"add");com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(tabBar,"remove");
return tabBar.itemCollection.getCount()!==0&&tabBar.itemCollection.filterBy(function(item){return!item.isHidden()}).length>0}com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(me,"afterrender");return true})}function getProxyForWorkAreaTab(tab){if(AS3.is(tab,com.coremedia.cms.editor.sdk.desktop.WorkAreaTab))return this.getWorkAreaTabProxyForEntity(AS3.as(tab,com.coremedia.cms.editor.sdk.desktop.WorkAreaTab).getEntity());else return this.getWorkAreaTabProxyForEntity(tab)}return{extend:"Ext.tab.Panel",
entitiesToWorkAreaTabProxiesMap$6NfM:null,tooltipSkipFlags$6NfM:null,constructor:WorkAreaTabProxiesTabPanelBase$,super$6NfM:function(){Ext.tab.Panel.prototype.constructor.apply(this,arguments)},onAdd:onAdd,triggerTooltipUpdate$6NfM:triggerTooltipUpdate,updateTooltips$6NfM:updateTooltips,updateTooltip$6NfM:updateTooltip,computeToolTip$6NfM:computeToolTip,startUpdateTooltipInfo$6NfM:startUpdateTooltipInfo,registerWorkAreaTabProxyForEntity:registerWorkAreaTabProxyForEntity,unregisterWorkAreaTabProxyForEntity:unregisterWorkAreaTabProxyForEntity,
getWorkAreaTabProxyForEntity:getWorkAreaTabProxyForEntity,getTabBarVisibilityVE:getTabBarVisibilityVE,getProxyForWorkAreaTab:getProxyForWorkAreaTab,statics:{customizeDragData:customizeDragData$static},requires:["Ext","Ext.Component","Ext.tab.Panel","com.coremedia.ui.data.RemoteBean","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.beanFactory","com.coremedia.ui.data.dependencies.DependencyTracker","com.coremedia.ui.data.dependencies.Trigger","com.coremedia.ui.logging.Logger"],
uses:["com.coremedia.cms.editor.sdk.EditorContextImpl","com.coremedia.cms.editor.sdk.desktop.TabTooltipInfo","com.coremedia.cms.editor.sdk.desktop.WorkAreaTab","com.coremedia.cms.editor.sdk.desktop.reusability.ReusableTabType","com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxiesTabPanel","com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxy","com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxyBase","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.SaveSearchNotification",function(SaveSearchNotification){function SaveSearchNotification$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.ui.components.AnimatedNotification,{});var defaults_$1=AS3.cast(SaveSearchNotification,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"position","rc");var displayField_25_5_$1=AS3.cast(Ext.form.field.Display,{});displayField_25_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.DisplayFieldSkin.INVERTED.getSkin());
AS3.setBindable(displayField_25_5_$1,"value",AS3.getBindable(config,"text"));config_$1.items=[displayField_25_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$pmSy(config_$1)}return{extend:"com.coremedia.ui.components.AnimatedNotification",alias:"widget.com.coremedia.cms.editor.sdk.config.saveSearchNotification",constructor:SaveSearchNotification$,super$pmSy:function(){com.coremedia.ui.components.AnimatedNotification.prototype.constructor.apply(this,arguments)},config:{text:null},requires:["Ext.form.field.Display",
"com.coremedia.ui.components.AnimatedNotification","com.coremedia.ui.skins.DisplayFieldSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.HeaderToolbar",function(HeaderToolbar){function HeaderToolbar$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.HeaderToolbarBase,{});var defaults_$1=AS3.cast(HeaderToolbar,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","HeaderToolbar_label"));config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.MenuSkin.HEADER_MENUBAR.getSkin());
config_$1.plain=true;config_$1.getFocusablesFn=AS3.bind(this,"customGetFocusables");var component_38_5_$1=AS3.cast(Ext.Component,{});component_38_5_$1["ariaRole"]="menuitem";config_$1["defaultType"]=component_38_5_$1["xtype"];delete component_38_5_$1["xtype"];delete component_38_5_$1["xclass"];config_$1.defaults=component_38_5_$1;var button_41_5_$1=AS3.cast(Ext.button.Button,{});button_41_5_$1.itemId=net.jangaroo.ext.Exml.asString(HeaderToolbar.USER_MENU_BUTTON_ITEM_ID);button_41_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.MAIN_NAVIGATION.getSkin());
AS3.setBindable(button_41_5_$1,"scale","medium");AS3.setBindable(button_41_5_$1,"maxWidth",270);button_41_5_$1.menuAlign="tr-br?";var ui_BindPropertyPlugin_47_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_47_9_$1.componentProperty="text";ui_BindPropertyPlugin_47_9_$1.transformer=com.coremedia.ui.util.EncodingUtil.encodeForHTML;ui_BindPropertyPlugin_47_9_$1.bindTo=this.getUserMenuTextValueExpression();button_41_5_$1.plugins=[ui_BindPropertyPlugin_47_9_$1];var editor_HeaderToolbarUserMenu_52_9_$1=
AS3.cast(com.coremedia.cms.editor.sdk.desktop.HeaderToolbarUserMenu,{});button_41_5_$1.menu=editor_HeaderToolbarUserMenu_52_9_$1;config_$1.items=[button_41_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$zuw2(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.desktop.HeaderToolbarBase",alias:"widget.com.coremedia.cms.editor.sdk.config.headerToolbar",constructor:HeaderToolbar$,super$zuw2:function(){com.coremedia.cms.editor.sdk.desktop.HeaderToolbarBase.prototype.constructor.apply(this,
arguments)},statics:{USER_MENU_BUTTON_ITEM_ID:"userMenuButton"},requires:["Ext.Component","Ext.button.Button","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.desktop.HeaderToolbarBase","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.MenuSkin","com.coremedia.ui.util.EncodingUtil","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.desktop.HeaderToolbarUserMenu"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.SelectTabAction",function(SelectTabAction){function SelectTabAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.SelectTabActionBase,{});var defaults_$1=AS3.cast(SelectTabAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$ZBtZ(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.desktop.SelectTabActionBase",constructor:SelectTabAction$,
super$ZBtZ:function(){com.coremedia.cms.editor.sdk.desktop.SelectTabActionBase.prototype.constructor.apply(this,arguments)},config:{tabId:NaN,direction:null},statics:{ACTION_ID:"selectTab",DIRECTION_NEXT:"next",DIRECTION_PREVIOUS:"previous"},requires:["com.coremedia.cms.editor.sdk.desktop.SelectTabActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.Startup",function(Startup){function Startup$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.Component,{});var defaults_$1=AS3.cast(Startup,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$L6VH(config_$1)}return{extend:"Ext.Component",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.startup",constructor:Startup$,super$L6VH:function(){Ext.Component.prototype.constructor.apply(this,
arguments)},requires:["Ext.Component","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.ExtensionsMenuToolbar",function(ExtensionsMenuToolbar){function ExtensionsMenuToolbar$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.toolbar.Toolbar,{});var defaults_$1=AS3.cast(ExtensionsMenuToolbar,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.SIDE.getSkin());config_$1.vertical=true;var button_42_5_$1=AS3.cast(Ext.button.Button,{});
AS3.setBindable(button_42_5_$1,"scale","medium");button_42_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.HIGHLIGHT.getSkin());AS3.setBindable(button_42_5_$1,"iconAlign","top");config_$1["defaultType"]=button_42_5_$1["xtype"];delete button_42_5_$1["xtype"];delete button_42_5_$1["xclass"];config_$1.defaults=button_42_5_$1;var button_47_5_$1=AS3.cast(Ext.button.Button,{});button_47_5_$1.itemId=net.jangaroo.ext.Exml.asString(ExtensionsMenuToolbar.LOCALZATION_MANAGER_BUTTON_ITEM_ID);
AS3.setBindable(button_47_5_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","site")));var ui_OpenDialogAction_50_9_$1=AS3.cast(com.coremedia.ui.actions.OpenDialogAction,{});AS3.setBindable(ui_OpenDialogAction_50_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.sites.LocalizationManager","Action_showLocalizationManager_icon")));AS3.setBindable(ui_OpenDialogAction_50_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.sites.LocalizationManager",
"Action_showLocalizationManager_text")));AS3.setBindable(ui_OpenDialogAction_50_9_$1,"tooltip",this.resourceManager.getString("com.coremedia.cms.editor.sdk.sites.LocalizationManager","Action_showLocalizationManager_tooltip"));var editor_LocalizationManager_54_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.sites.LocalizationManager,{});AS3.setBindable(ui_OpenDialogAction_50_9_$1,"dialog",editor_LocalizationManager_54_13_$1);button_47_5_$1.baseAction=new com.coremedia.ui.actions.OpenDialogAction(ui_OpenDialogAction_50_9_$1);
config_$1.items=[button_47_5_$1];var layout_VBox_61_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_61_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_61_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$6lwy(config_$1)}return{extend:"Ext.toolbar.Toolbar",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.extensionsMenuToolbar",constructor:ExtensionsMenuToolbar$,super$6lwy:function(){Ext.toolbar.Toolbar.prototype.constructor.apply(this,
arguments)},statics:{PREFERENCES_BUTTON_ITEM_ID:"preferencesButton",LOCALZATION_MANAGER_BUTTON_ITEM_ID:"localizationManagerButton"},requires:["Ext.button.Button","Ext.layout.container.VBox","Ext.toolbar.Toolbar","com.coremedia.cms.editor.sdk.sites.LocalizationManager_properties","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.actions.OpenDialogAction","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.ToolbarSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.sites.LocalizationManager"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.LicenseWarningBase",function(LicenseWarningBase){function LicenseWarningBase$(config){if(arguments.length<=0)config=null;this.super$JPku(config);this.addListener("afterrender",AS3.bind(this,"initLabel$JPku"))}function getNotLicensedComponentsVE(){if(!this.notLicensedComponentsVE$JPku)this.notLicensedComponentsVE$JPku=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"missingRequiredLicenses$JPku"));return this.notLicensedComponentsVE$JPku}
function isLicenseWarningVisibleVE(){var this$=this;return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var missingLicenses=this$.missingRequiredLicenses$JPku();return!Ext.isEmpty(missingLicenses)})}function localizeLicense$static(names){var localizedAndFormattedLics="\x3cul\x3e";for(var i=0;i<names.length;i++){var nameToLocalize=names[i];localizedAndFormattedLics=localizedAndFormattedLics.concat("\x3cli\x3e",mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.desktop.LicenseNames",
"LicenseName_"+nameToLocalize)||nameToLocalize,"\x3c/li\x3e")}localizedAndFormattedLics=localizedAndFormattedLics.concat("\x3c/ul\x3e");return LicenseWarningBase.getTitle().concat(localizedAndFormattedLics)}function getTitle$static(){return com.coremedia.ui.util.EncodingUtil.encodeForHTML(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","StartTab_warning_license_header"))+"\x3cbr /\x3e"+com.coremedia.ui.util.EncodingUtil.encodeForHTML(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor",
"StartTab_warning_license_body"))}function missingRequiredLicenses(){var systemInfo=com.coremedia.cap.common.SESSION.getConnection().getSystemInfo();var requiredLicenses=systemInfo.getRequiredLicenses();if(requiredLicenses===undefined)return undefined;var licenseFeatures=systemInfo.getLicenseFeatures();return requiredLicenses.filter(function(feature){return licenseFeatures.indexOf(feature)===-1})}function initLabel(){this.getNotLicensedComponentsVE().addChangeListener(AS3.bind(this,"licenseChanged$JPku"));
this.licenseChanged$JPku(this.getNotLicensedComponentsVE())}function licenseChanged(ve){var html=LicenseWarningBase.localizeLicense(ve.getValue());this.getLicenseField$JPku().setValue(html)}function getLicenseField(){return AS3.as(this.getComponent(LicenseWarningBase.LICENSE_WARNING_FIELD_ITEMID),com.coremedia.ui.components.IconDisplayField)}function onDestroy(){if(this.notLicensedComponentsVE$JPku)this.notLicensedComponentsVE$JPku.removeChangeListener(AS3.bind(this,"licenseChanged$JPku"));Ext.container.Container.prototype.onDestroy.call(this)}
return{extend:"Ext.container.Container",constructor:LicenseWarningBase$,super$JPku:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},notLicensedComponentsVE$JPku:null,getNotLicensedComponentsVE:getNotLicensedComponentsVE,isLicenseWarningVisibleVE:isLicenseWarningVisibleVE,missingRequiredLicenses$JPku:missingRequiredLicenses,initLabel$JPku:initLabel,licenseChanged$JPku:licenseChanged,getLicenseField$JPku:getLicenseField,onDestroy:onDestroy,statics:{LICENSE_WARNING_FIELD_ITEMID:"licenseWarningFieldItemId",
localizeLicense:localizeLicense$static,getTitle:getTitle$static},requires:["Ext","Ext.container.Container","com.coremedia.cap.common.SESSION","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.desktop.LicenseNames_properties","com.coremedia.ui.components.IconDisplayField","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.util.EncodingUtil","mx.resources.ResourceManager"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.SavedSearchContextMenu",function(SavedSearchContextMenu){function SavedSearchContextMenu$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.menu.Menu,{});var defaults_$1=AS3.cast(SavedSearchContextMenu,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.plain=true;var menuItem_52_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_52_5_$1.itemId=net.jangaroo.ext.Exml.asString(SavedSearchContextMenu.OPEN_MENU_ITEM_ID);var editor_ShowCollectionViewInSearchStateAction_54_9_$1=
AS3.cast(com.coremedia.cms.editor.sdk.actions.ShowCollectionViewInSearchStateAction,{});AS3.setBindable(editor_ShowCollectionViewInSearchStateAction_54_9_$1,"stateVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUserItemsArea.CURRENT_SEARCH_STATE_VARIABLE_NAME));menuItem_52_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.ShowCollectionViewInSearchStateAction(editor_ShowCollectionViewInSearchStateAction_54_9_$1);var menuSeparator_58_5_$1=AS3.cast(Ext.menu.Separator,
{});var menuItem_59_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_59_5_$1.itemId=net.jangaroo.ext.Exml.asString(SavedSearchContextMenu.MOVE_TO_TOP_ITEM_ID);var editor_MoveUserItemAction_61_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.MoveUserItemAction,{});AS3.setBindable(editor_MoveUserItemAction_61_9_$1,"targetPosition","toTop");AS3.setBindable(editor_MoveUserItemAction_61_9_$1,"stateVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUserItemsArea.CURRENT_SEARCH_STATE_VARIABLE_NAME));
menuItem_59_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.MoveUserItemAction(editor_MoveUserItemAction_61_9_$1);var menuItem_65_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_65_5_$1.itemId=net.jangaroo.ext.Exml.asString(SavedSearchContextMenu.MOVE_UP_ITEM_ID);var editor_MoveUserItemAction_67_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.MoveUserItemAction,{});AS3.setBindable(editor_MoveUserItemAction_67_9_$1,"targetPosition","up");AS3.setBindable(editor_MoveUserItemAction_67_9_$1,"stateVariableName",
net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUserItemsArea.CURRENT_SEARCH_STATE_VARIABLE_NAME));menuItem_65_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.MoveUserItemAction(editor_MoveUserItemAction_67_9_$1);var menuItem_71_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_71_5_$1.itemId=net.jangaroo.ext.Exml.asString(SavedSearchContextMenu.MOVE_DOWN_ITEM_ID);var editor_MoveUserItemAction_73_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.MoveUserItemAction,
{});AS3.setBindable(editor_MoveUserItemAction_73_9_$1,"targetPosition","down");AS3.setBindable(editor_MoveUserItemAction_73_9_$1,"stateVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUserItemsArea.CURRENT_SEARCH_STATE_VARIABLE_NAME));menuItem_71_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.MoveUserItemAction(editor_MoveUserItemAction_73_9_$1);var menuItem_77_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_77_5_$1.itemId=net.jangaroo.ext.Exml.asString(SavedSearchContextMenu.MOVE_TO_BOTTOM_ITEM_ID);
var editor_MoveUserItemAction_79_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.MoveUserItemAction,{});AS3.setBindable(editor_MoveUserItemAction_79_9_$1,"targetPosition","toBottom");AS3.setBindable(editor_MoveUserItemAction_79_9_$1,"stateVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUserItemsArea.CURRENT_SEARCH_STATE_VARIABLE_NAME));menuItem_77_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.MoveUserItemAction(editor_MoveUserItemAction_79_9_$1);
var menuSeparator_83_5_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_84_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_84_5_$1.itemId=net.jangaroo.ext.Exml.asString(SavedSearchContextMenu.ADD_MENU_ITEM_ID);var editor_ShowCollectionViewToSaveSearchAction_86_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ShowCollectionViewToSaveSearchAction,{});menuItem_84_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.ShowCollectionViewToSaveSearchAction(editor_ShowCollectionViewToSaveSearchAction_86_9_$1);
var menuItem_89_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_89_5_$1.itemId=net.jangaroo.ext.Exml.asString(SavedSearchContextMenu.DELETE_MENU_ITEM_ID);var editor_DeleteSavedSearchAction_91_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.DeleteSavedSearchAction,{});AS3.setBindable(editor_DeleteSavedSearchAction_91_9_$1,"stateVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUserItemsArea.CURRENT_SEARCH_STATE_VARIABLE_NAME));menuItem_89_5_$1.baseAction=
new com.coremedia.cms.editor.sdk.actions.DeleteSavedSearchAction(editor_DeleteSavedSearchAction_91_9_$1);config_$1.items=[menuItem_52_5_$1,menuSeparator_58_5_$1,menuItem_59_5_$1,menuItem_65_5_$1,menuItem_71_5_$1,menuItem_77_5_$1,menuSeparator_83_5_$1,menuItem_84_5_$1,menuItem_89_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$tD5B(config_$1)}return{extend:"Ext.menu.Menu",alias:"widget.com.coremedia.cms.editor.sdk.config.savedSearchContextMenu",constructor:SavedSearchContextMenu$,super$tD5B:function(){Ext.menu.Menu.prototype.constructor.apply(this,
arguments)},statics:{OPEN_MENU_ITEM_ID:"open",MOVE_TO_TOP_ITEM_ID:"moveToTop",MOVE_UP_ITEM_ID:"moveUp",MOVE_DOWN_ITEM_ID:"moveDown",MOVE_TO_BOTTOM_ITEM_ID:"moveToBottom",DELETE_MENU_ITEM_ID:"delete",ADD_MENU_ITEM_ID:"add"},requires:["Ext.menu.Item","Ext.menu.Menu","Ext.menu.Separator","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.actions.DeleteSavedSearchAction","com.coremedia.cms.editor.sdk.actions.MoveUserItemAction","com.coremedia.cms.editor.sdk.actions.ShowCollectionViewInSearchStateAction",
"com.coremedia.cms.editor.sdk.actions.ShowCollectionViewToSaveSearchAction","com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUserItemsArea"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.ComponentBasedWorkAreaTabTypeBase",function(ComponentBasedWorkAreaTabTypeBase){function ComponentBasedWorkAreaTabTypeBase$(config){if(arguments.length<=0)config=null;this.tabComponentConfig$ZWs0=AS3.getBindable(config,"tabComponent")}function getId(){return this.tabComponentConfig$ZWs0.xtype}function createTab(state,callback){var panel=AS3.cast(Ext.panel.Panel,Ext.ComponentManager.create(Ext.apply({},state||{},this.tabComponentConfig$ZWs0)));callback(panel,
this,state)}function getStateValueExpression(workAreaTab){return null}return{mixins:["com.coremedia.cms.editor.sdk.desktop.WorkAreaTabType"],tabComponentConfig$ZWs0:null,constructor:ComponentBasedWorkAreaTabTypeBase$,getId:getId,createTab:createTab,getStateValueExpression:getStateValueExpression,requires:["Ext","Ext.ComponentManager","Ext.panel.Panel","com.coremedia.cms.editor.sdk.desktop.WorkAreaTabType"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.TabChangePlugin",function(TabChangePlugin){function TabChangePlugin$(config){this.super$GzYC();if(arguments.length<=0)config=null}return{extend:"com.coremedia.cms.editor.sdk.desktop.TabChangePluginBase",constructor:TabChangePlugin$,super$GzYC:function(){com.coremedia.cms.editor.sdk.desktop.TabChangePluginBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.desktop.TabChangePluginBase"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUserItem",function(FavoritesToolbarUserItem){function FavoritesToolbarUserItem$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUserItemBase,{});var defaults_$1=AS3.cast(FavoritesToolbarUserItem,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var editor_ShowCollectionViewInSearchStateAction_23_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ShowCollectionViewInSearchStateAction,
{});AS3.setBindable(editor_ShowCollectionViewInSearchStateAction_23_5_$1,"state",config.state);config_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.ShowCollectionViewInSearchStateAction(editor_ShowCollectionViewInSearchStateAction_23_5_$1);var ui_BindPropertyPlugin_26_5_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_26_5_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"computeText"));ui_BindPropertyPlugin_26_5_$1.transformer=
com.coremedia.ui.util.EncodingUtil.encodeForHTML;ui_BindPropertyPlugin_26_5_$1.componentProperty="text";var ui_BindPropertyPlugin_29_5_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_29_5_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"computeDisabled"));ui_BindPropertyPlugin_29_5_$1.componentProperty="disabled";config_$1.plugins=[ui_BindPropertyPlugin_26_5_$1,ui_BindPropertyPlugin_29_5_$1];net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$zMFk(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUserItemBase",alias:"widget.com.coremedia.cms.editor.sdk.config.favoritesToolbarUserItem",constructor:FavoritesToolbarUserItem$,super$zMFk:function(){com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUserItemBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUserItemBase","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.BindPropertyPlugin",
"com.coremedia.ui.util.EncodingUtil","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.actions.ShowCollectionViewInSearchStateAction"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.SiteSelectorComboBox",function(SiteSelectorComboBox){function SiteSelectorComboBox$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.SiteSelectorComboBoxBase,{});var defaults_$1=AS3.cast(SiteSelectorComboBox,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"emptyText",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"HeaderToolbar_siteSelector_empty_text")));config_$1.valueField="id";AS3.setBindable(config_$1,"displayField","name");AS3.setBindable(config_$1,"encodeItems",true);config_$1.anyMatch=true;AS3.setBindable(config_$1,"valueNotFoundText",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","HeaderToolbar_siteSelector_none_text")));var ui_BindListPlugin_30_5_$1=AS3.cast(com.coremedia.ui.plugins.BindListPlugin,{});AS3.setBindable(ui_BindListPlugin_30_5_$1,"bindTo",
com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"getSitesStore")));AS3.setBindable(ui_BindListPlugin_30_5_$1,"sortField","name");var ui_DataField_33_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_33_9_$1.name="id";ui_DataField_33_9_$1.encode=false;var ui_DataField_35_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_35_9_$1.name="name";ui_DataField_35_9_$1.sortType=AS3.bind(Ext.data.SortTypes,"asUCString");ui_DataField_35_9_$1.encode=false;
AS3.setBindable(ui_BindListPlugin_30_5_$1,"fields",[ui_DataField_33_9_$1,ui_DataField_35_9_$1]);config_$1.plugins=[ui_BindListPlugin_30_5_$1];config_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$zABl(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.desktop.SiteSelectorComboBoxBase",alias:"widget.com.coremedia.cms.editor.sdk.config.siteSelectorComboBox",constructor:SiteSelectorComboBox$,super$zABl:function(){com.coremedia.cms.editor.sdk.desktop.SiteSelectorComboBoxBase.prototype.constructor.apply(this,
arguments)},requires:["Ext.data.SortTypes","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.desktop.SiteSelectorComboBoxBase","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.BindListPlugin","com.coremedia.ui.store.DataField","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.TabChangePluginBase",function(TabChangePluginBase){var workAreaTabChangeExpression$static=null;var documentTabChangeExpression$static=null;function init(component){component.addListener("beforetabchange",tabChanged$static);component.addListener("removed",AS3.bind(this,"doBeforeDestroy$R2rz"));component.addListener("beforeremove",doRemove$static)}function getWorkAreaTabChangeExpression$static(){if(!workAreaTabChangeExpression$static)workAreaTabChangeExpression$static=
com.coremedia.ui.data.ValueExpressionFactory.create("workAreaTab",com.coremedia.ui.data.beanFactory.createLocalBean());return workAreaTabChangeExpression$static}function getDocumentTabChangeExpression$static(){if(!documentTabChangeExpression$static)documentTabChangeExpression$static=com.coremedia.ui.data.ValueExpressionFactory.create("documentTab",com.coremedia.ui.data.beanFactory.createLocalBean());return documentTabChangeExpression$static}function doRemove$static(tabPanel,tab){if(AS3.is(tabPanel,
com.coremedia.cms.editor.sdk.desktop.WorkArea)&&TabChangePluginBase.getWorkAreaTabChangeExpression().getValue()===tab)TabChangePluginBase.getWorkAreaTabChangeExpression().setValue(null);else if(AS3.is(tabPanel,com.coremedia.cms.editor.sdk.premular.DocumentTabPanel)&&TabChangePluginBase.getDocumentTabChangeExpression().getValue()===tab)TabChangePluginBase.getDocumentTabChangeExpression().setValue(null)}function tabChanged$static(panel,tab){if(AS3.is(panel,com.coremedia.cms.editor.sdk.desktop.WorkArea))TabChangePluginBase.getWorkAreaTabChangeExpression().setValue(tab);
else if(AS3.is(panel,com.coremedia.cms.editor.sdk.premular.DocumentTabPanel))TabChangePluginBase.getDocumentTabChangeExpression().setValue(tab)}function doBeforeDestroy(component){if(AS3.is(component,com.coremedia.cms.editor.sdk.desktop.WorkArea)){var workAreaTabChangeExpression=TabChangePluginBase.getWorkAreaTabChangeExpression();var currentWorkAreaTab=AS3.as(workAreaTabChangeExpression.getValue(),Ext.Component);if(currentWorkAreaTab&&currentWorkAreaTab.findParentBy(function(cmp){return cmp===component}))workAreaTabChangeExpression.setValue(null)}else if(AS3.is(component,
com.coremedia.cms.editor.sdk.premular.DocumentTabPanel)){var documentTabChangeExpression=TabChangePluginBase.getDocumentTabChangeExpression();var currentDocumentTab=AS3.as(documentTabChangeExpression.getValue(),Ext.Component);if(currentDocumentTab&&currentDocumentTab.findParentBy(function(cmp){return cmp===component}))documentTabChangeExpression.setValue(null)}}function TabChangePluginBase$(){}return{mixins:["ext.Plugin"],init:init,doBeforeDestroy$R2rz:doBeforeDestroy,constructor:TabChangePluginBase$,
statics:{getWorkAreaTabChangeExpression:getWorkAreaTabChangeExpression$static,getDocumentTabChangeExpression:getDocumentTabChangeExpression$static},requires:["Ext.Component","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.beanFactory","ext.Plugin"],uses:["com.coremedia.cms.editor.sdk.desktop.WorkArea","com.coremedia.cms.editor.sdk.premular.DocumentTabPanel"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.ActionsToolbar",function(ActionsToolbar){function __initialize__(config){this.contentValueExpression$WYVg=com.coremedia.cms.editor.sdk.desktop.WorkArea.ACTIVE_CONTENT_VALUE_EXPRESSION}function ActionsToolbar$(config){if(arguments.length<=0)config=null;this.__initialize__$WYVg(config);var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.ActionsToolbarBase,{});var defaults_$1=AS3.cast(ActionsToolbar,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,
config);config_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","ActionsToolbar_label"));config_$1["id"]=ActionsToolbar.ID;config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.SIDE.getSkin());config_$1.vertical=true;config_$1.padding="0 4 0 2";var ui_HideObsoleteSeparatorsPlugin_101_5_$1=AS3.cast(com.coremedia.ui.plugins.HideObsoleteSeparatorsPlugin,{});config_$1.plugins=[ui_HideObsoleteSeparatorsPlugin_101_5_$1];
var button_104_5_$1=AS3.cast(Ext.button.Button,{});AS3.setBindable(button_104_5_$1,"scale","medium");AS3.setBindable(button_104_5_$1,"width",24);button_104_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.HIGHLIGHT.getSkin());config_$1["defaultType"]=button_104_5_$1["xtype"];delete button_104_5_$1["xtype"];delete button_104_5_$1["xclass"];config_$1.defaults=button_104_5_$1;var tbSpacer_109_5_$1=AS3.cast(Ext.toolbar.Spacer,{});AS3.setBindable(tbSpacer_109_5_$1,"height",34);
var ui_IconButton_110_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_110_5_$1.itemId=net.jangaroo.ext.Exml.asString(ActionsToolbar.CHECK_IN_BUTTON_ITEM_ID);var actionRef_112_9_$1=AS3.cast(ext.ActionRef,{});actionRef_112_9_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.CheckInAction.ACTION_ID);ui_IconButton_110_5_$1.baseAction=actionRef_112_9_$1;var ui_IconButton_115_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_115_5_$1.itemId=
net.jangaroo.ext.Exml.asString(ActionsToolbar.REVERT_BUTTON_ITEM_ID);var actionRef_117_9_$1=AS3.cast(ext.ActionRef,{});actionRef_117_9_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.RevertAction.ACTION_ID);ui_IconButton_115_5_$1.baseAction=actionRef_117_9_$1;var ui_IconButton_120_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_120_5_$1.itemId=net.jangaroo.ext.Exml.asString(ActionsToolbar.APPROVE_BUTTON_ITEM_ID);var actionRef_122_9_$1=AS3.cast(ext.ActionRef,
{});actionRef_122_9_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.ApproveAction.ACTION_ID);ui_IconButton_120_5_$1.baseAction=actionRef_122_9_$1;var ui_IconButton_125_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_125_5_$1.itemId=net.jangaroo.ext.Exml.asString(ActionsToolbar.PUBLISH_BUTTON_ITEM_ID);AS3.setBindable(ui_IconButton_125_5_$1,"disabled",true);var actionRef_128_9_$1=AS3.cast(ext.ActionRef,{});actionRef_128_9_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.PublishAction.ACTION_ID);
ui_IconButton_125_5_$1.baseAction=actionRef_128_9_$1;var ui_IconButton_131_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_131_5_$1.itemId=net.jangaroo.ext.Exml.asString(ActionsToolbar.FINISH_BUTTON_ITEM_ID);AS3.setBindable(ui_IconButton_131_5_$1,"disabled",true);var actionRef_134_9_$1=AS3.cast(ext.ActionRef,{});actionRef_134_9_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.ApprovePublishAction.ACTION_ID);ui_IconButton_131_5_$1.baseAction=actionRef_134_9_$1;
var tbSeparator_137_5_$1=AS3.cast(Ext.toolbar.Separator,{});AS3.setBindable(tbSeparator_137_5_$1,"height",1);var ui_IconButton_138_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_138_5_$1.itemId=net.jangaroo.ext.Exml.asString(ActionsToolbar.WITHDRAW_BUTTON_ITEM_ID);AS3.setBindable(ui_IconButton_138_5_$1,"disabled",true);var actionRef_141_9_$1=AS3.cast(ext.ActionRef,{});actionRef_141_9_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.WithdrawAction.ACTION_ID);
ui_IconButton_138_5_$1.baseAction=actionRef_141_9_$1;var component_144_5_$1=AS3.cast(Ext.Component,{});component_144_5_$1.flex=1;var container_145_5_$1=AS3.cast(Ext.container.Container,{});container_145_5_$1.itemId="publisher-state";var ui_BindStyleClassPlugin_147_9_$1=AS3.cast(com.coremedia.ui.plugins.BindStyleClassPlugin,{});AS3.setBindable(ui_BindStyleClassPlugin_147_9_$1,"transformer",function(operation){return operation==="publish"?"publication-in-progress":operation==="withdraw"?"withdrawal-in-progress":
operation==="approvePublish"?"simple-publication-in-progress":undefined});var ui_ValueExpression_150_13_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_150_13_$1,"expression",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.publication.PublisherState.CURRENT_OPERATION_BEAN_NAME));ui_BindStyleClassPlugin_147_9_$1.bindTo=new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_150_13_$1);var ui_RotateStyleClassPlugin_153_9_$1=AS3.cast(com.coremedia.ui.plugins.RotateStyleClassPlugin,
{});AS3.setBindable(ui_RotateStyleClassPlugin_153_9_$1,"prefix","icon-phase-");AS3.setBindable(ui_RotateStyleClassPlugin_153_9_$1,"interval",60);AS3.setBindable(ui_RotateStyleClassPlugin_153_9_$1,"phases",16);var ui_ValueExpression_157_13_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_157_13_$1,"expression",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.publication.PublisherState.ANIMATE_PROGRESS_ICON_BEAN_NAME));ui_RotateStyleClassPlugin_153_9_$1.bindTo=
new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_157_13_$1);container_145_5_$1.plugins=[ui_BindStyleClassPlugin_147_9_$1,ui_RotateStyleClassPlugin_153_9_$1];config_$1.items=[tbSpacer_109_5_$1,ui_IconButton_110_5_$1,ui_IconButton_115_5_$1,ui_IconButton_120_5_$1,ui_IconButton_125_5_$1,ui_IconButton_131_5_$1,tbSeparator_137_5_$1,ui_IconButton_138_5_$1,component_144_5_$1,container_145_5_$1];var layout_VBox_164_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_164_5_$1,
"padding","0 0 6 0");AS3.setBindable(layout_VBox_164_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_164_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$WYVg(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.desktop.ActionsToolbarBase",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.actionsToolbar",contentValueExpression$WYVg:null,__initialize__$WYVg:__initialize__,constructor:ActionsToolbar$,super$WYVg:function(){com.coremedia.cms.editor.sdk.desktop.ActionsToolbarBase.prototype.constructor.apply(this,
arguments)},statics:{ID:"actions-toolbar",CONTENT_VARIABLE_NAME:"content",ENTITY_VARIABLE_NAME:"entity",CHECK_IN_BUTTON_ITEM_ID:"checkIn",REVERT_BUTTON_ITEM_ID:"revert",APPROVE_BUTTON_ITEM_ID:"approve",DISAPPROVE_BUTTON_ITEM_ID:"disapprove",PUBLISH_BUTTON_ITEM_ID:"publish",FINISH_BUTTON_ITEM_ID:"finish",WITHDRAW_BUTTON_ITEM_ID:"withdraw"},requires:["Ext.Component","Ext.button.Button","Ext.container.Container","Ext.layout.container.VBox","Ext.toolbar.Separator","Ext.toolbar.Spacer","com.coremedia.cms.editor.sdk.desktop.ActionsToolbarBase",
"com.coremedia.ui.components.IconButton","com.coremedia.ui.exml.ValueExpression","com.coremedia.ui.plugins.BindStyleClassPlugin","com.coremedia.ui.plugins.HideObsoleteSeparatorsPlugin","com.coremedia.ui.plugins.RotateStyleClassPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.ToolbarSkin","ext.ActionRef","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.actions.ApproveAction","com.coremedia.cms.editor.sdk.actions.ApprovePublishAction","com.coremedia.cms.editor.sdk.actions.CheckInAction",
"com.coremedia.cms.editor.sdk.actions.PublishAction","com.coremedia.cms.editor.sdk.actions.RevertAction","com.coremedia.cms.editor.sdk.actions.WithdrawAction","com.coremedia.cms.editor.sdk.desktop.WorkArea","com.coremedia.cms.editor.sdk.publication.PublisherState"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.WorkAreaTabTypesPluginBase",function(WorkAreaTabTypesPluginBase){function WorkAreaTabTypesPluginBase$(config){if(arguments.length<=0)config=null;this.initialConfig$hTko=config}function init(component){var workArea=AS3.as(component,com.coremedia.cms.editor.sdk.desktop.WorkArea);if(workArea){for(var i=0;i<AS3.getBindable(this.initialConfig$hTko,"tabTypes").length;i++){var tabType=AS3.getBindable(this.initialConfig$hTko,"tabTypes")[i];workArea.registerTabType(tabType)}if(AS3.getBindable(this.initialConfig$hTko,
"defaultTabTypeId"))workArea.setDefaultTabTypeId(AS3.getBindable(this.initialConfig$hTko,"defaultTabTypeId"))}else throw new AS3.Error(component.constructor.$class+" workAreaTabTypesPlugin only works with workArea");}return{mixins:["ext.Plugin"],initialConfig$hTko:null,constructor:WorkAreaTabTypesPluginBase$,init:init,requires:["AS3.Error","ext.Plugin"],uses:["com.coremedia.cms.editor.sdk.desktop.WorkArea"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.ExtensionsMenu",function(ExtensionsMenu){function ExtensionsMenu$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.ExtensionsMenuBase,{});var defaults_$1=AS3.cast(ExtensionsMenu,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.plain=true;config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.MenuSkin.SIDE.getSkin());var ui_BEMPlugin_28_5_$1=AS3.cast(com.coremedia.ui.plugins.BEMPlugin,
{});AS3.setBindable(ui_BEMPlugin_28_5_$1,"block",ExtensionsMenu.BLOCK);config_$1.plugins=[ui_BEMPlugin_28_5_$1];var local_ExtensionsMenuToolbar_31_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.ExtensionsMenuToolbar,{});local_ExtensionsMenuToolbar_31_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.desktop.ExtensionsMenuBase.TOOLBAR_ITEM_ID);config_$1.items=[local_ExtensionsMenuToolbar_31_5_$1];var layout_Anchor_35_5_$1=AS3.cast(Ext.layout.container.Anchor,{});AS3.setBindable(config_$1,
"layout",layout_Anchor_35_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$9B_$(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.desktop.ExtensionsMenuBase",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.extensionsMenu",constructor:ExtensionsMenu$,super$9B_$:function(){com.coremedia.cms.editor.sdk.desktop.ExtensionsMenuBase.prototype.constructor.apply(this,arguments)},statics:{BLOCK:"cm-extensions-menu"},requires:["Ext.layout.container.Anchor","com.coremedia.cms.editor.sdk.desktop.ExtensionsMenuBase",
"com.coremedia.ui.plugins.BEMPlugin","com.coremedia.ui.skins.MenuSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.desktop.ExtensionsMenuToolbar"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.SaveSearchFolderHint",function(SaveSearchFolderHint){function SaveSearchFolderHint$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.ui.components.AnimatedNotification,{});var defaults_$1=AS3.cast(SaveSearchFolderHint,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"position","rc");var container_24_5_$1=AS3.cast(Ext.container.Container,{});var displayField_26_9_$1=AS3.cast(Ext.form.field.Display,
{});displayField_26_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.DisplayFieldSkin.INVERTED.getSkin());AS3.setBindable(displayField_26_9_$1,"value",AS3.getBindable(config,"text"));container_24_5_$1.items=[displayField_26_9_$1];config_$1.items=[container_24_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$yMQc(config_$1)}return{extend:"com.coremedia.ui.components.AnimatedNotification",alias:"widget.com.coremedia.cms.editor.sdk.config.saveSearchFolderHint",constructor:SaveSearchFolderHint$,
super$yMQc:function(){com.coremedia.ui.components.AnimatedNotification.prototype.constructor.apply(this,arguments)},config:{text:null},requires:["Ext.container.Container","Ext.form.field.Display","com.coremedia.ui.components.AnimatedNotification","com.coremedia.ui.skins.DisplayFieldSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.EditorMainView",function(EditorMainView){function EditorMainView$(config){if(arguments.length<=0)config=null;this.__initialize__$hkot(config);var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.EditorMainViewBase,{});var defaults_$1=AS3.cast(EditorMainView,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1["ariaRole"]=null;config_$1.cls="cm-main-view";config_$1["id"]=EditorMainView.ID;var container_64_5_$1=AS3.cast(Ext.container.Container,
{});config_$1["defaultType"]=container_64_5_$1["xtype"];delete container_64_5_$1["xtype"];delete container_64_5_$1["xclass"];config_$1.defaults=container_64_5_$1;var container_68_5_$1=AS3.cast(Ext.container.Container,{});container_68_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.VIVID.getSkin());var container_70_9_$1=AS3.cast(Ext.container.Container,{});var editor_MainNavigationToolbar_72_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.MainNavigationToolbar,{});container_70_9_$1.items=
[editor_MainNavigationToolbar_72_13_$1];var container_75_9_$1=AS3.cast(Ext.container.Container,{});container_75_9_$1["id"]=EditorMainView.TOP_CONTAINER_ITEM_ID;container_75_9_$1.flex=1;var reusability_WorkAreaTabProxiesTabPanel_78_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxiesTabPanel,{});var editor_HeaderToolbar_79_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.HeaderToolbar,{});editor_HeaderToolbar_79_13_$1["id"]=EditorMainView.HEADER_TOOLBAR_ID;container_75_9_$1.items=
[reusability_WorkAreaTabProxiesTabPanel_78_13_$1,editor_HeaderToolbar_79_13_$1];var layout_HBox_82_13_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_82_13_$1,"align","middle");AS3.setBindable(layout_HBox_82_13_$1,"pack","end");AS3.setBindable(container_75_9_$1,"layout",layout_HBox_82_13_$1);container_68_5_$1.items=[container_70_9_$1,container_75_9_$1];var layout_HBox_88_9_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_88_9_$1,"align","stretch");AS3.setBindable(container_68_5_$1,
"layout",layout_HBox_88_9_$1);var container_91_5_$1=AS3.cast(Ext.container.Container,{});container_91_5_$1.flex=1;var container_93_9_$1=AS3.cast(Ext.container.Container,{});AS3.setBindable(container_93_9_$1,"width",100);container_93_9_$1["ariaRole"]="region";container_93_9_$1.defaultFocus=":focusable";container_93_9_$1["focusable"]=true;container_93_9_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","FavoritesToolbarRegion_label"));var editor_FavoritesToolbar_99_13_$1=
AS3.cast(com.coremedia.cms.editor.sdk.desktop.FavoritesToolbar,{});editor_FavoritesToolbar_99_13_$1.itemId="favorites-toolbar";editor_FavoritesToolbar_99_13_$1.flex=1;container_93_9_$1.items=[editor_FavoritesToolbar_99_13_$1];var layout_VBox_103_13_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_103_13_$1,"align","stretch");AS3.setBindable(container_93_9_$1,"layout",layout_VBox_103_13_$1);var container_106_9_$1=AS3.cast(Ext.container.Container,{});AS3.setBindable(container_106_9_$1,
"width",2);container_106_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.LIGHT.getSkin());container_106_9_$1["id"]=EditorMainView.FAVORITES_TOOLBAR_BORDER_ID;var panel_109_9_$1=AS3.cast(Ext.panel.Panel,{});panel_109_9_$1.flex=1;var ui_BEMPlugin_111_13_$1=AS3.cast(com.coremedia.ui.plugins.BEMPlugin,{});AS3.setBindable(ui_BEMPlugin_111_13_$1,"block",EditorMainView.MAIN_PANEL_BLOCK);panel_109_9_$1.plugins=[ui_BEMPlugin_111_13_$1];var editor_SidePanel_114_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanel,
{});editor_SidePanel_114_13_$1["id"]=EditorMainView.SIDE_PANEL_WEST_ID;editor_SidePanel_114_13_$1.flex=1;AS3.setBindable(editor_SidePanel_114_13_$1,"dropZone","favorites-toolbar-border");var ui_BEMMixin_118_17_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,{});AS3.setBindable(ui_BEMMixin_118_17_$1,"bemElement",EditorMainView.SIDE_PANEL_WEST_ELEMENT);delete ui_BEMMixin_118_17_$1["xtype"];delete ui_BEMMixin_118_17_$1["xclass"];net.jangaroo.ext.Exml.apply(editor_SidePanel_114_13_$1,ui_BEMMixin_118_17_$1);
var ui_MultiItemSplitter_121_13_$1=AS3.cast(com.coremedia.ui.layouts.MultiItemSplitter,{});ui_MultiItemSplitter_121_13_$1.stateId="main-view-splitter-1";AS3.setBindable(ui_MultiItemSplitter_121_13_$1,"width",4);ui_MultiItemSplitter_121_13_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.SplitterSkin.PREMULAR.getSkin());ui_MultiItemSplitter_121_13_$1.hideOnPrevCompHidden=true;ui_MultiItemSplitter_121_13_$1.collapseOnDblClick=false;var editor_WorkArea_126_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.WorkArea,
{});AS3.setBindable(editor_WorkArea_126_13_$1,"minWidth",400);editor_WorkArea_126_13_$1.flex=2;var ui_MultiItemSplitter_128_13_$1=AS3.cast(com.coremedia.ui.layouts.MultiItemSplitter,{});ui_MultiItemSplitter_128_13_$1.stateId="main-view-splitter-2";AS3.setBindable(ui_MultiItemSplitter_128_13_$1,"width",4);ui_MultiItemSplitter_128_13_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.SplitterSkin.PREMULAR.getSkin());ui_MultiItemSplitter_128_13_$1.hideOnNextCompHidden=true;ui_MultiItemSplitter_128_13_$1.collapseOnDblClick=
false;var editor_SidePanel_133_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanel,{});editor_SidePanel_133_13_$1["id"]=EditorMainView.SIDE_PANEL_EAST_ID;editor_SidePanel_133_13_$1.flex=1;AS3.setBindable(editor_SidePanel_133_13_$1,"dropZone","actions-toolbar-border");var ui_BEMMixin_137_17_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,{});AS3.setBindable(ui_BEMMixin_137_17_$1,"bemElement",EditorMainView.SIDE_PANEL_EAST_ELEMENT);delete ui_BEMMixin_137_17_$1["xtype"];delete ui_BEMMixin_137_17_$1["xclass"];
net.jangaroo.ext.Exml.apply(editor_SidePanel_133_13_$1,ui_BEMMixin_137_17_$1);var container_140_13_$1=AS3.cast(Ext.container.Container,{});AS3.setBindable(container_140_13_$1,"width",2);container_140_13_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.LIGHT.getSkin());container_140_13_$1["id"]=EditorMainView.ACTIONS_TOOLBAR_BORDER_ID;var container_143_13_$1=AS3.cast(Ext.container.Container,{});AS3.setBindable(container_143_13_$1,"width",40);container_143_13_$1["ariaRole"]=
"region";container_143_13_$1.defaultFocus=":focusable";container_143_13_$1["focusable"]=true;container_143_13_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","ActionsToolbarRegion_label"));var editor_ActionsToolbar_149_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.ActionsToolbar,{});editor_ActionsToolbar_149_17_$1.flex=1;container_143_13_$1.items=[editor_ActionsToolbar_149_17_$1];var layout_VBox_152_17_$1=AS3.cast(Ext.layout.container.VBox,
{});AS3.setBindable(layout_VBox_152_17_$1,"align","stretch");AS3.setBindable(container_143_13_$1,"layout",layout_VBox_152_17_$1);panel_109_9_$1.items=[editor_SidePanel_114_13_$1,ui_MultiItemSplitter_121_13_$1,editor_WorkArea_126_13_$1,ui_MultiItemSplitter_128_13_$1,editor_SidePanel_133_13_$1,container_140_13_$1,container_143_13_$1];var layout_HBox_157_13_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_157_13_$1,"align","stretch");AS3.setBindable(panel_109_9_$1,"layout",layout_HBox_157_13_$1);
container_91_5_$1.items=[container_93_9_$1,container_106_9_$1,panel_109_9_$1];var layout_HBox_162_9_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_162_9_$1,"align","stretch");AS3.setBindable(container_91_5_$1,"layout",layout_HBox_162_9_$1);config_$1.items=[container_68_5_$1,container_91_5_$1];var layout_VBox_168_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_168_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_168_5_$1);var editor_ToggleDashboardAction_171_5_$1=
AS3.cast(com.coremedia.cms.editor.sdk.dashboard.ToggleDashboardAction,{});var editor_ToggleCollectionViewAction_172_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.ToggleCollectionViewAction,{});var editor_CheckInAction_173_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.CheckInAction,{});AS3.setBindable(editor_CheckInAction_173_5_$1,"contentValueExpression",this.contentValueExpression$hkot);var editor_RevertAction_174_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.RevertAction,{});
AS3.setBindable(editor_RevertAction_174_5_$1,"contentValueExpression",this.contentValueExpression$hkot);var editor_ApproveAction_175_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ApproveAction,{});AS3.setBindable(editor_ApproveAction_175_5_$1,"contentValueExpression",this.contentValueExpression$hkot);var editor_PublishAction_176_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.PublishAction,{});AS3.setBindable(editor_PublishAction_176_5_$1,"contentValueExpression",this.contentValueExpression$hkot);
var editor_ApprovePublishAction_177_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ApprovePublishAction,{});AS3.setBindable(editor_ApprovePublishAction_177_5_$1,"contentValueExpression",this.contentValueExpression$hkot);var editor_WithdrawAction_178_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.WithdrawAction,{});AS3.setBindable(editor_WithdrawAction_178_5_$1,"contentValueExpression",this.contentValueExpression$hkot);var editor_ShowInRepositoryAction_179_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction,
{});AS3.setBindable(editor_ShowInRepositoryAction_179_5_$1,"contentValueExpression",this.contentValueExpression$hkot);AS3.setBindable(editor_ShowInRepositoryAction_179_5_$1,"treeModelId",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants.TREE_MODEL_ID));var editor_ContentExportAction_181_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.util.ContentExportAction,{});AS3.setBindable(editor_ContentExportAction_181_5_$1,"contentValueExpression",this.contentValueExpression$hkot);
var editor_BookmarkAction_182_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.bookmarks.BookmarkAction,{});AS3.setBindable(editor_BookmarkAction_182_5_$1,"contentValueExpression",this.contentValueExpression$hkot);AS3.setBindable(config_$1,"actionList",[new com.coremedia.cms.editor.sdk.dashboard.ToggleDashboardAction(editor_ToggleDashboardAction_171_5_$1),new com.coremedia.cms.editor.sdk.collectionview.ToggleCollectionViewAction(editor_ToggleCollectionViewAction_172_5_$1),new com.coremedia.cms.editor.sdk.actions.CheckInAction(editor_CheckInAction_173_5_$1),
new com.coremedia.cms.editor.sdk.actions.RevertAction(editor_RevertAction_174_5_$1),new com.coremedia.cms.editor.sdk.actions.ApproveAction(editor_ApproveAction_175_5_$1),new com.coremedia.cms.editor.sdk.actions.PublishAction(editor_PublishAction_176_5_$1),new com.coremedia.cms.editor.sdk.actions.ApprovePublishAction(editor_ApprovePublishAction_177_5_$1),new com.coremedia.cms.editor.sdk.actions.WithdrawAction(editor_WithdrawAction_178_5_$1),new com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction(editor_ShowInRepositoryAction_179_5_$1),
new com.coremedia.cms.editor.sdk.util.ContentExportAction(editor_ContentExportAction_181_5_$1),new com.coremedia.cms.editor.sdk.bookmarks.BookmarkAction(editor_BookmarkAction_182_5_$1)]);config_$1["actionList$at"]=net.jangaroo.ext.Exml.APPEND;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$hkot(config_$1)}function __initialize__(config){this.contentValueExpression$hkot=com.coremedia.cms.editor.sdk.desktop.WorkArea.ACTIVE_CONTENT_VALUE_EXPRESSION}return{extend:"com.coremedia.cms.editor.sdk.desktop.EditorMainViewBase",
alias:"widget.com.coremedia.cms.editor.sdk.config.editorMainView",contentValueExpression$hkot:null,constructor:EditorMainView$,super$hkot:function(){com.coremedia.cms.editor.sdk.desktop.EditorMainViewBase.prototype.constructor.apply(this,arguments)},__initialize__$hkot:__initialize__,statics:{ID:"main",HEADER_TOOLBAR_ID:"header-toolbar",TOP_CONTAINER_ITEM_ID:"topContainer",FAVORITES_TOOLBAR_BORDER_ID:"favorites-toolbar-border",ACTIONS_TOOLBAR_BORDER_ID:"actions-toolbar-border",SIDE_PANEL_WEST_ID:"side-panel-west",
SIDE_PANEL_EAST_ID:"side-panel-east",DARK_GRADIENT_BACKGROUND_CSS_CLASS:"gray-background-60",MAIN_PANEL_BLOCK:"cm-main-view-panel",SIDE_PANEL_WEST_ELEMENT:"west",SIDE_PANEL_EAST_ELEMENT:"east"},requires:["Ext.container.Container","Ext.layout.container.HBox","Ext.layout.container.VBox","Ext.panel.Panel","com.coremedia.cms.editor.sdk.desktop.EditorMainViewBase","com.coremedia.ui.layouts.MultiItemSplitter","com.coremedia.ui.plugins.BEMMixin","com.coremedia.ui.plugins.BEMPlugin","com.coremedia.ui.skins.ContainerSkin",
"com.coremedia.ui.skins.SplitterSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.actions.ApproveAction","com.coremedia.cms.editor.sdk.actions.ApprovePublishAction","com.coremedia.cms.editor.sdk.actions.CheckInAction","com.coremedia.cms.editor.sdk.actions.PublishAction","com.coremedia.cms.editor.sdk.actions.RevertAction","com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction","com.coremedia.cms.editor.sdk.actions.WithdrawAction","com.coremedia.cms.editor.sdk.bookmarks.BookmarkAction",
"com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants","com.coremedia.cms.editor.sdk.collectionview.ToggleCollectionViewAction","com.coremedia.cms.editor.sdk.dashboard.ToggleDashboardAction","com.coremedia.cms.editor.sdk.desktop.ActionsToolbar","com.coremedia.cms.editor.sdk.desktop.FavoritesToolbar","com.coremedia.cms.editor.sdk.desktop.HeaderToolbar","com.coremedia.cms.editor.sdk.desktop.MainNavigationToolbar","com.coremedia.cms.editor.sdk.desktop.WorkArea","com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxiesTabPanel",
"com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanel","com.coremedia.cms.editor.sdk.util.ContentExportAction"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.ContentTabManagerPluginBase",function(ContentTabManagerPluginBase){function ContentTabManagerPluginBase$(config){if(arguments.length<=0)config=null}function init(component){this.workArea$WxA9=AS3.as(component,com.coremedia.cms.editor.sdk.desktop.WorkAreaBase);AS3.cast(com.coremedia.cms.editor.sdk.EditorContextImpl,com.coremedia.cms.editor.sdk.editorContext).setContentTabManager(this)}function openDocument(content){if(!content)return;this.openDocuments([content])}
function openDocuments(documents,background){if(arguments.length<=1)background=false;var premularConfigurations=[];for(var i=0;i<documents.length;i++)premularConfigurations.push(new com.coremedia.cms.editor.sdk.premular.PremularConfiguration(documents[i],null,true,true));this.openPremulars(premularConfigurations,background)}function openPremulars(premularConfigurations,background){if(arguments.length<=1)background=false;com.coremedia.cms.editor.sdk.editorContext.getWorkAreaTabManager().openTabs(premularConfigurations.map(ContentTabManagerPluginBase.premularConfigurationToTabState),
background)}function premularConfigurationToTabState$static(premularConfiguration){var tabState={};tabState.content=premularConfiguration.content;tabState.readOnlyContentObject=premularConfiguration.readOnlyContentObject;tabState.showPreview=premularConfiguration.showPreview;tabState.showForm=premularConfiguration.showForm;return com.coremedia.ui.util.ObjectUtils.removeUndefinedProperties(tabState)}function closeDocument(content){var premularTab=findPremularWithContent$static(content);if(premularTab)premularTab.forceCloseTab()}
function openDocumentInActiveTab(content){if(com.coremedia.cms.editor.sdk.desktop.PremularWorkAreaTabTypeBase.mayBeOpened(content)){var activePremular=AS3.as(this.workArea$WxA9.getActiveTab(),com.coremedia.cms.editor.sdk.premular.PremularBase);if(activePremular&&!activePremular.isInEditMode()){var proxies=com.coremedia.cms.editor.sdk.editorContext.getWorkAreaTabProxies();var proxyForContent=proxies.getWorkAreaTabProxyForEntity(content);if(proxyForContent)proxies.setActiveTab(proxyForContent);else{var currentPremularContent=
activePremular.getContent();activePremular.fireEvent(com.coremedia.cms.editor.sdk.desktop.WorkArea.BEFORE_TAB_REUSE_EVENT,activePremular);var currentProxy=proxies.getWorkAreaTabProxyForEntity(currentPremularContent);var newProxyState=new com.coremedia.cms.editor.sdk.desktop.reusability.PremularProxyTabState(AS3.getBindable(currentProxy,"proxyState").plainState());newProxyState.entity=content;newProxyState.content=content;AS3.setBindable(currentProxy,"proxyState",newProxyState);com.coremedia.ui.util.AsyncObserver.complete(function(){activePremular.fireEvent(com.coremedia.cms.editor.sdk.desktop.WorkArea.AFTER_TAB_REUSE_EVENT,
activePremular)})}return true}}return false}function findPremularWithContent$static(content){return AS3.as(com.coremedia.cms.editor.sdk.editorContext.getWorkAreaTabManager().findTabForEntity(content),com.coremedia.cms.editor.sdk.premular.PremularBase)}return{mixins:["com.coremedia.cms.editor.sdk.desktop.ContentTabManager","ext.Plugin"],workArea$WxA9:null,constructor:ContentTabManagerPluginBase$,init:init,openDocument:openDocument,openDocuments:openDocuments,openPremulars:openPremulars,closeDocument:closeDocument,
openDocumentInActiveTab:openDocumentInActiveTab,statics:{premularConfigurationToTabState:premularConfigurationToTabState$static},requires:["com.coremedia.cms.editor.sdk.desktop.ContentTabManager","com.coremedia.ui.util.AsyncObserver","com.coremedia.ui.util.ObjectUtils","ext.Plugin"],uses:["com.coremedia.cms.editor.sdk.EditorContextImpl","com.coremedia.cms.editor.sdk.desktop.PremularWorkAreaTabTypeBase","com.coremedia.cms.editor.sdk.desktop.WorkArea","com.coremedia.cms.editor.sdk.desktop.WorkAreaBase",
"com.coremedia.cms.editor.sdk.desktop.reusability.PremularProxyTabState","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.premular.PremularBase","com.coremedia.cms.editor.sdk.premular.PremularConfiguration"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.ExtensionsMenuBase",function(ExtensionsMenuBase){function extensionsMenu_(){this.extensionsMenu$K4Cm=this}function ExtensionsMenuBase$(config){if(arguments.length<=0)config=null;this.super$K4Cm(config);extensionsMenu_.call(this);this.on("show",AS3.bind(this,"calcWidth$K4Cm"))}function afterRender(){var this$=this;Ext.menu.Menu.prototype.afterRender.call(this);this.cascade(function(cmp){if(AS3.is(cmp,Ext.button.Button))cmp.addListener("click",function(){this$.hide()});
return true})}function calcWidth(){var extensionToolbar=AS3.as(this.extensionsMenu$K4Cm.queryById(ExtensionsMenuBase.TOOLBAR_ITEM_ID),Ext.toolbar.Toolbar);if(extensionToolbar.getHeight()>this.extensionsMenu$K4Cm.getHeight())this.extensionsMenu$K4Cm.setWidth(extensionToolbar.getWidth()+ExtensionsMenuBase.MENU_SCROLLBAR_WIDTH+ExtensionsMenuBase.MENU_OFFSET);else this.extensionsMenu$K4Cm.setWidth(extensionToolbar.getWidth()+ExtensionsMenuBase.MENU_OFFSET)}return{extend:"Ext.menu.Menu",constructor:ExtensionsMenuBase$,
super$K4Cm:function(){Ext.menu.Menu.prototype.constructor.apply(this,arguments)},afterRender:afterRender,calcWidth$K4Cm:calcWidth,statics:{TOOLBAR_ITEM_ID:"toolbarItemId",MENU_SCROLLBAR_WIDTH:16,MENU_OFFSET:4},requires:["Ext.button.Button","Ext.menu.Menu","Ext.toolbar.Toolbar"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.WorkAreaTabManagerPluginBase",function(WorkAreaTabManagerPluginBase){function openingInProgress_(){this.openingInProgress$6OYc=[]}function WorkAreaTabManagerPluginBase$(config){openingInProgress_.call(this);if(arguments.length<=0)config=null}function init(component){this.workArea$6OYc=AS3.as(component,com.coremedia.cms.editor.sdk.desktop.WorkAreaBase);AS3.cast(com.coremedia.cms.editor.sdk.EditorContextImpl,com.coremedia.cms.editor.sdk.editorContext).setWorkAreaTabManager(this)}
function findTabForEntity(entity){return this.findTab(this.createTabState$6OYc(entity))}function findTabProxyForEntity(entity){return com.coremedia.cms.editor.sdk.editorContext.getWorkAreaTabProxies().getWorkAreaTabProxyForEntity(entity)}function findTab(tabState){return this.workArea$6OYc.findTab(tabState)}function openTabForEntity(entity,background){if(arguments.length<=1)background=false;this.openTabsForEntities([entity],background)}function openTabsForEntities(entities,background){var this$=this;
if(arguments.length<=1)background=false;var filteredEntities=[];for(var $1=0;$1<entities.length;++$1){var entityToOpen=entities[$1];if(!this.isOpeningInProgress$6OYc(entityToOpen))filteredEntities.push(entityToOpen)}this.openingInProgress$6OYc=this.openingInProgress$6OYc.concat(filteredEntities);this.openTabs(filteredEntities.map(function(entity){return this$.createTabState$6OYc(entity)}),background)}function openTab(tabState,background){if(arguments.length<=1)background=false;this.openTabs([tabState],
background)}function openTabs(tabStates,background){var this$=this;if(arguments.length<=1)background=false;if(!tabStates)return;tabStates=tabStates.filter(notFalsy$static);if(tabStates.length===0)return;var tabAndTabStates=this.collectTabsAndStates$6OYc(tabStates);this.createAndAddMissingTabs$6OYc(tabAndTabStates,function(tabs){if(tabs.length>0){var t=tabs[tabs.length-1];this$.updateTabState$6OYc(t,background)}for(var $1=0;$1<tabStates.length;++$1){var tabState=tabStates[$1];this$.openingInProgress$6OYc.splice(tabState.entity)}})}
function isOpeningInProgress(entity){for(var $1=0;$1<this.openingInProgress$6OYc.length;++$1){var inProgress=this.openingInProgress$6OYc[$1];if(inProgress===entity)return true}return false}function createAndAddMissingTabs(tabAndtabStates,callback){var this$=this;var tabs=tabAndtabStates.concat([]).map(function(){return undefined});var execEvt=new com.coremedia.ui.util.ExecuteEventually(function(){if(tabs.length==tabAndtabStates.length)this$.allTabsCreated$6OYc(tabs,callback);else{com.coremedia.ui.logging.Logger.error("Some tabs could not be created.");
callback([])}});for(var i=0;i<tabAndtabStates.length;i++){execEvt.delay();var tabOrState=tabAndtabStates[i];if(tabOrState.isInstance){tabs[i]=tabOrState;execEvt.proceed()}else this.createTabForIndex$6OYc(tabAndtabStates[i],tabs,i,execEvt)}execEvt.proceed()}function allTabsCreated(tabs,callback){var workAreaProxies=com.coremedia.cms.editor.sdk.editorContext.getWorkAreaTabProxies();var startingIndex=workAreaProxies.itemCollection.indexOf(workAreaProxies.getActiveTab())+1;var result=[];for(var i=0;i<
tabs.length;i++){var tab=tabs[i];if(tab){var tabType=this.getEntityTabTypeForTabState$6OYc(tab);if(this.workArea$6OYc.itemCollection.indexOf(tab)===-1)result.push(this.workArea$6OYc.addTab(tabType,tab,startingIndex+i));else result.push(tab)}}callback(result)}function createTabForIndex(tabState,tabs,index,execEvt){this.createTab$6OYc(tabState,function(tab){tabs[index]=tab;execEvt.proceed()})}function collectTabsAndStates(tabStates){var result=[];for(var i=0;i<tabStates.length;i++){var tabState=tabStates[i];
var tab=this.findTab(tabState);if(tab){result.push(tab);if(AS3.is(tab,com.coremedia.ui.data.StateHolder))try{AS3.cast(com.coremedia.ui.data.StateHolder,tab).getStateValueExpression().setValue(tabState)}catch(e){if(AS3.is(e,AS3.Error));else throw e;}}else result.push(tabState)}return result}function updateTabState(lastOpenedTab,background){if(lastOpenedTab)if(!background){var proxy=com.coremedia.cms.editor.sdk.editorContext.getWorkAreaTabProxies().getWorkAreaTabProxyForEntity(AS3.is(lastOpenedTab,
com.coremedia.cms.editor.sdk.desktop.WorkAreaTab)?AS3.as(lastOpenedTab,com.coremedia.cms.editor.sdk.desktop.WorkAreaTab).getEntity():lastOpenedTab);if(proxy&&proxy.getTitle()&&proxy.getTitle()!==""&&proxy.getTitle()!==lastOpenedTab.getTitle()){this.workArea$6OYc.setActiveTab(lastOpenedTab);var shim=com.coremedia.ui.util.ShimmableUtil.createShimForElement(lastOpenedTab.getEl());com.coremedia.ui.util.ShimmableUtil.toggleShim(shim,true,true);shim.dom.setAttribute("style","background:white;opacity:0.9");
lastOpenedTab.on("titlechange",function(){shim.destroy()},null,{single:true})}else this.workArea$6OYc.setActiveTab(lastOpenedTab)}else this.workArea$6OYc.highlightTab(lastOpenedTab)}function closeTab(tabState){var tab=this.findTab(tabState);if(tab)this.workArea$6OYc.remove(tab)}function closeTabForEntity(entity){this.closeTab(this.createTabState$6OYc(entity))}function replaceTab(oldEntity,newEntity){var this$=this;var oldTabState=this.createTabState$6OYc(oldEntity,true);var newTabState=this.createTabState$6OYc(newEntity,
true);var newTabType=this.getEntityTabTypeForTabState$6OYc(newTabState);if(newTabType){var isNewTabActive=true;var newTabIndex=-1;var oldTab=this.findTab(oldTabState);if(oldTab){isNewTabActive=oldTab===this.workArea$6OYc.getActiveTab();newTabIndex=this.workArea$6OYc.itemCollection.indexOf(oldTab);this.workArea$6OYc.remove(oldTab)}var newTab=this.findTab(newTabState);if(!newTab)this.createTab$6OYc(newTabState,function(newTab){newTab=this$.workArea$6OYc.addTab(newTabType,newTab,newTabIndex);if(isNewTabActive)this$.workArea$6OYc.setActiveTab(newTab)});
else if(isNewTabActive)this.workArea$6OYc.setActiveTab(newTab)}}function notFalsy$static(any){return!!any}function createTabState(entity,strictly){if(arguments.length<=1)strictly=false;var tabTypes=this.workArea$6OYc.getEntityTabTypes();for(var $1=0;$1<tabTypes.length;++$1){var tabType=tabTypes[$1];var tabState=tabType.createTabState(entity);if(tabState){tabState.entity=entity;if(!strictly||entity===tabType.extractEntity(tabState))return tabState}}return null}function createTab(tabState,callback){var tabType=
this.getEntityTabTypeForTabState$6OYc(tabState);if(tabType)if(AS3.is(tabType,com.coremedia.cms.editor.sdk.desktop.reusability.ReusableTabType))AS3.as(tabType,com.coremedia.cms.editor.sdk.desktop.reusability.ReusableTabType).transformTabState(tabState,function(transformedState,tab){callback(tab?tab:transformedState)});else tabType.createTab(tabState,function(tab){callback(tab)});else callback()}function getEntityTabTypeForTabState(tabState){var tabTypes=this.workArea$6OYc.getEntityTabTypes();for(var $1=
0;$1<tabTypes.length;++$1){var tabType=tabTypes[$1];if(tabType.extractEntity(tabState))return tabType}return null}return{mixins:["com.coremedia.cms.editor.sdk.desktop.WorkAreaTabManager","ext.Plugin"],workArea$6OYc:null,constructor:WorkAreaTabManagerPluginBase$,init:init,findTabForEntity:findTabForEntity,findTabProxyForEntity:findTabProxyForEntity,findTab:findTab,openTabForEntity:openTabForEntity,openTabsForEntities:openTabsForEntities,openTab:openTab,openTabs:openTabs,isOpeningInProgress$6OYc:isOpeningInProgress,
createAndAddMissingTabs$6OYc:createAndAddMissingTabs,allTabsCreated$6OYc:allTabsCreated,createTabForIndex$6OYc:createTabForIndex,collectTabsAndStates$6OYc:collectTabsAndStates,updateTabState$6OYc:updateTabState,closeTab:closeTab,closeTabForEntity:closeTabForEntity,replaceTab:replaceTab,createTabState$6OYc:createTabState,createTab$6OYc:createTab,getEntityTabTypeForTabState$6OYc:getEntityTabTypeForTabState,requires:["AS3.Error","com.coremedia.cms.editor.sdk.desktop.WorkAreaTabManager","com.coremedia.ui.data.StateHolder",
"com.coremedia.ui.logging.Logger","com.coremedia.ui.util.ExecuteEventually","com.coremedia.ui.util.ShimmableUtil","ext.Plugin"],uses:["com.coremedia.cms.editor.sdk.EditorContextImpl","com.coremedia.cms.editor.sdk.desktop.WorkAreaBase","com.coremedia.cms.editor.sdk.desktop.WorkAreaTab","com.coremedia.cms.editor.sdk.desktop.reusability.ReusableTabType","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.AriaMainRegionPluginBase",function(AriaMainRegionPluginBase){var workAreaTabChangeExpression$static=null;var documentTabChangeExpression$static=null;function init(component){component.addListener("beforetabchange",tabChanged$static);component.addListener("removed",AS3.bind(this,"doBeforeDestroy$5ePc"));component.addListener("beforeremove",doRemove$static)}function getWorkAreaTabChangeExpression$static(){if(!workAreaTabChangeExpression$static)workAreaTabChangeExpression$static=
com.coremedia.ui.data.ValueExpressionFactory.create("workAreaTab",com.coremedia.ui.data.beanFactory.createLocalBean());return workAreaTabChangeExpression$static}function getDocumentTabChangeExpression$static(){if(!documentTabChangeExpression$static)documentTabChangeExpression$static=com.coremedia.ui.data.ValueExpressionFactory.create("documentTab",com.coremedia.ui.data.beanFactory.createLocalBean());return documentTabChangeExpression$static}function doRemove$static(tabPanel,tab){if(AS3.is(tabPanel,
com.coremedia.cms.editor.sdk.desktop.WorkArea)&&getWorkAreaTabChangeExpression$static().getValue()===tab)getWorkAreaTabChangeExpression$static().setValue(null);else if(AS3.is(tabPanel,com.coremedia.cms.editor.sdk.premular.DocumentTabPanel)&&getDocumentTabChangeExpression$static().getValue()===tab)getDocumentTabChangeExpression$static().setValue(null)}function tabChanged$static(panel,tab){if(AS3.is(panel,com.coremedia.cms.editor.sdk.desktop.WorkArea)){removeMainRegion$static();getWorkAreaTabChangeExpression$static().setValue(tab)}else if(AS3.is(panel,
com.coremedia.cms.editor.sdk.premular.DocumentTabPanel)){removeMainRegion$static();getDocumentTabChangeExpression$static().setValue(tab);updateMainRegion$static()}}function updateMainRegion$static(){var documentTabPanel=getDocumentTabChangeExpression$static().getValue();if(documentTabPanel.rendered)documentTabPanel.el.dom.setAttribute("role","main");else documentTabPanel.on("afterrender",updateMainRegion$static,null,{single:true})}function removeMainRegion$static(){var documentTabPanel=getDocumentTabChangeExpression$static().getValue();
if(documentTabPanel)if(documentTabPanel.rendered)documentTabPanel.el.dom.removeAttribute("role");else documentTabPanel.on("afterrender",removeMainRegion$static,null,{single:true})}function doBeforeDestroy(component){if(AS3.is(component,com.coremedia.cms.editor.sdk.desktop.WorkArea)){var workAreaTabChangeExpression=getWorkAreaTabChangeExpression$static();var currentWorkAreaTab=AS3.as(workAreaTabChangeExpression.getValue(),Ext.Component);if(currentWorkAreaTab&&currentWorkAreaTab.findParentBy(function(cmp){return cmp===
component}))workAreaTabChangeExpression.setValue(null)}else if(AS3.is(component,com.coremedia.cms.editor.sdk.premular.DocumentTabPanel)){var documentTabChangeExpression=getDocumentTabChangeExpression$static();var currentDocumentTab=AS3.as(documentTabChangeExpression.getValue(),Ext.Component);if(currentDocumentTab&&currentDocumentTab.findParentBy(function(cmp){return cmp===component}))documentTabChangeExpression.setValue(null)}}function AriaMainRegionPluginBase$(){}return{mixins:["ext.Plugin"],init:init,
doBeforeDestroy$5ePc:doBeforeDestroy,constructor:AriaMainRegionPluginBase$,requires:["Ext.Component","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.beanFactory","ext.Plugin"],uses:["com.coremedia.cms.editor.sdk.desktop.WorkArea","com.coremedia.cms.editor.sdk.premular.DocumentTabPanel"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.LicenseWarning",function(LicenseWarning){function LicenseWarning$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.LicenseWarningBase,{});var defaults_$1=AS3.cast(LicenseWarning,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var ui_BindVisibilityPlugin_26_5_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_26_5_$1.bindTo=this.isLicenseWarningVisibleVE();
config_$1.plugins=[ui_BindVisibilityPlugin_26_5_$1];var ui_IconDisplayField_29_5_$1=AS3.cast(com.coremedia.ui.components.IconDisplayField,{});ui_IconDisplayField_29_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.desktop.LicenseWarningBase.LICENSE_WARNING_FIELD_ITEMID);ui_IconDisplayField_29_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.IconDisplayFieldSkin.LICENSE_WARNING.getSkin());AS3.setBindable(ui_IconDisplayField_29_5_$1,"scale","large");AS3.setBindable(ui_IconDisplayField_29_5_$1,
"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","warning")));AS3.setBindable(ui_IconDisplayField_29_5_$1,"value",com.coremedia.cms.editor.sdk.desktop.LicenseWarningBase.getTitle());config_$1.items=[ui_IconDisplayField_29_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Svn7(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.desktop.LicenseWarningBase",alias:"widget.com.coremedia.cms.editor.sdk.config.licenseWarning",constructor:LicenseWarning$,
super$Svn7:function(){com.coremedia.cms.editor.sdk.desktop.LicenseWarningBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.desktop.LicenseWarningBase","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.components.IconDisplayField","com.coremedia.ui.plugins.BindVisibilityPlugin","com.coremedia.ui.skins.IconDisplayFieldSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.WorkAreaTabTypesPlugin",function(WorkAreaTabTypesPlugin){function WorkAreaTabTypesPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.WorkAreaTabTypesPluginBase,{});var defaults_$1=AS3.cast(WorkAreaTabTypesPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$bkb1(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.desktop.WorkAreaTabTypesPluginBase",
constructor:WorkAreaTabTypesPlugin$,super$bkb1:function(){com.coremedia.cms.editor.sdk.desktop.WorkAreaTabTypesPluginBase.prototype.constructor.apply(this,arguments)},config:{tabTypes:null,defaultTabTypeId:null},requires:["com.coremedia.cms.editor.sdk.desktop.WorkAreaTabTypesPluginBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUserItemsArea",function(FavoritesToolbarUserItemsArea){function FavoritesToolbarUserItemsArea$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUserItemsAreaBase,{});var defaults_$1=AS3.cast(FavoritesToolbarUserItemsArea,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.PLAIN.getSkin());
var object_45_5_$1={};object_45_5_$1.render=function(cont){com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUtils.initHandling(cont,config.contextMenu,FavoritesToolbarUserItemsArea.CURRENT_SEARCH_STATE_VARIABLE_NAME)};AS3.setBindable(config_$1,"listeners",object_45_5_$1);var ui_DraggableItemsPlugin_52_5_$1=AS3.cast(com.coremedia.ui.plugins.DraggableItemsPlugin,{});AS3.setBindable(ui_DraggableItemsPlugin_52_5_$1,"dropHandler",com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUtils.dropHandler);
AS3.setBindable(ui_DraggableItemsPlugin_52_5_$1,"ddGroup",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUtils.USER_ITEMS_DD_GROUP));AS3.setBindable(ui_DraggableItemsPlugin_52_5_$1,"itemSelector","a.x-toolbar-item");AS3.setBindable(ui_DraggableItemsPlugin_52_5_$1,"hideGhostWrapper",true);AS3.setBindable(ui_DraggableItemsPlugin_52_5_$1,"sourcePlaceholderBuilder",com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUtils.buildSourcePlaceholder);AS3.setBindable(ui_DraggableItemsPlugin_52_5_$1,
"targetPlaceholderBuilder",com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUtils.buildTargetPlaceholder);AS3.setBindable(ui_DraggableItemsPlugin_52_5_$1,"ghostBuilder",com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUtils.buildDragGhost);AS3.setBindable(ui_DraggableItemsPlugin_52_5_$1,"repairHighlightingColor","ignore");var ui_BindComponentsPlugin_60_5_$1=AS3.cast(com.coremedia.ui.plugins.BindComponentsPlugin,{});AS3.setBindable(ui_BindComponentsPlugin_60_5_$1,"valueExpression",com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUtils.getUserItemsValueExpression());
AS3.setBindable(ui_BindComponentsPlugin_60_5_$1,"configBeanParameterName","state");AS3.setBindable(ui_BindComponentsPlugin_60_5_$1,"clearBeforeUpdate",true);AS3.setBindable(ui_BindComponentsPlugin_60_5_$1,"reuseComponents",false);AS3.setBindable(ui_BindComponentsPlugin_60_5_$1,"preserveScroll",true);AS3.setBindable(ui_BindComponentsPlugin_60_5_$1,"getKey",com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUtils.getUserItemName);var editor_FavoritesToolbarUserItem_67_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUserItem,
{});editor_FavoritesToolbarUserItem_67_9_$1.ellipsis=18;AS3.setBindable(ui_BindComponentsPlugin_60_5_$1,"template",editor_FavoritesToolbarUserItem_67_9_$1);config_$1.plugins=[ui_DraggableItemsPlugin_52_5_$1,ui_BindComponentsPlugin_60_5_$1];var button_72_5_$1=AS3.cast(Ext.button.Button,{});AS3.setBindable(button_72_5_$1,"scale","medium");AS3.setBindable(button_72_5_$1,"width",94);AS3.setBindable(button_72_5_$1,"iconAlign","top");button_72_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.HIGHLIGHT.getSkin());
AS3.setBindable(button_72_5_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","FavoritesToolbar_userItems_btn_icon")));config_$1["defaultType"]=button_72_5_$1["xtype"];delete button_72_5_$1["xtype"];delete button_72_5_$1["xclass"];config_$1.defaults=button_72_5_$1;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$XRHo(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUserItemsAreaBase",metadata:{"":["PublicApi"]},
alias:"widget.com.coremedia.cms.editor.sdk.config.favoritesToolbarUserItemsArea",constructor:FavoritesToolbarUserItemsArea$,super$XRHo:function(){com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUserItemsAreaBase.prototype.constructor.apply(this,arguments)},statics:{DEFAULT_ITEMS:"defaultItems",CURRENT_SEARCH_STATE_VARIABLE_NAME:"currentSearchState"},requires:["Ext.button.Button","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUserItemsAreaBase",
"com.coremedia.ui.plugins.BindComponentsPlugin","com.coremedia.ui.plugins.DraggableItemsPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.ToolbarSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUserItem","com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUtils"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.WorkAreaTabBase",function(WorkAreaTabBase){function WorkAreaTabBase$(config){if(arguments.length<=0)config=null;this.entity$L$Gy=AS3.getBindable(config,"entity");this.super$L$Gy(config)}function getEntity(){com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(this,"entity");return this.entity$L$Gy}function setWorkAreaTabType(workAreaTabType){this.workAreaTabType$L$Gy=AS3.cast(com.coremedia.cms.editor.sdk.desktop.EntityWorkAreaTabType,
workAreaTabType)}function getWorkAreaTabType(){return this.workAreaTabType$L$Gy}function getEntityExpression(){this.entityExpression$L$Gy=this.entityExpression$L$Gy||com.coremedia.ui.data.ValueExpressionFactory.create("entity",this);return this.entityExpression$L$Gy}function setEntity(entity){if(this.entity$L$Gy!==entity){this.entity$L$Gy=entity;this.fireEvent("entity")}}function getStateValueExpression(){if(!this.stateValueExpression$L$Gy)this.stateValueExpression$L$Gy=com.coremedia.ui.data.ValueExpressionFactory.createFromValueHolder(new com.coremedia.ui.data.ValueHolderAdapter(AS3.bind(this,
"serializeState$L$Gy"),AS3.bind(this,"assumeState")));return this.stateValueExpression$L$Gy}function serializeState(){var myTabType=this.workAreaTabType$L$Gy;return myTabType.createTabState(this.getEntity())}function assumeState(tabState){var entity=this.workAreaTabType$L$Gy.extractEntity(tabState);if(entity!==null){this.setEntity(entity);return true}return false}function calculateTitle(){throw new AS3.Error("calculateTitle() must be implemented for the class "+this);}function calculateTooltip(){return null}
function calculateIcon(){return undefined}return{extend:"Ext.panel.Panel",mixins:["com.coremedia.ui.data.StateHolder","com.coremedia.cms.editor.sdk.desktop.WorkAreaTabTypeAware","com.coremedia.ui.mixins.LazyItemsContainerMixin"],metadata:{"":["PublicApi"]},entity$L$Gy:null,workAreaTabType$L$Gy:null,stateValueExpression$L$Gy:null,entityExpression$L$Gy:null,constructor:WorkAreaTabBase$,super$L$Gy:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},getEntity:getEntity,setWorkAreaTabType:setWorkAreaTabType,
getWorkAreaTabType:getWorkAreaTabType,getEntityExpression:getEntityExpression,setEntity:setEntity,getStateValueExpression:getStateValueExpression,serializeState$L$Gy:serializeState,assumeState:assumeState,calculateTitle:calculateTitle,calculateTooltip:calculateTooltip,calculateIcon:calculateIcon,statics:{TITLE_BUSY_INDICATOR:"\x26nbsp;…\x26nbsp;"},requires:["AS3.Error","Ext.panel.Panel","com.coremedia.cms.editor.sdk.desktop.WorkAreaTabTypeAware","com.coremedia.ui.data.StateHolder","com.coremedia.ui.data.ValueExpressionFactory",
"com.coremedia.ui.data.ValueHolderAdapter","com.coremedia.ui.data.dependencies.DependencyTracker","com.coremedia.ui.mixins.LazyItemsContainerMixin"],uses:["com.coremedia.cms.editor.sdk.desktop.EntityWorkAreaTabType"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUtils",function(FavoritesToolbarUtils){var GHOST_MODIFIER_FAVORITES_TOOLBAR$static;function GHOST_MODIFIER_FAVORITES_TOOLBAR$static_(){GHOST_MODIFIER_FAVORITES_TOOLBAR$static=com.coremedia.ui.util.DraggableItemsUtils.DRAG_GHOST_BLOCK.createModifier("favorites-toolbar")}var SOURCE_PLACEHOLDER_MODIFIER_FAVORITES_TOOLBAR$static;function SOURCE_PLACEHOLDER_MODIFIER_FAVORITES_TOOLBAR$static_(){SOURCE_PLACEHOLDER_MODIFIER_FAVORITES_TOOLBAR$static=
com.coremedia.ui.util.DraggableItemsUtils.SOURCE_PLACEHOLDER_BLOCK.createModifier("favorites-toolbar")}var TARGET_PLACEHOLDER_MODIFIER_FAVORITES_TOOLBAR$static;function TARGET_PLACEHOLDER_MODIFIER_FAVORITES_TOOLBAR$static_(){TARGET_PLACEHOLDER_MODIFIER_FAVORITES_TOOLBAR$static=com.coremedia.ui.util.DraggableItemsUtils.TARGET_PLACEHOLDER_BLOCK.createModifier("favorites-toolbar")}function FavoritesToolbarUtils$(){}function initHandling$static(cont,contextMenu,contextName,saveScrollState,showHideContainer){switch(Math.max(arguments.length,
3)){case 3:saveScrollState=false;case 4:showHideContainer=null}if(!contextMenu["viewModel"]&&cont.lookupViewModel())contextMenu["viewModel"]=cont.lookupViewModel();var theContextMenu=AS3.as(Ext.ComponentManager.create(contextMenu),Ext.menu.Menu);var lastScrollState;cont.getEl().addListener("contextmenu",function(event){if(saveScrollState)lastScrollState=AS3.cast(Ext.dom.Element,cont.getEl().child("div.x-box-inner")).dom.scrollTop;theContextMenu.mon(theContextMenu,"afterrender",function(menu){theContextMenu.mon(theContextMenu.el,
"contextmenu",function(e){e.preventDefault()})});var userItemSelector=com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUserItem.xtype.replace(/\./g,"-");var target=event.getTarget("*[data-componentid*\x3d"+userItemSelector+"]",10,true);if(target)var clickedItem=AS3.as(Ext.getCmp(target.getId()),com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUserItem);var clickedItemState=clickedItem?clickedItem.state:undefined;com.coremedia.ui.util.ObjectUtils.setProperty(showHideContainer||cont,contextName,
clickedItemState);var posX=event.getXY()[0];var posY=event.getXY()[1];theContextMenu.showAt([Math.max(posX,0),Math.max(posY,0)]);event.preventDefault()});cont.addListener("beforedestroy",function(){theContextMenu.destroy()});if(saveScrollState)showHideContainer.mon(showHideContainer,"beforehide",function(){lastScrollState=AS3.cast(Ext.dom.Element,cont.getEl().child("div.x-box-inner")).dom.scrollTop});if(saveScrollState)cont.mon(cont,"afterlayout",function(){if(lastScrollState)AS3.cast(Ext.dom.Element,
cont.getEl().child("div.x-box-inner")).dom.scrollTop=lastScrollState;else AS3.cast(Ext.dom.Element,cont.getEl().child("div.x-box-inner")).dom.scrollTop=0})}function dropHandler$static(dropIndex,dragItem){var userItem=AS3.as(dragItem,com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUserItem);if(userItem){var moveActionConfig=AS3.cast(com.coremedia.cms.editor.sdk.actions.MoveUserItemAction,{});AS3.setBindable(moveActionConfig,"targetPosition",""+dropIndex);var moveAction=new com.coremedia.cms.editor.sdk.actions.MoveUserItemAction(moveActionConfig);
moveAction.setState(userItem.state);moveAction.execute();return true}return false}function buildSourcePlaceholder$static(dragItem){var placeholder=com.coremedia.ui.util.DraggableItemsUtils.defaultSourcePlaceholderBuilder(dragItem);placeholder.dom.style.position="absolute";placeholder.addCls(SOURCE_PLACEHOLDER_MODIFIER_FAVORITES_TOOLBAR$static.getCSSClass());return placeholder}function buildTargetPlaceholder$static(dragItem){var placeholder=com.coremedia.ui.util.DraggableItemsUtils.defaultTargetPlaceholderBuilder(dragItem);
placeholder.dom.style.position="absolute";placeholder.addCls(TARGET_PLACEHOLDER_MODIFIER_FAVORITES_TOOLBAR$static.getCSSClass());return placeholder}function getUserItemsValueExpression$static(){return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var rawSavedSearches=com.coremedia.cms.editor.sdk.collectionview.CollectionViewUtil.getSavedSearches()||[];return rawSavedSearches.map(function(item){return new com.coremedia.cms.editor.sdk.desktop.SavedSearchModel(item)})})}
function getUserItemName$static(state){return state["_name"]}function buildDragGhost$static(dragItem){var ghost=com.coremedia.ui.util.DraggableItemsUtils.defaultGhostBuilder(dragItem);ghost.addCls(GHOST_MODIFIER_FAVORITES_TOOLBAR$static.getCSSClass());ghost.removeCls("x-btn-over");return ghost}return{constructor:FavoritesToolbarUtils$,statics:{GHOST_MODIFIER_FAVORITES_TOOLBAR:undefined,SOURCE_PLACEHOLDER_MODIFIER_FAVORITES_TOOLBAR:undefined,TARGET_PLACEHOLDER_MODIFIER_FAVORITES_TOOLBAR:undefined,
USER_ITEMS_DD_GROUP:"userItemsDD",initHandling:initHandling$static,dropHandler:dropHandler$static,buildSourcePlaceholder:buildSourcePlaceholder$static,buildTargetPlaceholder:buildTargetPlaceholder$static,getUserItemsValueExpression:getUserItemsValueExpression$static,getUserItemName:getUserItemName$static,buildDragGhost:buildDragGhost$static,__initStatics__:function(){GHOST_MODIFIER_FAVORITES_TOOLBAR$static_();SOURCE_PLACEHOLDER_MODIFIER_FAVORITES_TOOLBAR$static_();TARGET_PLACEHOLDER_MODIFIER_FAVORITES_TOOLBAR$static_()}},
requires:["Ext","Ext.ComponentManager","Ext.dom.Element","Ext.menu.Menu","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.util.DraggableItemsUtils","com.coremedia.ui.util.ObjectUtils"],uses:["com.coremedia.cms.editor.sdk.actions.MoveUserItemAction","com.coremedia.cms.editor.sdk.collectionview.CollectionViewUtil","com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUserItem","com.coremedia.cms.editor.sdk.desktop.SavedSearchModel"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.CloseTabsAction",function(CloseTabsAction){function CloseTabsAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.CloseTabsActionBase,{});var defaults_$1=AS3.cast(CloseTabsAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Php0(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.desktop.CloseTabsActionBase",constructor:CloseTabsAction$,
super$Php0:function(){com.coremedia.cms.editor.sdk.desktop.CloseTabsActionBase.prototype.constructor.apply(this,arguments)},config:{mode:null,asShortcut:false,excludedTypes:null},statics:{CLOSE_TAB_MODE:"closeTab",CLOSE_OTHER_TABS_MODE:"closeOtherTabs",CLOSE_ALL_TABS_MODE:"closeAllTabs"},requires:["com.coremedia.cms.editor.sdk.desktop.CloseTabsActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.SelectTabActionBase",function(SelectTabActionBase){function SelectTabActionBase$(config){if(arguments.length<=0)config=null;this.super$X8zK(config);this.tabId$X8zK=AS3.getBindable(config,"tabId");this.direction$X8zK=AS3.getBindable(config,"direction");this.setHandler(AS3.bind(this,"handleAction$X8zK"),this)}function handleAction(){var workAreaTabProxies=com.coremedia.cms.editor.sdk.editorContext.getWorkAreaTabProxies();var tab=null;if(this.tabId$X8zK)if(this.tabId$X8zK<
9)tab=workAreaTabProxies.itemCollection["items"][this.tabId$X8zK-1];else{var tabsOpened=workAreaTabProxies.itemCollection.getCount();tab=AS3.as(workAreaTabProxies.itemCollection.getAt(tabsOpened-1),Ext.panel.Panel)}else if(this.direction$X8zK){var tabIndex=getActiveTabIndex$static();if(this.direction$X8zK===com.coremedia.cms.editor.sdk.desktop.SelectTabAction.DIRECTION_NEXT)tabIndex++;else if(this.direction$X8zK===com.coremedia.cms.editor.sdk.desktop.SelectTabAction.DIRECTION_PREVIOUS)tabIndex--;
tab=AS3.as(workAreaTabProxies.itemCollection.getAt(tabIndex),Ext.panel.Panel)}if(tab){workAreaTabProxies.setActiveTab(tab);workAreaTabProxies.focus()}}function getActiveTabIndex$static(){var workAreaTabProxies=com.coremedia.cms.editor.sdk.editorContext.getWorkAreaTabProxies();var tab=workAreaTabProxies.getActiveTab();var index=workAreaTabProxies.itemCollection.indexOf(tab);return index}return{extend:"Ext.Action",tabId$X8zK:NaN,direction$X8zK:null,constructor:SelectTabActionBase$,super$X8zK:function(){Ext.Action.prototype.constructor.apply(this,
arguments)},handleAction$X8zK:handleAction,requires:["Ext.Action","Ext.panel.Panel"],uses:["com.coremedia.cms.editor.sdk.desktop.SelectTabAction","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.WorkArea",function(WorkArea){function ACTIVE_CONTENT_VALUE_EXPRESSION$static_(){WorkArea.ACTIVE_CONTENT_VALUE_EXPRESSION=com.coremedia.ui.data.ValueExpressionFactory.create(WorkArea.ACTIVE_CONTENT_BEAN_NAME)}function ACTIVE_ENTITY_VALUE_EXPRESSION$static_(){WorkArea.ACTIVE_ENTITY_VALUE_EXPRESSION=com.coremedia.ui.data.ValueExpressionFactory.create("activeEntity")}function WorkArea$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.WorkAreaBase,
{});var defaults_$1=AS3.cast(WorkArea,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1["id"]=com.coremedia.cms.editor.sdk.desktop.WorkAreaBase.COMPONENT_ID;config_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","WorkArea_label"));AS3.setBindable(config_$1,"activeTab",0);var local_WorkAreaTabBar_60_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.WorkAreaTabBar,{});AS3.setBindable(local_WorkAreaTabBar_60_5_$1,"hidden",
true);AS3.setBindable(config_$1,"tabBar",local_WorkAreaTabBar_60_5_$1);var editor_TabChangePlugin_63_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.TabChangePlugin,{});var editor_AriaMainRegionPlugin_64_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.AriaMainRegionPlugin,{});var editor_ContentTabManagerPlugin_65_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.ContentTabManagerPlugin,{});var editor_WorkAreaTabManagerPlugin_66_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.WorkAreaTabManagerPlugin,
{});var editor_WorkAreaTabTypesPlugin_67_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.WorkAreaTabTypesPlugin,{});AS3.setBindable(editor_WorkAreaTabTypesPlugin_67_5_$1,"defaultTabTypeId",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.desktop.StartTab.xtype));var editor_ComponentBasedWorkAreaTabType_69_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.ComponentBasedWorkAreaTabType,{});var editor_StartTab_71_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.StartTab,{});editor_StartTab_71_13_$1.itemId=
net.jangaroo.ext.Exml.asString(WorkArea.START_TAB_ITEM_ID);AS3.setBindable(editor_StartTab_71_13_$1,"closable",false);AS3.setBindable(editor_ComponentBasedWorkAreaTabType_69_9_$1,"tabComponent",editor_StartTab_71_13_$1);var editor_PremularWorkAreaTabType_75_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.PremularWorkAreaTabType,{});var editor_ComponentBasedWorkAreaTabType_76_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.ComponentBasedWorkAreaTabType,{});var editor_Dashboard_78_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.Dashboard,
{});AS3.setBindable(editor_Dashboard_78_13_$1,"closable",false);AS3.setBindable(editor_ComponentBasedWorkAreaTabType_76_9_$1,"tabComponent",editor_Dashboard_78_13_$1);AS3.setBindable(editor_WorkAreaTabTypesPlugin_67_5_$1,"tabTypes",[new com.coremedia.cms.editor.sdk.desktop.ComponentBasedWorkAreaTabType(editor_ComponentBasedWorkAreaTabType_69_9_$1),new com.coremedia.cms.editor.sdk.desktop.PremularWorkAreaTabType(editor_PremularWorkAreaTabType_75_9_$1),new com.coremedia.cms.editor.sdk.desktop.ComponentBasedWorkAreaTabType(editor_ComponentBasedWorkAreaTabType_76_9_$1)]);
config_$1.plugins=[editor_TabChangePlugin_63_5_$1,editor_AriaMainRegionPlugin_64_5_$1,editor_ContentTabManagerPlugin_65_5_$1,editor_WorkAreaTabManagerPlugin_66_5_$1,editor_WorkAreaTabTypesPlugin_67_5_$1];var panel_85_5_$1=AS3.cast(Ext.panel.Panel,{});config_$1["defaultType"]=panel_85_5_$1["xtype"];delete panel_85_5_$1["xtype"];delete panel_85_5_$1["xclass"];config_$1.defaults=panel_85_5_$1;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$ng1g(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.desktop.WorkAreaBase",
metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.workArea",constructor:WorkArea$,super$ng1g:function(){com.coremedia.cms.editor.sdk.desktop.WorkAreaBase.prototype.constructor.apply(this,arguments)},statics:{BEFORE_TAB_REUSE_EVENT:"beforeTabReuseEvent",AFTER_TAB_REUSE_EVENT:"afterTabReuseEvent",ACTIVE_CONTENT_BEAN_NAME:"activeContent",ACTIVE_CONTENT_VALUE_EXPRESSION:undefined,ACTIVE_ENTITY_VALUE_EXPRESSION:undefined,START_TAB_ITEM_ID:"startTab",__initStatics__:function(){ACTIVE_CONTENT_VALUE_EXPRESSION$static_();
ACTIVE_ENTITY_VALUE_EXPRESSION$static_()}},requires:["Ext.panel.Panel","com.coremedia.cms.editor.sdk.desktop.WorkAreaBase","com.coremedia.ui.data.ValueExpressionFactory","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.dashboard.Dashboard","com.coremedia.cms.editor.sdk.desktop.AriaMainRegionPlugin","com.coremedia.cms.editor.sdk.desktop.ComponentBasedWorkAreaTabType","com.coremedia.cms.editor.sdk.desktop.ContentTabManagerPlugin","com.coremedia.cms.editor.sdk.desktop.PremularWorkAreaTabType",
"com.coremedia.cms.editor.sdk.desktop.StartTab","com.coremedia.cms.editor.sdk.desktop.TabChangePlugin","com.coremedia.cms.editor.sdk.desktop.WorkAreaTabBar","com.coremedia.cms.editor.sdk.desktop.WorkAreaTabManagerPlugin","com.coremedia.cms.editor.sdk.desktop.WorkAreaTabTypesPlugin"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.FavoritesToolbar",function(FavoritesToolbar){function BLOCK$static_(){FavoritesToolbar.BLOCK=new com.coremedia.ui.models.bem.BEMBlock("cm-favorites-toolbar")}function ELEMENT_ARROW_BUTTON$static_(){FavoritesToolbar.ELEMENT_ARROW_BUTTON=FavoritesToolbar.BLOCK.createElement("arrow-button")}function ELEMENT_LOGO_BOX$static_(){FavoritesToolbar.ELEMENT_LOGO_BOX=FavoritesToolbar.BLOCK.createElement("logo-box")}function FavoritesToolbar$(config){if(arguments.length<=
0)config=null;var config_$1=AS3.cast(Ext.toolbar.Toolbar,{});var defaults_$1=AS3.cast(FavoritesToolbar,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1["id"]=FavoritesToolbar.COMPONENT_ID;config_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","FavoritesToolbar_label"));config_$1.vertical=true;config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.SIDE.getSkin());config_$1.padding="0 2 0 4";var ui_BEMPlugin_64_5_$1=
AS3.cast(com.coremedia.ui.plugins.BEMPlugin,{});AS3.setBindable(ui_BEMPlugin_64_5_$1,"block",FavoritesToolbar.BLOCK);config_$1.plugins=[ui_BEMPlugin_64_5_$1];var tbSpacer_67_5_$1=AS3.cast(Ext.toolbar.Spacer,{});AS3.setBindable(tbSpacer_67_5_$1,"height",34);var editor_BookmarkFavouritesToolbarButton_68_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.bookmarks.BookmarkFavouritesToolbarButton,{});editor_BookmarkFavouritesToolbarButton_68_5_$1.itemId=net.jangaroo.ext.Exml.asString(FavoritesToolbar.FAVORITES_TOOLBAR_BOOKMARKS_ITEM_ID);
var editor_BookmarkContextMenu_70_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.bookmarks.BookmarkContextMenu,{});AS3.setBindable(editor_BookmarkFavouritesToolbarButton_68_5_$1,"contextMenu",editor_BookmarkContextMenu_70_9_$1);var ui_BEMMixin_73_9_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,{});AS3.setBindable(ui_BEMMixin_73_9_$1,"bemElement",FavoritesToolbar.ELEMENT_ARROW_BUTTON);delete ui_BEMMixin_73_9_$1["xtype"];delete ui_BEMMixin_73_9_$1["xclass"];net.jangaroo.ext.Exml.apply(editor_BookmarkFavouritesToolbarButton_68_5_$1,
ui_BEMMixin_73_9_$1);var editor_NewContentMenuButton_76_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.newcontent.NewContentMenuButton,{});editor_NewContentMenuButton_76_5_$1.itemId=net.jangaroo.ext.Exml.asString(FavoritesToolbar.NEW_MENU_BUTTON_ITEM_ID);var ui_BEMMixin_78_9_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,{});AS3.setBindable(ui_BEMMixin_78_9_$1,"bemElement",FavoritesToolbar.ELEMENT_ARROW_BUTTON);delete ui_BEMMixin_78_9_$1["xtype"];delete ui_BEMMixin_78_9_$1["xclass"];net.jangaroo.ext.Exml.apply(editor_NewContentMenuButton_76_5_$1,
ui_BEMMixin_78_9_$1);var tbSeparator_81_5_$1=AS3.cast(Ext.toolbar.Separator,{});AS3.setBindable(tbSeparator_81_5_$1,"height",1);AS3.setBindable(tbSeparator_81_5_$1,"margin",0);var editor_FavoritesToolbarUserItemsArea_83_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUserItemsArea,{});editor_FavoritesToolbarUserItemsArea_83_5_$1.overflowHandler="scroller";editor_FavoritesToolbarUserItemsArea_83_5_$1.flex=1;editor_FavoritesToolbarUserItemsArea_83_5_$1.itemId=net.jangaroo.ext.Exml.asString(FavoritesToolbar.USER_ITEMS_TOOLBAR_ITEM_ID);
editor_FavoritesToolbarUserItemsArea_83_5_$1.vertical=true;editor_FavoritesToolbarUserItemsArea_83_5_$1["tabGuard"]=false;editor_FavoritesToolbarUserItemsArea_83_5_$1["ariaRole"]=null;AS3.setBindable(editor_FavoritesToolbarUserItemsArea_83_5_$1,"border",false);var editor_SavedSearchContextMenu_91_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.SavedSearchContextMenu,{});editor_FavoritesToolbarUserItemsArea_83_5_$1.contextMenu=editor_SavedSearchContextMenu_91_9_$1;var tbSeparator_94_5_$1=AS3.cast(Ext.toolbar.Separator,
{});AS3.setBindable(tbSeparator_94_5_$1,"height",1);var button_95_5_$1=AS3.cast(Ext.button.Button,{});AS3.setBindable(button_95_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","FavoritesToolbar_extensions_btn_text")));button_95_5_$1.itemId=net.jangaroo.ext.Exml.asString(FavoritesToolbar.EXTENSION_MENU_BUTTON_ITEM_ID);AS3.setBindable(button_95_5_$1,"scale","medium");AS3.setBindable(button_95_5_$1,"iconAlign","top");AS3.setBindable(button_95_5_$1,
"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","FavoritesToolbar_extensions_btn_icon")));button_95_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.HIGHLIGHT.getSkin());button_95_5_$1.menuAlign="bl-br";var editor_ExtensionsMenu_103_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.ExtensionsMenu,{});editor_ExtensionsMenu_103_9_$1.hideMode="display";button_95_5_$1.menu=editor_ExtensionsMenu_103_9_$1;var ui_BEMMixin_106_9_$1=
AS3.cast(com.coremedia.ui.plugins.BEMMixin,{});AS3.setBindable(ui_BEMMixin_106_9_$1,"bemElement",FavoritesToolbar.ELEMENT_ARROW_BUTTON);delete ui_BEMMixin_106_9_$1["xtype"];delete ui_BEMMixin_106_9_$1["xclass"];net.jangaroo.ext.Exml.apply(button_95_5_$1,ui_BEMMixin_106_9_$1);var box_109_5_$1=AS3.cast(Ext.Component,{});box_109_5_$1.itemId=net.jangaroo.ext.Exml.asString(FavoritesToolbar.FAVORITES_TOOLBAR_LOGO_BOX_ITEM_ID);var ui_BEMMixin_111_9_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,{});AS3.setBindable(ui_BEMMixin_111_9_$1,
"bemElement",FavoritesToolbar.ELEMENT_LOGO_BOX);delete ui_BEMMixin_111_9_$1["xtype"];delete ui_BEMMixin_111_9_$1["xclass"];net.jangaroo.ext.Exml.apply(box_109_5_$1,ui_BEMMixin_111_9_$1);config_$1.items=[tbSpacer_67_5_$1,editor_BookmarkFavouritesToolbarButton_68_5_$1,editor_NewContentMenuButton_76_5_$1,tbSeparator_81_5_$1,editor_FavoritesToolbarUserItemsArea_83_5_$1,tbSeparator_94_5_$1,button_95_5_$1,box_109_5_$1];var layout_VBox_116_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_116_5_$1,
"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_116_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$4L9G(config_$1)}return{extend:"Ext.toolbar.Toolbar",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.favoritesToolbar",constructor:FavoritesToolbar$,super$4L9G:function(){Ext.toolbar.Toolbar.prototype.constructor.apply(this,arguments)},statics:{COMPONENT_ID:"favorites-toolbar",USER_ITEMS_TOOLBAR_ITEM_ID:"userItems",EXTENSION_MENU_BUTTON_ITEM_ID:"extensionsMenuButton",
NEW_MENU_BUTTON_ITEM_ID:"newMenuButton",FAVORITES_TOOLBAR_BOOKMARKS_ITEM_ID:"favoritesToolbarBookmarks",FAVORITES_TOOLBAR_LOGO_BOX_ITEM_ID:"logoBox",BLOCK:undefined,ELEMENT_ARROW_BUTTON:undefined,ELEMENT_LOGO_BOX:undefined,__initStatics__:function(){BLOCK$static_();ELEMENT_ARROW_BUTTON$static_();ELEMENT_LOGO_BOX$static_()}},requires:["Ext.Component","Ext.button.Button","Ext.layout.container.VBox","Ext.toolbar.Separator","Ext.toolbar.Spacer","Ext.toolbar.Toolbar","com.coremedia.cms.editor.Editor_properties",
"com.coremedia.ui.models.bem.BEMBlock","com.coremedia.ui.plugins.BEMMixin","com.coremedia.ui.plugins.BEMPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.ToolbarSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.bookmarks.BookmarkContextMenu","com.coremedia.cms.editor.sdk.bookmarks.BookmarkFavouritesToolbarButton","com.coremedia.cms.editor.sdk.desktop.ExtensionsMenu","com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUserItemsArea","com.coremedia.cms.editor.sdk.desktop.SavedSearchContextMenu",
"com.coremedia.cms.editor.sdk.newcontent.NewContentMenuButton"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.PremularWorkAreaTabTypeBase",function(PremularWorkAreaTabTypeBase){var PREMULAR_PREFIX$static="premular_";var ABOUT_BLANK_URL$static="about:blank";var resourceManager$static;function resourceManager$static_(){resourceManager$static=mx.resources.ResourceManager.getInstance()}function PremularWorkAreaTabTypeBase$(config){if(arguments.length<=0)config=null;this.super$Uo64(config)}function createTab(state,callback){var this$=this;this.prepareTabState$Uo64(state,
function(tabState){this$.createTabInternal$Uo64(tabState.plainState(),callback)})}function transformTabState(tabState,callback){var this$=this;var me=AS3.as(this,com.coremedia.cms.editor.sdk.desktop.PremularWorkAreaTabType);this.prepareTabState$Uo64(tabState,function(preparedTabState){var key=this$.computeReusabilityKey(preparedTabState);if(com.coremedia.ui.util.reusableComponentsService.isReusabilityEnabled(key)&&com.coremedia.ui.util.reusableComponentsService.limitForReusableComponentsReached(key))callback(preparedTabState,
null,tabState,me);else this$.createTabInternal$Uo64(preparedTabState.plainState(),function(tab,tabType,state){if(com.coremedia.ui.util.reusableComponentsService.isReusabilityEnabled(key)&&!com.coremedia.ui.util.reusableComponentsService.limitForReusableComponentsReached(key))com.coremedia.ui.util.reusableComponentsService.registerComponentForReuse(key,tab);if(com.coremedia.ui.util.reusableComponentsService.isReusabilityEnabled(key))callback(preparedTabState,null,tabState,me);else callback(preparedTabState,
tab,tabState,me)})})}function prepareTabState(tabState,callback){if(com.coremedia.cms.editor.sdk.editorContext.getWorkAreaTabProxies()){var proxyForEntity=com.coremedia.cms.editor.sdk.editorContext.getWorkAreaTabProxies().getWorkAreaTabProxyForEntity(tabState.entity);if(proxyForEntity){callback(AS3.getBindable(proxyForEntity,"proxyState"));return}}if(!AS3.is(tabState.premularConfiguration,com.coremedia.cms.editor.sdk.premular.PremularConfiguration)){var premularConfig=new com.coremedia.cms.editor.sdk.premular.PremularConfiguration(tabState.content,
tabState.readOnlyContentObject,tabState.showPreview,tabState.showForm);tabState.premularConfiguration=premularConfig}var premularState=new com.coremedia.cms.editor.sdk.desktop.reusability.PremularProxyTabState(tabState);premularState.premularConfiguration.load(function(){callback(premularState)})}function createTabInternal(state,callback){var this$=this;com.coremedia.cms.editor.sdk.desktop.ComponentBasedEntityWorkAreaTabType.prototype.createTab.call(this,state,function(tab,tabType,tabState){if(tab){tab.addListener("afterrender",
AS3.bind(this$,"tabActivated$Uo64"));tab.addListener("activate",AS3.bind(this$,"tabActivated$Uo64"));tab.addListener(com.coremedia.cms.editor.sdk.desktop.WorkArea.AFTER_TAB_REUSE_EVENT,AS3.bind(this$,"tabActivated$Uo64"));tab.addListener("deactivate",AS3.bind(this$,"tabDeactivated$Uo64"));tab.addListener("removed",AS3.bind(this$,"tabDeactivated$Uo64"));tab.addListener("destroy",AS3.bind(this$,"tabDestroyed$Uo64"))}callback(tab,tabType,tabState)})}function tabActivated(premular){var ownerCt=AS3.as(premular.ownerCt,
com.coremedia.cms.editor.sdk.desktop.WorkArea);if(ownerCt&&AS3.cast(Ext.layout.container.Card,ownerCt.getLayout()).getActiveItem()===premular){this.activePremular$Uo64=premular;com.coremedia.cms.editor.sdk.desktop.WorkArea.ACTIVE_CONTENT_VALUE_EXPRESSION.setValue(premular.getContent())}}function tabDeactivated(premular){if(com.coremedia.cms.editor.sdk.desktop.WorkArea.ACTIVE_CONTENT_VALUE_EXPRESSION.getValue()===premular.getContent())com.coremedia.cms.editor.sdk.desktop.WorkArea.ACTIVE_CONTENT_VALUE_EXPRESSION.setValue(null);
if(this.activePremular$Uo64===premular)this.activePremular$Uo64=null}function getStateValueExpression(workAreaTab){return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(getPremularState$static,workAreaTab)}function getPremularState$static(premular){return{content:premular.getContent()}}function tabDestroyed(premular){premular.removeListener("afterrender",AS3.bind(this,"tabActivated$Uo64"));premular.removeListener("activate",AS3.bind(this,"tabActivated$Uo64"));premular.removeListener(com.coremedia.cms.editor.sdk.desktop.WorkArea.AFTER_TAB_REUSE_EVENT,
AS3.bind(this,"tabActivated$Uo64"));premular.removeListener("deactivate",AS3.bind(this,"tabDeactivated$Uo64"));premular.removeListener("removed",AS3.bind(this,"tabDeactivated$Uo64"));premular.removeListener("destroy",AS3.bind(this,"tabDestroyed$Uo64"));if(premular===this.activePremular$Uo64)this.tabDeactivated$Uo64(premular)}function transformEntity(entity){var contentProxy=AS3.as(entity,com.coremedia.cap.content.ContentProxy);return com.coremedia.cms.editor.sdk.desktop.ComponentBasedEntityWorkAreaTabType.prototype.transformEntity.call(this,
contentProxy?contentProxy.getContent():entity)}function isValidEntity(entity){return com.coremedia.cms.editor.sdk.desktop.ComponentBasedEntityWorkAreaTabType.prototype.isValidEntity.call(this,entity)&&PremularWorkAreaTabTypeBase.mayBeOpened(AS3.cast(com.coremedia.cap.content.Content,entity))}function mayBeOpened$static(content){return com.coremedia.ui.data.RemoteBeanUtil.isAccessible(content)&&content.isDocument()&&!content.isDeleted()}function computeStateSerialization(tabState){return{content:tabState.entity}}
function computeReusabilityKey(tabState){var content;if(AS3.is(tabState,com.coremedia.cms.editor.sdk.desktop.reusability.PremularProxyTabState))content=AS3.as(tabState,com.coremedia.cms.editor.sdk.desktop.reusability.PremularProxyTabState).content;else if(AS3.is(tabState,com.coremedia.cms.editor.sdk.desktop.reusability.ProxyTabState))content=AS3.as(AS3.as(tabState,com.coremedia.cms.editor.sdk.desktop.reusability.ProxyTabState).entity,com.coremedia.cap.content.Content);if(content)return PREMULAR_PREFIX$static+
content.getType().getName();if(AS3.is(tabState,com.coremedia.cms.editor.sdk.desktop.reusability.PremularProxyTabState)&&AS3.as(tabState,com.coremedia.cms.editor.sdk.desktop.reusability.PremularProxyTabState).contentTypeName)return PREMULAR_PREFIX$static+AS3.as(tabState,com.coremedia.cms.editor.sdk.desktop.reusability.PremularProxyTabState).contentTypeName;return null}function setupReusedTab(tabState,reusedTab){var proxyState=AS3.as(tabState,com.coremedia.cms.editor.sdk.desktop.reusability.PremularProxyTabState);
var premular=AS3.as(reusedTab,com.coremedia.cms.editor.sdk.premular.Premular);var oldContent=premular.getContent();var previewIFrame=AS3.as(premular.queryById(com.coremedia.cms.editor.sdk.preview.InnerPreviewPanelBase.IFRAME_ITEM_ID),com.coremedia.cms.editor.sdk.preview.PreviewIFrame);if(previewIFrame&&oldContent!==proxyState.content)previewIFrame.setUrl(ABOUT_BLANK_URL$static);premular.setPremularConfiguration(proxyState.premularConfiguration);premular.setTheContent(proxyState.content)}function isDirectlyClosable(tabState){var content=
AS3.as(tabState.entity,com.coremedia.cap.content.Content);try{return content&&!content.isCheckedOutByCurrentSession()}catch(e){if(AS3.is(e,AS3.Error));else throw e;}return true}function computeTabTitle(tabState){return PremularWorkAreaTabTypeBase.getTitleForContent(AS3.as(tabState.entity,com.coremedia.cap.content.Content))}function computeTabIconCls(tabState){return PremularWorkAreaTabTypeBase.getIconClsForContent(AS3.as(tabState.entity,com.coremedia.cap.content.Content))}function computeTooltipInfo(tabState){var content=
AS3.as(tabState.entity,com.coremedia.cap.content.Content);if(!content)return undefined;var tabTooltipInfo=new com.coremedia.cms.editor.sdk.desktop.TabTooltipInfo;var title=com.coremedia.ui.util.EncodingUtil.encodeForHTML(this.computeTabTitle(tabState));if(!title)return undefined;tabTooltipInfo.addTooltipEntry(com.coremedia.cms.editor.sdk.desktop.TabTooltipInfo.TITLE,null,title);var sitesService=com.coremedia.cms.editor.sdk.editorContext.getSitesService();var siteModel=sitesService.getSiteModel();
if(!siteModel)return tabTooltipInfo;var site=sitesService.getSiteFor(content);if(site===undefined)return undefined;var siteName=site&&site.getName();var siteLocale=site&&site.getLocale();var contentLocale=getContentLocale$static(content);if(contentLocale===undefined)return undefined;var needContentLocale=site&&contentLocale&&!contentLocale.equals(siteLocale);tabTooltipInfo.addTooltipEntry(com.coremedia.cms.editor.sdk.desktop.TabTooltipInfo.SITE,resourceManager$static.getString("com.coremedia.cms.editor.Editor",
"WorkArea_Premular_tooltip_siteName"),siteName?com.coremedia.ui.util.EncodingUtil.encodeForHTML(siteName):resourceManager$static.getString("com.coremedia.cms.editor.Editor","WorkArea_Premular_tooltip_noSite"));if(siteLocale)tabTooltipInfo.addTooltipEntry(com.coremedia.cms.editor.sdk.desktop.TabTooltipInfo.LOCALE,needContentLocale?resourceManager$static.getString("com.coremedia.cms.editor.Editor","WorkArea_Premular_tooltip_siteLocale"):resourceManager$static.getString("com.coremedia.cms.editor.Editor",
"WorkArea_Premular_tooltip_locale"),siteLocale.getDisplayName());if(needContentLocale)tabTooltipInfo.addTooltipEntry(com.coremedia.cms.editor.sdk.desktop.TabTooltipInfo.CONTENT_LOCALE,resourceManager$static.getString("com.coremedia.cms.editor.Editor","WorkArea_Premular_tooltip_contentLocale"),contentLocale.getDisplayName());var contentType=content.getType();if(!contentType)return undefined;var additionalTabTooltipEntries=AS3.cast(com.coremedia.cms.editor.sdk.EditorContextImpl,com.coremedia.cms.editor.sdk.editorContext).computeAdditionalTabTooltipEntries(content);
if(additionalTabTooltipEntries===undefined)return undefined;tabTooltipInfo.addTooltipEntries(additionalTabTooltipEntries);return tabTooltipInfo}function getContentLocale$static(content){var siteModel=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getSiteModel();if(!siteModel)return null;var localeDescriptor=content.getType().getDescriptor(siteModel.getLocaleProperty());if(!localeDescriptor)return null;var properties=content.getProperties();if(!properties)return undefined;var contentLanguageTag=
properties.get(localeDescriptor.name);if(contentLanguageTag===undefined)return undefined;if(!contentLanguageTag)return null;var localesService=AS3.as(com.coremedia.cms.editor.sdk.editorContext,com.coremedia.cms.editor.sdk.EditorContextImpl).getLocalesService();return localesService.getLocale(contentLanguageTag)}function getTitleForContent$static(content){return content?content.getName():""}function getIconClsForContent$static(content){if(!content)return"";try{if(content.isCheckedOutByCurrentSession())return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor",
"Premular_checked_out_by_me_icon");if(content.isCheckedOutByOther())return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","Premular_checked_out_by_other_icon")}catch(e){if(AS3.is(e,AS3.Error));else throw e;}return com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.getIconStyleClassForContentType(content.getType())}function notifyTabProxyReady(tabProxy){var proxyTabState=AS3.as(AS3.getBindable(tabProxy,"proxyState"),com.coremedia.cms.editor.sdk.desktop.reusability.ProxyTabState);
var content=AS3.as(proxyTabState.entity,com.coremedia.cap.content.Content);if(content&&PremularWorkAreaTabTypeBase.mayBeOpened(content)){tabProxy.registerEntityChangeHandler(com.coremedia.cap.content.ContentPropertyNames.IS_DELETED,function(){recheckContentState$static(tabProxy)});tabProxy.registerEntityChangeHandler(com.coremedia.ui.data.BeanState.PROPERTY_NAME,function(){recheckContentState$static(tabProxy)})}}function recheckContentState$static(tabProxy){var proxyTabState=AS3.getBindable(tabProxy,
"proxyState");if(!proxyTabState)return;var content=AS3.as(proxyTabState.entity,com.coremedia.cap.content.Content);if(!content)return;if(!PremularWorkAreaTabTypeBase.mayBeOpened(content)){tabProxy.closeAsynchronously();if(com.coremedia.cap.common.SESSION.getUser()!==AS3.as(content,com.coremedia.cap.content.impl.ContentImpl).getModifier())com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showInfo(resourceManager$static.getString("com.coremedia.cms.editor.Editor","Premular_closedMessage_title"),resourceManager$static.getString("com.coremedia.cms.editor.Editor",
"Premular_closedMessage_text"))}}return{extend:"com.coremedia.cms.editor.sdk.desktop.ComponentBasedEntityWorkAreaTabType",mixins:["com.coremedia.cms.editor.sdk.desktop.reusability.ReusableTabType"],activePremular$Uo64:null,constructor:PremularWorkAreaTabTypeBase$,super$Uo64:function(){com.coremedia.cms.editor.sdk.desktop.ComponentBasedEntityWorkAreaTabType.prototype.constructor.apply(this,arguments)},createTab:createTab,transformTabState:transformTabState,prepareTabState$Uo64:prepareTabState,createTabInternal$Uo64:createTabInternal,
tabActivated$Uo64:tabActivated,tabDeactivated$Uo64:tabDeactivated,getStateValueExpression:getStateValueExpression,tabDestroyed$Uo64:tabDestroyed,transformEntity:transformEntity,isValidEntity:isValidEntity,computeStateSerialization:computeStateSerialization,computeReusabilityKey:computeReusabilityKey,setupReusedTab:setupReusedTab,isDirectlyClosable:isDirectlyClosable,computeTabTitle:computeTabTitle,computeTabIconCls:computeTabIconCls,computeTooltipInfo:computeTooltipInfo,notifyTabProxyReady:notifyTabProxyReady,
statics:{resourceManager:undefined,mayBeOpened:mayBeOpened$static,getTitleForContent:getTitleForContent$static,getIconClsForContent:getIconClsForContent$static,__initStatics__:function(){resourceManager$static_()}},requires:["AS3.Error","Ext.layout.container.Card","com.coremedia.cap.common.SESSION","com.coremedia.cap.content.Content","com.coremedia.cap.content.ContentPropertyNames","com.coremedia.cap.content.ContentProxy","com.coremedia.cap.content.impl.ContentImpl","com.coremedia.cms.editor.sdk.desktop.ComponentBasedEntityWorkAreaTabType",
"com.coremedia.cms.editor.sdk.desktop.reusability.ReusableTabType","com.coremedia.ui.data.BeanState","com.coremedia.ui.data.RemoteBeanUtil","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.util.EncodingUtil","com.coremedia.ui.util.reusableComponentsService","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.EditorContextImpl","com.coremedia.cms.editor.sdk.desktop.PremularWorkAreaTabType","com.coremedia.cms.editor.sdk.desktop.TabTooltipInfo","com.coremedia.cms.editor.sdk.desktop.WorkArea",
"com.coremedia.cms.editor.sdk.desktop.reusability.PremularProxyTabState","com.coremedia.cms.editor.sdk.desktop.reusability.ProxyTabState","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.premular.Premular","com.coremedia.cms.editor.sdk.premular.PremularConfiguration","com.coremedia.cms.editor.sdk.preview.InnerPreviewPanelBase","com.coremedia.cms.editor.sdk.preview.PreviewIFrame","com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil","com.coremedia.cms.editor.sdk.util.MessageBoxUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.ComponentBasedWorkAreaTabType",function(ComponentBasedWorkAreaTabType){function ComponentBasedWorkAreaTabType$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.ComponentBasedWorkAreaTabTypeBase,{});var defaults_$1=AS3.cast(ComponentBasedWorkAreaTabType,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$138F(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.desktop.ComponentBasedWorkAreaTabTypeBase",
constructor:ComponentBasedWorkAreaTabType$,super$138F:function(){com.coremedia.cms.editor.sdk.desktop.ComponentBasedWorkAreaTabTypeBase.prototype.constructor.apply(this,arguments)},config:{tabComponent:null},requires:["com.coremedia.cms.editor.sdk.desktop.ComponentBasedWorkAreaTabTypeBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.HeaderToolbarBase",function(HeaderToolbarBase){function HeaderToolbarBase$(config){if(arguments.length<=0)config=null;this.super$n$Xp(config)}function getUserMenuTextValueExpression(){if(!this.userMenuTextValueExpression$n$Xp)this.userMenuTextValueExpression$n$Xp=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(calcUserMenuText$static);return this.userMenuTextValueExpression$n$Xp}function calcUserMenuText$static(){var userName=com.coremedia.cap.common.SESSION.getUser().getName();
var site=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getPreferredSite();var disableUserName=com.coremedia.cms.editor.sdk.util.PreferencesUtil.getPreferencesProperty(com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.USER_MENU_SUBSTRUCT,com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.DISABLE_USER_NAME);var disableSiteName=com.coremedia.cms.editor.sdk.util.PreferencesUtil.getPreferencesProperty(com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.USER_MENU_SUBSTRUCT,
com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.DISABLE_SITE_NAME);var disableSiteLocale=com.coremedia.cms.editor.sdk.util.PreferencesUtil.getPreferencesProperty(com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.USER_MENU_SUBSTRUCT,com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.DISABLE_SITE_LOCALE);var userMenuElements=[];if(!disableUserName)userMenuElements.push(userName);if(!!site){if(!disableSiteName)userMenuElements.push(site.getName());
if(!disableSiteLocale)userMenuElements.push(site.getLocale().getDisplayName())}if(!site)return disableUserName?"":userName;return userMenuElements.join(" | ")}function customGetFocusables(){var me=this;return this.query().filter(function(item){var itemsFocusableOwner=item["ownerFocusableContainer"];return!itemsFocusableOwner||itemsFocusableOwner===me})}return{extend:"Ext.menu.Bar",userMenuTextValueExpression$n$Xp:null,constructor:HeaderToolbarBase$,super$n$Xp:function(){Ext.menu.Bar.prototype.constructor.apply(this,
arguments)},getUserMenuTextValueExpression:getUserMenuTextValueExpression,customGetFocusables:customGetFocusables,requires:["Ext.menu.Bar","com.coremedia.cap.common.SESSION","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.util.PreferencesUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.WorkAreaTabBar",function(WorkAreaTabBar){function WorkAreaTabBar$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.tab.Bar,{});var defaults_$1=AS3.cast(WorkAreaTabBar,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.defaultFocus=":focusable";config_$1["ariaRole"]="region";config_$1["focusable"]=true;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$VhL8(config_$1)}return{extend:"Ext.tab.Bar",metadata:{"":["PublicApi"]},
alias:"widget.com.coremedia.cms.editor.sdk.config.workAreaTabBar",constructor:WorkAreaTabBar$,super$VhL8:function(){Ext.tab.Bar.prototype.constructor.apply(this,arguments)},requires:["Ext.tab.Bar","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.TabTooltipEntry",function(TabTooltipEntry){function TabTooltipEntry$(name,localizedName,value){this.super$Hh_u();this.set(TabTooltipEntry.NAME,name);this.set(TabTooltipEntry.LOCALIZED_NAME,localizedName);this.set(TabTooltipEntry.VALUE,value)}function getName(){return this.get(TabTooltipEntry.NAME)}function getLocalizedName(){return this.get(TabTooltipEntry.LOCALIZED_NAME)}function getValue(){return this.get(TabTooltipEntry.VALUE)}function toString(){if(!this.getLocalizedName())return this.getValue();
else return this.getLocalizedName()+": "+this.getValue()}return{extend:"com.coremedia.ui.data.impl.BeanImpl",constructor:TabTooltipEntry$,super$Hh_u:function(){com.coremedia.ui.data.impl.BeanImpl.prototype.constructor.apply(this,arguments)},getName:getName,getLocalizedName:getLocalizedName,getValue:getValue,toString:toString,statics:{NAME:"name",LOCALIZED_NAME:"localizedName",VALUE:"value"},requires:["com.coremedia.ui.data.impl.BeanImpl"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.StartTabWarnings",function(StartTabWarnings){function StartTabWarnings$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.container.Container,{});var defaults_$1=AS3.cast(StartTabWarnings,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var editor_LicenseWarning_19_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.LicenseWarning,{});config_$1.items=[editor_LicenseWarning_19_5_$1];net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$cKvs(config_$1)}return{extend:"Ext.container.Container",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.startTabWarnings",constructor:StartTabWarnings$,super$cKvs:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},requires:["Ext.container.Container","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.desktop.LicenseWarning"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.ComponentBasedEntityWorkAreaTabType",function(ComponentBasedEntityWorkAreaTabType){function ComponentBasedEntityWorkAreaTabType$(config){if(arguments.length<=0)config=null;AS3.setBindable(this,"entityProperty",AS3.getBindable(config,"entityProperty")||"entity");AS3.setBindable(this,"entityType",AS3.getBindable(config,"entityType"));AS3.setBindable(this,"ddGroup",AS3.getBindable(config,"ddGroup"));if(config.createTabState)this["createTabState"]=AS3.bind(config,
"createTabState");if(config.extractEntity)this["extractEntity"]=AS3.bind(config,"extractEntity");this.super$WTqi(config)}function createTabState(entity){var transformedEntity=this.transformEntity(entity);if(!transformedEntity)return null;var state={};state[AS3.getBindable(this,"entityProperty")]=transformedEntity;return state}function extractEntity(tabState){if(tabState){var entity=tabState[AS3.getBindable(this,"entityProperty")];return this.transformEntity(entity)}else return null}function transformEntity(entity){return this.isValidEntity(entity)===
false?null:entity}function isValidEntity(entity){return entity===undefined?undefined:AS3.is(entity,AS3.getBindable(this,"entityType"))}function createTab(state,callback){var this$=this;if(!this.extractEntity(state)){callback(null,this,state);return}com.coremedia.cms.editor.sdk.desktop.ComponentBasedWorkAreaTabType.prototype.createTab.call(this,state,function(tab,tabType,state){if(tab){tab.addListener("afterrender",AS3.bind(this$,"tabActivated$WTqi"));tab.addListener("activate",AS3.bind(this$,"tabActivated$WTqi"));
tab.addListener(com.coremedia.cms.editor.sdk.desktop.WorkArea.AFTER_TAB_REUSE_EVENT,AS3.bind(this$,"tabActivated$WTqi"));tab.addListener("deactivate",AS3.bind(this$,"tabDeactivated$WTqi"));tab.addListener("remove",AS3.bind(this$,"tabDeactivated$WTqi"));tab.addListener("destroy",AS3.bind(this$,"tabDestroyed$WTqi"))}callback(tab,tabType,state)})}function tabActivated(panel){this.activePanel$WTqi=panel;if(AS3.is(panel,com.coremedia.cms.editor.sdk.desktop.WorkAreaTab))com.coremedia.cms.editor.sdk.desktop.WorkArea.ACTIVE_ENTITY_VALUE_EXPRESSION.setValue(AS3.cast(com.coremedia.cms.editor.sdk.desktop.WorkAreaTab,
panel).getEntity())}function tabDeactivated(panel){if(AS3.is(panel,com.coremedia.cms.editor.sdk.desktop.WorkAreaTab)){var entity=AS3.as(panel,com.coremedia.cms.editor.sdk.desktop.WorkAreaTab).getEntity();if(entity===com.coremedia.cms.editor.sdk.desktop.WorkArea.ACTIVE_ENTITY_VALUE_EXPRESSION.getValue())com.coremedia.cms.editor.sdk.desktop.WorkArea.ACTIVE_ENTITY_VALUE_EXPRESSION.setValue(null)}if(panel===this.activePanel$WTqi)this.activePanel$WTqi=null}function tabDestroyed(panel){panel.removeListener("afterrender",
AS3.bind(this,"tabActivated$WTqi"));panel.removeListener("activate",AS3.bind(this,"tabActivated$WTqi"));panel.removeListener(com.coremedia.cms.editor.sdk.desktop.WorkArea.AFTER_TAB_REUSE_EVENT,AS3.bind(this,"tabActivated$WTqi"));panel.removeListener("deactivate",AS3.bind(this,"tabDeactivated$WTqi"));panel.removeListener("remove",AS3.bind(this,"tabDeactivated$WTqi"));panel.removeListener("destroy",AS3.bind(this,"tabDestroyed$WTqi"));if(panel===this.activePanel$WTqi)this.tabDeactivated$WTqi(panel)}
function getDragDropGroup(){return AS3.getBindable(this,"ddGroup")}function canBeOpenedInTab$static(entity){return AS3.cast(com.coremedia.cms.editor.sdk.desktop.WorkAreaBase,com.coremedia.cms.editor.sdk.editorContext.getWorkArea()).getEntityTabTypes().some(function(entityTabType){return!!entityTabType.createTabState(entity)})}return{extend:"com.coremedia.cms.editor.sdk.desktop.ComponentBasedWorkAreaTabType",mixins:["com.coremedia.cms.editor.sdk.desktop.EntityWorkAreaTabType"],activePanel$WTqi:null,
constructor:ComponentBasedEntityWorkAreaTabType$,super$WTqi:function(){com.coremedia.cms.editor.sdk.desktop.ComponentBasedWorkAreaTabType.prototype.constructor.apply(this,arguments)},createTabState:createTabState,extractEntity:extractEntity,transformEntity:transformEntity,isValidEntity:isValidEntity,createTab:createTab,tabActivated$WTqi:tabActivated,tabDeactivated$WTqi:tabDeactivated,tabDestroyed$WTqi:tabDestroyed,getDragDropGroup:getDragDropGroup,config:{entityProperty:null,entityType:null,ddGroup:null},
statics:{canBeOpenedInTab:canBeOpenedInTab$static},requires:["com.coremedia.cms.editor.sdk.desktop.ComponentBasedWorkAreaTabType","com.coremedia.cms.editor.sdk.desktop.EntityWorkAreaTabType"],uses:["com.coremedia.cms.editor.sdk.desktop.WorkArea","com.coremedia.cms.editor.sdk.desktop.WorkAreaBase","com.coremedia.cms.editor.sdk.desktop.WorkAreaTab","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.StartTab",function(StartTab){function StartTab$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.panel.Panel,{});var defaults_$1=AS3.cast(StartTab,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.Editor","StartTab_tab_title"));config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.PanelSkin.CORPORATE_IDENTITY.getSkin());
var toolbar_34_5_$1=AS3.cast(Ext.toolbar.Toolbar,{});toolbar_34_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.WORKAREA.getSkin());AS3.setBindable(toolbar_34_5_$1,"height",40);config_$1.tbar=toolbar_34_5_$1;var panel_38_5_$1=AS3.cast(Ext.panel.Panel,{});AS3.setBindable(panel_38_5_$1,"margin","90 0 0 100");AS3.setBindable(panel_38_5_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.Editor","StartTab_title"));panel_38_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.PanelSkin.SPECIAL_WELCOME_OUTER.getSkin());
var panel_42_9_$1=AS3.cast(Ext.panel.Panel,{});AS3.setBindable(panel_42_9_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.Editor","StartTab_question_text"));panel_42_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.PanelSkin.SPECIAL_WELCOME_INNER.getSkin());AS3.setBindable(panel_42_9_$1,"width",350);var layout_VBox_46_13_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_46_13_$1,"align","stretch");AS3.setBindable(panel_42_9_$1,"layout",layout_VBox_46_13_$1);
var ui_VerticalSpacingPlugin_49_13_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});AS3.setBindable(ui_VerticalSpacingPlugin_49_13_$1,"modifier",com.coremedia.ui.bem.SpacingBEMEntities.VERTICAL_SPACING_MODIFIER_200);panel_42_9_$1.plugins=[ui_VerticalSpacingPlugin_49_13_$1];var ui_IconDisplayField_52_13_$1=AS3.cast(com.coremedia.ui.components.IconDisplayField,{});AS3.setBindable(ui_IconDisplayField_52_13_$1,"value",this.resourceManager.getString("com.coremedia.cms.editor.Editor","StartTab_info_dashboard_text"));
ui_IconDisplayField_52_13_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.IconDisplayFieldSkin.LIGHT.getSkin());AS3.setBindable(ui_IconDisplayField_52_13_$1,"scale","large");AS3.setBindable(ui_IconDisplayField_52_13_$1,"overflowBehaviour",com.coremedia.ui.mixins.OverflowBehaviour.BREAK_WORD);AS3.setBindable(ui_IconDisplayField_52_13_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","dashboard")));var ui_IconDisplayField_59_13_$1=
AS3.cast(com.coremedia.ui.components.IconDisplayField,{});AS3.setBindable(ui_IconDisplayField_59_13_$1,"value",this.resourceManager.getString("com.coremedia.cms.editor.Editor","StartTab_info_library_text"));ui_IconDisplayField_59_13_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.IconDisplayFieldSkin.LIGHT.getSkin());AS3.setBindable(ui_IconDisplayField_59_13_$1,"scale","large");AS3.setBindable(ui_IconDisplayField_59_13_$1,"overflowBehaviour",com.coremedia.ui.mixins.OverflowBehaviour.BREAK_WORD);
AS3.setBindable(ui_IconDisplayField_59_13_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","library")));var ui_IconDisplayField_66_13_$1=AS3.cast(com.coremedia.ui.components.IconDisplayField,{});AS3.setBindable(ui_IconDisplayField_66_13_$1,"value",this.resourceManager.getString("com.coremedia.cms.editor.Editor","StartTab_info_controlroom_text"));ui_IconDisplayField_66_13_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.IconDisplayFieldSkin.LIGHT.getSkin());
AS3.setBindable(ui_IconDisplayField_66_13_$1,"scale","large");AS3.setBindable(ui_IconDisplayField_66_13_$1,"overflowBehaviour",com.coremedia.ui.mixins.OverflowBehaviour.BREAK_WORD);AS3.setBindable(ui_IconDisplayField_66_13_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CollaborationIcons","control_room")));var ui_IconDisplayField_73_13_$1=AS3.cast(com.coremedia.ui.components.IconDisplayField,{});AS3.setBindable(ui_IconDisplayField_73_13_$1,"value",
this.resourceManager.getString("com.coremedia.cms.editor.Editor","StartTab_info_searchfolder_text"));ui_IconDisplayField_73_13_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.IconDisplayFieldSkin.LIGHT.getSkin());AS3.setBindable(ui_IconDisplayField_73_13_$1,"scale","large");AS3.setBindable(ui_IconDisplayField_73_13_$1,"overflowBehaviour",com.coremedia.ui.mixins.OverflowBehaviour.BREAK_WORD);AS3.setBindable(ui_IconDisplayField_73_13_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons",
"search_folder")));panel_42_9_$1.items=[ui_IconDisplayField_52_13_$1,ui_IconDisplayField_59_13_$1,ui_IconDisplayField_66_13_$1,ui_IconDisplayField_73_13_$1];panel_38_5_$1.items=[panel_42_9_$1];var component_83_5_$1=AS3.cast(Ext.Component,{});component_83_5_$1.flex=1;var editor_StartTabWarnings_84_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.StartTabWarnings,{});editor_StartTabWarnings_84_5_$1.itemId=net.jangaroo.ext.Exml.asString(StartTab.WARNINGS_CONTAINER_ITEM_ID);AS3.setBindable(editor_StartTabWarnings_84_5_$1,
"margin","0 0 0 20");config_$1.items=[panel_38_5_$1,component_83_5_$1,editor_StartTabWarnings_84_5_$1];var layout_VBox_88_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_88_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_88_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$E1J$(config_$1)}return{extend:"Ext.panel.Panel",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.startTab",constructor:StartTab$,super$E1J$:function(){Ext.panel.Panel.prototype.constructor.apply(this,
arguments)},statics:{WARNINGS_CONTAINER_ITEM_ID:"starttab-warnings-container"},requires:["Ext.Component","Ext.layout.container.VBox","Ext.panel.Panel","Ext.toolbar.Toolbar","com.coremedia.cms.editor.Editor_properties","com.coremedia.icons.CollaborationIcons_properties","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.bem.SpacingBEMEntities","com.coremedia.ui.components.IconDisplayField","com.coremedia.ui.mixins.OverflowBehaviour","com.coremedia.ui.plugins.VerticalSpacingPlugin","com.coremedia.ui.skins.IconDisplayFieldSkin",
"com.coremedia.ui.skins.PanelSkin","com.coremedia.ui.skins.ToolbarSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.desktop.StartTabWarnings"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.TabStateManagerPlugin",function(TabStateManagerPlugin){function TabStateManagerPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.TabStateManagerPluginBase,{});var defaults_$1=AS3.cast(TabStateManagerPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$k3Ru(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.desktop.TabStateManagerPluginBase",
constructor:TabStateManagerPlugin$,super$k3Ru:function(){com.coremedia.cms.editor.sdk.desktop.TabStateManagerPluginBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.desktop.TabStateManagerPluginBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.ContentTabManager",function(ContentTabManager){return{}});Ext.define("com.coremedia.cms.editor.sdk.desktop.EditorMainViewBase",function(EditorMainViewBase){function EditorMainViewBase$(config){if(arguments.length<=0)config=null;this.super$YpGe(config)}function getWorkAreaTabProxies(){if(!this.workAreaTabProxies$YpGe)this.workAreaTabProxies$YpGe=AS3.as(this.query(com.coremedia.ui.util.createComponentSelector().itemId(com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxiesTabPanel.WORK_AREA_TAB_PROXIES_TABBAR_ID).build())[0],com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxiesTabPanel);
return this.workAreaTabProxies$YpGe}function afterRender(){Ext.container.Viewport.prototype.afterRender.call(this);this.getEl().dom.parentNode.setAttribute("lang",com.coremedia.cms.editor.sdk.util.LocaleUtil.getLocale())}return{extend:"Ext.container.Viewport",workAreaTabProxies$YpGe:null,constructor:EditorMainViewBase$,super$YpGe:function(){Ext.container.Viewport.prototype.constructor.apply(this,arguments)},getWorkAreaTabProxies:getWorkAreaTabProxies,afterRender:afterRender,requires:["Ext.container.Viewport",
"com.coremedia.ui.util.createComponentSelector"],uses:["com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxiesTabPanel","com.coremedia.cms.editor.sdk.util.LocaleUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.TabStateManagerPluginBase",function(TabStateManagerPluginBase){var HASH_PARAM_AUTO_OPEN_EDITED$static="autoOpenEdited";function TabStateManagerPluginBase$(config){if(arguments.length<=0)config=null}function init(component){var this$=this;if(com.coremedia.cms.editor.sdk.editorContext.isDefaultTabStateManagerEnabled()){this.tabPanel$StNf=AS3.as(component,Ext.tab.Panel);var hashParamsModel=com.coremedia.ui.util.WindowUtil.getHashParamsAsObject();if("false"!==
hashParamsModel[HASH_PARAM_AUTO_OPEN_EDITED$static])Ext.ComponentManager.onAvailable(com.coremedia.cms.editor.sdk.desktop.EditorMainView.ID,function(editorMainView){editorMainView.addListener("afterrender",AS3.bind(this$,"deserializeState"),null,{single:true})});this.tabPanel$StNf.addListener("tabchange",AS3.bind(this,"forceSerializeState$StNf"));this.tabPanel$StNf.itemCollection.addListener("add",AS3.bind(this,"tabAdded$StNf"));this.tabPanel$StNf.itemCollection.addListener("remove",AS3.bind(this,
"tabRemoved$StNf"))}}function tabAdded(index,tab){if(tab){var stateValueExpression=tab.getStateValueExpression();if(stateValueExpression)stateValueExpression.addChangeListener(AS3.bind(this,"forceSerializeState$StNf"));this.forceSerializeState$StNf()}}function getWorkArea(){if(!this.workArea$StNf)this.workArea$StNf=AS3.as(Ext.getCmp("workarea"),com.coremedia.cms.editor.sdk.desktop.WorkArea);return this.workArea$StNf}function tabRemoved(tab){if(tab){var stateValueExpression=tab.getStateValueExpression();
if(stateValueExpression)stateValueExpression.removeChangeListener(AS3.bind(this,"forceSerializeState$StNf"));this.forceSerializeState$StNf()}}function forceSerializeState(){if(!this.stateDirty$StNf){this.stateDirty$StNf=true;com.coremedia.ui.util.EventUtil.invokeLater(AS3.bind(this,"serializeState"))}}function serializeState(){if(this.stateDirty$StNf){this.stateDirty$StNf=false;var tabs=[];var activeTabIndex=0;var activeTab=AS3.cast(Ext.panel.Panel,this.tabPanel$StNf.getActiveTab());this.tabPanel$StNf.itemCollection.each(function(tab,
index){if(tab){if(tab===activeTab)activeTabIndex=tabs.length;var tabState={typeId:AS3.getBindable(tab,"referenceTabType").getId()};var stateValueExpression=tab.getStateValueExpression();if(stateValueExpression)tabState.state=stateValueExpression.getValue();tabs.push(tabState)}});var stateProperties={};stateProperties[com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.WORK_AREA_STRUCT_TABS]=tabs;stateProperties[com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.WORK_AREA_STRUCT_ACTIVE_TAB_INDEX]=
activeTabIndex;com.coremedia.cms.editor.sdk.util.PreferencesUtil.updatePreferencesJSONProperty(stateProperties,com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.WORK_AREA_STRUCT)}}function deserializeState(){var this$=this;var state=com.coremedia.cms.editor.sdk.util.PreferencesUtil.getPreferencesJSONProperty({tabs:com.coremedia.cms.editor.sdk.util.PreferencesUtil.decodeJsonString},com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.WORK_AREA_STRUCT);if(!state)return;
var tabs=AS3.as(state[com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.WORK_AREA_STRUCT_TABS],Array);if(!tabs)return;var remoteBeanEntities=tabs.map(AS3.bind(this,"extractRemoteBeanEntity$StNf"));com.coremedia.ui.data.RemoteBeanUtil.loadAll(function(){var activeTabIndex=AS3.as(state[com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.WORK_AREA_STRUCT_ACTIVE_TAB_INDEX],AS3.int_);var validTabStates=[];for(var i=0;i<tabs.length;i++){var tabState=tabs[i];var tabType=
this$.getWorkArea$StNf().getTabTypeById(tabState.typeId);var remoteBean=remoteBeanEntities[i];if(tabType&&(!remoteBean||com.coremedia.ui.data.RemoteBeanUtil.isAccessible(remoteBean)))validTabStates.push(tabState)}this$.openValidTabs$StNf(validTabStates,activeTabIndex,function(tab,activeTab){if(this$.tabPanel$StNf.itemCollection.getCount()>activeTabIndex)this$.tabPanel$StNf.setActiveTab(activeTabIndex);else this$.tabPanel$StNf.setActiveTab(this$.tabPanel$StNf.itemCollection.getCount()-1)})},remoteBeanEntities)}
function openValidTabs(validTabStates,activeTabIndex,callback){var this$=this;var count=0;for(var $1=0;$1<validTabStates.length;++$1){var tabState=validTabStates[$1];var tabType=this.getWorkArea$StNf().getTabTypeById(tabState.typeId);if(!tabState.state)tabState.state={};if(AS3.is(tabType,com.coremedia.cms.editor.sdk.desktop.reusability.ReusableTabType))AS3.as(tabType,com.coremedia.cms.editor.sdk.desktop.reusability.ReusableTabType).transformTabState(tabState.state,function(transformedState,tab,originalTabState,
tabType){processResult(tab?tab:transformedState,tabType,originalTabState)});else tabType.createTab(tabState.state,function(newTab,tabType,originalState){processResult(newTab,tabType,originalState)});function processResult(tabOrState,tabType,originalTabState){count++;var result={};result.tab=tabOrState;result.tabType=tabType;originalTabState.result=result;if(count===validTabStates.length)this$.updateTabStates$StNf(activeTabIndex,validTabStates,callback)}}}function updateTabStates(activeTabIndex,validTabStates,
callback){var tab;var activeTab=null;for(var i=0;i<validTabStates.length;i++){var tabResult=validTabStates[i].state.result;if(tabResult){tab=tabResult.tab;this.getWorkArea$StNf().addTab(tabResult.tabType,tabResult.tab);if(i===activeTabIndex)activeTab=tab;validTabStates[i].state.result=null}}callback(tab,activeTab)}function extractRemoteBeanEntity(tab){var tabType=this.getWorkArea$StNf().getTabTypeById(tab.typeId);if(tabType){var entityTabType=AS3.as(tabType,com.coremedia.cms.editor.sdk.desktop.EntityWorkAreaTabType);
if(entityTabType)return AS3.as(entityTabType.extractEntity(tab.state),com.coremedia.ui.data.RemoteBean)}return null}return{mixins:["ext.Plugin"],tabPanel$StNf:null,workArea$StNf:null,stateDirty$StNf:false,constructor:TabStateManagerPluginBase$,init:init,tabAdded$StNf:tabAdded,getWorkArea$StNf:getWorkArea,tabRemoved$StNf:tabRemoved,forceSerializeState$StNf:forceSerializeState,serializeState:serializeState,deserializeState:deserializeState,openValidTabs$StNf:openValidTabs,updateTabStates$StNf:updateTabStates,
extractRemoteBeanEntity$StNf:extractRemoteBeanEntity,requires:["AS3.int_","Ext","Ext.ComponentManager","Ext.panel.Panel","Ext.tab.Panel","com.coremedia.ui.data.RemoteBean","com.coremedia.ui.data.RemoteBeanUtil","com.coremedia.ui.util.EventUtil","com.coremedia.ui.util.WindowUtil","ext.Plugin"],uses:["com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames","com.coremedia.cms.editor.sdk.desktop.EditorMainView","com.coremedia.cms.editor.sdk.desktop.EntityWorkAreaTabType","com.coremedia.cms.editor.sdk.desktop.WorkArea",
"com.coremedia.cms.editor.sdk.desktop.reusability.ReusableTabType","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.util.PreferencesUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.SiteSelectorComboBoxBase",function(SiteSelectorComboBoxBase){function SiteSelectorComboBoxBase$(config){if(arguments.length<=0)config=null;this.super$6mvW(config);this.bindTo$6mvW=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getPreferredSiteIdExpression();this.bindTo$6mvW.addChangeListener(AS3.bind(this,"preferredSiteChanged$6mvW"));this.preferredSiteChanged$6mvW();this.addListener("change",AS3.bind(this,"siteSelected$6mvW"))}function siteSelected(){if(!this.updatingValue$6mvW){var siteId=
this.getValue();if(siteId&&siteId!==this.bindTo$6mvW.getValue()){var site=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getSite(siteId);if(site){this.bindTo$6mvW.setValue(siteId);var collectionViewModel=AS3.cast(com.coremedia.cms.editor.sdk.EditorContextImpl,com.coremedia.cms.editor.sdk.editorContext).getCollectionViewModel();collectionViewModel.getMainStateBean().set(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.FOLDER_PROPERTY,site.getSiteRootFolder())}}}}function preferredSiteChanged(){this.updatingValue$6mvW=
true;try{if(this.getValue()!==this.bindTo$6mvW.getValue())this.setValue(this.bindTo$6mvW.getValue())}finally{this.updatingValue$6mvW=false}}function getSitesStore(){var sitesStore=[];var sites=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getSites();if(sites)for(var i=0;i<sites.length;i++){var site=sites[i];var pattern=this.resourceManager.getString("com.coremedia.cms.editor.Editor","HeaderToolbar_siteSelector_displayName_pattern");var calculatedSiteName=Ext.String.format(pattern,com.coremedia.ui.util.EncodingUtil.encodeForHTML(site.getName()),
site.getLocale().getLanguageTag(),site.getLocale().getDisplayName());sitesStore.push({id:site.getId(),name:calculatedSiteName})}return sitesStore}return{extend:"com.coremedia.ui.components.LocalComboBox",bindTo$6mvW:null,updatingValue$6mvW:false,constructor:SiteSelectorComboBoxBase$,super$6mvW:function(){com.coremedia.ui.components.LocalComboBox.prototype.constructor.apply(this,arguments)},siteSelected$6mvW:siteSelected,preferredSiteChanged$6mvW:preferredSiteChanged,getSitesStore:getSitesStore,requires:["Ext.String",
"com.coremedia.cms.editor.Editor_properties","com.coremedia.ui.components.LocalComboBox","com.coremedia.ui.util.EncodingUtil"],uses:["com.coremedia.cms.editor.sdk.EditorContextImpl","com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.ActionsToolbarBase",function(ActionsToolbarBase){function ActionsToolbarBase$(config){var this$=this;if(arguments.length<=0)config=null;this.super$5vtR(config);com.coremedia.cms.editor.sdk.desktop.WorkArea.ACTIVE_CONTENT_VALUE_EXPRESSION.addChangeListener(function(){this$.setContent(com.coremedia.cms.editor.sdk.desktop.WorkArea.ACTIVE_CONTENT_VALUE_EXPRESSION.getValue())});com.coremedia.cms.editor.sdk.desktop.WorkArea.ACTIVE_ENTITY_VALUE_EXPRESSION.addChangeListener(function(){this$.setEntitiy(com.coremedia.cms.editor.sdk.desktop.WorkArea.ACTIVE_ENTITY_VALUE_EXPRESSION.getValue())})}
function getContent(){return this.content$5vtR}function setContent(content){var oldValue=this.content$5vtR;this.content$5vtR=content;com.coremedia.ui.data.util.PropertyChangeEventUtil.fireEvent(this,com.coremedia.cms.editor.sdk.desktop.ActionsToolbar.CONTENT_VARIABLE_NAME,oldValue,content)}function getEntity(){return this.entity$5vtR}function setEntitiy(entity){var oldValue=this.entity$5vtR;this.entity$5vtR=entity;com.coremedia.ui.data.util.PropertyChangeEventUtil.fireEvent(this,com.coremedia.cms.editor.sdk.desktop.ActionsToolbar.ENTITY_VARIABLE_NAME,
oldValue,entity)}return{extend:"Ext.toolbar.Toolbar",metadata:{"":["PublicApi"],getContent:["ProvideToExtChildren"],getEntity:["ProvideToExtChildren"]},content$5vtR:null,entity$5vtR:null,constructor:ActionsToolbarBase$,super$5vtR:function(){Ext.toolbar.Toolbar.prototype.constructor.apply(this,arguments)},getContent:getContent,setContent:setContent,getEntity:getEntity,setEntitiy:setEntitiy,requires:["Ext.toolbar.Toolbar","com.coremedia.ui.data.util.PropertyChangeEventUtil"],uses:["com.coremedia.cms.editor.sdk.desktop.ActionsToolbar",
"com.coremedia.cms.editor.sdk.desktop.WorkArea"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.WorkAreaTab",function(WorkAreaTab){var TAB_CONFIG$static;function TAB_CONFIG$static_(){TAB_CONFIG$static=AS3.cast(com.coremedia.ui.components.ExtendedTab,{minWidth:90})}function WorkAreaTab$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.WorkAreaTabBase,{});var defaults_$1=AS3.cast(WorkAreaTab,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.itemsLazyUntilEvent="beforerender";
AS3.setBindable(config_$1,"closable",true);config_$1["tabConfig"]=TAB_CONFIG$static;var ui_BindPropertyPlugin_30_5_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_30_5_$1.componentProperty="title";ui_BindPropertyPlugin_30_5_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"calculateTitle"));ui_BindPropertyPlugin_30_5_$1.transformer=com.coremedia.ui.util.EncodingUtil.encodeForHTML;ui_BindPropertyPlugin_30_5_$1.ifUndefined=com.coremedia.cms.editor.sdk.desktop.WorkAreaTabBase.TITLE_BUSY_INDICATOR;
var ui_BindPropertyPlugin_34_5_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_34_5_$1.componentProperty="iconCls";ui_BindPropertyPlugin_34_5_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"calculateIcon"));config_$1.plugins=[ui_BindPropertyPlugin_30_5_$1,ui_BindPropertyPlugin_34_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$PjRB(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.desktop.WorkAreaTabBase",
metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.workAreaTab",constructor:WorkAreaTab$,super$PjRB:function(){com.coremedia.cms.editor.sdk.desktop.WorkAreaTabBase.prototype.constructor.apply(this,arguments)},config:{entity:null},statics:{TAB_CONFIG:undefined,__initStatics__:function(){TAB_CONFIG$static_()}},requires:["com.coremedia.cms.editor.sdk.desktop.WorkAreaTabBase","com.coremedia.ui.components.ExtendedTab","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.BindPropertyPlugin",
"com.coremedia.ui.util.EncodingUtil","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.SaveSearchWindowBase",function(SaveSearchWindowBase){function SaveSearchWindowBase$(config){if(arguments.length<=0)config=null;this.super$JRro(config);this.newSearchName$JRro=AS3.as(this.queryById(SaveSearchWindowBase.NEW_SEARCH_NAME_ITEM_ID),com.coremedia.ui.components.StatefulTextField);this.saveAsWidget$JRro=AS3.as(this.queryById(SaveSearchWindowBase.SAVE_AS_WIDGET_ITEM_ID),com.coremedia.ui.components.StatefulCheckbox);this.saveAsFolder$JRro=AS3.as(this.queryById(SaveSearchWindowBase.SAVE_AS_FOLDER_ITEM_ID),
com.coremedia.ui.components.StatefulCheckbox);this.okButton$JRro=AS3.as(this.queryById(SaveSearchWindowBase.OK_BUTTON_ITEM_ID),Ext.button.Button)}function afterRender(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.afterRender.call(this);this.saveAsFolder$JRro.addListener("change",AS3.bind(this,"updateValidationAndEnabledDisableOkButton$JRro"));this.saveAsWidget$JRro.addListener("change",AS3.bind(this,"updateValidationAndEnabledDisableOkButton$JRro"));this.newSearchName$JRro.addListener("change",
AS3.bind(this,"updateValidationAndEnabledDisableOkButton$JRro"));this.updateValidationAndEnabledDisableOkButton$JRro()}function updateValidationAndEnabledDisableOkButton(){var theNewSearchName=this.newSearchName$JRro.getValue()||"";var noSearchNameEntered=!theNewSearchName;var noOptionSelected=!this.saveAsFolder$JRro.getValue()&&!this.saveAsWidget$JRro.getValue();var searchNameConflict=false;var widgetNameConflict=false;var message;if(noSearchNameEntered||noOptionSelected)if(theNewSearchName)message=
mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors","saveSearch_noSaveOptionSelected_tooltiptext");else if(noOptionSelected)message=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors","saveSearch_noSearchNameandOptionEntered_tooltiptext");else message=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors","saveSearch_noSearchNameEntered_tooltiptext");else{searchNameConflict=!!this.saveAsFolder$JRro.getValue()&&
existsSearchWithName$static(theNewSearchName);widgetNameConflict=!!this.saveAsWidget$JRro.getValue()&&existsWidgetWithName$static(theNewSearchName);if(searchNameConflict)if(widgetNameConflict)message=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors","saveSearch_searchFolderAndWidgetExist");else message=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors","saveSearch_searchFolderExists");else if(widgetNameConflict)message=
mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors","saveSearch_widgetExists")}if(noOptionSelected||widgetNameConflict){AS3.setBindable(this.saveAsWidget$JRro,"validationState",com.coremedia.ui.mixins.ValidationState.ERROR);AS3.setBindable(this.saveAsWidget$JRro,"validationMessage",message)}else{AS3.setBindable(this.saveAsWidget$JRro,"validationMessage",null);AS3.setBindable(this.saveAsWidget$JRro,"validationState",null)}if(noOptionSelected||searchNameConflict){AS3.setBindable(this.saveAsFolder$JRro,
"validationState",com.coremedia.ui.mixins.ValidationState.ERROR);AS3.setBindable(this.saveAsFolder$JRro,"validationMessage",message)}else{AS3.setBindable(this.saveAsFolder$JRro,"validationMessage",null);AS3.setBindable(this.saveAsFolder$JRro,"validationState",null)}if(noSearchNameEntered||widgetNameConflict||searchNameConflict){AS3.setBindable(this.newSearchName$JRro,"validationState",com.coremedia.ui.mixins.ValidationState.ERROR);AS3.setBindable(this.newSearchName$JRro,"validationMessage",message)}else{AS3.setBindable(this.newSearchName$JRro,
"validationMessage",null);AS3.setBindable(this.newSearchName$JRro,"validationState",null)}if(noOptionSelected||noSearchNameEntered||widgetNameConflict||searchNameConflict){this.okButton$JRro.setDisabled(true);this.okButton$JRro.setTooltip(message)}else{this.okButton$JRro.setTooltip(null);this.okButton$JRro.setDisabled(false)}}function onDestroy(){this.saveAsFolder$JRro.removeListener("change",AS3.bind(this,"updateValidationAndEnabledDisableOkButton$JRro"));this.saveAsWidget$JRro.removeListener("change",
AS3.bind(this,"updateValidationAndEnabledDisableOkButton$JRro"));this.newSearchName$JRro.removeListener("change",AS3.bind(this,"updateValidationAndEnabledDisableOkButton$JRro"));com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.onDestroy.call(this)}function saveSearchOrWidget(){if(this.saveAsFolder$JRro.getValue())this.saveSearch$JRro();if(this.saveAsWidget$JRro.getValue())this.saveWidget$JRro()}function existsSearchWithName$static(name){var searches=com.coremedia.cms.editor.sdk.collectionview.CollectionViewUtil.getSavedSearches()||
[];for(var $1=0;$1<searches.length;++$1){var savedSearch=searches[$1];if(savedSearch["_name"]===name)return true}return false}function existsWidgetWithName$static(encodedName){for(var $1=0,$2=com.coremedia.cms.editor.sdk.dashboard.DashboardBase.getCustomizedWidgetStates();$1<$2.length;++$1){var existingWidgetState=$2[$1];if(existingWidgetState.widgetTypeId===com.coremedia.cms.editor.sdk.dashboard.widgets.search.SavedSearchWidgetType.WIDGET_TYPE_ID){var existingSavedSearchWidgetState=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.widgets.search.SavedSearchWidgetState,
existingWidgetState);if(AS3.getBindable(existingSavedSearchWidgetState,"title")===encodedName)return true}}return false}function saveWidget(){var encodedNewSearchName=this.newSearchName$JRro.getValue()||"";if(existsWidgetWithName$static(encodedNewSearchName))return;var workArea=AS3.as(com.coremedia.cms.editor.sdk.editorContext.getWorkArea(),com.coremedia.cms.editor.sdk.desktop.WorkArea);workArea.showSingletonTab(com.coremedia.cms.editor.sdk.dashboard.Dashboard.xtype);var theDashboard=AS3.as(workArea.getActiveTab(),
com.coremedia.cms.editor.sdk.dashboard.Dashboard);var widgetStateCfg=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.widgets.search.SavedSearchWidgetState,{});AS3.setBindable(widgetStateCfg,"search",getCurrentSearchState$static());AS3.setBindable(widgetStateCfg,"title",encodedNewSearchName);widgetStateCfg.widgetTypeId=com.coremedia.cms.editor.sdk.dashboard.widgets.search.SavedSearchWidgetType.WIDGET_TYPE_ID;theDashboard.addWidget(widgetStateCfg,false);this.close()}function saveSearch(){var newSavedSearchName=
this.newSearchName$JRro.getValue()||"";if(existsSearchWithName$static(newSavedSearchName))return;var currentState=getCurrentSearchState$static();currentState["_name"]=newSavedSearchName;var searches=com.coremedia.cms.editor.sdk.collectionview.CollectionViewUtil.getSavedSearches();if(searches){searches=searches.concat();if(existsSearchWithName$static(newSavedSearchName))return;searches=searches.concat([currentState])}else searches=[currentState];com.coremedia.cms.editor.sdk.collectionview.CollectionViewUtil.updateSavedSearches(searches);
this.close();this.notifySavedSearchToFavoritesToolbar$JRro(newSavedSearchName)}function getCurrentSearchState$static(){return AS3.cast(com.coremedia.cms.editor.sdk.collectionview.CollectionViewManagerInternal,com.coremedia.cms.editor.sdk.editorContext.getCollectionViewManager()).getCollectionView().getCollectionViewModel().getCurrentState()}function notifySavedSearchToFavoritesToolbar(searchEntryName){if(getToolbar$static().query(com.coremedia.ui.util.createComponentSelector().attr("itemName",searchEntryName).build()).length>
0)showNotification$static(searchEntryName);else getToolbar$static().addListener("afterlayout",function(){showNotification$static(searchEntryName)},null,{single:true})}function getToolbar$static(){var mainView=AS3.cast(Ext.container.Container,Ext.getCmp(com.coremedia.cms.editor.sdk.desktop.EditorMainView.ID));return AS3.as(mainView.down(com.coremedia.ui.util.createComponentSelector()._xtype(com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUserItemsArea.xtype).build()),Ext.container.Container)}
function showNotification$static(searchEntryName){var toolbarButton=AS3.as(getToolbar$static().down(com.coremedia.ui.util.createComponentSelector().attr("itemName",searchEntryName).build()),Ext.button.Button);if(!toolbarButton)return;toolbarButton.getEl().dom.scrollIntoView(false);showNotificationAtButton$static(toolbarButton,0)}function showNotificationAtButton$static(button,yOffset){var notificationConfig=AS3.cast(com.coremedia.cms.editor.sdk.desktop.SaveSearchNotification,{});notificationConfig.anchor=
"left";AS3.setBindable(notificationConfig,"yOffset",yOffset);AS3.setBindable(notificationConfig,"target",button.getEl().first()["id"]);AS3.setBindable(notificationConfig,"text",mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_saveSearch_notification_added"));Ext.ComponentManager.create(notificationConfig).show()}function cancel(){this.close()}function handleSpecialKey(textfield,e){if(e.getKey()===Ext.event.Event.ENTER){e.stopEvent();this.saveSearchOrWidget()}}
return{extend:"com.coremedia.cms.editor.sdk.components.StudioDialog",newSearchName$JRro:null,saveAsWidget$JRro:null,saveAsFolder$JRro:null,okButton$JRro:null,constructor:SaveSearchWindowBase$,super$JRro:function(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.constructor.apply(this,arguments)},afterRender:afterRender,updateValidationAndEnabledDisableOkButton$JRro:updateValidationAndEnabledDisableOkButton,onDestroy:onDestroy,saveSearchOrWidget:saveSearchOrWidget,saveWidget$JRro:saveWidget,
saveSearch$JRro:saveSearch,notifySavedSearchToFavoritesToolbar$JRro:notifySavedSearchToFavoritesToolbar,cancel:cancel,handleSpecialKey:handleSpecialKey,statics:{NEW_SEARCH_NAME_ITEM_ID:"newSearchName",SAVE_AS_WIDGET_ITEM_ID:"saveAsWidget",SAVE_AS_FOLDER_ITEM_ID:"saveAsFolder",OK_BUTTON_ITEM_ID:"okBtn",CANCEL_BUTTON_ITEM_ID:"cancelBtn"},requires:["Ext","Ext.ComponentManager","Ext.button.Button","Ext.container.Container","Ext.event.Event","com.coremedia.cms.editor.EditorErrors_properties","com.coremedia.cms.editor.Editor_properties",
"com.coremedia.cms.editor.sdk.actions.Actions_properties","com.coremedia.cms.editor.sdk.components.StudioDialog","com.coremedia.ui.components.StatefulCheckbox","com.coremedia.ui.components.StatefulTextField","com.coremedia.ui.mixins.ValidationState","com.coremedia.ui.util.createComponentSelector","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionViewManagerInternal","com.coremedia.cms.editor.sdk.collectionview.CollectionViewUtil","com.coremedia.cms.editor.sdk.dashboard.Dashboard",
"com.coremedia.cms.editor.sdk.dashboard.DashboardBase","com.coremedia.cms.editor.sdk.dashboard.widgets.search.SavedSearchWidgetState","com.coremedia.cms.editor.sdk.dashboard.widgets.search.SavedSearchWidgetType","com.coremedia.cms.editor.sdk.desktop.EditorMainView","com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUserItemsArea","com.coremedia.cms.editor.sdk.desktop.SaveSearchNotification","com.coremedia.cms.editor.sdk.desktop.WorkArea","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUserItemBase",function(FavoritesToolbarUserItemBase){function FavoritesToolbarUserItemBase$(config){var this$=this;if(arguments.length<=0)config=null;this.state=config.state;if(this.state&&this.state._main&&this.state._main.folder&&this.state._main.folder.path){var path=this.state._main.folder.path;com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getChild(path,function(content){this$.state._main.folder=content})}this.super$nJVV(config)}
function computeText(){this.itemName=this.state["_name"];return this.state&&this.state["_name"]?Ext.util.Format.ellipsis(this.state["_name"],this.ellipsis,false):this.resourceManager.getString("com.coremedia.cms.editor.Editor","emptyMySearchesMenu_text")}function computeDisabled(){return com.coremedia.ui.util.ObjectUtils.isEmpty(this.state)}return{extend:"Ext.button.Button",state:null,ellipsis:NaN,itemName:null,constructor:FavoritesToolbarUserItemBase$,super$nJVV:function(){Ext.button.Button.prototype.constructor.apply(this,
arguments)},computeText:computeText,computeDisabled:computeDisabled,requires:["Ext.button.Button","Ext.util.Format","com.coremedia.cap.common.SESSION","com.coremedia.cms.editor.Editor_properties","com.coremedia.ui.util.ObjectUtils"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.WorkAreaTabType",function(WorkAreaTabType){return{}});Ext.define("com.coremedia.cms.editor.sdk.desktop.TabTooltipInfo",function(TabTooltipInfo){function toolTipEntries_(){this.toolTipEntries$Lgoe=[]}function addTooltipEntry(name,localizedName,value){this.toolTipEntries$Lgoe.push(new com.coremedia.cms.editor.sdk.desktop.TabTooltipEntry(name,localizedName,value))}function getTooltipEntries(){return this.toolTipEntries$Lgoe}function addTooltipEntries(additionalTabTooltipEntries){var this$=this;additionalTabTooltipEntries.forEach(function(tooltipEntry){this$.toolTipEntries$Lgoe.push(tooltipEntry)})}
function TabTooltipInfo$(){this.super$Lgoe();toolTipEntries_.call(this)}return{extend:"com.coremedia.ui.data.impl.BeanImpl",addTooltipEntry:addTooltipEntry,getTooltipEntries:getTooltipEntries,addTooltipEntries:addTooltipEntries,super$Lgoe:function(){com.coremedia.ui.data.impl.BeanImpl.prototype.constructor.apply(this,arguments)},constructor:TabTooltipInfo$,statics:{TITLE:"title",SITE:"site",LOCALE:"locale",CONTENT_LOCALE:"contentLocale"},requires:["com.coremedia.ui.data.impl.BeanImpl"],uses:["com.coremedia.cms.editor.sdk.desktop.TabTooltipEntry"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.ContentTabManagerPlugin",function(ContentTabManagerPlugin){function ContentTabManagerPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.ContentTabManagerPluginBase,{});var defaults_$1=AS3.cast(ContentTabManagerPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$dyEO(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.desktop.ContentTabManagerPluginBase",
constructor:ContentTabManagerPlugin$,super$dyEO:function(){com.coremedia.cms.editor.sdk.desktop.ContentTabManagerPluginBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.desktop.ContentTabManagerPluginBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.WorkAreaBase",function(WorkAreaBase){function cachedSingletonTabs_(){this.cachedSingletonTabs$QzPR={}}function queuedTabStates_(){this.queuedTabStates$QzPR={}}function WorkAreaBase$(config){if(arguments.length<=0)config=null;this.tabTypeById$QzPR={};this.tabTypeByTabId$QzPR={};this.super$QzPR(config);cachedSingletonTabs_.call(this);queuedTabStates_.call(this);this.itemCollection.addListener("remove",AS3.bind(this,"tabRemoved$QzPR"));this.addListener("render",
AS3.bind(this,"createDefaultTabs$QzPR"),{single:true});this.on("beforetabchange",AS3.bind(this,"handleTabChange$QzPR"))}var NO_HEADER_TAB_TYPE_IDS$static;function NO_HEADER_TAB_TYPE_IDS$static_(){NO_HEADER_TAB_TYPE_IDS$static=[com.coremedia.cms.editor.sdk.dashboard.Dashboard.xtype,com.coremedia.cms.editor.sdk.desktop.StartTab.xtype]}function handleTabChange(thys,newTab,currentTab){var this$=this;if(currentTab&&newTab){var oldTabType=this.getTabTypeByTab(currentTab);if(oldTabType&&NO_HEADER_TAB_TYPE_IDS$static.indexOf(oldTabType.getId())!==
-1){this.on("tabchange",function(){this$.cacheAndHideSingletonTab$QzPR(oldTabType.getId())},this,{single:true});return true}}return true}function add(){var component=Array.prototype.slice.call(arguments);var index=typeof component[0]==="number"?component.shift():-1;return this.pushComponents$QzPR(component,index)}function pushComponents(components,index){if(arguments.length<=1)index=-1;var tabs=[];for(var i=0;i<components.length;i++){var componentOrConfig=components[i];if(!componentOrConfig.render)componentOrConfig=
Ext.ComponentManager.create(componentOrConfig);tabs.push(this.addTab(this.getTabTypeById(componentOrConfig.xtype),componentOrConfig,index))}return tabs}function addTab(tabType,tabOrState,index,highlight){switch(Math.max(arguments.length,2)){case 2:index=-1;case 3:highlight=false}var activeTab=AS3.cast(Ext.panel.Panel,this.getActiveTab());if(activeTab&&this.getTabTypeByTab(activeTab)===this.getDefaultTabType$QzPR()){if(tabOrState.xtype===activeTab.xtype)return;this.remove(activeTab)}var tab;var reused=
this.getReusedPanel$QzPR(tabType,tabOrState);if(reused)tab=reused;else tab=tabOrState;var proxy=this.getTabProxy$QzPR(tabType,tab,tabOrState);var workAreaProxies=com.coremedia.cms.editor.sdk.editorContext.getWorkAreaTabProxies();if(AS3.is(tab,com.coremedia.cms.editor.sdk.desktop.WorkAreaTabTypeAware))AS3.cast(com.coremedia.cms.editor.sdk.desktop.WorkAreaTabTypeAware,tab).setWorkAreaTabType(tabType);this.tabTypeByTabId$QzPR[tab.getId()]=tabType;var result;if(index>=0){if(reused&&reused.up())result=
reused;else result=Ext.tab.Panel.prototype.add.call(this,tab);proxy&&workAreaProxies.insert(index,proxy)}else{result=reused&&reused.up()?false:Ext.tab.Panel.prototype.add.call(this,tab);proxy&&workAreaProxies.add(proxy)}if(highlight)this.highlightTab(tab);return result}function getReusedPanel(tabType,tabOrState){if(!(AS3.is(tabType,com.coremedia.cms.editor.sdk.desktop.reusability.ReusableTabType)&&AS3.is(tabOrState,com.coremedia.cms.editor.sdk.desktop.reusability.ProxyTabState)))return null;var reusedTab;
var tabState=AS3.as(tabOrState,com.coremedia.cms.editor.sdk.desktop.reusability.ProxyTabState);var reusableTabType=AS3.as(tabType,com.coremedia.cms.editor.sdk.desktop.reusability.ReusableTabType);var reusabilityKey=reusableTabType.computeReusabilityKey(tabState);reusedTab=AS3.as(com.coremedia.ui.util.reusableComponentsService.requestComponentForReuse(reusabilityKey),com.coremedia.cms.editor.sdk.desktop.WorkAreaTab);if(reusedTab){var entityProperty=AS3.getBindable(AS3.as(reusableTabType,com.coremedia.cms.editor.sdk.desktop.ComponentBasedEntityWorkAreaTabType),
"entityProperty");tabState.entity=tabOrState[entityProperty];var currentTabProxyForReusedTab=com.coremedia.cms.editor.sdk.editorContext.getWorkAreaTabProxies().getWorkAreaTabProxyForEntity(this.getEntityForTab$QzPR(reusedTab));if(currentTabProxyForReusedTab&&AS3.getBindable(currentTabProxyForReusedTab,"referenceTab")===reusedTab)AS3.setBindable(currentTabProxyForReusedTab,"referenceTab",null);this.setupReusedTab$QzPR(reusableTabType,reusedTab,tabState);var me=this;reusedTab.close=function(){com.coremedia.ui.util.reusableComponentsService.removeReusableComponentCleanly(AS3.as(this,
Ext.panel.Panel));if(!this.up()){var activeProxy=AS3.as(com.coremedia.cms.editor.sdk.editorContext.getWorkAreaTabProxies().getActiveTab(),com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxy);if(activeProxy&&AS3.getBindable(activeProxy,"referenceTab")===this){me.add(this);me.setActiveTab(this)}}}}return reusedTab}function getEntityForTab(tab){var queuedState=this.queuedTabStates$QzPR[tab.getId()];return queuedState?queuedState.entity:AS3.as(tab,com.coremedia.cms.editor.sdk.desktop.WorkAreaTab).getEntity()}
function setupReusedTab(reusableTabType,reusedTab,tabState){var this$=this;if(arguments.length<=2)tabState=null;var nextTabState=tabState.clone();if(this.queuedTabStates$QzPR[reusedTab.getId()]){this.queuedTabStates$QzPR[reusedTab.getId()]=nextTabState;return}this.queuedTabStates$QzPR[reusedTab.getId()]=nextTabState;reusedTab.fireEvent(com.coremedia.cms.editor.sdk.desktop.WorkArea.BEFORE_TAB_REUSE_EVENT,reusedTab);reusableTabType.setupReusedTab(nextTabState,reusedTab);com.coremedia.ui.util.AsyncObserver.complete(function(){var lastQueuedState=
this$.queuedTabStates$QzPR[reusedTab.getId()];delete this$.queuedTabStates$QzPR[reusedTab.getId()];if(nextTabState===lastQueuedState)reusedTab.fireEvent(com.coremedia.cms.editor.sdk.desktop.WorkArea.AFTER_TAB_REUSE_EVENT,reusedTab);else this$.setupReusedTab$QzPR(reusableTabType,reusedTab,lastQueuedState)})}function getTabProxy(tabType,tab,tabOrState){var proxy;if(AS3.is(tab,com.coremedia.cms.editor.sdk.desktop.WorkAreaTab))proxy=com.coremedia.cms.editor.sdk.editorContext.getWorkAreaTabProxies().getWorkAreaTabProxyForEntity(this.getEntityForTab$QzPR(AS3.as(tab,
com.coremedia.cms.editor.sdk.desktop.WorkAreaTab)));if(proxy){AS3.setBindable(proxy,"referenceTab",tab);AS3.setBindable(proxy,"referenceTabType",tabType);AS3.as(proxy.up(),Ext.tab.Panel).setActiveTab(proxy);proxy=null}else{proxy=AS3.cast(com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxy,{});AS3.setBindable(proxy,"referenceTab",tab);AS3.setBindable(proxy,"referenceTabType",tabType);if(AS3.is(tabOrState,com.coremedia.cms.editor.sdk.desktop.reusability.ProxyTabState))AS3.setBindable(proxy,
"proxyState",AS3.as(tabOrState,com.coremedia.cms.editor.sdk.desktop.reusability.ProxyTabState));else if(AS3.is(tabOrState,com.coremedia.cms.editor.sdk.desktop.WorkAreaTab))AS3.setBindable(proxy,"proxyState",new com.coremedia.cms.editor.sdk.desktop.reusability.ProxyTabState({entity:this.getEntityForTab$QzPR(AS3.as(tab,com.coremedia.cms.editor.sdk.desktop.WorkAreaTab))}))}return proxy}function showSingletonTab(tabTypeId){var this$=this;var tabsOfType=this.getTabsOfType$QzPR(tabTypeId);if(tabsOfType.length===
0){var newTab;var tabType=this.getTabTypeById(tabTypeId);if(this.getCachedSingletonTab$QzPR(tabTypeId)){newTab=this.getCachedSingletonTab$QzPR(tabTypeId);this.removeCachedSingletonTab$QzPR(tabTypeId);this.addNewTab$QzPR(tabType,newTab)}else tabType.createTab({},function(tab){this$.addNewTab$QzPR(tabType,tab)})}else if(tabsOfType.indexOf(this.getActiveTab())===-1)this.setActiveTab(tabsOfType[0])}function addNewTab(tabType,newTab){Ext.suspendLayouts();this.addTab(tabType,newTab);Ext.resumeLayouts();
this.setActiveTab(newTab);var activeElement=Ext.getDoc().dom["activeElement"];if(Ext.isGecko&&activeElement&&activeElement["nodeName"]==="IFRAME"){activeElement.blur();activeElement.blur()}}function toggleSingletonTab(tabTypeId){if(this.getTabsOfType$QzPR(tabTypeId).length>0&&this.getActiveTab()===this.getTabsOfType$QzPR(tabTypeId)[0])this.cacheAndHideSingletonTab$QzPR(tabTypeId);else this.showSingletonTab(tabTypeId)}function cacheAndHideSingletonTab(tabTypeId){var tab=AS3.as(this.getTabsOfType$QzPR(tabTypeId)[0],
Ext.panel.Panel);if(tab){this.addCachedSingletonTab$QzPR(tab,tabTypeId);tab.fireEvent("close",tab);this.remove(tab,false);tab.hide()}}function addCachedSingletonTab(tab,tabTypeId){var this$=this;var currentCacheValue=this.cachedSingletonTabs$QzPR[tabTypeId];if(currentCacheValue&&currentCacheValue!==tab)currentCacheValue.destroy();if(!currentCacheValue){this.cachedSingletonTabs$QzPR[tabTypeId]=tab;tab.mon(tab,"beforedestroy",function(){this$.removeCachedSingletonTab$QzPR(tabTypeId)})}}function getCachedSingletonTab(tabTypeId){return this.cachedSingletonTabs$QzPR[tabTypeId]}
function removeCachedSingletonTab(tabTypeId){this.cachedSingletonTabs$QzPR[tabTypeId]&&delete this.cachedSingletonTabs$QzPR[tabTypeId]}function highlightTab(tab){var workAreaTab=AS3.as(tab,com.coremedia.cms.editor.sdk.desktop.WorkAreaTab);var proxy=com.coremedia.cms.editor.sdk.editorContext.getWorkAreaTabProxies().getWorkAreaTabProxyForEntity(AS3.getBindable(workAreaTab,"entity"));var extendedTab=AS3.as(proxy["tab"],com.coremedia.ui.components.ExtendedTab);if(extendedTab){AS3.setBindable(extendedTab,
"highlighted",true);var delayAnimation=new Ext.util.DelayedTask(function(){if(extendedTab)AS3.setBindable(extendedTab,"highlighted",false)});delayAnimation.delay(5E3)}}function createDefaultTabs(){var this$=this;this.defaultTabType$QzPR.createTab({},function(defaultTab){this$.addTab(this$.defaultTabType$QzPR,defaultTab);this$.setActiveTab(defaultTab)})}function setDefaultTabTypeId(defaultTabTypeId){for(var $1 in this.tabTypeById$QzPR){var workAreaTabType=this.tabTypeById$QzPR[$1];if(workAreaTabType.getId()===
defaultTabTypeId){this.defaultTabType$QzPR=workAreaTabType;return}}throw new AS3.Error("workAreaTabTypesPlugin defaultTabType '"+defaultTabTypeId+"' not found.");}function getDefaultTabType(){return this.defaultTabType$QzPR}function registerTabType(tabType){this.tabTypeById$QzPR[tabType.getId()]=tabType}function getTabTypeById(id){if(!this.tabTypeById$QzPR[id])if(Ext.ClassManager.getByAlias("widget."+id))this.registerTabType(new com.coremedia.cms.editor.sdk.desktop.ComponentBasedWorkAreaTabType(AS3.cast(com.coremedia.cms.editor.sdk.desktop.ComponentBasedWorkAreaTabType,
{tabComponent:{xtype:id}})));else;return this.tabTypeById$QzPR[id]}function getTabTypeByTab(tab){return this.tabTypeByTabId$QzPR[tab.getId()]}function getTabTypes(){var tabTypes=[];for(var $1 in this.tabTypeById$QzPR){var tabType=this.tabTypeById$QzPR[$1];tabTypes.push(tabType)}return tabTypes}function getEntityTabTypes(){return AS3.cast(Vector$object,this.getTabTypes$QzPR().filter(isEntityTabType$static))}function isEntityTabType$static(tabType){return AS3.is(tabType,com.coremedia.cms.editor.sdk.desktop.EntityWorkAreaTabType)}
function getTabsOfType(tabTypeId){var this$=this;var result=[];this.itemCollection.each(function(tab){if(tab&&this$.getTabTypeByTab(tab).getId()===tabTypeId)result.push(tab)});return result}function onAdd(component,position){Ext.tab.Panel.prototype.onAdd.call(this,component,position);if(component.initialConfig&&component.initialConfig.ariaRole)component["ariaRole"]=component.initialConfig.ariaRole}function tabRemoved(tab){var this$=this;delete this.tabTypeByTabId$QzPR[tab.getId()];if(this.itemCollection.getCount()===
0)com.coremedia.ui.util.EventUtil.invokeLater(function(){if(this$.itemCollection.getCount()===0)this$.createDefaultTabs$QzPR()})}function setActiveTab(card){var tabProxy;if(AS3.is(card,com.coremedia.cms.editor.sdk.desktop.WorkAreaTab))tabProxy=com.coremedia.cms.editor.sdk.editorContext.getWorkAreaTabProxies().getWorkAreaTabProxyForEntity(this.getEntityForTab$QzPR(AS3.as(card,com.coremedia.cms.editor.sdk.desktop.WorkAreaTab)));else tabProxy=com.coremedia.cms.editor.sdk.editorContext.getWorkAreaTabProxies().getWorkAreaTabProxyForEntity(card);
if(tabProxy)com.coremedia.cms.editor.sdk.editorContext.getWorkAreaTabProxies().setActiveTab(tabProxy);return Ext.tab.Panel.prototype.setActiveTab.call(this,card)}function findTab(tabState){var this$=this;return AS3.as(this.itemCollection.findBy(function(tab){var stateHolder=AS3.as(tab,com.coremedia.ui.data.StateHolder);if(stateHolder){var workAreaTab=AS3.as(tab,com.coremedia.cms.editor.sdk.desktop.WorkAreaTab);if(this$.isTabDirty(workAreaTab))return false;var otherTabState=stateHolder.getStateValueExpression().getValue();
if(workAreaTab){var entityWorkAreaTabType=AS3.cast(com.coremedia.cms.editor.sdk.desktop.EntityWorkAreaTabType,this$.getTabTypeByTab(tab));var entity=entityWorkAreaTabType.extractEntity(tabState);var otherEntity=entityWorkAreaTabType.extractEntity(otherTabState);if(entity===otherEntity)return true}else{for(var property in tabState)if(!com.coremedia.ui.util.ObjectUtils.equal(tabState[property],otherTabState[property]))return false;return true}}return false}),Ext.panel.Panel)}function isTabDirty(workAreaTab){return workAreaTab.getEntity()!==
this.getEntityForTab$QzPR(workAreaTab)}return{extend:"Ext.tab.Panel",metadata:{"":["PublicApi"]},tabTypeById$QzPR:null,tabTypeByTabId$QzPR:null,defaultTabType$QzPR:null,constructor:WorkAreaBase$,super$QzPR:function(){Ext.tab.Panel.prototype.constructor.apply(this,arguments)},handleTabChange$QzPR:handleTabChange,add:add,pushComponents$QzPR:pushComponents,addTab:addTab,getReusedPanel$QzPR:getReusedPanel,getEntityForTab$QzPR:getEntityForTab,setupReusedTab$QzPR:setupReusedTab,getTabProxy$QzPR:getTabProxy,
showSingletonTab:showSingletonTab,addNewTab$QzPR:addNewTab,toggleSingletonTab:toggleSingletonTab,cacheAndHideSingletonTab$QzPR:cacheAndHideSingletonTab,addCachedSingletonTab$QzPR:addCachedSingletonTab,getCachedSingletonTab$QzPR:getCachedSingletonTab,removeCachedSingletonTab$QzPR:removeCachedSingletonTab,highlightTab:highlightTab,createDefaultTabs$QzPR:createDefaultTabs,setDefaultTabTypeId:setDefaultTabTypeId,getDefaultTabType$QzPR:getDefaultTabType,registerTabType:registerTabType,getTabTypeById:getTabTypeById,
getTabTypeByTab:getTabTypeByTab,getTabTypes$QzPR:getTabTypes,getEntityTabTypes:getEntityTabTypes,getTabsOfType$QzPR:getTabsOfType,onAdd:onAdd,tabRemoved$QzPR:tabRemoved,setActiveTab:setActiveTab,findTab:findTab,isTabDirty:isTabDirty,statics:{COMPONENT_ID:"workarea",NO_HEADER_TAB_TYPE_IDS:undefined,__initStatics__:function(){NO_HEADER_TAB_TYPE_IDS$static_()}},requires:["AS3.Error","Ext","Ext.ClassManager","Ext.ComponentManager","Ext.panel.Panel","Ext.tab.Panel","Ext.util.DelayedTask","com.coremedia.cms.editor.Editor_properties",
"com.coremedia.ui.components.ExtendedTab","com.coremedia.ui.data.StateHolder","com.coremedia.ui.util.AsyncObserver","com.coremedia.ui.util.EventUtil","com.coremedia.ui.util.ObjectUtils","com.coremedia.ui.util.reusableComponentsService"],uses:["com.coremedia.cms.editor.sdk.dashboard.Dashboard","com.coremedia.cms.editor.sdk.desktop.ComponentBasedEntityWorkAreaTabType","com.coremedia.cms.editor.sdk.desktop.ComponentBasedWorkAreaTabType","com.coremedia.cms.editor.sdk.desktop.EntityWorkAreaTabType","com.coremedia.cms.editor.sdk.desktop.StartTab",
"com.coremedia.cms.editor.sdk.desktop.WorkArea","com.coremedia.cms.editor.sdk.desktop.WorkAreaTab","com.coremedia.cms.editor.sdk.desktop.WorkAreaTabTypeAware","com.coremedia.cms.editor.sdk.desktop.reusability.ProxyTabState","com.coremedia.cms.editor.sdk.desktop.reusability.ReusableTabType","com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxy","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.EntityWorkAreaTabType",function(EntityWorkAreaTabType){return{mixins:["com.coremedia.cms.editor.sdk.desktop.WorkAreaTabType"],requires:["com.coremedia.cms.editor.sdk.desktop.WorkAreaTabType"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.SaveSearchWindow",function(SaveSearchWindow){function SaveSearchWindow$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.SaveSearchWindowBase,{});var defaults_$1=AS3.cast(SaveSearchWindow,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.Editor","saveSearchWindow_title"));config_$1.stateId="saveSearchWindowState";
AS3.setBindable(config_$1,"stateful",true);AS3.setBindable(config_$1,"width",350);config_$1.resizable=false;config_$1.constrainHeader=true;config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.WindowSkin.GRID_200.getSkin());var ui_VerticalSpacingPlugin_29_5_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});config_$1.plugins=[ui_VerticalSpacingPlugin_29_5_$1];var ui_StatefulTextField_32_5_$1=AS3.cast(com.coremedia.ui.components.StatefulTextField,{});ui_StatefulTextField_32_5_$1.itemId=
net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.desktop.SaveSearchWindowBase.NEW_SEARCH_NAME_ITEM_ID);AS3.setBindable(ui_StatefulTextField_32_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","newSearch_textField_label")));ui_StatefulTextField_32_5_$1.selectOnFocus=true;ui_StatefulTextField_32_5_$1.anchor="100%";AS3.setBindable(ui_StatefulTextField_32_5_$1,"value",this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"newSearch_defaultValue_text"));var object_38_9_$1={};object_38_9_$1.specialkey=AS3.bind(this,"handleSpecialKey");AS3.setBindable(ui_StatefulTextField_32_5_$1,"listeners",object_38_9_$1);var checkboxGroup_41_5_$1=AS3.cast(Ext.form.CheckboxGroup,{});AS3.setBindable(checkboxGroup_41_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","saveSearch_saveAsLabel_text")));checkboxGroup_41_5_$1.labelSeparator="";checkboxGroup_41_5_$1.labelAlign=
"top";checkboxGroup_41_5_$1.allowBlank=false;checkboxGroup_41_5_$1.blankText=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.EditorErrors","saveSearch_noSaveOptionSelected_tooltiptext"));checkboxGroup_41_5_$1.msgTarget="side";AS3.setBindable(checkboxGroup_41_5_$1,"layout","anchor");var ui_StatefulCheckbox_50_9_$1=AS3.cast(com.coremedia.ui.components.StatefulCheckbox,{});ui_StatefulCheckbox_50_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.desktop.SaveSearchWindowBase.SAVE_AS_FOLDER_ITEM_ID);
ui_StatefulCheckbox_50_9_$1.hideLabel=true;AS3.setBindable(ui_StatefulCheckbox_50_9_$1,"value","true");AS3.setBindable(ui_StatefulCheckbox_50_9_$1,"boxLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","saveSearch_saveAsFolderCheckbox_text")));var ui_StatefulCheckbox_54_9_$1=AS3.cast(com.coremedia.ui.components.StatefulCheckbox,{});ui_StatefulCheckbox_54_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.desktop.SaveSearchWindowBase.SAVE_AS_WIDGET_ITEM_ID);
ui_StatefulCheckbox_54_9_$1.hideLabel=true;AS3.setBindable(ui_StatefulCheckbox_54_9_$1,"boxLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","saveSearch_saveAsWidgetCheckbox_text")));checkboxGroup_41_5_$1.items=[ui_StatefulCheckbox_50_9_$1,ui_StatefulCheckbox_54_9_$1];config_$1.items=[ui_StatefulTextField_32_5_$1,checkboxGroup_41_5_$1];var labelable_61_5_$1=AS3.cast(Ext.form.Labelable,{});labelable_61_5_$1.labelSeparator="";labelable_61_5_$1.labelAlign=
"top";config_$1["defaultType"]=labelable_61_5_$1["xtype"];delete labelable_61_5_$1["xtype"];delete labelable_61_5_$1["xclass"];config_$1.defaults=labelable_61_5_$1;var button_65_5_$1=AS3.cast(Ext.button.Button,{});button_65_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.desktop.SaveSearchWindowBase.OK_BUTTON_ITEM_ID);button_65_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_PRIMARY.getSkin());AS3.setBindable(button_65_5_$1,"scale","small");
AS3.setBindable(button_65_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","saveSearchSubmitButton_text")));AS3.setBindable(button_65_5_$1,"handler",AS3.bind(this,"saveSearchOrWidget"));var button_70_5_$1=AS3.cast(Ext.button.Button,{});button_70_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.desktop.SaveSearchWindowBase.CANCEL_BUTTON_ITEM_ID);button_70_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_SECONDARY.getSkin());
AS3.setBindable(button_70_5_$1,"scale","small");AS3.setBindable(button_70_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","dialog_defaultCancelButton_text")));AS3.setBindable(button_70_5_$1,"handler",AS3.bind(this,"cancel"));config_$1.buttons=[button_65_5_$1,button_70_5_$1];var layout_VBox_77_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_77_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_77_5_$1);
net.jangaroo.ext.Exml.apply(config_$1,config);this.super$xQi1(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.desktop.SaveSearchWindowBase",alias:"widget.com.coremedia.cms.editor.sdk.config.saveSearchWindow",constructor:SaveSearchWindow$,super$xQi1:function(){com.coremedia.cms.editor.sdk.desktop.SaveSearchWindowBase.prototype.constructor.apply(this,arguments)},requires:["Ext.button.Button","Ext.form.CheckboxGroup","Ext.form.Labelable","Ext.layout.container.VBox","com.coremedia.cms.editor.Editor_properties",
"com.coremedia.cms.editor.sdk.desktop.SaveSearchWindowBase","com.coremedia.ui.components.StatefulCheckbox","com.coremedia.ui.components.StatefulTextField","com.coremedia.ui.plugins.VerticalSpacingPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.WindowSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.MainNavigationToolbar",function(MainNavigationToolbar){function MainNavigationToolbar$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.toolbar.Toolbar,{});var defaults_$1=AS3.cast(MainNavigationToolbar,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1["ariaRole"]="region";config_$1["focusableContainer"]=false;config_$1["focusable"]=true;config_$1.defaultFocus=":focusable";config_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"MainNavigationToolbar_label"));config_$1["id"]=MainNavigationToolbar.ID;config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.MAIN_NAVIGATION.getSkin());var ui_IconButton_47_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_47_5_$1.enableToggle=true;AS3.setBindable(ui_IconButton_47_5_$1,"scale","medium");ui_IconButton_47_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.MAIN_NAVIGATION.getSkin());ui_IconButton_47_5_$1.flex=1;config_$1["defaultType"]=
ui_IconButton_47_5_$1["xtype"];delete ui_IconButton_47_5_$1["xtype"];delete ui_IconButton_47_5_$1["xclass"];config_$1.defaults=ui_IconButton_47_5_$1;var ui_IconButton_54_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_54_5_$1.itemId=net.jangaroo.ext.Exml.asString(MainNavigationToolbar.DASHBOARD_BUTTON_ITEM_ID);AS3.setBindable(ui_IconButton_54_5_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","MainNavigationToolbar_showDashboard_btn_icon")));
AS3.setBindable(ui_IconButton_54_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","MainNavigationToolbar_showDashboard_btn_text")));AS3.setBindable(ui_IconButton_54_5_$1,"tooltip",this.resourceManager.getString("com.coremedia.cms.editor.Editor","MainNavigationToolbar_showDashboard_btn_text"));AS3.setBindable(ui_IconButton_54_5_$1,"disabled",AS3.getBindable(com.coremedia.cms.editor.sdk.editorContext.getDashboardConfiguration(),"types").length===
0);var actionRef_60_9_$1=AS3.cast(ext.ActionRef,{});actionRef_60_9_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.dashboard.ToggleDashboardAction.ACTION_ID);ui_IconButton_54_5_$1.baseAction=actionRef_60_9_$1;var ui_IconButton_63_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_63_5_$1.itemId=net.jangaroo.ext.Exml.asString(MainNavigationToolbar.LIBRARY_BUTTON_ITEM_ID);ui_IconButton_63_5_$1["id"]=MainNavigationToolbar.LIBRARY_BUTTON_ITEM_ID;AS3.setBindable(ui_IconButton_63_5_$1,
"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","MainNavigationToolbar_showLibrary_btn_icon")));AS3.setBindable(ui_IconButton_63_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","MainNavigationToolbar_showLibrary_btn_text")));AS3.setBindable(ui_IconButton_63_5_$1,"tooltip",this.resourceManager.getString("com.coremedia.cms.editor.Editor","MainNavigationToolbar_showLibrary_btn_tooltip"));
var actionRef_69_9_$1=AS3.cast(ext.ActionRef,{});actionRef_69_9_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.ToggleCollectionViewAction.ACTION_ID);ui_IconButton_63_5_$1.baseAction=actionRef_69_9_$1;var tbSpacer_72_5_$1=AS3.cast(Ext.toolbar.Spacer,{});AS3.setBindable(tbSpacer_72_5_$1,"width","6px");config_$1.items=[ui_IconButton_54_5_$1,ui_IconButton_63_5_$1,tbSpacer_72_5_$1];var layout_HBox_75_5_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_75_5_$1,
"align","top");AS3.setBindable(config_$1,"layout",layout_HBox_75_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$eU1Y(config_$1)}return{extend:"Ext.toolbar.Toolbar",alias:"widget.com.coremedia.cms.editor.sdk.config.mainNavigationToolbar",constructor:MainNavigationToolbar$,super$eU1Y:function(){Ext.toolbar.Toolbar.prototype.constructor.apply(this,arguments)},statics:{ID:"main-navigation-toolbar",LIBRARY_BUTTON_ITEM_ID:"libraryButton",DASHBOARD_BUTTON_ITEM_ID:"dashboardButton"},requires:["Ext.layout.container.HBox",
"Ext.toolbar.Spacer","Ext.toolbar.Toolbar","com.coremedia.cms.editor.Editor_properties","com.coremedia.ui.components.IconButton","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.ToolbarSkin","ext.ActionRef","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.collectionview.ToggleCollectionViewAction","com.coremedia.cms.editor.sdk.dashboard.ToggleDashboardAction","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.HeaderToolbarUserMenu",function(HeaderToolbarUserMenu){function BLOCK$static_(){HeaderToolbarUserMenu.BLOCK=new com.coremedia.ui.models.bem.BEMBlock("cm-user-menu")}function ELEMENT_FIELD$static_(){HeaderToolbarUserMenu.ELEMENT_FIELD=HeaderToolbarUserMenu.BLOCK.createElement("field")}function HeaderToolbarUserMenu$(config){var this$=this;if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.HeaderToolbarUserMenuBase,
{});var defaults_$1=AS3.cast(HeaderToolbarUserMenu,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1["focusable"]=true;config_$1.defaultFocus=":focusable";config_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","HeaderToolbar_userMenu_label"));config_$1.showSeparator=false;config_$1.shadow="sides";config_$1.plain=true;AS3.setBindable(config_$1,"width",340);config_$1.tabNavigationMode=ext.mixin.AdvancedFocusableContainerMixin.TAB_NAVIGATION_MODE_ONLY;
config_$1.ignoreInputFields=false;var ui_BEMPlugin_45_5_$1=AS3.cast(com.coremedia.ui.plugins.BEMPlugin,{});AS3.setBindable(ui_BEMPlugin_45_5_$1,"block",HeaderToolbarUserMenu.BLOCK);config_$1.plugins=[ui_BEMPlugin_45_5_$1];var toolbar_48_5_$1=AS3.cast(Ext.toolbar.Toolbar,{});toolbar_48_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.MENU_HEADER.getSkin());var ui_IconDisplayField_50_9_$1=AS3.cast(com.coremedia.ui.components.IconDisplayField,{});ui_IconDisplayField_50_9_$1.ui=
net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.IconDisplayFieldSkin.LOGO.getSkin());AS3.setBindable(ui_IconDisplayField_50_9_$1,"scale","large");AS3.setBindable(ui_IconDisplayField_50_9_$1,"width","100%");AS3.setBindable(ui_IconDisplayField_50_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(com.coremedia.icons.CoreIcons_properties.INSTANCE.coremedia));AS3.setBindable(ui_IconDisplayField_50_9_$1,"value",com.coremedia.ui.util.EncodingUtil.encodeForHTML(this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"HeaderToolbar_userPreferenceMenu_ci_text"))+"\x3cbr /\x3e"+com.coremedia.ui.util.EncodingUtil.encodeForHTML(com.coremedia.cms.editor.sdk.desktop.HeaderToolbarUserMenuBase.getCMSVersion()));toolbar_48_5_$1.items=[ui_IconDisplayField_50_9_$1];config_$1.tbar=toolbar_48_5_$1;var menuItem_59_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_59_5_$1["id"]="change-password-menu-item";AS3.setBindable(menuItem_59_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"HeaderToolbar_changePassword_btn_text")));var ui_OpenDialogAction_62_9_$1=AS3.cast(com.coremedia.ui.actions.OpenDialogAction,{});var editor_ChangePasswordWindow_64_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.login.ChangePasswordWindow,{});AS3.setBindable(ui_OpenDialogAction_62_9_$1,"dialog",editor_ChangePasswordWindow_64_13_$1);menuItem_59_5_$1.baseAction=new com.coremedia.ui.actions.OpenDialogAction(ui_OpenDialogAction_62_9_$1);var ui_BindPropertyPlugin_69_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,
{});ui_BindPropertyPlugin_69_9_$1.componentProperty="visible";ui_BindPropertyPlugin_69_9_$1.transformer=function(value){return!value};var ui_ValueExpression_74_13_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_74_13_$1,"expression","user.external");AS3.setBindable(ui_ValueExpression_74_13_$1,"context",com.coremedia.cap.common.SESSION);ui_BindPropertyPlugin_69_9_$1.bindTo=new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_74_13_$1);menuItem_59_5_$1.plugins=
[ui_BindPropertyPlugin_69_9_$1];var menuItem_80_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_80_5_$1["id"]="preferences-menu-item";AS3.setBindable(menuItem_80_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","PreferenceWindow_title")));var ui_OpenDialogAction_83_9_$1=AS3.cast(com.coremedia.ui.actions.OpenDialogAction,{});var editor_PreferenceWindow_85_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.preferences.PreferenceWindow,{});AS3.setBindable(ui_OpenDialogAction_83_9_$1,
"dialog",editor_PreferenceWindow_85_13_$1);menuItem_80_5_$1.baseAction=new com.coremedia.ui.actions.OpenDialogAction(ui_OpenDialogAction_83_9_$1);var menuItem_90_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_90_5_$1["id"]="about-menu-item";AS3.setBindable(menuItem_90_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","AboutWindow_title")));var ui_OpenDialogAction_93_9_$1=AS3.cast(com.coremedia.ui.actions.OpenDialogAction,{});var editor_AboutWindow_95_13_$1=
AS3.cast(com.coremedia.cms.editor.sdk.about.AboutWindow,{});AS3.setBindable(ui_OpenDialogAction_93_9_$1,"dialog",editor_AboutWindow_95_13_$1);menuItem_90_5_$1.baseAction=new com.coremedia.ui.actions.OpenDialogAction(ui_OpenDialogAction_93_9_$1);var menuSeparator_100_5_$1=AS3.cast(Ext.menu.Separator,{});var editor_SiteSelectorComboBox_101_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.SiteSelectorComboBox,{});AS3.setBindable(editor_SiteSelectorComboBox_101_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"HeaderToolbar_siteSelector_label")));editor_SiteSelectorComboBox_101_5_$1.labelAlign="top";editor_SiteSelectorComboBox_101_5_$1.labelSeparator="";editor_SiteSelectorComboBox_101_5_$1.itemId=net.jangaroo.ext.Exml.asString(HeaderToolbarUserMenu.SITE_SELECTOR_ITEM_ID);editor_SiteSelectorComboBox_101_5_$1.grow=true;var ui_BEMMixin_108_9_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,{});AS3.setBindable(ui_BEMMixin_108_9_$1,"bemElement",HeaderToolbarUserMenu.ELEMENT_FIELD);delete ui_BEMMixin_108_9_$1["xtype"];
delete ui_BEMMixin_108_9_$1["xclass"];net.jangaroo.ext.Exml.apply(editor_SiteSelectorComboBox_101_5_$1,ui_BEMMixin_108_9_$1);var menuSeparator_111_5_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_112_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_112_5_$1["id"]="logout-menu-item";AS3.setBindable(menuItem_112_5_$1,"handler",com.coremedia.cms.editor.sdk.login.LogoutUtil.logout);var ui_BindPropertyPlugin_115_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_115_9_$1.componentProperty=
"text";ui_BindPropertyPlugin_115_9_$1.transformer=function(value){return Ext.String.format(this$.resourceManager.getString("com.coremedia.cms.editor.Editor","HeaderToolbar_logout_btn_text"),com.coremedia.ui.util.EncodingUtil.encodeForHTML(value))};var ui_ValueExpression_120_13_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_120_13_$1,"expression","user.name");AS3.setBindable(ui_ValueExpression_120_13_$1,"context",com.coremedia.cap.common.SESSION);ui_BindPropertyPlugin_115_9_$1.bindTo=
new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_120_13_$1);menuItem_112_5_$1.plugins=[ui_BindPropertyPlugin_115_9_$1];config_$1.items=[menuItem_59_5_$1,menuItem_80_5_$1,menuItem_90_5_$1,menuSeparator_100_5_$1,editor_SiteSelectorComboBox_101_5_$1,menuSeparator_111_5_$1,menuItem_112_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$FkXi(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.desktop.HeaderToolbarUserMenuBase",alias:"widget.com.coremedia.cms.editor.sdk.config.headerToolbarUserMenu",
constructor:HeaderToolbarUserMenu$,super$FkXi:function(){com.coremedia.cms.editor.sdk.desktop.HeaderToolbarUserMenuBase.prototype.constructor.apply(this,arguments)},statics:{SITE_SELECTOR_ITEM_ID:"siteSelector",BLOCK:undefined,ELEMENT_FIELD:undefined,__initStatics__:function(){BLOCK$static_();ELEMENT_FIELD$static_()}},requires:["Ext.String","Ext.menu.Item","Ext.menu.Separator","Ext.toolbar.Toolbar","com.coremedia.cap.common.SESSION","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.desktop.HeaderToolbarUserMenuBase",
"com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.actions.OpenDialogAction","com.coremedia.ui.components.IconDisplayField","com.coremedia.ui.exml.ValueExpression","com.coremedia.ui.models.bem.BEMBlock","com.coremedia.ui.plugins.BEMMixin","com.coremedia.ui.plugins.BEMPlugin","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.skins.IconDisplayFieldSkin","com.coremedia.ui.skins.ToolbarSkin","com.coremedia.ui.util.EncodingUtil","ext.mixin.AdvancedFocusableContainerMixin","net.jangaroo.ext.Exml"],
uses:["com.coremedia.cms.editor.sdk.about.AboutWindow","com.coremedia.cms.editor.sdk.desktop.SiteSelectorComboBox","com.coremedia.cms.editor.sdk.login.ChangePasswordWindow","com.coremedia.cms.editor.sdk.login.LogoutUtil","com.coremedia.cms.editor.sdk.preferences.PreferenceWindow"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.SavedSearchModel",function(SavedSearchModel){function SavedSearchModel$(data){this.data$QZQ6=data;Ext.apply(this,this.data$QZQ6)}function equals(that){var thatModel=AS3.as(that,SavedSearchModel);if(!thatModel)return false;if(this===thatModel)return true;return com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUtils.getUserItemName(this.data$QZQ6)===com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUtils.getUserItemName(thatModel.data$QZQ6)}return{mixins:["com.coremedia.ui.util.WithEquals"],
data$QZQ6:null,constructor:SavedSearchModel$,equals:equals,requires:["Ext","com.coremedia.ui.util.WithEquals"],uses:["com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUtils"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.SystemMessageUtil",function(SystemMessageUtil){function attachSystemMessageListener$static(){AS3.cast(com.coremedia.cap.common.MessageService,com.coremedia.cap.common.SESSION.getConnection()).addMessageListener("systemMessage",showSystemMessage$static)}function showSystemMessage$static(message){var messageType=message.body["type"];var messageArguments=(message.body["arguments"]||[]).map(function(argument){return Ext.util.Format.htmlEncode(String(argument))});
var titlePattern=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.SystemMessages",messageType+"_title");var title=com.coremedia.cms.editor.sdk.util.FormatUtil.format.apply(null,[titlePattern].concat(messageArguments));var messagePattern=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.SystemMessages",messageType+"_text");var text=com.coremedia.cms.editor.sdk.util.FormatUtil.format.apply(null,[messagePattern].concat(messageArguments));com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showInfo(title,
text,null,false)}function SystemMessageUtil$(){}return{constructor:SystemMessageUtil$,statics:{attachSystemMessageListener:attachSystemMessageListener$static},requires:["Ext.util.Format","com.coremedia.cap.common.MessageService","com.coremedia.cap.common.SESSION","com.coremedia.cms.editor.SystemMessages_properties","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.util.FormatUtil","com.coremedia.cms.editor.sdk.util.MessageBoxUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.CloseTabsActionBase",function(CloseTabsActionBase){function CloseTabsActionBase$(config){if(arguments.length<=0)config=null;this.excludedTypes$MTUn=AS3.getBindable(config,"excludedTypes")||null;this.mode$MTUn=AS3.getBindable(config,"mode");if(AS3.getBindable(config,"asShortcut"))this.isShortcut$MTUn=AS3.getBindable(config,"asShortcut");AS3.setBindable(config,"handler",AS3.bind(this,"_handler$MTUn"));this.super$MTUn(config)}function _handler(){switch(this.mode$MTUn){case com.coremedia.cms.editor.sdk.desktop.CloseTabsAction.CLOSE_TAB_MODE:this.onClose$MTUn();
break;case com.coremedia.cms.editor.sdk.desktop.CloseTabsAction.CLOSE_OTHER_TABS_MODE:this.onCloseOthers$MTUn();break;case com.coremedia.cms.editor.sdk.desktop.CloseTabsAction.CLOSE_ALL_TABS_MODE:this.onCloseAll$MTUn()}}function getContextClickedTab(){if(!this.isShortcut$MTUn)return com.coremedia.ui.actions.AbstractTabContextMenuAction.prototype.getContextClickedTab.call(this);var workAreaTabProxies=com.coremedia.cms.editor.sdk.editorContext.getWorkAreaTabProxies();return AS3.as(workAreaTabProxies.getActiveTab(),
Ext.panel.Panel)}function checkDisabled(){var this$=this;var disableAll=true;var disableOthers=true;if(this.mode$MTUn===com.coremedia.cms.editor.sdk.desktop.CloseTabsAction.CLOSE_TAB_MODE)return!AS3.getBindable(this.getContextClickedTab(),"closable","DUMMY");else{this.getContextClickedTabPanel().itemCollection.each(function(item){if(AS3.getBindable(item,"closable","DUMMY")){disableAll=false;if(item!=this$.getContextClickedTab()){disableOthers=false;return false}}return true});if(this.mode$MTUn===
com.coremedia.cms.editor.sdk.desktop.CloseTabsAction.CLOSE_OTHER_TABS_MODE)return disableOthers;if(this.mode$MTUn===com.coremedia.cms.editor.sdk.desktop.CloseTabsAction.CLOSE_ALL_TABS_MODE)return disableAll}return false}function getContextClickedTabPanel(){if(!this.isShortcut$MTUn)return com.coremedia.ui.actions.AbstractTabContextMenuAction.prototype.getContextClickedTabPanel.call(this);return com.coremedia.cms.editor.sdk.editorContext.getWorkAreaTabProxies()}function onClose(){this.closeTab([this.getContextClickedTab()],
0,this.getContextClickedTabPanel())}function onCloseOthers(){this.doClose$MTUn(true)}function onCloseAll(){this.doClose$MTUn(false)}function doClose(excludeRightClickedTab){var this$=this;var tabs=[];var contextClickedTabPanel=this.getContextClickedTabPanel();contextClickedTabPanel.itemCollection.each(function(item){if(!this$.excludedTypes$MTUn||this$.excludedTypes$MTUn.indexOf(item.xtype)===-1)if(AS3.getBindable(item,"closable","DUMMY"))if(!excludeRightClickedTab||item!=this$.getContextClickedTab())tabs.push(item)});
if(tabs.length>0)this.closeTabs$MTUn(tabs)}function closeTabs(tabs){Ext.suspendLayouts();try{this.closeTab(tabs,0,this.getContextClickedTabPanel())}finally{Ext.resumeLayouts(true)}}function registerAbortBeforeActivate$static(tab){if(tab){unregisterAbortBeforeActivate$static(tab);tab.mon(tab,"beforeactivate",abortRender$static,null)}}function unregisterAbortBeforeActivate$static(tab){if(tab)tab.mun(tab,"beforeactivate",abortRender$static,null)}function abortRender$static(){return false}function closeTab(tabs,
index,tabPanel){var this$=this;if(index<tabs.length){var tab=tabs[index];registerAbortBeforeActivate$static(tab);var nextTabToClose;if(index+1<tabs.length){nextTabToClose=tabs[index+1];registerAbortBeforeActivate$static(nextTabToClose)}try{var handledSynchronously;if(AS3.is(tab,com.coremedia.ui.components.AsynchronouslyClosable))handledSynchronously=AS3.as(tab,com.coremedia.ui.components.AsynchronouslyClosable).closeAsynchronously(function(continueClosing){if(continueClosing)this$.closeTab(tabs,index+
1,tabPanel)});else handledSynchronously=tab.fireEvent("beforeclose",tab);if(handledSynchronously!==false){tab.fireEvent("close",tab);tabPanel.remove(tab);this.closeTab(tabs,index+1,tabPanel)}else{unregisterAbortBeforeActivate$static(tab);if(nextTabToClose)unregisterAbortBeforeActivate$static(nextTabToClose);tabPanel.setActiveTab(tab);tab.updateLayout()}}catch(e){if(AS3.is(e,AS3.Error)){tab&&unregisterAbortBeforeActivate$static(tab);com.coremedia.ui.logging.Logger.error(e.message);this.closeTab(tabs,
tabs.indexOf(tab)+1,tabPanel)}else throw e;}}}function calculateHidden(){return false}return{extend:"com.coremedia.ui.actions.AbstractTabContextMenuAction",excludedTypes$MTUn:null,mode$MTUn:null,isShortcut$MTUn:false,constructor:CloseTabsActionBase$,super$MTUn:function(){com.coremedia.ui.actions.AbstractTabContextMenuAction.prototype.constructor.apply(this,arguments)},_handler$MTUn:_handler,getContextClickedTab:getContextClickedTab,checkDisabled:checkDisabled,getContextClickedTabPanel:getContextClickedTabPanel,
onClose$MTUn:onClose,onCloseOthers$MTUn:onCloseOthers,onCloseAll$MTUn:onCloseAll,doClose$MTUn:doClose,closeTabs$MTUn:closeTabs,closeTab:closeTab,calculateHidden:calculateHidden,requires:["AS3.Error","Ext","Ext.panel.Panel","com.coremedia.ui.actions.AbstractTabContextMenuAction","com.coremedia.ui.components.AsynchronouslyClosable","com.coremedia.ui.logging.Logger"],uses:["com.coremedia.cms.editor.sdk.desktop.CloseTabsAction","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUserItemsAreaBase",function(FavoritesToolbarUserItemsAreaBase){function FavoritesToolbarUserItemsAreaBase$(config){var this$=this;if(arguments.length<=0)config=null;this.super$yQPZ(config);com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(com.coremedia.cms.editor.sdk.collectionview.CollectionViewUtil.getSavedSearches).loadValue(function(savedSearches){if(!savedSearches&&this$.defaultItems)com.coremedia.cms.editor.sdk.collectionview.CollectionViewUtil.updateSavedSearches([].concat(this$.defaultItems))})}
function setCurrentSearchState(st){var oldValue=this.currentSearchState$yQPZ;this.currentSearchState$yQPZ=st;com.coremedia.ui.data.util.PropertyChangeEventUtil.fireEvent(this,com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUserItemsArea.CURRENT_SEARCH_STATE_VARIABLE_NAME,oldValue,st)}function getCurrentSearchState(){return this.currentSearchState$yQPZ}return{extend:"Ext.toolbar.Toolbar",metadata:{"":["PublicApi"],getCurrentSearchState:["ProvideToExtChildren"]},defaultItems:null,currentSearchState$yQPZ:null,
contextMenu:null,constructor:FavoritesToolbarUserItemsAreaBase$,super$yQPZ:function(){Ext.toolbar.Toolbar.prototype.constructor.apply(this,arguments)},setCurrentSearchState:setCurrentSearchState,getCurrentSearchState:getCurrentSearchState,requires:["Ext.toolbar.Toolbar","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.util.PropertyChangeEventUtil"],uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionViewUtil","com.coremedia.cms.editor.sdk.desktop.FavoritesToolbarUserItemsArea"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.PremularWorkAreaTabType",function(PremularWorkAreaTabType){function TAB_TYPE_ID$static_(){PremularWorkAreaTabType.TAB_TYPE_ID=com.coremedia.cms.editor.sdk.premular.Premular.xtype}function PremularWorkAreaTabType$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.PremularWorkAreaTabTypeBase,{});var defaults_$1=AS3.cast(PremularWorkAreaTabType,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);
AS3.setBindable(config_$1,"entityProperty","content");AS3.setBindable(config_$1,"entityType",com.coremedia.cap.content.Content);AS3.setBindable(config_$1,"ddGroup","ContentLinkDD");var editor_Premular_25_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.Premular,{});AS3.setBindable(config_$1,"tabComponent",editor_Premular_25_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$W_WJ(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.desktop.PremularWorkAreaTabTypeBase",constructor:PremularWorkAreaTabType$,
super$W_WJ:function(){com.coremedia.cms.editor.sdk.desktop.PremularWorkAreaTabTypeBase.prototype.constructor.apply(this,arguments)},statics:{TAB_TYPE_ID:undefined,__initStatics__:function(){TAB_TYPE_ID$static_()}},requires:["com.coremedia.cap.content.Content","com.coremedia.cms.editor.sdk.desktop.PremularWorkAreaTabTypeBase","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.Premular"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.ShowLicenseWarningPlugin",function(ShowLicenseWarningPlugin){function ShowLicenseWarningPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.configuration.StudioPlugin,{});var defaults_$1=AS3.cast(ShowLicenseWarningPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var editor_StartTabWarnings_19_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.StartTabWarnings,{});var ui_AddItemsPlugin_21_9_$1=
AS3.cast(com.coremedia.ui.plugins.AddItemsPlugin,{});var editor_LicenseWarning_23_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.LicenseWarning,{});AS3.setBindable(ui_AddItemsPlugin_21_9_$1,"items",[editor_LicenseWarning_23_13_$1]);editor_StartTabWarnings_19_5_$1.plugins=[ui_AddItemsPlugin_21_9_$1];AS3.setBindable(config_$1,"rules",[editor_StartTabWarnings_19_5_$1]);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$h9xt(config_$1)}return{extend:"com.coremedia.cms.editor.configuration.StudioPlugin",
metadata:{"":["PublicApi"]},constructor:ShowLicenseWarningPlugin$,super$h9xt:function(){com.coremedia.cms.editor.configuration.StudioPlugin.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.configuration.StudioPlugin","com.coremedia.ui.plugins.AddItemsPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.desktop.LicenseWarning","com.coremedia.cms.editor.sdk.desktop.StartTabWarnings"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.AriaMainRegionPlugin",function(AriaMainRegionPlugin){function AriaMainRegionPlugin$(config){this.super$oGtr();if(arguments.length<=0)config=null}return{extend:"com.coremedia.cms.editor.sdk.desktop.AriaMainRegionPluginBase",constructor:AriaMainRegionPlugin$,super$oGtr:function(){com.coremedia.cms.editor.sdk.desktop.AriaMainRegionPluginBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.desktop.AriaMainRegionPluginBase"]}});Ext.define("com.coremedia.cms.editor.sdk.desktop.WorkAreaTabManager",function(WorkAreaTabManager){return{}});Ext.define("com.coremedia.cms.editor.sdk.components.breadcrumb.BreadcrumbElement",function(BreadcrumbElement){function BreadcrumbElement$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.components.breadcrumb.BreadcrumbElementBase,{});var defaults_$1=AS3.cast(BreadcrumbElement,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"handler",AS3.bind(this,"clickBreadcrumbElementHandler"));config_$1.menuAlign="tl-br?";config_$1.ariaLabel=
net.jangaroo.ext.Exml.asString(com.coremedia.ui.util.AriaUtils.DUMMY_TEXT);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.BREADCRUMB.getSkin());AS3.setBindable(config_$1,"disabled",AS3.getBindable(config,"disableElementStrategy")?AS3.getBindable(config,"disableElementStrategy")(config.breadcrumbElementId,AS3.getBindable(config,"treeModel")):false);var ui_BindPropertyPlugin_51_5_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_51_5_$1.bindTo=
com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"computeText"),AS3.getBindable(config,"hideText"));ui_BindPropertyPlugin_51_5_$1.componentProperty=net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"hideText")?"tooltip":"text");ui_BindPropertyPlugin_51_5_$1.transformer=com.coremedia.ui.util.EncodingUtil.encodeForHTML;var ui_BindPropertyPlugin_54_5_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_54_5_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,
"computeText"),true);ui_BindPropertyPlugin_54_5_$1.componentProperty="tooltip";ui_BindPropertyPlugin_54_5_$1.transformer=com.coremedia.ui.util.EncodingUtil.encodeForHTML;var ui_BindPropertyPlugin_57_5_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_57_5_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"computeAriaLabel"),true);ui_BindPropertyPlugin_57_5_$1.componentProperty="ariaLabel";ui_BindPropertyPlugin_57_5_$1.transformer=
com.coremedia.ui.util.EncodingUtil.encodeForHTML;var ui_BindPropertyPlugin_60_5_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_60_5_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"computeIconCls"),AS3.getBindable(config,"hideIcon"));ui_BindPropertyPlugin_60_5_$1.componentProperty="iconCls";ui_BindPropertyPlugin_60_5_$1.transformer=com.coremedia.ui.util.EncodingUtil.encodeForHTML;var ui_BindPropertyPlugin_63_5_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,
{});ui_BindPropertyPlugin_63_5_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"addRootCss"),AS3.getBindable(config,"addRootCssClass"));ui_BindPropertyPlugin_63_5_$1.componentProperty="cls";ui_BindPropertyPlugin_63_5_$1.transformer=com.coremedia.ui.util.EncodingUtil.encodeForHTML;config_$1.plugins=[ui_BindPropertyPlugin_51_5_$1,ui_BindPropertyPlugin_54_5_$1,ui_BindPropertyPlugin_57_5_$1,ui_BindPropertyPlugin_60_5_$1,ui_BindPropertyPlugin_63_5_$1];var editor_BreadcrumbElementMenu_68_5_$1=
AS3.cast(com.coremedia.cms.editor.sdk.components.breadcrumb.BreadcrumbElementMenu,{});AS3.setBindable(editor_BreadcrumbElementMenu_68_5_$1,"breadcrumbElementId",net.jangaroo.ext.Exml.asString(config.breadcrumbElementId));AS3.setBindable(editor_BreadcrumbElementMenu_68_5_$1,"treeModel",AS3.getBindable(config,"treeModel"));AS3.setBindable(editor_BreadcrumbElementMenu_68_5_$1,"selectedNodeValueExpression",AS3.getBindable(config,"selectedNodeValueExpression"));config_$1.menu=editor_BreadcrumbElementMenu_68_5_$1;
net.jangaroo.ext.Exml.apply(config_$1,config);this.super$i4TC(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.components.breadcrumb.BreadcrumbElementBase",alias:"widget.com.coremedia.cms.editor.sdk.config.breadcrumbElement",constructor:BreadcrumbElement$,super$i4TC:function(){com.coremedia.cms.editor.sdk.components.breadcrumb.BreadcrumbElementBase.prototype.constructor.apply(this,arguments)},config:{disableElementStrategy:null,hideText:false,hideIcon:false,addRootCssClass:false},requires:["com.coremedia.cms.editor.sdk.components.breadcrumb.BreadcrumbElementBase",
"com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.util.AriaUtils","com.coremedia.ui.util.EncodingUtil","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.components.breadcrumb.BreadcrumbElementMenu"]}});Ext.define("com.coremedia.cms.editor.sdk.components.breadcrumb.BreadcrumbElementBase",function(BreadcrumbElementBase){function BREADCRUMB_ROOT_ELEMENT$static_(){BreadcrumbElementBase.BREADCRUMB_ROOT_ELEMENT=com.coremedia.cms.editor.sdk.components.breadcrumb.Breadcrumb.BREADCRUMB_BLOCK.createElement("root")}function BreadcrumbElementBase$(config){if(arguments.length<=0)config=null;this.super$Wpmz(config);this.nonLeafChildrenExpression$Wpmz=BreadcrumbElementBase.getNonLeafChildrenValueExpression(AS3.getBindable(config,
"treeModel"),config.breadcrumbElementId);this.nonLeafChildrenExpression$Wpmz.addChangeListener(AS3.bind(this,"handleMenu"));this.setIsInOverflow(false)}function onDestroy(){Ext.button.Split.prototype.onDestroy.call(this);this.nonLeafChildrenExpression$Wpmz.removeChangeListener(AS3.bind(this,"handleMenu"))}function isRootNode(){return AS3.getBindable(this,"treeModel").getRootId()===this.breadcrumbElementId}function clickBreadcrumbElementHandler(){if(!this.hideIfRootNode||!this.isRootNode$Wpmz())AS3.getBindable(this,
"selectedNodeValueExpression").setValue(AS3.getBindable(this,"treeModel").getNodeModel(this.breadcrumbElementId))}function computeText(disableEllipsis){var text=this.breadcrumbElementId===AS3.getBindable(this,"treeModel").getRootId()?"":AS3.getBindable(this,"treeModel").getText(this.breadcrumbElementId);var shortText=disableEllipsis?text:Ext.util.Format.ellipsis(text,23,false);return shortText}function computeAriaLabel(disableEllipsis){var text=this.breadcrumbElementId===AS3.getBindable(this,"treeModel").getRootId()?
this.resourceManager.getString("com.coremedia.cms.editor.Editor","CollectionView_breadcrumb_root_text"):AS3.getBindable(this,"treeModel").getText(this.breadcrumbElementId);var shortText=disableEllipsis?text:Ext.util.Format.ellipsis(text,23,false);return shortText}function computeIconCls(hideIcon){if(!hideIcon&&AS3.getBindable(this,"treeModel").getIconCls(this.breadcrumbElementId))return AS3.getBindable(this,"treeModel").getIconCls(this.breadcrumbElementId);return""}function addRootCss(addRootCssClass){if(this.isRootNode$Wpmz())return BreadcrumbElementBase.BREADCRUMB_ROOT_ELEMENT.getCSSClass()}
function afterRender(){Ext.button.Split.prototype.afterRender.call(this);this.handleMenu()}function handleMenu(){var el=this.getEl();if(el){var nonLeafChildren=this.nonLeafChildrenExpression$Wpmz.getValue();if(AS3.getBindable(this,"disableNavigation")||!nonLeafChildren||nonLeafChildren.length===0)if(AS3.is(AS3.getBindable(this,"menu","DUMMY"),Ext.menu.Menu))this.setMenu(false,true);if(nonLeafChildren&&nonLeafChildren.length>0)if(!AS3.getBindable(this,"disableNavigation")){var newMenuCfg=AS3.cast(com.coremedia.cms.editor.sdk.components.breadcrumb.BreadcrumbElementMenu,
{});AS3.setBindable(newMenuCfg,"breadcrumbElementId",this.breadcrumbElementId);AS3.setBindable(newMenuCfg,"treeModel",AS3.getBindable(this,"treeModel"));AS3.setBindable(newMenuCfg,"selectedNodeValueExpression",AS3.getBindable(this,"selectedNodeValueExpression"));newMenuCfg.xtype=com.coremedia.cms.editor.sdk.components.breadcrumb.BreadcrumbElementMenu.xtype;newMenuCfg.alignOffset=this.isInOverflow$Wpmz?[0,-30]:[-26,0];var newMenu=new com.coremedia.cms.editor.sdk.components.breadcrumb.BreadcrumbElementMenu(newMenuCfg);
this.setMenu(newMenu,true)}this.up().updateLayout()}this.setArrowVisible(!!AS3.getBindable(this,"menu","DUMMY"))}function resetMenu(){if(AS3.is(AS3.getBindable(this,"menu","DUMMY"),Ext.menu.Menu))this.setMenu(false,true);this.handleMenu()}function setIsInOverflow(overflow){this.isInOverflow$Wpmz=overflow;if(!this.isInOverflow$Wpmz)this.resetMenu();else AS3.getBindable(this,"menu","DUMMY")&&(AS3.cast(com.coremedia.cms.editor.sdk.components.breadcrumb.BreadcrumbElementMenu,AS3.getBindable(this,"menu",
"DUMMY")).alignOffset=[0,-30])}function getNonLeafChildrenValueExpression$static(treeModel,nodeId){return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var nodeState=treeModel.getChildren(nodeId);if(!nodeState)return undefined;return nodeState.getChildIds()})}return{extend:"Ext.button.Split",isInOverflow$Wpmz:false,breadcrumbElementId:null,hideIfRootNode:false,nonLeafChildrenExpression$Wpmz:null,constructor:BreadcrumbElementBase$,super$Wpmz:function(){Ext.button.Split.prototype.constructor.apply(this,
arguments)},onDestroy:onDestroy,isRootNode$Wpmz:isRootNode,clickBreadcrumbElementHandler:clickBreadcrumbElementHandler,computeText:computeText,computeAriaLabel:computeAriaLabel,computeIconCls:computeIconCls,addRootCss:addRootCss,afterRender:afterRender,handleMenu:handleMenu,resetMenu:resetMenu,setIsInOverflow:setIsInOverflow,config:{selectedNodeValueExpression:null,treeModel:null,disableNavigation:false},statics:{BREADCRUMB_ROOT_ELEMENT:undefined,getNonLeafChildrenValueExpression:getNonLeafChildrenValueExpression$static,
__initStatics__:function(){BREADCRUMB_ROOT_ELEMENT$static_()}},requires:["Ext.button.Split","Ext.menu.Menu","Ext.util.Format","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.sdk.components.breadcrumb.Breadcrumb","com.coremedia.cms.editor.sdk.components.breadcrumb.BreadcrumbElementMenu"]}});Ext.define("com.coremedia.cms.editor.sdk.components.breadcrumb.BreadcrumbElementMenuItem",function(BreadcrumbElementMenuItem){function BreadcrumbElementMenuItem$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.components.breadcrumb.BreadcrumbElementMenuItemBase,{});var defaults_$1=AS3.cast(BreadcrumbElementMenuItem,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1["ariaRole"]="option";AS3.setBindable(config_$1,"iconCls",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,
"model").iconCls));AS3.setBindable(config_$1,"text",net.jangaroo.ext.Exml.asString(com.coremedia.ui.util.EncodingUtil.encodeForHTML(Ext.util.Format.ellipsis(AS3.getBindable(config,"model").text,23,false))));var ui_AddQuickTipPlugin_31_5_$1=AS3.cast(com.coremedia.ui.plugins.AddQuickTipPlugin,{});AS3.setBindable(ui_AddQuickTipPlugin_31_5_$1,"text",net.jangaroo.ext.Exml.asString(com.coremedia.ui.util.EncodingUtil.encodeForHTML(AS3.getBindable(config,"model").text)));config_$1.plugins=[ui_AddQuickTipPlugin_31_5_$1];
net.jangaroo.ext.Exml.apply(config_$1,config);this.super$ejn_(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.components.breadcrumb.BreadcrumbElementMenuItemBase",alias:"widget.com.coremedia.cms.editor.sdk.config.breadcrumbElementMenuItem",constructor:BreadcrumbElementMenuItem$,super$ejn_:function(){com.coremedia.cms.editor.sdk.components.breadcrumb.BreadcrumbElementMenuItemBase.prototype.constructor.apply(this,arguments)},config:{selectedNodeValueExpression:null},requires:["Ext.util.Format",
"com.coremedia.cms.editor.sdk.components.breadcrumb.BreadcrumbElementMenuItemBase","com.coremedia.ui.plugins.AddQuickTipPlugin","com.coremedia.ui.util.EncodingUtil","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.components.breadcrumb.BreadcrumbBase",function(BreadcrumbBase){function BreadcrumbBase$(config){if(arguments.length<=0)config=null;this.super$6a21(config);if(AS3.getBindable(config,"hideOnEmpty")){this.on("add",AS3.bind(this,"hideOnEmpty$6a21"),this);this.on("remove",AS3.bind(this,"hideOnEmpty$6a21"),this)}this.addListener("overflowchange",AS3.bind(this,"handleOverflowChange$6a21"))}function handleOverflowChange(lastHiddenCount,hiddenCount,hiddenItems){var this$=
this;hiddenItems.forEach(function(item){item.setIsInOverflow(true)});var menu=AS3.cast(Ext.menu.Menu,AS3.getBindable(AS3.cast(Ext.layout.container.Box,this.layout),"overflowHandler","DUMMY").menu);menu.itemCollection.each(function(menuItem){var itemNoLongerHidden=true;for(var i=0;i<hiddenItems.length;i++)if(AS3.cast(com.coremedia.cms.editor.sdk.components.breadcrumb.BreadcrumbElement,hiddenItems[i]).breadcrumbElementId===menuItem.breadcrumbElementId){itemNoLongerHidden=false;break}if(itemNoLongerHidden){menu.remove(menuItem);
var filteredForMenuItem=this$.itemCollection.filterBy(function(overflowHandlerItem){return overflowHandlerItem.breadcrumbElementId===menuItem.breadcrumbElementId});var originalBreadcrumbElement=AS3.cast(com.coremedia.cms.editor.sdk.components.breadcrumb.BreadcrumbElement,filteredForMenuItem.get(0));if(originalBreadcrumbElement){if(originalBreadcrumbElement["overflowClone"])originalBreadcrumbElement["overflowClone"]=null;AS3.cast(com.coremedia.cms.editor.sdk.components.breadcrumb.BreadcrumbElement,
originalBreadcrumbElement).setIsInOverflow(false)}}})}function hideOnEmpty(){if(this.itemCollection.getCount()===0&&!this.hidden)this.hide();else if(this.itemCollection.getCount()>0&&this.hidden)this.show()}function getPathValueExpression(selectedNodeVE){var this$=this;return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var entity=selectedNodeVE.getValue();if(!entity)return undefined;return AS3.getBindable(this$,"treeModel").getIdPathFromModel(entity)})}return{extend:"Ext.toolbar.Toolbar",
constructor:BreadcrumbBase$,super$6a21:function(){Ext.toolbar.Toolbar.prototype.constructor.apply(this,arguments)},handleOverflowChange$6a21:handleOverflowChange,hideOnEmpty$6a21:hideOnEmpty,getPathValueExpression:getPathValueExpression,config:{treeModel:null},requires:["Ext.layout.container.Box","Ext.menu.Menu","Ext.toolbar.Toolbar","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.sdk.components.breadcrumb.BreadcrumbElement"]}});Ext.define("com.coremedia.cms.editor.sdk.components.breadcrumb.Breadcrumb",function(Breadcrumb){function BREADCRUMB_BLOCK$static_(){Breadcrumb.BREADCRUMB_BLOCK=new com.coremedia.ui.models.bem.BEMBlock("cm-breadcrumb")}function Breadcrumb$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.components.breadcrumb.BreadcrumbBase,{});var defaults_$1=AS3.cast(Breadcrumb,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"CollectionView_breadcrumb_toolbar_text"));var ui_BindComponentsPlugin_63_5_$1=AS3.cast(com.coremedia.ui.plugins.BindComponentsPlugin,{});AS3.setBindable(ui_BindComponentsPlugin_63_5_$1,"valueExpression",this.getPathValueExpression(AS3.getBindable(config,"selectedNodeValueExpression")));AS3.setBindable(ui_BindComponentsPlugin_63_5_$1,"configBeanParameterName","breadcrumbElementId");var editor_BreadcrumbElement_66_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.components.breadcrumb.BreadcrumbElement,{});
AS3.setBindable(editor_BreadcrumbElement_66_9_$1,"treeModel",AS3.getBindable(config,"treeModel"));AS3.setBindable(editor_BreadcrumbElement_66_9_$1,"selectedNodeValueExpression",AS3.getBindable(config,"selectedNodeValueExpression"));editor_BreadcrumbElement_66_9_$1.hideIfRootNode=AS3.getBindable(config,"hideRootNode");AS3.setBindable(editor_BreadcrumbElement_66_9_$1,"hideText",AS3.getBindable(config,"hideElementTexts"));AS3.setBindable(editor_BreadcrumbElement_66_9_$1,"hideIcon",AS3.getBindable(config,
"hideElementIcons"));AS3.setBindable(editor_BreadcrumbElement_66_9_$1,"disableElementStrategy",AS3.getBindable(config,"disableElementStrategy"));AS3.setBindable(editor_BreadcrumbElement_66_9_$1,"disableNavigation",AS3.getBindable(config,"disableNavigation"));AS3.setBindable(ui_BindComponentsPlugin_63_5_$1,"template",editor_BreadcrumbElement_66_9_$1);var ui_BEMPlugin_75_5_$1=AS3.cast(com.coremedia.ui.plugins.BEMPlugin,{});AS3.setBindable(ui_BEMPlugin_75_5_$1,"block",Breadcrumb.BREADCRUMB_BLOCK);config_$1.plugins=
[ui_BindComponentsPlugin_63_5_$1,ui_BEMPlugin_75_5_$1];config_$1.items=[];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$t0sG(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.components.breadcrumb.BreadcrumbBase",alias:"widget.com.coremedia.cms.editor.sdk.config.breadcrumb",constructor:Breadcrumb$,super$t0sG:function(){com.coremedia.cms.editor.sdk.components.breadcrumb.BreadcrumbBase.prototype.constructor.apply(this,arguments)},config:{selectedNodeValueExpression:null,hideRootNode:false,
disableNavigation:false,hideElementTexts:false,hideElementIcons:false,disableElementStrategy:null,hideOnEmpty:false},statics:{BREADCRUMB_BLOCK:undefined,__initStatics__:function(){BREADCRUMB_BLOCK$static_()}},requires:["com.coremedia.cms.editor.sdk.components.breadcrumb.BreadcrumbBase","com.coremedia.ui.models.bem.BEMBlock","com.coremedia.ui.plugins.BEMPlugin","com.coremedia.ui.plugins.BindComponentsPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.components.breadcrumb.BreadcrumbElement"]}});Ext.define("com.coremedia.cms.editor.sdk.components.breadcrumb.BreadcrumbElementMenuItemBase",function(BreadcrumbElementMenuItemBase){function ELEMENT_ACTIVE$static_(){BreadcrumbElementMenuItemBase.ELEMENT_ACTIVE=com.coremedia.cms.editor.sdk.components.breadcrumb.BreadcrumbElementMenu.BREADCRUMB_ELEMENT_MENU_BLOCK.createElement("active")}function BreadcrumbElementMenuItemBase$(config){if(arguments.length<=0)config=null;this.super$u_Xl(config);AS3.setBindable(this,"model",AS3.getBindable(config,"model"));
if(AS3.getBindable(this,"model").active)this.addCls(BreadcrumbElementMenuItemBase.ELEMENT_ACTIVE.getCSSClass())}function getText(){return AS3.getBindable(this,"model").text}return{extend:"Ext.menu.Item",constructor:BreadcrumbElementMenuItemBase$,super$u_Xl:function(){Ext.menu.Item.prototype.constructor.apply(this,arguments)},getText:getText,config:{model:null},statics:{ELEMENT_ACTIVE:undefined,__initStatics__:function(){ELEMENT_ACTIVE$static_()}},requires:["Ext.menu.Item"],uses:["com.coremedia.cms.editor.sdk.components.breadcrumb.BreadcrumbElementMenu"]}});Ext.define("com.coremedia.cms.editor.sdk.components.breadcrumb.BreadcrumbElementMenu",function(BreadcrumbElementMenu){function BreadcrumbElementMenu$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.components.breadcrumb.BreadcrumbElementMenuBase,{});var defaults_$1=AS3.cast(BreadcrumbElementMenu,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1["ariaRole"]="listbox";var object_31_5_$1={};object_31_5_$1.hide=AS3.bind(this,"onHideInternal");
AS3.setBindable(config_$1,"listeners",object_31_5_$1);var ui_BindComponentsPlugin_34_5_$1=AS3.cast(com.coremedia.ui.plugins.BindComponentsPlugin,{});AS3.setBindable(ui_BindComponentsPlugin_34_5_$1,"valueExpression",this.getMenuItemModels(AS3.getBindable(config,"treeModel"),AS3.getBindable(config,"breadcrumbElementId"),AS3.getBindable(config,"selectedNodeValueExpression")));AS3.setBindable(ui_BindComponentsPlugin_34_5_$1,"configBeanParameterName","model");AS3.setBindable(ui_BindComponentsPlugin_34_5_$1,
"clearBeforeUpdate",true);AS3.setBindable(ui_BindComponentsPlugin_34_5_$1,"getKey",com.coremedia.cms.editor.sdk.components.breadcrumb.BreadcrumbElementMenuBase.getMenuItemModelKey);var editor_BreadcrumbElementMenuItem_40_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.components.breadcrumb.BreadcrumbElementMenuItem,{});AS3.setBindable(editor_BreadcrumbElementMenuItem_40_9_$1,"handler",AS3.bind(this,"clickBreadcrumbElementMenuItemHandler"));AS3.setBindable(ui_BindComponentsPlugin_34_5_$1,"template",editor_BreadcrumbElementMenuItem_40_9_$1);
var ui_BEMPlugin_43_5_$1=AS3.cast(com.coremedia.ui.plugins.BEMPlugin,{});AS3.setBindable(ui_BEMPlugin_43_5_$1,"block",BreadcrumbElementMenu.BREADCRUMB_ELEMENT_MENU_BLOCK);config_$1.plugins=[ui_BindComponentsPlugin_34_5_$1,ui_BEMPlugin_43_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Y4hB(config_$1)}function BREADCRUMB_ELEMENT_MENU_BLOCK$static_(){BreadcrumbElementMenu.BREADCRUMB_ELEMENT_MENU_BLOCK=new com.coremedia.ui.models.bem.BEMBlock("cm-breadcrumb-menu")}return{extend:"com.coremedia.cms.editor.sdk.components.breadcrumb.BreadcrumbElementMenuBase",
alias:"widget.com.coremedia.cms.editor.sdk.config.breadcrumbElementMenu",constructor:BreadcrumbElementMenu$,super$Y4hB:function(){com.coremedia.cms.editor.sdk.components.breadcrumb.BreadcrumbElementMenuBase.prototype.constructor.apply(this,arguments)},alignOffset:null,config:{breadcrumbElementId:null},statics:{BREADCRUMB_ELEMENT_MENU_BLOCK:undefined,__initStatics__:function(){BREADCRUMB_ELEMENT_MENU_BLOCK$static_()}},requires:["com.coremedia.cms.editor.sdk.components.breadcrumb.BreadcrumbElementMenuBase",
"com.coremedia.ui.models.bem.BEMBlock","com.coremedia.ui.plugins.BEMPlugin","com.coremedia.ui.plugins.BindComponentsPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.components.breadcrumb.BreadcrumbElementMenuItem"]}});Ext.define("com.coremedia.cms.editor.sdk.components.breadcrumb.BreadcrumbElementMenuBase",function(BreadcrumbElementMenuBase){function BreadcrumbElementMenuBase$(config){if(arguments.length<=0)config=null;this.super$dsWy(config)}function onHideInternal(){var buttonEl=this.up()&&this.up().getEl()||this["cmOwnerCt"]&&this["cmOwnerCt"].getEl();if(buttonEl)buttonEl.removeCls("arrow-menu-active")}function getMenuItemModels(treeModel,breadcrumbElementId,selectedNodeValueExpression){return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var path;
var entity=selectedNodeValueExpression.getValue();if(entity)path=treeModel.getIdPathFromModel(entity)||[];else path=[];var nodeState=treeModel.getChildren(breadcrumbElementId);if(!nodeState)return undefined;var childIds=nodeState.getChildIds();var result=[];for(var i=0;i<childIds.length;i++){var childId=childIds[i];var text=nodeState.getTextsByChildId()[childId];var iconCls=nodeState.getIconsByChildId()[childId];var cls=nodeState.getClsByChildId()[childId];var active=path.indexOf(childId)!==-1;result.push({id:childId,
text:text,iconCls:iconCls,cls:cls,active:active})}return result})}function clickBreadcrumbElementMenuItemHandler(menuItem){var entity=AS3.getBindable(this,"treeModel").getNodeModel(AS3.getBindable(menuItem,"model").id);AS3.getBindable(this,"selectedNodeValueExpression").setValue(entity)}function getMenuItemModelKey$static(model){return model.id+"#"+model.text+(model.active?"!":".")}return{extend:"Ext.menu.Menu",constructor:BreadcrumbElementMenuBase$,super$dsWy:function(){Ext.menu.Menu.prototype.constructor.apply(this,
arguments)},onHideInternal:onHideInternal,getMenuItemModels:getMenuItemModels,clickBreadcrumbElementMenuItemHandler:clickBreadcrumbElementMenuItemHandler,config:{treeModel:null,selectedNodeValueExpression:null},statics:{getMenuItemModelKey:getMenuItemModelKey$static},requires:["Ext.menu.Menu","com.coremedia.ui.data.ValueExpressionFactory"]}});Ext.define("com.coremedia.cms.editor.sdk.components.html5.FileSelector",function(FileSelector){return{}});Ext.define("com.coremedia.cms.editor.sdk.components.html5.Uploader",function(Uploader){function Uploader$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.components.html5.UploaderBase,{});var defaults_$1=AS3.cast(Uploader,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Dhsm(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.components.html5.UploaderBase",constructor:Uploader$,super$Dhsm:function(){com.coremedia.cms.editor.sdk.components.html5.UploaderBase.prototype.constructor.apply(this,
arguments)},config:{maxFileSize:0,url:null,method:null,timeout:0,headerParams:null,params:null},requires:["com.coremedia.cms.editor.sdk.components.html5.UploaderBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.components.html5.BrowsePlugin",function(BrowsePlugin){function BrowsePlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.components.html5.BrowsePluginBase,{});var defaults_$1=AS3.cast(BrowsePlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$eY2V(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.components.html5.BrowsePluginBase",constructor:BrowsePlugin$,
super$eY2V:function(){com.coremedia.cms.editor.sdk.components.html5.BrowsePluginBase.prototype.constructor.apply(this,arguments)},config:{dropEl:null,multiple:false,enableFileDrop:false,dropElSelector:null,inputFileName:null,onBrowseButtonClick:null},requires:["com.coremedia.cms.editor.sdk.components.html5.BrowsePluginBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.components.html5.Html5UploadBase",function(Html5UploadBase){function Html5UploadBase$(config){if(arguments.length<=0)config=null;this.super$mY1w(config)}function uploadHandler(fileSelector){var this$=this;var contentProperties=AS3.getBindable(this,"bindTo").getValue();var contentPropertiesUri=contentProperties.getContentObject().getUri()+"/properties/";var upl=new com.coremedia.cms.editor.sdk.components.html5.Uploader(AS3.cast(com.coremedia.cms.editor.sdk.components.html5.Uploader,
{maxFileSize:67108864,url:contentPropertiesUri+AS3.getBindable(this,"targetProperty"),method:"POST"}));this.itemCollection.each(function(item){item.hide()});upl.addListener("uploadcomplete",function(uploader,response){var error=com.coremedia.ui.data.impl.RemoteService.createRemoteError(response);if(error.status==204||error.status==200||error.status==201)this$.resetStatus$mY1w(fileSelector);else this$.uploadFailure(fileSelector,error,error.errorCode)});upl.addListener("uploadfailure",function(uploader,
response){var errorCode;var error;try{error=com.coremedia.ui.data.impl.RemoteService.createRemoteError(response);errorCode=error.errorCode}catch(e){if(response.responseText.indexOf(com.coremedia.cap.content.ContentErrorCodes.BLOB_MIME_CONTENT_TYPE_MISMATCH)!=-1)errorCode=com.coremedia.cap.content.ContentErrorCodes.BLOB_MIME_CONTENT_TYPE_MISMATCH}this$.uploadFailure(fileSelector,error,errorCode)});var files=fileSelector.getFileList();if(files.length>0)this.showUploadLoadMask$mY1w();Ext.each(files,
function(file){upl.upload(file)},this)}function uploadFailure(fileSelector,error,errorCode){if(AS3.is(error,com.coremedia.cap.content.IssuesDetectedError))com.coremedia.cms.editor.sdk.RemoteErrorHandlers.showIssues(AS3.cast(com.coremedia.cap.content.IssuesDetectedError,error));else showErrorForErrorCode$static(errorCode);this.resetStatus$mY1w(fileSelector)}function showErrorForErrorCode$static(errorCode){if(errorCode===com.coremedia.cap.content.ContentErrorCodes.BLOB_MIME_CONTENT_TYPE_MISMATCH)com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showError(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor",
"Blob_uploadError_title"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","Blob_uploadError_wrongType"));else com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showError(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors","generalError_title"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors","generalError_message"))}function onDisable(){this.doDisable$mY1w(true)}function onEnable(){this.doDisable$mY1w(false)}
function doDisable(disabled){this.itemCollection.each(function(item){item.setDisabled(disabled)})}function resetStatus(fileSelector){AS3.as(fileSelector.getInputFile(),Ext.dom.Element).dom.value="";var remoteBean=AS3.as(AS3.getBindable(this,"bindTo").getValue(),com.coremedia.cap.content.ContentProperties).getContentObject();remoteBean.invalidate();this.hideUploadLoadMask$mY1w();this.itemCollection.each(function(item){item.show()})}function showUploadLoadMask(){if(this.getUploadLoadMask$mY1w().hidden)this.getUploadLoadMask$mY1w().show()}
function hideUploadLoadMask(){if(!this.getUploadLoadMask$mY1w().hidden)this.getUploadLoadMask$mY1w().hide()}function getUploadLoadMask(){if(!this.uploadLoadMask$mY1w){var uploadLoadMaskCfg=AS3.cast(Ext.LoadMask,{});uploadLoadMaskCfg.msg="";uploadLoadMaskCfg.target=this;uploadLoadMaskCfg.ui=com.coremedia.ui.skins.LoadMaskSkin.TRANSPARENT.getSkin();this.uploadLoadMask$mY1w=new Ext.LoadMask(uploadLoadMaskCfg);this.uploadLoadMask$mY1w.hide()}return this.uploadLoadMask$mY1w}return{extend:"com.coremedia.ui.components.ExtendedContainer",
uploadLoadMask$mY1w:null,constructor:Html5UploadBase$,super$mY1w:function(){com.coremedia.ui.components.ExtendedContainer.prototype.constructor.apply(this,arguments)},uploadHandler:uploadHandler,uploadFailure:uploadFailure,onDisable:onDisable,onEnable:onEnable,doDisable$mY1w:doDisable,resetStatus$mY1w:resetStatus,showUploadLoadMask$mY1w:showUploadLoadMask,hideUploadLoadMask$mY1w:hideUploadLoadMask,getUploadLoadMask$mY1w:getUploadLoadMask,config:{bindTo:null,targetProperty:null},requires:["Ext","Ext.LoadMask",
"Ext.dom.Element","com.coremedia.cap.content.ContentErrorCodes","com.coremedia.cap.content.ContentProperties","com.coremedia.cap.content.IssuesDetectedError","com.coremedia.cms.editor.EditorErrors_properties","com.coremedia.cms.editor.Editor_properties","com.coremedia.ui.components.ExtendedContainer","com.coremedia.ui.data.impl.RemoteService","com.coremedia.ui.skins.LoadMaskSkin","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.RemoteErrorHandlers","com.coremedia.cms.editor.sdk.components.html5.Uploader",
"com.coremedia.cms.editor.sdk.util.MessageBoxUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.components.html5.Html5Upload",function(Html5Upload){function Html5Upload$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.components.html5.Html5UploadBase,{});var defaults_$1=AS3.cast(Html5Upload,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.FRAME.getSkin());var layout_VBox_31_5_$1=AS3.cast(Ext.layout.container.VBox,{});
AS3.setBindable(layout_VBox_31_5_$1,"align","center");AS3.setBindable(layout_VBox_31_5_$1,"pack","center");AS3.setBindable(config_$1,"layout",layout_VBox_31_5_$1);var button_35_5_$1=AS3.cast(Ext.button.Button,{});AS3.setBindable(button_35_5_$1,"text",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"buttonText")));button_35_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.INLINE.getSkin());AS3.setBindable(button_35_5_$1,"handler",AS3.bind(this,"uploadHandler"));var editor_BrowsePlugin_39_9_$1=
AS3.cast(com.coremedia.cms.editor.sdk.components.html5.BrowsePlugin,{});AS3.setBindable(editor_BrowsePlugin_39_9_$1,"enableFileDrop",true);AS3.setBindable(editor_BrowsePlugin_39_9_$1,"dropEl",this.el);AS3.setBindable(editor_BrowsePlugin_39_9_$1,"inputFileName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"targetProperty")));button_35_5_$1.plugins=[editor_BrowsePlugin_39_9_$1];var ui_ExtendedDisplayField_44_5_$1=AS3.cast(com.coremedia.ui.components.ExtendedDisplayField,{});AS3.setBindable(ui_ExtendedDisplayField_44_5_$1,
"value",AS3.getBindable(config,"helpText"));AS3.setBindable(ui_ExtendedDisplayField_44_5_$1,"maxWidth",100);AS3.setBindable(ui_ExtendedDisplayField_44_5_$1,"overflowBehaviour",com.coremedia.ui.mixins.OverflowBehaviour.BREAK_WORD);AS3.setBindable(ui_ExtendedDisplayField_44_5_$1,"textAlign",com.coremedia.ui.mixins.TextAlign.CENTER);AS3.setBindable(ui_ExtendedDisplayField_44_5_$1,"margin","6 0 0 0");ui_ExtendedDisplayField_44_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.DisplayFieldSkin.ITALIC.getSkin());
config_$1.items=[button_35_5_$1,ui_ExtendedDisplayField_44_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$tD89(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.components.html5.Html5UploadBase",alias:"widget.com.coremedia.cms.editor.sdk.config.html5Upload",constructor:Html5Upload$,super$tD89:function(){com.coremedia.cms.editor.sdk.components.html5.Html5UploadBase.prototype.constructor.apply(this,arguments)},config:{buttonText:null,helpText:null},requires:["Ext.button.Button",
"Ext.layout.container.VBox","com.coremedia.cms.editor.sdk.components.html5.Html5UploadBase","com.coremedia.ui.components.ExtendedDisplayField","com.coremedia.ui.mixins.OverflowBehaviour","com.coremedia.ui.mixins.TextAlign","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.ContainerSkin","com.coremedia.ui.skins.DisplayFieldSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.components.html5.BrowsePlugin"]}});Ext.define("com.coremedia.cms.editor.sdk.components.html5.BrowsePluginBase",function(BrowsePluginBase){function BrowsePluginBase$(config){if(arguments.length<=0)config=null;this.initialConfig$SZGG=config}function init(cmp){var this$=this;this.originalHandler$SZGG=cmp["handler"]||null;this.originalScope$SZGG=cmp["scope"]||window;cmp["handler"]=null;cmp["scope"]=null;this.component$SZGG=cmp;cmp.addListener("render",AS3.bind(this,"onRender"));if(typeof cmp.setDisabled=="function")cmp.setDisabled=Ext.Function.createSequence(AS3.bind(cmp,
"setDisabled"),function(disabled){if(this$.input_file$SZGG)this$.input_file$SZGG.dom["disabled"]=disabled});if(typeof cmp.enable=="function")cmp.enable=Ext.Function.createSequence(AS3.bind(cmp,"enable"),function(){if(this$.input_file$SZGG)this$.input_file$SZGG.dom["disabled"]=false});if(typeof cmp.disable=="function")cmp.disable=Ext.Function.createSequence(AS3.bind(cmp,"disable"),function(){if(this$.input_file$SZGG)this$.input_file$SZGG.dom["disabled"]=true});if(typeof cmp.destroy=="function")cmp.destroy=
Ext.Function.createSequence(AS3.bind(cmp,"destroy"),function(){var input_file=this$.detachInputFile(true);if(input_file)input_file.destroy();input_file=null})}function onRender(){var this$=this;this.createInputFile();if(AS3.getBindable(this.initialConfig$SZGG,"enableFileDrop")){var dropEl=AS3.getBindable(this.initialConfig$SZGG,"dropEl");if(!dropEl){dropEl=this.component$SZGG.el;if(AS3.getBindable(this.initialConfig$SZGG,"dropElSelector"))dropEl=dropEl.up(AS3.getBindable(this.initialConfig$SZGG,"dropElSelector"))}dropEl.addListener("dragover",
function(e){e.stopPropagation();e.preventDefault();if(!Ext.isGecko)e.browserEvent["dataTransfer"].dropEffect="copy"});dropEl.addListener("drop",function(e){e.stopPropagation();e.preventDefault();if(AS3.getBindable(this$.initialConfig$SZGG,"onBrowseButtonClick"))AS3.getBindable(this$.initialConfig$SZGG,"onBrowseButtonClick")();var dt=e.browserEvent["dataTransfer"];var files=dt.files;this$.onInputFileChange$SZGG(null,null,null,files)})}}function createInputFile(){this.input_form$SZGG=this.component$SZGG.el.createChild({tag:"form",
action:"#",style:"position: absolute; display: block; border: none; z-index: 1;"},AS3.as(this.component$SZGG,Ext.button.Button)["btnEl"].dom);this.input_file$SZGG=this.input_form$SZGG.createChild(Ext.apply({tag:"input",type:"file",size:6,name:AS3.getBindable(this.initialConfig$SZGG,"inputFileName")||Ext.id(this.component$SZGG.el),style:"position: absolute; display: block; border: none; top: 32px;"},AS3.getBindable(this.initialConfig$SZGG,"multiple")?{multiple:true}:{}));this.input_file$SZGG.setOpacity(0);
this.input_file$SZGG.dom.setAttribute("tabIndex","-1");if(this.component$SZGG["tooltip"])if(typeof this.component$SZGG["tooltip"]=="object")Ext.tip.QuickTipManager.register(AS3.cast(com.coremedia.ui.components.StatefulQuickTip,Ext.apply({target:this.input_file$SZGG},this.component$SZGG["tooltip"])));else this.input_file$SZGG.dom[this.component$SZGG["tooltipType"]]=this.component$SZGG["tooltip"];this.input_file$SZGG.addListener("change",AS3.bind(this,"onInputFileChange$SZGG"),this);this.input_file$SZGG.addListener("click",
AS3.bind(this,"handleFormClick$SZGG"));this.component$SZGG.addListener("click",AS3.bind(this,"clickInputFile$SZGG"));this.component$SZGG.el.addListener("keydown",AS3.bind(this,"handleKeyEvent$SZGG"))}function clickInputFile(){this.input_file$SZGG.dom["click"]()}function handleKeyEvent(e){if(e.keyCode===KeyEvent.DOM_VK_SPACE||e.keyCode===KeyEvent.DOM_VK_RETURN||e.keyCode===KeyEvent.DOM_VK_ENTER)this.clickInputFile$SZGG()}function handleFormClick(e){if(window.document.forms[this.input_form$SZGG.id])window.document.forms[this.input_form$SZGG.id].reset();
if(AS3.getBindable(this.initialConfig$SZGG,"onBrowseButtonClick"))AS3.getBindable(this.initialConfig$SZGG,"onBrowseButtonClick")();e.stopPropagation()}function onInputFileChange(e,target,options,fileList){if(window.FileList)this.files$SZGG=fileList?fileList:this.input_file$SZGG.dom["files"];else{this.files$SZGG=[{name:this.input_file$SZGG.getValue(false).split(/[\/\\]/).pop()}];this.files$SZGG[0].type=this.getFileCls()}if(this.originalHandler$SZGG&&this.files$SZGG.length>0)this.originalHandler$SZGG.call(this.originalScope$SZGG,
this)}function detachInputFile(no_create){if(arguments.length<=0)no_create=false;var result=this.input_file$SZGG;no_create=no_create||false;if(this.input_file$SZGG){if(typeof this.component$SZGG["tooltip"]=="object")Ext.tip.QuickTipManager.unregister(this.input_file$SZGG);else this.input_file$SZGG.dom[this.component$SZGG["tooltipType"]]=null;this.input_file$SZGG.clearListeners()}this.input_file$SZGG=null;this.input_form$SZGG=null;if(!no_create)this.createInputFile();return result}function getFileList(){return this.files$SZGG}
function getInputFile(){return this.input_file$SZGG}function getFileName(){var file=this.getFileList()[0];return file.name?file.name:file.fileName}function getFileCls(){var fparts=this.getFileName().split(".");if(fparts.length===1)return"";else return fparts.pop().toLowerCase()}return{mixins:["ext.Plugin","com.coremedia.cms.editor.sdk.components.html5.FileSelector"],initialConfig$SZGG:null,input_file$SZGG:null,input_form$SZGG:null,originalHandler$SZGG:null,originalScope$SZGG:null,component$SZGG:null,
files$SZGG:null,constructor:BrowsePluginBase$,init:init,onRender:onRender,createInputFile:createInputFile,clickInputFile$SZGG:clickInputFile,handleKeyEvent$SZGG:handleKeyEvent,handleFormClick$SZGG:handleFormClick,onInputFileChange$SZGG:onInputFileChange,detachInputFile:detachInputFile,getFileList:getFileList,getInputFile:getInputFile,getFileName:getFileName,getFileCls:getFileCls,requires:["Ext","Ext.Function","Ext.button.Button","Ext.tip.QuickTipManager","com.coremedia.cms.editor.sdk.components.html5.FileSelector",
"com.coremedia.ui.components.StatefulQuickTip","ext.Plugin"]}});Ext.define("com.coremedia.cms.editor.sdk.components.html5.UploaderBase",function(UploaderBase){function UploaderBase$(config){if(arguments.length<=0)config=null;if(config){this.url$N_2X=AS3.getBindable(config,"url");this.method$N_2X=AS3.getBindable(config,"method")?AS3.getBindable(config,"method"):"PUT";this.timeout$N_2X=AS3.getBindable(config,"timeout")||this.timeout$N_2X;this.headerParams$N_2X=AS3.getBindable(config,"headerParams");this.params$N_2X=AS3.getBindable(config,"params")}this.super$N_2X()}
function upload(file){var contentName=this.params$N_2X?this.params$N_2X.contentName:undefined;this.html5upload(file,this.headerParams$N_2X,contentName)}function html5upload(file,headerParameters,contentName){var this$=this;var formData=new window["FormData"];var fileName=file.name||file.fileName;if(fileName)formData.append("file",file,fileName);else formData.append("file",file);if(contentName)formData.append("contentName",contentName);var xhr=new XMLHttpRequest;xhr.open(this.method$N_2X,this.url$N_2X,
true);xhr["onload"]=function(e){this$.uploadCallback$N_2X(xhr)};xhr["timeout"]=this.timeout$N_2X;xhr["ontimeout"]=function(e){this$.onUploadTimeout(e)};xhr["upload"].addEventListener("progress",function(e){this$.onUploadProgress(e)},false);xhr.setRequestHeader(com.coremedia.ui.data.impl.RemoteService.getCsrfTokenHeaderName(),com.coremedia.ui.data.impl.RemoteService.getCsrfTokenValue());if(headerParameters)for(var key in headerParameters)xhr.setRequestHeader(key,headerParameters[key]);xhr.send(formData)}
function onUploadProgress(e){this.fireEvent("uploadprogress",this,e)}function onUploadTimeout(e){this.fireEvent("uploadtimeout",this,e)}function uploadCallback(response){var status=response.status;if(status==204||status==200||status==201)this.fireEvent("uploadcomplete",this,response);else this.fireEvent("uploadfailure",this,response)}return{extend:"Ext.util.Observable",url$N_2X:"",method$N_2X:null,timeout$N_2X:3E5,headerParams$N_2X:null,params$N_2X:null,constructor:UploaderBase$,super$N_2X:function(){Ext.util.Observable.prototype.constructor.apply(this,
arguments)},upload:upload,html5upload:html5upload,onUploadProgress:onUploadProgress,onUploadTimeout:onUploadTimeout,uploadCallback$N_2X:uploadCallback,requires:["Ext.util.Observable","com.coremedia.ui.data.impl.RemoteService"]}});Ext.define("com.coremedia.cms.editor.sdk.components.folderprompt.FolderCreationResultImpl",function(FolderCreationResultImpl){function FolderCreationResultImpl$(success,createdFolders,baseFolder,remoteError){if(arguments.length<=3)remoteError=null;this["success"]=success;this["createdFolders"]=createdFolders;this["baseFolder"]=baseFolder;this["remoteError"]=remoteError}return{mixins:["com.coremedia.cms.editor.sdk.components.folderprompt.FolderCreationResult"],constructor:FolderCreationResultImpl$,
requires:["com.coremedia.cms.editor.sdk.components.folderprompt.FolderCreationResult"]}});Ext.define("com.coremedia.cms.editor.sdk.components.folderprompt.FolderPrompt",function(FolderPrompt){function FolderPrompt$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.components.folderprompt.FolderPromptBase,{});var defaults_$1=AS3.cast(FolderPrompt,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.Editor","CreateFolder_dialog_title"));config_$1.stateId=
"folderPromptWindowState";AS3.setBindable(config_$1,"stateful",true);AS3.setBindable(config_$1,"layout","fit");config_$1["id"]="createFolderPrompt";config_$1.modal=true;AS3.setBindable(config_$1,"width",450);AS3.setBindable(config_$1,"minWidth",450);AS3.setBindable(config_$1,"minHeight",155);AS3.setBindable(config_$1,"closable",true);config_$1.resizable=true;config_$1.constrainHeader=true;config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.WindowSkin.GRID_200.getSkin());var container_49_5_$1=
AS3.cast(Ext.container.Container,{});AS3.setBindable(container_49_5_$1,"layout","anchor");AS3.setBindable(container_49_5_$1,"scrollable",true);var displayField_52_9_$1=AS3.cast(Ext.form.field.Display,{});AS3.setBindable(displayField_52_9_$1,"value",this.resourceManager.getString("com.coremedia.cms.editor.Editor","CreateFolder_dialog_title_message"));var container_54_9_$1=AS3.cast(Ext.container.Container,{});container_54_9_$1.itemId="folder-list";container_54_9_$1.anchor="100%";var menuSeparator_57_13_$1=
AS3.cast(Ext.menu.Separator,{});container_54_9_$1.items=[menuSeparator_57_13_$1];var layout_Anchor_60_13_$1=AS3.cast(Ext.layout.container.Anchor,{});AS3.setBindable(container_54_9_$1,"layout",layout_Anchor_60_13_$1);var displayField_63_9_$1=AS3.cast(Ext.form.field.Display,{});AS3.setBindable(displayField_63_9_$1,"value",this.resourceManager.getString("com.coremedia.cms.editor.Editor","CreateFolder_dialog_confirm_question"));container_49_5_$1.items=[displayField_52_9_$1,container_54_9_$1,displayField_63_9_$1];
var ui_VerticalSpacingPlugin_67_9_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});container_49_5_$1.plugins=[ui_VerticalSpacingPlugin_67_9_$1];config_$1.items=[container_49_5_$1];var button_72_5_$1=AS3.cast(Ext.button.Button,{});button_72_5_$1.itemId="okButton";button_72_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_PRIMARY.getSkin());AS3.setBindable(button_72_5_$1,"scale","small");AS3.setBindable(button_72_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"dialog_defaultSubmitButton_text")));AS3.setBindable(button_72_5_$1,"handler",AS3.bind(this,"okPressed"));var button_77_5_$1=AS3.cast(Ext.button.Button,{});button_77_5_$1.itemId="cancelButton";button_77_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_SECONDARY.getSkin());AS3.setBindable(button_77_5_$1,"scale","small");AS3.setBindable(button_77_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","dialog_defaultCancelButton_text")));
AS3.setBindable(button_77_5_$1,"handler",AS3.bind(this,"cancelPressed"));config_$1.buttons=[button_72_5_$1,button_77_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$OE9G(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.components.folderprompt.FolderPromptBase",alias:"widget.com.coremedia.cms.editor.sdk.config.folderPrompt",constructor:FolderPrompt$,super$OE9G:function(){com.coremedia.cms.editor.sdk.components.folderprompt.FolderPromptBase.prototype.constructor.apply(this,arguments)},
config:{baseFolder:null,folders:null,callback:null},requires:["Ext.button.Button","Ext.container.Container","Ext.form.field.Display","Ext.layout.container.Anchor","Ext.menu.Separator","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.components.folderprompt.FolderPromptBase","com.coremedia.ui.plugins.VerticalSpacingPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.WindowSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.components.folderprompt.FolderPanel",function(FolderPanel){function FolderPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.container.Container,{});var defaults_$1=AS3.cast(FolderPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"layout","hbox");AS3.setBindable(config_$1,"height",21);var ui_IconDisplayField_27_5_$1=AS3.cast(com.coremedia.ui.components.IconDisplayField,{});ui_IconDisplayField_27_5_$1.itemId=
"folderName";ui_IconDisplayField_27_5_$1.flex=1;AS3.setBindable(ui_IconDisplayField_27_5_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","folder")));AS3.setBindable(ui_IconDisplayField_27_5_$1,"value",com.coremedia.ui.util.EncodingUtil.encodeForHTML(AS3.getBindable(config,"name")));AS3.setBindable(ui_IconDisplayField_27_5_$1,"overflowBehaviour",com.coremedia.ui.mixins.OverflowBehaviour.ELLIPSIS);var ui_ExtendedDisplayField_32_5_$1=AS3.cast(com.coremedia.ui.components.ExtendedDisplayField,
{});ui_ExtendedDisplayField_32_5_$1.flex=2;ui_ExtendedDisplayField_32_5_$1.itemId="folderPath";AS3.setBindable(ui_ExtendedDisplayField_32_5_$1,"value",com.coremedia.ui.util.EncodingUtil.encodeForHTML(AS3.getBindable(config,"path")));AS3.setBindable(ui_ExtendedDisplayField_32_5_$1,"overflowBehaviour",com.coremedia.ui.mixins.OverflowBehaviour.ELLIPSIS);config_$1.items=[ui_IconDisplayField_27_5_$1,ui_ExtendedDisplayField_32_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$HREO(config_$1)}
return{extend:"Ext.container.Container",alias:"widget.com.coremedia.cms.editor.sdk.config.folderPanel",constructor:FolderPanel$,super$HREO:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},config:{name:null,path:null},requires:["Ext.container.Container","com.coremedia.ui.components.ExtendedDisplayField","com.coremedia.ui.components.IconDisplayField","com.coremedia.ui.mixins.OverflowBehaviour","com.coremedia.ui.util.EncodingUtil","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.components.folderprompt.FolderCreationResult",function(FolderCreationResult){return{}});Ext.define("com.coremedia.cms.editor.sdk.components.folderprompt.FolderPromptBase",function(FolderPromptBase){function FolderPromptBase$(config){if(arguments.length<=0)config=null;this.super$fhL1(config);this.folders$fhL1=AS3.getBindable(config,"folders");this.callback$fhL1=AS3.getBindable(config,"callback");this.baseFolder$fhL1=AS3.getBindable(config,"baseFolder");this.addListener("afterlayout",AS3.bind(this,"addPanels$fhL1"))}function addPanels(){this.removeListener("afterlayout",AS3.bind(this,
"addPanels$fhL1"));this.addFolderItems$fhL1()}function addFolderItems(){var this$=this;com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.cap.content.ContentPropertyNames.PATH,this.baseFolder$fhL1).loadValue(function(path){var uploadPanel=AS3.as(this$.queryById("folder-list"),Ext.container.Container);var revFolders=this$.folders$fhL1.reverse();var fullPath=path;for(var i=0;i<this$.folders$fhL1.length;i++){if(fullPath!=="/")fullPath+="/";fullPath+=revFolders[i];var panelCfg=AS3.cast(com.coremedia.cms.editor.sdk.components.folderprompt.FolderPanel,
{});AS3.setBindable(panelCfg,"name",this$.folders$fhL1[i]);AS3.setBindable(panelCfg,"path",fullPath);var panel=new com.coremedia.cms.editor.sdk.components.folderprompt.FolderPanel(panelCfg);uploadPanel.add(panel);var menuSeparatorCfg=AS3.cast(Ext.menu.Separator,{});uploadPanel.add(menuSeparatorCfg)}})}function okPressed(){this.close();doCreateFolder$static(this.baseFolder$fhL1,this.folders$fhL1.reverse(),this.callback$fhL1,[])}function doCreateFolder$static(folder,toCreate,callback,created){var name=
toCreate.pop();if(name)com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getFolderContentType().create(folder,name,function(result){if(result.error)callback(new com.coremedia.cms.editor.sdk.components.folderprompt.FolderCreationResultImpl(false,created,null,result.error));else result.createdContent.load(function(){created.push(result.createdContent);doCreateFolder$static(result.createdContent,toCreate,callback,created)})});else callback(new com.coremedia.cms.editor.sdk.components.folderprompt.FolderCreationResultImpl(true,
created,folder))}function cancelPressed(){this.close();this.callback$fhL1(new com.coremedia.cms.editor.sdk.components.folderprompt.FolderCreationResultImpl(false,null,null))}return{extend:"com.coremedia.cms.editor.sdk.components.StudioDialog",folders$fhL1:null,baseFolder$fhL1:null,callback$fhL1:null,constructor:FolderPromptBase$,super$fhL1:function(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.constructor.apply(this,arguments)},addPanels$fhL1:addPanels,addFolderItems$fhL1:addFolderItems,
okPressed:okPressed,cancelPressed:cancelPressed,requires:["Ext.container.Container","Ext.menu.Separator","com.coremedia.cap.common.SESSION","com.coremedia.cap.content.ContentPropertyNames","com.coremedia.cms.editor.sdk.components.StudioDialog","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.sdk.components.folderprompt.FolderCreationResultImpl","com.coremedia.cms.editor.sdk.components.folderprompt.FolderPanel"]}});Ext.define("com.coremedia.cms.editor.sdk.components.SimpleContextMenu",function(SimpleContextMenu){function SimpleContextMenu$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.menu.Menu,{});var defaults_$1=AS3.cast(SimpleContextMenu,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.plain=true;var ui_HideObsoleteSeparatorsPlugin_61_5_$1=AS3.cast(com.coremedia.ui.plugins.HideObsoleteSeparatorsPlugin,{});config_$1.plugins=[ui_HideObsoleteSeparatorsPlugin_61_5_$1];
var menuItem_65_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_65_5_$1.itemId=net.jangaroo.ext.Exml.asString(SimpleContextMenu.OPEN_IN_TAB_MENU_ITEM_ID);var editor_OpenInTabAction_67_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenInTabAction,{});AS3.setBindable(editor_OpenInTabAction_67_9_$1,"contentValueExpression",AS3.getBindable(config,"selectedContentsValueExpression"));menuItem_65_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.OpenInTabAction(editor_OpenInTabAction_67_9_$1);var menuItem_70_5_$1=
AS3.cast(Ext.menu.Item,{});menuItem_70_5_$1.itemId=net.jangaroo.ext.Exml.asString(SimpleContextMenu.SHOW_IN_REPOSITORY_MENU_ITEM_ID);var editor_ShowInRepositoryAction_72_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction,{});AS3.setBindable(editor_ShowInRepositoryAction_72_9_$1,"contentValueExpression",AS3.getBindable(config,"selectedContentsValueExpression"));menuItem_70_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction(editor_ShowInRepositoryAction_72_9_$1);
var menuSeparator_75_5_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_76_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_76_5_$1.itemId=net.jangaroo.ext.Exml.asString(SimpleContextMenu.APPROVE_MENU_ITEM_ID);AS3.setBindable(menuItem_76_5_$1,"hidden",AS3.getBindable(config,"showApprove")===false);var editor_ApproveAction_79_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ApproveAction,{});AS3.setBindable(editor_ApproveAction_79_9_$1,"contentValueExpression",AS3.getBindable(config,"selectedContentsValueExpression"));
menuItem_76_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.ApproveAction(editor_ApproveAction_79_9_$1);var menuItem_82_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_82_5_$1.itemId=net.jangaroo.ext.Exml.asString(SimpleContextMenu.PUBLISH_MENU_ITEM_ID);AS3.setBindable(menuItem_82_5_$1,"hidden",AS3.getBindable(config,"showPublish")===false);var editor_PublishAction_85_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.PublishAction,{});AS3.setBindable(editor_PublishAction_85_9_$1,"contentValueExpression",
AS3.getBindable(config,"selectedContentsValueExpression"));menuItem_82_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.PublishAction(editor_PublishAction_85_9_$1);var menuSeparator_88_5_$1=AS3.cast(Ext.menu.Separator,{});var menuItem_89_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_89_5_$1.itemId=net.jangaroo.ext.Exml.asString(SimpleContextMenu.WITHDRAW_MENU_ITEM_ID);AS3.setBindable(menuItem_89_5_$1,"hidden",AS3.getBindable(config,"showWithdraw")===false);var editor_WithdrawAction_92_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.WithdrawAction,
{});AS3.setBindable(editor_WithdrawAction_92_9_$1,"contentValueExpression",AS3.getBindable(config,"selectedContentsValueExpression"));menuItem_89_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.WithdrawAction(editor_WithdrawAction_92_9_$1);config_$1.items=[menuItem_65_5_$1,menuItem_70_5_$1,menuSeparator_75_5_$1,menuItem_76_5_$1,menuItem_82_5_$1,menuSeparator_88_5_$1,menuItem_89_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$voOU(config_$1)}return{extend:"Ext.menu.Menu",alias:"widget.com.coremedia.cms.editor.sdk.config.simpleContextMenu",
constructor:SimpleContextMenu$,super$voOU:function(){Ext.menu.Menu.prototype.constructor.apply(this,arguments)},config:{selectedContentsValueExpression:null,showApprove:false,showPublish:false,showWithdraw:false},statics:{OPEN_IN_TAB_MENU_ITEM_ID:"openInTab",SHOW_IN_REPOSITORY_MENU_ITEM_ID:"showInRepository",APPROVE_MENU_ITEM_ID:"approve",PUBLISH_MENU_ITEM_ID:"publish",WITHDRAW_MENU_ITEM_ID:"withdraw"},requires:["Ext.menu.Item","Ext.menu.Menu","Ext.menu.Separator","com.coremedia.ui.plugins.HideObsoleteSeparatorsPlugin",
"net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.actions.ApproveAction","com.coremedia.cms.editor.sdk.actions.OpenInTabAction","com.coremedia.cms.editor.sdk.actions.PublishAction","com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction","com.coremedia.cms.editor.sdk.actions.WithdrawAction"]}});Ext.define("com.coremedia.cms.editor.sdk.components.SubtypeAwareSwitchingContainer",function(SubtypeAwareSwitchingContainer){function SubtypeAwareSwitchingContainer$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.components.SubtypeAwareSwitchingContainerBase,{});var defaults_$1=AS3.cast(SubtypeAwareSwitchingContainer,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$W1VL(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.components.SubtypeAwareSwitchingContainerBase",
metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.subtypeAwareSwitchingContainer",constructor:SubtypeAwareSwitchingContainer$,super$W1VL:function(){com.coremedia.cms.editor.sdk.components.SubtypeAwareSwitchingContainerBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.components.SubtypeAwareSwitchingContainerBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.components.ContentGridPanelBase",function(ContentGridPanelBase){function ContentGridPanelBase$(config){if(arguments.length<=0)config=null;this.super$cCEK(config);AS3.getBindable(this,"bindTo").addChangeListener(AS3.bind(this,"updateAllItems$cCEK"));this.updateAllItems$cCEK()}function updateAllItems(){this.setAllItems(AS3.getBindable(this,"bindTo").getValue())}function getSelectedItems(){com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(this,
com.coremedia.cms.editor.sdk.components.ContentGridPanel.SELECTED_ITEMS_VARIABLE_NAME);com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(this,com.coremedia.cms.editor.sdk.components.ContentGridPanel.ALL_OR_SELECTED_ITEMS_VARIABLE_NAME);return this.selectedItems$cCEK||[]}function setSelectedItems(value){var oldValue=this.selectedItems$cCEK;this.selectedItems$cCEK=value;com.coremedia.ui.data.util.PropertyChangeEventUtil.fireEvent(this,com.coremedia.cms.editor.sdk.components.ContentGridPanel.SELECTED_ITEMS_VARIABLE_NAME,
oldValue,value);this.updateAllOrSelected$cCEK()}function getAllItems(){com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(this,com.coremedia.cms.editor.sdk.components.ContentGridPanel.ALL_ITEMS_VARIABLE_NAME);com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(this,com.coremedia.cms.editor.sdk.components.ContentGridPanel.ALL_OR_SELECTED_ITEMS_VARIABLE_NAME);return this.allItems$cCEK||[]}function setAllItems(value){var oldValue=this.allItems$cCEK;this.allItems$cCEK=
value;com.coremedia.ui.data.util.PropertyChangeEventUtil.fireEvent(this,com.coremedia.cms.editor.sdk.components.ContentGridPanel.ALL_ITEMS_VARIABLE_NAME,oldValue,value);this.updateAllOrSelected$cCEK()}function updateAllOrSelected(){if(this.selectedItems$cCEK&&this.selectedItems$cCEK.length>0)this.setAllOrSelectedItems(this.selectedItems$cCEK);else this.setAllOrSelectedItems(this.allItems$cCEK)}function getAllOrSelectedItems(){com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(this,
com.coremedia.cms.editor.sdk.components.ContentGridPanel.ALL_OR_SELECTED_ITEMS_VARIABLE_NAME);return this.allOrSelectedItems$cCEK||[]}function setAllOrSelectedItems(value){var oldValue=this.allOrSelectedItems$cCEK;this.allOrSelectedItems$cCEK=value;com.coremedia.ui.data.util.PropertyChangeEventUtil.fireEvent(this,com.coremedia.cms.editor.sdk.components.ContentGridPanel.ALL_OR_SELECTED_ITEMS_VARIABLE_NAME,oldValue,value)}function beforeDestroy(){AS3.getBindable(this,"bindTo").removeChangeListener(AS3.bind(this,
"updateAllItems$cCEK"));com.coremedia.cms.editor.sdk.premular.fields.LinkListGridPanel.prototype.beforeDestroy.call(this)}return{extend:"com.coremedia.cms.editor.sdk.premular.fields.LinkListGridPanel",metadata:{getSelectedItems:["ProvideToExtChildren"],getAllItems:["ProvideToExtChildren"],getAllOrSelectedItems:["ProvideToExtChildren"]},selectedItems$cCEK:null,allItems$cCEK:null,allOrSelectedItems$cCEK:null,constructor:ContentGridPanelBase$,super$cCEK:function(){com.coremedia.cms.editor.sdk.premular.fields.LinkListGridPanel.prototype.constructor.apply(this,
arguments)},updateAllItems$cCEK:updateAllItems,getSelectedItems:getSelectedItems,setSelectedItems:setSelectedItems,getAllItems:getAllItems,setAllItems:setAllItems,updateAllOrSelected$cCEK:updateAllOrSelected,getAllOrSelectedItems:getAllOrSelectedItems,setAllOrSelectedItems:setAllOrSelectedItems,beforeDestroy:beforeDestroy,config:{bindTo:null},requires:["com.coremedia.cms.editor.sdk.premular.fields.LinkListGridPanel","com.coremedia.ui.data.dependencies.DependencyTracker","com.coremedia.ui.data.util.PropertyChangeEventUtil"],
uses:["com.coremedia.cms.editor.sdk.components.ContentGridPanel"]}});Ext.define("com.coremedia.cms.editor.sdk.components.SimpleContentList",function(SimpleContentList){var BLOCK$static;function BLOCK$static_(){BLOCK$static=new com.coremedia.ui.models.bem.BEMBlock("cm-simple-content-list")}var ELEMENT_ITEM$static;function ELEMENT_ITEM$static_(){ELEMENT_ITEM$static=BLOCK$static.createElement("item")}var ELEMENT_ICON$static;function ELEMENT_ICON$static_(){ELEMENT_ICON$static=BLOCK$static.createElement("icon")}var ELEMENT_TEXT$static;function ELEMENT_TEXT$static_(){ELEMENT_TEXT$static=
BLOCK$static.createElement("text")}var MODIFIER_NO_BORDER$static;function MODIFIER_NO_BORDER$static_(){MODIFIER_NO_BORDER$static=BLOCK$static.createModifier("no-border")}function getTpl$static(hideBorder){return['\x3cdiv class\x3d"'+BLOCK$static+(hideBorder?" "+MODIFIER_NO_BORDER$static:"")+' x-unselectable"\x3e','\x3ctpl for\x3d"."\x3e','\x3cdiv {name:unsafeQtip} class\x3d"'+ELEMENT_ITEM$static+'"\x3e','\x3cdiv class\x3d"'+ELEMENT_TEXT$static+'"\x3e','\x3cdiv class\x3d"\x3ctpl if\x3d"readable"\x3e{typeClass}\x3c/tpl\x3e',
'\x3ctpl if\x3d"!readable"\x3e{[com.coremedia.cms.editor.sdk.util.ContentLocalizationUtilInternal.getIconStyleClassForUnreadableContent(values.id)]}\x3c/tpl\x3e '+ELEMENT_ICON$static+'"\x3e',"\x3c/div\x3e",'\x3ctpl if\x3d"readable"\x3e{name}\x3c/tpl\x3e','\x3ctpl if\x3d"!readable"\x3e{[com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.formatNotReadableNameFromUriPath(values.id)]}\x3c/tpl\x3e',"\x3c/div\x3e","\x3c/div\x3e","\x3c/tpl\x3e","\x3c/div\x3e"]}function __initialize__(config){this.contentPropertyPathPrefix$raid=
AS3.getBindable(config,"contentPropertyPath")?AS3.getBindable(config,"contentPropertyPath")+".":"";this.selectedContentsValueExpression$raid=AS3.getBindable(config,"contentPropertyPath")?com.coremedia.ui.data.ValueExpressionFactory.createTransformingValueExpression(com.coremedia.ui.data.ValueExpressionFactory.createFromValue([]),function(x){return x},com.coremedia.ui.util.ObjectUtils.getPropertyPathMapper(AS3.getBindable(config,"contentPropertyPath"))):com.coremedia.ui.data.ValueExpressionFactory.createFromValue([])}
function SimpleContentList$(config){if(arguments.length<=0)config=null;this.__initialize__$raid(config);var config_$1=AS3.cast(Ext.view.View,{});var defaults_$1=AS3.cast(SimpleContentList,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.tpl=getTpl$static(AS3.getBindable(config,"hideBorder"));config_$1.itemSelector=net.jangaroo.ext.Exml.asString(ELEMENT_ITEM$static.getCSSSelector());AS3.setBindable(config_$1,"scrollable",true);config_$1.multiSelect=true;var ui_BindListPlugin_92_5_$1=
AS3.cast(com.coremedia.ui.plugins.BindListPlugin,{});AS3.setBindable(ui_BindListPlugin_92_5_$1,"bindTo",AS3.getBindable(config,"contentList"));var ui_DataField_94_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_94_9_$1.name="typeClass";ui_DataField_94_9_$1.ifUnreadable="ignored";ui_DataField_94_9_$1.ifError="";ui_DataField_94_9_$1["convert"]=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.getIconStyleClassForContentType;ui_DataField_94_9_$1.mapping=this.contentPropertyPathPrefix$raid+
"type";var ui_DataField_99_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_99_9_$1.name="name";ui_DataField_99_9_$1.ifUnreadable="ignored";ui_DataField_99_9_$1.ifError="error accessing data";ui_DataField_99_9_$1.mapping=this.contentPropertyPathPrefix$raid+"name";var ui_DataField_103_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_103_9_$1.name="id";ui_DataField_103_9_$1.mapping=this.contentPropertyPathPrefix$raid+"uriPath";var ui_DataField_105_9_$1=AS3.cast(com.coremedia.ui.store.DataField,
{});ui_DataField_105_9_$1.name="readable";ui_DataField_105_9_$1.mapping=this.contentPropertyPathPrefix$raid+com.coremedia.ui.data.BeanState.PROPERTY_NAME+".readable";AS3.setBindable(ui_BindListPlugin_92_5_$1,"fields",[ui_DataField_94_9_$1,ui_DataField_99_9_$1,ui_DataField_103_9_$1,ui_DataField_105_9_$1]);var ui_BindSelectionPlugin_109_5_$1=AS3.cast(com.coremedia.ui.plugins.BindSelectionPlugin,{});AS3.setBindable(ui_BindSelectionPlugin_109_5_$1,"selectedValues",this.selectedContentsValueExpression$raid);
var ui_ContextMenuPlugin_110_5_$1=AS3.cast(com.coremedia.ui.plugins.ContextMenuPlugin,{});var editor_SimpleContextMenu_112_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.components.SimpleContextMenu,{});AS3.setBindable(editor_SimpleContextMenu_112_9_$1,"selectedContentsValueExpression",this.selectedContentsValueExpression$raid);AS3.setBindable(editor_SimpleContextMenu_112_9_$1,"showApprove",AS3.getBindable(config,"showApproveContextMenuItem"));AS3.setBindable(editor_SimpleContextMenu_112_9_$1,"showPublish",
AS3.getBindable(config,"showPublishContextMenuItem"));AS3.setBindable(editor_SimpleContextMenu_112_9_$1,"showWithdraw",AS3.getBindable(config,"showWithdrawContextMenuItem"));AS3.setBindable(ui_ContextMenuPlugin_110_5_$1,"contextMenu",editor_SimpleContextMenu_112_9_$1);config_$1.plugins=[ui_BindListPlugin_92_5_$1,ui_BindSelectionPlugin_109_5_$1,ui_ContextMenuPlugin_110_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$raid(config_$1)}return{extend:"Ext.view.View",alias:"widget.com.coremedia.cms.editor.sdk.config.simpleContentList",
contentPropertyPathPrefix$raid:null,selectedContentsValueExpression$raid:null,__initialize__$raid:__initialize__,constructor:SimpleContentList$,super$raid:function(){Ext.view.View.prototype.constructor.apply(this,arguments)},config:{contentList:null,contentPropertyPath:null,showApproveContextMenuItem:false,showPublishContextMenuItem:false,showWithdrawContextMenuItem:false,hideBorder:false},statics:{BLOCK:undefined,ELEMENT_ITEM:undefined,ELEMENT_ICON:undefined,ELEMENT_TEXT:undefined,MODIFIER_NO_BORDER:undefined,
__initStatics__:function(){BLOCK$static_();ELEMENT_ITEM$static_();ELEMENT_ICON$static_();ELEMENT_TEXT$static_();MODIFIER_NO_BORDER$static_()}},requires:["Ext.view.View","com.coremedia.ui.data.BeanState","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.models.bem.BEMBlock","com.coremedia.ui.plugins.BindListPlugin","com.coremedia.ui.plugins.BindSelectionPlugin","com.coremedia.ui.plugins.ContextMenuPlugin","com.coremedia.ui.store.DataField","com.coremedia.ui.util.ObjectUtils","net.jangaroo.ext.Exml"],
uses:["com.coremedia.cms.editor.sdk.components.SimpleContextMenu","com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.components.DomElementUtils",function(DomElementUtils){function getAttribute$static(element,attributeName){if(element.attributes)return element.attributes[attributeName];else if(element.getAttribute)return element.getAttribute(attributeName);else throw new AS3.Error("element "+element+" has neither an attributes field nor a getAttribute function");}function setAttribute$static(element,attributeName,attributeValue){if(element.attributes)element.attributes[attributeName]=
attributeValue;else if(element.setAttribute)element.setAttribute(attributeName,attributeValue);else throw new AS3.Error("element "+element+" has neither an attributes field nor a setAttribute function");}function removeAttribute$static(element,attributeName){if(element.attributes)delete element.attributes[attributeName];else if(element.removeAttribute)element.removeAttribute(attributeName);else throw new AS3.Error("element "+element+" has neither an attributes field nor a setAttribute function");
}function appendOrSetAttribute$static(element,attributeName,attributeValue,separator){if(arguments.length<=3)separator=" ";var originalAttribute=DomElementUtils.getAttribute(element,attributeName);var newValue;if(!!originalAttribute)newValue=originalAttribute+separator+attributeValue;else newValue=attributeValue;DomElementUtils.setAttribute(element,attributeName,newValue)}function reduceOrRemoveAttribute$static(element,attributeName,attributeValue,separator){if(arguments.length<=3)separator=" ";var originalAttribute=
DomElementUtils.getAttribute(element,attributeName);var newValue="";if(!!originalAttribute)newValue=originalAttribute.replace(new RegExp(attributeValue,"g"),"").replace(new RegExp("["+separator+"]+","g"),separator).replace(new RegExp("^["+separator+"]*|["+separator+"]*$","g"),"");if(!!newValue)DomElementUtils.setAttribute(element,attributeName,newValue);else DomElementUtils.removeAttribute(element,attributeName)}function DomElementUtils$(){}return{constructor:DomElementUtils$,statics:{getAttribute:getAttribute$static,
setAttribute:setAttribute$static,removeAttribute:removeAttribute$static,appendOrSetAttribute:appendOrSetAttribute$static,reduceOrRemoveAttribute:reduceOrRemoveAttribute$static},requires:["AS3.Error"]}});Ext.define("com.coremedia.cms.editor.sdk.components.CoreMediaRichTextArea",function(CoreMediaRichTextArea){function CoreMediaRichTextArea$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.components.CoreMediaRichTextAreaBase,{});var defaults_$1=AS3.cast(CoreMediaRichTextArea,{});AS3.setBindable(defaults_$1,"embeddedImageMaxWidth",CoreMediaRichTextArea.EMBEDDED_IMAGE_DEFAULT_WIDTH);config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var editor_RichTextDropTargetPlugin_37_5_$1=
AS3.cast(com.coremedia.cms.editor.sdk.dragdrop.RichTextDropTargetPlugin,{});var ui_CustomizeCKEditorPlugin_38_5_$1=AS3.cast(com.coremedia.ui.plugins.ckeditor.CustomizeCKEditorPlugin,{});var object_40_9_$1={};object_40_9_$1.embeddedImageMaxWidth=AS3.getBindable(config,"embeddedImageMaxWidth");object_40_9_$1.imgRichTextToHtmlConverter=this.getConvertImageElementFunction();ui_CustomizeCKEditorPlugin_38_5_$1.ckConfig=object_40_9_$1;config_$1.plugins=[editor_RichTextDropTargetPlugin_37_5_$1,ui_CustomizeCKEditorPlugin_38_5_$1];
net.jangaroo.ext.Exml.apply(config_$1,config);this.super$kxxz(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.components.CoreMediaRichTextAreaBase",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.coreMediaRichTextArea",constructor:CoreMediaRichTextArea$,super$kxxz:function(){com.coremedia.cms.editor.sdk.components.CoreMediaRichTextAreaBase.prototype.constructor.apply(this,arguments)},config:{embeddedImageMaxWidth:0},statics:{EMBEDDED_IMAGE_DEFAULT_WIDTH:240},requires:["com.coremedia.cms.editor.sdk.components.CoreMediaRichTextAreaBase",
"com.coremedia.ui.plugins.ckeditor.CustomizeCKEditorPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.dragdrop.RichTextDropTargetPlugin"]}});Ext.define("com.coremedia.cms.editor.sdk.components.BeanListChooserDataViewBase",function(BeanListChooserDataViewBase){function autocompletedItems_(){this.autocompletedItems$69Dl=[]}var MERGED_ITEM_CLASS$static="merged-item";function BeanListChooserDataViewBase$(config){if(arguments.length<=0)config=null;this.super$69Dl(config);autocompletedItems_.call(this)}function onDisable(){Ext.view.View.prototype.onDisable.call(this);this.on("beforeclick",AS3.bind(this,"onBeforeClickListenerWhenDisabled$69Dl"))}
function onEnable(){Ext.view.View.prototype.onEnable.call(this);this.removeListener("beforeclick",AS3.bind(this,"onBeforeClickListenerWhenDisabled$69Dl"))}function completeListByMissingSelectedElements(listVE,selectionVE){var this$=this;return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var localAutocompletedItems=[];var beanList=listVE.getValue();var selection=selectionVE.getValue();if(beanList&&selection){if(selection.length>0)for(var i=0;i<selection.length;i++){var selectedBean=
selection[i];if(beanList.indexOf(selectedBean)===-1)localAutocompletedItems.push(selectedBean)}this$.autocompletedItems$69Dl=localAutocompletedItems;return beanList.concat(localAutocompletedItems)}else{this$.autocompletedItems$69Dl=[];return undefined}})}function getMergedItemClass(name,c){if(this.autocompletedItems$69Dl.indexOf(c)!==-1)return MERGED_ITEM_CLASS$static;return""}function onBeforeClickListenerWhenDisabled(){return false}return{extend:"Ext.view.View",constructor:BeanListChooserDataViewBase$,
super$69Dl:function(){Ext.view.View.prototype.constructor.apply(this,arguments)},onDisable:onDisable,onEnable:onEnable,completeListByMissingSelectedElements:completeListByMissingSelectedElements,getMergedItemClass:getMergedItemClass,onBeforeClickListenerWhenDisabled$69Dl:onBeforeClickListenerWhenDisabled,requires:["Ext.view.View","com.coremedia.ui.data.ValueExpressionFactory"]}});Ext.define("com.coremedia.cms.editor.sdk.components.BeanListChooser",function(BeanListChooser){function BeanListChooser$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.components.BeanListChooserBase,{});var defaults_$1=AS3.cast(BeanListChooser,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.bodyBorder=false;AS3.setBindable(config_$1,"scrollable",true);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.PanelSkin.FRAME_100.getSkin());
AS3.setBindable(config_$1,"layout","anchor");var ui_BindPropertyPlugin_86_5_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_86_5_$1.bindTo=AS3.getBindable(config,"bindTo").extendBy(AS3.getBindable(config,"propertyName"));ui_BindPropertyPlugin_86_5_$1.disableStrictConsistency=config.disableStrictConsistency;ui_BindPropertyPlugin_86_5_$1.bidirectional=true;ui_BindPropertyPlugin_86_5_$1.skipIfConsistent=false;ui_BindPropertyPlugin_86_5_$1.componentProperty="outerSelectedBeans";
ui_BindPropertyPlugin_86_5_$1.componentEvent="selectedBeansChanged";config_$1.plugins=[ui_BindPropertyPlugin_86_5_$1];var editor_BeanListChooserDataView_94_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.components.BeanListChooserDataView,{});editor_BeanListChooserDataView_94_5_$1.itemId=net.jangaroo.ext.Exml.asString(BeanListChooser.DATAVIEW_ITEM_ID);AS3.setBindable(editor_BeanListChooserDataView_94_5_$1,"beanList",AS3.getBindable(config,"beanList"));AS3.setBindable(editor_BeanListChooserDataView_94_5_$1,
"selectedBeans",this.getInnerSelectedBeansValueExpression());AS3.setBindable(editor_BeanListChooserDataView_94_5_$1,"dataFields",this.addEmptySelectionDataField(AS3.getBindable(config,"dataFields"),AS3.getBindable(config,"emptySelection")));editor_BeanListChooserDataView_94_5_$1.itemSelector=net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"itemSelector"));editor_BeanListChooserDataView_94_5_$1.tpl=AS3.getBindable(config,"template");config_$1.items=[editor_BeanListChooserDataView_94_5_$1];net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$IqZl(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.components.BeanListChooserBase",metadata:{"":["PublicApi"],disableStrictConsistency:["Config"]},alias:"widget.com.coremedia.cms.editor.sdk.config.beanListChooser",constructor:BeanListChooser$,super$IqZl:function(){com.coremedia.cms.editor.sdk.components.BeanListChooserBase.prototype.constructor.apply(this,arguments)},disableStrictConsistency:false,config:{beanList:null,bindTo:null,propertyName:null,template:null,itemSelector:null,
dataFields:null},statics:{DATAVIEW_ITEM_ID:"dataView"},requires:["com.coremedia.cms.editor.sdk.components.BeanListChooserBase","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.skins.PanelSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.components.BeanListChooserDataView"]}});Ext.define("com.coremedia.cms.editor.sdk.components.CoreMediaRichTextAreaBase",function(CoreMediaRichTextAreaBase){function embeddedBlobReferences_(){this.embeddedBlobReferences$kNDk=[]}var FOCUS$static="focus";var BLUR$static="blur";function CoreMediaRichTextAreaBase$(config){var this$=this;if(arguments.length<=0)config=null;this.embeddedImageMaxWidth$kNDk=AS3.getBindable(config,"embeddedImageMaxWidth");this.super$kNDk(config);embeddedBlobReferences_.call(this);this.on(com.coremedia.ui.ckeditor.RichTextArea.CKREADY_EVENT,
function(){this$.getCKEditor().on("setData",AS3.bind(this$,"clearBlobContentListeners$kNDk"));this$.getCKEditor().on(FOCUS$static,function(e){this$.fireEvent(FOCUS$static);this$.addCls(this$.focusCls)});this$.getCKEditor().on(BLUR$static,function(e){this$.fireEvent(BLUR$static);this$.removeCls(this$.focusCls)});this$.disableObjectResize()})}function disableObjectResize(){if(Ext.isGecko){var _doc=this.getCKEditor().document.$;_doc.execCommand("enableObjectResizing",false,!this.getCKEditor().config.disableObjectResizing)}}
function getConvertImageElementFunction(){return this.convertImageElementFuse$kNDk||(this.convertImageElementFuse$kNDk=com.coremedia.ui.util.FunctionUtil.makeFuse(AS3.bind(this,"convertImageElement")))}function convertImageElement(element){var href=getAttribute$static(element,"xlink:href");if(href){escapeAttribute$static(element,"xlink:href");escapeAttribute$static(element,"xlink:role");escapeAttribute$static(element,"xlink:title");var hashPosition=href.indexOf("#");var contentUri;var propertyPath;
if(hashPosition!=-1){contentUri=href.substring(0,hashPosition);propertyPath=href.substring(hashPosition+1);var reference=new com.coremedia.cms.editor.sdk.components.EmbeddedBlobReference(AS3.bind(this,"getCKEditor"),element,contentUri,propertyPath,this.embeddedImageMaxWidth$kNDk);this.embeddedBlobReferences$kNDk.push(reference);reference.updateAndTrack()}else setAttribute$static(element,"src",com.coremedia.ui.data.impl.RemoteService.calculateRequestURI(href+com.coremedia.ui.util.UrlUtil.getImgFitInstruction(this.embeddedImageMaxWidth$kNDk)))}else if(getAttribute$static(element,
"name")){setAttribute$static(element,"name","span");delete element.attributes}}function beforeDestroy(){com.coremedia.ui.util.FunctionUtil.blowFuse(this.convertImageElementFuse$kNDk);this.clearBlobContentListeners$kNDk();com.coremedia.ui.ckeditor.RichTextArea.prototype.beforeDestroy.call(this)}function clearBlobContentListeners(){this.embeddedBlobReferences$kNDk.forEach(function(ref){ref.stopUpdates()});this.embeddedBlobReferences$kNDk=[]}function getAttribute$static(element,attributeName){return com.coremedia.cms.editor.sdk.components.DomElementUtils.getAttribute(element,
attributeName)}function setAttribute$static(element,attributeName,attributeValue){com.coremedia.cms.editor.sdk.components.DomElementUtils.setAttribute(element,attributeName,attributeValue)}function removeAttribute$static(element,attributeName){com.coremedia.cms.editor.sdk.components.DomElementUtils.removeAttribute(element,attributeName)}function escapeAttribute$static(element,attributeName){var value=getAttribute$static(element,attributeName);if(value!==undefined&&value!==null){setAttribute$static(element,
"_"+attributeName,value);removeAttribute$static(element,attributeName)}}return{extend:"com.coremedia.ui.ckeditor.RichTextArea",metadata:{"":["PublicApi"]},embeddedImageMaxWidth$kNDk:0,convertImageElementFuse$kNDk:null,constructor:CoreMediaRichTextAreaBase$,super$kNDk:function(){com.coremedia.ui.ckeditor.RichTextArea.prototype.constructor.apply(this,arguments)},disableObjectResize:disableObjectResize,getConvertImageElementFunction:getConvertImageElementFunction,convertImageElement:convertImageElement,
beforeDestroy:beforeDestroy,clearBlobContentListeners$kNDk:clearBlobContentListeners,requires:["Ext","com.coremedia.ui.ckeditor.RichTextArea","com.coremedia.ui.data.impl.RemoteService","com.coremedia.ui.util.FunctionUtil","com.coremedia.ui.util.UrlUtil"],uses:["com.coremedia.cms.editor.sdk.components.DomElementUtils","com.coremedia.cms.editor.sdk.components.EmbeddedBlobReference"]}});Ext.define("com.coremedia.cms.editor.sdk.components.EmbeddedBlobReference",function(EmbeddedBlobReference){var RANDOM_GENERATOR_CHARACTERS$static="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";var RANDOM_ID_PREFIX$static="embeddedBlob_";var RANDOM_ID_POSTFIX_LENGTH$static=10;var PROPERTY_PREFIX_PATH$static="properties";function EmbeddedBlobReference$(ckEditorSupplier,element,contentUri,propertyPath,embeddedImageMaxWidth){this.ckEditorSupplier$__X6=ckEditorSupplier;this.element$__X6=
element;this.contentUri$__X6=contentUri;this.propertyPath$__X6=propertyPath;this.embeddedImageMaxWidth$__X6=embeddedImageMaxWidth}function getCKEditor(){return this.ckEditorSupplier$__X6()}function getElement(){if(this.element$__X6)return this.element$__X6;return this.getCKEditor$__X6().document.getById(this.elementId$__X6)}function memoizeElement(){if(this.element$__X6){var currentId=com.coremedia.cms.editor.sdk.components.DomElementUtils.getAttribute(this.element$__X6,"id");if(!currentId){currentId=
generateRandomId$static();com.coremedia.cms.editor.sdk.components.DomElementUtils.setAttribute(this.element$__X6,"id",currentId)}this.element$__X6=null;this.elementId$__X6=currentId}}function updateAndTrack(){this.blobContent$__X6=com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getContent(this.contentUri$__X6);this.updateImageSrc$__X6(this.blobContent$__X6);this.memoizeElement$__X6();this.blobContent$__X6.addValueChangeListener(AS3.bind(this,"onBlobContentChange$__X6"))}function stopUpdates(){if(!!this.blobContent$__X6)this.blobContent$__X6.removeValueChangeListener(AS3.bind(this,
"onBlobContentChange$__X6"))}function onBlobContentChange(){var ckEditor=this.getCKEditor$__X6();if(ckEditor&&ckEditor.document)this.onCKEditorReady$__X6();else ckEditor&&ckEditor.on("contentDom",AS3.bind(this,"onCKEditorReady$__X6"))}function onCKEditorReady(){var ckEditor=this.getCKEditor$__X6();if(ckEditor&&this.blobContent$__X6){ckEditor.fire("lockSnapshot",null,ckEditor);try{this.updateImageSrc$__X6(this.blobContent$__X6)}catch(e){if(AS3.is(e,AS3.Error))window.console["warn"]("Error while updating embedded image blob source.",
e);else throw e;}finally{ckEditor.fire("unlockSnapshot",null,ckEditor);ckEditor.removeListener("contentDom",AS3.bind(this,"onCKEditorReady$__X6"))}}}function updateImageSrc(blobContent){var currentElement=this.getElement$__X6();if(!currentElement)return;var blobVE=AS3.cast(com.coremedia.ui.data.PropertyPathExpression,com.coremedia.ui.data.ValueExpressionFactory.create(this.propertyPath$__X6,blobContent));if(!!this.placeholder$__X6)this.placeholder$__X6.reset(currentElement);this.placeholder$__X6=
getPlaceholder$static(blobContent,this.propertyPath$__X6,blobVE.getValue());if(!!this.placeholder$__X6)this.placeholder$__X6.apply(currentElement);else{var imageUri=computeImageUri$static(blobVE.getValue(),this.embeddedImageMaxWidth$__X6);com.coremedia.cms.editor.sdk.components.DomElementUtils.setAttribute(currentElement,"src",imageUri)}}function getPlaceholder$static(blobContent,propertyPath,blob){if(!blobContent||!blobContent.getState().readable)return getUnreadablePlaceholder$static(blobContent);
var contentType=getMimeType$static(blob,blobContent,propertyPath);if(!blob||contentType.indexOf("image/")!==0)return getMimeTypePlaceholder$static(blobContent,contentType);return null}function getUnreadablePlaceholder$static(blobContent){var placeholder=new com.coremedia.cms.editor.sdk.components.IconPlaceholder;placeholder.title=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.formatNotReadableName(blobContent);placeholder.placeholderResourcePath=getResourcePath$static("images/restricted-document_24.svg");
return placeholder}function getMimeTypePlaceholder$static(blobContent,contentType){var placeholder=new com.coremedia.cms.editor.sdk.components.IconPlaceholder;placeholder.title=blobContent.getName();if(contentType.indexOf("image/")===0)placeholder.placeholderResourcePath=getResourcePath$static("images/type-picture_24.svg");else if(contentType.indexOf("video/")===0)placeholder.placeholderResourcePath=getResourcePath$static("images/type-video_24.svg");else if(contentType.indexOf("audio/")===0)placeholder.placeholderResourcePath=
getResourcePath$static("images/type-audio_24.svg");else placeholder.placeholderResourcePath=getResourcePath$static("images/type-object_24.svg");return placeholder}function getMimeType$static(blob,blobContent,propertyPath){var contentType=undefined;if(blob)contentType=blob.getContentType();else if(blobContent&&blobContent.getState().readable)if(blobContent.getType())contentType=blobContent.getType().getDescriptor(plainProperty$static(propertyPath))["contentType"];return contentType||"application/octet-stream"}
function plainProperty$static(propertyPath){if(propertyPath.indexOf(PROPERTY_PREFIX_PATH$static+".")===0)return propertyPath.substr(PROPERTY_PREFIX_PATH$static.length+1);return propertyPath}function getResourcePath$static(path){return Ext.getResourcePath(path,null,"com.coremedia.ui.sdk__editor-components")}function computeImageUri$static(blob,embeddedImageMaxWidth){return blob.getUri()+com.coremedia.ui.util.UrlUtil.getImgFitInstruction(embeddedImageMaxWidth)}function generateRandomId$static(){var num_chars=
RANDOM_GENERATOR_CHARACTERS$static.length-1;var randomChar="";for(var i=0;i<RANDOM_ID_POSTFIX_LENGTH$static;i++)randomChar+=RANDOM_GENERATOR_CHARACTERS$static.charAt(Math.floor(Math.random()*num_chars));return RANDOM_ID_PREFIX$static+randomChar}return{ckEditorSupplier$__X6:null,element$__X6:undefined,elementId$__X6:null,contentUri$__X6:null,propertyPath$__X6:null,blobContent$__X6:null,embeddedImageMaxWidth$__X6:0,placeholder$__X6:null,constructor:EmbeddedBlobReference$,getCKEditor$__X6:getCKEditor,
getElement$__X6:getElement,memoizeElement$__X6:memoizeElement,updateAndTrack:updateAndTrack,stopUpdates:stopUpdates,onBlobContentChange$__X6:onBlobContentChange,onCKEditorReady$__X6:onCKEditorReady,updateImageSrc$__X6:updateImageSrc,requires:["AS3.Error","Ext","com.coremedia.cap.common.SESSION","com.coremedia.ui.data.PropertyPathExpression","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.util.UrlUtil"],uses:["com.coremedia.cms.editor.sdk.components.DomElementUtils","com.coremedia.cms.editor.sdk.components.IconPlaceholder",
"com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.components.BeanListChooserBase",function(BeanListChooserBase){var EMPTY_SELECTION$static;function EMPTY_SELECTION$static_(){EMPTY_SELECTION$static=[]}var EMPTY_SELECTION_CLASS$static="no-selection-item";function BeanListChooserBase$(config){var this$=this;if(arguments.length<=0)config=null;this.super$hhHW(config);this.getInnerSelectedBeansValueExpression().addChangeListener(function(){this$.getOuterSelectedBeansValueExpression().setValue(this$.convertInnerToOuterSelection(this$.getInnerSelectedBeansValueExpression().getValue()));
this$.fireEvent("selectedBeansChanged")});this.initValidationStateMixin()}function getInnerSelectedBeansValueExpression(){if(!this.innerSelectedBeansValueExpression)this.innerSelectedBeansValueExpression=com.coremedia.ui.data.ValueExpressionFactory.createFromValue([]);return this.innerSelectedBeansValueExpression}function getOuterSelectedBeansValueExpression(){if(!this.outerSelectBeansValueExpression)this.outerSelectBeansValueExpression=com.coremedia.ui.data.ValueExpressionFactory.createFromValue([]);
return this.outerSelectBeansValueExpression}function getInnerSelectedBeans(){return this.getInnerSelectedBeansValueExpression().getValue()}function setInnerSelectedBeans(items){this.getInnerSelectedBeansValueExpression().setValue(items)}function getOuterSelectedBeans(){return this.getOuterSelectedBeansValueExpression().getValue()}function setOuterSelectedBeans(items){items=items||[];this.getOuterSelectedBeansValueExpression().setValue(items);this.getInnerSelectedBeansValueExpression().setValue(this.convertOuterToInnerSelection(this.getOuterSelectedBeansValueExpression().getValue()))}
function convertOuterToInnerSelection(selection){if(selection.length===0&&AS3.getBindable(this,"emptySelection"))return[AS3.getBindable(this,"emptySelection")];return selection}function convertInnerToOuterSelection(selection){if(selection.length===0&&AS3.getBindable(this,"emptySelection")){this.innerSelectedBeansValueExpression.setValue([AS3.getBindable(this,"emptySelection")]);return EMPTY_SELECTION$static}if(selection.length===1&&AS3.getBindable(this,"emptySelection")&&selection[0]===AS3.getBindable(this,
"emptySelection"))return EMPTY_SELECTION$static;return selection}function onDisable(){var dataview=this.getDataview$hhHW();dataview.disable()}function onEnable(){var dataview=this.getDataview$hhHW();dataview.enable();Ext.panel.Panel.prototype.enable.call(this)}function getDataview(){return AS3.as(this.down(com.coremedia.ui.util.createComponentSelector()._xtype(com.coremedia.cms.editor.sdk.components.BeanListChooserDataView.xtype).build()),com.coremedia.cms.editor.sdk.components.BeanListChooserDataView)}
function addEmptySelectionDataField(dataFields,emptySelection){if(emptySelection){var myEmptySelection=emptySelection;var emptySelectionItemClass=new com.coremedia.ui.store.DataField(AS3.cast(com.coremedia.ui.store.DataField,{name:"emptySelectionItemClass",mapping:"name",convert:function(name,c){if(c===myEmptySelection)return EMPTY_SELECTION_CLASS$static;return""}}));return dataFields.concat(emptySelectionItemClass)}else return dataFields}return{extend:"Ext.panel.Panel",mixins:["com.coremedia.ui.mixins.ValidationStateMixin"],
innerSelectedBeansValueExpression:null,outerSelectBeansValueExpression:null,constructor:BeanListChooserBase$,super$hhHW:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},getInnerSelectedBeansValueExpression:getInnerSelectedBeansValueExpression,getOuterSelectedBeansValueExpression:getOuterSelectedBeansValueExpression,getInnerSelectedBeans:getInnerSelectedBeans,setInnerSelectedBeans:setInnerSelectedBeans,getOuterSelectedBeans:getOuterSelectedBeans,setOuterSelectedBeans:setOuterSelectedBeans,
convertOuterToInnerSelection:convertOuterToInnerSelection,convertInnerToOuterSelection:convertInnerToOuterSelection,onDisable:onDisable,onEnable:onEnable,getDataview$hhHW:getDataview,addEmptySelectionDataField:addEmptySelectionDataField,config:{emptySelection:null},statics:{EMPTY_SELECTION:undefined,__initStatics__:function(){EMPTY_SELECTION$static_()}},requires:["Ext.panel.Panel","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.mixins.ValidationStateMixin","com.coremedia.ui.store.DataField",
"com.coremedia.ui.util.createComponentSelector"],uses:["com.coremedia.cms.editor.sdk.components.BeanListChooserDataView"]}});Ext.define("com.coremedia.cms.editor.sdk.components.SubtypeAwareSwitchingContainerBase",function(SubtypeAwareSwitchingContainerBase){function SubtypeAwareSwitchingContainerBase$(config){if(arguments.length<=0)config=null;config=AS3.cast(com.coremedia.cms.editor.sdk.components.SubtypeAwareSwitchingContainer,Ext.apply({},config));AS3.setBindable(config,"findComponent",AS3.bind(this,"findComponentWithSuptypes$TQ16"));this.super$TQ16(config)}function findComponentWithSuptypes(itemId){if(itemId===undefined)return undefined;
var contentType=com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getContentType(itemId);if(!contentType)throw new AS3.Error("Unknown content type '"+itemId+"' of "+this+".");var currentParent=contentType;var currentItemId=itemId;while(!this.hasComponentForItemId$TQ16(currentItemId)){currentParent=currentParent.getParent();if(currentParent===undefined||currentParent===null)return undefined;currentItemId=currentParent.getName()}return currentItemId}function hasComponentForItemId(componentItemId){var transformer=
this.getTransformer();if(transformer)componentItemId=transformer(componentItemId);return!!this.getComponent(componentItemId)}return{extend:"com.coremedia.ui.components.SwitchingContainer",metadata:{"":["PublicApi"]},constructor:SubtypeAwareSwitchingContainerBase$,super$TQ16:function(){com.coremedia.ui.components.SwitchingContainer.prototype.constructor.apply(this,arguments)},findComponentWithSuptypes$TQ16:findComponentWithSuptypes,hasComponentForItemId$TQ16:hasComponentForItemId,requires:["AS3.Error",
"Ext","com.coremedia.cap.common.SESSION","com.coremedia.ui.components.SwitchingContainer"],uses:["com.coremedia.cms.editor.sdk.components.SubtypeAwareSwitchingContainer"]}});Ext.define("com.coremedia.cms.editor.sdk.components.ContentGridPanel",function(ContentGridPanel){function ContentGridPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.components.ContentGridPanelBase,{});var defaults_$1=AS3.cast(ContentGridPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"viewStripeRows",true);AS3.setBindable(config_$1,"hideDropArea",true);AS3.setBindable(config_$1,"viewEnableDrop",false);
config_$1.hideValidation=true;var editor_MemoryLinkListWrapper_47_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.util.MemoryLinkListWrapper,{});AS3.setBindable(editor_MemoryLinkListWrapper_47_5_$1,"linksVE",com.coremedia.ui.data.ValueExpressionFactory.createFromValueHolder(new com.coremedia.ui.data.BeanPropertyValueHolder(this,ContentGridPanel.ALL_ITEMS_VARIABLE_NAME)));AS3.setBindable(config_$1,"linkListWrapper",new com.coremedia.cms.editor.sdk.util.MemoryLinkListWrapper(editor_MemoryLinkListWrapper_47_5_$1));
var ui_ValueExpression_51_5_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_51_5_$1,"context",this);AS3.setBindable(ui_ValueExpression_51_5_$1,"expression",net.jangaroo.ext.Exml.asString(ContentGridPanel.SELECTED_ITEMS_VARIABLE_NAME));AS3.setBindable(config_$1,"selectedValuesExpression",new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_51_5_$1));var ui_ContextMenuPlugin_55_5_$1=AS3.cast(com.coremedia.ui.plugins.ContextMenuPlugin,{});AS3.setBindable(ui_ContextMenuPlugin_55_5_$1,
"contextMenu",AS3.getBindable(config,"contextMenu"));config_$1.plugins=[ui_ContextMenuPlugin_55_5_$1];config_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$PH8Z(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.components.ContentGridPanelBase",alias:"widget.com.coremedia.cms.editor.sdk.config.contentGridPanel",constructor:ContentGridPanel$,super$PH8Z:function(){com.coremedia.cms.editor.sdk.components.ContentGridPanelBase.prototype.constructor.apply(this,
arguments)},config:{contextMenu:null,hideEmptyText:false},statics:{SELECTED_ITEMS_VARIABLE_NAME:"selectedItems",ALL_ITEMS_VARIABLE_NAME:"allItems",ALL_OR_SELECTED_ITEMS_VARIABLE_NAME:"allOrSelectedItems"},requires:["com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.components.ContentGridPanelBase","com.coremedia.ui.data.BeanPropertyValueHolder","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.exml.ValueExpression","com.coremedia.ui.plugins.ContextMenuPlugin",
"net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.util.MemoryLinkListWrapper"]}});Ext.define("com.coremedia.cms.editor.sdk.components.BeanListChooserUtil",function(BeanListChooserUtil){var BEAN_LIST_CHOOSER_BLOCK$static;function BEAN_LIST_CHOOSER_BLOCK$static_(){BEAN_LIST_CHOOSER_BLOCK$static=new com.coremedia.ui.models.bem.BEMBlock("cm-bean-list-chooser")}var BEAN_LIST_CHOOSER_ITEM_ELEMENT$static;function BEAN_LIST_CHOOSER_ITEM_ELEMENT$static_(){BEAN_LIST_CHOOSER_ITEM_ELEMENT$static=BEAN_LIST_CHOOSER_BLOCK$static.createElement("item")}var BEAN_LIST_CHOOSER_ITEM_BLOCK$static;function BEAN_LIST_CHOOSER_ITEM_BLOCK$static_(){BEAN_LIST_CHOOSER_ITEM_BLOCK$static=
new com.coremedia.ui.models.bem.BEMBlock("cm-bean-list-chooser-item")}var BEAN_LIST_CHOOSER_ELEMENT_ICON$static;function BEAN_LIST_CHOOSER_ELEMENT_ICON$static_(){BEAN_LIST_CHOOSER_ELEMENT_ICON$static=BEAN_LIST_CHOOSER_ITEM_BLOCK$static.createElement("icon")}var BEAN_LIST_CHOOSER_ELEMENT_TEXT$static;function BEAN_LIST_CHOOSER_ELEMENT_TEXT$static_(){BEAN_LIST_CHOOSER_ELEMENT_TEXT$static=BEAN_LIST_CHOOSER_ITEM_BLOCK$static.createElement("text")}function BeanListChooserUtil$(){}function getDefaultBemBlockCssClass$static(){return BEAN_LIST_CHOOSER_BLOCK$static.getCSSClass()}
function getDefaultContentTemplate$static(){return new Ext.XTemplate('\x3ctpl for\x3d"."\x3e','\x3cdiv class\x3d"'+BEAN_LIST_CHOOSER_ITEM_BLOCK$static+" "+BEAN_LIST_CHOOSER_ITEM_ELEMENT$static+' {mergedItemClass}" data-qtip\x3d"{name}"\x3e','\x3cdiv class\x3d"'+BEAN_LIST_CHOOSER_ELEMENT_ICON$static+' {docTypeClass} {emptySelectionItemClass}"\x3e\x3c/div\x3e','\x3cp class\x3d"'+BEAN_LIST_CHOOSER_ELEMENT_TEXT$static+'"\x3e{shortName}\x3c/p\x3e',"\x3c/div\x3e","\x3c/tpl\x3e")}function getDefaultContentItemSelector$static(){return BEAN_LIST_CHOOSER_ITEM_BLOCK$static.getCSSSelector()}
function getDefaultContentDataFields$static(){var result=[];var nameDataField=new com.coremedia.ui.store.DataField(AS3.cast(com.coremedia.ui.store.DataField,{name:"name"}));result.push(nameDataField);var shortNameDataField=new com.coremedia.ui.store.DataField(AS3.cast(com.coremedia.ui.store.DataField,{name:"shortName",mapping:"name",convert:BeanListChooserUtil.curtail}));result.push(shortNameDataField);var docTypeClassDataField=new com.coremedia.ui.store.DataField(AS3.cast(com.coremedia.ui.store.DataField,
{name:"docTypeClass",mapping:"type.name",convert:com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.getIconStyleClassForContentTypeName}));result.push(docTypeClassDataField);return result}var SHORT_NAME_MAX_LENGTH$static=15;function curtail$static(s){if(!s)return"";if(s.length>SHORT_NAME_MAX_LENGTH$static)return s.substr(0,SHORT_NAME_MAX_LENGTH$static-3)+"...";return s}return{metadata:{"":["Deprecated","PublicApi"]},constructor:BeanListChooserUtil$,statics:{BEAN_LIST_CHOOSER_BLOCK:undefined,
BEAN_LIST_CHOOSER_ITEM_ELEMENT:undefined,BEAN_LIST_CHOOSER_ITEM_BLOCK:undefined,BEAN_LIST_CHOOSER_ELEMENT_ICON:undefined,BEAN_LIST_CHOOSER_ELEMENT_TEXT:undefined,getDefaultBemBlockCssClass:getDefaultBemBlockCssClass$static,getDefaultContentTemplate:getDefaultContentTemplate$static,getDefaultContentItemSelector:getDefaultContentItemSelector$static,getDefaultContentDataFields:getDefaultContentDataFields$static,curtail:curtail$static,__initStatics__:function(){BEAN_LIST_CHOOSER_BLOCK$static_();BEAN_LIST_CHOOSER_ITEM_ELEMENT$static_();
BEAN_LIST_CHOOSER_ITEM_BLOCK$static_();BEAN_LIST_CHOOSER_ELEMENT_ICON$static_();BEAN_LIST_CHOOSER_ELEMENT_TEXT$static_()}},requires:["Ext.XTemplate","com.coremedia.ui.models.bem.BEMBlock","com.coremedia.ui.store.DataField"],uses:["com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.components.StudioDialog",function(StudioDialog){function StudioDialog$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.components.StudioDialogBase,{});var defaults_$1=AS3.cast(StudioDialog,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var editor_MoveDialogAction_21_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.MoveDialogAction,{});editor_MoveDialogAction_21_5_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.MoveAction.UP);
AS3.setBindable(editor_MoveDialogAction_21_5_$1,"command",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.MoveAction.UP));AS3.setBindable(editor_MoveDialogAction_21_5_$1,"dialog",this);var editor_MoveDialogAction_22_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.MoveDialogAction,{});editor_MoveDialogAction_22_5_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.MoveAction.DOWN);AS3.setBindable(editor_MoveDialogAction_22_5_$1,"command",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.MoveAction.DOWN));
AS3.setBindable(editor_MoveDialogAction_22_5_$1,"dialog",this);var editor_MoveDialogAction_23_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.MoveDialogAction,{});editor_MoveDialogAction_23_5_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.MoveAction.LEFT);AS3.setBindable(editor_MoveDialogAction_23_5_$1,"command",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.MoveAction.LEFT));AS3.setBindable(editor_MoveDialogAction_23_5_$1,"dialog",this);var editor_MoveDialogAction_24_5_$1=
AS3.cast(com.coremedia.cms.editor.sdk.actions.MoveDialogAction,{});editor_MoveDialogAction_24_5_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.MoveAction.RIGHT);AS3.setBindable(editor_MoveDialogAction_24_5_$1,"command",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.MoveAction.RIGHT));AS3.setBindable(editor_MoveDialogAction_24_5_$1,"dialog",this);var editor_MoveDialogAction_25_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.MoveDialogAction,
{});editor_MoveDialogAction_25_5_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.MoveAction.INCREASE);AS3.setBindable(editor_MoveDialogAction_25_5_$1,"command",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.MoveAction.INCREASE));AS3.setBindable(editor_MoveDialogAction_25_5_$1,"dialog",this);var editor_MoveDialogAction_26_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.MoveDialogAction,{});editor_MoveDialogAction_26_5_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.MoveAction.DECREASE);
AS3.setBindable(editor_MoveDialogAction_26_5_$1,"command",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.MoveAction.DECREASE));AS3.setBindable(editor_MoveDialogAction_26_5_$1,"dialog",this);AS3.setBindable(config_$1,"actionList",[new com.coremedia.cms.editor.sdk.actions.MoveDialogAction(editor_MoveDialogAction_21_5_$1),new com.coremedia.cms.editor.sdk.actions.MoveDialogAction(editor_MoveDialogAction_22_5_$1),new com.coremedia.cms.editor.sdk.actions.MoveDialogAction(editor_MoveDialogAction_23_5_$1),
new com.coremedia.cms.editor.sdk.actions.MoveDialogAction(editor_MoveDialogAction_24_5_$1),new com.coremedia.cms.editor.sdk.actions.MoveDialogAction(editor_MoveDialogAction_25_5_$1),new com.coremedia.cms.editor.sdk.actions.MoveDialogAction(editor_MoveDialogAction_26_5_$1)]);config_$1["actionList$at"]=net.jangaroo.ext.Exml.APPEND;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Wgty(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.components.StudioDialogBase",alias:"widget.com.coremedia.cms.editor.sdk.config.studioDialog",
constructor:StudioDialog$,super$Wgty:function(){com.coremedia.cms.editor.sdk.components.StudioDialogBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.components.StudioDialogBase","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.actions.MoveAction","com.coremedia.cms.editor.sdk.actions.MoveDialogAction"]}});Ext.define("com.coremedia.cms.editor.sdk.components.StudioDialogBase",function(StudioDialogBase){function StudioDialogBase$(config){if(arguments.length<=0)config=null;if(!config.stateEvents)config.stateEvents=[];config.stateEvents=config.stateEvents.concat("move");this.super$Oihj(config)}return{extend:"Ext.window.Window",constructor:StudioDialogBase$,super$Oihj:function(){Ext.window.Window.prototype.constructor.apply(this,arguments)},requires:["Ext.window.Window"]}});Ext.define("com.coremedia.cms.editor.sdk.components.BeanListChooserDataView",function(BeanListChooserDataView){function BeanListChooserDataView$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.components.BeanListChooserDataViewBase,{});var defaults_$1=AS3.cast(BeanListChooserDataView,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.singleSelect=true;config_$1.deferEmptyText=false;config_$1.loadingText=net.jangaroo.ext.Exml.asString(Ext.LoadMask["prototype"]["msg"]);
var editor_BeanListChooserBindListPlugin_48_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.BeanListChooserBindListPlugin,{});AS3.setBindable(editor_BeanListChooserBindListPlugin_48_5_$1,"bindTo",this.completeListByMissingSelectedElements(AS3.getBindable(config,"beanList"),AS3.getBindable(config,"selectedBeans")));AS3.setBindable(editor_BeanListChooserBindListPlugin_48_5_$1,"additionalFields",AS3.getBindable(config,"dataFields"));var ui_DataField_52_9_$1=AS3.cast(com.coremedia.ui.store.DataField,
{});ui_DataField_52_9_$1.name="mergedItemClass";ui_DataField_52_9_$1.mapping="name";ui_DataField_52_9_$1["convert"]=AS3.bind(this,"getMergedItemClass");AS3.setBindable(editor_BeanListChooserBindListPlugin_48_5_$1,"fields",[ui_DataField_52_9_$1]);var ui_BindSelectionPlugin_57_5_$1=AS3.cast(com.coremedia.ui.plugins.BindSelectionPlugin,{});AS3.setBindable(ui_BindSelectionPlugin_57_5_$1,"selectedValues",AS3.getBindable(config,"selectedBeans"));config_$1.plugins=[editor_BeanListChooserBindListPlugin_48_5_$1,
ui_BindSelectionPlugin_57_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$vGT_(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.components.BeanListChooserDataViewBase",alias:"widget.com.coremedia.cms.editor.sdk.config.beanListChooserDataView",constructor:BeanListChooserDataView$,super$vGT_:function(){com.coremedia.cms.editor.sdk.components.BeanListChooserDataViewBase.prototype.constructor.apply(this,arguments)},config:{beanList:null,selectedBeans:null,dataFields:null},requires:["Ext.LoadMask",
"com.coremedia.cms.editor.sdk.components.BeanListChooserDataViewBase","com.coremedia.ui.plugins.BindSelectionPlugin","com.coremedia.ui.store.DataField","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.fields.BeanListChooserBindListPlugin"]}});Ext.define("com.coremedia.cms.editor.sdk.components.IconPlaceholder",function(IconPlaceholder){var PLACEHOLDER_STYLE$static="width:24px;height:24px";function apply(element){com.coremedia.cms.editor.sdk.components.DomElementUtils.appendOrSetAttribute(element,"style",PLACEHOLDER_STYLE$static,";");this._originalTitle$zvSy=com.coremedia.cms.editor.sdk.components.DomElementUtils.getAttribute(element,"title");this._originalSrc$zvSy=com.coremedia.cms.editor.sdk.components.DomElementUtils.getAttribute(element,
"src");if(this._title$zvSy)com.coremedia.cms.editor.sdk.components.DomElementUtils.setAttribute(element,"title",this._title$zvSy);if(this._placeholderResourcePath$zvSy)com.coremedia.cms.editor.sdk.components.DomElementUtils.setAttribute(element,"src",this._placeholderResourcePath$zvSy)}function reset(element){com.coremedia.cms.editor.sdk.components.DomElementUtils.reduceOrRemoveAttribute(element,"style",PLACEHOLDER_STYLE$static,";");if(!!this._originalTitle$zvSy)com.coremedia.cms.editor.sdk.components.DomElementUtils.setAttribute(element,
"title",this._originalTitle$zvSy);else com.coremedia.cms.editor.sdk.components.DomElementUtils.removeAttribute(element,"title");if(!!this._originalSrc$zvSy)com.coremedia.cms.editor.sdk.components.DomElementUtils.setAttribute(element,"src",this._originalSrc$zvSy);else com.coremedia.cms.editor.sdk.components.DomElementUtils.removeAttribute(element,"src")}function set$title(title){this._title$zvSy=title}function get$title(){return this._title$zvSy}function set$placeholderResourcePath(placeholderResourcePath){this._placeholderResourcePath$zvSy=
placeholderResourcePath}function get$placeholderResourcePath(){return this._placeholderResourcePath$zvSy}function IconPlaceholder$(){}return{_originalTitle$zvSy:null,_originalSrc$zvSy:null,_title$zvSy:null,_placeholderResourcePath$zvSy:null,apply:apply,reset:reset,constructor:IconPlaceholder$,__accessors__:{title:{get:get$title,set:set$title},placeholderResourcePath:{get:get$placeholderResourcePath,set:set$placeholderResourcePath}},uses:["com.coremedia.cms.editor.sdk.components.DomElementUtils"]}});Ext.define("com.coremedia.cms.editor.sdk.translate.TranslationStatusSearchParameters",function(TranslationStatusSearchParameters){function TranslationStatusSearchParameters$(){}function get$targetSiteId(){return this._targetSiteId$BxLR}function set$targetSiteId(value){this._targetSiteId$BxLR=value}function get$translationStates(){return this._translationStates$BxLR}function set$translationStates(value){this._translationStates$BxLR=value}function get$excludeDeleted(){return this._excludeDeleted$BxLR}
function set$excludeDeleted(value){this._excludeDeleted$BxLR=value}return{_targetSiteId$BxLR:null,_translationStates$BxLR:null,_excludeDeleted$BxLR:false,constructor:TranslationStatusSearchParameters$,__accessors__:{targetSiteId:{get:get$targetSiteId,set:set$targetSiteId},translationStates:{get:get$translationStates,set:set$translationStates},excludeDeleted:{get:get$excludeDeleted,set:set$excludeDeleted}}}});Ext.define("com.coremedia.cms.editor.sdk.translate.TranslationStatusSearchUtil",function(TranslationStatusSearchUtil){var FOLDERPATH_FIELD$static="folderpath";var TRANSLATION_STATE_FIELD_PREFIX$static="translationstate_";var LATEST_VERSION_FIELD$static="latestversion";var IS_CHECKED_OUT_FIELD$static="ischeckedout";var STATUS_FIELD$static="status";var STATUS_DELETED$static="3";var EMPTY_RESULT_QUERY$static="INVALID:INVALID";function search$static(searchParameters){var searchServiceParameters=AS3.cast(com.coremedia.cap.content.search.SearchParameters,
{});var query=TranslationStatusSearchUtil.buildQuery(searchParameters);if(searchParameters.excludeDeleted)query=com.coremedia.cms.editor.sdk.util.FormatUtil.format("({0}) AND -{1}:{2}",query,STATUS_FIELD$static,STATUS_DELETED$static);searchServiceParameters.filterQuery?searchServiceParameters.filterQuery.push(query):searchServiceParameters.filterQuery=[query];var excludedContent=com.coremedia.cms.editor.sdk.editorContext.getContentTypesExcludedFromSearchResult().concat(new Array("Folder_"));searchServiceParameters.filterQuery.push(com.coremedia.cms.editor.sdk.collectionview.search.SearchQueryUtil.buildExcludeContentTypesQuery(excludedContent));
return com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getSearchService().search(searchServiceParameters)}function buildQuery$static(searchParameters){if(!searchParameters.translationStates)return EMPTY_RESULT_QUERY$static;var sitesService=com.coremedia.cms.editor.sdk.editorContext.getSitesService();var derivedSiteId=searchParameters.targetSiteId;if(!derivedSiteId)return null;if(derivedSiteId===TranslationStatusSearchUtil.PREFERRED_SITE_ID)derivedSiteId=sitesService.getPreferredSiteId();
var derivedSite=sitesService.getSite(derivedSiteId);if(!derivedSite)return EMPTY_RESULT_QUERY$static;if(!derivedSite.isLanguageTranslationTargetSite())return EMPTY_RESULT_QUERY$static;var masterSite=derivedSite.getMasterSite();if(!masterSite)return EMPTY_RESULT_QUERY$static;var translationStateQuery=searchParameters.translationStates.map(createQueryForTranslationState).join(" OR ");if(!translationStateQuery)return EMPTY_RESULT_QUERY$static;var masterSiteRootFolder=masterSite.getSiteRootFolder();return com.coremedia.cms.editor.sdk.util.FormatUtil.format("{0}:\x3c{1}\x3e AND ({2})",
FOLDERPATH_FIELD$static,masterSiteRootFolder.getUriPath(),translationStateQuery);function createQueryForTranslationState(translationState){var query;if(translationState===com.coremedia.cms.editor.sdk.translate.TranslationStatusUtil.NEW_IN_MASTER)query=com.coremedia.cms.editor.sdk.util.FormatUtil.format("(*:* NOT {0}{1}:* AND ((*:* NOT {2}:{3}) OR {4}:{5}))",TRANSLATION_STATE_FIELD_PREFIX$static,TranslationStatusSearchUtil.escapeForQuery(derivedSiteId),LATEST_VERSION_FIELD$static,"1",IS_CHECKED_OUT_FIELD$static,
"false");else query=com.coremedia.cms.editor.sdk.util.FormatUtil.format("({0}{1}:{2})",TRANSLATION_STATE_FIELD_PREFIX$static,TranslationStatusSearchUtil.escapeForQuery(derivedSiteId),translationState);return query}}function getSite$static(siteId){if(!siteId)return null;var sitesService=com.coremedia.cms.editor.sdk.editorContext.getSitesService();var actualSiteId=siteId===TranslationStatusSearchUtil.PREFERRED_SITE_ID?sitesService.getPreferredSiteId():siteId;return sitesService.getSite(actualSiteId)}
function escapeForQuery$static(s){return TranslationStatusSearchUtil.escapeForSolrQuery(TranslationStatusSearchUtil.escapeForCoreMediaFilterQuery(s))}function escapeForSolrQuery$static(s){var specials=["+","-","\x26","!","(",")","{","}","[","]","^",'"',"~","*","?",":","\\"];var regexp=new RegExp("(\\"+specials.join("|\\")+")","g");return s.replace(regexp,"\\$1")}function escapeForCoreMediaFilterQuery$static(s){return s.replace(/([<>])/g,"$1$1")}function TranslationStatusSearchUtil$(){}return{constructor:TranslationStatusSearchUtil$,
statics:{PREFERRED_SITE_ID:"com.coremedia.preferredSite",search:search$static,buildQuery:buildQuery$static,getSite:getSite$static,escapeForQuery:escapeForQuery$static,escapeForSolrQuery:escapeForSolrQuery$static,escapeForCoreMediaFilterQuery:escapeForCoreMediaFilterQuery$static},requires:["com.coremedia.cap.common.SESSION","com.coremedia.cap.content.search.SearchParameters"],uses:["com.coremedia.cms.editor.sdk.collectionview.search.SearchQueryUtil","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.translate.TranslationStatusUtil",
"com.coremedia.cms.editor.sdk.util.FormatUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.translate.AvailableLocalesComboBoxBase",function(AvailableLocalesComboBoxBase){function AvailableLocalesComboBoxBase$(config){if(arguments.length<=0)config=null;this.super$FQpu(config)}function getLocalesExpression(addEmptyItem){if(!this.localesExpression$FQpu){this.addEmptyItem$FQpu=addEmptyItem;this.localesExpression$FQpu=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"getLocales$FQpu"))}return this.localesExpression$FQpu}function getLocales(){var availableLocalesExpression=
AS3.as(com.coremedia.cms.editor.sdk.editorContext,com.coremedia.cms.editor.sdk.EditorContextImpl).getLocalesService().getAvailableLocalesExpression();var value=AS3.as(availableLocalesExpression.getValue(),Object);if(!value)return undefined;var result=[];if(this.addEmptyItem$FQpu)result.push({"id":"","displayName":"---"});for(var languageTag in value)if(value.hasOwnProperty(languageTag)){var locale=value[languageTag];result.push({"id":languageTag,"displayName":locale?locale.getDisplayName():languageTag})}return result}
return{extend:"com.coremedia.ui.components.LocalComboBox",localesExpression$FQpu:null,addEmptyItem$FQpu:false,constructor:AvailableLocalesComboBoxBase$,super$FQpu:function(){com.coremedia.ui.components.LocalComboBox.prototype.constructor.apply(this,arguments)},getLocalesExpression:getLocalesExpression,getLocales$FQpu:getLocales,requires:["com.coremedia.ui.components.LocalComboBox","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.sdk.EditorContextImpl","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.translate.AvailableLocalesComboBox",function(AvailableLocalesComboBox){function AvailableLocalesComboBox$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.translate.AvailableLocalesComboBoxBase,{});var defaults_$1=AS3.cast(AvailableLocalesComboBox,{});AS3.setBindable(defaults_$1,"addEmptyItem",false);config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.allowBlank=false;config_$1.anyMatch=true;config_$1.valueField=
"id";AS3.setBindable(config_$1,"displayField","displayName");AS3.setBindable(config_$1,"encodeItems",true);var ui_BindPropertyPlugin_42_5_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_42_5_$1.bindTo=AS3.getBindable(config,"bindTo").extendBy(AS3.getBindable(config,"propertyName"));ui_BindPropertyPlugin_42_5_$1.bidirectional=true;var ui_BindListPlugin_44_5_$1=AS3.cast(com.coremedia.ui.plugins.BindListPlugin,{});AS3.setBindable(ui_BindListPlugin_44_5_$1,"bindTo",this.getLocalesExpression(AS3.getBindable(config,
"addEmptyItem")));AS3.setBindable(ui_BindListPlugin_44_5_$1,"sortField","displayName");var ui_DataField_47_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_47_9_$1.name="id";var ui_DataField_48_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_48_9_$1.name="displayName";ui_DataField_48_9_$1.sortType=AS3.bind(Ext.data.SortTypes,"asUCString");ui_DataField_48_9_$1.encode=false;AS3.setBindable(ui_BindListPlugin_44_5_$1,"fields",[ui_DataField_47_9_$1,ui_DataField_48_9_$1]);
config_$1.plugins=[ui_BindPropertyPlugin_42_5_$1,ui_BindListPlugin_44_5_$1];config_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$das7(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.translate.AvailableLocalesComboBoxBase",alias:"widget.com.coremedia.cms.editor.sdk.config.availableLocalesComboBox",constructor:AvailableLocalesComboBox$,super$das7:function(){com.coremedia.cms.editor.sdk.translate.AvailableLocalesComboBoxBase.prototype.constructor.apply(this,
arguments)},config:{bindTo:null,propertyName:null,addEmptyItem:false},requires:["Ext.data.SortTypes","com.coremedia.cms.editor.sdk.translate.AvailableLocalesComboBoxBase","com.coremedia.ui.plugins.BindListPlugin","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.store.DataField","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.translate.TranslationStatusUtil",function(TranslationStatusUtil){function getTranslationStatus$static(content){return TranslationStatusUtil.getTranslationStatusAgainstVersion(content,null)}function getTranslationStatusAgainstVersion$static(content,masterVersion){var sitesService=com.coremedia.cms.editor.sdk.editorContext.getSitesService();var master=sitesService.getMaster(content);if(master===undefined)return undefined;if(!master)return TranslationStatusUtil.NO_MASTER;
AS3.cast(com.coremedia.ui.data.impl.BeanImpl,master).dependencyOnValue();if(!master.isLoaded()){master.load();return undefined}if(master.isDestroyed())return TranslationStatusUtil.NO_MASTER;masterVersion=masterVersion||getLatestCheckedInVersion$static(master);if(masterVersion===undefined)return undefined;if(masterVersion===null)return TranslationStatusUtil.INVALID;if(!masterVersion.isLoaded()){masterVersion.load();return undefined}if(masterVersion.isDestroyed())return TranslationStatusUtil.MASTER_VERSION_DESTROYED;
var ignoreUpdates=content.getProperties().get(sitesService.getSiteModel().getIgnoreUpdatesProperty());if(AS3.is(ignoreUpdates,Number)&&ignoreUpdates===1)return TranslationStatusUtil.IGNORE_UPDATES;var masterVersionRaw=content.getProperties().get(sitesService.getSiteModel().getMasterVersionProperty());if(masterVersionRaw===undefined||masterVersionRaw===null||masterVersionRaw<0)return TranslationStatusUtil.NOT_LOCALIZED_YET;var masterVersionNumber=masterVersionRaw;var masterVersionNumberToTranslate=
masterVersion.getVersionNumber();if(masterVersionNumberToTranslate<masterVersionNumber)return TranslationStatusUtil.INVALID;if(masterVersionNumber===masterVersionNumberToTranslate)return TranslationStatusUtil.UP_TO_DATE;return TranslationStatusUtil.NOT_UP_TO_DATE}function getLatestCheckedInVersion$static(content){if(content.isCheckedOut())return content.getCheckedOutVersion();return content.getCheckedInVersion()}function getTranslationStatusText$static(status,role){return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor",
"TranslationStatus_"+role+"_"+status+"_text")||""}function getTranslationStatusTooltip$static(status,role){return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","TranslationStatus_"+role+"_"+status+"_tooltip")||""}function TranslationStatusUtil$(){}return{constructor:TranslationStatusUtil$,statics:{NO_MASTER:"no-master",UP_TO_DATE:"up-to-date",NOT_LOCALIZED_YET:"not-localized-yet",NOT_UP_TO_DATE:"not-up-to-date",MASTER_VERSION_DESTROYED:"master-version-destroyed",
IGNORE_UPDATES:"ignore-updates",INVALID:"invalid",PSEUDO_STATE_IN_TRANSLATION:"in-translation",NEW_IN_MASTER:"new-in-master",STATUS_ROLE_TRANSLATOR:"translator",STATUS_ROLE_PROVIDER:"provider",getTranslationStatus:getTranslationStatus$static,getTranslationStatusAgainstVersion:getTranslationStatusAgainstVersion$static,getTranslationStatusText:getTranslationStatusText$static,getTranslationStatusTooltip:getTranslationStatusTooltip$static},requires:["com.coremedia.cms.editor.Editor_properties","com.coremedia.ui.data.impl.BeanImpl",
"mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.translate.SynchronizationProcessVariableNames",function(SynchronizationProcessVariableNames){function SynchronizationProcessVariableNames$(){}return{constructor:SynchronizationProcessVariableNames$,statics:{SYNCHRONIZATION_WORKFLOW:"Synchronization",PARENT_SITE_ID_VARIABLE:"parentSiteId",COMMENT_VARIABLE:"comment",MASTER_CONTENT_OBJECTS_VARIABLE:"masterContentObjects",SITE_ID_VARIABLE:"siteId"}}});Ext.define("com.coremedia.cms.editor.sdk.translate.TranslationProcessVariableNames",function(TranslationProcessVariableNames){function TranslationProcessVariableNames$(){}return{constructor:TranslationProcessVariableNames$,statics:{SUBJECT_VARIABLE:"subject",COMMENT_VARIABLE:"comment",DERIVED_CONTENTS_VARIABLE:"derivedContents",MASTER_CONTENT_OBJECTS_VARIABLE:"masterContentObjects",TARGET_SITE_ID_VARIABLE:"targetSiteId",AUTO_MERGE_CONFLICTS_VARIABLE:"autoMergeConflicts",AUTO_SELF_ASSIGNED_VARIABLE:"autoSelfAssigned"}}});Ext.define("com.coremedia.cms.editor.sdk.translate.TranslationWorkflowUtil",function(TranslationWorkflowUtil){var versionsToBeTranslatedByContentUriPathValueExpression$static=null;function getTranslationStatus$static(derivedContent,process){if(!process)return undefined;if(!process.isLoaded()){process.load();return undefined}if(!derivedContent.isLoaded()){derivedContent.load();return undefined}var sitesService=com.coremedia.cms.editor.sdk.editorContext.getSitesService();var master=sitesService.getMaster(derivedContent);
if(master===undefined)return undefined;var masterContentObjects=process.getProperties().get(com.coremedia.cms.editor.sdk.translate.TranslationProcessVariableNames.MASTER_CONTENT_OBJECTS_VARIABLE);for(var i=0;i<masterContentObjects.length;i++){var masterContentObject=masterContentObjects[i];var isMasterContentObjectAVersion=masterContentObject.isVersion();if(masterContentObject.getUriPath().indexOf(master.getUriPath())===0){var masterVersion=isMasterContentObjectAVersion?AS3.cast(com.coremedia.cap.content.Version,
masterContentObject):null;return com.coremedia.cms.editor.sdk.translate.TranslationStatusUtil.getTranslationStatusAgainstVersion(derivedContent,masterVersion)}}return com.coremedia.cms.editor.sdk.translate.TranslationStatusUtil.INVALID}function getVersionToBeTranslated$static(content){if(!versionsToBeTranslatedByContentUriPathValueExpression$static)versionsToBeTranslatedByContentUriPathValueExpression$static=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(getVersionsToBeTranslatedByContentUriPath$static);
var versionsToBeTranslatedByContentUriPath=versionsToBeTranslatedByContentUriPathValueExpression$static.getValue();if(!versionsToBeTranslatedByContentUriPath)return undefined;return versionsToBeTranslatedByContentUriPath[content.getUriPath()]||null}function getVersionsToBeTranslatedByContentUriPath$static(){var result={};var returnUndefined=false;var acceptedTasks=com.coremedia.cap.common.SESSION.getConnection().getWorkflowRepository().getWorklistService().getTasksAccepted();for(var i=0;i<acceptedTasks.length;i++){var task=
acceptedTasks[i];var process=task.getContainingProcess();if(!process){returnUndefined=true;continue}var processDefinition=process.getDefinition();if(!processDefinition){returnUndefined=true;continue}var processDefinitionName=processDefinition.getName();if(processDefinitionName===undefined){returnUndefined=true;continue}if(processDefinitionName.indexOf("Translation")!=-1){var masterContentObjects=process.getProperties().get(com.coremedia.cms.editor.sdk.translate.TranslationProcessVariableNames.MASTER_CONTENT_OBJECTS_VARIABLE);
if(masterContentObjects)for(var j=0;j<masterContentObjects.length;j++){var contentObject=masterContentObjects[j];if(AS3.is(contentObject,com.coremedia.cap.content.Version)){var version=AS3.cast(com.coremedia.cap.content.Version,contentObject);var containingContent=version.getContainingContent();var uriPath=containingContent.getUriPath();var existingVersion=result[uriPath];if(!existingVersion||existingVersion.getVersionNumber()<version.getVersionNumber())result[uriPath]=version}}else if(process.getState()===
com.coremedia.ui.data.BeanState.UNKNOWN)returnUndefined=true}}if(returnUndefined)return undefined;return result}function TranslationWorkflowUtil$(){}return{constructor:TranslationWorkflowUtil$,statics:{getTranslationStatus:getTranslationStatus$static,getVersionToBeTranslated:getVersionToBeTranslated$static},requires:["com.coremedia.cap.common.SESSION","com.coremedia.cap.content.Version","com.coremedia.ui.data.BeanState","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.sdk.editorContext",
"com.coremedia.cms.editor.sdk.translate.TranslationProcessVariableNames","com.coremedia.cms.editor.sdk.translate.TranslationStatusUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.LinkListCutAction",function(LinkListCutAction){function ACTION_ID$static_(){LinkListCutAction.ACTION_ID=com.coremedia.cms.editor.sdk.clipboard.CutToClipboardAction.ACTION_ID}function LinkListCutAction$(config){if(arguments.length<=0)config=null;this.super$zEar(config)}function defaultHandler(){var clipboard=com.coremedia.cms.editor.sdk.clipboard.Clipboard.getInstance();var valuesToCut=this.getSelectedValues();if(valuesToCut.length>0)clipboard.setValue(valuesToCut,
com.coremedia.cms.editor.sdk.clipboard.Clipboard.CUTLINK);var positionsToCut=this.getSelectedPositions();this.linkListWrapper.removeLinksAtIndexes(positionsToCut)}function createIconCls(){return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_cutToClipboard_icon")}function calculateDisabled(){return this.isNothingSelected()||com.coremedia.cms.editor.sdk.actions.AbstractLinkListAction.prototype.calculateDisabled.call(this)}return{extend:"com.coremedia.cms.editor.sdk.actions.AbstractLinkListAction",
metadata:{"":["PublicApi"]},constructor:LinkListCutAction$,super$zEar:function(){com.coremedia.cms.editor.sdk.actions.AbstractLinkListAction.prototype.constructor.apply(this,arguments)},defaultHandler:defaultHandler,createIconCls:createIconCls,calculateDisabled:calculateDisabled,statics:{ACTION_ID:undefined,__initStatics__:function(){ACTION_ID$static_()}},requires:["com.coremedia.cms.editor.sdk.actions.AbstractLinkListAction","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.clipboard.Clipboard",
"com.coremedia.cms.editor.sdk.clipboard.CutToClipboardAction"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.ShowInRepositoryActionBase",function(ShowInRepositoryActionBase){function ShowInRepositoryActionBase$(config){this.super$j1tU(AS3.cast(com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig({handler:AS3.bind(this,"showInRepository$j1tU")},"showInTree",config)));this.view$j1tU=AS3.getBindable(config,"view");this.treeModelId$j1tU=AS3.getBindable(config,"treeModelId")}function isDisabledFor(contents){return contents.some(function(content){return!com.coremedia.ui.data.RemoteBeanUtil.isAccessible(content)||
content.isDeleted()})}function calculateDisabled(){if(this.getContents().length!==1)return true;return com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.calculateDisabled.call(this)}function showInRepository(){var content=this.getContents()[0];var contentTypeName=content.getType().getName();com.coremedia.cms.editor.sdk.editorContext.getCollectionViewExtender().getContentTreeRelation(contentTypeName).showInTree(this.getContents(),this.view$j1tU,this.treeModelId$j1tU)}return{extend:"com.coremedia.cms.editor.sdk.actions.ContentAction",
mixins:["com.coremedia.ui.actions.ValueExpressionAction"],metadata:{"":["PublicApi"]},view$j1tU:null,treeModelId$j1tU:null,constructor:ShowInRepositoryActionBase$,super$j1tU:function(){com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.constructor.apply(this,arguments)},isDisabledFor:isDisabledFor,calculateDisabled:calculateDisabled,showInRepository$j1tU:showInRepository,requires:["com.coremedia.cms.editor.sdk.actions.ContentAction","com.coremedia.ui.actions.ValueExpressionAction","com.coremedia.ui.data.RemoteBeanUtil"],
uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil","com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.RenameTabContentActionBase",function(RenameTabContentActionBase){function RenameTabContentActionBase$(config){if(arguments.length<=0)config=null;AS3.setBindable(config,"handler",AS3.bind(this,"doRename$XQrq"));this.super$XQrq(config)}function doRename(){var title=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_renameTabContentAction_title_text");var message=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions",
"Action_renameTabContentAction_message_text");var clickedContent=this.getContextClickedContent();var callback=function(btn,newName){if(btn==="ok"){var collectionViewExtender=com.coremedia.cms.editor.sdk.editorContext.getCollectionViewExtender();collectionViewExtender.findExtension(clickedContent,function(extension){if(extension){var treeRelation=extension.getContentTreeRelation();treeRelation.rename(clickedContent,Ext.String.trim(newName))}})}};var value=clickedContent.getName();com.coremedia.cms.editor.sdk.util.MessageBoxUtil.prompt(title,
message,callback,value)}function checkHidden(){return!this.getContextClickedContent()}return{extend:"com.coremedia.cms.editor.sdk.actions.AbstractTabContextMenuContentAction",constructor:RenameTabContentActionBase$,super$XQrq:function(){com.coremedia.cms.editor.sdk.actions.AbstractTabContextMenuContentAction.prototype.constructor.apply(this,arguments)},doRename$XQrq:doRename,checkHidden:checkHidden,requires:["Ext.String","com.coremedia.cms.editor.sdk.actions.AbstractTabContextMenuContentAction","com.coremedia.cms.editor.sdk.actions.Actions_properties",
"mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.util.MessageBoxUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.ShowRepositoryActionBase",function(ShowRepositoryActionBase){function ShowRepositoryActionBase$(config){if(arguments.length<=0)config=null;this.super$m4CP(config);this.state$m4CP=new com.coremedia.cms.editor.sdk.collectionview.RepositoryState;this.state$m4CP.folder=AS3.getBindable(config,"folder");this.reset$m4CP=!AS3.getBindable(config,"preserveFolder");this.view$m4CP=AS3.getBindable(config,"view");this.setHandler(AS3.bind(this,"showCollectionView$m4CP"),
this)}function showCollectionView(){var collectionViewManager=com.coremedia.cms.editor.sdk.editorContext.getCollectionViewManager();collectionViewManager.openRepository(this.state$m4CP,this.reset$m4CP,this.view$m4CP)}return{extend:"Ext.Action",metadata:{"":["PublicApi"]},state$m4CP:null,reset$m4CP:false,view$m4CP:null,constructor:ShowRepositoryActionBase$,super$m4CP:function(){Ext.Action.prototype.constructor.apply(this,arguments)},showCollectionView$m4CP:showCollectionView,requires:["Ext.Action"],
uses:["com.coremedia.cms.editor.sdk.collectionview.RepositoryState","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.ShowCollectionViewInCurrentSiteActionBase",function(ShowCollectionViewInCurrentSiteActionBase){function ShowCollectionViewInCurrentSiteActionBase$(config){if(arguments.length<=0)config=null;this.super$x$EN(config)}function showCollectionView(){this.updateState$x$EN();com.coremedia.cms.editor.sdk.actions.ShowCollectionViewAction.prototype.showCollectionView.call(this)}function updateState(){if(this.initialConfig.bindTo){var content=AS3.as(this.initialConfig.bindTo.getValue(),
com.coremedia.cap.content.Content);if(content){var site=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getSiteFor(content);if(site)this.state.folder=site.getSiteRootFolder()}}}return{extend:"com.coremedia.cms.editor.sdk.actions.ShowCollectionViewAction",metadata:{"":["PublicApi"]},constructor:ShowCollectionViewInCurrentSiteActionBase$,super$x$EN:function(){com.coremedia.cms.editor.sdk.actions.ShowCollectionViewAction.prototype.constructor.apply(this,arguments)},showCollectionView:showCollectionView,
updateState$x$EN:updateState,requires:["com.coremedia.cap.content.Content","com.coremedia.cms.editor.sdk.actions.ShowCollectionViewAction"],uses:["com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.CopyContentAction",function(CopyContentAction){function CopyContentAction$(toCopy,target){this.toCopy$HDMF=toCopy;this.target$HDMF=target}function execute(onSuccess){if(arguments.length<=0)onSuccess=null;this.onSuccess$HDMF=onSuccess;var helper=new com.coremedia.cms.editor.sdk.actions.LargeOperationHelper(this.toCopy$HDMF,AS3.bind(this,"loadContent$HDMF"),AS3.bind(this,"showConfirmationLargeOperation$HDMF"));helper.checkLargeOperation()}function loadContent(){com.coremedia.ui.data.RemoteBeanUtil.loadAll(AS3.bind(this,
"executeAfterLoadAffectedContents$HDMF"),this.toCopy$HDMF,this.target$HDMF)}function executeAfterLoadAffectedContents(){this.copyContent$HDMF()}function copyContent(){var this$=this;com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var folderType=this$.target$HDMF.getType();if(folderType===undefined)return undefined;var collectionViewExtender=com.coremedia.cms.editor.sdk.editorContext.getCollectionViewExtender();var collectionViewExtension=collectionViewExtender.getExtension(this$.target$HDMF);
if(collectionViewExtension===undefined)return undefined;return collectionViewExtension}).loadValue(function(collectionViewExtension){if(collectionViewExtension){var folderTreeRelation=collectionViewExtension.getContentTreeRelation();folderTreeRelation.copy(this$.toCopy$HDMF,this$.target$HDMF,this$.onSuccess$HDMF)}})}function showConfirmationLargeOperation(documentCounter){this.showConfirmationMessageBox$HDMF(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","dialog_confirmLargeCopyOperationTitle_text"),
mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","dialog_confirmLargeCopyOperationMessage_text",[documentCounter]),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","dialog_confirmLargeCopyOperationOkButtonText_text"))}function showConfirmationMessageBox(title,message,okButtonText){var this$=this;com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showConfirmation(title,message,okButtonText,function(btn){if("ok"===btn)this$.loadContent$HDMF()})}
return{toCopy$HDMF:null,target$HDMF:null,onSuccess$HDMF:null,constructor:CopyContentAction$,execute:execute,loadContent$HDMF:loadContent,executeAfterLoadAffectedContents$HDMF:executeAfterLoadAffectedContents,copyContent$HDMF:copyContent,showConfirmationLargeOperation$HDMF:showConfirmationLargeOperation,showConfirmationMessageBox$HDMF:showConfirmationMessageBox,requires:["com.coremedia.ui.data.RemoteBeanUtil","com.coremedia.ui.data.ValueExpressionFactory","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.actions.LargeOperationHelper",
"com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.util.MessageBoxUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.OpenBlobAction",function(OpenBlobAction){function OpenBlobAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenBlobActionBase,{});var defaults_$1=AS3.cast(OpenBlobAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$aXj8(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.OpenBlobActionBase",constructor:OpenBlobAction$,
super$aXj8:function(){com.coremedia.cms.editor.sdk.actions.OpenBlobActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.actions.OpenBlobActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.metadata.MetadataBeanAction",function(MetadataBeanAction){function MetadataBeanAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.metadata.MetadataBeanActionBase,{});var defaults_$1=AS3.cast(MetadataBeanAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$TOYf(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.metadata.MetadataBeanActionBase",
metadata:{"":["PublicApi"]},constructor:MetadataBeanAction$,super$TOYf:function(){com.coremedia.cms.editor.sdk.actions.metadata.MetadataBeanActionBase.prototype.constructor.apply(this,arguments)},config:{useParentNode:false},requires:["com.coremedia.cms.editor.sdk.actions.metadata.MetadataBeanActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.metadata.ShowMetadataIconDisplayFieldActionBase",function(ShowMetadataIconDisplayFieldActionBase){function ShowMetadataIconDisplayFieldActionBase$(config){if(arguments.length<=0)config=null;this.super$kolu(config);var summaryVE=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"getSummaryInfo$kolu"));summaryVE.addChangeListener(AS3.bind(this,"updateView$kolu"))}function isDisabledFor(metadata){return!this.getBeanForMetadata(metadata)}
function updateToolTip(text,ellipsisText){if(this.itemMenuTitleToolTip$kolu&&this.itemMenuTitleToolTip$kolu.html!==text){this.itemMenuTitleToolTip$kolu.destroy();this.itemMenuTitleToolTip$kolu=undefined}if(!this.itemMenuTitleToolTip$kolu&&text!==ellipsisText){var itemMenuTitle,toolTipConfig;itemMenuTitle=this["items"][0].getEl();toolTipConfig=AS3.cast(Ext.tip.ToolTip,{});toolTipConfig.trackMouse=true;AS3.setBindable(toolTipConfig,"html",text);this.itemMenuTitleToolTip$kolu=new Ext.tip.ToolTip(toolTipConfig);
this.itemMenuTitleToolTip$kolu.setTarget(itemMenuTitle)}}function getSummaryInfo(metadata){var firstBeanParentNode=com.coremedia.cms.editor.sdk.preview.MetadataHelper.getFirstBeanParentNode(metadata||this.getMetadata());var result=undefined;if(firstBeanParentNode){var rendererRegistry=AS3.cast(com.coremedia.cms.editor.sdk.EditorContextImpl,com.coremedia.cms.editor.sdk.editorContext).getMetadataNodeRendererRegistry();result={text:rendererRegistry.renderText(firstBeanParentNode),icon:rendererRegistry.renderIconCls(firstBeanParentNode)}}return result}
function updateView(summaryInfoVE){var summaryInfo=summaryInfoVE.getValue();if(summaryInfo){var text=com.coremedia.ui.util.EncodingUtil.encodeForHTML(summaryInfo.text);var ellipsisText=Ext.util.Format.ellipsis(text,30,true);this.setText(ellipsisText);this.setIconCls(summaryInfo.icon);this.show();this.updateToolTip(text,ellipsisText)}}return{extend:"com.coremedia.cms.editor.sdk.actions.metadata.MetadataBeanAction",itemMenuTitleToolTip$kolu:null,constructor:ShowMetadataIconDisplayFieldActionBase$,super$kolu:function(){com.coremedia.cms.editor.sdk.actions.metadata.MetadataBeanAction.prototype.constructor.apply(this,
arguments)},isDisabledFor:isDisabledFor,updateToolTip:updateToolTip,getSummaryInfo$kolu:getSummaryInfo,updateView$kolu:updateView,requires:["Ext.tip.ToolTip","Ext.util.Format","com.coremedia.cms.editor.sdk.actions.metadata.MetadataBeanAction","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.util.EncodingUtil"],uses:["com.coremedia.cms.editor.sdk.EditorContextImpl","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.preview.MetadataHelper"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.metadata.ShowMetadataIconDisplayFieldAction",function(ShowMetadataIconDisplayFieldAction){function ShowMetadataIconDisplayFieldAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.metadata.ShowMetadataIconDisplayFieldActionBase,{});var defaults_$1=AS3.cast(ShowMetadataIconDisplayFieldAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);
this.super$iqo7(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.metadata.ShowMetadataIconDisplayFieldActionBase",constructor:ShowMetadataIconDisplayFieldAction$,super$iqo7:function(){com.coremedia.cms.editor.sdk.actions.metadata.ShowMetadataIconDisplayFieldActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.actions.metadata.ShowMetadataIconDisplayFieldActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.metadata.MetadataToContentActionAdapter",function(MetadataToContentActionAdapter){function MetadataToContentActionAdapter$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.metadata.MetadataToContentActionAdapterBase,{});var defaults_$1=AS3.cast(MetadataToContentActionAdapter,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$UIL_(config_$1)}
return{extend:"com.coremedia.cms.editor.sdk.actions.metadata.MetadataToContentActionAdapterBase",metadata:{"":["PublicApi"]},constructor:MetadataToContentActionAdapter$,super$UIL_:function(){com.coremedia.cms.editor.sdk.actions.metadata.MetadataToContentActionAdapterBase.prototype.constructor.apply(this,arguments)},config:{backingAction:null},requires:["com.coremedia.cms.editor.sdk.actions.metadata.MetadataToContentActionAdapterBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.metadata.MetadataBeanActionBase",function(MetadataBeanActionBase){function MetadataBeanActionBase$(config){if(arguments.length<=0)config=null;this.useParentNode$teSQ=AS3.getBindable(config,"useParentNode");this.super$teSQ(config)}function getBeanForMetadata(metadata){return AS3.as(com.coremedia.cms.editor.sdk.preview.MetadataHelper.getBeanMetadataValue(this.getBeanMetadataNodeForMetadata$teSQ(metadata)),com.coremedia.ui.data.Bean)}function getBeanMetadataNodeForMetadata(metadata){var beanNode=
com.coremedia.cms.editor.sdk.preview.MetadataHelper.isBeanMetadataNode(metadata)?metadata:undefined;if(this.useParentNode$teSQ)beanNode=com.coremedia.cms.editor.sdk.preview.MetadataHelper.getFirstBeanParentNode(metadata);return beanNode}return{extend:"com.coremedia.cms.editor.sdk.actions.metadata.MetadataAction",metadata:{"":["PublicApi"]},useParentNode$teSQ:false,constructor:MetadataBeanActionBase$,super$teSQ:function(){com.coremedia.cms.editor.sdk.actions.metadata.MetadataAction.prototype.constructor.apply(this,
arguments)},getBeanForMetadata:getBeanForMetadata,getBeanMetadataNodeForMetadata$teSQ:getBeanMetadataNodeForMetadata,requires:["com.coremedia.cms.editor.sdk.actions.metadata.MetadataAction","com.coremedia.ui.data.Bean"],uses:["com.coremedia.cms.editor.sdk.preview.MetadataHelper"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.metadata.MetadataToContentActionAdapterBase",function(MetadataToContentActionAdapterBase){function MetadataToContentActionAdapterBase$(config){if(arguments.length<=0)config=null;this.backingContentAction$RR5l=AS3.getBindable(config,"backingAction");var newConfig=AS3.cast(com.coremedia.cms.editor.sdk.actions.metadata.MetadataToContentActionAdapter,Ext.apply({iconCls:this.backingContentAction$RR5l.getIconCls(),text:this.backingContentAction$RR5l.getText(),
handler:AS3.bind(this,"delegateToBackingAction$RR5l")},config));this.super$RR5l(newConfig)}function isDisabledFor(metadata){this.updateBackingContentAction$RR5l(metadata);return this.backingContentAction$RR5l["calculateDisabled"]()}function delegateToBackingAction(){this.updateBackingContentAction$RR5l(this.getMetadata());this.backingContentAction$RR5l.execute()}function updateBackingContentAction(metadata){var metadataContent=this.getContentForMetadata$RR5l(metadata);var contentArray=[];if(metadataContent)contentArray.push(metadataContent);
this.backingContentAction$RR5l.setContents(contentArray)}function getContentForMetadata(metadata){return AS3.as(this.getBeanForMetadata(metadata),com.coremedia.cap.content.Content)}return{extend:"com.coremedia.cms.editor.sdk.actions.metadata.MetadataBeanAction",metadata:{"":["PublicApi"]},backingContentAction$RR5l:null,constructor:MetadataToContentActionAdapterBase$,super$RR5l:function(){com.coremedia.cms.editor.sdk.actions.metadata.MetadataBeanAction.prototype.constructor.apply(this,arguments)},
isDisabledFor:isDisabledFor,delegateToBackingAction$RR5l:delegateToBackingAction,updateBackingContentAction$RR5l:updateBackingContentAction,getContentForMetadata$RR5l:getContentForMetadata,requires:["Ext","com.coremedia.cap.content.Content","com.coremedia.cms.editor.sdk.actions.metadata.MetadataBeanAction"],uses:["com.coremedia.cms.editor.sdk.actions.metadata.MetadataToContentActionAdapter"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.metadata.MetadataActionBase",function(MetadataActionBase){function MetadataActionBase$(config){if(arguments.length<=0)config=null;this.super$tNpA(config);this.metadataValueExpression$tNpA=com.coremedia.ui.data.ValueExpressionFactory.createFromValue();if(AS3.getBindable(config,"metadata"))this.metadataValueExpression$tNpA.setValue(AS3.getBindable(config,"metadata"));this.hideOnDisable$tNpA=AS3.getBindable(config,"hideOnDisable")?AS3.getBindable(config,
"hideOnDisable"):false}function getValueExpression(){return this.metadataValueExpression$tNpA}function setMetadata(metadata){this.metadataValueExpression$tNpA.setValue(metadata)}function isDisabledFor(metadata){return false}function isDisabledOrNoMetadata(){var metadata=this.getMetadata();return!metadata||this.isDisabledFor(metadata)}function calculateDisabled(){return!this.hideOnDisable$tNpA&&this.isDisabledOrNoMetadata$tNpA()}function calculateHidden(){return this.hideOnDisable$tNpA&&this.isDisabledOrNoMetadata$tNpA()}
function getMetadata(){return AS3.as(this.metadataValueExpression$tNpA.getValue(),com.coremedia.cms.editor.sdk.preview.metadata.MetadataTreeNode)}return{extend:"com.coremedia.ui.actions.DependencyTrackedAction",mixins:["com.coremedia.ui.actions.ValueExpressionAction"],metadata:{"":["PublicApi"],setMetadata:["InjectFromExtParent",["variableNameConfig","metadataVariableName"]]},metadataValueExpression$tNpA:null,hideOnDisable$tNpA:false,constructor:MetadataActionBase$,super$tNpA:function(){com.coremedia.ui.actions.DependencyTrackedAction.prototype.constructor.apply(this,
arguments)},getValueExpression:getValueExpression,setMetadata:setMetadata,isDisabledFor:isDisabledFor,isDisabledOrNoMetadata$tNpA:isDisabledOrNoMetadata,calculateDisabled:calculateDisabled,calculateHidden:calculateHidden,getMetadata:getMetadata,requires:["com.coremedia.ui.actions.DependencyTrackedAction","com.coremedia.ui.actions.ValueExpressionAction","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.sdk.preview.metadata.MetadataTreeNode"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.metadata.MetadataAction",function(MetadataAction){function MetadataAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.metadata.MetadataActionBase,{});var defaults_$1=AS3.cast(MetadataAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$CjPP(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.metadata.MetadataActionBase",
metadata:{"":["PublicApi"]},constructor:MetadataAction$,super$CjPP:function(){com.coremedia.cms.editor.sdk.actions.metadata.MetadataActionBase.prototype.constructor.apply(this,arguments)},config:{metadata:null,metadataVariableName:null,hideOnDisable:false},requires:["com.coremedia.cms.editor.sdk.actions.metadata.MetadataActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.ContentUpdateActionBase",function(ContentUpdateActionBase){function ContentUpdateActionBase$(config){if(arguments.length<=0)config=null;if(AS3.getBindable(config,"forceReadOnlyValueExpression"))this.forceReadOnlyValueExpression$goMU=AS3.getBindable(config,"forceReadOnlyValueExpression");else this.forceReadOnlyValueExpression$goMU=com.coremedia.ui.data.ValueExpressionFactory.createFromValue();if(AS3.getBindable(config,"forceReadOnly"))this.forceReadOnlyValueExpression$goMU.setValue(AS3.getBindable(config,
"forceReadOnly"));this.super$goMU(config)}function setForceReadOnly(readOnly){if(this.forceReadOnlyValueExpression$goMU.getValue()===undefined)this.forceReadOnlyValueExpression$goMU.setValue(readOnly)}function getReadOnlyValueExpression(){if(!this.readOnlyValueExpression$goMU)this.readOnlyValueExpression$goMU=com.coremedia.cms.editor.sdk.util.PropertyEditorUtil.createReadOnlyValueExpression(this.getValueExpression(),this.forceReadOnlyValueExpression$goMU);return this.readOnlyValueExpression$goMU}
function calculateDisabled(){return this.getReadOnlyValueExpression$goMU().getValue()||com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.calculateDisabled.call(this)}return{extend:"com.coremedia.cms.editor.sdk.actions.ContentAction",metadata:{"":["PublicApi"],setForceReadOnly:["InjectFromExtParent",["variableNameConfig","forceReadOnlyVariableName"]]},forceReadOnlyValueExpression$goMU:null,readOnlyValueExpression$goMU:null,constructor:ContentUpdateActionBase$,super$goMU:function(){com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.constructor.apply(this,
arguments)},setForceReadOnly:setForceReadOnly,getReadOnlyValueExpression$goMU:getReadOnlyValueExpression,calculateDisabled:calculateDisabled,requires:["com.coremedia.cms.editor.sdk.actions.ContentAction","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.sdk.util.PropertyEditorUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.CutSelectedLinksActionBase",function(CutSelectedLinksActionBase){function CutSelectedLinksActionBase$(config){if(arguments.length<=0)config=null;var selectedPositionsExpression=AS3.getBindable(config,"selectedPositionsExpression");this.setSelectedPositionsExpression(selectedPositionsExpression?selectedPositionsExpression:com.coremedia.ui.data.ValueExpressionFactory.createFromValue([]));this.super$kIAk(AS3.cast(com.coremedia.cms.editor.sdk.actions.CutSelectedLinksAction,
com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,"cutToClipboard",{handler:AS3.bind(this,"cutSelectedLinks$kIAk")})))}function setSelectedPositions(positions){this.selectedPositionsExpression$kIAk.setValue(positions)}function setSelectedPositionsExpression(expression){this.selectedPositionsExpression$kIAk=expression}function isDisabledFor(contents){return com.coremedia.cms.editor.sdk.actions.AbstractModifyLinksAction.prototype.isDisabledFor.call(this,contents)||this.isNothingSelected$kIAk()||
this.isSomethingNotReadable$kIAk()}function isNothingSelected(){var selectedPositions=this.selectedPositionsExpression$kIAk.getValue();return!selectedPositions||selectedPositions.length===0}function isSomethingNotReadable(){var selectedPositions=this.selectedPositionsExpression$kIAk.getValue();var linkContents=this.getLinks();if(selectedPositions.length>0)for(var i=0;i<selectedPositions.length;i++){var item=linkContents[selectedPositions[i]];if(!item)return true;item.load();if(item.getState()!==com.coremedia.ui.data.BeanState.READABLE)return true}return!selectedPositions||
selectedPositions.length===0}function cutSelectedLinks(){var originalValue=this.getLinks();if(!originalValue||this.isNothingSelected$kIAk())return;var selectedPositions=this.selectedPositionsExpression$kIAk.getValue();var newValue=originalValue.filter(function(val,pos){return selectedPositions.indexOf(pos)<0});this.setLinks(newValue);var cutValue=originalValue.filter(function(val,pos){return selectedPositions.indexOf(pos)>=0});var clipboard=com.coremedia.cms.editor.sdk.clipboard.Clipboard.getInstance();
clipboard.setValue(cutValue,com.coremedia.cms.editor.sdk.clipboard.Clipboard.CUTLINK)}return{extend:"com.coremedia.cms.editor.sdk.actions.AbstractModifyLinksAction",metadata:{"":["Deprecated",["since","1710.1","replacement","com.coremedia.cms.editor.sdk.actions.LinkListCutAction"],"PublicApi"],setSelectedPositions:["InjectFromExtParent",["variableNameConfig","selectedPositionsVariableName"]]},selectedPositionsExpression$kIAk:null,constructor:CutSelectedLinksActionBase$,super$kIAk:function(){com.coremedia.cms.editor.sdk.actions.AbstractModifyLinksAction.prototype.constructor.apply(this,
arguments)},setSelectedPositions:setSelectedPositions,setSelectedPositionsExpression:setSelectedPositionsExpression,isDisabledFor:isDisabledFor,isNothingSelected$kIAk:isNothingSelected,isSomethingNotReadable$kIAk:isSomethingNotReadable,cutSelectedLinks$kIAk:cutSelectedLinks,requires:["com.coremedia.cms.editor.sdk.actions.AbstractModifyLinksAction","com.coremedia.ui.data.BeanState","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil","com.coremedia.cms.editor.sdk.actions.CutSelectedLinksAction",
"com.coremedia.cms.editor.sdk.clipboard.Clipboard"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.NewContentActionBase",function(NewContentActionBase){function NewContentActionBase$(config){if(arguments.length<=0)config=null;this.super$lFQh(AS3.cast(com.coremedia.cms.editor.sdk.actions.NewContentAction,Ext.apply({"handler":AS3.bind(this,"newDocumentHandler$lFQh")},config)));this.folderValueExpression$lFQh=AS3.getBindable(config,"folderValueExpression");this.createdContentValueExpression$lFQh=AS3.getBindable(config,"createdContentValueExpression");
this.primaryDisabledExpression$lFQh=AS3.getBindable(config,"primaryDisabledExpression");this.hideWhenDisabled$lFQh=AS3.getBindable(config,"hideWhenDisabled");this.contentType$lFQh=typeof AS3.getBindable(config,"contentType")==="string"?com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getContentType(String(AS3.getBindable(config,"contentType"))):AS3.as(AS3.getBindable(config,"contentType"),com.coremedia.cap.content.ContentType);this.name$lFQh=AS3.getBindable(config,"name")?AS3.getBindable(config,
"name"):mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_newContent_newDocumentName_text");this.disabledExpression$lFQh=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"calculateDisabled$lFQh"));this.disabledExpression$lFQh.addChangeListener(AS3.bind(this,"updateDisabledStatus$lFQh"));this.updateDisabledStatus$lFQh()}function updateDisabledStatus(){var value=this.disabledExpression$lFQh.getValue();if(this.hideWhenDisabled$lFQh)this.setHidden(value===
undefined||value);else this.setDisabled(value===undefined||value)}function calculateDisabled(){var folder=AS3.as(this.folderValueExpression$lFQh.getValue(),com.coremedia.cap.content.Content);if(!folder||this.primaryDisabledExpression$lFQh&&this.primaryDisabledExpression$lFQh.getValue()||!folder.getRepository().getAccessControl().mayCreate(folder,this.contentType$lFQh))return true;var mayCreateFunction=AS3.as(com.coremedia.cms.editor.sdk.editorContext,com.coremedia.cms.editor.sdk.EditorContextImpl).getContentCreationFilter(this.contentType$lFQh.getName());
if(mayCreateFunction){var mayCreateResult=mayCreateFunction.call(null,folder,this.contentType$lFQh);if(mayCreateResult===undefined)return undefined;return!mayCreateResult}var collectionViewExtender=com.coremedia.cms.editor.sdk.editorContext.getCollectionViewExtender();var collectionViewExtension=collectionViewExtender.getExtension(folder);if(collectionViewExtension===undefined)return undefined;if(!collectionViewExtension)return true;var mayCreate=collectionViewExtension.getContentTreeRelation().mayCreate(folder,
this.contentType$lFQh);if(mayCreate===undefined)return undefined;return!mayCreate}function newDocumentHandler(){var this$=this;if(!this.calculateDisabled$lFQh()){var folderNode=AS3.as(this.folderValueExpression$lFQh.getValue(),com.coremedia.cap.content.Content);if(folderNode)com.coremedia.cms.editor.sdk.editorContext.getCollectionViewExtender().findExtension(folderNode,function(extension){if(extension){var folderTreeRelation=extension.getContentTreeRelation();if(folderTreeRelation.addChildNeedsFolderCheckout(folderNode,
this$.contentType$lFQh.getName())&&folderNode.isCheckedOutByOther()){folderTreeRelation.showCheckoutError(folderNode);return}folderTreeRelation.provideRepositoryFolderFor(this$.contentType$lFQh,folderNode,this$.name$lFQh,function(repositoryFolder){this$.contentType$lFQh.create(repositoryFolder,this$.name$lFQh,function(result){this$.createCallback$lFQh(result,folderNode,folderTreeRelation)})})}})}}function createCallback(result,folder,folderTreeRelation){var this$=this;var content=result.createdContent;
if(content)content.load(function(){this$.beanLoaded$lFQh(content,folder,folderTreeRelation)});else failure$static(result.error)}function failure$static(error){if(AS3.is(error,com.coremedia.cap.content.IssuesDetectedError))com.coremedia.cms.editor.sdk.RemoteErrorHandlers.showIssues(AS3.cast(com.coremedia.cap.content.IssuesDetectedError,error));else if(error.errorCode===com.coremedia.cap.content.ContentErrorCodes.NOT_AUTHORIZED)com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showError(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors",
"notAuthorized_title"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors","notAuthorized_message"));else com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showError("HTTP Error","HTTP Error: "+error.errorCode+" "+error.message);error.setHandled(true)}function beanLoaded(content,folder,folderTreeRelation){var this$=this;folderTreeRelation.addChildNodes(folder,[content],function(){this$.contentCreated$lFQh(content)})}function contentCreated(content){var this$=
this;var repositoryFolder=content.getParent();repositoryFolder.invalidate(function(){this$.createdContentValueExpression$lFQh.setValue(content)});if(!content.isFolder())com.coremedia.ui.util.EventUtil.invokeLater(AS3.bind(this,"initializeAndShow$lFQh"),content)}function initializeAndShow(content){var initializer=com.coremedia.cms.editor.sdk.editorContext.lookupContentInitializer(content.getType());if(initializer)initializer(content);content.flush(function(){com.coremedia.cms.editor.sdk.editorContext.getContentTabManager().openDocument(content)})}
function removeComponent(comp){Ext.Action.prototype.removeComponent.call(this,comp);if(this.items&&this.items.length===0)this.disabledExpression$lFQh&&this.disabledExpression$lFQh.removeChangeListener(AS3.bind(this,"updateDisabledStatus$lFQh"))}return{extend:"Ext.Action",folderValueExpression$lFQh:null,createdContentValueExpression$lFQh:null,primaryDisabledExpression$lFQh:null,hideWhenDisabled$lFQh:false,contentType$lFQh:null,name$lFQh:null,disabledExpression$lFQh:null,constructor:NewContentActionBase$,
super$lFQh:function(){Ext.Action.prototype.constructor.apply(this,arguments)},updateDisabledStatus$lFQh:updateDisabledStatus,calculateDisabled$lFQh:calculateDisabled,newDocumentHandler$lFQh:newDocumentHandler,createCallback$lFQh:createCallback,beanLoaded$lFQh:beanLoaded,contentCreated$lFQh:contentCreated,initializeAndShow$lFQh:initializeAndShow,removeComponent:removeComponent,requires:["Ext","Ext.Action","com.coremedia.cap.common.SESSION","com.coremedia.cap.content.Content","com.coremedia.cap.content.ContentErrorCodes",
"com.coremedia.cap.content.ContentType","com.coremedia.cap.content.IssuesDetectedError","com.coremedia.cms.editor.EditorErrors_properties","com.coremedia.cms.editor.sdk.actions.Actions_properties","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.util.EventUtil","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.EditorContextImpl","com.coremedia.cms.editor.sdk.RemoteErrorHandlers","com.coremedia.cms.editor.sdk.actions.NewContentAction","com.coremedia.cms.editor.sdk.editorContext",
"com.coremedia.cms.editor.sdk.util.MessageBoxUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.OpenInBrowserTabAction",function(OpenInBrowserTabAction){function OpenInBrowserTabAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenInBrowserTabActionBase,{});var defaults_$1=AS3.cast(OpenInBrowserTabAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$hbKz(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.OpenInBrowserTabActionBase",
constructor:OpenInBrowserTabAction$,super$hbKz:function(){com.coremedia.cms.editor.sdk.actions.OpenInBrowserTabActionBase.prototype.constructor.apply(this,arguments)},config:{urlValueExpression:null},requires:["com.coremedia.cms.editor.sdk.actions.OpenInBrowserTabActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.MoveDialogAction",function(MoveDialogAction){function MoveDialogAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.MoveDialogActionBase,{});var defaults_$1=AS3.cast(MoveDialogAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$gqvw(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.MoveDialogActionBase",metadata:{"":["PublicApi"]},
constructor:MoveDialogAction$,super$gqvw:function(){com.coremedia.cms.editor.sdk.actions.MoveDialogActionBase.prototype.constructor.apply(this,arguments)},config:{command:null,dialog:null},requires:["com.coremedia.cms.editor.sdk.actions.MoveDialogActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction",function(ShowInRepositoryAction){function ShowInRepositoryAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ShowInRepositoryActionBase,{});var defaults_$1=AS3.cast(ShowInRepositoryAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$3I5j(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.ShowInRepositoryActionBase",
metadata:{"":["PublicApi"]},constructor:ShowInRepositoryAction$,super$3I5j:function(){com.coremedia.cms.editor.sdk.actions.ShowInRepositoryActionBase.prototype.constructor.apply(this,arguments)},config:{view:null,treeModelId:null},statics:{ACTION_ID:"showInRepositoryAction"},requires:["com.coremedia.cms.editor.sdk.actions.ShowInRepositoryActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.LinkListCopyAction",function(LinkListCopyAction){function ACTION_ID$static_(){LinkListCopyAction.ACTION_ID=com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction.ACTION_ID}function LinkListCopyAction$(config){if(arguments.length<=0)config=null;this.super$zdkE(config)}function defaultHandler(){var clipboard=com.coremedia.cms.editor.sdk.clipboard.Clipboard.getInstance();var contentsToCopy=this.getSelectedValues();if(contentsToCopy.length>0)clipboard.setValue(contentsToCopy,
com.coremedia.cms.editor.sdk.clipboard.Clipboard.COPY)}function createIconCls(){return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_copyToClipboard_icon")}function calculateDisabled(){return this.isNothingSelected()}return{extend:"com.coremedia.cms.editor.sdk.actions.AbstractLinkListAction",metadata:{"":["PublicApi"]},constructor:LinkListCopyAction$,super$zdkE:function(){com.coremedia.cms.editor.sdk.actions.AbstractLinkListAction.prototype.constructor.apply(this,
arguments)},defaultHandler:defaultHandler,createIconCls:createIconCls,calculateDisabled:calculateDisabled,statics:{ACTION_ID:undefined,__initStatics__:function(){ACTION_ID$static_()}},requires:["com.coremedia.cms.editor.sdk.actions.AbstractLinkListAction","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.clipboard.Clipboard","com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.PublishAction",function(PublishAction){function PublishAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.PublishActionBase,{});var defaults_$1=AS3.cast(PublishAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$JB6Q(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.PublishActionBase",metadata:{"":["PublicApi"]},
constructor:PublishAction$,super$JB6Q:function(){com.coremedia.cms.editor.sdk.actions.PublishActionBase.prototype.constructor.apply(this,arguments)},statics:{ACTION_ID:"publishAction"},requires:["com.coremedia.cms.editor.sdk.actions.PublishActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.AbstractTabContextMenuContentAction",function(AbstractTabContextMenuContentAction){function AbstractTabContextMenuContentAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.AbstractTabContextMenuContentActionBase,{});var defaults_$1=AS3.cast(AbstractTabContextMenuContentAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$7itf(config_$1)}
return{extend:"com.coremedia.cms.editor.sdk.actions.AbstractTabContextMenuContentActionBase",metadata:{"":["PublicApi"]},constructor:AbstractTabContextMenuContentAction$,super$7itf:function(){com.coremedia.cms.editor.sdk.actions.AbstractTabContextMenuContentActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.actions.AbstractTabContextMenuContentActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.ApprovePublishAction",function(ApprovePublishAction){function ApprovePublishAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ApprovePublishActionBase,{});var defaults_$1=AS3.cast(ApprovePublishAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$4_B3(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.ApprovePublishActionBase",
metadata:{"":["PublicApi"]},constructor:ApprovePublishAction$,super$4_B3:function(){com.coremedia.cms.editor.sdk.actions.ApprovePublishActionBase.prototype.constructor.apply(this,arguments)},statics:{ACTION_ID:"approvePublishAction"},requires:["com.coremedia.cms.editor.sdk.actions.ApprovePublishActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.CheckInActionBase",function(CheckInActionBase){function CheckInActionBase$(config){if(arguments.length<=0)config=null;this.super$88b9(AS3.cast(com.coremedia.cms.editor.sdk.actions.CheckInAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,"checkIn",{handler:AS3.bind(this,"checkIn$88b9")})))}function isDisabledFor(contents){var needsCheckIn=false;for(var i=0;i<contents.length;i++){var content=contents[i];if(content.isCheckedOut()){if(!(content.isCheckedOutByCurrentSession()||
content.isCheckedOutByOther()&&content.getRepository().getAccessControl().mayPerform(content,com.coremedia.cap.content.authorization.Right.SUPERVISE)))return true;needsCheckIn=true}}return!needsCheckIn}function checkIn(){var contents=this.getContents();if(!contents||!contents.length)return;var content=contents[0];content.getRepository().checkInAll(contents,AS3.bind(this,"completed$88b9"))}function completed(result){if(!result.successful){var checkInResultWindowCfg=AS3.cast(com.coremedia.cms.editor.sdk.bulkOperation.CheckInResultWindow,
{});AS3.setBindable(checkInResultWindowCfg,"bulkResultItems",result.results);Ext.ComponentManager.create(checkInResultWindowCfg).show()}}return{extend:"com.coremedia.cms.editor.sdk.actions.ContentAction",metadata:{"":["PublicApi"]},constructor:CheckInActionBase$,super$88b9:function(){com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.constructor.apply(this,arguments)},isDisabledFor:isDisabledFor,checkIn$88b9:checkIn,completed$88b9:completed,requires:["Ext.ComponentManager","com.coremedia.cap.content.authorization.Right",
"com.coremedia.cms.editor.sdk.actions.ContentAction"],uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil","com.coremedia.cms.editor.sdk.actions.CheckInAction","com.coremedia.cms.editor.sdk.bulkOperation.CheckInResultWindow"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.OpenInRepositoryActionBase",function(OpenInRepositoryActionBase){function OpenInRepositoryActionBase$(config){this.super$0q5h(AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenInRepositoryAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig({handler:AS3.bind(this,"openInRepository$0q5h")},"showInFolder",config)))}function calculateDisabled(){return false}function openInRepository(){this.getCollectionViewState$0q5h().set(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.MODE_PROPERTY,
com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.REPOSITORY_MODE)}function getCollectionViewState(){return AS3.cast(com.coremedia.cms.editor.sdk.EditorContextImpl,com.coremedia.cms.editor.sdk.editorContext).getCollectionViewModel().getMainStateBean()}return{extend:"com.coremedia.cms.editor.sdk.actions.ContentAction",mixins:["com.coremedia.ui.actions.ValueExpressionAction"],metadata:{"":["PublicApi"]},constructor:OpenInRepositoryActionBase$,super$0q5h:function(){com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.constructor.apply(this,
arguments)},calculateDisabled:calculateDisabled,openInRepository$0q5h:openInRepository,getCollectionViewState$0q5h:getCollectionViewState,requires:["com.coremedia.cms.editor.sdk.actions.ContentAction","com.coremedia.ui.actions.ValueExpressionAction"],uses:["com.coremedia.cms.editor.sdk.EditorContextImpl","com.coremedia.cms.editor.sdk.actions.ActionConfigUtil","com.coremedia.cms.editor.sdk.actions.OpenInRepositoryAction","com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.MoveLinkAction",function(MoveLinkAction){function ACTION_ID_UP$static_(){MoveLinkAction.ACTION_ID_UP=com.coremedia.cms.editor.sdk.actions.MoveAction.UP}function ACTION_ID_DOWN$static_(){MoveLinkAction.ACTION_ID_DOWN=com.coremedia.cms.editor.sdk.actions.MoveAction.DOWN}function MoveLinkAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.MoveLinkActionBase,{});var defaults_$1=AS3.cast(MoveLinkAction,
{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$NJgi(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.MoveLinkActionBase",metadata:{"":["PublicApi"]},constructor:MoveLinkAction$,super$NJgi:function(){com.coremedia.cms.editor.sdk.actions.MoveLinkActionBase.prototype.constructor.apply(this,arguments)},config:{direction:null,grid:null,linkListWrapper:null},statics:{ACTION_ID_UP:undefined,ACTION_ID_DOWN:undefined,__initStatics__:function(){ACTION_ID_UP$static_();
ACTION_ID_DOWN$static_()}},requires:["com.coremedia.cms.editor.sdk.actions.MoveLinkActionBase","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.actions.MoveAction"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.ShowCollectionViewInSearchStateActionBase",function(ShowCollectionViewInSearchStateActionBase){function ShowCollectionViewInSearchStateActionBase$(config){if(arguments.length<=0)config=null;var extendedConfig=Ext.apply({text:mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_showSearch_text")},config);this.super$Y8$0(AS3.cast(com.coremedia.cms.editor.sdk.actions.ShowCollectionViewInSearchStateAction,
extendedConfig));this.setHandler(AS3.bind(this,"showCollectionViewInSearchState$Y8$0"),this)}function showCollectionViewInSearchState(){AS3.cast(com.coremedia.cms.editor.sdk.collectionview.CollectionViewManagerInternal,com.coremedia.cms.editor.sdk.editorContext.getCollectionViewManager()).openWithAllState(this.getState())}return{extend:"com.coremedia.cms.editor.sdk.actions.StateAction",metadata:{"":["PublicApi"]},constructor:ShowCollectionViewInSearchStateActionBase$,super$Y8$0:function(){com.coremedia.cms.editor.sdk.actions.StateAction.prototype.constructor.apply(this,
arguments)},showCollectionViewInSearchState$Y8$0:showCollectionViewInSearchState,requires:["Ext","com.coremedia.cms.editor.sdk.actions.Actions_properties","com.coremedia.cms.editor.sdk.actions.StateAction","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.actions.ShowCollectionViewInSearchStateAction","com.coremedia.cms.editor.sdk.collectionview.CollectionViewManagerInternal","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.RenameContentItemActionBase",function(RenameContentItemActionBase){function RenameContentItemActionBase$(config){if(arguments.length<=0)config=null;this.super$wswA(AS3.cast(com.coremedia.cms.editor.sdk.actions.RenameContentItemAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,"rename",{handler:AS3.bind(this,"renameContextItem$wswA")})))}function addComponent(comp){com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.addComponent.call(this,
comp);this.menuItem$wswA=comp}function renameContextItem(){var contents=this.getContents();if(!contents||contents.length!==1)return;var content=AS3.as(contents[0],com.coremedia.cap.content.Content);if(!content)return;var current=this.menuItem$wswA;while(current&&!AS3.is(current,com.coremedia.cms.editor.sdk.actions.CanEditContentName))current=current["cmOwnerCt"]||current.up();if(AS3.is(current,com.coremedia.cms.editor.sdk.actions.CanEditContentName)){var canEditContentName=AS3.cast(com.coremedia.cms.editor.sdk.actions.CanEditContentName,
current);canEditContentName.editContentName(content)}}function isDisabledFor(contents){if(!contents||contents.length!=1)return true;var content=AS3.as(AS3.cast(com.coremedia.cap.content.Content,contents[0]),com.coremedia.cap.content.Content);return content&&!content.getRepository().getAccessControl().mayRename(content)}return{extend:"com.coremedia.cms.editor.sdk.actions.ContentAction",menuItem$wswA:null,constructor:RenameContentItemActionBase$,super$wswA:function(){com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.constructor.apply(this,
arguments)},addComponent:addComponent,renameContextItem$wswA:renameContextItem,isDisabledFor:isDisabledFor,requires:["com.coremedia.cap.content.Content","com.coremedia.cms.editor.sdk.actions.ContentAction"],uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil","com.coremedia.cms.editor.sdk.actions.CanEditContentName","com.coremedia.cms.editor.sdk.actions.RenameContentItemAction"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.MoveAction",function(MoveAction){function MoveAction$(config){if(arguments.length<=0)config=null;this.super$8r0I(config)}return{extend:"Ext.Action",metadata:{"":["PublicApi"]},constructor:MoveAction$,super$8r0I:function(){Ext.Action.prototype.constructor.apply(this,arguments)},statics:{UP:"moveUp",DOWN:"moveDown",LEFT:"moveLeft",RIGHT:"moveRight",INCREASE:"increase",DECREASE:"decrease"},requires:["Ext.Action"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.DeleteImageLinkActionBase",function(DeleteImageLinkActionBase){function DeleteImageLinkActionBase$(config){if(arguments.length<=0)config=null;this.super$lO96(AS3.cast(com.coremedia.cms.editor.sdk.actions.DeleteImageLinkAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,"deleteImageLink",{handler:AS3.bind(this,"deleteImageBlob$lO96")})));var bindTo=AS3.getBindable(config,"bindTo");var propertyName=AS3.getBindable(config,
"propertyName");this.propertyValueExpression=bindTo.extendBy("properties",propertyName);this.propertyValueExpression.addChangeListener(AS3.bind(this,"updateDisabled$lO96"))}function addComponent(comp){Ext.Action.prototype.addComponent.call(this,comp);this.updateDisabled$lO96()}function updateDisabled(){var newValue=AS3.as(this.propertyValueExpression.getValue(),Array);this.setDisabled(!newValue||newValue.length===0)}function deleteImageBlob(){this.propertyValueExpression.setValue([])}function removeComponent(comp){Ext.Action.prototype.removeComponent.call(this,
comp);if(this.items&&this.items.length===0)this.propertyValueExpression&&this.propertyValueExpression.removeChangeListener(AS3.bind(this,"updateDisabled$lO96"))}return{extend:"Ext.Action",propertyValueExpression:null,constructor:DeleteImageLinkActionBase$,super$lO96:function(){Ext.Action.prototype.constructor.apply(this,arguments)},addComponent:addComponent,updateDisabled$lO96:updateDisabled,deleteImageBlob$lO96:deleteImageBlob,removeComponent:removeComponent,requires:["Ext.Action"],uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil",
"com.coremedia.cms.editor.sdk.actions.DeleteImageLinkAction"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.DeleteTabContentActionBase",function(DeleteTabContentActionBase){function DeleteTabContentActionBase$(config){if(arguments.length<=0)config=null;AS3.setBindable(config,"handler",AS3.bind(this,"doDelete$3eDX"));this.super$3eDX(config)}function doDelete(){var clickedContent=this.getContextClickedContent();if(!clickedContent)return;com.coremedia.cms.editor.sdk.actions.DeleteActionUtil.startDelete([clickedContent])}function checkHidden(){var clickedContent=
this.getContextClickedContent();if(!clickedContent)return true;var hasMultipleParents=com.coremedia.cms.editor.sdk.actions.DeleteActionUtil.hasMultipleParentsFor([clickedContent]);if(hasMultipleParents===undefined)return undefined;return com.coremedia.cms.editor.sdk.actions.AbstractTabContextMenuContentAction.prototype.checkHidden.call(this)||hasMultipleParents}function checkDisabled(){var clickedContent=this.getContextClickedContent();if(!clickedContent)return true;return com.coremedia.cms.editor.sdk.actions.DeleteActionUtil.isDeleteDisabledFor([clickedContent])}
return{extend:"com.coremedia.cms.editor.sdk.actions.AbstractTabContextMenuContentAction",constructor:DeleteTabContentActionBase$,super$3eDX:function(){com.coremedia.cms.editor.sdk.actions.AbstractTabContextMenuContentAction.prototype.constructor.apply(this,arguments)},doDelete$3eDX:doDelete,checkHidden:checkHidden,checkDisabled:checkDisabled,requires:["com.coremedia.cms.editor.sdk.actions.AbstractTabContextMenuContentAction","com.coremedia.cms.editor.sdk.actions.Actions_properties"],uses:["com.coremedia.cms.editor.sdk.actions.DeleteActionUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.DeleteSelectedLinksActionBase",function(DeleteSelectedLinksActionBase){function DeleteSelectedLinksActionBase$(config){if(arguments.length<=0)config=null;var selectedPositionsExpression=AS3.getBindable(config,"selectedPositionsExpression");this.setSelectedPositionsExpression(selectedPositionsExpression?selectedPositionsExpression:com.coremedia.ui.data.ValueExpressionFactory.createFromValue([]));this.super$R_ll(AS3.cast(com.coremedia.cms.editor.sdk.actions.DeleteSelectedLinksAction,
com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,"deleteSelectedLinks",{handler:AS3.bind(this,"deleteSelectedLinks$R_ll")})))}function setSelectedPositions(positions){this.selectedPositionsExpression$R_ll.setValue(positions)}function setSelectedPositionsExpression(expression){this.selectedPositionsExpression$R_ll=expression}function isDisabledFor(contents){return com.coremedia.cms.editor.sdk.actions.AbstractModifyLinksAction.prototype.isDisabledFor.call(this,contents)||this.isNothingSelected$R_ll()}
function isNothingSelected(){var selectedPositions=this.selectedPositionsExpression$R_ll.getValue();return!selectedPositions||selectedPositions.length===0}function deleteSelectedLinks(){var links=this.getLinks();var originalValue=this.getPropertyValueExpression().getValue();if(!links||this.isNothingSelected$R_ll())return;var isStringProperty=AS3.is(originalValue,String);if(isStringProperty)links=String(originalValue).split(",");var selectedPositions=this.selectedPositionsExpression$R_ll.getValue();
var newValue=links.filter(function(val,pos){return selectedPositions.indexOf(pos)<0});if(isStringProperty)newValue=newValue.join(",");this.setLinks(newValue)}return{extend:"com.coremedia.cms.editor.sdk.actions.AbstractModifyLinksAction",metadata:{"":["Deprecated",["since","1710.1","replacement","com.coremedia.cms.editor.sdk.actions.LinkListRemoveAction"],"PublicApi"],setSelectedPositions:["InjectFromExtParent",["variableNameConfig","selectedPositionsVariableName"]]},selectedPositionsExpression$R_ll:null,
constructor:DeleteSelectedLinksActionBase$,super$R_ll:function(){com.coremedia.cms.editor.sdk.actions.AbstractModifyLinksAction.prototype.constructor.apply(this,arguments)},setSelectedPositions:setSelectedPositions,setSelectedPositionsExpression:setSelectedPositionsExpression,isDisabledFor:isDisabledFor,isNothingSelected$R_ll:isNothingSelected,deleteSelectedLinks$R_ll:deleteSelectedLinks,requires:["com.coremedia.cms.editor.sdk.actions.AbstractModifyLinksAction","com.coremedia.ui.data.ValueExpressionFactory"],
uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil","com.coremedia.cms.editor.sdk.actions.DeleteSelectedLinksAction"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.OpenTabAction",function(OpenTabAction){function OpenTabAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenTabActionBase,{});var defaults_$1=AS3.cast(OpenTabAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$kiHs(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.OpenTabActionBase",metadata:{"":["PublicApi"]},
constructor:OpenTabAction$,super$kiHs:function(){com.coremedia.cms.editor.sdk.actions.OpenTabActionBase.prototype.constructor.apply(this,arguments)},config:{singleton:false},requires:["com.coremedia.cms.editor.sdk.actions.OpenTabActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.AbstractLinkListAction",function(AbstractLinkListAction){function AbstractLinkListAction$(config){if(arguments.length<=0)config=null;if(!config.handler)AS3.setBindable(config,"handler",AS3.bind(this,"defaultHandler"));if(config.iconCls===undefined)AS3.setBindable(config,"iconCls",this.createIconCls());this.super$FCBx(config);this.linkListWrapper=config.linkListWrapper;this.selectedValuesExpression=config.selectedValuesExpression;this.selectedPositionsExpression=
config.selectedPositionsExpression}function defaultHandler(){}function createIconCls(){return null}function calculateDisabled(){return this.linkListWrapper.isReadOnly()}function getSelectedValues(){return this.selectedValuesExpression.getValue()||[]}function getSelectedPositions(){return this.selectedPositionsExpression.getValue()||[]}function isNothingSelected(){var selection=this.selectedValuesExpression.getValue();return!selection||selection.length===0}return{extend:"com.coremedia.ui.actions.DependencyTrackedAction",
metadata:{"":["PublicApi"]},linkListWrapper:null,selectedValuesExpression:null,selectedPositionsExpression:null,constructor:AbstractLinkListAction$,super$FCBx:function(){com.coremedia.ui.actions.DependencyTrackedAction.prototype.constructor.apply(this,arguments)},defaultHandler:defaultHandler,createIconCls:createIconCls,calculateDisabled:calculateDisabled,getSelectedValues:getSelectedValues,getSelectedPositions:getSelectedPositions,isNothingSelected:isNothingSelected,requires:["com.coremedia.ui.actions.DependencyTrackedAction"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.RestoreVersionAction",function(RestoreVersionAction){function RestoreVersionAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.RestoreVersionActionBase,{});var defaults_$1=AS3.cast(RestoreVersionAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Gceh(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.RestoreVersionActionBase",
constructor:RestoreVersionAction$,super$Gceh:function(){com.coremedia.cms.editor.sdk.actions.RestoreVersionActionBase.prototype.constructor.apply(this,arguments)},config:{versionValueExpression:null,forceReadOnlyValueExpression:null,forceReadOnlyVariableName:null},requires:["com.coremedia.cms.editor.sdk.actions.RestoreVersionActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.ContentUpdateAction",function(ContentUpdateAction){function ContentUpdateAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ContentUpdateActionBase,{});var defaults_$1=AS3.cast(ContentUpdateAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$FWaj(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.ContentUpdateActionBase",
metadata:{"":["PublicApi"]},constructor:ContentUpdateAction$,super$FWaj:function(){com.coremedia.cms.editor.sdk.actions.ContentUpdateActionBase.prototype.constructor.apply(this,arguments)},config:{forceReadOnlyValueExpression:null,forceReadOnly:false,forceReadOnlyVariableName:null},requires:["com.coremedia.cms.editor.sdk.actions.ContentUpdateActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.RenameTabContentAction",function(RenameTabContentAction){function RenameTabContentAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.RenameTabContentActionBase,{});var defaults_$1=AS3.cast(RenameTabContentAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$4Um3(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.RenameTabContentActionBase",
constructor:RenameTabContentAction$,super$4Um3:function(){com.coremedia.cms.editor.sdk.actions.RenameTabContentActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.actions.RenameTabContentActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.UndeleteAction",function(UndeleteAction){function UndeleteAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.UndeleteActionBase,{});var defaults_$1=AS3.cast(UndeleteAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$IF85(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.UndeleteActionBase",metadata:{"":["PublicApi"]},
constructor:UndeleteAction$,super$IF85:function(){com.coremedia.cms.editor.sdk.actions.UndeleteActionBase.prototype.constructor.apply(this,arguments)},statics:{ACTION_ID:"undeleteAction"},requires:["com.coremedia.cms.editor.sdk.actions.UndeleteActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.ApproveActionBase",function(ApproveActionBase){function ApproveActionBase$(config){if(arguments.length<=0)config=null;this.super$1019(AS3.cast(com.coremedia.cms.editor.sdk.actions.ApproveAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,"approve",{handler:AS3.bind(this,"startApprove$1019")})))}function isDisabledFor(contents){var needsApprove=false;for(var i=0;i<contents.length;i++){var content=contents[i];if(content.isCheckedOutByOther()&&
!content.getRepository().getAccessControl().mayPerform(content,com.coremedia.cap.content.authorization.Right.SUPERVISE)||!content.getRepository().getAccessControl().mayPerform(content,com.coremedia.cap.content.authorization.Right.APPROVE)||content.getLifecycleStatus()===com.coremedia.cap.content.LifecycleStatus.DELETED)return true;var lifecycleStatus=content.getLifecycleStatus();if(lifecycleStatus===com.coremedia.cap.content.LifecycleStatus.IN_PRODUCTION)needsApprove=true}return!needsApprove}function calculateHidden(){return!AS3.cast(com.coremedia.cms.editor.sdk.EditorContextImpl,
com.coremedia.cms.editor.sdk.editorContext).isStateBasedPublicationEnabled()||com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.calculateHidden.call(this)}function startApprove(){var contents=this.getContents();if(!contents||!contents.length)return;var content=contents[0];content.getRepository().getPublicationService().approveAllWithPath(contents,completed$static)}function completed$static(result){if(!result.successful){var approveResultWindowCfg=AS3.cast(com.coremedia.cms.editor.sdk.bulkOperation.ApproveResultWindow,
{});AS3.setBindable(approveResultWindowCfg,"bulkResultItems",result.results);Ext.ComponentManager.create(approveResultWindowCfg).show()}}return{extend:"com.coremedia.cms.editor.sdk.actions.ContentAction",metadata:{"":["PublicApi"]},constructor:ApproveActionBase$,super$1019:function(){com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.constructor.apply(this,arguments)},isDisabledFor:isDisabledFor,calculateHidden:calculateHidden,startApprove$1019:startApprove,requires:["Ext.ComponentManager",
"com.coremedia.cap.content.LifecycleStatus","com.coremedia.cap.content.authorization.Right","com.coremedia.cms.editor.sdk.actions.ContentAction"],uses:["com.coremedia.cms.editor.sdk.EditorContextImpl","com.coremedia.cms.editor.sdk.actions.ActionConfigUtil","com.coremedia.cms.editor.sdk.actions.ApproveAction","com.coremedia.cms.editor.sdk.bulkOperation.ApproveResultWindow","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.OpenPremularAction",function(OpenPremularAction){function OpenPremularAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenPremularActionBase,{});var defaults_$1=AS3.cast(OpenPremularAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$wgET(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.OpenPremularActionBase",
metadata:{"":["PublicApi"]},constructor:OpenPremularAction$,super$wgET:function(){com.coremedia.cms.editor.sdk.actions.OpenPremularActionBase.prototype.constructor.apply(this,arguments)},config:{premularConfigurationsValueExpression:null},requires:["com.coremedia.cms.editor.sdk.actions.OpenPremularActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.ApprovePublishActionBase",function(ApprovePublishActionBase){function ApprovePublishActionBase$(config){if(arguments.length<=0)config=null;this.super$BaGq(AS3.cast(com.coremedia.cms.editor.sdk.actions.ApprovePublishAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,"approvePublish")),com.coremedia.cms.editor.sdk.actions.AbstractPublishAction.OPERATION_APPROVE_PUBLISH,com.coremedia.cms.editor.sdk.desktop.ActionsToolbar.FINISH_BUTTON_ITEM_ID)}
function isDisabledFor(contents){var needsPublication=false;for(var i=0;i<contents.length;i++){var content=contents[i];if(content.isCheckedOutByOther()||!content.getRepository().getAccessControl().mayPerform(content,com.coremedia.cap.content.authorization.Right.PUBLISH))return true;var lifecycleStatus=content.getLifecycleStatus();if(lifecycleStatus===com.coremedia.cap.content.LifecycleStatus.APPROVED)needsPublication=true;else if(lifecycleStatus===com.coremedia.cap.content.LifecycleStatus.IN_PRODUCTION){if(!content.getRepository().getAccessControl().mayPerform(content,
com.coremedia.cap.content.authorization.Right.APPROVE))return true;needsPublication=true}else if(lifecycleStatus!==com.coremedia.cap.content.LifecycleStatus.PUBLISHED)return true}return!needsPublication}function calculateHidden(){return!AS3.cast(com.coremedia.cms.editor.sdk.EditorContextImpl,com.coremedia.cms.editor.sdk.editorContext).isStateBasedPublicationEnabled()||com.coremedia.cms.editor.sdk.actions.AbstractPublishAction.prototype.calculateHidden.call(this)}function doPublish(contents,publicationService,
callback){publicationService.approveWithPathAndPublishAll(contents,callback)}return{extend:"com.coremedia.cms.editor.sdk.actions.AbstractPublishAction",metadata:{"":["PublicApi"]},constructor:ApprovePublishActionBase$,super$BaGq:function(){com.coremedia.cms.editor.sdk.actions.AbstractPublishAction.prototype.constructor.apply(this,arguments)},isDisabledFor:isDisabledFor,calculateHidden:calculateHidden,doPublish:doPublish,requires:["com.coremedia.cap.content.LifecycleStatus","com.coremedia.cap.content.authorization.Right",
"com.coremedia.cms.editor.sdk.actions.AbstractPublishAction"],uses:["com.coremedia.cms.editor.sdk.EditorContextImpl","com.coremedia.cms.editor.sdk.actions.ActionConfigUtil","com.coremedia.cms.editor.sdk.actions.ApprovePublishAction","com.coremedia.cms.editor.sdk.desktop.ActionsToolbar","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.ShowTabEntityInRepositoryAction",function(ShowTabEntityInRepositoryAction){function ShowTabEntityInRepositoryAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ShowTabEntityInRepositoryActionBase,{});var defaults_$1=AS3.cast(ShowTabEntityInRepositoryAction,{});AS3.setBindable(defaults_$1,"entityType",com.coremedia.ui.data.RemoteBean);config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$vqHL(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.ShowTabEntityInRepositoryActionBase",constructor:ShowTabEntityInRepositoryAction$,super$vqHL:function(){com.coremedia.cms.editor.sdk.actions.ShowTabEntityInRepositoryActionBase.prototype.constructor.apply(this,arguments)},config:{entityType:null,handleEntity:null},requires:["com.coremedia.cms.editor.sdk.actions.ShowTabEntityInRepositoryActionBase","com.coremedia.ui.data.RemoteBean","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.OpenInRepositoryAction",function(OpenInRepositoryAction){function OpenInRepositoryAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenInRepositoryActionBase,{});var defaults_$1=AS3.cast(OpenInRepositoryAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$RXDw(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.OpenInRepositoryActionBase",
metadata:{"":["PublicApi"]},constructor:OpenInRepositoryAction$,super$RXDw:function(){com.coremedia.cms.editor.sdk.actions.OpenInRepositoryActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.actions.OpenInRepositoryActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.MoveUserItemAction",function(MoveUserItemAction){function MoveUserItemAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.MoveUserItemActionBase,{});var defaults_$1=AS3.cast(MoveUserItemAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$xmSm(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.MoveUserItemActionBase",
constructor:MoveUserItemAction$,super$xmSm:function(){com.coremedia.cms.editor.sdk.actions.MoveUserItemActionBase.prototype.constructor.apply(this,arguments)},config:{targetPosition:null},requires:["com.coremedia.cms.editor.sdk.actions.MoveUserItemActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.DeleteImageLinkAction",function(DeleteImageLinkAction){function DeleteImageLinkAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.DeleteImageLinkActionBase,{});var defaults_$1=AS3.cast(DeleteImageLinkAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$2FdL(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.DeleteImageLinkActionBase",
constructor:DeleteImageLinkAction$,super$2FdL:function(){com.coremedia.cms.editor.sdk.actions.DeleteImageLinkActionBase.prototype.constructor.apply(this,arguments)},config:{bindTo:null,propertyName:null},requires:["com.coremedia.cms.editor.sdk.actions.DeleteImageLinkActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.ProcessAllContentTabsAction",function(ProcessAllContentTabsAction){function ProcessAllContentTabsAction$(config){if(arguments.length<=0)config=null;AS3.setBindable(this,"action",AS3.getBindable(config,"action"));AS3.setBindable(config,"handler",AS3.bind(this,"_handler$0BRG"));this.super$0BRG(config)}function _handler(){var contents=[];if(AS3.getBindable(this,"action")===ProcessAllContentTabsAction.PROCESS_ALL_CONTENT_TABS_CHECKIN||AS3.getBindable(this,
"action")===ProcessAllContentTabsAction.PROCESS_ALL_CONTENT_TABS_REVERT)contents=this.getAllContentTabsInEditMode$0BRG();switch(AS3.getBindable(this,"action")){case ProcessAllContentTabsAction.PROCESS_ALL_CONTENT_TABS_CHECKIN:(new com.coremedia.cap.content.impl.BulkCheckInMethod(com.coremedia.cap.common.SESSION.getConnection().getContentRepository(),contents,Ext.emptyFn)).doExecute();break;case ProcessAllContentTabsAction.PROCESS_ALL_CONTENT_TABS_REVERT:this.confirmRevertContents$0BRG(contents)}}
function confirmRevertContents(contents){com.coremedia.cms.editor.sdk.util.MessageBoxUtilInternal.show(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_revert_all_text"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_revert_verifyMessage_allContentTabs_text"),null,{yes:mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","dialog_defaultSubmitButton_text"),
no:mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","dialog_defaultCancelButton_text")},function(btn){if(btn==="yes"){var panelsOfDeletedContents=contents.filter(function(c){return c.getCheckedOutVersion()===null}).map(function(c){var panel=AS3.as(com.coremedia.cms.editor.sdk.editorContext.getWorkAreaTabManager().findTabForEntity(c),com.coremedia.cms.editor.sdk.premular.PremularBase);if(panel)panel.setPreventCloseMessage(true);return panel});(new com.coremedia.cap.content.impl.BulkRevertMethod(com.coremedia.cap.common.SESSION.getConnection().getContentRepository(),
contents,Ext.emptyFn)).doExecute()}},false)}function getAllContentTabsInEditMode(){var contents=[];this.getContextClickedContents().forEach(function(content){if(content.isCheckedOutByCurrentSession())contents.push(content)});return contents}function checkDisabled(){var atLeastOneContentTabInEditMode=false;this.getContextClickedContents().forEach(function(content){if(content.isCheckedOutByCurrentSession())atLeastOneContentTabInEditMode=true});return!atLeastOneContentTabInEditMode}function checkHidden(){return!this.getContextClickedContent()}
return{extend:"com.coremedia.cms.editor.sdk.actions.AbstractTabContextMenuContentAction",constructor:ProcessAllContentTabsAction$,super$0BRG:function(){com.coremedia.cms.editor.sdk.actions.AbstractTabContextMenuContentAction.prototype.constructor.apply(this,arguments)},_handler$0BRG:_handler,confirmRevertContents$0BRG:confirmRevertContents,getAllContentTabsInEditMode$0BRG:getAllContentTabsInEditMode,checkDisabled:checkDisabled,checkHidden:checkHidden,config:{action:null},statics:{PROCESS_ALL_CONTENT_TABS_CHECKIN:"processAllContentTabsCheckin",
PROCESS_ALL_CONTENT_TABS_REVERT:"processAllContentTabsRevert"},requires:["Ext","com.coremedia.cap.common.SESSION","com.coremedia.cap.content.impl.BulkCheckInMethod","com.coremedia.cap.content.impl.BulkRevertMethod","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.actions.AbstractTabContextMenuContentAction","com.coremedia.cms.editor.sdk.actions.Actions_properties","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.premular.PremularBase",
"com.coremedia.cms.editor.sdk.util.MessageBoxUtilInternal"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.ToggleFloatingWindowActionBase",function(ToggleFloatingWindowActionBase){function ToggleFloatingWindowActionBase$(config){if(arguments.length<=0)config=null;AS3.setBindable(config,"handler",AS3.bind(this,"handleAction$RQJy"));this.parentComponent$RQJy=AS3.getBindable(config,"component");this.super$RQJy(config)}function handleAction(){var floatingWindow=AS3.as(this.parentComponent$RQJy.findParentByType(com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelFloatingWindow.xtype),
com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelFloatingWindow);if(floatingWindow){var targetPanel=AS3.as(Ext.getCmp(com.coremedia.cms.editor.sdk.desktop.EditorMainView.SIDE_PANEL_WEST_ID),com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanel);targetPanel.dockItem(floatingWindow)}else{var sidePanel=AS3.as(this.parentComponent$RQJy.findParentByType(com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanel.xtype),com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanel);if(this.parentComponent$RQJy.xtype===
com.coremedia.cms.editor.sdk.collectionview.CollectionView.xtype){var container=AS3.as(this.parentComponent$RQJy.findParentByType(com.coremedia.cms.editor.sdk.collectionview.CollectionViewContainer.xtype),com.coremedia.cms.editor.sdk.collectionview.CollectionViewContainer);sidePanel.undockItem(container)}else sidePanel.undockItem(this.parentComponent$RQJy)}this.updateFocus();return true}function updateFocus(){var this$=this;com.coremedia.ui.util.EventUtil.invokeLater(function(){this$.parentComponent$RQJy.focus();
if(!this$.parentComponent$RQJy.isFocusable()){var tools=this$.parentComponent$RQJy.down()["tools"];if(tools&&tools.length>0)tools[0].focus()}})}return{extend:"Ext.Action",metadata:{"":["PublicApi"]},parentComponent$RQJy:null,constructor:ToggleFloatingWindowActionBase$,super$RQJy:function(){Ext.Action.prototype.constructor.apply(this,arguments)},handleAction$RQJy:handleAction,updateFocus:updateFocus,requires:["Ext","Ext.Action","com.coremedia.ui.util.EventUtil"],uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionView",
"com.coremedia.cms.editor.sdk.collectionview.CollectionViewContainer","com.coremedia.cms.editor.sdk.desktop.EditorMainView","com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanel","com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelFloatingWindow"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.ShowCollectionViewToSaveSearchActionBase",function(ShowCollectionViewToSaveSearchActionBase){function ShowCollectionViewToSaveSearchActionBase$(config){if(arguments.length<=0)config=null;this.super$qz3o(AS3.cast(com.coremedia.cms.editor.sdk.actions.ShowCollectionViewToSaveSearchAction,Ext.apply({},com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,"addSearch"))));this.setHandler(AS3.bind(this,"showCollectionViewToSaveSearch$qz3o"),
this)}function showCollectionViewToSaveSearch(){var this$=this;var collectionViewManager=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.CollectionViewManagerInternal,com.coremedia.cms.editor.sdk.editorContext.getCollectionViewManager());var collectionViewContainer=collectionViewManager.getCollectionViewContainer();var saveSearchButton=AS3.as(collectionViewContainer.queryById("saveSearch"),Ext.button.Button);if(!saveSearchButton){collectionViewContainer.mon(collectionViewContainer,"afterlayout",
function(){this$.showCollectionViewToSaveSearch$qz3o()},null,{single:true});this.showCollectionView();return}var collectionView=collectionViewManager.getCollectionView();var collectionViewModel=collectionView.getCollectionViewModel();var cvmMainState=collectionViewModel.getMainStateBean();if(cvmMainState.get(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.MODE_PROPERTY)!=com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.SEARCH_MODE){cvmMainState.addPropertyChangeListener(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.MODE_PROPERTY,
function retry(){this$.showCollectionViewToSaveSearch$qz3o();cvmMainState.removePropertyChangeListener(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.MODE_PROPERTY,retry)});this.showCollectionView();return}if(!saveSearchButton.getEl()){saveSearchButton.mon(saveSearchButton,"afterrender",function(){this$.showCollectionViewToSaveSearch$qz3o()},null,{single:true});this.showCollectionView();return}if(!collectionViewContainer.isVisible(true)){collectionViewContainer.on("show",function(){com.coremedia.ui.util.EventUtil.invokeLater(AS3.bind(this$,
"showCollectionViewToSaveSearch$qz3o"))},null,{single:true});this.showCollectionView();return}com.coremedia.ui.util.EventUtil.invokeLater(function(){collectionView.setSelectedSearchItems([]);collectionViewModel.resetSearchFilters();cvmMainState.set(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.FOLDER_PROPERTY,com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getRoot());var hintConfig=AS3.cast(com.coremedia.cms.editor.sdk.desktop.SaveSearchFolderHint,{});AS3.setBindable(hintConfig,
"target",AS3.cast(Ext.dom.Element,saveSearchButton.getEl()).dom.id);AS3.setBindable(hintConfig,"text",mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_addSearch_hint_text"));var hint=new com.coremedia.cms.editor.sdk.desktop.SaveSearchFolderHint(hintConfig);hint.show();collectionViewContainer.mon(collectionViewContainer.getEl(),"mousedown",function(){if(hint&&hint.isVisible(true))hint.goAway(true)},null,{single:true})})}return{extend:"com.coremedia.cms.editor.sdk.actions.ShowCollectionViewAction",
constructor:ShowCollectionViewToSaveSearchActionBase$,super$qz3o:function(){com.coremedia.cms.editor.sdk.actions.ShowCollectionViewAction.prototype.constructor.apply(this,arguments)},showCollectionViewToSaveSearch$qz3o:showCollectionViewToSaveSearch,requires:["Ext","Ext.button.Button","Ext.dom.Element","com.coremedia.cap.common.SESSION","com.coremedia.cms.editor.sdk.actions.Actions_properties","com.coremedia.cms.editor.sdk.actions.ShowCollectionViewAction","com.coremedia.ui.util.EventUtil","mx.resources.ResourceManager"],
uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil","com.coremedia.cms.editor.sdk.actions.ShowCollectionViewToSaveSearchAction","com.coremedia.cms.editor.sdk.collectionview.CollectionViewManagerInternal","com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel","com.coremedia.cms.editor.sdk.desktop.SaveSearchFolderHint","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.DisapproveAction",function(DisapproveAction){function DisapproveAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.DisapproveActionBase,{});var defaults_$1=AS3.cast(DisapproveAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$at20(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.DisapproveActionBase",metadata:{"":["PublicApi"]},
constructor:DisapproveAction$,super$at20:function(){com.coremedia.cms.editor.sdk.actions.DisapproveActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.actions.DisapproveActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.ShowCollectionViewInSearchStateAction",function(ShowCollectionViewInSearchStateAction){function ShowCollectionViewInSearchStateAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ShowCollectionViewInSearchStateActionBase,{});var defaults_$1=AS3.cast(ShowCollectionViewInSearchStateAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);
this.super$6THF(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.ShowCollectionViewInSearchStateActionBase",metadata:{"":["PublicApi"]},constructor:ShowCollectionViewInSearchStateAction$,super$6THF:function(){com.coremedia.cms.editor.sdk.actions.ShowCollectionViewInSearchStateActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.actions.ShowCollectionViewInSearchStateActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.RevertActionBase",function(RevertActionBase){function RevertActionBase$(config){if(arguments.length<=0)config=null;this.super$KKMM(AS3.cast(com.coremedia.cms.editor.sdk.actions.RevertAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,"revert",{handler:AS3.bind(this,"revert$KKMM")})))}function isDisabledFor(contents){var needsRevert=false;for(var i=0;i<contents.length;i++){var content=contents[i];if(content.isCheckedOut()){if(content.isCheckedOutByOther()&&
!content.getRepository().getAccessControl().mayPerform(content,com.coremedia.cap.content.authorization.Right.SUPERVISE))return true;if(content.getCheckedOutVersion()===null&&!content.getRepository().getAccessControl().mayPerform(content,com.coremedia.cap.content.authorization.Right.DELETE))return true;needsRevert=true}}return!needsRevert}function revert(){var originalContents=this.getContents();if(!originalContents||!originalContents.length)return;var newDocumentCount=0;var contents=[];var newDocumentName=
null;for(var i=0;i<originalContents.length;i++){var content=originalContents[i];if(content.isCheckedOut()){contents.push(content);if(content.getCheckedOutVersion()===null){newDocumentCount++;newDocumentName=content.getName()}}}if(!contents.length)return;var title;var message;if(contents.length===1){var singleContent=contents[0];var singleContentName=singleContent.getName();if(newDocumentCount===0){title=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions",
"Action_revert_verifyMessage_singleOld_title");message=Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_revert_verifyMessage_singleOld_text"),com.coremedia.ui.util.EncodingUtil.encodeForHTML(singleContentName))}else{title=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_revert_verifyMessage_singleNew_title");message=Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions",
"Action_revert_verifyMessage_singleNew_text"),com.coremedia.ui.util.EncodingUtil.encodeForHTML(singleContentName))}}else if(newDocumentCount===0){title=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_revert_verifyMessage_manyOld_title");message=Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_revert_verifyMessage_manyOld_text"),contents.length)}else if(newDocumentCount===
1){title=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_revert_verifyMessage_manyOldOneNew_title");message=Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_revert_verifyMessage_manyOldOneNew_text"),contents.length,com.coremedia.ui.util.EncodingUtil.encodeForHTML(newDocumentName))}else if(newDocumentCount===contents.length){title=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions",
"Action_revert_verifyMessage_allNew_title");message=Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_revert_verifyMessage_allNew_text"),contents.length)}else{title=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_revert_verifyMessage_manyNew_title");message=Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions",
"Action_revert_verifyMessage_manyNew_text"),contents.length,com.coremedia.ui.util.EncodingUtil.encodeForHTML(newDocumentCount))}com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showConfirmation(title,message,mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_revert_buttonText"),function(btn){if(btn==="ok"){contents.filter(function(c){return c.getCheckedOutVersion()===null}).map(function(c){var panel=AS3.as(com.coremedia.cms.editor.sdk.editorContext.getWorkAreaTabManager().findTabForEntity(c),
com.coremedia.cms.editor.sdk.premular.PremularBase);if(panel)panel.setPreventCloseMessage(true);return panel});com.coremedia.cap.common.SESSION.getConnection().getContentRepository().revertAll(contents,RevertActionBase.completed)}},false)}function completed$static(result){if(!result["successful"]){var revertResultWindowCfg=AS3.cast(com.coremedia.cms.editor.sdk.bulkOperation.RevertResultWindow,{});AS3.setBindable(revertResultWindowCfg,"bulkResultItems",result.results);Ext.ComponentManager.create(revertResultWindowCfg).show()}}
return{extend:"com.coremedia.cms.editor.sdk.actions.ContentAction",metadata:{"":["PublicApi"]},constructor:RevertActionBase$,super$KKMM:function(){com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.constructor.apply(this,arguments)},isDisabledFor:isDisabledFor,revert$KKMM:revert,statics:{completed:completed$static},requires:["Ext.ComponentManager","Ext.String","com.coremedia.cap.common.SESSION","com.coremedia.cap.content.authorization.Right","com.coremedia.cms.editor.sdk.actions.Actions_properties",
"com.coremedia.cms.editor.sdk.actions.ContentAction","com.coremedia.ui.util.EncodingUtil","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil","com.coremedia.cms.editor.sdk.actions.RevertAction","com.coremedia.cms.editor.sdk.bulkOperation.RevertResultWindow","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.premular.PremularBase","com.coremedia.cms.editor.sdk.util.MessageBoxUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.ToggleFloatingWindowAction",function(ToggleFloatingWindowAction){function ToggleFloatingWindowAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ToggleFloatingWindowActionBase,{});var defaults_$1=AS3.cast(ToggleFloatingWindowAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$SkUB(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.ToggleFloatingWindowActionBase",
metadata:{"":["PublicApi"]},constructor:ToggleFloatingWindowAction$,super$SkUB:function(){com.coremedia.cms.editor.sdk.actions.ToggleFloatingWindowActionBase.prototype.constructor.apply(this,arguments)},config:{component:null},statics:{ACTION_ID:"toggleFloatingWindowAction"},requires:["com.coremedia.cms.editor.sdk.actions.ToggleFloatingWindowActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.ShowRepositoryAction",function(ShowRepositoryAction){function ShowRepositoryAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ShowRepositoryActionBase,{});var defaults_$1=AS3.cast(ShowRepositoryAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Mnme(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.ShowRepositoryActionBase",
metadata:{"":["PublicApi"]},constructor:ShowRepositoryAction$,super$Mnme:function(){com.coremedia.cms.editor.sdk.actions.ShowRepositoryActionBase.prototype.constructor.apply(this,arguments)},config:{folder:null,preserveFolder:false,view:null,orderBy:null},requires:["com.coremedia.cms.editor.sdk.actions.ShowRepositoryActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.ShowCollectionViewActionBase",function(ShowCollectionViewActionBase){function ShowCollectionViewActionBase$(config){if(arguments.length<=0)config=null;this.super$UBRo(config);this.state=new com.coremedia.cms.editor.sdk.collectionview.SearchState(AS3.cast(com.coremedia.cms.editor.sdk.collectionview.SearchState,com.coremedia.ui.util.ObjectUtils.extractNonNullProperties(config,com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.SEARCH_MODE_PROPERTY_NAMES.concat(com.coremedia.cms.editor.sdk.collectionview.search.LastEditedFilterPanelBase.PROPERTY_NAMES).concat(com.coremedia.cms.editor.sdk.collectionview.search.StatusFilterPanelBase.PROPERTY_NAMES).concat("filters"))));
this.reset$UBRo=!AS3.getBindable(config,"preserveFilter");this.view$UBRo=AS3.getBindable(config,"view")||com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants.LIST_VIEW;this.setHandler(AS3.bind(this,"showCollectionView"),this)}function showCollectionView(){var collectionViewManager=com.coremedia.cms.editor.sdk.editorContext.getCollectionViewManager();collectionViewManager.openSearch(this.state,this.reset$UBRo,this.view$UBRo)}return{extend:"Ext.Action",metadata:{"":["PublicApi"]},state:null,
reset$UBRo:false,view$UBRo:null,constructor:ShowCollectionViewActionBase$,super$UBRo:function(){Ext.Action.prototype.constructor.apply(this,arguments)},showCollectionView:showCollectionView,requires:["Ext.Action","com.coremedia.ui.util.ObjectUtils"],uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants","com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel","com.coremedia.cms.editor.sdk.collectionview.SearchState","com.coremedia.cms.editor.sdk.collectionview.search.LastEditedFilterPanelBase",
"com.coremedia.cms.editor.sdk.collectionview.search.StatusFilterPanelBase","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.MoveLinkActionBase",function(MoveLinkActionBase){function MoveLinkActionBase$(config){if(arguments.length<=0)config=null;this.gridPanel$nt_T=AS3.getBindable(config,"grid");this.movingDirection$nt_T=AS3.getBindable(config,"direction");this.llWrapper$nt_T=AS3.getBindable(config,"linkListWrapper");AS3.setBindable(config,"handler",AS3.bind(this,"moveLink$nt_T"));this.super$nt_T(config)}function moveLink(){var this$=this;var focusRecord=null;var lastFocused=
AS3.getBindable(this.gridPanel$nt_T,"view","DUMMY")["getLastFocused"]();if(lastFocused&&lastFocused.record)focusRecord=lastFocused.record;var selectedRecords=AS3.as(this.gridPanel$nt_T.getSelectionModel().getSelection(),Array)||[];var store=AS3.as(this.gridPanel$nt_T.getStore(),Ext.data.Store);var selectedPositions=selectedRecords.map(function(record){return store.indexOf(record)});var fromToMap={};var toPositions=[];if(this.movingDirection$nt_T===com.coremedia.cms.editor.sdk.actions.MoveAction.UP)selectedPositions.forEach(function(position){var toPosition=
Math.max(0,position-1);fromToMap[position]=toPosition;toPositions.push(toPosition)});else selectedPositions.forEach(function(position){var toPosition=Math.min(position+1,store.getCount()-1);fromToMap[position]=toPosition;toPositions.push(toPosition)});var selectionModel=this.gridPanel$nt_T.getSelectionModel();if(focusRecord&&selectedPositions.length>0){var recordsWillChange=false;var links=this.llWrapper$nt_T.getLinks()||[];for(var from in fromToMap)if(links[from]!==links[fromToMap[parseInt(from)]]){recordsWillChange=
true;break}if(recordsWillChange)store.on("endupdate",function(){this$.restoreSelectionAndFocus$nt_T(selectionModel,toPositions,store)},null,{single:true});else this.restoreSelectionAndFocus$nt_T(selectionModel,toPositions,store)}this.llWrapper$nt_T.moveLinks(fromToMap)}function restoreSelectionAndFocus(selectionModel,toPositions,store){selectionModel.select(toPositions.map(function(pos){return AS3.as(store.getAt(pos),com.coremedia.ui.store.BeanRecord)}));AS3.getBindable(this.gridPanel$nt_T,"view",
"DUMMY").focusNode(toPositions[0])}return{extend:"com.coremedia.cms.editor.sdk.actions.MoveAction",metadata:{"":["PublicApi"]},gridPanel$nt_T:null,movingDirection$nt_T:null,llWrapper$nt_T:null,constructor:MoveLinkActionBase$,super$nt_T:function(){com.coremedia.cms.editor.sdk.actions.MoveAction.prototype.constructor.apply(this,arguments)},moveLink$nt_T:moveLink,restoreSelectionAndFocus$nt_T:restoreSelectionAndFocus,requires:["Ext.data.Store","com.coremedia.cms.editor.sdk.actions.MoveAction","com.coremedia.ui.store.BeanRecord"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.LargeOperationHelper",function(LargeOperationHelper){var DEFAULT_LARGE_OPERATION_THRESHOLD$static=1E3;function LargeOperationHelper$(toProcess,successFn,showConfirmationFn){this.toProcess$I1Wb=toProcess;this.successFn$I1Wb=successFn;this.showConfirmationFn$I1Wb=showConfirmationFn}function checkLargeOperation(){var this$=this;var folder=[];var documentCounter=0;this.toProcess$I1Wb.forEach(function(content){if(content.isFolder())folder.push(content);
else documentCounter++});var execEvt=new com.coremedia.ui.util.ExecuteEventually(function(){if(documentCounter>getLargeOperationWarningThreshold$static())this$.showConfirmationFn$I1Wb(documentCounter);else this$.successFn$I1Wb()});folder.forEach(function(content){execEvt.delay();var searchResult=performSearchRequest$static(content);searchResult.load(function(result){documentCounter=documentCounter+result.getTotal();execEvt.proceed()})});execEvt.proceed()}function performSearchRequest$static(content){var searchService=
com.coremedia.cms.editor.sdk.editorContext.getSession().getConnection().getContentRepository().getSearchService();var params=AS3.cast(com.coremedia.cap.content.search.SearchParameters,{});params.folder=content.getUriPath();params.includeSubfolders=true;var searchResult=searchService.search(params);return searchResult}function getLargeOperationWarningThreshold$static(){var threshold=com.coremedia.cms.editor.sdk.util.StudioConfigurationUtil.getConfiguration("Content Creation","largeOperationWarningThreshold");
if(!threshold)threshold=DEFAULT_LARGE_OPERATION_THRESHOLD$static;return threshold}return{toProcess$I1Wb:null,successFn$I1Wb:null,showConfirmationFn$I1Wb:null,constructor:LargeOperationHelper$,checkLargeOperation:checkLargeOperation,requires:["com.coremedia.cap.content.search.SearchParameters","com.coremedia.ui.util.ExecuteEventually"],uses:["com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.util.StudioConfigurationUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.WithdrawActionBase",function(WithdrawActionBase){function WithdrawActionBase$(config){if(arguments.length<=0)config=null;this.super$1i1y(AS3.cast(com.coremedia.cms.editor.sdk.actions.WithdrawAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,"withdraw")),com.coremedia.cms.editor.sdk.actions.AbstractPublishAction.OPERATION_WITHDRAW,com.coremedia.cms.editor.sdk.desktop.ActionsToolbar.WITHDRAW_BUTTON_ITEM_ID)}function isDisabledFor(contents){var needsWithdraw=
false;for(var i=0;i<contents.length;i++){var content=contents[i];if(!content.getRepository().getAccessControl().mayPerform(content,com.coremedia.cap.content.authorization.Right.DELETE)||!content.getRepository().getAccessControl().mayPerform(content,com.coremedia.cap.content.authorization.Right.APPROVE)||!content.getRepository().getAccessControl().mayPerform(content,com.coremedia.cap.content.authorization.Right.PUBLISH))return true;if(content.isPublished())needsWithdraw=true}return!needsWithdraw}function doPublish(contents,
publicationService,callback){var content=contents[0];com.coremedia.cms.editor.sdk.editorContext.getCollectionViewExtender().findExtension(content,function(extension){if(extension){var treeRelation=extension.getContentTreeRelation();var folderName=null;for(var i=0;i<contents.length;i++){var c=contents[i];if(c.isFolder())folderName=c.getName()}if(folderName){var title;var message;if(contents.length===1){title=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions",
"Action_withdraw_folder_verifyMessage_title");message=Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_withdraw_folder_verifyMessage_text"),folderName)}else{title=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_withdraw_contents_verifyMessage_title");message=Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions",
"Action_withdraw_contents_verifyMessage_text"),contents.length)}com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showConfirmation(title,message,mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_withdraw_buttonText"),function(btn){if(btn==="ok")treeRelation.withdraw(contents,publicationService,callback);else callback(null)})}else treeRelation.withdraw(contents,publicationService,callback)}})}return{extend:"com.coremedia.cms.editor.sdk.actions.AbstractPublishAction",
metadata:{"":["PublicApi"]},constructor:WithdrawActionBase$,super$1i1y:function(){com.coremedia.cms.editor.sdk.actions.AbstractPublishAction.prototype.constructor.apply(this,arguments)},isDisabledFor:isDisabledFor,doPublish:doPublish,requires:["Ext.String","com.coremedia.cap.content.authorization.Right","com.coremedia.cms.editor.sdk.actions.AbstractPublishAction","com.coremedia.cms.editor.sdk.actions.Actions_properties","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil",
"com.coremedia.cms.editor.sdk.actions.WithdrawAction","com.coremedia.cms.editor.sdk.desktop.ActionsToolbar","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.util.MessageBoxUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.CheckInAction",function(CheckInAction){function CheckInAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.CheckInActionBase,{});var defaults_$1=AS3.cast(CheckInAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$jVfO(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.CheckInActionBase",metadata:{"":["PublicApi"]},
constructor:CheckInAction$,super$jVfO:function(){com.coremedia.cms.editor.sdk.actions.CheckInActionBase.prototype.constructor.apply(this,arguments)},statics:{ACTION_ID:"checkInAction"},requires:["com.coremedia.cms.editor.sdk.actions.CheckInActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.StartWorkflowAction",function(StartWorkflowAction){function StartWorkflowAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.StartWorkflowActionBase,{});var defaults_$1=AS3.cast(StartWorkflowAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$JhcC(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.StartWorkflowActionBase",
constructor:StartWorkflowAction$,super$JhcC:function(){com.coremedia.cms.editor.sdk.actions.StartWorkflowActionBase.prototype.constructor.apply(this,arguments)},config:{subjectValueExpression:null,commentValueExpression:null,contentSet:null,processName:null,changeSetVariableName:null,subjectVariableName:null,commentVariableName:null,assignedMembers:null,callback:null},requires:["com.coremedia.cms.editor.sdk.actions.StartWorkflowActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.WithdrawAction",function(WithdrawAction){function WithdrawAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.WithdrawActionBase,{});var defaults_$1=AS3.cast(WithdrawAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$vSCB(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.WithdrawActionBase",metadata:{"":["PublicApi"]},
constructor:WithdrawAction$,super$vSCB:function(){com.coremedia.cms.editor.sdk.actions.WithdrawActionBase.prototype.constructor.apply(this,arguments)},statics:{ACTION_ID:"withdrawAction"},requires:["com.coremedia.cms.editor.sdk.actions.WithdrawActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.OpenEntitiesInTabsAction",function(OpenEntitiesInTabsAction){function OpenEntitiesInTabsAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenEntitiesInTabsActionBase,{});var defaults_$1=AS3.cast(OpenEntitiesInTabsAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$9rsF(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.OpenEntitiesInTabsActionBase",
metadata:{"":["PublicApi"]},constructor:OpenEntitiesInTabsAction$,super$9rsF:function(){com.coremedia.cms.editor.sdk.actions.OpenEntitiesInTabsActionBase.prototype.constructor.apply(this,arguments)},config:{entitiesValueExpression:null,entitiesVariableName:null,background:false},statics:{ACTION_ID:"openEntitiesInTabsActionBase"},requires:["com.coremedia.cms.editor.sdk.actions.OpenEntitiesInTabsActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.LinkListPasteAction",function(LinkListPasteAction){function ACTION_ID$static_(){LinkListPasteAction.ACTION_ID=com.coremedia.cms.editor.sdk.clipboard.PasteFromClipboardAction.ACTION_ID}function LinkListPasteAction$(config){if(arguments.length<=0)config=null;if(config.replace!==undefined)this.replace=config.replace;this.super$IZ66(config)}function defaultHandler(){var contentsToPaste=com.coremedia.cms.editor.sdk.clipboard.Clipboard.getInstance().getContents();
try{if(this.replace)this.linkListWrapper.setLinks(contentsToPaste);else this.linkListWrapper.addLinks(contentsToPaste)}catch(e){if(AS3.is(e,AS3.Error)){var errorMsg=e.message||"";var dialogTitle=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","dialog_pasteErrorTitle_text");com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showInfo(dialogTitle,errorMsg);return}else throw e;}this.selectedValuesExpression.setValue(contentsToPaste)}function createIconCls(){return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions",
"Action_pasteFromClipboard_icon")}function calculateDisabled(){var clipboard=com.coremedia.cms.editor.sdk.clipboard.Clipboard.getInstance();if(clipboard.getOperation()===com.coremedia.cms.editor.sdk.clipboard.Clipboard.MOVE)return true;var contents=clipboard.getContents();if(contents.length===0||com.coremedia.cms.editor.sdk.actions.AbstractLinkListAction.prototype.calculateDisabled.call(this))return true;return!this.replace&&this.linkListWrapper.getFreeCapacity()<contents.length}return{extend:"com.coremedia.cms.editor.sdk.actions.AbstractLinkListAction",
metadata:{"":["PublicApi"]},replace:false,constructor:LinkListPasteAction$,super$IZ66:function(){com.coremedia.cms.editor.sdk.actions.AbstractLinkListAction.prototype.constructor.apply(this,arguments)},defaultHandler:defaultHandler,createIconCls:createIconCls,calculateDisabled:calculateDisabled,statics:{ACTION_ID:undefined,__initStatics__:function(){ACTION_ID$static_()}},requires:["AS3.Error","com.coremedia.cms.editor.sdk.actions.AbstractLinkListAction","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.clipboard.Clipboard",
"com.coremedia.cms.editor.sdk.clipboard.PasteFromClipboardAction","com.coremedia.cms.editor.sdk.util.MessageBoxUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.DeleteBlobActionBase",function(DeleteBlobActionBase){function DeleteBlobActionBase$(config){if(arguments.length<=0)config=null;AS3.setBindable(this,"blobValueExpression",AS3.getBindable(config,"blobValueExpression"));this.super$kDKQ(AS3.cast(com.coremedia.cms.editor.sdk.actions.DeleteBlobAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,"deleteBlob",{handler:AS3.bind(this,"deleteBlob$kDKQ")})))}function deleteBlob(){AS3.getBindable(this,
"blobValueExpression").setValue(null)}function isDisabledFor(contents){var newValue=AS3.getBindable(this,"blobValueExpression").getValue();return!newValue||newValue.getSize()===undefined}function setContents(contents){com.coremedia.cms.editor.sdk.actions.ContentUpdateAction.prototype.setContents.call(this,contents)}return{extend:"com.coremedia.cms.editor.sdk.actions.ContentUpdateAction",constructor:DeleteBlobActionBase$,super$kDKQ:function(){com.coremedia.cms.editor.sdk.actions.ContentUpdateAction.prototype.constructor.apply(this,
arguments)},deleteBlob$kDKQ:deleteBlob,isDisabledFor:isDisabledFor,setContents:setContents,config:{blobValueExpression:null},requires:["com.coremedia.cms.editor.sdk.actions.ContentUpdateAction"],uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil","com.coremedia.cms.editor.sdk.actions.DeleteBlobAction"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.DeleteSavedSearchActionBase",function(DeleteSavedSearchActionBase){function DeleteSavedSearchActionBase$(config){if(arguments.length<=0)config=null;this.super$$5PW(AS3.cast(com.coremedia.cms.editor.sdk.actions.DeleteSavedSearchAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,"deleteSearch")));this.setHandler(AS3.bind(this,"deleteSavedSearch$$5PW"),this)}function deleteSavedSearch(){var this$=this;var existingSearches=
com.coremedia.cms.editor.sdk.collectionview.CollectionViewUtil.getSavedSearches();if(existingSearches){var newSavedSearches=existingSearches.filter(function(savedSearch){return savedSearch["_name"]!=this$.getState()["_name"]});com.coremedia.cms.editor.sdk.collectionview.CollectionViewUtil.updateSavedSearches(newSavedSearches)}}return{extend:"com.coremedia.cms.editor.sdk.actions.StateAction",constructor:DeleteSavedSearchActionBase$,super$$5PW:function(){com.coremedia.cms.editor.sdk.actions.StateAction.prototype.constructor.apply(this,
arguments)},deleteSavedSearch$$5PW:deleteSavedSearch,requires:["com.coremedia.cms.editor.sdk.actions.StateAction"],uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil","com.coremedia.cms.editor.sdk.actions.DeleteSavedSearchAction","com.coremedia.cms.editor.sdk.collectionview.CollectionViewUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.StateActionBase",function(StateActionBase){function StateActionBase$(config){if(arguments.length<=0)config=null;this.super$JpND(config);this.state$JpND=AS3.getBindable(config,"state");if(!this.state$JpND)this.setDisabled(true)}function setState(value){this.state$JpND=value;if(this.state$JpND)this.setDisabled(false);else this.setDisabled(true)}function getState(){return this.state$JpND}return{extend:"Ext.Action",metadata:{"":["PublicApi"],setState:["InjectFromExtParent",
["variableNameConfig","stateVariableName"]]},state$JpND:null,constructor:StateActionBase$,super$JpND:function(){Ext.Action.prototype.constructor.apply(this,arguments)},setState:setState,getState:getState,requires:["Ext.Action"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.MoveDialogActionBase",function(MoveDialogActionBase){function MoveDialogActionBase$(config){if(arguments.length<=0)config=null;AS3.setBindable(config,"handler",AS3.bind(this,"handleAction$Alnh"));this.action$Alnh=AS3.getBindable(config,"command");this.dialog$Alnh=AS3.getBindable(config,"dialog");if(!this.dialog$Alnh)throw new AS3.Error("MoveDialogAction must be added to an instance of ext.Window");this.super$Alnh(config)}function handleAction(){if(this.action$Alnh===
com.coremedia.cms.editor.sdk.actions.MoveAction.INCREASE)return this.updateWindowSize$Alnh(MoveDialogActionBase.OFFSET);else if(this.action$Alnh===com.coremedia.cms.editor.sdk.actions.MoveAction.DECREASE)return this.updateWindowSize$Alnh(-MoveDialogActionBase.OFFSET);else if(this.action$Alnh===com.coremedia.cms.editor.sdk.actions.MoveAction.RIGHT)return this.moveBy$Alnh(MoveDialogActionBase.OFFSET,0);else if(this.action$Alnh===com.coremedia.cms.editor.sdk.actions.MoveAction.LEFT)return this.moveBy$Alnh(-MoveDialogActionBase.OFFSET,
0);else if(this.action$Alnh===com.coremedia.cms.editor.sdk.actions.MoveAction.UP)return this.moveBy$Alnh(0,-MoveDialogActionBase.OFFSET);else if(this.action$Alnh===com.coremedia.cms.editor.sdk.actions.MoveAction.DOWN)return this.moveBy$Alnh(0,MoveDialogActionBase.OFFSET);return false}function moveBy(x,y){var positionX=this.dialog$Alnh.getPosition()[0];var positionY=this.dialog$Alnh.getPosition()[1];positionX+=x;positionY+=y;this.dialog$Alnh.setPagePosition(positionX,positionY,false);return true}function updateWindowSize(delta){if(this.dialog$Alnh.resizable){this.dialog$Alnh.setSize(this.dialog$Alnh.getWidth()+
delta,this.dialog$Alnh.getHeight()+delta);this.moveBy$Alnh(delta/2*-1,delta/2*-1);return true}return false}return{extend:"com.coremedia.cms.editor.sdk.actions.MoveAction",metadata:{"":["PublicApi"]},action$Alnh:null,dialog$Alnh:null,constructor:MoveDialogActionBase$,super$Alnh:function(){com.coremedia.cms.editor.sdk.actions.MoveAction.prototype.constructor.apply(this,arguments)},handleAction$Alnh:handleAction,moveBy$Alnh:moveBy,updateWindowSize$Alnh:updateWindowSize,statics:{OFFSET:10},requires:["AS3.Error",
"com.coremedia.cms.editor.sdk.actions.MoveAction"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.UndeleteActionBase",function(UndeleteActionBase){function UndeleteActionBase$(config){if(arguments.length<=0)config=null;this.super$vU9s(AS3.cast(com.coremedia.cms.editor.sdk.actions.UndeleteAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,"undelete",{handler:AS3.bind(this,"doUndelete$vU9s")})))}function isHiddenFor(contents){var needsUndelete=false;for(var i=0;i<contents.length;i++){var content=contents[i];if(!content.getRepository().getAccessControl().mayPerform(content,
com.coremedia.cap.content.authorization.Right.DELETE))return true;if(content.isDeleted())needsUndelete=true}return!needsUndelete}function doUndelete(){var this$=this;var contents=this.getContents();if(!contents||!contents.length)return;var content=contents[0];com.coremedia.cms.editor.sdk.editorContext.getCollectionViewExtender().findExtension(content,function(extension){extension&&extension.getContentTreeRelation().undeleteContents(contents,AS3.bind(this$,"afterUndelete$vU9s"))})}function afterUndelete(result){if(result.successful){var activeContent=
com.coremedia.cms.editor.sdk.desktop.WorkArea.ACTIVE_CONTENT_VALUE_EXPRESSION.getValue();if(activeContent&&activeContent.getIssues())activeContent.getIssues().invalidate()}else{var undeleteResultWindowCfg=AS3.cast(com.coremedia.cms.editor.sdk.bulkOperation.UndeleteResultWindow,{});AS3.setBindable(undeleteResultWindowCfg,"bulkResultItems",result.results);Ext.ComponentManager.create(undeleteResultWindowCfg).show()}}return{extend:"com.coremedia.cms.editor.sdk.actions.ContentAction",metadata:{"":["PublicApi"]},
constructor:UndeleteActionBase$,super$vU9s:function(){com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.constructor.apply(this,arguments)},isHiddenFor:isHiddenFor,doUndelete$vU9s:doUndelete,afterUndelete$vU9s:afterUndelete,requires:["Ext.ComponentManager","com.coremedia.cap.content.authorization.Right","com.coremedia.cms.editor.sdk.actions.ContentAction"],uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil","com.coremedia.cms.editor.sdk.actions.UndeleteAction","com.coremedia.cms.editor.sdk.bulkOperation.UndeleteResultWindow",
"com.coremedia.cms.editor.sdk.desktop.WorkArea","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.OpenReferenceWindowAction",function(OpenReferenceWindowAction){function OpenReferenceWindowAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.ui.actions.OpenDialogAction,{});var defaults_$1=AS3.cast(OpenReferenceWindowAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var window_22_5_$1=AS3.cast(Ext.window.Window,{});window_22_5_$1.constrainHeader=true;window_22_5_$1.constrain=true;AS3.setBindable(config_$1,
"dialogDefaults",window_22_5_$1);var editor_Premular_26_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.Premular,{});config_$1.renderToParent=editor_Premular_26_5_$1;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$$zBy(config_$1)}return{extend:"com.coremedia.ui.actions.OpenDialogAction",metadata:{"":["PublicApi"]},constructor:OpenReferenceWindowAction$,super$$zBy:function(){com.coremedia.ui.actions.OpenDialogAction.prototype.constructor.apply(this,arguments)},requires:["Ext.window.Window",
"com.coremedia.ui.actions.OpenDialogAction","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.Premular"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.ShowTabContentInRepositoryActionBase",function(ShowTabContentInRepositoryActionBase){function ShowTabContentInRepositoryActionBase$(config){if(arguments.length<=0)config=null;AS3.setBindable(config,"handler",AS3.bind(this,"_handler$DVWY"));this.super$DVWY(config)}function _handler(){if(!this.getContextClickedContent())return;var content=this.getContextClickedContent();var contentTypeName=content.getType().getName();com.coremedia.cms.editor.sdk.editorContext.getCollectionViewExtender().getContentTreeRelation(contentTypeName).showInTree([content])}
function checkHidden(){return!this.getContextClickedContent()}return{extend:"com.coremedia.cms.editor.sdk.actions.AbstractTabContextMenuContentAction",constructor:ShowTabContentInRepositoryActionBase$,super$DVWY:function(){com.coremedia.cms.editor.sdk.actions.AbstractTabContextMenuContentAction.prototype.constructor.apply(this,arguments)},_handler$DVWY:_handler,checkHidden:checkHidden,requires:["com.coremedia.cms.editor.sdk.actions.AbstractTabContextMenuContentAction"],uses:["com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.OpenBlobActionBase",function(OpenBlobActionBase){function OpenBlobActionBase$(config){if(arguments.length<=0)config=null;this.super$8h8v(AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenBlobAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,"openBlob",{handler:AS3.bind(this,"openBlob$8h8v")})));AS3.setBindable(this,"blobValueExpression",AS3.getBindable(config,"blobValueExpression"));AS3.getBindable(this,"blobValueExpression").addChangeListener(AS3.bind(this,
"updateDisabled$8h8v"))}function addComponent(comp){Ext.Action.prototype.addComponent.call(this,comp);this.updateDisabled$8h8v()}function updateDisabled(){var newValue=AS3.getBindable(this,"blobValueExpression").getValue();this.setDisabled(!newValue||newValue.getSize()===undefined)}function openBlob(){var newValue=AS3.getBindable(this,"blobValueExpression").getValue();window.open(newValue.getUri())}function removeComponent(comp){Ext.Action.prototype.removeComponent.call(this,comp);if(this.items&&
this.items.length===0)AS3.getBindable(this,"blobValueExpression")&&AS3.getBindable(this,"blobValueExpression").removeChangeListener(AS3.bind(this,"updateDisabled$8h8v"))}return{extend:"Ext.Action",constructor:OpenBlobActionBase$,super$8h8v:function(){Ext.Action.prototype.constructor.apply(this,arguments)},addComponent:addComponent,updateDisabled$8h8v:updateDisabled,openBlob$8h8v:openBlob,removeComponent:removeComponent,config:{blobValueExpression:null},requires:["Ext.Action"],uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil",
"com.coremedia.cms.editor.sdk.actions.OpenBlobAction"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.OpenInTabActionBase",function(OpenInTabActionBase){function OpenInTabActionBase$(config){if(arguments.length<=0)config=null;this.background$z7I2=!!AS3.getBindable(config,"background");var actionName=this.background$z7I2?"openInBackgroundTab":"openInTab";this.super$z7I2(AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenInTabAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,actionName,{handler:AS3.bind(this,"openInTab$z7I2")})))}
function isDisabledFor(contents){var notAvailable=!contents.every(com.coremedia.cms.editor.sdk.desktop.ComponentBasedEntityWorkAreaTabType.canBeOpenedInTab);return notAvailable||contents.length===1&&contents[0]===com.coremedia.cms.editor.sdk.desktop.WorkArea.ACTIVE_CONTENT_VALUE_EXPRESSION.getValue()}function isHiddenFor(contents){var notAvailable=!contents.every(com.coremedia.cms.editor.sdk.desktop.ComponentBasedEntityWorkAreaTabType.canBeOpenedInTab);return notAvailable}function openInTab(contents){var myContents=
AS3.is(contents,Array)&&contents||this.getContents();if(!this.isDisabledFor(myContents))com.coremedia.cms.editor.sdk.editorContext.getWorkAreaTabManager().openTabsForEntities(myContents,this.background$z7I2)}return{extend:"com.coremedia.cms.editor.sdk.actions.ContentAction",metadata:{"":["PublicApi"]},background$z7I2:false,constructor:OpenInTabActionBase$,super$z7I2:function(){com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.constructor.apply(this,arguments)},isDisabledFor:isDisabledFor,
isHiddenFor:isHiddenFor,openInTab$z7I2:openInTab,requires:["com.coremedia.cms.editor.sdk.actions.ContentAction"],uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil","com.coremedia.cms.editor.sdk.actions.OpenInTabAction","com.coremedia.cms.editor.sdk.desktop.ComponentBasedEntityWorkAreaTabType","com.coremedia.cms.editor.sdk.desktop.WorkArea","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.ShowCollectionViewAction",function(ShowCollectionViewAction){function LAST_EDITED_BY_ME$static_(){ShowCollectionViewAction.LAST_EDITED_BY_ME=com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants.LAST_EDITED_BY_ME}function LAST_EDITED_BY_ANYONE$static_(){ShowCollectionViewAction.LAST_EDITED_BY_ANYONE=com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants.LAST_EDITED_BY_ANYONE}function ShowCollectionViewAction$(config){if(arguments.length<=
0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ShowCollectionViewActionBase,{});var defaults_$1=AS3.cast(ShowCollectionViewAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$aMI1(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.ShowCollectionViewActionBase",metadata:{"":["PublicApi"]},constructor:ShowCollectionViewAction$,super$aMI1:function(){com.coremedia.cms.editor.sdk.actions.ShowCollectionViewActionBase.prototype.constructor.apply(this,
arguments)},config:{folder:null,preserveFilter:false,searchText:null,contentType:null,view:null,inProduction:false,editedByMe:false,editedByOthers:false,notEdited:false,approved:false,published:false,lastEditedBy:null,filters:null,orderBy:null,forceReload:false},statics:{LAST_EDITED_BY_ME:undefined,LAST_EDITED_BY_ANYONE:undefined,__initStatics__:function(){LAST_EDITED_BY_ME$static_();LAST_EDITED_BY_ANYONE$static_()}},requires:["com.coremedia.cms.editor.sdk.actions.ShowCollectionViewActionBase","net.jangaroo.ext.Exml"],
uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.DeleteActionBase",function(DeleteActionBase){function DeleteActionBase$(config){if(arguments.length<=0)config=null;this.super$gXIT(AS3.cast(com.coremedia.cms.editor.sdk.actions.DeleteAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,"delete",{handler:AS3.bind(this,"startDelete$gXIT")})))}function isDisabledFor(contents){return com.coremedia.cms.editor.sdk.actions.DeleteActionUtil.isDeleteDisabledFor(contents)}function isHiddenFor(contents){var hasMultipleParents=
com.coremedia.cms.editor.sdk.actions.DeleteActionUtil.hasMultipleParentsFor(contents);if(hasMultipleParents===undefined)return undefined;return com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.isHiddenFor.call(this,contents)||hasMultipleParents}function startDelete(){var contents=this.getContents();com.coremedia.cms.editor.sdk.actions.DeleteActionUtil.startDelete(contents)}return{extend:"com.coremedia.cms.editor.sdk.actions.ContentAction",metadata:{"":["PublicApi"]},constructor:DeleteActionBase$,
super$gXIT:function(){com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.constructor.apply(this,arguments)},isDisabledFor:isDisabledFor,isHiddenFor:isHiddenFor,startDelete$gXIT:startDelete,requires:["com.coremedia.cms.editor.sdk.actions.Actions_properties","com.coremedia.cms.editor.sdk.actions.ContentAction"],uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil","com.coremedia.cms.editor.sdk.actions.DeleteAction","com.coremedia.cms.editor.sdk.actions.DeleteActionUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.OpenPremularActionBase",function(OpenPremularActionBase){function OpenPremularActionBase$(config){if(arguments.length<=0)config=null;this.premularConfigurationsValueExpression$fGWE=AS3.getBindable(config,"premularConfigurationsValueExpression");AS3.setBindable(this,"background",!!AS3.getBindable(config,"background"));var actionName=AS3.getBindable(this,"background")?"openInBackgroundTab":"openInTab";this.super$fGWE(AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenPremularAction,
com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,actionName,{handler:AS3.bind(this,"openPremulars$fGWE")})))}function calculateDisabled(){var premularConfigurations=this.premularConfigurationsValueExpression$fGWE.getValue();return!(premularConfigurations&&premularConfigurations.length>0)}function openPremulars(){var premularConfigurations=this.premularConfigurationsValueExpression$fGWE.getValue();com.coremedia.cms.editor.sdk.editorContext.getContentTabManager().openPremulars(premularConfigurations,
AS3.getBindable(this,"background"))}return{extend:"com.coremedia.ui.actions.DependencyTrackedAction",metadata:{"":["PublicApi"]},premularConfigurationsValueExpression$fGWE:null,constructor:OpenPremularActionBase$,super$fGWE:function(){com.coremedia.ui.actions.DependencyTrackedAction.prototype.constructor.apply(this,arguments)},calculateDisabled:calculateDisabled,openPremulars$fGWE:openPremulars,config:{background:false},requires:["com.coremedia.ui.actions.DependencyTrackedAction"],uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil",
"com.coremedia.cms.editor.sdk.actions.OpenPremularAction","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.ActionConfigUtil",function(ActionConfigUtil){function extendConfiguration$static(properties,config,actionName,overrideConfig){var result=Ext.apply({iconCls:properties["Action_"+actionName+"_icon"],text:properties["Action_"+actionName+"_text"],textForContextProxy:properties["Action_"+actionName+"ContentProxy_text"],tooltip:properties["Action_"+actionName+"_tooltip"],tooltipForContextProxy:properties["Action_"+actionName+"ContentProxy_tooltip"]},config);
if(overrideConfig)Ext.apply(result,overrideConfig);return result}function extendConfig$static(config,actionName,overrideConfig){return ActionConfigUtil.extendConfiguration(mx.resources.ResourceManager.getInstance().getResourceBundle(null,"com.coremedia.cms.editor.sdk.actions.Actions").content,config,actionName,overrideConfig)}function ActionConfigUtil$(){}return{constructor:ActionConfigUtil$,statics:{extendConfiguration:extendConfiguration$static,extendConfig:extendConfig$static},requires:["Ext",
"com.coremedia.cms.editor.sdk.actions.Actions_properties","mx.resources.ResourceManager"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.PublishActionBase",function(PublishActionBase){function PublishActionBase$(config){if(arguments.length<=0)config=null;this.super$9S_B(AS3.cast(com.coremedia.cms.editor.sdk.actions.PublishAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,"publish")),com.coremedia.cms.editor.sdk.actions.AbstractPublishAction.OPERATION_PUBLISH,com.coremedia.cms.editor.sdk.desktop.ActionsToolbar.PUBLISH_BUTTON_ITEM_ID)}function isDisabledFor(contents){var needsPublication=
false;for(var i=0;i<contents.length;i++){var content=contents[i];if(content.isCheckedOutByOther()||!content.getRepository().getAccessControl().mayPerform(content,com.coremedia.cap.content.authorization.Right.PUBLISH))return true;var lifecycleStatus=content.getLifecycleStatus();if(lifecycleStatus===com.coremedia.cap.content.LifecycleStatus.APPROVED)needsPublication=true;else if(lifecycleStatus!==com.coremedia.cap.content.LifecycleStatus.PUBLISHED)return true}return!needsPublication}function calculateHidden(){return!AS3.cast(com.coremedia.cms.editor.sdk.EditorContextImpl,
com.coremedia.cms.editor.sdk.editorContext).isStateBasedPublicationEnabled()||com.coremedia.cms.editor.sdk.actions.AbstractPublishAction.prototype.calculateHidden.call(this)}function doPublish(contents,publicationService,callback){publicationService.publishAll(contents,callback)}return{extend:"com.coremedia.cms.editor.sdk.actions.AbstractPublishAction",metadata:{"":["PublicApi"]},constructor:PublishActionBase$,super$9S_B:function(){com.coremedia.cms.editor.sdk.actions.AbstractPublishAction.prototype.constructor.apply(this,
arguments)},isDisabledFor:isDisabledFor,calculateHidden:calculateHidden,doPublish:doPublish,requires:["com.coremedia.cap.content.LifecycleStatus","com.coremedia.cap.content.authorization.Right","com.coremedia.cms.editor.sdk.actions.AbstractPublishAction"],uses:["com.coremedia.cms.editor.sdk.EditorContextImpl","com.coremedia.cms.editor.sdk.actions.ActionConfigUtil","com.coremedia.cms.editor.sdk.actions.PublishAction","com.coremedia.cms.editor.sdk.desktop.ActionsToolbar","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.OpenTabActionBase",function(OpenTabActionBase){function OpenTabActionBase$(config){if(arguments.length<=0)config=null;this.super$LnHd(AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenTabAction,Ext.apply({"handler":AS3.bind(this,"openTabHandler$LnHd")},config)));AS3.setBindable(this,"tab",AS3.getBindable(config,"tab"));this.singleton$LnHd=AS3.getBindable(config,"singleton")}function openTabHandler(){if(this.singleton$LnHd&&!this.added$LnHd){var findByType=
com.coremedia.cms.editor.sdk.editorContext.getWorkArea().query(com.coremedia.ui.util.createComponentSelector()._xtype(AS3.getBindable(this,"tab").xtype,true).build());if(findByType&&findByType.length>0)this.added$LnHd=findByType[0]}if(!this.singleton$LnHd||!this.added$LnHd)this.added$LnHd=AS3.as(com.coremedia.cms.editor.sdk.editorContext.getWorkArea().add(AS3.getBindable(this,"tab"))[0],Ext.panel.Panel);if(this.added$LnHd){com.coremedia.cms.editor.sdk.editorContext.getWorkArea().setActiveTab(this.added$LnHd);
if(this.singleton$LnHd)this.added$LnHd.addListener("beforedestroy",AS3.bind(this,"singletonDestroyed$LnHd"))}}function singletonDestroyed(){this.added$LnHd.removeListener("beforedestroy",AS3.bind(this,"singletonDestroyed$LnHd"));this.added$LnHd=null}return{extend:"Ext.Action",metadata:{"":["PublicApi"]},singleton$LnHd:false,added$LnHd:null,constructor:OpenTabActionBase$,super$LnHd:function(){Ext.Action.prototype.constructor.apply(this,arguments)},openTabHandler$LnHd:openTabHandler,singletonDestroyed$LnHd:singletonDestroyed,
config:{tab:null},requires:["Ext","Ext.Action","Ext.panel.Panel","com.coremedia.ui.util.createComponentSelector"],uses:["com.coremedia.cms.editor.sdk.actions.OpenTabAction","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.CollectionViewModelActionBase",function(CollectionViewModelActionBase){function CollectionViewModelActionBase$(config){if(arguments.length<=0)config=null;this.super$n$J2(config);this.property$n$J2=AS3.getBindable(config,"property");this.value$n$J2=AS3.getBindable(config,"value");this.pressedExpression$n$J2=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"calculatePressed$n$J2"));this.pressedExpression$n$J2.addChangeListener(AS3.bind(this,
"updatePressedStatus$n$J2"));this.updatePressedStatus$n$J2();this.disabledExpression$n$J2=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"calculateDisabled"));this.disabledExpression$n$J2.addChangeListener(AS3.bind(this,"updateDisabledStatus$n$J2"));this.updateDisabledStatus$n$J2()}function addComponent(comp){Ext.Action.prototype.addComponent.call(this,comp);this.updatePressedStatus$n$J2();this.updateDisabledStatus$n$J2()}function calculatePressed(){if(!this.getCollectionViewState$n$J2())return true;
return this.getCollectionViewState$n$J2().get(this.property$n$J2)===this.value$n$J2}function calculateDisabled(){return false}function updatePressedStatus(){var value=this.pressedExpression$n$J2.getValue();var disabled=value===undefined||value;this.each(function(component){var button=AS3.as(component,Ext.button.Button);if(button)button.toggle(disabled)})}function updateDisabledStatus(){var value=this.disabledExpression$n$J2.getValue();var disabled=value===undefined||value;this.setDisabled(disabled)}
function _handler(){this.getCollectionViewState$n$J2().set(this.property$n$J2,this.value$n$J2)}function isPressed(){return this.pressedExpression$n$J2.getValue()}function getCollectionViewState(){return AS3.cast(com.coremedia.cms.editor.sdk.EditorContextImpl,com.coremedia.cms.editor.sdk.editorContext).getCollectionViewModel().getMainStateBean()}return{extend:"Ext.Action",metadata:{"":["PublicApi"]},property$n$J2:null,value$n$J2:null,pressedExpression$n$J2:null,disabledExpression$n$J2:null,constructor:CollectionViewModelActionBase$,
super$n$J2:function(){Ext.Action.prototype.constructor.apply(this,arguments)},addComponent:addComponent,calculatePressed$n$J2:calculatePressed,calculateDisabled:calculateDisabled,updatePressedStatus$n$J2:updatePressedStatus,updateDisabledStatus$n$J2:updateDisabledStatus,_handler:_handler,isPressed:isPressed,getCollectionViewState$n$J2:getCollectionViewState,requires:["Ext.Action","Ext.button.Button","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.sdk.EditorContextImpl",
"com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.ParameterizedBeanAction",function(ParameterizedBeanAction){function ParameterizedBeanAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ParameterizedBeanActionBase,{});var defaults_$1=AS3.cast(ParameterizedBeanAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$igxK(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.ParameterizedBeanActionBase",
constructor:ParameterizedBeanAction$,super$igxK:function(){com.coremedia.cms.editor.sdk.actions.ParameterizedBeanActionBase.prototype.constructor.apply(this,arguments)},config:{restMethod:null,writeJson:false},requires:["com.coremedia.cms.editor.sdk.actions.ParameterizedBeanActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.NewContentAction",function(NewContentAction){function NewContentAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.NewContentActionBase,{});var defaults_$1=AS3.cast(NewContentAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$r6Yw(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.NewContentActionBase",constructor:NewContentAction$,
super$r6Yw:function(){com.coremedia.cms.editor.sdk.actions.NewContentActionBase.prototype.constructor.apply(this,arguments)},config:{folderValueExpression:null,createdContentValueExpression:null,primaryDisabledExpression:null,hideWhenDisabled:false,contentType:null,name:null},requires:["com.coremedia.cms.editor.sdk.actions.NewContentActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.AbstractModifyLinksAction",function(AbstractModifyLinksAction){function AbstractModifyLinksAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.AbstractModifyLinksActionBase,{});var defaults_$1=AS3.cast(AbstractModifyLinksAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$MsGe(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.AbstractModifyLinksActionBase",
metadata:{"":["PublicApi"]},constructor:AbstractModifyLinksAction$,super$MsGe:function(){com.coremedia.cms.editor.sdk.actions.AbstractModifyLinksActionBase.prototype.constructor.apply(this,arguments)},config:{propertyName:null,maxCardinality:0,linkType:null},requires:["com.coremedia.cms.editor.sdk.actions.AbstractModifyLinksActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.AbstractPublishAction",function(AbstractPublishAction){function AbstractPublishAction$(config,publishOperation,targetButton){if(arguments.length<=2)targetButton=null;this.super$WdEO(AS3.cast(com.coremedia.cms.editor.sdk.actions.ContentAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,publishOperation,{handler:AS3.bind(this,"startPublication")})));this.publishOperation$WdEO=publishOperation;this.targetButton$WdEO=targetButton}
function startPublication(){var this$=this;var contents=this.getContents();if(contents&&contents.length){com.coremedia.cms.editor.sdk.publication.PublisherState.publicationStarted(this.publishOperation$WdEO);var publicationService=AS3.cast(com.coremedia.cap.content.Content,contents[0]).getRepository().getPublicationService();this.doPublish(contents,publicationService,function(result){this$.completed$WdEO(contents,result)})}}function doPublish(contents,publicationService,callback){throw new AS3.Error("please override in subclass");
}function completed(contents,result){com.coremedia.cms.editor.sdk.publication.PublisherState.publicationFinished(contents,result,this.publishOperation$WdEO,this.targetButton$WdEO)}return{extend:"com.coremedia.cms.editor.sdk.actions.ContentAction",metadata:{"":["PublicApi"]},publishOperation$WdEO:null,targetButton$WdEO:null,constructor:AbstractPublishAction$,super$WdEO:function(){com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.constructor.apply(this,arguments)},startPublication:startPublication,
doPublish:doPublish,completed$WdEO:completed,statics:{OPERATION_PUBLISH:"publish",OPERATION_APPROVE_PUBLISH:"approvePublish",OPERATION_WITHDRAW:"withdraw"},requires:["AS3.Error","com.coremedia.cap.content.Content","com.coremedia.cms.editor.sdk.actions.ContentAction"],uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil","com.coremedia.cms.editor.sdk.publication.PublisherState"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.ParameterizedBeanActionBase",function(ParameterizedBeanActionBase){function ParameterizedBeanActionBase$(config){if(arguments.length<=0)config=null;this.super$Tf$5(AS3.cast(com.coremedia.cms.editor.sdk.actions.ParameterizedBeanAction,Ext.apply({"handler":AS3.bind(this,"executeAction")},config)));AS3.setBindable(this,"valueExpression",AS3.getBindable(config,"valueExpression"));this.restMethod$Tf$5=AS3.getBindable(config,"restMethod");this.writeJson$Tf$5=
AS3.getBindable(config,"writeJson")?AS3.getBindable(config,"writeJson"):false}function makeRequestParameters(bean){throw new AS3.Error("to be implemented in subclasses");}function handleResult(methodResponse,bean){throw new AS3.Error("to be implemented in subclasses");}function executeAction(){var this$=this;var bean=AS3.getBindable(this,"valueExpression").getValue();var requestParameters=this.makeRequestParameters(bean);if(requestParameters){var requestPath=bean.getUriPath()+(this.restMethod$Tf$5?
"/"+this.restMethod$Tf$5:"");var remoteServiceMethod=new com.coremedia.ui.data.impl.RemoteServiceMethod(requestPath,"POST",this.writeJson$Tf$5);remoteServiceMethod.request(requestParameters,function(response){this$.handleResult(response,bean)})}}return{extend:"com.coremedia.ui.actions.DependencyTrackedAction",restMethod$Tf$5:null,writeJson$Tf$5:false,constructor:ParameterizedBeanActionBase$,super$Tf$5:function(){com.coremedia.ui.actions.DependencyTrackedAction.prototype.constructor.apply(this,arguments)},
makeRequestParameters:makeRequestParameters,handleResult:handleResult,executeAction:executeAction,config:{valueExpression:null},requires:["AS3.Error","Ext","com.coremedia.ui.actions.DependencyTrackedAction","com.coremedia.ui.data.impl.RemoteServiceMethod"],uses:["com.coremedia.cms.editor.sdk.actions.ParameterizedBeanAction"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.SwitchViewActionBase",function(SwitchViewActionBase){function SwitchViewActionBase$(config){if(arguments.length<=0)config=null;this.collectionViewModel$xGFh=AS3.getBindable(config,"collectionViewModel");this.view$xGFh=AS3.getBindable(config,"view")?AS3.getBindable(config,"view"):undefined;this.onUnpressSwitchToView$xGFh=AS3.getBindable(config,"onUnpressSwitchToView")?AS3.getBindable(config,"onUnpressSwitchToView"):undefined;delete config["collectionViewModel"];
delete config["view"];delete config["onUnpressSwitchToView"];this.super$xGFh(config);this.collectionViewModel$xGFh.getMainStateBean().addPropertyChangeListener(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.VIEW_PROPERTY,AS3.bind(this,"setPressed"))}function addComponent(comp){Ext.Action.prototype.addComponent.call(this,comp);this.setPressed()}function _handler(){if(this.view$xGFh)if(this.onUnpressSwitchToView$xGFh&&this.collectionViewModel$xGFh.getMainStateBean().get(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.VIEW_PROPERTY)===
this.view$xGFh)this.collectionViewModel$xGFh.getMainStateBean().set(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.VIEW_PROPERTY,this.onUnpressSwitchToView$xGFh);else this.collectionViewModel$xGFh.getMainStateBean().set(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.VIEW_PROPERTY,this.view$xGFh)}function setPressed(){var pressed;if(this.view$xGFh){pressed=this.collectionViewModel$xGFh.getMainStateBean().get(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.VIEW_PROPERTY)===
this.view$xGFh;this.each(function(component){var button=AS3.as(component,Ext.button.Button);if(button)button.toggle(pressed)})}}function removeComponent(comp){Ext.Action.prototype.removeComponent.call(this,comp);if(this.items&&this.items.length===0)this.collectionViewModel$xGFh.getMainStateBean().removePropertyChangeListener(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.VIEW_PROPERTY,AS3.bind(this,"setPressed"))}return{extend:"Ext.Action",collectionViewModel$xGFh:null,view$xGFh:null,
onUnpressSwitchToView$xGFh:null,constructor:SwitchViewActionBase$,super$xGFh:function(){Ext.Action.prototype.constructor.apply(this,arguments)},addComponent:addComponent,_handler:_handler,setPressed:setPressed,removeComponent:removeComponent,requires:["Ext.Action","Ext.button.Button"],uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.ContentActionBase",function(ContentActionBase){function ContentActionBase$(config){if(arguments.length<=0)config=null;this.doHide$XQfr=config.hidden||false;if(AS3.getBindable(config,"contentValueExpression"))this.contentValueExpression$XQfr=AS3.getBindable(config,"contentValueExpression");else this.contentValueExpression$XQfr=com.coremedia.ui.data.ValueExpressionFactory.createFromValue();if(AS3.getBindable(config,"contents"))this.contentValueExpression$XQfr.setValue(AS3.getBindable(config,
"contents"));this.hideOnDisable$XQfr=AS3.getBindable(config,"hideOnDisable");this.hideForContentProxy$XQfr=config["hideForContentProxy"];this.super$XQfr(config)}function addComponent(comp){com.coremedia.ui.actions.DependencyTrackedAction.prototype.addComponent.call(this,comp);this.contentValueExpression$XQfr.addChangeListener(AS3.bind(this,"changeTextForContentProxy$XQfr"));this.contentValueExpression$XQfr.addChangeListener(AS3.bind(this,"changeTooltipForContentProxy$XQfr"))}function setDisabled(disabled){if(this.hideOnDisable$XQfr)this.setHidden(disabled);
else com.coremedia.ui.actions.DependencyTrackedAction.prototype.setDisabled.call(this,disabled)}function calculateDisabled(){var contents=this.getContents();return!contents||contents.length===0||this.isDisabledFor(contents)}function calculateHidden(){if(this.doHide$XQfr)return true;var entities=this.getEntities$XQfr();var contents=com.coremedia.cap.content.ContentProxyHelper.getContents(entities,!this.hideForContentProxy$XQfr);if(contents.length<entities.length)return true;return this.isHiddenFor(contents)}
function getValueExpression(){return this.contentValueExpression$XQfr}function setContents(contents){this.contentValueExpression$XQfr.setValue(contents)}function changeTextForContentProxy(){var defaultText=this.initialConfig.text;var proxyText=this.initialConfig.textForContextProxy;if(defaultText&&proxyText)Ext.each(this["items"],this.updateComponentFunction$XQfr("setText",defaultText,proxyText,"text"))}function changeTooltipForContentProxy(){var defaultTooltip=this.initialConfig.tooltip;var proxyTooltip=
this.initialConfig.tooltipForContextProxy;if(defaultTooltip&&proxyTooltip)Ext.each(this["items"],this.updateComponentFunction$XQfr("setTooltip",defaultTooltip,proxyTooltip))}function updateComponentFunction(setter,defaultText,proxyText,initialValueProperty){var this$=this;if(arguments.length<=3)initialValueProperty=null;return function(component){if(component[setter]&&(!initialValueProperty||component[initialValueProperty])){var entities=this$.getEntities$XQfr();if(entities&&entities.length>0&&AS3.is(entities[0],
com.coremedia.cap.content.ContentProxy))component[setter](proxyText);else component[setter](defaultText)}}}function isDisabledFor(contents){return false}function isHiddenFor(contents){return false}function getContent(){return this.getContents()[0]}function getContents(){return com.coremedia.cap.content.ContentProxyHelper.getContents(this.getEntities$XQfr())}function getEntities(){return com.coremedia.ui.util.ArrayUtils.asArray(this.contentValueExpression$XQfr.getValue())}return{extend:"com.coremedia.ui.actions.DependencyTrackedAction",
mixins:["com.coremedia.ui.actions.ValueExpressionAction"],metadata:{"":["PublicApi"],setContents:["InjectFromExtParent",["variableNameConfig","contentVariableName"]]},contentValueExpression$XQfr:null,hideOnDisable$XQfr:false,hideForContentProxy$XQfr:false,doHide$XQfr:false,constructor:ContentActionBase$,super$XQfr:function(){com.coremedia.ui.actions.DependencyTrackedAction.prototype.constructor.apply(this,arguments)},addComponent:addComponent,setDisabled:setDisabled,calculateDisabled:calculateDisabled,
calculateHidden:calculateHidden,getValueExpression:getValueExpression,setContents:setContents,changeTextForContentProxy$XQfr:changeTextForContentProxy,changeTooltipForContentProxy$XQfr:changeTooltipForContentProxy,updateComponentFunction$XQfr:updateComponentFunction,isDisabledFor:isDisabledFor,isHiddenFor:isHiddenFor,getContent:getContent,getContents:getContents,getEntities$XQfr:getEntities,requires:["Ext","com.coremedia.cap.content.ContentProxy","com.coremedia.cap.content.ContentProxyHelper","com.coremedia.ui.actions.DependencyTrackedAction",
"com.coremedia.ui.actions.ValueExpressionAction","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.util.ArrayUtils"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.PasteLinkActionBase",function(PasteLinkActionBase){function PasteLinkActionBase$(config){if(arguments.length<=0)config=null;this.super$8Vpf(AS3.cast(com.coremedia.cms.editor.sdk.actions.PasteLinkAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,"pasteFromClipboard",{handler:AS3.bind(this,"pasteLink$8Vpf")})))}function isDisabledFor(contents){var content=this.getContents()[0];var disabled=true;var clipboard=com.coremedia.cms.editor.sdk.clipboard.Clipboard.getInstance();
if(content)disabled=com.coremedia.cms.editor.sdk.util.LinkListUtil.getFreeCapacity(this.getValueExpression(),this.getPropertyName(),this.getMaxCardinality())<clipboard.getContents().length;return disabled||clipboard.getContents().length===0||clipboard.getOperation()===com.coremedia.cms.editor.sdk.clipboard.Clipboard.MOVE}function pasteLink(){var originalValue=this.getLinks();if(!originalValue)return;var clipboard=com.coremedia.cms.editor.sdk.clipboard.Clipboard.getInstance();var contentsToPaste=clipboard.getContents();
if(contentsToPaste.length===0)return;var targetType=this.getLinkType();var failedContent=com.coremedia.cms.editor.sdk.util.LinkListUtil.containsContentNotMatchingType(targetType,contentsToPaste);if(failedContent!=null){if(failedContent.getState()!==com.coremedia.ui.data.BeanState.READABLE)com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showInfo(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","dialog_pasteErrorTitle_text"),Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor",
"dialog_pasteErrorUnreadableMessage_text")));else com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showInfo(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","dialog_pasteErrorTitle_text"),Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","dialog_pasteErrorMessage_text"),failedContent.getName(),com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.localizeDocumentTypeName(failedContent.getType().getName()),
com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.localizeDocumentTypeName(targetType.getName())));return}var newValue=originalValue.concat(contentsToPaste);this.setLinks(newValue)}function onFirstComponentAdded(){com.coremedia.cms.editor.sdk.actions.AbstractModifyLinksAction.prototype.onFirstComponentAdded.call(this);com.coremedia.cms.editor.sdk.clipboard.Clipboard.getInstance().addValueChangeListener(AS3.bind(this,"isDisabledFor"))}function onLastComponentRemoved(){com.coremedia.cms.editor.sdk.actions.AbstractModifyLinksAction.prototype.onLastComponentRemoved.call(this);
com.coremedia.cms.editor.sdk.clipboard.Clipboard.getInstance().removeValueChangeListener(AS3.bind(this,"isDisabledFor"))}return{extend:"com.coremedia.cms.editor.sdk.actions.AbstractModifyLinksAction",metadata:{"":["PublicApi","Deprecated",["since","1710.1","replacement","com.coremedia.cms.editor.sdk.actions.LinkListPasteAction"]]},constructor:PasteLinkActionBase$,super$8Vpf:function(){com.coremedia.cms.editor.sdk.actions.AbstractModifyLinksAction.prototype.constructor.apply(this,arguments)},isDisabledFor:isDisabledFor,
pasteLink$8Vpf:pasteLink,onFirstComponentAdded:onFirstComponentAdded,onLastComponentRemoved:onLastComponentRemoved,requires:["Ext.String","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.actions.AbstractModifyLinksAction","com.coremedia.ui.data.BeanState","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil","com.coremedia.cms.editor.sdk.actions.PasteLinkAction","com.coremedia.cms.editor.sdk.clipboard.Clipboard","com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil",
"com.coremedia.cms.editor.sdk.util.LinkListUtil","com.coremedia.cms.editor.sdk.util.MessageBoxUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.DeleteSavedSearchAction",function(DeleteSavedSearchAction){function DeleteSavedSearchAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.DeleteSavedSearchActionBase,{});var defaults_$1=AS3.cast(DeleteSavedSearchAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$kUhl(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.DeleteSavedSearchActionBase",
constructor:DeleteSavedSearchAction$,super$kUhl:function(){com.coremedia.cms.editor.sdk.actions.DeleteSavedSearchActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.actions.DeleteSavedSearchActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.OpenInBrowserTabActionBase",function(OpenInBrowserTabActionBase){function OpenInBrowserTabActionBase$(config){if(arguments.length<=0)config=null;this.urlValueExpression$zkck=AS3.getBindable(config,"urlValueExpression");this.super$zkck(AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenInBrowserTabAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,"openInBrowserTab",{handler:AS3.bind(this,"openInBrowserTab$zkck")})))}function calculateDisabled(){return!this.urlValueExpression$zkck.getValue()}
function openInBrowserTab(){var url=this.urlValueExpression$zkck.getValue();if(url)window.open(url)}return{extend:"com.coremedia.ui.actions.DependencyTrackedAction",urlValueExpression$zkck:null,constructor:OpenInBrowserTabActionBase$,super$zkck:function(){com.coremedia.ui.actions.DependencyTrackedAction.prototype.constructor.apply(this,arguments)},calculateDisabled:calculateDisabled,openInBrowserTab$zkck:openInBrowserTab,requires:["com.coremedia.ui.actions.DependencyTrackedAction"],uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil",
"com.coremedia.cms.editor.sdk.actions.OpenInBrowserTabAction"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.CollectionViewModelAction",function(CollectionViewModelAction){function CollectionViewModelAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.CollectionViewModelActionBase,{});var defaults_$1=AS3.cast(CollectionViewModelAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"handler",AS3.bind(this,"_handler"));net.jangaroo.ext.Exml.apply(config_$1,config);
this.super$I0fH(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.CollectionViewModelActionBase",metadata:{"":["PublicApi"]},constructor:CollectionViewModelAction$,super$I0fH:function(){com.coremedia.cms.editor.sdk.actions.CollectionViewModelActionBase.prototype.constructor.apply(this,arguments)},config:{property:null,value:null},requires:["com.coremedia.cms.editor.sdk.actions.CollectionViewModelActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.StateAction",function(StateAction){function StateAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.StateActionBase,{});var defaults_$1=AS3.cast(StateAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$5uZS(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.StateActionBase",metadata:{"":["PublicApi"]},constructor:StateAction$,
super$5uZS:function(){com.coremedia.cms.editor.sdk.actions.StateActionBase.prototype.constructor.apply(this,arguments)},config:{state:null,stateVariableName:null},requires:["com.coremedia.cms.editor.sdk.actions.StateActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.DeleteAction",function(DeleteAction){function DeleteAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.DeleteActionBase,{});var defaults_$1=AS3.cast(DeleteAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$qa_i(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.DeleteActionBase",metadata:{"":["PublicApi"]},
constructor:DeleteAction$,super$qa_i:function(){com.coremedia.cms.editor.sdk.actions.DeleteActionBase.prototype.constructor.apply(this,arguments)},statics:{ACTION_ID:"deleteAction"},requires:["com.coremedia.cms.editor.sdk.actions.DeleteActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.AbstractModifyLinksActionBase",function(AbstractModifyLinksActionBase){function AbstractModifyLinksActionBase$(config){if(arguments.length<=0)config=null;this.super$N8iP(config);this.propertyName$N8iP=AS3.getBindable(config,"propertyName");this.maxCardinality$N8iP=AS3.getBindable(config,"maxCardinality");this.linkType$N8iP=AS3.getBindable(config,"linkType");this.propertyValueExpression$N8iP=com.coremedia.cms.editor.sdk.util.LinkListUtil.createLinkValueExpression(this.getValueExpression(),
this.propertyName$N8iP,this.linkType$N8iP,this.maxCardinality$N8iP===1)}function getPropertyName(){return this.propertyName$N8iP}function getMaxCardinality(){return this.maxCardinality$N8iP}function getLinkType(){return com.coremedia.cms.editor.sdk.util.LinkListUtil.getTargetContentType(this.getValueExpression(),this.propertyName$N8iP,this.linkType$N8iP)}function getLinks(){var value=this.propertyValueExpression$N8iP.getValue();return value===undefined?undefined:com.coremedia.ui.util.ArrayUtils.asArray(value)}
function setLinks(links){var newValue=com.coremedia.cms.editor.sdk.util.LinkListUtil.isAtomic(this.getValueExpression(),this.propertyName$N8iP,this.maxCardinality$N8iP)?links[0]||null:links;this.propertyValueExpression$N8iP.setValue(newValue)}function getPropertyValueExpression(){return this.propertyValueExpression$N8iP}return{extend:"com.coremedia.cms.editor.sdk.actions.ContentUpdateAction",metadata:{"":["PublicApi"]},propertyName$N8iP:null,maxCardinality$N8iP:0,linkType$N8iP:null,propertyValueExpression$N8iP:null,
constructor:AbstractModifyLinksActionBase$,super$N8iP:function(){com.coremedia.cms.editor.sdk.actions.ContentUpdateAction.prototype.constructor.apply(this,arguments)},getPropertyName:getPropertyName,getMaxCardinality:getMaxCardinality,getLinkType:getLinkType,getLinks:getLinks,setLinks:setLinks,getPropertyValueExpression:getPropertyValueExpression,requires:["com.coremedia.cms.editor.sdk.actions.ContentUpdateAction","com.coremedia.ui.util.ArrayUtils"],uses:["com.coremedia.cms.editor.sdk.util.LinkListUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.DeleteActionUtil",function(DeleteActionUtil){function DeleteActionUtil$(){}function isDeleteDisabledFor$static(contents){for(var i=0;i<contents.length;i++){var content=contents[i];if(content.isCheckedOutByOther()||!content.getRepository().getAccessControl().mayPerform(content,com.coremedia.cap.content.authorization.Right.DELETE)||content.isPublished())return true;var treeRelation=com.coremedia.cms.editor.sdk.ContentTreeRelationProvider.getContentTreeRelation();
if(treeRelation===undefined)return undefined;if(treeRelation===null)return true;if(!treeRelation.mayDelete([content]))return true;var lifecycleStatus=content.getLifecycleStatus();if(lifecycleStatus===com.coremedia.cap.content.LifecycleStatus.DELETED)return true}return false}function hasMultipleParentsFor$static(contents){var treeRelation=com.coremedia.cms.editor.sdk.ContentTreeRelationProvider.getContentTreeRelation();if(treeRelation===undefined)return undefined;if(treeRelation===null)return true;
return someHasMultipleParents$static(contents)}function someHasMultipleParents$static(contents){for(var i=0;i<contents.length;i++){var hmp=hasMultipleParents$static(contents[i]);if(hmp===undefined||hmp)return hmp}return false}function hasMultipleParents$static(content){var treeRelation=com.coremedia.cms.editor.sdk.ContentTreeRelationProvider.getContentTreeRelation();var parents=treeRelation.getParents(content);return parents?parents.length>1:parents}function startDelete$static(contents){if(!contents||
!contents.length)return;var title;var message;if(contents.length===1){var content=contents[0];var isDocument=content.isDocument();title=isDocument?mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_delete_document_verifyMessage_title"):mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_delete_folder_verifyMessage_title");message=Ext.String.format(isDocument?mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions",
"Action_delete_document_verifyMessage_text"):mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_delete_folder_verifyMessage_text"),content.getName())}else{title=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_delete_contents_verifyMessage_title");message=Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_delete_contents_verifyMessage_text"),
contents.length)}com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showConfirmation(title,message,mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_delete_buttonText"),function(btn){if(btn==="ok")doDelete$static(contents)})}function doDelete$static(contents){contents.map(function(c){var panel=AS3.as(com.coremedia.cms.editor.sdk.editorContext.getWorkAreaTabManager().findTabForEntity(c),com.coremedia.cms.editor.sdk.premular.PremularBase);if(panel)panel.setPreventCloseMessage(true)});
com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(com.coremedia.cms.editor.sdk.ContentTreeRelationProvider.getContentTreeRelation).loadValue(function(treeRelation){treeRelation.deleteContents(contents,completed$static)})}function completed$static(result){var deletedIds={};for(var i=0;i<result.results.length;i++){var resultItem=result.results[i];var code=resultItem.resultCode;if(code===com.coremedia.cap.content.results.DeleteResultCodes.DOCUMENT_DELETED||code===com.coremedia.cap.content.results.DeleteResultCodes.FOLDER_DELETED)deletedIds[resultItem.content.getId()]=
true}if(!result["successful"]){var deleteResultWindowCfg=AS3.cast(com.coremedia.cms.editor.sdk.bulkOperation.DeleteResultWindow,{});AS3.setBindable(deleteResultWindowCfg,"bulkResultItems",result.results);Ext.ComponentManager.create(deleteResultWindowCfg).show()}}return{constructor:DeleteActionUtil$,statics:{isDeleteDisabledFor:isDeleteDisabledFor$static,hasMultipleParentsFor:hasMultipleParentsFor$static,startDelete:startDelete$static},requires:["Ext.ComponentManager","Ext.String","com.coremedia.cap.content.LifecycleStatus",
"com.coremedia.cap.content.authorization.Right","com.coremedia.cap.content.results.DeleteResultCodes","com.coremedia.cms.editor.sdk.actions.Actions_properties","com.coremedia.ui.data.ValueExpressionFactory","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.ContentTreeRelationProvider","com.coremedia.cms.editor.sdk.bulkOperation.DeleteResultWindow","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.premular.PremularBase","com.coremedia.cms.editor.sdk.util.MessageBoxUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.SwitchViewAction",function(SwitchViewAction){function SwitchViewAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.SwitchViewActionBase,{});var defaults_$1=AS3.cast(SwitchViewAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"handler",AS3.bind(this,"_handler"));net.jangaroo.ext.Exml.apply(config_$1,config);this.super$dHNw(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.SwitchViewActionBase",
constructor:SwitchViewAction$,super$dHNw:function(){com.coremedia.cms.editor.sdk.actions.SwitchViewActionBase.prototype.constructor.apply(this,arguments)},config:{collectionViewModel:null,view:null,onUnpressSwitchToView:null},requires:["com.coremedia.cms.editor.sdk.actions.SwitchViewActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.ContentAction",function(ContentAction){function ContentAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ContentActionBase,{});var defaults_$1=AS3.cast(ContentAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$qf64(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.ContentActionBase",metadata:{"":["PublicApi"]},
constructor:ContentAction$,super$qf64:function(){com.coremedia.cms.editor.sdk.actions.ContentActionBase.prototype.constructor.apply(this,arguments)},config:{contentValueExpression:null,contentVariableName:null,contents:null,hideOnDisable:false},requires:["com.coremedia.cms.editor.sdk.actions.ContentActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.ShowTabContentInRepositoryAction",function(ShowTabContentInRepositoryAction){function ShowTabContentInRepositoryAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ShowTabContentInRepositoryActionBase,{});var defaults_$1=AS3.cast(ShowTabContentInRepositoryAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$$hsn(config_$1)}
return{extend:"com.coremedia.cms.editor.sdk.actions.ShowTabContentInRepositoryActionBase",constructor:ShowTabContentInRepositoryAction$,super$$hsn:function(){com.coremedia.cms.editor.sdk.actions.ShowTabContentInRepositoryActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.actions.ShowTabContentInRepositoryActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.CutSelectedLinksAction",function(CutSelectedLinksAction){function ACTION_ID$static_(){CutSelectedLinksAction.ACTION_ID=com.coremedia.cms.editor.sdk.clipboard.CutToClipboardAction.ACTION_ID}function CutSelectedLinksAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.CutSelectedLinksActionBase,{});var defaults_$1=AS3.cast(CutSelectedLinksAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,
config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$TGuz(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.CutSelectedLinksActionBase",metadata:{"":["Deprecated",["since","1710.1","replacement","com.coremedia.cms.editor.sdk.actions.LinkListCutAction"],"PublicApi"]},constructor:CutSelectedLinksAction$,super$TGuz:function(){com.coremedia.cms.editor.sdk.actions.CutSelectedLinksActionBase.prototype.constructor.apply(this,arguments)},config:{selectedPositionsExpression:null,selectedPositionsVariableName:null},
statics:{ACTION_ID:undefined,__initStatics__:function(){ACTION_ID$static_()}},requires:["com.coremedia.cms.editor.sdk.actions.CutSelectedLinksActionBase","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.clipboard.CutToClipboardAction"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.DeleteTabContentAction",function(DeleteTabContentAction){function DeleteTabContentAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.DeleteTabContentActionBase,{});var defaults_$1=AS3.cast(DeleteTabContentAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$9C1m(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.DeleteTabContentActionBase",
constructor:DeleteTabContentAction$,super$9C1m:function(){com.coremedia.cms.editor.sdk.actions.DeleteTabContentActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.actions.DeleteTabContentActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.OpenVersionComparisonActionBase",function(OpenVersionComparisonActionBase){function OpenVersionComparisonActionBase$(config){if(arguments.length<=0)config=null;this.versionValueExpression$2lMJ=AS3.getBindable(config,"versionValueExpression");this.super$2lMJ(AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenVersionComparisonAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,"openVersionComparison",{handler:AS3.bind(this,
"openVersionComparison$2lMJ")})))}function calculateDisabled(){var version=this.versionValueExpression$2lMJ?AS3.as(this.versionValueExpression$2lMJ.getValue(),com.coremedia.cap.content.Version):null;return!version}function openVersionComparison(){var version=this.versionValueExpression$2lMJ?AS3.as(this.versionValueExpression$2lMJ.getValue(),com.coremedia.cap.content.Version):null;if(version){var contentTabManager=com.coremedia.cms.editor.sdk.editorContext.getContentTabManager();var content=version.getContainingContent();
var contentToVersionMap={};contentToVersionMap[content.getUriPath()]=version;contentTabManager.openPremulars([new com.coremedia.cms.editor.sdk.premular.PremularConfiguration(content,version,false,true)])}}return{extend:"com.coremedia.ui.actions.DependencyTrackedAction",metadata:{"":["PublicApi"]},versionValueExpression$2lMJ:null,constructor:OpenVersionComparisonActionBase$,super$2lMJ:function(){com.coremedia.ui.actions.DependencyTrackedAction.prototype.constructor.apply(this,arguments)},calculateDisabled:calculateDisabled,
openVersionComparison$2lMJ:openVersionComparison,requires:["com.coremedia.cap.content.Version","com.coremedia.ui.actions.DependencyTrackedAction"],uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil","com.coremedia.cms.editor.sdk.actions.OpenVersionComparisonAction","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.premular.PremularConfiguration"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.OpenSaveSearchWindowAction",function(OpenSaveSearchWindowAction){function OpenSaveSearchWindowAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenSaveSearchWindowActionBase,{});var defaults_$1=AS3.cast(OpenSaveSearchWindowAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"toggleDialog",true);AS3.setBindable(config_$1,"useActionAsAnimationTarget",
true);var editor_SaveSearchWindow_17_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.SaveSearchWindow,{});editor_SaveSearchWindow_17_5_$1.modal=true;AS3.setBindable(config_$1,"dialog",editor_SaveSearchWindow_17_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Ydm0(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.OpenSaveSearchWindowActionBase",constructor:OpenSaveSearchWindowAction$,super$Ydm0:function(){com.coremedia.cms.editor.sdk.actions.OpenSaveSearchWindowActionBase.prototype.constructor.apply(this,
arguments)},requires:["com.coremedia.cms.editor.sdk.actions.OpenSaveSearchWindowActionBase","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.desktop.SaveSearchWindow"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.OpenVersionComparisonAction",function(OpenVersionComparisonAction){function OpenVersionComparisonAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenVersionComparisonActionBase,{});var defaults_$1=AS3.cast(OpenVersionComparisonAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$XXkY(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.OpenVersionComparisonActionBase",
metadata:{"":["PublicApi"]},constructor:OpenVersionComparisonAction$,super$XXkY:function(){com.coremedia.cms.editor.sdk.actions.OpenVersionComparisonActionBase.prototype.constructor.apply(this,arguments)},config:{versionValueExpression:null},requires:["com.coremedia.cms.editor.sdk.actions.OpenVersionComparisonActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.MoveUserItemActionBase",function(MoveUserItemActionBase){function MoveUserItemActionBase$(config){if(arguments.length<=0)config=null;this.targetPosition$rseX=AS3.getBindable(config,"targetPosition");this.super$rseX(AS3.cast(com.coremedia.cms.editor.sdk.actions.MoveUserItemAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,"moveUserItem"+this.targetPosition$rseX)));this.setHandler(AS3.bind(this,"moveUserItem$rseX"),this)}
function moveUserItem(){var savedSearches=com.coremedia.cms.editor.sdk.collectionview.CollectionViewUtil.getSavedSearches();if(savedSearches){var indexToMove=-1;for(var i=0;i<savedSearches.length;i++)if(savedSearches[i]["_name"]===this.getState()["_name"]){indexToMove=i;break}if(indexToMove<0)return;var newSavedSearches;if(this.targetPosition$rseX==="toTop"){if(indexToMove!=0)newSavedSearches=[this.getState()].concat(savedSearches.slice(0,indexToMove).concat(savedSearches.slice(indexToMove+1)))}else if(this.targetPosition$rseX===
"up"){if(indexToMove!=0)newSavedSearches=savedSearches.slice(0,indexToMove-1).concat([this.getState()]).concat([savedSearches[indexToMove-1]]).concat(savedSearches.slice(indexToMove+1))}else if(this.targetPosition$rseX==="down"){if(indexToMove!=savedSearches.length-1)newSavedSearches=savedSearches.slice(0,indexToMove).concat([savedSearches[indexToMove+1]]).concat([this.getState()]).concat(savedSearches.slice(indexToMove+2))}else if(this.targetPosition$rseX==="toBottom"){if(indexToMove!=savedSearches.length-
1)newSavedSearches=savedSearches.slice(0,indexToMove).concat(savedSearches.slice(indexToMove+1)).concat([this.getState()])}else{var newIndex=parseInt(this.targetPosition$rseX);if(newIndex>=0&&newIndex<=savedSearches.length)if(newIndex!=NaN){newSavedSearches=savedSearches.slice(0,indexToMove).concat(savedSearches.slice(indexToMove+1));newSavedSearches=newSavedSearches.slice(0,newIndex).concat([this.getState()]).concat(newSavedSearches.slice(newIndex))}}if(newSavedSearches)com.coremedia.cms.editor.sdk.collectionview.CollectionViewUtil.updateSavedSearches(newSavedSearches)}}
return{extend:"com.coremedia.cms.editor.sdk.actions.StateAction",targetPosition$rseX:null,constructor:MoveUserItemActionBase$,super$rseX:function(){com.coremedia.cms.editor.sdk.actions.StateAction.prototype.constructor.apply(this,arguments)},moveUserItem$rseX:moveUserItem,requires:["com.coremedia.cms.editor.sdk.actions.StateAction"],uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil","com.coremedia.cms.editor.sdk.actions.MoveUserItemAction","com.coremedia.cms.editor.sdk.collectionview.CollectionViewUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.OpenEntitiesInTabsActionBase",function(OpenEntitiesInTabsActionBase){function OpenEntitiesInTabsActionBase$(config){if(arguments.length<=0)config=null;this.entitiesValueExpression$Bta0=AS3.getBindable(config,"entitiesValueExpression")||com.coremedia.ui.data.ValueExpressionFactory.createFromValue();this.background$Bta0=!!AS3.getBindable(config,"background");var actionName=this.background$Bta0?"openInBackgroundTab":"openInTab";this.super$Bta0(AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenEntitiesInTabsAction,
com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,actionName,{handler:AS3.bind(this,"openInTab$Bta0")})))}function setEntities(entities){this.entitiesValueExpression$Bta0.setValue(entities)}function calculateDisabled(){var entities=this.getEntitiesAsArray$Bta0();return!entities||!entities.some(com.coremedia.cms.editor.sdk.desktop.ComponentBasedEntityWorkAreaTabType.canBeOpenedInTab)}function calculateHidden(){var entities=this.getEntitiesAsArray$Bta0();return!entities||!entities.some(com.coremedia.cms.editor.sdk.desktop.ComponentBasedEntityWorkAreaTabType.canBeOpenedInTab)}
function getEntitiesAsArray(){var entitiesValue=this.entitiesValueExpression$Bta0.getValue();if(entitiesValue===undefined)return undefined;var entities=com.coremedia.ui.util.ArrayUtils.asArray(entitiesValue);return entities}function openInTab(){if(this.calculateDisabled()===false)com.coremedia.cms.editor.sdk.editorContext.getWorkAreaTabManager().openTabsForEntities(this.getEntitiesAsArray$Bta0(),this.background$Bta0)}return{extend:"com.coremedia.ui.actions.DependencyTrackedAction",metadata:{"":["PublicApi"],
setEntities:["InjectFromExtParent",["variableNameConfig","entitiesVariableName"]]},entitiesValueExpression$Bta0:null,background$Bta0:false,constructor:OpenEntitiesInTabsActionBase$,super$Bta0:function(){com.coremedia.ui.actions.DependencyTrackedAction.prototype.constructor.apply(this,arguments)},setEntities:setEntities,calculateDisabled:calculateDisabled,calculateHidden:calculateHidden,getEntitiesAsArray$Bta0:getEntitiesAsArray,openInTab$Bta0:openInTab,requires:["com.coremedia.ui.actions.DependencyTrackedAction",
"com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.util.ArrayUtils"],uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil","com.coremedia.cms.editor.sdk.actions.OpenEntitiesInTabsAction","com.coremedia.cms.editor.sdk.desktop.ComponentBasedEntityWorkAreaTabType","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.PasteLinkAction",function(PasteLinkAction){function ACTION_ID$static_(){PasteLinkAction.ACTION_ID=com.coremedia.cms.editor.sdk.clipboard.PasteFromClipboardAction.ACTION_ID}function PasteLinkAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.PasteLinkActionBase,{});var defaults_$1=AS3.cast(PasteLinkAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$mZtu(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.PasteLinkActionBase",metadata:{"":["Deprecated",["since","1710.1","replacement","com.coremedia.cms.editor.sdk.actions.LinkListPasteAction"],"PublicApi"]},constructor:PasteLinkAction$,super$mZtu:function(){com.coremedia.cms.editor.sdk.actions.PasteLinkActionBase.prototype.constructor.apply(this,arguments)},statics:{ACTION_ID:undefined,__initStatics__:function(){ACTION_ID$static_()}},requires:["com.coremedia.cms.editor.sdk.actions.PasteLinkActionBase",
"net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.clipboard.PasteFromClipboardAction"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.OpenInTabAction",function(OpenInTabAction){function OpenInTabAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenInTabActionBase,{});var defaults_$1=AS3.cast(OpenInTabAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$AceH(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.OpenInTabActionBase",metadata:{"":["PublicApi"]},
constructor:OpenInTabAction$,super$AceH:function(){com.coremedia.cms.editor.sdk.actions.OpenInTabActionBase.prototype.constructor.apply(this,arguments)},config:{background:false},requires:["com.coremedia.cms.editor.sdk.actions.OpenInTabActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.LinkListRemoveAction",function(LinkListRemoveAction){function ACTION_ID$static_(){LinkListRemoveAction.ACTION_ID=com.coremedia.cms.editor.sdk.actions.DeleteAction.ACTION_ID}function LinkListRemoveAction$(config){if(arguments.length<=0)config=null;this.super$I2YT(config)}function defaultHandler(){var positionsToCut=this.getSelectedPositions();this.linkListWrapper.removeLinksAtIndexes(positionsToCut)}function createIconCls(){return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions",
"Action_deleteSelectedLinks_icon")}function calculateDisabled(){return this.isNothingSelected()||com.coremedia.cms.editor.sdk.actions.AbstractLinkListAction.prototype.calculateDisabled.call(this)}return{extend:"com.coremedia.cms.editor.sdk.actions.AbstractLinkListAction",metadata:{"":["PublicApi"]},constructor:LinkListRemoveAction$,super$I2YT:function(){com.coremedia.cms.editor.sdk.actions.AbstractLinkListAction.prototype.constructor.apply(this,arguments)},defaultHandler:defaultHandler,createIconCls:createIconCls,
calculateDisabled:calculateDisabled,statics:{ACTION_ID:undefined,__initStatics__:function(){ACTION_ID$static_()}},requires:["com.coremedia.cms.editor.sdk.actions.AbstractLinkListAction","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.actions.DeleteAction"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.DeleteBlobAction",function(DeleteBlobAction){function DeleteBlobAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.DeleteBlobActionBase,{});var defaults_$1=AS3.cast(DeleteBlobAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$fjQf(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.DeleteBlobActionBase",constructor:DeleteBlobAction$,
super$fjQf:function(){com.coremedia.cms.editor.sdk.actions.DeleteBlobActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.actions.DeleteBlobActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.ShowCollectionViewInCurrentSiteAction",function(ShowCollectionViewInCurrentSiteAction){function ShowCollectionViewInCurrentSiteAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ShowCollectionViewInCurrentSiteActionBase,{});var defaults_$1=AS3.cast(ShowCollectionViewInCurrentSiteAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);
this.super$Whkc(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.ShowCollectionViewInCurrentSiteActionBase",metadata:{"":["PublicApi"]},constructor:ShowCollectionViewInCurrentSiteAction$,super$Whkc:function(){com.coremedia.cms.editor.sdk.actions.ShowCollectionViewInCurrentSiteActionBase.prototype.constructor.apply(this,arguments)},config:{bindTo:null},requires:["com.coremedia.cms.editor.sdk.actions.ShowCollectionViewInCurrentSiteActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.RestoreVersionActionBase",function(RestoreVersionActionBase){function RestoreVersionActionBase$(config){if(arguments.length<=0)config=null;AS3.setBindable(this,"valueExpression",AS3.getBindable(config,"valueExpression"));this.versionValueExpression$UjUS=AS3.getBindable(config,"versionValueExpression");if(AS3.getBindable(config,"forceReadOnlyValueExpression"))this.forceReadOnlyValueExpression$UjUS=AS3.getBindable(config,"forceReadOnlyValueExpression");
else this.forceReadOnlyValueExpression$UjUS=com.coremedia.ui.data.ValueExpressionFactory.createFromValue();this.readOnlyValueExpression$UjUS=com.coremedia.cms.editor.sdk.util.PropertyEditorUtil.createReadOnlyValueExpression(AS3.getBindable(config,"valueExpression"),this.forceReadOnlyValueExpression$UjUS);this.super$UjUS(AS3.cast(com.coremedia.cms.editor.sdk.actions.RestoreVersionAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,"restoreVersion",{restMethod:"copyProperties"})))}
function executeAction(){var content=AS3.getBindable(this,"valueExpression")?AS3.as(AS3.getBindable(this,"valueExpression").getValue(),com.coremedia.cap.content.Content):null;if(content)if(content.isCheckedOut())this.confirm$UjUS();else com.coremedia.cms.editor.sdk.actions.ParameterizedBeanAction.prototype.executeAction.call(this)}function makeRequestParameters(bean){var version=AS3.as(this.versionValueExpression$UjUS.getValue(),com.coremedia.cap.content.Version);if(bean&&AS3.is(bean,com.coremedia.cap.content.Content)&&
version)return{source:version};else return undefined}function confirm(){com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showConfirmation(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_restoreVersion_verifyMessage_title"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_restoreVersion_verifyMessage_text"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions",
"Action_restoreVersion_buttonText"),AS3.bind(this,"callback$UjUS"))}function callback(buttonId){if(buttonId==="ok")com.coremedia.cms.editor.sdk.actions.ParameterizedBeanAction.prototype.executeAction.call(this)}function handleResult(methodResponse,bean){if(!methodResponse.success)this.failure$UjUS(methodResponse.getError())}function failure(error){com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showError(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors",
"copy_failedMessage_title"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors","copy_failedMessage_text"))}function calculateDisabled(){if(this.readOnlyValueExpression$UjUS.getValue())return true;var content=AS3.getBindable(this,"valueExpression")?AS3.as(AS3.getBindable(this,"valueExpression").getValue(),com.coremedia.cap.content.Content):null;var version=this.versionValueExpression$UjUS?AS3.as(this.versionValueExpression$UjUS.getValue(),com.coremedia.cap.content.Version):
null;return!(content&&version&&content.getCheckedInVersion()!==version)}function setForceReadOnly(readOnly){this.forceReadOnlyValueExpression$UjUS.setValue(readOnly)}return{extend:"com.coremedia.cms.editor.sdk.actions.ParameterizedBeanAction",metadata:{setForceReadOnly:["InjectFromExtParent",["variableNameConfig","forceReadOnlyVariableName"]]},versionValueExpression$UjUS:null,readOnlyValueExpression$UjUS:null,forceReadOnlyValueExpression$UjUS:null,constructor:RestoreVersionActionBase$,super$UjUS:function(){com.coremedia.cms.editor.sdk.actions.ParameterizedBeanAction.prototype.constructor.apply(this,
arguments)},executeAction:executeAction,makeRequestParameters:makeRequestParameters,confirm$UjUS:confirm,callback$UjUS:callback,handleResult:handleResult,failure$UjUS:failure,calculateDisabled:calculateDisabled,setForceReadOnly:setForceReadOnly,requires:["com.coremedia.cap.content.Content","com.coremedia.cap.content.Version","com.coremedia.cms.editor.EditorErrors_properties","com.coremedia.cms.editor.sdk.actions.Actions_properties","com.coremedia.cms.editor.sdk.actions.ParameterizedBeanAction","com.coremedia.ui.data.ValueExpressionFactory",
"mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil","com.coremedia.cms.editor.sdk.actions.RestoreVersionAction","com.coremedia.cms.editor.sdk.util.MessageBoxUtil","com.coremedia.cms.editor.sdk.util.PropertyEditorUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.AbstractTabContextMenuContentActionBase",function(AbstractTabContextMenuContentActionBase){function AbstractTabContextMenuContentActionBase$(config){if(arguments.length<=0)config=null;this.super$uonQ(config)}function getContextClickedContent(){return getTabContent$static(this.getContextClickedTab())}function getContextClickedContents(){var contents=[];var tp=this.getContextClickedTabPanel();tp.itemCollection.each(function(pnl){var tabContent=getTabContent$static(pnl);
if(tabContent)contents.push(tabContent)});return contents}function checkDisabled(){return!this.getContextClickedContent()}function getTabContent$static(tab){if(AS3.is(tab,com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxy))return AS3.as(AS3.getBindable(AS3.as(tab,com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxy),"proxyState").entity,com.coremedia.cap.content.Content);return null}return{extend:"com.coremedia.ui.actions.AbstractTabContextMenuAction",metadata:{"":["PublicApi"]},
constructor:AbstractTabContextMenuContentActionBase$,super$uonQ:function(){com.coremedia.ui.actions.AbstractTabContextMenuAction.prototype.constructor.apply(this,arguments)},getContextClickedContent:getContextClickedContent,getContextClickedContents:getContextClickedContents,checkDisabled:checkDisabled,requires:["com.coremedia.cap.content.Content","com.coremedia.ui.actions.AbstractTabContextMenuAction"],uses:["com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxy"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.StartWorkflowActionBase",function(StartWorkflowActionBase){function StartWorkflowActionBase$(config){if(arguments.length<=0)config=null;this.super$7evz(AS3.cast(com.coremedia.cms.editor.sdk.actions.StartWorkflowAction,Ext.apply({restMethod:"startWorkflow",writeJson:true},config)));this.processName$7evz=AS3.getBindable(config,"processName");this.changeSetVariableName$7evz=AS3.getBindable(config,"changeSetVariableName");this.subjectVariableName$7evz=
AS3.getBindable(config,"subjectVariableName");this.subjectValueExpression$7evz=AS3.getBindable(config,"subjectValueExpression");this.commentVariableName$7evz=AS3.getBindable(config,"commentVariableName");this.commentValueExpression$7evz=AS3.getBindable(config,"commentValueExpression");this.contentSet$7evz=AS3.getBindable(config,"contentSet");this.assignedMembers$7evz=AS3.getBindable(config,"assignedMembers");this.callback$7evz=AS3.getBindable(config,"callback")}function makeRequestParameters(bean){var comment=
this.commentValueExpression$7evz.getValue();var subject=this.subjectValueExpression$7evz.getValue();return{processName:this.processName$7evz,changeSetVariableName:this.changeSetVariableName$7evz,commentVariableName:this.commentVariableName$7evz,comment:comment?comment:"",subjectVariableName:this.subjectVariableName$7evz,subject:subject?subject:"",assignedMembers:this.assignedMembers$7evz?this.assignedMembers$7evz:[],contentSet:this.contentSet$7evz}}function handleResult(methodResponse,bean){bean.invalidate();
this.callback$7evz.call(null);if(methodResponse.response.status>=300){var error=methodResponse.getError();var errorName=error.errorName;if(errorName==="ALREADY_PUBLISHED")com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showInfo(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors","startWorkflow_noopMessage_title"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors","startWorkflow_noopMessage_text"));else{var message=
mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors","startWorkflow_failedMessage_"+errorName+"_text");if(!message)message=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors","startWorkflow_failedMessage_text");com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showError(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors","startWorkflow_failedMessage_title"),message)}}}return{extend:"com.coremedia.cms.editor.sdk.actions.ParameterizedBeanAction",
processName$7evz:null,changeSetVariableName$7evz:null,subjectVariableName$7evz:null,subjectValueExpression$7evz:null,commentVariableName$7evz:null,commentValueExpression$7evz:null,contentSet$7evz:null,assignedMembers$7evz:null,callback$7evz:null,constructor:StartWorkflowActionBase$,super$7evz:function(){com.coremedia.cms.editor.sdk.actions.ParameterizedBeanAction.prototype.constructor.apply(this,arguments)},makeRequestParameters:makeRequestParameters,handleResult:handleResult,requires:["Ext","com.coremedia.cms.editor.EditorErrors_properties",
"com.coremedia.cms.editor.sdk.actions.ParameterizedBeanAction","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.actions.StartWorkflowAction","com.coremedia.cms.editor.sdk.util.MessageBoxUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.RenameContentItemAction",function(RenameContentItemAction){function RenameContentItemAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.RenameContentItemActionBase,{});var defaults_$1=AS3.cast(RenameContentItemAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$VwWP(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.RenameContentItemActionBase",
constructor:RenameContentItemAction$,super$VwWP:function(){com.coremedia.cms.editor.sdk.actions.RenameContentItemActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.actions.RenameContentItemActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.ShowCollectionViewToSaveSearchAction",function(ShowCollectionViewToSaveSearchAction){function ShowCollectionViewToSaveSearchAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ShowCollectionViewToSaveSearchActionBase,{});var defaults_$1=AS3.cast(ShowCollectionViewToSaveSearchAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"preserveFilter",false);net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$YNw1(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.ShowCollectionViewToSaveSearchActionBase",constructor:ShowCollectionViewToSaveSearchAction$,super$YNw1:function(){com.coremedia.cms.editor.sdk.actions.ShowCollectionViewToSaveSearchActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.actions.ShowCollectionViewToSaveSearchActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.OpenSaveSearchWindowActionBase",function(OpenSaveSearchWindowActionBase){function OpenSaveSearchWindowActionBase$(config){if(arguments.length<=0)config=null;this.super$2$Rn(AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenSaveSearchWindowAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,"saveSearch")))}return{extend:"com.coremedia.ui.actions.OpenDialogAction",constructor:OpenSaveSearchWindowActionBase$,super$2$Rn:function(){com.coremedia.ui.actions.OpenDialogAction.prototype.constructor.apply(this,
arguments)},requires:["com.coremedia.ui.actions.OpenDialogAction"],uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil","com.coremedia.cms.editor.sdk.actions.OpenSaveSearchWindowAction"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.MoveContentAction",function(MoveContentAction){function MoveContentAction$(toMove,target){this.toMove$k3wp=toMove;this.target$k3wp=target}function execute(onSuccess){if(arguments.length<=0)onSuccess=null;this.onSuccess$k3wp=onSuccess;var helper=new com.coremedia.cms.editor.sdk.actions.LargeOperationHelper(this.toMove$k3wp,AS3.bind(this,"loadContent$k3wp"),AS3.bind(this,"showConfirmationLargeOperation$k3wp"));helper.checkLargeOperation()}function loadContent(){com.coremedia.ui.data.RemoteBeanUtil.loadAll(AS3.bind(this,
"executeAfterLoadAffectedContents$k3wp"),this.toMove$k3wp,this.target$k3wp)}function executeAfterLoadAffectedContents(){if(this.mustConfirmCrossSiteMove())this.showConfirmationMessageBox$k3wp(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","dialog_confirmCrossSiteMoveTitle_text"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","dialog_confirmCrossSiteMoveMessage_text"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor",
"dialog_confirmCrossSiteMoveOkButtonText_text"),AS3.bind(this,"moveContent$k3wp"));else if(!this.largeOperationConfirmed$k3wp&&this.mustConfirmFolderMove())this.showConfirmationMessageBox$k3wp(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","dialog_confirmFolderMoveTitle_text"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","dialog_confirmFolderMoveMessage_text"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor",
"dialog_confirmFolderMoveOkButtonText_text"),AS3.bind(this,"moveContent$k3wp"));else this.moveContent$k3wp()}function showConfirmationLargeOperation(documentCounter){this.showConfirmationMessageBox$k3wp(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","dialog_confirmLargeMoveOperationTitle_text"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","dialog_confirmLargeMoveOperationMessage_text",[documentCounter]),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor",
"dialog_confirmLargeMoveOperationOkButtonText_text"),AS3.bind(this,"loadContentAfterConfirmation$k3wp"))}function showConfirmationMessageBox(title,message,okButtonText,onConfirm){com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showConfirmation(title,message,okButtonText,function(btn){if("ok"===btn)onConfirm()})}function loadContentAfterConfirmation(){this.largeOperationConfirmed$k3wp=true;this.loadContent$k3wp()}function mustConfirmFolderMove(){for(var $1=0;$1<this.toMove$k3wp.length;++$1){var content=
this.toMove$k3wp[$1];if(content.isFolder())return true}return false}function mustConfirmCrossSiteMove(){var sitesService=com.coremedia.cms.editor.sdk.editorContext.getSitesService();var targetSiteId=sitesService.getSiteIdFor(this.target$k3wp);for(var $1=0;$1<this.toMove$k3wp.length;++$1){var content=this.toMove$k3wp[$1];var contentSiteId=sitesService.getSiteIdFor(content);if(contentSiteId!==targetSiteId)return true}return false}function moveContent(){var this$=this;com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var folderType=
this$.target$k3wp.getType();if(folderType===undefined)return undefined;var collectionViewExtender=com.coremedia.cms.editor.sdk.editorContext.getCollectionViewExtender();var collectionViewExtension=collectionViewExtender.getExtension(this$.target$k3wp);if(collectionViewExtension===undefined)return undefined;return collectionViewExtension}).loadValue(function(collectionViewExtension){if(collectionViewExtension){var folderTreeRelation=collectionViewExtension.getContentTreeRelation();folderTreeRelation.move(this$.toMove$k3wp,
this$.target$k3wp,this$.onSuccess$k3wp)}})}return{toMove$k3wp:null,target$k3wp:null,onSuccess$k3wp:null,largeOperationConfirmed$k3wp:false,constructor:MoveContentAction$,execute:execute,loadContent$k3wp:loadContent,executeAfterLoadAffectedContents$k3wp:executeAfterLoadAffectedContents,showConfirmationLargeOperation$k3wp:showConfirmationLargeOperation,showConfirmationMessageBox$k3wp:showConfirmationMessageBox,loadContentAfterConfirmation$k3wp:loadContentAfterConfirmation,mustConfirmFolderMove:mustConfirmFolderMove,
mustConfirmCrossSiteMove:mustConfirmCrossSiteMove,moveContent$k3wp:moveContent,requires:["com.coremedia.cms.editor.Editor_properties","com.coremedia.ui.data.RemoteBeanUtil","com.coremedia.ui.data.ValueExpressionFactory","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.actions.LargeOperationHelper","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.util.MessageBoxUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.DisapproveActionBase",function(DisapproveActionBase){function DisapproveActionBase$(config){if(arguments.length<=0)config=null;this.super$Xgjn(AS3.cast(com.coremedia.cms.editor.sdk.actions.DisapproveAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,"disapprove",{handler:AS3.bind(this,"disapprove$Xgjn")})))}function isDisabledFor(contents){var needsDisapprove=false;for(var i=0;i<contents.length;i++){var content=contents[i];
var lifecycleStatus=content.getLifecycleStatus();if(!content.getRepository().getAccessControl().mayPerform(content,com.coremedia.cap.content.authorization.Right.APPROVE))return true;else if(lifecycleStatus===com.coremedia.cap.content.LifecycleStatus.DELETED)return true;else if(lifecycleStatus===com.coremedia.cap.content.LifecycleStatus.PUBLISHED)return true;else if(lifecycleStatus===com.coremedia.cap.content.LifecycleStatus.APPROVED)needsDisapprove=true}return!needsDisapprove}function disapprove(){var contents=
this.getContents();if(!contents||!contents.length)return;var content=contents[0];content.getRepository().getPublicationService().disapproveAll(contents,AS3.bind(this,"completed$Xgjn"))}function completed(result){if(!result["successful"]){var disapproveResultWindowCfg=AS3.cast(com.coremedia.cms.editor.sdk.bulkOperation.DisapproveResultWindow,{});AS3.setBindable(disapproveResultWindowCfg,"bulkResultItems",result.results);Ext.ComponentManager.create(disapproveResultWindowCfg).show()}}return{extend:"com.coremedia.cms.editor.sdk.actions.ContentAction",
mixins:["com.coremedia.ui.actions.ValueExpressionAction"],metadata:{"":["PublicApi"]},constructor:DisapproveActionBase$,super$Xgjn:function(){com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.constructor.apply(this,arguments)},isDisabledFor:isDisabledFor,disapprove$Xgjn:disapprove,completed$Xgjn:completed,requires:["Ext.ComponentManager","com.coremedia.cap.content.LifecycleStatus","com.coremedia.cap.content.authorization.Right","com.coremedia.cms.editor.sdk.actions.ContentAction","com.coremedia.ui.actions.ValueExpressionAction"],
uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil","com.coremedia.cms.editor.sdk.actions.DisapproveAction","com.coremedia.cms.editor.sdk.bulkOperation.DisapproveResultWindow"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.ApproveAction",function(ApproveAction){function ApproveAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ApproveActionBase,{});var defaults_$1=AS3.cast(ApproveAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$xF5O(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.ApproveActionBase",metadata:{"":["PublicApi"]},
constructor:ApproveAction$,super$xF5O:function(){com.coremedia.cms.editor.sdk.actions.ApproveActionBase.prototype.constructor.apply(this,arguments)},statics:{ACTION_ID:"approveAction"},requires:["com.coremedia.cms.editor.sdk.actions.ApproveActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.ShowTabEntityInRepositoryActionBase",function(ShowTabEntityInRepositoryActionBase){function ShowTabEntityInRepositoryActionBase$(config){if(arguments.length<=0)config=null;AS3.setBindable(config,"handler",AS3.bind(this,"_handler$Sep6"));this.entityType$Sep6=AS3.getBindable(config,"entityType");this.handleEntity$Sep6=AS3.getBindable(config,"handleEntity")||ShowTabEntityInRepositoryActionBase.handleEntity;this.super$Sep6(config)}function _handler(){var contextClickedTab=
AS3.as(this.getContextClickedTab(),com.coremedia.cms.editor.sdk.desktop.WorkAreaTabBase);if(contextClickedTab){var entity=contextClickedTab.getEntity();this.handleEntity$Sep6(entity)}}function handleEntity$static(entity){var cvManager=AS3.as(com.coremedia.cms.editor.sdk.editorContext.getCollectionViewManager(),com.coremedia.cms.editor.sdk.collectionview.CollectionViewManagerInternal);cvManager.getCollectionView().showInRepositoryMode(entity)}function checkDisabled(){return false}function checkHidden(){var tab=
AS3.as(this.getContextClickedTab(),com.coremedia.cms.editor.sdk.desktop.WorkAreaTabBase);if(tab)return!AS3.is(tab.getEntity(),this.entityType$Sep6);return undefined}return{extend:"com.coremedia.ui.actions.AbstractTabContextMenuAction",entityType$Sep6:null,handleEntity$Sep6:null,constructor:ShowTabEntityInRepositoryActionBase$,super$Sep6:function(){com.coremedia.ui.actions.AbstractTabContextMenuAction.prototype.constructor.apply(this,arguments)},_handler$Sep6:_handler,checkDisabled:checkDisabled,checkHidden:checkHidden,
statics:{handleEntity:handleEntity$static},requires:["com.coremedia.ui.actions.AbstractTabContextMenuAction"],uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionViewManagerInternal","com.coremedia.cms.editor.sdk.desktop.WorkAreaTabBase","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.CanEditContentName",function(CanEditContentName){return{}});Ext.define("com.coremedia.cms.editor.sdk.actions.RevertAction",function(RevertAction){function RevertAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.RevertActionBase,{});var defaults_$1=AS3.cast(RevertAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$8kKb(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.RevertActionBase",metadata:{"":["PublicApi"]},
constructor:RevertAction$,super$8kKb:function(){com.coremedia.cms.editor.sdk.actions.RevertActionBase.prototype.constructor.apply(this,arguments)},statics:{ACTION_ID:"revertAction"},requires:["com.coremedia.cms.editor.sdk.actions.RevertActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.actions.DeleteSelectedLinksAction",function(DeleteSelectedLinksAction){function ACTION_ID$static_(){DeleteSelectedLinksAction.ACTION_ID=com.coremedia.cms.editor.sdk.actions.DeleteAction.ACTION_ID}function DeleteSelectedLinksAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.DeleteSelectedLinksActionBase,{});var defaults_$1=AS3.cast(DeleteSelectedLinksAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,
config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$l9$_(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.actions.DeleteSelectedLinksActionBase",metadata:{"":["Deprecated",["since","1710.1","replacement","com.coremedia.cms.editor.sdk.actions.LinkListRemoveAction"],"PublicApi"]},constructor:DeleteSelectedLinksAction$,super$l9$_:function(){com.coremedia.cms.editor.sdk.actions.DeleteSelectedLinksActionBase.prototype.constructor.apply(this,arguments)},config:{selectedPositionsExpression:null,
selectedPositionsVariableName:null},statics:{ACTION_ID:undefined,__initStatics__:function(){ACTION_ID$static_()}},requires:["com.coremedia.cms.editor.sdk.actions.DeleteSelectedLinksActionBase","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.actions.DeleteAction"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.widgets.search.QuickSearchWidgetBase",function(QuickSearchWidgetBase){function QuickSearchWidgetBase$(config){if(arguments.length<=0)config=null;this.super$r0SN(config);this.getContentValueExpression().setValue([]);this.on("afterlayout",AS3.bind(this,"afterLayout$r0SN"));var search=new com.coremedia.cms.editor.sdk.collectionview.SearchState;search.searchText=AS3.getBindable(config,"searchText");search.contentType=AS3.getBindable(config,"contentType");
this.getCollectionViewModel().setSearchState(true,null,search);this.getCollectionViewModel().addListener(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.UPDATE_EVENT,AS3.bind(this,"executeSearch"))}function getCollectionViewModel(){if(!this.model$r0SN)this.model$r0SN=(new com.coremedia.cms.editor.sdk.dashboard.widgets.search.PseudoCollectionView).getCollectionViewModel();return this.model$r0SN}function afterLayout(){var oldMaxEntries=this.maxEntries$r0SN;var searchBar=AS3.cast(Ext.Component,
this.getComponent(com.coremedia.cms.editor.sdk.dashboard.widgets.search.QuickSearchWidget.SEARCH_BAR_ITEM_ID));this.maxEntries$r0SN=Math.floor((this.getHeight()-searchBar.getHeight())/this.ROW_HEIGHT$r0SN);if(this.maxEntries$r0SN!==oldMaxEntries)this.getCollectionViewModel().triggerSearch()}function executeSearch(){var this$=this;if(this.maxEntries$r0SN>0)this.getCollectionViewModel().getSearchParameters(function(searchParameters){var searchResult=searchParameters?com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getSearchService().search(searchParameters):
null;searchResult.load(AS3.bind(this$,"searchExecuted$r0SN"))})}function searchExecuted(searchResult){var this$=this;var hits=searchResult.getHits()||[];var visible=hits.length<=this.maxEntries$r0SN?this.maxEntries$r0SN:this.maxEntries$r0SN-1;var entriesToShow=hits.slice(0,visible);var allContentsLoadedExpression=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var result=true;for(var i=0;i<entriesToShow.length;i++){var content=AS3.cast(com.coremedia.cap.content.Content,
entriesToShow[i]);if(content.getState()===com.coremedia.ui.data.BeanState.UNKNOWN){content.load();result=undefined}}return result});if(!allContentsLoadedExpression.isLoaded()){this.getShowMoreValueExpression().setValue(false);var dataView=AS3.cast(Ext.view.View,this.queryById(com.coremedia.cms.editor.sdk.dashboard.widgets.search.QuickSearchWidget.CONTENT_LIST_ITEM_ID));var store=dataView.getStore();store.fireEvent("beforeload",store,{})}allContentsLoadedExpression.loadValue(function(){if(com.coremedia.ui.util.ObjectUtils.equal(this$.getContentValueExpression().getValue(),
entriesToShow)){var contentList=AS3.as(this$.queryById(com.coremedia.cms.editor.sdk.dashboard.widgets.search.QuickSearchWidget.CONTENT_LIST_ITEM_ID),com.coremedia.cms.editor.sdk.dashboard.widgets.WidgetContentList);contentList.refresh()}this$.getContentValueExpression().setValue(entriesToShow);this$.getShowMoreValueExpression().setValue(hits.length>this$.maxEntries$r0SN)})}function showLibrary(){var searchSt=new com.coremedia.cms.editor.sdk.collectionview.SearchState;this.model$r0SN.getSearchParameters(function(searchParameters){if(searchParameters){searchSt.searchText=
searchParameters.query;searchSt.contentType=searchParameters.contentType[0];com.coremedia.cms.editor.sdk.editorContext.getCollectionViewManager().openSearch(searchSt,true,com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants.LIST_VIEW)}})}function getStateValueExpression(){return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"computeState$r0SN"))}function computeState(){var result={};var mainStateBean=this.getCollectionViewModel().getMainStateBean();result["searchText"]=
mainStateBean.get(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.SEARCH_TEXT_PROPERTY);result["contentType"]=mainStateBean.get(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.CONTENT_TYPE_PROPERTY);return result}function getContentValueExpression(){if(!this.contentValueExpression$r0SN)this.contentValueExpression$r0SN=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(undefined);return this.contentValueExpression$r0SN}function getShowMoreValueExpression(){if(!this.showMoreValueExpression$r0SN)this.showMoreValueExpression$r0SN=
com.coremedia.ui.data.ValueExpressionFactory.createFromValue(false);return this.showMoreValueExpression$r0SN}function reload(){this.executeSearch()}return{extend:"Ext.container.Container",mixins:["com.coremedia.ui.data.StateHolder","com.coremedia.cms.editor.sdk.dashboard.Reloadable"],ROW_HEIGHT$r0SN:23,model$r0SN:null,contentValueExpression$r0SN:null,showMoreValueExpression$r0SN:null,maxEntries$r0SN:0,constructor:QuickSearchWidgetBase$,super$r0SN:function(){Ext.container.Container.prototype.constructor.apply(this,
arguments)},getCollectionViewModel:getCollectionViewModel,afterLayout$r0SN:afterLayout,executeSearch:executeSearch,searchExecuted$r0SN:searchExecuted,showLibrary:showLibrary,getStateValueExpression:getStateValueExpression,computeState$r0SN:computeState,getContentValueExpression:getContentValueExpression,getShowMoreValueExpression:getShowMoreValueExpression,reload:reload,requires:["Ext.Component","Ext.container.Container","Ext.view.View","com.coremedia.cap.common.SESSION","com.coremedia.cap.content.Content",
"com.coremedia.cms.editor.sdk.dashboard.Reloadable","com.coremedia.ui.data.BeanState","com.coremedia.ui.data.StateHolder","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.util.ObjectUtils"],uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants","com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel","com.coremedia.cms.editor.sdk.collectionview.SearchState","com.coremedia.cms.editor.sdk.dashboard.widgets.WidgetContentList","com.coremedia.cms.editor.sdk.dashboard.widgets.search.PseudoCollectionView",
"com.coremedia.cms.editor.sdk.dashboard.widgets.search.QuickSearchWidget","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.widgets.search.QuickSearchWidgetType",function(QuickSearchWidgetType){function QuickSearchWidgetType$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.widgets.search.QuickSearchWidgetTypeBase,{});var defaults_$1=AS3.cast(QuickSearchWidgetType,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"name",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard",
"Widget_QuickSearch_name")));AS3.setBindable(config_$1,"description",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard","Widget_QuickSearch_description")));AS3.setBindable(config_$1,"iconCls",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard","Widget_QuickSearch_icon")));var editor_QuickSearchWidget_26_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.widgets.search.QuickSearchWidget,
{});AS3.setBindable(config_$1,"widgetComponent",editor_QuickSearchWidget_26_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$t8_0(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.dashboard.widgets.search.QuickSearchWidgetTypeBase",metadata:{"":["PublicApi"]},constructor:QuickSearchWidgetType$,super$t8_0:function(){com.coremedia.cms.editor.sdk.dashboard.widgets.search.QuickSearchWidgetTypeBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.dashboard.Dashboard_properties",
"com.coremedia.cms.editor.sdk.dashboard.widgets.search.QuickSearchWidgetTypeBase","mx.resources.ResourceManager","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.dashboard.widgets.search.QuickSearchWidget"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.widgets.search.SimpleSearchWidgetState",function(SimpleSearchWidgetState){function SimpleSearchWidgetState$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.WidgetState,{});var defaults_$1=AS3.cast(SimpleSearchWidgetState,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.widgetTypeId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.dashboard.widgets.search.SimpleSearchWidget.xtype);
net.jangaroo.ext.Exml.apply(config_$1,config);this.super$z3iW(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.dashboard.WidgetState",metadata:{"":["PublicApi"]},constructor:SimpleSearchWidgetState$,super$z3iW:function(){com.coremedia.cms.editor.sdk.dashboard.WidgetState.prototype.constructor.apply(this,arguments)},config:{searchText:null,contentType:null,preferredSite:false},requires:["com.coremedia.cms.editor.sdk.dashboard.WidgetState","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.dashboard.widgets.search.SimpleSearchWidget"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.widgets.search.SimpleSearchWidgetTypeBase",function(SimpleSearchWidgetTypeBase){function SimpleSearchWidgetTypeBase$(config){if(arguments.length<=0)config=null;this.super$WwWy(config)}function getTitle(untypedState){return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard","Widget_SimpleSearch_name")+": "+com.coremedia.cms.editor.sdk.dashboard.widgets.search.SearchWidgetTitleFormatter.formatTextType(untypedState.searchText,
untypedState.contentType,untypedState.preferredSite)}return{extend:"com.coremedia.cms.editor.sdk.dashboard.ComponentBasedWidgetType",metadata:{"":["PublicApi"]},constructor:SimpleSearchWidgetTypeBase$,super$WwWy:function(){com.coremedia.cms.editor.sdk.dashboard.ComponentBasedWidgetType.prototype.constructor.apply(this,arguments)},getTitle:getTitle,requires:["com.coremedia.cms.editor.sdk.dashboard.ComponentBasedWidgetType","com.coremedia.cms.editor.sdk.dashboard.Dashboard_properties","mx.resources.ResourceManager"],
uses:["com.coremedia.cms.editor.sdk.dashboard.widgets.search.SearchWidgetTitleFormatter"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.widgets.search.SimpleSearchWidgetBase",function(SimpleSearchWidgetBase){function SimpleSearchWidgetBase$(config){if(arguments.length<=0)config=null;this.super$X09Y(config)}function getSearchState(){var searchState=new com.coremedia.cms.editor.sdk.collectionview.SearchState;searchState.searchText=AS3.getBindable(this,"searchText");searchState.contentType=AS3.getBindable(this,"contentType");var isSearchInPreferredSite=evaluateSearchInPreferredSite$static(AS3.getBindable(this,
"preferredSite"));var siteFilterState={};siteFilterState[com.coremedia.cms.editor.sdk.collectionview.search.SiteFilterPanelBase.SITE_PROPERTY]=isSearchInPreferredSite?com.coremedia.cms.editor.sdk.collectionview.search.SiteFilterPanelBase.PREFERRED_SITE_VALUE:com.coremedia.cms.editor.sdk.collectionview.search.SiteFilterPanelBase.NO_FILTER_VALUE;searchState.setFilter(com.coremedia.cms.editor.sdk.collectionview.search.SiteFilterPanel.FILTER_ID,siteFilterState);return searchState}function evaluateSearchInPreferredSite$static(isInPreferredSite){if(isInPreferredSite===
null)return false;if(isInPreferredSite===undefined)return true;if(typeof isInPreferredSite==="boolean")return Boolean(isInPreferredSite);return false}function updateModel(){this.getModel().setSearchState(true,null,this.getSearchState$X09Y())}function showLibrary(){com.coremedia.cms.editor.sdk.editorContext.getCollectionViewManager().openSearch(this.getSearchState$X09Y(),true,com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants.LIST_VIEW)}return{extend:"com.coremedia.cms.editor.sdk.dashboard.widgets.search.AbstractSearchWidget",
mixins:["com.coremedia.cms.editor.sdk.dashboard.Reloadable"],constructor:SimpleSearchWidgetBase$,super$X09Y:function(){com.coremedia.cms.editor.sdk.dashboard.widgets.search.AbstractSearchWidget.prototype.constructor.apply(this,arguments)},getSearchState$X09Y:getSearchState,updateModel:updateModel,showLibrary:showLibrary,config:{searchText:null,contentType:null,preferredSite:undefined},requires:["com.coremedia.cms.editor.sdk.dashboard.Reloadable","com.coremedia.cms.editor.sdk.dashboard.widgets.search.AbstractSearchWidget"],
uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants","com.coremedia.cms.editor.sdk.collectionview.SearchState","com.coremedia.cms.editor.sdk.collectionview.search.SiteFilterPanel","com.coremedia.cms.editor.sdk.collectionview.search.SiteFilterPanelBase","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.widgets.search.FixedSearchWidgetType",function(FixedSearchWidgetType){function FixedSearchWidgetType$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.ComponentBasedWidgetType,{});var defaults_$1=AS3.cast(FixedSearchWidgetType,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"name",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard",
"Widget_FixedSearch_name")));AS3.setBindable(config_$1,"description",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard","Widget_FixedSearch_description")));AS3.setBindable(config_$1,"iconCls",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard","Widget_FixedSearch_icon")));var editor_FixedSearchWidget_43_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.widgets.search.FixedSearchWidget,
{});editor_FixedSearchWidget_43_5_$1.search=AS3.getBindable(config,"search");AS3.setBindable(config_$1,"widgetComponent",editor_FixedSearchWidget_43_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$BcC7(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.dashboard.ComponentBasedWidgetType",metadata:{"":["PublicApi"]},constructor:FixedSearchWidgetType$,super$BcC7:function(){com.coremedia.cms.editor.sdk.dashboard.ComponentBasedWidgetType.prototype.constructor.apply(this,arguments)},
config:{search:null},requires:["com.coremedia.cms.editor.sdk.dashboard.ComponentBasedWidgetType","com.coremedia.cms.editor.sdk.dashboard.Dashboard_properties","mx.resources.ResourceManager","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.dashboard.widgets.search.FixedSearchWidget"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.widgets.search.FixedSearchWidget",function(FixedSearchWidget){function FixedSearchWidget$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.widgets.search.FixedSearchWidgetBase,{});var defaults_$1=AS3.cast(FixedSearchWidget,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Mpuj(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.dashboard.widgets.search.FixedSearchWidgetBase",
alias:"widget.com.coremedia.cms.editor.sdk.config.fixedSearchWidget",constructor:FixedSearchWidget$,super$Mpuj:function(){com.coremedia.cms.editor.sdk.dashboard.widgets.search.FixedSearchWidgetBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.dashboard.widgets.search.FixedSearchWidgetBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.widgets.search.SavedSearchWidgetType",function(SavedSearchWidgetType){function SavedSearchWidgetType$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.ComponentBasedWidgetType,{});var defaults_$1=AS3.cast(SavedSearchWidgetType,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"id_",net.jangaroo.ext.Exml.asString(SavedSearchWidgetType.WIDGET_TYPE_ID));AS3.setBindable(config_$1,
"description",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard","Widget_SavedSearch_description")));AS3.setBindable(config_$1,"iconCls",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard","Widget_SavedSearch_icon")));AS3.setBindable(config_$1,"manuallyCreatable",false);var editor_SavedSearchWidget_29_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.widgets.search.SavedSearchWidget,
{});AS3.setBindable(config_$1,"widgetComponent",editor_SavedSearchWidget_29_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$ZsGQ(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.dashboard.ComponentBasedWidgetType",metadata:{"":["PublicApi"]},constructor:SavedSearchWidgetType$,super$ZsGQ:function(){com.coremedia.cms.editor.sdk.dashboard.ComponentBasedWidgetType.prototype.constructor.apply(this,arguments)},statics:{WIDGET_TYPE_ID:"com.coremedia.cms.editor.sdk.dashboard.widgets.search.savedSearchWidget"},
requires:["com.coremedia.cms.editor.sdk.dashboard.ComponentBasedWidgetType","com.coremedia.cms.editor.sdk.dashboard.Dashboard_properties","mx.resources.ResourceManager","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.dashboard.widgets.search.SavedSearchWidget"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.widgets.search.QuickSearchWidgetState",function(QuickSearchWidgetState){function QuickSearchWidgetState$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.WidgetState,{});var defaults_$1=AS3.cast(QuickSearchWidgetState,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.widgetTypeId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.dashboard.widgets.search.QuickSearchWidget.xtype);
net.jangaroo.ext.Exml.apply(config_$1,config);this.super$fCqB(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.dashboard.WidgetState",metadata:{"":["PublicApi"]},constructor:QuickSearchWidgetState$,super$fCqB:function(){com.coremedia.cms.editor.sdk.dashboard.WidgetState.prototype.constructor.apply(this,arguments)},config:{searchText:null,contentType:null},requires:["com.coremedia.cms.editor.sdk.dashboard.WidgetState","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.dashboard.widgets.search.QuickSearchWidget"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.widgets.search.QuickSearchWidgetTypeBase",function(QuickSearchWidgetTypeBase){function QuickSearchWidgetTypeBase$(config){if(arguments.length<=0)config=null;this.super$A4fn(config)}function getTitle(untypedState){var state=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.widgets.search.QuickSearchWidgetState,untypedState);return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard","Widget_QuickSearch_name")+
": "+com.coremedia.cms.editor.sdk.dashboard.widgets.search.SearchWidgetTitleFormatter.formatTextType(AS3.getBindable(state,"searchText"),AS3.getBindable(state,"contentType"))}return{extend:"com.coremedia.cms.editor.sdk.dashboard.ComponentBasedWidgetType",metadata:{"":["PublicApi"]},constructor:QuickSearchWidgetTypeBase$,super$A4fn:function(){com.coremedia.cms.editor.sdk.dashboard.ComponentBasedWidgetType.prototype.constructor.apply(this,arguments)},getTitle:getTitle,requires:["com.coremedia.cms.editor.sdk.dashboard.ComponentBasedWidgetType",
"com.coremedia.cms.editor.sdk.dashboard.Dashboard_properties","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.dashboard.widgets.search.QuickSearchWidgetState","com.coremedia.cms.editor.sdk.dashboard.widgets.search.SearchWidgetTitleFormatter"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.widgets.search.AbstractSearchWidgetBase",function(AbstractSearchWidgetBase){function AbstractSearchWidgetBase$(config){if(arguments.length<=0)config=null;this.super$RSWI(config);this.model$RSWI=(new com.coremedia.cms.editor.sdk.dashboard.widgets.search.PseudoCollectionView).getCollectionViewModel();this.on("afterlayout",AS3.bind(this,"afterLayout$RSWI"))}function afterLayout(){if(this.getHeight()>0){var oldMaxEntries=this.maxEntries$RSWI;this.maxEntries$RSWI=
Math.floor(this.getHeight()/this.ROW_HEIGHT$RSWI);if(this.maxEntries$RSWI!==oldMaxEntries)this.executeSearch()}}function executeSearch(){var this$=this;this.updateModel();this.model$RSWI.getSearchParameters(function(searchParameters){if(searchParameters){var searchResult=com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getSearchService().search(searchParameters);searchResult.load(AS3.bind(this$,"searchExecuted$RSWI"))}})}function getModel(){return this.model$RSWI}function updateModel(){throw new AS3.Error("updateModel() must be overridden");
}function showLibrary(){throw new AS3.Error("showLibrary() must be overridden");}function searchExecuted(searchResult){var this$=this;var hits=searchResult.getHits()||[];var visible=hits.length<=this.maxEntries$RSWI?this.maxEntries$RSWI:this.maxEntries$RSWI-1;var entriesToShow=hits.slice(0,visible);var allContentsLoadedExpression=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var result=true;for(var i=0;i<entriesToShow.length;i++){var content=AS3.cast(com.coremedia.cap.content.Content,
entriesToShow[i]);if(!content.isLoaded()){content.load();result=undefined}}return result});if(!allContentsLoadedExpression.isLoaded()){var dataView=AS3.cast(Ext.view.View,this.queryById(com.coremedia.cms.editor.sdk.dashboard.widgets.search.AbstractSearchWidget.CONTENT_LIST_ITEM_ID));var store=AS3.cast(Ext.data.Store,dataView.getStore());store.fireEvent("beforeload",store,{})}allContentsLoadedExpression.loadValue(function(){this$.getContentValueExpression().setValue(entriesToShow)})}function getContentValueExpression(){if(!this.contentValueExpression$RSWI)this.contentValueExpression$RSWI=
com.coremedia.ui.data.ValueExpressionFactory.createFromValue(undefined);return this.contentValueExpression$RSWI}function reload(){this.executeSearch()}return{extend:"Ext.panel.Panel",mixins:["com.coremedia.cms.editor.sdk.dashboard.Reloadable"],ROW_HEIGHT$RSWI:21,model$RSWI:null,contentValueExpression$RSWI:null,maxEntries$RSWI:0,constructor:AbstractSearchWidgetBase$,super$RSWI:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},afterLayout$RSWI:afterLayout,executeSearch:executeSearch,
getModel:getModel,updateModel:updateModel,showLibrary:showLibrary,searchExecuted$RSWI:searchExecuted,getContentValueExpression:getContentValueExpression,reload:reload,requires:["AS3.Error","Ext.data.Store","Ext.panel.Panel","Ext.view.View","com.coremedia.cap.common.SESSION","com.coremedia.cap.content.Content","com.coremedia.cms.editor.sdk.dashboard.Reloadable","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.sdk.dashboard.widgets.search.AbstractSearchWidget","com.coremedia.cms.editor.sdk.dashboard.widgets.search.PseudoCollectionView"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.widgets.search.SavedSearchWidget",function(SavedSearchWidget){function SavedSearchWidget$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.widgets.search.SavedSearchWidgetBase,{});var defaults_$1=AS3.cast(SavedSearchWidget,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.header=false;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$jS30(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.dashboard.widgets.search.SavedSearchWidgetBase",
alias:"widget.com.coremedia.cms.editor.sdk.config.savedSearchWidget",constructor:SavedSearchWidget$,super$jS30:function(){com.coremedia.cms.editor.sdk.dashboard.widgets.search.SavedSearchWidgetBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.dashboard.widgets.search.SavedSearchWidgetBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.widgets.search.SimpleSearchWidgetType",function(SimpleSearchWidgetType){function SimpleSearchWidgetType$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.widgets.search.SimpleSearchWidgetTypeBase,{});var defaults_$1=AS3.cast(SimpleSearchWidgetType,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"name",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard",
"Widget_SimpleSearch_name")));AS3.setBindable(config_$1,"description",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard","Widget_SimpleSearch_description")));AS3.setBindable(config_$1,"iconCls",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard","Widget_SimpleSearch_icon")));var editor_SimpleSearchWidget_29_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.widgets.search.SimpleSearchWidget,
{});AS3.setBindable(config_$1,"widgetComponent",editor_SimpleSearchWidget_29_5_$1);var editor_SimpleSearchWidgetEditor_32_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.widgets.search.SimpleSearchWidgetEditor,{});AS3.setBindable(config_$1,"editorComponent",editor_SimpleSearchWidgetEditor_32_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Z8hB(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.dashboard.widgets.search.SimpleSearchWidgetTypeBase",metadata:{"":["PublicApi"]},
constructor:SimpleSearchWidgetType$,super$Z8hB:function(){com.coremedia.cms.editor.sdk.dashboard.widgets.search.SimpleSearchWidgetTypeBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.dashboard.Dashboard_properties","com.coremedia.cms.editor.sdk.dashboard.widgets.search.SimpleSearchWidgetTypeBase","mx.resources.ResourceManager","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.dashboard.widgets.search.SimpleSearchWidget","com.coremedia.cms.editor.sdk.dashboard.widgets.search.SimpleSearchWidgetEditor"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.widgets.search.SimpleSearchWidget",function(SimpleSearchWidget){function SimpleSearchWidget$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.widgets.search.SimpleSearchWidgetBase,{});var defaults_$1=AS3.cast(SimpleSearchWidget,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Q_Vn(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.dashboard.widgets.search.SimpleSearchWidgetBase",
alias:"widget.com.coremedia.cms.editor.sdk.config.simpleSearchWidget",constructor:SimpleSearchWidget$,super$Q_Vn:function(){com.coremedia.cms.editor.sdk.dashboard.widgets.search.SimpleSearchWidgetBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.dashboard.widgets.search.SimpleSearchWidgetBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.widgets.search.FixedSearchWidgetBase",function(FixedSearchWidgetBase){function FixedSearchWidgetBase$(config){if(arguments.length<=0)config=null;config.search.contentType="Document_";this.super$9TgU(config)}function updateModel(){this.getModel().setSearchState(true,null,this.search)}function showLibrary(){com.coremedia.cms.editor.sdk.editorContext.getCollectionViewManager().openSearch(this.search,true,com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants.LIST_VIEW)}
return{extend:"com.coremedia.cms.editor.sdk.dashboard.widgets.search.AbstractSearchWidget",mixins:["com.coremedia.cms.editor.sdk.dashboard.Reloadable"],constructor:FixedSearchWidgetBase$,super$9TgU:function(){com.coremedia.cms.editor.sdk.dashboard.widgets.search.AbstractSearchWidget.prototype.constructor.apply(this,arguments)},search:null,updateModel:updateModel,showLibrary:showLibrary,requires:["com.coremedia.cms.editor.sdk.dashboard.Reloadable","com.coremedia.cms.editor.sdk.dashboard.widgets.search.AbstractSearchWidget"],
uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.widgets.search.AbstractSearchWidget",function(AbstractSearchWidget){function AbstractSearchWidget$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.widgets.search.AbstractSearchWidgetBase,{});var defaults_$1=AS3.cast(AbstractSearchWidget,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var editor_WidgetContentList_27_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.widgets.WidgetContentList,
{});editor_WidgetContentList_27_5_$1.itemId=net.jangaroo.ext.Exml.asString(AbstractSearchWidget.CONTENT_LIST_ITEM_ID);AS3.setBindable(editor_WidgetContentList_27_5_$1,"contentList",this.getContentValueExpression());config_$1.items=[editor_WidgetContentList_27_5_$1];var container_31_5_$1=AS3.cast(Ext.container.Container,{});AS3.setBindable(container_31_5_$1,"dock","bottom");var button_33_9_$1=AS3.cast(Ext.button.Button,{});button_33_9_$1.itemId=net.jangaroo.ext.Exml.asString(AbstractSearchWidget.MORE_BUTTON_ITEM_ID);
button_33_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE.getSkin());AS3.setBindable(button_33_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard","show_all_text")));AS3.setBindable(button_33_9_$1,"handler",AS3.bind(this,"showLibrary"));container_31_5_$1.items=[button_33_9_$1];config_$1.dockedItems=[container_31_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$$0MX(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.dashboard.widgets.search.AbstractSearchWidgetBase",
alias:"widget.com.coremedia.cms.editor.sdk.config.abstractSearchWidget",constructor:AbstractSearchWidget$,super$$0MX:function(){com.coremedia.cms.editor.sdk.dashboard.widgets.search.AbstractSearchWidgetBase.prototype.constructor.apply(this,arguments)},statics:{CONTENT_LIST_ITEM_ID:"contentList",MORE_BUTTON_ITEM_ID:"moreButton"},requires:["Ext.button.Button","Ext.container.Container","com.coremedia.cms.editor.sdk.dashboard.Dashboard_properties","com.coremedia.cms.editor.sdk.dashboard.widgets.search.AbstractSearchWidgetBase",
"com.coremedia.ui.skins.ButtonSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.dashboard.widgets.WidgetContentList"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.widgets.search.PseudoCollectionView",function(PseudoCollectionView){function PseudoCollectionView$(){this.super$0DuK(AS3.cast(Ext.container.Container,{items:AS3.cast(com.coremedia.cms.editor.sdk.collectionview.search.SearchFilters,{})}))}function getCollectionViewModel(){if(!this.model$0DuK)this.model$0DuK=new com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel;return this.model$0DuK}function getSearchResultHitsValueExpression(){return null}
function getSearchResultValueExpression(){return null}function getUploadDisabledValueExpression(){return null}function getSelectedRepositoryItemsValueExpression(){return null}function getSelectedItemsValueExpression(){return null}function getSelectedSearchItemsValueExpression(){return null}function getSelectedFolderValueExpression(){return null}function getNewContentActionDisabledExpression(){return null}function getCreatedContentValueExpression(){return null}return{extend:"Ext.container.Container",
mixins:["com.coremedia.cms.editor.sdk.collectionview.ICollectionView"],model$0DuK:null,constructor:PseudoCollectionView$,super$0DuK:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},getCollectionViewModel:getCollectionViewModel,getSearchResultHitsValueExpression:getSearchResultHitsValueExpression,getSearchResultValueExpression:getSearchResultValueExpression,getUploadDisabledValueExpression:getUploadDisabledValueExpression,getSelectedRepositoryItemsValueExpression:getSelectedRepositoryItemsValueExpression,
getSelectedItemsValueExpression:getSelectedItemsValueExpression,getSelectedSearchItemsValueExpression:getSelectedSearchItemsValueExpression,getSelectedFolderValueExpression:getSelectedFolderValueExpression,getNewContentActionDisabledExpression:getNewContentActionDisabledExpression,getCreatedContentValueExpression:getCreatedContentValueExpression,requires:["Ext.container.Container","com.coremedia.cms.editor.sdk.collectionview.ICollectionView"],uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel",
"com.coremedia.cms.editor.sdk.collectionview.search.SearchFilters"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.widgets.search.QuickSearchWidget",function(QuickSearchWidget){function QuickSearchWidget$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.widgets.search.QuickSearchWidgetBase,{});var defaults_$1=AS3.cast(QuickSearchWidget,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"height","100%");var container_48_5_$1=AS3.cast(Ext.container.Container,{});container_48_5_$1.itemId=
net.jangaroo.ext.Exml.asString(QuickSearchWidget.SEARCH_BAR_ITEM_ID);var component_50_9_$1=AS3.cast(Ext.Component,{});component_50_9_$1.flex=1;var editor_ContentTypeSelector_51_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.search.ContentTypeSelector,{});editor_ContentTypeSelector_51_9_$1.itemId=net.jangaroo.ext.Exml.asString(QuickSearchWidget.CONTENT_TYPE_SELECTOR_ITEM_ID);AS3.setBindable(editor_ContentTypeSelector_51_9_$1,"entries",com.coremedia.cms.editor.sdk.collectionview.search.ContentTypeSelectorBase.getAvailableContentTypeEntries());
var ui_ValueExpression_54_13_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_54_13_$1,"expression","contentType");AS3.setBindable(ui_ValueExpression_54_13_$1,"context",this.getCollectionViewModel().getMainStateBean());AS3.setBindable(editor_ContentTypeSelector_51_9_$1,"contentTypeValueExpression",new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_54_13_$1));var editor_SearchField_58_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.search.SearchField,
{});editor_SearchField_58_9_$1.flex=3;editor_SearchField_58_9_$1.itemId=net.jangaroo.ext.Exml.asString(QuickSearchWidget.SEARCH_FIELD_ITEM_ID);AS3.setBindable(editor_SearchField_58_9_$1,"collectionViewModel",this.getCollectionViewModel());var ui_IconButton_61_9_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_61_9_$1.itemId="startSearch";AS3.setBindable(ui_IconButton_61_9_$1,"scale","small");ui_IconButton_61_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE.getSkin());
AS3.setBindable(ui_IconButton_61_9_$1,"tooltip",this.resourceManager.getString("com.coremedia.cms.editor.Editor","SearchArea_search_btn_tooltip"));AS3.setBindable(ui_IconButton_61_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","search")));AS3.setBindable(ui_IconButton_61_9_$1,"handler",AS3.bind(this,"executeSearch"));var component_67_9_$1=AS3.cast(Ext.Component,{});component_67_9_$1.flex=1;container_48_5_$1.items=[component_50_9_$1,editor_ContentTypeSelector_51_9_$1,
editor_SearchField_58_9_$1,ui_IconButton_61_9_$1,component_67_9_$1];var layout_HBox_70_9_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_70_9_$1,"align","middle");AS3.setBindable(layout_HBox_70_9_$1,"padding","10 0 10 0");AS3.setBindable(container_48_5_$1,"layout",layout_HBox_70_9_$1);var editor_WidgetContentList_75_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.widgets.WidgetContentList,{});editor_WidgetContentList_75_5_$1.itemId=net.jangaroo.ext.Exml.asString(QuickSearchWidget.CONTENT_LIST_ITEM_ID);
AS3.setBindable(editor_WidgetContentList_75_5_$1,"contentList",this.getContentValueExpression());var container_77_5_$1=AS3.cast(Ext.container.Container,{});AS3.setBindable(container_77_5_$1,"height",16);AS3.setBindable(container_77_5_$1,"region","south");var button_80_9_$1=AS3.cast(Ext.button.Button,{});button_80_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE.getSkin());AS3.setBindable(button_80_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard",
"show_all_text")));AS3.setBindable(button_80_9_$1,"handler",AS3.bind(this,"showLibrary"));var component_83_9_$1=AS3.cast(Ext.Component,{});component_83_9_$1.flex=1;AS3.setBindable(component_83_9_$1,"height",16);container_77_5_$1.items=[button_80_9_$1,component_83_9_$1];var layout_HBox_88_9_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(container_77_5_$1,"layout",layout_HBox_88_9_$1);config_$1.items=[container_48_5_$1,editor_WidgetContentList_75_5_$1,container_77_5_$1];net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$V8yc(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.dashboard.widgets.search.QuickSearchWidgetBase",alias:"widget.com.coremedia.cms.editor.sdk.config.quickSearchWidget",constructor:QuickSearchWidget$,super$V8yc:function(){com.coremedia.cms.editor.sdk.dashboard.widgets.search.QuickSearchWidgetBase.prototype.constructor.apply(this,arguments)},config:{searchText:null,contentType:null},statics:{CONTENT_LIST_ITEM_ID:"contentList",SEARCH_BAR_ITEM_ID:"searchBar",CONTENT_TYPE_SELECTOR_ITEM_ID:"contentTypeSelector",
SEARCH_FIELD_ITEM_ID:"searchField"},requires:["Ext.Component","Ext.button.Button","Ext.container.Container","Ext.layout.container.HBox","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.dashboard.Dashboard_properties","com.coremedia.cms.editor.sdk.dashboard.widgets.search.QuickSearchWidgetBase","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.components.IconButton","com.coremedia.ui.exml.ValueExpression","com.coremedia.ui.skins.ButtonSkin","net.jangaroo.ext.Exml"],
uses:["com.coremedia.cms.editor.sdk.collectionview.search.ContentTypeSelector","com.coremedia.cms.editor.sdk.collectionview.search.ContentTypeSelectorBase","com.coremedia.cms.editor.sdk.collectionview.search.SearchField","com.coremedia.cms.editor.sdk.dashboard.widgets.WidgetContentList"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.widgets.search.SimpleSearchWidgetEditor",function(SimpleSearchWidgetEditor){function SimpleSearchWidgetEditor$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.ui.components.StatefulContainer,{});var defaults_$1=AS3.cast(SimpleSearchWidgetEditor,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"properties","searchText,contentType,preferredSite");var editor_ContentTypeSelector_29_5_$1=
AS3.cast(com.coremedia.cms.editor.sdk.collectionview.search.ContentTypeSelector,{});AS3.setBindable(editor_ContentTypeSelector_29_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard","Widget_SimpleSearch_contentType_text")));AS3.setBindable(editor_ContentTypeSelector_29_5_$1,"entries",com.coremedia.cms.editor.sdk.collectionview.search.ContentTypeSelectorBase.getAvailableContentTypeEntries());editor_ContentTypeSelector_29_5_$1.anchor=
"100%";editor_ContentTypeSelector_29_5_$1.itemId=net.jangaroo.ext.Exml.asString(SimpleSearchWidgetEditor.CONTENT_TYPE_SELECTOR_ITEM_ID);var ui_ValueExpression_35_9_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_35_9_$1,"expression","contentType");AS3.setBindable(ui_ValueExpression_35_9_$1,"context",this.getModel());AS3.setBindable(editor_ContentTypeSelector_29_5_$1,"contentTypeValueExpression",new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_35_9_$1));
var textField_39_5_$1=AS3.cast(Ext.form.field.Text,{});AS3.setBindable(textField_39_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard","Widget_SimpleSearch_searchText_text")));textField_39_5_$1.itemId=net.jangaroo.ext.Exml.asString(SimpleSearchWidgetEditor.SEARCH_TEXT_ITEM_ID);textField_39_5_$1.anchor="100%";var ui_BindPropertyPlugin_44_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_44_9_$1.bidirectional=
true;var ui_ValueExpression_46_13_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_46_13_$1,"expression","searchText");AS3.setBindable(ui_ValueExpression_46_13_$1,"context",this.getModel());ui_BindPropertyPlugin_44_9_$1.bindTo=new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_46_13_$1);var ui_BlockEnterPlugin_50_9_$1=AS3.cast(com.coremedia.ui.plugins.BlockEnterPlugin,{});textField_39_5_$1.plugins=[ui_BindPropertyPlugin_44_9_$1,ui_BlockEnterPlugin_50_9_$1];
var ui_BoundRadioGroup_54_5_$1=AS3.cast(com.coremedia.ui.components.BoundRadioGroup,{});AS3.setBindable(ui_BoundRadioGroup_54_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard","Widget_SimpleSearch_site_text")));ui_BoundRadioGroup_54_5_$1.labelWidth=90;ui_BoundRadioGroup_54_5_$1.columns=2;ui_BoundRadioGroup_54_5_$1.toValue=function(value){return value===undefined||value!==null&&value==="preferred"};ui_BoundRadioGroup_54_5_$1.defaultValue=
"preferred";ui_BoundRadioGroup_54_5_$1.itemId=net.jangaroo.ext.Exml.asString(SimpleSearchWidgetEditor.PREFERRED_SITE_ITEM_ID);var radio_62_9_$1=AS3.cast(Ext.form.field.Radio,{});radio_62_9_$1.itemId="preferred";AS3.setBindable(radio_62_9_$1,"boxLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard","Widget_SimpleSearch_site_preferredSite_text")));AS3.setBindable(radio_62_9_$1,"margin","0 0 0 6");var radio_65_9_$1=AS3.cast(Ext.form.field.Radio,
{});radio_65_9_$1.itemId="all";AS3.setBindable(radio_65_9_$1,"boxLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard","Widget_SimpleSearch_site_allContent_text")));ui_BoundRadioGroup_54_5_$1.items=[radio_62_9_$1,radio_65_9_$1];var ui_ValueExpression_69_9_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_69_9_$1,"expression","preferredSite");AS3.setBindable(ui_ValueExpression_69_9_$1,"context",
this.getModel());AS3.setBindable(ui_BoundRadioGroup_54_5_$1,"bindTo",new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_69_9_$1));config_$1.items=[editor_ContentTypeSelector_29_5_$1,textField_39_5_$1,ui_BoundRadioGroup_54_5_$1];var ui_VerticalSpacingPlugin_75_5_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});config_$1.plugins=[ui_VerticalSpacingPlugin_75_5_$1];var object_78_5_$1={};object_78_5_$1.contentType=com.coremedia.cap.content.ContentTypeNames.DOCUMENT;object_78_5_$1.searchText=
"";object_78_5_$1.preferredSite=true;AS3.setBindable(config_$1,"propertyDefaults",object_78_5_$1);var layout_Anchor_83_5_$1=AS3.cast(Ext.layout.container.Anchor,{});AS3.setBindable(config_$1,"layout",layout_Anchor_83_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$qNo_(config_$1)}return{extend:"com.coremedia.ui.components.StatefulContainer",alias:"widget.com.coremedia.cms.editor.sdk.config.simpleSearchWidgetEditor",constructor:SimpleSearchWidgetEditor$,super$qNo_:function(){com.coremedia.ui.components.StatefulContainer.prototype.constructor.apply(this,
arguments)},statics:{CONTENT_TYPE_SELECTOR_ITEM_ID:"contentTypeSelector",SEARCH_TEXT_ITEM_ID:"searchField",PREFERRED_SITE_ITEM_ID:"preferredSite"},requires:["Ext.form.field.Radio","Ext.form.field.Text","Ext.layout.container.Anchor","com.coremedia.cap.content.ContentTypeNames","com.coremedia.cms.editor.sdk.dashboard.Dashboard_properties","com.coremedia.ui.components.BoundRadioGroup","com.coremedia.ui.components.StatefulContainer","com.coremedia.ui.exml.ValueExpression","com.coremedia.ui.plugins.BindPropertyPlugin",
"com.coremedia.ui.plugins.BlockEnterPlugin","com.coremedia.ui.plugins.VerticalSpacingPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.collectionview.search.ContentTypeSelector","com.coremedia.cms.editor.sdk.collectionview.search.ContentTypeSelectorBase"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.widgets.search.SavedSearchWidgetBase",function(SavedSearchWidgetBase){function SavedSearchWidgetBase$(config){if(arguments.length<=0)config=null;this.super$Xjkn(config)}function updateModel(){this.getModel().updateState(this.search)}function showLibrary(){var manager=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.CollectionViewManagerInternal,com.coremedia.cms.editor.sdk.editorContext.getCollectionViewManager());manager.openWithAllState(this.search)}
return{extend:"com.coremedia.cms.editor.sdk.dashboard.widgets.search.AbstractSearchWidget",mixins:["com.coremedia.cms.editor.sdk.dashboard.Reloadable"],constructor:SavedSearchWidgetBase$,super$Xjkn:function(){com.coremedia.cms.editor.sdk.dashboard.widgets.search.AbstractSearchWidget.prototype.constructor.apply(this,arguments)},search:null,updateModel:updateModel,showLibrary:showLibrary,requires:["com.coremedia.cms.editor.sdk.dashboard.Reloadable","com.coremedia.cms.editor.sdk.dashboard.widgets.search.AbstractSearchWidget"],
uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionViewManagerInternal","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.widgets.search.SearchWidgetTitleFormatter",function(SearchWidgetTitleFormatter){function formatTextType$static(searchText,contentType,preferredSite){if(arguments.length<=2)preferredSite=null;if(!contentType)contentType=com.coremedia.cap.content.ContentTypeNames.DOCUMENT;var contentTypeName=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.localizeDocumentTypeName(contentType);var result;if(searchText)result="'"+searchText+"' ("+contentTypeName+
")";else result=contentTypeName;if(preferredSite===false)result=result+" "+mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard","Widget_SearchWidgetTitleFormatter_entireRepository_text");return result}function SearchWidgetTitleFormatter$(){}return{constructor:SearchWidgetTitleFormatter$,statics:{formatTextType:formatTextType$static},requires:["com.coremedia.cap.content.ContentTypeNames","com.coremedia.cms.editor.sdk.dashboard.Dashboard_properties",
"mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.widgets.search.SavedSearchWidgetState",function(SavedSearchWidgetState){function SavedSearchWidgetState$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.WidgetState,{});var defaults_$1=AS3.cast(SavedSearchWidgetState,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.widgetTypeId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.dashboard.widgets.search.SavedSearchWidgetType.WIDGET_TYPE_ID);
net.jangaroo.ext.Exml.apply(config_$1,config);this.super$J8kn(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.dashboard.WidgetState",constructor:SavedSearchWidgetState$,super$J8kn:function(){com.coremedia.cms.editor.sdk.dashboard.WidgetState.prototype.constructor.apply(this,arguments)},config:{search:null,title:null},requires:["com.coremedia.cms.editor.sdk.dashboard.WidgetState","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.dashboard.widgets.search.SavedSearchWidgetType"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.widgets.translate.ClickableContainer",function(ClickableContainer){function ClickableContainer$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.widgets.translate.ClickableContainerBase,{});var defaults_$1=AS3.cast(ClickableContainer,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.event="mouseup";net.jangaroo.ext.Exml.apply(config_$1,config);this.super$bsHo(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.dashboard.widgets.translate.ClickableContainerBase",
alias:"widget.com.coremedia.cms.editor.sdk.config.clickableContainer",constructor:ClickableContainer$,super$bsHo:function(){com.coremedia.cms.editor.sdk.dashboard.widgets.translate.ClickableContainerBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.dashboard.widgets.translate.ClickableContainerBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.widgets.translate.ClickableContainerBase",function(ClickableContainerBase){function ClickableContainerBase$(config){if(arguments.length<=0)config=null;this.super$grPZ(config);this.on("render",AS3.bind(this,"registerHandler$grPZ"))}function registerHandler(){var el=this.getEl();if(this.handler&&el){el.on(this.event,this.handler);el.addClsOnOver("clickable-container-over")}}function beforeDestroy(){var el=this.getEl();if(this.handler&&el)el.un(this.event,
this.handler,null);Ext.container.Container.prototype.beforeDestroy.call(this)}return{extend:"Ext.container.Container",constructor:ClickableContainerBase$,super$grPZ:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},event:null,handler:null,registerHandler$grPZ:registerHandler,beforeDestroy:beforeDestroy,requires:["Ext.container.Container"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusWidgetState",function(TranslationStatusWidgetState){function TranslationStatusWidgetState$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.WidgetState,{});var defaults_$1=AS3.cast(TranslationStatusWidgetState,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.widgetTypeId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusWidget.xtype);
net.jangaroo.ext.Exml.apply(config_$1,config);this.super$3gET(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.dashboard.WidgetState",metadata:{"":["PublicApi"]},constructor:TranslationStatusWidgetState$,super$3gET:function(){com.coremedia.cms.editor.sdk.dashboard.WidgetState.prototype.constructor.apply(this,arguments)},config:{targetSiteId:null,title:null},requires:["com.coremedia.cms.editor.sdk.dashboard.WidgetState","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusWidget"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusChart",function(TranslationStatusChart){function TranslationStatusChart$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusChartBase,{});var defaults_$1=AS3.cast(TranslationStatusChart,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var ui_BindItemsPlugin_19_5_$1=AS3.cast(com.coremedia.ui.plugins.BindItemsPlugin,
{});AS3.setBindable(ui_BindItemsPlugin_19_5_$1,"valueExpression",this.getRowConfigsValueExpression());AS3.setBindable(ui_BindItemsPlugin_19_5_$1,"reuseComponents",false);config_$1.plugins=[ui_BindItemsPlugin_19_5_$1];var layout_Anchor_24_5_$1=AS3.cast(Ext.layout.container.Anchor,{});AS3.setBindable(config_$1,"layout",layout_Anchor_24_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$3YhE(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusChartBase",
alias:"widget.com.coremedia.cms.editor.sdk.config.translationStatusChart",constructor:TranslationStatusChart$,super$3YhE:function(){com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusChartBase.prototype.constructor.apply(this,arguments)},config:{visibleTranslationStates:null},requires:["Ext.layout.container.Anchor","com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusChartBase","com.coremedia.ui.plugins.BindItemsPlugin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusWidgetType",function(TranslationStatusWidgetType){function WIDGET_TYPE_ID$static_(){TranslationStatusWidgetType.WIDGET_TYPE_ID=com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusWidget.xtype}function TranslationStatusWidgetType$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.ComponentBasedWidgetType,{});var defaults_$1=AS3.cast(TranslationStatusWidgetType,
{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"id_",net.jangaroo.ext.Exml.asString(TranslationStatusWidgetType.WIDGET_TYPE_ID));AS3.setBindable(config_$1,"name",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard","Widget_TranslationStatus_name")));AS3.setBindable(config_$1,"description",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard",
"Widget_TranslationStatus_description")));AS3.setBindable(config_$1,"iconCls",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard","Widget_TranslationStatus_icon")));var editor_TranslationStatusWidget_29_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusWidget,{});AS3.setBindable(config_$1,"widgetComponent",editor_TranslationStatusWidget_29_5_$1);var editor_TranslationStatusWidgetEditor_32_5_$1=
AS3.cast(com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusWidgetEditor,{});AS3.setBindable(config_$1,"editorComponent",editor_TranslationStatusWidgetEditor_32_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$T9wk(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.dashboard.ComponentBasedWidgetType",metadata:{"":["PublicApi"]},constructor:TranslationStatusWidgetType$,super$T9wk:function(){com.coremedia.cms.editor.sdk.dashboard.ComponentBasedWidgetType.prototype.constructor.apply(this,
arguments)},statics:{WIDGET_TYPE_ID:undefined,__initStatics__:function(){WIDGET_TYPE_ID$static_()}},requires:["com.coremedia.cms.editor.sdk.dashboard.ComponentBasedWidgetType","com.coremedia.cms.editor.sdk.dashboard.Dashboard_properties","mx.resources.ResourceManager","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusWidget","com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusWidgetEditor"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusChartBase",function(TranslationStatusChartBase){function TranslationStatusChartBase$(config){if(arguments.length<=0)config=null;this.super$Nuw$(config);this.reload()}function getRowConfigsValueExpression(){if(!this.rowConfigsValueExpression$Nuw$)this.rowConfigsValueExpression$Nuw$=com.coremedia.ui.data.ValueExpressionFactory.createFromValue([]);return this.rowConfigsValueExpression$Nuw$}function reload(){var this$=
this;if(!AS3.getBindable(this,"targetSiteId")){this.getRowConfigsValueExpression().setValue([]);return}var totalResult=this.search$Nuw$(com.coremedia.cms.editor.sdk.collectionview.search.TranslationStatusFilterPanelBase.TRANSLATION_STATES.concat());var rowResults={};for(var i=0;i<com.coremedia.cms.editor.sdk.collectionview.search.TranslationStatusFilterPanelBase.TRANSLATION_STATES.length;i++){var translationState=com.coremedia.cms.editor.sdk.collectionview.search.TranslationStatusFilterPanelBase.TRANSLATION_STATES[i];
rowResults[translationState]=this.search$Nuw$([translationState])}var resultArray=[];for(var $1 in rowResults){var result=rowResults[$1];resultArray.push(result)}com.coremedia.ui.data.RemoteBeanUtil.loadAll(function(){var rowConfigs=this$.createRowConfigs$Nuw$(totalResult.getTotal(),rowResults);this$.getRowConfigsValueExpression().setValue(rowConfigs)},totalResult,resultArray)}function search(translationStates){var searchParameters=new com.coremedia.cms.editor.sdk.translate.TranslationStatusSearchParameters;
searchParameters.targetSiteId=AS3.getBindable(this,"targetSiteId");searchParameters.translationStates=translationStates;searchParameters.excludeDeleted=true;return com.coremedia.cms.editor.sdk.translate.TranslationStatusSearchUtil.search(searchParameters)}function createRowConfigs(total,rowResults){var defaultConfig=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusChartRow,{});AS3.setBindable(defaultConfig,"targetSiteId",AS3.getBindable(this,"targetSiteId"));AS3.setBindable(defaultConfig,
"total",total);var rowConfigs=[];for(var translationState in rowResults)rowConfigs.push(this.createRowConfig$Nuw$(translationState,rowResults[translationState],defaultConfig));return rowConfigs}function createRowConfig(translationState,result,defaultConfig){var rowConfig=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusChartRow,Ext.apply({},Ext.apply({},defaultConfig)));rowConfig.itemId=translationState;rowConfig.ui=com.coremedia.ui.skins.ContainerSkin.SPECIAL_TRANSLATION_CHART.getSkin();
AS3.setBindable(rowConfig,"translationState",translationState);AS3.setBindable(rowConfig,"count",result.getTotal());AS3.setBindable(rowConfig,"highlighted",!!(AS3.getBindable(this,"highlightedTranslationStates")&&AS3.getBindable(this,"highlightedTranslationStates").indexOf(translationState)!==-1));return rowConfig}function onDestroy(){Ext.container.Container.prototype.onDestroy.call(this)}return{extend:"Ext.container.Container",rowConfigsValueExpression$Nuw$:null,constructor:TranslationStatusChartBase$,
super$Nuw$:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},getRowConfigsValueExpression:getRowConfigsValueExpression,reload:reload,search$Nuw$:search,createRowConfigs$Nuw$:createRowConfigs,createRowConfig$Nuw$:createRowConfig,onDestroy:onDestroy,config:{targetSiteId:null,highlightedTranslationStates:null},requires:["Ext","Ext.container.Container","com.coremedia.ui.data.RemoteBeanUtil","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.skins.ContainerSkin"],
uses:["com.coremedia.cms.editor.sdk.collectionview.search.TranslationStatusFilterPanelBase","com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusChartRow","com.coremedia.cms.editor.sdk.translate.TranslationStatusSearchParameters","com.coremedia.cms.editor.sdk.translate.TranslationStatusSearchUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusSiteUtil",function(TranslationStatusSiteUtil){function getSiteDisplayName$static(site,escape){if(arguments.length<=1)escape=true;var displayName=site.getName()+" - "+site.getLocale().getDisplayName();return escape?com.coremedia.ui.util.EncodingUtil.encodeForHTML(displayName):displayName}function TranslationStatusSiteUtil$(){}return{constructor:TranslationStatusSiteUtil$,statics:{getSiteDisplayName:getSiteDisplayName$static},
requires:["com.coremedia.ui.util.EncodingUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusChartRow",function(TranslationStatusChartRow){function TRANSLATION_STATUS_CHART_BAR_HIGHLIGHTED$static_(){TranslationStatusChartRow.TRANSLATION_STATUS_CHART_BAR_HIGHLIGHTED=com.coremedia.ui.util.BEMUtils.getModifierClassName(TranslationStatusChartRow.TRANSLATION_STATUS_CHART_BAR_BLOCK,"highlighted")}function TRANSLATION_STATUS_CHART_BAR_ANIMATED$static_(){TranslationStatusChartRow.TRANSLATION_STATUS_CHART_BAR_ANIMATED=
com.coremedia.ui.util.BEMUtils.getModifierClassName(TranslationStatusChartRow.TRANSLATION_STATUS_CHART_BAR_BLOCK,"animated")}function TranslationStatusChartRow$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusChartRowBase,{});var defaults_$1=AS3.cast(TranslationStatusChartRow,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.handler=AS3.bind(this,"showLibrary");var displayField_30_5_$1=AS3.cast(Ext.form.field.Display,
{});AS3.setBindable(displayField_30_5_$1,"width",com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusChartRowBase.TEXT_LABEL_WIDTH);AS3.setBindable(displayField_30_5_$1,"value",this.resourceManager.getString("com.coremedia.cms.editor.Editor","Filter_TranslationStatus_status_"+AS3.getBindable(config,"translationState")+"_text"));var ui_AddQuickTipPlugin_33_9_$1=AS3.cast(com.coremedia.ui.plugins.AddQuickTipPlugin,{});AS3.setBindable(ui_AddQuickTipPlugin_33_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"Filter_TranslationStatus_status_"+AS3.getBindable(config,"translationState")+"_tooltip")));displayField_30_5_$1.plugins=[ui_AddQuickTipPlugin_33_9_$1];var displayField_38_5_$1=AS3.cast(Ext.form.field.Display,{});displayField_38_5_$1.itemId="countDisplayField";AS3.setBindable(displayField_38_5_$1,"width",com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusChartRowBase.COUNT_LABEL_WIDTH);AS3.setBindable(displayField_38_5_$1,"margin","0 "+com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusChartRowBase.COUNT_LABEL_MARGIN_RIGHT+
" 0 0");AS3.setBindable(displayField_38_5_$1,"value",com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusChartRowBase.abbreviateCount(AS3.getBindable(config,"count")));var ui_AddQuickTipPlugin_43_9_$1=AS3.cast(com.coremedia.ui.plugins.AddQuickTipPlugin,{});AS3.setBindable(ui_AddQuickTipPlugin_43_9_$1,"text",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusChartRowBase.formatCount(AS3.getBindable(config,"count"))));displayField_38_5_$1.plugins=
[ui_AddQuickTipPlugin_43_9_$1];var container_47_5_$1=AS3.cast(Ext.container.Container,{});container_47_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusChartRowBase.BAR_ITEM_ID);AS3.setBindable(container_47_5_$1,"width",0);AS3.setBindable(container_47_5_$1,"margin","4 0 0");AS3.setBindable(container_47_5_$1,"height","15px");container_47_5_$1.cls=net.jangaroo.ext.Exml.asString(TranslationStatusChartRow.TRANSLATION_STATUS_CHART_BAR_ANIMATED+
" "+TranslationStatusChartRow.TRANSLATION_STATUS_CHART_BAR_BLOCK+" "+(AS3.getBindable(config,"highlighted")?TranslationStatusChartRow.TRANSLATION_STATUS_CHART_BAR_HIGHLIGHTED:""));var ui_AddQuickTipPlugin_53_9_$1=AS3.cast(com.coremedia.ui.plugins.AddQuickTipPlugin,{});AS3.setBindable(ui_AddQuickTipPlugin_53_9_$1,"text",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusChartRowBase.formatPercentage(100*AS3.getBindable(config,"count")/AS3.getBindable(config,
"total"))));container_47_5_$1.plugins=[ui_AddQuickTipPlugin_53_9_$1];config_$1.items=[displayField_30_5_$1,displayField_38_5_$1,container_47_5_$1];var layout_HBox_59_5_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(config_$1,"layout",layout_HBox_59_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$g7mi(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusChartRowBase",alias:"widget.com.coremedia.cms.editor.sdk.config.translationStatusChartRow",
constructor:TranslationStatusChartRow$,super$g7mi:function(){com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusChartRowBase.prototype.constructor.apply(this,arguments)},config:{highlighted:false},statics:{TRANSLATION_STATUS_CHART_BAR_BLOCK:"translation-status-chart-bar",TRANSLATION_STATUS_CHART_BAR_HIGHLIGHTED:undefined,TRANSLATION_STATUS_CHART_BAR_ANIMATED:undefined,__initStatics__:function(){TRANSLATION_STATUS_CHART_BAR_HIGHLIGHTED$static_();TRANSLATION_STATUS_CHART_BAR_ANIMATED$static_()}},
requires:["Ext.container.Container","Ext.form.field.Display","Ext.layout.container.HBox","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusChartRowBase","com.coremedia.ui.plugins.AddQuickTipPlugin","com.coremedia.ui.util.BEMUtils","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusWidgetEditorBase",function(TranslationStatusWidgetEditorBase){function TranslationStatusWidgetEditorBase$(config){if(arguments.length<=0)config=null;this.super$lCPI(config);this.getModel().set("title",this.resourceManager.getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard","Widget_TranslationStatus_name"))}return{extend:"com.coremedia.ui.components.StatefulContainer",constructor:TranslationStatusWidgetEditorBase$,
super$lCPI:function(){com.coremedia.ui.components.StatefulContainer.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.dashboard.Dashboard_properties","com.coremedia.ui.components.StatefulContainer"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusWidgetEditor",function(TranslationStatusWidgetEditor){function TranslationStatusWidgetEditor$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusWidgetEditorBase,{});var defaults_$1=AS3.cast(TranslationStatusWidgetEditor,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"properties","targetSiteId,title");
var editor_TranslationStatusSiteSelector_18_7_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.search.TranslationStatusSiteSelector,{});var ui_ValueExpression_20_11_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_20_11_$1,"expression","targetSiteId");AS3.setBindable(ui_ValueExpression_20_11_$1,"context",this.getModel());AS3.setBindable(editor_TranslationStatusSiteSelector_18_7_$1,"selectedSiteIdValueExpression",new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_20_11_$1));
var ui_VerticalSpacingPlugin_24_11_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});editor_TranslationStatusSiteSelector_18_7_$1.plugins=[ui_VerticalSpacingPlugin_24_11_$1];var ui_LocalComboBox_27_11_$1=AS3.cast(com.coremedia.ui.components.LocalComboBox,{});ui_LocalComboBox_27_11_$1.anchor="100%";ui_LocalComboBox_27_11_$1.labelAlign="left";ui_LocalComboBox_27_11_$1.labelSeparator=":";editor_TranslationStatusSiteSelector_18_7_$1["defaultType"]=ui_LocalComboBox_27_11_$1["xtype"];delete ui_LocalComboBox_27_11_$1["xtype"];
delete ui_LocalComboBox_27_11_$1["xclass"];editor_TranslationStatusSiteSelector_18_7_$1.defaults=ui_LocalComboBox_27_11_$1;config_$1.items=[editor_TranslationStatusSiteSelector_18_7_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$12FX(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusWidgetEditorBase",alias:"widget.com.coremedia.cms.editor.sdk.config.translationStatusWidgetEditor",constructor:TranslationStatusWidgetEditor$,super$12FX:function(){com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusWidgetEditorBase.prototype.constructor.apply(this,
arguments)},requires:["com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusWidgetEditorBase","com.coremedia.ui.components.LocalComboBox","com.coremedia.ui.exml.ValueExpression","com.coremedia.ui.plugins.VerticalSpacingPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.collectionview.search.TranslationStatusSiteSelector"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusWidget",function(TranslationStatusWidget){function TranslationStatusWidget$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusWidgetBase,{});var defaults_$1=AS3.cast(TranslationStatusWidget,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"height","100%");AS3.setBindable(config_$1,"properties",
"targetSiteId,title");var ui_ExtendedDisplayField_27_5_$1=AS3.cast(com.coremedia.ui.components.ExtendedDisplayField,{});AS3.setBindable(ui_ExtendedDisplayField_27_5_$1,"region","north");AS3.setBindable(ui_ExtendedDisplayField_27_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard","Widget_TranslationStatus_masterSiteLabel_text")));AS3.setBindable(ui_ExtendedDisplayField_27_5_$1,"overflowBehaviour",com.coremedia.ui.mixins.OverflowBehaviour.ELLIPSIS);
var ui_BindPropertyPlugin_31_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_31_9_$1.boundValueChanged=function(l,ve){l.setValue(ve.getValue())};ui_BindPropertyPlugin_31_9_$1.bindTo=this.getMasterSiteDisplayNameValueExpression();var ui_AddQuickTipPlugin_34_9_$1=AS3.cast(com.coremedia.ui.plugins.AddQuickTipPlugin,{});AS3.setBindable(ui_AddQuickTipPlugin_34_9_$1,"bindTo",this.getMasterSiteDisplayNameValueExpression());ui_ExtendedDisplayField_27_5_$1.plugins=[ui_BindPropertyPlugin_31_9_$1,
ui_AddQuickTipPlugin_34_9_$1];var editor_TranslationStatusChart_38_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusChart,{});editor_TranslationStatusChart_38_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusWidgetBase.CHART_ITEM_ID);AS3.setBindable(editor_TranslationStatusChart_38_5_$1,"region","center");AS3.setBindable(editor_TranslationStatusChart_38_5_$1,"targetSiteId",net.jangaroo.ext.Exml.asString(config.targetSiteId));
AS3.setBindable(editor_TranslationStatusChart_38_5_$1,"highlightedTranslationStates",[com.coremedia.cms.editor.sdk.translate.TranslationStatusUtil.NEW_IN_MASTER,com.coremedia.cms.editor.sdk.translate.TranslationStatusUtil.NOT_UP_TO_DATE,com.coremedia.cms.editor.sdk.translate.TranslationStatusUtil.NOT_LOCALIZED_YET]);config_$1.items=[ui_ExtendedDisplayField_27_5_$1,editor_TranslationStatusChart_38_5_$1];var layout_Border_48_5_$1=AS3.cast(Ext.layout.container.Border,{});AS3.setBindable(config_$1,"layout",
layout_Border_48_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$vsLK(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusWidgetBase",alias:"widget.com.coremedia.cms.editor.sdk.config.translationStatusWidget",constructor:TranslationStatusWidget$,super$vsLK:function(){com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusWidgetBase.prototype.constructor.apply(this,arguments)},requires:["Ext.layout.container.Border",
"com.coremedia.cms.editor.sdk.dashboard.Dashboard_properties","com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusWidgetBase","com.coremedia.ui.components.ExtendedDisplayField","com.coremedia.ui.mixins.OverflowBehaviour","com.coremedia.ui.plugins.AddQuickTipPlugin","com.coremedia.ui.plugins.BindPropertyPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusChart","com.coremedia.cms.editor.sdk.translate.TranslationStatusUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusChartRowBase",function(TranslationStatusChartRowBase){function TranslationStatusChartRowBase$(config){if(arguments.length<=0)config=null;this.super$bW4T(config);this.on("afterlayout",AS3.bind(this,"setBarWidth$bW4T"))}function showLibrary(){var searchState=new com.coremedia.cms.editor.sdk.collectionview.SearchState;searchState.contentType="Document_";var filterState={};filterState[com.coremedia.cms.editor.sdk.collectionview.search.TranslationStatusFilterPanelBase.SITE_PROPERTY]=
AS3.getBindable(this,"targetSiteId");for(var i=0;i<com.coremedia.cms.editor.sdk.collectionview.search.TranslationStatusFilterPanelBase.TRANSLATION_STATES.length;i++){var ts=com.coremedia.cms.editor.sdk.collectionview.search.TranslationStatusFilterPanelBase.TRANSLATION_STATES[i];filterState[ts]=false}filterState[AS3.getBindable(this,"translationState")]=true;searchState.setFilter(com.coremedia.cms.editor.sdk.collectionview.search.TranslationStatusFilterPanel.FILTER_ID,filterState);com.coremedia.cms.editor.sdk.editorContext.getCollectionViewManager().openSearch(searchState,
true,com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants.LIST_VIEW)}function setBarWidth(){var bar=AS3.as(this.getComponent(TranslationStatusChartRowBase.BAR_ITEM_ID),Ext.container.Container);var computedWidth=this.getEl().getWidth();var ratio=AS3.getBindable(this,"count")&&AS3.getBindable(this,"total")&&AS3.getBindable(this,"count")/AS3.getBindable(this,"total");var width=Math.max(ratio*(computedWidth-(TranslationStatusChartRowBase.TEXT_LABEL_WIDTH+TranslationStatusChartRowBase.COUNT_LABEL_WIDTH+
TranslationStatusChartRowBase.COUNT_LABEL_MARGIN_RIGHT)),TranslationStatusChartRowBase.BAR_MIN_WIDTH);bar.setWidth(width)}function abbreviateCount$static(count){if(count===undefined)return"";var countString;if(count>=1E6)countString=String(Math.round(count/1E6))+mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard","Widget_TranslationStatus_megaSuffix");else if(count>=1E3)countString=String(Math.round(count/1E3))+mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard",
"Widget_TranslationStatus_kiloSuffix");else countString=String(count);return countString}function formatCount$static(count){return Ext.util.Format.number(count,mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard","Widget_TranslationStatus_extIntegerFormat"))}function formatPercentage$static(percentage){return percentage===undefined||isNaN(percentage)?"":Ext.util.Format.number(percentage,mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard",
"Widget_TranslationStatus_extDecimalFormat"))+"%"}return{extend:"com.coremedia.cms.editor.sdk.dashboard.widgets.translate.ClickableContainer",constructor:TranslationStatusChartRowBase$,super$bW4T:function(){com.coremedia.cms.editor.sdk.dashboard.widgets.translate.ClickableContainer.prototype.constructor.apply(this,arguments)},showLibrary:showLibrary,setBarWidth$bW4T:setBarWidth,config:{count:0,total:0,targetSiteId:null,translationState:null},statics:{BAR_ITEM_ID:"bar",TEXT_LABEL_WIDTH:120,COUNT_LABEL_WIDTH:30,
COUNT_LABEL_MARGIN_RIGHT:6,BAR_MIN_WIDTH:4,abbreviateCount:abbreviateCount$static,formatCount:formatCount$static,formatPercentage:formatPercentage$static},requires:["Ext.container.Container","Ext.util.Format","com.coremedia.cms.editor.sdk.dashboard.Dashboard_properties","com.coremedia.cms.editor.sdk.dashboard.widgets.translate.ClickableContainer","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionViewConstants","com.coremedia.cms.editor.sdk.collectionview.SearchState",
"com.coremedia.cms.editor.sdk.collectionview.search.TranslationStatusFilterPanel","com.coremedia.cms.editor.sdk.collectionview.search.TranslationStatusFilterPanelBase","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusWidgetBase",function(TranslationStatusWidgetBase){function TranslationStatusWidgetBase$(config){if(arguments.length<=0)config=null;this.super$R1P5(config);if(this.targetSiteId===com.coremedia.cms.editor.sdk.translate.TranslationStatusSearchUtil.PREFERRED_SITE_ID)com.coremedia.cms.editor.sdk.editorContext.getSitesService().getPreferredSiteIdExpression().addChangeListener(AS3.bind(this,"reload"));this.updateTitle$R1P5();
this.on("afterlayout",AS3.bind(this,"fixTextLinkWidth$R1P5"))}function get$targetSiteId(){return this.getModel().get("targetSiteId")}function getMasterSiteDisplayNameValueExpression(){if(!this.masterSiteDisplayNameValueExpression$R1P5)this.masterSiteDisplayNameValueExpression$R1P5=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"computeMasterSiteDisplayName"));return this.masterSiteDisplayNameValueExpression$R1P5}function computeMasterSiteDisplayName(){if(!this.targetSiteId)return"";
var site=com.coremedia.cms.editor.sdk.translate.TranslationStatusSearchUtil.getSite(this.targetSiteId);if(!site)return"";var masterSite=site.getMasterSite();if(!masterSite||!site.isLanguageTranslationTargetSite())return this.resourceManager.getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard","Widget_TranslationStatus_noMasterSite_text");return com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusSiteUtil.getSiteDisplayName(masterSite)}function reload(){this.updateTitle$R1P5();
var site=com.coremedia.cms.editor.sdk.translate.TranslationStatusSearchUtil.getSite(this.targetSiteId);var chart=AS3.as(this.getComponent(TranslationStatusWidgetBase.CHART_ITEM_ID),com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusChart);if(site&&site.isLanguageTranslationTargetSite()){chart&&chart.show();chart&&chart.reload()}else chart&&chart.hide()}function updateTitle(){var site=com.coremedia.cms.editor.sdk.translate.TranslationStatusSearchUtil.getSite(this.targetSiteId);
if(site&&site.isLanguageTranslationTargetSite())this.getModel().set("title",com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusSiteUtil.getSiteDisplayName(site,false));else this.getModel().set("title",this.resourceManager.getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard","Widget_TranslationStatus_name"))}function fixTextLinkWidth(){var textLink=AS3.as(this.getComponent(TranslationStatusWidgetBase.TEXT_LINK_ITEM_ID),Ext.button.Button);var textLinkEl=textLink&&textLink.getEl();
if(textLinkEl){var width=textLinkEl.getWidth();if(width!==undefined){var child=textLinkEl.child(textLink["buttonSelector"]);child&&child.setWidth(width)}}}function beforeDestroy(){if(this.targetSiteId===com.coremedia.cms.editor.sdk.translate.TranslationStatusSearchUtil.PREFERRED_SITE_ID)com.coremedia.cms.editor.sdk.editorContext.getSitesService().getPreferredSiteIdExpression().removeChangeListener(AS3.bind(this,"reload"));com.coremedia.ui.components.StatefulContainer.prototype.beforeDestroy.call(this)}
return{extend:"com.coremedia.ui.components.StatefulContainer",mixins:["com.coremedia.cms.editor.sdk.dashboard.Reloadable","com.coremedia.ui.data.StateHolder"],masterSiteDisplayNameValueExpression$R1P5:null,constructor:TranslationStatusWidgetBase$,super$R1P5:function(){com.coremedia.ui.components.StatefulContainer.prototype.constructor.apply(this,arguments)},getMasterSiteDisplayNameValueExpression:getMasterSiteDisplayNameValueExpression,computeMasterSiteDisplayName:computeMasterSiteDisplayName,reload:reload,
updateTitle$R1P5:updateTitle,fixTextLinkWidth$R1P5:fixTextLinkWidth,beforeDestroy:beforeDestroy,statics:{CHART_ITEM_ID:"chart",TEXT_LINK_ITEM_ID:"textLink"},__accessors__:{targetSiteId:{get:get$targetSiteId}},requires:["Ext.button.Button","com.coremedia.cms.editor.sdk.dashboard.Dashboard_properties","com.coremedia.cms.editor.sdk.dashboard.Reloadable","com.coremedia.ui.components.StatefulContainer","com.coremedia.ui.data.StateHolder","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusChart",
"com.coremedia.cms.editor.sdk.dashboard.widgets.translate.TranslationStatusSiteUtil","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.translate.TranslationStatusSearchUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.widgets.WidgetContextMenu",function(WidgetContextMenu){function WidgetContextMenu$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.menu.Menu,{});var defaults_$1=AS3.cast(WidgetContextMenu,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.plain=true;var menuItem_40_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_40_5_$1.itemId=net.jangaroo.ext.Exml.asString(WidgetContextMenu.OPEN_IN_TAB_MENU_ITEM_ID);var editor_OpenInTabAction_42_9_$1=
AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenInTabAction,{});AS3.setBindable(editor_OpenInTabAction_42_9_$1,"contentValueExpression",AS3.getBindable(config,"selectedContentsValueExpression"));menuItem_40_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.OpenInTabAction(editor_OpenInTabAction_42_9_$1);var menuItem_45_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_45_5_$1.itemId=net.jangaroo.ext.Exml.asString(WidgetContextMenu.OPEN_IN_BACKGROUND_TAB_MENU_ITEM_ID);var editor_OpenInTabAction_47_9_$1=
AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenInTabAction,{});AS3.setBindable(editor_OpenInTabAction_47_9_$1,"contentValueExpression",AS3.getBindable(config,"selectedContentsValueExpression"));AS3.setBindable(editor_OpenInTabAction_47_9_$1,"background",true);menuItem_45_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.OpenInTabAction(editor_OpenInTabAction_47_9_$1);var menuItem_51_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_51_5_$1.itemId=net.jangaroo.ext.Exml.asString(WidgetContextMenu.SHOW_IN_REPOSITORY_MENU_ITEM_ID);
var editor_ShowInRepositoryAction_53_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction,{});AS3.setBindable(editor_ShowInRepositoryAction_53_9_$1,"contentValueExpression",AS3.getBindable(config,"selectedContentsValueExpression"));menuItem_51_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction(editor_ShowInRepositoryAction_53_9_$1);config_$1.items=[menuItem_40_5_$1,menuItem_45_5_$1,menuItem_51_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$WU2N(config_$1)}
return{extend:"Ext.menu.Menu",alias:"widget.com.coremedia.cms.editor.sdk.config.widgetContextMenu",constructor:WidgetContextMenu$,super$WU2N:function(){Ext.menu.Menu.prototype.constructor.apply(this,arguments)},config:{selectedContentsValueExpression:null},statics:{OPEN_IN_TAB_MENU_ITEM_ID:"openInTab",OPEN_IN_BACKGROUND_TAB_MENU_ITEM_ID:"openInBackgroundTab",SHOW_IN_REPOSITORY_MENU_ITEM_ID:"showInRepository"},requires:["Ext.menu.Item","Ext.menu.Menu","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.actions.OpenInTabAction",
"com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.widgets.WidgetContentList",function(WidgetContentList){function __initialize__(config){this.selectedContentsValueExpression$SGMW=com.coremedia.ui.data.ValueExpressionFactory.createFromValue()}function WidgetContentList$(config){if(arguments.length<=0)config=null;this.__initialize__$SGMW(config);var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.widgets.WidgetContentListBase,{});var defaults_$1=AS3.cast(WidgetContentList,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,
config);config_$1.itemSelector=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.dashboard.widgets.WidgetContentListBase.LIST_ELEMENT_ENTRY.getCSSSelector());config_$1.singleSelect=true;config_$1.multiSelect=false;config_$1.deferEmptyText=true;config_$1.loadingText=net.jangaroo.ext.Exml.asString(Ext.LoadMask["prototype"]["msg"]);config_$1.tpl=com.coremedia.cms.editor.sdk.dashboard.widgets.WidgetContentListBase.TEMPLATE;AS3.setBindable(config_$1,"emptyText",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.dashboard.widgets.WidgetContentListBase.EMPTY_TEMPLATE.apply({})));
var ui_BindListPlugin_44_5_$1=AS3.cast(com.coremedia.ui.plugins.BindListPlugin,{});AS3.setBindable(ui_BindListPlugin_44_5_$1,"bindTo",AS3.getBindable(config,"contentList"));var ui_DataField_46_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_46_9_$1.name="typeClass";ui_DataField_46_9_$1.ifUnreadable="ignored";ui_DataField_46_9_$1.ifError="";ui_DataField_46_9_$1["convert"]=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.getIconStyleClassForContentType;ui_DataField_46_9_$1.mapping=
"type";var ui_DataField_51_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_51_9_$1.name="name";ui_DataField_51_9_$1.ifUnreadable="ignored";ui_DataField_51_9_$1.ifError="error accessing data";ui_DataField_51_9_$1.mapping="name";var ui_DataField_55_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_55_9_$1.name="id";ui_DataField_55_9_$1.mapping="uriPath";var ui_DataField_57_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_57_9_$1.name="readable";ui_DataField_57_9_$1.mapping=
com.coremedia.ui.data.BeanState.PROPERTY_NAME+".readable";var ui_DataField_59_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_59_9_$1.name="statusClass";ui_DataField_59_9_$1.ifUnreadable="";ui_DataField_59_9_$1.ifError="";ui_DataField_59_9_$1.mapping="";ui_DataField_59_9_$1["convert"]=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.getIconStyleClassForContentStatus;AS3.setBindable(ui_BindListPlugin_44_5_$1,"fields",[ui_DataField_46_9_$1,ui_DataField_51_9_$1,ui_DataField_55_9_$1,
ui_DataField_57_9_$1,ui_DataField_59_9_$1]);var ui_BindSelectionPlugin_66_5_$1=AS3.cast(com.coremedia.ui.plugins.BindSelectionPlugin,{});AS3.setBindable(ui_BindSelectionPlugin_66_5_$1,"selectedValues",this.selectedContentsValueExpression$SGMW);var ui_ContextMenuPlugin_67_5_$1=AS3.cast(com.coremedia.ui.plugins.ContextMenuPlugin,{});var editor_WidgetContextMenu_69_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.widgets.WidgetContextMenu,{});AS3.setBindable(editor_WidgetContextMenu_69_9_$1,"selectedContentsValueExpression",
this.selectedContentsValueExpression$SGMW);AS3.setBindable(ui_ContextMenuPlugin_67_5_$1,"contextMenu",editor_WidgetContextMenu_69_9_$1);config_$1.plugins=[ui_BindListPlugin_44_5_$1,ui_BindSelectionPlugin_66_5_$1,ui_ContextMenuPlugin_67_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$SGMW(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.dashboard.widgets.WidgetContentListBase",alias:"widget.com.coremedia.cms.editor.sdk.config.widgetContentList",selectedContentsValueExpression$SGMW:null,
__initialize__$SGMW:__initialize__,constructor:WidgetContentList$,super$SGMW:function(){com.coremedia.cms.editor.sdk.dashboard.widgets.WidgetContentListBase.prototype.constructor.apply(this,arguments)},config:{contentList:null},requires:["Ext.LoadMask","com.coremedia.cms.editor.sdk.dashboard.widgets.WidgetContentListBase","com.coremedia.ui.data.BeanState","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.BindListPlugin","com.coremedia.ui.plugins.BindSelectionPlugin","com.coremedia.ui.plugins.ContextMenuPlugin",
"com.coremedia.ui.store.DataField","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.dashboard.widgets.WidgetContextMenu","com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.widgets.WidgetContentListBase",function(WidgetContentListBase){function LIST_BLOCK$static_(){WidgetContentListBase.LIST_BLOCK=new com.coremedia.ui.models.bem.BEMBlock("widget-content-list")}function LIST_ELEMENT_ENTRY$static_(){WidgetContentListBase.LIST_ELEMENT_ENTRY=WidgetContentListBase.LIST_BLOCK.createElement("entry")}function LIST_ELEMENT_ICON$static_(){WidgetContentListBase.LIST_ELEMENT_ICON=WidgetContentListBase.LIST_BLOCK.createElement("icon")}
function LIST_ELEMENT_TEXT$static_(){WidgetContentListBase.LIST_ELEMENT_TEXT=WidgetContentListBase.LIST_BLOCK.createElement("text")}function LIST_ELEMENT_STATUS$static_(){WidgetContentListBase.LIST_ELEMENT_STATUS=WidgetContentListBase.LIST_BLOCK.createElement("status")}function LIST_MODIFIER_EMPTY$static_(){WidgetContentListBase.LIST_MODIFIER_EMPTY=WidgetContentListBase.LIST_BLOCK.createModifier("empty")}function ITEM_FOCUSED$static_(){WidgetContentListBase.ITEM_FOCUSED=new com.coremedia.ui.models.bem.BEMBlock("x-view-item-focused")}
function TEMPLATE$static_(){WidgetContentListBase.TEMPLATE=(new Ext.XTemplate('\x3ctable class\x3d"'+WidgetContentListBase.LIST_BLOCK+'"\x3e','  \x3ctpl for\x3d"."\x3e','    \x3ctr class\x3d"'+WidgetContentListBase.LIST_ELEMENT_ENTRY+'"\x3e','      \x3ctd class\x3d"'+WidgetContentListBase.LIST_ELEMENT_ICON+'"\x3e','        \x3cspan width\x3d"16" height\x3d"16" class\x3d"','\x3ctpl if\x3d"readable"\x3e{typeClass}\x3c/tpl\x3e','\x3ctpl if\x3d"!readable"\x3e{[com.coremedia.cms.editor.sdk.util.ContentLocalizationUtilInternal.getIconStyleClassForUnreadableContent(values.id)]}\x3c/tpl\x3e',
'"\x3e\x3c/span\x3e',"      \x3c/td\x3e",'      \x3ctd class\x3d"'+WidgetContentListBase.LIST_ELEMENT_TEXT+'"\x3e','        \x3ctpl if\x3d"readable"\x3e{name}\x3c/tpl\x3e','        \x3ctpl if\x3d"!readable"\x3e\x3cspan\x3e{[com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.formatNotReadableNameFromUriPath(values.id)]}\x3c/span\x3e\x3c/tpl\x3e',"      \x3c/td\x3e",'      \x3ctd class\x3d"'+WidgetContentListBase.LIST_ELEMENT_STATUS+'"\x3e','        \x3cspan width\x3d"16" height\x3d"16" class\x3d"\x3ctpl if\x3d"readable"\x3e{statusClass}\x3c/tpl\x3e"\x3e\x3c/span\x3e',
"      \x3c/td\x3e","    \x3c/tr\x3e","  \x3c/tpl\x3e","\x3c/table\x3e")).compile()}function EMPTY_TEMPLATE$static_(){WidgetContentListBase.EMPTY_TEMPLATE=(new Ext.XTemplate('\x3cdiv class\x3d"'+WidgetContentListBase.LIST_MODIFIER_EMPTY+'"\x3e'+mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","CollectionView_emptySearch_text")+"\x3c/div\x3e")).compile()}function WidgetContentListBase$(config){if(arguments.length<=0)config=null;this.super$LB2H(config)}function afterRender(){var this$=
this;Ext.view.View.prototype.afterRender.call(this);this.on("itemclick",listEntryClicked$static);var dragZoneCfg=AS3.cast(Ext.dd.DragZone,{});dragZoneCfg.ddGroup="ContentLinkDD";dragZoneCfg["scroll"]=false;dragZoneCfg["getDragData"]=function(e){var sourceEl=e.getTarget(this$.itemSelector,10);if(sourceEl){var record=AS3.cast(com.coremedia.ui.store.BeanRecord,this$.getRecord(sourceEl));var contents=[record.getBean()];var d=window.document.createElement("DIV");d["id"]=Ext.id();d.innerHTML=com.coremedia.cms.editor.sdk.dragdrop.DragDropVisualFeedback.getHtmlFeedback(contents);
return{sourceEl:sourceEl,repairXY:Ext.fly(sourceEl).getXY(),ddel:d,contents:contents}}return undefined};dragZoneCfg["getRepairXY"]=function(){return AS3.cast(Ext.dd.DragZone,this).dragData.repairXY};this.dragZone=new Ext.dd.DragZone(this.getEl(),dragZoneCfg);this.dragZone.invalidHandleTypes={}}function listEntryClicked$static(dataView,record,node,index,e){if(e.getTarget(WidgetContentListBase.LIST_ELEMENT_TEXT.getCSSSelector(),null,true)||Ext.event.Event.ENTER===e.getKey()&&e.getTarget(WidgetContentListBase.ITEM_FOCUSED.getCSSSelector(),
null,true)){var content=AS3.as(record.getBean(),com.coremedia.cap.content.Content);com.coremedia.cms.editor.sdk.editorContext.getContentTabManager().openDocument(content)}}function beforeDestroy(){this.dragZone&&this.dragZone.unreg();Ext.view.View.prototype.beforeDestroy.call(this)}return{extend:"Ext.view.View",dragZone:null,constructor:WidgetContentListBase$,super$LB2H:function(){Ext.view.View.prototype.constructor.apply(this,arguments)},afterRender:afterRender,beforeDestroy:beforeDestroy,statics:{LIST_BLOCK:undefined,
LIST_ELEMENT_ENTRY:undefined,LIST_ELEMENT_ICON:undefined,LIST_ELEMENT_TEXT:undefined,LIST_ELEMENT_STATUS:undefined,LIST_MODIFIER_EMPTY:undefined,ITEM_FOCUSED:undefined,TEMPLATE:undefined,EMPTY_TEMPLATE:undefined,__initStatics__:function(){LIST_BLOCK$static_();LIST_ELEMENT_ENTRY$static_();LIST_ELEMENT_ICON$static_();LIST_ELEMENT_TEXT$static_();LIST_ELEMENT_STATUS$static_();LIST_MODIFIER_EMPTY$static_();ITEM_FOCUSED$static_();TEMPLATE$static_();EMPTY_TEMPLATE$static_()}},requires:["Ext","Ext.XTemplate",
"Ext.dd.DragZone","Ext.event.Event","Ext.view.View","com.coremedia.cap.content.Content","com.coremedia.cms.editor.Editor_properties","com.coremedia.ui.models.bem.BEMBlock","com.coremedia.ui.store.BeanRecord","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.dragdrop.DragDropVisualFeedback","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.DashboardColumn",function(DashboardColumn){function DashboardColumn$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.DashboardColumnBase,{});var defaults_$1=AS3.cast(DashboardColumn,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.columnWidth=.333333;var editor_WidgetSeparator_20_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.WidgetSeparator,{});AS3.setBindable(editor_WidgetSeparator_20_5_$1,
"width","100%");config_$1.items=[editor_WidgetSeparator_20_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$nQrM(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.dashboard.DashboardColumnBase",alias:"widget.com.coremedia.cms.editor.sdk.config.dashboardColumn",constructor:DashboardColumn$,super$nQrM:function(){com.coremedia.cms.editor.sdk.dashboard.DashboardColumnBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.dashboard.DashboardColumnBase",
"net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.dashboard.WidgetSeparator"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.DashboardBase",function(DashboardBase){var SOURCE_PLACEHOLDER_MODIFIER_DASHBOARD$static;function SOURCE_PLACEHOLDER_MODIFIER_DASHBOARD$static_(){SOURCE_PLACEHOLDER_MODIFIER_DASHBOARD$static=com.coremedia.ui.util.DraggableItemsUtils.SOURCE_PLACEHOLDER_BLOCK.createModifier("dashboard")}var TARGET_PLACEHOLDER_MODIFIER_DASHBOARD$static;function TARGET_PLACEHOLDER_MODIFIER_DASHBOARD$static_(){TARGET_PLACEHOLDER_MODIFIER_DASHBOARD$static=com.coremedia.ui.util.DraggableItemsUtils.TARGET_PLACEHOLDER_BLOCK.createModifier("dashboard")}
function DashboardBase$(config){if(arguments.length<=0)config=null;this.super$es3H(config);var remoteDashboardConfiguration=com.coremedia.cms.editor.sdk.editorContext.getConfiguration()["dashboard"];if(remoteDashboardConfiguration)this.reloadIntervalMillis$es3H=remoteDashboardConfiguration["interval"];this.on("afterrender",AS3.bind(this,"onAfterRender$es3H"))}function onAfterRender(){if(this.reloadIntervalMillis$es3H>0){this.on("show",AS3.bind(this,"startReloading$es3H"));this.on("hide",AS3.bind(this,
"cancelReloading$es3H"));this.isVisible(true)&&this.startReloading$es3H()}}function startReloading(){var millisSinceLastReload=(new Date).getTime()-this.lastReloadMillis$es3H;if(millisSinceLastReload>this.reloadIntervalMillis$es3H)this.doReload$es3H();else if(!this.reloadTimeout$es3H)this.reloadTimeout$es3H=window.setTimeout(AS3.bind(this,"doReload$es3H"),this.reloadIntervalMillis$es3H-millisSinceLastReload)}function doReload(){if(this.isVisible(true)){this.itemCollection.each(function(item){var column=
AS3.as(item,com.coremedia.cms.editor.sdk.dashboard.DashboardColumn);column&&column.reload()});this.lastReloadMillis$es3H=(new Date).getTime();if(!this.reloadInterval$es3H)this.reloadInterval$es3H=window.setInterval(AS3.bind(this,"doReload$es3H"),this.reloadIntervalMillis$es3H)}}function cancelReloading(){if(this.reloadTimeout$es3H){window.clearTimeout(this.reloadTimeout$es3H);this.reloadTimeout$es3H=null}if(this.reloadInterval$es3H){window.clearInterval(this.reloadInterval$es3H);this.reloadInterval$es3H=
null}}function initEvents(){Ext.panel.Panel.prototype.initEvents.call(this)}function initComponent(){Ext.panel.Panel.prototype.initComponent.call(this);var widgetStates=DashboardBase.getCustomizedWidgetStates();var columns=[[],[],[]];var currentColumn=0;for(var j=0;j<widgetStates.length;j++){var widget=widgetStates[j];if(widget.column===com.coremedia.cms.editor.sdk.dashboard.WidgetState.NEXT)currentColumn++;else if(widget.column===com.coremedia.cms.editor.sdk.dashboard.WidgetState.SAME||widget.column===
null||widget.column===undefined);else currentColumn=parseInt(widget.column+"");currentColumn=currentColumn%3;if(com.coremedia.cms.editor.sdk.dashboard.WidgetWrapperBase.getWidgetTypeWithId(widget.widgetTypeId)){var strippedWidgetState={};for(var p in widget)if(widget.hasOwnProperty(p))strippedWidgetState[p]=widget[p];columns[currentColumn].push(strippedWidgetState)}}this.setUpColumn$es3H(com.coremedia.cms.editor.sdk.dashboard.Dashboard.LEFT_COLUMN_ITEM_ID,columns[0]);this.setUpColumn$es3H(com.coremedia.cms.editor.sdk.dashboard.Dashboard.CENTER_COLUMN_ITEM_ID,
columns[1]);this.setUpColumn$es3H(com.coremedia.cms.editor.sdk.dashboard.Dashboard.RIGHT_COLUMN_ITEM_ID,columns[2]);this.stateValueExpression$es3H=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"makeWidgetStates$es3H"));this.stateValueExpression$es3H.addChangeListener(AS3.bind(this,"saveWidgets$es3H"))}function getCustomizedWidgetStates$static(){var dashboardConfig=com.coremedia.cms.editor.sdk.editorContext.getDashboardConfiguration();var widgetStates=AS3.as(com.coremedia.cms.editor.sdk.util.PreferencesUtil.getPreferencesJSONProperty(com.coremedia.cms.editor.sdk.util.PreferencesUtil.decodeJsonString,
com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.DASHBOARD_STRUCT,com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.DASHBOARD_STRUCT_WIDGETS),Array);if(!widgetStates)widgetStates=AS3.getBindable(dashboardConfig,"widgets");return widgetStates}function beforeDestroy(){this.cancelReloading$es3H();this.stateValueExpression$es3H.removeChangeListener(AS3.bind(this,"saveWidgets$es3H"));Ext.panel.Panel.prototype.beforeDestroy.call(this)}function setUpColumn(columnItemId,
columnStates){var column=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.DashboardColumn,this.getComponent(columnItemId));for(var i=0;i<columnStates.length;i++){var wrapper=DashboardBase.createWrappedWidget(columnStates[i],false);column.addWidgetWrapper(wrapper)}}function createWrappedWidget$static(originalState,edit){var widgetWrapperConfig=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.WidgetWrapper,{});AS3.setBindable(widgetWrapperConfig,"widgetState",originalState);AS3.setBindable(widgetWrapperConfig,
"edit",edit);return new com.coremedia.cms.editor.sdk.dashboard.WidgetWrapper(widgetWrapperConfig)}function saveWidgets(){com.coremedia.cms.editor.sdk.util.PreferencesUtil.updatePreferencesJSONProperty(this.stateValueExpression$es3H.getValue(),com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.DASHBOARD_STRUCT,com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.DASHBOARD_STRUCT_WIDGETS)}function makeWidgetStates(){var result=[];for(var i=0;i<this.itemCollection.length;i++){var column=
AS3.as(this.itemCollection.get(i),com.coremedia.cms.editor.sdk.dashboard.DashboardColumn);if(column){var columnItems=column.itemCollection;if(columnItems){com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(columnItems,"add");com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(columnItems,"clear");com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(columnItems,"remove");com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(columnItems,
"replace");for(var j=0;j<columnItems.length;j++){var widgetWrapper=AS3.as(columnItems.get(j),com.coremedia.cms.editor.sdk.dashboard.WidgetWrapper);if(widgetWrapper){var state=widgetWrapper.makeWidgetState();state.column=Math.floor(i/2);result.push(state)}}}else com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(column,"add")}}return result}function addWidgetManually(){var widget=this.addWidget();widget&&widget.focus()}function addWidget(state,inEditMode){switch(arguments.length){case 0:state=
null;case 1:inEditMode=true}var minHeight=0;var targetColumn=null;for(var i=0;i<this.itemCollection.length;i++){var column=AS3.as(this.itemCollection.get(i),com.coremedia.cms.editor.sdk.dashboard.DashboardColumn);if(column){var height=column.getTotalRowSpan();if(!targetColumn||height<minHeight){targetColumn=column;minHeight=height}}}return targetColumn.insertWidgetAfter(state,null,inEditMode)}function onWidgetDrop$static(dropPosition,draggedItem,dropContainer){dropContainer.insert(dropPosition,draggedItem)}
function columnFromEventFinder(evt){var eventPosition=evt.getXY();var columnWidthData=this.getColumns$es3H();var columnIndex=0;var columnFound=false;for(var len=columnWidthData.length;columnIndex<len;columnIndex++)if(eventPosition[0]<columnWidthData[columnIndex].x+columnWidthData[columnIndex].w){columnFound=true;break}if(!columnFound)columnIndex--;var column=AS3.as(this.itemCollection.getAt(columnIndex),com.coremedia.cms.editor.sdk.dashboard.DashboardColumn);return column}function getColumns(){var columns=
[];this.itemCollection.each(function(c){columns.push({x:c.el.getX(),w:c.el.getWidth()})});return columns}function getWidgetDragGhostBuilder(){return function(draggedWidgetWrapper){var widget=draggedWidgetWrapper.query(com.coremedia.ui.util.createComponentSelector().itemId(com.coremedia.cms.editor.sdk.dashboard.WidgetWrapperBase.INNER_WRAPPER_ITEM_ID).build())[0];return com.coremedia.ui.util.DraggableItemsUtils.defaultGhostBuilder(widget)}}function getWidgetTargetPlaceholderBuilder(){return function(draggedWidgetWrapper){var widget=
draggedWidgetWrapper.query(com.coremedia.ui.util.createComponentSelector().itemId(com.coremedia.cms.editor.sdk.dashboard.WidgetWrapperBase.INNER_WRAPPER_ITEM_ID).build())[0];var targetPlaceholder=com.coremedia.ui.util.DraggableItemsUtils.defaultTargetPlaceholderBuilder(widget);targetPlaceholder.setStyle({"margin-bottom":"32px"});targetPlaceholder.addCls(TARGET_PLACEHOLDER_MODIFIER_DASHBOARD$static.getCSSClass());return targetPlaceholder}}function getWidgetSourcePlaceholderBuilder(){return function(draggedWidgetWrapper){var widget=
draggedWidgetWrapper.query(com.coremedia.ui.util.createComponentSelector().itemId(com.coremedia.cms.editor.sdk.dashboard.WidgetWrapperBase.INNER_WRAPPER_ITEM_ID).build())[0];var sourcePlaceholder=com.coremedia.ui.util.DraggableItemsUtils.defaultSourcePlaceholderBuilder(widget);sourcePlaceholder.setStyle({"margin-bottom":"32px"});sourcePlaceholder.addCls(SOURCE_PLACEHOLDER_MODIFIER_DASHBOARD$static.getCSSClass());return sourcePlaceholder}}return{extend:"Ext.panel.Panel",stateValueExpression$es3H:null,
reloadInterval$es3H:null,reloadTimeout$es3H:null,reloadIntervalMillis$es3H:3E4,lastReloadMillis$es3H:0,constructor:DashboardBase$,super$es3H:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},onAfterRender$es3H:onAfterRender,startReloading$es3H:startReloading,doReload$es3H:doReload,cancelReloading$es3H:cancelReloading,initEvents:initEvents,initComponent:initComponent,beforeDestroy:beforeDestroy,setUpColumn$es3H:setUpColumn,saveWidgets$es3H:saveWidgets,makeWidgetStates$es3H:makeWidgetStates,
addWidgetManually:addWidgetManually,addWidget:addWidget,columnFromEventFinder:columnFromEventFinder,getColumns$es3H:getColumns,getWidgetDragGhostBuilder:getWidgetDragGhostBuilder,getWidgetTargetPlaceholderBuilder:getWidgetTargetPlaceholderBuilder,getWidgetSourcePlaceholderBuilder:getWidgetSourcePlaceholderBuilder,statics:{SOURCE_PLACEHOLDER_MODIFIER_DASHBOARD:undefined,TARGET_PLACEHOLDER_MODIFIER_DASHBOARD:undefined,getCustomizedWidgetStates:getCustomizedWidgetStates$static,createWrappedWidget:createWrappedWidget$static,
onWidgetDrop:onWidgetDrop$static,__initStatics__:function(){SOURCE_PLACEHOLDER_MODIFIER_DASHBOARD$static_();TARGET_PLACEHOLDER_MODIFIER_DASHBOARD$static_()}},requires:["Ext.panel.Panel","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.dependencies.DependencyTracker","com.coremedia.ui.util.DraggableItemsUtils","com.coremedia.ui.util.createComponentSelector"],uses:["com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames","com.coremedia.cms.editor.sdk.dashboard.Dashboard",
"com.coremedia.cms.editor.sdk.dashboard.DashboardColumn","com.coremedia.cms.editor.sdk.dashboard.WidgetState","com.coremedia.cms.editor.sdk.dashboard.WidgetWrapper","com.coremedia.cms.editor.sdk.dashboard.WidgetWrapperBase","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.util.PreferencesUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.WidgetType",function(WidgetType){return{}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.WidgetWrapperBase",function(WidgetWrapperBase){function WIDGET_WRAPPER_BLOCK$static_(){WidgetWrapperBase.WIDGET_WRAPPER_BLOCK=new com.coremedia.ui.models.bem.BEMBlock("cm-widget-wrapper")}function WIDGET_BLOCK$static_(){WidgetWrapperBase.WIDGET_BLOCK=new com.coremedia.ui.models.bem.BEMBlock("cm-widget")}function WIDGET_ELEMENT_TOOLBAR$static_(){WidgetWrapperBase.WIDGET_ELEMENT_TOOLBAR=WidgetWrapperBase.WIDGET_BLOCK.createElement("toolbar")}function WIDGET_ELEMENT_ICON$static_(){WidgetWrapperBase.WIDGET_ELEMENT_ICON=
WidgetWrapperBase.WIDGET_BLOCK.createElement("icon")}function WIDGET_ELEMENT_TITLE$static_(){WidgetWrapperBase.WIDGET_ELEMENT_TITLE=WidgetWrapperBase.WIDGET_BLOCK.createElement("title")}function WIDGET_ELEMENT_TOOL$static_(){WidgetWrapperBase.WIDGET_ELEMENT_TOOL=WidgetWrapperBase.WIDGET_BLOCK.createElement("tool")}function WIDGET_MODIFIER_EDITOR_MODE$static_(){WidgetWrapperBase.WIDGET_MODIFIER_EDITOR_MODE=WidgetWrapperBase.WIDGET_BLOCK.createModifier("editor-mode")}function WIDGET_MODIFIER_FOCUS$static_(){WidgetWrapperBase.WIDGET_MODIFIER_FOCUS=
WidgetWrapperBase.WIDGET_BLOCK.createModifier("focus")}function RESIZER_BLOCK$static_(){WidgetWrapperBase.RESIZER_BLOCK=new com.coremedia.ui.models.bem.BEMBlock("cm-widget-resizer")}var EDIT_MODE$static="edit-mode";var WIDGET_MODE$static="widget-mode";function DRAG_ICON_HANDLE$static_(){WidgetWrapperBase.DRAG_ICON_HANDLE=com.coremedia.ui.util.BEMUtils.getElementClassName(WidgetWrapperBase.DRAG_ICON_BLOCK,"handle")}function WidgetWrapperBase$(config){var this$=this;if(arguments.length<=0)config=null;
this.super$4LXi(config);this.innerWrapper$4LXi=AS3.as(this.queryById(WidgetWrapperBase.INNER_WRAPPER_ITEM_ID),Ext.panel.Panel);this.delegateCont$4LXi=AS3.as(this.innerWrapper$4LXi.queryById(WidgetWrapperBase.DELEGATE_CONTAINER_ITEM_ID),Ext.container.Container);this.wrapperToolbar$4LXi=AS3.as(this.innerWrapper$4LXi.queryById(WidgetWrapperBase.TOOLBAR_ITEM_ID),Ext.container.Container);this.wrapperLabel$4LXi=AS3.as(this.wrapperToolbar$4LXi.queryById(WidgetWrapperBase.LABEL_ITEM_ID),Ext.toolbar.TextItem);
this.editButton$4LXi=AS3.as(this.wrapperToolbar$4LXi.queryById(WidgetWrapperBase.EDIT_BUTTON_ITEM_ID),Ext.button.Button);var state=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.WidgetState,Ext.apply({},AS3.getBindable(config,"widgetState")));var widgetTypeId=state.widgetTypeId;var widgetType=WidgetWrapperBase.getWidgetTypeWithId(widgetTypeId);var rowSpan=state.rowspan||widgetType.getDefaultRowSpan()||1;var manuallyCreatable=widgetType.isManuallyCreatable();delete state["widgetTypeId"];delete state["column"];
delete state["rowspan"];this.model$4LXi=com.coremedia.ui.data.beanFactory.createLocalBean({});this.model$4LXi.set(WidgetWrapperBase.STATE_MODEL_PROPERTY,state);this.model$4LXi.set(WidgetWrapperBase.WIDGET_TYPE_ID_MODEL_PROPERTY,widgetTypeId);this.model$4LXi.set(WidgetWrapperBase.MANUALLY_CREATABLE_PROPERTY,manuallyCreatable);this.model$4LXi.set(WidgetWrapperBase.ROW_SPAN_MODEL_PROPERTY,rowSpan);this.model$4LXi.addValueChangeListener(AS3.bind(this,"updateWrapperLabel$4LXi"));this.updateWrapperLabel$4LXi();
this.on("afterrender",function(p){this$.updateHeight();this$.setupResizable$4LXi();this$.mon(p.up(),"afterlayout",AS3.bind(this$,"adjustWidgetWrapperWidth$4LXi"));this$.mon(p.up(),"resize",AS3.bind(this$,"adjustWidgetWrapperWidth$4LXi"));this$.mon(this$.innerWrapper$4LXi,"focusenter",function(){this$.getFocusStateVE$4LXi().setValue(true)});this$.mon(this$.innerWrapper$4LXi,"focusleave",function(){this$.getFocusStateVE$4LXi().setValue(false)})},null,{single:true});if(AS3.getBindable(config,"edit")){this.getModeVE().setValue(EDIT_MODE$static);
this.showEditor$4LXi()}else{this.getModeVE().setValue(WIDGET_MODE$static);this.showWidget$4LXi()}}function getFocusStateVE(){if(this.focusStateValueExpression$4LXi===null)this.focusStateValueExpression$4LXi=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(false);return this.focusStateValueExpression$4LXi}function updateWidgetWrapper(){this.updateHeight();this.updateWrapperLabel$4LXi()}function getWidgetComponent(){if(this.getModeVE().getValue()===WIDGET_MODE$static)return this.delegateCont$4LXi.getComponent(0);
return null}function dragIconTemplate$static_(){WidgetWrapperBase.dragIconTemplate=(new Ext.Template('\x3cdiv class\x3d"'+WidgetWrapperBase.DRAG_ICON_BLOCK+'"\x3e'+'\x3cdiv class\x3d"'+WidgetWrapperBase.DRAG_ICON_HANDLE+" "+mx.resources.ResourceManager.getInstance().getString("com.coremedia.icons.CoreIcons","widget_drag")+'"\x3e\x3c/div\x3e'+"\x3c/div\x3e")).compile()}function updateHeight(){var height=(WidgetWrapperBase.DEFAULT_WIDGET_HEIGHT+WidgetWrapperBase.WIDGET_SEPARATOR_HEIGHT)*(this.model$4LXi.get(WidgetWrapperBase.ROW_SPAN_MODEL_PROPERTY)||
1);this.setHeight(height);this.innerWrapper$4LXi.setHeight(height-WidgetWrapperBase.WIDGET_SEPARATOR_HEIGHT);this.delegateCont$4LXi.setHeight(height-WidgetWrapperBase.WIDGET_SEPARATOR_HEIGHT-WidgetWrapperBase.TOOLBAR_HEIGHT-WidgetWrapperBase.RESIZE_HANDLE_HEIGHT);if(this.getModeVE().getValue()===EDIT_MODE$static){AS3.as(this.delegateCont$4LXi.getComponent(0),Ext.container.Container).setHeight(height-WidgetWrapperBase.WIDGET_SEPARATOR_HEIGHT-WidgetWrapperBase.TOOLBAR_HEIGHT-WidgetWrapperBase.RESIZE_HANDLE_HEIGHT);
if(this.resizableWrapper$4LXi&&this.resizableWrapper$4LXi.getEl())this.resizableWrapper$4LXi.getEl().setHeight(height-WidgetWrapperBase.WIDGET_SEPARATOR_HEIGHT)}}function setupResizable(){var this$=this;this.mon(this.innerWrapper$4LXi,"afterlayout",function(){if(!this$.resizableWrapper$4LXi)this$.attachResizable$4LXi();var southHandle=this$.resizableWrapper$4LXi["south"].el;southHandle.addCls(WidgetWrapperBase.RESIZER_BLOCK.getCSSClass());if(this$.getModeVE().getValue()===EDIT_MODE$static)southHandle.show();
else southHandle.hide()})}function attachResizable(){var this$=this;var resizableCfg=AS3.cast(Ext.resizer.Resizer,{});resizableCfg.target=this.innerWrapper$4LXi.getEl();resizableCfg.handles="s";resizableCfg.pinned=true;resizableCfg.heightIncrement=WidgetWrapperBase.DEFAULT_WIDGET_HEIGHT+WidgetWrapperBase.WIDGET_SEPARATOR_HEIGHT;resizableCfg.minHeight=WidgetWrapperBase.DEFAULT_WIDGET_HEIGHT;this.resizableWrapper$4LXi=new Ext.resizer.Resizer(resizableCfg);this.resizableWrapper$4LXi.resizeTracker["origResize"]=
this.resizableWrapper$4LXi.resizeTracker["resize"];this.resizableWrapper$4LXi.resizeTracker["resize"]=function(box,atEnd){var newBox={x:box.x,y:box.y,width:box.width,height:box.height-WidgetWrapperBase.WIDGET_SEPARATOR_HEIGHT};this$.resizableWrapper$4LXi.resizeTracker["origResize"](newBox,atEnd);var newRowSpan=Math.floor((box.height+WidgetWrapperBase.WIDGET_SEPARATOR_HEIGHT)/(WidgetWrapperBase.DEFAULT_WIDGET_HEIGHT+WidgetWrapperBase.WIDGET_SEPARATOR_HEIGHT));if(this$.model$4LXi.get(WidgetWrapperBase.ROW_SPAN_MODEL_PROPERTY)!==
newRowSpan){this$.model$4LXi.set(WidgetWrapperBase.ROW_SPAN_MODEL_PROPERTY,newRowSpan);this$.updateHeight();this$.resizableWrapper$4LXi.getEl().setSize(this$.innerWrapper$4LXi.getWidth(),(WidgetWrapperBase.DEFAULT_WIDGET_HEIGHT+WidgetWrapperBase.WIDGET_SEPARATOR_HEIGHT)*(this$.model$4LXi.get(WidgetWrapperBase.ROW_SPAN_MODEL_PROPERTY)||1)-WidgetWrapperBase.WIDGET_SEPARATOR_HEIGHT)}}}function makeWidgetState(){var result=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.WidgetState,{});result.widgetTypeId=
this.model$4LXi.get(WidgetWrapperBase.WIDGET_TYPE_ID_MODEL_PROPERTY);result.rowspan=this.model$4LXi.get(WidgetWrapperBase.ROW_SPAN_MODEL_PROPERTY);Ext.apply(result,this.model$4LXi.get(WidgetWrapperBase.STATE_MODEL_PROPERTY));return result}function getRowSpan(){return this.model$4LXi.get(WidgetWrapperBase.ROW_SPAN_MODEL_PROPERTY)||1}function getWidgetType(){return WidgetWrapperBase.getWidgetTypeWithId(this.model$4LXi.get(WidgetWrapperBase.WIDGET_TYPE_ID_MODEL_PROPERTY))}function adjustWidgetWrapperWidth(){this.setWidth(this.up().getWidth());
this.innerWrapper$4LXi.setWidth(this.up().getWidth())}function stateValueExpressionChanged(){this.model$4LXi.set(WidgetWrapperBase.STATE_MODEL_PROPERTY,this.stateValueExpression$4LXi.getValue())}function updateWrapperLabel(){var state=this.model$4LXi.get(WidgetWrapperBase.STATE_MODEL_PROPERTY);this.wrapperLabel$4LXi.update(com.coremedia.ui.util.EncodingUtil.encodeForHTML(this.getWidgetType().getTitle(state)));if(this.wrapperLabel$4LXi.rendered)this.wrapperLabel$4LXi.el.dom.setAttribute("data-qtip",
this.getWidgetType().getDescriptionHTML())}function showWidget(){this.innerWrapper$4LXi.setUI(com.coremedia.ui.skins.PanelSkin.WIDGET.getSkin());this.wrapperToolbar$4LXi.setUI(com.coremedia.ui.skins.ToolbarSkin.WIDGET_HEADER.getSkin());this.editButton$4LXi.setIconCls(this.resourceManager.getString("com.coremedia.icons.CoreIcons","pencil"));this.editButton$4LXi.setPressed(false);var state=this.model$4LXi.get(WidgetWrapperBase.STATE_MODEL_PROPERTY);var widgetComponent=this.getWidgetType().createWidget(state);
var tools=this.getWidgetType().createTools(widgetComponent)||[];if(AS3.is(widgetComponent,com.coremedia.cms.editor.sdk.dashboard.Reloadable)){var reloadButtonCfg=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.ReloadButton,{});AS3.setBindable(reloadButtonCfg,"widget",AS3.cast(com.coremedia.cms.editor.sdk.dashboard.Reloadable,widgetComponent));tools=[reloadButtonCfg].concat(tools)}if(AS3.is(widgetComponent,com.coremedia.ui.data.StateHolder)){this.stateValueExpression$4LXi=AS3.cast(com.coremedia.ui.data.StateHolder,
widgetComponent).getStateValueExpression();this.stateValueExpression$4LXi.addChangeListener(AS3.bind(this,"stateValueExpressionChanged$4LXi"))}this.stateValueExpression$4LXi&&this.stateValueExpressionChanged$4LXi();this.delegateCont$4LXi.add(widgetComponent);this.wrapperLabel$4LXi.addListener("afterrender",AS3.bind(this,"updateWrapperLabel$4LXi"));var insertPosition=this.wrapperToolbar$4LXi.itemCollection.indexOf(this.wrapperLabel$4LXi);for(var i=0;i<tools.length;i++){var tool=tools[i];this.wrapperToolbar$4LXi.insert(++insertPosition,
tool)}}function showEditor(){this.innerWrapper$4LXi.setUI(com.coremedia.ui.skins.PanelSkin.WIDGET_HIGHLIGHTED.getSkin());this.wrapperToolbar$4LXi.setUI(com.coremedia.ui.skins.ToolbarSkin.WIDGET_HEADER_HIGHLIGHTED.getSkin());this.editButton$4LXi.setPressed(true);this.editButton$4LXi.setIconCls(this.resourceManager.getString("com.coremedia.icons.CoreIcons","check_in_document"));var editorWrapperConfig=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.WidgetEditorWrapper,{});AS3.setBindable(editorWrapperConfig,
"model",this.model$4LXi);var editorWrapper=new com.coremedia.cms.editor.sdk.dashboard.WidgetEditorWrapper(editorWrapperConfig);this.delegateCont$4LXi.add(editorWrapper);this.updateHeight()}function showNothing(){if(this.stateValueExpression$4LXi){this.stateValueExpression$4LXi.removeChangeListener(AS3.bind(this,"updateWrapperLabel$4LXi"));this.stateValueExpression$4LXi=null}this.delegateCont$4LXi.remove(0);var toolPosition=this.wrapperToolbar$4LXi.itemCollection.indexOf(this.wrapperLabel$4LXi)+1;
while(true){var tool=AS3.cast(Ext.Component,this.wrapperToolbar$4LXi.itemCollection.get(toolPosition));if(tool.getItemId()===WidgetWrapperBase.EDIT_BUTTON_ITEM_ID)break;this.wrapperToolbar$4LXi.remove(tool,true)}}function toggleEditMode(){this.showNothing$4LXi();if(this.getModeVE().getValue()===WIDGET_MODE$static){this.getModeVE().setValue(EDIT_MODE$static);this.showEditor$4LXi()}else if(this.getModeVE().getValue()===EDIT_MODE$static){this.getModeVE().setValue(WIDGET_MODE$static);this.showWidget$4LXi()}this.editButton$4LXi.focus()}
function getWidgetTypeWithId$static(id){var dashboardConfig=com.coremedia.cms.editor.sdk.editorContext.getDashboardConfiguration();var widgetTypes=AS3.getBindable(dashboardConfig,"types");for(var i=0;i<widgetTypes.length;i++){var widgetType=widgetTypes[i];if(widgetType.getId()===id)return widgetType}return null}function beforeDestroy(){this.resizableWrapper$4LXi&&this.resizableWrapper$4LXi.destroy();Ext.panel.Panel.prototype.beforeDestroy.call(this)}function getModeVE(){if(!this.modeVE$4LXi)this.modeVE$4LXi=
com.coremedia.ui.data.ValueExpressionFactory.createFromValue(EDIT_MODE$static);return this.modeVE$4LXi}function getModifierVE(){var this$=this;if(!this.modifierVE$4LXi)this.modifierVE$4LXi=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var modifiers=[];var modeVE=this$.getModeVE();if(modeVE.getValue()===EDIT_MODE$static)modifiers.push(WidgetWrapperBase.WIDGET_MODIFIER_EDITOR_MODE);var focusStateVE=this$.getFocusStateVE$4LXi();if(this$.focusStateValueExpression$4LXi.getValue())modifiers.push(WidgetWrapperBase.WIDGET_MODIFIER_FOCUS);
return modifiers});return this.modifierVE$4LXi}return{extend:"Ext.panel.Panel",modeVE$4LXi:null,modifierVE$4LXi:null,delegateCont$4LXi:null,stateValueExpression$4LXi:null,focusStateValueExpression$4LXi:null,innerWrapper$4LXi:null,wrapperToolbar$4LXi:null,wrapperLabel$4LXi:null,editButton$4LXi:null,model$4LXi:null,resizableWrapper$4LXi:null,constructor:WidgetWrapperBase$,super$4LXi:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},getFocusStateVE$4LXi:getFocusStateVE,updateWidgetWrapper:updateWidgetWrapper,
getWidgetComponent:getWidgetComponent,updateHeight:updateHeight,setupResizable$4LXi:setupResizable,attachResizable$4LXi:attachResizable,makeWidgetState:makeWidgetState,getRowSpan:getRowSpan,getWidgetType:getWidgetType,adjustWidgetWrapperWidth$4LXi:adjustWidgetWrapperWidth,stateValueExpressionChanged$4LXi:stateValueExpressionChanged,updateWrapperLabel$4LXi:updateWrapperLabel,showWidget$4LXi:showWidget,showEditor$4LXi:showEditor,showNothing$4LXi:showNothing,toggleEditMode:toggleEditMode,beforeDestroy:beforeDestroy,
getModeVE:getModeVE,getModifierVE:getModifierVE,statics:{WIDGET_WRAPPER_BLOCK:undefined,WIDGET_BLOCK:undefined,WIDGET_ELEMENT_TOOLBAR:undefined,WIDGET_ELEMENT_ICON:undefined,WIDGET_ELEMENT_TITLE:undefined,WIDGET_ELEMENT_TOOL:undefined,WIDGET_MODIFIER_EDITOR_MODE:undefined,WIDGET_MODIFIER_FOCUS:undefined,RESIZER_BLOCK:undefined,DEFAULT_WIDGET_HEIGHT:220,WIDGET_SEPARATOR_HEIGHT:24,TOOLBAR_HEIGHT:44,RESIZE_HANDLE_HEIGHT:6,INNER_WRAPPER_ITEM_ID:"innerWrapper",DELEGATE_CONTAINER_ITEM_ID:"widgetWrapperDelegateContainer",
LABEL_ITEM_ID:"widgetWrapperLabel",TOOLBAR_ITEM_ID:"widgetWrapperToolbar",EDIT_BUTTON_ITEM_ID:"widgetWrapperEditButton",SEPARATOR_ITEM_ID:"widgetSeparator",STATE_MODEL_PROPERTY:"widgetState",WIDGET_TYPE_ID_MODEL_PROPERTY:"widgetTypeId",MANUALLY_CREATABLE_PROPERTY:"manuallyCreatable",ROW_SPAN_MODEL_PROPERTY:"rowSpan",DRAG_ICON_BLOCK:"cm-widget-drag-icon",DRAG_ICON_HANDLE:undefined,dragIconTemplate:undefined,getWidgetTypeWithId:getWidgetTypeWithId$static,__initStatics__:function(){WIDGET_WRAPPER_BLOCK$static_();
WIDGET_BLOCK$static_();WIDGET_ELEMENT_TOOLBAR$static_();WIDGET_ELEMENT_ICON$static_();WIDGET_ELEMENT_TITLE$static_();WIDGET_ELEMENT_TOOL$static_();WIDGET_MODIFIER_EDITOR_MODE$static_();WIDGET_MODIFIER_FOCUS$static_();RESIZER_BLOCK$static_();DRAG_ICON_HANDLE$static_();dragIconTemplate$static_()}},requires:["Ext","Ext.Component","Ext.Template","Ext.button.Button","Ext.container.Container","Ext.panel.Panel","Ext.resizer.Resizer","Ext.toolbar.TextItem","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.data.StateHolder",
"com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.beanFactory","com.coremedia.ui.models.bem.BEMBlock","com.coremedia.ui.skins.PanelSkin","com.coremedia.ui.skins.ToolbarSkin","com.coremedia.ui.util.BEMUtils","com.coremedia.ui.util.EncodingUtil","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.dashboard.ReloadButton","com.coremedia.cms.editor.sdk.dashboard.Reloadable","com.coremedia.cms.editor.sdk.dashboard.WidgetEditorWrapper","com.coremedia.cms.editor.sdk.dashboard.WidgetState",
"com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.ConfigureDashboardPlugin",function(ConfigureDashboardPlugin){function ConfigureDashboardPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.ConfigureDashboardPluginBase,{});var defaults_$1=AS3.cast(ConfigureDashboardPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$W0PL(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.dashboard.ConfigureDashboardPluginBase",
metadata:{"":["PublicApi"]},constructor:ConfigureDashboardPlugin$,super$W0PL:function(){com.coremedia.cms.editor.sdk.dashboard.ConfigureDashboardPluginBase.prototype.constructor.apply(this,arguments)},config:{replace:false,widgets:null,types:null},requires:["com.coremedia.cms.editor.sdk.dashboard.ConfigureDashboardPluginBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.DashboardColumnBase",function(DashboardColumnBase){function DashboardColumnBase$(config){if(arguments.length<=0)config=null;this.super$0er7(config)}function reload(){this.itemCollection.each(function(item){var wrapper=AS3.as(item,com.coremedia.cms.editor.sdk.dashboard.WidgetWrapper);var widget=wrapper&&AS3.as(wrapper.getWidgetComponent(),com.coremedia.cms.editor.sdk.dashboard.Reloadable);widget&&widget.reload()})}function addWidgetWrapper(wrapper){this.add(wrapper)}
function getTotalRowSpan(){var result=0;for(var j=0;j<this.itemCollection.length;j++){var widgetWrapper=AS3.as(this.itemCollection.get(j),com.coremedia.cms.editor.sdk.dashboard.WidgetWrapper);if(widgetWrapper)result=result+widgetWrapper.getRowSpan()}return result}function insertWidgetAfter(state,referenceComponent,inEditMode){var this$=this;switch(arguments.length){case 0:state=null;case 1:referenceComponent=null;case 2:inEditMode=true}if(!state){var stateConfig=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.WidgetState,
{});var dashboardConfiguration=com.coremedia.cms.editor.sdk.editorContext.getDashboardConfiguration();var manuallyCreatableTypes=dashboardConfiguration.getManuallyCreatableTypes();if(manuallyCreatableTypes.length===0)return null;var defaultWidgetType=manuallyCreatableTypes[0];stateConfig.widgetTypeId=defaultWidgetType.getId();state=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.WidgetState,stateConfig)}var newWrapper=com.coremedia.cms.editor.sdk.dashboard.DashboardBase.createWrappedWidget(state,
inEditMode);var insertPos=referenceComponent?this.itemCollection.indexOf(referenceComponent)+1:this.itemCollection.length;this.on("afterlayout",function(){var scrollParent=this$.getEl();while(scrollParent&&!scrollParent.isScrollable())scrollParent=scrollParent.parent();if(scrollParent)newWrapper.getEl().scrollIntoView(scrollParent)},null,{single:true});var widget=AS3.as(this.insert(insertPos,newWrapper),com.coremedia.cms.editor.sdk.dashboard.WidgetWrapper);return widget}function removeWidget(wrapper){this.remove(wrapper,
true)}return{extend:"Ext.container.Container",constructor:DashboardColumnBase$,super$0er7:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},reload:reload,addWidgetWrapper:addWidgetWrapper,getTotalRowSpan:getTotalRowSpan,insertWidgetAfter:insertWidgetAfter,removeWidget:removeWidget,requires:["Ext.container.Container"],uses:["com.coremedia.cms.editor.sdk.dashboard.DashboardBase","com.coremedia.cms.editor.sdk.dashboard.Reloadable","com.coremedia.cms.editor.sdk.dashboard.WidgetState",
"com.coremedia.cms.editor.sdk.dashboard.WidgetWrapper","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.ComponentBasedWidgetType",function(ComponentBasedWidgetType){function ComponentBasedWidgetType$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.ComponentBasedWidgetTypeBase,{});var defaults_$1=AS3.cast(ComponentBasedWidgetType,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$1dme(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.dashboard.ComponentBasedWidgetTypeBase",
metadata:{"":["PublicApi"]},constructor:ComponentBasedWidgetType$,super$1dme:function(){com.coremedia.cms.editor.sdk.dashboard.ComponentBasedWidgetTypeBase.prototype.constructor.apply(this,arguments)},config:{id_:null,widgetComponent:null,editorComponent:null,iconCls:null,name:null,title:null,description:null,descriptionHTML:null,defaultRowspan:0,manuallyCreatable:false},requires:["com.coremedia.cms.editor.sdk.dashboard.ComponentBasedWidgetTypeBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.WidgetEditorWrapperBase",function(WidgetEditorWrapperBase){function WidgetEditorWrapperBase$(config){if(arguments.length<=0)config=null;this.super$O3g$(config);AS3.getBindable(this,"model").addPropertyChangeListener(com.coremedia.cms.editor.sdk.dashboard.WidgetWrapperBase.WIDGET_TYPE_ID_MODEL_PROPERTY,AS3.bind(this,"widgetTypeChanged$O3g$"));this.editorContainer$O3g$=AS3.as(this.queryById(this.EDITOR_CONTAINER),Ext.container.Container);this.showEditor$O3g$()}
function getWidgetType(){return com.coremedia.cms.editor.sdk.dashboard.WidgetWrapperBase.getWidgetTypeWithId(AS3.getBindable(this,"model").get(com.coremedia.cms.editor.sdk.dashboard.WidgetWrapperBase.WIDGET_TYPE_ID_MODEL_PROPERTY))}function getWidgetState(){return AS3.getBindable(this,"model").get(com.coremedia.cms.editor.sdk.dashboard.WidgetWrapperBase.STATE_MODEL_PROPERTY)}function beforeDestroy(){AS3.getBindable(this,"model").removePropertyChangeListener(com.coremedia.cms.editor.sdk.dashboard.WidgetWrapperBase.WIDGET_TYPE_ID_MODEL_PROPERTY,
AS3.bind(this,"widgetTypeChanged$O3g$"));Ext.panel.Panel.prototype.beforeDestroy.call(this)}function showEditor(){var widgetType=this.getWidgetType$O3g$();var editor=widgetType.createEditor(this.getWidgetState$O3g$());if(!editor){var description=widgetType.getDescriptionHTML();var html=this.resourceManager.getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard","WidgetEditor_notConfigurable_text");if(description)html=html+"\x3cp\x3e"+description+"\x3c/p\x3e";var containerCfg=AS3.cast(Ext.container.Container,
{});AS3.setBindable(containerCfg,"html",html);editor=new Ext.container.Container(containerCfg)}this.editorContainer$O3g$.add(editor);if(AS3.is(editor,com.coremedia.ui.data.StateHolder)){this.stateValueExpression$O3g$=AS3.cast(com.coremedia.ui.data.StateHolder,editor).getStateValueExpression();this.stateValueExpression$O3g$.addChangeListener(AS3.bind(this,"stateChanged$O3g$"));this.stateChanged$O3g$()}}function stateChanged(){AS3.getBindable(this,"model").set(com.coremedia.cms.editor.sdk.dashboard.WidgetWrapperBase.STATE_MODEL_PROPERTY,
this.stateValueExpression$O3g$.getValue())}function widgetTypeChanged(){AS3.getBindable(this,"model").set(com.coremedia.cms.editor.sdk.dashboard.WidgetWrapperBase.STATE_MODEL_PROPERTY,{});AS3.getBindable(this,"model").set(com.coremedia.cms.editor.sdk.dashboard.WidgetWrapperBase.ROW_SPAN_MODEL_PROPERTY,this.getWidgetType$O3g$().getDefaultRowSpan()||1);this.removeEditor$O3g$();AS3.as(this.findParentByType(com.coremedia.cms.editor.sdk.dashboard.WidgetWrapper.xtype),com.coremedia.cms.editor.sdk.dashboard.WidgetWrapper).updateHeight();
this.showEditor$O3g$()}function removeEditor(){if(this.stateValueExpression$O3g$){this.stateValueExpression$O3g$.removeChangeListener(AS3.bind(this,"stateChanged$O3g$"));this.stateValueExpression$O3g$=null}this.editorContainer$O3g$.removeAll()}function getWidgetTypesStore$static(){var result=[];var widgetTypes=AS3.getBindable(com.coremedia.cms.editor.sdk.editorContext.getDashboardConfiguration(),"types");for(var i=0;i<widgetTypes.length;i++){var widgetType=widgetTypes[i];if(widgetType.isManuallyCreatable())result.push([widgetType.getId(),
widgetType.getName()])}return result}function getMaxWidgetTypeWidth(){return com.coremedia.ui.util.TextMetricsUtil.getMaxWidth("div",["x-boundlist"],WidgetEditorWrapperBase.getWidgetTypesStore().map(function(array){return array[1]}))}function removeWidget(){var wrapper=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.WidgetWrapper,this.findParentByType(com.coremedia.cms.editor.sdk.dashboard.WidgetWrapper.xtype));var column=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.DashboardColumn,wrapper.up());
column.removeWidget(wrapper)}function saveWidget(){var wrapper=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.WidgetWrapper,this.findParentByType(com.coremedia.cms.editor.sdk.dashboard.WidgetWrapper.xtype));wrapper.toggleEditMode()}return{extend:"Ext.panel.Panel",EDITOR_CONTAINER:"editorContainer",EDITOR_WRAPPER_MAIN_BODY:"editorWrapperMainBody",editorContainer$O3g$:null,stateValueExpression$O3g$:null,constructor:WidgetEditorWrapperBase$,super$O3g$:function(){Ext.panel.Panel.prototype.constructor.apply(this,
arguments)},getWidgetType$O3g$:getWidgetType,getWidgetState$O3g$:getWidgetState,beforeDestroy:beforeDestroy,showEditor$O3g$:showEditor,stateChanged$O3g$:stateChanged,widgetTypeChanged$O3g$:widgetTypeChanged,removeEditor$O3g$:removeEditor,getMaxWidgetTypeWidth:getMaxWidgetTypeWidth,removeWidget:removeWidget,saveWidget:saveWidget,config:{model:null},statics:{getWidgetTypesStore:getWidgetTypesStore$static},requires:["Ext.container.Container","Ext.panel.Panel","com.coremedia.cms.editor.sdk.dashboard.Dashboard_properties",
"com.coremedia.ui.data.StateHolder","com.coremedia.ui.util.TextMetricsUtil"],uses:["com.coremedia.cms.editor.sdk.dashboard.DashboardColumn","com.coremedia.cms.editor.sdk.dashboard.WidgetWrapper","com.coremedia.cms.editor.sdk.dashboard.WidgetWrapperBase","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.WidgetState",function(WidgetState){function WidgetState$(config){this.super$supv();if(arguments.length<=0)config=null;Ext.apply(this,config)}return{extend:"joo.JavaScriptObject",metadata:{"":["PublicApi"]},constructor:WidgetState$,super$supv:function(){joo.JavaScriptObject.prototype.constructor.apply(this,arguments)},widgetTypeId:null,column:undefined,rowspan:NaN,statics:{SAME:"same",NEXT:"next"},requires:["Ext","joo.JavaScriptObject"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.Reloadable",function(Reloadable){return{}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.ToggleDashboardActionBase",function(ToggleDashboardActionBase){function ToggleDashboardActionBase$(config){if(arguments.length<=0)config=null;this.super$1kCp(AS3.cast(ToggleDashboardActionBase,Ext.apply({iconCls:mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard","Action_showDashboard_icon"),text:mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard",
"Action_showDashboard_text"),tooltip:mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard","Action_showDashboard_tooltip")},config)));this.monitorWorkArea$1kCp(true)}function pressHandler(){com.coremedia.ui.actions.ToggleComponentAction.prototype.pressHandler.call(this);var workArea=AS3.as(com.coremedia.cms.editor.sdk.editorContext.getWorkArea(),com.coremedia.cms.editor.sdk.desktop.WorkArea);if(!AS3.is(workArea.getActiveTab(),com.coremedia.cms.editor.sdk.dashboard.Dashboard)){workArea.toggleSingletonTab(com.coremedia.cms.editor.sdk.dashboard.Dashboard.xtype);
var dashboard=AS3.as(workArea.getActiveTab(),com.coremedia.cms.editor.sdk.dashboard.Dashboard);if(this.triggeredByUser)dashboard&&dashboard.isFocusable(true)&&dashboard.focus()}}function unpressHandler(){com.coremedia.ui.actions.ToggleComponentAction.prototype.unpressHandler.call(this);var workArea=AS3.as(com.coremedia.cms.editor.sdk.editorContext.getWorkArea(),com.coremedia.cms.editor.sdk.desktop.WorkArea);if(AS3.is(workArea.getActiveTab(),com.coremedia.cms.editor.sdk.dashboard.Dashboard))workArea.toggleSingletonTab(com.coremedia.cms.editor.sdk.dashboard.Dashboard.xtype)}
function monitorWorkArea(attachListenerIfNotCreated){if(arguments.length<=0)attachListenerIfNotCreated=false;var workArea=AS3.as(com.coremedia.cms.editor.sdk.editorContext.getWorkArea(),com.coremedia.cms.editor.sdk.desktop.WorkArea);if(workArea){workArea.mon(workArea,"tabchange",AS3.bind(this,"updateToggleState$1kCp"));this.updateToggleState$1kCp(workArea,workArea.getActiveTab())}else if(attachListenerIfNotCreated)Ext.ComponentManager.onAvailable(com.coremedia.cms.editor.sdk.desktop.WorkAreaBase.COMPONENT_ID,
AS3.bind(this,"monitorWorkArea$1kCp"))}function updateToggleState(tabPanel,tab){AS3.setBindable(this,"pressed",AS3.is(tab,com.coremedia.cms.editor.sdk.dashboard.Dashboard))}return{extend:"com.coremedia.ui.actions.ToggleComponentAction",constructor:ToggleDashboardActionBase$,super$1kCp:function(){com.coremedia.ui.actions.ToggleComponentAction.prototype.constructor.apply(this,arguments)},pressHandler:pressHandler,unpressHandler:unpressHandler,monitorWorkArea$1kCp:monitorWorkArea,updateToggleState$1kCp:updateToggleState,
requires:["Ext","Ext.ComponentManager","com.coremedia.cms.editor.sdk.dashboard.Dashboard_properties","com.coremedia.ui.actions.ToggleComponentAction","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.dashboard.Dashboard","com.coremedia.cms.editor.sdk.desktop.WorkArea","com.coremedia.cms.editor.sdk.desktop.WorkAreaBase","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.ReloadButton",function(ReloadButton){function ReloadButton$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.ReloadButtonBase,{});var defaults_$1=AS3.cast(ReloadButton,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"scale","small");config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE_INVERTED.getSkin());AS3.setBindable(config_$1,
"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","reload")));AS3.setBindable(config_$1,"tooltip",this.resourceManager.getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard","Widget_Button_Reload_tooltip_text"));AS3.setBindable(config_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard","Widget_Button_Reload_tooltip_text")));AS3.setBindable(config_$1,"handler",AS3.bind(this,
"reload"));net.jangaroo.ext.Exml.apply(config_$1,config);this.super$9VzV(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.dashboard.ReloadButtonBase",alias:"widget.com.coremedia.cms.editor.sdk.config.reloadButton",constructor:ReloadButton$,super$9VzV:function(){com.coremedia.cms.editor.sdk.dashboard.ReloadButtonBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.dashboard.Dashboard_properties","com.coremedia.cms.editor.sdk.dashboard.ReloadButtonBase","com.coremedia.icons.CoreIcons_properties",
"com.coremedia.ui.skins.ButtonSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.DashboardConfiguration",function(DashboardConfiguration){function DashboardConfiguration$(config){this.super$8rhs();if(arguments.length<=0)config=null;this.initConfig(config)}function getManuallyCreatableTypes(){return AS3.getBindable(this,"types").filter(function(widgetType){return widgetType.isManuallyCreatable()})}return{extend:"Ext.Base",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.dashboardConfiguration",constructor:DashboardConfiguration$,
super$8rhs:function(){Ext.Base.prototype.constructor.apply(this,arguments)},getManuallyCreatableTypes:getManuallyCreatableTypes,config:{widgets:null,types:null}}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.ReloadButtonBase",function(ReloadButtonBase){var ANIMATE_CLS$static="animate";function ReloadButtonBase$(config){if(arguments.length<=0)config=null;this.super$QBBG(config)}function reload(){this.removeAnimateClass$QBBG();this.el.addCls(ANIMATE_CLS$static);this.removeAnimateClass$QBBG(1E3);AS3.getBindable(this,"widget").reload()}function removeAnimateClass(delay){var this$=this;if(arguments.length<=0)delay=0;if(!delay)removeAnimateClassInternal();
else window.setTimeout(function(){removeAnimateClassInternal()},delay);function removeAnimateClassInternal(){this$.el.removeCls(ANIMATE_CLS$static)}}return{extend:"com.coremedia.ui.components.IconButton",constructor:ReloadButtonBase$,super$QBBG:function(){com.coremedia.ui.components.IconButton.prototype.constructor.apply(this,arguments)},reload:reload,removeAnimateClass$QBBG:removeAnimateClass,config:{widget:null},requires:["com.coremedia.ui.components.IconButton"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.WidgetSeparator",function(WidgetSeparator){var BLOCK$static;function BLOCK$static_(){BLOCK$static=new com.coremedia.ui.models.bem.BEMBlock("cm-widget-separator")}var ELEMENT_ICON$static;function ELEMENT_ICON$static_(){ELEMENT_ICON$static=BLOCK$static.createElement("icon")}function WidgetSeparator$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.WidgetSeparatorBase,{});var defaults_$1=AS3.cast(WidgetSeparator,
{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard","WidgetSeparator_addWidget_tooltip"));config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE_INVERTED.getSkin());AS3.setBindable(config_$1,"iconCls",net.jangaroo.ext.Exml.asString(ELEMENT_ICON$static.getCSSClass()));AS3.setBindable(config_$1,"handler",AS3.bind(this,"addWidget"));
var ui_BEMPlugin_31_5_$1=AS3.cast(com.coremedia.ui.plugins.BEMPlugin,{});AS3.setBindable(ui_BEMPlugin_31_5_$1,"block",BLOCK$static);config_$1.plugins=[ui_BEMPlugin_31_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$hpTD(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.dashboard.WidgetSeparatorBase",alias:"widget.com.coremedia.cms.editor.sdk.config.widgetSeparator",constructor:WidgetSeparator$,super$hpTD:function(){com.coremedia.cms.editor.sdk.dashboard.WidgetSeparatorBase.prototype.constructor.apply(this,
arguments)},statics:{BLOCK:undefined,ELEMENT_ICON:undefined,__initStatics__:function(){BLOCK$static_();ELEMENT_ICON$static_()}},requires:["com.coremedia.cms.editor.sdk.dashboard.Dashboard_properties","com.coremedia.cms.editor.sdk.dashboard.WidgetSeparatorBase","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.models.bem.BEMBlock","com.coremedia.ui.plugins.BEMPlugin","com.coremedia.ui.skins.ButtonSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.ComponentBasedWidgetTypeBase",function(ComponentBasedWidgetTypeBase){function ComponentBasedWidgetTypeBase$(config){if(arguments.length<=0)config=null;this.id$kwCP=AS3.getBindable(config,"id_")||AS3.getBindable(config,"widgetComponent").xtype;this.widgetComponent$kwCP=AS3.getBindable(config,"widgetComponent");this.editorComponent$kwCP=AS3.getBindable(config,"editorComponent");this.defaultRowspan$kwCP=AS3.getBindable(config,"defaultRowspan");this.description$kwCP=
AS3.getBindable(config,"description");this.descriptionHTML$kwCP=AS3.getBindable(config,"descriptionHTML");this.name$kwCP=AS3.getBindable(config,"name");this.title$kwCP=AS3.getBindable(config,"title");this.iconCls$kwCP=AS3.getBindable(config,"iconCls");this.manuallyCreatable$kwCP=AS3.getBindable(config,"manuallyCreatable")!==false}function getId(){return this.id$kwCP}function transformState(state){var result={};for(var name in state){var value=state[name];if(!AS3.is(value,Function))result[name]=value}delete result.xclass;
return result}function createWidget(state){var widgetConfig=state?this.transformState(state):{};return AS3.cast(Ext.Component,Ext.ComponentManager.create(Ext.apply({},widgetConfig,this.widgetComponent$kwCP)))}function createTools(widget){return null}function createEditor(state){if(this.editorComponent$kwCP){var widgetEditorConfig=state?this.transformState(state):{};return AS3.cast(Ext.Component,Ext.ComponentManager.create(Ext.apply({},widgetEditorConfig,this.editorComponent$kwCP)))}else return null}
function getWidgetComponent(){return this.widgetComponent$kwCP}function getIconCls(){return this.iconCls$kwCP}function getName(){return this.name$kwCP}function getDescription(){return this.description$kwCP}function getDescriptionHTML(){return this.descriptionHTML$kwCP||com.coremedia.ui.util.EncodingUtil.encodeForHTML(this.getDescription())}function getDefaultRowSpan(){return this.defaultRowspan$kwCP}function getTitle(state){return state["title"]||this.title$kwCP||this.name$kwCP}function isManuallyCreatable(){return this.manuallyCreatable$kwCP}
return{mixins:["com.coremedia.cms.editor.sdk.dashboard.WidgetType"],metadata:{"":["PublicApi"]},id$kwCP:null,widgetComponent$kwCP:null,editorComponent$kwCP:null,defaultRowspan$kwCP:0,description$kwCP:null,descriptionHTML$kwCP:null,name$kwCP:null,title$kwCP:null,iconCls$kwCP:null,manuallyCreatable$kwCP:false,constructor:ComponentBasedWidgetTypeBase$,getId:getId,transformState:transformState,createWidget:createWidget,createTools:createTools,createEditor:createEditor,getWidgetComponent:getWidgetComponent,
getIconCls:getIconCls,getName:getName,getDescription:getDescription,getDescriptionHTML:getDescriptionHTML,getDefaultRowSpan:getDefaultRowSpan,getTitle:getTitle,isManuallyCreatable:isManuallyCreatable,requires:["Ext","Ext.Component","Ext.ComponentManager","com.coremedia.cms.editor.sdk.dashboard.WidgetType","com.coremedia.ui.util.EncodingUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.Dashboard",function(Dashboard){function Dashboard$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.DashboardBase,{});var defaults_$1=AS3.cast(Dashboard,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard","tab_title"));config_$1["ariaRole"]="region";config_$1["focusable"]=
true;AS3.setBindable(config_$1,"closable",true);AS3.setBindable(config_$1,"scrollable",true);config_$1.defaultFocus=":focusable";config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.PanelSkin.CORPORATE_IDENTITY.getSkin());var box_55_5_$1=AS3.cast(Ext.Component,{});AS3.setBindable(box_55_5_$1,"width",Dashboard.BORDER_WIDTH);AS3.setBindable(box_55_5_$1,"height",1);var editor_DashboardColumn_57_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.DashboardColumn,{});editor_DashboardColumn_57_5_$1.itemId=
net.jangaroo.ext.Exml.asString(Dashboard.LEFT_COLUMN_ITEM_ID);var box_58_5_$1=AS3.cast(Ext.Component,{});AS3.setBindable(box_58_5_$1,"width",Dashboard.HORIZONTAL_WIDGET_DISTANCE);AS3.setBindable(box_58_5_$1,"height",1);var editor_DashboardColumn_60_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.DashboardColumn,{});editor_DashboardColumn_60_5_$1.itemId=net.jangaroo.ext.Exml.asString(Dashboard.CENTER_COLUMN_ITEM_ID);var box_61_5_$1=AS3.cast(Ext.Component,{});AS3.setBindable(box_61_5_$1,"width",
Dashboard.HORIZONTAL_WIDGET_DISTANCE);AS3.setBindable(box_61_5_$1,"height",1);var editor_DashboardColumn_63_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.DashboardColumn,{});editor_DashboardColumn_63_5_$1.itemId=net.jangaroo.ext.Exml.asString(Dashboard.RIGHT_COLUMN_ITEM_ID);var box_64_5_$1=AS3.cast(Ext.Component,{});AS3.setBindable(box_64_5_$1,"width",Dashboard.BORDER_WIDTH);AS3.setBindable(box_64_5_$1,"height",1);config_$1.items=[box_55_5_$1,editor_DashboardColumn_57_5_$1,box_58_5_$1,editor_DashboardColumn_60_5_$1,
box_61_5_$1,editor_DashboardColumn_63_5_$1,box_64_5_$1];var layout_Column_68_5_$1=AS3.cast(Ext.layout.container.Column,{});AS3.setBindable(config_$1,"layout",layout_Column_68_5_$1);var toolbar_71_5_$1=AS3.cast(Ext.toolbar.Toolbar,{});toolbar_71_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.WORKAREA.getSkin());var tbSpacer_73_9_$1=AS3.cast(Ext.toolbar.Spacer,{});AS3.setBindable(tbSpacer_73_9_$1,"width",12);var tbText_74_9_$1=AS3.cast(Ext.toolbar.TextItem,{});tbText_74_9_$1.flex=
1;AS3.setBindable(tbText_74_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard","tab_title")));tbText_74_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.WORKAREA.getSkin());var ui_IconButton_77_9_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_77_9_$1.itemId=net.jangaroo.ext.Exml.asString(Dashboard.ADD_WIDGET_BUTTON_ITEM_ID);AS3.setBindable(ui_IconButton_77_9_$1,"scale","medium");
ui_IconButton_77_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.WORKAREA.getSkin());AS3.setBindable(ui_IconButton_77_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard","header_addWidget_tooltip")));AS3.setBindable(ui_IconButton_77_9_$1,"tooltip",this.resourceManager.getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard","header_addWidget_tooltip"));AS3.setBindable(ui_IconButton_77_9_$1,"iconCls",
net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard","header_addWidget_icon")));AS3.setBindable(ui_IconButton_77_9_$1,"handler",AS3.bind(this,"addWidgetManually"));AS3.setBindable(ui_IconButton_77_9_$1,"hidden",com.coremedia.cms.editor.sdk.editorContext.getDashboardConfiguration().getManuallyCreatableTypes().length===0);toolbar_71_5_$1.items=[tbSpacer_73_9_$1,tbText_74_9_$1,ui_IconButton_77_9_$1];config_$1.tbar=toolbar_71_5_$1;var ui_DraggableItemsPlugin_90_5_$1=
AS3.cast(com.coremedia.ui.plugins.DraggableItemsPlugin,{});AS3.setBindable(ui_DraggableItemsPlugin_90_5_$1,"ddGroup","dashboardDDGroup");AS3.setBindable(ui_DraggableItemsPlugin_90_5_$1,"dropHandler",com.coremedia.cms.editor.sdk.dashboard.DashboardBase.onWidgetDrop);AS3.setBindable(ui_DraggableItemsPlugin_90_5_$1,"hideGhostWrapper",true);AS3.setBindable(ui_DraggableItemsPlugin_90_5_$1,"itemSelector",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.dashboard.WidgetWrapperBase.WIDGET_WRAPPER_BLOCK.getCSSSelector()));
AS3.setBindable(ui_DraggableItemsPlugin_90_5_$1,"handleSelector",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.dashboard.WidgetWrapperBase.WIDGET_ELEMENT_TOOLBAR.getCSSSelector()));AS3.setBindable(ui_DraggableItemsPlugin_90_5_$1,"ghostBuilder",this.getWidgetDragGhostBuilder());AS3.setBindable(ui_DraggableItemsPlugin_90_5_$1,"targetPlaceholderBuilder",this.getWidgetTargetPlaceholderBuilder());AS3.setBindable(ui_DraggableItemsPlugin_90_5_$1,"sourcePlaceholderBuilder",this.getWidgetSourcePlaceholderBuilder());
AS3.setBindable(ui_DraggableItemsPlugin_90_5_$1,"fallbackDropContainerFinder",AS3.bind(this,"columnFromEventFinder"));config_$1.plugins=[ui_DraggableItemsPlugin_90_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$8TNW(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.dashboard.DashboardBase",alias:"widget.com.coremedia.cms.editor.sdk.config.dashboard",constructor:Dashboard$,super$8TNW:function(){com.coremedia.cms.editor.sdk.dashboard.DashboardBase.prototype.constructor.apply(this,
arguments)},statics:{ADD_WIDGET_BUTTON_ITEM_ID:"addWidgetButton",LEFT_COLUMN_ITEM_ID:"left",CENTER_COLUMN_ITEM_ID:"center",RIGHT_COLUMN_ITEM_ID:"right",FIRST_COLUMN_CSS_CLASS:"dashboard-first-column",LAST_COLUMN_CSS_CLASS:"dashboard-last-column",BORDER_WIDTH:54,HORIZONTAL_WIDGET_DISTANCE:44},requires:["Ext.Component","Ext.layout.container.Column","Ext.toolbar.Spacer","Ext.toolbar.TextItem","Ext.toolbar.Toolbar","com.coremedia.cms.editor.sdk.dashboard.DashboardBase","com.coremedia.cms.editor.sdk.dashboard.Dashboard_properties",
"com.coremedia.ui.components.IconButton","com.coremedia.ui.plugins.DraggableItemsPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.PanelSkin","com.coremedia.ui.skins.ToolbarSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.dashboard.DashboardColumn","com.coremedia.cms.editor.sdk.dashboard.WidgetWrapperBase","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.WidgetWrapper",function(WidgetWrapper){function WidgetWrapper$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.WidgetWrapperBase,{});var defaults_$1=AS3.cast(WidgetWrapper,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.defaultFocus=net.jangaroo.ext.Exml.asString(com.coremedia.ui.util.createComponentSelector().focusable().build());var ui_BEMPlugin_39_5_$1=AS3.cast(com.coremedia.ui.plugins.BEMPlugin,
{});AS3.setBindable(ui_BEMPlugin_39_5_$1,"block",com.coremedia.cms.editor.sdk.dashboard.WidgetWrapperBase.WIDGET_WRAPPER_BLOCK);config_$1.plugins=[ui_BEMPlugin_39_5_$1];var panel_43_5_$1=AS3.cast(Ext.panel.Panel,{});panel_43_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.dashboard.WidgetWrapperBase.INNER_WRAPPER_ITEM_ID);panel_43_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.PanelSkin.WIDGET.getSkin());AS3.setBindable(panel_43_5_$1,"layout","fit");var ui_BEMPlugin_47_9_$1=
AS3.cast(com.coremedia.ui.plugins.BEMPlugin,{});AS3.setBindable(ui_BEMPlugin_47_9_$1,"block",com.coremedia.cms.editor.sdk.dashboard.WidgetWrapperBase.WIDGET_BLOCK);AS3.setBindable(ui_BEMPlugin_47_9_$1,"modifier",this.getModifierVE());panel_43_5_$1.plugins=[ui_BEMPlugin_47_9_$1];var container_51_9_$1=AS3.cast(Ext.container.Container,{});container_51_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.dashboard.WidgetWrapperBase.DELEGATE_CONTAINER_ITEM_ID);AS3.setBindable(container_51_9_$1,
"layout","fit");panel_43_5_$1.items=[container_51_9_$1];var toolbar_55_9_$1=AS3.cast(Ext.toolbar.Toolbar,{});toolbar_55_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.dashboard.WidgetWrapperBase.TOOLBAR_ITEM_ID);toolbar_55_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.WIDGET_HEADER.getSkin());var ui_BEMMixin_58_13_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,{});AS3.setBindable(ui_BEMMixin_58_13_$1,"bemElement",com.coremedia.cms.editor.sdk.dashboard.WidgetWrapperBase.WIDGET_ELEMENT_TOOLBAR);
delete ui_BEMMixin_58_13_$1["xtype"];delete ui_BEMMixin_58_13_$1["xclass"];net.jangaroo.ext.Exml.apply(toolbar_55_9_$1,ui_BEMMixin_58_13_$1);var component_61_13_$1=AS3.cast(Ext.Component,{});AS3.setBindable(component_61_13_$1,"width","16px");AS3.setBindable(component_61_13_$1,"margin","0 0 0 6");component_61_13_$1.renderTpl=com.coremedia.cms.editor.sdk.dashboard.WidgetWrapperBase.dragIconTemplate;var ui_BEMMixin_65_17_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,{});AS3.setBindable(ui_BEMMixin_65_17_$1,
"bemElement",com.coremedia.cms.editor.sdk.dashboard.WidgetWrapperBase.WIDGET_ELEMENT_ICON);delete ui_BEMMixin_65_17_$1["xtype"];delete ui_BEMMixin_65_17_$1["xclass"];net.jangaroo.ext.Exml.apply(component_61_13_$1,ui_BEMMixin_65_17_$1);var tbText_68_13_$1=AS3.cast(Ext.toolbar.TextItem,{});tbText_68_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.dashboard.WidgetWrapperBase.LABEL_ITEM_ID);AS3.setBindable(tbText_68_13_$1,"text",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,
"title","DUMMY")));tbText_68_13_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.WIDGET_HEADER.getSkin());tbText_68_13_$1.flex=1;var ui_BEMMixin_73_17_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,{});AS3.setBindable(ui_BEMMixin_73_17_$1,"bemElement",com.coremedia.cms.editor.sdk.dashboard.WidgetWrapperBase.WIDGET_ELEMENT_TITLE);delete ui_BEMMixin_73_17_$1["xtype"];delete ui_BEMMixin_73_17_$1["xclass"];net.jangaroo.ext.Exml.apply(tbText_68_13_$1,ui_BEMMixin_73_17_$1);var ui_IconButton_76_13_$1=
AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_76_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.dashboard.WidgetWrapperBase.EDIT_BUTTON_ITEM_ID);ui_IconButton_76_13_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE_INVERTED.getSkin());AS3.setBindable(ui_IconButton_76_13_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","pencil")));AS3.setBindable(ui_IconButton_76_13_$1,
"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard","Widget_Button_Edit_tooltip_text")));AS3.setBindable(ui_IconButton_76_13_$1,"tooltip",this.resourceManager.getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard","Widget_Button_Edit_tooltip_text"));AS3.setBindable(ui_IconButton_76_13_$1,"handler",AS3.bind(this,"toggleEditMode"));toolbar_55_9_$1.items=[component_61_13_$1,tbText_68_13_$1,ui_IconButton_76_13_$1];var component_84_13_$1=
AS3.cast(Ext.Component,{});var ui_BEMMixin_86_17_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,{});AS3.setBindable(ui_BEMMixin_86_17_$1,"bemElement",com.coremedia.cms.editor.sdk.dashboard.WidgetWrapperBase.WIDGET_ELEMENT_TOOL);delete ui_BEMMixin_86_17_$1["xtype"];delete ui_BEMMixin_86_17_$1["xclass"];net.jangaroo.ext.Exml.apply(component_84_13_$1,ui_BEMMixin_86_17_$1);toolbar_55_9_$1["defaultType"]=component_84_13_$1["xtype"];delete component_84_13_$1["xtype"];delete component_84_13_$1["xclass"];
toolbar_55_9_$1.defaults=component_84_13_$1;panel_43_5_$1.tbar=toolbar_55_9_$1;config_$1.items=[panel_43_5_$1];var editor_WidgetSeparator_95_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.WidgetSeparator,{});editor_WidgetSeparator_95_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.dashboard.WidgetWrapperBase.SEPARATOR_ITEM_ID);AS3.setBindable(editor_WidgetSeparator_95_5_$1,"dock","bottom");config_$1.dockedItems=[editor_WidgetSeparator_95_5_$1];net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$MTBx(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.dashboard.WidgetWrapperBase",alias:"widget.com.coremedia.cms.editor.sdk.config.widgetWrapper",constructor:WidgetWrapper$,super$MTBx:function(){com.coremedia.cms.editor.sdk.dashboard.WidgetWrapperBase.prototype.constructor.apply(this,arguments)},config:{widgetState:null,edit:false},requires:["Ext.Component","Ext.container.Container","Ext.panel.Panel","Ext.toolbar.TextItem","Ext.toolbar.Toolbar","com.coremedia.cms.editor.sdk.dashboard.Dashboard_properties",
"com.coremedia.cms.editor.sdk.dashboard.WidgetWrapperBase","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.components.IconButton","com.coremedia.ui.plugins.BEMMixin","com.coremedia.ui.plugins.BEMPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.PanelSkin","com.coremedia.ui.skins.ToolbarSkin","com.coremedia.ui.util.createComponentSelector","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.dashboard.WidgetSeparator"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.ToggleDashboardAction",function(ToggleDashboardAction){function ToggleDashboardAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.ToggleDashboardActionBase,{});var defaults_$1=AS3.cast(ToggleDashboardAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$sTb2(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.dashboard.ToggleDashboardActionBase",
constructor:ToggleDashboardAction$,super$sTb2:function(){com.coremedia.cms.editor.sdk.dashboard.ToggleDashboardActionBase.prototype.constructor.apply(this,arguments)},statics:{ACTION_ID:"toggleDashboardAction"},requires:["com.coremedia.cms.editor.sdk.dashboard.ToggleDashboardActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.WidgetSeparatorBase",function(WidgetSeparatorBase){function WidgetSeparatorBase$(config){if(arguments.length<=0)config=null;this.super$c4E_(config)}function addWidget(){if(mayAdd$static()){var column=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.DashboardColumn,this.findParentByType(com.coremedia.cms.editor.sdk.dashboard.DashboardColumn.xtype));var widgetWrp=AS3.as(this.findParentByType(com.coremedia.cms.editor.sdk.dashboard.WidgetWrapper.xtype),
com.coremedia.cms.editor.sdk.dashboard.WidgetWrapper);var widget=column.insertWidgetAfter(null,widgetWrp?widgetWrp:this);widget&&widget.focus()}}function mayAdd$static(){return com.coremedia.cms.editor.sdk.editorContext.getDashboardConfiguration().getManuallyCreatableTypes().length>0}return{extend:"Ext.button.Button",constructor:WidgetSeparatorBase$,super$c4E_:function(){Ext.button.Button.prototype.constructor.apply(this,arguments)},addWidget:addWidget,requires:["Ext.button.Button"],uses:["com.coremedia.cms.editor.sdk.dashboard.DashboardColumn",
"com.coremedia.cms.editor.sdk.dashboard.WidgetWrapper","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.ConfigureDashboardPluginBase",function(ConfigureDashboardPluginBase){function ConfigureDashboardPluginBase$(config){if(arguments.length<=0)config=null;this.replace$sax6=AS3.getBindable(config,"replace");this.widgets$sax6=AS3.getBindable(config,"widgets");this.types$sax6=AS3.getBindable(config,"types")}function init(editorContext){var masterConfiguration=editorContext.getDashboardConfiguration();if(this.replace$sax6){AS3.getBindable(masterConfiguration,
"widgets").length=0;AS3.getBindable(masterConfiguration,"types").length=0}if(this.widgets$sax6&&this.widgets$sax6.length>0){var firstWidgetState=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.WidgetState,this.widgets$sax6[0]);if(firstWidgetState.column===undefined||firstWidgetState.column===null)firstWidgetState["column"]=0;for(var i=0;i<this.widgets$sax6.length;i++)AS3.getBindable(masterConfiguration,"widgets").push(this.widgets$sax6[i])}if(this.types$sax6&&this.types$sax6.length>0)for(var j=0;j<
this.types$sax6.length;j++)AS3.getBindable(masterConfiguration,"types").push(this.types$sax6[j])}return{mixins:["com.coremedia.cms.editor.sdk.EditorPlugin"],metadata:{"":["PublicApi"]},replace$sax6:false,widgets$sax6:null,types$sax6:null,constructor:ConfigureDashboardPluginBase$,init:init,requires:["com.coremedia.cms.editor.sdk.EditorPlugin"],uses:["com.coremedia.cms.editor.sdk.dashboard.WidgetState"]}});Ext.define("com.coremedia.cms.editor.sdk.dashboard.WidgetEditorWrapper",function(WidgetEditorWrapper){function WidgetEditorWrapper$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.WidgetEditorWrapperBase,{});var defaults_$1=AS3.cast(WidgetEditorWrapper,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"layout","fit");AS3.setBindable(config_$1,"height",1);var container_43_5_$1=AS3.cast(Ext.container.Container,
{});container_43_5_$1.itemId=net.jangaroo.ext.Exml.asString(this.EDITOR_WRAPPER_MAIN_BODY);AS3.setBindable(container_43_5_$1,"scrollable",true);var container_46_9_$1=AS3.cast(Ext.container.Container,{});AS3.setBindable(container_46_9_$1,"region","north");var ui_LocalComboBox_48_13_$1=AS3.cast(com.coremedia.ui.components.LocalComboBox,{});AS3.setBindable(ui_LocalComboBox_48_13_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard",
"WidgetType_text")));ui_LocalComboBox_48_13_$1.itemId=net.jangaroo.ext.Exml.asString(WidgetEditorWrapper.WIDGET_TYPE_SELECTOR);AS3.setBindable(ui_LocalComboBox_48_13_$1,"encodeItems",true);ui_LocalComboBox_48_13_$1.anchor="100%";AS3.setBindable(ui_LocalComboBox_48_13_$1,"store",com.coremedia.cms.editor.sdk.dashboard.WidgetEditorWrapperBase.getWidgetTypesStore());var ui_BindPropertyPlugin_55_17_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_55_17_$1.bidirectional=
true;var ui_ValueExpression_57_21_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_57_21_$1,"context",AS3.getBindable(config,"model"));AS3.setBindable(ui_ValueExpression_57_21_$1,"expression",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.dashboard.WidgetWrapperBase.WIDGET_TYPE_ID_MODEL_PROPERTY));ui_BindPropertyPlugin_55_17_$1.bindTo=new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_57_21_$1);var ui_BindVisibilityPlugin_65_17_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,
{});var ui_ValueExpression_67_21_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_67_21_$1,"context",AS3.getBindable(config,"model"));AS3.setBindable(ui_ValueExpression_67_21_$1,"expression",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.dashboard.WidgetWrapperBase.MANUALLY_CREATABLE_PROPERTY));ui_BindVisibilityPlugin_65_17_$1.bindTo=new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_67_21_$1);ui_LocalComboBox_48_13_$1.plugins=[ui_BindPropertyPlugin_55_17_$1,
ui_BindVisibilityPlugin_65_17_$1];ui_LocalComboBox_48_13_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var boundList_73_17_$1=AS3.cast(Ext.view.BoundList,{});AS3.setBindable(boundList_73_17_$1,"minWidth",this.getMaxWidgetTypeWidth()+26);ui_LocalComboBox_48_13_$1.listConfig=boundList_73_17_$1;container_46_9_$1.items=[ui_LocalComboBox_48_13_$1];var layout_Anchor_78_13_$1=AS3.cast(Ext.layout.container.Anchor,{});AS3.setBindable(container_46_9_$1,"layout",layout_Anchor_78_13_$1);var container_81_9_$1=
AS3.cast(Ext.container.Container,{});AS3.setBindable(container_81_9_$1,"region","center");container_81_9_$1.itemId=net.jangaroo.ext.Exml.asString(this.EDITOR_CONTAINER);container_43_5_$1.items=[container_46_9_$1,container_81_9_$1];var ui_VerticalSpacingPlugin_85_9_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});container_43_5_$1.plugins=[ui_VerticalSpacingPlugin_85_9_$1];config_$1.items=[container_43_5_$1];var toolbar_90_5_$1=AS3.cast(Ext.toolbar.Toolbar,{});AS3.setBindable(toolbar_90_5_$1,
"dock","bottom");toolbar_90_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.EMBEDDED_FOOTER_GRID_100.getSkin());var layout_HBox_93_9_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_93_9_$1,"pack","end");AS3.setBindable(toolbar_90_5_$1,"layout",layout_HBox_93_9_$1);var button_96_9_$1=AS3.cast(Ext.button.Button,{});button_96_9_$1.itemId=net.jangaroo.ext.Exml.asString(WidgetEditorWrapper.SAVE_BUTTON);button_96_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_PRIMARY.getSkin());
AS3.setBindable(button_96_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard","Action_saveWidget_text")));AS3.setBindable(button_96_9_$1,"handler",AS3.bind(this,"saveWidget"));var button_101_9_$1=AS3.cast(Ext.button.Button,{});button_101_9_$1.itemId=net.jangaroo.ext.Exml.asString(WidgetEditorWrapper.REMOVE_BUTTON);button_101_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_SECONDARY.getSkin());
AS3.setBindable(button_101_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.dashboard.Dashboard","Action_removeWidget_text")));AS3.setBindable(button_101_9_$1,"handler",AS3.bind(this,"removeWidget"));toolbar_90_5_$1.items=[button_96_9_$1,button_101_9_$1];config_$1.dockedItems=[toolbar_90_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$HDRE(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.dashboard.WidgetEditorWrapperBase",
alias:"widget.com.coremedia.cms.editor.sdk.config.widgetEditorWrapper",constructor:WidgetEditorWrapper$,super$HDRE:function(){com.coremedia.cms.editor.sdk.dashboard.WidgetEditorWrapperBase.prototype.constructor.apply(this,arguments)},statics:{WIDGET_TYPE_SELECTOR:"widgetTypeSelector",REMOVE_BUTTON:"removeButton",SAVE_BUTTON:"saveButton"},requires:["Ext.button.Button","Ext.container.Container","Ext.layout.container.Anchor","Ext.layout.container.HBox","Ext.toolbar.Toolbar","Ext.view.BoundList","com.coremedia.cms.editor.sdk.dashboard.Dashboard_properties",
"com.coremedia.cms.editor.sdk.dashboard.WidgetEditorWrapperBase","com.coremedia.ui.components.LocalComboBox","com.coremedia.ui.exml.ValueExpression","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.BindVisibilityPlugin","com.coremedia.ui.plugins.VerticalSpacingPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.ToolbarSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.dashboard.WidgetWrapperBase"]}});Ext.define("com.coremedia.cms.editor.sdk.workflow.ProblemDescriptionButtonBase",function(ProblemDescriptionButtonBase){var CONTENT_ATTRIBUTE$static="data-content";var CONTENT_LINK_PATTERN$static;function CONTENT_LINK_PATTERN$static_(){CONTENT_LINK_PATTERN$static='\x3ca href\x3d"#" '+CONTENT_ATTRIBUTE$static+'\x3d"{0}"\x3e{1}\x3c/a\x3e'}function ProblemDescriptionButtonBase$(config){if(arguments.length<=0)config=null;this.super$NgsL(config);this.problemDescriptionValueExpression$NgsL=AS3.getBindable(config,
"problemDescriptionValueExpression");this.problemDescriptionValueExpression$NgsL.addChangeListener(AS3.bind(this,"updateLinkText$NgsL"));this.on("afterrender",AS3.bind(this,"updateLinkText$NgsL"))}function beforeDestroy(){this.problemDescriptionValueExpression$NgsL.removeChangeListener(AS3.bind(this,"updateLinkText$NgsL"));Ext.view.View.prototype.beforeDestroy.call(this)}function handleClick(e,t,eOpts){var contentUriPath=AS3.as(e.getTarget().getAttribute(CONTENT_ATTRIBUTE$static),String);if(contentUriPath){var content=
com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getContent(contentUriPath);if(content)if(content.isFolder()){var state=new com.coremedia.cms.editor.sdk.collectionview.RepositoryState;state.folder=content;com.coremedia.cms.editor.sdk.editorContext.getCollectionViewManager().openRepository(state)}else com.coremedia.cms.editor.sdk.editorContext.getContentTabManager().openDocument(content)}}function updateLinkText(){var this$=this;if(!this.rendered)return;if(!this.problemDescriptionValueExpression$NgsL){this.updateButtonText$NgsL("");
return}var problemDescription=AS3.as(this.problemDescriptionValueExpression$NgsL.getValue(),com.coremedia.ui.data.ProblemDescription);if(!problemDescription){this.updateButtonText$NgsL("");return}var pattern=getErrorCodeLocalization$static(problemDescription.code,"text");this.convertArguments$NgsL(problemDescription.arguments,function(patternValues){var argArray=[pattern].concat(patternValues);this$.updateButtonText$NgsL(Ext.String.format.apply(this,argArray))})}function updateButtonText(text){var data=
{"text":text};this.tpl.overwrite(this.getEl(),data);if(!this.listenerAttached$NgsL){var linkEl=this.getEl().selectNode("a",false);if(linkEl){linkEl.on("click",AS3.bind(this,"handleClick$NgsL"));this.listenerAttached$NgsL=true}}this.updateLayout()}function getErrorCodeLocalization$static(errorCode,suffix){var escapedErrorCode=errorCode.replace(/-/g,"_");return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.ErrorCodes","ErrorCode_"+escapedErrorCode+"_"+suffix)||errorCode}
function convertArguments(args,callback){var contents=args.filter(function(o){return AS3.is(o,com.coremedia.ui.data.RemoteBean)});com.coremedia.ui.data.RemoteBeanUtil.loadAll(function(){callback(args.map(convertArgument$static))},contents)}function convertArgument$static(o){if(AS3.is(o,String))return String(o);else if(AS3.is(o,Number))return String(o);else if(AS3.is(o,com.coremedia.cap.content.Content)){var contentLink=createContentLink$static(AS3.cast(com.coremedia.cap.content.Content,o));return contentLink}else if(AS3.is(o,
com.coremedia.cap.content.ContentType)){var contentTypeName=AS3.cast(com.coremedia.cap.content.ContentType,o).getName();return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.ContentTypes",contentTypeName+"_text")||contentTypeName}else if(AS3.is(o,com.coremedia.ui.data.RemoteBean))return AS3.cast(com.coremedia.ui.data.RemoteBean,o).getUriPath();else return null}function createContentLink$static(content){var contentLink=Ext.String.format(CONTENT_LINK_PATTERN$static,content.getUriPath(),
com.coremedia.ui.util.EncodingUtil.encodeForHTML(content.getName()));return contentLink}return{extend:"Ext.view.View",problemDescriptionValueExpression$NgsL:null,listenerAttached$NgsL:false,constructor:ProblemDescriptionButtonBase$,super$NgsL:function(){Ext.view.View.prototype.constructor.apply(this,arguments)},beforeDestroy:beforeDestroy,handleClick$NgsL:handleClick,updateLinkText$NgsL:updateLinkText,updateButtonText$NgsL:updateButtonText,convertArguments$NgsL:convertArguments,statics:{CONTENT_LINK_PATTERN:undefined,
__initStatics__:function(){CONTENT_LINK_PATTERN$static_()}},requires:["Ext.String","Ext.view.View","com.coremedia.cap.common.SESSION","com.coremedia.cap.content.Content","com.coremedia.cap.content.ContentType","com.coremedia.cms.editor.ContentTypes_properties","com.coremedia.cms.editor.ErrorCodes_properties","com.coremedia.ui.data.ProblemDescription","com.coremedia.ui.data.RemoteBean","com.coremedia.ui.data.RemoteBeanUtil","com.coremedia.ui.util.EncodingUtil","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.collectionview.RepositoryState",
"com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.workflow.ProblemDescriptionButton",function(ProblemDescriptionButton){function ProblemDescriptionButton$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.workflow.ProblemDescriptionButtonBase,{});var defaults_$1=AS3.cast(ProblemDescriptionButton,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.itemSelector="div";config_$1.tpl=new Ext.Template("\x3cdiv\x3e","{text}","\x3c/div\x3e");net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$wYIa(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.workflow.ProblemDescriptionButtonBase",alias:"widget.com.coremedia.cms.editor.sdk.config.problemDescriptionButton",constructor:ProblemDescriptionButton$,super$wYIa:function(){com.coremedia.cms.editor.sdk.workflow.ProblemDescriptionButtonBase.prototype.constructor.apply(this,arguments)},config:{problemDescriptionValueExpression:null},requires:["Ext.Template","com.coremedia.cms.editor.sdk.workflow.ProblemDescriptionButtonBase",
"net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.plugins.ColumnState",function(ColumnState){function ColumnState$(){this.super$nyEp()}return{extend:"joo.JavaScriptObject",id:null,dataIndex:null,hidden:false,super$nyEp:function(){joo.JavaScriptObject.prototype.constructor.apply(this,arguments)},constructor:ColumnState$,requires:["joo.JavaScriptObject"]}});Ext.define("com.coremedia.cms.editor.sdk.plugins.AriaLabelPlugin",function(AriaLabelPlugin){function AriaLabelPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.plugins.AriaLabelPluginBase,{});var defaults_$1=AS3.cast(AriaLabelPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$AyjM(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.plugins.AriaLabelPluginBase",metadata:{"":["PublicApi"]},
constructor:AriaLabelPlugin$,super$AyjM:function(){com.coremedia.cms.editor.sdk.plugins.AriaLabelPluginBase.prototype.constructor.apply(this,arguments)},config:{parent:null,parentProperty:null,suffix:null,overrideLabel:false},requires:["com.coremedia.cms.editor.sdk.plugins.AriaLabelPluginBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.plugins.AriaLabelPluginBase",function(AriaLabelPluginBase){function properties_(){this.properties$AQj7=[]}function AriaLabelPluginBase$(config){properties_.call(this);if(arguments.length<=0)config=null;this.parent$AQj7=AS3.getBindable(config,"parent");this.suffix$AQj7=AS3.getBindable(config,"suffix")||"";if(AS3.getBindable(config,"overrideLabel")!==null&&AS3.getBindable(config,"overrideLabel")!==undefined)this.overrideLabel$AQj7=AS3.getBindable(config,"overrideLabel");
this.properties$AQj7.push(AS3.getBindable(config,"parentProperty"));this.properties$AQj7.push("ariaLabel");this.properties$AQj7.push("title")}function init(component){this.component$AQj7=component;if(!component.ariaLabel||this.overrideLabel$AQj7)this.component$AQj7.addListener("afterrender",AS3.bind(this,"componentRendered$AQj7"))}function componentRendered(){this.component$AQj7.removeListener("afterrender",AS3.bind(this,"componentRendered$AQj7"));var parentComponent=null;if(!this.parent$AQj7)parentComponent=
this.component$AQj7;else if(AS3.as(this.parent$AQj7,String))parentComponent=this.component$AQj7.findParentByType(this.parent$AQj7);else if(AS3.as(this.parent$AQj7,Function))parentComponent=AS3.as(this.parent$AQj7,Function).call(null);if(parentComponent)for(var $1=0;$1<this.properties$AQj7.length;++$1){var property=this.properties$AQj7[$1];if(this.setAriaLabelFor$AQj7(parentComponent,property))return}Ext["ariaWarn"]("No aria label set for "+this.component$AQj7.xtype+" with itemId '"+AS3.getBindable(this.component$AQj7,
"itemId","DUMMY")+"'")}function setAriaLabelFor(parent,property){if(property){var label=parent[property];if(label){this.component$AQj7.getEl().dom.setAttribute("aria-label",Ext.String.trim(label+" "+this.suffix$AQj7));return true}}return false}return{mixins:["ext.Plugin"],component$AQj7:null,parent$AQj7:null,suffix$AQj7:null,overrideLabel$AQj7:true,constructor:AriaLabelPluginBase$,init:init,componentRendered$AQj7:componentRendered,setAriaLabelFor$AQj7:setAriaLabelFor,requires:["Ext","Ext.String",
"ext.Plugin"]}});Ext.define("com.coremedia.cms.editor.sdk.plugins.OnlyIf",function(OnlyIf){function OnlyIf$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.plugins.OnlyIfBase,{});var defaults_$1=AS3.cast(OnlyIf,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$e2eH(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.plugins.OnlyIfBase",metadata:{"":["PublicApi"]},constructor:OnlyIf$,super$e2eH:function(){com.coremedia.cms.editor.sdk.plugins.OnlyIfBase.prototype.constructor.apply(this,
arguments)},config:{isAdministrator:false,isMemberOf:null,isNotMemberOf:null,condition:null,then:null,otherwise:null},requires:["com.coremedia.cms.editor.sdk.plugins.OnlyIfBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.plugins.EnableStateBasedPublicationButtonsPlugin",function(EnableStateBasedPublicationButtonsPlugin){function EnableStateBasedPublicationButtonsPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.plugins.EnableStateBasedPublicationButtonsPluginBase,{});var defaults_$1=AS3.cast(EnableStateBasedPublicationButtonsPlugin,{});AS3.setBindable(defaults_$1,"adminOnly",false);config=net.jangaroo.ext.Exml.apply(defaults_$1,
config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$JGuL(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.plugins.EnableStateBasedPublicationButtonsPluginBase",metadata:{"":["PublicApi"]},constructor:EnableStateBasedPublicationButtonsPlugin$,super$JGuL:function(){com.coremedia.cms.editor.sdk.plugins.EnableStateBasedPublicationButtonsPluginBase.prototype.constructor.apply(this,arguments)},config:{adminOnly:false},requires:["com.coremedia.cms.editor.sdk.plugins.EnableStateBasedPublicationButtonsPluginBase",
"net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.plugins.ConfigureListViewPlugin",function(ConfigureListViewPlugin){function ConfigureListViewPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.plugins.ConfigureListViewPluginBase,{});var defaults_$1=AS3.cast(ConfigureListViewPlugin,{});AS3.setBindable(defaults_$1,"instanceName","defaultCollectionViewList");config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);
this.super$skBK(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.plugins.ConfigureListViewPluginBase",metadata:{"":["PublicApi"]},constructor:ConfigureListViewPlugin$,super$skBK:function(){com.coremedia.cms.editor.sdk.plugins.ConfigureListViewPluginBase.prototype.constructor.apply(this,arguments)},config:{listViewDataFields:null,listViewColumns:null,repositoryListViewColumns:null,instanceName:null,searchListViewColumns:null},requires:["com.coremedia.cms.editor.sdk.plugins.ConfigureListViewPluginBase",
"net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.plugins.OnlyIfBase",function(OnlyIfBase){function OnlyIfBase$(config){if(arguments.length<=0)config=null;this.isAdministrator$YZI2=AS3.getBindable(config,"isAdministrator");this.isMemberOf$YZI2=AS3.getBindable(config,"isMemberOf");this.isNotMemberOf$YZI2=AS3.getBindable(config,"isNotMemberOf");this.condition$YZI2=AS3.getBindable(config,"condition");this.then$YZI2=AS3.getBindable(config,"then");this.otherwise$YZI2=AS3.getBindable(config,"otherwise");this.super$YZI2(config)}
function init(component){var execute=true;if(this.isAdministrator$YZI2!==undefined)execute=execute&&com.coremedia.cap.common.SESSION.getUser().isAdministrative()===this.isAdministrator$YZI2;if(this.isMemberOf$YZI2||this.isNotMemberOf$YZI2){var isMemberOfArray=(this.isMemberOf$YZI2||"").split(",");var isNotMemberOfArray=(this.isNotMemberOf$YZI2||"").split(",");var groups=AS3.cast(com.coremedia.cap.user.impl.UserImpl,com.coremedia.cap.common.SESSION.getUser()).getGroups();var isMember=false;for(var i=
0;i<groups.length;i++){var group=groups[i];var domain=group.getDomain();var nameAtDomain=group.getName()+(domain?"@"+domain:"");isMember=isMember||isMemberOfArray.indexOf(nameAtDomain)!==-1;if(this.isNotMemberOf$YZI2)execute=execute&&isNotMemberOfArray.indexOf(nameAtDomain)===-1}if(this.isMemberOf$YZI2)execute=execute&&isMember}if(this.condition$YZI2)execute=execute&&this.condition$YZI2(component);if(execute)this.executePlugin$YZI2(this.then$YZI2,component);else this.executePlugin$YZI2(this.otherwise$YZI2,
component)}function executePlugin(pluginCfg,component){if(pluginCfg){var plugin=AS3.as(pluginCfg,ext.Plugin);if(!plugin){com.coremedia.ui.logging.Logger.error("cannot instantiate plugin from config "+com.coremedia.ui.util.ObjectUtils.toJson(pluginCfg));return}if(!plugin["isInstance"])plugin=AS3.as(Ext.create(pluginCfg),ext.Plugin);plugin.init(component)}}return{extend:"Ext.plugin.Abstract",metadata:{"":["PublicApi"]},isAdministrator$YZI2:false,isMemberOf$YZI2:null,isNotMemberOf$YZI2:null,condition$YZI2:null,
then$YZI2:null,otherwise$YZI2:null,constructor:OnlyIfBase$,super$YZI2:function(){Ext.plugin.Abstract.prototype.constructor.apply(this,arguments)},init:init,executePlugin$YZI2:executePlugin,requires:["Ext","Ext.plugin.Abstract","com.coremedia.cap.common.SESSION","com.coremedia.cap.user.impl.UserImpl","com.coremedia.ui.logging.Logger","com.coremedia.ui.util.ObjectUtils","ext.Plugin"]}});Ext.define("com.coremedia.cms.editor.sdk.plugins.AddDocumentFormsPluginBase",function(AddDocumentFormsPluginBase){function AddDocumentFormsPluginBase$(config){if(arguments.length<=0)config=null;this.documentForms$o57V=com.coremedia.ui.util.ArrayUtils.asArray(AS3.getBindable(config,"documentForms"))}function init(component){var container=AS3.as(component,com.coremedia.cms.editor.sdk.premular.DocumentFormDispatcher)||AS3.as(component,com.coremedia.cms.editor.sdk.premular.DocumentMetaDataFormDispatcher);
if(container)com.coremedia.cms.editor.sdk.plugins.DocumentFormPluginHelper.addOrReplaceItems(container,this.documentForms$o57V);else com.coremedia.ui.logging.Logger.error("AddDocumentFormsPlugin can only configure a documentFormDispatcher or a documentMetaDataFormDispatcher, "+"but was used with a "+component.xtype)}return{mixins:["ext.Plugin"],documentForms$o57V:null,constructor:AddDocumentFormsPluginBase$,init:init,requires:["com.coremedia.ui.logging.Logger","com.coremedia.ui.util.ArrayUtils","ext.Plugin"],
uses:["com.coremedia.cms.editor.sdk.plugins.DocumentFormPluginHelper","com.coremedia.cms.editor.sdk.premular.DocumentFormDispatcher","com.coremedia.cms.editor.sdk.premular.DocumentMetaDataFormDispatcher"]}});Ext.define("com.coremedia.cms.editor.sdk.plugins.EnableStateBasedPublicationButtonsPluginBase",function(EnableStateBasedPublicationButtonsPluginBase){function EnableStateBasedPublicationButtonsPluginBase$(config){if(arguments.length<=0)config=null;this.adminOnly$NNQ6=AS3.getBindable(config,"adminOnly")||false}function init(editorContext){if(this.adminOnly$NNQ6&&!com.coremedia.cap.common.SESSION.getUser().isAdministrative())return;AS3.cast(com.coremedia.cms.editor.sdk.EditorContextImpl,editorContext).enableStateBasedPublication()}
return{mixins:["com.coremedia.cms.editor.sdk.EditorPlugin"],metadata:{"":["PublicApi"]},adminOnly$NNQ6:false,constructor:EnableStateBasedPublicationButtonsPluginBase$,init:init,requires:["com.coremedia.cap.common.SESSION","com.coremedia.cms.editor.sdk.EditorPlugin"],uses:["com.coremedia.cms.editor.sdk.EditorContextImpl"]}});Ext.define("com.coremedia.cms.editor.sdk.plugins.TabExpandPlugin",function(TabExpandPlugin){var EXPAND_TITLE$static="\x26middot;\x26nbsp;\x26middot;\x26nbsp;\x26middot;";var EXPAND_BUTTON_ITEM_ID$static="expandButton";function hiddenTabs_(){this.hiddenTabs$nwjw=[]}function TabExpandPlugin$(config){if(arguments.length<=0)config=null;config.pluginId="tabExpandPlugin";AS3.setBindable(this,"tabs",AS3.getBindable(config,"tabs"));this.super$nwjw(config);hiddenTabs_.call(this)}function init(component){this.tabPanel$nwjw=
AS3.as(component,Ext.tab.Panel);this.settingsChangedVE$nwjw=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.SHOW_ALL_TABS_IN_FORM,com.coremedia.cms.editor.sdk.editorContext.getPreferences());this.settingsChangedVE$nwjw.addChangeListener(AS3.bind(this,"settingsChanged$nwjw"));if(!TabExpandPlugin.ADVANCED_TABS_ENABLED)return;this.tabPanel$nwjw.addListener("beforedestroy",AS3.bind(this,"tabsDestroyed$nwjw"));this.tabPanel$nwjw["originalSetActiveTab"]=
this.tabPanel$nwjw["setActiveTab"];this.tabPanel$nwjw["setActiveTab"]=AS3.bind(this,"setActiveTabConsideringHidden$nwjw");this.tabPanel$nwjw.addListener("afterrender",AS3.bind(this,"refresh"))}function refresh(){this.tabPanel$nwjw.addListener("afterrender",AS3.bind(this,"refresh"));if(!TabExpandPlugin.ADVANCED_TABS_ENABLED)return;this.collapsedMode$nwjw=false;if(this.expandButton$nwjw)this.tabPanel$nwjw.remove(this.expandButton$nwjw,true);this.tabPanelRendered$nwjw()}function setActiveTabConsideringHidden(tab){var hasHiddenTabs=
this.tabPanel$nwjw.queryById(EXPAND_BUTTON_ITEM_ID$static)!==null;if(hasHiddenTabs)if(AS3.is(tab,Number)&&AS3.as(tab,Number)>this.tabPanel$nwjw.itemCollection.getCount()-2)this.tabChanged$nwjw(this.tabPanel$nwjw,this.expandButton$nwjw);else if(AS3.is(tab,Ext.panel.Panel)){var filteredHiddenTabs=this.hiddenTabs$nwjw.filter(function(hiddenTab){return tab.title===AS3.getBindable(hiddenTab,"title","DUMMY")});if(filteredHiddenTabs.length>0){this.tabChanged$nwjw(this.tabPanel$nwjw,this.expandButton$nwjw);
tab=AS3.cast(Ext.panel.Panel,this.tabPanel$nwjw.itemCollection.findBy(function(realTab){return AS3.getBindable(realTab,"title","DUMMY")===tab.title}))}}this.tabPanel$nwjw["originalSetActiveTab"](tab)}function tabPanelRendered(){this.tabPanel$nwjw.removeListener("tabchange",AS3.bind(this,"tabPanelRendered$nwjw"));this.hiddenTabs$nwjw=this.tabPanel$nwjw.itemCollection.filter("autoHide",true).getRange();if(this.hiddenTabs$nwjw.length>0)this.collapseMode$nwjw();var tabBar=this.tabPanel$nwjw.getTabBar();
if(tabBar.rendered){tabBar.getEl().on("mouseenter",AS3.bind(this,"onTabBarMouseEnter$nwjw"));tabBar.getEl().on("mouseleave",AS3.bind(this,"onTabBarMouseLeave$nwjw"))}}function onTabBarMouseLeave(){this.tabBarHovered$nwjw=false;this.onMouseOut$nwjw()}function onTabBarMouseEnter(){this.tabBarHovered$nwjw=true}function settingsChanged(ve){var this$=this;this.selectedTab$nwjw=this.tabPanel$nwjw.getActiveTab();if(ve.getValue()){this.collapsedMode$nwjw=true;this.tabPanel$nwjw.removeListener("tabchange",
AS3.bind(this,"tabChanged$nwjw"));if(!this.selectedTab$nwjw.autoHide){this.tabPanel$nwjw.remove(this.expandButton$nwjw,true);this.hiddenTabs$nwjw.forEach(function(hiddenTab){this$.tabPanel$nwjw.add(hiddenTab)});this.tabPanel$nwjw.setActiveTab(this.selectedTab$nwjw)}}else{this.collapsedMode$nwjw=false;if(this.selectedTab$nwjw.autoHide)this.tabPanel$nwjw.addListener("tabchange",AS3.bind(this,"tabChanged$nwjw"));else this.collapseMode$nwjw()}}function collapseMode(){var this$=this;if(this.collapsedMode$nwjw)return;
var showAllTabs=com.coremedia.cms.editor.sdk.editorContext.getPreferences().get(com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.SHOW_ALL_TABS_IN_FORM);if(showAllTabs)return;this.tabPanel$nwjw.removeListener("tabchange",AS3.bind(this,"tabChanged$nwjw"));Ext.each(this.hiddenTabs$nwjw,function(tab){this$.tabPanel$nwjw.remove(tab,false)});var expandButtonConfig=AS3.cast(Ext.panel.Panel,{});AS3.setBindable(expandButtonConfig,"title",EXPAND_TITLE$static);expandButtonConfig.itemId=
EXPAND_BUTTON_ITEM_ID$static;this.expandButton$nwjw=this.tabPanel$nwjw.add(expandButtonConfig);this.addOnMouseOverListener$nwjw(this.expandButton$nwjw);if(this.selectedTab$nwjw)this.tabPanel$nwjw.setActiveTab(this.selectedTab$nwjw);else this.tabPanel$nwjw.setActiveTab(0);this.tabPanel$nwjw.addListener("tabchange",AS3.bind(this,"tabChanged$nwjw"));this.collapsedMode$nwjw=true}function addOnMouseOverListener(expandButton){var this$=this;var tab=getTab$static(expandButton);if(tab.rendered){var element=
getTabElement$static(expandButton);if(element)element.addListener("mouseover",AS3.bind(this,"onMouseOver$nwjw"))}else tab.addListener("afterrender",function(){var element=getTabElement$static(expandButton);if(element)element.addListener("mouseover",AS3.bind(this$,"onMouseOver$nwjw"))},null,{single:true})}function expandMode(){if(!this.collapsedMode$nwjw)return;this.tabPanel$nwjw.removeListener("tabchange",AS3.bind(this,"tabChanged$nwjw"));this.tabPanel$nwjw.remove(this.expandButton$nwjw,true);for(var i=
0;i<this.hiddenTabs$nwjw.length;i++){var hiddenTab=this.hiddenTabs$nwjw[i];this.tabPanel$nwjw.add(hiddenTab)}this.tabPanel$nwjw.addListener("tabchange",AS3.bind(this,"tabChanged$nwjw"));this.collapsedMode$nwjw=false;if(!this.tabBarHovered$nwjw)this.onMouseOut$nwjw()}function tabChanged(tabPanel,selection){if(AS3.getBindable(selection,"title","DUMMY")==EXPAND_TITLE$static){if(this.selectedTab$nwjw)tabPanel.setActiveTab(this.selectedTab$nwjw);var shouldActivateFirstHidden=selection["tab"].hasFocus;
this.expandMode$nwjw();if(shouldActivateFirstHidden)this.activateFirstHiddenEventually$nwjw(tabPanel)}else if(selection["autoHide"])this.selectedTab$nwjw=selection;else{this.selectedTab$nwjw=selection;if(!this.tabBarHovered$nwjw)this.collapseMode$nwjw()}}function activateFirstHiddenEventually(tabPanel){var firstHiddenTab=this.hiddenTabs$nwjw[0];var firstHiddenTabStrip=firstHiddenTab["tab"];com.coremedia.ui.util.ConcurrentUtil.executeWhen(function(){com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(firstHiddenTabStrip,
"afterrender");return firstHiddenTabStrip.rendered},function(){firstHiddenTabStrip.focus();tabPanel.setActiveTab(firstHiddenTab)})}function onMouseOver(){this.expandMode$nwjw()}function onMouseOut(){var this$=this;window.setTimeout(function(){if(!this$.tabBarHovered$nwjw&&(!this$.selectedTab$nwjw||!this$.selectedTab$nwjw.autoHide))this$.collapseMode$nwjw()},400)}function getTabElement$static(tabPanel){var tab=getTab$static(tabPanel);return tab&&Ext.get(tab.getEl())}function getTab$static(tabPanel){return tabPanel&&
tabPanel["tab"]&&AS3.cast(Ext.tab.Tab,tabPanel["tab"])}function tabsDestroyed(){this.tabPanel$nwjw["setActiveTab"]=function(){};if(this.settingsChangedVE$nwjw)this.settingsChangedVE$nwjw.removeChangeListener(AS3.bind(this,"settingsChanged$nwjw"));var element=getTabElement$static(this.expandButton$nwjw);if(element)element.removeListener("mouseover",AS3.bind(this,"onMouseOver$nwjw"));for(var i=0;i<this.hiddenTabs$nwjw.length;i++){var documentForm=this.hiddenTabs$nwjw[i];documentForm.destroy()}this.tabPanel$nwjw.remove(this.expandButton$nwjw,
true);this.tabPanel$nwjw.removeListener("tabchange",AS3.bind(this,"tabChanged$nwjw"));var tabBar=this.tabPanel$nwjw.getTabBar();if(tabBar.rendered){tabBar.getEl().removeListener("mouseenter",AS3.bind(this,"onTabBarMouseEnter$nwjw"));tabBar.getEl().removeListener("mouseleave",AS3.bind(this,"onTabBarMouseLeave$nwjw"))}}return{extend:"Ext.plugin.Abstract",metadata:{"":["PublicApi"]},tabPanel$nwjw:null,expandButton$nwjw:null,collapsedMode$nwjw:false,selectedTab$nwjw:null,settingsChangedVE$nwjw:null,tabBarHovered$nwjw:false,
constructor:TabExpandPlugin$,super$nwjw:function(){Ext.plugin.Abstract.prototype.constructor.apply(this,arguments)},init:init,refresh:refresh,setActiveTabConsideringHidden$nwjw:setActiveTabConsideringHidden,tabPanelRendered$nwjw:tabPanelRendered,onTabBarMouseLeave$nwjw:onTabBarMouseLeave,onTabBarMouseEnter$nwjw:onTabBarMouseEnter,settingsChanged$nwjw:settingsChanged,collapseMode$nwjw:collapseMode,addOnMouseOverListener$nwjw:addOnMouseOverListener,expandMode$nwjw:expandMode,tabChanged$nwjw:tabChanged,
activateFirstHiddenEventually$nwjw:activateFirstHiddenEventually,onMouseOver$nwjw:onMouseOver,onMouseOut$nwjw:onMouseOut,tabsDestroyed$nwjw:tabsDestroyed,config:{tabs:null},statics:{ADVANCED_TABS_ENABLED:false},requires:["Ext","Ext.panel.Panel","Ext.plugin.Abstract","Ext.tab.Panel","Ext.tab.Tab","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.dependencies.DependencyTracker","com.coremedia.ui.util.ConcurrentUtil"],uses:["com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames",
"com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.plugins.PersistColumnConfigurationPlugin",function(PersistColumnConfigurationPlugin){function PersistColumnConfigurationPlugin$(config){if(arguments.length<=0)config=null;AS3.setBindable(this,"storeId",AS3.getBindable(config,"storeId"));this.super$64z7(config)}function init(component){this.grid$64z7=AS3.as(component,Ext.grid.Panel);if(!this.grid$64z7)throw new AS3.Error("PersistColumnConfigurationPlugin can only be applied to GridPanels");var columns=this.grid$64z7.getColumns();
var columnStates=this.getColumnPreferences$64z7()||[];var newConfig=PersistColumnConfigurationPlugin.adaptColumnsToPreferences(columns,columnStates);AS3.cast(Ext.container.Container,this.grid$64z7["headerCt"]).removeAll(false);this.grid$64z7.reconfigure(null,newConfig);this.grid$64z7.on("columnshow",AS3.bind(this,"colModelChange$64z7"));this.grid$64z7.on("columnhide",AS3.bind(this,"colModelChange$64z7"));this.grid$64z7.on("columnmove",AS3.bind(this,"colModelChange$64z7"))}function colModelChange(){var state=
this.grid$64z7.getColumns().filter(function(col){return!!AS3.getBindable(col,"id","DUMMY")||!!col.dataIndex}).map(function(col){var result=new com.coremedia.cms.editor.sdk.plugins.ColumnState;result.id=AS3.getBindable(col,"id","DUMMY")||"";result.dataIndex=col.dataIndex||"";result.hidden=!!col.hidden;return result});this.updateColumnPreferences$64z7(state)}function adaptColumnsToPreferences$static(originalColumns,columnStates){var columns=originalColumns.concat();var myColumns=[];lookupColumnsById$static(columnStates,
myColumns,columns);lookupColumnsByDataIndex$static(columnStates,myColumns,columns);myColumns=myColumns.filter(function(col){return!!col});insertColumnsByNeighbor$static(columns,originalColumns,myColumns);return myColumns}function lookupColumnsById$static(columnStates,myColumns,columns){for(var i=0;i<columnStates.length;i++){var columnStateForIdMatching=columnStates[i];var idToMatch=columnStateForIdMatching.id;myColumns[i]=null;for(var j=0;j<columns.length;j++){var candidateForId=columns[j];if(AS3.getBindable(candidateForId,
"id","DUMMY")&&AS3.getBindable(candidateForId,"id","DUMMY")===idToMatch){myColumns[i]=candidateForId;candidateForId["hidden"]=columnStateForIdMatching.hidden;columns.splice(j,1);break}}}}function lookupColumnsByDataIndex$static(columnStates,myColumns,columns){for(var k=0;k<columnStates.length;k++)if(!myColumns[k]){var columnStateForDataIndexMatching=columnStates[k];var dataIndexToMatch=columnStateForDataIndexMatching.dataIndex;for(var l=0;l<columns.length;l++){var candidateForDataIndex=columns[l];
if(AS3.getBindable(candidateForDataIndex,"id","DUMMY")&&candidateForDataIndex.dataIndex===dataIndexToMatch){myColumns[k]=candidateForDataIndex;candidateForDataIndex["hidden"]=columnStateForDataIndexMatching.hidden;columns.splice(l,1);break}}}}function insertColumnsByNeighbor$static(columns,originalColumns,myColumns){for(var m=0;m<columns.length;m++){var unmatchedColumn=columns[m];var originalPosition=originalColumns.indexOf(unmatchedColumn);var targetPosition;if(originalPosition===0)targetPosition=
myColumns.length;else{var leftColumn=originalColumns[originalPosition-1];targetPosition=myColumns.indexOf(leftColumn)+1}myColumns.splice(targetPosition,0,unmatchedColumn)}}function getColumnPreferences(){return AS3.as(com.coremedia.cms.editor.sdk.util.PreferencesUtil.getPreferencesJSONProperty({},"persistColumnConfigurationPlugin",this.getPersistenceId()),Array)}function updateColumnPreferences(state){com.coremedia.cms.editor.sdk.util.PreferencesUtil.updatePreferencesJSONProperty(state,"persistColumnConfigurationPlugin",
this.getPersistenceId())}function getPersistenceId(){return AS3.getBindable(this,"storeId")||this.grid$64z7.xtype.substr(this.grid$64z7.xtype.lastIndexOf(".")+1)}return{extend:"Ext.plugin.Abstract",metadata:{"":["PublicApi"]},grid$64z7:null,constructor:PersistColumnConfigurationPlugin$,super$64z7:function(){Ext.plugin.Abstract.prototype.constructor.apply(this,arguments)},init:init,colModelChange$64z7:colModelChange,getColumnPreferences$64z7:getColumnPreferences,updateColumnPreferences$64z7:updateColumnPreferences,
getPersistenceId:getPersistenceId,config:{storeId:null},statics:{adaptColumnsToPreferences:adaptColumnsToPreferences$static},requires:["AS3.Error","Ext.container.Container","Ext.grid.Panel","Ext.plugin.Abstract"],uses:["com.coremedia.cms.editor.sdk.plugins.ColumnState","com.coremedia.cms.editor.sdk.util.PreferencesUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.plugins.TabReuseAwarePlugin",function(TabReuseAwarePlugin){function TabReuseAwarePlugin$(config){if(arguments.length<=0)config=null;this.super$6SQg(config)}function init(component){this.component$6SQg=component;if(component.ownerCt)this.listenToWorkAreaTab$6SQg();else component.on("added",AS3.bind(this,"listenToWorkAreaTab$6SQg"))}function listenToWorkAreaTab(){var workArea=AS3.as(Ext.getCmp(com.coremedia.cms.editor.sdk.desktop.WorkAreaBase.COMPONENT_ID),com.coremedia.cms.editor.sdk.desktop.WorkArea);
if(!workArea)return;this.reusableParentTab=AS3.as(this.component$6SQg.findParentBy(function(cont){return cont.ownerCt&&cont.ownerCt===workArea&&AS3.is(cont,com.coremedia.cms.editor.sdk.desktop.WorkAreaTab)&&AS3.is(AS3.as(cont,com.coremedia.cms.editor.sdk.desktop.WorkAreaTab).getWorkAreaTabType(),com.coremedia.cms.editor.sdk.desktop.reusability.ReusableTabType)}),com.coremedia.cms.editor.sdk.desktop.WorkAreaTab);if(!this.reusableParentTab)return;this.component$6SQg.mon(this.reusableParentTab,com.coremedia.cms.editor.sdk.desktop.WorkArea.BEFORE_TAB_REUSE_EVENT,
AS3.bind(this,"onBeforeTabReuse"));this.component$6SQg.mon(this.reusableParentTab,com.coremedia.cms.editor.sdk.desktop.WorkArea.AFTER_TAB_REUSE_EVENT,AS3.bind(this,"onAfterTabReuse"))}function onBeforeTabReuse(){throw AS3.cast(AS3.Error,"Needs to implemented in subclass.");}function onAfterTabReuse(){throw AS3.cast(AS3.Error,"Needs to implemented in subclass.");}return{extend:"Ext.plugin.Abstract",metadata:{"":["PublicApi"]},component$6SQg:null,reusableParentTab:null,constructor:TabReuseAwarePlugin$,
super$6SQg:function(){Ext.plugin.Abstract.prototype.constructor.apply(this,arguments)},init:init,listenToWorkAreaTab$6SQg:listenToWorkAreaTab,onBeforeTabReuse:onBeforeTabReuse,onAfterTabReuse:onAfterTabReuse,requires:["AS3.Error","Ext","Ext.plugin.Abstract"],uses:["com.coremedia.cms.editor.sdk.desktop.WorkArea","com.coremedia.cms.editor.sdk.desktop.WorkAreaBase","com.coremedia.cms.editor.sdk.desktop.WorkAreaTab","com.coremedia.cms.editor.sdk.desktop.reusability.ReusableTabType"]}});Ext.define("com.coremedia.cms.editor.sdk.plugins.AddTabbedDocumentFormsPlugin",function(AddTabbedDocumentFormsPlugin){function AddTabbedDocumentFormsPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.plugins.AddTabbedDocumentFormsPluginBase,{});var defaults_$1=AS3.cast(AddTabbedDocumentFormsPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$F512(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.plugins.AddTabbedDocumentFormsPluginBase",
metadata:{"":["PublicApi"]},constructor:AddTabbedDocumentFormsPlugin$,super$F512:function(){com.coremedia.cms.editor.sdk.plugins.AddTabbedDocumentFormsPluginBase.prototype.constructor.apply(this,arguments)},config:{documentTabPanels:null},requires:["com.coremedia.cms.editor.sdk.plugins.AddTabbedDocumentFormsPluginBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.plugins.SyncComboBoxValueOnTabReusePlugin",function(SyncComboBoxValueOnTabReusePlugin){function SyncComboBoxValueOnTabReusePlugin$(config){if(arguments.length<=0)config=null;this.super$nWFY(config)}function init(component){var this$=this;if(!this.isComboBoxWithBindPlugins$nWFY(component)){com.coremedia.ui.logging.Logger.warn("SyncComboBoxValueOnTabReusePlugin is only applicable to ComboBoxes with both BindPropertyPlugin (for 'value' property) and BindListPlugin.");
return}com.coremedia.cms.editor.sdk.plugins.TabReuseAwarePlugin.prototype.init.call(this,component);if(this.reusableParentTab){AS3.getBindable(this.listPlugin$nWFY,"bindTo","DUMMY").addChangeListener(this.propPlugin$nWFY.boundValueChanged);AS3.getBindable(this.propPlugin$nWFY,"setComponentPropertyAllowedPredicates","DUMMY").push(AS3.bind(this,"setComponentPropertyAllowed$nWFY"));AS3.getBindable(this.propPlugin$nWFY,"setVEAllowedPredicates","DUMMY").push(AS3.bind(this,"setVEAllowed$nWFY"));this.combo$nWFY.on("beforedestroy",
function(){this$.combo$nWFY.un("storechange",AS3.bind(this$,"waitForStore$nWFY"));if(this$.combo$nWFY.getStore())this$.combo$nWFY.getStore().un("load",AS3.bind(this$,"waitForStore$nWFY"));AS3.getBindable(this$.listPlugin$nWFY,"bindTo","DUMMY").removeChangeListener(this$.propPlugin$nWFY.boundValueChanged)})}}function isComboBoxWithBindPlugins(component){this.combo$nWFY=AS3.as(component,Ext.form.field.ComboBox);if(!this.combo$nWFY)return false;var plugins=this.combo$nWFY.plugins||[];var plug;for(var i=
0;i<plugins.length;i++){plug=plugins[i];if(AS3.is(plug,com.coremedia.ui.plugins.BindPropertyPlugin)&&AS3.as(plug,com.coremedia.ui.plugins.BindPropertyPlugin).componentProperty==="value"){this.propPlugin$nWFY=AS3.as(plug,com.coremedia.ui.plugins.BindPropertyPlugin);break}}if(!this.propPlugin$nWFY)return false;for(var j=0;j<plugins.length;j++){plug=plugins[j];if(AS3.is(plug,com.coremedia.ui.plugins.BindListPlugin)){this.listPlugin$nWFY=AS3.as(plug,com.coremedia.ui.plugins.BindListPlugin);break}}return this.listPlugin$nWFY}
function setVEAllowed(){return!this.tabReuseInProgess$nWFY&&!this.boundValuePending$nWFY}function setComponentPropertyAllowed(c,value){if(this.tabReuseInProgess$nWFY)return false;if(!this.isComboStoreReady$nWFY()){this.waitForStore$nWFY();return false}if(!this.combo$nWFY.findRecordByValue(value)){com.coremedia.ui.logging.Logger.warn("SyncComboBoxValueOnTabReusePlugin: Setting value of ComboBox not possible even after BindPropertyPlugin and BindListPlugin are synchronized \x3d\x3e bound value is invalid.");
return false}this.lockCombo$nWFY(false);return true}function isComboStoreReady(){var this$=this;if(!this.combo$nWFY.getStore())return false;if(this.combo$nWFY.getStore()["isEmptyStore"])return true;if(this.combo$nWFY.getStore().isLoading())return false;var bindTo=AS3.getBindable(this.listPlugin$nWFY,"bindTo","DUMMY");var bindToValues=AS3.as(bindTo.getValue(),Array);if(!bindToValues)return false;if(bindToValues.length!==this.combo$nWFY.getStore().getCount())return false;return bindToValues.every(function(val){return!!this$.combo$nWFY.findRecord("bean",
val)})}function waitForStore(){if(this.isComboStoreReady$nWFY()){this.combo$nWFY.un("storechange",AS3.bind(this,"waitForStore$nWFY"));this.combo$nWFY.getStore().un("load",AS3.bind(this,"waitForStore$nWFY"));if(this.propPlugin$nWFY.isConsistent())this.lockCombo$nWFY(false);else this.propPlugin$nWFY.boundValueChanged()}else{this.combo$nWFY.on("storechange",AS3.bind(this,"waitForStore$nWFY"));if(this.combo$nWFY.getStore())this.combo$nWFY.mon(this.combo$nWFY.getStore(),"load",AS3.bind(this,"waitForStore$nWFY"))}}
function onBeforeTabReuse(){this.lockCombo$nWFY(true);this.tabReuseInProgess$nWFY=true}function onAfterTabReuse(){if(!this.tabReuseInProgess$nWFY)return;this.tabReuseInProgess$nWFY=false;if(this.propPlugin$nWFY.isConsistent())this.lockCombo$nWFY(false);else this.propPlugin$nWFY.boundValueChanged()}function lockCombo(lock){this.combo$nWFY["suspendCheckChange"]=lock;this.boundValuePending$nWFY=lock;this.combo$nWFY.setDisabled(lock)}return{extend:"com.coremedia.cms.editor.sdk.plugins.TabReuseAwarePlugin",
metadata:{"":["PublicApi"]},combo$nWFY:null,propPlugin$nWFY:null,listPlugin$nWFY:null,tabReuseInProgess$nWFY:false,boundValuePending$nWFY:false,constructor:SyncComboBoxValueOnTabReusePlugin$,super$nWFY:function(){com.coremedia.cms.editor.sdk.plugins.TabReuseAwarePlugin.prototype.constructor.apply(this,arguments)},init:init,isComboBoxWithBindPlugins$nWFY:isComboBoxWithBindPlugins,setVEAllowed$nWFY:setVEAllowed,setComponentPropertyAllowed$nWFY:setComponentPropertyAllowed,isComboStoreReady$nWFY:isComboStoreReady,
waitForStore$nWFY:waitForStore,onBeforeTabReuse:onBeforeTabReuse,onAfterTabReuse:onAfterTabReuse,lockCombo$nWFY:lockCombo,requires:["Ext.form.field.ComboBox","com.coremedia.cms.editor.sdk.plugins.TabReuseAwarePlugin","com.coremedia.ui.logging.Logger","com.coremedia.ui.plugins.BindListPlugin","com.coremedia.ui.plugins.BindPropertyPlugin"]}});Ext.define("com.coremedia.cms.editor.sdk.plugins.AddDocumentFormsPlugin",function(AddDocumentFormsPlugin){function AddDocumentFormsPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.plugins.AddDocumentFormsPluginBase,{});var defaults_$1=AS3.cast(AddDocumentFormsPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$bNtk(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.plugins.AddDocumentFormsPluginBase",
metadata:{"":["PublicApi"]},constructor:AddDocumentFormsPlugin$,super$bNtk:function(){com.coremedia.cms.editor.sdk.plugins.AddDocumentFormsPluginBase.prototype.constructor.apply(this,arguments)},config:{documentForms:null},requires:["com.coremedia.cms.editor.sdk.plugins.AddDocumentFormsPluginBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.plugins.DocumentFormPluginHelper",function(DocumentFormPluginHelper){function addOrReplaceItems$static(container,items){var allForms=container.getLazyItems().concat();var indexById={};for(var i=0;i<allForms.length;i++){var existingItemId=AS3.as(allForms[i].itemId,String);if(existingItemId)indexById[existingItemId]=i}for(var j=0;j<items.length;j++){var item=items[j];var itemId=item.itemId;var index=indexById[itemId];if(index===undefined)allForms.push(item);
else allForms[index]=item}container.removeAll();container.setLazyItems(allForms)}function DocumentFormPluginHelper$(){}return{constructor:DocumentFormPluginHelper$,statics:{addOrReplaceItems:addOrReplaceItems$static}}});Ext.define("com.coremedia.cms.editor.sdk.plugins.AriaVisibilityPlugin",function(AriaVisibilityPlugin){function AriaVisibilityPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.plugins.AriaVisibilityPluginBase,{});var defaults_$1=AS3.cast(AriaVisibilityPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Yc8s(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.plugins.AriaVisibilityPluginBase",
metadata:{"":["PublicApi"]},constructor:AriaVisibilityPlugin$,super$Yc8s:function(){com.coremedia.cms.editor.sdk.plugins.AriaVisibilityPluginBase.prototype.constructor.apply(this,arguments)},config:{bindTo:null},requires:["com.coremedia.cms.editor.sdk.plugins.AriaVisibilityPluginBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.plugins.ContentUtilConfigurationPluginBase",function(ContentUtilConfigurationPluginBase){function ContentUtilConfigurationPluginBase$(config){if(arguments.length<=0)config=null;this.expandFolderLimit$IjF7=AS3.getBindable(config,"expandFolderLimit")}function init(editorContext){com.coremedia.cms.editor.sdk.util.contentUtil.expandFolderLimit=this.expandFolderLimit$IjF7}return{mixins:["com.coremedia.cms.editor.sdk.EditorPlugin"],metadata:{"":["PublicApi"]},expandFolderLimit$IjF7:0,
constructor:ContentUtilConfigurationPluginBase$,init:init,requires:["com.coremedia.cms.editor.sdk.EditorPlugin"],uses:["com.coremedia.cms.editor.sdk.util.contentUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.plugins.ConfigureListViewPluginBase",function(ConfigureListViewPluginBase){function ConfigureListViewPluginBase$(config){if(arguments.length<=0)config=null;this.listViewDataFields$PDF5=AS3.getBindable(config,"listViewDataFields");this.repositoryListViewColumns$PDF5=AS3.getBindable(config,"repositoryListViewColumns");this.searchListViewColumns$PDF5=AS3.getBindable(config,"searchListViewColumns");this.listViewColumns$PDF5=AS3.getBindable(config,"listViewColumns");
this.instanceName$PDF5=AS3.getBindable(config,"instanceName")||"defaultCollectionViewList";this.super$PDF5(config)}function init(component){if(this.listViewDataFields$PDF5)for(var i=0;i<this.listViewDataFields$PDF5.length;i++)com.coremedia.cms.editor.sdk.editorContext.addListViewDataField(this.listViewDataFields$PDF5[i]);if(this.repositoryListViewColumns$PDF5)com.coremedia.cms.editor.sdk.editorContext.setRepositoryListViewColumns(this.repositoryListViewColumns$PDF5,this.instanceName$PDF5);else if(this.listViewColumns$PDF5)com.coremedia.cms.editor.sdk.editorContext.setRepositoryListViewColumns(this.listViewColumns$PDF5,
this.instanceName$PDF5);if(this.searchListViewColumns$PDF5)com.coremedia.cms.editor.sdk.editorContext.setSearchListViewColumns(this.searchListViewColumns$PDF5,this.instanceName$PDF5);else if(this.listViewColumns$PDF5)com.coremedia.cms.editor.sdk.editorContext.setSearchListViewColumns(this.listViewColumns$PDF5,this.instanceName$PDF5)}return{extend:"Ext.plugin.Abstract",metadata:{"":["PublicApi"]},listViewDataFields$PDF5:null,repositoryListViewColumns$PDF5:null,searchListViewColumns$PDF5:null,listViewColumns$PDF5:null,
instanceName$PDF5:null,constructor:ConfigureListViewPluginBase$,super$PDF5:function(){Ext.plugin.Abstract.prototype.constructor.apply(this,arguments)},init:init,requires:["Ext.plugin.Abstract"],uses:["com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.plugins.ContentUtilConfigurationPlugin",function(ContentUtilConfigurationPlugin){function ContentUtilConfigurationPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.plugins.ContentUtilConfigurationPluginBase,{});var defaults_$1=AS3.cast(ContentUtilConfigurationPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$DJFM(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.plugins.ContentUtilConfigurationPluginBase",
metadata:{"":["PublicApi"]},constructor:ContentUtilConfigurationPlugin$,super$DJFM:function(){com.coremedia.cms.editor.sdk.plugins.ContentUtilConfigurationPluginBase.prototype.constructor.apply(this,arguments)},config:{expandFolderLimit:0},requires:["com.coremedia.cms.editor.sdk.plugins.ContentUtilConfigurationPluginBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.plugins.AriaVisibilityPluginBase",function(AriaVisibilityPluginBase){function AriaVisibilityPluginBase$(config){if(arguments.length<=0)config=null;this.bindTo$eT8d=AS3.getBindable(config,"bindTo");this.bindTo$eT8d.addChangeListener(AS3.bind(this,"valueChanged$eT8d"))}function init(component){var this$=this;this.component$eT8d=component;this.component$eT8d.addListener("afterrender",AS3.bind(this,"valueChanged$eT8d"));this.component$eT8d.on("beforedestroy",function(){this$.bindTo$eT8d.removeChangeListener(AS3.bind(this$,
"valueChanged$eT8d"))})}function valueChanged(){var value=this.bindTo$eT8d.getValue();var hidden=!value||value.length===0;if(this.component$eT8d.getEl())this.setAriaHidden$eT8d(hidden)}function setAriaHidden(hidden){this.component$eT8d.getEl().dom.setAttribute("aria-hidden",hidden)}return{mixins:["ext.Plugin"],bindTo$eT8d:null,component$eT8d:null,constructor:AriaVisibilityPluginBase$,init:init,valueChanged$eT8d:valueChanged,setAriaHidden$eT8d:setAriaHidden,requires:["ext.Plugin"]}});Ext.define("com.coremedia.cms.editor.sdk.plugins.AddTabbedDocumentFormsPluginBase",function(AddTabbedDocumentFormsPluginBase){function AddTabbedDocumentFormsPluginBase$(config){if(arguments.length<=0)config=null;this.documentTabPanels$LTep=com.coremedia.ui.util.ArrayUtils.asArray(AS3.getBindable(config,"documentTabPanels"));this.super$LTep(config)}function init(component){var container=AS3.as(component,com.coremedia.cms.editor.sdk.premular.TabbedDocumentFormDispatcher);if(container)com.coremedia.cms.editor.sdk.plugins.DocumentFormPluginHelper.addOrReplaceItems(container,
this.documentTabPanels$LTep);else com.coremedia.ui.logging.Logger.error("addTabbedDocumentFormsPlugin can only configure a tabbedDocumentFormDispatcher, "+"but was used with a "+component.xtype)}return{extend:"Ext.plugin.Abstract",metadata:{"":["PublicApi"]},documentTabPanels$LTep:null,constructor:AddTabbedDocumentFormsPluginBase$,super$LTep:function(){Ext.plugin.Abstract.prototype.constructor.apply(this,arguments)},init:init,requires:["Ext.plugin.Abstract","com.coremedia.ui.logging.Logger","com.coremedia.ui.util.ArrayUtils"],
uses:["com.coremedia.cms.editor.sdk.plugins.DocumentFormPluginHelper","com.coremedia.cms.editor.sdk.premular.TabbedDocumentFormDispatcher"]}});Ext.define("com.coremedia.cms.editor.sdk.preview.PreviewMessageTypes",function(PreviewMessageTypes){function PreviewMessageTypes$(){}return{constructor:PreviewMessageTypes$,statics:{READY:"ready",UPDATE:"update",RESIZE:"resize",SCROLL:"scroll",CLICK:"click",HOVER:"hover",DIRECT_UPDATE:"updateElementsText",HIGHLIGHT_ELEMENTS:"highlightElements",SECONDARY_HIGHLIGHT_ELEMENTS:"secondaryHighlightElements",RETRIEVE_DOCUMENT_DIMENSIONS:"retrieveDocumentDimensions",RETRIEVE_SCROLL_POSITION:"retrieveScrollPosition",
RETRIEVE_GLOBAL_VARIABLE:"retrieveGlobalVariable",RETRIEVE_DATA_ATTRIBUTE:"retrieveDataAttribute",SCROLL_ELEMENTS_INTO_VIEW:"scrollElementsIntoView",SET_SCROLL_POSITION:"setScrollPosition",INIT:"init",INIT_CONFIRM:"initConfirm",ENABLE_DOCUMENT_SCROLL:"enableDocumentScroll"}}});Ext.define("com.coremedia.cms.editor.sdk.preview.metadata.MetadataTreeModel",function(MetadataTreeModel){var ROOT_ID$static="root";var CM_METADATA_BRIDGE_NODE_PREFIX$static="CM_METADATA_BRIDGE_";function MetadataTreeModel$(metadataTreeValueExpression){this.metadataTreeValueExpression$$Rbz=metadataTreeValueExpression}function getRootId(){return ROOT_ID$static}function isRootVisible(){return false}function getIdPathFromModel(model){var nodeId=this.getNodeId(model);return this.getIdPath(nodeId)}function getText(nodeId){var metadataNode=
AS3.as(this.getNodeModel(nodeId),com.coremedia.cms.editor.sdk.preview.metadata.MetadataTreeNode);if(metadataNode)return MetadataTreeModel.renderText(metadataNode);return undefined}function renderText$static(metadataNode){return AS3.cast(com.coremedia.cms.editor.sdk.EditorContextImpl,com.coremedia.cms.editor.sdk.editorContext).getMetadataNodeRendererRegistry().renderText(metadataNode)}function getIconCls(nodeId){var metadataNode=AS3.as(this.getNodeModel(nodeId),com.coremedia.cms.editor.sdk.preview.metadata.MetadataTreeNode);
if(metadataNode)return MetadataTreeModel.renderIconCls(metadataNode);else if(nodeId.indexOf(CM_METADATA_BRIDGE_NODE_PREFIX$static)>-1)return mx.resources.ResourceManager.getInstance().getString("com.coremedia.icons.CoreIcons","path_dots");return undefined}function getTextCls(nodeId){return""}function renderIconCls$static(metadataNode){return AS3.cast(com.coremedia.cms.editor.sdk.EditorContextImpl,com.coremedia.cms.editor.sdk.editorContext).getMetadataNodeRendererRegistry().renderIconCls(metadataNode)}
function getChildren(nodeId){var metadataNode=AS3.as(this.getNodeModel(nodeId),com.coremedia.cms.editor.sdk.preview.metadata.MetadataTreeNode);var children=metadataNode?metadataNode.findChildrenByProperty(com.coremedia.cms.editor.sdk.preview.MetadataHelper.METADATA_DEFAULT_PROPERTY,undefined,false):null;if(!children)return undefined;var childIds=[];var textsByChildId={};var iconsByChildId={};for(var i=0;i<children.length;i++){var id=this.getNodeId(children[i]);childIds.push(id);textsByChildId[id]=
this.getText(id);iconsByChildId[id]=this.getIconCls(id)}return new com.coremedia.ui.models.NodeChildren(childIds,textsByChildId,iconsByChildId)}function getIdPath(nodeId){var metadataNode=AS3.as(this.getNodeModel(nodeId),com.coremedia.cms.editor.sdk.preview.metadata.MetadataTreeNode);var path=[];while(metadataNode){path.push(this.getNodeId(metadataNode));metadataNode=metadataNode.findParentByProperty(com.coremedia.cms.editor.sdk.preview.MetadataHelper.METADATA_DEFAULT_PROPERTY)}path.reverse();return this.repairMetadataPath$$Rbz(path)}
function repairMetadataPath(path){if(path&&path.length>1){var index=0;var refNodeId=path[index++];var nodeId=path[index++];var result=[refNodeId];while(nodeId){var value1=AS3.as(this.getNodeModel(nodeId),com.coremedia.cms.editor.sdk.preview.metadata.MetadataTreeNode).getProperty(com.coremedia.cms.editor.sdk.preview.MetadataHelper.METADATA_DEFAULT_PROPERTY);var value2=AS3.as(this.getNodeModel(refNodeId),com.coremedia.cms.editor.sdk.preview.metadata.MetadataTreeNode).getProperty(com.coremedia.cms.editor.sdk.preview.MetadataHelper.METADATA_DEFAULT_PROPERTY);
var redundant=false;if(value1!==undefined&&value2!==undefined)redundant=com.coremedia.ui.util.ObjectUtils.compareObjects(value1,value2);if(!redundant||com.coremedia.ui.util.UrlUtil.getHashParam("doNotFilterBreadcrumb")){if(AS3.is(value1,com.coremedia.ui.data.Bean)&&AS3.is(value2,com.coremedia.ui.data.Bean))result.push(CM_METADATA_BRIDGE_NODE_PREFIX$static+Math.random());result.push(nodeId)}else com.coremedia.ui.logging.Logger.info("Removed duplicate (direct child) metadata node from metadata path. Please review your preview metadata.");
refNodeId=nodeId;nodeId=path[index++]}return result.filter(AS3.bind(this,"isValidTreeNode$$Rbz"))}return path}function isValidTreeNode(metadataNodeId){if(metadataNodeId.indexOf(CM_METADATA_BRIDGE_NODE_PREFIX$static)>=0)return true;var metadataNode=AS3.as(this.getNodeModel(metadataNodeId),com.coremedia.cms.editor.sdk.preview.metadata.MetadataTreeNode);if(!metadataNode)return false;var canRender=AS3.cast(com.coremedia.cms.editor.sdk.EditorContextImpl,com.coremedia.cms.editor.sdk.editorContext).getMetadataNodeRendererRegistry().canRender(metadataNode);
if(!canRender)return false;var isValidPropertyNode=com.coremedia.cms.editor.sdk.preview.MetadataHelper.isPropertyMetadataNode(metadataNode)&&!com.coremedia.cms.editor.sdk.preview.MetadataHelper.isPropertyMetadataNode(metadataNode.getParent());var isBeanNode=com.coremedia.cms.editor.sdk.preview.MetadataHelper.isBeanMetadataNode(metadataNode);return isValidPropertyNode||isBeanNode}function getNodeId(model){var metadataTreeNode=AS3.as(model,com.coremedia.cms.editor.sdk.preview.metadata.MetadataTreeNode);
return metadataTreeNode&&metadataTreeNode.getId()}function getNodeModel(nodeId){return AS3.as(AS3.as(this.metadataTreeValueExpression$$Rbz.getValue(),com.coremedia.cms.editor.sdk.preview.metadata.MetadataTree).getNode(nodeId),com.coremedia.cms.editor.sdk.preview.metadata.MetadataTreeNode)}function isEditable(model){return false}function rename(model,newName,oldName,callback){}return{mixins:["com.coremedia.ui.models.TreeModel"],metadataTreeValueExpression$$Rbz:null,constructor:MetadataTreeModel$,getRootId:getRootId,
isRootVisible:isRootVisible,getIdPathFromModel:getIdPathFromModel,getText:getText,getIconCls:getIconCls,getTextCls:getTextCls,getChildren:getChildren,getIdPath:getIdPath,repairMetadataPath$$Rbz:repairMetadataPath,isValidTreeNode$$Rbz:isValidTreeNode,getNodeId:getNodeId,getNodeModel:getNodeModel,isEditable:isEditable,rename:rename,statics:{renderText:renderText$static,renderIconCls:renderIconCls$static},requires:["com.coremedia.ui.data.Bean","com.coremedia.ui.logging.Logger","com.coremedia.ui.models.NodeChildren",
"com.coremedia.ui.models.TreeModel","com.coremedia.ui.util.ObjectUtils","com.coremedia.ui.util.UrlUtil","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.EditorContextImpl","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.preview.MetadataHelper","com.coremedia.cms.editor.sdk.preview.metadata.MetadataTree","com.coremedia.cms.editor.sdk.preview.metadata.MetadataTreeNode"]}});Ext.define("com.coremedia.cms.editor.sdk.preview.metadata.MetadataServiceImpl",function(MetadataServiceImpl){var METADATACHANGED_EVENT_NAME$static="metadatachanged";function MetadataServiceImpl$(){this.super$_Jr7()}function setRawMetadata(cmMetadata){this.rawMetadata$_Jr7=cmMetadata;this.fireEvent(METADATACHANGED_EVENT_NAME$static)}function getMetadataTree(filterProperties){if(arguments.length<=0)filterProperties=null;com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(this,METADATACHANGED_EVENT_NAME$static);
return new com.coremedia.cms.editor.sdk.preview.metadata.MetadataTree(this.rawMetadata$_Jr7,filterProperties)}function getTransformedMetadataTree(rawNodeTransformer){com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(this,METADATACHANGED_EVENT_NAME$static);return new com.coremedia.cms.editor.sdk.preview.metadata.MetadataTree(this.rawMetadata$_Jr7,null,rawNodeTransformer)}return{extend:"Ext.util.Observable",mixins:["com.coremedia.cms.editor.sdk.preview.metadata.IMetadataService"],
metadata:{"":["Event",["name","metadatachanged"]]},rawMetadata$_Jr7:null,constructor:MetadataServiceImpl$,super$_Jr7:function(){Ext.util.Observable.prototype.constructor.apply(this,arguments)},setRawMetadata:setRawMetadata,getMetadataTree:getMetadataTree,getTransformedMetadataTree:getTransformedMetadataTree,requires:["Ext.util.Observable","com.coremedia.cms.editor.sdk.preview.metadata.IMetadataService","com.coremedia.ui.data.dependencies.DependencyTracker"],uses:["com.coremedia.cms.editor.sdk.preview.metadata.MetadataTree"]}});Ext.define("com.coremedia.cms.editor.sdk.preview.metadata.MetadataNodeRenderer",function(MetadataNodeRenderer){return{}});Ext.define("com.coremedia.cms.editor.sdk.preview.metadata.MetadataTree",function(MetadataTree){function metadataNodeMap_(){this.metadataNodeMap$DHaC={}}function rawMetadataTree_(){this.rawMetadataTree$DHaC={}}function MetadataTree$(rawMetadataTree,filterProperties,rawNodeTransformer){var this$=this;metadataNodeMap_.call(this);rawMetadataTree_.call(this);switch(Math.max(arguments.length,1)){case 1:filterProperties=null;case 2:rawNodeTransformer=null}if(!rawMetadataTree)return;this.rawMetadataTree$DHaC=
com.coremedia.ui.data.impl.BeanFactoryImpl.resolveBeans(Ext.JSON.decode(com.coremedia.ui.util.ObjectUtils.toJson(rawMetadataTree)));if(filterProperties)this.projectToFilterProperties$DHaC(filterProperties);else if(rawNodeTransformer)this.rawMetadataTree$DHaC=this.transformRawMetadataTree$DHaC(rawNodeTransformer);this.rootNode$DHaC=new com.coremedia.cms.editor.sdk.preview.metadata.MetadataTreeNode(this.rawMetadataTree$DHaC);this.rootNode$DHaC.getAllChildrenAsList().forEach(function(successor){if(successor.getId())this$.metadataNodeMap$DHaC[successor.getId()]=
successor})}function projectToFilterProperties(filterProperties){if(filterProperties)this.rawMetadataTree$DHaC=this.transformRawMetadataTree$DHaC(function(node){var containsKey=false;filterProperties.forEach(function(key){if(node[key])containsKey=true});if(containsKey){var filteredNode={id:node.id,parentId:node.parentId,children:[]};filterProperties.forEach(function(key){if(node[key])filteredNode[key]=node[key]});return filteredNode}else return false})}function transformRawMetadataTree(nodeTransformer){var transformedMetadataRoot=
{children:[]};this.transformRawMetadataTreeRecursively$DHaC(nodeTransformer,transformedMetadataRoot,this.rawMetadataTree$DHaC.children);return transformedMetadataRoot}function transformRawMetadataTreeRecursively(nodeTransformer,appendTo,children){var this$=this;children=children||[];children.forEach(function(child){var transformedChild=nodeTransformer(child);if(transformedChild){!appendTo.children&&(appendTo.children=[]);appendTo.children.push(transformedChild);this$.transformRawMetadataTreeRecursively$DHaC(nodeTransformer,
transformedChild,child.children)}else this$.transformRawMetadataTreeRecursively$DHaC(nodeTransformer,appendTo,child.children)})}function getRoot(){return this.rootNode$DHaC}function getNode(id){return this.metadataNodeMap$DHaC[id]}function getAsList(){var result=[];for(var id in this.metadataNodeMap$DHaC)result.push(this.metadataNodeMap$DHaC[id]);return result}return{rootNode$DHaC:null,constructor:MetadataTree$,projectToFilterProperties$DHaC:projectToFilterProperties,transformRawMetadataTree$DHaC:transformRawMetadataTree,
transformRawMetadataTreeRecursively$DHaC:transformRawMetadataTreeRecursively,getRoot:getRoot,getNode:getNode,getAsList:getAsList,requires:["Ext.JSON","com.coremedia.ui.data.impl.BeanFactoryImpl","com.coremedia.ui.util.ObjectUtils"],uses:["com.coremedia.cms.editor.sdk.preview.metadata.MetadataTreeNode"]}});Ext.define("com.coremedia.cms.editor.sdk.preview.metadata.ContentMetadataNodeRenderer",function(ContentMetadataNodeRenderer){function ContentMetadataNodeRenderer$(){}function canRender(metadataNode){return AS3.is(com.coremedia.cms.editor.sdk.preview.MetadataHelper.getBeanMetadataValue(metadataNode),com.coremedia.cap.content.Content)}function renderText(metadataNode){if(this.canRender(metadataNode)){var beanMetadataValue=com.coremedia.cms.editor.sdk.preview.MetadataHelper.getBeanMetadataValue(metadataNode);
if(AS3.is(beanMetadataValue,com.coremedia.cap.content.Content))return ContentMetadataNodeRenderer.renderTextForContent(AS3.cast(com.coremedia.cap.content.Content,beanMetadataValue))}return undefined}function renderTextForContent$static(content){var readableState=content.getState().readable;if(readableState===false)return com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.formatNotReadableName(content);return content.getName()}function renderIconCls(metadataNode){if(this.canRender(metadataNode)){var beanMetadataValue=
com.coremedia.cms.editor.sdk.preview.MetadataHelper.getBeanMetadataValue(metadataNode);if(AS3.is(beanMetadataValue,com.coremedia.cap.content.Content))return ContentMetadataNodeRenderer.renderIconClsForContent(AS3.cast(com.coremedia.cap.content.Content,beanMetadataValue))}return undefined}function renderIconClsForContent$static(content){var readableState=content.getState().readable;if(readableState===false)return mx.resources.ResourceManager.getInstance().getString("com.coremedia.icons.CoreIcons",
"no_rights");return com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.getIconStyleClassForContentType(content.getType())}return{mixins:["com.coremedia.cms.editor.sdk.preview.metadata.MetadataNodeRenderer"],constructor:ContentMetadataNodeRenderer$,canRender:canRender,renderText:renderText,renderIconCls:renderIconCls,statics:{renderTextForContent:renderTextForContent$static,renderIconClsForContent:renderIconClsForContent$static},requires:["com.coremedia.cap.content.Content","com.coremedia.cms.editor.sdk.preview.metadata.MetadataNodeRenderer",
"com.coremedia.icons.CoreIcons_properties","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.preview.MetadataHelper","com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.preview.metadata.IMetadataService",function(IMetadataService){return{}});Ext.define("com.coremedia.cms.editor.sdk.preview.metadata.PropertyMetadataNodeRenderer",function(PropertyMetadataNodeRenderer){var PROPERTY_NODE_ICON_CLASS$static;function PROPERTY_NODE_ICON_CLASS$static_(){PROPERTY_NODE_ICON_CLASS$static=mx.resources.ResourceManager.getInstance().getString("com.coremedia.icons.CoreIcons","arrow_right")}function PropertyMetadataNodeRenderer$(){}function canRender(metadataNode){return com.coremedia.cms.editor.sdk.preview.MetadataHelper.getPropertyMetadataValue(metadataNode)&&
AS3.is(com.coremedia.cms.editor.sdk.preview.MetadataHelper.getBeanMetadataValue(com.coremedia.cms.editor.sdk.preview.MetadataHelper.getFirstBeanParentNode(metadataNode)),com.coremedia.cap.content.Content)}function renderText(metadataNode){if(this.canRender(metadataNode)){var propertyName=com.coremedia.cms.editor.sdk.preview.MetadataHelper.getPropertyMetadataValue(metadataNode);var firstBeanParentNode=com.coremedia.cms.editor.sdk.preview.MetadataHelper.getFirstBeanParentNode(metadataNode);var content=
AS3.as(com.coremedia.cms.editor.sdk.preview.MetadataHelper.getBeanMetadataValue(firstBeanParentNode),com.coremedia.cap.content.Content);if(content&&content.getState().readable&&content.getType()){var shortenedPropertyName=propertyName.indexOf(".")>=0?propertyName.substring(propertyName.indexOf(".")+1):propertyName;return com.coremedia.cms.editor.sdk.util.PropertyEditorUtil.getLocalizedLabel(content.getType().getName(),shortenedPropertyName)}else return propertyName}return undefined}function renderIconCls(metadataNode){if(this.canRender(metadataNode))return PROPERTY_NODE_ICON_CLASS$static;
return undefined}return{mixins:["com.coremedia.cms.editor.sdk.preview.metadata.MetadataNodeRenderer"],constructor:PropertyMetadataNodeRenderer$,canRender:canRender,renderText:renderText,renderIconCls:renderIconCls,statics:{PROPERTY_NODE_ICON_CLASS:undefined,__initStatics__:function(){PROPERTY_NODE_ICON_CLASS$static_()}},requires:["com.coremedia.cap.content.Content","com.coremedia.cms.editor.sdk.preview.metadata.MetadataNodeRenderer","com.coremedia.icons.CoreIcons_properties","mx.resources.ResourceManager"],
uses:["com.coremedia.cms.editor.sdk.preview.MetadataHelper","com.coremedia.cms.editor.sdk.util.PropertyEditorUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.preview.metadata.MetadataNodeRendererRegistry",function(MetadataNodeRendererRegistry){return{}});Ext.define("com.coremedia.cms.editor.sdk.preview.metadata.DefaultMetadataNodeRenderer",function(DefaultMetadataNodeRenderer){var DEFAULT_ICON_CLASS$static;function DEFAULT_ICON_CLASS$static_(){DEFAULT_ICON_CLASS$static=mx.resources.ResourceManager.getInstance().getString("com.coremedia.icons.CoreIcons","type_object")}function DefaultMetadataNodeRenderer$(){}function canRender(metadataNode){return true}function renderText(metadataNode){return metadataNode.getId()}function renderIconCls(metadataNode){return DEFAULT_ICON_CLASS$static}
return{mixins:["com.coremedia.cms.editor.sdk.preview.metadata.MetadataNodeRenderer"],constructor:DefaultMetadataNodeRenderer$,canRender:canRender,renderText:renderText,renderIconCls:renderIconCls,statics:{DEFAULT_ICON_CLASS:undefined,__initStatics__:function(){DEFAULT_ICON_CLASS$static_()}},requires:["com.coremedia.cms.editor.sdk.preview.metadata.MetadataNodeRenderer","com.coremedia.icons.CoreIcons_properties","mx.resources.ResourceManager"]}});Ext.define("com.coremedia.cms.editor.sdk.preview.metadata.MetadataTreeNode",function(MetadataTreeNode){function children_(){this.children$pjKk=[]}function MetadataTreeNode$(rawNodeData){var this$=this;children_.call(this);this.id$pjKk=rawNodeData.id||"root";this.properties$pjKk={};this.setProperties$pjKk(rawNodeData);var rawChildren=rawNodeData.children||[];var thys=this;rawChildren.forEach(function(child){var metadataTreeNodeChild=new MetadataTreeNode(child);metadataTreeNodeChild.parent$pjKk=thys;
this$.children$pjKk.push(metadataTreeNodeChild)})}function getId(){return this.id$pjKk}function getChildren(){return this.children$pjKk}function setProperties(rawNodeData){for(var property in rawNodeData)if(property!=="children")this.properties$pjKk[property]=rawNodeData[property]}function getProperties(){return this.properties$pjKk}function getProperty(propertyPath){return com.coremedia.ui.util.ObjectUtils.getPropertyAt(this.properties$pjKk,propertyPath)}function getParent(){return this.parent$pjKk}
function getAllChildrenAsList(){var result=[this];var arrayIndex=0;while(arrayIndex<result.length){var currentNode=result[arrayIndex];if(currentNode.getChildren()){var children=currentNode.getChildren();Array["prototype"].push.apply(result,children)}arrayIndex++}return result}function findParentByProperty(propertyPath,value){return this.findParentBy(function(node){return node.getProperty(propertyPath)&&(value===undefined||node.getProperty(propertyPath)===value)})}function findParentBy(selector){var ancestor=
this.parent$pjKk;while(ancestor){if(selector(ancestor))return ancestor;ancestor=ancestor.getParent()}return null}function findChildrenByProperty(propertyPath,value,includeNonDirectChildren){if(arguments.length<=2)includeNonDirectChildren=true;return this.findChildrenBy(function(successor){return successor.getProperty(propertyPath)&&(value===undefined||successor.getProperty(propertyPath)===value)},includeNonDirectChildren)}function findChildrenBy(selector,includeNonDirectChildren){if(arguments.length<=
1)includeNonDirectChildren=true;var result=[];var childrenList=includeNonDirectChildren?this.getAllChildrenAsList():this.getChildren();childrenList.forEach(function(successor){if(selector(successor))result.push(successor)});return result}return{id$pjKk:null,parent$pjKk:null,properties$pjKk:null,constructor:MetadataTreeNode$,getId:getId,getChildren:getChildren,setProperties$pjKk:setProperties,getProperties:getProperties,getProperty:getProperty,getParent:getParent,getAllChildrenAsList:getAllChildrenAsList,
findParentByProperty:findParentByProperty,findParentBy:findParentBy,findChildrenByProperty:findChildrenByProperty,findChildrenBy:findChildrenBy,requires:["com.coremedia.ui.util.ObjectUtils"]}});Ext.define("com.coremedia.cms.editor.sdk.preview.metadata.MetadataNodeRendererRegistryImpl",function(MetadataNodeRendererRegistryImpl){function rendererList_(){this.rendererList$U9Vm=[]}function MetadataNodeRendererRegistryImpl$(){rendererList_.call(this);this.register(new com.coremedia.cms.editor.sdk.preview.metadata.PropertyMetadataNodeRenderer);this.register(new com.coremedia.cms.editor.sdk.preview.metadata.ContentMetadataNodeRenderer)}function register(renderer){this.rendererList$U9Vm.push(renderer)}
function canRender(metadataNode){return this.getRenderer$U9Vm(metadataNode)}function renderText(metadataNode){var renderer=this.getRenderer$U9Vm(metadataNode);return renderer&&renderer.renderText(metadataNode)}function renderIconCls(metadataNode){var renderer=this.getRenderer$U9Vm(metadataNode);return renderer&&renderer.renderIconCls(metadataNode)}function getRenderer(metadataNode){for(var i=this.rendererList$U9Vm.length-1;i>=0;i--)if(AS3.as(this.rendererList$U9Vm[i],com.coremedia.cms.editor.sdk.preview.metadata.MetadataNodeRenderer).canRender(metadataNode))return AS3.as(this.rendererList$U9Vm[i],
com.coremedia.cms.editor.sdk.preview.metadata.MetadataNodeRenderer);return undefined}return{mixins:["com.coremedia.cms.editor.sdk.preview.metadata.MetadataNodeRendererRegistry"],constructor:MetadataNodeRendererRegistryImpl$,register:register,canRender:canRender,renderText:renderText,renderIconCls:renderIconCls,getRenderer$U9Vm:getRenderer,requires:["com.coremedia.cms.editor.sdk.preview.metadata.MetadataNodeRendererRegistry"],uses:["com.coremedia.cms.editor.sdk.preview.metadata.ContentMetadataNodeRenderer",
"com.coremedia.cms.editor.sdk.preview.metadata.MetadataNodeRenderer","com.coremedia.cms.editor.sdk.preview.metadata.PropertyMetadataNodeRenderer"]}});Ext.define("com.coremedia.cms.editor.sdk.preview.PreviewPanelToolbar",function(PreviewPanelToolbar){function PreviewPanelToolbar$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.preview.PreviewPanelToolbarBase,{});var defaults_$1=AS3.cast(PreviewPanelToolbar,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","PreviewPanelToolbar_label"));
var editor_OnlyIf_79_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.plugins.OnlyIf,{});AS3.setBindable(editor_OnlyIf_79_5_$1,"condition",function(){return com.coremedia.ui.util.UrlUtil.getHashParam("preview.metadata.debug")!==null});var ui_AddItemsPlugin_81_9_$1=AS3.cast(com.coremedia.ui.plugins.AddItemsPlugin,{});var ui_IconButton_83_13_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});AS3.setBindable(ui_IconButton_83_13_$1,"scale","medium");ui_IconButton_83_13_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.WORKAREA.getSkin());
AS3.setBindable(ui_IconButton_83_13_$1,"tooltip","Open metadata tree");AS3.setBindable(ui_IconButton_83_13_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","tree_view")));AS3.setBindable(ui_IconButton_83_13_$1,"handler",AS3.bind(this,"openMetadataTree"));AS3.setBindable(ui_AddItemsPlugin_81_9_$1,"items",[ui_IconButton_83_13_$1]);AS3.setBindable(editor_OnlyIf_79_5_$1,"then",ui_AddItemsPlugin_81_9_$1);config_$1.plugins=[editor_OnlyIf_79_5_$1];
var ui_IconButton_95_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_95_5_$1.itemId=net.jangaroo.ext.Exml.asString(PreviewPanelToolbar.COLLAPSE_BUTTON_ITEM_ID);AS3.setBindable(ui_IconButton_95_5_$1,"scale","medium");ui_IconButton_95_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.WORKAREA.getSkin());AS3.setBindable(ui_IconButton_95_5_$1,"tooltip",this.resourceManager.getString("com.coremedia.cms.editor.Editor","Preview_panel_btn_tooltip"));AS3.setBindable(ui_IconButton_95_5_$1,
"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","Preview_panel_btn_tooltip")));AS3.setBindable(ui_IconButton_95_5_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","collapsing_arrow_right")));AS3.setBindable(ui_IconButton_95_5_$1,"handler",AS3.getBindable(config,"collapseHandler"));var tbSpacer_103_5_$1=AS3.cast(Ext.toolbar.Spacer,{});tbSpacer_103_5_$1.flex=1;var tbSeparator_105_5_$1=AS3.cast(Ext.toolbar.Separator,
{});AS3.setBindable(tbSeparator_105_5_$1,"hidden",true);tbSeparator_105_5_$1.itemId=net.jangaroo.ext.Exml.asString(PreviewPanelToolbar.RELOAD_SEPARATOR_ITEM_ID);var ui_IconButton_106_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_106_5_$1.itemId=net.jangaroo.ext.Exml.asString(PreviewPanelToolbar.RELOAD_BUTTON_ITEM_ID);AS3.setBindable(ui_IconButton_106_5_$1,"scale","medium");ui_IconButton_106_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.WORKAREA.getSkin());
AS3.setBindable(ui_IconButton_106_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","PreviewPanelToolbar_reload_btn_tooltip")));AS3.setBindable(ui_IconButton_106_5_$1,"tooltip",this.resourceManager.getString("com.coremedia.cms.editor.Editor","PreviewPanelToolbar_reload_btn_tooltip"));AS3.setBindable(ui_IconButton_106_5_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","reload")));AS3.setBindable(ui_IconButton_106_5_$1,
"handler",AS3.getBindable(config,"reloadHandler"));var tbSeparator_115_5_$1=AS3.cast(Ext.toolbar.Separator,{});AS3.setBindable(tbSeparator_115_5_$1,"hidden",true);tbSeparator_115_5_$1.itemId=net.jangaroo.ext.Exml.asString(PreviewPanelToolbar.OPEN_IN_BROWSER_SEPARATOR_ITEM_ID);var splitButton_116_5_$1=AS3.cast(Ext.button.Split,{});splitButton_116_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.preview.PreviewPanelToolbarBase.OPEN_IN_BROWSER_BUTTON_ITEM_ID);AS3.setBindable(splitButton_116_5_$1,
"scale","medium");splitButton_116_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.WORKAREA.getSkin());splitButton_116_5_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","PreviewPanelToolbar_openInBrowser_btn_tooltip"));AS3.setBindable(splitButton_116_5_$1,"tooltip",this.resourceManager.getString("com.coremedia.cms.editor.Editor","PreviewPanelToolbar_openInBrowser_btn_tooltip"));AS3.setBindable(splitButton_116_5_$1,
"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","open_in_browser")));AS3.setBindable(splitButton_116_5_$1,"handler",AS3.bind(this,"handleOpenInBrowser"));var menu_124_9_$1=AS3.cast(Ext.menu.Menu,{});var menuItem_126_13_$1=AS3.cast(Ext.menu.Item,{});menuItem_126_13_$1.itemId=net.jangaroo.ext.Exml.asString(PreviewPanelToolbar.OPEN_IN_BROWSER_MENU_ITEM_ID);AS3.setBindable(menuItem_126_13_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"PreviewPanelToolbar_openInBrowser_btn_tooltip")));AS3.setBindable(menuItem_126_13_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","open_in_browser")));AS3.setBindable(menuItem_126_13_$1,"handler",AS3.bind(this,"handleOpenInBrowser"));var ui_BindPropertyPlugin_131_17_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_131_17_$1.componentProperty="disabled";ui_BindPropertyPlugin_131_17_$1.bindTo=this.getOpenInBrowserDisabledValueExpression();
menuItem_126_13_$1.plugins=[ui_BindPropertyPlugin_131_17_$1];var menuItem_135_13_$1=AS3.cast(Ext.menu.Item,{});menuItem_135_13_$1.itemId=net.jangaroo.ext.Exml.asString(PreviewPanelToolbar.SEND_LINK_MENU_ITEM_ID);AS3.setBindable(menuItem_135_13_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","PreviewPanelToolbar_sendLink_btn_text")));AS3.setBindable(menuItem_135_13_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons",
"envelope")));AS3.setBindable(menuItem_135_13_$1,"handler",AS3.bind(this,"handleEmail"));var ui_BindPropertyPlugin_140_17_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_140_17_$1.componentProperty="disabled";ui_BindPropertyPlugin_140_17_$1.bindTo=this.getEmailButtonDisabledValueExpression();menuItem_135_13_$1.plugins=[ui_BindPropertyPlugin_140_17_$1];menu_124_9_$1.items=[menuItem_126_13_$1,menuItem_135_13_$1];splitButton_116_5_$1.menu=menu_124_9_$1;var tbSeparator_150_5_$1=
AS3.cast(Ext.toolbar.Separator,{});AS3.setBindable(tbSeparator_150_5_$1,"hidden",true);tbSeparator_150_5_$1.itemId=net.jangaroo.ext.Exml.asString(PreviewPanelToolbar.BOOKMARK_SEPARATOR_ITEM_ID);var ui_IconButton_152_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_152_5_$1.itemId=net.jangaroo.ext.Exml.asString(PreviewPanelToolbar.BOOKMARK_BUTTON_ITEM_ID);AS3.setBindable(ui_IconButton_152_5_$1,"scale","medium");ui_IconButton_152_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.WORKAREA.getSkin());
var actionRef_156_9_$1=AS3.cast(ext.ActionRef,{});actionRef_156_9_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.bookmarks.BookmarkAction.ACTION_ID);ui_IconButton_152_5_$1.baseAction=actionRef_156_9_$1;config_$1.items=[ui_IconButton_95_5_$1,tbSpacer_103_5_$1,tbSeparator_105_5_$1,ui_IconButton_106_5_$1,tbSeparator_115_5_$1,splitButton_116_5_$1,tbSeparator_150_5_$1,ui_IconButton_152_5_$1];var layout_HBox_162_5_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_162_5_$1,
"align","middle");AS3.setBindable(config_$1,"layout",layout_HBox_162_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$5EM$(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.preview.PreviewPanelToolbarBase",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.previewPanelToolbar",constructor:PreviewPanelToolbar$,super$5EM$:function(){com.coremedia.cms.editor.sdk.preview.PreviewPanelToolbarBase.prototype.constructor.apply(this,arguments)},config:{collapseHandler:null,
reloadHandler:null},statics:{COLLAPSE_BUTTON_ITEM_ID:"collapseButton",RELOAD_SEPARATOR_ITEM_ID:"reloadSeparator",RELOAD_BUTTON_ITEM_ID:"reloadButton",OPEN_IN_BROWSER_SEPARATOR_ITEM_ID:"openInBrowserToolbarSeparator",OPEN_IN_BROWSER_MENU_ITEM_ID:"openInBrowserPreviewToolbarMenuItem",BOOKMARK_SEPARATOR_ITEM_ID:"bookmarkPreviewToolbarSeparator",BOOKMARK_BUTTON_ITEM_ID:"bookmarkButton",SEND_LINK_MENU_ITEM_ID:"sendLink"},requires:["Ext.button.Split","Ext.layout.container.HBox","Ext.menu.Item","Ext.menu.Menu",
"Ext.toolbar.Separator","Ext.toolbar.Spacer","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.preview.PreviewPanelToolbarBase","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.components.IconButton","com.coremedia.ui.plugins.AddItemsPlugin","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.util.UrlUtil","ext.ActionRef","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.bookmarks.BookmarkAction","com.coremedia.cms.editor.sdk.plugins.OnlyIf"]}});Ext.define("com.coremedia.cms.editor.sdk.preview.DevelopmentModeButton",function(DevelopmentModeButton){function DevelopmentModeButton$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.preview.DevelopmentModeButtonBase,{});var defaults_$1=AS3.cast(DevelopmentModeButton,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.enableToggle=true;config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.TOOLBAR_DARK.getSkin());
config_$1.itemId="bookmarkButton";AS3.setBindable(config_$1,"text",net.jangaroo.ext.Exml.asString(com.coremedia.ui.util.AriaUtils.DUMMY_TEXT));AS3.setBindable(config_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","type_theming")));net.jangaroo.ext.Exml.apply(config_$1,config);this.super$0lzG(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.preview.DevelopmentModeButtonBase",alias:"widget.com.coremedia.cms.editor.sdk.config.developmentModeButton",
constructor:DevelopmentModeButton$,super$0lzG:function(){com.coremedia.cms.editor.sdk.preview.DevelopmentModeButtonBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.preview.DevelopmentModeButtonBase","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.util.AriaUtils","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.preview.PreviewIFrameToolbar",function(PreviewIFrameToolbar){function PreviewIFrameToolbar$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.preview.PreviewIFrameToolbarBase,{});var defaults_$1=AS3.cast(PreviewIFrameToolbar,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","PreviewIFrameToolbar_label"));
AS3.setBindable(config_$1,"height",40);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.PREVIEW.getSkin());config_$1.excludeInputFields=true;var ui_HideObsoleteSeparatorsPlugin_77_5_$1=AS3.cast(com.coremedia.ui.plugins.HideObsoleteSeparatorsPlugin,{});var editor_OnlyIf_78_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.plugins.OnlyIf,{});AS3.setBindable(editor_OnlyIf_78_5_$1,"isMemberOf",net.jangaroo.ext.Exml.asString(this.getDeveloperGroups()));var ui_AddItemsPlugin_80_9_$1=
AS3.cast(com.coremedia.ui.plugins.AddItemsPlugin,{});var editor_DevelopmentModeButton_82_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.preview.DevelopmentModeButton,{});editor_DevelopmentModeButton_82_13_$1.itemId="developmentMode";AS3.setBindable(ui_AddItemsPlugin_80_9_$1,"items",[editor_DevelopmentModeButton_82_13_$1]);var component_85_13_$1=AS3.cast(Ext.Component,{});component_85_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.preview.PreviewIFrameToolbarBase.DEVICE_TYPE_SLIDER_SPACER_ITEM_ID);
AS3.setBindable(ui_AddItemsPlugin_80_9_$1,"before",[component_85_13_$1]);AS3.setBindable(editor_OnlyIf_78_5_$1,"then",ui_AddItemsPlugin_80_9_$1);config_$1.plugins=[ui_HideObsoleteSeparatorsPlugin_77_5_$1,editor_OnlyIf_78_5_$1];var tbSpacer_92_5_$1=AS3.cast(Ext.toolbar.Spacer,{});AS3.setBindable(tbSpacer_92_5_$1,"width",18);tbSpacer_92_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.preview.PreviewIFrameToolbarBase.DEVICE_TYPE_SLIDER_SPACER_ITEM_ID);AS3.setBindable(tbSpacer_92_5_$1,
"hidden",true);var editor_DeviceTypeSlider_96_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.preview.zoom.DeviceTypeSlider,{});editor_DeviceTypeSlider_96_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.preview.PreviewIFrameToolbarBase.DEVICE_TYPE_SLIDER_ITEM_ID);AS3.setBindable(editor_DeviceTypeSlider_96_5_$1,"deviceInfoValueExpression",AS3.getBindable(config,"deviceInfoValueExpression"));AS3.setBindable(editor_DeviceTypeSlider_96_5_$1,"selectedDeviceValueExpression",AS3.getBindable(config,
"selectedDeviceValueExpression"));var tbFill_99_5_$1=AS3.cast(Ext.toolbar.Fill,{});var container_101_5_$1=AS3.cast(Ext.container.Container,{});container_101_5_$1.itemId=net.jangaroo.ext.Exml.asString(PreviewIFrameToolbar.PREVIEW_IFRAME_TOOLBAR_BUTTON_WRAPPER_ITEM_ID);AS3.setBindable(container_101_5_$1,"hidden",true);container_101_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.GROUP.getSkin());var ui_IconButton_105_9_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});
ui_IconButton_105_9_$1.itemId=net.jangaroo.ext.Exml.asString(PreviewIFrameToolbar.RESPONSIVE_MODE_BUTTON_ITEM_ID);ui_IconButton_105_9_$1.enableToggle=true;ui_IconButton_105_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.TOOLBAR_DARK_GROUPED.getSkin());AS3.setBindable(ui_IconButton_105_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","preview_responsive")));var editor_SetScaleModeAction_110_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.preview.zoom.SetScaleModeAction,
{});AS3.setBindable(editor_SetScaleModeAction_110_13_$1,"scaleModeValueExpression",AS3.getBindable(config,"scaleModeValueExpression"));AS3.setBindable(editor_SetScaleModeAction_110_13_$1,"value",false);ui_IconButton_105_9_$1.baseAction=new com.coremedia.cms.editor.sdk.preview.zoom.SetScaleModeAction(editor_SetScaleModeAction_110_13_$1);var ui_IconSplitButton_114_9_$1=AS3.cast(com.coremedia.ui.components.IconSplitButton,{});ui_IconSplitButton_114_9_$1.itemId=net.jangaroo.ext.Exml.asString(PreviewIFrameToolbar.FULL_WIDTH_BUTTON_ITEM_ID);
ui_IconSplitButton_114_9_$1.enableToggle=true;ui_IconSplitButton_114_9_$1.menuAlign="tr-br?";ui_IconSplitButton_114_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.TOOLBAR_DARK_GROUPED.getSkin());AS3.setBindable(ui_IconSplitButton_114_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","preview_overview")));var editor_SetScaleModeAction_120_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.preview.zoom.SetScaleModeAction,
{});AS3.setBindable(editor_SetScaleModeAction_120_13_$1,"scaleModeValueExpression",AS3.getBindable(config,"scaleModeValueExpression"));AS3.setBindable(editor_SetScaleModeAction_120_13_$1,"value",true);ui_IconSplitButton_114_9_$1.baseAction=new com.coremedia.cms.editor.sdk.preview.zoom.SetScaleModeAction(editor_SetScaleModeAction_120_13_$1);var editor_PreviewZoomMenu_124_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.preview.zoom.PreviewZoomMenu,{});AS3.setBindable(editor_PreviewZoomMenu_124_13_$1,"sliderZoomValueExpression",
AS3.getBindable(config,"sliderZoomValueExpression"));ui_IconSplitButton_114_9_$1.menu=editor_PreviewZoomMenu_124_13_$1;container_101_5_$1.items=[ui_IconButton_105_9_$1,ui_IconSplitButton_114_9_$1];var layout_HBox_129_9_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(container_101_5_$1,"layout",layout_HBox_129_9_$1);config_$1.items=[tbSpacer_92_5_$1,editor_DeviceTypeSlider_96_5_$1,tbFill_99_5_$1,container_101_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$mZXl(config_$1)}
return{extend:"com.coremedia.cms.editor.sdk.preview.PreviewIFrameToolbarBase",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.previewIFrameToolbar",constructor:PreviewIFrameToolbar$,super$mZXl:function(){com.coremedia.cms.editor.sdk.preview.PreviewIFrameToolbarBase.prototype.constructor.apply(this,arguments)},config:{deviceInfoValueExpression:null,selectedDeviceValueExpression:null,scaleModeValueExpression:null,sliderZoomValueExpression:null},statics:{FULL_WIDTH_BUTTON_ITEM_ID:"fullWidthButton",
PREVIEW_IFRAME_TOOLBAR_BUTTON_WRAPPER_ITEM_ID:"previewIframeToolbarButtonWrapper",RESPONSIVE_MODE_BUTTON_ITEM_ID:"responsiveModeButton",DEVELOPMENT_MODE_BUTTON_ITEM_ID:"developmentMode"},requires:["Ext.Component","Ext.container.Container","Ext.layout.container.HBox","Ext.toolbar.Fill","Ext.toolbar.Spacer","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.preview.PreviewIFrameToolbarBase","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.components.IconButton","com.coremedia.ui.components.IconSplitButton",
"com.coremedia.ui.plugins.AddItemsPlugin","com.coremedia.ui.plugins.HideObsoleteSeparatorsPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.ContainerSkin","com.coremedia.ui.skins.ToolbarSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.plugins.OnlyIf","com.coremedia.cms.editor.sdk.preview.DevelopmentModeButton","com.coremedia.cms.editor.sdk.preview.zoom.DeviceTypeSlider","com.coremedia.cms.editor.sdk.preview.zoom.PreviewZoomMenu","com.coremedia.cms.editor.sdk.preview.zoom.SetScaleModeAction"]}});Ext.define("com.coremedia.cms.editor.sdk.preview.PreviewIFrameToolbarBase",function(PreviewIFrameToolbarBase){function PreviewIFrameToolbarBase$(config){if(arguments.length<=0)config=null;this.super$8UFW(config);this.mon(this,"afterlayout",AS3.bind(this,"setSpacerVisibility"))}function setSpacerVisibility(){var spacer=this.queryById(PreviewIFrameToolbarBase.DEVICE_TYPE_SLIDER_SPACER_ITEM_ID);var deviceTypeSlider=this.queryById(PreviewIFrameToolbarBase.DEVICE_TYPE_SLIDER_ITEM_ID);if(deviceTypeSlider.el.dom.offsetLeft>
10)AS3.setBindable(spacer,"hidden",false)}function getDeveloperGroups(){var themeUpload=com.coremedia.cms.editor.sdk.editorContext.getConfiguration()["themeUpload"];if(themeUpload)return themeUpload["developerGroups"];return""}return{extend:"Ext.toolbar.Toolbar",constructor:PreviewIFrameToolbarBase$,super$8UFW:function(){Ext.toolbar.Toolbar.prototype.constructor.apply(this,arguments)},setSpacerVisibility:setSpacerVisibility,getDeveloperGroups:getDeveloperGroups,statics:{DEVICE_TYPE_SLIDER_SPACER_ITEM_ID:"deviceTypeSliderSpacer",
DEVICE_TYPE_SLIDER_ITEM_ID:"deviceTypeSlider"},requires:["Ext.toolbar.Toolbar"],uses:["com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.preview.zoom.PreviewZoomMenu",function(PreviewZoomMenu){function PreviewZoomMenu$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.preview.zoom.PreviewZoomMenuBase,{});var defaults_$1=AS3.cast(PreviewZoomMenu,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.tabNavigationMode=ext.mixin.AdvancedFocusableContainerMixin.TAB_NAVIGATION_MODE_ONLY;config_$1.plain=true;AS3.setBindable(config_$1,"height",
200);AS3.setBindable(config_$1,"minWidth",18);AS3.setBindable(config_$1,"maxWidth",35);var ui_IconButton_41_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_41_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE.getSkin());AS3.setBindable(ui_IconButton_41_5_$1,"scale","small");AS3.setBindable(ui_IconButton_41_5_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","zoom_in")));AS3.setBindable(ui_IconButton_41_5_$1,
"handler",AS3.bind(this,"zoomIn"));AS3.setBindable(ui_IconButton_41_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","PreviewZoomMenu_zoom-in_text")));AS3.setBindable(ui_IconButton_41_5_$1,"margin","0 0 6 0");var sliderField_47_5_$1=AS3.cast(Ext.slider.Single,{});sliderField_47_5_$1.vertical=true;sliderField_47_5_$1.flex=1;AS3.setBindable(sliderField_47_5_$1,"minValue",0);AS3.setBindable(sliderField_47_5_$1,"maxValue",PreviewZoomMenu.MAX_VALUE);
var ui_BindPropertyPlugin_52_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_52_9_$1.bidirectional=true;ui_BindPropertyPlugin_52_9_$1.bindTo=AS3.getBindable(config,"sliderZoomValueExpression");sliderField_47_5_$1.plugins=[ui_BindPropertyPlugin_52_9_$1];var ui_IconButton_56_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_56_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE.getSkin());AS3.setBindable(ui_IconButton_56_5_$1,
"scale","small");AS3.setBindable(ui_IconButton_56_5_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","zoom_out")));AS3.setBindable(ui_IconButton_56_5_$1,"handler",AS3.bind(this,"zoomOut"));AS3.setBindable(ui_IconButton_56_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","PreviewZoomMenu_zoom-out_text")));AS3.setBindable(ui_IconButton_56_5_$1,"margin","6 0 0 0");config_$1.items=[ui_IconButton_41_5_$1,
sliderField_47_5_$1,ui_IconButton_56_5_$1];var layout_VBox_65_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_65_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_65_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$z1vV(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.preview.zoom.PreviewZoomMenuBase",alias:"widget.com.coremedia.cms.editor.sdk.config.previewZoomMenu",constructor:PreviewZoomMenu$,super$z1vV:function(){com.coremedia.cms.editor.sdk.preview.zoom.PreviewZoomMenuBase.prototype.constructor.apply(this,
arguments)},config:{sliderZoomValueExpression:null},statics:{MAX_VALUE:100},requires:["Ext.layout.container.VBox","Ext.slider.Single","com.coremedia.cms.editor.sdk.preview.zoom.PreviewZoomMenuBase","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.components.IconButton","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.skins.ButtonSkin","ext.mixin.AdvancedFocusableContainerMixin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.preview.zoom.DeviceTypeSliderBase",function(DeviceTypeSliderBase){function DeviceTypeSliderBase$(config){if(arguments.length<=0)config=null;this.super$CowT(config);this.deviceInfoValueExpression$CowT=AS3.getBindable(config,"deviceInfoValueExpression");this.selectedDeviceValueExpression$CowT=AS3.getBindable(config,"selectedDeviceValueExpression");this.preferredDeviceValueExpression$CowT=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(undefined);
this.on("afterrender",AS3.bind(this,"initListeners$CowT"));this.on("destroy",AS3.bind(this,"removeListeners$CowT"))}function initListeners(){this.deviceInfoValueExpression$CowT.addChangeListener(AS3.bind(this,"updateLocalModel$CowT"));this.getModel().addPropertyChangeListener(DeviceTypeSliderBase.MODEL_INDEX,AS3.bind(this,"updateExternalModel$CowT"))}function removeListeners(){this.deviceInfoValueExpression$CowT.removeChangeListener(AS3.bind(this,"updateLocalModel$CowT"));this.getModel().removePropertyChangeListener(DeviceTypeSliderBase.MODEL_INDEX,
AS3.bind(this,"updateExternalModel$CowT"))}function getModel(){if(!this.model$CowT)this.model$CowT=com.coremedia.ui.data.beanFactory.createLocalBean({selectedIndex:-1,maxIndex:0});return this.model$CowT}function resetModel(){this.getModel().set(DeviceTypeSliderBase.MODEL_INDEX,-1);this.getModel().set(DeviceTypeSliderBase.MODEL_MAXINDEX,0)}function updateLocalModel(){var deviceInfo=AS3.as(this.deviceInfoValueExpression$CowT.getValue(),com.coremedia.cms.editor.sdk.preview.zoom.DeviceInfo);if(!deviceInfo){this.resetModel();
this.hide();return}var model=this.getModel();var length=deviceInfo.getDevices().length;if(model.get(DeviceTypeSliderBase.MODEL_MAXINDEX)!=length-1)model.set(DeviceTypeSliderBase.MODEL_MAXINDEX,length-1);var currentModelIndex=AS3.as(model.get(DeviceTypeSliderBase.MODEL_INDEX),Number);if(this.preferredDeviceType$CowT&&!this.preferredDeviceValueExpression$CowT.getValue()){var preferredDeviceObject=this.readPreferredDevice$CowT(deviceInfo);if(preferredDeviceObject){var preferredDeviceIdx=deviceInfo.getDeviceIndex(preferredDeviceObject);
model.set(DeviceTypeSliderBase.MODEL_INDEX,preferredDeviceIdx);this.preferredDeviceValueExpression$CowT.setValue(this.preferredDeviceType$CowT)}}if(!this.selectedDeviceValueExpression$CowT.getValue()){var storedDevice=readSelectedDevice$static(deviceInfo);var defaultDeviceIndex=deviceInfo.getDeviceIndex(deviceInfo.getDefaultDevice());if(storedDevice){var storedDeviceIndex=deviceInfo.getDeviceIndex(storedDevice);model.set(DeviceTypeSliderBase.MODEL_INDEX,storedDeviceIndex)}else if(defaultDeviceIndex!==
-1&&currentModelIndex!==defaultDeviceIndex)model.set(DeviceTypeSliderBase.MODEL_INDEX,defaultDeviceIndex);else model.set(DeviceTypeSliderBase.MODEL_INDEX,length-1)}else if(!this.preferredDeviceValueExpression$CowT.getValue()&&currentModelIndex!==deviceInfo.getDeviceIndex(this.selectedDeviceValueExpression$CowT.getValue()))model.set(DeviceTypeSliderBase.MODEL_INDEX,deviceInfo.getDeviceIndex(this.selectedDeviceValueExpression$CowT.getValue()));if(length>1)this.show();else this.hide()}function updateExternalModel(){if(!this.selectedDeviceValueExpression$CowT||
!this.deviceInfoValueExpression$CowT)return;if(Ext.isIE&&Ext.isIE8){!this.disabled&&this.disable();return}var deviceInfo=AS3.as(this.deviceInfoValueExpression$CowT.getValue(),com.coremedia.cms.editor.sdk.preview.zoom.DeviceInfo);if(!deviceInfo)return;var currentModelIndex=AS3.as(this.getModel().get(DeviceTypeSliderBase.MODEL_INDEX),Number);var newDevice=deviceInfo.getDeviceAt(currentModelIndex);var oldDevice=this.selectedDeviceValueExpression$CowT.getValue();this.selectedDeviceValueExpression$CowT.setValue(newDevice);
storeSelectedDevice$static(newDevice,oldDevice)}function storeSelectedDevice$static(newDevice,oldDevice){if(oldDevice&&newDevice&&oldDevice!==newDevice)com.coremedia.ui.util.LocalStorageUtil.setItem(DeviceTypeSliderBase.LOCAL_STORAGE_SELECTED_DEVICE_KEY,newDevice["id"])}function readSelectedDevice$static(deviceInfo){var deviceId=com.coremedia.ui.util.LocalStorageUtil.getItem(DeviceTypeSliderBase.LOCAL_STORAGE_SELECTED_DEVICE_KEY);return deviceId?deviceInfo.getDevice(deviceId):null}function readPreferredDevice(deviceInfo){return this.preferredDeviceType$CowT?
deviceInfo.getDevice(this.preferredDeviceType$CowT):null}function getLocalizedText$static(device){return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.DeviceTypes","Device_"+device.id+"_text")}function getIconClass$static(device){return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.DeviceTypes","Device_"+device.id+"_icon")}function getSliderComponent(){return AS3.as(this.queryById(DeviceTypeSliderBase.SLIDER_COMPONENT_ITEM_ID),Ext.slider.Single)}
function disable(silent){if(arguments.length<=0)silent=false;this.getSliderComponent$CowT().disable(silent);return Ext.container.Container.prototype.disable.call(this,silent)}function enable(silent){if(arguments.length<=0)silent=false;this.getSliderComponent$CowT().enable(silent);return Ext.container.Container.prototype.enable.call(this,silent)}function getPreferredDevice(preferredDevice){this.preferredDeviceType$CowT=preferredDevice}return{extend:"Ext.container.Container",metadata:{getPreferredDevice:["InjectFromExtParent"]},
model$CowT:null,deviceInfoValueExpression$CowT:null,selectedDeviceValueExpression$CowT:null,preferredDeviceValueExpression$CowT:null,preferredDeviceType$CowT:null,constructor:DeviceTypeSliderBase$,super$CowT:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},initListeners$CowT:initListeners,removeListeners$CowT:removeListeners,getModel:getModel,resetModel:resetModel,updateLocalModel$CowT:updateLocalModel,updateExternalModel$CowT:updateExternalModel,readPreferredDevice$CowT:readPreferredDevice,
getSliderComponent$CowT:getSliderComponent,disable:disable,enable:enable,getPreferredDevice:getPreferredDevice,statics:{SLIDER_COMPONENT_ITEM_ID:"sliderComponent",LOCAL_STORAGE_SELECTED_DEVICE_KEY:"preview.selectedDevice",MODEL_INDEX:"selectedIndex",MODEL_MAXINDEX:"maxIndex",INCREMENT_VALUE:1,getLocalizedText:getLocalizedText$static,getIconClass:getIconClass$static},requires:["Ext","Ext.container.Container","Ext.slider.Single","com.coremedia.cms.editor.DeviceTypes_properties","com.coremedia.ui.data.ValueExpressionFactory",
"com.coremedia.ui.data.beanFactory","com.coremedia.ui.util.LocalStorageUtil","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.preview.zoom.DeviceInfo"]}});Ext.define("com.coremedia.cms.editor.sdk.preview.zoom.PreviewZoomMenuBase",function(PreviewZoomMenuBase){function PreviewZoomMenuBase$(config){if(arguments.length<=0)config=null;this.super$3r7G(config);this.slider$3r7G=AS3.cast(Ext.slider.Single,this.down("slider"))}function zoomIn(){this.slider$3r7G.setValue(this.slider$3r7G.maxValue)}function zoomOut(){this.slider$3r7G.setValue(this.slider$3r7G.minValue)}return{extend:"com.coremedia.ui.components.IFrameAwareMenu",slider$3r7G:null,constructor:PreviewZoomMenuBase$,
super$3r7G:function(){com.coremedia.ui.components.IFrameAwareMenu.prototype.constructor.apply(this,arguments)},zoomIn:zoomIn,zoomOut:zoomOut,requires:["Ext.slider.Single","com.coremedia.ui.components.IFrameAwareMenu"]}});Ext.define("com.coremedia.cms.editor.sdk.preview.zoom.DeviceInfo",function(DeviceInfo){function DeviceInfo$(){this.super$JNPV();this.set("devices",[])}function setData(devices){this.set("devices",devices)}function getDevices(){return AS3.as(this.get("devices"),Array)}function getDefaultDevice(){var devices=this.getDevices();for(var i=0;i<devices.length;i++){var device=devices[i];if(device["isDefault"])return device}return undefined}function getDevice(id){var devices=this.getDevices();for(var i=0;i<
devices.length;i++){var device=devices[i];if(device["id"]===id)return device}return undefined}function getDeviceAt(index){return this.getDevices()[index]}function getDeviceIndex(type){var devices=this.getDevices();if(type)for(var i=0;i<devices.length;i++){var device=devices[i];if(device["id"]===type["id"])return i}return-1}return{extend:"com.coremedia.ui.data.impl.BeanImpl",constructor:DeviceInfo$,super$JNPV:function(){com.coremedia.ui.data.impl.BeanImpl.prototype.constructor.apply(this,arguments)},
setData:setData,getDevices:getDevices,getDefaultDevice:getDefaultDevice,getDevice:getDevice,getDeviceAt:getDeviceAt,getDeviceIndex:getDeviceIndex,requires:["com.coremedia.ui.data.impl.BeanImpl"]}});Ext.define("com.coremedia.cms.editor.sdk.preview.zoom.DeviceTypeSlider",function(DeviceTypeSlider){function DeviceTypeSlider$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.preview.zoom.DeviceTypeSliderBase,{});var defaults_$1=AS3.cast(DeviceTypeSlider,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"hidden",true);AS3.setBindable(config_$1,"width",Number(this.resourceManager.getString("com.coremedia.cms.editor.DeviceTypes",
"Device_label_width"))+DeviceTypeSlider.SLIDER_WIDTH);var tbSpacer_46_5_$1=AS3.cast(Ext.toolbar.Spacer,{});AS3.setBindable(tbSpacer_46_5_$1,"width",6);var sliderField_47_5_$1=AS3.cast(Ext.slider.Single,{});AS3.setBindable(sliderField_47_5_$1,"width",DeviceTypeSlider.SLIDER_WIDTH);sliderField_47_5_$1.increment=com.coremedia.cms.editor.sdk.preview.zoom.DeviceTypeSliderBase.INCREMENT_VALUE;sliderField_47_5_$1.animated=false;sliderField_47_5_$1.useTips=false;sliderField_47_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.preview.zoom.DeviceTypeSliderBase.SLIDER_COMPONENT_ITEM_ID);
var ui_BindPropertyPlugin_53_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_53_9_$1.componentProperty="maxValue";var ui_ValueExpression_55_13_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_55_13_$1,"context",this.getModel());AS3.setBindable(ui_ValueExpression_55_13_$1,"expression",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.preview.zoom.DeviceTypeSliderBase.MODEL_MAXINDEX));ui_BindPropertyPlugin_53_9_$1.bindTo=
new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_55_13_$1);var ui_BindPropertyPlugin_59_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_59_9_$1.bidirectional=true;var ui_ValueExpression_61_13_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_61_13_$1,"context",this.getModel());AS3.setBindable(ui_ValueExpression_61_13_$1,"expression",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.preview.zoom.DeviceTypeSliderBase.MODEL_INDEX));
ui_BindPropertyPlugin_59_9_$1.bindTo=new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_61_13_$1);sliderField_47_5_$1.plugins=[ui_BindPropertyPlugin_53_9_$1,ui_BindPropertyPlugin_59_9_$1];var tbSpacer_67_5_$1=AS3.cast(Ext.toolbar.Spacer,{});AS3.setBindable(tbSpacer_67_5_$1,"width",6);var ui_IconDisplayField_68_5_$1=AS3.cast(com.coremedia.ui.components.IconDisplayField,{});AS3.setBindable(ui_IconDisplayField_68_5_$1,"scale","small");ui_IconDisplayField_68_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.IconDisplayFieldSkin.DEFAULT.getSkin());
AS3.setBindable(ui_IconDisplayField_68_5_$1,"width",parseInt(this.resourceManager.getString("com.coremedia.cms.editor.DeviceTypes","Device_label_width")));var ui_BindPropertyPlugin_72_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_72_9_$1.bidirectional=false;ui_BindPropertyPlugin_72_9_$1.componentProperty="text";ui_BindPropertyPlugin_72_9_$1.bindTo=AS3.getBindable(config,"selectedDeviceValueExpression");ui_BindPropertyPlugin_72_9_$1.transformer=com.coremedia.cms.editor.sdk.preview.zoom.DeviceTypeSliderBase.getLocalizedText;
ui_BindPropertyPlugin_72_9_$1.ifUndefined=this.resourceManager.getString("com.coremedia.cms.editor.DeviceTypes","Device_default_text");var ui_BindPropertyPlugin_77_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_77_9_$1.bidirectional=false;ui_BindPropertyPlugin_77_9_$1.componentProperty="iconCls";ui_BindPropertyPlugin_77_9_$1.bindTo=AS3.getBindable(config,"selectedDeviceValueExpression");ui_BindPropertyPlugin_77_9_$1.transformer=com.coremedia.cms.editor.sdk.preview.zoom.DeviceTypeSliderBase.getIconClass;
ui_BindPropertyPlugin_77_9_$1.ifUndefined=this.resourceManager.getString("com.coremedia.cms.editor.DeviceTypes","Device_default_icon");ui_IconDisplayField_68_5_$1.plugins=[ui_BindPropertyPlugin_72_9_$1,ui_BindPropertyPlugin_77_9_$1];config_$1.items=[tbSpacer_46_5_$1,sliderField_47_5_$1,tbSpacer_67_5_$1,ui_IconDisplayField_68_5_$1];var layout_HBox_86_5_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_86_5_$1,"align","middle");AS3.setBindable(config_$1,"layout",layout_HBox_86_5_$1);
net.jangaroo.ext.Exml.apply(config_$1,config);this.super$_6ci(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.preview.zoom.DeviceTypeSliderBase",alias:"widget.com.coremedia.cms.editor.sdk.config.deviceTypeSlider",constructor:DeviceTypeSlider$,super$_6ci:function(){com.coremedia.cms.editor.sdk.preview.zoom.DeviceTypeSliderBase.prototype.constructor.apply(this,arguments)},config:{deviceInfoValueExpression:null,selectedDeviceValueExpression:null},statics:{SLIDER_WIDTH:150},requires:["Ext.layout.container.HBox",
"Ext.slider.Single","Ext.toolbar.Spacer","com.coremedia.cms.editor.DeviceTypes_properties","com.coremedia.cms.editor.sdk.preview.zoom.DeviceTypeSliderBase","com.coremedia.ui.components.IconDisplayField","com.coremedia.ui.exml.ValueExpression","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.skins.IconDisplayFieldSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.preview.zoom.SetScaleModeAction",function(SetScaleModeAction){function SetScaleModeAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.preview.zoom.SetScaleModeActionBase,{});var defaults_$1=AS3.cast(SetScaleModeAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"handler",AS3.bind(this,"scaleModeHandler"));net.jangaroo.ext.Exml.apply(config_$1,config);this.super$q8aS(config_$1)}
return{extend:"com.coremedia.cms.editor.sdk.preview.zoom.SetScaleModeActionBase",constructor:SetScaleModeAction$,super$q8aS:function(){com.coremedia.cms.editor.sdk.preview.zoom.SetScaleModeActionBase.prototype.constructor.apply(this,arguments)},config:{scaleModeValueExpression:null,value:false},requires:["com.coremedia.cms.editor.sdk.preview.zoom.SetScaleModeActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.preview.zoom.SetScaleModeActionBase",function(SetScaleModeActionBase){function SetScaleModeActionBase$(config){if(arguments.length<=0)config=null;this.value$3XOD=AS3.getBindable(config,"value");this.super$3XOD(AS3.cast(com.coremedia.cms.editor.sdk.preview.zoom.SetScaleModeAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,this.value$3XOD?"fullWidth":"responsiveMode")));this.scaleModeValueExpression$3XOD=AS3.getBindable(config,
"scaleModeValueExpression")}function addComponent(comp){Ext.Action.prototype.addComponent.call(this,comp);comp.on("menushow",AS3.bind(this,"scaleModeHandler"));this.scaleModeValueExpression$3XOD.addChangeListener(AS3.bind(this,"updatePressed"));this.updatePressed()}function removeComponent(comp){Ext.Action.prototype.removeComponent.call(this,comp);comp.un("menushow",AS3.bind(this,"scaleModeHandler"));if(this.items&&this.items.length===0)this.scaleModeValueExpression$3XOD&&this.scaleModeValueExpression$3XOD.removeChangeListener(AS3.bind(this,
"updatePressed"))}function scaleModeHandler(){this.scaleModeValueExpression$3XOD.setValue(this.value$3XOD);this.updatePressed();if(this.previewZoomStateWriter$3XOD)this.previewZoomStateWriter$3XOD.triggerWrite()}function updatePressed(){var pressed=!!this.scaleModeValueExpression$3XOD.getValue()===this.value$3XOD;this.each(function(component){var button=AS3.as(component,Ext.button.Button);if(button)button.toggle(pressed)})}function setPreviewZoomStateWriter(zoomStateWriter){this.previewZoomStateWriter$3XOD=
zoomStateWriter}return{extend:"Ext.Action",metadata:{setPreviewZoomStateWriter:["InjectFromExtParent"]},scaleModeValueExpression$3XOD:null,previewZoomStateWriter$3XOD:null,value$3XOD:false,constructor:SetScaleModeActionBase$,super$3XOD:function(){Ext.Action.prototype.constructor.apply(this,arguments)},addComponent:addComponent,removeComponent:removeComponent,scaleModeHandler:scaleModeHandler,updatePressed:updatePressed,setPreviewZoomStateWriter:setPreviewZoomStateWriter,requires:["Ext.Action","Ext.button.Button"],
uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil","com.coremedia.cms.editor.sdk.preview.zoom.SetScaleModeAction"]}});Ext.define("com.coremedia.cms.editor.sdk.preview.zoom.PreviewZoomStateWriter",function(PreviewZoomStateWriter){function PreviewZoomStateWriter$(scaleModeValueExpression,sliderZoomValueExpression){this.scaleModeValueExpression$Rxja=scaleModeValueExpression;this.sliderZoomValueExpression$Rxja=sliderZoomValueExpression;sliderZoomValueExpression.addChangeListener(AS3.bind(this,"zoomValueChanged$Rxja"))}function zoomValueChanged(){com.coremedia.ui.util.LocalStorageUtil.setItem(PreviewZoomStateWriter.LOCAL_STORAGE_SLIDER_ZOOM_KEY,
this.sliderZoomValueExpression$Rxja.getValue())}function triggerWrite(){com.coremedia.ui.util.LocalStorageUtil.setItem(PreviewZoomStateWriter.LOCAL_STORAGE_SCALE_MODE_KEY,this.scaleModeValueExpression$Rxja.getValue())}function destroy(){this.sliderZoomValueExpression$Rxja.removeChangeListener(AS3.bind(this,"zoomValueChanged$Rxja"))}function getStoredScaleMode$static(){return com.coremedia.ui.util.LocalStorageUtil.getItem(PreviewZoomStateWriter.LOCAL_STORAGE_SCALE_MODE_KEY)=="true"}function getStoredSliderZoom$static(){var rawValue=
com.coremedia.ui.util.LocalStorageUtil.getItem(PreviewZoomStateWriter.LOCAL_STORAGE_SLIDER_ZOOM_KEY);return rawValue===null?NaN:Number(rawValue)}return{scaleModeValueExpression$Rxja:null,sliderZoomValueExpression$Rxja:null,constructor:PreviewZoomStateWriter$,zoomValueChanged$Rxja:zoomValueChanged,triggerWrite:triggerWrite,destroy:destroy,statics:{LOCAL_STORAGE_SCALE_MODE_KEY:"preview.scaleMode",LOCAL_STORAGE_SLIDER_ZOOM_KEY:"preview.sliderZoom",getStoredScaleMode:getStoredScaleMode$static,getStoredSliderZoom:getStoredSliderZoom$static},
requires:["com.coremedia.ui.util.LocalStorageUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.preview.PreviewURI",function(PreviewURI){function PreviewURI$(uri,source,transformers,callback,parameters){if(arguments.length<=4)parameters=null;AS3.assert(uri&&"Preview URI must be set","PreviewURI.as",33,5);this._uri$aqE4=net.jangaroo.net.URIUtils.parse(uri);AS3.assert(source&&"Preview source must be set","PreviewURI.as",35,5);this._source$aqE4=source;AS3.assert(transformers&&"Transformers must be set","PreviewURI.as",37,5);this._transformers$aqE4=transformers;
AS3.assert(callback&&"Callback must be set","PreviewURI.as",39,5);this._callback$aqE4=callback;this._parameters$aqE4=parameters||{};Ext.apply(this._parameters$aqE4,Ext.Object.fromQueryString(this._uri$aqE4.query||""));this._uri$aqE4["query"]=null}function getUri(){return this._uri$aqE4}function getSource(){return this._source$aqE4}function getParameters(){return this._parameters$aqE4}function setParameter(name,value){var old=this._parameters$aqE4[name];this._parameters$aqE4[name]=value;return old}
function appendParameter(name,value){var arr=com.coremedia.ui.util.ArrayUtils.asArray(this._parameters$aqE4[name]);arr.push(value);this._parameters$aqE4[name]=arr}function toString(){if(AS3.is(this._parameters$aqE4,com.coremedia.ui.data.Bean))this._parameters$aqE4=AS3.cast(com.coremedia.ui.data.Bean,this._parameters$aqE4).toObject();com.coremedia.ui.util.ObjectUtils.removeUndefinedOrNullProperties(this._parameters$aqE4);com.coremedia.ui.logging.Logger.debug(PreviewURI+": appending query parameters '"+
this._parameters$aqE4.toString()+"' to preview URI "+this._uri$aqE4.toString());return Ext.String.urlAppend(this._uri$aqE4.toString(),Ext.Object.toQueryString(this._parameters$aqE4))}function transform(){var transformer=this._transformers$aqE4.shift();if(transformer){com.coremedia.ui.logging.Logger.debug(PreviewURI+" invoking transformer "+this._transformers$aqE4.length);transformer(this,AS3.bind(this,"transform"))}else{var result=this.toString();com.coremedia.ui.logging.Logger.debug(PreviewURI+" invoking callback with uri "+
result);this._callback$aqE4(result)}}return{metadata:{"":["PublicApi"]},_uri$aqE4:null,_source$aqE4:null,_parameters$aqE4:null,_transformers$aqE4:null,_callback$aqE4:null,constructor:PreviewURI$,getUri:getUri,getSource:getSource,getParameters:getParameters,setParameter:setParameter,appendParameter:appendParameter,toString:toString,transform:transform,requires:["Ext","Ext.Object","Ext.String","com.coremedia.ui.data.Bean","com.coremedia.ui.logging.Logger","com.coremedia.ui.util.ArrayUtils","com.coremedia.ui.util.ObjectUtils",
"net.jangaroo.net.URIUtils"]}});Ext.define("com.coremedia.cms.editor.sdk.preview.PreviewContextMenuBase",function(PreviewContextMenuBase){function PreviewContextMenuBase$(config){if(arguments.length<=0)config=null;this.super$zc6t(config);this["doFocus"]=function(){}}function afterRender(){Ext.menu.Menu.prototype.afterRender.call(this);this.mon(this.getEl(),"contextmenu",function(evt){evt.preventDefault()})}function onFocusLeave(e){Ext.panel.Panel["prototype"].onFocusLeave.call(this,e);this["lastFocusedChild"]=null;this["mixins"].focusablecontainer.onFocusLeave.call(this,
e)}function setCurrentPreviewContent(content){this.currentPreviewContent$zc6t=content}function disableBreadcrumbElementStrategy(elementId,treeModel){var metadataNode=AS3.as(treeModel.getNodeModel(elementId),com.coremedia.cms.editor.sdk.preview.metadata.MetadataTreeNode);return!metadataNode||com.coremedia.cms.editor.sdk.preview.MetadataHelper.isPropertyMetadataNode(metadataNode)||com.coremedia.cms.editor.sdk.preview.MetadataHelper.getBeanMetadataValue(metadataNode)===this.currentPreviewContent$zc6t}
return{extend:"Ext.menu.Menu",metadata:{setCurrentPreviewContent:["InjectFromExtParent",["variable","currentPreviewContent"]]},constructor:PreviewContextMenuBase$,super$zc6t:function(){Ext.menu.Menu.prototype.constructor.apply(this,arguments)},currentPreviewContent$zc6t:null,afterRender:afterRender,onFocusLeave:onFocusLeave,setCurrentPreviewContent:setCurrentPreviewContent,disableBreadcrumbElementStrategy:disableBreadcrumbElementStrategy,requires:["Ext.menu.Menu","Ext.panel.Panel"],uses:["com.coremedia.cms.editor.sdk.preview.MetadataHelper",
"com.coremedia.cms.editor.sdk.preview.metadata.MetadataTreeNode"]}});Ext.define("com.coremedia.cms.editor.sdk.preview.PreviewIFrame",function(PreviewIFrame){function PreviewIFrame$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.preview.PreviewIFrameBase,{});var defaults_$1=AS3.cast(PreviewIFrame,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Bhbi(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.preview.PreviewIFrameBase",alias:"widget.com.coremedia.cms.editor.sdk.config.previewIFrame",
constructor:PreviewIFrame$,super$Bhbi:function(){com.coremedia.cms.editor.sdk.preview.PreviewIFrameBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.preview.PreviewIFrameBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.preview.PreviewURIReloader",function(PreviewURIReloader){function PreviewURIReloader$(previewPanel){var this$=this;this._model$T6_g=new com.coremedia.ui.data.impl.BeanImpl;this._model$T6_g.addValueChangeListener(AS3.bind(previewPanel,"reloadFrameWhenVisible"));previewPanel.registerTransformer(AS3.bind(this,"urlParameterBeanUrlTransformer$T6_g"));previewPanel.on("destroy",function(){this$._model$T6_g.removeValueChangeListener(AS3.bind(previewPanel,"reloadFrameWhenVisible"))})}
function getModel(){return this._model$T6_g}function urlParameterBeanUrlTransformer(uri,callback){var object=this._model$T6_g.toObject();com.coremedia.ui.logging.Logger.info("PreviewURIReloader: applying "+Ext.JSON.encode(object)+" to URI parameters");Ext.apply(uri.getParameters(),object);callback()}return{_model$T6_g:null,constructor:PreviewURIReloader$,getModel:getModel,urlParameterBeanUrlTransformer$T6_g:urlParameterBeanUrlTransformer,requires:["Ext","Ext.JSON","com.coremedia.ui.data.impl.BeanImpl",
"com.coremedia.ui.logging.Logger"]}});Ext.define("com.coremedia.cms.editor.sdk.preview.InnerPreviewPanelBase",function(InnerPreviewPanelBase){var RESPONSIVE_METADATA_DEVICES_PROPERTY$static="cm_responsiveDevices";function InnerPreviewPanelBase$(config){if(arguments.length<=0)config=null;this.super$frE3(config);this.mon(this.getIFrame(),"afterrender",AS3.bind(this,"iframeRenderedHandler$frE3"));this.mon(this.getIFrame(),"resize",AS3.bind(this,"iframeResizeHandler$frE3"));this.mon(this.getDeviceScrollbarRight(),"afterrender",AS3.bind(this,
"initVerticalBorderScrollbarListener$frE3"));this.mon(this.getDeviceScrollbarBottom(),"afterrender",AS3.bind(this,"initHorizontalBorderScrollbarListener$frE3"));this.mon(this.getRightScrollbar(),"afterrender",AS3.bind(this,"initVerticalScrollbarListener$frE3"));this.mon(this.getBottomScrollbar(),"afterrender",AS3.bind(this,"initHorizontalScrollbarListener$frE3"));com.coremedia.cms.editor.sdk.editorContext.getPreferences().addPropertyChangeListener(com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.ENABLE_PREVIEW_SCROLLBARS,
AS3.bind(this,"scrollbarConfigurationChanged$frE3"))}function resetScrollPositions(){this.lastBorderScrollbarScrollLeft$frE3=NaN;this.lastBorderScrollbarScrollTop$frE3=NaN;this.lastScrollbarScrollLeft$frE3=NaN;this.lastScrollbarScrollTop$frE3=NaN;this.lastScrollLeft$frE3=NaN;this.lastScrollTop$frE3=NaN;this.scrollingInProgress$frE3=false}function beforeRender(){Ext.panel.Panel.prototype.beforeRender.call(this)}function afterRender(){Ext.panel.Panel.prototype.afterRender.call(this);this.mon(this.getEl(),
"wheel",AS3.bind(this,"onWheel$frE3"));this.layoutItems()}function onWheel(extEvent){var event=extEvent.browserEvent;var deltaX=getDeltaX$static(event);var deltaY=getDeltaY$static(event);if(deltaX||deltaY){var nextScrollLeft=Math.max(0,Math.min(this.lastScrollLeft$frE3+deltaX,this.iFrameDocumentWidth$frE3-this.getIFrame().getWidth()));var nextScrollTop=Math.max(0,Math.min(this.lastScrollTop$frE3+deltaY,this.iFrameDocumentHeight$frE3-this.getIFrame().getHeight()));this.locallyScrolled$frE3(nextScrollLeft,
nextScrollTop);this.updateScrollbars$frE3()}if(event.preventDefault)event.preventDefault();event.returnValue=false}function getDeltaY$static(event){if(event.deltaY)return event.deltaY*(event.deltaMode?event.deltaMode*14:1);return 0}function getDeltaX$static(event){if(event.deltaX)return event.deltaX*(event.deltaMode?event.deltaMode*14:1);return 0}function iframeRenderedHandler(){var iFrame=this.getIFrame();var iFrameEl=iFrame.getEl().dom;com.coremedia.cms.editor.sdk.messageService.registerMessageListener(iFrameEl,
com.coremedia.cms.editor.sdk.preview.PreviewMessageTypes.READY,AS3.bind(this,"iframeReadyHandler$frE3"));com.coremedia.cms.editor.sdk.messageService.registerMessageListener(iFrameEl,com.coremedia.cms.editor.sdk.preview.PreviewMessageTypes.RESIZE,AS3.bind(this,"iframeResizeHandler$frE3"));com.coremedia.cms.editor.sdk.messageService.registerMessageListener(iFrameEl,com.coremedia.cms.editor.sdk.preview.PreviewMessageTypes.RESIZE,AS3.bind(this,"sendDocumentDimensionChangeEvent$frE3"));com.coremedia.cms.editor.sdk.messageService.registerMessageListener(iFrameEl,
com.coremedia.cms.editor.sdk.preview.PreviewMessageTypes.SCROLL,AS3.bind(this,"iframeScrollHandler$frE3"))}function initVerticalBorderScrollbarListener(){this.verticalBorderScrollbar$frE3=this.getDeviceScrollbarRight().getEl().dom;this.verticalBorderScrollbar$frE3.addEventListener("scroll",AS3.bind(this,"borderScrollbarScrolled$frE3"),false)}function initHorizontalBorderScrollbarListener(){this.horizontalBorderScrollbar$frE3=this.getDeviceScrollbarBottom().getEl().dom;this.horizontalBorderScrollbar$frE3.addEventListener("scroll",
AS3.bind(this,"borderScrollbarScrolled$frE3"),false)}function initVerticalScrollbarListener(){this.verticalScrollbar$frE3=this.getRightScrollbar().getEl().dom;this.verticalScrollbar$frE3.addEventListener("scroll",AS3.bind(this,"scrollbarScrolled$frE3"),false)}function initHorizontalScrollbarListener(){this.horizontalScrollbar$frE3=this.getBottomScrollbar().getEl().dom;this.horizontalScrollbar$frE3.addEventListener("scroll",AS3.bind(this,"scrollbarScrolled$frE3"),false)}function scrollbarConfigurationChanged(){this.layoutItems()}
function borderScrollbarScrolled(){if(this.horizontalBorderScrollbar$frE3&&this.verticalBorderScrollbar$frE3&&this.isDeviceMode$frE3())if(this.lastBorderScrollbarScrollLeft$frE3!==this.horizontalBorderScrollbar$frE3.scrollLeft||this.lastBorderScrollbarScrollTop$frE3!==this.verticalBorderScrollbar$frE3.scrollTop){this.lastBorderScrollbarScrollLeft$frE3=this.horizontalBorderScrollbar$frE3.scrollLeft;this.lastBorderScrollbarScrollTop$frE3=this.verticalBorderScrollbar$frE3.scrollTop;this.locallyScrolled$frE3(this.horizontalBorderScrollbar$frE3.scrollLeft,
this.verticalBorderScrollbar$frE3.scrollTop)}}function scrollbarScrolled(){if(this.horizontalScrollbar$frE3&&this.verticalScrollbar$frE3&&!this.isDeviceMode$frE3())if(this.lastScrollbarScrollLeft$frE3!==this.horizontalScrollbar$frE3.scrollLeft||this.lastScrollbarScrollTop$frE3!==this.verticalScrollbar$frE3.scrollTop){this.lastScrollbarScrollLeft$frE3=this.horizontalScrollbar$frE3.scrollLeft;this.lastScrollbarScrollTop$frE3=this.verticalScrollbar$frE3.scrollTop;this.locallyScrolled$frE3(Math.round(this.horizontalScrollbar$frE3.scrollLeft*
this.getIFrame().getWidth()/this.iFrameDocumentWidth$frE3),Math.round(this.verticalScrollbar$frE3.scrollTop/this.zoom$frE3))}}function locallyScrolled(scrollLeft,scrollTop){var this$=this;if(this.rendered&&this.selectedDevice$frE3){this.lastScrollLeft$frE3=scrollLeft;this.lastScrollTop$frE3=scrollTop;if(!this.scrollingInProgress$frE3){var contentWindow=this.getIFrame().getContentWindow();this.scrollingInProgress$frE3=true;com.coremedia.cms.editor.sdk.messageService.sendMessage(contentWindow,com.coremedia.cms.editor.sdk.preview.PreviewMessageTypes.SET_SCROLL_POSITION,
{scrollLeft:scrollLeft,scrollTop:scrollTop},function(){this$.scrollingInProgress$frE3=false;var scrollLeftChanged=!(isNaN(scrollLeft)&&isNaN(this$.lastScrollLeft$frE3))&&scrollLeft!==this$.lastScrollLeft$frE3;var scrollTopChanged=!(isNaN(scrollTop)&&isNaN(this$.lastScrollTop$frE3))&&scrollTop!==this$.lastScrollTop$frE3;if(scrollLeftChanged||scrollTopChanged)this$.locallyScrolled$frE3(this$.lastScrollLeft$frE3,this$.lastScrollTop$frE3)},this.getIFrame())}}}function sendDocumentDimensionChangeEvent(msgBody){com.coremedia.ui.data.util.PropertyChangeEventUtil.fireEvent(this,
com.coremedia.cms.editor.sdk.preview.InnerPreviewPanel.DOCUMENT_DIMENSIONS_CHANGED_EVENT,msgBody.oldDimensions,msgBody.newDimensions)}function iframeResizeHandler(){if(this.rendered&&this.selectedDevice$frE3){this.updateDocumentDimensionsEventually$frE3();this.updateScrollPositionEventually$frE3()}}function updateDocumentDimensionsEventually(){var this$=this;var contentWindow=this.getIFrame().getContentWindow();var myRequest=++this.retrieveSizeRequestCounter$frE3;com.coremedia.cms.editor.sdk.messageService.sendMessage(contentWindow,
com.coremedia.cms.editor.sdk.preview.PreviewMessageTypes.RETRIEVE_DOCUMENT_DIMENSIONS,{},function(responseBody){if(myRequest===this$.retrieveSizeRequestCounter$frE3){var changed=this$.iFrameDocumentHeight$frE3!==responseBody.documentHeight||this$.iFrameDocumentWidth$frE3!==responseBody.documentWidth;if(changed){this$.iFrameDocumentHeight$frE3=responseBody.documentHeight;this$.iFrameDocumentWidth$frE3=responseBody.documentWidth;this$.layoutItems()}}},this.getIFrame())}function iframeScrollHandler(){if(this.rendered&&
this.selectedDevice$frE3)this.updateScrollPositionEventually$frE3()}function updateScrollPositionEventually(){var this$=this;var contentWindow=this.getIFrame().getContentWindow();var myRequest=++this.retrieveScrollPositionRequestCounter$frE3;com.coremedia.cms.editor.sdk.messageService.sendMessage(contentWindow,com.coremedia.cms.editor.sdk.preview.PreviewMessageTypes.RETRIEVE_SCROLL_POSITION,{},function(responseBody){if(myRequest===this$.retrieveScrollPositionRequestCounter$frE3){this$.lastScrollTop$frE3=
responseBody.scrollTop;this$.lastScrollLeft$frE3=responseBody.scrollLeft;this$.updateScrollbars$frE3()}},this.getIFrame())}function updateScrollbars(){if(this.horizontalBorderScrollbar$frE3){this.lastBorderScrollbarScrollLeft$frE3=Math.round(this.lastScrollLeft$frE3);this.horizontalBorderScrollbar$frE3.scrollLeft=this.lastBorderScrollbarScrollLeft$frE3}if(this.verticalBorderScrollbar$frE3){this.lastBorderScrollbarScrollTop$frE3=Math.round(this.lastScrollTop$frE3);this.verticalBorderScrollbar$frE3.scrollTop=
this.lastBorderScrollbarScrollTop$frE3}if(this.horizontalScrollbar$frE3){this.lastScrollbarScrollLeft$frE3=Math.round(this.lastScrollLeft$frE3*this.iFrameDocumentWidth$frE3/this.getIFrame().getWidth());this.horizontalScrollbar$frE3.scrollLeft=this.lastScrollbarScrollLeft$frE3}if(this.verticalScrollbar$frE3){this.lastScrollbarScrollTop$frE3=Math.round(this.lastScrollTop$frE3*this.zoom$frE3);this.verticalScrollbar$frE3.scrollTop=this.lastScrollbarScrollTop$frE3}}function iframeReadyHandler(){this.layoutItems();
this.locallyScrolled$frE3(this.lastScrollLeft$frE3,this.lastScrollTop$frE3)}function onResize(width,height,oldWidth,oldHeight){Ext.panel.Panel.prototype.onResize.call(this,width,height,oldWidth,oldHeight);this.layoutItems()}function layoutItems(){if(this.rendered){var size=this.getSize();var layoutWidth=size.width;var parent=this.up();var layoutHeight=parent.getSize().height;if(this.selectedDevice$frE3)layoutHeight=this.body.getHeight();this.updateScaleModeButtons$frE3();addOrRemoveClass$static(this.getEl(),
"cm-preview-panel--devices-mode",this.isDeviceMode$frE3());if(this.isDeviceMode$frE3())this.layoutDeviceMode$frE3(layoutWidth,layoutHeight);else this.layoutNonDeviceMode$frE3(layoutWidth,layoutHeight);this.setScrollDimensions$frE3();this.updateDocumentDimensionsEventually$frE3();this.updateLayout()}}function updateScaleModeButtons(){var deviceFullWidthValue=this.selectedDevice$frE3?this.selectedDevice$frE3[InnerPreviewPanelBase.DEVICE_FULL_WIDTH_PROPERTY]:NaN;if(this.isDesktopMode$frE3()&&deviceFullWidthValue){this.showScaleModeButtons$frE3();
if(this.scaleMode$frE3)this.selectedDevice$frE3[InnerPreviewPanelBase.DEVICE_WIDTH_PROPERTY]=deviceFullWidthValue;else this.selectedDevice$frE3[InnerPreviewPanelBase.DEVICE_WIDTH_PROPERTY]=-1}else this.hideScaleModeButtons$frE3()}function layoutDeviceMode(layoutWidth,layoutHeight){var scrollbarThickness=com.coremedia.ui.util.ScrollbarUtil.SCROLLBAR_THICKNESS||14;var scrollbarPadding=Math.floor((InnerPreviewPanelBase.DEVICE_FRAME_WIDTH-scrollbarThickness)/2);var deviceWidth=this.selectedDevice$frE3[InnerPreviewPanelBase.DEVICE_WIDTH_PROPERTY];
var deviceHeight=this.selectedDevice$frE3[InnerPreviewPanelBase.DEVICE_HEIGHT_PROPERTY];var deviceFrameWidth=deviceWidth+2*InnerPreviewPanelBase.DEVICE_FRAME_WIDTH;var deviceFrameHeight=deviceHeight+2*InnerPreviewPanelBase.DEVICE_FRAME_WIDTH;var horizontalZoomFactor=(layoutWidth-2*InnerPreviewPanelBase.DEVICE_PADDING)/deviceFrameWidth;var verticalZoomFactor=(layoutHeight-2*InnerPreviewPanelBase.DEVICE_PADDING)/deviceFrameHeight;this.zoom$frE3=Math.min(1,horizontalZoomFactor,verticalZoomFactor);var showHorizontalScrollbars=
this.iFrameDocumentWidth$frE3>deviceWidth&&isShowPreviewScrollbars$static();var showVerticalScrollbars=this.iFrameDocumentHeight$frE3>deviceHeight&&isShowPreviewScrollbars$static();this.updateNativeScrolling$frE3(false);this.getRightScrollbar().hide();this.getBottomScrollbar().hide();showOrHideComponent$static(this.getDeviceScrollbarRight(),showVerticalScrollbars);showOrHideComponent$static(this.getDeviceScrollbarBottom(),showHorizontalScrollbars);this.getScalingContainer().setSize(deviceFrameWidth+
"",deviceFrameHeight+"");if(showVerticalScrollbars)this.getDeviceScrollbarRight().setSize(scrollbarThickness+"",deviceHeight+"");this.getDeviceScrollbarRight().setPosition(deviceWidth+InnerPreviewPanelBase.DEVICE_FRAME_WIDTH+scrollbarPadding,InnerPreviewPanelBase.DEVICE_FRAME_WIDTH);if(showHorizontalScrollbars)this.getDeviceScrollbarBottom().setSize(deviceWidth+"",scrollbarThickness+"");this.getDeviceScrollbarBottom().setPosition(InnerPreviewPanelBase.DEVICE_FRAME_WIDTH,deviceHeight+InnerPreviewPanelBase.DEVICE_FRAME_WIDTH+
scrollbarPadding);this.getIFrame().setSize(deviceWidth+"",deviceHeight+"");this.getIFrame().setPosition(InnerPreviewPanelBase.DEVICE_FRAME_WIDTH,InnerPreviewPanelBase.DEVICE_FRAME_WIDTH);this.writeCssTransformsAndCenter$frE3(layoutWidth,layoutHeight,deviceFrameWidth,deviceFrameHeight)}function layoutNonDeviceMode(layoutWidth,layoutHeight){var useRemoteControlScrollbars;var showHorizontalScrollbar;var showVerticalScrollbar;var availableIFrameWidth;var availableIFrameHeight;var previewIFrameWidth;if(this.isWidthOnlyMode$frE3()){useRemoteControlScrollbars=
true;previewIFrameWidth=this.selectedDevice$frE3[InnerPreviewPanelBase.DEVICE_WIDTH_PROPERTY];showHorizontalScrollbar=this.iFrameDocumentWidth$frE3>previewIFrameWidth;availableIFrameWidth=layoutWidth-com.coremedia.ui.util.ScrollbarUtil.SCROLLBAR_THICKNESS;availableIFrameHeight=layoutHeight-(showHorizontalScrollbar?com.coremedia.ui.util.ScrollbarUtil.SCROLLBAR_THICKNESS:0);this.calculateZoom$frE3(availableIFrameWidth,previewIFrameWidth)}else{useRemoteControlScrollbars=false;previewIFrameWidth=layoutWidth;
showHorizontalScrollbar=this.iFrameDocumentWidth$frE3>previewIFrameWidth;availableIFrameWidth=layoutWidth;availableIFrameHeight=layoutHeight;this.zoom$frE3=1}var previewIFrameHeight=availableIFrameHeight/this.zoom$frE3;showVerticalScrollbar=this.iFrameDocumentHeight$frE3>Math.ceil(previewIFrameHeight);if(useRemoteControlScrollbars&&!showVerticalScrollbar){availableIFrameWidth=layoutWidth;this.calculateZoom$frE3(availableIFrameWidth,previewIFrameWidth);previewIFrameHeight=availableIFrameHeight/this.zoom$frE3}this.updateNativeScrolling$frE3(!useRemoteControlScrollbars);
showOrHideComponent$static(this.getRightScrollbar(),useRemoteControlScrollbars);showOrHideComponent$static(this.getBottomScrollbar(),useRemoteControlScrollbars&&showHorizontalScrollbar);this.getDeviceScrollbarRight().hide();this.getDeviceScrollbarBottom().hide();this.getScalingContainer().setSize(previewIFrameWidth+"",previewIFrameHeight+"");this.getRightScrollbar().setSize(com.coremedia.ui.util.ScrollbarUtil.SCROLLBAR_THICKNESS+"",availableIFrameHeight+"");this.getRightScrollbar().setPosition(availableIFrameWidth,
0);this.getBottomScrollbar().setSize(availableIFrameWidth+"",com.coremedia.ui.util.ScrollbarUtil.SCROLLBAR_THICKNESS+"");this.getBottomScrollbar().setPosition(0,availableIFrameHeight);this.getIFrame().setSize(previewIFrameWidth+"",previewIFrameHeight+"");this.getIFrame().setPosition(0,0);this.writeCssTransformsAndCenter$frE3(availableIFrameWidth,availableIFrameHeight,previewIFrameWidth,previewIFrameHeight);this.getRightScrollbar().setWidth(com.coremedia.ui.util.ScrollbarUtil.SCROLLBAR_THICKNESS)}
function calculateZoom(availableIFrameWidth,previewIFrameWidth){this.zoom$frE3=Math.min(1,availableIFrameWidth/previewIFrameWidth);if(this.isDesktopMode$frE3()){var transformedSliderZoom=Math.pow(16,this.sliderZoom$frE3/com.coremedia.cms.editor.sdk.preview.zoom.PreviewZoomMenu.MAX_VALUE-1);this.zoom$frE3=this.zoom$frE3*transformedSliderZoom}}function updateNativeScrolling(enable){var iFrame=this.getIFrame();var iFrameEl=iFrame.getEl();if(iFrameEl)iFrameEl.set({scrolling:enable?"yes":"no"});com.coremedia.cms.editor.sdk.messageService.sendMessage(this.getIFrame().getContentWindow(),
com.coremedia.cms.editor.sdk.preview.PreviewMessageTypes.ENABLE_DOCUMENT_SCROLL,{enable:enable})}function showScaleModeButtons(){this.getPreviewToolbarButtonWrapper().show()}function hideScaleModeButtons(){this.getPreviewToolbarButtonWrapper().hide()}function setScrollDimensions(){if(this.horizontalBorderScrollbar$frE3)Ext.fly(this.horizontalBorderScrollbar$frE3.firstChild).setWidth(this.iFrameDocumentWidth$frE3);if(this.horizontalScrollbar$frE3)Ext.fly(this.horizontalScrollbar$frE3.firstChild).setWidth(this.getBottomScrollbar().getWidth()*
this.iFrameDocumentWidth$frE3/this.getIFrame().getWidth());if(this.verticalBorderScrollbar$frE3)Ext.fly(this.verticalBorderScrollbar$frE3.firstChild).setHeight(this.iFrameDocumentHeight$frE3);if(this.verticalScrollbar$frE3)Ext.fly(this.verticalScrollbar$frE3.firstChild).setHeight(this.iFrameDocumentHeight$frE3*this.zoom$frE3)}function getZoom(){return this.zoom$frE3}function getSliderZoom(){return this.sliderZoom$frE3}function setSliderZoom(sliderZoom){if(this.sliderZoom$frE3!==sliderZoom){this.sliderZoom$frE3=
sliderZoom;this.layoutItems()}}function getScaleMode(){return this.scaleMode$frE3}function setScaleMode(scaleMode){if(this.scaleMode$frE3!==scaleMode){this.scaleMode$frE3=scaleMode;this.layoutItems()}}function setSelectedDevice(device){this.selectedDevice$frE3=device;this.layoutItems()}function getSelectedDevice(){return this.selectedDevice$frE3}function isDesktopMode(){return!this.selectedDevice$frE3||this.selectedDevice$frE3["id"]==="desktopMode"}function isWidthOnlyMode(){return this.selectedDevice$frE3&&
(!this.selectedDevice$frE3[InnerPreviewPanelBase.DEVICE_HEIGHT_PROPERTY]||this.selectedDevice$frE3[InnerPreviewPanelBase.DEVICE_HEIGHT_PROPERTY]<=0)&&this.selectedDevice$frE3[InnerPreviewPanelBase.DEVICE_WIDTH_PROPERTY]>0}function isDeviceMode(){return this.selectedDevice$frE3&&this.selectedDevice$frE3[InnerPreviewPanelBase.DEVICE_HEIGHT_PROPERTY]>0&&this.selectedDevice$frE3[InnerPreviewPanelBase.DEVICE_WIDTH_PROPERTY]>0}function writeCssTransformsAndCenter(availableWidth,availableHeight,scalingContainerWidth,
scalingContainerHeight){var el=this.getScalingContainer().getEl();var shiftX=(availableWidth-scalingContainerWidth*this.zoom$frE3)/2+"px";var shiftY=(availableHeight-scalingContainerHeight*this.zoom$frE3)/2+"px";el.setStyle("left",shiftX);el.setStyle("top",shiftY);var transformString=this.zoom$frE3===1?"":"scale("+this.zoom$frE3+")";el.dom.style["transform"]=transformString;el.dom.style["-webkit-transform"]=transformString;el.dom.style["-ms-transform"]=transformString;var leftTopOrigin="left top";
el.dom.style["transform-origin"]=leftTopOrigin;el.dom.style["-webkit-transform-origin"]=leftTopOrigin;el.dom.style["-ms-transform-origin"]=leftTopOrigin}function isShowPreviewScrollbars$static(){return!!com.coremedia.cms.editor.sdk.editorContext.getPreferences().get(com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.ENABLE_PREVIEW_SCROLLBARS)}function showOrHideComponent$static(comp,show){if(show){if(comp.hidden)comp.show()}else if(!comp.hidden)comp.hide()}function addOrRemoveClass$static(el,
cls,add){if(el)if(add)Ext.fly(el).addCls(cls);else Ext.fly(el).removeCls(cls)}function getDeviceScrollbarRight(){return this.queryById(InnerPreviewPanelBase.DEVICE_SCROLLBAR_RIGHT_ITEM_ID)}function getDeviceScrollbarBottom(){return this.queryById(InnerPreviewPanelBase.DEVICE_SCROLLBAR_BOTTOM_ITEM_ID)}function getRightScrollbar(){return this.queryById(InnerPreviewPanelBase.SCROLLBAR_RIGHT_ITEM_ID)}function getBottomScrollbar(){return this.queryById(InnerPreviewPanelBase.SCROLLBAR_BOTTOM_ITEM_ID)}function getIFrame(){return AS3.as(this.queryById(InnerPreviewPanelBase.IFRAME_ITEM_ID),
com.coremedia.cms.editor.sdk.preview.PreviewIFrame)}function getScalingContainer(){return AS3.as(this.queryById(InnerPreviewPanelBase.SCALING_CONTAINER_ITEM_ID),Ext.container.Container)}function getResponsiveModeButton(){return AS3.as(this.getTopToolbar().queryById(com.coremedia.cms.editor.sdk.preview.PreviewIFrameToolbar.RESPONSIVE_MODE_BUTTON_ITEM_ID),com.coremedia.ui.components.IconButton)}function getFullWidthButton(){return AS3.as(this.getTopToolbar().queryById(com.coremedia.cms.editor.sdk.preview.PreviewIFrameToolbar.FULL_WIDTH_BUTTON_ITEM_ID),
Ext.button.Split)}function getPreviewToolbarButtonWrapper(){return AS3.as(this.getTopToolbar().queryById(com.coremedia.cms.editor.sdk.preview.PreviewIFrameToolbar.PREVIEW_IFRAME_TOOLBAR_BUTTON_WRAPPER_ITEM_ID),Ext.container.Container)}function onRemoved(destroying){com.coremedia.cms.editor.sdk.editorContext.getPreferences().removePropertyChangeListener(com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.ENABLE_PREVIEW_SCROLLBARS,AS3.bind(this,"scrollbarConfigurationChanged$frE3"));
var iFrameEl=this.getIFrame().getEl();if(iFrameEl){var iFrameElDOM=iFrameEl.dom;com.coremedia.cms.editor.sdk.messageService.unregisterMessageListener(iFrameElDOM,com.coremedia.cms.editor.sdk.preview.PreviewMessageTypes.READY,AS3.bind(this,"iframeReadyHandler$frE3"));com.coremedia.cms.editor.sdk.messageService.unregisterMessageListener(iFrameElDOM,com.coremedia.cms.editor.sdk.preview.PreviewMessageTypes.RESIZE,AS3.bind(this,"iframeResizeHandler$frE3"));com.coremedia.cms.editor.sdk.messageService.unregisterMessageListener(iFrameElDOM,
com.coremedia.cms.editor.sdk.preview.PreviewMessageTypes.RESIZE,AS3.bind(this,"sendDocumentDimensionChangeEvent$frE3"));com.coremedia.cms.editor.sdk.messageService.unregisterMessageListener(iFrameElDOM,com.coremedia.cms.editor.sdk.preview.PreviewMessageTypes.SCROLL,AS3.bind(this,"iframeScrollHandler$frE3"))}this.verticalBorderScrollbar$frE3&&this.verticalBorderScrollbar$frE3.removeEventListener("scroll",AS3.bind(this,"borderScrollbarScrolled$frE3"),false);this.horizontalBorderScrollbar$frE3&&this.horizontalBorderScrollbar$frE3.removeEventListener("scroll",
AS3.bind(this,"borderScrollbarScrolled$frE3"),false);this.verticalScrollbar$frE3&&this.verticalScrollbar$frE3.removeEventListener("scroll",AS3.bind(this,"scrollbarScrolled$frE3"),false);this.horizontalScrollbar$frE3&&this.horizontalScrollbar$frE3.removeEventListener("scroll",AS3.bind(this,"scrollbarScrolled$frE3"),false);if(this.previewZoomStateWriter$frE3)this.previewZoomStateWriter$frE3.destroy();Ext.panel.Panel.prototype.onRemoved.call(this,destroying)}function getDesktopModeScaleValueExpression(){if(!this.desktopModeScaleValueExpression$frE3){var storedScaleMode=
com.coremedia.cms.editor.sdk.preview.zoom.PreviewZoomStateWriter.getStoredScaleMode();this.desktopModeScaleValueExpression$frE3=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(storedScaleMode)}return this.desktopModeScaleValueExpression$frE3}function getPreviewZoomStateWriter(){if(!this.previewZoomStateWriter$frE3)this.previewZoomStateWriter$frE3=new com.coremedia.cms.editor.sdk.preview.zoom.PreviewZoomStateWriter(this.getDesktopModeScaleValueExpression(),this.getSliderZoomValueExpression());
return this.previewZoomStateWriter$frE3}function getSliderZoomValueExpression(){if(!this.sliderZoomValueExpression$frE3){var storedSliderZoom=com.coremedia.cms.editor.sdk.preview.zoom.PreviewZoomStateWriter.getStoredSliderZoom();this.sliderZoomValueExpression$frE3=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(isNaN(storedSliderZoom)?com.coremedia.cms.editor.sdk.preview.zoom.PreviewZoomMenu.MAX_VALUE:storedSliderZoom)}return this.sliderZoomValueExpression$frE3}function getDeviceInfoValueExpression(){if(!this.deviceInfoValueExpression$frE3)this.deviceInfoValueExpression$frE3=
com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"getDeviceInfo"));return this.deviceInfoValueExpression$frE3}function getSelectedDeviceValueExpression(){if(!this.selectedDeviceValueExpression$frE3)this.selectedDeviceValueExpression$frE3=com.coremedia.ui.data.ValueExpressionFactory.createFromValue();return this.selectedDeviceValueExpression$frE3}function getDeviceInfo(){var deviceInfo=new com.coremedia.cms.editor.sdk.preview.zoom.DeviceInfo;deviceInfo.setData([]);if(AS3.getBindable(this,
"metadataService")){var devices=[];var fullWidth=0;var metadataTree=AS3.getBindable(this,"metadataService").getMetadataTree();if(metadataTree.getRoot()){var metadataNodesList=metadataTree.getRoot().findChildrenByProperty(RESPONSIVE_METADATA_DEVICES_PROPERTY$static);if(metadataNodesList.length>0){var metadataNode=metadataNodesList[0];var configuredDevices=metadataNode.getProperty(RESPONSIVE_METADATA_DEVICES_PROPERTY$static);if(configuredDevices){var device;for(device in configuredDevices)if(configuredDevices.hasOwnProperty(String(device))){var deviceNode=
configuredDevices[device];if(AS3.as(deviceNode["isDefault"],Boolean))devices.push({order:parseInt(deviceNode["order"]),id:device,width:parseInt(deviceNode["width"]),height:parseInt(deviceNode["height"]),isDefault:true});else devices.push({order:parseInt(deviceNode["order"]),id:device,width:parseInt(deviceNode["width"]),height:parseInt(deviceNode["height"])})}devices.sort(InnerPreviewPanelBase.comparator)}var configuredFullWidth=Number(metadataNode.getProperty("cm_preferredWidth"));if(configuredFullWidth>
0)fullWidth=configuredFullWidth}}var desktopModeDevice={order:devices.length,id:"desktopMode",width:-1,height:-1,fullWidth:fullWidth};devices.push(desktopModeDevice);deviceInfo.setData(devices)}return deviceInfo}function comparator$static(val1,val2){return val1["order"]-val2["order"]}return{extend:"Ext.panel.Panel",metadata:{"":["Event",["name","documentDimensionsChanged"]],getPreviewZoomStateWriter:["ProvideToExtChildren"]},zoom$frE3:NaN,sliderZoom$frE3:NaN,scaleMode$frE3:false,selectedDevice$frE3:null,
retrieveSizeRequestCounter$frE3:0,iFrameDocumentHeight$frE3:NaN,iFrameDocumentWidth$frE3:NaN,retrieveScrollPositionRequestCounter$frE3:0,horizontalBorderScrollbar$frE3:null,verticalBorderScrollbar$frE3:null,horizontalScrollbar$frE3:null,verticalScrollbar$frE3:null,lastBorderScrollbarScrollLeft$frE3:NaN,lastBorderScrollbarScrollTop$frE3:NaN,lastScrollbarScrollLeft$frE3:NaN,lastScrollbarScrollTop$frE3:NaN,lastScrollLeft$frE3:NaN,lastScrollTop$frE3:NaN,scrollingInProgress$frE3:false,constructor:InnerPreviewPanelBase$,
super$frE3:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},resetScrollPositions:resetScrollPositions,beforeRender:beforeRender,afterRender:afterRender,onWheel$frE3:onWheel,iframeRenderedHandler$frE3:iframeRenderedHandler,initVerticalBorderScrollbarListener$frE3:initVerticalBorderScrollbarListener,initHorizontalBorderScrollbarListener$frE3:initHorizontalBorderScrollbarListener,initVerticalScrollbarListener$frE3:initVerticalScrollbarListener,initHorizontalScrollbarListener$frE3:initHorizontalScrollbarListener,
scrollbarConfigurationChanged$frE3:scrollbarConfigurationChanged,borderScrollbarScrolled$frE3:borderScrollbarScrolled,scrollbarScrolled$frE3:scrollbarScrolled,locallyScrolled$frE3:locallyScrolled,sendDocumentDimensionChangeEvent$frE3:sendDocumentDimensionChangeEvent,iframeResizeHandler$frE3:iframeResizeHandler,updateDocumentDimensionsEventually$frE3:updateDocumentDimensionsEventually,iframeScrollHandler$frE3:iframeScrollHandler,updateScrollPositionEventually$frE3:updateScrollPositionEventually,updateScrollbars$frE3:updateScrollbars,
iframeReadyHandler$frE3:iframeReadyHandler,onResize:onResize,layoutItems:layoutItems,updateScaleModeButtons$frE3:updateScaleModeButtons,layoutDeviceMode$frE3:layoutDeviceMode,layoutNonDeviceMode$frE3:layoutNonDeviceMode,calculateZoom$frE3:calculateZoom,updateNativeScrolling$frE3:updateNativeScrolling,showScaleModeButtons$frE3:showScaleModeButtons,hideScaleModeButtons$frE3:hideScaleModeButtons,setScrollDimensions$frE3:setScrollDimensions,getZoom:getZoom,getSliderZoom:getSliderZoom,setSliderZoom:setSliderZoom,
getScaleMode:getScaleMode,setScaleMode:setScaleMode,setSelectedDevice:setSelectedDevice,getSelectedDevice:getSelectedDevice,isDesktopMode$frE3:isDesktopMode,isWidthOnlyMode$frE3:isWidthOnlyMode,isDeviceMode$frE3:isDeviceMode,writeCssTransformsAndCenter$frE3:writeCssTransformsAndCenter,getDeviceScrollbarRight:getDeviceScrollbarRight,getDeviceScrollbarBottom:getDeviceScrollbarBottom,getRightScrollbar:getRightScrollbar,getBottomScrollbar:getBottomScrollbar,getIFrame:getIFrame,getScalingContainer:getScalingContainer,
getResponsiveModeButton:getResponsiveModeButton,getFullWidthButton:getFullWidthButton,getPreviewToolbarButtonWrapper:getPreviewToolbarButtonWrapper,onRemoved:onRemoved,deviceInfoValueExpression$frE3:null,selectedDeviceValueExpression$frE3:null,desktopModeScaleValueExpression$frE3:null,sliderZoomValueExpression$frE3:null,previewZoomStateWriter$frE3:null,getDesktopModeScaleValueExpression:getDesktopModeScaleValueExpression,getPreviewZoomStateWriter:getPreviewZoomStateWriter,getSliderZoomValueExpression:getSliderZoomValueExpression,
getDeviceInfoValueExpression:getDeviceInfoValueExpression,getSelectedDeviceValueExpression:getSelectedDeviceValueExpression,getDeviceInfo:getDeviceInfo,config:{metadataService:null},statics:{IFRAME_ITEM_ID:"iFrameComponent",SCALING_CONTAINER_ITEM_ID:"scalingContainer",DEVICE_SCROLLBAR_BOTTOM_ITEM_ID:"deviceScrollbarBottom",DEVICE_SCROLLBAR_RIGHT_ITEM_ID:"deviceScrollbarRight",SCROLLBAR_BOTTOM_ITEM_ID:"scrollbarBottom",SCROLLBAR_RIGHT_ITEM_ID:"scrollbarRight",DEVICE_FRAME_WIDTH:26,DEVICE_PADDING:12,
SLIDER_ZOOM_PROPERTY:"sliderZoom",SCALE_MODE_PROPERTY:"scaleMode",SELECTED_DEVICE_PROPERTY:"selectedDevice",DEVICE_WIDTH_PROPERTY:"width",DEVICE_HEIGHT_PROPERTY:"height",DEVICE_FULL_WIDTH_PROPERTY:"fullWidth",comparator:comparator$static},requires:["Ext","Ext.button.Split","Ext.container.Container","Ext.panel.Panel","com.coremedia.ui.components.IconButton","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.util.PropertyChangeEventUtil","com.coremedia.ui.util.ScrollbarUtil"],uses:["com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames",
"com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.messageService","com.coremedia.cms.editor.sdk.preview.InnerPreviewPanel","com.coremedia.cms.editor.sdk.preview.PreviewIFrame","com.coremedia.cms.editor.sdk.preview.PreviewIFrameToolbar","com.coremedia.cms.editor.sdk.preview.PreviewMessageTypes","com.coremedia.cms.editor.sdk.preview.zoom.DeviceInfo","com.coremedia.cms.editor.sdk.preview.zoom.PreviewZoomMenu","com.coremedia.cms.editor.sdk.preview.zoom.PreviewZoomStateWriter"]}});Ext.define("com.coremedia.cms.editor.sdk.preview.MetadataWindowTreeModel",function(MetadataWindowTreeModel){var ROOT_ID$static="root";var BLOCK$static;function BLOCK$static_(){BLOCK$static=new com.coremedia.ui.models.bem.BEMBlock("cm-metadata-window-tree-model")}var MODIFIER_WARN$static;function MODIFIER_WARN$static_(){MODIFIER_WARN$static=BLOCK$static.createModifier("warn")}var MODIFIER_ERROR$static;function MODIFIER_ERROR$static_(){MODIFIER_ERROR$static=BLOCK$static.createModifier("error")}function MetadataWindowTreeModel$(metadataTreeValueExpression,
showWarningsValueExpression){this.metadataTreeValueExpression$Le7i=metadataTreeValueExpression;this.showWarningsValueExpression$Le7i=showWarningsValueExpression}function getRootId(){return ROOT_ID$static}function isRootVisible(){return false}function getText(nodeId){throw new AS3.Error("not implemented");}function getIconCls(nodeId){throw new AS3.Error("not implemented");}function getTextCls(nodeId){return""}function getIdPathFromModel(model){var nodeId=this.getNodeId(model);return this.getIdPath(nodeId)}
function renderText(metadataNode){return AS3.cast(com.coremedia.cms.editor.sdk.EditorContextImpl,com.coremedia.cms.editor.sdk.editorContext).getMetadataNodeRendererRegistry().renderText(metadataNode)}function renderIconCls(node){if(com.coremedia.cms.editor.sdk.preview.MetadataHelper.isPropertyMetadataNode(node))return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","metadataTreeProperty_icon");if(com.coremedia.cms.editor.sdk.preview.MetadataHelper.isIndexMetadataNode(node))return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor",
"metadataTreeProperty_icon");if(com.coremedia.cms.editor.sdk.preview.MetadataHelper.isBeanMetadataNode(node)){var bean=com.coremedia.cms.editor.sdk.preview.MetadataHelper.getBeanMetadataValue(node);if(AS3.is(bean,com.coremedia.cap.content.Content)){var iconCls=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.getIconStyleClassForContentType(AS3.cast(com.coremedia.cap.content.Content,bean).getType());return iconCls}}return""}function getValidationModifier(node){if(!com.coremedia.cms.editor.sdk.preview.MetadataHelper.isBeanMetadataNode(node)&&
!com.coremedia.cms.editor.sdk.preview.MetadataHelper.isPropertyMetadataNode(node)&&!com.coremedia.cms.editor.sdk.preview.MetadataHelper.isIndexMetadataNode(node))return null;var showWarnings=this.showWarningsValueExpression$Le7i.getValue();var parent=node.getParent();if(com.coremedia.cms.editor.sdk.preview.MetadataHelper.getDefaultProperty(node)===com.coremedia.cms.editor.sdk.preview.MetadataHelper.getDefaultProperty(parent))return showWarnings?MODIFIER_WARN$static:null;if(!com.coremedia.cms.editor.sdk.preview.MetadataHelper.isBeanMetadataNode(node)&&
com.coremedia.cms.editor.sdk.preview.MetadataHelper.isPropertyMetadataNode(parent))return MODIFIER_ERROR$static;if(!com.coremedia.cms.editor.sdk.preview.MetadataHelper.isPropertyMetadataNode(node)&&com.coremedia.cms.editor.sdk.preview.MetadataHelper.isIndexMetadataNode(parent))return MODIFIER_ERROR$static;return null}function renderCls(node){var validationModifier=this.getValidationModifier(node);if(!validationModifier)return BLOCK$static.getCSSClass();else return BLOCK$static.getCSSClass()+" "+validationModifier.getCSSClass()}
function getChildren(nodeId){var metadataNode=AS3.as(this.getNodeModel(nodeId),com.coremedia.cms.editor.sdk.preview.metadata.MetadataTreeNode);var children=metadataNode?metadataNode.getChildren():undefined;if(!children)return undefined;var childIds=[];var textsByChildId={};var iconsByChildId={};var clsByChildId={};for(var i=0;i<children.length;i++){var child=children[i];var id=this.getNodeId(child);childIds.push(id);textsByChildId[id]=this.renderText(child);iconsByChildId[id]=this.renderIconCls(child);
clsByChildId[id]=this.renderCls(child)}return new com.coremedia.ui.models.NodeChildren(childIds,textsByChildId,iconsByChildId,clsByChildId)}function getIdPath(nodeId){var result=[];var current=AS3.as(this.getNodeModel(nodeId),com.coremedia.cms.editor.sdk.preview.metadata.MetadataTreeNode);while(current){result.push(current.getId());current=current.getParent()}result.reverse();return result}function getNodeId(model){var metadataTreeNode=AS3.as(model,com.coremedia.cms.editor.sdk.preview.metadata.MetadataTreeNode);
return metadataTreeNode&&metadataTreeNode.getId()}function getNodeModel(nodeId){var metadataTree=AS3.as(this.metadataTreeValueExpression$Le7i.getValue(),com.coremedia.cms.editor.sdk.preview.metadata.MetadataTree);return metadataTree&&AS3.as(metadataTree.getNode(nodeId),com.coremedia.cms.editor.sdk.preview.metadata.MetadataTreeNode)}function isEditable(model){return false}function rename(model,newName,oldName,callback){}return{mixins:["com.coremedia.ui.models.TreeModel"],metadataTreeValueExpression$Le7i:null,
showWarningsValueExpression$Le7i:null,constructor:MetadataWindowTreeModel$,getRootId:getRootId,isRootVisible:isRootVisible,getText:getText,getIconCls:getIconCls,getTextCls:getTextCls,getIdPathFromModel:getIdPathFromModel,renderText:renderText,renderIconCls:renderIconCls,getValidationModifier:getValidationModifier,renderCls:renderCls,getChildren:getChildren,getIdPath:getIdPath,getNodeId:getNodeId,getNodeModel:getNodeModel,isEditable:isEditable,rename:rename,statics:{BLOCK:undefined,MODIFIER_WARN:undefined,
MODIFIER_ERROR:undefined,__initStatics__:function(){BLOCK$static_();MODIFIER_WARN$static_();MODIFIER_ERROR$static_()}},requires:["AS3.Error","com.coremedia.cap.content.Content","com.coremedia.ui.models.NodeChildren","com.coremedia.ui.models.TreeModel","com.coremedia.ui.models.bem.BEMBlock","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.EditorContextImpl","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.preview.MetadataHelper","com.coremedia.cms.editor.sdk.preview.metadata.MetadataTree",
"com.coremedia.cms.editor.sdk.preview.metadata.MetadataTreeNode","com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.preview.PreviewContextMenu",function(PreviewContextMenu){function __initialize__(config){this.selectedNodeValueExpression$DJd6=com.coremedia.ui.context.ComponentContextManager.getInstance().getContextExpression(this,com.coremedia.cms.editor.sdk.preview.PreviewPanelBase.CURRENT_PREVIEW_METADATA_SELECTION_VARIABLE_NAME);this.metadataTreeValueExpression$DJd6=com.coremedia.ui.context.ComponentContextManager.getInstance().getContextExpression(this,com.coremedia.cms.editor.sdk.preview.PreviewPanelBase.CURRENT_PREVIEW_METADATA_TREE_VARIABLE_NAME)}
function PreviewContextMenu$(config){if(arguments.length<=0)config=null;this.__initialize__$DJd6(config);var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.preview.PreviewContextMenuBase,{});var defaults_$1=AS3.cast(PreviewContextMenu,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"minWidth",200);config_$1.plain=false;var ui_HideObsoleteSeparatorsPlugin_56_5_$1=AS3.cast(com.coremedia.ui.plugins.HideObsoleteSeparatorsPlugin,{});AS3.setBindable(ui_HideObsoleteSeparatorsPlugin_56_5_$1,
"initiallyVisible",true);var ui_BEMPlugin_57_5_$1=AS3.cast(com.coremedia.ui.plugins.BEMPlugin,{});AS3.setBindable(ui_BEMPlugin_57_5_$1,"block","cm-preview-context-menu");config_$1.plugins=[ui_HideObsoleteSeparatorsPlugin_56_5_$1,ui_BEMPlugin_57_5_$1];var editor_Breadcrumb_60_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.components.breadcrumb.Breadcrumb,{});editor_Breadcrumb_60_5_$1.itemId=net.jangaroo.ext.Exml.asString(PreviewContextMenu.BREADCRUMB_ITEM_ID);AS3.setBindable(editor_Breadcrumb_60_5_$1,
"treeModel",new com.coremedia.cms.editor.sdk.preview.metadata.MetadataTreeModel(this.metadataTreeValueExpression$DJd6));editor_Breadcrumb_60_5_$1.enableOverflow=false;AS3.setBindable(editor_Breadcrumb_60_5_$1,"disableNavigation",true);AS3.setBindable(editor_Breadcrumb_60_5_$1,"hideElementTexts",true);AS3.setBindable(editor_Breadcrumb_60_5_$1,"hideOnEmpty",true);AS3.setBindable(editor_Breadcrumb_60_5_$1,"disableElementStrategy",AS3.bind(this,"disableBreadcrumbElementStrategy"));AS3.setBindable(editor_Breadcrumb_60_5_$1,
"selectedNodeValueExpression",this.selectedNodeValueExpression$DJd6);config_$1.tbar=editor_Breadcrumb_60_5_$1;var menuItem_71_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_71_5_$1.itemId=net.jangaroo.ext.Exml.asString(PreviewContextMenu.TITLE_MENU_ITEM_ID);AS3.setBindable(menuItem_71_5_$1,"iconCls","...");menuItem_71_5_$1.canActivate=false;var editor_ShowMetadataIconDisplayFieldAction_75_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.metadata.ShowMetadataIconDisplayFieldAction,{});AS3.setBindable(editor_ShowMetadataIconDisplayFieldAction_75_9_$1,
"metadataVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.preview.PreviewPanelBase.CURRENT_PREVIEW_METADATA_SELECTION_VARIABLE_NAME));AS3.setBindable(editor_ShowMetadataIconDisplayFieldAction_75_9_$1,"hideOnDisable",true);menuItem_71_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.metadata.ShowMetadataIconDisplayFieldAction(editor_ShowMetadataIconDisplayFieldAction_75_9_$1);var ui_BEMMixin_80_9_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,{});AS3.setBindable(ui_BEMMixin_80_9_$1,
"bemElement","title");delete ui_BEMMixin_80_9_$1["xtype"];delete ui_BEMMixin_80_9_$1["xclass"];net.jangaroo.ext.Exml.apply(menuItem_71_5_$1,ui_BEMMixin_80_9_$1);var menuItem_84_5_$1=AS3.cast(Ext.menu.Item,{});var editor_MetadataToContentActionAdapter_86_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.metadata.MetadataToContentActionAdapter,{});AS3.setBindable(editor_MetadataToContentActionAdapter_86_9_$1,"metadataVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.preview.PreviewPanelBase.CURRENT_PREVIEW_METADATA_SELECTION_VARIABLE_NAME));
editor_MetadataToContentActionAdapter_86_9_$1.itemId=net.jangaroo.ext.Exml.asString(PreviewContextMenu.OPEN_IN_TAB_MENU_ITEM_ID);AS3.setBindable(editor_MetadataToContentActionAdapter_86_9_$1,"hideOnDisable",true);AS3.setBindable(editor_MetadataToContentActionAdapter_86_9_$1,"useParentNode",true);var editor_OpenInTabAction_92_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenInTabAction,{});AS3.setBindable(editor_MetadataToContentActionAdapter_86_9_$1,"backingAction",new com.coremedia.cms.editor.sdk.actions.OpenInTabAction(editor_OpenInTabAction_92_13_$1));
menuItem_84_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.metadata.MetadataToContentActionAdapter(editor_MetadataToContentActionAdapter_86_9_$1);var menuItem_98_5_$1=AS3.cast(Ext.menu.Item,{});var editor_MetadataToContentActionAdapter_100_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.metadata.MetadataToContentActionAdapter,{});AS3.setBindable(editor_MetadataToContentActionAdapter_100_9_$1,"metadataVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.preview.PreviewPanelBase.CURRENT_PREVIEW_METADATA_SELECTION_VARIABLE_NAME));
editor_MetadataToContentActionAdapter_100_9_$1.itemId=net.jangaroo.ext.Exml.asString(PreviewContextMenu.OPEN_IN_BACKGROUND_TAB_MENU_ITEM_ID);AS3.setBindable(editor_MetadataToContentActionAdapter_100_9_$1,"hideOnDisable",true);AS3.setBindable(editor_MetadataToContentActionAdapter_100_9_$1,"useParentNode",true);var editor_OpenInTabAction_106_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenInTabAction,{});AS3.setBindable(editor_OpenInTabAction_106_13_$1,"background",true);AS3.setBindable(editor_MetadataToContentActionAdapter_100_9_$1,
"backingAction",new com.coremedia.cms.editor.sdk.actions.OpenInTabAction(editor_OpenInTabAction_106_13_$1));menuItem_98_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.metadata.MetadataToContentActionAdapter(editor_MetadataToContentActionAdapter_100_9_$1);var menuItem_112_5_$1=AS3.cast(Ext.menu.Item,{});var editor_MetadataToContentActionAdapter_114_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.metadata.MetadataToContentActionAdapter,{});AS3.setBindable(editor_MetadataToContentActionAdapter_114_9_$1,
"metadataVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.preview.PreviewPanelBase.CURRENT_PREVIEW_METADATA_SELECTION_VARIABLE_NAME));editor_MetadataToContentActionAdapter_114_9_$1.itemId=net.jangaroo.ext.Exml.asString(PreviewContextMenu.OPEN_IN_LIBRARY_MENU_ITEM_ID);AS3.setBindable(editor_MetadataToContentActionAdapter_114_9_$1,"hideOnDisable",true);AS3.setBindable(editor_MetadataToContentActionAdapter_114_9_$1,"useParentNode",true);var editor_ShowInRepositoryAction_120_13_$1=
AS3.cast(com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction,{});AS3.setBindable(editor_MetadataToContentActionAdapter_114_9_$1,"backingAction",new com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction(editor_ShowInRepositoryAction_120_13_$1));menuItem_112_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.metadata.MetadataToContentActionAdapter(editor_MetadataToContentActionAdapter_114_9_$1);config_$1.items=[menuItem_71_5_$1,menuItem_84_5_$1,menuItem_98_5_$1,menuItem_112_5_$1];
net.jangaroo.ext.Exml.apply(config_$1,config);this.super$DJd6(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.preview.PreviewContextMenuBase",alias:"widget.com.coremedia.cms.editor.sdk.config.previewContextMenu",selectedNodeValueExpression$DJd6:null,metadataTreeValueExpression$DJd6:null,__initialize__$DJd6:__initialize__,constructor:PreviewContextMenu$,super$DJd6:function(){com.coremedia.cms.editor.sdk.preview.PreviewContextMenuBase.prototype.constructor.apply(this,arguments)},statics:{TITLE_MENU_ITEM_ID:"title",
BREADCRUMB_ITEM_ID:"previewBreadcrumb",OPEN_IN_TAB_MENU_ITEM_ID:"openInTab",OPEN_IN_BACKGROUND_TAB_MENU_ITEM_ID:"openInBackgroundTab",OPEN_IN_LIBRARY_MENU_ITEM_ID:"openInLibrary"},requires:["Ext.menu.Item","com.coremedia.cms.editor.sdk.preview.PreviewContextMenuBase","com.coremedia.ui.context.ComponentContextManager","com.coremedia.ui.plugins.BEMMixin","com.coremedia.ui.plugins.BEMPlugin","com.coremedia.ui.plugins.HideObsoleteSeparatorsPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.actions.OpenInTabAction",
"com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction","com.coremedia.cms.editor.sdk.actions.metadata.MetadataToContentActionAdapter","com.coremedia.cms.editor.sdk.actions.metadata.ShowMetadataIconDisplayFieldAction","com.coremedia.cms.editor.sdk.components.breadcrumb.Breadcrumb","com.coremedia.cms.editor.sdk.preview.PreviewPanelBase","com.coremedia.cms.editor.sdk.preview.metadata.MetadataTreeModel"]}});Ext.define("com.coremedia.cms.editor.sdk.preview.PreviewIFrameBase",function(PreviewIFrameBase){var BLANK_URL$static="about:blank";function url_(){this.url=BLANK_URL$static}function PreviewIFrameBase$(config){if(arguments.length<=0)config=null;this.super$EvvT(config);url_.call(this);this.addListener("beforedestroy",AS3.bind(this,"onBeforeDestroy$EvvT"));com.coremedia.ui.components.IFrameMgr.getInstance().registerIFrame(this)}function onBeforeDestroy(){com.coremedia.ui.components.IFrameMgr.getInstance().unregisterIFrame(this);
return true}function onResize(width,height,oldWidth,oldHeight){this.updateShimSize$EvvT(Number(width),Number(height));Ext.Component.prototype.onResize.call(this,width,height,oldWidth,oldHeight)}function updateShimSize(rawWidth,rawHeight){if(this.frameShim$EvvT){var fly=Ext.fly(this.frameShim$EvvT);fly.setWidth(rawWidth);fly.setHeight(rawHeight)}}function setUrl(url){if(url===BLANK_URL$static)changeIFrameSource$static(this,url,true);else{var me=this;window.setTimeout(function(){changeIFrameSource$static(me,
url,false)},1)}}function changeIFrameSource$static(iframe,url,hide){iframe.url=url;var elem=iframe.getEl();if(elem&&elem.dom){if(hide)elem.hide();elem.set({src:url});elem.set({location:url});if(!hide)elem.show()}}function setCls(cls){this.cls=cls;var elem=this.getEl();if(elem&&elem.dom)elem.set({cls:this.cls})}function getContentWindow(){return this.el&&this.el.dom?this.el.dom.contentWindow:null}function onRender(parentNode,containerIdx){Ext.Component.prototype.onRender.call(this,parentNode,containerIdx);
this["el"]=parentNode.createChild({tag:"iframe",id:"iframe-"+this.getId(),frameBorder:0,cls:this.cls,src:this.url,width:"100%",height:"100%"});this.mon(this["el"],PreviewIFrameBase.LOAD_EVENT,AS3.bind(this,"onFrameLoad$EvvT"));this.mon(this["el"],PreviewIFrameBase.UNLOAD_EVENT,AS3.bind(this,"onFrameUnload$EvvT"))}function onFrameLoad(){this.isLoaded=true;this.fireEvent(PreviewIFrameBase.LOAD_EVENT)}function onFrameUnload(){this.isLoaded=false;this.fireEvent(PreviewIFrameBase.UNLOAD_EVENT)}function createFrameShim(){if(!this.getEl())return;
this.frameShim$EvvT=com.coremedia.ui.util.ShimmableUtil.createShimForElement(Ext.get(this.getEl().dom.parentNode))}function toggleShim(show){if(!this.frameShim$EvvT)this.createFrameShim();com.coremedia.ui.util.ShimmableUtil.toggleShim(this.frameShim$EvvT,show,false)}return{extend:"Ext.Component",mixins:["com.coremedia.ui.components.Shimmable"],isLoaded:false,frameShim$EvvT:undefined,constructor:PreviewIFrameBase$,super$EvvT:function(){Ext.Component.prototype.constructor.apply(this,arguments)},onBeforeDestroy$EvvT:onBeforeDestroy,
onResize:onResize,updateShimSize$EvvT:updateShimSize,setUrl:setUrl,setCls:setCls,getContentWindow:getContentWindow,onRender:onRender,onFrameLoad$EvvT:onFrameLoad,onFrameUnload$EvvT:onFrameUnload,createFrameShim:createFrameShim,toggleShim:toggleShim,statics:{LOAD_EVENT:"load",UNLOAD_EVENT:"unload"},requires:["Ext","Ext.Component","com.coremedia.ui.components.IFrameMgr","com.coremedia.ui.components.Shimmable","com.coremedia.ui.util.ShimmableUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.preview.PreviewPanelBase",function(PreviewPanelBase){var ABOUT_BLANK_URL$static="about:blank";var PREVIEW_URL_PROPERTY$static="previewUrl";function PreviewPanelBase$(config){var this$=this;if(arguments.length<=0)config=null;this.transformers$67CD=[];var contextMenuConfig=config.contextMenu;this.prefDevice$67CD=AS3.getBindable(config,"preferredDevice");this.disableUserInteraction$67CD=AS3.getBindable(config,"disableUserInteraction");this.super$67CD(config);
this.innerPreviewPanelCmp$67CD=AS3.as(this.down(com.coremedia.ui.util.createComponentSelector()._xtype(com.coremedia.cms.editor.sdk.preview.InnerPreviewPanel.xtype).build()),com.coremedia.cms.editor.sdk.preview.InnerPreviewPanel);if(!this.innerPreviewPanelCmp$67CD)throw new AS3.Error("required child component '"+com.coremedia.cms.editor.sdk.preview.InnerPreviewPanel.xtype+"' not found");this.previewIFrame$67CD=this.innerPreviewPanelCmp$67CD.getIFrame();if(!this.previewIFrame$67CD)throw new AS3.Error("preview iframe not found");
if(AS3.getBindable(this,"focusForwarder"))AS3.getBindable(this,"focusForwarder").addListener(this);if(contextMenuConfig){if(!this.contextMenu["viewModel"]&&this.lookupViewModel())this.contextMenu["viewModel"]=this.lookupViewModel();this.contextMenu=AS3.as(Ext.ComponentManager.create(this.contextMenu),Ext.menu.Menu)}this.registerTransformer(AS3.bind(this,"timestampUrlTransformer$67CD"));this.on("afterrender",function(){this$.mon(this$.el,"contextmenu",function(e){e.preventDefault();return false})});
this.mon(this.previewIFrame$67CD,"afterrender",function(){com.coremedia.cms.editor.sdk.messageService.registerMessageListener(this$.previewIFrame$67CD.getEl().dom,com.coremedia.cms.editor.sdk.preview.PreviewMessageTypes.INIT,AS3.bind(this$,"initListener$67CD"))});this.visibleOnScreenValueExpression$67CD=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"isVisibleOnScreen$67CD"));this.visibleOnScreenValueExpression$67CD.addChangeListener(AS3.bind(this,"checkForSuppressedOperations$67CD"));
AS3.getBindable(config,"bindTo").addChangeListener(AS3.bind(this,"contentChanged$67CD"));this.contentChanged$67CD();this.on("previewUrl",AS3.bind(this,"previewUrlChanged$67CD"))}function timestampUrlTransformer(uri,callback){var timestamp=com.coremedia.ui.data.impl.TimeTracker.getTimestamp("content");if(timestamp)uri.appendParameter("contentTimestamp",timestamp);callback()}function isContextMenuVisible(){return this.contextMenu&&this.contextMenu.isVisible(true)}function contentChanged(){this.previewExists$67CD=
false;this.innerPreviewPanelCmp$67CD&&this.innerPreviewPanelCmp$67CD.resetScrollPositions();if(this._previewDependencyManager$67CD){this.mun(this._previewDependencyManager$67CD,com.coremedia.cms.editor.sdk.preview.PreviewDependencyManager.PREVIEW_DEPENDENCY_CHANGED_EVENT,AS3.bind(this,"previewDependencyChangedListener$67CD"));this._previewDependencyManager$67CD.cleanup()}if(AS3.getBindable(this,"bindTo").getValue()){this._previewDependencyManager$67CD=new com.coremedia.cms.editor.sdk.preview.PreviewDependencyManager(this,
AS3.getBindable(this,"bindTo").getValue());this.mon(this._previewDependencyManager$67CD,com.coremedia.cms.editor.sdk.preview.PreviewDependencyManager.PREVIEW_DEPENDENCY_CHANGED_EVENT,AS3.bind(this,"previewDependencyChangedListener$67CD"));this.updatePreview$67CD()}this.updateProvidedPropertyCurrentPreviewContent$67CD()}function updatePreview(){var this$=this;if(AS3.getBindable(this,"bindTo")&&this.previewIFrame$67CD){var currentPreviewable=AS3.as(AS3.getBindable(this,"bindTo").getValue(),com.coremedia.ui.data.Previewable);
if(AS3.is(currentPreviewable,com.coremedia.ui.data.RemoteBean))if(AS3.cast(com.coremedia.ui.data.RemoteBean,currentPreviewable).isLoaded())com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"getCurrentPreviewUri")).loadValue(function(uri){com.coremedia.ui.logging.Logger.debug(PreviewPanelBase+": updating preview url for current uri "+uri+" and current previewUrl "+this$.previewUrl$67CD);if(uri)(new com.coremedia.cms.editor.sdk.preview.PreviewURI(uri,AS3.getBindable(this$,
"bindTo").getValue(),this$.getTransformers(),AS3.bind(this$.previewIFrame$67CD,"setUrl"))).transform();else this$.previewIFrame$67CD.setUrl(ABOUT_BLANK_URL$static)});else AS3.cast(com.coremedia.ui.data.RemoteBean,currentPreviewable).load(AS3.bind(this,"updatePreview$67CD"))}}function getCurrentPreviewUri(){var currentPreviewable=AS3.as(AS3.getBindable(this,"bindTo").getValue(),com.coremedia.ui.data.Previewable);if(this.isShowPreview()===undefined)return undefined;return this.isShowPreview()?currentPreviewable.getPreviewUrl():
null}function getTransformers(){return AS3.as(com.coremedia.cms.editor.sdk.editorContext,com.coremedia.cms.editor.sdk.EditorContextImpl).getPreviewUrlTransformers().concat(this.transformers$67CD)}function reloadFrame(){this.setPreviewLoading$67CD();this.waitForReloadTimer$67CD=undefined;this.updatePreview$67CD()}function reloadFrameWhenVisible(){if(this.isVisibleOnScreen$67CD())this.reloadFrame();else this.reloadSuppressed$67CD=true}function previewUrlChanged(){this.setCurrentPreviewMetadataSelection(null)}
function isVisibleOnScreen(){var result=true;var current=this;while(current){com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(current,"hide");com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(current,"show");com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(current,"render");com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(current,"layout");com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(current,
"resize");if(AS3.is(current,Ext.tab.Panel))com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(current,"tabchange");if(!current.isVisible(true))result=false;if(!current.getEl()||current.getEl().getWidth()<=0)result=false;current=AS3.as(current.up(),Ext.Component)}return result}function checkForSuppressedOperations(){if(this.isVisibleOnScreen$67CD()&&!this.isContextMenuVisible$67CD()){if(this.reloadSuppressed$67CD){this.reloadSuppressed$67CD=false;this.reloadFrame()}if(this.metadataUpdateSuppressed$67CD){com.coremedia.ui.logging.Logger.debug(PreviewPanelBase+
": updating metadata.");this.getMetadataServiceImpl().setRawMetadata(this.metadataUpdateSuppressed$67CD);this.updateProvidedPropertyCurrentPreviewMetadataTree$67CD();this.metadataUpdateSuppressed$67CD=undefined}}}function initListener(){this.previewExists$67CD=true;this.setPreviewLoading$67CD();var tempResolver=Ext.dom.Helper.createDom({tag:"a",href:Ext.getResourcePath("previewProtocol.js",null,"com.coremedia.ui.sdk__editor-components")});com.coremedia.cms.editor.sdk.messageService.registerMessageListener(this.previewIFrame$67CD.getEl().dom,
com.coremedia.cms.editor.sdk.preview.PreviewMessageTypes.READY,AS3.bind(this,"readyListener$67CD"));this.sendMessage$67CD(com.coremedia.cms.editor.sdk.preview.PreviewMessageTypes.INIT_CONFIRM,{url:tempResolver.href})}function readyListener(messageBody){com.coremedia.ui.logging.Logger.debug(PreviewPanelBase+": setting previewUrl "+messageBody.url);this.setPreviewUrl(messageBody.url===ABOUT_BLANK_URL$static?"":messageBody.url);this.getMetadataServiceImpl().setRawMetadata(messageBody.cmMetadata);this.updateProvidedPropertyCurrentPreviewMetadataTree$67CD();
var iFrameEl=this.previewIFrame$67CD.getEl().dom;com.coremedia.cms.editor.sdk.messageService.unregisterMessageListener(iFrameEl,com.coremedia.cms.editor.sdk.preview.PreviewMessageTypes.READY,AS3.bind(this,"readyListener$67CD"));com.coremedia.cms.editor.sdk.messageService.unregisterMessageListener(iFrameEl,com.coremedia.cms.editor.sdk.preview.PreviewMessageTypes.UPDATE,AS3.bind(this,"updateListener$67CD"));com.coremedia.cms.editor.sdk.messageService.registerMessageListener(iFrameEl,com.coremedia.cms.editor.sdk.preview.PreviewMessageTypes.UPDATE,
AS3.bind(this,"updateListener$67CD"));if(!this.disableUserInteraction$67CD){com.coremedia.cms.editor.sdk.messageService.unregisterMessageListener(iFrameEl,com.coremedia.cms.editor.sdk.preview.PreviewMessageTypes.CLICK,AS3.bind(this,"clickMessageListener$67CD"));com.coremedia.cms.editor.sdk.messageService.registerMessageListener(iFrameEl,com.coremedia.cms.editor.sdk.preview.PreviewMessageTypes.CLICK,AS3.bind(this,"clickMessageListener$67CD"));com.coremedia.cms.editor.sdk.messageService.unregisterMessageListener(iFrameEl,
com.coremedia.cms.editor.sdk.preview.PreviewMessageTypes.HOVER,AS3.bind(this,"hoverMessageListener$67CD"));com.coremedia.cms.editor.sdk.messageService.registerMessageListener(iFrameEl,com.coremedia.cms.editor.sdk.preview.PreviewMessageTypes.HOVER,AS3.bind(this,"hoverMessageListener$67CD"))}AS3.getBindable(this,"focusForwarder")&&AS3.getBindable(this,"focusForwarder").refireShow();if(!this.waitForReloadTimer$67CD)this.unsetPreviewLoading()}function updateListener(messageBody){if(messageBody.cmMetadata)if(this.isVisibleOnScreen$67CD()&&
!this.isContextMenuVisible$67CD()){com.coremedia.ui.logging.Logger.debug(PreviewPanelBase+": updating metadata.");this.getMetadataServiceImpl().setRawMetadata(messageBody.cmMetadata);this.updateProvidedPropertyCurrentPreviewMetadataTree$67CD()}else this.metadataUpdateSuppressed$67CD=messageBody.cmMetadata}function setPreviewLoading(){if(!this.rendered)return;var topToolbar=AS3.as(this.getDockedItems('toolbar[dock\x3d"top"]')[0],Ext.toolbar.Toolbar);if(!topToolbar.rendered||!this.isShowPreview()||
!this.previewExists$67CD)return;if(!this.previewLoadMask$67CD){var loadMaskCfg=AS3.cast(Ext.LoadMask,{target:topToolbar});loadMaskCfg.msg=this.resourceManager.getString("com.coremedia.cms.editor.Editor","PreviewPanelToolbar_preview_loading");loadMaskCfg.ui=com.coremedia.ui.skins.LoadMaskSkin.OPAQUE.getSkin();this.previewLoadMask$67CD=new Ext.LoadMask(loadMaskCfg);this.previewLoadMask$67CD.disable()}if(this.previewLoadMask$67CD.disabled){this.previewLoadMask$67CD.enable();this.previewLoadMask$67CD.show();
this.previewLoadMask$67CD.getEl().addListener("click",AS3.bind(this,"unsetPreviewLoading"))}}function unsetPreviewLoading(){if(this.previewLoadMask$67CD){this.previewLoadMask$67CD.hide();this.previewLoadMask$67CD.disable();this.previewLoadMask$67CD.getEl().removeListener("click",AS3.bind(this,"unsetPreviewLoading"))}}function isLoading(){return this.previewLoadMask$67CD&&!this.previewLoadMask$67CD.disabled&&this.previewLoadMask$67CD["el"].isMasked()}function getMetadataService(){return this.getMetadataServiceImpl()}
function getMetadataServiceImpl(){if(!this.metadataService$67CD)this.metadataService$67CD=new com.coremedia.cms.editor.sdk.preview.metadata.MetadataServiceImpl;return this.metadataService$67CD}function getPreviewDependencyManager(){return this._previewDependencyManager$67CD}function registerTransformer(transformer){this.transformers$67CD.push(transformer)}function getPreviewUrl(){return this.previewUrl$67CD}function setPreviewUrl(previewUrl){var oldPreviewUrl=this.previewUrl$67CD;this.previewUrl$67CD=
previewUrl;com.coremedia.ui.data.util.PropertyChangeEventUtil.fireEvent(this,PREVIEW_URL_PROPERTY$static,oldPreviewUrl,previewUrl)}function getUrlParameterBean(){if(!this.reloader$67CD){com.coremedia.ui.logging.Logger.info(PreviewPanelBase+" initializing the urlParameter magic bean reloader");this.reloader$67CD=new com.coremedia.cms.editor.sdk.preview.PreviewURIReloader(this)}return this.reloader$67CD.getModel()}function isShowPreview(){if(this.isShowPreviewForced())return true;var currentPreviewable=
AS3.as(AS3.getBindable(this,"bindTo").getValue(),com.coremedia.ui.data.Previewable);if(!currentPreviewable)return false;var currentContent=AS3.as(AS3.getBindable(this,"bindTo").getValue(),com.coremedia.cap.common.CapObject);if(!currentContent)return true;var capType=currentContent.getType_();if(!capType||com.coremedia.cms.editor.sdk.editorContext.getDocumentTypesWithoutPreview().indexOf(capType.getName())!==-1)return false;if(capType){var mayPreview=AS3.as(com.coremedia.cms.editor.sdk.editorContext,
com.coremedia.cms.editor.sdk.EditorContextImpl).getPreviewFilter(capType);if(mayPreview)return mayPreview.call(null,AS3.getBindable(this,"bindTo").getValue())}return true}function isShowPreviewForced(){return false}function previewDependencyChangedListener(metadataId,oldValue,newValue){if(oldValue!==undefined){if(AS3.is(oldValue,String)){var messageBody={ids:metadataId,oldValue:oldValue,newValue:newValue};this.sendMessage$67CD(com.coremedia.cms.editor.sdk.preview.PreviewMessageTypes.DIRECT_UPDATE,
messageBody)}this.reloadFrameAfterTimeout$67CD()}else com.coremedia.ui.logging.Logger.info(PreviewPanelBase+" no need to reload the preview frame")}function reloadFrameAfterTimeout(){var reloadAfterChangesDelay=com.coremedia.cms.editor.sdk.util.PreferencesUtil.getPreferencesProperty(com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.PREVIEW_RELOAD_DELAY);if(reloadAfterChangesDelay===undefined)reloadAfterChangesDelay=PreviewPanelBase.DEFAULT_RELOAD_DELAY;if(reloadAfterChangesDelay>
0)if(this.isVisibleOnScreen$67CD()&&!this.isContextMenuVisible$67CD()){if(this.waitForReloadTimer$67CD)window.clearTimeout(this.waitForReloadTimer$67CD);com.coremedia.ui.logging.Logger.debug(PreviewPanelBase+" setting reload frame timer");this.waitForReloadTimer$67CD=window.setTimeout(AS3.bind(this,"reloadFrame"),reloadAfterChangesDelay*1E3)}else this.reloadSuppressed$67CD=true}function onPropertyShow(bean,tabTitle,property,isFocus,setCurrentProperty,sendState,position,distance,scrollOnly){if(!this.isContextMenuVisible$67CD())this.highlightProperty$67CD(bean,
property)}function onCollapsibleChange(collapsibleItemId,expanded){}function highlightMetadataNodeAndRelated(clickedMetadataNode,scrollIntoView){if(arguments.length<=1)scrollIntoView=true;var beanAndProperty=com.coremedia.cms.editor.sdk.preview.MetadataHelper.extractBeanAndPropertyFromMetadataNode(clickedMetadataNode);var bean=undefined;var property=undefined;if(beanAndProperty&&AS3.is(beanAndProperty[0],com.coremedia.ui.data.Bean)){bean=AS3.as(beanAndProperty[0],com.coremedia.ui.data.Bean);property=
beanAndProperty[1]}this.highlightProperty$67CD(bean,property,scrollIntoView)}function highlightProperty(bean,property,scrollIntoView){var this$=this;if(arguments.length<=2)scrollIntoView=true;if(this._previewDependencyManager$67CD){var allMetadataIds=this._previewDependencyManager$67CD.getMetadataIdsForBeanProperty(bean,property)||[];var metadataIds=allMetadataIds.filter(function(metadataId){var node=this$.currentPreviewMetadataTree$67CD.getNode(metadataId);if(!node)return false;var parent=node.getParent();
return!(parent&&allMetadataIds.indexOf(parent.getId())!==-1)});this.highlightMetadataIds(metadataIds,scrollIntoView)}}function highlightMetadataIds(metadataIds,scrollIntoView){if(!metadataIds)metadataIds=[];var messageBody={metadataIds:metadataIds};this.sendMessage$67CD(com.coremedia.cms.editor.sdk.preview.PreviewMessageTypes.HIGHLIGHT_ELEMENTS,messageBody);if(metadataIds.length>0&&scrollIntoView)this.sendMessage$67CD(com.coremedia.cms.editor.sdk.preview.PreviewMessageTypes.SCROLL_ELEMENTS_INTO_VIEW,
messageBody)}function scrollElementsIntoView(bean,property){if(this._previewDependencyManager$67CD){var metadataIds=this._previewDependencyManager$67CD.getMetadataIdsForBeanProperty(bean,property)||[];if(metadataIds.length>0)this.sendMessage$67CD(com.coremedia.cms.editor.sdk.preview.PreviewMessageTypes.SCROLL_ELEMENTS_INTO_VIEW,{metadataIds:metadataIds})}}function hoverMessageListener(messageBody){var nodeIdsToHighlight=[];if(!com.coremedia.cms.editor.sdk.util.PreferencesUtil.getPreferencesProperty(com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.DISABLE_PREVIEW_HOVER_FRAMES)){var hoveredMetadataNodeId=
messageBody.hoveredMetadataNodeId;var hoveredMetadataNode=this.getMetadataService().getMetadataTree().getNode(hoveredMetadataNodeId);var beanParentNode=com.coremedia.cms.editor.sdk.preview.MetadataHelper.getFirstBeanParentNode(hoveredMetadataNode);var contentFromMetadata=AS3.as(com.coremedia.cms.editor.sdk.preview.MetadataHelper.getBeanMetadataValue(beanParentNode),com.coremedia.cap.content.Content);if(contentFromMetadata){do{var nextBeanParentNode=com.coremedia.cms.editor.sdk.preview.MetadataHelper.getFirstBeanParentNode(beanParentNode,
false);if(com.coremedia.cms.editor.sdk.preview.MetadataHelper.getBeanMetadataValue(nextBeanParentNode)!==contentFromMetadata)break;beanParentNode=nextBeanParentNode}while(true)}var isCurrentDocument=contentFromMetadata&&this.currentPreviewContent$67CD?contentFromMetadata===this.currentPreviewContent$67CD:false;var isHoveringBeanNode=com.coremedia.cms.editor.sdk.preview.MetadataHelper.isBeanMetadataNode(hoveredMetadataNode);var isHoveringPropertyNode=com.coremedia.cms.editor.sdk.preview.MetadataHelper.isPropertyMetadataNode(hoveredMetadataNode);
if(isHoveringPropertyNode&&isCurrentDocument||isHoveringBeanNode&&!isCurrentDocument)nodeIdsToHighlight=[hoveredMetadataNodeId];else if(!isHoveringBeanNode&&!isCurrentDocument&&beanParentNode)nodeIdsToHighlight=[beanParentNode.getId()]}this.sendMessage$67CD(com.coremedia.cms.editor.sdk.preview.PreviewMessageTypes.SECONDARY_HIGHLIGHT_ELEMENTS,{metadataIds:nodeIdsToHighlight})}function sendMessage(messageType,messageBody){com.coremedia.cms.editor.sdk.messageService.sendMessage(this.previewIFrame$67CD.getContentWindow(),
messageType,messageBody)}function onRemoved(destroying){var iFrameEl=this.previewIFrame$67CD.getEl();if(iFrameEl){var iFrameElDOM=iFrameEl.dom;com.coremedia.cms.editor.sdk.messageService.unregisterMessageListener(iFrameElDOM,com.coremedia.cms.editor.sdk.preview.PreviewMessageTypes.INIT,AS3.bind(this,"initListener$67CD"));com.coremedia.cms.editor.sdk.messageService.unregisterMessageListener(iFrameElDOM,com.coremedia.cms.editor.sdk.preview.PreviewMessageTypes.CLICK,AS3.bind(this,"clickMessageListener$67CD"));
com.coremedia.cms.editor.sdk.messageService.unregisterMessageListener(iFrameElDOM,com.coremedia.cms.editor.sdk.preview.PreviewMessageTypes.HOVER,AS3.bind(this,"hoverMessageListener$67CD"));com.coremedia.cms.editor.sdk.messageService.unregisterMessageListener(iFrameElDOM,com.coremedia.cms.editor.sdk.preview.PreviewMessageTypes.UPDATE,AS3.bind(this,"updateListener$67CD"));com.coremedia.cms.editor.sdk.messageService.unregisterMessageListener(iFrameElDOM,com.coremedia.cms.editor.sdk.preview.PreviewMessageTypes.READY,
AS3.bind(this,"readyListener$67CD"))}if(Ext.dom.Element["data"]&&this.getTopToolbar().getEl()&&this.getTopToolbar().getEl().dom){var mask=Ext.dom.Element["data"](this.getTopToolbar().getEl().dom,"mask");mask&&mask.removeListener("click",AS3.bind(this,"unsetPreviewLoading"))}if(this._previewDependencyManager$67CD)this._previewDependencyManager$67CD.cleanup();this.visibleOnScreenValueExpression$67CD.removeChangeListener(AS3.bind(this,"checkForSuppressedOperations$67CD"));AS3.getBindable(this,"bindTo").removeChangeListener(AS3.bind(this,
"contentChanged$67CD"));AS3.getBindable(this,"focusForwarder")&&AS3.getBindable(this,"focusForwarder").removeListener(this);Ext.panel.Panel.prototype.onDestroy.call(this);Ext.destroy(this.contextMenu,this.previewLoadMask$67CD);this.contextMenu=null;this.previewLoadMask$67CD=null;Ext.panel.Panel.prototype.onRemoved.call(this,destroying)}function clickMessageListener(messageBody){var clickedMetadataNodeId=messageBody.clickedMetadataNodeId;var candidate=this.getMetadataService().getMetadataTree().getNode(clickedMetadataNodeId);
while(candidate){var beanParentNode=com.coremedia.cms.editor.sdk.preview.MetadataHelper.getFirstBeanParentNode(candidate);var contentFromMetadata=AS3.as(com.coremedia.cms.editor.sdk.preview.MetadataHelper.getBeanMetadataValue(beanParentNode),com.coremedia.cap.content.Content);var isCurrentDocument=contentFromMetadata&&this.currentPreviewContent$67CD?contentFromMetadata===this.currentPreviewContent$67CD:false;if(!com.coremedia.cms.editor.sdk.preview.MetadataHelper.isBeanMetadataNode(candidate)&&!isCurrentDocument){candidate=
beanParentNode;continue}if(com.coremedia.cms.editor.sdk.preview.MetadataHelper.isPropertyMetadataNode(candidate)&&isCurrentDocument||com.coremedia.cms.editor.sdk.preview.MetadataHelper.isBeanMetadataNode(candidate)&&!isCurrentDocument){var showContextMenu=!!this.contextMenu&&messageBody.clickType==="contextClick"&&!isCurrentDocument;this.updateProvidedPropertyCurrentPreviewMetadataSelection$67CD(candidate,!showContextMenu);if(showContextMenu)this.showContextMenuOnPreview$67CD(messageBody.eventCoords);
return}candidate=candidate.getParent()}}function showContextMenuOnPreview(coords){var this$=this;this.isContextMenuVisible$67CD()&&this.contextMenu.hide();var posX=coords[0]*this.innerPreviewPanelCmp$67CD.getZoom()+this.previewIFrame$67CD.getEl().getX();var posY=coords[1]*this.innerPreviewPanelCmp$67CD.getZoom()+this.previewIFrame$67CD.getEl().getY();com.coremedia.ui.util.EventUtil.invokeLater(function(){var show=this$.contextMenu.fireEvent("beforeshow",this$.contextMenu);if(show){com.coremedia.ui.components.IFrameMgr.getInstance().showShims();
var x=Math.max(posX,0);var y=Math.max(posY,0);this$.contextMenu.showAt(x,y);this$.contextMenu.on("hide",function(){com.coremedia.ui.components.IFrameMgr.getInstance().hideShims();this$.highlightMetadataIds(undefined,false);this$.checkForSuppressedOperations$67CD()},null,{single:true})}})}function updateProvidedPropertyCurrentPreviewMetadataSelection(metadata,scrollIntoView){if(arguments.length<=1)scrollIntoView=true;if(metadata!==this.currentPreviewMetadataSelection$67CD){var oldValue=this.currentPreviewMetadataSelection$67CD;
this.currentPreviewMetadataSelection$67CD=metadata;com.coremedia.ui.data.util.PropertyChangeEventUtil.fireEvent(this,PreviewPanelBase.CURRENT_PREVIEW_METADATA_SELECTION_VARIABLE_NAME,oldValue,this.currentPreviewMetadataSelection$67CD);this.highlightMetadataNodeAndRelated$67CD(this.currentPreviewMetadataSelection$67CD,scrollIntoView);this.syncFocusBackToDocumentForm$67CD(this.currentPreviewMetadataSelection$67CD)}}function syncFocusBackToDocumentForm(nodeToSync){var this$=this;var rootPropNode=com.coremedia.cms.editor.sdk.preview.MetadataHelper.getFirstParentNodeMatching(nodeToSync,
function(metadataNode){var beanAndProperty=com.coremedia.cms.editor.sdk.preview.MetadataHelper.extractBeanAndPropertyFromMetadataNode(metadataNode);if(beanAndProperty)return beanAndProperty[1]&&beanAndProperty[1]===com.coremedia.cms.editor.sdk.preview.MetadataHelper.getPropertyMetadataValue(metadataNode)&&AS3.as(beanAndProperty[0],com.coremedia.cap.content.Content)===this$.currentPreviewContent$67CD;return false});if(rootPropNode){var beanAndProperty=com.coremedia.cms.editor.sdk.preview.MetadataHelper.extractBeanAndPropertyFromMetadataNode(rootPropNode);
AS3.getBindable(this,"focusForwarder")&&AS3.getBindable(this,"focusForwarder").forwardShowToManager(beanAndProperty[0],null,beanAndProperty[1],false,false,NaN,NaN,false)}}function updateProvidedPropertyCurrentPreviewContent(){var oldValue=this.currentPreviewContent$67CD;this.currentPreviewContent$67CD=AS3.as(AS3.getBindable(this,"bindTo").getValue(),com.coremedia.ui.data.Previewable);com.coremedia.ui.data.util.PropertyChangeEventUtil.fireEvent(this,PreviewPanelBase.CURRENT_PREVIEW_CONTENT_VARIABLE_NAME,
oldValue,this.currentPreviewContent$67CD)}function updateProvidedPropertyCurrentPreviewMetadataTree(){var oldValue=this.currentPreviewMetadataTree$67CD;this.currentPreviewMetadataTree$67CD=this.getMetadataService().getMetadataTree();com.coremedia.ui.data.util.PropertyChangeEventUtil.fireEvent(this,PreviewPanelBase.CURRENT_PREVIEW_METADATA_TREE_VARIABLE_NAME,oldValue,this.currentPreviewMetadataTree$67CD)}function getCurrentPreviewMetadataSelection(){return this.currentPreviewMetadataSelection$67CD}
function setCurrentPreviewMetadataSelection(node){this.updateProvidedPropertyCurrentPreviewMetadataSelection$67CD(node)}function getCurrentPreviewMetadataTree(){return this.currentPreviewMetadataTree$67CD}function setCurrentPreviewMetadataTree(tree){}function getCurrentPreviewContent(){return this.currentPreviewContent$67CD}function getCurrentPreviewContentValueExpression(){return com.coremedia.ui.data.ValueExpressionFactory.create(PreviewPanelBase.CURRENT_PREVIEW_CONTENT_VARIABLE_NAME,this)}function getPreferredDevice(){return this.prefDevice$67CD}
function getActivePreviewPanelValueExpression(){var this$=this;return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){if(this$.isShowPreview()===undefined)return undefined;return this$.isShowPreview()?"innerPreviewPanel":PreviewPanelBase.NO_PREVIEW_ITEM_ID})}return{extend:"Ext.panel.Panel",mixins:["com.coremedia.cms.editor.sdk.premular.FocusListener"],metadata:{"":["Event",["name","previewUrl"],"PublicApi"],getCurrentPreviewMetadataSelection:["ProvideToExtChildren"],getCurrentPreviewMetadataTree:["ProvideToExtChildren"],
getCurrentPreviewContent:["ProvideToExtChildren"],getPreferredDevice:["ProvideToExtChildren"]},contextMenu:null,previewIFrame$67CD:null,innerPreviewPanelCmp$67CD:null,_previewDependencyManager$67CD:null,reloader$67CD:null,metadataService$67CD:null,previewUrl$67CD:null,waitForReloadTimer$67CD:null,transformers$67CD:null,currentPreviewContent$67CD:null,currentPreviewMetadataSelection$67CD:null,currentPreviewMetadataTree$67CD:null,prefDevice$67CD:null,disableUserInteraction$67CD:false,previewExists$67CD:false,
previewLoadMask$67CD:null,visibleOnScreenValueExpression$67CD:null,reloadSuppressed$67CD:false,metadataUpdateSuppressed$67CD:undefined,constructor:PreviewPanelBase$,super$67CD:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},timestampUrlTransformer$67CD:timestampUrlTransformer,isContextMenuVisible$67CD:isContextMenuVisible,contentChanged$67CD:contentChanged,updatePreview$67CD:updatePreview,getCurrentPreviewUri:getCurrentPreviewUri,getTransformers:getTransformers,reloadFrame:reloadFrame,
reloadFrameWhenVisible:reloadFrameWhenVisible,previewUrlChanged$67CD:previewUrlChanged,isVisibleOnScreen$67CD:isVisibleOnScreen,checkForSuppressedOperations$67CD:checkForSuppressedOperations,initListener$67CD:initListener,readyListener$67CD:readyListener,updateListener$67CD:updateListener,setPreviewLoading$67CD:setPreviewLoading,unsetPreviewLoading:unsetPreviewLoading,isLoading:isLoading,getMetadataService:getMetadataService,getMetadataServiceImpl:getMetadataServiceImpl,getPreviewDependencyManager:getPreviewDependencyManager,
registerTransformer:registerTransformer,getPreviewUrl:getPreviewUrl,setPreviewUrl:setPreviewUrl,getUrlParameterBean:getUrlParameterBean,isShowPreview:isShowPreview,isShowPreviewForced:isShowPreviewForced,previewDependencyChangedListener$67CD:previewDependencyChangedListener,reloadFrameAfterTimeout$67CD:reloadFrameAfterTimeout,onPropertyShow:onPropertyShow,onCollapsibleChange:onCollapsibleChange,highlightMetadataNodeAndRelated$67CD:highlightMetadataNodeAndRelated,highlightProperty$67CD:highlightProperty,
highlightMetadataIds:highlightMetadataIds,scrollElementsIntoView:scrollElementsIntoView,hoverMessageListener$67CD:hoverMessageListener,sendMessage$67CD:sendMessage,onRemoved:onRemoved,clickMessageListener$67CD:clickMessageListener,showContextMenuOnPreview$67CD:showContextMenuOnPreview,updateProvidedPropertyCurrentPreviewMetadataSelection$67CD:updateProvidedPropertyCurrentPreviewMetadataSelection,syncFocusBackToDocumentForm$67CD:syncFocusBackToDocumentForm,updateProvidedPropertyCurrentPreviewContent$67CD:updateProvidedPropertyCurrentPreviewContent,
updateProvidedPropertyCurrentPreviewMetadataTree$67CD:updateProvidedPropertyCurrentPreviewMetadataTree,getCurrentPreviewMetadataSelection:getCurrentPreviewMetadataSelection,setCurrentPreviewMetadataSelection:setCurrentPreviewMetadataSelection,getCurrentPreviewMetadataTree:getCurrentPreviewMetadataTree,setCurrentPreviewMetadataTree:setCurrentPreviewMetadataTree,getCurrentPreviewContent:getCurrentPreviewContent,getCurrentPreviewContentValueExpression:getCurrentPreviewContentValueExpression,getPreferredDevice:getPreferredDevice,
getActivePreviewPanelValueExpression:getActivePreviewPanelValueExpression,config:{bindTo:null,focusForwarder:null},statics:{DEFAULT_RELOAD_DELAY:1,NO_PREVIEW_ITEM_ID:"noPreview",CURRENT_PREVIEW_METADATA_SELECTION_VARIABLE_NAME:"currentPreviewMetadataSelection",CURRENT_PREVIEW_METADATA_TREE_VARIABLE_NAME:"currentPreviewMetadataTree",CURRENT_PREVIEW_CONTENT_VARIABLE_NAME:"currentPreviewContent"},requires:["AS3.Error","Ext","Ext.Component","Ext.ComponentManager","Ext.LoadMask","Ext.dom.Element","Ext.dom.Helper",
"Ext.menu.Menu","Ext.panel.Panel","Ext.tab.Panel","Ext.toolbar.Toolbar","com.coremedia.cap.common.CapObject","com.coremedia.cap.content.Content","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.premular.FocusListener","com.coremedia.ui.components.IFrameMgr","com.coremedia.ui.data.Bean","com.coremedia.ui.data.Previewable","com.coremedia.ui.data.RemoteBean","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.dependencies.DependencyTracker","com.coremedia.ui.data.impl.TimeTracker",
"com.coremedia.ui.data.util.PropertyChangeEventUtil","com.coremedia.ui.logging.Logger","com.coremedia.ui.skins.LoadMaskSkin","com.coremedia.ui.util.EventUtil","com.coremedia.ui.util.createComponentSelector"],uses:["com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames","com.coremedia.cms.editor.sdk.EditorContextImpl","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.messageService","com.coremedia.cms.editor.sdk.preview.InnerPreviewPanel","com.coremedia.cms.editor.sdk.preview.MetadataHelper",
"com.coremedia.cms.editor.sdk.preview.PreviewDependencyManager","com.coremedia.cms.editor.sdk.preview.PreviewMessageTypes","com.coremedia.cms.editor.sdk.preview.PreviewURI","com.coremedia.cms.editor.sdk.preview.PreviewURIReloader","com.coremedia.cms.editor.sdk.preview.metadata.MetadataServiceImpl","com.coremedia.cms.editor.sdk.util.PreferencesUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.preview.PreviewPanelToolbarBase",function(PreviewPanelToolbarBase){function PreviewPanelToolbarBase$(config){if(arguments.length<=0)config=null;this.super$lMam(config);this.openInBrowserButton$lMam=AS3.cast(Ext.button.Split,this.getComponent(PreviewPanelToolbarBase.OPEN_IN_BROWSER_BUTTON_ITEM_ID))}function setCurrentPreviewContent(content){this.currentPreviewContent$lMam=content;this.getCurrentPreviewContentValueExpression().setValue(this.currentPreviewContent$lMam)}
function getCurrentPreviewContentValueExpression(){if(!this.currentPreviewContentValueExpression$lMam)this.currentPreviewContentValueExpression$lMam=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(this.currentPreviewContent$lMam);return this.currentPreviewContentValueExpression$lMam}function getOpenInBrowserDisabledValueExpression(){var this$=this;if(!this.openInBrowserDisabledValueExpression$lMam)this.openInBrowserDisabledValueExpression$lMam=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){return!AS3.getBindable(this$,
"urlValueExpression").getValue()});return this.openInBrowserDisabledValueExpression$lMam}function getEmailButtonDisabledValueExpression(){var this$=this;if(!this.emailButtonDisabledValueExpression$lMam)this.emailButtonDisabledValueExpression$lMam=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){return!AS3.is(this$.getCurrentPreviewContentValueExpression().getValue(),com.coremedia.cap.content.Content)});return this.emailButtonDisabledValueExpression$lMam}function openMetadataTree(){var metadataTreeExpression=
com.coremedia.ui.context.ComponentContextManager.getInstance().getContextExpression(this,com.coremedia.cms.editor.sdk.preview.PreviewPanelBase.CURRENT_PREVIEW_METADATA_TREE_VARIABLE_NAME);var currentPreviewMetadataSelectionVE=com.coremedia.ui.context.ComponentContextManager.getInstance().getContextExpression(this,com.coremedia.cms.editor.sdk.preview.PreviewPanelBase.CURRENT_PREVIEW_METADATA_SELECTION_VARIABLE_NAME);var metadataWindowCfg=AS3.cast(com.coremedia.cms.editor.sdk.preview.MetadataWindow,
{});AS3.setBindable(metadataWindowCfg,"treeVE",metadataTreeExpression);AS3.setBindable(metadataWindowCfg,"selectionVE",currentPreviewMetadataSelectionVE);Ext.ComponentManager.create(metadataWindowCfg).show()}function handleEmail(){var this$=this;var subject=Ext.String.format(this.resourceManager.getString("com.coremedia.cms.editor.Editor","Mail_SendDocumentLink_subject"),this.currentPreviewContent$lMam.getName());var previewUrl=AS3.getBindable(this,"urlValueExpression").getValue();var editUrl=com.coremedia.cms.editor.sdk.remotecontrol.remoteControlHandlerRegistry.createRemoteControlUrl(this.currentPreviewContent$lMam);
var user=com.coremedia.cap.common.SESSION.getUser();user.load(function(){var body;if(previewUrl)body=Ext.String.format(this$.resourceManager.getString("com.coremedia.cms.editor.Editor","Mail_SendDocumentLink_template"),user.get("name"),this$.currentPreviewContent$lMam.getName(),editUrl,previewUrl);else body=Ext.String.format(this$.resourceManager.getString("com.coremedia.cms.editor.Editor","Mail_SendDocumentLinkWithoutPreview_template"),user.get("name"),this$.currentPreviewContent$lMam.getName(),
editUrl);var params=Ext.urlEncode({subject:subject,body:body});var url=Ext.urlAppend("mailto:",params);window.open(url,"emailWindow")})}function handleOpenInBrowser(){var previewUrl=AS3.getBindable(this,"urlValueExpression").getValue();if(previewUrl)window.open(previewUrl);else this.openInBrowserButton$lMam["showMenu"]()}return{extend:"Ext.toolbar.Toolbar",metadata:{"":["PublicApi"],setCurrentPreviewContent:["InjectFromExtParent"]},currentPreviewContent$lMam:null,currentPreviewContentValueExpression$lMam:null,
emailButtonDisabledValueExpression$lMam:null,openInBrowserDisabledValueExpression$lMam:null,openInBrowserButton$lMam:null,constructor:PreviewPanelToolbarBase$,super$lMam:function(){Ext.toolbar.Toolbar.prototype.constructor.apply(this,arguments)},setCurrentPreviewContent:setCurrentPreviewContent,getCurrentPreviewContentValueExpression:getCurrentPreviewContentValueExpression,getOpenInBrowserDisabledValueExpression:getOpenInBrowserDisabledValueExpression,getEmailButtonDisabledValueExpression:getEmailButtonDisabledValueExpression,
openMetadataTree:openMetadataTree,handleEmail:handleEmail,handleOpenInBrowser:handleOpenInBrowser,config:{urlValueExpression:null},statics:{OPEN_IN_BROWSER_BUTTON_ITEM_ID:"openInBrowserPreviewToolbarButton"},requires:["Ext","Ext.ComponentManager","Ext.String","Ext.button.Split","Ext.toolbar.Toolbar","com.coremedia.cap.common.SESSION","com.coremedia.cap.content.Content","com.coremedia.cms.editor.Editor_properties","com.coremedia.ui.context.ComponentContextManager","com.coremedia.ui.data.ValueExpressionFactory"],
uses:["com.coremedia.cms.editor.sdk.preview.MetadataWindow","com.coremedia.cms.editor.sdk.preview.PreviewPanelBase","com.coremedia.cms.editor.sdk.remotecontrol.remoteControlHandlerRegistry"]}});Ext.define("com.coremedia.cms.editor.sdk.preview.PreviewPanel",function(PreviewPanel){function FIND_TOOLBAR$static_(){PreviewPanel.FIND_TOOLBAR=function(thePreviewPanel){return thePreviewPanel.getTopToolbar()}}function PreviewPanel$(config){var this$=this;if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.preview.PreviewPanelBase,{});var defaults_$1=AS3.cast(PreviewPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1["ariaRole"]="region";config_$1["focusable"]=
true;config_$1.defaultFocus=":focusable";config_$1.ariaLabel=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","PreviewPanel_label"));AS3.setBindable(config_$1,"layout","fit");config_$1.hideCollapseTool=true;config_$1.header=false;var ui_SwitchingContainer_96_5_$1=AS3.cast(com.coremedia.ui.components.SwitchingContainer,{});AS3.setBindable(ui_SwitchingContainer_96_5_$1,"activeItemValueExpression",this.getActivePreviewPanelValueExpression());var editor_InnerPreviewPanel_99_9_$1=
AS3.cast(com.coremedia.cms.editor.sdk.preview.InnerPreviewPanel,{});editor_InnerPreviewPanel_99_9_$1.itemId="innerPreviewPanel";AS3.setBindable(editor_InnerPreviewPanel_99_9_$1,"hideDeviceSlider",AS3.getBindable(config,"hideDeviceSlider"));AS3.setBindable(editor_InnerPreviewPanel_99_9_$1,"metadataService",this.getMetadataService());var container_102_9_$1=AS3.cast(Ext.container.Container,{});container_102_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.preview.PreviewPanelBase.NO_PREVIEW_ITEM_ID);
container_102_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.DARK_200);var displayField_105_13_$1=AS3.cast(Ext.form.field.Display,{});displayField_105_13_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.DisplayFieldSkin.ITALIC.getSkin());AS3.setBindable(displayField_105_13_$1,"value",AS3.getBindable(config,"noPreviewAvailableMessage")||this.resourceManager.getString("com.coremedia.cms.editor.Editor","PreviewPanel_emptyPreview"));container_102_9_$1.items=[displayField_105_13_$1];
ui_SwitchingContainer_96_5_$1.items=[editor_InnerPreviewPanel_99_9_$1,container_102_9_$1];config_$1.items=[ui_SwitchingContainer_96_5_$1];var editor_PreviewPanelToolbar_113_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.preview.PreviewPanelToolbar,{});AS3.setBindable(editor_PreviewPanelToolbar_113_5_$1,"collapseHandler",AS3.getBindable(config,"collapseHandler"));AS3.setBindable(editor_PreviewPanelToolbar_113_5_$1,"hidden",AS3.getBindable(config,"hideToolbar"));editor_PreviewPanelToolbar_113_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.WORKAREA.getSkin());
AS3.setBindable(editor_PreviewPanelToolbar_113_5_$1,"reloadHandler",function(){this$.reloadFrame();if(config.reloadHandler)config.reloadHandler()});var ui_ValueExpression_118_9_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_118_9_$1,"expression","previewUrl");AS3.setBindable(ui_ValueExpression_118_9_$1,"context",this);AS3.setBindable(editor_PreviewPanelToolbar_113_5_$1,"urlValueExpression",new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_118_9_$1));
config_$1.tbar=editor_PreviewPanelToolbar_113_5_$1;var editor_BookmarkAction_124_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.bookmarks.BookmarkAction,{});AS3.setBindable(editor_BookmarkAction_124_5_$1,"contentValueExpression",AS3.getBindable(config,"bindTo"));AS3.setBindable(config_$1,"actionList",[new com.coremedia.cms.editor.sdk.bookmarks.BookmarkAction(editor_BookmarkAction_124_5_$1)]);config_$1["actionList$at"]=net.jangaroo.ext.Exml.APPEND;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$aMOS(config_$1)}
return{extend:"com.coremedia.cms.editor.sdk.preview.PreviewPanelBase",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.previewPanel",reloadHandler:null,constructor:PreviewPanel$,super$aMOS:function(){com.coremedia.cms.editor.sdk.preview.PreviewPanelBase.prototype.constructor.apply(this,arguments)},config:{collapseHandler:null,reloadAfterChangesDelay:NaN,noPreviewAvailableMessage:null,preferredDevice:null,disableUserInteraction:false,hideToolbar:false,hideDeviceSlider:false},
statics:{FIND_TOOLBAR:undefined,__initStatics__:function(){FIND_TOOLBAR$static_()}},requires:["Ext.container.Container","Ext.form.field.Display","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.preview.PreviewPanelBase","com.coremedia.ui.components.SwitchingContainer","com.coremedia.ui.exml.ValueExpression","com.coremedia.ui.skins.ContainerSkin","com.coremedia.ui.skins.DisplayFieldSkin","com.coremedia.ui.skins.ToolbarSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.bookmarks.BookmarkAction",
"com.coremedia.cms.editor.sdk.preview.InnerPreviewPanel","com.coremedia.cms.editor.sdk.preview.PreviewPanelToolbar"]}});Ext.define("com.coremedia.cms.editor.sdk.preview.DevelopmentModeButtonBase",function(DevelopmentModeButtonBase){var USER_VARIANT_PARAMETER$static="userVariant";var USER_VARIANT_TIMESTAMP_PARAMETER$static="userVariantTS";var LOCAL_STORAGE_DEVELOPER_MODE_KEY$static="preview.devModeActive";var isDevModeActiveValueExpression$static=null;function DevelopmentModeButtonBase$(config){if(arguments.length<=0)config=null;this.super$yb91(config);var isDevModeActive=getIsDevModeActiveValueExpression$static().getValue();
this.toggle(isDevModeActive);getIsDevModeActiveValueExpression$static().addChangeListener(AS3.bind(this,"updatePreviewOnGlobalChange"));this.setHandler(AS3.bind(this,"updatePreviewOnClick"));this.updatePreview();this.addListener("beforedestroy",AS3.bind(this,"onBeforeDestroy$yb91"))}function onBeforeDestroy(){getIsDevModeActiveValueExpression$static().removeChangeListener(AS3.bind(this,"updatePreviewOnGlobalChange"))}function getIsDevModeActiveValueExpression$static(){if(!isDevModeActiveValueExpression$static)isDevModeActiveValueExpression$static=
com.coremedia.ui.data.ValueExpressionFactory.createFromValue(readIsDeveloperModeActive$static());return isDevModeActiveValueExpression$static}function updatePreviewOnGlobalChange(){if(this.pressed!=readIsDeveloperModeActive$static()){this.toggle();this.updatePreview()}}function updatePreviewOnClick(){this.updatePreview();storeIsDeveloperModeActive$static(this.pressed);getIsDevModeActiveValueExpression$static().setValue(this.pressed)}function updatePreview(){var urlParameterBean=AS3.cast(com.coremedia.cms.editor.sdk.preview.PreviewPanelBase,
this.findParentByType(com.coremedia.cms.editor.sdk.preview.PreviewPanel.xtype)).getUrlParameterBean();var userId="";if(this.pressed){var disableTooltip=this.resourceManager.getString("com.coremedia.cms.editor.Editor","Premular_developmentMode_disable_tooltip");this.setTooltip(disableTooltip);this.setText(disableTooltip);var user=com.coremedia.cms.editor.sdk.editorContext.getSession().getUser();var uriPath=user.getUriPath();var slashPos=uriPath.lastIndexOf("/");userId=uriPath.substring(slashPos+1)}else{var enableTooltip=
this.resourceManager.getString("com.coremedia.cms.editor.Editor","Premular_developmentMode_enable_tooltip");this.setTooltip(enableTooltip);this.setText(enableTooltip)}if(urlParameterBean.get(USER_VARIANT_PARAMETER$static)!==userId){urlParameterBean.set(USER_VARIANT_PARAMETER$static,userId);urlParameterBean.set(USER_VARIANT_TIMESTAMP_PARAMETER$static,String((new Date).getTime()))}}function storeIsDeveloperModeActive$static(isDevModeActive){com.coremedia.ui.util.LocalStorageUtil.setItem(LOCAL_STORAGE_DEVELOPER_MODE_KEY$static,
String(isDevModeActive))}function readIsDeveloperModeActive$static(){return com.coremedia.ui.util.LocalStorageUtil.getItem(LOCAL_STORAGE_DEVELOPER_MODE_KEY$static)=="true"}return{extend:"com.coremedia.ui.components.IconButton",constructor:DevelopmentModeButtonBase$,super$yb91:function(){com.coremedia.ui.components.IconButton.prototype.constructor.apply(this,arguments)},onBeforeDestroy$yb91:onBeforeDestroy,updatePreviewOnGlobalChange:updatePreviewOnGlobalChange,updatePreviewOnClick:updatePreviewOnClick,
updatePreview:updatePreview,requires:["com.coremedia.cms.editor.Editor_properties","com.coremedia.ui.components.IconButton","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.util.LocalStorageUtil"],uses:["com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.preview.PreviewPanel","com.coremedia.cms.editor.sdk.preview.PreviewPanelBase"]}});Ext.define("com.coremedia.cms.editor.sdk.preview.InnerPreviewPanel",function(InnerPreviewPanel){var PREVIEW_DEVICE_BLOCK$static;function PREVIEW_DEVICE_BLOCK$static_(){PREVIEW_DEVICE_BLOCK$static=new com.coremedia.ui.models.bem.BEMBlock("cm-preview-device")}var PREVIEW_DEVICE_IFRAME_ELEMENT$static;function PREVIEW_DEVICE_IFRAME_ELEMENT$static_(){PREVIEW_DEVICE_IFRAME_ELEMENT$static=PREVIEW_DEVICE_BLOCK$static.createElement("iframe")}var PREVIEW_SCROLLBAR$static="preview-scrollbar";var PREVIEW_DEVICE_SCROLLBAR$static=
"preview-device-scrollbar";function InnerPreviewPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.preview.InnerPreviewPanelBase,{});var defaults_$1=AS3.cast(InnerPreviewPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.PanelSkin.DARK.getSkin());var ui_BindPropertyPlugin_36_5_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_36_5_$1.componentProperty=
net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.preview.InnerPreviewPanelBase.SCALE_MODE_PROPERTY);ui_BindPropertyPlugin_36_5_$1.bindTo=this.getDesktopModeScaleValueExpression();var ui_BindPropertyPlugin_38_5_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_38_5_$1.componentProperty=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.preview.InnerPreviewPanelBase.SELECTED_DEVICE_PROPERTY);ui_BindPropertyPlugin_38_5_$1.bindTo=this.getSelectedDeviceValueExpression();
var ui_BindPropertyPlugin_40_5_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_40_5_$1.componentProperty=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.preview.InnerPreviewPanelBase.SLIDER_ZOOM_PROPERTY);ui_BindPropertyPlugin_40_5_$1.bindTo=this.getSliderZoomValueExpression();var ui_BEMPlugin_42_5_$1=AS3.cast(com.coremedia.ui.plugins.BEMPlugin,{});AS3.setBindable(ui_BEMPlugin_42_5_$1,"block","cm-preview-panel");config_$1.plugins=[ui_BindPropertyPlugin_36_5_$1,
ui_BindPropertyPlugin_38_5_$1,ui_BindPropertyPlugin_40_5_$1,ui_BEMPlugin_42_5_$1];var container_46_5_$1=AS3.cast(Ext.container.Container,{});container_46_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.preview.InnerPreviewPanelBase.SCALING_CONTAINER_ITEM_ID);var editor_PreviewIFrame_49_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.preview.PreviewIFrame,{});editor_PreviewIFrame_49_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.preview.InnerPreviewPanelBase.IFRAME_ITEM_ID);
editor_PreviewIFrame_49_9_$1.cls=net.jangaroo.ext.Exml.asString(PREVIEW_DEVICE_IFRAME_ELEMENT$static.getCSSClass());var box_52_9_$1=AS3.cast(Ext.Component,{});box_52_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.preview.InnerPreviewPanelBase.DEVICE_SCROLLBAR_BOTTOM_ITEM_ID);box_52_9_$1.cls=net.jangaroo.ext.Exml.asString(PREVIEW_DEVICE_SCROLLBAR$static+" preview-scrollbar-bottom-container");AS3.setBindable(box_52_9_$1,"html","\x3cdiv /\x3e");var box_55_9_$1=AS3.cast(Ext.Component,
{});box_55_9_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.preview.InnerPreviewPanelBase.DEVICE_SCROLLBAR_RIGHT_ITEM_ID);box_55_9_$1.cls=net.jangaroo.ext.Exml.asString(PREVIEW_DEVICE_SCROLLBAR$static+" preview-scrollbar-side-container");AS3.setBindable(box_55_9_$1,"html","\x3cdiv class\x3d'preview-device-border-right-inner'/\x3e");container_46_5_$1.items=[editor_PreviewIFrame_49_9_$1,box_52_9_$1,box_55_9_$1];var ui_BEMPlugin_60_9_$1=AS3.cast(com.coremedia.ui.plugins.BEMPlugin,
{});AS3.setBindable(ui_BEMPlugin_60_9_$1,"block",PREVIEW_DEVICE_BLOCK$static);container_46_5_$1.plugins=[ui_BEMPlugin_60_9_$1];var layout_Container_63_9_$1=AS3.cast(Ext.layout.container.Container,{});AS3.setBindable(container_46_5_$1,"layout",layout_Container_63_9_$1);var box_66_5_$1=AS3.cast(Ext.Component,{});box_66_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.preview.InnerPreviewPanelBase.SCROLLBAR_BOTTOM_ITEM_ID);box_66_5_$1.cls=net.jangaroo.ext.Exml.asString(PREVIEW_SCROLLBAR$static+
" preview-scrollbar-bottom-container");AS3.setBindable(box_66_5_$1,"html","\x3cdiv /\x3e");var box_69_5_$1=AS3.cast(Ext.Component,{});box_69_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.preview.InnerPreviewPanelBase.SCROLLBAR_RIGHT_ITEM_ID);box_69_5_$1.cls=net.jangaroo.ext.Exml.asString(PREVIEW_SCROLLBAR$static+" preview-scrollbar-side-container");AS3.setBindable(box_69_5_$1,"html","\x3cdiv /\x3e");config_$1.items=[container_46_5_$1,box_66_5_$1,box_69_5_$1];var layout_Container_74_5_$1=
AS3.cast(Ext.layout.container.Container,{});AS3.setBindable(config_$1,"layout",layout_Container_74_5_$1);var editor_PreviewIFrameToolbar_77_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.preview.PreviewIFrameToolbar,{});AS3.setBindable(editor_PreviewIFrameToolbar_77_5_$1,"selectedDeviceValueExpression",this.getSelectedDeviceValueExpression());AS3.setBindable(editor_PreviewIFrameToolbar_77_5_$1,"hidden",AS3.getBindable(config,"hideDeviceSlider"));AS3.setBindable(editor_PreviewIFrameToolbar_77_5_$1,"deviceInfoValueExpression",
this.getDeviceInfoValueExpression());AS3.setBindable(editor_PreviewIFrameToolbar_77_5_$1,"scaleModeValueExpression",this.getDesktopModeScaleValueExpression());AS3.setBindable(editor_PreviewIFrameToolbar_77_5_$1,"sliderZoomValueExpression",this.getSliderZoomValueExpression());config_$1.tbar=editor_PreviewIFrameToolbar_77_5_$1;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Nl6I(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.preview.InnerPreviewPanelBase",alias:"widget.com.coremedia.cms.editor.sdk.config.innerPreviewPanel",
constructor:InnerPreviewPanel$,super$Nl6I:function(){com.coremedia.cms.editor.sdk.preview.InnerPreviewPanelBase.prototype.constructor.apply(this,arguments)},config:{hideDeviceSlider:false},statics:{DOCUMENT_DIMENSIONS_CHANGED_EVENT:"documentDimensionsChanged",PREVIEW_DEVICE_BLOCK:undefined,PREVIEW_DEVICE_IFRAME_ELEMENT:undefined,__initStatics__:function(){PREVIEW_DEVICE_BLOCK$static_();PREVIEW_DEVICE_IFRAME_ELEMENT$static_()}},requires:["Ext.Component","Ext.container.Container","Ext.layout.container.Container",
"com.coremedia.cms.editor.sdk.preview.InnerPreviewPanelBase","com.coremedia.ui.models.bem.BEMBlock","com.coremedia.ui.plugins.BEMPlugin","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.skins.PanelSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.preview.PreviewIFrame","com.coremedia.cms.editor.sdk.preview.PreviewIFrameToolbar"]}});Ext.define("com.coremedia.cms.editor.sdk.preview.MetadataHelper",function(MetadataHelper){function extractBeanAndPropertyFromMetadataNode$static(metadataNode){var propertyResult=undefined;var beanResult=undefined;var path=MetadataHelper.extractMetadataPathForMetadataNode(metadataNode);for(var i=0;i<path.length;i++){var currentNode=AS3.as(path[i],com.coremedia.cms.editor.sdk.preview.metadata.MetadataTreeNode);if(MetadataHelper.isPropertyMetadataNode(currentNode))propertyResult=MetadataHelper.getPropertyMetadataValue(currentNode);
if(MetadataHelper.isBeanMetadataNode(currentNode)){beanResult=MetadataHelper.getBeanMetadataValue(currentNode);return[beanResult,propertyResult]}}return null}function getFirstBeanParentNode$static(metadataNode,includeSelf){if(arguments.length<=1)includeSelf=true;return MetadataHelper.getFirstParentNodeMatching(metadataNode,MetadataHelper.isBeanMetadataNode,includeSelf)}function getFirstPropertyParentNode$static(metadataNode,includeSelf){if(arguments.length<=1)includeSelf=true;return MetadataHelper.getFirstParentNodeMatching(metadataNode,
MetadataHelper.isPropertyMetadataNode,includeSelf)}function getFirstIndexParentNode$static(metadataNode,includeSelf){if(arguments.length<=1)includeSelf=true;return MetadataHelper.getFirstParentNodeMatching(metadataNode,MetadataHelper.isIndexMetadataNode,includeSelf)}function getFirstParentNodeMatching$static(metadataNode,predicate,includeSelf){if(arguments.length<=2)includeSelf=true;if(includeSelf&&predicate(metadataNode))return metadataNode;if(metadataNode&&metadataNode.getParent())return MetadataHelper.getFirstParentNodeMatching(metadataNode.getParent(),
predicate,true);else return undefined}function extractMetadataPathForMetadataNode$static(metadataNode){var result=[];if(metadataNode){result.push(metadataNode);while(metadataNode.getParent()){result.push(metadataNode.getParent());metadataNode=metadataNode.getParent()}}return result}function getDefaultProperty$static(metadataNode){return metadataNode&&metadataNode.getProperty(MetadataHelper.METADATA_DEFAULT_PROPERTY)}function isBeanMetadataNode$static(metadataNode){var metadata=MetadataHelper.getDefaultProperty(metadataNode);
return AS3.is(metadata,com.coremedia.ui.data.Bean)}function getBeanMetadataValue$static(metadataNode){return MetadataHelper.isBeanMetadataNode(metadataNode)?AS3.as(metadataNode.getProperty(MetadataHelper.METADATA_DEFAULT_PROPERTY),com.coremedia.ui.data.Bean):undefined}function getAllProperties$static(metadataNode){return Ext.apply({},metadataNode["getProperties"]())}function isPropertyMetadataNode$static(metadataNode){var metadata=MetadataHelper.getDefaultProperty(metadataNode);return AS3.is(metadata,
String)}function getPropertyMetadataValue$static(metadataNode){return MetadataHelper.isPropertyMetadataNode(metadataNode)?AS3.as(metadataNode.getProperty(MetadataHelper.METADATA_DEFAULT_PROPERTY),String):undefined}function isIndexMetadataNode$static(metadataNode){var metadata=MetadataHelper.getDefaultProperty(metadataNode);return AS3.is(metadata,Number)}function getIndexMetadataValue$static(metadataNode){return MetadataHelper.isIndexMetadataNode(metadataNode)?AS3.as(metadataNode.getProperty(MetadataHelper.METADATA_DEFAULT_PROPERTY),
Number):undefined}function MetadataHelper$(){}return{constructor:MetadataHelper$,statics:{METADATA_DEFAULT_PROPERTY:"_",extractBeanAndPropertyFromMetadataNode:extractBeanAndPropertyFromMetadataNode$static,getFirstBeanParentNode:getFirstBeanParentNode$static,getFirstPropertyParentNode:getFirstPropertyParentNode$static,getFirstIndexParentNode:getFirstIndexParentNode$static,getFirstParentNodeMatching:getFirstParentNodeMatching$static,extractMetadataPathForMetadataNode:extractMetadataPathForMetadataNode$static,
getDefaultProperty:getDefaultProperty$static,isBeanMetadataNode:isBeanMetadataNode$static,getBeanMetadataValue:getBeanMetadataValue$static,getAllProperties:getAllProperties$static,isPropertyMetadataNode:isPropertyMetadataNode$static,getPropertyMetadataValue:getPropertyMetadataValue$static,isIndexMetadataNode:isIndexMetadataNode$static,getIndexMetadataValue:getIndexMetadataValue$static},requires:["Ext","com.coremedia.ui.data.Bean"],uses:["com.coremedia.cms.editor.sdk.preview.metadata.MetadataTreeNode"]}});Ext.define("com.coremedia.cms.editor.sdk.preview.PreviewDependencyManager",function(PreviewDependencyManager){function PreviewDependencyManager$(previewPanel,initialBean){this.super$7v7w();this.previewPanel$7v7w=previewPanel;this.initialBean$7v7w=initialBean;if(initialBean)initialBean.addValueChangeListener(AS3.bind(this,"initialBeanValueChanged$7v7w"));this.setup$7v7w()}function setup(){var this$=this;if(this.previewPanel$7v7w.rendered)this.getMetadataValueExpression$7v7w().addChangeListener(AS3.bind(this,
"initMetadata"));else this.previewPanel$7v7w.on("afterrender",function(){this$.getMetadataValueExpression$7v7w().addChangeListener(AS3.bind(this$,"initMetadata"))},null,{single:true})}function getMetadataValueExpression(){var this$=this;if(!this.metadataValueExpression$7v7w)this.metadataValueExpression$7v7w=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){return this$.previewPanel$7v7w.getMetadataService().getMetadataTree([com.coremedia.cms.editor.sdk.preview.MetadataHelper.METADATA_DEFAULT_PROPERTY])});
return this.metadataValueExpression$7v7w}function initialBeanValueChanged(){this.firePreviewDependencyChangedEvent$7v7w(null,null,null)}function getMetadataIdsForBeanProperty(bean,property){if(this.metadataIdsByBeanAndProperty$7v7w){var key=generateBeanPropertyKey$static(bean,property);return this.metadataIdsByBeanAndProperty$7v7w[key]}return undefined}function dependencyChangedListener(event){var this$=this;if(event.oldState!==com.coremedia.ui.data.BeanState.UNKNOWN){var bean=AS3.as(event.bean,com.coremedia.ui.data.Bean);
var newValue=event.newValue;var oldValue=event.oldValue;var changedProperty=com.coremedia.ui.data.impl.PropertyPathUtil.deserialize(event.property).join(".");var beanPropertyKey=generateBeanPropertyKey$static(bean,changedProperty);var metadataId=this.metadataIdsByBeanAndProperty$7v7w[beanPropertyKey];if(oldValue!==undefined&&!com.coremedia.ui.util.ObjectUtils.equal(oldValue,newValue)&&(!(AS3.is(oldValue,Object)&&AS3.is(newValue,Object))||!com.coremedia.ui.util.ObjectUtils.compareObjectsWithEqual(oldValue,
newValue))){function doFireEvent(){this$.firePreviewDependencyChangedEvent$7v7w(metadataId,oldValue,newValue)}if(AS3.is(bean,com.coremedia.ui.data.RemoteBean))com.coremedia.ui.util.EventUtil.invokeLater(function(){AS3.cast(com.coremedia.ui.data.RemoteBean,bean).flush(doFireEvent)});else doFireEvent()}}}function firePreviewDependencyChangedEvent(metadataId,oldValue,newValue){this.fireEvent(PreviewDependencyManager.PREVIEW_DEPENDENCY_CHANGED_EVENT,metadataId,oldValue,newValue)}function initMetadata(metadataValueExpression){this.metadataIdsByBeanAndProperty$7v7w&&
(this.metadataIdsByBeanAndProperty$7v7w={});this.dependencies$7v7w&&(this.dependencies$7v7w=[]);var metadataTree=metadataValueExpression.getValue();this.detachPropertyChangeListeners$7v7w();this.attachPropertyChangeListeners$7v7w(metadataTree.getRoot())}function detachPropertyChangeListeners(){if(this.dependencies$7v7w){for(var i=0;i<this.dependencies$7v7w.length;i++)AS3.as(this.dependencies$7v7w[i],com.coremedia.ui.data.Bean).removeValueChangeListener(AS3.bind(this,"dependencyChangedListener$7v7w"));
this.dependencies$7v7w=undefined}}function attachPropertyChangeListeners(metadataNode){this.dependencies$7v7w||(this.dependencies$7v7w=[]);this.metadataIdsByBeanAndProperty$7v7w||(this.metadataIdsByBeanAndProperty$7v7w={});var metadataId=metadataNode.getId();if(metadataId){var values=com.coremedia.cms.editor.sdk.preview.MetadataHelper.extractBeanAndPropertyFromMetadataNode(metadataNode);values&&this.registerDependencyFor$7v7w(values[0],values[1],metadataId)}metadataNode.getChildren().forEach(AS3.bind(this,
"attachPropertyChangeListeners$7v7w"))}function registerDependencyFor(bean,property,id){var beanPropertyKey=generateBeanPropertyKey$static(bean,property);if(beanPropertyKey in this.metadataIdsByBeanAndProperty$7v7w)this.metadataIdsByBeanAndProperty$7v7w[beanPropertyKey].push(id);else this.metadataIdsByBeanAndProperty$7v7w[beanPropertyKey]=[id];if(bean)if(!this.hasDependencyFor(bean)){if(this.initialBean$7v7w){this.initialBean$7v7w.removeValueChangeListener(AS3.bind(this,"initialBeanValueChanged$7v7w"));
this.initialBean$7v7w=null}this.dependencies$7v7w.push(bean);bean.addValueChangeListener(AS3.bind(this,"dependencyChangedListener$7v7w"))}}function hasDependencyFor(bean){return!!this.dependencies$7v7w&&this.dependencies$7v7w.indexOf(bean)!==-1}function generateBeanPropertyKey$static(bean,property){var keyObject={bean:bean,property:property};return com.coremedia.ui.util.ObjectUtils.toJson(keyObject)}function cleanup(){this.initialBean$7v7w&&this.initialBean$7v7w.removeValueChangeListener(AS3.bind(this,
"initialBeanValueChanged$7v7w"));this.getMetadataValueExpression$7v7w().removeChangeListener(AS3.bind(this,"initMetadata"));this.detachPropertyChangeListeners$7v7w();this.destroy()}return{extend:"Ext.util.Observable",metadata:{"":["Event",["name","previewDepChanged"]]},dependencies$7v7w:null,metadataIdsByBeanAndProperty$7v7w:null,metadataValueExpression$7v7w:null,previewPanel$7v7w:null,initialBean$7v7w:null,constructor:PreviewDependencyManager$,super$7v7w:function(){Ext.util.Observable.prototype.constructor.apply(this,
arguments)},setup$7v7w:setup,getMetadataValueExpression$7v7w:getMetadataValueExpression,initialBeanValueChanged$7v7w:initialBeanValueChanged,getMetadataIdsForBeanProperty:getMetadataIdsForBeanProperty,dependencyChangedListener$7v7w:dependencyChangedListener,firePreviewDependencyChangedEvent$7v7w:firePreviewDependencyChangedEvent,initMetadata:initMetadata,detachPropertyChangeListeners$7v7w:detachPropertyChangeListeners,attachPropertyChangeListeners$7v7w:attachPropertyChangeListeners,registerDependencyFor$7v7w:registerDependencyFor,
hasDependencyFor:hasDependencyFor,cleanup:cleanup,statics:{PREVIEW_DEPENDENCY_CHANGED_EVENT:"previewDepChanged"},requires:["Ext.util.Observable","com.coremedia.ui.data.Bean","com.coremedia.ui.data.BeanState","com.coremedia.ui.data.RemoteBean","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.impl.PropertyPathUtil","com.coremedia.ui.util.EventUtil","com.coremedia.ui.util.ObjectUtils"],uses:["com.coremedia.cms.editor.sdk.preview.MetadataHelper"]}});Ext.define("com.coremedia.cms.editor.sdk.preview.MetadataWindowBase",function(MetadataWindowBase){function MetadataWindowBase$(config){if(arguments.length<=0)config=null;this.super$9Xfm(config);this.getTree$9Xfm().on("load",AS3.bind(this,"expandRoot$9Xfm"));this.getTree$9Xfm().on("beforecollapsenode",AS3.bind(this,"beforeCollapseNode$9Xfm"))}function getTree(){var tree=AS3.cast(Ext.tree.Panel,this.getComponent(com.coremedia.cms.editor.sdk.preview.MetadataWindow.TREE_PANEL_ITEM_ID));return tree}function beforeCollapseNode(node,
deep){if(deep)return true;node.collapse(true);return false}function expandRoot(){this.getTree$9Xfm().getRootNode().expand()}function expandAll(){var tree=this.getTree$9Xfm();tree.expandAll()}function showWarnings(warningsButton){this.getShowWarningsValueExpression().setValue(warningsButton.pressed)}function getTreeModel(config){if(!this.treeModel$9Xfm)this.treeModel$9Xfm=new com.coremedia.cms.editor.sdk.preview.MetadataWindowTreeModel(AS3.getBindable(config,"treeVE"),this.getShowWarningsValueExpression());
return this.treeModel$9Xfm}function getShowWarningsValueExpression(){if(!this.showWarningsVE$9Xfm)this.showWarningsVE$9Xfm=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(true);return this.showWarningsVE$9Xfm}return{extend:"com.coremedia.cms.editor.sdk.components.StudioDialog",treeModel$9Xfm:null,showWarningsVE$9Xfm:null,constructor:MetadataWindowBase$,super$9Xfm:function(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.constructor.apply(this,arguments)},getTree$9Xfm:getTree,
beforeCollapseNode$9Xfm:beforeCollapseNode,expandRoot$9Xfm:expandRoot,expandAll:expandAll,showWarnings:showWarnings,getTreeModel:getTreeModel,getShowWarningsValueExpression:getShowWarningsValueExpression,requires:["Ext.tree.Panel","com.coremedia.cms.editor.sdk.components.StudioDialog","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.sdk.preview.MetadataWindow","com.coremedia.cms.editor.sdk.preview.MetadataWindowTreeModel"]}});Ext.define("com.coremedia.cms.editor.sdk.preview.MetadataWindow",function(MetadataWindow){function MetadataWindow$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.preview.MetadataWindowBase,{});var defaults_$1=AS3.cast(MetadataWindow,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"title","Metadata");config_$1.stateId="metadataWindowState";AS3.setBindable(config_$1,"stateful",true);AS3.setBindable(config_$1,"width",
600);AS3.setBindable(config_$1,"height",600);config_$1.constrainHeader=true;var treePanel_37_5_$1=AS3.cast(Ext.tree.Panel,{});treePanel_37_5_$1.itemId=net.jangaroo.ext.Exml.asString(MetadataWindow.TREE_PANEL_ITEM_ID);AS3.setBindable(treePanel_37_5_$1,"scrollable",true);treePanel_37_5_$1.rootVisible=false;var ui_BindTreePlugin_41_9_$1=AS3.cast(com.coremedia.ui.plugins.BindTreePlugin,{});AS3.setBindable(ui_BindTreePlugin_41_9_$1,"treeModel",this.getTreeModel(config));var ui_BindTreeSelectionPlugin_42_9_$1=
AS3.cast(com.coremedia.ui.plugins.BindTreeSelectionPlugin,{});AS3.setBindable(ui_BindTreeSelectionPlugin_42_9_$1,"valueExpression",AS3.getBindable(config,"selectionVE"));AS3.setBindable(ui_BindTreeSelectionPlugin_42_9_$1,"treeModel",this.getTreeModel(config));treePanel_37_5_$1.plugins=[ui_BindTreePlugin_41_9_$1,ui_BindTreeSelectionPlugin_42_9_$1];config_$1.items=[treePanel_37_5_$1];var button_48_5_$1=AS3.cast(Ext.button.Button,{});button_48_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_SECONDARY.getSkin());
AS3.setBindable(button_48_5_$1,"scale","small");AS3.setBindable(button_48_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","dialog_defaultCloseButton_text")));AS3.setBindable(button_48_5_$1,"handler",AS3.bind(this,"close"));config_$1.buttons=[button_48_5_$1];var toolbar_55_5_$1=AS3.cast(Ext.toolbar.Toolbar,{});toolbar_55_5_$1.itemId="toolbar";AS3.setBindable(toolbar_55_5_$1,"height",30);var ui_IconButton_58_9_$1=AS3.cast(com.coremedia.ui.components.IconButton,
{});AS3.setBindable(ui_IconButton_58_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","show_html")));AS3.setBindable(ui_IconButton_58_9_$1,"tooltip","Expand all");AS3.setBindable(ui_IconButton_58_9_$1,"handler",AS3.bind(this,"expandAll"));var ui_IconButton_61_9_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});AS3.setBindable(ui_IconButton_61_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons",
"warning")));AS3.setBindable(ui_IconButton_61_9_$1,"tooltip","Show warnings");ui_IconButton_61_9_$1.enableToggle=true;AS3.setBindable(ui_IconButton_61_9_$1,"pressed",true);AS3.setBindable(ui_IconButton_61_9_$1,"handler",AS3.bind(this,"showWarnings"));toolbar_55_5_$1.items=[ui_IconButton_58_9_$1,ui_IconButton_61_9_$1];config_$1.tbar=toolbar_55_5_$1;var layout_Fit_70_5_$1=AS3.cast(Ext.layout.container.Fit,{});AS3.setBindable(config_$1,"layout",layout_Fit_70_5_$1);net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$23R$(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.preview.MetadataWindowBase",alias:"widget.com.coremedia.cms.editor.sdk.config.metadataWindow",constructor:MetadataWindow$,super$23R$:function(){com.coremedia.cms.editor.sdk.preview.MetadataWindowBase.prototype.constructor.apply(this,arguments)},config:{treeVE:null,selectionVE:null},statics:{TREE_PANEL_ITEM_ID:"treePanel"},requires:["Ext.button.Button","Ext.layout.container.Fit","Ext.toolbar.Toolbar","Ext.tree.Panel","com.coremedia.cms.editor.Editor_properties",
"com.coremedia.cms.editor.sdk.preview.MetadataWindowBase","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.components.IconButton","com.coremedia.ui.plugins.BindTreePlugin","com.coremedia.ui.plugins.BindTreeSelectionPlugin","com.coremedia.ui.skins.ButtonSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.member.MemberSearchField",function(MemberSearchField){function DEFAULT_DOMAIN$static_(){MemberSearchField.DEFAULT_DOMAIN=com.coremedia.cms.editor.sdk.editorContext.getSession().getUser().getDomain()}function MemberSearchField$(config){var this$=this;if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.member.MemberSearchFieldBase,{});var defaults_$1=AS3.cast(MemberSearchField,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,
config);AS3.setBindable(config_$1,"displayField","name");AS3.setBindable(config_$1,"emptyText",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","MemberSearchField_emptyText")));config_$1.enableKeyEvents=true;config_$1.forceSelection=false;config_$1.ariaLabel=net.jangaroo.ext.Exml.asString(config.hideLabel?AS3.getBindable(config,"fieldLabel","DUMMY"):undefined);AS3.setBindable(config_$1,"hideTrigger",true);config_$1.minChars=config.minChars>0?config.minChars:
MemberSearchField.DEFAULT_MIN_CHARS;config_$1.queryMode="remote";config_$1.queryDelay=300;config_$1.queryParam="matchName";config_$1.selectOnFocus=true;config_$1.valueField="uriPath";config_$1["lastQuery"]="";var store_Json_78_5_$1=AS3.cast(Ext.data.JsonStore,{});AS3.setBindable(store_Json_78_5_$1,"autoDestroy",true);var proxy_Ajax_80_9_$1=AS3.cast(Ext.data.proxy.Ajax,{});AS3.setBindable(proxy_Ajax_80_9_$1,"url",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.member.MemberSearchFieldBase.computeUrl()));
AS3.setBindable(proxy_Ajax_80_9_$1,"extraParams",{domain:AS3.getBindable(config,"domain")!=null?AS3.getBindable(config,"domain"):MemberSearchField.DEFAULT_DOMAIN,maxUsers:AS3.getBindable(config,"maxUsers")>0?AS3.getBindable(config,"maxUsers"):MemberSearchField.DEFAULT_MAX_USERS,maxGroups:AS3.getBindable(config,"maxGroups")>0?AS3.getBindable(config,"maxGroups"):MemberSearchField.DEFAULT_MAX_GROUPS,startsWith:AS3.getBindable(config,"startsWith")!=null?AS3.getBindable(config,"startsWith"):MemberSearchField.DEFAULT_STARTS_WITH});
AS3.setBindable(store_Json_78_5_$1,"proxy",proxy_Ajax_80_9_$1);var data_AutoField_91_9_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_91_9_$1.name="name";data_AutoField_91_9_$1["convert"]=function(value,model){if(model.data.uriPath.indexOf("group/")===0)value+=" "+this$.resourceManager.getString("com.coremedia.cms.editor.Editor","SelectedMemberElement_group_suffix");return com.coremedia.ui.util.EncodingUtil.encodeForHTML(value)};var data_AutoField_99_9_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_99_9_$1.name=
"uriPath";AS3.setBindable(store_Json_78_5_$1,"fields",[data_AutoField_91_9_$1,data_AutoField_99_9_$1]);AS3.setBindable(config_$1,"store",new Ext.data.JsonStore(store_Json_78_5_$1));var boundList_105_5_$1=AS3.cast(Ext.view.BoundList,{});boundList_105_5_$1.loadingText=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","MemberSearchField_loading_text"));config_$1.listConfig=boundList_105_5_$1;var editor_AriaLabelPlugin_108_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.plugins.AriaLabelPlugin,
{});AS3.setBindable(editor_AriaLabelPlugin_108_5_$1,"parentProperty","emptyText");config_$1.plugins=[editor_AriaLabelPlugin_108_5_$1];config_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$zkm_(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.member.MemberSearchFieldBase",alias:"widget.com.coremedia.cms.editor.sdk.config.memberSearchField",constructor:MemberSearchField$,super$zkm_:function(){com.coremedia.cms.editor.sdk.member.MemberSearchFieldBase.prototype.constructor.apply(this,
arguments)},config:{maxUsers:NaN,maxGroups:NaN,startsWith:false,domain:null},statics:{DEFAULT_MAX_USERS:10,DEFAULT_MAX_GROUPS:10,DEFAULT_MIN_CHARS:3,DEFAULT_STARTS_WITH:true,DEFAULT_DOMAIN:undefined,__initStatics__:function(){DEFAULT_DOMAIN$static_()}},requires:["Ext.data.JsonStore","Ext.data.field.Field","Ext.data.proxy.Ajax","Ext.view.BoundList","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.member.MemberSearchFieldBase","com.coremedia.ui.util.EncodingUtil","net.jangaroo.ext.Exml"],
uses:["com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.plugins.AriaLabelPlugin"]}});Ext.define("com.coremedia.cms.editor.sdk.member.MemberElement",function(MemberElement){function __initialize__(config){this.computedDisabledValueExpression$2Lq8=AS3.getBindable(config,"disabledValueExpression")?AS3.getBindable(config,"disabledValueExpression"):com.coremedia.ui.data.ValueExpressionFactory.createFromValue(false)}function MemberElement$(config){if(arguments.length<=0)config=null;this.__initialize__$2Lq8(config);var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.member.MemberElementBase,
{});var defaults_$1=AS3.cast(MemberElement,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var layout_HBox_53_5_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_53_5_$1,"align","begin");AS3.setBindable(layout_HBox_53_5_$1,"pack","middle");AS3.setBindable(config_$1,"layout",layout_HBox_53_5_$1);var ui_IconButton_57_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_57_5_$1.itemId=net.jangaroo.ext.Exml.asString(MemberElement.EXPAND_BUTTON_ITEM_ID);
AS3.setBindable(ui_IconButton_57_5_$1,"scale","small");ui_IconButton_57_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE.getSkin());AS3.setBindable(ui_IconButton_57_5_$1,"handler",AS3.bind(this,"expandGroup"));AS3.setBindable(ui_IconButton_57_5_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CollaborationIcons","add_expand")));AS3.setBindable(ui_IconButton_57_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"SelectedMemberElement_expand_btn_tooltip")));AS3.setBindable(ui_IconButton_57_5_$1,"tooltip",this.resourceManager.getString("com.coremedia.cms.editor.Editor","SelectedMemberElement_expand_btn_tooltip"));var ui_BindVisibilityPlugin_65_9_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_65_9_$1.bindTo=this.getExpandGroupsButtonVisibilityVE();var ui_BindPropertyPlugin_66_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_66_9_$1.componentProperty=
"disabled";ui_BindPropertyPlugin_66_9_$1.bindTo=this.computedDisabledValueExpression$2Lq8;var ui_BindPropertyPlugin_68_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_68_9_$1.componentProperty="text";ui_BindPropertyPlugin_68_9_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"computeMemberName"));ui_BindPropertyPlugin_68_9_$1.transformer=com.coremedia.ui.util.EncodingUtil.encodeForHTML;ui_IconButton_57_5_$1.plugins=[ui_BindVisibilityPlugin_65_9_$1,
ui_BindPropertyPlugin_66_9_$1,ui_BindPropertyPlugin_68_9_$1];var ui_IconDisplayField_73_5_$1=AS3.cast(com.coremedia.ui.components.IconDisplayField,{});ui_IconDisplayField_73_5_$1.itemId=net.jangaroo.ext.Exml.asString(MemberElement.NAME_FIELD_ITEM_ID);ui_IconDisplayField_73_5_$1.flex=1;var ui_BindPropertyPlugin_76_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_76_9_$1.componentProperty="text";ui_BindPropertyPlugin_76_9_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,
"computeMemberName"));ui_BindPropertyPlugin_76_9_$1.transformer=com.coremedia.ui.util.EncodingUtil.encodeForHTML;ui_IconDisplayField_73_5_$1.plugins=[ui_BindPropertyPlugin_76_9_$1];var ui_IconButton_81_5_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_81_5_$1.itemId=net.jangaroo.ext.Exml.asString(MemberElement.REMOVE_BUTTON_ITEM_ID);AS3.setBindable(ui_IconButton_81_5_$1,"scale","small");ui_IconButton_81_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE.getSkin());
AS3.setBindable(ui_IconButton_81_5_$1,"handler",AS3.bind(this,"removeMember"));AS3.setBindable(ui_IconButton_81_5_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","remove_small")));AS3.setBindable(ui_IconButton_81_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","SelectedMemberElement_remove_btn_tooltip")));AS3.setBindable(ui_IconButton_81_5_$1,"tooltip",this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"SelectedMemberElement_remove_btn_tooltip"));var ui_BindPropertyPlugin_89_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_89_9_$1.componentProperty="disabled";ui_BindPropertyPlugin_89_9_$1.bindTo=this.computedDisabledValueExpression$2Lq8;var ui_BindVisibilityPlugin_91_9_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_91_9_$1.bindTo=this.getMemberVisibleVE();ui_IconButton_81_5_$1.plugins=[ui_BindPropertyPlugin_89_9_$1,ui_BindVisibilityPlugin_91_9_$1];
config_$1.items=[ui_IconButton_57_5_$1,ui_IconDisplayField_73_5_$1,ui_IconButton_81_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$2Lq8(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.member.MemberElementBase",alias:"widget.com.coremedia.cms.editor.sdk.config.memberElement",computedDisabledValueExpression$2Lq8:null,__initialize__$2Lq8:__initialize__,constructor:MemberElement$,super$2Lq8:function(){com.coremedia.cms.editor.sdk.member.MemberElementBase.prototype.constructor.apply(this,
arguments)},config:{disabledValueExpression:null},statics:{NAME_FIELD_ITEM_ID:"nameFieldItemId",EXPAND_BUTTON_ITEM_ID:"expandButtonItemId",REMOVE_BUTTON_ITEM_ID:"removeButtonItemId"},requires:["Ext.layout.container.HBox","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.member.MemberElementBase","com.coremedia.icons.CollaborationIcons_properties","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.components.IconButton","com.coremedia.ui.components.IconDisplayField",
"com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.BindVisibilityPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.util.EncodingUtil","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.member.MemberSearchFieldBase",function(MemberSearchFieldBase){function MemberSearchFieldBase$(config){var this$=this;if(arguments.length<=0)config=null;this.super$AXWl(config);this.on("blur",function(){this$.setValue("");this.blur()});this.mon(this.getStore(),"load",AS3.bind(this,"validateField$AXWl"));this.mon(this.getStore(),"datachanged",AS3.bind(this,"validateField$AXWl"));this.initValidationStateMixin()}function computeUrl$static(){return com.coremedia.ui.data.impl.RemoteService.REMOTE_SERVICE_URI+
AS3.as(com.coremedia.cms.editor.sdk.editorContext.getSession().getConnection().getUserRepository(),com.coremedia.ui.data.RemoteBean).getUriPath()+"/suggestions"}function validateField(){var result=this.inputValidator(AS3.as(AS3.getBindable(this,"value","DUMMY"),String));var errorMsg=this.resourceManager.getString("com.coremedia.cms.editor.Editor","MemberSearchField_qtip_no_member_found");this.applyValidationResult(result,errorMsg)}function applyValidationResult(result,errorMsg){if(arguments.length<=
1)errorMsg="";if(!result){this.collapse();AS3.setBindable(this,"validationState",com.coremedia.ui.mixins.ValidationState.ERROR);AS3.setBindable(this,"validationMessage",errorMsg)}else{AS3.setBindable(this,"validationState",null);AS3.setBindable(this,"validationMessage",null)}}function inputValidator(value){return!(value.length>0&&value.length>=this.minChars&&this.getStore().getCount()===0)}return{extend:"Ext.form.field.ComboBox",mixins:["com.coremedia.ui.mixins.ValidationStateMixin"],constructor:MemberSearchFieldBase$,
super$AXWl:function(){Ext.form.field.ComboBox.prototype.constructor.apply(this,arguments)},validateField$AXWl:validateField,applyValidationResult:applyValidationResult,inputValidator:inputValidator,statics:{computeUrl:computeUrl$static},requires:["Ext.form.field.ComboBox","com.coremedia.cms.editor.Editor_properties","com.coremedia.ui.data.RemoteBean","com.coremedia.ui.data.impl.RemoteService","com.coremedia.ui.mixins.ValidationState","com.coremedia.ui.mixins.ValidationStateMixin"],uses:["com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.member.SelectMembersContainer",function(SelectMembersContainer){function __initialize__(config){this.computedDisabledValueExpression$GqK_=AS3.getBindable(config,"disabledValueExpression")?AS3.getBindable(config,"disabledValueExpression"):com.coremedia.ui.data.ValueExpressionFactory.createFromValue(false)}function SelectMembersContainer$(config){if(arguments.length<=0)config=null;this.__initialize__$GqK_(config);var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.member.SelectMembersContainerBase,
{});var defaults_$1=AS3.cast(SelectMembersContainer,{});AS3.setBindable(defaults_$1,"hideLabel",false);config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var editor_MembersContainer_68_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.member.MembersContainer,{});editor_MembersContainer_68_5_$1.itemId=net.jangaroo.ext.Exml.asString(SelectMembersContainer.SELECTED_MEMBERS_CT_ITEM_ID);AS3.setBindable(editor_MembersContainer_68_5_$1,"membersValueExpression",AS3.getBindable(config,"membersValueExpression"));
AS3.setBindable(editor_MembersContainer_68_5_$1,"disabledValueExpression",this.computedDisabledValueExpression$GqK_);AS3.setBindable(editor_MembersContainer_68_5_$1,"maxHeight",AS3.getBindable(config,"maxMembersCtHeight"));AS3.setBindable(editor_MembersContainer_68_5_$1,"afterUpdateCallback",config.afterUpdateCallback);editor_MembersContainer_68_5_$1.anchor=net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"innerMembersContainerAnchor")?AS3.getBindable(config,"innerMembersContainerAnchor"):"");
var editor_MemberSearchField_74_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.member.MemberSearchField,{});editor_MemberSearchField_74_5_$1.itemId=net.jangaroo.ext.Exml.asString(SelectMembersContainer.SELECT_MEMBERS_COMBO_ITEM_ID);AS3.setBindable(editor_MemberSearchField_74_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"fieldLabel")));editor_MemberSearchField_74_5_$1.hideLabel=AS3.getBindable(config,"hideLabel");var ui_BindPropertyPlugin_78_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,
{});ui_BindPropertyPlugin_78_9_$1.componentProperty="disabled";ui_BindPropertyPlugin_78_9_$1.bindTo=this.computedDisabledValueExpression$GqK_;editor_MemberSearchField_74_5_$1.plugins=[ui_BindPropertyPlugin_78_9_$1];editor_MemberSearchField_74_5_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;config_$1.items=[editor_MembersContainer_68_5_$1,editor_MemberSearchField_74_5_$1];var ui_VerticalSpacingPlugin_84_5_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});config_$1.plugins=[ui_VerticalSpacingPlugin_84_5_$1];
var layout_VBox_87_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_87_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_87_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$GqK_(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.member.SelectMembersContainerBase",alias:"widget.com.coremedia.cms.editor.sdk.config.selectMembersPanel",computedDisabledValueExpression$GqK_:null,__initialize__$GqK_:__initialize__,constructor:SelectMembersContainer$,
super$GqK_:function(){com.coremedia.cms.editor.sdk.member.SelectMembersContainerBase.prototype.constructor.apply(this,arguments)},config:{membersValueExpression:null,disabledValueExpression:null,maxMembersCtHeight:0,innerMembersContainerAnchor:null,fieldLabel:null,hideLabel:false},statics:{SELECTED_MEMBERS_CT_ITEM_ID:"selectMembersCtItemId",SELECT_MEMBERS_COMBO_ITEM_ID:"membersComboItemId"},requires:["Ext.layout.container.VBox","com.coremedia.cms.editor.sdk.member.SelectMembersContainerBase","com.coremedia.ui.data.ValueExpressionFactory",
"com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.VerticalSpacingPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.member.MemberSearchField","com.coremedia.cms.editor.sdk.member.MembersContainer"]}});Ext.define("com.coremedia.cms.editor.sdk.member.SelectMembersContainerBase",function(SelectMembersContainerBase){function SelectMembersContainerBase$(config){if(arguments.length<=0)config=null;this.super$eV4l(config);this.selectedMembersValueExpression$eV4l=AS3.getBindable(config,"membersValueExpression");var selectedMembersContainer=AS3.as(this.queryById(com.coremedia.cms.editor.sdk.member.SelectMembersContainer.SELECTED_MEMBERS_CT_ITEM_ID),com.coremedia.cms.editor.sdk.member.MembersContainer);this.selectedMembersContainerBody$eV4l=
AS3.as(selectedMembersContainer.queryById(com.coremedia.cms.editor.sdk.member.MembersContainer.MEMBERS_CT_BODY_ITEM_ID),Ext.container.Container);this.sessionUserUriPath$eV4l=com.coremedia.cms.editor.sdk.editorContext.getSession().getUser().getUriPath();var selectMemberCombo=AS3.as(this.queryById(com.coremedia.cms.editor.sdk.member.SelectMembersContainer.SELECT_MEMBERS_COMBO_ITEM_ID),Ext.form.field.ComboBox);this.mon(selectMemberCombo,"select",AS3.bind(this,"memberSelected$eV4l"));this.mon(selectMemberCombo.getStore(),
"load",AS3.bind(this,"filterMembers$eV4l"))}function scrollLastMemberIntoView(){var lastMemberElement=this.selectedMembersContainerBody$eV4l.getComponent(this.selectedMembersContainerBody$eV4l.itemCollection.getCount()-1);lastMemberElement&&lastMemberElement.getEl()&&lastMemberElement.getEl().dom.scrollIntoView(false)}function memberSelected(combo,record){var newSelectedMembers=this.selectedMembersValueExpression$eV4l.getValue().concat([]);var uriPath=AS3.as(record.get("uriPath"),String);var newMember=
AS3.as(com.coremedia.ui.data.beanFactory.getRemoteBean(uriPath),com.coremedia.cap.user.Member);var index=newSelectedMembers.indexOf(newMember);if(index===-1)newSelectedMembers.push(newMember);else if(index<newSelectedMembers.length){newSelectedMembers.splice(index,1);newSelectedMembers.push(newMember)}if(newSelectedMembers.length>=AS3.as(this.selectedMembersValueExpression$eV4l.getValue(),Array).length)this.scrollLastMemberIntoView$eV4l();this.selectedMembersValueExpression$eV4l.setValue(newSelectedMembers);
combo.setValue(null)}function filterMembers(store){var this$=this;store.filterBy(function(record){var removeRecord=false;var uriPath=AS3.as(record.get("uriPath"),String);if(this$.sessionUserUriPath$eV4l===uriPath)removeRecord=true;return!removeRecord})}return{extend:"Ext.container.Container",afterUpdateCallback:null,selectedMembersValueExpression$eV4l:null,selectedMembersContainerBody$eV4l:null,sessionUserUriPath$eV4l:null,constructor:SelectMembersContainerBase$,super$eV4l:function(){Ext.container.Container.prototype.constructor.apply(this,
arguments)},scrollLastMemberIntoView$eV4l:scrollLastMemberIntoView,memberSelected$eV4l:memberSelected,filterMembers$eV4l:filterMembers,requires:["Ext.container.Container","Ext.form.field.ComboBox","com.coremedia.cap.user.Member","com.coremedia.ui.data.beanFactory"],uses:["com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.member.MembersContainer","com.coremedia.cms.editor.sdk.member.SelectMembersContainer"]}});Ext.define("com.coremedia.cms.editor.sdk.member.MemberElementBase",function(MemberElementBase){function MemberElementBase$(config){if(arguments.length<=0)config=null;this.super$enFv(config);this.sessionUserUriPath$enFv=com.coremedia.cms.editor.sdk.editorContext.getSession().getUser().getUriPath()}function expandGroup(){var this$=this;var group=AS3.as(AS3.getBindable(this,"member"),com.coremedia.cap.user.Group);if(group){var newSelectedMembers=AS3.getBindable(this,"membersValueExpression").getValue().filter(function(mbm){return mbm!==
AS3.getBindable(this$,"member")});function eventuallySetValue(){AS3.getBindable(this$,"membersValueExpression").setValue(newSelectedMembers)}var execEvt=new com.coremedia.ui.util.ExecuteEventually(eventuallySetValue);this.addSelectedUsersRecursively$enFv(AS3.as(AS3.getBindable(this,"member"),com.coremedia.cap.user.Group),newSelectedMembers,execEvt);execEvt.proceed()}}function addSelectedUsersRecursively(group,newSelectedMembers,execEvt){var this$=this;execEvt.delay();group.loadDirectMembers(function(members){com.coremedia.ui.data.RemoteBeanUtil.loadAll(function(){members.forEach(function(member){if(newSelectedMembers.indexOf(member)===
-1)if(AS3.is(member,com.coremedia.cap.user.User)){if(member.getUriPath()!=this$.sessionUserUriPath$enFv)newSelectedMembers.push(member)}else this$.addSelectedUsersRecursively$enFv(AS3.as(member,com.coremedia.cap.user.Group),newSelectedMembers,execEvt)});execEvt.proceed()},members)})}function removeMember(){var this$=this;if(AS3.getBindable(this,"memberRemovedHandler"))AS3.getBindable(this,"memberRemovedHandler")(AS3.getBindable(this,"member"),AS3.getBindable(this,"membersValueExpression"));else{var members=
AS3.getBindable(this,"membersValueExpression").getValue().concat([]);var newSelectedMembers=members.filter(function(mbm){return AS3.getBindable(this$,"member")!==mbm});AS3.getBindable(this,"membersValueExpression").setValue(newSelectedMembers)}}function getExpandGroupsButtonVisibilityVE(){var this$=this;if(!this.expandGroupButtonVisibilityVE$enFv)this.expandGroupButtonVisibilityVE$enFv=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){return AS3.getBindable(this$,"member").isGroup()});
return this.expandGroupButtonVisibilityVE$enFv}function computeMemberName(){if(AS3.getBindable(this,"member").isLoaded())if(AS3.getBindable(this,"memberDisplayTransformer"))return AS3.getBindable(this,"memberDisplayTransformer")(AS3.getBindable(this,"member"));else return AS3.getBindable(this,"member").getName();else AS3.getBindable(this,"member").load();return undefined}function getMemberVisibleVE(){var this$=this;if(!this.memberReadonlyVE$enFv)this.memberReadonlyVE$enFv=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){if(AS3.getBindable(this$,
"memberReadOnlyPredicate"))return!AS3.getBindable(this$,"memberReadOnlyPredicate")(AS3.getBindable(this$,"member"));else return true});return this.memberReadonlyVE$enFv}return{extend:"Ext.container.Container",sessionUserUriPath$enFv:null,expandGroupButtonVisibilityVE$enFv:null,memberReadonlyVE$enFv:null,constructor:MemberElementBase$,super$enFv:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},expandGroup:expandGroup,addSelectedUsersRecursively$enFv:addSelectedUsersRecursively,
removeMember:removeMember,getExpandGroupsButtonVisibilityVE:getExpandGroupsButtonVisibilityVE,computeMemberName:computeMemberName,getMemberVisibleVE:getMemberVisibleVE,config:{member:null,membersValueExpression:null,memberDisplayTransformer:null,memberReadOnlyPredicate:null,memberRemovedHandler:null},requires:["Ext.container.Container","com.coremedia.cap.user.Group","com.coremedia.cap.user.User","com.coremedia.ui.data.RemoteBeanUtil","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.util.ExecuteEventually"],
uses:["com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.member.MembersContainer",function(MembersContainer){function __initialize__(config){this.computedDisabledValueExpression$RTUY=AS3.getBindable(config,"disabledValueExpression")?AS3.getBindable(config,"disabledValueExpression"):com.coremedia.ui.data.ValueExpressionFactory.createFromValue(false)}function MembersContainer$(config){if(arguments.length<=0)config=null;this.__initialize__$RTUY(config);var config_$1=AS3.cast(Ext.container.Container,{});var defaults_$1=
AS3.cast(MembersContainer,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"scrollable",true);var ui_BindPropertyPlugin_82_5_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_82_5_$1.componentProperty="disabled";ui_BindPropertyPlugin_82_5_$1.bindTo=this.computedDisabledValueExpression$RTUY;config_$1.plugins=[ui_BindPropertyPlugin_82_5_$1];var container_86_5_$1=AS3.cast(Ext.container.Container,{});container_86_5_$1.itemId=net.jangaroo.ext.Exml.asString(MembersContainer.MEMBERS_CT_BODY_ITEM_ID);
container_86_5_$1.anchor="100%";var ui_BindComponentsPlugin_89_9_$1=AS3.cast(com.coremedia.ui.plugins.BindComponentsPlugin,{});AS3.setBindable(ui_BindComponentsPlugin_89_9_$1,"valueExpression",AS3.getBindable(config,"membersValueExpression"));AS3.setBindable(ui_BindComponentsPlugin_89_9_$1,"configBeanParameterName","member");AS3.setBindable(ui_BindComponentsPlugin_89_9_$1,"clearBeforeUpdate",true);AS3.setBindable(ui_BindComponentsPlugin_89_9_$1,"reuseComponents",false);AS3.setBindable(ui_BindComponentsPlugin_89_9_$1,
"afterUpdateCallback",AS3.getBindable(config,"afterUpdateCallback"));var editor_MemberElement_95_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.member.MemberElement,{});AS3.setBindable(editor_MemberElement_95_13_$1,"membersValueExpression",AS3.getBindable(config,"membersValueExpression"));AS3.setBindable(editor_MemberElement_95_13_$1,"memberDisplayTransformer",AS3.getBindable(config,"memberDisplayTransformer"));AS3.setBindable(editor_MemberElement_95_13_$1,"memberReadOnlyPredicate",AS3.getBindable(config,
"memberReadOnlyPredicate"));AS3.setBindable(editor_MemberElement_95_13_$1,"memberRemovedHandler",AS3.getBindable(config,"memberRemovedHandler"));AS3.setBindable(editor_MemberElement_95_13_$1,"disabledValueExpression",this.computedDisabledValueExpression$RTUY);AS3.setBindable(ui_BindComponentsPlugin_89_9_$1,"template",editor_MemberElement_95_13_$1);container_86_5_$1.plugins=[ui_BindComponentsPlugin_89_9_$1];config_$1.items=[container_86_5_$1];var layout_Anchor_107_5_$1=AS3.cast(Ext.layout.container.Anchor,
{});AS3.setBindable(config_$1,"layout",layout_Anchor_107_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$RTUY(config_$1)}return{extend:"Ext.container.Container",alias:"widget.com.coremedia.cms.editor.sdk.config.membersContainer",computedDisabledValueExpression$RTUY:null,__initialize__$RTUY:__initialize__,constructor:MembersContainer$,super$RTUY:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},config:{membersValueExpression:null,disabledValueExpression:null,
afterUpdateCallback:null,memberDisplayTransformer:null,memberReadOnlyPredicate:null,memberRemovedHandler:null},statics:{MEMBERS_CT_BODY_ITEM_ID:"membersCtBodyItemId"},requires:["Ext.container.Container","Ext.layout.container.Anchor","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.BindComponentsPlugin","com.coremedia.ui.plugins.BindPropertyPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.member.MemberElement"]}});Ext.define("com.coremedia.cms.editor.sdk.TabManagerImpl",function(TabManagerImpl){function TabManagerImpl$(){}function openDocument(content){this.openDocuments([content])}function openDocuments(contents){com.coremedia.cms.editor.sdk.editorContext.getContentTabManager().openDocuments(contents)}return{mixins:["com.coremedia.cms.editor.sdk.TabManager"],metadata:{"":["Deprecated",["replacement","com.coremedia.cms.editor.sdk.desktop.ContentTabManagerPlugin","since","1.3.5"]]},constructor:TabManagerImpl$,
openDocument:openDocument,openDocuments:openDocuments,requires:["com.coremedia.cms.editor.sdk.TabManager"],uses:["com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.LocalesServiceImpl",function(LocalesServiceImpl){function init(callback){if(arguments.length<=0)callback=null;AS3.cast(com.coremedia.ui.data.impl.BeanFactoryImpl,com.coremedia.cms.editor.sdk.editorContext.getBeanFactory()).registerRemoteObjectResolver("$Locale",AS3.bind(this,"resolve$ngXs"));var localExpression=this.getAvailableLocalesExpression();if(callback)localExpression.loadValue(callback)}function resolve(property,json){var languageTag=json[property];
return this.getLocale(languageTag)||com.coremedia.ui.data.Locale.forLanguageTag(languageTag)}function getAvailableLocalesExpression(){if(!this.availableLocalesExpression$ngXs){this.availableLocalesExpression$ngXs=com.coremedia.ui.data.ValueExpressionFactory.createFromValue();this.loadAvailableLocales$ngXs()}return this.availableLocalesExpression$ngXs}function loadAvailableLocales(){var this$=this;var contentRepository=AS3.as(com.coremedia.cap.common.SESSION.getConnection().getContentRepository(),
com.coremedia.cap.content.impl.ContentRepositoryImpl);this.contentPath$ngXs=contentRepository.getAvailableLocalesContentPath();this.propertyPath$ngXs=contentRepository.getAvailableLocalesPropertyPath();if(Ext.isEmpty(this.contentPath$ngXs)||Ext.isEmpty(this.propertyPath$ngXs)){com.coremedia.ui.logging.Logger.warn("locale service configuration is empty");this.availableLocalesExpression$ngXs.setValue([]);return}if(this.propertyPath$ngXs.indexOf("properties")!==0)this.propertyPath$ngXs="properties."+
this.propertyPath$ngXs;contentRepository.getChild(this.contentPath$ngXs,function(child,absolutePath,error){switch(Math.max(arguments.length,1)){case 1:absolutePath=null;case 2:error=null}this$.createPropertyPathExpression$ngXs(child,error)})}function createPropertyPathExpression(content,error){var this$=this;if(!this.checkArguments$ngXs(content,error)){this.availableLocalesExpression$ngXs.setValue([]);return}var propertyPathExpression=com.coremedia.ui.data.ValueExpressionFactory.create(this.propertyPath$ngXs,
content);com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){if(!propertyPathExpression.isLoaded())return undefined;var value=propertyPathExpression.getValue();if(value===undefined){com.coremedia.ui.logging.Logger.warn("LocalesService#createPropertyPathExpression - No property found in content "+this$.contentPath$ngXs+" at property path "+this$.propertyPath$ngXs);return null}else return value}).addChangeListener(function(source){var locales=source.getValue();if(!locales)this$.availableLocalesExpression$ngXs.setValue(locales);
else{var map={};for(var i=0;i<locales.length;i++){var languageTag=locales[i];map[languageTag]=undefined}this$.availableLocalesExpression$ngXs.setValue(map);this$.loadLocaleRepresentations$ngXs()}})}function checkArguments(child,error){if(error)com.coremedia.ui.logging.Logger.warn("LocalesService - Error retrieving content at path "+this.contentPath$ngXs+" : "+error);if(!child){com.coremedia.ui.logging.Logger.error("LocalesService - Could not find content at path "+this.contentPath$ngXs);return false}return true}
function loadLocaleRepresentations(){var this$=this;var locales=this.availableLocalesExpression$ngXs.getValue();var targetLocale=com.coremedia.cms.editor.sdk.util.LocaleUtil.getLocale();if(!locales||!targetLocale)return;var languageTags=[];for(var tag in locales)if(locales.hasOwnProperty(tag))languageTags.push(tag);(new com.coremedia.ui.data.impl.RemoteServiceMethod("locales","POST",true,false,null,true)).request({"locales":languageTags,"targetLocale":targetLocale},function(response){var result={};
var responseJSON=response.getResponseJSON();for(var languageTag in responseJSON)if(responseJSON.hasOwnProperty(languageTag))result[languageTag]=responseJSON[languageTag];this$.availableLocalesExpression$ngXs.setValue(result)},function(response){com.coremedia.ui.logging.Logger.warn("LocalesService - Could not get locales")})}function getLocale(languageTag){var availableLocales=this.getAvailableLocalesExpression().getValue();if(availableLocales===undefined)return undefined;return availableLocales[languageTag]||
null}function LocalesServiceImpl$(){}return{mixins:["com.coremedia.cms.editor.sdk.LocalesService"],availableLocalesExpression$ngXs:null,contentPath$ngXs:null,propertyPath$ngXs:null,init:init,resolve$ngXs:resolve,getAvailableLocalesExpression:getAvailableLocalesExpression,loadAvailableLocales$ngXs:loadAvailableLocales,createPropertyPathExpression$ngXs:createPropertyPathExpression,checkArguments$ngXs:checkArguments,loadLocaleRepresentations$ngXs:loadLocaleRepresentations,getLocale:getLocale,constructor:LocalesServiceImpl$,
requires:["Ext","com.coremedia.cap.common.SESSION","com.coremedia.cap.content.impl.ContentRepositoryImpl","com.coremedia.cms.editor.sdk.LocalesService","com.coremedia.ui.data.Locale","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.impl.BeanFactoryImpl","com.coremedia.ui.data.impl.RemoteServiceMethod","com.coremedia.ui.logging.Logger"],uses:["com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.util.LocaleUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.sites.SitesServiceImpl",function(SitesServiceImpl){var PREFERRED_SITE_ID_PROPERTY_NAME$static="preferredSiteId";function groupsPossiblyLoaded_(){this.groupsPossiblyLoaded$Dgo5=[]}function SitesServiceImpl$(){this.super$Dgo5();groupsPossiblyLoaded_.call(this);this.sitesRemoteBean$Dgo5=new com.coremedia.cms.editor.sdk.sites.SitesRemoteBean;this.groupByNameCache$Dgo5=com.coremedia.ui.data.beanFactory.createLocalBean();this.isCurrentUserMemberOfSiteManagerGroups$Dgo5=
com.coremedia.ui.data.beanFactory.createLocalBean();this.preferredSiteExpression$Dgo5=com.coremedia.ui.data.ValueExpressionFactory.create(PREFERRED_SITE_ID_PROPERTY_NAME$static,this)}function load(callback){var this$=this;AS3.cast(com.coremedia.ui.data.impl.BeanFactoryImpl,com.coremedia.ui.data.beanFactory).registerRemoteBeanClasses(com.coremedia.cms.editor.sdk.sites.SiteModelImpl);this.sitesRemoteBean$Dgo5.load(sitesRemoteBeanLoaded);function sitesRemoteBeanLoaded(){AS3.cast(com.coremedia.cms.editor.sdk.sites.SiteModelImpl,
this$.getSiteModel()).load(siteModelLoaded)}function siteModelLoaded(){var translationManagerRole=this$.getSiteModel().getTranslationManagerRole();if(translationManagerRole)com.coremedia.cap.common.SESSION.getConnection().getUserRepository().getGroupByName(translationManagerRole,translationManagerRoleLoaded);else translationManagerRoleLoaded(null)}function translationManagerRoleLoaded(group){if(group)com.coremedia.cap.common.SESSION.getUser().isMemberOf(group,isMemberOfCallback);else{this$.translationManager$Dgo5=
false;callback()}}function isMemberOfCallback(result){this$.translationManager$Dgo5=result;callback()}}function getSiteModel(){return this.sitesRemoteBean$Dgo5.getSiteModel()}function getSitesUnderConstruction(){return{}}function getRawSites(){var siteModel=this.getSiteModel();if(siteModel===undefined)return undefined;var siteIndicatorDocumentType=siteModel.getSiteIndicatorDocumentType();if(siteIndicatorDocumentType===undefined)return undefined;var siteIndicatorContentType=com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getContentType(siteIndicatorDocumentType);
if(siteIndicatorContentType===undefined)return undefined;var siteIndicators=siteIndicatorContentType?siteIndicatorContentType.getInstances():[];if(siteIndicators===undefined)return undefined;siteIndicators=com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getAccessControl().filterReadableContents(siteIndicators);if(siteIndicators===undefined)return undefined;var siteTranslationStrategyMap=com.coremedia.cms.editor.sdk.sites.SitesRemoteBean.getSiteTranslationStrategyMap();if(siteTranslationStrategyMap===
undefined)return undefined;else if(siteTranslationStrategyMap===null)siteTranslationStrategyMap=com.coremedia.ui.data.beanFactory.createLocalBean({});var result={};var needsRetry=false;for(var i=0;i<siteIndicators.length;i++){var siteIndicator=siteIndicators[i];var site=this.analyzeSite$Dgo5(siteIndicator,siteTranslationStrategyMap);if(site===undefined)needsRetry=true;else if(site&&this.mayInsertSite$Dgo5(result,site))result[site.getId()]=site}if(needsRetry)return undefined;return result}function mayInsertSite(sitesById,
newSite){var siteId=newSite.getId();var existingSite=sitesById[siteId];if(!existingSite)return true;var existingSiteId=com.coremedia.cap.common.IdHelper.parseContentId(existingSite.getSiteIndicator());var newSiteId=com.coremedia.cap.common.IdHelper.parseContentId(newSite.getSiteIndicator());return existingSiteId>newSiteId}function computeSiteRootFolder(document){if(document.isDeleted())return null;var siteIndicatorDepth=this.getSiteModel().getSiteIndicatorDepth();var current=document;for(var i=0;i<
siteIndicatorDepth+1;i++){current=current.getParent();if(current===undefined)return undefined;if(current===null||current.isRoot()){com.coremedia.ui.logging.Logger.warn("SitesImpl: document "+document.getId()+" is not nested deeply enough in the folder hierarchy; ignoring the document");return null}}return current}function analyzeSite(siteIndicator,siteTranslationStrategyMap){try{var siteRootDocument=getLink$static(siteIndicator,this.getSiteModel().getRootProperty());if(siteRootDocument===undefined)return undefined;
else if(siteRootDocument===null){com.coremedia.ui.logging.Logger.warn("SitesImpl: site indicator "+(siteIndicator?siteIndicator.getId():"---")+" does not reference a site root document; ignoring the document");return null}var siteRootFolder=this.computeSiteRootFolder$Dgo5(siteIndicator);if(siteRootFolder===undefined)return undefined;if(siteRootFolder===null)return null;if(siteRootFolder.getPath()===undefined)return undefined;var siteRootChildren=siteRootFolder.getChildrenByName();if(siteRootChildren===
undefined)return undefined;var isUnderConstruction=!!siteRootChildren["cloning..."];var languageTag=getContentProperty$static(siteIndicator,this.getSiteModel().getLocaleProperty());if(languageTag===undefined)return undefined;else if(languageTag===null||languageTag===""){com.coremedia.ui.logging.Logger.warn("SitesImpl: site indicator "+(siteIndicator?siteIndicator.getId():"---")+" does not provide a locale; ignoring the document");return null}var localesService=AS3.cast(com.coremedia.cms.editor.sdk.EditorContextImpl,
com.coremedia.cms.editor.sdk.editorContext).getLocalesService();var locale=localesService.getLocale(languageTag);if(!locale)locale=com.coremedia.ui.data.Locale.forLanguageTag(languageTag);var siteId=getContentProperty$static(siteIndicator,this.getSiteModel().getIdProperty());if(siteId===undefined)return undefined;else if(siteId===null||siteId===""){com.coremedia.ui.logging.Logger.warn("SitesImpl: site indicator "+(siteIndicator?siteIndicator.getId():"---")+" does not provide an id; ignoring the document");
return null}var masterSiteIndicator=this.getMaster(siteIndicator);if(masterSiteIndicator===undefined)return undefined;var masterSiteId=null;if(masterSiteIndicator){var readableContents=siteIndicator.getRepository().getAccessControl().filterReadableContents([masterSiteIndicator]);if(readableContents===undefined)return undefined;if(readableContents.length>0){masterSiteId=getContentProperty$static(masterSiteIndicator,this.getSiteModel().getIdProperty());if(masterSiteId===undefined)return undefined}}var siteName=
getContentProperty$static(siteIndicator,this.getSiteModel().getNameProperty());if(siteName===undefined)return undefined;if(siteId===masterSiteId){com.coremedia.ui.logging.Logger.warn("cyclic master relation for site "+siteName+" (id: "+siteId+"); ignoring the document");return null}var siteManagerGroup=this.computeSiteManagerGroup$Dgo5(siteIndicator);if(!siteManagerGroup)return undefined;this.computeIsCurrentUserMemberOfGroup$Dgo5(siteManagerGroup);var isCurrentUserMemberOfSiteManagerGroup=this.isCurrentUserMemberOfSiteManagerGroups$Dgo5.get(siteManagerGroup.getUriPath());
if(isCurrentUserMemberOfSiteManagerGroup===undefined||isCurrentUserMemberOfSiteManagerGroup===null)return undefined;var translationStrategy=siteTranslationStrategyMap.get(siteId);if(!translationStrategy){com.coremedia.ui.logging.Logger.info("No translation strategy for site "+siteName+" (id: "+siteId+"); using fallback LANG_TRANSLATION");translationStrategy=com.coremedia.cms.editor.sdk.sites.TranslationStrategy.LANG_TRANSLATION}return new com.coremedia.cms.editor.sdk.sites.SiteImpl(siteId,siteRootFolder,
masterSiteId,siteIndicator,siteRootDocument,siteName,locale,siteManagerGroup,isCurrentUserMemberOfSiteManagerGroup,isUnderConstruction,translationStrategy)}catch(e){if(AS3.is(e,AS3.Error))com.coremedia.ui.logging.Logger.warn("the site indicator "+siteIndicator.getId()+" could not be analysed; ignoring the document");else throw e;}return null}function computeSiteManagerGroup(siteIndicator){var this$=this;if(!siteIndicator)return undefined;if(siteIndicator.getState()===com.coremedia.ui.data.BeanState.UNKNOWN){siteIndicator.load();
return undefined}var connection=com.coremedia.cap.common.SESSION.getConnection();var siteManagerGroupProperty=this.getSiteModel().getSiteManagerGroupProperty();if(siteManagerGroupProperty){var siteManagerGroupName=siteIndicator.getProperties().get(siteManagerGroupProperty);if(siteManagerGroupName){var groupByNameCacheEntry=this.groupByNameCache$Dgo5.get(siteManagerGroupName);if(groupByNameCacheEntry===null)return connection.getUserRepository().getGroup("group/0");if(this.groupsPossiblyLoaded$Dgo5.indexOf(siteManagerGroupName)===
-1){this.groupsPossiblyLoaded$Dgo5.push(siteManagerGroupName);connection.getUserRepository().getGroupByName(siteManagerGroupName,function(group){this$.groupByNameCache$Dgo5.set(siteManagerGroupName,group)})}return groupByNameCacheEntry}}return connection.getUserRepository().getGroup("group/0")}function computeIsCurrentUserMemberOfGroup(siteManagerGroup){var this$=this;var uriPath=siteManagerGroup.getUriPath();var isCurrentUserMemberOfSiteManagerGroup=this.isCurrentUserMemberOfSiteManagerGroups$Dgo5.get(uriPath);
if(isCurrentUserMemberOfSiteManagerGroup===undefined){this.isCurrentUserMemberOfSiteManagerGroups$Dgo5.set(uriPath,null);com.coremedia.cap.common.SESSION.getUser().isMemberOf(siteManagerGroup,function(result){this$.isCurrentUserMemberOfSiteManagerGroups$Dgo5.set(uriPath,result)})}}function getMaster(content){var masterProperty=this.getSiteModel().getMasterProperty();if(masterProperty)return getLink$static(content,masterProperty);else return null}function getMasterVersionNumber(content){var masterVersionProperty=
this.getSiteModel().getMasterVersionProperty();if(masterVersionProperty)return getContentProperty$static(content,masterVersionProperty);return 0}function getMasterVersion(content){var masterVersionNumber=this.getMasterVersionNumber(content);if(masterVersionNumber===undefined)return undefined;if(masterVersionNumber<=0)return null;return this.getMasterVersionWithNumber$Dgo5(content,masterVersionNumber)}function getMasterVersionOrDerivedFromVersion(content){var masterVersion=this.getMasterVersion(content);
if(masterVersion===undefined)return undefined;if(masterVersion)return masterVersion;var masterVersionNumber=this.getMasterVersionNumber(content);if(masterVersionNumber<0){masterVersionNumber=-masterVersionNumber;return this.getMasterVersionWithNumber$Dgo5(content,masterVersionNumber)}return null}function getMasterVersionWithNumber(content,versionNumber){var master=this.getMaster(content);if(master===undefined)return undefined;if(master===null)return null;var masterVersionHistory=master.getVersionHistory();
if(!masterVersionHistory)return undefined;var items=masterVersionHistory.getItems();if(items===undefined)return undefined;var masterVersions=AS3.as(items,Array);if(!masterVersions||masterVersions.length===0)return null;for(var i=0;i<masterVersions.length;i++){var version=masterVersions[i];if(version.getVersionNumber()===versionNumber)return version}return null}function isMultiLanguageSupportEnabled(){return!!this.getSiteModel().getMasterProperty()}function getLink$static(content,property){var links=
getContentProperty$static(content,property);if(links===undefined)return undefined;else if(AS3.is(links,Array)&&links.length===1)return links[0];else return null}function getContentProperty$static(content,property){if(!content)return null;var properties=content.getProperties();return properties===undefined?undefined:properties.get(property)}function validateUriSegment(uriSegment,callback){var validateMethod=new com.coremedia.ui.data.impl.RemoteServiceMethod(this.sitesRemoteBean$Dgo5.getValidateUriSegmentUri(),
"POST",true,false,null,true);validateMethod.request({uriSegment:uriSegment},function(response){if(callback){var responseJSON=response.getResponseJSON();callback(responseJSON["valid"])}},function(response){if(callback)callback(false)})}function getSiteStructureValueExpression(){if(!this.siteStructureValueExpression$Dgo5){this.siteStructureValueExpression$Dgo5=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"computeSiteStructure$Dgo5"));this.siteStructureValueExpression$Dgo5.addChangeListener(AS3.bind(this,
"siteStructureChanged$Dgo5"))}return this.siteStructureValueExpression$Dgo5}function computeSiteStructure(){var sites=this.getRawSites$Dgo5();if(sites!==undefined){this.clearInvalidMasterSites$Dgo5(sites);this.addSitesUnderConstruction$Dgo5(sites);this.computeDerivedSites$Dgo5(sites);this.computePaths$Dgo5(sites);var newSiteIds=com.coremedia.ui.util.ObjectUtils.getPropertyNames(sites);if(this.siteStructure$Dgo5&&com.coremedia.ui.util.ObjectUtils.equal(newSiteIds,com.coremedia.ui.util.ObjectUtils.getPropertyNames(this.siteStructure$Dgo5))){var unchanged=
true;for(var i=0;i<newSiteIds.length;i++){var siteId=newSiteIds[i];if(!AS3.cast(com.coremedia.cms.editor.sdk.sites.SiteImpl,sites[siteId]).allFieldsEqual(this.siteStructure$Dgo5[siteId])){unchanged=false;break}}if(unchanged)sites=this.siteStructure$Dgo5}this.siteStructure$Dgo5=sites}return this.siteStructure$Dgo5}function addSitesUnderConstruction(sites){var sitesUnderConstruction=this.getSitesUnderConstruction();for(var siteId in sitesUnderConstruction)if(sitesUnderConstruction.hasOwnProperty(siteId))sites[siteId]=
sitesUnderConstruction[siteId]}function clearInvalidMasterSites(sitesById){for(var $1 in sitesById){var site=sitesById[$1];var masterSiteId=site.getMasterSiteId();if(masterSiteId){var masterSite=sitesById[masterSiteId];if(!masterSite){var siteId=site.getId();com.coremedia.ui.logging.Logger.warn("master site of "+siteId+" is computed as "+masterSiteId+", "+"which is not a known site; making the site a root site");site.clearMasterSiteId()}}}}function computeDerivedSites(sitesById){var derivedSitesByMasterSiteId=
this.computeDerivedSitesByMasterSiteId$Dgo5(sitesById);for(var $1 in sitesById){var site=sitesById[$1];var derivedSites=derivedSitesByMasterSiteId[site.getId()]||[];com.coremedia.ui.util.ArrayUtils.sortByAspects(derivedSites,function(site){return site.getId()});site.setDerivedSites(derivedSites)}}function computeDerivedSitesByMasterSiteId(sitesById){var derivedSitesByMasterSiteId={};for(var $1 in sitesById){var site=sitesById[$1];var masterSiteId=site.getMasterSiteId();if(masterSiteId){var derivedSites=
derivedSitesByMasterSiteId[masterSiteId];if(!derivedSites)derivedSitesByMasterSiteId[masterSiteId]=derivedSites=[];derivedSites.push(site)}}return derivedSitesByMasterSiteId}function computePaths(sitesById){for(var $1 in sitesById){var site=sitesById[$1];var path=[];var current=site;while(true){path.push(current.getId());var masterSiteId=current.getMasterSiteId();if(!masterSiteId)break;current=sitesById[masterSiteId]}path.reverse();site.setAllMasterSiteIds(path)}}function getSitesById(){return this.getSiteStructureValueExpression().getValue()}
function getSites(){var sitesById=this.getSitesById();if(!sitesById)return undefined;var sites=[];for(var $1 in sitesById){var site=sitesById[$1];sites.push(site)}sites.sort(function(site1,site2){var lowerCaseCompare=site1.getName().toLowerCase().localeCompare(site2.getName().toLocaleLowerCase());var actualCaseCompare=site1.getName().localeCompare(site2.getName());return lowerCaseCompare||actualCaseCompare});return sites}function getSite(siteId){if(siteId===undefined)return undefined;if(siteId===
null)return null;var infos=this.getSiteStructureValueExpression().getValue();if(!infos)return undefined;return infos[siteId]||null}function getSiteRootDocument(siteId){var site=this.getSite(siteId);if(site===undefined)return undefined;if(site===null)return null;return site.getSiteRootDocument()}function getSiteRootFolder(siteId){var site=this.getSite(siteId);if(site===undefined)return undefined;if(site===null)return null;return site.getSiteRootFolder()}function getPreferredSiteId(){com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(this,
PREFERRED_SITE_ID_PROPERTY_NAME$static);return this.preferredSiteId$Dgo5}function setPreferredSiteId(siteId){this.requestedPreferredSiteId$Dgo5=siteId;this.updatePreferredSiteId$Dgo5()}function siteStructureChanged(){this.updatePreferredSiteId$Dgo5()}function updatePreferredSiteId(){var infos=this.getSiteStructureValueExpression().getValue();var oldSiteId=this.preferredSiteId$Dgo5;if(infos&&infos.hasOwnProperty(this.requestedPreferredSiteId$Dgo5))this.preferredSiteId$Dgo5=this.requestedPreferredSiteId$Dgo5;
else this.preferredSiteId$Dgo5=null;if(oldSiteId!==this.preferredSiteId$Dgo5)this.fireEvent(PREFERRED_SITE_ID_PROPERTY_NAME$static)}function getPreferredSite(){var preferredSiteId=this.getPreferredSiteId();if(preferredSiteId)return this.getSite(preferredSiteId);else return null}function getPreferredSiteName(){var preferredSiteId=this.getPreferredSiteId();if(preferredSiteId)return this.getSiteName(preferredSiteId);else return null}function getPreferredSiteIdExpression(){return this.preferredSiteExpression$Dgo5}
function getSiteIdFor(content){var site=this.getSiteFor(content);if(site===undefined)return undefined;if(!site)return null;return site.getId()}function getSiteFor(content){var sitesById=this.getSitesById();if(sitesById===undefined)return undefined;var sitesStructureInfoByRootFolder={};for(var $1 in sitesById){var site=sitesById[$1];sitesStructureInfoByRootFolder[site.getSiteRootFolder().getUriPath()]=site}var current=content;while(current){var currentSite=sitesStructureInfoByRootFolder[current.getUriPath()];
if(currentSite)return currentSite;current=current.getParent()}return current===undefined?undefined:null}function getSiteNameFor(content){return this.getSiteName(this.getSiteIdFor(content))}function getSiteName(siteId){var site=this.getSite(siteId);if(site===undefined)return undefined;if(site===null)return null;return site.getName()}function isTranslationManager(){return this.translationManager$Dgo5}return{extend:"Ext.util.Observable",mixins:["com.coremedia.cms.editor.sdk.sites.SitesService"],siteStructureValueExpression$Dgo5:null,
preferredSiteExpression$Dgo5:null,preferredSiteId$Dgo5:null,requestedPreferredSiteId$Dgo5:null,sitesRemoteBean$Dgo5:null,isCurrentUserMemberOfSiteManagerGroups$Dgo5:null,translationManager$Dgo5:false,groupByNameCache$Dgo5:null,siteStructure$Dgo5:undefined,constructor:SitesServiceImpl$,super$Dgo5:function(){Ext.util.Observable.prototype.constructor.apply(this,arguments)},load:load,getSiteModel:getSiteModel,getSitesUnderConstruction:getSitesUnderConstruction,getRawSites$Dgo5:getRawSites,mayInsertSite$Dgo5:mayInsertSite,
computeSiteRootFolder$Dgo5:computeSiteRootFolder,analyzeSite$Dgo5:analyzeSite,computeSiteManagerGroup$Dgo5:computeSiteManagerGroup,computeIsCurrentUserMemberOfGroup$Dgo5:computeIsCurrentUserMemberOfGroup,getMaster:getMaster,getMasterVersionNumber:getMasterVersionNumber,getMasterVersion:getMasterVersion,getMasterVersionOrDerivedFromVersion:getMasterVersionOrDerivedFromVersion,getMasterVersionWithNumber$Dgo5:getMasterVersionWithNumber,isMultiLanguageSupportEnabled:isMultiLanguageSupportEnabled,validateUriSegment:validateUriSegment,
getSiteStructureValueExpression:getSiteStructureValueExpression,computeSiteStructure$Dgo5:computeSiteStructure,addSitesUnderConstruction$Dgo5:addSitesUnderConstruction,clearInvalidMasterSites$Dgo5:clearInvalidMasterSites,computeDerivedSites$Dgo5:computeDerivedSites,computeDerivedSitesByMasterSiteId$Dgo5:computeDerivedSitesByMasterSiteId,computePaths$Dgo5:computePaths,getSitesById:getSitesById,getSites:getSites,getSite:getSite,getSiteRootDocument:getSiteRootDocument,getSiteRootFolder:getSiteRootFolder,
getPreferredSiteId:getPreferredSiteId,setPreferredSiteId:setPreferredSiteId,siteStructureChanged$Dgo5:siteStructureChanged,updatePreferredSiteId$Dgo5:updatePreferredSiteId,getPreferredSite:getPreferredSite,getPreferredSiteName:getPreferredSiteName,getPreferredSiteIdExpression:getPreferredSiteIdExpression,getSiteIdFor:getSiteIdFor,getSiteFor:getSiteFor,getSiteNameFor:getSiteNameFor,getSiteName:getSiteName,isTranslationManager:isTranslationManager,requires:["AS3.Error","Ext.util.Observable","com.coremedia.cap.common.IdHelper",
"com.coremedia.cap.common.SESSION","com.coremedia.cms.editor.sdk.sites.SitesService","com.coremedia.ui.data.BeanState","com.coremedia.ui.data.Locale","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.beanFactory","com.coremedia.ui.data.dependencies.DependencyTracker","com.coremedia.ui.data.impl.BeanFactoryImpl","com.coremedia.ui.data.impl.RemoteServiceMethod","com.coremedia.ui.logging.Logger","com.coremedia.ui.util.ArrayUtils","com.coremedia.ui.util.ObjectUtils"],uses:["com.coremedia.cms.editor.sdk.EditorContextImpl",
"com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.sites.SiteImpl","com.coremedia.cms.editor.sdk.sites.SiteModelImpl","com.coremedia.cms.editor.sdk.sites.SitesRemoteBean","com.coremedia.cms.editor.sdk.sites.TranslationStrategy"]}});Ext.define("com.coremedia.cms.editor.sdk.sites.TargetSitesTreeModel",function(TargetSitesTreeModel){function TargetSitesTreeModel$(sitesService,rootIdValueExpression){this.rootIdValueExpression$ceyi=rootIdValueExpression;this.super$ceyi(sitesService)}function includeChild(site){return site.isSynchronizationTargetSite()}function getChildren(nodeId){if(!nodeId)nodeId=com.coremedia.cms.editor.sdk.sites.SitesTreeModel.ARTIFICIAL_ROOT_ID;if(nodeId===com.coremedia.cms.editor.sdk.sites.SitesTreeModel.ARTIFICIAL_ROOT_ID&&
this.rootIdValueExpression$ceyi){var rootId=this.rootIdValueExpression$ceyi.getValue();if(rootId!==null)return this.getChildren(rootId)}return com.coremedia.cms.editor.sdk.sites.SitesTreeModel.prototype.getChildren.call(this,nodeId)}return{extend:"com.coremedia.cms.editor.sdk.sites.SitesTreeModel",rootIdValueExpression$ceyi:null,constructor:TargetSitesTreeModel$,super$ceyi:function(){com.coremedia.cms.editor.sdk.sites.SitesTreeModel.prototype.constructor.apply(this,arguments)},includeChild:includeChild,
getChildren:getChildren,requires:["com.coremedia.cms.editor.sdk.sites.SitesTreeModel"]}});Ext.define("com.coremedia.cms.editor.sdk.sites.Site",function(Site){return{}});Ext.define("com.coremedia.cms.editor.sdk.sites.OpenCloneSiteWindowAction",function(OpenCloneSiteWindowAction){function OpenCloneSiteWindowAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.sites.OpenCloneSiteWindowActionBase,{});var defaults_$1=AS3.cast(OpenCloneSiteWindowAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"text",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.sites.LocalizationManager",
"Action_cloneSite_text")));AS3.setBindable(config_$1,"iconCls",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.sites.LocalizationManager","Action_cloneSite_icon")));var editor_CloneSiteWindow_26_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.sites.CloneSiteWindow,{});AS3.setBindable(editor_CloneSiteWindow_26_5_$1,"sitesService",AS3.getBindable(config,"sitesService"));AS3.setBindable(config_$1,"dialog",editor_CloneSiteWindow_26_5_$1);net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$zDP4(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.sites.OpenCloneSiteWindowActionBase",constructor:OpenCloneSiteWindowAction$,super$zDP4:function(){com.coremedia.cms.editor.sdk.sites.OpenCloneSiteWindowActionBase.prototype.constructor.apply(this,arguments)},config:{sitesService:null},requires:["com.coremedia.cms.editor.sdk.sites.LocalizationManager_properties","com.coremedia.cms.editor.sdk.sites.OpenCloneSiteWindowActionBase","mx.resources.ResourceManager","net.jangaroo.ext.Exml"],
uses:["com.coremedia.cms.editor.sdk.sites.CloneSiteWindow"]}});Ext.define("com.coremedia.cms.editor.sdk.sites.SitesTree",function(SitesTree){function SitesTree$(config){var this$=this;if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.sites.SitesTreeBase,{});var defaults_$1=AS3.cast(SitesTree,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"scrollable",true);config_$1.useArrows=true;config_$1.rootVisible=false;var ui_BindTreePlugin_43_5_$1=AS3.cast(com.coremedia.ui.plugins.BindTreePlugin,
{});AS3.setBindable(ui_BindTreePlugin_43_5_$1,"treeModel",this.getSitesTreeModel());AS3.setBindable(ui_BindTreePlugin_43_5_$1,"expandInitially",true);var ui_BindTreeSelectionPlugin_45_5_$1=AS3.cast(com.coremedia.ui.plugins.BindTreeSelectionPlugin,{});AS3.setBindable(ui_BindTreeSelectionPlugin_45_5_$1,"valueExpression",this.getCurrentSiteValueExpression());AS3.setBindable(ui_BindTreeSelectionPlugin_45_5_$1,"treeModel",this.getSitesTreeModel());var ui_ContextMenuPlugin_47_5_$1=AS3.cast(com.coremedia.ui.plugins.ContextMenuPlugin,
{});var editor_SitesTreeContextMenu_49_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.sites.SitesTreeContextMenu,{});AS3.setBindable(editor_SitesTreeContextMenu_49_9_$1,"currentSiteIdValueExpression",this.getCurrentSiteIdValueExpression());AS3.setBindable(editor_SitesTreeContextMenu_49_9_$1,"sitesService",this.getSitesService());AS3.setBindable(ui_ContextMenuPlugin_47_5_$1,"contextMenu",editor_SitesTreeContextMenu_49_9_$1);config_$1.plugins=[ui_BindTreePlugin_43_5_$1,ui_BindTreeSelectionPlugin_45_5_$1,
ui_ContextMenuPlugin_47_5_$1];var toolbar_55_5_$1=AS3.cast(Ext.toolbar.Toolbar,{});toolbar_55_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ToolbarSkin.FIELD.getSkin());var ui_IconButton_57_9_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_57_9_$1.itemId=net.jangaroo.ext.Exml.asString(SitesTree.OPEN_DOCUMENT_BUTTON_ITEM_ID);AS3.setBindable(ui_IconButton_57_9_$1,"tooltip",this.resourceManager.getString("com.coremedia.cms.editor.sdk.sites.LocalizationManager","Action_openInTab_tooltip"));
var editor_OpenInTabAction_60_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenInTabAction,{});AS3.setBindable(editor_OpenInTabAction_60_13_$1,"contentValueExpression",com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){return this$.getSitesService().getSiteRootDocument(this$.getCurrentSiteIdValueExpression().getValue())}));ui_IconButton_57_9_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.OpenInTabAction(editor_OpenInTabAction_60_13_$1);var ui_IconButton_65_9_$1=
AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_65_9_$1.itemId=net.jangaroo.ext.Exml.asString(SitesTree.OPEN_FOLDER_BUTTON_ITEM_ID);AS3.setBindable(ui_IconButton_65_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.sites.LocalizationManager","Action_openSiteInRepository_icon")));AS3.setBindable(ui_IconButton_65_9_$1,"tooltip",this.resourceManager.getString("com.coremedia.cms.editor.sdk.sites.LocalizationManager","Action_openSiteInRepository_tooltip"));
var editor_ShowInRepositoryAction_69_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction,{});AS3.setBindable(editor_ShowInRepositoryAction_69_13_$1,"contentValueExpression",com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){return this$.getSitesService().getSiteRootFolder(this$.getCurrentSiteIdValueExpression().getValue())}));ui_IconButton_65_9_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction(editor_ShowInRepositoryAction_69_13_$1);
var ui_IconButton_74_9_$1=AS3.cast(com.coremedia.ui.components.IconButton,{});ui_IconButton_74_9_$1.itemId=net.jangaroo.ext.Exml.asString(SitesTree.CLONE_SITE_BUTTON_ITEM_ID);AS3.setBindable(ui_IconButton_74_9_$1,"tooltip",this.resourceManager.getString("com.coremedia.cms.editor.sdk.sites.LocalizationManager","Action_cloneSite_tooltip"));var editor_OpenCloneSiteWindowAction_77_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.sites.OpenCloneSiteWindowAction,{});AS3.setBindable(editor_OpenCloneSiteWindowAction_77_13_$1,
"useActionAsAnimationTarget",true);AS3.setBindable(editor_OpenCloneSiteWindowAction_77_13_$1,"sitesService",this.getSitesService());ui_IconButton_74_9_$1.baseAction=new com.coremedia.cms.editor.sdk.sites.OpenCloneSiteWindowAction(editor_OpenCloneSiteWindowAction_77_13_$1);toolbar_55_5_$1.items=[ui_IconButton_57_9_$1,ui_IconButton_65_9_$1,ui_IconButton_74_9_$1];config_$1.tbar=toolbar_55_5_$1;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$dpEE(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.sites.SitesTreeBase",
alias:"widget.com.coremedia.cms.editor.sdk.config.sitesTree",constructor:SitesTree$,super$dpEE:function(){com.coremedia.cms.editor.sdk.sites.SitesTreeBase.prototype.constructor.apply(this,arguments)},statics:{OPEN_FOLDER_BUTTON_ITEM_ID:"openInRepository",OPEN_DOCUMENT_BUTTON_ITEM_ID:"openInTab",CLONE_SITE_BUTTON_ITEM_ID:"cloneSite"},requires:["Ext.toolbar.Toolbar","com.coremedia.cms.editor.sdk.sites.LocalizationManager_properties","com.coremedia.cms.editor.sdk.sites.SitesTreeBase","com.coremedia.ui.components.IconButton",
"com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.BindTreePlugin","com.coremedia.ui.plugins.BindTreeSelectionPlugin","com.coremedia.ui.plugins.ContextMenuPlugin","com.coremedia.ui.skins.ToolbarSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.actions.OpenInTabAction","com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction","com.coremedia.cms.editor.sdk.sites.OpenCloneSiteWindowAction","com.coremedia.cms.editor.sdk.sites.SitesTreeContextMenu"]}});Ext.define("com.coremedia.cms.editor.sdk.sites.SetPreferredSiteContentActionBase",function(SetPreferredSiteContentActionBase){function SetPreferredSiteContentActionBase$(config){if(arguments.length<=0)config=null;this.super$bqs_(AS3.cast(com.coremedia.cms.editor.sdk.sites.SetPreferredSiteContentAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,"setPreferredSite",{handler:AS3.bind(this,"setPreferredSite$bqs_")})))}function getSite(contents){if(!contents||contents.length!==
1)return null;var content=AS3.as(contents[0],com.coremedia.cap.content.Content);if(!content)return null;var site=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getSiteFor(content);if(!site)return null;return content===site.getSiteRootFolder()?site:null}function isHiddenFor(contents){return!this.getSite$bqs_(contents)}function isDisabledFor(contents){var site=this.getSite$bqs_(contents);return!site||site.getId()===com.coremedia.cms.editor.sdk.editorContext.getSitesService().getPreferredSiteId()}
function setPreferredSite(){var site=this.getSite$bqs_(this.getContents());if(site)com.coremedia.cms.editor.sdk.editorContext.getSitesService().getPreferredSiteIdExpression().setValue(site.getId())}return{extend:"com.coremedia.cms.editor.sdk.actions.ContentAction",metadata:{"":["PublicApi"]},constructor:SetPreferredSiteContentActionBase$,super$bqs_:function(){com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.constructor.apply(this,arguments)},getSite$bqs_:getSite,isHiddenFor:isHiddenFor,
isDisabledFor:isDisabledFor,setPreferredSite$bqs_:setPreferredSite,requires:["com.coremedia.cap.content.Content","com.coremedia.cms.editor.sdk.actions.ContentAction"],uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.sites.SetPreferredSiteContentAction"]}});Ext.define("com.coremedia.cms.editor.sdk.sites.SetPreferredSiteContentAction",function(SetPreferredSiteContentAction){function SetPreferredSiteContentAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.sites.SetPreferredSiteContentActionBase,{});var defaults_$1=AS3.cast(SetPreferredSiteContentAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$mq5D(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.sites.SetPreferredSiteContentActionBase",
metadata:{"":["PublicApi"]},constructor:SetPreferredSiteContentAction$,super$mq5D:function(){com.coremedia.cms.editor.sdk.sites.SetPreferredSiteContentActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.sites.SetPreferredSiteContentActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.sites.OpenCloneSiteWindowActionBase",function(OpenCloneSiteWindowActionBase){function currentSiteTrigger_(){this.currentSiteTrigger$Tuyr=new com.coremedia.ui.data.dependencies.Trigger}function OpenCloneSiteWindowActionBase$(config){if(arguments.length<=0)config=null;this.super$Tuyr(config);currentSiteTrigger_.call(this);this.disabledExpression$Tuyr=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"calculateDisabled$Tuyr"))}function updateDisabledStatus(){var value=
this.disabledExpression$Tuyr.getValue();this.setDisabled(value)}function calculateDisabled(){this.currentSiteTrigger$Tuyr.dependOn();var sitesService=com.coremedia.cms.editor.sdk.editorContext.getSitesService();var sites=sitesService.getSitesById();return!this.currentSiteId$Tuyr||!sites||!sites[this.currentSiteId$Tuyr]||!sitesService.isTranslationManager()}function addComponent(comp){if(this.hasNoComponents$Tuyr())this.disabledExpression$Tuyr.addChangeListener(AS3.bind(this,"updateDisabledStatus$Tuyr"));
com.coremedia.ui.actions.OpenDialogAction.prototype.addComponent.call(this,comp);this.updateDisabledStatus$Tuyr()}function removeComponent(comp){com.coremedia.ui.actions.OpenDialogAction.prototype.removeComponent.call(this,comp);var isEmpty=this.hasNoComponents$Tuyr();if(isEmpty)this.disabledExpression$Tuyr.removeChangeListener(AS3.bind(this,"updateDisabledStatus$Tuyr"))}function hasNoComponents(){var isEmpty=true;this.each(function(){isEmpty=false});return isEmpty}function setCurrentSiteId(currentSiteId){this.currentSiteId$Tuyr=
currentSiteId;this.currentSiteTrigger$Tuyr&&this.currentSiteTrigger$Tuyr.trigger()}function getDialogConfig(trigger){var dialogConfig=AS3.cast(com.coremedia.cms.editor.sdk.sites.CloneSiteWindow,com.coremedia.ui.actions.OpenDialogAction.prototype.getDialogConfig.call(this,trigger));AS3.setBindable(dialogConfig,"siteId",this.currentSiteId$Tuyr);return dialogConfig}return{extend:"com.coremedia.ui.actions.OpenDialogAction",metadata:{setCurrentSiteId:["InjectFromExtParent"]},currentSiteId$Tuyr:null,disabledExpression$Tuyr:null,
constructor:OpenCloneSiteWindowActionBase$,super$Tuyr:function(){com.coremedia.ui.actions.OpenDialogAction.prototype.constructor.apply(this,arguments)},updateDisabledStatus$Tuyr:updateDisabledStatus,calculateDisabled$Tuyr:calculateDisabled,addComponent:addComponent,removeComponent:removeComponent,hasNoComponents$Tuyr:hasNoComponents,setCurrentSiteId:setCurrentSiteId,getDialogConfig:getDialogConfig,requires:["com.coremedia.ui.actions.OpenDialogAction","com.coremedia.ui.data.ValueExpressionFactory",
"com.coremedia.ui.data.dependencies.Trigger"],uses:["com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.sites.CloneSiteWindow"]}});Ext.define("com.coremedia.cms.editor.sdk.sites.CloneSiteWindow",function(CloneSiteWindow){function CloneSiteWindow$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.sites.CloneSiteWindowBase,{});var defaults_$1=AS3.cast(CloneSiteWindow,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.sdk.sites.LocalizationManager","Action_cloneSite_text"));config_$1.stateId=
"cloneSiteWindowState";AS3.setBindable(config_$1,"stateful",true);config_$1.modal=true;AS3.setBindable(config_$1,"width",300);config_$1.constrainHeader=true;AS3.setBindable(config_$1,"x",600);AS3.setBindable(config_$1,"y",200);config_$1.resizable=false;config_$1.draggable=true;config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.WindowSkin.GRID_200.getSkin());var editor_AvailableLocalesComboBox_46_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.translate.AvailableLocalesComboBox,{});editor_AvailableLocalesComboBox_46_5_$1.itemId=
net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.sites.CloneSiteWindowBase.LOCALE_FIELD);AS3.setBindable(editor_AvailableLocalesComboBox_46_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.sites.LocalizationManager","CloneSiteWindow_locale_field")));AS3.setBindable(editor_AvailableLocalesComboBox_46_5_$1,"bindTo",com.coremedia.ui.data.ValueExpressionFactory.createFromValue(this.getModel()));AS3.setBindable(editor_AvailableLocalesComboBox_46_5_$1,
"propertyName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.sites.CloneSiteWindowBase.MODEL_LOCALE));var ui_StatefulTextField_50_5_$1=AS3.cast(com.coremedia.ui.components.StatefulTextField,{});ui_StatefulTextField_50_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.sites.CloneSiteWindowBase.URI_SEGMENT_FIELD);AS3.setBindable(ui_StatefulTextField_50_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.sites.LocalizationManager",
"CloneSiteWindow_uriSegment_field")));var object_53_9_$1={};object_53_9_$1.specialkey=AS3.bind(this,"keyPressed");AS3.setBindable(ui_StatefulTextField_50_5_$1,"listeners",object_53_9_$1);var ui_BindPropertyPlugin_56_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_56_9_$1.bidirectional=true;ui_BindPropertyPlugin_56_9_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.cms.editor.sdk.sites.CloneSiteWindowBase.MODEL_URI_SEGMENT,this.getModel());
ui_StatefulTextField_50_5_$1.plugins=[ui_BindPropertyPlugin_56_9_$1];var ui_StatefulTextField_60_5_$1=AS3.cast(com.coremedia.ui.components.StatefulTextField,{});ui_StatefulTextField_60_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.sites.CloneSiteWindowBase.SITE_MANAGER_GROUP_FIELD);AS3.setBindable(ui_StatefulTextField_60_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.sites.LocalizationManager","CloneSiteWindow_siteManagerGroup_field")));
var object_63_9_$1={};object_63_9_$1.specialkey=AS3.bind(this,"keyPressed");AS3.setBindable(ui_StatefulTextField_60_5_$1,"listeners",object_63_9_$1);var ui_BindPropertyPlugin_66_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_66_9_$1.bidirectional=true;ui_BindPropertyPlugin_66_9_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.cms.editor.sdk.sites.CloneSiteWindowBase.MODEL_SITE_MANAGER_GROUP,this.getModel());ui_StatefulTextField_60_5_$1.plugins=
[ui_BindPropertyPlugin_66_9_$1];var ui_StatefulCheckbox_70_5_$1=AS3.cast(com.coremedia.ui.components.StatefulCheckbox,{});ui_StatefulCheckbox_70_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.sites.CloneSiteWindowBase.SITE_IN_SYNC_WITH_MASTER_FIELD);AS3.setBindable(ui_StatefulCheckbox_70_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.sites.LocalizationManager","CloneSiteWindow_siteInSyncWithMaster_field")));AS3.setBindable(ui_StatefulCheckbox_70_5_$1,
"boxLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.sites.LocalizationManager","CloneSiteWindow_siteInSyncWithMaster_boxlabel")));var object_74_9_$1={};object_74_9_$1.specialkey=AS3.bind(this,"keyPressed");AS3.setBindable(ui_StatefulCheckbox_70_5_$1,"listeners",object_74_9_$1);var ui_BindPropertyPlugin_77_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_77_9_$1.bidirectional=true;ui_BindPropertyPlugin_77_9_$1.reverseTransformer=
function(checked){return checked?"SYNC":null};ui_BindPropertyPlugin_77_9_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.cms.editor.sdk.sites.CloneSiteWindowBase.TRANSLATION_STRATEGY,this.getModel());ui_StatefulCheckbox_70_5_$1.plugins=[ui_BindPropertyPlugin_77_9_$1];config_$1.items=[editor_AvailableLocalesComboBox_46_5_$1,ui_StatefulTextField_50_5_$1,ui_StatefulTextField_60_5_$1,ui_StatefulCheckbox_70_5_$1];var field_84_5_$1=AS3.cast(Ext.form.field.Base,{});field_84_5_$1.labelAlign=
"top";field_84_5_$1.labelSeparator="";config_$1["defaultType"]=field_84_5_$1["xtype"];delete field_84_5_$1["xtype"];delete field_84_5_$1["xclass"];config_$1.defaults=field_84_5_$1;var button_88_5_$1=AS3.cast(Ext.button.Button,{});button_88_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.sites.CloneSiteWindowBase.OK_BUTTON);button_88_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_PRIMARY.getSkin());AS3.setBindable(button_88_5_$1,"scale","small");
AS3.setBindable(button_88_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.sites.LocalizationManager","CloneSiteWindow_ok_button")));AS3.setBindable(button_88_5_$1,"handler",AS3.bind(this,"deriveSite"));var ui_BindPropertyPlugin_94_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_94_9_$1.componentProperty="disabled";ui_BindPropertyPlugin_94_9_$1.bindTo=this.getDisabledExpression();button_88_5_$1.plugins=[ui_BindPropertyPlugin_94_9_$1];
var button_98_5_$1=AS3.cast(Ext.button.Button,{});button_98_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.sites.CloneSiteWindowBase.CANCEL_BUTTON);button_98_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_SECONDARY.getSkin());AS3.setBindable(button_98_5_$1,"scale","small");AS3.setBindable(button_98_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.sites.LocalizationManager","CloneSiteWindow_cancel_button")));
AS3.setBindable(button_98_5_$1,"handler",AS3.bind(this,"close"));config_$1.buttons=[button_88_5_$1,button_98_5_$1];var layout_VBox_105_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_105_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_105_5_$1);var ui_VerticalSpacingPlugin_108_7_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});AS3.setBindable(ui_VerticalSpacingPlugin_108_7_$1,"modifier",com.coremedia.ui.bem.SpacingBEMEntities.VERTICAL_SPACING_MODIFIER_200);
config_$1.plugins=[ui_VerticalSpacingPlugin_108_7_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$uuGO(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.sites.CloneSiteWindowBase",alias:"widget.com.coremedia.cms.editor.sdk.config.cloneSiteWindow",constructor:CloneSiteWindow$,super$uuGO:function(){com.coremedia.cms.editor.sdk.sites.CloneSiteWindowBase.prototype.constructor.apply(this,arguments)},config:{sitesService:null,siteId:null},requires:["Ext.button.Button","Ext.form.field.Base",
"Ext.layout.container.VBox","com.coremedia.cms.editor.sdk.sites.CloneSiteWindowBase","com.coremedia.cms.editor.sdk.sites.LocalizationManager_properties","com.coremedia.ui.bem.SpacingBEMEntities","com.coremedia.ui.components.StatefulCheckbox","com.coremedia.ui.components.StatefulTextField","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.VerticalSpacingPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.WindowSkin",
"net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.translate.AvailableLocalesComboBox"]}});Ext.define("com.coremedia.cms.editor.sdk.sites.SiteProvider",function(SiteProvider){return{}});Ext.define("com.coremedia.cms.editor.sdk.sites.CloneSiteProcessMonitor",function(CloneSiteProcessMonitor){var ERROR_TITLE$static;function ERROR_TITLE$static_(){ERROR_TITLE$static=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.sites.LocalizationManager","CloneSiteError_title")}function valueExpressions_(){this.valueExpressions$0UmJ=[]}function CloneSiteProcessMonitor$(process,sitesService){valueExpressions_.call(this);this.process$0UmJ=process;this.sitesService$0UmJ=
sitesService;this.masterSite$0UmJ=sitesService.getSite(process.getProperties().get("masterSiteId"));this.targetLocale$0UmJ=getLocale$static(process.getProperties().get("targetLocale"));this.abortedMessage$0UmJ=Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.sites.LocalizationManager","CloneSiteError_aborted"),this.masterSite$0UmJ.getName(),this.targetLocale$0UmJ.getDisplayName());this.escalatedMessage$0UmJ=Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.sites.LocalizationManager",
"CloneSiteError_escalated"),this.masterSite$0UmJ.getName(),this.targetLocale$0UmJ.getDisplayName());process.addValueChangeListener(AS3.bind(this,"processChanged$0UmJ"));this.addListener$0UmJ(com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.cap.workflow.ProcessPropertyNames.COMPLETED,process),AS3.bind(this,"processCompleted$0UmJ"));this.addListener$0UmJ(com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.cap.workflow.ProcessPropertyNames.ABORTED,process),AS3.bind(this,
"processAborted$0UmJ"));for(var i=0;i<process.getTasks().length;i++){var task=process.getTasks()[i];this.addListener$0UmJ(com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.cap.workflow.TaskPropertyNames.ESCALATED,task),AS3.bind(this,"taskEscalated$0UmJ"));this.addListener$0UmJ(com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.cap.workflow.TaskPropertyNames.ABORTED,task),AS3.bind(this,"taskAborted$0UmJ"))}}function addListener(valueExpression,listener){valueExpression.addChangeListener(listener);
this.valueExpressions$0UmJ.push({valueExpression:valueExpression,listener:listener})}function removeListeners(){this.process$0UmJ.removeValueChangeListener(AS3.bind(this,"processChanged$0UmJ"));for(var i=0;i<this.valueExpressions$0UmJ.length;i++){var obj=this.valueExpressions$0UmJ[i];AS3.cast(com.coremedia.ui.data.ValueExpression,obj.valueExpression).removeChangeListener(obj.listener)}this.valueExpressions$0UmJ=[]}function processChanged(event){if(event.oldValue&&!event.oldValue.derivedSiteId&&event.newValue&&
event.newValue.derivedSiteId){var derivedSiteId=event.newValue.derivedSiteId;this.createSiteDummy$0UmJ(derivedSiteId)}if(!this.process$0UmJ.getState().exists){this.destroySiteDummy$0UmJ();this.removeListeners$0UmJ()}else if(this.process$0UmJ.isAborted()){com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showError(ERROR_TITLE$static,this.abortedMessage$0UmJ,AS3.bind(this,"destroySiteDummy$0UmJ"));this.removeListeners$0UmJ()}else if(!this.process$0UmJ.isRunning()||this.process$0UmJ.isNotRunning()||this.process$0UmJ.isCompleted()||
this.process$0UmJ.isClosed()){this.destroySiteDummy$0UmJ();this.removeListeners$0UmJ()}}function processCompleted(source){if(source.getValue()){this.destroySiteDummy$0UmJ();this.removeListeners$0UmJ()}}function processAborted(source){if(source.getValue()){com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showError(ERROR_TITLE$static,this.abortedMessage$0UmJ,AS3.bind(this,"destroySiteDummy$0UmJ"));this.removeListeners$0UmJ()}}function taskAborted(source){var this$=this;if(source.getValue()){this.removeListeners$0UmJ();
com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showError(ERROR_TITLE$static,this.abortedMessage$0UmJ,function(){this$.destroySiteDummy$0UmJ();this$.process$0UmJ.abort()})}}function taskEscalated(source){var this$=this;if(source.getValue()){this.removeListeners$0UmJ();var task=AS3.as(source.getBean(),com.coremedia.cap.workflow.Task);(new com.coremedia.cms.editor.sdk.sites.CloneSiteErrorDialog(AS3.cast(com.coremedia.cms.editor.sdk.sites.CloneSiteErrorDialog,{title:ERROR_TITLE$static,task:task,message:this.escalatedMessage$0UmJ,
callback:function(){this$.destroySiteDummy$0UmJ();this$.process$0UmJ.abort()}}))).show()}}function createSiteDummy(derivedSiteId){var this$=this;this.process$0UmJ.load(function(){this$.derivedSiteDummy$0UmJ=new com.coremedia.cms.editor.sdk.sites.SiteImpl(derivedSiteId,null,this$.masterSite$0UmJ.getId(),null,null,this$.masterSite$0UmJ.getName(),this$.targetLocale$0UmJ,null,false,true);this$.sitesService$0UmJ.addSiteUnderConstruction(this$.derivedSiteDummy$0UmJ)})}function destroySiteDummy(){if(this.derivedSiteDummy$0UmJ){this.sitesService$0UmJ.removeSiteUnderConstruction(this.derivedSiteDummy$0UmJ);
this.derivedSiteDummy$0UmJ=null}}function getLocale$static(localeTag){var localesService=AS3.cast(com.coremedia.cms.editor.sdk.EditorContextImpl,com.coremedia.cms.editor.sdk.editorContext).getLocalesService();return localesService.getLocale(localeTag)||com.coremedia.ui.data.Locale.forLanguageTag(localeTag)}return{process$0UmJ:null,sitesService$0UmJ:null,derivedSiteDummy$0UmJ:null,masterSite$0UmJ:null,targetLocale$0UmJ:null,abortedMessage$0UmJ:null,escalatedMessage$0UmJ:null,constructor:CloneSiteProcessMonitor$,
addListener$0UmJ:addListener,removeListeners$0UmJ:removeListeners,processChanged$0UmJ:processChanged,processCompleted$0UmJ:processCompleted,processAborted$0UmJ:processAborted,taskAborted$0UmJ:taskAborted,taskEscalated$0UmJ:taskEscalated,createSiteDummy$0UmJ:createSiteDummy,destroySiteDummy$0UmJ:destroySiteDummy,statics:{ERROR_TITLE:undefined,__initStatics__:function(){ERROR_TITLE$static_()}},requires:["Ext.String","com.coremedia.cap.workflow.ProcessPropertyNames","com.coremedia.cap.workflow.Task",
"com.coremedia.cap.workflow.TaskPropertyNames","com.coremedia.cms.editor.sdk.sites.LocalizationManager_properties","com.coremedia.ui.data.Locale","com.coremedia.ui.data.ValueExpression","com.coremedia.ui.data.ValueExpressionFactory","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.EditorContextImpl","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.sites.CloneSiteErrorDialog","com.coremedia.cms.editor.sdk.sites.SiteImpl","com.coremedia.cms.editor.sdk.util.MessageBoxUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.sites.SiteModel",function(SiteModel){return{}});Ext.define("com.coremedia.cms.editor.sdk.sites.TranslationStrategy",function(TranslationStrategy){function TranslationStrategy$(){}return{constructor:TranslationStrategy$,statics:{SYNC:"SYNC",LANG_TRANSLATION:"LANG_TRANSLATION"}}});Ext.define("com.coremedia.cms.editor.sdk.sites.ExtendedSitesServiceImpl",function(ExtendedSitesServiceImpl){function getSitesUnderConstructionValueExpression(){if(!this.sitesUnderConstructionValueExpression$2K$U)this.sitesUnderConstructionValueExpression$2K$U=com.coremedia.ui.data.ValueExpressionFactory.createFromValue({});return this.sitesUnderConstructionValueExpression$2K$U}function getSitesUnderConstruction(){return this.getSitesUnderConstructionValueExpression().getValue()}function addSiteUnderConstruction(site){var oldValue=
this.getSitesUnderConstructionValueExpression().getValue();var newValue=Ext.apply({},oldValue);newValue[site.getId()]=site;this.getSitesUnderConstructionValueExpression().setValue(newValue)}function removeSiteUnderConstruction(site){var oldValue=this.getSitesUnderConstructionValueExpression().getValue();var newValue={};var siteId=site.getId();for(var key in oldValue)if(oldValue.hasOwnProperty(key)&&key!==siteId)newValue[key]=oldValue[key];this.getSitesUnderConstructionValueExpression().setValue(newValue)}
function ExtendedSitesServiceImpl$(){this.super$2K$U()}return{extend:"com.coremedia.cms.editor.sdk.sites.SitesServiceImpl",sitesUnderConstructionValueExpression$2K$U:null,getSitesUnderConstructionValueExpression:getSitesUnderConstructionValueExpression,getSitesUnderConstruction:getSitesUnderConstruction,addSiteUnderConstruction:addSiteUnderConstruction,removeSiteUnderConstruction:removeSiteUnderConstruction,super$2K$U:function(){com.coremedia.cms.editor.sdk.sites.SitesServiceImpl.prototype.constructor.apply(this,
arguments)},constructor:ExtendedSitesServiceImpl$,requires:["Ext","com.coremedia.cms.editor.sdk.sites.SitesServiceImpl","com.coremedia.ui.data.ValueExpressionFactory"]}});Ext.define("com.coremedia.cms.editor.sdk.sites.LocalizationManagerBase",function(LocalizationManagerBase){function LocalizationManagerBase$(config){if(arguments.length<=0)config=null;this.super$NII9(config)}function setCurrentSiteId(newSiteId){var oldSiteId=this.currentSiteId$NII9;this.currentSiteId$NII9=newSiteId;com.coremedia.ui.data.util.PropertyChangeEventUtil.fireEvent(this,com.coremedia.cms.editor.sdk.sites.LocalizationManager.CURRENT_SITE_ID_VARIABLE_NAME,oldSiteId,this.currentSiteId$NII9)}
function getCurrentSiteId(){return this.currentSiteId$NII9}return{extend:"com.coremedia.cms.editor.sdk.components.StudioDialog",metadata:{getCurrentSiteId:["ProvideToExtChildren"]},currentSiteId$NII9:null,constructor:LocalizationManagerBase$,super$NII9:function(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.constructor.apply(this,arguments)},setCurrentSiteId:setCurrentSiteId,getCurrentSiteId:getCurrentSiteId,requires:["com.coremedia.cms.editor.sdk.components.StudioDialog","com.coremedia.ui.data.util.PropertyChangeEventUtil"],
uses:["com.coremedia.cms.editor.sdk.sites.LocalizationManager"]}});Ext.define("com.coremedia.cms.editor.sdk.sites.CloneSiteErrorDialog",function(CloneSiteErrorDialog){function CloneSiteErrorDialog$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.sites.CloneSiteErrorDialogBase,{});var defaults_$1=AS3.cast(CloneSiteErrorDialog,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.sdk.sites.LocalizationManager","CloneSiteErrorDialog_title"));
config_$1.stateId="cloneSiteErrorDialogState";AS3.setBindable(config_$1,"stateful",true);AS3.setBindable(config_$1,"width",300);config_$1.constrainHeader=true;config_$1.resizable=false;config_$1.draggable=true;AS3.setBindable(config_$1,"layout","hbox");config_$1.buttonAlign="center";config_$1.modal=true;var component_44_5_$1=AS3.cast(Ext.Component,{});AS3.setBindable(component_44_5_$1,"width",47);var container_45_5_$1=AS3.cast(Ext.container.Container,{});container_45_5_$1.flex=1;AS3.setBindable(container_45_5_$1,
"layout","anchor");var box_48_9_$1=AS3.cast(Ext.Component,{});box_48_9_$1.itemId="messageBox";AS3.setBindable(box_48_9_$1,"html",com.coremedia.ui.util.EncodingUtil.encodeForHTML(AS3.getBindable(config,"message")));var component_50_9_$1=AS3.cast(Ext.Component,{});AS3.setBindable(component_50_9_$1,"height",AS3.getBindable(config,"message")?8:0);var editor_ProblemDescriptionButton_51_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.workflow.ProblemDescriptionButton,{});editor_ProblemDescriptionButton_51_9_$1.itemId=
"problemDescriptionButton";AS3.setBindable(editor_ProblemDescriptionButton_51_9_$1,"problemDescriptionValueExpression",com.coremedia.ui.data.ValueExpressionFactory.create("escalationException",AS3.getBindable(config,"task")));container_45_5_$1.items=[box_48_9_$1,component_50_9_$1,editor_ProblemDescriptionButton_51_9_$1];config_$1.items=[component_44_5_$1,container_45_5_$1];var button_57_5_$1=AS3.cast(Ext.button.Button,{});button_57_5_$1.itemId="okButton";button_57_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_SECONDARY.getSkin());
AS3.setBindable(button_57_5_$1,"scale","small");AS3.setBindable(button_57_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","btn_ok")));AS3.setBindable(button_57_5_$1,"handler",AS3.bind(this,"close"));config_$1.buttons=[button_57_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$WqP8(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.sites.CloneSiteErrorDialogBase",alias:"widget.com.coremedia.cms.editor.sdk.config.cloneSiteErrorDialog",
constructor:CloneSiteErrorDialog$,super$WqP8:function(){com.coremedia.cms.editor.sdk.sites.CloneSiteErrorDialogBase.prototype.constructor.apply(this,arguments)},config:{task:null,callback:null,message:null},requires:["Ext.Component","Ext.button.Button","Ext.container.Container","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.sites.CloneSiteErrorDialogBase","com.coremedia.cms.editor.sdk.sites.LocalizationManager_properties","com.coremedia.ui.data.ValueExpressionFactory",
"com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.util.EncodingUtil","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.workflow.ProblemDescriptionButton"]}});Ext.define("com.coremedia.cms.editor.sdk.sites.SitesTreeContextMenu",function(SitesTreeContextMenu){function SitesTreeContextMenu$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.menu.Menu,{});var defaults_$1=AS3.cast(SitesTreeContextMenu,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.plain=true;var menuItem_48_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_48_5_$1.itemId=net.jangaroo.ext.Exml.asString(SitesTreeContextMenu.OPEN_DOCUMENT_MENU_ITEM_ID);var editor_OpenInTabAction_50_9_$1=
AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenInTabAction,{});AS3.setBindable(editor_OpenInTabAction_50_9_$1,"contentValueExpression",com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){return AS3.getBindable(config,"sitesService").getSiteRootDocument(AS3.getBindable(config,"currentSiteIdValueExpression").getValue())}));AS3.setBindable(editor_OpenInTabAction_50_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.sites.LocalizationManager",
"Action_openInTab_text")));menuItem_48_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.OpenInTabAction(editor_OpenInTabAction_50_9_$1);var menuItem_56_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_56_5_$1.itemId=net.jangaroo.ext.Exml.asString(SitesTreeContextMenu.OPEN_FOLDER_MENU_ITEM_ID);var editor_ShowInRepositoryAction_58_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction,{});AS3.setBindable(editor_ShowInRepositoryAction_58_9_$1,"contentValueExpression",com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){return AS3.getBindable(config,
"sitesService").getSiteRootFolder(AS3.getBindable(config,"currentSiteIdValueExpression").getValue())}));AS3.setBindable(editor_ShowInRepositoryAction_58_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.sites.LocalizationManager","Action_openSiteInRepository_icon")));AS3.setBindable(editor_ShowInRepositoryAction_58_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.sites.LocalizationManager",
"Action_openSiteInRepository_text")));menuItem_56_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction(editor_ShowInRepositoryAction_58_9_$1);var menuItem_65_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_65_5_$1.itemId=net.jangaroo.ext.Exml.asString(SitesTreeContextMenu.CLONE_SITE_MENU_ITEM_ID);var editor_OpenCloneSiteWindowAction_67_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.sites.OpenCloneSiteWindowAction,{});AS3.setBindable(editor_OpenCloneSiteWindowAction_67_9_$1,"useActionAsAnimationTarget",
true);AS3.setBindable(editor_OpenCloneSiteWindowAction_67_9_$1,"sitesService",AS3.getBindable(config,"sitesService"));menuItem_65_5_$1.baseAction=new com.coremedia.cms.editor.sdk.sites.OpenCloneSiteWindowAction(editor_OpenCloneSiteWindowAction_67_9_$1);config_$1.items=[menuItem_48_5_$1,menuItem_56_5_$1,menuItem_65_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$mPz0(config_$1)}return{extend:"Ext.menu.Menu",metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.sitesTreeContextMenu",
constructor:SitesTreeContextMenu$,super$mPz0:function(){Ext.menu.Menu.prototype.constructor.apply(this,arguments)},config:{currentSiteIdValueExpression:null,sitesService:null},statics:{OPEN_FOLDER_MENU_ITEM_ID:"openInRepository",OPEN_DOCUMENT_MENU_ITEM_ID:"openInTab",CLONE_SITE_MENU_ITEM_ID:"cloneSite"},requires:["Ext.menu.Item","Ext.menu.Menu","com.coremedia.cms.editor.sdk.sites.LocalizationManager_properties","com.coremedia.ui.data.ValueExpressionFactory","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.actions.OpenInTabAction",
"com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction","com.coremedia.cms.editor.sdk.sites.OpenCloneSiteWindowAction"]}});Ext.define("com.coremedia.cms.editor.sdk.sites.SitesTreeBase",function(SitesTreeBase){function SitesTreeBase$(config){if(arguments.length<=0)config=null;this.super$lZT$(config);this.expandAll()}function getSitesTreeModel(){if(!this.sitesTreeModel$lZT$)this.sitesTreeModel$lZT$=new com.coremedia.cms.editor.sdk.sites.SitesTreeModel(this.getSitesService());return this.sitesTreeModel$lZT$}function getCurrentSiteIdValueExpression(){if(!this.currentSiteIdValueExpression$lZT$)this.currentSiteIdValueExpression$lZT$=
com.coremedia.ui.context.ComponentContextManager.getInstance().getContextExpression(this,com.coremedia.cms.editor.sdk.sites.LocalizationManager.CURRENT_SITE_ID_VARIABLE_NAME);return this.currentSiteIdValueExpression$lZT$}function getCurrentSiteValueExpression(){var sitesService=this.getSitesService();return com.coremedia.ui.data.ValueExpressionFactory.createTransformingValueExpression(this.getCurrentSiteIdValueExpression(),AS3.bind(sitesService,"getSite"),function(site){return site?site.getId():null})}
return{extend:"com.coremedia.cms.editor.sdk.sites.CommonSitesTreeBase",sitesTreeModel$lZT$:null,currentSiteIdValueExpression$lZT$:null,constructor:SitesTreeBase$,super$lZT$:function(){com.coremedia.cms.editor.sdk.sites.CommonSitesTreeBase.prototype.constructor.apply(this,arguments)},getSitesTreeModel:getSitesTreeModel,getCurrentSiteIdValueExpression:getCurrentSiteIdValueExpression,getCurrentSiteValueExpression:getCurrentSiteValueExpression,requires:["com.coremedia.cms.editor.sdk.sites.CommonSitesTreeBase",
"com.coremedia.ui.context.ComponentContextManager","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.sdk.sites.LocalizationManager","com.coremedia.cms.editor.sdk.sites.SitesTreeModel"]}});Ext.define("com.coremedia.cms.editor.sdk.sites.CommonSitesTreeBase",function(CommonSitesTreeBase){function CommonSitesTreeBase$(config){if(arguments.length<=0)config=null;this.super$bf1K(config)}function getSitesService(){if(!this.sitesService$bf1K)this.sitesService$bf1K=new com.coremedia.cms.editor.sdk.sites.ExtendedSitesServiceImpl;return this.sitesService$bf1K}return{extend:"Ext.tree.Panel",sitesService$bf1K:null,constructor:CommonSitesTreeBase$,super$bf1K:function(){Ext.tree.Panel.prototype.constructor.apply(this,
arguments)},getSitesService:getSitesService,requires:["Ext.tree.Panel"],uses:["com.coremedia.cms.editor.sdk.sites.ExtendedSitesServiceImpl"]}});Ext.define("com.coremedia.cms.editor.sdk.sites.SitesService",function(SitesService){return{}});Ext.define("com.coremedia.cms.editor.sdk.sites.LocalizationManager",function(LocalizationManager){function LocalizationManager$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.sites.LocalizationManagerBase,{});var defaults_$1=AS3.cast(LocalizationManager,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.sdk.sites.LocalizationManager","Tab_LocalizationManager_title"));
config_$1.stateId="localizationManagerState";AS3.setBindable(config_$1,"stateful",true);AS3.setBindable(config_$1,"width",410);AS3.setBindable(config_$1,"minWidth",300);AS3.setBindable(config_$1,"minHeight",400);AS3.setBindable(config_$1,"maxHeight",500);config_$1.collapsible=false;AS3.setBindable(config_$1,"x",200);AS3.setBindable(config_$1,"y",200);config_$1.resizable=true;AS3.setBindable(config_$1,"layout","fit");config_$1.constrainHeader=true;config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.WindowSkin.GRID_200.getSkin());
var editor_SitesTree_61_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.sites.SitesTree,{});editor_SitesTree_61_5_$1.itemId=net.jangaroo.ext.Exml.asString(LocalizationManager.SITES_TREE_ITEM_ID);config_$1.items=[editor_SitesTree_61_5_$1];var button_64_5_$1=AS3.cast(Ext.button.Button,{});button_64_5_$1.itemId="closeBtn";button_64_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_SECONDARY.getSkin());AS3.setBindable(button_64_5_$1,"scale","small");AS3.setBindable(button_64_5_$1,
"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.sites.LocalizationManager","LocalizationManager_close_button")));AS3.setBindable(button_64_5_$1,"handler",AS3.bind(this,"close"));config_$1.buttons=[button_64_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$0ZMO(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.sites.LocalizationManagerBase",alias:"widget.com.coremedia.cms.editor.sdk.config.localizationManager",constructor:LocalizationManager$,
super$0ZMO:function(){com.coremedia.cms.editor.sdk.sites.LocalizationManagerBase.prototype.constructor.apply(this,arguments)},statics:{CURRENT_SITE_ID_VARIABLE_NAME:"currentSiteId",CURRENT_SITE_ROOT_FOLDER_VARIABLE_NAME:"currentSiteRootFolder",CURRENT_SITE_ROOT_DOCUMENT_VARIABLE_NAME:"currentSiteRootDocument",SITES_TREE_ITEM_ID:"sitesTree"},requires:["Ext.button.Button","com.coremedia.cms.editor.sdk.sites.LocalizationManagerBase","com.coremedia.cms.editor.sdk.sites.LocalizationManager_properties",
"com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.WindowSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.sites.SitesTree"]}});Ext.define("com.coremedia.cms.editor.sdk.sites.OpenSiteHomepageInTabAction",function(OpenSiteHomepageInTabAction){function OpenSiteHomepageInTabAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.sites.OpenSiteHomepageInTabActionBase,{});var defaults_$1=AS3.cast(OpenSiteHomepageInTabAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$fIGB(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.sites.OpenSiteHomepageInTabActionBase",
constructor:OpenSiteHomepageInTabAction$,super$fIGB:function(){com.coremedia.cms.editor.sdk.sites.OpenSiteHomepageInTabActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.sites.OpenSiteHomepageInTabActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.sites.ContentSiteUtil",function(ContentSiteUtil){var SPINNER_ANIMATION_CLS$static="cm-spin";function computeUnsortedDerivedContents$static(content){var currentType=content.getType();if(currentType===undefined)return undefined;var masterProperty=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getSiteModel().getMasterProperty();var ctype=null;var descriptor=null;while(currentType){var candidateDescriptor=currentType.getDescriptor(masterProperty);
if(!(candidateDescriptor&&candidateDescriptor.type===com.coremedia.cap.common.CapPropertyDescriptorType.LINK))break;ctype=currentType;descriptor=candidateDescriptor;currentType=AS3.cast(com.coremedia.cap.content.ContentType,currentType.getParent())}if(!descriptor)return[];return content.getReferrersWithDescriptor(ctype,descriptor)}function getDerivedContentsAndSites$static(content){if(content===null)return[];var referrers=computeUnsortedDerivedContents$static(content);if(referrers===undefined)return undefined;
var siteContents=[];var returnUndefined=false;for(var i=0;i<referrers.length;i++){var referrer=referrers[i];var referrerState=referrer.getState();if(referrerState===com.coremedia.ui.data.BeanState.UNKNOWN){returnUndefined=true;referrer.load()}else if(referrerState.readable&&!referrer.isDeleted()){var site=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getSiteFor(referrer);if(site===undefined)returnUndefined=true;siteContents.push({site:site,content:referrer})}}if(returnUndefined)return undefined;
return siteContents}function getSiteIconCls$static(site){if(site.isUnderConstruction())return mx.resources.ResourceManager.getInstance().getString("com.coremedia.icons.CoreIcons","tree_view_spinner")+" "+SPINNER_ANIMATION_CLS$static;if(site.getMasterSite()===null)return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","CollectionView_siteRootFolder_icon");if(site.isSynchronizationTargetSite())return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor",
"CollectionView_synchronizedSite_icon");else return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","CollectionView_translatedSite_icon")}function ContentSiteUtil$(){}return{constructor:ContentSiteUtil$,statics:{getDerivedContentsAndSites:getDerivedContentsAndSites$static,getSiteIconCls:getSiteIconCls$static},requires:["com.coremedia.cap.common.CapPropertyDescriptorType","com.coremedia.cap.content.ContentType","com.coremedia.ui.data.BeanState","mx.resources.ResourceManager"],
uses:["com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.sites.TargetSitesTree",function(TargetSitesTree){function TargetSitesTree$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.sites.TargetSitesTreeBase,{});var defaults_$1=AS3.cast(TargetSitesTree,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"scrollable",true);config_$1.useArrows=true;config_$1.rootVisible=false;var ui_BindTreePlugin_19_5_$1=AS3.cast(com.coremedia.ui.plugins.BindTreePlugin,
{});AS3.setBindable(ui_BindTreePlugin_19_5_$1,"treeModel",this.getSitesTreeModel(config));config_$1.plugins=[ui_BindTreePlugin_19_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Pp7z(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.sites.TargetSitesTreeBase",alias:"widget.com.coremedia.cms.editor.sdk.config.targetSitesTree",constructor:TargetSitesTree$,super$Pp7z:function(){com.coremedia.cms.editor.sdk.sites.TargetSitesTreeBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.sites.TargetSitesTreeBase",
"com.coremedia.ui.plugins.BindTreePlugin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.sites.TargetSitesTreeBase",function(TargetSitesTreeBase){function TargetSitesTreeBase$(config){if(arguments.length<=0)config=null;this.super$SsPk(config);this.addListener("itemappend",TargetSitesTreeBase.itemAppended)}function getSitesTreeModel(config){if(!this.sitesTreeModel$SsPk)this.sitesTreeModel$SsPk=new com.coremedia.cms.editor.sdk.sites.TargetSitesTreeModel(this.getSitesService(),config.rootIdValueExpression);return this.sitesTreeModel$SsPk}function itemAppended$static(me,
node){node.expand()}return{extend:"com.coremedia.cms.editor.sdk.sites.CommonSitesTreeBase",sitesTreeModel$SsPk:null,rootIdValueExpression:null,constructor:TargetSitesTreeBase$,super$SsPk:function(){com.coremedia.cms.editor.sdk.sites.CommonSitesTreeBase.prototype.constructor.apply(this,arguments)},getSitesTreeModel:getSitesTreeModel,statics:{itemAppended:itemAppended$static},requires:["com.coremedia.cms.editor.sdk.sites.CommonSitesTreeBase"],uses:["com.coremedia.cms.editor.sdk.sites.TargetSitesTreeModel"]}});Ext.define("com.coremedia.cms.editor.sdk.sites.SiteRootChildrenLinkListContentTreeRelation",function(SiteRootChildrenLinkListContentTreeRelation){function SiteRootChildrenLinkListContentTreeRelation$(contentTypeName,childrenLinkListPropertyName){this.super$3O_t(contentTypeName,childrenLinkListPropertyName)}function isRoot(node){var isRoot=com.coremedia.cap.content.tree.ChildrenLinkListContentTreeRelation.prototype.isRoot.call(this,node);switch(isRoot){case undefined:return undefined;case false:return false}var content=
AS3.as(node,com.coremedia.cap.content.Content);if(!content)return false;var sitesService=com.coremedia.cms.editor.sdk.editorContext.getSitesService();var siteRootDocument=sitesService.getSiteRootDocument(sitesService.getSiteIdFor(content));return siteRootDocument===undefined?undefined:content===siteRootDocument}return{extend:"com.coremedia.cap.content.tree.ChildrenLinkListContentTreeRelation",constructor:SiteRootChildrenLinkListContentTreeRelation$,super$3O_t:function(){com.coremedia.cap.content.tree.ChildrenLinkListContentTreeRelation.prototype.constructor.apply(this,
arguments)},isRoot:isRoot,requires:["com.coremedia.cap.content.Content","com.coremedia.cap.content.tree.ChildrenLinkListContentTreeRelation"],uses:["com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.sites.NameTranslationStatusColumn",function(NameTranslationStatusColumn){function STATUS_ROLE_TRANSLATOR$static_(){NameTranslationStatusColumn.STATUS_ROLE_TRANSLATOR=com.coremedia.cms.editor.sdk.translate.TranslationStatusUtil.STATUS_ROLE_TRANSLATOR}function STATUS_ROLE_PROVIDER$static_(){NameTranslationStatusColumn.STATUS_ROLE_PROVIDER=com.coremedia.cms.editor.sdk.translate.TranslationStatusUtil.STATUS_ROLE_PROVIDER}function NameTranslationStatusColumn$(config){if(arguments.length<=
0)config=null;var config_$1=AS3.cast(Ext.grid.column.Template,{});var defaults_$1=AS3.cast(NameTranslationStatusColumn,{});AS3.setBindable(defaults_$1,"role",com.coremedia.cms.editor.sdk.translate.TranslationStatusUtil.STATUS_ROLE_TRANSLATOR);config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.header=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.columns.grid.GridColumns","name_header"));config_$1.stateId="name";config_$1.tpl=new Ext.XTemplate('\x3cspan data-qtip\x3d"{[com.coremedia.cms.editor.sdk.translate.TranslationStatusUtil.getTranslationStatusTooltip(values.translationStatus, this.role)]}"\x3e',
"{name}",'\x3ctpl if\x3d"!!com.coremedia.cms.editor.sdk.translate.TranslationStatusUtil.getTranslationStatusText(values.translationStatus, this.role)"\x3e',' \x3cspan class\x3d"name-status" data-qtip\x3d"{[com.coremedia.cms.editor.sdk.translate.TranslationStatusUtil.getTranslationStatusTooltip(values.translationStatus, this.role)]}"\x3e({[com.coremedia.cms.editor.sdk.translate.TranslationStatusUtil.getTranslationStatusText(values.translationStatus, this.role)]})\x3c/span\x3e',"\x3c/tpl\x3e","\x3c/span\x3e",
{role:config&&AS3.getBindable(config,"role")||com.coremedia.cms.editor.sdk.translate.TranslationStatusUtil.STATUS_ROLE_TRANSLATOR});net.jangaroo.ext.Exml.apply(config_$1,config);this.super$BGRo(config_$1)}return{extend:"Ext.grid.column.Template",metadata:{"":["PublicApi"]},constructor:NameTranslationStatusColumn$,super$BGRo:function(){Ext.grid.column.Template.prototype.constructor.apply(this,arguments)},config:{role:null},statics:{STATUS_ROLE_TRANSLATOR:undefined,STATUS_ROLE_PROVIDER:undefined,__initStatics__:function(){STATUS_ROLE_TRANSLATOR$static_();
STATUS_ROLE_PROVIDER$static_()}},requires:["Ext.XTemplate","Ext.grid.column.Template","com.coremedia.cms.editor.sdk.columns.grid.GridColumns_properties","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.translate.TranslationStatusUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.sites.DerivedContentsList",function(DerivedContentsList){function DerivedContentsList$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.sites.DerivedContentsListBase,{});var defaults_$1=AS3.cast(DerivedContentsList,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","DerivedContentsList_title")));
var layout_VBox_54_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_54_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_54_5_$1);var label_57_5_$1=AS3.cast(Ext.form.Label,{});label_57_5_$1.itemId=net.jangaroo.ext.Exml.asString(DerivedContentsList.MESSAGE_LABEL_ITEM_ID);AS3.setBindable(label_57_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","DerivedContentsList_emptyText")));var ui_BindVisibilityPlugin_60_9_$1=
AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_60_9_$1.bindTo=this.getDerivedContentsExpression(AS3.getBindable(config,"bindTo"));AS3.setBindable(ui_BindVisibilityPlugin_60_9_$1,"transformer",function(contents){return contents&&contents.length===0});label_57_5_$1.plugins=[ui_BindVisibilityPlugin_60_9_$1];var editor_ContentGridPanel_64_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.components.ContentGridPanel,{});editor_ContentGridPanel_64_5_$1.itemId=net.jangaroo.ext.Exml.asString(DerivedContentsList.REFERRER_GRID_ITEM_ID);
AS3.setBindable(editor_ContentGridPanel_64_5_$1,"bindTo",this.getDerivedContentsExpression(AS3.getBindable(config,"bindTo")));var ui_BindVisibilityPlugin_67_9_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_67_9_$1.bindTo=this.getDerivedContentsExpression(AS3.getBindable(config,"bindTo"));AS3.setBindable(ui_BindVisibilityPlugin_67_9_$1,"transformer",function(contents){return contents&&contents.length>0});editor_ContentGridPanel_64_5_$1.plugins=[ui_BindVisibilityPlugin_67_9_$1];
editor_ContentGridPanel_64_5_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var editor_ThumbnailColumn_72_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.columns.grid.ThumbnailColumn,{});AS3.setBindable(editor_ThumbnailColumn_72_9_$1,"hidden",!AS3.getBindable(config,"showThumbnails"));var editor_TypeIconColumn_73_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.columns.grid.TypeIconColumn,{});var editor_NameTranslationStatusColumn_74_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.sites.NameTranslationStatusColumn,
{});AS3.setBindable(editor_NameTranslationStatusColumn_74_9_$1,"role",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.sites.NameTranslationStatusColumn.STATUS_ROLE_PROVIDER));var gridColumn_75_9_$1=AS3.cast(Ext.grid.column.Column,{});gridColumn_75_9_$1.dataIndex="siteLocale";AS3.setBindable(gridColumn_75_9_$1,"width",180);var editor_StatusColumn_77_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.columns.grid.StatusColumn,{});editor_ContentGridPanel_64_5_$1.columns=[editor_ThumbnailColumn_72_9_$1,
editor_TypeIconColumn_73_9_$1,editor_NameTranslationStatusColumn_74_9_$1,gridColumn_75_9_$1,editor_StatusColumn_77_9_$1];var menu_81_9_$1=AS3.cast(Ext.menu.Menu,{});menu_81_9_$1.plain=true;var menuItem_83_13_$1=AS3.cast(Ext.menu.Item,{});menuItem_83_13_$1.itemId="masterComparison";var editor_OpenMasterComparisonAction_85_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.sites.OpenMasterComparisonAction,{});AS3.setBindable(editor_OpenMasterComparisonAction_85_17_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.components.ContentGridPanel.SELECTED_ITEMS_VARIABLE_NAME));
menuItem_83_13_$1.baseAction=new com.coremedia.cms.editor.sdk.sites.OpenMasterComparisonAction(editor_OpenMasterComparisonAction_85_17_$1);var menuItem_90_13_$1=AS3.cast(Ext.menu.Item,{});var editor_ShowInRepositoryAction_92_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction,{});AS3.setBindable(editor_ShowInRepositoryAction_92_17_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.components.ContentGridPanel.SELECTED_ITEMS_VARIABLE_NAME));menuItem_90_13_$1.baseAction=
new com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction(editor_ShowInRepositoryAction_92_17_$1);var menuItem_96_13_$1=AS3.cast(Ext.menu.Item,{});var editor_CopyToClipboardAction_98_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction,{});AS3.setBindable(editor_CopyToClipboardAction_98_17_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.components.ContentGridPanel.SELECTED_ITEMS_VARIABLE_NAME));menuItem_96_13_$1.baseAction=new com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction(editor_CopyToClipboardAction_98_17_$1);
menu_81_9_$1.items=[menuItem_83_13_$1,menuItem_90_13_$1,menuItem_96_13_$1];AS3.setBindable(editor_ContentGridPanel_64_5_$1,"contextMenu",menu_81_9_$1);var ui_DataField_106_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_106_9_$1.name="translationStatus";ui_DataField_106_9_$1.ifUnreadable="";ui_DataField_106_9_$1.ifError="";ui_DataField_106_9_$1.mapping="";ui_DataField_106_9_$1["convert"]=AS3.bind(this,"getProviderTranslationStatus");var ui_DataField_111_9_$1=AS3.cast(com.coremedia.ui.store.DataField,
{});ui_DataField_111_9_$1.name="siteLocale";ui_DataField_111_9_$1.mapping="";ui_DataField_111_9_$1.ifUnreadable="";ui_DataField_111_9_$1["convert"]=AS3.bind(this,"getSiteLocaleNameFor");AS3.setBindable(editor_ContentGridPanel_64_5_$1,"additionalFields",[ui_DataField_106_9_$1,ui_DataField_111_9_$1]);config_$1.items=[label_57_5_$1,editor_ContentGridPanel_64_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$G4nP(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.sites.DerivedContentsListBase",
metadata:{"":["PublicApi"]},alias:"widget.com.coremedia.cms.editor.sdk.config.derivedContentsList",constructor:DerivedContentsList$,super$G4nP:function(){com.coremedia.cms.editor.sdk.sites.DerivedContentsListBase.prototype.constructor.apply(this,arguments)},config:{showThumbnails:false,bindTo:null},statics:{MESSAGE_LABEL_ITEM_ID:"messageLabel",REFERRER_GRID_ITEM_ID:"referrerGrid"},requires:["Ext.form.Label","Ext.grid.column.Column","Ext.layout.container.VBox","Ext.menu.Item","Ext.menu.Menu","com.coremedia.cms.editor.Editor_properties",
"com.coremedia.cms.editor.sdk.sites.DerivedContentsListBase","com.coremedia.ui.plugins.BindVisibilityPlugin","com.coremedia.ui.store.DataField","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction","com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction","com.coremedia.cms.editor.sdk.columns.grid.StatusColumn","com.coremedia.cms.editor.sdk.columns.grid.ThumbnailColumn","com.coremedia.cms.editor.sdk.columns.grid.TypeIconColumn","com.coremedia.cms.editor.sdk.components.ContentGridPanel",
"com.coremedia.cms.editor.sdk.sites.NameTranslationStatusColumn","com.coremedia.cms.editor.sdk.sites.OpenMasterComparisonAction"]}});Ext.define("com.coremedia.cms.editor.sdk.sites.OpenSiteHomepageInTabActionBase",function(OpenSiteHomepageInTabActionBase){function OpenSiteHomepageInTabActionBase$(config){if(arguments.length<=0)config=null;this.super$BQ5y(AS3.cast(com.coremedia.cms.editor.sdk.sites.OpenSiteHomepageInTabAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,"openSiteHomepageInTab",{handler:AS3.bind(this,"openSiteHomepageInTab$BQ5y")})))}function getSite(contents){if(!contents||contents.length!==
1)return null;var content=AS3.as(contents[0],com.coremedia.cap.content.Content);if(!content)return null;var site=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getSiteFor(content);if(!site)return null;return content===site.getSiteRootFolder()?site:null}function isHiddenFor(contents){return!this.getSite$BQ5y(contents)}function openSiteHomepageInTab(){var siteRootDocument=this.getSite$BQ5y(this.getContents()).getSiteRootDocument();com.coremedia.cms.editor.sdk.editorContext.getContentTabManager().openDocument(siteRootDocument)}
return{extend:"com.coremedia.cms.editor.sdk.actions.ContentAction",constructor:OpenSiteHomepageInTabActionBase$,super$BQ5y:function(){com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.constructor.apply(this,arguments)},getSite$BQ5y:getSite,isHiddenFor:isHiddenFor,openSiteHomepageInTab$BQ5y:openSiteHomepageInTab,requires:["com.coremedia.cap.content.Content","com.coremedia.cms.editor.sdk.actions.ContentAction"],uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil","com.coremedia.cms.editor.sdk.editorContext",
"com.coremedia.cms.editor.sdk.sites.OpenSiteHomepageInTabAction"]}});Ext.define("com.coremedia.cms.editor.sdk.sites.SiteModelImpl",function(SiteModelImpl){function SiteModelImpl$(path){this.super$93ic(path)}function getSiteIndicatorDocumentType(){return this.get(com.coremedia.cms.editor.sdk.sites.SitesPropertyNames.SITE_INDICATOR_DOCUMENT_TYPE)}function getSiteIndicatorDepth(){return this.get(com.coremedia.cms.editor.sdk.sites.SitesPropertyNames.SITE_INDICATOR_DEPTH)}function getIdProperty(){return this.get(com.coremedia.cms.editor.sdk.sites.SitesPropertyNames.ID_PROPERTY)}
function getRootProperty(){return this.get(com.coremedia.cms.editor.sdk.sites.SitesPropertyNames.ROOT_PROPERTY)}function getMasterProperty(){return this.get(com.coremedia.cms.editor.sdk.sites.SitesPropertyNames.MASTER_PROPERTY)}function getMasterVersionProperty(){return this.get(com.coremedia.cms.editor.sdk.sites.SitesPropertyNames.MASTER_VERSION_PROPERTY)}function getIgnoreUpdatesProperty(){return this.get(com.coremedia.cms.editor.sdk.sites.SitesPropertyNames.IGNORE_UPDATES_PROPERTY)}function getLocaleProperty(){return this.get(com.coremedia.cms.editor.sdk.sites.SitesPropertyNames.LOCALE_PROPERTY)}
function getSiteManagerGroupProperty(){return this.get(com.coremedia.cms.editor.sdk.sites.SitesPropertyNames.SITE_MANAGER_GROUP_PROPERTY)}function getTranslationManagerRole(){return this.get(com.coremedia.cms.editor.sdk.sites.SitesPropertyNames.TRANSLATION_MANAGER_ROLE)}function getUriSegmentPattern(){return this.get(com.coremedia.cms.editor.sdk.sites.SitesPropertyNames.URI_SEGMENT_PATTERN_PROPERTY)}function getSiteManagerGroupPattern(){return this.get(com.coremedia.cms.editor.sdk.sites.SitesPropertyNames.SITE_MANAGER_GROUP_PATTERN_PROPERTY)}
function getNameProperty(){return this.get(com.coremedia.cms.editor.sdk.sites.SitesPropertyNames.NAME_PROPERTY)}function getTranslationWorkflowRobotUser(){return this.get(com.coremedia.cms.editor.sdk.sites.SitesPropertyNames.TRANSLATION_WORKFLOW_ROBOT_USER)}function getTranslationSettingsDocumentType(){return this.get("translationSettingsDocumentType")}function getTranslationSettingsPath(){return this.get("translationSettingsPath")}function getTranslationSettingsProperty(){return this.get("translationSettingsProperty")}
return{extend:"com.coremedia.ui.data.impl.RemoteBeanImpl",mixins:["com.coremedia.cms.editor.sdk.sites.SiteModel"],metadata:{"":["RestResource",["uriTemplate","sites/model"]]},constructor:SiteModelImpl$,super$93ic:function(){com.coremedia.ui.data.impl.RemoteBeanImpl.prototype.constructor.apply(this,arguments)},getSiteIndicatorDocumentType:getSiteIndicatorDocumentType,getSiteIndicatorDepth:getSiteIndicatorDepth,getIdProperty:getIdProperty,getRootProperty:getRootProperty,getMasterProperty:getMasterProperty,
getMasterVersionProperty:getMasterVersionProperty,getIgnoreUpdatesProperty:getIgnoreUpdatesProperty,getLocaleProperty:getLocaleProperty,getSiteManagerGroupProperty:getSiteManagerGroupProperty,getTranslationManagerRole:getTranslationManagerRole,getUriSegmentPattern:getUriSegmentPattern,getSiteManagerGroupPattern:getSiteManagerGroupPattern,getNameProperty:getNameProperty,getTranslationWorkflowRobotUser:getTranslationWorkflowRobotUser,getTranslationSettingsDocumentType:getTranslationSettingsDocumentType,
getTranslationSettingsPath:getTranslationSettingsPath,getTranslationSettingsProperty:getTranslationSettingsProperty,requires:["com.coremedia.cms.editor.sdk.sites.SiteModel","com.coremedia.ui.data.impl.RemoteBeanImpl"],uses:["com.coremedia.cms.editor.sdk.sites.SitesPropertyNames"]}});Ext.define("com.coremedia.cms.editor.sdk.sites.OpenMasterComparisonActionBase",function(OpenMasterComparisonActionBase){function OpenMasterComparisonActionBase$(config){if(arguments.length<=0)config=null;var actionName="openInTab";this.super$MOqu(AS3.cast(com.coremedia.cms.editor.sdk.sites.OpenMasterComparisonAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,actionName,{handler:AS3.bind(this,"openInTab$MOqu")})))}function removeComponent(comp){com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.removeComponent.call(this,
comp);if(this.items.length===0)this.componentStateExpression$MOqu.removeChangeListener(AS3.bind(this,"updateComponents$MOqu"))}function addComponent(comp){com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.addComponent.call(this,comp);if(this.items.length===1){this.componentStateExpression$MOqu=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"getComponentState$MOqu"));this.componentStateExpression$MOqu.addChangeListener(AS3.bind(this,"updateComponents$MOqu"))}this.updateComponents$MOqu()}
function updateComponents(){this.setText(this.componentStateExpression$MOqu.getValue())}function getComponentState(){var contents=this.getContents();if(contents===undefined||contents.length!==1||com.coremedia.cms.editor.sdk.translate.TranslationStatusUtil.getTranslationStatus(contents[0])!==com.coremedia.cms.editor.sdk.translate.TranslationStatusUtil.NOT_UP_TO_DATE)return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.actions.Actions","Action_openInTab_text");else return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.sites.LocalizationManager",
"Action_openMasterComparison_text")}function isDisabledFor(contents){var notAvailable=!contents.every(com.coremedia.cms.editor.sdk.desktop.ComponentBasedEntityWorkAreaTabType.canBeOpenedInTab);return notAvailable||contents.length===1&&contents[0]===com.coremedia.cms.editor.sdk.desktop.WorkArea.ACTIVE_CONTENT_VALUE_EXPRESSION.getValue()}function openInTab(contents){var myContents=AS3.is(contents,Array)&&contents||this.getContents();if(!this.isDisabledFor(myContents))com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(getTabStates$static,
myContents).loadValue(function(tabStates){com.coremedia.cms.editor.sdk.editorContext.getWorkAreaTabManager().openTabs(tabStates,false)})}function getTabStates$static(myContents){var result=[];for(var i=0;i<myContents.length;i++){var derived=myContents[i];var master=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getMaster(derived);if(master===undefined)return undefined;if(master){var tabState=AS3.cast(com.coremedia.cms.editor.sdk.premular.Premular,{});var checkedIn=master.isCheckedIn();
if(checkedIn===undefined)return undefined;if(com.coremedia.cms.editor.sdk.translate.TranslationStatusUtil.getTranslationStatus(derived)===com.coremedia.cms.editor.sdk.translate.TranslationStatusUtil.NOT_UP_TO_DATE)if(checkedIn)AS3.setBindable(tabState,"readOnlyContentObject",master.getCheckedInVersion());else AS3.setBindable(tabState,"readOnlyContentObject",master.getCheckedOutVersion());tabState.content=derived;result.push(tabState)}}return result}return{extend:"com.coremedia.cms.editor.sdk.actions.ContentAction",
metadata:{"":["PublicApi"]},componentStateExpression$MOqu:null,constructor:OpenMasterComparisonActionBase$,super$MOqu:function(){com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.constructor.apply(this,arguments)},removeComponent:removeComponent,addComponent:addComponent,updateComponents$MOqu:updateComponents,getComponentState$MOqu:getComponentState,isDisabledFor:isDisabledFor,openInTab$MOqu:openInTab,requires:["com.coremedia.cms.editor.sdk.actions.Actions_properties","com.coremedia.cms.editor.sdk.actions.ContentAction",
"com.coremedia.cms.editor.sdk.sites.LocalizationManager_properties","com.coremedia.ui.data.ValueExpressionFactory","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil","com.coremedia.cms.editor.sdk.desktop.ComponentBasedEntityWorkAreaTabType","com.coremedia.cms.editor.sdk.desktop.WorkArea","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.premular.Premular","com.coremedia.cms.editor.sdk.sites.OpenMasterComparisonAction","com.coremedia.cms.editor.sdk.translate.TranslationStatusUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.sites.SitesRemoteBean",function(SitesRemoteBean){var PATH$static="sites";var SITE_TRANSLATION_STRATEGY_MAP_PATH$static;function SITE_TRANSLATION_STRATEGY_MAP_PATH$static_(){SITE_TRANSLATION_STRATEGY_MAP_PATH$static=PATH$static+"/siteTranslationStrategyMap"}function SitesRemoteBean$(){this.super$VVa6(PATH$static)}function getValidateUriSegmentUri(){return this.get("validateUriSegmentUri")}function getSiteModel(){return this.get("siteModel")}function getSiteTranslationStrategyMap$static(){var remoteBean=
com.coremedia.ui.data.beanFactory.getRemoteBean(SITE_TRANSLATION_STRATEGY_MAP_PATH$static);switch(com.coremedia.ui.data.RemoteBeanUtil.isAccessible(remoteBean)){case undefined:return undefined;case false:return null;case true:return remoteBean;default:return undefined}}return{extend:"com.coremedia.ui.data.impl.RemoteBeanImpl",constructor:SitesRemoteBean$,super$VVa6:function(){com.coremedia.ui.data.impl.RemoteBeanImpl.prototype.constructor.apply(this,arguments)},getValidateUriSegmentUri:getValidateUriSegmentUri,
getSiteModel:getSiteModel,statics:{SITE_TRANSLATION_STRATEGY_MAP_PATH:undefined,getSiteTranslationStrategyMap:getSiteTranslationStrategyMap$static,__initStatics__:function(){SITE_TRANSLATION_STRATEGY_MAP_PATH$static_()}},requires:["com.coremedia.ui.data.RemoteBeanUtil","com.coremedia.ui.data.beanFactory","com.coremedia.ui.data.impl.RemoteBeanImpl"]}});Ext.define("com.coremedia.cms.editor.sdk.sites.SitesPropertyNames",function(SitesPropertyNames){function SitesPropertyNames$(){}return{constructor:SitesPropertyNames$,statics:{SITE_INDICATOR_DOCUMENT_TYPE:"siteIndicatorDocumentType",SITE_INDICATOR_DEPTH:"siteIndicatorDepth",ROOT_PROPERTY:"rootProperty",ID_PROPERTY:"idProperty",MASTER_PROPERTY:"masterProperty",MASTER_VERSION_PROPERTY:"masterVersionProperty",IGNORE_UPDATES_PROPERTY:"ignoreUpdatesProperty",LOCALE_PROPERTY:"localeProperty",SITE_MANAGER_GROUP_PROPERTY:"siteManagerGroupProperty",
TRANSLATION_MANAGER_ROLE:"translationManagerRole",URI_SEGMENT_PATTERN_PROPERTY:"uriSegmentPattern",SITE_MANAGER_GROUP_PATTERN_PROPERTY:"siteManagerGroupPattern",NAME_PROPERTY:"nameProperty",TRANSLATION_WORKFLOW_ROBOT_USER:"translationWorkflowRobotUser"}}});Ext.define("com.coremedia.cms.editor.sdk.sites.DerivedContentsListBase",function(DerivedContentsListBase){function DerivedContentsListBase$(config){if(arguments.length<=0)config=null;this.super$F$BA(config)}function getDerivedContentsExpression(bindTo){if(!this.derivedContentsExpression$F$BA)this.derivedContentsExpression$F$BA=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"computeDerivedContents$F$BA"),bindTo);return this.derivedContentsExpression$F$BA}function computeDerivedContents(bindTo){var this$=
this;var content=bindTo.getValue();if(content===undefined)return undefined;var siteContents=com.coremedia.cms.editor.sdk.sites.ContentSiteUtil.getDerivedContentsAndSites(content);if(siteContents===undefined)return undefined;siteContents.sort(function(sc1,sc2){var locale1=this$.getLocaleDisplayName$F$BA(sc1.site);var locale2=this$.getLocaleDisplayName$F$BA(sc2.site);var content1=AS3.cast(com.coremedia.cap.content.Content,sc1.content);var name1=content1.getName();var content2=AS3.cast(com.coremedia.cap.content.Content,
sc2.content);var name2=content2.getName();return locale1.toLowerCase().localeCompare(locale2.toLocaleLowerCase())||locale1.localeCompare(locale2)||name1.toLowerCase().localeCompare(name2.toLocaleLowerCase())||name1.localeCompare(name2)||com.coremedia.cap.common.IdHelper.parseContentId(content1)-com.coremedia.cap.common.IdHelper.parseContentId(content2)});return siteContents.map(function(sc){return sc.content})}function getProviderTranslationStatus(content){if(this.isInTranslation$F$BA(content))return com.coremedia.cms.editor.sdk.translate.TranslationStatusUtil.PSEUDO_STATE_IN_TRANSLATION;
else return com.coremedia.cms.editor.sdk.translate.TranslationStatusUtil.getTranslationStatus(content)}function isInTranslation(content){var mergeVersions=AS3.cast(com.coremedia.cap.undoc.content.Content,content).getMergeVersions();return mergeVersions&&mergeVersions.length>0}function getSiteLocaleNameFor(content){var site=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getSiteFor(content);if(site===undefined)return undefined;return this.getLocaleDisplayName$F$BA(site)}function getLocaleDisplayName(site){if(!site)return"";
var locale=site.getLocale();if(!locale)return"";return locale.getDisplayName()}return{extend:"Ext.form.FieldContainer",metadata:{"":["PublicApi"]},derivedContentsExpression$F$BA:null,constructor:DerivedContentsListBase$,super$F$BA:function(){Ext.form.FieldContainer.prototype.constructor.apply(this,arguments)},getDerivedContentsExpression:getDerivedContentsExpression,computeDerivedContents$F$BA:computeDerivedContents,getProviderTranslationStatus:getProviderTranslationStatus,isInTranslation$F$BA:isInTranslation,
getSiteLocaleNameFor:getSiteLocaleNameFor,getLocaleDisplayName$F$BA:getLocaleDisplayName,requires:["Ext.form.FieldContainer","com.coremedia.cap.common.IdHelper","com.coremedia.cap.content.Content","com.coremedia.cap.undoc.content.Content","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.sites.ContentSiteUtil","com.coremedia.cms.editor.sdk.translate.TranslationStatusUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.sites.SiteImpl",function(SiteImpl){function SiteImpl$(siteId,siteRootFolder,masterSiteId,siteIndicator,siteRootDocument,name,locale,siteManagerGroup,managedByCurrentUser,underConstruction,translationStrategy){if(arguments.length<=10)translationStrategy=com.coremedia.cms.editor.sdk.sites.TranslationStrategy.LANG_TRANSLATION;this.siteId$Ted3=siteId;this.siteRootFolder$Ted3=siteRootFolder;this.masterSiteId$Ted3=masterSiteId;this.siteIndicator$Ted3=siteIndicator;
this.siteRootDocument$Ted3=siteRootDocument;this.name$Ted3=name;this.locale$Ted3=locale;this.siteManagerGroup$Ted3=siteManagerGroup;this.managedByCurrentUser$Ted3=managedByCurrentUser;this.translationStrategy$Ted3=translationStrategy;this.underConstruction$Ted3=underConstruction}function getId(){return this.siteId$Ted3}function getSiteRootFolder(){return this.siteRootFolder$Ted3}function getMasterSiteId(){return this.masterSiteId$Ted3}function getMasterSite(){return this.masterSiteId$Ted3?com.coremedia.cms.editor.sdk.editorContext.getSitesService().getSite(this.masterSiteId$Ted3):
null}function getSiteIndicator(){return this.siteIndicator$Ted3}function getSiteRootDocument(){return this.siteRootDocument$Ted3}function getName(){return this.name$Ted3}function getLocale(){return this.locale$Ted3}function getDerivedSites(){return this.derivedSites$Ted3}function isUnderConstruction(){return this.underConstruction$Ted3}function getSiteManagerGroup(){return this.siteManagerGroup$Ted3}function isManagedByCurrentUser(){return this.managedByCurrentUser$Ted3}function getTranslationStrategy(){return this.translationStrategy$Ted3}
function isSynchronizationTargetSite(){return com.coremedia.cms.editor.sdk.sites.TranslationStrategy.SYNC===this.translationStrategy$Ted3}function isLanguageTranslationTargetSite(){return com.coremedia.cms.editor.sdk.sites.TranslationStrategy.LANG_TRANSLATION===this.translationStrategy$Ted3}function getAllMasterSiteIds(){return this.allMasterSiteIds$Ted3}function clearMasterSiteId(){this.masterSiteId$Ted3=null}function setAllMasterSiteIds(value){this.allMasterSiteIds$Ted3=value}function setDerivedSites(value){this.derivedSites$Ted3=
value}function allFieldsEqual(that){return this.siteId$Ted3===that.siteId$Ted3&&this.siteRootFolder$Ted3===that.siteRootFolder$Ted3&&this.masterSiteId$Ted3===that.masterSiteId$Ted3&&this.siteIndicator$Ted3===that.siteIndicator$Ted3&&this.siteRootDocument$Ted3===that.siteRootDocument$Ted3&&this.name$Ted3===that.name$Ted3&&this.locale$Ted3.equals(that.locale$Ted3)&&com.coremedia.ui.util.ObjectUtils.equal(this.allMasterSiteIds$Ted3,that.allMasterSiteIds$Ted3)&&this.derivedSitesEqual$Ted3(that)&&this.underConstruction$Ted3===
that.underConstruction$Ted3&&this.siteManagerGroup$Ted3===that.siteManagerGroup$Ted3&&this.managedByCurrentUser$Ted3===that.managedByCurrentUser$Ted3&&this.translationStrategy$Ted3===that.translationStrategy$Ted3}function derivedSitesEqual(that){if(this.derivedSites$Ted3.length!==that.derivedSites$Ted3.length)return false;for(var i=0;i<this.derivedSites$Ted3.length;i++)if(this.derivedSites$Ted3[i].siteId!==that.derivedSites$Ted3[i].siteId)return false;return true}return{mixins:["com.coremedia.cms.editor.sdk.sites.Site"],
siteId$Ted3:null,siteRootFolder$Ted3:null,masterSiteId$Ted3:null,siteIndicator$Ted3:null,siteRootDocument$Ted3:null,name$Ted3:null,locale$Ted3:null,allMasterSiteIds$Ted3:null,derivedSites$Ted3:null,underConstruction$Ted3:false,siteManagerGroup$Ted3:null,managedByCurrentUser$Ted3:false,translationStrategy$Ted3:null,constructor:SiteImpl$,getId:getId,getSiteRootFolder:getSiteRootFolder,getMasterSiteId:getMasterSiteId,getMasterSite:getMasterSite,getSiteIndicator:getSiteIndicator,getSiteRootDocument:getSiteRootDocument,
getName:getName,getLocale:getLocale,getDerivedSites:getDerivedSites,isUnderConstruction:isUnderConstruction,getSiteManagerGroup:getSiteManagerGroup,isManagedByCurrentUser:isManagedByCurrentUser,getTranslationStrategy:getTranslationStrategy,isSynchronizationTargetSite:isSynchronizationTargetSite,isLanguageTranslationTargetSite:isLanguageTranslationTargetSite,getAllMasterSiteIds:getAllMasterSiteIds,clearMasterSiteId:clearMasterSiteId,setAllMasterSiteIds:setAllMasterSiteIds,setDerivedSites:setDerivedSites,
allFieldsEqual:allFieldsEqual,derivedSitesEqual$Ted3:derivedSitesEqual,requires:["com.coremedia.cms.editor.sdk.sites.Site","com.coremedia.ui.util.ObjectUtils"],uses:["com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.sites.TranslationStrategy"]}});Ext.define("com.coremedia.cms.editor.sdk.sites.OpenMasterComparisonAction",function(OpenMasterComparisonAction){function OpenMasterComparisonAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.sites.OpenMasterComparisonActionBase,{});var defaults_$1=AS3.cast(OpenMasterComparisonAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$D4t7(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.sites.OpenMasterComparisonActionBase",
metadata:{"":["PublicApi"]},constructor:OpenMasterComparisonAction$,super$D4t7:function(){com.coremedia.cms.editor.sdk.sites.OpenMasterComparisonActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.sites.OpenMasterComparisonActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.sites.CloneSiteErrorDialogBase",function(CloneSiteErrorDialogBase){function CloneSiteErrorDialogBase$(config){if(arguments.length<=0)config=null;this.super$Xbqv(config)}function close(){try{this.initialConfig.callback&&this.initialConfig.callback()}finally{com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.close.call(this)}}return{extend:"com.coremedia.cms.editor.sdk.components.StudioDialog",constructor:CloneSiteErrorDialogBase$,super$Xbqv:function(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.constructor.apply(this,
arguments)},close:close,requires:["com.coremedia.cms.editor.sdk.components.StudioDialog"]}});Ext.define("com.coremedia.cms.editor.sdk.sites.SitesTreeModel",function(SitesTreeModel){function SitesTreeModel$(sitesService){this.sitesService$gU0x=sitesService}function getSitesService(){return this.sitesService$gU0x}function getRootId(){return SitesTreeModel.ARTIFICIAL_ROOT_ID}function isRootVisible(){return false}function getIdPathFromModel(model){var site=AS3.as(model,com.coremedia.cms.editor.sdk.sites.Site);if(!site)return[];var path=[site.getId()];var currentSite=site;while(currentSite){var master=
currentSite.getMasterSite();if(master===undefined)return undefined;master&&path.push(master.getId());currentSite=master}return path.reverse()}function computeNodeText$static(site){var displayName=site.getLocale().getDisplayName();var languageTag=site.getLocale().getLanguageTag();var name=site.getName();if(site.getMasterSite())return Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.sites.LocalizationManager","Tree_site_child_name_pattern"),name,languageTag,
displayName);else return Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.sites.LocalizationManager","Tree_site_topLevel_name_pattern"),name,languageTag,displayName)}function getText(nodeId){if(nodeId===SitesTreeModel.ARTIFICIAL_ROOT_ID)return"";var sites=this.sitesService$gU0x.getSitesById();if(!sites)return undefined;var site=sites[nodeId];if(!site)return"";return computeNodeText$static(site)}function getIconCls(nodeId){return undefined}function getTextCls(nodeId){return""}
function getChildren(nodeId){var sites=this.sitesService$gU0x.getSitesById();if(!sites)return undefined;var isArtificialRoot=nodeId===SitesTreeModel.ARTIFICIAL_ROOT_ID;var expectedMasterSiteId=isArtificialRoot?null:nodeId;var childIds=[];var iconsByChildId={};var textsByChildId={};var isLeafByChildId={};for(var $1 in sites){var site=sites[$1];if(site.getMasterSiteId()===expectedMasterSiteId&&this.includeChild(site)){var id=site.getId();childIds.push(id);textsByChildId[id]=computeNodeText$static(site);
iconsByChildId[id]=com.coremedia.cms.editor.sdk.sites.ContentSiteUtil.getSiteIconCls(site);isLeafByChildId[id]=site.isUnderConstruction()}}childIds.sort(function(id1,id2){var text1=textsByChildId[id1];var text2=textsByChildId[id2];if(text1<text2)return-1;else if(text1>text2)return 1;else return 0});return new com.coremedia.ui.models.NodeChildren(childIds,textsByChildId,iconsByChildId,null,isLeafByChildId)}function includeChild(site){return true}function getIdPath(nodeId){if(nodeId==SitesTreeModel.ARTIFICIAL_ROOT_ID)return[SitesTreeModel.ARTIFICIAL_ROOT_ID];
var sitesById=this.sitesService$gU0x.getSitesById();if(!sitesById)return undefined;var site=sitesById[nodeId];if(!site)return[SitesTreeModel.ARTIFICIAL_ROOT_ID,nodeId];return[SitesTreeModel.ARTIFICIAL_ROOT_ID].concat(site.getAllMasterSiteIds())}function getNodeId(entity){var site=AS3.as(entity,com.coremedia.cms.editor.sdk.sites.Site);return site&&site.getId()}function getNodeModel(nodeId){if(nodeId===SitesTreeModel.ARTIFICIAL_ROOT_ID)return undefined;var sites=this.sitesService$gU0x.getSitesById();
if(!sites)return undefined;return sites[nodeId]}function isEditable(model){return false}function rename(model,newName,oldName,callback){}return{mixins:["com.coremedia.ui.models.TreeModel"],sitesService$gU0x:null,constructor:SitesTreeModel$,getSitesService:getSitesService,getRootId:getRootId,isRootVisible:isRootVisible,getIdPathFromModel:getIdPathFromModel,getText:getText,getIconCls:getIconCls,getTextCls:getTextCls,getChildren:getChildren,includeChild:includeChild,getIdPath:getIdPath,getNodeId:getNodeId,
getNodeModel:getNodeModel,isEditable:isEditable,rename:rename,statics:{ARTIFICIAL_ROOT_ID:"root"},requires:["Ext.String","com.coremedia.cms.editor.sdk.sites.LocalizationManager_properties","com.coremedia.ui.models.NodeChildren","com.coremedia.ui.models.TreeModel","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.sites.ContentSiteUtil","com.coremedia.cms.editor.sdk.sites.Site"]}});Ext.define("com.coremedia.cms.editor.sdk.sites.CloneSiteWindowBase",function(CloneSiteWindowBase){var DERIVE_SITE_PROCESS_DEFINITION_NAME$static="DeriveSite";function CloneSiteWindowBase$(config){if(arguments.length<=0)config=null;this.super$ypC9(config);this.sitesService$ypC9=AS3.getBindable(config,"sitesService");this.site$ypC9=AS3.cast(com.coremedia.cms.editor.sdk.sites.SiteImpl,this.sitesService$ypC9.getSite(AS3.getBindable(config,"siteId")))}function getModel(){if(!this.model$ypC9){this.model$ypC9=
com.coremedia.ui.data.beanFactory.createLocalBean();this.model$ypC9.addPropertyChangeListener(CloneSiteWindowBase.MODEL_LOCALE,AS3.bind(this,"paramsChanged"))}return this.model$ypC9}function afterRender(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.afterRender.call(this);this.getModel().set(CloneSiteWindowBase.MODEL_LOCALE,this.site$ypC9.getLocale().getLanguageTag());this.onChange$ypC9()}function onDestroy(){this.getModel().removePropertyChangeListener(CloneSiteWindowBase.MODEL_LOCALE,
AS3.bind(this,"paramsChanged"));com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.onDestroy.call(this)}function keyPressed(textfield,e){if(e.getKey()==Ext.event.Event.ENTER){if(!this.disabledExpression$ypC9.getValue())this.deriveSite();e.stopEvent()}}function deriveSite(){var this$=this;var workflowVariables={"masterSiteId":this.site$ypC9.getId(),"targetLocale":this.getModel().get(CloneSiteWindowBase.MODEL_LOCALE),"targetUriSegment":this.getModel().get(CloneSiteWindowBase.MODEL_URI_SEGMENT),
"targetSiteManagerGroup":this.getModel().get(CloneSiteWindowBase.MODEL_SITE_MANAGER_GROUP),"translationStrategy":this.getModel().get(CloneSiteWindowBase.TRANSLATION_STRATEGY)};com.coremedia.cms.editor.sdk.util.WorkflowUtils.startProcess(DERIVE_SITE_PROCESS_DEFINITION_NAME$static,workflowVariables,function(process,error){if(arguments.length<=1)error=null;if(error){com.coremedia.cms.editor.sdk.util.WorkflowUtils.showStartProcessErrorDialog();return}new com.coremedia.cms.editor.sdk.sites.CloneSiteProcessMonitor(process,
this$.sitesService$ypC9)});this.close()}function getDisabledExpression(){if(!this.disabledExpression$ypC9){this.disabledExpression$ypC9=com.coremedia.ui.data.ValueExpressionFactory.create("disabled",com.coremedia.ui.data.beanFactory.createLocalBean());this.disabledExpression$ypC9.setValue(true);this.getModel().addValueChangeListener(AS3.bind(this,"onChange$ypC9"))}return this.disabledExpression$ypC9}function formatByPattern(pattern){var languageTag=this.getModel().get(CloneSiteWindowBase.MODEL_LOCALE);
if(!languageTag)return"";var locale=com.coremedia.ui.data.Locale.forLanguageTag(languageTag);return Ext.String.format(pattern,this.site$ypC9.getName(),locale.getLanguage(),locale.getCountry()||locale.getLanguage(),locale.getVariant()||locale.getCountry()||locale.getLanguage(),locale.getLanguageTag())}function paramsChanged(pce){var siteModel=this.sitesService$ypC9.getSiteModel();if(siteModel.getUriSegmentPattern())this.getModel().set(CloneSiteWindowBase.MODEL_URI_SEGMENT,this.formatByPattern$ypC9(siteModel.getUriSegmentPattern()).toLocaleLowerCase());
if(siteModel.getSiteManagerGroupPattern())this.getModel().set(CloneSiteWindowBase.MODEL_SITE_MANAGER_GROUP,this.formatByPattern$ypC9(siteModel.getSiteManagerGroupPattern()))}function onChange(){this.getDisabledExpression().setValue(true);var localeValid=this.isLocaleValid$ypC9(this.getModel().get(CloneSiteWindowBase.MODEL_LOCALE));var uriSegmentValid=this.isUriSegmentValid$ypC9(this.getModel().get(CloneSiteWindowBase.MODEL_URI_SEGMENT));var siteManagerGroupValid=this.isSiteManagerGroupValid$ypC9(this.getModel().get(CloneSiteWindowBase.MODEL_SITE_MANAGER_GROUP));
this.highlightFieldIfInvalid$ypC9(CloneSiteWindowBase.LOCALE_FIELD,localeValid,this.resourceManager.getString("com.coremedia.cms.editor.sdk.sites.LocalizationManager","CloneSiteWindow_invalid_locale"));this.highlightFieldIfInvalid$ypC9(CloneSiteWindowBase.URI_SEGMENT_FIELD,uriSegmentValid,this.resourceManager.getString("com.coremedia.cms.editor.sdk.sites.LocalizationManager","CloneSiteWindow_invalid_uriSegment"));this.highlightFieldIfInvalid$ypC9(CloneSiteWindowBase.SITE_MANAGER_GROUP_FIELD,siteManagerGroupValid,
this.resourceManager.getString("com.coremedia.cms.editor.sdk.sites.LocalizationManager","CloneSiteWindow_invalid_siteManagerGroup"));var disabled=!(localeValid&&uriSegmentValid&&siteManagerGroupValid);this.getDisabledExpression().setValue(disabled)}function highlightFieldIfInvalid(field,valid,errorMsg){var component=this.queryById(field);var statefulComponent=AS3.as(component,com.coremedia.ui.mixins.ValidationStateMixin);if(component&&statefulComponent)if(valid){AS3.setBindable(statefulComponent,
"validationState",null);AS3.setBindable(statefulComponent,"validationMessage",null)}else{AS3.setBindable(statefulComponent,"validationState",com.coremedia.ui.mixins.ValidationState.ERROR);AS3.setBindable(statefulComponent,"validationMessage",errorMsg)}}function isLocaleValid(locale){if(!locale||locale.length<=0)return false;var allMasterSiteIds=this.site$ypC9.getAllMasterSiteIds();var masterSite=this.sitesService$ypC9.getSite(allMasterSiteIds[0]);return this.isLocaleAvailableInSiteHierarchy$ypC9(masterSite,
locale)}function isLocaleAvailableInSiteHierarchy(masterSite,locale){if(masterSite.getLocale().getLanguageTag()===locale)return false;var derivedSites=masterSite.getDerivedSites();if(!derivedSites)return true;for(var i=0;i<derivedSites.length;i++){var derivedSite=derivedSites[i];if(!this.isLocaleAvailableInSiteHierarchy$ypC9(derivedSite,locale))return false}return true}function isUriSegmentValid(uriSegment){var this$=this;if(!uriSegment||uriSegment.length===0)return false;if(this.checkedUriSegment$ypC9!==
uriSegment){this.checkedUriSegment$ypC9=uriSegment;this.sitesService$ypC9.validateUriSegment(uriSegment,function(valid){if(this$.checkedUriSegment$ypC9===uriSegment){this$.uriSegmentValid$ypC9=valid;this$.onChange$ypC9()}})}return this.uriSegmentValid$ypC9}function isSiteManagerGroupValid(siteManagerGroup){var this$=this;if(!siteManagerGroup||siteManagerGroup.length===0)return true;if(this.checkedSiteManagerGroup$ypC9!==siteManagerGroup){this.checkedSiteManagerGroup$ypC9=siteManagerGroup;com.coremedia.cap.common.SESSION.getConnection().getUserRepository().getGroupByName(siteManagerGroup,
function(group){if(this$.checkedSiteManagerGroup$ypC9===siteManagerGroup){this$.siteManagerGroupValid$ypC9=!!group;this$.onChange$ypC9()}})}return this.siteManagerGroupValid$ypC9}return{extend:"com.coremedia.cms.editor.sdk.components.StudioDialog",site$ypC9:null,derivedSiteDummy:null,disabledExpression$ypC9:null,checkedUriSegment$ypC9:null,uriSegmentValid$ypC9:false,checkedSiteManagerGroup$ypC9:null,siteManagerGroupValid$ypC9:false,sitesService$ypC9:null,model$ypC9:null,constructor:CloneSiteWindowBase$,
super$ypC9:function(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.constructor.apply(this,arguments)},getModel:getModel,afterRender:afterRender,onDestroy:onDestroy,keyPressed:keyPressed,deriveSite:deriveSite,getDisabledExpression:getDisabledExpression,formatByPattern$ypC9:formatByPattern,paramsChanged:paramsChanged,onChange$ypC9:onChange,highlightFieldIfInvalid$ypC9:highlightFieldIfInvalid,isLocaleValid$ypC9:isLocaleValid,isLocaleAvailableInSiteHierarchy$ypC9:isLocaleAvailableInSiteHierarchy,
isUriSegmentValid$ypC9:isUriSegmentValid,isSiteManagerGroupValid$ypC9:isSiteManagerGroupValid,statics:{LOCALE_FIELD:"localeField",URI_SEGMENT_FIELD:"uriSegmentField",SITE_MANAGER_GROUP_FIELD:"siteManagerGroupField",SITE_IN_SYNC_WITH_MASTER_FIELD:"siteInSyncWithMasterField",OK_BUTTON:"okButton",CANCEL_BUTTON:"cancelButton",MODEL_LOCALE:"locale",MODEL_URI_SEGMENT:"uriSegment",MODEL_SITE_MANAGER_GROUP:"siteManagerGroup",TRANSLATION_STRATEGY:"translationStrategy"},requires:["Ext.String","Ext.event.Event",
"com.coremedia.cap.common.SESSION","com.coremedia.cms.editor.sdk.components.StudioDialog","com.coremedia.cms.editor.sdk.sites.LocalizationManager_properties","com.coremedia.ui.data.Locale","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.beanFactory","com.coremedia.ui.mixins.ValidationState","com.coremedia.ui.mixins.ValidationStateMixin"],uses:["com.coremedia.cms.editor.sdk.sites.CloneSiteProcessMonitor","com.coremedia.cms.editor.sdk.sites.SiteImpl","com.coremedia.cms.editor.sdk.util.WorkflowUtils"]}});Ext.define("com.coremedia.cms.editor.sdk.login.AutoLogout",function(AutoLogout){var MIN_COVER_FRACTION$static=.75;var MAX_COVER_MILLISECONDS$static=3E4;var forcedDelay$static=NaN;function setDelay$static(delay){forcedDelay$static=delay}function init$static(){var actualDelay=forcedDelay$static;if(isNaN(actualDelay)){actualDelay=1E3;var autoLogoutConfiguration=com.coremedia.cms.editor.sdk.editorContext.getConfiguration()["autoLogout"]||{};var delayString=autoLogoutConfiguration["delay"];if(delayString)actualDelay=
Number(delayString)}if(actualDelay){new AutoLogout(actualDelay*1E3);com.coremedia.ui.logging.Logger.debug("Enabled auto logout with timeout "+actualDelay+"s.")}else com.coremedia.ui.logging.Logger.debug("Disabled auto logout.")}function AutoLogout$(delay){this.delay$itzO=delay;this.cover$itzO=Ext.dom.Helper.append(window.document.body,{tag:"img",src:Ext.BLANK_IMAGE_URL,cls:"auto-logout-cover",galleryimg:"no"},true);this.check$itzO()}function check(){var lastActive=com.coremedia.ui.util.ActivityTracker.getInstance().getLastActive().getTime();
var inactiveFor=(new Date).getTime()-lastActive;if(inactiveFor>this.delay$itzO)com.coremedia.cms.editor.sdk.login.LogoutUtil.autoLogout();else{var coverDelay=Math.max(this.delay$itzO*MIN_COVER_FRACTION$static,this.delay$itzO-MAX_COVER_MILLISECONDS$static);if(inactiveFor>=coverDelay&&!this.covering$itzO){this.covering$itzO=true;this.cover$itzO.addCls("auto-logout-cover-on");com.coremedia.ui.util.ActivityTracker.getInstance().on(com.coremedia.ui.util.ActivityTracker.ACTIVITY_DETECTED_EVENT,AS3.bind(this,
"removeCover$itzO"))}var timeToNextTimeout=Math.max(1E3,(this.covering$itzO?this.delay$itzO:coverDelay)-inactiveFor);this.checkTimer$itzO=window.setTimeout(AS3.bind(this,"check$itzO"),timeToNextTimeout)}}function removeCover(){this.covering$itzO=false;this.cover$itzO.removeCls("auto-logout-cover-on");com.coremedia.ui.util.ActivityTracker.getInstance().un(com.coremedia.ui.util.ActivityTracker.ACTIVITY_DETECTED_EVENT,AS3.bind(this,"removeCover$itzO"));window.clearTimeout(this.checkTimer$itzO);this.check$itzO()}
return{delay$itzO:NaN,cover$itzO:null,covering$itzO:false,checkTimer$itzO:null,constructor:AutoLogout$,check$itzO:check,removeCover$itzO:removeCover,statics:{setDelay:setDelay$static,init:init$static},requires:["Ext","Ext.dom.Helper","com.coremedia.ui.logging.Logger","com.coremedia.ui.util.ActivityTracker"],uses:["com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.login.LogoutUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.login.LoginUtil",function(LoginUtil){var PARAMETER_LOGIN_NAME$static="login-name";var PARAMETER_LOGIN_PWD$static="login-pwd";var PARAMETER_LOGIN_DOMAIN$static="login-domain";function autoLogin$static(capLoginService,callback){var hashParamModel=com.coremedia.ui.util.WindowUtil.getHashParamsAsObject();var userName=hashParamModel[PARAMETER_LOGIN_NAME$static];if(userName){var pwd=hashParamModel[PARAMETER_LOGIN_PWD$static];var domain=hashParamModel[PARAMETER_LOGIN_DOMAIN$static];
window.location.href=window.location.href.replace(PARAMETER_LOGIN_NAME$static,"logout-name");capLoginService.login(userName,domain||"",pwd,callback)}else callback(null)}function preload$static(callback){if(arguments.length<=0)callback=null;var user=com.coremedia.cap.common.SESSION.getUser();user.load(userLoaded);function userLoaded(){com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){return AS3.cast(com.coremedia.cap.user.impl.UserImpl,user).getGroups()}).loadValue(userGroupsLoaded)}
function userGroupsLoaded(){user.loadPreferences(preferencesRetrieved)}function preferencesRetrieved(preferencesStruct,error){if(arguments.length<=1)error=null;if(error)error.setHandled(true);com.coremedia.cms.editor.sdk.EditorContextImpl.getInstance().setPreferences(preferencesStruct);var preferencesStructRemoteBean=AS3.as(preferencesStruct,com.coremedia.ui.data.RemoteBean);if(preferencesStructRemoteBean)preferencesStructRemoteBean.load(preferencesLoaded);else preferencesLoaded()}function preferencesLoaded(){if(callback)callback()}
}function LoginUtil$(){}return{constructor:LoginUtil$,statics:{autoLogin:autoLogin$static,preload:preload$static},requires:["com.coremedia.cap.common.SESSION","com.coremedia.cap.user.impl.UserImpl","com.coremedia.ui.data.RemoteBean","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.util.WindowUtil"],uses:["com.coremedia.cms.editor.sdk.EditorContextImpl"]}});Ext.define("com.coremedia.cms.editor.sdk.login.LogoutUtil",function(LogoutUtil){var AUTO_LOGOUT_DATE$static="autoLogout.date";function logout$static(){com.coremedia.cap.common.SESSION.close();com.coremedia.ui.data.util.FormUtil.submitForm(com.coremedia.ui.data.impl.RemoteService.calculateRequestURI("../logout"))}function autoLogout$static(){com.coremedia.ui.util.LocalStorageUtil.setItem(AUTO_LOGOUT_DATE$static,Ext.util.Format.date(new Date,mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor",
"dateFormat")));LogoutUtil.logout()}function getAndClearAutoLogoutDate$static(){var result=com.coremedia.ui.util.LocalStorageUtil.getItem(AUTO_LOGOUT_DATE$static);com.coremedia.ui.util.LocalStorageUtil.removeItem(AUTO_LOGOUT_DATE$static);return result}function LogoutUtil$(){}return{constructor:LogoutUtil$,statics:{logout:logout$static,autoLogout:autoLogout$static,getAndClearAutoLogoutDate:getAndClearAutoLogoutDate$static},requires:["Ext.util.Format","com.coremedia.cap.common.SESSION","com.coremedia.cms.editor.Editor_properties",
"com.coremedia.ui.data.impl.RemoteService","com.coremedia.ui.data.util.FormUtil","com.coremedia.ui.util.LocalStorageUtil","mx.resources.ResourceManager"]}});Ext.define("com.coremedia.cms.editor.sdk.login.ChangePasswordWindowBase",function(ChangePasswordWindowBase){var ERROR_PASSWORDS_DONT_MATCH$static;function ERROR_PASSWORDS_DONT_MATCH$static_(){ERROR_PASSWORDS_DONT_MATCH$static=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors","changePassword_passwordsDontMatch_text")}var ERROR_INVALID_PASSWORD$static;function ERROR_INVALID_PASSWORD$static_(){ERROR_INVALID_PASSWORD$static=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors",
"changePassword_invalidPassword_text")}var ERROR_NAME$static="errorName";var PASSWORDS_DONT_MATCH$static="PASSWORDS_DONT_MATCH";function createToolTip$static(message){var toolTipCfg=AS3.cast(com.coremedia.cms.editor.sdk.validation.IssuesToolTip,{});AS3.setBindable(toolTipCfg,"validationState",com.coremedia.ui.mixins.ValidationState.ERROR);toolTipCfg.anchor="top";AS3.setBindable(toolTipCfg,"html",message);toolTipCfg.hideDelay=800;return new com.coremedia.cms.editor.sdk.validation.IssuesToolTip(toolTipCfg)}
function invalidRepeatError_(){this.invalidRepeatError$kpYh=createToolTip$static(ERROR_PASSWORDS_DONT_MATCH$static)}function oldPasswordError_(){this.oldPasswordError$kpYh=createToolTip$static(ERROR_INVALID_PASSWORD$static)}function ChangePasswordWindowBase$(config){if(arguments.length<=0)config=null;this.super$kpYh(config);invalidRepeatError_.call(this);oldPasswordError_.call(this);this.on("show",AS3.bind(this,"afterShow$kpYh"))}function afterShow(){var this$=this;var form=this;this.oldPasswordField$kpYh=
AS3.cast(Ext.form.field.Text,form.down(com.coremedia.ui.util.createComponentSelector().attr("name",ChangePasswordWindowBase.OLD_PASSWORD).build()));this.oldPasswordField$kpYh.on("validitychange",function(field,isValid){if(isValid)this$.oldPasswordError$kpYh.hide();else{var elem=this$.oldPasswordField$kpYh.getEl();this$.oldPasswordError$kpYh.showAt([elem.getX(),elem.getY()+50])}});this.newPasswordField$kpYh=AS3.cast(Ext.form.field.Text,form.down(com.coremedia.ui.util.createComponentSelector().attr("name",
ChangePasswordWindowBase.NEW_PASSWORD).build()));this.repeatPasswordField$kpYh=AS3.cast(Ext.form.field.Text,form.down(com.coremedia.ui.util.createComponentSelector().attr("name",ChangePasswordWindowBase.REPEAT_PASSWORD).build()));this.repeatPasswordField$kpYh.on("validitychange",function(field,isValid){if(isValid)this$.invalidRepeatError$kpYh.hide();else{var elem=this$.repeatPasswordField$kpYh.getEl();this$.invalidRepeatError$kpYh.showAt([elem.getX(),elem.getY()+50])}});this.oldPasswordField$kpYh.focus(true,
500)}function handleSpecialKey(textfield,e){if(e.getKey()===Ext.event.Event.ENTER)this.saveAndClose()}function saveAndClose(){var this$=this;if(!this.calculateDisableStatus$kpYh())com.coremedia.cap.common.SESSION.getUser().changePassword(this.getOldPassword$kpYh(),this.getNewPassword$kpYh(),function(error){if(!error){this$.setError$kpYh(null);showSuccessFeedback$static();this$.close()}else{if(error.errorName===com.coremedia.cap.user.UserErrorCodes.INVALID_PASSWORD){this$.setError$kpYh(com.coremedia.cap.user.UserErrorCodes.INVALID_PASSWORD);
error.setHandled(true)}else this$.setError$kpYh(error.errorName);this$.resetData$kpYh();this$.oldPasswordField$kpYh.focus(true)}})}function onlyClose(){this.invalidRepeatError$kpYh.hide();this.oldPasswordError$kpYh.hide();this.close()}function showSuccessFeedback$static(){var targetEl=Ext.getCmp(com.coremedia.cms.editor.sdk.desktop.EditorMainView.HEADER_TOOLBAR_ID).getEl();var toolTipCfg=AS3.cast(com.coremedia.ui.components.StatefulQuickTip,{});toolTipCfg.id="changePasswordSuccessToolTip";AS3.setBindable(toolTipCfg,
"title",null);AS3.setBindable(toolTipCfg,"html",mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","ChangePassword_successMessage"));AS3.setBindable(toolTipCfg,"validationState",com.coremedia.ui.mixins.ValidationState.SUCCESS);var successTooltip=new com.coremedia.ui.components.StatefulQuickTip(toolTipCfg);successTooltip.showAt([targetEl.getX()-87,targetEl.getY()+26]);successTooltip.addListener("beforehide",function(){window.setTimeout(function(){successTooltip.destroy()},
300)})}function getModel(){if(!this.model$kpYh)this.model$kpYh=com.coremedia.ui.data.beanFactory.createLocalBean({oldPassword:"",newPassword:"",repeatPassword:"",errorName:null});return this.model$kpYh}function resetData(){this.oldPasswordField$kpYh.setValue("");this.newPasswordField$kpYh.setValue("");this.repeatPasswordField$kpYh.setValue("")}function getErrorText$static(errorName){if(!errorName)return"";switch(errorName){case PASSWORDS_DONT_MATCH$static:return ERROR_PASSWORDS_DONT_MATCH$static;
case com.coremedia.cap.user.UserErrorCodes.INVALID_PASSWORD:return ERROR_INVALID_PASSWORD$static;default:return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors","changePassword_generalError_text")}}function validateOldPassword(value){this.setOldPassword$kpYh(value);if(this.getError$kpYh()===com.coremedia.cap.user.UserErrorCodes.INVALID_PASSWORD)if(value){this.setError$kpYh(null);return true}else return getErrorText$static(this.getError$kpYh());return true}
function validateNewPassword(value){this.setNewPassword$kpYh(value);if(this.repeatPasswordField$kpYh&&this.repeatPasswordField$kpYh.getValue())return this.repeatPasswordField$kpYh.validate();return true}function validateRepeatPassword(value){this.setRepeatPassword$kpYh(value);return this.validateNewAndRepeatPasswords$kpYh()}function validateNewAndRepeatPasswords(){if(this.getNewPassword$kpYh()!==this.getRepeatPassword$kpYh()){this.setError$kpYh(PASSWORDS_DONT_MATCH$static);return getErrorText$static(this.getError$kpYh())}else{if(this.getError$kpYh()===
PASSWORDS_DONT_MATCH$static)this.setError$kpYh(null);return true}}function getSaveDisabledValueExpression(){return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"calculateDisableStatus$kpYh"))}function calculateDisableStatus(){return!!this.getError$kpYh()||!this.getOldPassword$kpYh()||!this.getNewPassword$kpYh()||!this.getRepeatPassword$kpYh()}function getOldPassword(){return this.getModel$kpYh().get(ChangePasswordWindowBase.OLD_PASSWORD)}function setOldPassword(value){this.getModel$kpYh().set(ChangePasswordWindowBase.OLD_PASSWORD,
value)}function getNewPassword(){return this.getModel$kpYh().get(ChangePasswordWindowBase.NEW_PASSWORD)}function setNewPassword(value){this.getModel$kpYh().set(ChangePasswordWindowBase.NEW_PASSWORD,value)}function getRepeatPassword(){return this.getModel$kpYh().get(ChangePasswordWindowBase.REPEAT_PASSWORD)}function setRepeatPassword(value){this.getModel$kpYh().set(ChangePasswordWindowBase.REPEAT_PASSWORD,value)}function getError(){return this.getModel$kpYh().get(ERROR_NAME$static)}function setError(error){this.getModel$kpYh().set(ERROR_NAME$static,
error)}return{extend:"com.coremedia.cms.editor.sdk.components.StudioDialog",model$kpYh:null,oldPasswordField$kpYh:null,newPasswordField$kpYh:null,repeatPasswordField$kpYh:null,constructor:ChangePasswordWindowBase$,super$kpYh:function(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.constructor.apply(this,arguments)},afterShow$kpYh:afterShow,handleSpecialKey:handleSpecialKey,saveAndClose:saveAndClose,onlyClose:onlyClose,getModel$kpYh:getModel,resetData$kpYh:resetData,validateOldPassword:validateOldPassword,
validateNewPassword:validateNewPassword,validateRepeatPassword:validateRepeatPassword,validateNewAndRepeatPasswords$kpYh:validateNewAndRepeatPasswords,getSaveDisabledValueExpression:getSaveDisabledValueExpression,calculateDisableStatus$kpYh:calculateDisableStatus,getOldPassword$kpYh:getOldPassword,setOldPassword$kpYh:setOldPassword,getNewPassword$kpYh:getNewPassword,setNewPassword$kpYh:setNewPassword,getRepeatPassword$kpYh:getRepeatPassword,setRepeatPassword$kpYh:setRepeatPassword,getError$kpYh:getError,
setError$kpYh:setError,statics:{OLD_PASSWORD:"oldPassword",NEW_PASSWORD:"newPassword",REPEAT_PASSWORD:"repeatPassword",ERROR_PASSWORDS_DONT_MATCH:undefined,ERROR_INVALID_PASSWORD:undefined,__initStatics__:function(){ERROR_PASSWORDS_DONT_MATCH$static_();ERROR_INVALID_PASSWORD$static_()}},requires:["Ext","Ext.event.Event","Ext.form.field.Text","com.coremedia.cap.common.SESSION","com.coremedia.cap.user.UserErrorCodes","com.coremedia.cms.editor.EditorErrors_properties","com.coremedia.cms.editor.Editor_properties",
"com.coremedia.cms.editor.sdk.components.StudioDialog","com.coremedia.ui.components.StatefulQuickTip","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.beanFactory","com.coremedia.ui.mixins.ValidationState","com.coremedia.ui.util.createComponentSelector","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.desktop.EditorMainView","com.coremedia.cms.editor.sdk.validation.IssuesToolTip"]}});Ext.define("com.coremedia.cms.editor.sdk.login.LoginScreen",function(LoginScreen){function LoginScreen$(config){var this$=this;if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.login.LoginScreenBase,{});var defaults_$1=AS3.cast(LoginScreen,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1["ariaRole"]=null;AS3.setBindable(config_$1,"layout","fit");var container_40_5_$1=AS3.cast(Ext.container.Container,{});AS3.setBindable(container_40_5_$1,"minHeight",
680);var layout_VBox_42_9_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_42_9_$1,"align","stretch");AS3.setBindable(container_40_5_$1,"layout",layout_VBox_42_9_$1);var ui_BEMPlugin_45_9_$1=AS3.cast(com.coremedia.ui.plugins.BEMPlugin,{});AS3.setBindable(ui_BEMPlugin_45_9_$1,"block",com.coremedia.cms.editor.sdk.login.LoginScreenBase.BLOCK);container_40_5_$1.plugins=[ui_BEMPlugin_45_9_$1];var container_49_9_$1=AS3.cast(Ext.container.Container,{});container_49_9_$1.flex=1;var panel_52_13_$1=
AS3.cast(Ext.panel.Panel,{});panel_52_13_$1["id"]="login_form";AS3.setBindable(panel_52_13_$1,"width",360);panel_52_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.login.LoginScreenBase.FORM_PANEL_ITEMID);panel_52_13_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.PanelSkin.CARD_200.getSkin());var object_59_17_$1={};object_59_17_$1.tag="form";object_59_17_$1.method="POST";object_59_17_$1.action="blank.html";object_59_17_$1.target="submitTarget";panel_52_13_$1.autoEl=
object_59_17_$1;var box_65_17_$1=AS3.cast(Ext.Component,{});AS3.setBindable(box_65_17_$1,"height",180);var ui_BEMMixin_67_21_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,{});AS3.setBindable(ui_BEMMixin_67_21_$1,"bemElement",com.coremedia.cms.editor.sdk.login.LoginScreenBase.LOGO_ELEMENT);delete ui_BEMMixin_67_21_$1["xtype"];delete ui_BEMMixin_67_21_$1["xclass"];net.jangaroo.ext.Exml.apply(box_65_17_$1,ui_BEMMixin_67_21_$1);var displayField_70_17_$1=AS3.cast(Ext.form.field.Display,{});AS3.setBindable(displayField_70_17_$1,
"value",this.resourceManager.getString("com.coremedia.cms.editor.Editor","Login_title"));displayField_70_17_$1.ui="bold";displayField_70_17_$1.anchor="100%";var ui_BEMMixin_74_21_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,{});AS3.setBindable(ui_BEMMixin_74_21_$1,"bemElement",com.coremedia.cms.editor.sdk.login.LoginScreenBase.TITLE_ELEMENT);delete ui_BEMMixin_74_21_$1["xtype"];delete ui_BEMMixin_74_21_$1["xclass"];net.jangaroo.ext.Exml.apply(displayField_70_17_$1,ui_BEMMixin_74_21_$1);var textField_77_17_$1=
AS3.cast(Ext.form.field.Text,{});textField_77_17_$1.anchor="100%";AS3.setBindable(textField_77_17_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","Login_name")));textField_77_17_$1.labelAlign="top";textField_77_17_$1.name="username";textField_77_17_$1["id"]="username";textField_77_17_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.login.LoginScreenBase.USERNAME_FIELD_ITEMID);var ui_BEMMixin_84_21_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,
{});AS3.setBindable(ui_BEMMixin_84_21_$1,"bemElement",com.coremedia.cms.editor.sdk.login.LoginScreenBase.USERNAME_ELEMENT);delete ui_BEMMixin_84_21_$1["xtype"];delete ui_BEMMixin_84_21_$1["xclass"];net.jangaroo.ext.Exml.apply(textField_77_17_$1,ui_BEMMixin_84_21_$1);var textField_87_17_$1=AS3.cast(Ext.form.field.Text,{});textField_87_17_$1.anchor="100%";AS3.setBindable(textField_87_17_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","Login_password")));
textField_87_17_$1.name="password";textField_87_17_$1["id"]="password";textField_87_17_$1.labelAlign="top";textField_87_17_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.login.LoginScreenBase.PASSWD_FIELD_ITEMID);textField_87_17_$1.inputType="password";textField_87_17_$1.enableKeyEvents=true;var ui_BEMMixin_96_21_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,{});AS3.setBindable(ui_BEMMixin_96_21_$1,"bemElement",com.coremedia.cms.editor.sdk.login.LoginScreenBase.PASSWORD_ELEMENT);
delete ui_BEMMixin_96_21_$1["xtype"];delete ui_BEMMixin_96_21_$1["xclass"];net.jangaroo.ext.Exml.apply(textField_87_17_$1,ui_BEMMixin_96_21_$1);var ui_LocalComboBox_99_17_$1=AS3.cast(com.coremedia.ui.components.LocalComboBox,{});ui_LocalComboBox_99_17_$1.anchor="100%";ui_LocalComboBox_99_17_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.login.LoginScreenBase.DOMAIN_FIELD_ITEMID);AS3.setBindable(ui_LocalComboBox_99_17_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"Login_domain")));ui_LocalComboBox_99_17_$1.labelAlign="top";AS3.setBindable(ui_LocalComboBox_99_17_$1,"displayField","displayName");ui_LocalComboBox_99_17_$1.valueField="id";AS3.setBindable(ui_LocalComboBox_99_17_$1,"encodeItems",true);AS3.setBindable(ui_LocalComboBox_99_17_$1,"store",this.getDomainStore(config));AS3.setBindable(ui_LocalComboBox_99_17_$1,"value",this.getInitialDomain(config));ui_LocalComboBox_99_17_$1.enableKeyEvents=true;var ui_BEMMixin_110_21_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,
{});AS3.setBindable(ui_BEMMixin_110_21_$1,"bemElement",com.coremedia.cms.editor.sdk.login.LoginScreenBase.DOMAIN_ELEMENT);delete ui_BEMMixin_110_21_$1["xtype"];delete ui_BEMMixin_110_21_$1["xclass"];net.jangaroo.ext.Exml.apply(ui_LocalComboBox_99_17_$1,ui_BEMMixin_110_21_$1);var boundList_113_21_$1=AS3.cast(Ext.view.BoundList,{});AS3.setBindable(boundList_113_21_$1,"minWidth",236);ui_LocalComboBox_99_17_$1.listConfig=boundList_113_21_$1;var component_118_17_$1=AS3.cast(Ext.Component,{});component_118_17_$1["id"]=
"submitTarget";component_118_17_$1.autoEl={tag:"iframe",name:"submitTarget",style:"display:none"};component_118_17_$1.anchor="100%";var component_121_17_$1=AS3.cast(Ext.Component,{});component_121_17_$1["id"]="submitButton";component_121_17_$1.autoEl={tag:"input",type:"submit",name:"submitButton",style:"display:none"};component_121_17_$1.anchor="100%";var container_125_17_$1=AS3.cast(Ext.container.Container,{});container_125_17_$1.anchor="100%";var ui_BEMMixin_127_21_$1=AS3.cast(com.coremedia.ui.plugins.BEMMixin,
{});AS3.setBindable(ui_BEMMixin_127_21_$1,"bemElement",com.coremedia.cms.editor.sdk.login.LoginScreenBase.BUTTON_ELEMENT);delete ui_BEMMixin_127_21_$1["xtype"];delete ui_BEMMixin_127_21_$1["xclass"];net.jangaroo.ext.Exml.apply(container_125_17_$1,ui_BEMMixin_127_21_$1);var button_130_21_$1=AS3.cast(Ext.button.Button,{});button_130_21_$1["id"]=com.coremedia.cms.editor.sdk.login.LoginScreenBase.LOGIN_BTN_ID;button_130_21_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.login.LoginScreenBase.LOGIN_BTN_ITEMID);
button_130_21_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.VIVID.getSkin());AS3.setBindable(button_130_21_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","Login_submit")));AS3.setBindable(button_130_21_$1,"handler",function(){this$.loginButtonPressed()});container_125_17_$1.items=[button_130_21_$1];panel_52_13_$1.items=[box_65_17_$1,displayField_70_17_$1,textField_77_17_$1,textField_87_17_$1,ui_LocalComboBox_99_17_$1,
component_118_17_$1,component_121_17_$1,container_125_17_$1];var layout_Anchor_139_17_$1=AS3.cast(Ext.layout.container.Anchor,{});AS3.setBindable(panel_52_13_$1,"layout",layout_Anchor_139_17_$1);var labelable_142_17_$1=AS3.cast(Ext.form.Labelable,{});labelable_142_17_$1.labelSeparator="";panel_52_13_$1["defaultType"]=labelable_142_17_$1["xtype"];delete labelable_142_17_$1["xtype"];delete labelable_142_17_$1["xclass"];panel_52_13_$1.defaults=labelable_142_17_$1;container_49_9_$1.items=[panel_52_13_$1];
var layout_HBox_148_13_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_148_13_$1,"pack","center");AS3.setBindable(layout_HBox_148_13_$1,"align","middle");AS3.setBindable(container_49_9_$1,"layout",layout_HBox_148_13_$1);var container_153_9_$1=AS3.cast(Ext.container.Container,{});AS3.setBindable(container_153_9_$1,"height",26);var displayField_155_13_$1=AS3.cast(Ext.form.field.Display,{});displayField_155_13_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.DisplayFieldSkin.MOUSEPRINT.getSkin());
AS3.setBindable(displayField_155_13_$1,"value","Studio Version "+AS3.cast(com.coremedia.cap.common.CapLoginService,AS3.getBindable(config,"capLoginService")).getVersion());AS3.setBindable(displayField_155_13_$1,"margin","0 12 0 0");container_153_9_$1.items=[displayField_155_13_$1];var layout_HBox_160_13_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_160_13_$1,"pack","end");AS3.setBindable(container_153_9_$1,"layout",layout_HBox_160_13_$1);container_40_5_$1.items=[container_49_9_$1,
container_153_9_$1];config_$1.items=[container_40_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$gx7M(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.login.LoginScreenBase",alias:"widget.com.coremedia.cms.editor.sdk.config.loginScreen",constructor:LoginScreen$,super$gx7M:function(){com.coremedia.cms.editor.sdk.login.LoginScreenBase.prototype.constructor.apply(this,arguments)},config:{capLoginService:null,callback:null},requires:["Ext.Component","Ext.button.Button","Ext.container.Container",
"Ext.form.Labelable","Ext.form.field.Display","Ext.form.field.Text","Ext.layout.container.Anchor","Ext.layout.container.HBox","Ext.layout.container.VBox","Ext.panel.Panel","Ext.view.BoundList","com.coremedia.cap.common.CapLoginService","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.login.LoginScreenBase","com.coremedia.ui.components.LocalComboBox","com.coremedia.ui.plugins.BEMMixin","com.coremedia.ui.plugins.BEMPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.DisplayFieldSkin",
"com.coremedia.ui.skins.PanelSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.login.LoginScreenBase",function(LoginScreenBase){var DEFAULT_DOMAIN$static="THE_DEFAULT_DOMAIN_ID";var LOGINDOMAIN_LOCALSTORAGE$static="cmLoginDomain";var TOOLTIP_CMP_TOP_MARGIN$static=18;function BLOCK$static_(){LoginScreenBase.BLOCK=new com.coremedia.ui.models.bem.BEMBlock("cm-login-screen")}function LOGO_ELEMENT$static_(){LoginScreenBase.LOGO_ELEMENT=LoginScreenBase.BLOCK.createElement("logo")}function TITLE_ELEMENT$static_(){LoginScreenBase.TITLE_ELEMENT=
LoginScreenBase.BLOCK.createElement("title")}function USERNAME_ELEMENT$static_(){LoginScreenBase.USERNAME_ELEMENT=LoginScreenBase.BLOCK.createElement("username")}function PASSWORD_ELEMENT$static_(){LoginScreenBase.PASSWORD_ELEMENT=LoginScreenBase.BLOCK.createElement("password")}function DOMAIN_ELEMENT$static_(){LoginScreenBase.DOMAIN_ELEMENT=LoginScreenBase.BLOCK.createElement("domain")}function BUTTON_ELEMENT$static_(){LoginScreenBase.BUTTON_ELEMENT=LoginScreenBase.BLOCK.createElement("button")}
function LoginScreenBase$(config){if(arguments.length<=0)config=null;this.super$Kb77(config);this.capLoginService$Kb77=AS3.getBindable(config,"capLoginService");this.callback$Kb77=AS3.getBindable(config,"callback");var autoLogoutDate=com.coremedia.cms.editor.sdk.login.LogoutUtil.getAndClearAutoLogoutDate();if(autoLogoutDate)com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showInfo(this.resourceManager.getString("com.coremedia.cms.editor.Editor","Login_autoLogout_title"),com.coremedia.cms.editor.sdk.util.FormatUtil.format(this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"Login_autoLogout_message"),com.coremedia.ui.util.EncodingUtil.encodeForHTML(autoLogoutDate)),null,false)}function openLoginScreen$static(capLoginService,callback){var loginScreenCfg=AS3.cast(com.coremedia.cms.editor.sdk.login.LoginScreen,{});AS3.setBindable(loginScreenCfg,"capLoginService",capLoginService);AS3.setBindable(loginScreenCfg,"callback",callback);Ext.ComponentManager.create(loginScreenCfg)}function afterRender(){Ext.container.Viewport.prototype.afterRender.call(this);this.getUsernameField$Kb77().on("specialkey",
AS3.bind(this,"onEnter$Kb77"));this.getPasswordField$Kb77().on("specialkey",AS3.bind(this,"onEnter$Kb77"));this.getDomainField$Kb77().on("specialkey",AS3.bind(this,"onEnter$Kb77"));this.getUsernameField$Kb77().focus(false,10)}function getInitialDomain(config){var domain=com.coremedia.ui.util.LocalStorageUtil.getItem(LOGINDOMAIN_LOCALSTORAGE$static);return domain?domain:String(this.getDomainStore(config).getAt(0).get("id"))}function getDomainStore(config){if(!this.arrayStore$Kb77){var domains=AS3.cast(com.coremedia.cap.common.CapLoginService,
config["capLoginService"]).getDomains();var data=[];for(var i=0;i<domains.length;i++){var domain=domains[i];if(domain==="")domain=DEFAULT_DOMAIN$static;var displayName=this.resourceManager.getString("com.coremedia.cms.editor.Editor","Login_displayName_"+domain)||domain;data[i]=[domain,displayName]}var arrayStoreCfg=AS3.cast(Ext.data.ArrayStore,{});AS3.setBindable(arrayStoreCfg,"fields",["id","displayName"]);AS3.setBindable(arrayStoreCfg,"data",data);this.arrayStore$Kb77=new Ext.data.ArrayStore(arrayStoreCfg)}return this.arrayStore$Kb77}
function getUsernameField(){if(!this.usernameField$Kb77)this.usernameField$Kb77=AS3.as(this.queryById(LoginScreenBase.USERNAME_FIELD_ITEMID),Ext.form.field.Text);return this.usernameField$Kb77}function getPasswordField(){if(!this.passwordField$Kb77)this.passwordField$Kb77=AS3.as(this.queryById(LoginScreenBase.PASSWD_FIELD_ITEMID),Ext.form.field.Text);return this.passwordField$Kb77}function getDomainField(){if(!this.domainField$Kb77)this.domainField$Kb77=AS3.as(this.queryById(LoginScreenBase.DOMAIN_FIELD_ITEMID),
Ext.form.field.ComboBox);return this.domainField$Kb77}function getSubmitButton(){if(!this.submitButton$Kb77)this.submitButton$Kb77=AS3.as(this.queryById(LoginScreenBase.LOGIN_BTN_ITEMID),Ext.button.Button);return this.submitButton$Kb77}function onEnter(field,e){var this$=this;if(e.getKey()==e.ENTER)if(field.getItemId()==="username"){var onFocus=function(){this$.getPasswordField$Kb77().un("focus",onFocus);this$.loginButtonPressed()};this.getPasswordField$Kb77().on("focus",onFocus);this.getPasswordField$Kb77().focus(true,
10)}else this.loginButtonPressed()}function loginButtonPressed(){var this$=this;this.getSubmitButton$Kb77().setDisabled(true);this.getSubmitButton$Kb77().setText(this.resourceManager.getString("com.coremedia.cms.editor.Editor","Login_in_progress"));var user=this.getUsernameField$Kb77().getValue();var password=this.getPasswordField$Kb77().getValue();var domain=this.getDomainField$Kb77().getValue();if(domain===DEFAULT_DOMAIN$static)domain="";if(domain)com.coremedia.ui.util.LocalStorageUtil.setItem(LOGINDOMAIN_LOCALSTORAGE$static,
domain);else com.coremedia.ui.util.LocalStorageUtil.removeItem(LOGINDOMAIN_LOCALSTORAGE$static);this.getSubmitButton$Kb77().getEl().dom["click"]();this.capLoginService$Kb77.login(user,domain,password,function(session){if(session){this$.el.removeCls("login-screen-base");this$.destroy();this$.callback$Kb77()}else{this$.getSubmitButton$Kb77().setDisabled(false);this$.getSubmitButton$Kb77().setText(this$.resourceManager.getString("com.coremedia.cms.editor.Editor","Login_submit"));var message=this$.resourceManager.getString("com.coremedia.cms.editor.Editor",
"Login_failedMessage");var tooltipMargin=Number(this$.resourceManager.getString("com.coremedia.cms.editor.Editor","Login_failedMessageMargin"));var toolTipCfg=AS3.cast(com.coremedia.cms.editor.sdk.validation.IssuesToolTip,{});AS3.setBindable(toolTipCfg,"html",message);AS3.setBindable(toolTipCfg,"validationState",com.coremedia.ui.mixins.ValidationState.ERROR);toolTipCfg.hideDelay=700;var warningTooltip=new com.coremedia.cms.editor.sdk.validation.IssuesToolTip(toolTipCfg);var targetButton=Ext.getCmp(LoginScreenBase.LOGIN_BTN_ID).getEl();
AS3.setBindable(warningTooltip,"validationState",com.coremedia.ui.mixins.ValidationState.ERROR);warningTooltip.showAt([targetButton.getX()-tooltipMargin,targetButton.getY()+TOOLTIP_CMP_TOP_MARGIN$static]);warningTooltip.addListener("beforehide",AS3.bind(warningTooltip,"destroy"))}})}return{extend:"Ext.container.Viewport",capLoginService$Kb77:null,callback$Kb77:null,arrayStore$Kb77:null,usernameField$Kb77:null,passwordField$Kb77:null,domainField$Kb77:null,submitButton$Kb77:null,constructor:LoginScreenBase$,
super$Kb77:function(){Ext.container.Viewport.prototype.constructor.apply(this,arguments)},afterRender:afterRender,getInitialDomain:getInitialDomain,getDomainStore:getDomainStore,getUsernameField$Kb77:getUsernameField,getPasswordField$Kb77:getPasswordField,getDomainField$Kb77:getDomainField,getSubmitButton$Kb77:getSubmitButton,onEnter$Kb77:onEnter,loginButtonPressed:loginButtonPressed,statics:{FORM_PANEL_ITEMID:"form-panel",LOGIN_BTN_ITEMID:"submit",LOGIN_BTN_ID:"login-submit",USERNAME_FIELD_ITEMID:"username",
PASSWD_FIELD_ITEMID:"password",DOMAIN_FIELD_ITEMID:"domain",BLOCK:undefined,LOGO_ELEMENT:undefined,TITLE_ELEMENT:undefined,USERNAME_ELEMENT:undefined,PASSWORD_ELEMENT:undefined,DOMAIN_ELEMENT:undefined,BUTTON_ELEMENT:undefined,openLoginScreen:openLoginScreen$static,__initStatics__:function(){BLOCK$static_();LOGO_ELEMENT$static_();TITLE_ELEMENT$static_();USERNAME_ELEMENT$static_();PASSWORD_ELEMENT$static_();DOMAIN_ELEMENT$static_();BUTTON_ELEMENT$static_()}},requires:["Ext","Ext.ComponentManager",
"Ext.button.Button","Ext.container.Viewport","Ext.data.ArrayStore","Ext.form.field.ComboBox","Ext.form.field.Text","com.coremedia.cap.common.CapLoginService","com.coremedia.cms.editor.Editor_properties","com.coremedia.ui.mixins.ValidationState","com.coremedia.ui.models.bem.BEMBlock","com.coremedia.ui.util.EncodingUtil","com.coremedia.ui.util.LocalStorageUtil"],uses:["com.coremedia.cms.editor.sdk.login.LoginScreen","com.coremedia.cms.editor.sdk.login.LogoutUtil","com.coremedia.cms.editor.sdk.util.FormatUtil",
"com.coremedia.cms.editor.sdk.util.MessageBoxUtil","com.coremedia.cms.editor.sdk.validation.IssuesToolTip"]}});Ext.define("com.coremedia.cms.editor.sdk.login.ChangePasswordWindow",function(ChangePasswordWindow){function ChangePasswordWindow$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.login.ChangePasswordWindowBase,{});var defaults_$1=AS3.cast(ChangePasswordWindow,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.Editor","ChangePassword_title"));config_$1.stateId=
"changePasswordWindowState";AS3.setBindable(config_$1,"stateful",true);config_$1.modal=true;AS3.setBindable(config_$1,"width",430);config_$1.resizable=false;config_$1.constrainHeader=true;config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.WindowSkin.GRID_200.getSkin());var textField_30_5_$1=AS3.cast(Ext.form.field.Text,{});textField_30_5_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.login.ChangePasswordWindowBase.OLD_PASSWORD);AS3.setBindable(textField_30_5_$1,
"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","ChangePassword_oldPassword_text")));textField_30_5_$1.inputType="password";textField_30_5_$1.validator=AS3.bind(this,"validateOldPassword");textField_30_5_$1["id"]="old-password";textField_30_5_$1.msgTarget="dummy";var textField_36_5_$1=AS3.cast(Ext.form.field.Text,{});textField_36_5_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.login.ChangePasswordWindowBase.NEW_PASSWORD);
AS3.setBindable(textField_36_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","ChangePassword_newPassword_text")));textField_36_5_$1.inputType="password";textField_36_5_$1.validator=AS3.bind(this,"validateNewPassword");textField_36_5_$1["id"]="new-password";textField_36_5_$1.msgTarget="dummy";var textField_42_5_$1=AS3.cast(Ext.form.field.Text,{});textField_42_5_$1.name=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.login.ChangePasswordWindowBase.REPEAT_PASSWORD);
AS3.setBindable(textField_42_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","ChangePassword_repeatPassword_text")));textField_42_5_$1.inputType="password";textField_42_5_$1.validator=AS3.bind(this,"validateRepeatPassword");textField_42_5_$1["id"]="repeat-password";textField_42_5_$1.msgTarget="dummy";var object_49_9_$1={};object_49_9_$1.specialkey=AS3.bind(this,"handleSpecialKey");AS3.setBindable(textField_42_5_$1,"listeners",object_49_9_$1);
config_$1.items=[textField_30_5_$1,textField_36_5_$1,textField_42_5_$1];var button_54_5_$1=AS3.cast(Ext.button.Button,{});button_54_5_$1.itemId="saveBtn";button_54_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_PRIMARY.getSkin());AS3.setBindable(button_54_5_$1,"scale","small");AS3.setBindable(button_54_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","dialog_defaultSubmitButton_text")));AS3.setBindable(button_54_5_$1,
"handler",AS3.bind(this,"saveAndClose"));var ui_BindPropertyPlugin_60_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_60_9_$1.componentProperty="disabled";ui_BindPropertyPlugin_60_9_$1.bindTo=this.getSaveDisabledValueExpression();button_54_5_$1.plugins=[ui_BindPropertyPlugin_60_9_$1];var button_64_5_$1=AS3.cast(Ext.button.Button,{});button_64_5_$1.itemId="cancelBtn";button_64_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_SECONDARY.getSkin());
AS3.setBindable(button_64_5_$1,"scale","small");AS3.setBindable(button_64_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","dialog_defaultCancelButton_text")));AS3.setBindable(button_64_5_$1,"handler",AS3.bind(this,"onlyClose"));config_$1.buttons=[button_54_5_$1,button_64_5_$1];var textField_71_5_$1=AS3.cast(Ext.form.field.Text,{});textField_71_5_$1.labelSeparator="";textField_71_5_$1.labelAlign="top";config_$1["defaultType"]=textField_71_5_$1["xtype"];
delete textField_71_5_$1["xtype"];delete textField_71_5_$1["xclass"];config_$1.defaults=textField_71_5_$1;var ui_VerticalSpacingPlugin_75_5_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});config_$1.plugins=[ui_VerticalSpacingPlugin_75_5_$1];var layout_VBox_78_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_78_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_78_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Gwgw(config_$1)}
return{extend:"com.coremedia.cms.editor.sdk.login.ChangePasswordWindowBase",alias:"widget.com.coremedia.cms.editor.sdk.config.changePasswordWindow",constructor:ChangePasswordWindow$,super$Gwgw:function(){com.coremedia.cms.editor.sdk.login.ChangePasswordWindowBase.prototype.constructor.apply(this,arguments)},requires:["Ext.button.Button","Ext.form.field.Text","Ext.layout.container.VBox","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.login.ChangePasswordWindowBase","com.coremedia.ui.plugins.BindPropertyPlugin",
"com.coremedia.ui.plugins.VerticalSpacingPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.WindowSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.about.Lander",function(Lander){var MIN_PORTAL_BORDER_DISTANCE$static=20;var MIN_HORIZONTAL_PORTAL_NAME_DISTANCE$static=25;var MIN_VERTICAL_PORTAL_NAME_DISTANCE$static=5;function NAMES_(){this.NAMES$DS7p=["Afriyie Adwiraah","Sebastian Annies","Tobias Baier","Uni Bertelmann","Anja Brandt","Sebastian Büttner","Matthias Faust","Andreas Gawecki","Elina Hotman","Martti Jeenicke","Moritz Kleine","Olaf Kummer","Mark Michaelis","Manuel Ohlendorf","Tobias Stadelmaier",
"Stefan Eckhorst","Matthias Wester-Ebbinghaus","Christian Weitendorf","Frank Wienberg","Sigrid Kochte","Michael Coldewey","Rainer Reich","Axel Wienberg","\x26copy; 2009-2016 CoreMedia AG"]}function Lander$(el){NAMES_.call(this);el.dom.className="cm-lander";this.bx$DS7p=el.getWidth();this.by$DS7p=el.getHeight();this.x$DS7p=this.bx$DS7p/2;this.y$DS7p=MIN_PORTAL_BORDER_DISTANCE$static;this.portalVisibilityRadius=(this.bx$DS7p+this.by$DS7p)/8+10;var maxDimension=Math.max(this.bx$DS7p,this.by$DS7p);this.speed$DS7p=
Math.sqrt(maxDimension*maxDimension/15E4+1);this.border$DS7p=el.createChild({tag:"div"});this.border$DS7p.dom.className="cm-lander__border";this.border$DS7p.dom.style.width=this.bx$DS7p+"px";this.border$DS7p.dom.style.height=this.by$DS7p+"px";this.nameDiv$DS7p=this.createElement$DS7p("div");this.nameDiv$DS7p.dom.className="cm-lander__name";this.portal$DS7p=this.createElement$DS7p("div");this.portal$DS7p.dom.className="cm-lander__portal";this.previousPortal$DS7p=this.createElement$DS7p("div");this.previousPortal$DS7p.dom.className=
"cm-lander__previous-portal";this.lander$DS7p=this.createElement$DS7p("img");this.lander$DS7p.setOpacity(1);this.name$DS7p=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.about.Lander","instructions_text");this.showName$DS7p();this.mx$DS7p=this.bx$DS7p-15;this.my$DS7p=this.by$DS7p-16;this.enterWorld$DS7p(false);this.hiddenInput$DS7p=this.border$DS7p.createChild({tag:"input",type:"text"});this.hiddenInput$DS7p.focus();this.hiddenInput$DS7p.on("keydown",AS3.bind(this,
"keyDown$DS7p"));this.hiddenInput$DS7p.on("keyup",AS3.bind(this,"keyUp$DS7p"));this.hiddenInput$DS7p.dom.style.position="absolute";this.hiddenInput$DS7p.dom.style.top="-10000px";this.interval$DS7p=window.setInterval(AS3.bind(this,"move$DS7p"),50)}function updateGravity(){this.gravity$DS7p=.7+Math.random()}function updateName(){this.name$DS7p=this.NAMES$DS7p[Math.floor(this.NAMES$DS7p.length*Math.random())];this.showName$DS7p()}function showName(){this.nameDiv$DS7p.dom.innerHTML=this.name$DS7p;this.nameDiv$DS7p.setOpacity(1);
this.nameDiv$DS7p.dom.style.left="1";this.nameDiv$DS7p.dom.style.top="1";for(var i=5;i<100;i++){this.nameDiv$DS7p.dom.style.fontSize=i+"px";if(this.nameDiv$DS7p.getWidth()>this.bx$DS7p*.6||this.nameDiv$DS7p.getHeight()>this.by$DS7p*.6)break}this.nameTop$DS7p=(this.by$DS7p-this.nameDiv$DS7p.getHeight())/2;this.nameRight$DS7p=(this.bx$DS7p+this.nameDiv$DS7p.getWidth())/2;this.nameBottom$DS7p=(this.by$DS7p+this.nameDiv$DS7p.getHeight())/2;this.nameLeft$DS7p=(this.bx$DS7p-this.nameDiv$DS7p.getWidth())/
2;this.nameDiv$DS7p.dom.style.left=this.nameLeft$DS7p+"px";this.nameDiv$DS7p.dom.style.top=this.nameTop$DS7p+"px"}function updatePreviousPortal(){for(var i=0;i<10;i++){this.ppVisible$DS7p=true;this.ppx$DS7p=MIN_PORTAL_BORDER_DISTANCE$static+(this.bx$DS7p-2*MIN_PORTAL_BORDER_DISTANCE$static)*(Math.random()*.8+.1);this.ppy$DS7p=MIN_PORTAL_BORDER_DISTANCE$static+(this.by$DS7p-2*MIN_PORTAL_BORDER_DISTANCE$static)*(Math.random()*.8+.1);if(this.ppx$DS7p<this.nameLeft$DS7p-MIN_HORIZONTAL_PORTAL_NAME_DISTANCE$static||
this.ppx$DS7p>this.nameRight$DS7p+MIN_VERTICAL_PORTAL_NAME_DISTANCE$static||this.ppy$DS7p<this.nameTop$DS7p-MIN_HORIZONTAL_PORTAL_NAME_DISTANCE$static||this.ppy$DS7p>this.nameBottom$DS7p+MIN_VERTICAL_PORTAL_NAME_DISTANCE$static)break}this.x$DS7p=this.ppx$DS7p;this.y$DS7p=this.ppy$DS7p}function updatePortal(){for(var i=0;i<10;i++){this.px$DS7p=MIN_PORTAL_BORDER_DISTANCE$static+(this.mx$DS7p-2*MIN_PORTAL_BORDER_DISTANCE$static)*(Math.random()*.8+.1);this.py$DS7p=MIN_PORTAL_BORDER_DISTANCE$static+(this.my$DS7p-
2*MIN_PORTAL_BORDER_DISTANCE$static)*(Math.random()*.8+.1);if(this.px$DS7p<this.nameLeft$DS7p-25||this.px$DS7p>this.nameRight$DS7p+5||this.py$DS7p<this.nameTop$DS7p-25||this.py$DS7p>this.nameBottom$DS7p+5)break}}function enterWorld(portalHit){this.timeSinceJump$DS7p=0;if(portalHit){this.updateName$DS7p();this.updatePreviousPortal$DS7p()}this.hideName$DS7p=false;this.updatePortal$DS7p();this.updateGravity$DS7p()}function updateKeyState(value,e){var key=e.getKey();switch(key){case Ext.event.Event.LEFT:this.left$DS7p=
value;break;case Ext.event.Event.UP:this.up$DS7p=value;break;case Ext.event.Event.RIGHT:this.right$DS7p=value;break;case Ext.event.Event.DOWN:this.down$DS7p=value;break}}function keyDown(e){this.updateKeyState$DS7p(1,e)}function keyUp(e){this.updateKeyState$DS7p(0,e)}function sqr$static(x){return x*x}function move(){this.timeSinceJump$DS7p++;this.vy$DS7p=this.vy$DS7p+.07*this.speed$DS7p*this.gravity$DS7p;if(!this.crash$DS7p){this.vy$DS7p=this.vy$DS7p-.3*this.up$DS7p*this.speed$DS7p;this.vx$DS7p=this.vx$DS7p+
.15*(this.right$DS7p-this.left$DS7p)*this.speed$DS7p}if(this.y$DS7p<this.my$DS7p-1||Math.abs(this.vx$DS7p)>.3)this.x$DS7p=this.x$DS7p+this.vx$DS7p;this.y$DS7p=this.y$DS7p+this.vy$DS7p;if(this.x$DS7p<0){this.x$DS7p=0;this.vx$DS7p=-.4*this.vx$DS7p;if(!this.crash$DS7p){this.crash$DS7p=1;this.y$DS7p=this.y$DS7p-1}}else if(this.x$DS7p>this.mx$DS7p){this.x$DS7p=this.mx$DS7p;this.vx$DS7p=-.4*this.vx$DS7p;if(!this.crash$DS7p){this.crash$DS7p=1;this.y$DS7p=this.y$DS7p-1}}if(this.y$DS7p<-1&&this.vy$DS7p<0){this.y$DS7p=
-2;this.vy$DS7p=Math.min(1,-.4*this.vy$DS7p);this.crash$DS7p=1}else if(this.y$DS7p>this.my$DS7p){this.y$DS7p=this.my$DS7p;if(this.vy$DS7p>1.4*this.speed$DS7p)this.crash$DS7p=1;if(this.crash$DS7p){this.vx$DS7p=this.vx$DS7p*.3;this.vy$DS7p=Math.max(-1,this.vy$DS7p*-.4)}else{this.vx$DS7p=this.vx$DS7p*.4;this.vy$DS7p=this.vy$DS7p*-.6}}if(Math.sqrt(sqr$static(this.x$DS7p-this.px$DS7p)+sqr$static(this.y$DS7p-this.py$DS7p))<4)this.enterWorld$DS7p(true);this.lander$DS7p.dom.style.left=this.x$DS7p+"px";this.lander$DS7p.dom.style.top=
this.y$DS7p+"px";var landerStyle="";if(this.crash$DS7p)landerStyle="-crash";else if(this.up$DS7p)landerStyle="-fire-"+Math.floor(Math.random()*4);this.lander$DS7p.dom["src"]=Ext.getResourcePath(this.PATH_PREFIX$DS7p+"lander"+landerStyle+".svg",null,"com.coremedia.ui.sdk__editor-components");this.lander$DS7p.dom["height"]="16";this.lander$DS7p.dom["width"]="24";this.portal$DS7p.dom.style.left=this.px$DS7p+"px";this.portal$DS7p.dom.style.top=this.py$DS7p+"px";this.portal$DS7p.setOpacity(1-Math.min(1,
Math.sqrt(sqr$static(this.x$DS7p-this.px$DS7p)+sqr$static(this.y$DS7p-this.py$DS7p))/this.portalVisibilityRadius*1.2-.2));if(this.ppVisible$DS7p){this.previousPortal$DS7p.dom.style.left=this.ppx$DS7p+"px";this.previousPortal$DS7p.dom.style.top=this.ppy$DS7p+"px"}this.previousPortal$DS7p.setOpacity(this.ppVisible$DS7p?1-Math.min(1,Math.sqrt(sqr$static(this.x$DS7p-this.ppx$DS7p)+sqr$static(this.y$DS7p-this.ppy$DS7p)+sqr$static(this.timeSinceJump$DS7p*1.5))/this.portalVisibilityRadius*1.2-.2):0);if(!this.hideName$DS7p)this.nameDiv$DS7p.setOpacity(Math.max(0,
1-this.timeSinceJump$DS7p/100))}function createElement(tag){var result=this.border$DS7p.createChild({tag:tag});result.dom.style.position="absolute";result.setOpacity(0);return result}function stop(){if(this.interval$DS7p)window.clearInterval(this.interval$DS7p);if(this.hiddenInput$DS7p){this.hiddenInput$DS7p.un("keydown",AS3.bind(this,"keyDown$DS7p"),null);this.hiddenInput$DS7p.un("keyup",AS3.bind(this,"keyUp$DS7p"),null)}}return{PATH_PREFIX$DS7p:"images/lander/",name$DS7p:null,hideName$DS7p:false,
left$DS7p:0,up$DS7p:0,right$DS7p:0,down$DS7p:0,vx$DS7p:0,vy$DS7p:0,speed$DS7p:NaN,gravity$DS7p:NaN,crash$DS7p:false,x$DS7p:NaN,y$DS7p:NaN,bx$DS7p:NaN,by$DS7p:NaN,mx$DS7p:NaN,my$DS7p:NaN,px$DS7p:NaN,py$DS7p:NaN,ppx$DS7p:NaN,ppy$DS7p:NaN,ppVisible$DS7p:false,portalVisibilityRadius:0,timeSinceJump$DS7p:NaN,border$DS7p:null,hiddenInput$DS7p:null,lander$DS7p:null,portal$DS7p:null,previousPortal$DS7p:null,nameDiv$DS7p:null,nameTop$DS7p:NaN,nameRight$DS7p:NaN,nameBottom$DS7p:NaN,nameLeft$DS7p:NaN,interval$DS7p:null,
constructor:Lander$,updateGravity$DS7p:updateGravity,updateName$DS7p:updateName,showName$DS7p:showName,updatePreviousPortal$DS7p:updatePreviousPortal,updatePortal$DS7p:updatePortal,enterWorld$DS7p:enterWorld,updateKeyState$DS7p:updateKeyState,keyDown$DS7p:keyDown,keyUp$DS7p:keyUp,move$DS7p:move,createElement$DS7p:createElement,stop:stop,requires:["Ext","Ext.event.Event","com.coremedia.cms.editor.sdk.about.Lander_properties","mx.resources.ResourceManager"]}});Ext.define("com.coremedia.cms.editor.sdk.about.AboutWindow",function(AboutWindow){function PROPERTIES_BLOCK$static_(){AboutWindow.PROPERTIES_BLOCK=new com.coremedia.ui.models.bem.BEMBlock("cm-about-window-properties")}function PROPERTIES_ELEMENT_PROPERTY$static_(){AboutWindow.PROPERTIES_ELEMENT_PROPERTY=AboutWindow.PROPERTIES_BLOCK.createElement("property")}function PROPERTIES_ELEMENT_KEY$static_(){AboutWindow.PROPERTIES_ELEMENT_KEY=AboutWindow.PROPERTIES_BLOCK.createElement("key")}function PROPERTIES_ELEMENT_VALUE$static_(){AboutWindow.PROPERTIES_ELEMENT_VALUE=
AboutWindow.PROPERTIES_BLOCK.createElement("value")}function AboutWindow$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.about.AboutWindowBase,{});var defaults_$1=AS3.cast(AboutWindow,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.Editor","AboutWindow_title"));config_$1.stateId="aboutWindowState";AS3.setBindable(config_$1,"stateful",true);AS3.setBindable(config_$1,
"scrollable",true);config_$1.modal=true;AS3.setBindable(config_$1,"width",500);AS3.setBindable(config_$1,"height",400);config_$1.resizable=true;config_$1.constrainHeader=true;config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.WindowSkin.GRID_200.getSkin());var container_56_5_$1=AS3.cast(Ext.container.Container,{});AS3.setBindable(container_56_5_$1,"layout","hbox");var ui_IconDisplayField_58_9_$1=AS3.cast(com.coremedia.ui.components.IconDisplayField,{});AS3.setBindable(ui_IconDisplayField_58_9_$1,
"scale","medium");ui_IconDisplayField_58_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.LOGO.getSkin());AS3.setBindable(ui_IconDisplayField_58_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","coremedia")));AS3.setBindable(ui_IconDisplayField_58_9_$1,"value",Ext.String.format(this.resourceManager.getString("com.coremedia.cms.editor.Editor","AboutWindow_coremedia_text"),com.coremedia.cap.common.SESSION.getConnection().getLoginService().getVersion()));
container_56_5_$1.items=[ui_IconDisplayField_58_9_$1];var ui_HorizontalSpacingPlugin_65_9_$1=AS3.cast(com.coremedia.ui.plugins.HorizontalSpacingPlugin,{});container_56_5_$1.plugins=[ui_HorizontalSpacingPlugin_65_9_$1];var box_68_5_$1=AS3.cast(Ext.Component,{});AS3.setBindable(box_68_5_$1,"height",9);var button_69_5_$1=AS3.cast(Ext.button.Button,{});button_69_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE.getSkin());AS3.setBindable(button_69_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"AboutWindow_selectAll_text")));AS3.setBindable(button_69_5_$1,"handler",AS3.bind(this,"selectAll"));var box_72_5_$1=AS3.cast(Ext.Component,{});AS3.setBindable(box_72_5_$1,"height",9);var dataView_73_5_$1=AS3.cast(Ext.view.View,{});dataView_73_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.about.AboutWindowBase.PROPERTIES_TABLE_ITEM_ID);dataView_73_5_$1.itemSelector=net.jangaroo.ext.Exml.asString(AboutWindow.PROPERTIES_ELEMENT_PROPERTY.getCSSSelector());dataView_73_5_$1.disableSelection=
true;dataView_73_5_$1.tpl=AboutWindow.PROPERTIES_TABLE_TEMPLATE;var store_Array_78_9_$1=AS3.cast(Ext.data.ArrayStore,{});AS3.setBindable(store_Array_78_9_$1,"data",this.getAboutProperties());AS3.setBindable(store_Array_78_9_$1,"fields",["prop","value"]);AS3.setBindable(dataView_73_5_$1,"store",new Ext.data.ArrayStore(store_Array_78_9_$1));config_$1.items=[container_56_5_$1,box_68_5_$1,button_69_5_$1,box_72_5_$1,dataView_73_5_$1];var button_85_5_$1=AS3.cast(Ext.button.Button,{});button_85_5_$1.itemId=
"cancelBtn";button_85_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_SECONDARY.getSkin());AS3.setBindable(button_85_5_$1,"scale","small");AS3.setBindable(button_85_5_$1,"handler",AS3.bind(this,"close"));AS3.setBindable(button_85_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","AboutWindow_closeButton_text")));config_$1.buttons=[button_85_5_$1];var layout_Anchor_92_5_$1=AS3.cast(Ext.layout.container.Anchor,
{});AS3.setBindable(config_$1,"layout",layout_Anchor_92_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$_7IY(config_$1)}function PROPERTIES_TABLE_TEMPLATE$static_(){AboutWindow.PROPERTIES_TABLE_TEMPLATE=new Ext.XTemplate(['\x3ctable class\x3d"'+AboutWindow.PROPERTIES_BLOCK+'"\x3e','\x3ctpl for\x3d"."\x3e','\x3ctpl if\x3d"value"\x3e','\x3ctr class\x3d"'+AboutWindow.PROPERTIES_ELEMENT_PROPERTY+'"\x3e','\x3ctd class\x3d"'+AboutWindow.PROPERTIES_ELEMENT_KEY+'"\x3e{prop}\x3c/td\x3e','\x3ctd class\x3d"'+
AboutWindow.PROPERTIES_ELEMENT_VALUE+'"\x3e{value}\x3c/td\x3e',"\x3c/tr\x3e","\x3c/tpl\x3e","\x3c/tpl\x3e","\x3c/table\x3e"])}return{extend:"com.coremedia.cms.editor.sdk.about.AboutWindowBase",alias:"widget.com.coremedia.cms.editor.sdk.config.aboutWindow",constructor:AboutWindow$,super$_7IY:function(){com.coremedia.cms.editor.sdk.about.AboutWindowBase.prototype.constructor.apply(this,arguments)},statics:{PROPERTIES_BLOCK:undefined,PROPERTIES_ELEMENT_PROPERTY:undefined,PROPERTIES_ELEMENT_KEY:undefined,
PROPERTIES_ELEMENT_VALUE:undefined,PROPERTIES_TABLE_TEMPLATE:undefined,__initStatics__:function(){PROPERTIES_BLOCK$static_();PROPERTIES_ELEMENT_PROPERTY$static_();PROPERTIES_ELEMENT_KEY$static_();PROPERTIES_ELEMENT_VALUE$static_();PROPERTIES_TABLE_TEMPLATE$static_()}},requires:["Ext.Component","Ext.String","Ext.XTemplate","Ext.button.Button","Ext.container.Container","Ext.data.ArrayStore","Ext.layout.container.Anchor","Ext.view.View","com.coremedia.cap.common.SESSION","com.coremedia.cms.editor.Editor_properties",
"com.coremedia.cms.editor.sdk.about.AboutWindowBase","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.components.IconDisplayField","com.coremedia.ui.models.bem.BEMBlock","com.coremedia.ui.plugins.HorizontalSpacingPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.WindowSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.about.AboutWindowBase",function(AboutWindowBase){function AboutWindowBase$(config){if(arguments.length<=0)config=null;this.super$gCwJ(config)}function getAboutProperties(){var properties=[];var user=com.coremedia.cap.common.SESSION.getUser();properties.push([this.resourceManager.getString("com.coremedia.cms.editor.Editor","AboutWindow_property_userName"),user.getName()]);properties.push([this.resourceManager.getString("com.coremedia.cms.editor.Editor","AboutWindow_property_userDomain"),
user.getDomain()||this.resourceManager.getString("com.coremedia.cms.editor.Editor","AboutWindow_property_userDomain_default")]);var systemInfo=com.coremedia.cap.common.SESSION.getConnection().getSystemInfo();properties.push([this.resourceManager.getString("com.coremedia.cms.editor.Editor","AboutWindow_property_licenceId"),systemInfo.getLicenceId()]);properties.push([this.resourceManager.getString("com.coremedia.cms.editor.Editor","AboutWindow_property_licensee"),systemInfo.getLicensee()]);properties.push([this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"AboutWindow_property_licenseFeatures"),new com.coremedia.cms.editor.sdk.about.AlreadyEncoded(getEncodedLicenseFeatures$static())]);properties.push([this.resourceManager.getString("com.coremedia.cms.editor.Editor","AboutWindow_property_requiredLicenses"),new com.coremedia.cms.editor.sdk.about.AlreadyEncoded(getEncodedRequiredLicenses$static())]);properties.push([this.resourceManager.getString("com.coremedia.cms.editor.Editor","AboutWindow_property_studio_locale"),com.coremedia.cms.editor.sdk.util.LocaleUtil.getLocale()]);
properties.push([this.resourceManager.getString("com.coremedia.cms.editor.Editor","AboutWindow_property_studio_locales"),com.coremedia.cms.editor.sdk.util.LocaleUtil.getSupportedLocales().join(", ")]);properties.push([this.resourceManager.getString("com.coremedia.cms.editor.Editor","AboutWindow_property_client_os"),window.navigator.platform]);properties.push([this.resourceManager.getString("com.coremedia.cms.editor.Editor","AboutWindow_property_client_timezone"),getClientTimezone$static()]);properties.push([this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"AboutWindow_property_client_type"),getClientType$static()]);properties.push([this.resourceManager.getString("com.coremedia.cms.editor.Editor","AboutWindow_property_client_userAgent"),window.navigator.userAgent]);properties.push([this.resourceManager.getString("com.coremedia.cms.editor.Editor","AboutWindow_property_client_locale"),window.navigator.language||window.navigator.userLanguage+"/"+window.navigator.systemLanguage]);properties.push([this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"AboutWindow_property_server_url"),window.location.href]);properties.push([this.resourceManager.getString("com.coremedia.cms.editor.Editor","AboutWindow_property_server_os"),systemInfo.getOperatingSystem()]);properties.push([this.resourceManager.getString("com.coremedia.cms.editor.Editor","AboutWindow_property_server_jvm"),systemInfo.getJvm()]);properties.push([this.resourceManager.getString("com.coremedia.cms.editor.Editor","AboutWindow_property_server_start"),getServerStartTime$static()]);properties.push([this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"AboutWindow_property_server_locale"),systemInfo.getDefaultLocale()]);properties.push([this.resourceManager.getString("com.coremedia.cms.editor.Editor","AboutWindow_property_server_timeZone"),systemInfo.getDefaultTimeZone()]);properties.push([this.resourceManager.getString("com.coremedia.cms.editor.Editor","AboutWindow_property_server_versions"),new com.coremedia.cms.editor.sdk.about.AlreadyEncoded(getEncodedVersionsString$static())]);properties.push([this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"AboutWindow_property_cache_contents"),new com.coremedia.cms.editor.sdk.about.AlreadyEncoded(this.getCacheLevelsString$gCwJ())]);properties.push([this.resourceManager.getString("com.coremedia.cms.editor.Editor","AboutWindow_property_eventQueue_current"),String(com.coremedia.ui.util.EventUtil.getQueueSize())]);properties.push([this.resourceManager.getString("com.coremedia.cms.editor.Editor","AboutWindow_property_eventQueue_max"),String(com.coremedia.ui.util.EventUtil.getMaxQueueSize())]);encodeProperties$static(properties);
return properties}function getServerStartTime$static(){var systemInfo=com.coremedia.cap.common.SESSION.getConnection().getSystemInfo();if(systemInfo.getStartedAt()){var startedAt=systemInfo.getStartedAt().getDate();return String(startedAt)}return undefined}function getEncodedLicenseFeatures$static(){var systemInfo=com.coremedia.cap.common.SESSION.getConnection().getSystemInfo();var licenseFeatures=systemInfo.getLicenseFeatures();if(licenseFeatures)return licenseFeatures.map(com.coremedia.ui.util.EncodingUtil.encodeForHTML).join("\x3cbr/\x3e");
return undefined}function getEncodedRequiredLicenses$static(){var systemInfo=com.coremedia.cap.common.SESSION.getConnection().getSystemInfo();var requiredLicenses=systemInfo.getRequiredLicenses();if(requiredLicenses)return requiredLicenses.map(com.coremedia.ui.util.EncodingUtil.encodeForHTML).join("\x3cbr/\x3e");return undefined}function getEncodedVersionsString$static(){var systemInfo=com.coremedia.cap.common.SESSION.getConnection().getSystemInfo();var moduleVersions=systemInfo.getModuleVersions();
if(moduleVersions){var modules=[];for(var module in moduleVersions)if(AS3.is(module,String))modules.push(module);modules.sort();var versionsBuilder=[];for(var i=0;i<modules.length;i++){var sortedModule=modules[i];var version=moduleVersions[sortedModule];if(versionsBuilder.length)versionsBuilder.push("\x3cbr/\x3e");versionsBuilder.push(com.coremedia.ui.util.EncodingUtil.encodeForHTML(sortedModule),": ",com.coremedia.ui.util.EncodingUtil.encodeForHTML(version))}return versionsBuilder.join("")}return undefined}
function getCacheLevelsString(){var levels=com.coremedia.ui.data.impl.RemoteBeanCache.getLevels();var displayNameList=[];var levelsList=[];var indices=[];var nextIndex=0;for(var className in levels){var displayName=className.substr(className.length-4,4)==="Impl"?className.substr(0,className.length-4):className;displayNameList.push(displayName);levelsList.push(levels[className]);indices.push(nextIndex++)}indices.sort(function(i1,i2){if(displayNameList[i1]<displayNameList[i2])return-1;if(displayNameList[i1]>
displayNameList[i2])return 1;return 0});var stringBuilder=[];for(var j=0;j<indices.length;j++){var i=indices[j];var level=levelsList[i];stringBuilder.push(com.coremedia.ui.util.EncodingUtil.encodeForHTML(displayNameList[i]+": "+level.listened+"/"+level.loaded+"/"+level.total+""))}return stringBuilder.join("\x3cbr/\x3e")}function getClientType$static(){if(Ext.isIE8)return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","AboutWindow_property_client_type_ie8");
if(Ext.isIE9)return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","AboutWindow_property_client_type_ie9");if(Ext.isIE)return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","AboutWindow_property_client_type_ie");if(Ext.isOpera)return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","AboutWindow_property_client_type_opera");if(Ext.isChrome)return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor",
"AboutWindow_property_client_type_chrome");if(Ext.isSafari)return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","AboutWindow_property_client_type_safari");if((Ext.isWebKit||Ext.isGecko)&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>=0)return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","AboutWindow_property_client_type_firefox");if(Ext.isWebKit)return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor",
"AboutWindow_property_client_type_webkit");if(Ext.isGecko)return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","AboutWindow_property_client_type_gecko");return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","AboutWindow_property_client_type_unknown")}function getClientTimezone$static(){var timezoneOffset=-((new Date).getTimezoneOffset()/60);var clientTimezone=timezoneOffset<0?"GMT"+timezoneOffset:timezoneOffset===0?"GMT":
"GMT+"+timezoneOffset;return clientTimezone}function encodeProperties$static(properties){for(var i=0;i<properties.length;i++){var row=properties[i];for(var j=0;j<row.length;j++){var value=row[j];if(AS3.is(value,com.coremedia.cms.editor.sdk.about.AlreadyEncoded))row[j]=AS3.cast(com.coremedia.cms.editor.sdk.about.AlreadyEncoded,value).value;else row[j]=com.coremedia.ui.util.EncodingUtil.encodeForHTML(AS3.as(value,String))}}}function selectAll(){var propertiesTable=AS3.cast(Ext.view.View,this.itemCollection.get(AboutWindowBase.PROPERTIES_TABLE_ITEM_ID));
if(propertiesTable){var elem=propertiesTable.getEl();if(elem){var document=window.document;if(AS3.bind(document,"createRange")&&AS3.bind(window,"getSelection")){var range=document.createRange();if(Ext.isChrome||Ext.isSafari)range.selectNodeContents(elem.dom);else range.selectNode(elem.dom);var selection=window.getSelection();selection.removeAllRanges();selection.addRange(range)}}}}function onDestroy(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.onDestroy.call(this);if(this.lander$gCwJ)this.lander$gCwJ.stop()}
function coreMediaLogoClicked(){this.removeAll(true);this.setScrollable(false);this.lander$gCwJ=new com.coremedia.cms.editor.sdk.about.Lander(this.body)}return{extend:"com.coremedia.cms.editor.sdk.components.StudioDialog",lander$gCwJ:null,constructor:AboutWindowBase$,super$gCwJ:function(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.constructor.apply(this,arguments)},getAboutProperties:getAboutProperties,getCacheLevelsString$gCwJ:getCacheLevelsString,selectAll:selectAll,onDestroy:onDestroy,
coreMediaLogoClicked:coreMediaLogoClicked,statics:{PROPERTIES_TABLE_ITEM_ID:"propertiesTable"},requires:["Ext","Ext.view.View","com.coremedia.cap.common.SESSION","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.components.StudioDialog","com.coremedia.ui.data.impl.RemoteBeanCache","com.coremedia.ui.util.EncodingUtil","com.coremedia.ui.util.EventUtil","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.about.AlreadyEncoded","com.coremedia.cms.editor.sdk.about.Lander",
"com.coremedia.cms.editor.sdk.util.LocaleUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.about.AlreadyEncoded",function(AlreadyEncoded){function AlreadyEncoded$(value){this.value=value}return{value:null,constructor:AlreadyEncoded$}});Ext.define("com.coremedia.cms.editor.sdk.upload.FileDropPlugin",function(FileDropPlugin){function FileDropPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.upload.FileDropPluginBase,{});var defaults_$1=AS3.cast(FileDropPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$AB8H(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.upload.FileDropPluginBase",constructor:FileDropPlugin$,
super$AB8H:function(){com.coremedia.cms.editor.sdk.upload.FileDropPluginBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.upload.FileDropPluginBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.upload.dialog.UploadProgressDialogBase",function(UploadProgressDialogBase){function uploadContainers_(){this.uploadContainers$zpGw=[]}function UploadProgressDialogBase$(config){if(arguments.length<=0)config=null;this.super$zpGw(config);uploadContainers_.call(this);this.addListener("render",AS3.bind(this,"addUploads$zpGw"))}function addUploads(){var this$=this;this.removeListener("render",AS3.bind(this,"addUploads$zpGw"));this.addUploadItems$zpGw();com.coremedia.ui.util.EventUtil.invokeLater(function(){this$.uploadActiveItem()})}
function addUploadItems(){var uploadContainer=AS3.as(this.queryById(com.coremedia.cms.editor.sdk.upload.dialog.UploadProgressDialog.PROGRESS_LIST),Ext.container.Container);for(var i=0;i<AS3.getBindable(this,"files").length;i++){var progressContainer=new com.coremedia.cms.editor.sdk.upload.dialog.UploadProgressContainer(AS3.cast(com.coremedia.cms.editor.sdk.upload.dialog.UploadProgressContainer,{file:AS3.getBindable(this,"files")[i],folder:AS3.getBindable(this,"folder"),settings:AS3.getBindable(this,
"settings"),callback:AS3.bind(this,"uploadActiveItem")}));uploadContainer.add(progressContainer);this.uploadContainers$zpGw.push(progressContainer)}}function uploadActiveItem(){if(this.uploadContainers$zpGw.length>this.activeUploadIndex$zpGw){var uploadContainer=this.uploadContainers$zpGw[this.activeUploadIndex$zpGw];uploadContainer.startUpload();this.activeUploadIndex$zpGw++}else{var close=true;for(var i=0;i<AS3.getBindable(this,"files").length;i++)if(AS3.getBindable(this,"files")[i].getStatus()===
com.coremedia.cms.editor.sdk.upload.FileWrapper.STATUS_ERROR){close=false;this.setTitle(this.resourceManager.getString("com.coremedia.cms.editor.sdk.upload.Upload","UploadProgressDialog_upload_failed"));break}if(close)this.close()}}function close(){var closeable=true;for(var i=0;i<AS3.getBindable(this,"files").length;i++){var file=AS3.getBindable(this,"files")[i];if(file.getStatus()===com.coremedia.cms.editor.sdk.upload.FileWrapper.STATUS_WAITING||file.getStatus()===com.coremedia.cms.editor.sdk.upload.FileWrapper.STATUS_UPLOADING){closeable=
false;break}}if(closeable){if(AS3.getBindable(this,"callback"))AS3.getBindable(this,"callback").call(null,AS3.getBindable(this,"files"));com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.close.call(this)}}return{extend:"com.coremedia.cms.editor.sdk.components.StudioDialog",activeUploadIndex$zpGw:0,constructor:UploadProgressDialogBase$,super$zpGw:function(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.constructor.apply(this,arguments)},addUploads$zpGw:addUploads,addUploadItems$zpGw:addUploadItems,
uploadActiveItem:uploadActiveItem,close:close,config:{files:null,folder:null,callback:null,settings:null},requires:["Ext.container.Container","com.coremedia.cms.editor.sdk.components.StudioDialog","com.coremedia.cms.editor.sdk.upload.Upload_properties","com.coremedia.ui.util.EventUtil"],uses:["com.coremedia.cms.editor.sdk.upload.FileWrapper","com.coremedia.cms.editor.sdk.upload.dialog.UploadProgressContainer","com.coremedia.cms.editor.sdk.upload.dialog.UploadProgressDialog"]}});Ext.define("com.coremedia.cms.editor.sdk.upload.dialog.FileContainer",function(FileContainer){function NAME_PROPERTY$static_(){FileContainer.NAME_PROPERTY=com.coremedia.cms.editor.sdk.upload.FileWrapper.NAME_PROPERTY}function MIME_TYPE_PROPERTY$static_(){FileContainer.MIME_TYPE_PROPERTY=com.coremedia.cms.editor.sdk.upload.FileWrapper.MIME_TYPE_PROPERTY}function FILE_TYPE_PROPERTY$static_(){FileContainer.FILE_TYPE_PROPERTY=com.coremedia.cms.editor.sdk.upload.FileWrapper.FILE_TYPE_PROPERTY}function FileContainer$(config){if(arguments.length<=
0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.upload.dialog.FileContainerBase,{});var defaults_$1=AS3.cast(FileContainer,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var layout_HBox_48_5_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(config_$1,"layout",layout_HBox_48_5_$1);var container_51_5_$1=AS3.cast(Ext.container.Container,{});container_51_5_$1.itemId=net.jangaroo.ext.Exml.asString(FileContainer.PREVIEW_ITEM_ID);container_51_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.FRAME.getSkin());
AS3.setBindable(container_51_5_$1,"width",com.coremedia.cms.editor.sdk.upload.dialog.FileContainerBase.PREVIEW_WIDTH);AS3.setBindable(container_51_5_$1,"height",com.coremedia.cms.editor.sdk.upload.dialog.FileContainerBase.PREVIEW_HEIGHT);container_51_5_$1.items=[];var layout_Center_58_9_$1=AS3.cast(Ext.layout.container.Center,{});AS3.setBindable(container_51_5_$1,"layout",layout_Center_58_9_$1);var container_61_5_$1=AS3.cast(Ext.container.Container,{});container_61_5_$1.flex=1;var layout_Column_63_9_$1=
AS3.cast(Ext.layout.container.Column,{});AS3.setBindable(container_61_5_$1,"layout",layout_Column_63_9_$1);var textField_66_9_$1=AS3.cast(Ext.form.field.Text,{});textField_66_9_$1.allowBlank=false;textField_66_9_$1.columnWidth=1;textField_66_9_$1.labelAlign="top";AS3.setBindable(textField_66_9_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.upload.Upload","Upload_document_name")));textField_66_9_$1.itemId=net.jangaroo.ext.Exml.asString(FileContainer.FILE_NAME_ITEM_ID);
var ui_BindPropertyPlugin_72_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_72_13_$1.bidirectional=true;var ui_ValueExpression_74_17_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_74_17_$1,"context",AS3.getBindable(config,"file"));AS3.setBindable(ui_ValueExpression_74_17_$1,"expression",net.jangaroo.ext.Exml.asString(FileContainer.NAME_PROPERTY));ui_BindPropertyPlugin_72_13_$1.bindTo=new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_74_17_$1);
textField_66_9_$1.plugins=[ui_BindPropertyPlugin_72_13_$1];var displayField_80_9_$1=AS3.cast(Ext.form.field.Display,{});AS3.setBindable(displayField_80_9_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.upload.Upload","Upload_content_type_text")));displayField_80_9_$1.columnWidth=.6;displayField_80_9_$1.labelWidth=40;var ui_BindPropertyPlugin_84_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_84_13_$1.componentProperty=
"value";var ui_ValueExpression_86_17_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_86_17_$1,"context",AS3.getBindable(config,"file"));AS3.setBindable(ui_ValueExpression_86_17_$1,"expression",net.jangaroo.ext.Exml.asString(FileContainer.FILE_TYPE_PROPERTY));ui_BindPropertyPlugin_84_13_$1.bindTo=new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_86_17_$1);displayField_80_9_$1.plugins=[ui_BindPropertyPlugin_84_13_$1];var button_92_9_$1=AS3.cast(Ext.button.Button,
{});button_92_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE.getSkin());button_92_9_$1.columnWidth=.4;AS3.setBindable(button_92_9_$1,"textAlign","right");AS3.setBindable(button_92_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.upload.Upload","Upload_remove_document")));AS3.setBindable(button_92_9_$1,"handler",AS3.bind(this,"callRemoveHandler"));container_61_5_$1.items=[textField_66_9_$1,displayField_80_9_$1,
button_92_9_$1];config_$1.items=[container_51_5_$1,container_61_5_$1];var ui_HorizontalSpacingPlugin_101_5_$1=AS3.cast(com.coremedia.ui.plugins.HorizontalSpacingPlugin,{});config_$1.plugins=[ui_HorizontalSpacingPlugin_101_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$90Oo(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.upload.dialog.FileContainerBase",alias:"widget.com.coremedia.blueprint.studio.config.upload.fileContainer",constructor:FileContainer$,super$90Oo:function(){com.coremedia.cms.editor.sdk.upload.dialog.FileContainerBase.prototype.constructor.apply(this,
arguments)},config:{file:null},statics:{PREVIEW_ITEM_ID:"preview",FILE_NAME_ITEM_ID:"filename",NAME_PROPERTY:undefined,MIME_TYPE_PROPERTY:undefined,FILE_TYPE_PROPERTY:undefined,__initStatics__:function(){NAME_PROPERTY$static_();MIME_TYPE_PROPERTY$static_();FILE_TYPE_PROPERTY$static_()}},requires:["Ext.button.Button","Ext.container.Container","Ext.form.field.Display","Ext.form.field.Text","Ext.layout.container.Center","Ext.layout.container.Column","Ext.layout.container.HBox","com.coremedia.cms.editor.sdk.upload.Upload_properties",
"com.coremedia.cms.editor.sdk.upload.dialog.FileContainerBase","com.coremedia.ui.exml.ValueExpression","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.HorizontalSpacingPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.ContainerSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.upload.FileWrapper"]}});Ext.define("com.coremedia.cms.editor.sdk.upload.dialog.FileContainersObservable",function(FileContainersObservable){function containers_(){this.containers$kAIa=[]}function FileContainersObservable$(){containers_.call(this);this.invalidityExpression$kAIa=com.coremedia.ui.data.ValueExpressionFactory.create("invalid",com.coremedia.ui.data.beanFactory.createLocalBean());this.invalidityExpression$kAIa.setValue(false)}function getFiles(){var files=[];for(var i=0;i<this.size();i++){var wrapper=this.getAt(i).getFileWrapper();
files.push(wrapper)}return files}function getInvalidityExpression(){return this.invalidityExpression$kAIa}function add(fc){this.containers$kAIa.push(fc);com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.cms.editor.sdk.upload.FileWrapper.NAME_PROPERTY,fc.getFileWrapper()).addChangeListener(AS3.bind(this,"validate$kAIa"));this.validate$kAIa()}function remove(fc){fc.destroy();for(var i=0;i<this.containers$kAIa.length;i++)if(this.containers$kAIa[i].getId()===fc.getId()){this.containers$kAIa=
this.containers$kAIa.slice(0,i).concat(this.containers$kAIa.slice(i+1));break}this.validate$kAIa()}function getAt(index){return this.containers$kAIa[index]}function size(){return this.containers$kAIa.length}function isEmpty(){return this.containers$kAIa.length===0}function validate(){if(this.isEmpty()){this.invalidityExpression$kAIa.setValue(true);return}for(var i=0;i<this.containers$kAIa.length;i++){var fc=this.containers$kAIa[i];if(isEmptyString$static(fc.getFileWrapper().getName())){this.invalidityExpression$kAIa.setValue(true);
return}}this.invalidityExpression$kAIa.setValue(false)}function isEmptyString$static(value){return!value||value.length===0}return{invalidityExpression$kAIa:null,constructor:FileContainersObservable$,getFiles:getFiles,getInvalidityExpression:getInvalidityExpression,add:add,remove:remove,getAt:getAt,size:size,isEmpty:isEmpty,validate$kAIa:validate,requires:["com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.beanFactory"],uses:["com.coremedia.cms.editor.sdk.upload.FileWrapper"]}});Ext.define("com.coremedia.cms.editor.sdk.upload.dialog.UploadProgressContainer",function(UploadProgressContainer){function UploadProgressContainer$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.upload.dialog.UploadProgressContainerBase,{});var defaults_$1=AS3.cast(UploadProgressContainer,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var layout_HBox_22_5_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_22_5_$1,"align",
"center");AS3.setBindable(config_$1,"layout",layout_HBox_22_5_$1);var ui_ExtendedDisplayField_25_5_$1=AS3.cast(com.coremedia.ui.components.ExtendedDisplayField,{});ui_ExtendedDisplayField_25_5_$1.itemId=net.jangaroo.ext.Exml.asString(UploadProgressContainer.PROGRESS_STATUS_TEXT);AS3.setBindable(ui_ExtendedDisplayField_25_5_$1,"value",AS3.getBindable(config,"file").getFile().name);ui_ExtendedDisplayField_25_5_$1.flex=3;AS3.setBindable(ui_ExtendedDisplayField_25_5_$1,"overflowBehaviour",com.coremedia.ui.mixins.OverflowBehaviour.ELLIPSIS);
var ui_StatefulProgressBar_29_5_$1=AS3.cast(com.coremedia.ui.components.StatefulProgressBar,{});ui_StatefulProgressBar_29_5_$1.itemId=net.jangaroo.ext.Exml.asString(UploadProgressContainer.PROGRESS_BAR);ui_StatefulProgressBar_29_5_$1.flex=3;var container_31_5_$1=AS3.cast(Ext.container.Container,{});AS3.setBindable(container_31_5_$1,"width",6);config_$1.items=[ui_ExtendedDisplayField_25_5_$1,ui_StatefulProgressBar_29_5_$1,container_31_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$hoXW(config_$1)}
return{extend:"com.coremedia.cms.editor.sdk.upload.dialog.UploadProgressContainerBase",alias:"widget.com.coremedia.blueprint.studio.config.upload.uploadProgressContainer",constructor:UploadProgressContainer$,super$hoXW:function(){com.coremedia.cms.editor.sdk.upload.dialog.UploadProgressContainerBase.prototype.constructor.apply(this,arguments)},statics:{PROGRESS_BAR:"upload-progress-bar",PROGRESS_STATUS_TEXT:"progress-status-text"},requires:["Ext.container.Container","Ext.layout.container.HBox","com.coremedia.cms.editor.sdk.upload.dialog.UploadProgressContainerBase",
"com.coremedia.ui.components.ExtendedDisplayField","com.coremedia.ui.components.StatefulProgressBar","com.coremedia.ui.mixins.OverflowBehaviour","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.upload.dialog.UploadDialogBase",function(UploadDialogBase){var DROP_ZONE_COLLAPSED_CSS$static="dialog-upload-helptext-collapsed";function UploadDialogBase$(config){if(arguments.length<=0)config=null;this.super$Hjuj(config)}function afterRender(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.afterRender.call(this);if(AS3.getBindable(this,"settings")){var openInTabCheckbox=AS3.as(Ext.getCmp(com.coremedia.cms.editor.sdk.upload.dialog.UploadDialog.OPEN_IN_TAB_CHECKBOX),
Ext.form.field.Checkbox);openInTabCheckbox.setValue(AS3.getBindable(this,"settings").getOpenInTab())}this.pathCombo$Hjuj=AS3.as(Ext.getCmp(com.coremedia.cms.editor.sdk.upload.dialog.UploadDialog.FOLDER_COMBOBOX),com.coremedia.cms.editor.sdk.foldercombo.FolderCombo)}function getFolders(){var baseFolder=this.baseFolderCalculation$Hjuj();if(baseFolder)return[baseFolder];return[]}function baseFolderCalculation(){var path="/";if(AS3.getBindable(this,"content"))path=AS3.getBindable(this,"content").getPath();
return path}function removeFileContainer(fileContainer){this.fileContainers$Hjuj.remove(fileContainer);if(this.fileContainers$Hjuj.isEmpty())this.toggleDropZoneStatus$Hjuj()}function uploadButtonHandler(browsePlugin){var fileWrappers=[];var fileList=browsePlugin.getFileList();for(var i=0;i<fileList.length;i++){var fileObject=fileList.item(i);fileWrappers.push(this.createFileWrapper$Hjuj(fileObject))}this.handleDrop(fileWrappers)}function createFileWrapper(fileObject){if(AS3.getBindable(this,"customFileWrapperFactoryMethod"))return AS3.getBindable(this,
"customFileWrapperFactoryMethod")(fileObject);return new com.coremedia.cms.editor.sdk.upload.FileWrapper(fileObject)}function handleDrop(files){var this$=this;Ext.MessageBox.show({title:this.resourceManager.getString("com.coremedia.cms.editor.sdk.upload.Upload","Upload_progress_title"),msg:this.resourceManager.getString("com.coremedia.cms.editor.sdk.upload.Upload","Upload_progress_msg"),closable:false,width:300});com.coremedia.ui.util.EventUtil.invokeLater(function(){for(var i=0;i<files.length;i++){var fc=
AS3.cast(com.coremedia.cms.editor.sdk.upload.dialog.FileContainer,{});AS3.setBindable(fc,"file",files[i]);AS3.setBindable(fc,"settings",AS3.getBindable(this$,"settings"));AS3.setBindable(fc,"removeFileHandler",AS3.bind(this$,"removeFileContainer"));var fileContainer=new com.coremedia.cms.editor.sdk.upload.dialog.FileContainer(fc);this$.fileContainers$Hjuj.add(fileContainer)}Ext.MessageBox.hide();this$.refreshUploadList$Hjuj()})}function getUploadButtonDisabledExpression(){var this$=this;if(!this.validationExpression$Hjuj)this.validationExpression$Hjuj=
com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){if(!this$.fileContainers$Hjuj){this$.fileContainers$Hjuj=new com.coremedia.cms.editor.sdk.upload.dialog.FileContainersObservable;this$.fileContainers$Hjuj.getInvalidityExpression().setValue(true)}if(this$.fileContainers$Hjuj.getInvalidityExpression().getValue())return true;if(!this$.pathCombo$Hjuj)return true;return!this$.pathCombo$Hjuj.getValidationExpression().getValue()});return this.validationExpression$Hjuj}function openInTabHandler(checkbox,
checked){AS3.getBindable(this,"settings").setOpenInTab(checked)}function refreshUploadList(){if(!this.fileContainers$Hjuj.isEmpty()&&!this.dropAreaCollapsed$Hjuj)this.toggleDropZoneStatus$Hjuj();var list=AS3.as(Ext.getCmp(com.coremedia.cms.editor.sdk.upload.dialog.UploadDialog.UPLOAD_LIST),Ext.container.Container);var fileContainer=null;for(var i=0;i<this.fileContainers$Hjuj.size();i++){fileContainer=this.fileContainers$Hjuj.getAt(i);list.add(fileContainer)}}function toggleDropZoneStatus(){var dropArea=
AS3.as(Ext.getCmp(com.coremedia.cms.editor.sdk.upload.dialog.UploadDialog.DROP_BOX),Ext.container.Container);if(!this.dropAreaCollapsed$Hjuj){this.dropAreaCollapsed$Hjuj=true;dropArea.setHeight(UploadDialogBase.UPLOAD_AREA_COLLAPSED_HEIGHT);Ext.getCmp(com.coremedia.cms.editor.sdk.upload.dialog.UploadDialog.DROP_LABEL).addCls(DROP_ZONE_COLLAPSED_CSS$static)}else{this.dropAreaCollapsed$Hjuj=false;dropArea.setHeight(UploadDialogBase.UPLOAD_AREA_HEIGHT);Ext.getCmp(com.coremedia.cms.editor.sdk.upload.dialog.UploadDialog.DROP_LABEL).removeCls(DROP_ZONE_COLLAPSED_CSS$static)}}
function getDefaultContentType(config){if(AS3.getBindable(config,"settings"))return AS3.getBindable(config,"settings").getDefaultContentType();return null}function okPressed(){var uploadDirectory=this.pathCombo$Hjuj.getValue();if(!this.pathCombo$Hjuj.isVisible())uploadDirectory=null;if(uploadDirectory&&AS3.getBindable(this,"settings"))com.coremedia.cms.editor.sdk.util.ContentCreationUtil.updateLastUsedBean(null,AS3.getBindable(this,"settings").getDefaultContentType(),uploadDirectory);this.close();
com.coremedia.cms.editor.sdk.upload.UploadManager.bulkUpload(AS3.getBindable(this,"settings"),uploadDirectory,this.fileContainers$Hjuj.getFiles(),false,AS3.getBindable(this,"callback"))}return{extend:"com.coremedia.cms.editor.sdk.components.StudioDialog",fileContainers$Hjuj:null,dropAreaCollapsed$Hjuj:false,pathCombo$Hjuj:null,validationExpression$Hjuj:null,constructor:UploadDialogBase$,super$Hjuj:function(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.constructor.apply(this,arguments)},
afterRender:afterRender,getFolders:getFolders,baseFolderCalculation$Hjuj:baseFolderCalculation,removeFileContainer:removeFileContainer,uploadButtonHandler:uploadButtonHandler,createFileWrapper$Hjuj:createFileWrapper,handleDrop:handleDrop,getUploadButtonDisabledExpression:getUploadButtonDisabledExpression,openInTabHandler:openInTabHandler,refreshUploadList$Hjuj:refreshUploadList,toggleDropZoneStatus$Hjuj:toggleDropZoneStatus,getDefaultContentType:getDefaultContentType,okPressed:okPressed,config:{content:null,
file:null,customFileWrapperFactoryMethod:null,callback:null,settings:null},statics:{UPLOAD_AREA_HEIGHT:30,UPLOAD_AREA_COLLAPSED_HEIGHT:25,UPLOAD_WINDOW_HEIGHT:453,UPLOAD_WINDOW_WIDTH:430},requires:["Ext","Ext.container.Container","Ext.form.field.Checkbox","Ext.window.MessageBox","com.coremedia.cms.editor.sdk.components.StudioDialog","com.coremedia.cms.editor.sdk.upload.Upload_properties","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.util.EventUtil"],uses:["com.coremedia.cms.editor.sdk.foldercombo.FolderCombo",
"com.coremedia.cms.editor.sdk.upload.FileWrapper","com.coremedia.cms.editor.sdk.upload.UploadManager","com.coremedia.cms.editor.sdk.upload.dialog.FileContainer","com.coremedia.cms.editor.sdk.upload.dialog.FileContainersObservable","com.coremedia.cms.editor.sdk.upload.dialog.UploadDialog","com.coremedia.cms.editor.sdk.util.ContentCreationUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.upload.dialog.UploadProgressContainerBase",function(UploadProgressContainerBase){function ignoredXliffResultCodes_(){this.ignoredXliffResultCodes=[com.coremedia.cms.editor.sdk.upload.XliffImportResultCodes.EMPTY_TRANSUNIT_TARGET_FOR_WHITESPACE_SOURCE]}function UploadProgressContainerBase$(config){if(arguments.length<=0)config=null;this.super$GtDH(config);ignoredXliffResultCodes_.call(this)}function initComponent(){Ext.container.Container.prototype.initComponent.call(this);
this.progressBar$GtDH=AS3.as(this.queryById(com.coremedia.cms.editor.sdk.upload.dialog.UploadProgressContainer.PROGRESS_BAR),com.coremedia.ui.components.StatefulProgressBar);this.filenameLabel$GtDH=AS3.as(this.queryById(com.coremedia.cms.editor.sdk.upload.dialog.UploadProgressContainer.PROGRESS_STATUS_TEXT),Ext.form.field.Display);this.progressBar$GtDH.updateText(this.resourceManager.getString("com.coremedia.cms.editor.sdk.upload.Upload","UploadProgressDialog_upload_waiting"))}function onDestroy(){Ext.tip.QuickTipManager.unregister(this.filenameLabel$GtDH.getId());
Ext.tip.QuickTipManager.unregister(this.progressBar$GtDH.getId())}function afterRender(){Ext.container.Container.prototype.afterRender.call(this);Ext.tip.QuickTipManager.register(AS3.cast(com.coremedia.ui.components.StatefulQuickTip,{target:this.filenameLabel$GtDH.getId(),text:AS3.getBindable(this,"file").getName(),validationState:com.coremedia.ui.mixins.ValidationState.INFO,trackMouse:false,autoHide:true,dismissDelay:3E3}))}function startUpload(){if(AS3.getBindable(this,"file").getStatus()!==com.coremedia.cms.editor.sdk.upload.FileWrapper.STATUS_ERROR){AS3.getBindable(this,
"file").setStatus(com.coremedia.cms.editor.sdk.upload.FileWrapper.STATUS_UPLOADING);this.progressBar$GtDH.updateProgress(0,this.resourceManager.getString("com.coremedia.cms.editor.sdk.upload.Upload","UploadProgressDialog_upload_running"))}if(AS3.getBindable(this,"file").isXliff())AS3.getBindable(this,"file").uploadXliff(AS3.getBindable(this,"settings"),AS3.bind(this,"xliffUploaded$GtDH"),AS3.bind(this,"uploadError$GtDH"),AS3.bind(this,"uploadProgress$GtDH"));else AS3.getBindable(this,"file").upload(AS3.getBindable(this,
"settings"),AS3.getBindable(this,"folder"),AS3.bind(this,"fileUploadedAndContentCreated$GtDH"),AS3.bind(this,"uploadError$GtDH"),AS3.bind(this,"uploadProgress$GtDH"))}function uploadProgress(percentage){var progress=percentage/100;if(percentage<100)this.progressBar$GtDH.updateProgress(progress,this.resourceManager.getString("com.coremedia.cms.editor.sdk.upload.Upload","UploadProgressDialog_upload_running"));else this.progressBar$GtDH.updateProgress(progress,this.resourceManager.getString("com.coremedia.cms.editor.sdk.upload.Upload",
"UploadProgressDialog_upload_processing"))}function xliffUploaded(xliffBulkOperationResult){var this$=this;var translatedContents=[];var results=xliffBulkOperationResult.results;for(var i=0;i<results.length;i++){var resultItem=results[i];if(translatedContents.indexOf(resultItem.content)===-1)translatedContents.push(resultItem.content)}var filteredResults=results.filter(function(resultItem){return resultItem.resultCode!==com.coremedia.cms.editor.sdk.upload.XliffImportResultCodes.SUCCESS&&AS3.getBindable(this$,
"ignoredXliffResultCodes").indexOf(resultItem.resultCode)===-1});if(filteredResults.length>0){var xliffImportResultWindowCfg=AS3.cast(com.coremedia.cms.editor.sdk.upload.dialog.XliffImportResultWindow,{});AS3.setBindable(xliffImportResultWindowCfg,"bulkResultItems",filteredResults);AS3.setBindable(xliffImportResultWindowCfg,"successful",xliffBulkOperationResult.successful);Ext.ComponentManager.create(xliffImportResultWindowCfg).show()}this.finalizeSuccessfulContentUpload$GtDH(translatedContents)}
function fileUploadedAndContentCreated(response){var this$=this;var content=AS3.as(com.coremedia.ui.data.impl.BeanFactoryImpl.resolveBeans(Ext.JSON.decode(response.responseText)),com.coremedia.cap.content.Content);if(content)content.load(function(postProcessedContent){var initializer=com.coremedia.cms.editor.sdk.editorContext.lookupContentInitializer(postProcessedContent.getType());if(initializer)initializer(postProcessedContent);this$.finalizeSuccessfulContentUpload$GtDH([postProcessedContent])});
else this.finalizeSuccessfulUpload$GtDH()}function finalizeSuccessfulContentUpload(postProcessedContents){var this$=this;com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){if(this$.ALWAYS_CHECKIN$GtDH)for(var $1=0;$1<postProcessedContents.length;++$1){var content=postProcessedContents[$1];if(content.isCheckedOutByCurrentSession()){content.checkIn();return undefined}}if(AS3.getBindable(this$,"settings"))if(AS3.getBindable(this$,"settings").isOpenInTabSettingEnabled()){var autoOpenTypes=
AS3.getBindable(this$,"settings").getAutoOpenDocumentTypes();if(autoOpenTypes)for(var $2=0;$2<postProcessedContents.length;++$2){var content2=postProcessedContents[$2];var typeName=content2.getType().getName();if(autoOpenTypes.indexOf(typeName)!==-1)com.coremedia.cms.editor.sdk.editorContext.getContentTabManager().openDocument(content2)}}else if(AS3.getBindable(this$,"settings").getOpenInTab())com.coremedia.cms.editor.sdk.editorContext.getContentTabManager().openDocuments(postProcessedContents);return true}).loadValue(function(){this$.finalizeSuccessfulUpload$GtDH()})}
function finalizeSuccessfulUpload(){this.progressBarUpdateSuccess$GtDH();AS3.getBindable(this,"file").setStatus(com.coremedia.cms.editor.sdk.upload.FileWrapper.STATUS_UPLOADED);AS3.getBindable(this,"callback").call(null)}function progressBarUpdateSuccess(){this.progressBar$GtDH.reset();this.progressBar$GtDH.updateProgress(1,this.resourceManager.getString("com.coremedia.cms.editor.sdk.upload.Upload","UploadProgressDialog_upload_successful"),true);AS3.setBindable(this.progressBar$GtDH,"validationState",
com.coremedia.ui.mixins.ValidationState.SUCCESS)}function uploadError(_,result){var this$=this;AS3.getBindable(this,"file").setStatus(com.coremedia.cms.editor.sdk.upload.FileWrapper.STATUS_ERROR);var prefixPattern=this.resourceManager.getString("com.coremedia.cms.editor.sdk.upload.Upload","Upload_error_tooltip");var errorText=undefined;if(result instanceof com.coremedia.cap.content.IssuesDetectedError){var issues=AS3.cast(com.coremedia.cap.content.IssuesDetectedError,result).issues;for(var i=0;i<
issues.length;i++){if(errorText===undefined)errorText="";else errorText+="\x3cbr/\x3e";errorText+="- "+com.coremedia.cms.editor.sdk.validation.ValidationUtil.formatText(issues[i])}}else errorText=result.message;com.coremedia.ui.util.EventUtil.invokeLater(function(){Ext.tip.QuickTipManager.register(AS3.cast(com.coremedia.ui.components.StatefulQuickTip,{target:this$.progressBar$GtDH.getId(),text:Ext.String.format(prefixPattern,errorText),validationState:com.coremedia.ui.mixins.ValidationState.ERROR,
trackMouse:false,autoHide:true,dismissDelay:3E3}));AS3.setBindable(this$.progressBar$GtDH,"validationState",com.coremedia.ui.mixins.ValidationState.ERROR);this$.progressBar$GtDH.reset();this$.progressBar$GtDH.setValue(100);this$.progressBar$GtDH.updateProgress(1,this$.resourceManager.getString("com.coremedia.cms.editor.sdk.upload.Upload","UploadProgressDialog_upload_failed"),false);AS3.getBindable(this$,"callback").call(null)})}return{extend:"Ext.container.Container",ALWAYS_CHECKIN$GtDH:true,progressBar$GtDH:null,
filenameLabel$GtDH:null,constructor:UploadProgressContainerBase$,super$GtDH:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},initComponent:initComponent,onDestroy:onDestroy,afterRender:afterRender,startUpload:startUpload,uploadProgress$GtDH:uploadProgress,xliffUploaded$GtDH:xliffUploaded,fileUploadedAndContentCreated$GtDH:fileUploadedAndContentCreated,finalizeSuccessfulContentUpload$GtDH:finalizeSuccessfulContentUpload,finalizeSuccessfulUpload$GtDH:finalizeSuccessfulUpload,
progressBarUpdateSuccess$GtDH:progressBarUpdateSuccess,uploadError$GtDH:uploadError,config:{file:null,folder:null,callback:null,settings:null,ignoredXliffResultCodes:undefined},requires:["Ext.ComponentManager","Ext.JSON","Ext.String","Ext.container.Container","Ext.form.field.Display","Ext.tip.QuickTipManager","com.coremedia.cap.content.Content","com.coremedia.cap.content.IssuesDetectedError","com.coremedia.cms.editor.sdk.upload.Upload_properties","com.coremedia.ui.components.StatefulProgressBar",
"com.coremedia.ui.components.StatefulQuickTip","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.impl.BeanFactoryImpl","com.coremedia.ui.mixins.ValidationState","com.coremedia.ui.util.EventUtil"],uses:["com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.upload.FileWrapper","com.coremedia.cms.editor.sdk.upload.XliffImportResultCodes","com.coremedia.cms.editor.sdk.upload.dialog.UploadProgressContainer","com.coremedia.cms.editor.sdk.upload.dialog.XliffImportResultWindow",
"com.coremedia.cms.editor.sdk.validation.ValidationUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.upload.dialog.UploadDialog",function(UploadDialog){function OPEN_IN_TAB_PROPERTY$static_(){UploadDialog.OPEN_IN_TAB_PROPERTY=com.coremedia.cms.editor.sdk.upload.UploadSettings.OPEN_IN_TAB_PROPERTY}function UploadDialog$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.upload.dialog.UploadDialogBase,{});var defaults_$1=AS3.cast(UploadDialog,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,
"title",this.resourceManager.getString("com.coremedia.cms.editor.sdk.upload.Upload","UploadFileAction_menu_item_text"));config_$1["id"]="fileUploadDialog";AS3.setBindable(config_$1,"width",com.coremedia.cms.editor.sdk.upload.dialog.UploadDialogBase.UPLOAD_WINDOW_WIDTH);config_$1.stateId="uploadDialogState";AS3.setBindable(config_$1,"stateful",true);AS3.setBindable(config_$1,"height",com.coremedia.cms.editor.sdk.upload.dialog.UploadDialogBase.UPLOAD_WINDOW_HEIGHT);AS3.setBindable(config_$1,"minHeight",
com.coremedia.cms.editor.sdk.upload.dialog.UploadDialogBase.UPLOAD_WINDOW_HEIGHT);config_$1.resizable=true;config_$1.resizeHandles="s";AS3.setBindable(config_$1,"scrollable","y");config_$1.modal=true;config_$1.constrainHeader=true;config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.WindowSkin.GRID_200.getSkin());var layout_VBox_54_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_54_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_54_5_$1);
var editor_FolderCombo_57_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.foldercombo.FolderCombo,{});AS3.setBindable(editor_FolderCombo_57_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.upload.Upload","Upload_folder_combo_title")));AS3.setBindable(editor_FolderCombo_57_5_$1,"folderPathsExpression",com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"getFolders")));editor_FolderCombo_57_5_$1["id"]=UploadDialog.FOLDER_COMBOBOX;
editor_FolderCombo_57_5_$1.labelAlign="top";editor_FolderCombo_57_5_$1.allowBlank=false;AS3.setBindable(editor_FolderCombo_57_5_$1,"emptyText",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.upload.Upload","Upload_folder_combo_emptyText")));AS3.setBindable(editor_FolderCombo_57_5_$1,"contentType",net.jangaroo.ext.Exml.asString(this.getDefaultContentType(config)));AS3.setBindable(editor_FolderCombo_57_5_$1,"bindTo",com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.cms.editor.sdk.upload.FileWrapper.UPLOAD_FOLDER_PROPERTY,
AS3.getBindable(config,"file")));var ui_BindVisibilityPlugin_67_9_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_67_9_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(AS3.getBindable(config,"content"));editor_FolderCombo_57_5_$1.plugins=[ui_BindVisibilityPlugin_67_9_$1];editor_FolderCombo_57_5_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var container_70_5_$1=AS3.cast(Ext.container.Container,{});container_70_5_$1.flex=1;container_70_5_$1["id"]=
UploadDialog.DROP_BOX;AS3.setBindable(container_70_5_$1,"minHeight",80);container_70_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.FRAME_GRID_200.getSkin());var layout_VBox_75_9_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_75_9_$1,"align","center");AS3.setBindable(layout_VBox_75_9_$1,"pack","center");AS3.setBindable(container_70_5_$1,"layout",layout_VBox_75_9_$1);var button_79_9_$1=AS3.cast(Ext.button.Button,{});AS3.setBindable(button_79_9_$1,
"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.upload.Upload","Upload_drop_button_text")));AS3.setBindable(button_79_9_$1,"handler",AS3.bind(this,"uploadButtonHandler"));AS3.setBindable(button_79_9_$1,"scale","small");button_79_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.INLINE.getSkin());var editor_BrowsePlugin_84_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.components.html5.BrowsePlugin,{});AS3.setBindable(editor_BrowsePlugin_84_13_$1,
"enableFileDrop",true);AS3.setBindable(editor_BrowsePlugin_84_13_$1,"multiple",true);AS3.setBindable(editor_BrowsePlugin_84_13_$1,"dropEl",this.el);button_79_9_$1.plugins=[editor_BrowsePlugin_84_13_$1];var displayField_89_9_$1=AS3.cast(Ext.form.field.Display,{});AS3.setBindable(displayField_89_9_$1,"value",this.resourceManager.getString("com.coremedia.cms.editor.sdk.upload.Upload","Upload_drop_text"));displayField_89_9_$1["id"]=UploadDialog.DROP_LABEL;displayField_89_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.DisplayFieldSkin.EMBEDDED.getSkin());
container_70_5_$1.items=[button_79_9_$1,displayField_89_9_$1];var editor_FileDropPlugin_94_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.upload.FileDropPlugin,{});AS3.setBindable(editor_FileDropPlugin_94_9_$1,"dropHandler",AS3.bind(this,"handleDrop"));AS3.setBindable(editor_FileDropPlugin_94_9_$1,"customFileWrapperFactoryMethod",AS3.getBindable(config,"customFileWrapperFactoryMethod"));container_70_5_$1.plugins=[editor_FileDropPlugin_94_9_$1];var container_97_5_$1=AS3.cast(Ext.container.Container,{});
container_97_5_$1["id"]=UploadDialog.UPLOAD_LIST;container_97_5_$1.items=[];var ui_VerticalSpacingPlugin_102_9_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});AS3.setBindable(ui_VerticalSpacingPlugin_102_9_$1,"modifier",com.coremedia.ui.bem.SpacingBEMEntities.VERTICAL_SPACING_MODIFIER_200);container_97_5_$1.plugins=[ui_VerticalSpacingPlugin_102_9_$1];config_$1.items=[editor_FolderCombo_57_5_$1,container_70_5_$1,container_97_5_$1];var ui_VerticalSpacingPlugin_107_5_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,
{});AS3.setBindable(ui_VerticalSpacingPlugin_107_5_$1,"modifier",com.coremedia.ui.bem.SpacingBEMEntities.VERTICAL_SPACING_MODIFIER_200);config_$1.plugins=[ui_VerticalSpacingPlugin_107_5_$1];var toolbar_110_5_$1=AS3.cast(Ext.toolbar.Toolbar,{});toolbar_110_5_$1["focusableContainer"]=false;var checkbox_112_9_$1=AS3.cast(Ext.form.field.Checkbox,{});checkbox_112_9_$1.checked=true;checkbox_112_9_$1["id"]=UploadDialog.OPEN_IN_TAB_CHECKBOX;AS3.setBindable(checkbox_112_9_$1,"boxLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.upload.Upload",
"Upload_open_in_tab")));checkbox_112_9_$1.handler=AS3.bind(this,"openInTabHandler");var ui_BindVisibilityPlugin_117_13_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_117_13_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(AS3.getBindable(config,"content"));checkbox_112_9_$1.plugins=[ui_BindVisibilityPlugin_117_13_$1];checkbox_112_9_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var tbFill_120_9_$1=AS3.cast(Ext.toolbar.Fill,{});var button_121_9_$1=
AS3.cast(Ext.button.Button,{});button_121_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_PRIMARY.getSkin());AS3.setBindable(button_121_9_$1,"scale","small");AS3.setBindable(button_121_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.upload.Upload","Upload_button_label")));AS3.setBindable(button_121_9_$1,"handler",AS3.bind(this,"okPressed"));var ui_BindPropertyPlugin_126_13_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,
{});ui_BindPropertyPlugin_126_13_$1.componentProperty="disabled";ui_BindPropertyPlugin_126_13_$1.bindTo=this.getUploadButtonDisabledExpression();button_121_9_$1.plugins=[ui_BindPropertyPlugin_126_13_$1];var button_130_9_$1=AS3.cast(Ext.button.Button,{});button_130_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_SECONDARY.getSkin());AS3.setBindable(button_130_9_$1,"scale","small");AS3.setBindable(button_130_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"dialog_defaultCancelButton_text")));AS3.setBindable(button_130_9_$1,"handler",AS3.bind(this,"close"));toolbar_110_5_$1.items=[checkbox_112_9_$1,tbFill_120_9_$1,button_121_9_$1,button_130_9_$1];config_$1.fbar=toolbar_110_5_$1;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$yc4y(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.upload.dialog.UploadDialogBase",alias:"widget.com.coremedia.blueprint.studio.config.upload.uploadDialog",constructor:UploadDialog$,super$yc4y:function(){com.coremedia.cms.editor.sdk.upload.dialog.UploadDialogBase.prototype.constructor.apply(this,
arguments)},statics:{FOLDER_COMBOBOX:"upload-folder-combo",DROP_BOX:"upload-dropBox",DROP_LABEL:"upload-drop-label",OPEN_IN_TAB_CHECKBOX:"openInTabCheckbox",UPLOAD_LIST:"upload-list",OPEN_IN_TAB_PROPERTY:undefined,__initStatics__:function(){OPEN_IN_TAB_PROPERTY$static_()}},requires:["Ext.button.Button","Ext.container.Container","Ext.form.field.Checkbox","Ext.form.field.Display","Ext.layout.container.VBox","Ext.toolbar.Fill","Ext.toolbar.Toolbar","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.upload.Upload_properties",
"com.coremedia.cms.editor.sdk.upload.dialog.UploadDialogBase","com.coremedia.ui.bem.SpacingBEMEntities","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.BindVisibilityPlugin","com.coremedia.ui.plugins.VerticalSpacingPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.ContainerSkin","com.coremedia.ui.skins.DisplayFieldSkin","com.coremedia.ui.skins.WindowSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.components.html5.BrowsePlugin",
"com.coremedia.cms.editor.sdk.foldercombo.FolderCombo","com.coremedia.cms.editor.sdk.upload.FileDropPlugin","com.coremedia.cms.editor.sdk.upload.FileWrapper","com.coremedia.cms.editor.sdk.upload.UploadSettings"]}});Ext.define("com.coremedia.cms.editor.sdk.upload.dialog.FileContainerBase",function(FileContainerBase){function FileContainerBase$(config){if(arguments.length<=0)config=null;this.super$aHWZ(config);AS3.setBindable(this,"removeFileHandler",AS3.getBindable(config,"removeFileHandler"));this.fileWrapper$aHWZ=AS3.getBindable(config,"file");this.addListener("afterlayout",AS3.bind(this,"layoutPanel$aHWZ"))}function getFileWrapper(){return this.fileWrapper$aHWZ}function layoutPanel(){var this$=this;this.removeListener("afterlayout",
AS3.bind(this,"layoutPanel$aHWZ"));var previewFileSizeBytes=com.coremedia.cms.editor.sdk.upload.UploadSettings.DEFAULT_PREVIEW_MAX_FILE_SIZE_MB*1048576;if(AS3.getBindable(this,"settings"))previewFileSizeBytes=AS3.getBindable(this,"settings").getMaxPreviewFileSizeBytes();if(AS3.getBindable(this,"settings")&&AS3.getBindable(this,"settings").isPreviewDisabled()||this.getFileWrapper().getSize()>previewFileSizeBytes){this.setEmptyPreview$aHWZ();return}var previewContainer=AS3.as(this.queryById("preview"),
Ext.container.Container);previewContainer.setDisabled(true);this.appendPreviewElement$aHWZ(function(){previewContainer.setDisabled(!this$.isVisible(true))})}function appendPreviewElement(callback){var this$=this;var reader=new window.FileReader;reader.onload=function(){return function(e){var previewable=this$.appendPreviewImage$aHWZ(e,callback);if(!previewable){this$.setEmptyPreview$aHWZ();callback.call(null)}}}();reader.readAsDataURL(this.getFileWrapper().getFile())}function appendPreviewImage(e,
callback){if(!e.target||!e.target.result||e.target.result.indexOf("data:image")===-1)return false;var imgPath=this.getFileWrapper().getFile()["name"];if(imgPath.lastIndexOf(".")===-1)return false;var extn=imgPath.substring(imgPath.lastIndexOf(".")+1).toLowerCase();if(extn!=="gif"&&extn!=="png"&&extn!=="jpg"&&extn!=="jpeg")return false;try{var previewContainer=AS3.as(this.queryById("preview"),Ext.container.Container);var image=Ext.create(com.coremedia.ui.components.Image,{});image.setSrc(e.target.result);
image.setStyle("max-height:"+(FileContainerBase.PREVIEW_HEIGHT-FileContainerBase.PREVIEW_CONTAINER_BORDER_WIDTH)+"px; max-width:"+(FileContainerBase.PREVIEW_WIDTH-FileContainerBase.PREVIEW_CONTAINER_BORDER_WIDTH)+"px;");previewContainer.add(image);var imgEl=image.getEl();var layout=AS3.cast(Ext.layout.container.Center,previewContainer.getLayout());previewContainer.updateLayout();callback.call(null);return true}catch(error){com.coremedia.ui.logging.Logger.error("Failed to create preview: "+error)}}
function setEmptyPreview(){var previewContainer=AS3.as(this.queryById("preview"),Ext.container.Container);var text=Ext.create(com.coremedia.ui.components.IconDisplayField,{});AS3.setBindable(text,"value",mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.upload.Upload","Upload_mimetype_text"));text.ui=com.coremedia.ui.skins.IconDisplayFieldSkin.EMBEDDED.getSkin();AS3.setBindable(text,"maxWidth",FileContainerBase.PREVIEW_WIDTH-FileContainerBase.STANDARD_GRID_100*2);
AS3.setBindable(text,"textAlign",com.coremedia.ui.mixins.TextAlign.CENTER);AS3.setBindable(text,"overflowBehaviour",com.coremedia.ui.mixins.OverflowBehaviour.BREAK_WORD);AS3.setBindable(text,"scale","medium");text.setFieldStyle("padding-top: 0");previewContainer.add(text);previewContainer.updateLayout()}function callRemoveHandler(){AS3.getBindable(this,"removeFileHandler")(this)}return{extend:"Ext.container.Container",fileWrapper$aHWZ:null,constructor:FileContainerBase$,super$aHWZ:function(){Ext.container.Container.prototype.constructor.apply(this,
arguments)},getFileWrapper:getFileWrapper,layoutPanel$aHWZ:layoutPanel,appendPreviewElement$aHWZ:appendPreviewElement,appendPreviewImage$aHWZ:appendPreviewImage,setEmptyPreview$aHWZ:setEmptyPreview,callRemoveHandler:callRemoveHandler,config:{removeFileHandler:null,settings:null},statics:{PREVIEW_WIDTH:90,PREVIEW_HEIGHT:70,PREVIEW_CONTAINER_BORDER_WIDTH:2,STANDARD_GRID_100:6},requires:["Ext","Ext.container.Container","Ext.layout.container.Center","com.coremedia.ui.components.IconDisplayField","com.coremedia.ui.components.Image",
"com.coremedia.ui.logging.Logger","com.coremedia.ui.mixins.OverflowBehaviour","com.coremedia.ui.mixins.TextAlign","com.coremedia.ui.skins.IconDisplayFieldSkin","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.upload.UploadSettings"]}});Ext.define("com.coremedia.cms.editor.sdk.upload.dialog.UploadProgressDialog",function(UploadProgressDialog){function UploadProgressDialog$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.upload.dialog.UploadProgressDialogBase,{});var defaults_$1=AS3.cast(UploadProgressDialog,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.sdk.upload.Upload","UploadProgressDialog_title"));
config_$1.modal=config.modal||false;AS3.setBindable(config_$1,"width",450);AS3.setBindable(config_$1,"minWidth",450);AS3.setBindable(config_$1,"minHeight",155);AS3.setBindable(config_$1,"closable",true);config_$1.resizable=true;config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.WindowSkin.GRID_200.getSkin());config_$1.constrainHeader=true;var layout_VBox_35_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_35_5_$1,"align","stretch");AS3.setBindable(config_$1,
"layout",layout_VBox_35_5_$1);var displayField_38_5_$1=AS3.cast(Ext.form.field.Display,{});displayField_38_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.DisplayFieldSkin.BOLD);displayField_38_5_$1.padding="0 0 6 0";AS3.setBindable(displayField_38_5_$1,"value",this.resourceManager.getString("com.coremedia.cms.editor.sdk.upload.Upload","UploadProgressDialog_header_msg"));var fieldContainer_41_5_$1=AS3.cast(Ext.form.FieldContainer,{});fieldContainer_41_5_$1.itemId=net.jangaroo.ext.Exml.asString(UploadProgressDialog.PROGRESS_LIST);
AS3.setBindable(fieldContainer_41_5_$1,"scrollable","y");AS3.setBindable(fieldContainer_41_5_$1,"maxHeight",500);fieldContainer_41_5_$1.bubbleEvents=["add","remove"];var layout_VBox_46_9_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_46_9_$1,"align","stretch");AS3.setBindable(fieldContainer_41_5_$1,"layout",layout_VBox_46_9_$1);fieldContainer_41_5_$1.items=[];var ui_VerticalSpacingPlugin_52_9_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});fieldContainer_41_5_$1.plugins=
[ui_VerticalSpacingPlugin_52_9_$1];config_$1.items=[displayField_38_5_$1,fieldContainer_41_5_$1];var toolbar_57_5_$1=AS3.cast(Ext.toolbar.Toolbar,{});var editor_DocumentPath_59_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.DocumentPath,{});editor_DocumentPath_59_9_$1.hideLabel=true;AS3.setBindable(editor_DocumentPath_59_9_$1,"bindTo",com.coremedia.ui.data.ValueExpressionFactory.createFromValue(AS3.getBindable(config,"folder")));var ui_BindVisibilityPlugin_62_13_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,
{});ui_BindVisibilityPlugin_62_13_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(AS3.getBindable(config,"folder"));editor_DocumentPath_59_9_$1.plugins=[ui_BindVisibilityPlugin_62_13_$1];editor_DocumentPath_59_9_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var tbFill_65_9_$1=AS3.cast(Ext.toolbar.Fill,{});toolbar_57_5_$1.items=[editor_DocumentPath_59_9_$1,tbFill_65_9_$1];config_$1.fbar=toolbar_57_5_$1;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$CSN9(config_$1)}
return{extend:"com.coremedia.cms.editor.sdk.upload.dialog.UploadProgressDialogBase",alias:"widget.com.coremedia.blueprint.studio.config.upload.uploadProgressDialog",constructor:UploadProgressDialog$,super$CSN9:function(){com.coremedia.cms.editor.sdk.upload.dialog.UploadProgressDialogBase.prototype.constructor.apply(this,arguments)},statics:{PROGRESS_LIST:"upload-progress-list"},requires:["Ext.form.FieldContainer","Ext.form.field.Display","Ext.layout.container.VBox","Ext.toolbar.Fill","Ext.toolbar.Toolbar",
"com.coremedia.cms.editor.sdk.upload.Upload_properties","com.coremedia.cms.editor.sdk.upload.dialog.UploadProgressDialogBase","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.BindVisibilityPlugin","com.coremedia.ui.plugins.VerticalSpacingPlugin","com.coremedia.ui.skins.DisplayFieldSkin","com.coremedia.ui.skins.WindowSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.DocumentPath"]}});Ext.define("com.coremedia.cms.editor.sdk.upload.dialog.XliffImportResultWindow",function(XliffImportResultWindow){function XliffImportResultWindow$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.bulkOperation.BulkResultWindow,{});var defaults_$1=AS3.cast(XliffImportResultWindow,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"title",AS3.getBindable(config,"successful")?this.resourceManager.getString("com.coremedia.cms.editor.sdk.upload.Upload",
"bulkResult_success_window_title"):this.resourceManager.getString("com.coremedia.cms.editor.sdk.upload.Upload","bulkResult_error_window_title"));AS3.setBindable(config_$1,"bulkResultItems",AS3.getBindable(config,"bulkResultItems"));AS3.setBindable(config_$1,"resourceBundle",this.resourceManager.getResourceBundle(null,"com.coremedia.cms.editor.sdk.upload.Upload").content);AS3.setBindable(config_$1,"errorCodes",[com.coremedia.cms.editor.sdk.upload.XliffImportResultCodes.FAILED,com.coremedia.cms.editor.sdk.upload.XliffImportResultCodes.DOES_NOT_EXIST,
com.coremedia.cms.editor.sdk.upload.XliffImportResultCodes.MASTER_CHANGED,com.coremedia.cms.editor.sdk.upload.XliffImportResultCodes.MASTER_VERSION_OUTDATED,com.coremedia.cms.editor.sdk.upload.XliffImportResultCodes.INVALID_XLIFF,com.coremedia.cms.editor.sdk.upload.XliffImportResultCodes.INVALID_CONTENT_ID,com.coremedia.cms.editor.sdk.upload.XliffImportResultCodes.NO_SUCH_PROPERTY,com.coremedia.cms.editor.sdk.upload.XliffImportResultCodes.ALREADY_CHECKED_OUT,com.coremedia.cms.editor.sdk.upload.XliffImportResultCodes.STRING_TOO_LONG,
com.coremedia.cms.editor.sdk.upload.XliffImportResultCodes.STRING_LIST_TOO_LONG,com.coremedia.cms.editor.sdk.upload.XliffImportResultCodes.INVALID_MARKUP,com.coremedia.cms.editor.sdk.upload.XliffImportResultCodes.DUPLICATE_NAME,com.coremedia.cms.editor.sdk.upload.XliffImportResultCodes.INVALID_INTERNAL_LINK,com.coremedia.cms.editor.sdk.upload.XliffImportResultCodes.INVALID_LOCALE,com.coremedia.cms.editor.sdk.upload.XliffImportResultCodes.EMPTY_TRANSUNIT_TARGET,com.coremedia.cms.editor.sdk.upload.XliffImportResultCodes.EMPTY_TRANSUNIT_TARGET_FOR_WHITESPACE_SOURCE]);
var layout_Anchor_44_5_$1=AS3.cast(Ext.layout.container.Anchor,{});AS3.setBindable(config_$1,"layout",layout_Anchor_44_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$hwAK(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.bulkOperation.BulkResultWindow",alias:"widget.com.coremedia.blueprint.studio.config.upload.xliffImportResultWindow",constructor:XliffImportResultWindow$,super$hwAK:function(){com.coremedia.cms.editor.sdk.bulkOperation.BulkResultWindow.prototype.constructor.apply(this,
arguments)},config:{successful:false},requires:["Ext.layout.container.Anchor","com.coremedia.cms.editor.sdk.bulkOperation.BulkResultWindow","com.coremedia.cms.editor.sdk.upload.Upload_properties","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.upload.XliffImportResultCodes"]}});Ext.define("com.coremedia.cms.editor.sdk.upload.UploadSettings",function(UploadSettings){var DEFAULT_CONTENT_TYPE_PROPERTY$static="defaultContentType";var MIME_TYPE_MAPPINGS$static="mimeTypeMappings";var AUTO_OPEN_PROPERTY$static="autoOpenDocumentTypes";var PREVIEW_DISABLED_PROPERTY$static="previewDisabled";var PREVIEW_MAX_FILE_SIZE_MB_PROPERTY$static="previewMaxFileSizeMB";var TIMEOUT_PROPERTY$static="timeout";function UploadSettings$(){this.super$ayst();var url="upload/config";var preferredSiteId=
com.coremedia.cms.editor.sdk.editorContext.getSitesService().getPreferredSiteId();if(preferredSiteId)url+="?"+Ext.urlEncode({site:com.coremedia.cms.editor.sdk.editorContext.getSitesService().getPreferredSiteId()});this.configBean$ayst=com.coremedia.ui.data.beanFactory.getRemoteBean(url)}function setOpenInTabSettingEnabled(useSettings){this.autoOpenSettings$ayst=useSettings}function isOpenInTabSettingEnabled(){return this.autoOpenSettings$ayst}function isPreviewDisabled(){return this.get(PREVIEW_DISABLED_PROPERTY$static)}
function getMaxPreviewFileSizeMB(){return this.get(PREVIEW_MAX_FILE_SIZE_MB_PROPERTY$static)}function getMaxPreviewFileSizeBytes(){return this.getMaxPreviewFileSizeMB()*1048576}function ensureLoaded(){if(this.getDefaultContentType()===undefined)this.load(Ext.emptyFn);return this}function load(callback){var this$=this;this.configBean$ayst.invalidate(function(){this$.set(DEFAULT_CONTENT_TYPE_PROPERTY$static,this$.configBean$ayst.get(DEFAULT_CONTENT_TYPE_PROPERTY$static));this$.set(MIME_TYPE_MAPPINGS$static,
this$.configBean$ayst.get(MIME_TYPE_MAPPINGS$static));this$.set(AUTO_OPEN_PROPERTY$static,this$.configBean$ayst.get(AUTO_OPEN_PROPERTY$static));this$.set(PREVIEW_DISABLED_PROPERTY$static,this$.configBean$ayst.get(PREVIEW_DISABLED_PROPERTY$static));this$.set(PREVIEW_MAX_FILE_SIZE_MB_PROPERTY$static,this$.configBean$ayst.get(PREVIEW_MAX_FILE_SIZE_MB_PROPERTY$static)||UploadSettings.DEFAULT_PREVIEW_MAX_FILE_SIZE_MB);if(this$.configBean$ayst.get(TIMEOUT_PROPERTY$static)>0)this$.set(TIMEOUT_PROPERTY$static,
this$.configBean$ayst.get(TIMEOUT_PROPERTY$static));callback()})}function getTimeout(){return this.get(TIMEOUT_PROPERTY$static)}function getDefaultContentType(){return this.get(DEFAULT_CONTENT_TYPE_PROPERTY$static)}function getAutoOpenDocumentTypes(){return this.get(AUTO_OPEN_PROPERTY$static)}function getOpenInTab(){var value=com.coremedia.ui.util.LocalStorageUtil.getItem(UploadSettings.OPEN_IN_TAB_PROPERTY);return value&&value==="true"}function setOpenInTab(b){com.coremedia.ui.util.LocalStorageUtil.setItem(UploadSettings.OPEN_IN_TAB_PROPERTY,
""+b)}function getMimeTypeMappings(){return this.get(MIME_TYPE_MAPPINGS$static)}return{extend:"com.coremedia.ui.data.impl.BeanImpl",configBean$ayst:null,autoOpenSettings$ayst:false,constructor:UploadSettings$,super$ayst:function(){com.coremedia.ui.data.impl.BeanImpl.prototype.constructor.apply(this,arguments)},setOpenInTabSettingEnabled:setOpenInTabSettingEnabled,isOpenInTabSettingEnabled:isOpenInTabSettingEnabled,isPreviewDisabled:isPreviewDisabled,getMaxPreviewFileSizeMB:getMaxPreviewFileSizeMB,
getMaxPreviewFileSizeBytes:getMaxPreviewFileSizeBytes,ensureLoaded:ensureLoaded,load:load,getTimeout:getTimeout,getDefaultContentType:getDefaultContentType,getAutoOpenDocumentTypes:getAutoOpenDocumentTypes,getOpenInTab:getOpenInTab,setOpenInTab:setOpenInTab,getMimeTypeMappings:getMimeTypeMappings,statics:{OPEN_IN_TAB_PROPERTY:"openUploadsInTab",DEFAULT_PREVIEW_MAX_FILE_SIZE_MB:32},requires:["Ext","com.coremedia.ui.data.beanFactory","com.coremedia.ui.data.impl.BeanImpl","com.coremedia.ui.util.LocalStorageUtil"],
uses:["com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.upload.OpenUploadDialogAction",function(OpenUploadDialogAction){function OpenUploadDialogAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.upload.OpenUploadDialogActionBase,{});var defaults_$1=AS3.cast(OpenUploadDialogAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$ZskS(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.upload.OpenUploadDialogActionBase",
constructor:OpenUploadDialogAction$,super$ZskS:function(){com.coremedia.cms.editor.sdk.upload.OpenUploadDialogActionBase.prototype.constructor.apply(this,arguments)},statics:{ACTION_ID:"openUploadDialogAction"},requires:["com.coremedia.cms.editor.sdk.upload.OpenUploadDialogActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.upload.XliffImportResultCodes",function(XliffImportResultCodes){function XliffImportResultCodes$(){}return{constructor:XliffImportResultCodes$,statics:{FAILED:"FAILED",DOES_NOT_EXIST:"DOES_NOT_EXIST",MASTER_CHANGED:"MASTER_CHANGED",MASTER_VERSION_OUTDATED:"MASTER_VERSION_OUTDATED",INVALID_CONTENT_ID:"INVALID_CONTENT_ID",ALREADY_CHECKED_OUT:"ALREADY_CHECKED_OUT",STRING_TOO_LONG:"STRING_TOO_LONG",NO_SUCH_PROPERTY:"NO_SUCH_PROPERTY",STRING_LIST_TOO_LONG:"STRING_LIST_TOO_LONG",
INVALID_MARKUP:"INVALID_MARKUP",INVALID_XLIFF:"INVALID_XLIFF",SUCCESS:"SUCCESS",DUPLICATE_NAME:"DUPLICATE_NAME",INVALID_INTERNAL_LINK:"INVALID_INTERNAL_LINK",INVALID_LOCALE:"INVALID_LOCALE",EMPTY_TRANSUNIT_TARGET:"EMPTY_TRANSUNIT_TARGET",EMPTY_TRANSUNIT_TARGET_FOR_WHITESPACE_SOURCE:"EMPTY_TRANSUNIT_TARGET_FOR_WHITESPACE_SOURCE"}}});Ext.define("com.coremedia.cms.editor.sdk.upload.XliffBulkOperationResult",function(XliffBulkOperationResult){function XliffBulkOperationResult$(error,successful,results){this.super$52lm(error,successful,results)}return{extend:"com.coremedia.cap.content.results.impl.BulkOperationResultImpl",constructor:XliffBulkOperationResult$,super$52lm:function(){com.coremedia.cap.content.results.impl.BulkOperationResultImpl.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cap.content.results.impl.BulkOperationResultImpl"]}});Ext.define("com.coremedia.cms.editor.sdk.upload.FileWrapper",function(FileWrapper){var DEFAULT_UPLOAD_SIZE$static=67108864;var XLIFF_MIME_TYPE$static="application/x-xliff";var XLIFF_MIME_TYPE_EXT$static;function XLIFF_MIME_TYPE_EXT$static_(){XLIFF_MIME_TYPE_EXT$static=XLIFF_MIME_TYPE$static+"+xml"}function status_(){this.status$FX$a=FileWrapper.STATUS_WAITING}function FileWrapper$(file){this.super$FX$a();status_.call(this);this.file$FX$a=file;var fileName=file.name;var name=fileName;if(name.indexOf(".")!==
-1)name=com.coremedia.cms.editor.sdk.util.StringHelper.trim(name.substring(0,name.lastIndexOf("."))," ");this.set(FileWrapper.NAME_PROPERTY,name);this.set(FileWrapper.FILE_PROPERTY,file);var mimeType=file.type;if(!mimeType)mimeType="text/plain";if(fileName.search(/\.(xliff|xlf)$/)!==-1)mimeType=XLIFF_MIME_TYPE$static;var extensionType="";if(fileName.indexOf(".")!==-1)extensionType=fileName.substr(fileName.lastIndexOf(".")+1).toLowerCase();this.set(FileWrapper.FILE_TYPE_PROPERTY,extensionType);this.set(FileWrapper.MIME_TYPE_PROPERTY,
mimeType);this.set(FileWrapper.SIZE_PROPERTY,file.size)}function setCustomUploadUrl(url){this.customUploadUrl$FX$a=url}function setResultObject(result){this.resultObject$FX$a=result}function getResultObject(){return this.resultObject$FX$a}function getName(){return this.get(FileWrapper.NAME_PROPERTY)}function getSize(){return this.get(FileWrapper.SIZE_PROPERTY)}function getMimeType(){return this.get(FileWrapper.MIME_TYPE_PROPERTY)}function getFile(){return this.get(FileWrapper.FILE_PROPERTY)}function isXliff(){return this.getMimeType()===
XLIFF_MIME_TYPE$static||this.getMimeType()===XLIFF_MIME_TYPE_EXT$static}function getStatus(){return this.status$FX$a}function setStatus(value){this.status$FX$a=value}function uploadXliff(settings,success,error,progress){var fileSelector={};fileSelector.getInputFile=function(){};fileSelector.detachInputFile=function(){};fileSelector.getFileCls=function(){return settings.getDefaultContentType()};fileSelector.getFileName=function(){return""};var url=com.coremedia.ui.data.impl.RemoteService.calculateRequestURI("translate/importXliff");
var upldr=new com.coremedia.cms.editor.sdk.components.html5.Uploader(AS3.cast(com.coremedia.cms.editor.sdk.components.html5.Uploader,{fileSelector:fileSelector,timeout:this.getTimeout$FX$a(settings),url:url,method:"POST"}));upldr.addListener("uploadcomplete",function(_uploader,response){var remoteServiceMethodResponse=new com.coremedia.ui.data.impl.RemoteServiceMethodResponseImpl(url,true,response,{});var bulkOperationResult=(new com.coremedia.cms.editor.sdk.upload.XliffBulkOperationResultBuilder).convert(remoteServiceMethodResponse);
success(bulkOperationResult)});upldr.addListener("uploadfailure",function(_uploader,response){error(response)});upldr.addListener("uploadprogress",function(_uploader,e){var percent=Math.round(e.loaded/e.total*100);progress(percent);com.coremedia.ui.logging.Logger.debug("Upload progress: "+percent)});upldr.addListener("uploadtimeout",function(_uploader,e){error(e);AS3.trace("[DEBUG]"," Timeout for upload")});upldr.upload(this.file$FX$a)}function upload(settings,folder,success,error,progress){var this$=
this;var headerParams={};if(com.coremedia.cms.editor.sdk.editorContext.getSitesService().getPreferredSite())headerParams.site=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getPreferredSiteId();if(folder)headerParams.folderUri=folder.getUriPath();var uploaderConfig=AS3.cast(com.coremedia.cms.editor.sdk.components.html5.Uploader,{});AS3.setBindable(uploaderConfig,"maxFileSize",DEFAULT_UPLOAD_SIZE$static);AS3.setBindable(uploaderConfig,"timeout",this.getTimeout$FX$a(settings));AS3.setBindable(uploaderConfig,
"url",this.customUploadUrl$FX$a?com.coremedia.ui.data.impl.RemoteService.calculateRequestURI(this.customUploadUrl$FX$a):com.coremedia.ui.data.impl.RemoteService.calculateRequestURI("upload/create"));AS3.setBindable(uploaderConfig,"method","POST");AS3.setBindable(uploaderConfig,"headerParams",headerParams);AS3.setBindable(uploaderConfig,"params",{contentName:this.getName()});var upldr=new com.coremedia.cms.editor.sdk.components.html5.Uploader(uploaderConfig);upldr.addListener("uploadcomplete",function(_uploader,
response){this$.setResultObject(com.coremedia.ui.data.impl.BeanFactoryImpl.resolveBeans(Ext.JSON.decode(response.responseText)));if(response.status===201)success.call(null,response);else error.call(null,response.statusText+" (code "+response.status+")")});upldr.addListener("uploadfailure",function(_uploader,response){try{var result=com.coremedia.ui.data.impl.RemoteService.createRemoteError(response);error.call(null,result.message,result)}catch(e){if(AS3.is(e,AS3.Error))error.call(null,response.responseText);
else throw e;}});upldr.addListener("uploadprogress",function(_uploader,e){if(e.lengthComputable){var percent=Math.round(e.loaded/e.total*100);progress(percent)}else com.coremedia.ui.logging.Logger.debug("Unable to compute progress information of Upload since the total size is unknown.")});upldr.addListener("uploadtimeout",function(_uploader,e){error(e);AS3.trace("[DEBUG]"," Timeout for upload")});upldr.upload(this.file$FX$a)}function getTimeout(settings){if(settings)return settings.getTimeout();return 3E5}
return{extend:"com.coremedia.ui.data.impl.BeanImpl",file$FX$a:undefined,resultObject$FX$a:null,customUploadUrl$FX$a:undefined,constructor:FileWrapper$,super$FX$a:function(){com.coremedia.ui.data.impl.BeanImpl.prototype.constructor.apply(this,arguments)},setCustomUploadUrl:setCustomUploadUrl,setResultObject:setResultObject,getResultObject:getResultObject,getName:getName,getSize:getSize,getMimeType:getMimeType,getFile:getFile,isXliff:isXliff,getStatus:getStatus,setStatus:setStatus,uploadXliff:uploadXliff,
upload:upload,getTimeout$FX$a:getTimeout,statics:{FILE_PROPERTY:"file",NAME_PROPERTY:"name",MIME_TYPE_PROPERTY:"mimeType",FILE_TYPE_PROPERTY:"extensionType",SIZE_PROPERTY:"size",UPLOAD_FOLDER_PROPERTY:"uploadFolder",XLIFF_MIME_TYPE_EXT:undefined,STATUS_ERROR:-1,STATUS_WAITING:0,STATUS_UPLOADING:1,STATUS_UPLOADED:2,__initStatics__:function(){XLIFF_MIME_TYPE_EXT$static_()}},requires:["AS3.Error","AS3.trace","Ext.JSON","com.coremedia.cms.editor.sdk.upload.Upload_properties","com.coremedia.icons.CoreIcons_properties",
"com.coremedia.ui.data.impl.BeanFactoryImpl","com.coremedia.ui.data.impl.BeanImpl","com.coremedia.ui.data.impl.RemoteService","com.coremedia.ui.data.impl.RemoteServiceMethodResponseImpl","com.coremedia.ui.logging.Logger"],uses:["com.coremedia.cms.editor.sdk.components.html5.Uploader","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.upload.XliffBulkOperationResultBuilder","com.coremedia.cms.editor.sdk.util.StringHelper"]}});Ext.define("com.coremedia.cms.editor.sdk.upload.UploadHelper",function(UploadHelper){function isHTML5$static(){return window.File&&window.FileReader&&window.FileList&&window.Blob}function resolveTooltip$static(){if(!UploadHelper.isHTML5())return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.upload.Upload","UploadFileAction_tooltip_disabled");return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.upload.Upload","UploadFileAction_tooltip")}
function resolveMenuItemTooltip$static(thisMenuItem){if(!UploadHelper.isHTML5())Ext.tip.QuickTipManager.register({target:thisMenuItem.getEl().getAttribute("id"),text:UploadHelper.resolveTooltip()})}function UploadHelper$(){}return{constructor:UploadHelper$,statics:{isHTML5:isHTML5$static,resolveTooltip:resolveTooltip$static,resolveMenuItemTooltip:resolveMenuItemTooltip$static},requires:["Ext.tip.QuickTipManager","com.coremedia.cms.editor.sdk.upload.Upload_properties","mx.resources.ResourceManager"]}});Ext.define("com.coremedia.cms.editor.sdk.upload.XliffBulkOperationResultItem",function(XliffBulkOperationResultItem){function XliffBulkOperationResultItem$(resultCode,content,property){this.super$NwCZ(resultCode,content,this.impediment);this["property"]=property}return{extend:"com.coremedia.cap.content.results.impl.BulkOperationResultItemImpl",constructor:XliffBulkOperationResultItem$,super$NwCZ:function(){com.coremedia.cap.content.results.impl.BulkOperationResultItemImpl.prototype.constructor.apply(this,
arguments)},requires:["com.coremedia.cap.content.results.impl.BulkOperationResultItemImpl"]}});Ext.define("com.coremedia.cms.editor.sdk.upload.FileDropPluginBase",function(FileDropPluginBase){function FileDropPluginBase$(config){this.super$Zho2();if(arguments.length<=0)config=null;AS3.setBindable(this,"dropHandler",AS3.getBindable(config,"dropHandler")||AS3.bind(this,"defaultDropHandler"));AS3.setBindable(this,"folderValueExpression",AS3.getBindable(config,"folderValueExpression"));AS3.setBindable(this,"uploadDisabledExpression",AS3.getBindable(config,"uploadDisabledExpression"));AS3.setBindable(this,
"onDragOverHandler",AS3.getBindable(config,"onDragOverHandler"));AS3.setBindable(this,"onDragEndHandler",AS3.getBindable(config,"onDragEndHandler"));AS3.setBindable(this,"customFileWrapperFactoryMethod",AS3.getBindable(config,"customFileWrapperFactoryMethod"))}function defaultDropHandler(files,settings){if(!AS3.getBindable(this,"folderValueExpression"))throw new AS3.Error("No folderValueExpression configured for file upload plugin.");var folder=AS3.getBindable(this,"folderValueExpression").getValue();
com.coremedia.cms.editor.sdk.upload.UploadManager.upload(files,folder,settings)}function init(cmp){this.blobBoxCmp$Zho2=AS3.as(cmp,Ext.container.Container);cmp.mon(cmp,"afterrender",AS3.bind(this,"initFileDrop$Zho2"),this)}function initFileDrop(cmp){var el=cmp.getEl();el.on("dragover",AS3.bind(this,"onDragOver$Zho2"),this);el.on("dragend",AS3.bind(this,"onDragEnd$Zho2"),this);el.on("dragleave",AS3.bind(this,"onDragEnd$Zho2"),this);el.on("drop",AS3.bind(this,"onDrop$Zho2"),this)}function onDragEnd(e){if(AS3.getBindable(this,
"onDragEndHandler"))AS3.getBindable(this,"onDragEndHandler")(e)}function onDragOver(e){if(AS3.getBindable(this,"uploadDisabledExpression")&&AS3.getBindable(this,"uploadDisabledExpression").getValue())return;if(AS3.getBindable(this,"folderValueExpression")&&AS3.getBindable(this,"folderValueExpression").getValue()){var folder=AS3.getBindable(this,"folderValueExpression").getValue();if(AS3.is(folder,com.coremedia.cap.content.Content)&&com.coremedia.cms.editor.sdk.util.AccessControlUtil.isReadOnly(folder))return}if(e.browserEvent&&
e.browserEvent.dataTransfer)e.browserEvent.dataTransfer.dropEffect="copy";e.stopEvent();this.blobBoxCmp$Zho2.fireEvent("dragover",this.blobBoxCmp$Zho2,e);if(AS3.getBindable(this,"onDragOverHandler"))AS3.getBindable(this,"onDragOverHandler")(e)}function createFileWrapper(fileObject){if(AS3.getBindable(this,"customFileWrapperFactoryMethod"))return AS3.getBindable(this,"customFileWrapperFactoryMethod")(fileObject);return new com.coremedia.cms.editor.sdk.upload.FileWrapper(fileObject)}function onDrop(e){var this$=
this;if(AS3.getBindable(this,"uploadDisabledExpression")&&AS3.getBindable(this,"uploadDisabledExpression").getValue())return;e.stopEvent();var cmp=this.blobBoxCmp$Zho2,browserEvent=e.browserEvent,dataTransfer=browserEvent.dataTransfer,files=dataTransfer.files,numFiles=files.length,i=0,file;cmp.fireEvent("drop",cmp,e);var wrappers=[];for(;i<numFiles;i++){file=files[i];var wrapper=this.createFileWrapper$Zho2(file);wrappers.push(wrapper)}var settings=new com.coremedia.cms.editor.sdk.upload.UploadSettings;
settings.load(function(){AS3.getBindable(this$,"dropHandler").call(null,wrappers,settings)});if(AS3.getBindable(this,"onDragEndHandler"))AS3.getBindable(this,"onDragEndHandler")(e)}return{extend:"Ext.util.Observable",mixins:["ext.Plugin"],blobBoxCmp$Zho2:null,constructor:FileDropPluginBase$,super$Zho2:function(){Ext.util.Observable.prototype.constructor.apply(this,arguments)},defaultDropHandler:defaultDropHandler,init:init,initFileDrop$Zho2:initFileDrop,onDragEnd$Zho2:onDragEnd,onDragOver$Zho2:onDragOver,
createFileWrapper$Zho2:createFileWrapper,onDrop$Zho2:onDrop,config:{folderValueExpression:null,uploadDisabledExpression:null,dropHandler:null,onDragOverHandler:null,onDragEndHandler:null,customFileWrapperFactoryMethod:null},requires:["AS3.Error","Ext.container.Container","Ext.util.Observable","com.coremedia.cap.content.Content","ext.Plugin"],uses:["com.coremedia.cms.editor.sdk.upload.FileWrapper","com.coremedia.cms.editor.sdk.upload.UploadManager","com.coremedia.cms.editor.sdk.upload.UploadSettings",
"com.coremedia.cms.editor.sdk.util.AccessControlUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.upload.UploadManager",function(UploadManager){function getMappedDocumentType$static(file,settings){var mimeType=file.getMimeType();if(settings.getMimeTypeMappings()){var documentType=settings.getMimeTypeMappings()[mimeType];if(!documentType&&mimeType.indexOf("/")!==-1){var parentMimeType=mimeType.substr(0,mimeType.indexOf("/"));documentType=settings.getMimeTypeMappings()[parentMimeType]}return documentType||settings.getDefaultContentType()}return null}function upload$static(files,
folder,settings,modal,callback){switch(Math.max(arguments.length,2)){case 2:settings=null;case 3:modal=false;case 4:callback=null}var path=folder.getPath();settings.setOpenInTabSettingEnabled(true);UploadManager.bulkUpload(settings,path,files,modal,callback)}function bulkUpload$static(settings,uploadDirectory,files,modal,callback){switch(Math.max(arguments.length,3)){case 3:modal=false;case 4:callback=null}var needsUpload=false;for(var i=0;i<files.length;i++){var fileWrapper=files[i];if(!fileWrapper.isXliff())needsUpload=
true}if(!needsUpload)showUploadProgressDialog$static(files,settings,null,modal,callback);else if(uploadDirectory)com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getChild(uploadDirectory,function(folder){if(folder)folder.load(function(){showUploadProgressDialog$static(files,settings,folder,modal,callback)});else com.coremedia.cms.editor.sdk.util.ContentCreationUtil.createRequiredSubfolders(uploadDirectory,function(result){if(result.success)UploadManager.bulkUpload(settings,
uploadDirectory,files,modal,callback);else if(result.remoteError){var msg=Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.upload.Upload","Upload_folder_error"),uploadDirectory,result.remoteError.errorName);com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showError(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.upload.Upload","Upload_error"),msg)}},true)});else showUploadProgressDialog$static(files,settings,null,
modal,callback)}function showUploadProgressDialog$static(files,settings,folder,modal,callback){var pgDialog=new com.coremedia.cms.editor.sdk.upload.dialog.UploadProgressDialog(AS3.cast(com.coremedia.cms.editor.sdk.upload.dialog.UploadProgressDialog,{files:files,settings:settings,folder:folder,modal:modal,callback:callback}));pgDialog.show()}function UploadManager$(){}return{constructor:UploadManager$,statics:{getMappedDocumentType:getMappedDocumentType$static,upload:upload$static,bulkUpload:bulkUpload$static},
requires:["Ext.String","com.coremedia.cap.common.SESSION","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.upload.dialog.UploadProgressDialog","com.coremedia.cms.editor.sdk.util.ContentCreationUtil","com.coremedia.cms.editor.sdk.util.MessageBoxUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.upload.UploadMenuItem",function(UploadMenuItem){function UploadMenuItem$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.menu.Item,{});var defaults_$1=AS3.cast(UploadMenuItem,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.itemId="uploadMenuItem";AS3.setBindable(config_$1,"listeners",{"afterrender":com.coremedia.cms.editor.sdk.upload.UploadHelper.resolveMenuItemTooltip});AS3.setBindable(config_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.upload.Upload",
"UploadFileAction_menu_item_text")));AS3.setBindable(config_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","upload")));var upload_OpenUploadDialogAction_23_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.upload.OpenUploadDialogAction,{});config_$1.baseAction=new com.coremedia.cms.editor.sdk.upload.OpenUploadDialogAction(upload_OpenUploadDialogAction_23_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$3qwc(config_$1)}return{extend:"Ext.menu.Item",
alias:"widget.com.coremedia.blueprint.studio.config.upload.uploadMenuItem",constructor:UploadMenuItem$,super$3qwc:function(){Ext.menu.Item.prototype.constructor.apply(this,arguments)},requires:["Ext.menu.Item","com.coremedia.cms.editor.sdk.upload.Upload_properties","com.coremedia.icons.CoreIcons_properties","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.upload.OpenUploadDialogAction","com.coremedia.cms.editor.sdk.upload.UploadHelper"]}});Ext.define("com.coremedia.cms.editor.sdk.upload.XliffBulkOperationResultBuilder",function(XliffBulkOperationResultBuilder){function makeResultItem(resultItem){return new com.coremedia.cms.editor.sdk.upload.XliffBulkOperationResultItem(resultItem["category"],resultItem["content"],resultItem["property"])}function makeResultObject(error,successful,resultItems){return new com.coremedia.cms.editor.sdk.upload.XliffBulkOperationResult(error,successful,resultItems)}function XliffBulkOperationResultBuilder$(){this.super$30sB()}
return{extend:"com.coremedia.cap.content.impl.BulkOperationResultBuilder",makeResultItem:makeResultItem,makeResultObject:makeResultObject,super$30sB:function(){com.coremedia.cap.content.impl.BulkOperationResultBuilder.prototype.constructor.apply(this,arguments)},constructor:XliffBulkOperationResultBuilder$,requires:["com.coremedia.cap.content.impl.BulkOperationResultBuilder"],uses:["com.coremedia.cms.editor.sdk.upload.XliffBulkOperationResult","com.coremedia.cms.editor.sdk.upload.XliffBulkOperationResultItem"]}});Ext.define("com.coremedia.cms.editor.sdk.upload.OpenUploadDialogActionBase",function(OpenUploadDialogActionBase){function OpenUploadDialogActionBase$(config){if(arguments.length<=0)config=null;this.super$bxYD(config)}function calculateDisabled(){if(!com.coremedia.cms.editor.sdk.upload.UploadHelper.isHTML5())return true;var contents=this.getContents();if(contents===undefined)return undefined;if(contents.length===0)return false;if(contents.length!==1)return true;var theFolder=AS3.as(contents[0],com.coremedia.cap.content.Content);
if(!theFolder||theFolder.isDocument())return true;var mimeTypeMappings=this.getUploadSettings$bxYD().ensureLoaded().getMimeTypeMappings();if(mimeTypeMappings===undefined)return undefined;var repository=theFolder.getRepository();for(var mimeType in mimeTypeMappings)if(mimeTypeMappings.hasOwnProperty(mimeType)){var contentType=repository.getContentType(mimeTypeMappings[mimeType]);if(repository.getAccessControl().mayCreate(theFolder,contentType))return false}var defaultContentType=repository.getContentType(this.getUploadSettings$bxYD().getDefaultContentType());
return!repository.getAccessControl().mayCreate(theFolder,defaultContentType)}function handle(){var contents=this.getContents();if(contents.length>0){var content=contents[0];if(content.isDocument())content=content.getParent();this.openUploadDialog$bxYD(content)}else this.openUploadDialog$bxYD(null)}function getUploadSettings(){if(!this.uploadSettings$bxYD)this.uploadSettings$bxYD=new com.coremedia.cms.editor.sdk.upload.UploadSettings;return this.uploadSettings$bxYD}function openUploadDialog(content){var this$=
this;this.getUploadSettings$bxYD().load(function(){if(!content){var preferredSite=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getPreferredSite();if(preferredSite)com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(getEditorialPathFromStudioConfiguration$static).loadValue(function(folder){if(folder)this$.createDialog$bxYD(folder);else{var root=preferredSite.getSiteRootFolder();root.getChild(root.getPath(),function(folder){if(folder)this$.createDialog$bxYD(folder);else this$.createDialog$bxYD(null)})}});
else this$.createDialog$bxYD(com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getRoot())}else this$.createDialog$bxYD(content)})}function getEditorialPathFromStudioConfiguration$static(){return com.coremedia.cms.editor.sdk.util.StudioConfigurationUtil.getConfiguration("Content Creation","paths.editorial")}function createDialog(content){var this$=this;com.coremedia.ui.data.ValueExpressionFactory.create(com.coremedia.cap.content.ContentPropertyNames.PATH,content).loadValue(function(){var dialog=
new com.coremedia.cms.editor.sdk.upload.dialog.UploadDialog(AS3.cast(com.coremedia.cms.editor.sdk.upload.dialog.UploadDialog,{content:content,settings:this$.getUploadSettings$bxYD()}));dialog.show()})}return{extend:"com.coremedia.cms.editor.sdk.actions.ContentAction",uploadSettings$bxYD:null,constructor:OpenUploadDialogActionBase$,super$bxYD:function(){com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.constructor.apply(this,arguments)},calculateDisabled:calculateDisabled,handle:handle,
getUploadSettings$bxYD:getUploadSettings,openUploadDialog$bxYD:openUploadDialog,createDialog$bxYD:createDialog,requires:["com.coremedia.cap.common.SESSION","com.coremedia.cap.content.Content","com.coremedia.cap.content.ContentPropertyNames","com.coremedia.cms.editor.sdk.actions.ContentAction","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.upload.UploadHelper","com.coremedia.cms.editor.sdk.upload.UploadSettings","com.coremedia.cms.editor.sdk.upload.dialog.UploadDialog",
"com.coremedia.cms.editor.sdk.util.StudioConfigurationUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.columns.grid.IconColumnBase",function(IconColumnBase){function IconColumnBase$(config){if(arguments.length<=0)config=null;this.super$3uaT(config)}function getRenderer(value,metadata,record,rowIndex,colIndex,store,view){return this.tpl.apply({modifiers:this.getModifierCls(this.calculateModifier(value,metadata,record,rowIndex,colIndex,store)),iconCls:this.calculateIconCls(value,metadata,record,rowIndex,colIndex,store)||"",iconText:this.calculateIconText(value,
metadata,record,rowIndex,colIndex,store)||"",toolTipText:this.calculateToolTipText(value,metadata,record,rowIndex,colIndex,store)||""})}function getXTemplate$static(){var xTemplate=new Ext.XTemplate(['\x3cdiv aria-label\x3d"{iconText:escape}" class\x3d"'+com.coremedia.ui.bem.IconWithTextBEMEntities.BLOCK+' {modifiers:escape}" {toolTipText:unsafeQtip}\x3e','\x3cspan class\x3d"'+com.coremedia.ui.bem.IconWithTextBEMEntities.ELEMENT_ICON+' {iconCls:escape}"\x3e\x3c/span\x3e','\x3cspan style\x3d"width: 0px;position:absolute;overflow:hidden;"\x3e{iconText:escape}\x3c/span\x3e',
'\x3cspan class\x3d"'+com.coremedia.ui.bem.IconWithTextBEMEntities.ELEMENT_TEXT+'"\x3e{iconText:escape}\x3c/span\x3e',"\x3c/div\x3e"]);return xTemplate}function getXButtonTemplate$static(){var xTemplate=new Ext.XTemplate(['\x3cdiv role\x3d"button" aria-label\x3d"{iconText:escape}" class\x3d"'+com.coremedia.ui.bem.IconWithTextBEMEntities.BLOCK+' {modifiers:escape}" {toolTipText:unsafeQtip}\x3e','\x3cspan class\x3d"'+com.coremedia.ui.bem.IconWithTextBEMEntities.ELEMENT_ICON+' {iconCls:escape}"\x3e\x3c/span\x3e',
'\x3cspan style\x3d"width: 0px;position:absolute;overflow:hidden;"\x3e{iconText:escape}\x3c/span\x3e',"\x3c/div\x3e"]);return xTemplate}function getModifierCls(modifier){var classes=[];AS3.getBindable(this,"iconOnly")&&classes.push(com.coremedia.ui.bem.IconWithTextBEMEntities.MODIFIER_ICON_ONLY.getCSSClass());if(modifier){var modifiers=AS3.as(modifier,Array)||[modifier];modifiers.forEach(function(modifier){if(AS3.is(modifier,String))classes.push(com.coremedia.ui.bem.IconWithTextBEMEntities.BLOCK.createModifier(modifier));
if(AS3.is(modifier,com.coremedia.ui.models.bem.BEMModifier))classes.push(modifier)})}return classes.join(" ")}function calculateModifier(value,metadata,record,rowIndex,colIndex,store){return AS3.getBindable(this,"modifier")}function calculateIconCls(value,metadata,record,rowIndex,colIndex,store){return AS3.getBindable(this,"iconCls")}function calculateIconText(value,metadata,record,rowIndex,colIndex,store){return AS3.getBindable(this,"iconText")}function calculateToolTipText(value,metadata,record,
rowIndex,colIndex,store){return AS3.getBindable(this,"toolTipText")}return{extend:"Ext.grid.column.Column",metadata:{"":["PublicApi"]},constructor:IconColumnBase$,super$3uaT:function(){Ext.grid.column.Column.prototype.constructor.apply(this,arguments)},getRenderer:getRenderer,getModifierCls:getModifierCls,calculateModifier:calculateModifier,calculateIconCls:calculateIconCls,calculateIconText:calculateIconText,calculateToolTipText:calculateToolTipText,config:{modifier:undefined,iconOnly:true,iconCls:null,
iconText:null,toolTipText:null},statics:{getXTemplate:getXTemplate$static,getXButtonTemplate:getXButtonTemplate$static},requires:["Ext.XTemplate","Ext.grid.column.Column","com.coremedia.ui.bem.IconWithTextBEMEntities","com.coremedia.ui.models.bem.BEMModifier"]}});Ext.define("com.coremedia.cms.editor.sdk.columns.grid.FreshnessColumn",function(FreshnessColumn){function FreshnessColumn$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.grid.column.Date,{});var defaults_$1=AS3.cast(FreshnessColumn,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.header=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.columns.grid.GridColumns","freshness_header"));config_$1.stateId="freshness";config_$1.format=
net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","dateFormat"));config_$1.dataIndex="freshness";config_$1["sortField"]="freshness";AS3.setBindable(config_$1,"width",120);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$JrDU(config_$1)}return{extend:"Ext.grid.column.Date",metadata:{"":["PublicApi"]},constructor:FreshnessColumn$,super$JrDU:function(){Ext.grid.column.Date.prototype.constructor.apply(this,arguments)},requires:["Ext.grid.column.Date",
"com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.columns.grid.GridColumns_properties","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.columns.grid.NameColumn",function(NameColumn){function NameColumn$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.grid.column.Column,{});var defaults_$1=AS3.cast(NameColumn,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.header=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.columns.grid.GridColumns","name_header"));config_$1.stateId="name";config_$1.dataIndex=net.jangaroo.ext.Exml.asString(NameColumn.DATA_INDEX);
AS3.setBindable(config_$1,"align","left");config_$1.renderer=com.coremedia.cms.editor.sdk.columns.grid.StyleClassAddingRenderer.makeRenderer("nameClass");config_$1["sortField"]="name";net.jangaroo.ext.Exml.apply(config_$1,config);this.super$CUo_(config_$1)}return{extend:"Ext.grid.column.Column",metadata:{"":["PublicApi"]},constructor:NameColumn$,super$CUo_:function(){Ext.grid.column.Column.prototype.constructor.apply(this,arguments)},statics:{DATA_INDEX:"name"},requires:["Ext.grid.column.Column",
"com.coremedia.cms.editor.sdk.columns.grid.GridColumns_properties","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.columns.grid.StyleClassAddingRenderer"]}});Ext.define("com.coremedia.cms.editor.sdk.columns.grid.IconColumn",function(IconColumn){function IconColumn$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.columns.grid.IconColumnBase,{});var defaults_$1=AS3.cast(IconColumn,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.header=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.columns.grid.GridColumns","icon_header"));AS3.setBindable(config_$1,
"width",IconColumn.DEFAULT_WIDTH);config_$1.fixed=true;config_$1.stateId="icon";config_$1.dataIndex="name";config_$1.renderer=AS3.bind(this,"getRenderer");config_$1.tpl=com.coremedia.cms.editor.sdk.columns.grid.IconColumnBase.getXTemplate();net.jangaroo.ext.Exml.apply(config_$1,config);this.super$9WGi(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.columns.grid.IconColumnBase",metadata:{"":["PublicApi"]},constructor:IconColumn$,super$9WGi:function(){com.coremedia.cms.editor.sdk.columns.grid.IconColumnBase.prototype.constructor.apply(this,
arguments)},statics:{DEFAULT_WIDTH:24},requires:["com.coremedia.cms.editor.sdk.columns.grid.GridColumns_properties","com.coremedia.cms.editor.sdk.columns.grid.IconColumnBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.columns.grid.StatusColumn",function(StatusColumn){function StatusColumn$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.columns.grid.IconColumn,{});var defaults_$1=AS3.cast(StatusColumn,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.header=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.columns.grid.GridColumns","status_header"));AS3.setBindable(config_$1,
"align","center");AS3.setBindable(config_$1,"width",32);config_$1.fixed=true;config_$1.stateId="status";config_$1.dataIndex="status";net.jangaroo.ext.Exml.apply(config_$1,config);this.super$j8sb(config_$1)}function calculateIconCls(value,metadata,record,rowIndex,colIndex,store){return com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.getIconStyleClassForStatus(AS3.as(value,String))}function calculateToolTipText(value,metadata,record,rowIndex,colIndex,store){var data=Ext.apply({},record.data,
record.getAssociatedData());return com.coremedia.cms.editor.sdk.util.ContentLifecycleUtil.localizeDetailedLifecycleStatus(AS3.as(value,String),data.editor)}function calculateIconText(value,metadata,record,rowIndex,colIndex,store){var data=Ext.apply({},record.data,record.getAssociatedData());return com.coremedia.cms.editor.sdk.util.ContentLifecycleUtil.localizeDetailedLifecycleStatus(AS3.as(value,String),data.editor)}return{extend:"com.coremedia.cms.editor.sdk.columns.grid.IconColumn",metadata:{"":["PublicApi"]},
constructor:StatusColumn$,super$j8sb:function(){com.coremedia.cms.editor.sdk.columns.grid.IconColumn.prototype.constructor.apply(this,arguments)},calculateIconCls:calculateIconCls,calculateToolTipText:calculateToolTipText,calculateIconText:calculateIconText,requires:["Ext","com.coremedia.cms.editor.sdk.columns.grid.GridColumns_properties","com.coremedia.cms.editor.sdk.columns.grid.IconColumn","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.util.ContentLifecycleUtil","com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.columns.grid.TypeColumn",function(TypeColumn){function TypeColumn$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.grid.column.Column,{});var defaults_$1=AS3.cast(TypeColumn,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.header=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.columns.grid.GridColumns","type_header"));config_$1.stateId="type";AS3.setBindable(config_$1,"width",
75);config_$1.fixed=true;config_$1.dataIndex="type";net.jangaroo.ext.Exml.apply(config_$1,config);this.super$_88j(config_$1)}return{extend:"Ext.grid.column.Column",metadata:{"":["PublicApi"]},constructor:TypeColumn$,super$_88j:function(){Ext.grid.column.Column.prototype.constructor.apply(this,arguments)},requires:["Ext.grid.column.Column","com.coremedia.cms.editor.sdk.columns.grid.GridColumns_properties","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.columns.grid.SiteLocaleColumn",function(SiteLocaleColumn){function SiteLocaleColumn$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.grid.column.Column,{});var defaults_$1=AS3.cast(SiteLocaleColumn,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.header=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.columns.grid.GridColumns","siteLocale_header"));config_$1.stateId="siteLocale";
AS3.setBindable(config_$1,"width",120);config_$1.dataIndex="siteLocale";config_$1["sortField"]="siteLocale";net.jangaroo.ext.Exml.apply(config_$1,config);this.super$iRXq(config_$1)}return{extend:"Ext.grid.column.Column",metadata:{"":["PublicApi"]},constructor:SiteLocaleColumn$,super$iRXq:function(){Ext.grid.column.Column.prototype.constructor.apply(this,arguments)},requires:["Ext.grid.column.Column","com.coremedia.cms.editor.sdk.columns.grid.GridColumns_properties","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.columns.grid.ThumbnailColumn",function(ThumbnailColumn){function ThumbnailColumn$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.grid.column.Column,{});var defaults_$1=AS3.cast(ThumbnailColumn,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.stateId="thumbnail";AS3.setBindable(config_$1,"width",96);config_$1.resizable=false;config_$1.sortable=false;config_$1.dataIndex="thumbnailUrl";config_$1.renderer=com.coremedia.cms.editor.sdk.util.ImageLinkListRenderer.thumbColRenderer;
net.jangaroo.ext.Exml.apply(config_$1,config);this.super$9dw5(config_$1)}return{extend:"Ext.grid.column.Column",metadata:{"":["PublicApi"]},constructor:ThumbnailColumn$,super$9dw5:function(){Ext.grid.column.Column.prototype.constructor.apply(this,arguments)},requires:["Ext.grid.column.Column","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.util.ImageLinkListRenderer"]}});Ext.define("com.coremedia.cms.editor.sdk.columns.grid.StyleClassAddingRenderer",function(StyleClassAddingRenderer){function makeRenderer$static(classDataIndex){return function(value,metaData,record){var cls=AS3.as(record.get(classDataIndex),String);if(cls)if(metaData.css)metaData.css+=" "+cls;else metaData.css=cls;return value}}function StyleClassAddingRenderer$(){}return{constructor:StyleClassAddingRenderer$,statics:{makeRenderer:makeRenderer$static}}});Ext.define("com.coremedia.cms.editor.sdk.columns.grid.SiteNameColumn",function(SiteNameColumn){function SiteNameColumn$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.grid.column.Column,{});var defaults_$1=AS3.cast(SiteNameColumn,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.header=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.columns.grid.GridColumns","siteName_header"));config_$1.stateId="siteName";AS3.setBindable(config_$1,
"width",80);config_$1.dataIndex="siteName";config_$1["sortField"]="siteName";net.jangaroo.ext.Exml.apply(config_$1,config);this.super$bhJb(config_$1)}return{extend:"Ext.grid.column.Column",metadata:{"":["PublicApi"]},constructor:SiteNameColumn$,super$bhJb:function(){Ext.grid.column.Column.prototype.constructor.apply(this,arguments)},requires:["Ext.grid.column.Column","com.coremedia.cms.editor.sdk.columns.grid.GridColumns_properties","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.columns.grid.TypeIconColumn",function(TypeIconColumn){function TypeIconColumn$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.columns.grid.IconColumn,{});var defaults_$1=AS3.cast(TypeIconColumn,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.header=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.columns.grid.GridColumns","type_header"));AS3.setBindable(config_$1,
"width",AS3.getBindable(config,"showTypeName")?75:com.coremedia.cms.editor.sdk.columns.grid.IconColumn.DEFAULT_WIDTH);config_$1.fixed=!AS3.getBindable(config,"showTypeName");AS3.setBindable(config_$1,"iconOnly",!AS3.getBindable(config,"showTypeName"));config_$1.stateId="type";config_$1.dataIndex="typeCls";net.jangaroo.ext.Exml.apply(config_$1,config);this.super$qcY6(config_$1)}function calculateIconCls(value,metadata,record,rowIndex,colIndex,store){return AS3.as(value,String)}function calculateIconText(value,
metadata,record,rowIndex,colIndex,store){var data=Ext.apply({},record.data,record.getAssociatedData());return AS3.as(data.type,String)}function calculateToolTipText(value,metadata,record,rowIndex,colIndex,store){return this.calculateIconText(value,metadata,record,rowIndex,colIndex,store)}return{extend:"com.coremedia.cms.editor.sdk.columns.grid.IconColumn",metadata:{"":["PublicApi"]},constructor:TypeIconColumn$,super$qcY6:function(){com.coremedia.cms.editor.sdk.columns.grid.IconColumn.prototype.constructor.apply(this,
arguments)},calculateIconCls:calculateIconCls,calculateIconText:calculateIconText,calculateToolTipText:calculateToolTipText,config:{showTypeName:false},requires:["Ext","com.coremedia.cms.editor.sdk.columns.grid.GridColumns_properties","com.coremedia.cms.editor.sdk.columns.grid.IconColumn","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.columns.grid.CreationDateColumn",function(CreationDateColumn){function CreationDateColumn$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.grid.column.Date,{});var defaults_$1=AS3.cast(CreationDateColumn,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.header=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.columns.grid.GridColumns","creationDate_header"));AS3.setBindable(config_$1,
"width",120);config_$1.stateId="creationDate";config_$1.format=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","dateFormat"));config_$1.dataIndex="creationDate";config_$1["sortField"]="creationdate";net.jangaroo.ext.Exml.apply(config_$1,config);this.super$qExW(config_$1)}return{extend:"Ext.grid.column.Date",metadata:{"":["PublicApi"]},constructor:CreationDateColumn$,super$qExW:function(){Ext.grid.column.Date.prototype.constructor.apply(this,arguments)},
requires:["Ext.grid.column.Date","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.columns.grid.GridColumns_properties","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.columns.grid.ScoreColumn",function(ScoreColumn){function ScoreColumn$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.grid.column.Column,{});var defaults_$1=AS3.cast(ScoreColumn,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.header=net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.columns.grid.GridColumns","score_header"));AS3.setBindable(config_$1,"width",120);config_$1.stateId=
"score";config_$1.fixed=true;config_$1.dataIndex="score";config_$1["sortField"]="score";config_$1["sortDirection"]="desc";net.jangaroo.ext.Exml.apply(config_$1,config);this.super$io4h(config_$1)}return{extend:"Ext.grid.column.Column",metadata:{"":["PublicApi"]},constructor:ScoreColumn$,super$io4h:function(){Ext.grid.column.Column.prototype.constructor.apply(this,arguments)},requires:["Ext.grid.column.Column","com.coremedia.cms.editor.sdk.columns.grid.GridColumns_properties","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.IEditorContext",function(IEditorContext){return{}});Ext.define("com.coremedia.cms.editor.sdk.foldercombo.FolderComboBase",function(FolderComboBase){var lookupMethods$static;function lookupMethods$static_(){lookupMethods$static=[]}function FolderComboBase$(config){if(arguments.length<=0)config=null;if(!AS3.getBindable(config,"fieldLabel","DUMMY"))AS3.setBindable(config,"fieldLabel",this.resourceManager.getString("com.coremedia.cms.editor.sdk.foldercombo.FolderCombo","FolderCombo_title"));this.config$yEJ9=config;this.super$yEJ9(config)}function afterRender(){com.coremedia.ui.components.LocalComboBox.prototype.afterRender.call(this);
var available=this.getAvailablePathsExpression();this.selectFirst$yEJ9(available);this.getAvailablePathsExpression().addChangeListener(AS3.bind(this,"selectFirst$yEJ9"));this.addListener("value",AS3.bind(this,"validateFolder$yEJ9"));this.validateFolder$yEJ9()}function validateFolder(){var this$=this;AS3.setBindable(this,"validationState",null);AS3.setBindable(this,"validationMessage",null);this.getValidationExpression().setValue(true);var path=this.getValue();if(!path){AS3.setBindable(this,"validationState",
com.coremedia.ui.mixins.ValidationState.ERROR);AS3.setBindable(this,"validationMessage",this.resourceManager.getString("com.coremedia.cms.editor.sdk.foldercombo.FolderCombo","FolderCombo_emptyText"));this.getValidationExpression().setValue(false);return}var child=com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getChild(path);if(child)child.load(function(loadedChild){if(com.coremedia.cms.editor.sdk.util.AccessControlUtil.isReadOnly(loadedChild)){AS3.setBindable(this$,"validationState",
com.coremedia.ui.mixins.ValidationState.ERROR);AS3.setBindable(this$,"validationMessage",this$.resourceManager.getString("com.coremedia.cms.editor.sdk.foldercombo.FolderCombo","FolderCombo_readOnlyText"));this$.getValidationExpression().setValue(false)}})}function getValidationExpression(){if(!this.validationExpression$yEJ9)this.validationExpression$yEJ9=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(true);return this.validationExpression$yEJ9}function selectFirst(source){var value=
source.getValue();if(value&&value.length>0){var selected=value[0];this.setValue(selected);AS3.getBindable(this.config$yEJ9,"bindTo").setValue(selected)}}function addLookupMethod$static(lookup){lookupMethods$static.push(lookup)}function onDestroy(){this.getAvailablePathsExpression().removeChangeListener(AS3.bind(this,"selectFirst$yEJ9"));com.coremedia.ui.components.LocalComboBox.prototype.onDestroy.call(this)}function createFoldersStore(config){var paths=this.getAvailablePathsExpression().getValue();
if(paths&&paths.length>0)return paths.map(function(item){return item.path});return[]}function getAvailablePathsExpression(){var this$=this;if(!this.availableFolderPathsExpression$yEJ9)this.availableFolderPathsExpression$yEJ9=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var result=[];var contentType=getContentType$static(this$.config$yEJ9);var content=null;var premular=AS3.as(com.coremedia.cms.editor.sdk.editorContext.getWorkArea().getActiveTab(),Ext.panel.Panel);if(premular&&
AS3.is(premular,com.coremedia.cms.editor.sdk.premular.Premular))content=AS3.as(premular,com.coremedia.cms.editor.sdk.premular.Premular).getContent();for(var $1=0;$1<lookupMethods$static.length;++$1){var method=lookupMethods$static[$1];var defaultFolder=method.call(null,content,contentType);if(!defaultFolder)continue;if(AS3.as(defaultFolder,String))result=result.concat(makeRecords$static([defaultFolder]));else if(AS3.as(defaultFolder,Array))result=result.concat(makeRecords$static(defaultFolder))}if(getContentType$static(this$.config$yEJ9)){var lastUsedFolders=
com.coremedia.cms.editor.sdk.util.ContentCreationUtil.getLastUsedFolders(getContentType$static(this$.config$yEJ9));if(lastUsedFolders&&lastUsedFolders.length>0)result=result.concat(makeRecords$static(lastUsedFolders))}var defaults=getDefaultFolders$static(this$.config$yEJ9);if(defaults)result=defaults.concat(result);if(result.length===0)return undefined;var additionalPaths=com.coremedia.ui.util.ObjectUtils.getPropertyAt(com.coremedia.cms.editor.sdk.editorContext.getPreferences(),"contentCreationPaths",
null);if(additionalPaths!=null){var additionalFolders=findFolders$static(additionalPaths,contentType);if(additionalFolders)for(var j=0;j<additionalFolders.length;j++){var additionalFolderPath=additionalFolders[j].getPath();if(additionalFolderPath===undefined)continue;if(additionalFolderPath&&result.indexOf(additionalFolderPath)===-1)result=result.concat(makeRecords$static([additionalFolderPath]))}}if(result.length===0)return undefined;var uniqueResult=[];Ext.each(result,function(elem,idx){var found=
false;Ext.each(uniqueResult,function(innerElem,idx){if(elem.path===innerElem.path){found=true;return false}return true});if(!found)uniqueResult.push(elem)});return uniqueResult.map(function(item){return item.path})});return this.availableFolderPathsExpression$yEJ9}function findFolders$static(additionalPaths,contentType){var paths=com.coremedia.ui.util.ObjectUtils.getPropertyAt(additionalPaths,contentType.getName(),null);if(paths!=null)return paths;else if(contentType.getParent()!=null)return findFolders$static(additionalPaths,
contentType.getParent());else return[]}function getContentType$static(config){var contentType=AS3.getBindable(config,"contentType");if(!contentType)if(AS3.getBindable(config,"contentTypeExpression"))contentType=AS3.getBindable(config,"contentTypeExpression").getValue();if(!contentType){AS3.trace("neither 'contentType' nor 'contentTypeExpression' available to determine target folder");return null}return com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getContentType(contentType)}
function getDefaultFolders$static(config){var formattedFolders=[];if(AS3.getBindable(config,"folderPathsExpression")){var defaults=AS3.getBindable(config,"folderPathsExpression").getValue();if(defaults===undefined)return undefined;return makeRecords$static(defaults)}else{var configFolders=AS3.as(AS3.getBindable(config,"folders"),Array);if(configFolders)formattedFolders=makeRecords$static(configFolders.map(function(path){return com.coremedia.cms.editor.sdk.util.PathFormatter.formatSitePath(path)}))}return formattedFolders||
[]}function makeRecords$static(paths){var result=[];Ext.each(paths,function(path,idx){result.push({id:idx,path:path})});return result}return{extend:"com.coremedia.ui.components.LocalComboBox",availableFolderPathsExpression$yEJ9:null,validationExpression$yEJ9:null,config$yEJ9:null,constructor:FolderComboBase$,super$yEJ9:function(){com.coremedia.ui.components.LocalComboBox.prototype.constructor.apply(this,arguments)},afterRender:afterRender,validateFolder$yEJ9:validateFolder,getValidationExpression:getValidationExpression,
selectFirst$yEJ9:selectFirst,onDestroy:onDestroy,createFoldersStore:createFoldersStore,getAvailablePathsExpression:getAvailablePathsExpression,statics:{lookupMethods:undefined,addLookupMethod:addLookupMethod$static,__initStatics__:function(){lookupMethods$static_()}},requires:["AS3.trace","Ext","Ext.panel.Panel","com.coremedia.cap.common.SESSION","com.coremedia.cms.editor.sdk.foldercombo.FolderCombo_properties","com.coremedia.ui.components.LocalComboBox","com.coremedia.ui.data.ValueExpressionFactory",
"com.coremedia.ui.mixins.ValidationState","com.coremedia.ui.util.ObjectUtils"],uses:["com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.premular.Premular","com.coremedia.cms.editor.sdk.util.AccessControlUtil","com.coremedia.cms.editor.sdk.util.ContentCreationUtil","com.coremedia.cms.editor.sdk.util.PathFormatter"]}});Ext.define("com.coremedia.cms.editor.sdk.foldercombo.AddDefaultFolderComboEntryBase",function(AddDefaultFolderComboEntryBase){function AddDefaultFolderComboEntryBase$(config){if(arguments.length<=0)config=null;this.lookup$qWVh=AS3.getBindable(config,"lookup");this.super$qWVh(config)}function init(cmp){com.coremedia.cms.editor.sdk.foldercombo.FolderComboBase.addLookupMethod(this.lookup$qWVh)}return{extend:"Ext.plugin.Abstract",lookup$qWVh:null,constructor:AddDefaultFolderComboEntryBase$,super$qWVh:function(){Ext.plugin.Abstract.prototype.constructor.apply(this,
arguments)},init:init,requires:["Ext.plugin.Abstract"],uses:["com.coremedia.cms.editor.sdk.foldercombo.FolderComboBase"]}});Ext.define("com.coremedia.cms.editor.sdk.foldercombo.AddDefaultFolderComboEntry",function(AddDefaultFolderComboEntry){function AddDefaultFolderComboEntry$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.foldercombo.AddDefaultFolderComboEntryBase,{});var defaults_$1=AS3.cast(AddDefaultFolderComboEntry,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$f1dw(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.foldercombo.AddDefaultFolderComboEntryBase",
constructor:AddDefaultFolderComboEntry$,super$f1dw:function(){com.coremedia.cms.editor.sdk.foldercombo.AddDefaultFolderComboEntryBase.prototype.constructor.apply(this,arguments)},config:{lookup:null},requires:["com.coremedia.cms.editor.sdk.foldercombo.AddDefaultFolderComboEntryBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.foldercombo.FolderCombo",function(FolderCombo){function FolderCombo$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.foldercombo.FolderComboBase,{});var defaults_$1=AS3.cast(FolderCombo,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.itemId="newContentPathCombo";config_$1.forceSelection=false;AS3.setBindable(config_$1,"emptyText",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.foldercombo.FolderCombo",
"FolderCombo_emptyText")));AS3.setBindable(config_$1,"displayField","id");config_$1.valueField="id";var boundList_56_5_$1=AS3.cast(Ext.view.BoundList,{});AS3.setBindable(boundList_56_5_$1,"displayField","displayName");config_$1.listConfig=boundList_56_5_$1;var ui_BindPropertyPlugin_60_5_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_60_5_$1.bidirectional=true;ui_BindPropertyPlugin_60_5_$1.bindTo=AS3.getBindable(config,"bindTo");var ui_BindListPlugin_62_5_$1=AS3.cast(com.coremedia.ui.plugins.BindListPlugin,
{});AS3.setBindable(ui_BindListPlugin_62_5_$1,"bindTo",this.getAvailablePathsExpression());var ui_DataField_65_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_65_9_$1.name="id";ui_DataField_65_9_$1.encode=false;ui_DataField_65_9_$1.mapping="";var ui_DataField_69_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_69_9_$1.name="displayName";ui_DataField_69_9_$1.encode=true;ui_DataField_69_9_$1.mapping="";AS3.setBindable(ui_BindListPlugin_62_5_$1,"fields",[ui_DataField_65_9_$1,
ui_DataField_69_9_$1]);config_$1.plugins=[ui_BindPropertyPlugin_60_5_$1,ui_BindListPlugin_62_5_$1];config_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$01NO(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.foldercombo.FolderComboBase",alias:"widget.com.coremedia.cms.editor.sdk.folderCombo",constructor:FolderCombo$,super$01NO:function(){com.coremedia.cms.editor.sdk.foldercombo.FolderComboBase.prototype.constructor.apply(this,arguments)},
config:{folderPathsExpression:null,contentTypeExpression:null,bindTo:null,folders:null,contentType:null},requires:["Ext.view.BoundList","com.coremedia.cms.editor.sdk.foldercombo.FolderComboBase","com.coremedia.cms.editor.sdk.foldercombo.FolderCombo_properties","com.coremedia.ui.plugins.BindListPlugin","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.store.DataField","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeRelation",function(NavigationTreeRelation){function NAVIGATION_DOCUMENT_TYPE$static_(){NavigationTreeRelation.NAVIGATION_DOCUMENT_TYPE=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeSettings","navigation_document_type")}function CHILDREN_PROPERTY$static_(){NavigationTreeRelation.CHILDREN_PROPERTY=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeSettings",
"navigation_children_property")}function NavigationTreeRelation$(){var this$=this;com.coremedia.cms.editor.sdk.navigationtree.actions.ShowHiddenItemsActionBase.getHiddenStatusValueExpression().loadValue(function(showHidden){if(showHidden)this$.toggleView()})}function toggleView(){this.showHiddenItems$1$wG=!this.showHiddenItems$1$wG;return this.showHiddenItems$1$wG}function folderNodeType(){return getFolderType$static()}function leafNodeType(){return"Document_"}function isFolderNode(content){return content.getType().getName()==
getFolderType$static()}function getSubFolders(content){var children=NavigationTreeRelation.getChildrenFor(content);var items=[];for(var $1=0;$1<children.length;++$1){var child=children[$1];if(child==null)continue;if(!child.getProperties())return undefined;if(!this.showHiddenItems$1$wG){var hiddenInNavigation=child.getProperties().get(com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeModel.HIDDEN_IN_NAVIGATION);if(hiddenInNavigation)continue}items.push(child)}return items}function getLeafContent(content){return NavigationTreeRelation.getChildrenFor(content)}
function getParent(content){var refs=content.getReferrersWithNamedDescriptor(NavigationTreeRelation.NAVIGATION_DOCUMENT_TYPE,NavigationTreeRelation.CHILDREN_PROPERTY);if(refs===undefined)return undefined;if(refs.length>0)return refs[0];return null}function getParents(content){return[this.getParent(content)]}function mayCreate(folder,contentType){if(folder.isCheckedOutByOther())return false;if(contentType===NavigationTreeRelation.NAVIGATION_DOCUMENT_TYPE);return false}function copy(contents,newParent,
callback){}function mayCopy(contents,newParent){return false}function move(contents,newParent,callback){}function mayMove(contents,newParent){return false}function deleteContents(contents,callback){}function undeleteContents(contents,callback){}function mayDelete(contents){return false}function showCheckoutError(target){var docType=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.localizeDocumentTypeName(target.getType().getName());var msg=Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor",
"navigation_checkout_error_message"),docType,target.getName());Ext.MessageBox.alert(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","navigation_checkout_error_title"),msg)}function addChildNodes(treeParent,sources,callback){var checkedIn=treeParent.isCheckedIn();for(var $1=0;$1<sources.length;++$1){var source=sources[$1];addChildNode$static(treeParent,source)}if(checkedIn)treeParent.checkIn(callback)}function addChildNeedsFolderCheckout(folder,childType){return childType===
NavigationTreeRelation.NAVIGATION_DOCUMENT_TYPE}function provideRepositoryFolderFor(contentType,folderNode,childNodeName,callback){callback(folderNode.getParent())}function rename(content,newName,callback){if(arguments.length<=2)callback=null;content.rename(newName,callback)}function withdraw(contents,publicationService,callback){var repository=com.coremedia.cap.common.SESSION.getConnection().getContentRepository();repository.getPublicationService().withdrawAllFromTree(contents,NavigationTreeRelation.NAVIGATION_DOCUMENT_TYPE,
NavigationTreeRelation.CHILDREN_PROPERTY,callback)}function showInTree(contents,view,treeModelId){switch(Math.max(arguments.length,1)){case 1:view=null;case 2:treeModelId=null}contents.forEach(function(entity){var hiddenInNavigation=entity.getProperties().get(com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeModel.HIDDEN_IN_NAVIGATION);if(hiddenInNavigation){com.coremedia.cms.editor.sdk.editorContext.getCollectionViewManager().showInRepository(AS3.cast(com.coremedia.cap.content.Content,entity),
null,treeModelId);return}var ve=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(entity){return tryShowInNavigationTree$static(entity)},entity);ve.loadValue(function(){var canShowInNavigationTree=ve.getValue();if(canShowInNavigationTree)com.coremedia.cms.editor.sdk.editorContext.getCollectionViewManager().showInRepository(AS3.cast(com.coremedia.cap.content.Content,entity),null,com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeModel.NAVIGATION_TREE_ID);else com.coremedia.cms.editor.sdk.editorContext.getCollectionViewManager().showInRepository(AS3.cast(com.coremedia.cap.content.Content,
entity),null,treeModelId)})})}function getFolderType$static(){return NavigationTreeRelation.NAVIGATION_DOCUMENT_TYPE}function addChildNode$static(treeParent,source){var children=NavigationTreeRelation.getChildrenFor(treeParent).slice();children.push(source);treeParent.getProperties().set(NavigationTreeRelation.CHILDREN_PROPERTY,children)}function tryShowInNavigationTree$static(entity){var tm=new com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeModel;var idPathFromModel=tm.getIdPathFromModel(entity);
if(idPathFromModel===undefined)return undefined;return null!==idPathFromModel}function getChildrenFor$static(folder){var children=folder.getProperties().get(NavigationTreeRelation.CHILDREN_PROPERTY);return children.filter(function(item){return!item.isDeleted()})}return{mixins:["com.coremedia.cms.editor.sdk.ContentTreeRelation"],showHiddenItems$1$wG:false,constructor:NavigationTreeRelation$,toggleView:toggleView,folderNodeType:folderNodeType,leafNodeType:leafNodeType,isFolderNode:isFolderNode,getSubFolders:getSubFolders,
getLeafContent:getLeafContent,getParent:getParent,getParents:getParents,mayCreate:mayCreate,copy:copy,mayCopy:mayCopy,move:move,mayMove:mayMove,deleteContents:deleteContents,undeleteContents:undeleteContents,mayDelete:mayDelete,showCheckoutError:showCheckoutError,addChildNodes:addChildNodes,addChildNeedsFolderCheckout:addChildNeedsFolderCheckout,provideRepositoryFolderFor:provideRepositoryFolderFor,rename:rename,withdraw:withdraw,showInTree:showInTree,statics:{NAVIGATION_DOCUMENT_TYPE:undefined,CHILDREN_PROPERTY:undefined,
getChildrenFor:getChildrenFor$static,__initStatics__:function(){NAVIGATION_DOCUMENT_TYPE$static_();CHILDREN_PROPERTY$static_()}},requires:["Ext.String","Ext.window.MessageBox","com.coremedia.cap.common.SESSION","com.coremedia.cap.content.Content","com.coremedia.cms.editor.sdk.ContentTreeRelation","com.coremedia.ui.data.ValueExpressionFactory","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeModel","com.coremedia.cms.editor.sdk.navigationtree.actions.ShowHiddenItemsActionBase",
"com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeDragDropModel",function(NavigationTreeDragDropModel){function NavigationTreeDragDropModel$(treeModel){this.super$iHwI(treeModel)}function isValidDragSource(source){return false}return{extend:"com.coremedia.cms.editor.sdk.collectionview.tree.RepositoryTreeDragDropModel",constructor:NavigationTreeDragDropModel$,super$iHwI:function(){com.coremedia.cms.editor.sdk.collectionview.tree.RepositoryTreeDragDropModel.prototype.constructor.apply(this,
arguments)},isValidDragSource:isValidDragSource,requires:["com.coremedia.cms.editor.sdk.collectionview.tree.RepositoryTreeDragDropModel"]}});Ext.define("com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeCollectionViewExtension",function(NavigationTreeCollectionViewExtension){function navigationTreeRelation_(){this.navigationTreeRelation$FPu8=new com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeRelation}function excludedDocTypeNames_(){this.excludedDocTypeNames$FPu8=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeSettings","navigation_document_type_exclusions").split(",")}
function ALL_TYPE_RECORD$static_(){NavigationTreeCollectionViewExtension.ALL_TYPE_RECORD={name:com.coremedia.cap.content.ContentTypeNames.CONTENT,label:mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","Navigation_show_all"),icon:mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeSettings","all_documents_iconCls")}}function NAVIGATION_TYPE_RECORD$static_(){NavigationTreeCollectionViewExtension.NAVIGATION_TYPE_RECORD=
{name:mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeSettings","navigation_node_text"),label:mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeSettings","navigation_node_label"),icon:mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeSettings","navigation_node_iconCls")}}function NavigationTreeCollectionViewExtension$(){this.super$FPu8();
navigationTreeRelation_.call(this);excludedDocTypeNames_.call(this);this.repositoryListSorter$FPu8=new com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeRepositoryListSorter(this)}function getContentTreeRelation(){return this.navigationTreeRelation$FPu8}function isApplicable(model){var content=AS3.as(model,com.coremedia.cap.content.Content);if(!content)return false;var contentType=content.getType();if(!contentType)return undefined;for(var $1=0;$1<this.excludedDocTypeNames$FPu8.length;++$1){var excludedDocType=
this.excludedDocTypeNames$FPu8[$1];if(excludedDocType===contentType.getName())return false}var ctName=contentType.getName();return contentType.isSubtypeOf(com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeRelation.NAVIGATION_DOCUMENT_TYPE)}function applySearchParameters(folder,filterQueryFragments,searchParameters){var siteRoot=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getPreferredSite().getSiteRootDocument();if(siteRoot===folder)searchParameters.folder=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getPreferredSite().getSiteRootFolder().getUriPath();
else searchParameters.folder=folder.getParent().getUriPath();searchParameters.contentType=[com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeRelation.NAVIGATION_DOCUMENT_TYPE];var docTypeExclusions=com.coremedia.cms.editor.sdk.editorContext.getContentTypesExcludedFromSearchResult().filter(function(excludedDocType){var capType=com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getContentType(excludedDocType);return!capType.isSubtypeOf(com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeRelation.NAVIGATION_DOCUMENT_TYPE)});
var excludeDoctypesQuery=com.coremedia.cms.editor.sdk.collectionview.search.SearchQueryUtil.buildExcludeContentTypesQuery(docTypeExclusions);searchParameters.filterQuery=[filterQueryFragments.join(" AND ")];searchParameters.filterQuery.push(excludeDoctypesQuery);return searchParameters}function getRepositoryListSorter(){return this.repositoryListSorter$FPu8}function getAvailableSearchTypes(folder){return[NavigationTreeCollectionViewExtension.ALL_TYPE_RECORD,NavigationTreeCollectionViewExtension.NAVIGATION_TYPE_RECORD]}
return{extend:"com.coremedia.cms.editor.sdk.collectionview.RepositoryCollectionViewExtension",repositoryListSorter$FPu8:null,constructor:NavigationTreeCollectionViewExtension$,super$FPu8:function(){com.coremedia.cms.editor.sdk.collectionview.RepositoryCollectionViewExtension.prototype.constructor.apply(this,arguments)},getContentTreeRelation:getContentTreeRelation,isApplicable:isApplicable,applySearchParameters:applySearchParameters,getRepositoryListSorter:getRepositoryListSorter,getAvailableSearchTypes:getAvailableSearchTypes,
statics:{ALL_TYPE_RECORD:undefined,NAVIGATION_TYPE_RECORD:undefined,__initStatics__:function(){ALL_TYPE_RECORD$static_();NAVIGATION_TYPE_RECORD$static_()}},requires:["com.coremedia.cap.common.SESSION","com.coremedia.cap.content.Content","com.coremedia.cap.content.ContentTypeNames","com.coremedia.cms.editor.sdk.collectionview.RepositoryCollectionViewExtension","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.collectionview.search.SearchQueryUtil","com.coremedia.cms.editor.sdk.editorContext",
"com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeRelation","com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeRepositoryListSorter"]}});Ext.define("com.coremedia.cms.editor.sdk.navigationtree.actions.ShowHiddenItemsActionBase",function(ShowHiddenItemsActionBase){var VIEW_TREE_SETTINGS$static="showHiddenElementsInNavigationTree";function ShowHiddenItemsActionBase$(config){if(arguments.length<=0)config=null;this.super$Ypfj(AS3.cast(com.coremedia.cms.editor.sdk.navigationtree.actions.ShowHiddenItemsAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,"showHiddenItems",{handler:AS3.bind(this,"showHideItems$Ypfj")})))}
function showHideItems(){var treeRelation=AS3.as(com.coremedia.cms.editor.sdk.ContentTreeRelationProvider.getContentTreeRelation(),com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeRelation);var showHiddenItems=treeRelation.toggleView();com.coremedia.cms.editor.sdk.editorContext.getPreferences().getType().removeProperty(VIEW_TREE_SETTINGS$static);com.coremedia.cms.editor.sdk.editorContext.getPreferences().getType().addBooleanProperty(VIEW_TREE_SETTINGS$static,showHiddenItems);var root=this.getContents()[0];
this.reload$Ypfj(root);this.updateText$Ypfj()}function reload(node){var this$=this;if(node.isLoaded())node.invalidate(function(loaded){var children=com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeRelation.getChildrenFor(loaded);for(var $1=0;$1<children.length;++$1){var child=children[$1];this$.reload$Ypfj(child)}})}function addComponent(comp){com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.addComponent.call(this,comp);this.updateText$Ypfj()}function updateText(){var this$=this;
ShowHiddenItemsActionBase.getHiddenStatusValueExpression().loadValue(function(showHidden){if(showHidden)this$.setText(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","Navigation_action_hide_items"));else this$.setText(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","Navigation_action_show_hidden_items"))})}function getHiddenStatusValueExpression$static(){return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var preferences=
AS3.as(com.coremedia.cms.editor.sdk.editorContext.getPreferences(),com.coremedia.cap.common.impl.StructRemoteBeanImpl);if(preferences&&!preferences.isLoaded()){preferences.load();return undefined}var showHidden=false;if(preferences){showHidden=preferences.get(VIEW_TREE_SETTINGS$static);if(showHidden===undefined)return false}return showHidden})}function isDisabledFor(contents){if(!com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeModel.isActivated())return true;for(var $1=0;$1<contents.length;++$1){var content=
contents[$1];var treeRelation=com.coremedia.cms.editor.sdk.ContentTreeRelationProvider.getContentTreeRelation();if(treeRelation===undefined)return undefined;if(AS3.as(treeRelation,com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeRelation)===null)return true;var id=content.getId();var site=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getPreferredSite();if(site.getSiteRootDocument().getId()!==id)return true}return false}function isHiddenFor(contents){return this.isDisabledFor(contents)}
return{extend:"com.coremedia.cms.editor.sdk.actions.ContentAction",metadata:{"":["PublicApi"]},constructor:ShowHiddenItemsActionBase$,super$Ypfj:function(){com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.constructor.apply(this,arguments)},showHideItems$Ypfj:showHideItems,reload$Ypfj:reload,addComponent:addComponent,updateText$Ypfj:updateText,isDisabledFor:isDisabledFor,isHiddenFor:isHiddenFor,statics:{getHiddenStatusValueExpression:getHiddenStatusValueExpression$static},requires:["com.coremedia.cap.common.impl.StructRemoteBeanImpl",
"com.coremedia.cms.editor.sdk.actions.ContentAction","com.coremedia.ui.data.ValueExpressionFactory","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.ContentTreeRelationProvider","com.coremedia.cms.editor.sdk.actions.ActionConfigUtil","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeModel","com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeRelation","com.coremedia.cms.editor.sdk.navigationtree.actions.ShowHiddenItemsAction"]}});Ext.define("com.coremedia.cms.editor.sdk.navigationtree.actions.ShowHiddenItemsAction",function(ShowHiddenItemsAction){function ShowHiddenItemsAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.navigationtree.actions.ShowHiddenItemsActionBase,{});var defaults_$1=AS3.cast(ShowHiddenItemsAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Jjry(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.navigationtree.actions.ShowHiddenItemsActionBase",
metadata:{"":["PublicApi"]},constructor:ShowHiddenItemsAction$,super$Jjry:function(){com.coremedia.cms.editor.sdk.navigationtree.actions.ShowHiddenItemsActionBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.navigationtree.actions.ShowHiddenItemsActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeRepositoryListSorter",function(NavigationTreeRepositoryListSorter){var PAGE_GRID_PROPERTY$static="placement";function NavigationTreeRepositoryListSorter$(extension){this.super$1wg7();this.extension$1wg7=extension}function sort(folder,children){var cvManager=AS3.as(com.coremedia.cms.editor.sdk.editorContext.getCollectionViewManager(),com.coremedia.cms.editor.sdk.collectionview.CollectionViewManagerInternal);var sortValues=cvManager.getCollectionView().getSortStateManager().getCurrentSortCriteria();
var sortParams=sortValues[0].split(" ");if(sortParams[0]==="name")if(sortParams[1]==="asc")children.sort(function(c1,c2){return c1.getName().localeCompare(c2.getName())});else children.sort(function(c1,c2){return c2.getName().localeCompare(c1.getName())});else if(sortParams[0]==="type")if(sortParams[1]==="asc")children.sort(function(c1,c2){var t1=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.localizeDocumentTypeName(c1.getType().getName());var t2=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.localizeDocumentTypeName(c2.getType().getName());
return t1.localeCompare(t2)});else children.sort(function(c1,c2){var t1=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.localizeDocumentTypeName(c1.getType().getName());var t2=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.localizeDocumentTypeName(c2.getType().getName());return t2.localeCompare(t1)});return children}function computeSearchParameters(folder,sortValues){var searchParameters=com.coremedia.cms.editor.sdk.collectionview.sort.RepositoryListSorterImpl.prototype.computeSearchParameters.call(this,
folder,sortValues);return this.extension$1wg7.applySearchParameters(folder,[],searchParameters)}function getChildren(folder){if(!folder.isLoaded()){folder.load();return undefined}var placement=folder.getProperties().get(PAGE_GRID_PROPERTY$static);if(!placement&&!placement.isLoaded()){placement.load();return undefined}var items=getPageGridItems$static(folder,placement);var children=com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeRelation.getChildrenFor(folder);for(var $1=0;$1<children.length;++$1){var child=
children[$1];if(items.indexOf(child)===-1)items.push(child)}return items}function filter(folder,children){var returnUndefined=false;children=children.filter(function(item){var state=item.getState();if(state.readable===false)return false;var deleted=item.isDeleted();if(deleted===undefined)returnUndefined=true;return deleted===false});return returnUndefined?undefined:children}function getPageGridItems$static(folder,pageGrid){var items=[];var placements2=pageGrid.get(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeSettings",
"pagegrid_new_placements_base_property"));if(placements2){var placements=placements2.get(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeSettings","pagegrid_list_property"));if(placements){var descriptors=placements.getType().getDescriptors();for(var $1=0;$1<descriptors.length;++$1){var descriptor=descriptors[$1];var name=descriptor.name;var sectionItems=placements.get(name).get(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeSettings",
"pagegird_placement_items_property"));items=items.concat(sectionItems)}return items}}com.coremedia.ui.logging.Logger.warn("Failed to load PageGrid items for "+folder.getPath()+", using navigation children instead");return items}return{extend:"com.coremedia.cms.editor.sdk.collectionview.sort.RepositoryListSorterImpl",extension$1wg7:null,constructor:NavigationTreeRepositoryListSorter$,super$1wg7:function(){com.coremedia.cms.editor.sdk.collectionview.sort.RepositoryListSorterImpl.prototype.constructor.apply(this,
arguments)},sort:sort,computeSearchParameters:computeSearchParameters,getChildren:getChildren,filter:filter,requires:["com.coremedia.cms.editor.sdk.collectionview.sort.RepositoryListSorterImpl","com.coremedia.ui.logging.Logger","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionViewManagerInternal","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeRelation","com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeModel",function(NavigationTreeModel){function HIDDEN_IN_NAVIGATION$static_(){NavigationTreeModel.HIDDEN_IN_NAVIGATION=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeSettings","hidden_in_navigation_property")}function BLOCK$static_(){NavigationTreeModel.BLOCK=new com.coremedia.ui.models.bem.BEMBlock("cm-access-control-util")}function MODIFIER_READ_ONLY$static_(){NavigationTreeModel.MODIFIER_READ_ONLY=
NavigationTreeModel.BLOCK.createModifier("read-only")}var activated$static=false;function NavigationTreeModel$(){this.super$Z5yL();this.addContentFilters()}function isEnabled(){return com.coremedia.cms.editor.sdk.editorContext.getSitesService().getPreferredSite()}function getNodeModel(nodeId){if(!this.isEnabled())return null;if(nodeId==="content/1")return null;return com.coremedia.cms.editor.sdk.collectionview.tree.ContentTreeModel.prototype.getNodeModel.call(this,nodeId)}function getIdPathFromModel(model){var content=
AS3.as(model,com.coremedia.cap.content.Content);if(!content)return null;if(!content.isLoaded())return undefined;var site=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getPreferredSite();if(!site)return null;var contentType=content.getType();if(contentType){var typeBean=AS3.as(contentType,com.coremedia.ui.data.RemoteBean);if(typeBean&&typeBean.isLoaded()&&!contentType.isSubtypeOf(com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeRelation.NAVIGATION_DOCUMENT_TYPE))return null}return com.coremedia.cms.editor.sdk.collectionview.tree.ContentTreeModel.prototype.getIdPathFromModel.call(this,
model)}function getRootId(){return this.getNodeId(getNavigationRoot$static())}function getTextCls(nodeId){var node=AS3.as(this.getNodeModel(nodeId),com.coremedia.cap.content.Content);if(!node.isLoaded()){node.load();return undefined}var children=node.getProperties().get(com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeRelation.CHILDREN_PROPERTY);if(children==undefined)return undefined;for(var $1=0;$1<children.length;++$1){var child=children[$1];if(child.isDeleted())return"error"}if(!node.getProperties())return undefined;
var hiddenInNavigation=node.getProperties().get(NavigationTreeModel.HIDDEN_IN_NAVIGATION);if(hiddenInNavigation)return NavigationTreeModel.BLOCK.getCSSClass()+" "+NavigationTreeModel.MODIFIER_READ_ONLY.getCSSClass();var issuesVE=com.coremedia.ui.data.ValueExpressionFactory.create("issues",node);var issues=issuesVE.getValue();if(issues===undefined)return undefined;if(!issues.isLoaded()){issues.load();return undefined}var nodeCls=com.coremedia.cms.editor.sdk.collectionview.tree.ContentTreeModel.prototype.getTextCls.call(this,
nodeId);for(var $2=0,$3=issues.getAll();$2<$3.length;++$2){var issue=$3[$2];if(issue.severity===com.coremedia.ui.data.validation.Severity.WARN)nodeCls="warn";else if(issue.severity===com.coremedia.ui.data.validation.Severity.ERROR){nodeCls="error";break}}return nodeCls}function getText(nodeId){if(nodeId===this.getNodeId(getNavigationRoot$static()))return com.coremedia.cms.editor.sdk.editorContext.getSitesService().getPreferredSite().getName()+" - "+mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor",
"Navigation_root_suffix");return com.coremedia.cms.editor.sdk.collectionview.tree.ContentTreeModel.prototype.getText.call(this,nodeId)}function getVisibleRootModels(){return[getNavigationRoot$static()]}function getNavigationRoot$static(){var site=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getPreferredSite();if(site)return site.getSiteRootDocument();return null}function toString(){return NavigationTreeModel.NAVIGATION_TREE_ID}function getTreeId(){return NavigationTreeModel.NAVIGATION_TREE_ID}
function addContentFilters(){var nodeContentType=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeSettings","navigation_document_type");var excludedTypes=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeSettings","navigation_document_type_exclusions").split(",");var contentTypes=com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getContentTypes();for(var $1=
0;$1<contentTypes.length;++$1){var contentType=contentTypes[$1];if(contentType.isSubtypeOf(nodeContentType)&&excludedTypes.indexOf(contentType.getName())===-1)AS3.as(com.coremedia.cms.editor.sdk.editorContext,com.coremedia.cms.editor.sdk.EditorContextImpl).addContentCreationFilter(contentType.getName(),AS3.bind(this,"mayCreate"),false)}}function mayCreate(selection,contentType){if(!selection.getType().getName())return undefined;var extension=com.coremedia.cms.editor.sdk.editorContext.getCollectionViewExtender().getExtension(selection);
if(extension===undefined)return undefined;if(!selection.getType())return undefined;if(AS3.is(extension,com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeCollectionViewExtension)){var ctName=selection.getType().getName();var selectedContentType=com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getContentType(ctName);if(selectedContentType.isSubtypeOf(com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeRelation.NAVIGATION_DOCUMENT_TYPE)&&contentType.isSubtypeOf(com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeRelation.NAVIGATION_DOCUMENT_TYPE))return true}return false}
function isValidationEnabled(){return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeSettings","validation_enabled")}function activate$static(priority){if(arguments.length<=0)priority=850;activated$static=true;var collectionViewManagerInternal=AS3.as(com.coremedia.cms.editor.sdk.editorContext.getCollectionViewManager(),com.coremedia.cms.editor.sdk.collectionview.CollectionViewManagerInternal);var treeModel=new NavigationTreeModel;collectionViewManagerInternal.addTreeModel(treeModel,
new com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeDragDropModel(treeModel));com.coremedia.cms.editor.sdk.editorContext.getCollectionViewExtender().addExtension(new com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeCollectionViewExtension,priority)}function isActivated$static(){return activated$static}return{extend:"com.coremedia.cms.editor.sdk.collectionview.tree.ContentTreeModel",constructor:NavigationTreeModel$,super$Z5yL:function(){com.coremedia.cms.editor.sdk.collectionview.tree.ContentTreeModel.prototype.constructor.apply(this,
arguments)},isEnabled:isEnabled,getNodeModel:getNodeModel,getIdPathFromModel:getIdPathFromModel,getRootId:getRootId,getTextCls:getTextCls,getText:getText,getVisibleRootModels:getVisibleRootModels,toString:toString,getTreeId:getTreeId,addContentFilters:addContentFilters,mayCreate:mayCreate,isValidationEnabled:isValidationEnabled,statics:{NAVIGATION_TREE_ID:"navigationTree",HIDDEN_IN_NAVIGATION:undefined,BLOCK:undefined,MODIFIER_READ_ONLY:undefined,activate:activate$static,isActivated:isActivated$static,
__initStatics__:function(){HIDDEN_IN_NAVIGATION$static_();BLOCK$static_();MODIFIER_READ_ONLY$static_()}},requires:["com.coremedia.cap.common.SESSION","com.coremedia.cap.content.Content","com.coremedia.cms.editor.sdk.collectionview.tree.ContentTreeModel","com.coremedia.ui.data.RemoteBean","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.validation.Severity","com.coremedia.ui.models.bem.BEMBlock","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.EditorContextImpl",
"com.coremedia.cms.editor.sdk.collectionview.CollectionViewManagerInternal","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeCollectionViewExtension","com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeDragDropModel","com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeRelation"]}});Ext.define("com.coremedia.cms.editor.sdk.ContentTreeRelation",function(ContentTreeRelation){return{}});Ext.define("com.coremedia.cms.editor.sdk.clipboard.PasteFromClipboardAction",function(PasteFromClipboardAction){function PasteFromClipboardAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.clipboard.PasteFromClipboardActionBase,{});var defaults_$1=AS3.cast(PasteFromClipboardAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$mVz1(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.clipboard.PasteFromClipboardActionBase",
metadata:{"":["PublicApi"]},constructor:PasteFromClipboardAction$,super$mVz1:function(){com.coremedia.cms.editor.sdk.clipboard.PasteFromClipboardActionBase.prototype.constructor.apply(this,arguments)},config:{selectedFolderValueExpression:null,selectedFolderVariableName:null},statics:{ACTION_ID:"pasteFromClipboardAction"},requires:["com.coremedia.cms.editor.sdk.clipboard.PasteFromClipboardActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.clipboard.CutToClipboardAction",function(CutToClipboardAction){function CutToClipboardAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.clipboard.CutToClipboardActionBase,{});var defaults_$1=AS3.cast(CutToClipboardAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$SBp1(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.clipboard.CutToClipboardActionBase",
metadata:{"":["PublicApi"]},constructor:CutToClipboardAction$,super$SBp1:function(){com.coremedia.cms.editor.sdk.clipboard.CutToClipboardActionBase.prototype.constructor.apply(this,arguments)},statics:{ACTION_ID:"cutToClipboardAction"},requires:["com.coremedia.cms.editor.sdk.clipboard.CutToClipboardActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.clipboard.Clipboard",function(Clipboard){var instance$static;function instance$static_(){instance$static=new Clipboard}var VALUES_PROPERTY$static="values";var OPERATION_PROPERTY$static="operation";function bean_(){this.bean$kM5a=com.coremedia.ui.data.beanFactory.createLocalBean()}function Clipboard$(){bean_.call(this);this.emptyClipboard()}function setValue(value,operation,flavor){if(arguments.length<=2)flavor=null;var values={};values[flavor||Clipboard.CONTENTS_FLAVOR]=
value;this.setValues(values,operation)}function setValues(values,operation){this.bean$kM5a.updateProperties({values:values,operation:operation})}function emptyClipboard(){this.setValues({},Clipboard.COPY)}function getFlavor(){var acceptableFlavors=Array.prototype.slice.call(arguments);var values=this.bean$kM5a.get(VALUES_PROPERTY$static);acceptableFlavors=com.coremedia.ui.util.ArrayUtils.flatten(acceptableFlavors);for(var i=0;i<acceptableFlavors.length;i++){var flavor=acceptableFlavors[i];if(values.hasOwnProperty(flavor))return flavor}return undefined}
function getValue(){var acceptableFlavors=Array.prototype.slice.call(arguments);var flavor=this.getFlavor(acceptableFlavors);if(flavor===undefined)return undefined;var values=this.bean$kM5a.get(VALUES_PROPERTY$static);return values[flavor]}function getContents(){return this.getValue(Clipboard.CONTENTS_FLAVOR)||[]}function getOperation(){return AS3.as(this.bean$kM5a.get(OPERATION_PROPERTY$static),String)}function addValueChangeListener(onChange){this.bean$kM5a.addValueChangeListener(onChange)}function removeValueChangeListener(onChange){this.bean$kM5a.removeValueChangeListener(onChange)}
function getInstance$static(){return instance$static}return{constructor:Clipboard$,setValue:setValue,setValues:setValues,emptyClipboard:emptyClipboard,getFlavor:getFlavor,getValue:getValue,getContents:getContents,getOperation:getOperation,addValueChangeListener:addValueChangeListener,removeValueChangeListener:removeValueChangeListener,statics:{instance:undefined,COPY:"copy",CUTLINK:"cutLink",MOVE:"move",CONTENTS_FLAVOR:"contents",getInstance:getInstance$static,__initStatics__:function(){instance$static_()}},
requires:["com.coremedia.ui.data.beanFactory","com.coremedia.ui.util.ArrayUtils"]}});Ext.define("com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction",function(CopyToClipboardAction){function CopyToClipboardAction$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardActionBase,{});var defaults_$1=AS3.cast(CopyToClipboardAction,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$lSjA(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardActionBase",
metadata:{"":["PublicApi"]},constructor:CopyToClipboardAction$,super$lSjA:function(){com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardActionBase.prototype.constructor.apply(this,arguments)},statics:{ACTION_ID:"copyToClipboardAction"},requires:["com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardActionBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardActionBase",function(CopyToClipboardActionBase){function CopyToClipboardActionBase$(config){if(arguments.length<=0)config=null;this.super$4f4x(AS3.cast(com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,"copyToClipboard",{handler:AS3.bind(this,"copyToClipboard$4f4x")})))}function isDisabledFor(contents){if(contents.length<1)return true;var anyContentNotCopyable=
false;for(var i=0;i<contents.length;i++){var content=contents[i];if(!content||!com.coremedia.ui.data.RemoteBeanUtil.isAccessible(content)){anyContentNotCopyable=true;break}}return anyContentNotCopyable}function copyToClipboard(){var clipboard=com.coremedia.cms.editor.sdk.clipboard.Clipboard.getInstance();clipboard.setValue(this.getContents(),com.coremedia.cms.editor.sdk.clipboard.Clipboard.COPY)}return{extend:"com.coremedia.cms.editor.sdk.actions.ContentAction",metadata:{"":["PublicApi"]},constructor:CopyToClipboardActionBase$,
super$4f4x:function(){com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.constructor.apply(this,arguments)},isDisabledFor:isDisabledFor,copyToClipboard$4f4x:copyToClipboard,requires:["com.coremedia.cms.editor.sdk.actions.ContentAction","com.coremedia.ui.data.RemoteBeanUtil"],uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil","com.coremedia.cms.editor.sdk.clipboard.Clipboard","com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction"]}});Ext.define("com.coremedia.cms.editor.sdk.clipboard.CutToClipboardActionBase",function(CutToClipboardActionBase){function CutToClipboardActionBase$(config){if(arguments.length<=0)config=null;this.super$SUyo(AS3.cast(com.coremedia.cms.editor.sdk.clipboard.CutToClipboardAction,com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,"cutToClipboard",{handler:AS3.bind(this,"cutToClipboard$SUyo")})))}function isDisabledFor(contents){if(contents.length<1)return true;var accessControl=AS3.as(contents[0],
com.coremedia.cap.content.Content).getRepository().getAccessControl();for(var i=0;i<contents.length;i++){var content=contents[i];if(!content||!com.coremedia.ui.data.RemoteBeanUtil.isAccessible(content)||content.isRoot()||content.isDeleted()||!accessControl.mayPerformForType(content.getParent(),content.getType(),com.coremedia.cap.content.authorization.Right.WRITE))return true}var sourceTypeName=contents[0].getType().getName();var folderSourceTreeRelation=com.coremedia.cms.editor.sdk.ContentTreeRelationProvider.getContentTreeRelation();
if(folderSourceTreeRelation===undefined)return undefined;if(folderSourceTreeRelation===null)return true;return!folderSourceTreeRelation.mayMove(contents,null)}function cutToClipboard(){var clipboard=com.coremedia.cms.editor.sdk.clipboard.Clipboard.getInstance();clipboard.setValue(this.getContents(),com.coremedia.cms.editor.sdk.clipboard.Clipboard.MOVE)}return{extend:"com.coremedia.cms.editor.sdk.actions.ContentAction",metadata:{"":["PublicApi"]},constructor:CutToClipboardActionBase$,super$SUyo:function(){com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.constructor.apply(this,
arguments)},isDisabledFor:isDisabledFor,cutToClipboard$SUyo:cutToClipboard,requires:["com.coremedia.cap.content.Content","com.coremedia.cap.content.authorization.Right","com.coremedia.cms.editor.sdk.actions.ContentAction","com.coremedia.ui.data.RemoteBeanUtil"],uses:["com.coremedia.cms.editor.sdk.ContentTreeRelationProvider","com.coremedia.cms.editor.sdk.actions.ActionConfigUtil","com.coremedia.cms.editor.sdk.clipboard.Clipboard","com.coremedia.cms.editor.sdk.clipboard.CutToClipboardAction"]}});Ext.define("com.coremedia.cms.editor.sdk.clipboard.PasteFromClipboardActionBase",function(PasteFromClipboardActionBase){function PasteFromClipboardActionBase$(config){if(arguments.length<=0)config=null;if(AS3.getBindable(config,"selectedFolderValueExpression"))this.selectedFolderValueExpression$NV6o=AS3.getBindable(config,"selectedFolderValueExpression");else this.selectedFolderValueExpression$NV6o=com.coremedia.ui.data.ValueExpressionFactory.createFromValue();this.super$NV6o(AS3.cast(com.coremedia.cms.editor.sdk.clipboard.PasteFromClipboardAction,
com.coremedia.cms.editor.sdk.actions.ActionConfigUtil.extendConfig(config,"pasteFromClipboard",{handler:AS3.bind(this,"pasteFromClipboard$NV6o")})))}function setSelectedFolder(selectedFolder){this.selectedFolderValueExpression$NV6o.setValue(selectedFolder)}function isDisabledFor(contents){if(this.getContents().length!==1)return true;var clipboard=com.coremedia.cms.editor.sdk.clipboard.Clipboard.getInstance();var contentsToPaste=clipboard.getContents();if(!contentsToPaste||contentsToPaste.length===
0)return true;var target=this.getContents()[0];var source=contentsToPaste[0];var collectionViewExtender=com.coremedia.cms.editor.sdk.editorContext.getCollectionViewExtender();var sourceExtension=collectionViewExtender.getExtension(source);if(sourceExtension===undefined)return undefined;var targetExtension=collectionViewExtender.getExtension(target);if(targetExtension===undefined)return undefined;if(!sourceExtension||!targetExtension)return true;if(!com.coremedia.ui.util.ObjectUtils.compareObjects(sourceExtension.getContentTreeRelation(),
targetExtension.getContentTreeRelation()))return true;if(clipboard.getOperation()===com.coremedia.cms.editor.sdk.clipboard.Clipboard.COPY)return!targetExtension.getContentTreeRelation().mayCopy(contentsToPaste,target);else if(clipboard.getOperation()===com.coremedia.cms.editor.sdk.clipboard.Clipboard.MOVE)return!targetExtension.getContentTreeRelation().mayMove(contentsToPaste,target);return true}function getContents(){var contents=com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.getContents.call(this);
if(contents.length===0&&this.selectedFolderValueExpression$NV6o.getValue())contents=[this.selectedFolderValueExpression$NV6o.getValue()];return contents}function pasteFromClipboard(){var clipboard=com.coremedia.cms.editor.sdk.clipboard.Clipboard.getInstance();var contentsToPaste=clipboard.getContents();if(clipboard.getOperation()===com.coremedia.cms.editor.sdk.clipboard.Clipboard.COPY)(new com.coremedia.cms.editor.sdk.actions.CopyContentAction(contentsToPaste,AS3.as(this.getContents()[0],com.coremedia.cap.content.Content))).execute();
else if(clipboard.getOperation()===com.coremedia.cms.editor.sdk.clipboard.Clipboard.MOVE)(new com.coremedia.cms.editor.sdk.actions.MoveContentAction(contentsToPaste,AS3.as(this.getContents()[0],com.coremedia.cap.content.Content))).execute(function(){clipboard.emptyClipboard()})}return{extend:"com.coremedia.cms.editor.sdk.actions.ContentAction",metadata:{"":["PublicApi"],setSelectedFolder:["InjectFromExtParent",["variableNameConfig","selectedFolderVariableName"]]},selectedFolderValueExpression$NV6o:null,
constructor:PasteFromClipboardActionBase$,super$NV6o:function(){com.coremedia.cms.editor.sdk.actions.ContentAction.prototype.constructor.apply(this,arguments)},setSelectedFolder:setSelectedFolder,isDisabledFor:isDisabledFor,getContents:getContents,pasteFromClipboard$NV6o:pasteFromClipboard,requires:["com.coremedia.cap.content.Content","com.coremedia.cms.editor.sdk.actions.ContentAction","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.util.ObjectUtils"],uses:["com.coremedia.cms.editor.sdk.actions.ActionConfigUtil",
"com.coremedia.cms.editor.sdk.actions.CopyContentAction","com.coremedia.cms.editor.sdk.actions.MoveContentAction","com.coremedia.cms.editor.sdk.clipboard.Clipboard","com.coremedia.cms.editor.sdk.clipboard.PasteFromClipboardAction","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.validation.IssuesToolTip",function(IssuesToolTip){function IssuesToolTip$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.validation.IssuesToolTipBase,{});var defaults_$1=AS3.cast(IssuesToolTip,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.anchorToTarget=false;config_$1.hideDelay=600;config_$1.autoHide=true;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$8mXk(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.validation.IssuesToolTipBase",
alias:"widget.com.coremedia.cms.editor.sdk.config.issuesToolTip",constructor:IssuesToolTip$,super$8mXk:function(){com.coremedia.cms.editor.sdk.validation.IssuesToolTipBase.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.sdk.validation.IssuesToolTipBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.validation.IssuesButtonBase",function(IssuesButtonBase){function IssuesButtonBase$(config){if(arguments.length<=0)config=null;this.super$83Yu(config);this.initValidationStateMixin()}function afterRender(){com.coremedia.ui.components.IconButton.prototype.afterRender.call(this);this.ariaDescriptionEl$83Yu=com.coremedia.ui.util.AriaUtils.createReferenceableAriaEl(this,"description");com.coremedia.ui.util.AriaUtils.addDescribedBy(this.el,this.ariaDescriptionEl$83Yu.id);
this.updateAriaDescription$83Yu()}function transformValidationState(issues){return com.coremedia.cms.editor.sdk.validation.ValidationUtil.computeValidationState(issues)}function transformDescription(issues){if(issues&&issues.length>0)return this.hasIssuesText;return this.hasNoIssuesText}function transformIconCls(issues){return com.coremedia.cms.editor.sdk.validation.ValidationUtil.computeValidationIconCls(issues)}function setTooltip(newTooltip,initial){this._tooltip$83Yu=newTooltip;return com.coremedia.ui.components.IconButton.prototype.setTooltip.call(this,
newTooltip,initial)}function getTooltip(){return this._tooltip$83Yu}function get$ariaDescription(){return this._ariaDescription$83Yu}function set$ariaDescription(value){this._ariaDescription$83Yu=value;this.updateAriaDescription$83Yu()}function updateAriaDescription(){if(this.ariaDescriptionEl$83Yu)this.ariaDescriptionEl$83Yu.dom.innerHTML=AS3.getBindable(this,"ariaDescription")}return{extend:"com.coremedia.ui.components.IconButton",mixins:["com.coremedia.ui.mixins.ValidationStateMixin"],hasIssuesText:null,
hasNoIssuesText:null,_ariaDescription$83Yu:null,ariaDescriptionEl$83Yu:null,_tooltip$83Yu:undefined,constructor:IssuesButtonBase$,super$83Yu:function(){com.coremedia.ui.components.IconButton.prototype.constructor.apply(this,arguments)},afterRender:afterRender,transformValidationState:transformValidationState,transformDescription:transformDescription,transformIconCls:transformIconCls,setTooltip:setTooltip,getTooltip:getTooltip,getAriaDescription:get$ariaDescription,setAriaDescription:set$ariaDescription,
updateAriaDescription$83Yu:updateAriaDescription,config:{ariaDescription:undefined},requires:["com.coremedia.ui.components.IconButton","com.coremedia.ui.mixins.ValidationStateMixin","com.coremedia.ui.util.AriaUtils"],uses:["com.coremedia.cms.editor.sdk.validation.ValidationUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.validation.ValidationUtil",function(ValidationUtil){var TO_NUMBER$static;function TO_NUMBER$static_(){TO_NUMBER$static={INFO:1,WARN:2,ERROR:3}}function TO_VALIDATION_STATE$static_(){ValidationUtil.TO_VALIDATION_STATE={INFO:com.coremedia.ui.mixins.ValidationState.INFO,WARN:com.coremedia.ui.mixins.ValidationState.WARNING,ERROR:com.coremedia.ui.mixins.ValidationState.ERROR}}var TO_VALIDATION_ICON$static;function TO_VALIDATION_ICON$static_(){TO_VALIDATION_ICON$static=
{INFO:mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.validation.Validators","Validator_info_icon"),WARN:mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.validation.Validators","Validator_warn_icon"),ERROR:mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.validation.Validators","Validator_error_icon")}}function formatText$static(issue){return format$static(issue,"_text")}function format$static(issue,
suffix){var code=issue.code;var property=issue.property;var pattern=null;var content=AS3.as(issue.entity,com.coremedia.cap.content.Content);if(content){var contentType=content.getType();while(contentType&&!pattern){pattern=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.validation.Validators","ContentValidator_"+contentType.getName()+"_"+property+"_"+code+suffix);contentType=contentType.getParent()}}if(!pattern)pattern=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.validation.Validators",
"PropertyValidator_"+property+"_"+code+suffix);if(!pattern)pattern=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.validation.Validators","Validator_"+code+suffix);if(!pattern)pattern=code;return formatWithIssueArguments$static(pattern,issue)}function formatWithIssueArguments$static(pattern,issue){var args=[pattern].concat(issue.arguments);return com.coremedia.cms.editor.sdk.util.FormatUtil.format.apply(null,args)}function isMoreSevereThan$static(severity1,severity2){return(TO_NUMBER$static[severity1||
""]||0)>(TO_NUMBER$static[severity2||""]||0)}function computeMaximumSeverity$static(issues){var maxSeverity=null;if(issues)for(var i=0;i<issues.length;i++){var issue=AS3.as(issues[i],com.coremedia.ui.data.validation.Issue);if(isMoreSevereThan$static(issue.severity,maxSeverity))maxSeverity=issue.severity}return maxSeverity}function isWarnIssue$static(issue){return issue.severity===com.coremedia.ui.data.validation.Severity.WARN}function isErrorIssue$static(issue){return issue.severity===com.coremedia.ui.data.validation.Severity.ERROR}
function computeValidationState$static(issues){var severity=ValidationUtil.computeMaximumSeverity(issues);return AS3.as(ValidationUtil.TO_VALIDATION_STATE[severity],com.coremedia.ui.mixins.ValidationState)||null}function computeValidationIconCls$static(issues){var severity=ValidationUtil.computeMaximumSeverity(issues);return AS3.as(TO_VALIDATION_ICON$static[severity||""],String)||mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.validation.Validators","Validator_icon")}
function ValidationUtil$(){}return{constructor:ValidationUtil$,statics:{TO_NUMBER:undefined,TO_VALIDATION_STATE:undefined,TO_VALIDATION_ICON:undefined,formatText:formatText$static,computeMaximumSeverity:computeMaximumSeverity$static,isWarnIssue:isWarnIssue$static,isErrorIssue:isErrorIssue$static,computeValidationState:computeValidationState$static,computeValidationIconCls:computeValidationIconCls$static,__initStatics__:function(){TO_NUMBER$static_();TO_VALIDATION_STATE$static_();TO_VALIDATION_ICON$static_()}},
requires:["com.coremedia.cap.content.Content","com.coremedia.cms.editor.sdk.validation.Validators_properties","com.coremedia.ui.data.validation.Issue","com.coremedia.ui.data.validation.Severity","com.coremedia.ui.mixins.ValidationState","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.util.FormatUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.validation.ShowIssuesPlugin",function(ShowIssuesPlugin){var FIELD_CHANGED_MESSAGE$static;function FIELD_CHANGED_MESSAGE$static_(){FIELD_CHANGED_MESSAGE$static=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","DifferencingView_fieldChanged_tooltip")}function ShowIssuesPlugin$(config){if(arguments.length<=0)config=null;this.issuesValueExpression$aSTb=config.bindTo.extendBy(["issues","byProperty",AS3.getBindable(config,"propertyName")]);
this.super$aSTb(AS3.cast(com.coremedia.ui.plugins.BindPlugin,{bindTo:this.issuesValueExpression$aSTb,boundValueChanged:AS3.bind(this,"issuesChanged$aSTb")}));AS3.setBindable(this,"propertyName",AS3.getBindable(config,"propertyName"));AS3.setBindable(this,"ifUndefined",AS3.getBindable(config,"ifUndefined"));AS3.setBindable(this,"hideIssues",AS3.getBindable(config,"hideIssues"));AS3.setBindable(this,"hideMessage",AS3.getBindable(config,"hideMessage"))}function init(component){com.coremedia.ui.plugins.BindPlugin.prototype.init.call(this,
component);component.addListener("removed",AS3.bind(this,"afterRemoved"));var labelable=AS3.as(component,Ext.form.Labelable);if(labelable)if(!labelable.hasOwnProperty("ariaErrorText"))labelable.ariaErrorText="{0}";this.getComponent().on("afterrender",AS3.bind(this,"onAfterRender$aSTb"))}function onAfterRender(){com.coremedia.ui.util.ComponentUtil.findAsParentOf(this.getComponent(),com.coremedia.cms.editor.sdk.premular.DocumentPanel.xtype,AS3.bind(this,"initWithDocumentPanel$aSTb"))}function initWithDocumentPanel(panel){this.theDocumentPanel$aSTb=
panel;this.initialized$aSTb=true;this.changeValueExpression$aSTb=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"isPropertyChanged$aSTb"));this.changeValueExpression$aSTb.addChangeListener(AS3.bind(this,"applySuccessStateIfChanged$aSTb"));this.applySuccessStateIfChanged$aSTb();this.issuesChanged$aSTb()}function isPropertyChanged(){var diffManager=this.theDocumentPanel$aSTb&&AS3.getBindable(this.theDocumentPanel$aSTb,"diffManager");if(!diffManager)return false;var difference=
diffManager.isPropertyChanged(AS3.getBindable(this,"propertyName"));if(!difference)return false;var ifUndefinedResolved;if(AS3.is(AS3.getBindable(this,"ifUndefined"),Function))ifUndefinedResolved=AS3.cast(Function,AS3.getBindable(this,"ifUndefined"))();else ifUndefinedResolved=AS3.getBindable(this,"ifUndefined");if(ifUndefinedResolved===undefined)return true;var differenceType=difference.differenceType;switch(differenceType){case com.coremedia.cap.content.impl.DifferenceType.ADDED:return!com.coremedia.ui.util.ObjectUtils.equal(ifUndefinedResolved,
difference.endValue);case com.coremedia.cap.content.impl.DifferenceType.REMOVED:return!com.coremedia.ui.util.ObjectUtils.equal(ifUndefinedResolved,difference.startValue);default:return true}}function applySuccessStateIfChanged(){var validationStateMixin=AS3.as(this.getComponent(),com.coremedia.ui.mixins.ValidationStateMixin);if(validationStateMixin)if(!!this.changeValueExpression$aSTb.getValue()){AS3.setBindable(validationStateMixin,"validationState",com.coremedia.ui.mixins.ValidationState.SUCCESS);
AS3.setBindable(validationStateMixin,"validationMessage",FIELD_CHANGED_MESSAGE$static)}else{AS3.setBindable(validationStateMixin,"validationMessage",null);AS3.setBindable(validationStateMixin,"validationState",null)}}function afterRemoved(){if(this.changeValueExpression$aSTb)this.changeValueExpression$aSTb.removeChangeListener(AS3.bind(this,"applySuccessStateIfChanged$aSTb"))}function issuesChanged(){if(!this.initialized$aSTb)return;var issues=AS3.as(this.issuesValueExpression$aSTb.getValue(),Array);
if(issues===null)issues=[];if(issues&&!AS3.getBindable(this,"hideIssues")){var maxSeverity=com.coremedia.cms.editor.sdk.validation.ValidationUtil.computeMaximumSeverity(issues);this.setSeverityOnComponent$aSTb(maxSeverity,issues)}}function setSeverityOnComponent(maxSeverity,issues){var issueText=!AS3.getBindable(this,"hideMessage")?issuesAsText$static(issues):"";setValidationState$static(AS3.as(this.getComponent(),com.coremedia.ui.mixins.ValidationStateMixin),maxSeverity,issueText)}function setValidationState$static(component,
newSeverity,errorIssuesText){if(component){var newValidationState=com.coremedia.cms.editor.sdk.validation.ValidationUtil.TO_VALIDATION_STATE[newSeverity];if(newValidationState){AS3.setBindable(component,"validationState",newValidationState);AS3.setBindable(component,"validationMessage",errorIssuesText)}else if(AS3.getBindable(component,"validationState","DUMMY")!=com.coremedia.ui.mixins.ValidationState.SUCCESS){AS3.setBindable(component,"validationMessage",null);AS3.setBindable(component,"validationState",
null)}}}function issuesAsText$static(issues){var text=calculateIssuesText$static(issues,com.coremedia.ui.data.validation.Severity.ERROR);text+=calculateIssuesText$static(issues,com.coremedia.ui.data.validation.Severity.WARN);text+=calculateIssuesText$static(issues,com.coremedia.ui.data.validation.Severity.INFO);return text}function calculateIssuesText$static(issues,severity){var result="\x3cspan\x3e\x3cb\x3e"+mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor",severity)+
"\x3c/b\x3e\x3c/span\x3e"+"\x3c/br\x3e\n";var filteredIssues=issues.filter(function(issue){return issue.severity===severity});return filteredIssues.length>0?result+filteredIssues.map(function(issue){return com.coremedia.ui.util.EncodingUtil.encodeForHTML(com.coremedia.cms.editor.sdk.validation.ValidationUtil.formatText(issue))}).join("\x3cbr/\x3e\n"):""}return{extend:"com.coremedia.ui.plugins.BindPlugin",metadata:{"":["PublicApi"]},theDocumentPanel$aSTb:null,changeValueExpression$aSTb:null,issuesValueExpression$aSTb:null,
initialized$aSTb:false,constructor:ShowIssuesPlugin$,super$aSTb:function(){com.coremedia.ui.plugins.BindPlugin.prototype.constructor.apply(this,arguments)},init:init,onAfterRender$aSTb:onAfterRender,initWithDocumentPanel$aSTb:initWithDocumentPanel,isPropertyChanged$aSTb:isPropertyChanged,applySuccessStateIfChanged$aSTb:applySuccessStateIfChanged,afterRemoved:afterRemoved,issuesChanged$aSTb:issuesChanged,setSeverityOnComponent$aSTb:setSeverityOnComponent,config:{propertyName:null,ifUndefined:undefined,
hideIssues:false,hideMessage:false},statics:{FIELD_CHANGED_MESSAGE:undefined,__initStatics__:function(){FIELD_CHANGED_MESSAGE$static_()}},requires:["Ext.form.Labelable","com.coremedia.cap.content.impl.DifferenceType","com.coremedia.cms.editor.Editor_properties","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.validation.Severity","com.coremedia.ui.mixins.ValidationState","com.coremedia.ui.mixins.ValidationStateMixin","com.coremedia.ui.plugins.BindPlugin","com.coremedia.ui.util.ComponentUtil",
"com.coremedia.ui.util.EncodingUtil","com.coremedia.ui.util.ObjectUtils","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.premular.DocumentPanel","com.coremedia.cms.editor.sdk.validation.ValidationUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.validation.IssuesButton",function(IssuesButton){function IssuesButton$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.validation.IssuesButtonBase,{});var defaults_$1=AS3.cast(IssuesButton,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.enableToggle=true;var ui_BindPropertyPlugin_33_5_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_33_5_$1.componentProperty=
"validationState";ui_BindPropertyPlugin_33_5_$1.bindTo=AS3.getBindable(config,"issuesVE");ui_BindPropertyPlugin_33_5_$1.transformer=AS3.bind(this,"transformValidationState");var ui_BindPropertyPlugin_36_5_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_36_5_$1.componentProperty="tooltip";ui_BindPropertyPlugin_36_5_$1.bindTo=AS3.getBindable(config,"issuesVE");ui_BindPropertyPlugin_36_5_$1.transformer=AS3.bind(this,"transformDescription");var ui_BindPropertyPlugin_39_5_$1=
AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_39_5_$1.componentProperty="ariaDescription";ui_BindPropertyPlugin_39_5_$1.bindTo=AS3.getBindable(config,"issuesVE");ui_BindPropertyPlugin_39_5_$1.transformer=AS3.bind(this,"transformDescription");var ui_BindPropertyPlugin_42_5_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_42_5_$1.componentProperty="iconCls";ui_BindPropertyPlugin_42_5_$1.bindTo=AS3.getBindable(config,"issuesVE");ui_BindPropertyPlugin_42_5_$1.transformer=
AS3.bind(this,"transformIconCls");config_$1.plugins=[ui_BindPropertyPlugin_33_5_$1,ui_BindPropertyPlugin_36_5_$1,ui_BindPropertyPlugin_39_5_$1,ui_BindPropertyPlugin_42_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$7Bb7(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.validation.IssuesButtonBase",alias:"widget.com.coremedia.cms.editor.sdk.config.issuesButton",constructor:IssuesButton$,super$7Bb7:function(){com.coremedia.cms.editor.sdk.validation.IssuesButtonBase.prototype.constructor.apply(this,
arguments)},config:{issuesVE:null},requires:["com.coremedia.cms.editor.sdk.validation.IssuesButtonBase","com.coremedia.ui.plugins.BindPropertyPlugin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.validation.IssuesToolTipBase",function(IssuesToolTipBase){function IssuesToolTipBase$(config){if(arguments.length<=0)config=null;this.super$Z9nV(config);this.initValidationStateMixin()}return{extend:"Ext.tip.ToolTip",mixins:["com.coremedia.ui.mixins.ValidationStateMixin"],constructor:IssuesToolTipBase$,super$Z9nV:function(){Ext.tip.ToolTip.prototype.constructor.apply(this,arguments)},requires:["Ext.tip.ToolTip","com.coremedia.ui.mixins.ValidationStateMixin"]}});Ext.define("com.coremedia.cms.editor.sdk.publication.PublicationResultWindowBase",function(PublicationResultWindowBase){var currentLocation$static=null;function CONFLICT_SECTION_SPECIFICATIONS$static_(){PublicationResultWindowBase.CONFLICT_SECTION_SPECIFICATIONS=[{resultCode:"documentNotApproved",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_MODE},{resultCode:"folderNotApproved",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_MODE},{resultCode:"documentDoesNotExist",
mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_MODE},{resultCode:"folderDoesNotExist",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_MODE},{resultCode:"documentConcurrentlyWithdrawn",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_MODE},{resultCode:"linkedDocumentNotApproved",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_MODE},{resultCode:"documentConcurrentlyDeleted",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_MODE},
{resultCode:"documentLinkFailed",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_BEFORE_IMPEDIMENT_MODE},{resultCode:"documentParentFailed",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_BEFORE_IMPEDIMENT_MODE},{resultCode:"folderParentFailed",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_BEFORE_IMPEDIMENT_MODE},{resultCode:"documentTargetNameConflict",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_BEFORE_IMPEDIMENT_MODE},
{resultCode:"folderTargetNameConflict",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_BEFORE_IMPEDIMENT_MODE},{resultCode:"documentConcurrentlyRenamed",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_MODE},{resultCode:"folderConcurrentlyRenamed",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_MODE},{resultCode:"documentNoApproveRights",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_MODE},
{resultCode:"folderNoApproveRights",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_MODE},{resultCode:"documentUnremovableWithdrawal",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_MODE},{resultCode:"folderUnremovableWithdrawal",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_MODE},{resultCode:"documentNoRights",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_MODE},{resultCode:"folderNoRights",
mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_MODE},{resultCode:"documentNoWithdrawRights",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_MODE},{resultCode:"folderNoWithdrawRights",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_MODE},{resultCode:"documentKeepsLiveLink",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_AFTER_IMPEDIMENT_MODE},{resultCode:"folderCannotMarkChildToBeWithdrawn",
mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_MODE},{resultCode:"documentCheckedOutByOther",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_MODE},{resultCode:"documentNotValid",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_MODE},{resultCode:"folderNotValid",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_MODE},{resultCode:"documentInTrash",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_MODE},
{resultCode:"folderInTrash",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_MODE},{resultCode:"folderKeepsLiveChildren",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_BEFORE_IMPEDIMENT_MODE},{resultCode:"folderKeepsChildren",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_BEFORE_IMPEDIMENT_MODE},{resultCode:"linkedDocumentNotBelowBaseFolder",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_MODE},
{resultCode:"publicationSpansBaseFolders",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_MODE},{resultCode:"documentInRootFolderUnpublishable",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_MODE},{resultCode:"unconfiguredPublicationTarget",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_MODE},{resultCode:"publicationCancelled",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_MODE},{resultCode:"internalError",
mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_MODE}]}function INFO_SECTION_SPECIFICATIONS$static_(){PublicationResultWindowBase.INFO_SECTION_SPECIFICATIONS=[{resultCode:"documentUnchanged",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_MODE},{resultCode:"folderUnchanged",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_MODE},{resultCode:"documentPublished",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_MODE},
{resultCode:"folderPublished",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_MODE},{resultCode:"documentDeleted",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_MODE},{resultCode:"folderDeleted",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_MODE},{resultCode:"documentAlreadyDeleted",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_MODE},{resultCode:"folderAlreadyDeleted",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_MODE},
{resultCode:"documentWithdrawn",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_MODE},{resultCode:"folderWithdrawn",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_MODE},{resultCode:"documentLaterVersion",mode:com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase.CONTENT_MODE}]}function PublicationResultWindowBase$(config){if(arguments.length<=0)config=null;var clonedConfig=AS3.cast(com.coremedia.cms.editor.sdk.publication.PublicationResultWindow,
Ext.apply({},config));if(!currentLocation$static)currentLocation$static=com.coremedia.ui.data.beanFactory.createLocalBean({});else{AS3.setBindable(clonedConfig,"x",currentLocation$static.get("x"));AS3.setBindable(clonedConfig,"y",currentLocation$static.get("y"))}this.super$FSkE(clonedConfig);this.addListener("move",AS3.bind(this,"windowMoved$FSkE"))}function windowMoved(){var position=this.getPosition(false);var x=position[0];var y=position[1];currentLocation$static.set("x",x);currentLocation$static.set("y",
y)}function onShow(animateTarget,callback,scope){switch(Math.max(arguments.length,1)){case 1:callback=null;case 2:scope=null}AS3.setBindable(this,"height",null);AS3.setBindable(this,"maxHeight",Ext.getBody().getHeight()-this.getHeader().getHeight());com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.onShow.call(this,animateTarget,callback,scope)}function retry(){var valueExpression=new com.coremedia.ui.data.ConstantValueExpression(AS3.getBindable(this,"contents"));var action;if(AS3.getBindable(this,
"publishOperation")===com.coremedia.cms.editor.sdk.actions.AbstractPublishAction.OPERATION_PUBLISH){var publishActionConfig=AS3.cast(com.coremedia.cms.editor.sdk.actions.PublishAction,{});AS3.setBindable(publishActionConfig,"contentValueExpression",valueExpression);action=new com.coremedia.cms.editor.sdk.actions.PublishAction(publishActionConfig)}else if(AS3.getBindable(this,"publishOperation")===com.coremedia.cms.editor.sdk.actions.AbstractPublishAction.OPERATION_APPROVE_PUBLISH){var approvePublishActionConfig=
AS3.cast(com.coremedia.cms.editor.sdk.actions.ApprovePublishAction,{});AS3.setBindable(approvePublishActionConfig,"contentValueExpression",valueExpression);action=new com.coremedia.cms.editor.sdk.actions.ApprovePublishAction(approvePublishActionConfig)}else{var withdrawActionConfig=AS3.cast(com.coremedia.cms.editor.sdk.actions.WithdrawAction,{});AS3.setBindable(withdrawActionConfig,"contentValueExpression",valueExpression);action=new com.coremedia.cms.editor.sdk.actions.WithdrawAction(withdrawActionConfig)}action.startPublication();
this.close()}return{extend:"com.coremedia.cms.editor.sdk.components.StudioDialog",constructor:PublicationResultWindowBase$,super$FSkE:function(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.constructor.apply(this,arguments)},windowMoved$FSkE:windowMoved,onShow:onShow,retry:retry,config:{publishOperation:null,contents:null},statics:{CONFLICT_SECTION_SPECIFICATIONS:undefined,INFO_SECTION_SPECIFICATIONS:undefined,__initStatics__:function(){CONFLICT_SECTION_SPECIFICATIONS$static_();
INFO_SECTION_SPECIFICATIONS$static_()}},requires:["Ext","com.coremedia.cms.editor.sdk.components.StudioDialog","com.coremedia.ui.data.ConstantValueExpression","com.coremedia.ui.data.beanFactory"],uses:["com.coremedia.cms.editor.sdk.actions.AbstractPublishAction","com.coremedia.cms.editor.sdk.actions.ApprovePublishAction","com.coremedia.cms.editor.sdk.actions.PublishAction","com.coremedia.cms.editor.sdk.actions.WithdrawAction","com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanelBase","com.coremedia.cms.editor.sdk.publication.PublicationResultWindow"]}});Ext.define("com.coremedia.cms.editor.sdk.publication.PublicationBulkResultPanel",function(PublicationBulkResultPanel){function PublicationBulkResultPanel$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanel,{});var defaults_$1=AS3.cast(PublicationBulkResultPanel,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"resourceBundle",this.resourceManager.getResourceBundle(null,"com.coremedia.cms.editor.sdk.publication.Publisher").content);
AS3.setBindable(config_$1,"resourcePrefix","publicationResult");var premular_CollapsiblePanel_27_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.CollapsiblePanel,{});premular_CollapsiblePanel_27_5_$1.collapsible=false;premular_CollapsiblePanel_27_5_$1.header=false;AS3.setBindable(premular_CollapsiblePanel_27_5_$1,"html",this.resourceManager.getString("com.coremedia.cms.editor.sdk.publication.Publisher",Ext.String.format("publicationResult_{0}_{1}_emptyMessage",AS3.getBindable(config,"publishOperation"),
AS3.getBindable(config,"itemId","DUMMY"))));AS3.setBindable(config_$1,"emptyListPanel",premular_CollapsiblePanel_27_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$dLJ5(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanel",alias:"widget.com.coremedia.cms.editor.sdk.config.publicationBulkResultPanel",constructor:PublicationBulkResultPanel$,super$dLJ5:function(){com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanel.prototype.constructor.apply(this,
arguments)},config:{publishOperation:null},requires:["Ext.String","com.coremedia.cms.editor.sdk.bulkOperation.BulkResultPanel","com.coremedia.cms.editor.sdk.publication.Publisher_properties","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.CollapsiblePanel"]}});Ext.define("com.coremedia.cms.editor.sdk.publication.PublicationSuccessNotification",function(PublicationSuccessNotification){function PublicationSuccessNotification$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.ui.components.AnimatedNotification,{});var defaults_$1=AS3.cast(PublicationSuccessNotification,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.sdk.publication.Publisher",
Ext.String.format("publicationNotification_{0}_succeeded_title",AS3.getBindable(config,"publishOperation"))));AS3.setBindable(config_$1,"width",300);AS3.setBindable(config_$1,"closable",true);AS3.setBindable(config_$1,"position","lc");var editor_SimpleContentList_45_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.components.SimpleContentList,{});editor_SimpleContentList_45_5_$1.itemId=net.jangaroo.ext.Exml.asString(PublicationSuccessNotification.CHANGE_SET_LIST_ITEM_ID);AS3.setBindable(editor_SimpleContentList_45_5_$1,
"hideBorder",true);AS3.setBindable(editor_SimpleContentList_45_5_$1,"contentList",com.coremedia.ui.data.ValueExpressionFactory.createFromValue(AS3.getBindable(config,"publishedItems")));config_$1.items=[editor_SimpleContentList_45_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$GodU(config_$1)}return{extend:"com.coremedia.ui.components.AnimatedNotification",alias:"widget.com.coremedia.cms.editor.sdk.config.publicationSuccessNotification",constructor:PublicationSuccessNotification$,
super$GodU:function(){com.coremedia.ui.components.AnimatedNotification.prototype.constructor.apply(this,arguments)},config:{publishedItems:null,publishOperation:null},statics:{CHANGE_SET_LIST_ITEM_ID:"changeSetList"},requires:["Ext.String","com.coremedia.cms.editor.sdk.publication.Publisher_properties","com.coremedia.ui.components.AnimatedNotification","com.coremedia.ui.data.ValueExpressionFactory","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.components.SimpleContentList"]}});Ext.define("com.coremedia.cms.editor.sdk.publication.ApproveAndRetryPluginBase",function(ApproveAndRetryPluginBase){function ApproveAndRetryPluginBase$(config){if(arguments.length<=0)config=null;this.super$NmGc(config)}function init(component){if(AS3.is(component,com.coremedia.cms.editor.sdk.publication.PublicationResultWindow)){this.pubWindow$NmGc=AS3.as(component,com.coremedia.cms.editor.sdk.publication.PublicationResultWindow);if(this.pubWindow$NmGc.initialConfig.publishOperation===com.coremedia.cms.editor.sdk.actions.AbstractPublishAction.OPERATION_PUBLISH||
this.pubWindow$NmGc.initialConfig.publishOperation===com.coremedia.cms.editor.sdk.actions.AbstractPublishAction.OPERATION_APPROVE_PUBLISH){var fbar=com.coremedia.ui.util.ComponentUtil.getFooterToolbar(this.pubWindow$NmGc);var buttons=fbar?fbar.query("\x3e button[ui\x3d"+com.coremedia.ui.skins.ButtonSkin.FOOTER_PRIMARY.getSkin()+"]"):[];buttons.forEach(function(btn){btn.ui=com.coremedia.ui.skins.ButtonSkin.FOOTER_SECONDARY.getSkin()});com.coremedia.ui.plugins.AddItemsPlugin.prototype.init.call(this,
fbar)}}}function bulkPublishHandler(){this.itemsToApprove$NmGc=this.pubWindow$NmGc.initialConfig.publicationResultItems;this.approveNext$NmGc()}function approveNext(){var this$=this;var publicationService=com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getPublicationService();var next=this.itemsToApprove$NmGc.pop();if(next)publicationService.approveWithPath(next.content,function(r){if(r.successful)this$.approveNext$NmGc();else this$.abort$NmGc(r)});else{var contents=AS3.getBindable(this.pubWindow$NmGc,
"contents");var publishOperation=this.pubWindow$NmGc.initialConfig.publishOperation;this.pubWindow$NmGc.close();com.coremedia.cms.editor.sdk.publication.PublisherState.publicationStarted(publishOperation);publicationService.publishAll(contents,function(r){com.coremedia.cms.editor.sdk.publication.PublisherState.publicationFinished(contents,r,publishOperation)})}}function abort(response){if(response.results&&response.results.some(function(item){return item.resultCode===com.coremedia.cap.content.results.ApproveResultCodes.DOCUMENT_NOT_VALID})){var errorWindowTitle=
mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","CheckBefore_validationErrorWindowTitle");var errorText=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","CheckBefore_validationErrorWindowTextSimple");com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showError(errorWindowTitle,errorText,null,false)}else{var error=response.error?response.error.errorName:response.results[0].resultCode;this.pubWindow$NmGc.close();Ext.MessageBox.alert(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor",
"ApproveAllAndRetryAction_failure_title"),Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","ApproveAllAndRetryAction_failure_text"),error))}}return{extend:"com.coremedia.ui.plugins.AddItemsPlugin",pubWindow$NmGc:null,itemsToApprove$NmGc:null,constructor:ApproveAndRetryPluginBase$,super$NmGc:function(){com.coremedia.ui.plugins.AddItemsPlugin.prototype.constructor.apply(this,arguments)},init:init,bulkPublishHandler:bulkPublishHandler,approveNext$NmGc:approveNext,
abort$NmGc:abort,requires:["Ext.String","Ext.window.MessageBox","com.coremedia.cap.common.SESSION","com.coremedia.cap.content.results.ApproveResultCodes","com.coremedia.cms.editor.Editor_properties","com.coremedia.ui.plugins.AddItemsPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.util.ComponentUtil","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.actions.AbstractPublishAction","com.coremedia.cms.editor.sdk.publication.PublicationResultWindow","com.coremedia.cms.editor.sdk.publication.PublisherState",
"com.coremedia.cms.editor.sdk.util.MessageBoxUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.publication.PublisherState",function(PublisherState){var unforgottenPublicationCount$static=0;var runningPublicationCount$static=0;var lastOperation$static=undefined;var currentNotification$static=null;var publicationResultWindow$static=null;function updateShowProgress$static(){com.coremedia.ui.data.applicationContext.set(PublisherState.CURRENT_OPERATION_BEAN_NAME,runningPublicationCount$static>0?lastOperation$static:null)}function showIcon$static(operation){runningPublicationCount$static++;
lastOperation$static=operation;updateShowProgress$static()}function hideIcon$static(){runningPublicationCount$static--;updateShowProgress$static()}function updateAnimateProgress$static(){com.coremedia.ui.data.applicationContext.set(PublisherState.ANIMATE_PROGRESS_ICON_BEAN_NAME,unforgottenPublicationCount$static>0)}function startAnimation$static(){unforgottenPublicationCount$static++;updateAnimateProgress$static()}function stopAnimation$static(){unforgottenPublicationCount$static--;updateAnimateProgress$static()}
function publicationStarted$static(publishOperation){startAnimation$static();showIcon$static(publishOperation)}function showPublicationError$static(contents,publicationResultItems,publishOperation){if(publicationResultWindow$static&&publicationResultWindow$static.isVisible(true))publicationResultWindow$static.hide();var publicationResultWindowCfg=AS3.cast(com.coremedia.cms.editor.sdk.publication.PublicationResultWindow,{});AS3.setBindable(publicationResultWindowCfg,"contents",contents);AS3.setBindable(publicationResultWindowCfg,
"publishOperation",publishOperation);AS3.setBindable(publicationResultWindowCfg,"publicationResultItems",publicationResultItems);publicationResultWindow$static=Ext.ComponentManager.create(publicationResultWindowCfg);publicationResultWindow$static.show()}function publicationFinished$static(contents,publicationResult,publishOperation,targetButton){if(arguments.length<=3)targetButton=null;stopAnimation$static();if(currentNotification$static)currentNotification$static.goAway();if(!publicationResult){hideIcon$static();
return}if(!publicationResult.successful){showPublicationError$static(contents,publicationResult.results,publishOperation);hideIcon$static()}else showPublicationNotification$static(contents,publishOperation,targetButton)}function showPublicationNotification$static(contents,publishOperation,targetButton){var publicationSuccessNotificationCfg=AS3.cast(com.coremedia.cms.editor.sdk.publication.PublicationSuccessNotification,{});var targetID=null;var toolbar=AS3.as(Ext.getCmp(com.coremedia.cms.editor.sdk.desktop.ActionsToolbar.ID),
com.coremedia.cms.editor.sdk.desktop.ActionsToolbar);if(toolbar){targetID=toolbar.getId();if(targetButton)targetID=toolbar.queryById(targetButton).getId();else{var finishButton=toolbar.queryById(com.coremedia.cms.editor.sdk.desktop.ActionsToolbar.FINISH_BUTTON_ITEM_ID);if(finishButton)targetID=finishButton.getId()}}AS3.setBindable(publicationSuccessNotificationCfg,"target",targetID);AS3.setBindable(publicationSuccessNotificationCfg,"publishedItems",contents);AS3.setBindable(publicationSuccessNotificationCfg,
"publishOperation",publishOperation);var newNotification=new com.coremedia.cms.editor.sdk.publication.PublicationSuccessNotification(publicationSuccessNotificationCfg);newNotification.addListener("hiding",hideIcon$static);newNotification.show();currentNotification$static=newNotification}function PublisherState$(){}return{constructor:PublisherState$,statics:{CURRENT_OPERATION_BEAN_NAME:"publisherStateCurrentOperation",ANIMATE_PROGRESS_ICON_BEAN_NAME:"publisherStateAnimateProgressIcon",publicationStarted:publicationStarted$static,
publicationFinished:publicationFinished$static},requires:["Ext","Ext.ComponentManager","com.coremedia.ui.data.applicationContext"],uses:["com.coremedia.cms.editor.sdk.desktop.ActionsToolbar","com.coremedia.cms.editor.sdk.publication.PublicationResultWindow","com.coremedia.cms.editor.sdk.publication.PublicationSuccessNotification"]}});Ext.define("com.coremedia.cms.editor.sdk.publication.PublicationResultWindow",function(PublicationResultWindow){function PublicationResultWindow$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.publication.PublicationResultWindowBase,{});var defaults_$1=AS3.cast(PublicationResultWindow,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.sdk.publication.Publisher",
Ext.String.format("publicationResult_{0}_failed_title",AS3.getBindable(config,"publishOperation"))));config_$1.stateId="publicationResultWindowState";AS3.setBindable(config_$1,"stateful",true);AS3.setBindable(config_$1,"width",600);AS3.setBindable(config_$1,"minWidth",600);config_$1.resizable=true;AS3.setBindable(config_$1,"scrollable",true);config_$1.constrainHeader=true;var editor_ApproveAndRetryPlugin_68_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.publication.ApproveAndRetryPlugin,{});config_$1.plugins=
[editor_ApproveAndRetryPlugin_68_5_$1];var container_71_5_$1=AS3.cast(Ext.container.Container,{});container_71_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ContainerSkin.GRID_200.getSkin());var fieldContainer_73_9_$1=AS3.cast(Ext.form.FieldContainer,{});AS3.setBindable(fieldContainer_73_9_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.publication.Publisher",Ext.String.format("publicationResult_{0}_failed_changeSet_{1}_message",
AS3.getBindable(config,"publishOperation"),AS3.getBindable(config,"contents").length===1?"sg":"pl"))));fieldContainer_73_9_$1.anchor="100%";fieldContainer_73_9_$1.labelAlign="top";fieldContainer_73_9_$1.labelSeparator="";var editor_SimpleContentList_78_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.components.SimpleContentList,{});editor_SimpleContentList_78_13_$1.itemId=net.jangaroo.ext.Exml.asString(PublicationResultWindow.CHANGE_SET_LIST_ITEM_ID);editor_SimpleContentList_78_13_$1.anchor="100%";var ui_ValueExpression_81_17_$1=
AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_81_17_$1,"expression","contents");AS3.setBindable(ui_ValueExpression_81_17_$1,"context",this);AS3.setBindable(editor_SimpleContentList_78_13_$1,"contentList",new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_81_17_$1));fieldContainer_73_9_$1.items=[editor_SimpleContentList_78_13_$1];var layout_Anchor_87_13_$1=AS3.cast(Ext.layout.container.Anchor,{});AS3.setBindable(fieldContainer_73_9_$1,"layout",layout_Anchor_87_13_$1);
container_71_5_$1.items=[fieldContainer_73_9_$1];var layout_Fit_92_9_$1=AS3.cast(Ext.layout.container.Fit,{});AS3.setBindable(container_71_5_$1,"layout",layout_Fit_92_9_$1);var tabPanel_96_5_$1=AS3.cast(Ext.tab.Panel,{});AS3.setBindable(tabPanel_96_5_$1,"activeTab",0);tabPanel_96_5_$1.flex=1;var editor_PublicationBulkResultPanel_99_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.publication.PublicationBulkResultPanel,{});editor_PublicationBulkResultPanel_99_9_$1.itemId=net.jangaroo.ext.Exml.asString(PublicationResultWindow.CONFLICTS_PANEL_ITEM_ID);
AS3.setBindable(editor_PublicationBulkResultPanel_99_9_$1,"titlePattern",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.publication.Publisher",Ext.String.format("publicationResult_{0}_conflicts_text",AS3.getBindable(config,"publishOperation")))));AS3.setBindable(editor_PublicationBulkResultPanel_99_9_$1,"bulkResultItems",config["publicationResultItems"]);AS3.setBindable(editor_PublicationBulkResultPanel_99_9_$1,"sectionSpecs",com.coremedia.cms.editor.sdk.publication.PublicationResultWindowBase.CONFLICT_SECTION_SPECIFICATIONS);
AS3.setBindable(editor_PublicationBulkResultPanel_99_9_$1,"publishOperation",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"publishOperation")));var editor_PublicationBulkResultPanel_104_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.publication.PublicationBulkResultPanel,{});editor_PublicationBulkResultPanel_104_9_$1.itemId=net.jangaroo.ext.Exml.asString(PublicationResultWindow.INFORMATION_PANEL_ITEM_ID);AS3.setBindable(editor_PublicationBulkResultPanel_104_9_$1,"titlePattern",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.sdk.publication.Publisher",
Ext.String.format("publicationResult_{0}_information_text",AS3.getBindable(config,"publishOperation")))));AS3.setBindable(editor_PublicationBulkResultPanel_104_9_$1,"bulkResultItems",config["publicationResultItems"]);AS3.setBindable(editor_PublicationBulkResultPanel_104_9_$1,"sectionSpecs",com.coremedia.cms.editor.sdk.publication.PublicationResultWindowBase.INFO_SECTION_SPECIFICATIONS);AS3.setBindable(editor_PublicationBulkResultPanel_104_9_$1,"publishOperation",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,
"publishOperation")));tabPanel_96_5_$1.items=[editor_PublicationBulkResultPanel_99_9_$1,editor_PublicationBulkResultPanel_104_9_$1];var tabBar_111_9_$1=AS3.cast(Ext.tab.Bar,{});tabBar_111_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.TabBarSkin.WORKAREA_PANEL.getSkin());AS3.setBindable(tabPanel_96_5_$1,"tabBar",tabBar_111_9_$1);var panel_114_9_$1=AS3.cast(Ext.panel.Panel,{});panel_114_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.PanelSkin.DARK_200.getSkin());AS3.setBindable(panel_114_9_$1,
"layout","anchor");tabPanel_96_5_$1["defaultType"]=panel_114_9_$1["xtype"];delete panel_114_9_$1["xtype"];delete panel_114_9_$1["xclass"];tabPanel_96_5_$1.defaults=panel_114_9_$1;config_$1.items=[container_71_5_$1,tabPanel_96_5_$1];var button_120_5_$1=AS3.cast(Ext.button.Button,{});button_120_5_$1.itemId=net.jangaroo.ext.Exml.asString(PublicationResultWindow.RETRY_BUTTON_ITEM_ID);button_120_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_SECONDARY.getSkin());AS3.setBindable(button_120_5_$1,
"scale","small");AS3.setBindable(button_120_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","PublicationResultWindow_retry_btn_text")));AS3.setBindable(button_120_5_$1,"handler",AS3.bind(this,"retry"));var button_125_5_$1=AS3.cast(Ext.button.Button,{});button_125_5_$1.itemId=net.jangaroo.ext.Exml.asString(PublicationResultWindow.CANCEL_BUTTON_ITEM_ID);button_125_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_PRIMARY.getSkin());
AS3.setBindable(button_125_5_$1,"scale","small");AS3.setBindable(button_125_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","dialog_defaultCancelButton_text")));AS3.setBindable(button_125_5_$1,"handler",AS3.bind(this,"close"));config_$1.buttons=[button_120_5_$1,button_125_5_$1];var layout_VBox_132_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_132_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_132_5_$1);
net.jangaroo.ext.Exml.apply(config_$1,config);this.super$SIST(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.publication.PublicationResultWindowBase",alias:"widget.com.coremedia.cms.editor.sdk.config.publicationResultWindow",constructor:PublicationResultWindow$,super$SIST:function(){com.coremedia.cms.editor.sdk.publication.PublicationResultWindowBase.prototype.constructor.apply(this,arguments)},config:{publicationResultItems:null},statics:{CHANGE_SET_LIST_ITEM_ID:"changeSetList",CONFLICTS_PANEL_ITEM_ID:"conflicts",
INFORMATION_PANEL_ITEM_ID:"information",RETRY_BUTTON_ITEM_ID:"retryBtn",CANCEL_BUTTON_ITEM_ID:"cancelBtn"},requires:["Ext.String","Ext.button.Button","Ext.container.Container","Ext.form.FieldContainer","Ext.layout.container.Anchor","Ext.layout.container.Fit","Ext.layout.container.VBox","Ext.panel.Panel","Ext.tab.Bar","Ext.tab.Panel","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.publication.PublicationResultWindowBase","com.coremedia.cms.editor.sdk.publication.Publisher_properties",
"com.coremedia.ui.exml.ValueExpression","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.ContainerSkin","com.coremedia.ui.skins.PanelSkin","com.coremedia.ui.skins.TabBarSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.components.SimpleContentList","com.coremedia.cms.editor.sdk.publication.ApproveAndRetryPlugin","com.coremedia.cms.editor.sdk.publication.PublicationBulkResultPanel"]}});Ext.define("com.coremedia.cms.editor.sdk.publication.ApproveAndRetryPlugin",function(ApproveAndRetryPlugin){function ApproveAndRetryPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.publication.ApproveAndRetryPluginBase,{});var defaults_$1=AS3.cast(ApproveAndRetryPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var button_23_5_$1=AS3.cast(Ext.button.Button,{});AS3.setBindable(button_23_5_$1,"text",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor",
"ApproveAllAndRetryAction_text")));button_23_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_PRIMARY.getSkin());button_23_5_$1.itemId="bulkPublishBtn";AS3.setBindable(button_23_5_$1,"handler",AS3.bind(this,"bulkPublishHandler"));AS3.setBindable(config_$1,"items",[button_23_5_$1]);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Tckr(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.publication.ApproveAndRetryPluginBase",constructor:ApproveAndRetryPlugin$,
super$Tckr:function(){com.coremedia.cms.editor.sdk.publication.ApproveAndRetryPluginBase.prototype.constructor.apply(this,arguments)},requires:["Ext.button.Button","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.publication.ApproveAndRetryPluginBase","com.coremedia.ui.skins.ButtonSkin","mx.resources.ResourceManager","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.messageService",function(messageService){return{__factory__:function(){return null}}});Ext.define("com.coremedia.cms.editor.sdk.preferences.shortcuts.ShortcutsGridBase",function(ShortcutsGridBase){function ShortcutsGridBase$(config){if(arguments.length<=0)config=null;this.super$XJcp(config)}function shortcutCommandColRenderer$static(value,metaData,record){var descriptor=record.getBean().get(com.coremedia.cms.editor.sdk.preferences.shortcuts.ShortcutsGrid.COMMAND_COLUMN);var html=[];if(descriptor.keyCode){var modifierGlyphs=Ext.event.Event["modifierGlyphs"];if(descriptor.ctrlKey)html.push(Ext.isMac?
modifierGlyphs.ctrlKey:localizeKey$static(Ext.event.Event.CTRL));if(descriptor.altKey)html.push(Ext.isMac?modifierGlyphs.altKey:localizeKey$static(Ext.event.Event.ALT));if(descriptor.metaKey)html.push(modifierGlyphs.metaKey);if(descriptor.shiftKey)html.push(modifierGlyphs.shiftKey);var key=localizeKey$static(descriptor.keyCode);html.push('\x3ckbd title\x3d"'+key+'"\x3e'+key+"\x3c/kbd\x3e")}return html.join(Ext.isMac?"":"\x3cspan\x3e\x26nbsp;\x26#43;\x26nbsp;\x3c/span\x3e")}var SHORTCUT_LOCALIZATION$static;
function SHORTCUT_LOCALIZATION$static_(){SHORTCUT_LOCALIZATION$static=mx.resources.ResourceManager.getInstance().getResourceBundle(null,"com.coremedia.cms.editor.sdk.shortcuts.ShortcutLocalization").content}function localizeKey$static(keyCode){var value=SHORTCUT_LOCALIZATION$static[keyCode];if(!value&&AS3.is(keyCode,AS3.int_)){keyCode=Ext.event.Event["prototype"].keyCodes[keyCode];value=SHORTCUT_LOCALIZATION$static[keyCode]}return value||String(keyCode)}function getShortCuts$static(){var result=[];
var keyMap=AS3.getBindable(com.coremedia.cms.editor.sdk.editorContext.getKeyboardShortcutManager(),"keyMap","DUMMY");for(var keyDescriptor in keyMap){var handlerDescriptor=keyMap[keyDescriptor]&&keyMap[keyDescriptor][0];if(!handlerDescriptor)continue;var description=handlerDescriptor.description;if(description){var entry=com.coremedia.ui.data.beanFactory.createLocalBean();entry.set(com.coremedia.cms.editor.sdk.preferences.shortcuts.ShortcutsGrid.COMMAND_COLUMN,handlerDescriptor);entry.set(com.coremedia.cms.editor.sdk.preferences.shortcuts.ShortcutsGrid.DESCRIPTION_COLUMN,
description);result.push(entry)}}result.sort(compareRecords$static);return result}function compareRecords$static(a,b){var handlerDescriptorA=a.get(com.coremedia.cms.editor.sdk.preferences.shortcuts.ShortcutsGrid.COMMAND_COLUMN);var handlerDescriptorB=b.get(com.coremedia.cms.editor.sdk.preferences.shortcuts.ShortcutsGrid.COMMAND_COLUMN);var modifierDiff=AS3.int_(handlerDescriptorA.ctrlKey)-AS3.int_(handlerDescriptorB.ctrlKey)+2*(AS3.int_(handlerDescriptorA.altKey)-AS3.int_(handlerDescriptorB.altKey))+
4*(AS3.int_(handlerDescriptorA.metaKey)-AS3.int_(handlerDescriptorB.metaKey));return modifierDiff||handlerDescriptorA.keyCode-handlerDescriptorB.keyCode||AS3.int_(handlerDescriptorA.shiftKey)-AS3.int_(handlerDescriptorB.shiftKey)}return{extend:"Ext.grid.Panel",constructor:ShortcutsGridBase$,super$XJcp:function(){Ext.grid.Panel.prototype.constructor.apply(this,arguments)},statics:{shortcutCommandColRenderer:shortcutCommandColRenderer$static,SHORTCUT_LOCALIZATION:undefined,getShortCuts:getShortCuts$static,
__initStatics__:function(){SHORTCUT_LOCALIZATION$static_()}},requires:["AS3.int_","Ext","Ext.event.Event","Ext.grid.Panel","com.coremedia.cms.editor.sdk.shortcuts.ShortcutLocalization_properties","com.coremedia.cms.editor.sdk.shortcuts.Shortcut_properties","com.coremedia.ui.data.beanFactory","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.preferences.shortcuts.ShortcutsGrid"]}});Ext.define("com.coremedia.cms.editor.sdk.preferences.shortcuts.ShortcutsGrid",function(ShortcutsGrid){function ShortcutsGrid$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.preferences.shortcuts.ShortcutsGridBase,{});var defaults_$1=AS3.cast(ShortcutsGrid,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"hideHeaders",true);AS3.setBindable(config_$1,"scrollable",false);config_$1.forceFit=true;config_$1.disableSelection=
true;var ui_BindListPlugin_27_5_$1=AS3.cast(com.coremedia.ui.plugins.BindListPlugin,{});AS3.setBindable(ui_BindListPlugin_27_5_$1,"bindTo",com.coremedia.ui.data.ValueExpressionFactory.createFromValue(com.coremedia.cms.editor.sdk.preferences.shortcuts.ShortcutsGridBase.getShortCuts()));var ui_DataField_29_9_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_29_9_$1.name=net.jangaroo.ext.Exml.asString(ShortcutsGrid.DESCRIPTION_COLUMN);var ui_DataField_30_9_$1=AS3.cast(com.coremedia.ui.store.DataField,
{});ui_DataField_30_9_$1.name=net.jangaroo.ext.Exml.asString(ShortcutsGrid.COMMAND_COLUMN);AS3.setBindable(ui_BindListPlugin_27_5_$1,"fields",[ui_DataField_29_9_$1,ui_DataField_30_9_$1]);config_$1.plugins=[ui_BindListPlugin_27_5_$1];var shortcutDescription_36_5_$1=AS3.cast(Ext.grid.column.Column,{});AS3.setBindable(shortcutDescription_36_5_$1,"width",270);shortcutDescription_36_5_$1.sortable=false;shortcutDescription_36_5_$1.dataIndex=net.jangaroo.ext.Exml.asString(ShortcutsGrid.DESCRIPTION_COLUMN);
AS3.setBindable(this,"shortcutDescription",new Ext.grid.column.Column(shortcutDescription_36_5_$1));var shortcutCommand_40_5_$1=AS3.cast(Ext.grid.column.Column,{});AS3.setBindable(shortcutCommand_40_5_$1,"width",250);shortcutCommand_40_5_$1.fixed=false;shortcutCommand_40_5_$1.dataIndex=net.jangaroo.ext.Exml.asString(ShortcutsGrid.COMMAND_COLUMN);shortcutCommand_40_5_$1.renderer=com.coremedia.cms.editor.sdk.preferences.shortcuts.ShortcutsGridBase.shortcutCommandColRenderer;AS3.setBindable(this,"shortcutCommand",
new Ext.grid.column.Column(shortcutCommand_40_5_$1));config_$1.columns=[AS3.getBindable(this,"shortcutDescription"),AS3.getBindable(this,"shortcutCommand")];var gridView_48_5_$1=AS3.cast(Ext.view.Table,{});gridView_48_5_$1.stripeRows=true;config_$1["viewConfig"]=gridView_48_5_$1;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$1s$2(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.preferences.shortcuts.ShortcutsGridBase",alias:"widget.com.coremedia.cms.editor.sdk.config.shortcutsGrid",
constructor:ShortcutsGrid$,super$1s$2:function(){com.coremedia.cms.editor.sdk.preferences.shortcuts.ShortcutsGridBase.prototype.constructor.apply(this,arguments)},config:{shortcutDescription:null,shortcutCommand:null},statics:{COMMAND_COLUMN:"shortcutCommand",DESCRIPTION_COLUMN:"shortcutDescription"},requires:["Ext.grid.column.Column","Ext.view.Table","com.coremedia.cms.editor.sdk.preferences.shortcuts.ShortcutsGridBase","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.BindListPlugin",
"com.coremedia.ui.store.DataField","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.preferences.PreferencePanel",function(PreferencePanel){return{}});Ext.define("com.coremedia.cms.editor.sdk.preferences.PreferenceWindowBase",function(PreferenceWindowBase){function PreferenceWindowBase$(config){if(arguments.length<=0)config=null;this.super$Behi(config);this.preselectedTabItemId$Behi=AS3.getBindable(config,"selectedTabItemId")}function afterRender(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.afterRender.call(this);if(this.preselectedTabItemId$Behi){var tabPanel=AS3.as(Ext.getCmp("preferences-tab-panel"),Ext.tab.Panel);var tab=
AS3.as(tabPanel.queryById(this.preselectedTabItemId$Behi),Ext.panel.Panel);if(tab)tabPanel.setActiveTab(tab)}}function getLocaleStore$static(){var localStore=[];var supportedLocales=com.coremedia.cms.editor.sdk.util.LocaleUtil.getSupportedLocales();for(var i=0;i<supportedLocales.length;i++){var supportedLocale=supportedLocales[i];localStore.push([supportedLocale,mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","Locale_"+supportedLocale+"_text")||supportedLocale])}return localStore}
function getLocaleValueExpression(){return this.localeValueExpression$Behi||(this.localeValueExpression$Behi=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(com.coremedia.cms.editor.sdk.util.LocaleUtil.getLocale()))}function getShowSiteInUserMenuValueExpression(){return this.showSiteInUserMenuValueExpression$Behi||(this.showSiteInUserMenuValueExpression$Behi=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(!com.coremedia.cms.editor.sdk.util.PreferencesUtil.getPreferencesProperty(com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.USER_MENU_SUBSTRUCT,
com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.DISABLE_SITE_NAME)))}function getShowSiteLocaleInUserMenuValueExpression(){return this.showSiteLocaleInUserMenuValueExpression$Behi||(this.showSiteLocaleInUserMenuValueExpression$Behi=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(!com.coremedia.cms.editor.sdk.util.PreferencesUtil.getPreferencesProperty(com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.USER_MENU_SUBSTRUCT,com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.DISABLE_SITE_LOCALE)))}
function getShowUserNameInUserMenuValueExpression(){return this.showUserNameInUserMenuValueExpression$Behi||(this.showUserNameInUserMenuValueExpression$Behi=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(!com.coremedia.cms.editor.sdk.util.PreferencesUtil.getPreferencesProperty(com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.USER_MENU_SUBSTRUCT,com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.DISABLE_USER_NAME)))}function getShowPreviewHoverFramesValueExpression(){return this.showPreviewHoverFramesValueExpression$Behi||
(this.showPreviewHoverFramesValueExpression$Behi=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(!com.coremedia.cms.editor.sdk.util.PreferencesUtil.getPreferencesProperty(com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.DISABLE_PREVIEW_HOVER_FRAMES)))}function getShowPreviewScrollbarsValueExpression(){return this.showPreviewScrollbarsValueExpression$Behi||(this.showPreviewScrollbarsValueExpression$Behi=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(com.coremedia.cms.editor.sdk.util.PreferencesUtil.getPreferencesProperty(com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.ENABLE_PREVIEW_SCROLLBARS)))}
function getShowAllTabsInFormValueExpression(){return this.showAllTabsInFormValueExpression$Behi||(this.showAllTabsInFormValueExpression$Behi=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(com.coremedia.cms.editor.sdk.util.PreferencesUtil.getPreferencesProperty(com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.SHOW_ALL_TABS_IN_FORM)))}function getPreviewReloadDelayValueExpression(){if(!this.previewReloadDelayValueExpression$Behi){var value=com.coremedia.cms.editor.sdk.util.PreferencesUtil.getPreferencesProperty(com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.PREVIEW_RELOAD_DELAY);
if(value===undefined)value=com.coremedia.cms.editor.sdk.preview.PreviewPanelBase.DEFAULT_RELOAD_DELAY;this.previewReloadDelayValueExpression$Behi=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(value)}return this.previewReloadDelayValueExpression$Behi}function saveAndClose(){com.coremedia.cms.editor.sdk.util.PreferencesUtil.updatePreferencesJSONProperty(!this.getShowSiteInUserMenuValueExpression().getValue(),com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.USER_MENU_SUBSTRUCT,
com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.DISABLE_SITE_NAME);com.coremedia.cms.editor.sdk.util.PreferencesUtil.updatePreferencesJSONProperty(!this.getShowSiteLocaleInUserMenuValueExpression().getValue(),com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.USER_MENU_SUBSTRUCT,com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.DISABLE_SITE_LOCALE);com.coremedia.cms.editor.sdk.util.PreferencesUtil.updatePreferencesJSONProperty(!this.getShowUserNameInUserMenuValueExpression().getValue(),
com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.USER_MENU_SUBSTRUCT,com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.DISABLE_USER_NAME);com.coremedia.cms.editor.sdk.util.PreferencesUtil.updatePreferencesJSONProperty(!this.getShowPreviewHoverFramesValueExpression().getValue(),com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.DISABLE_PREVIEW_HOVER_FRAMES);com.coremedia.cms.editor.sdk.util.PreferencesUtil.updatePreferencesJSONProperty(!!this.getShowPreviewScrollbarsValueExpression().getValue(),
com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.ENABLE_PREVIEW_SCROLLBARS);com.coremedia.cms.editor.sdk.util.PreferencesUtil.updatePreferencesJSONProperty(this.getShowAllTabsInFormValueExpression().getValue(),com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.SHOW_ALL_TABS_IN_FORM);com.coremedia.cms.editor.sdk.util.PreferencesUtil.updatePreferencesJSONProperty(this.getPreviewReloadDelayValueExpression().getValue(),com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.PREVIEW_RELOAD_DELAY);
var tabPanel=AS3.as(Ext.getCmp("preferences-tab-panel"),Ext.tab.Panel);var tabs=tabPanel.itemCollection["items"];for(var $1=0;$1<tabs.length;++$1){var panel=tabs[$1];if(AS3.is(panel,com.coremedia.cms.editor.sdk.preferences.PreferencePanel))AS3.as(panel,com.coremedia.cms.editor.sdk.preferences.PreferencePanel).updatePreferences()}var locale=this.getLocaleValueExpression().getValue();AS3.cast(com.coremedia.ui.data.RemoteBean,com.coremedia.cms.editor.sdk.editorContext.getPreferences()).flush(function(){com.coremedia.cms.editor.sdk.util.LocaleUtilInternal.setLocale(locale)});
this.el.blur();this.close()}return{extend:"com.coremedia.cms.editor.sdk.components.StudioDialog",localeValueExpression$Behi:null,showPreviewHoverFramesValueExpression$Behi:null,showPreviewScrollbarsValueExpression$Behi:null,showAllTabsInFormValueExpression$Behi:null,showSiteInUserMenuValueExpression$Behi:null,showSiteLocaleInUserMenuValueExpression$Behi:null,showUserNameInUserMenuValueExpression$Behi:null,previewReloadDelayValueExpression$Behi:null,preselectedTabItemId$Behi:undefined,constructor:PreferenceWindowBase$,
super$Behi:function(){com.coremedia.cms.editor.sdk.components.StudioDialog.prototype.constructor.apply(this,arguments)},afterRender:afterRender,getLocaleValueExpression:getLocaleValueExpression,getShowSiteInUserMenuValueExpression:getShowSiteInUserMenuValueExpression,getShowSiteLocaleInUserMenuValueExpression:getShowSiteLocaleInUserMenuValueExpression,getShowUserNameInUserMenuValueExpression:getShowUserNameInUserMenuValueExpression,getShowPreviewHoverFramesValueExpression:getShowPreviewHoverFramesValueExpression,
getShowPreviewScrollbarsValueExpression:getShowPreviewScrollbarsValueExpression,getShowAllTabsInFormValueExpression:getShowAllTabsInFormValueExpression,getPreviewReloadDelayValueExpression:getPreviewReloadDelayValueExpression,saveAndClose:saveAndClose,statics:{getLocaleStore:getLocaleStore$static},requires:["Ext","Ext.panel.Panel","Ext.tab.Panel","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.components.StudioDialog","com.coremedia.ui.data.RemoteBean","com.coremedia.ui.data.ValueExpressionFactory",
"mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.preferences.PreferencePanel","com.coremedia.cms.editor.sdk.preview.PreviewPanelBase","com.coremedia.cms.editor.sdk.util.LocaleUtil","com.coremedia.cms.editor.sdk.util.LocaleUtilInternal","com.coremedia.cms.editor.sdk.util.PreferencesUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.preferences.PreferenceWindow",function(PreferenceWindow){function PreferenceWindow$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.preferences.PreferenceWindowBase,{});var defaults_$1=AS3.cast(PreferenceWindow,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.Editor","PreferenceWindow_title"));config_$1.stateId=
"preferenceWindowState";AS3.setBindable(config_$1,"stateful",true);config_$1.modal=true;AS3.setBindable(config_$1,"width",480);config_$1["id"]="studio-preferences-window";AS3.setBindable(config_$1,"height",365);config_$1.constrainHeader=true;var tabPanel_46_5_$1=AS3.cast(Ext.tab.Panel,{});AS3.setBindable(tabPanel_46_5_$1,"activeTab",0);tabPanel_46_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.TabBarSkin.WORKAREA_PANEL.getSkin());tabPanel_46_5_$1["id"]="preferences-tab-panel";var panel_50_9_$1=
AS3.cast(Ext.panel.Panel,{});panel_50_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.PanelSkin.GRID_200.getSkin());AS3.setBindable(panel_50_9_$1,"layout","anchor");tabPanel_46_5_$1["defaultType"]=panel_50_9_$1["xtype"];delete panel_50_9_$1["xtype"];delete panel_50_9_$1["xclass"];tabPanel_46_5_$1.defaults=panel_50_9_$1;var panel_54_9_$1=AS3.cast(Ext.panel.Panel,{});panel_54_9_$1.itemId=net.jangaroo.ext.Exml.asString(PreferenceWindow.GENERAL_TAB_ITEM_ID);AS3.setBindable(panel_54_9_$1,
"title",this.resourceManager.getString("com.coremedia.cms.editor.Editor","PreferenceWindow_general_text"));var ui_LocalComboBox_57_13_$1=AS3.cast(com.coremedia.ui.components.LocalComboBox,{});ui_LocalComboBox_57_13_$1.itemId="localeComboBox";AS3.setBindable(ui_LocalComboBox_57_13_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","PreferenceWindow_language_text")));AS3.setBindable(ui_LocalComboBox_57_13_$1,"encodeItems",true);AS3.setBindable(ui_LocalComboBox_57_13_$1,
"store",com.coremedia.cms.editor.sdk.preferences.PreferenceWindowBase.getLocaleStore());ui_LocalComboBox_57_13_$1.anchor="100%";var ui_BindPropertyPlugin_63_17_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_63_17_$1.bidirectional=true;ui_BindPropertyPlugin_63_17_$1.bindTo=this.getLocaleValueExpression();ui_LocalComboBox_57_13_$1.plugins=[ui_BindPropertyPlugin_63_17_$1];ui_LocalComboBox_57_13_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var checkboxGroup_68_13_$1=
AS3.cast(Ext.form.CheckboxGroup,{});AS3.setBindable(checkboxGroup_68_13_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","PreferenceWindow_UserMenu_title")));checkboxGroup_68_13_$1.itemId="preferencesUserMenu";checkboxGroup_68_13_$1.columns=1;var checkbox_72_17_$1=AS3.cast(Ext.form.field.Checkbox,{});checkbox_72_17_$1.itemId="userMenuShowSiteNameCheckBox";AS3.setBindable(checkbox_72_17_$1,"boxLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"PreferenceWindow_userMenuShowSiteCheckBox_text")));var ui_BindPropertyPlugin_75_21_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_75_21_$1.bidirectional=true;ui_BindPropertyPlugin_75_21_$1.bindTo=this.getShowSiteInUserMenuValueExpression();checkbox_72_17_$1.plugins=[ui_BindPropertyPlugin_75_21_$1];var checkbox_79_17_$1=AS3.cast(Ext.form.field.Checkbox,{});checkbox_79_17_$1.itemId="userMenuShowSiteLocaleCheckBox";AS3.setBindable(checkbox_79_17_$1,"boxLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor",
"PreferenceWindow_userMenuShowSiteLocaleCheckBox_text")));var ui_BindPropertyPlugin_82_21_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_82_21_$1.bidirectional=true;ui_BindPropertyPlugin_82_21_$1.bindTo=this.getShowSiteLocaleInUserMenuValueExpression();checkbox_79_17_$1.plugins=[ui_BindPropertyPlugin_82_21_$1];var checkbox_86_17_$1=AS3.cast(Ext.form.field.Checkbox,{});checkbox_86_17_$1.itemId="userMenuShowUserNameCheckBox";AS3.setBindable(checkbox_86_17_$1,"boxLabel",
net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","PreferenceWindow_userMenuShowUserNameCheckBox_text")));var ui_BindPropertyPlugin_89_21_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_89_21_$1.bidirectional=true;ui_BindPropertyPlugin_89_21_$1.bindTo=this.getShowUserNameInUserMenuValueExpression();checkbox_86_17_$1.plugins=[ui_BindPropertyPlugin_89_21_$1];checkboxGroup_68_13_$1.items=[checkbox_72_17_$1,checkbox_79_17_$1,
checkbox_86_17_$1];var checkboxGroup_96_13_$1=AS3.cast(Ext.form.CheckboxGroup,{});AS3.setBindable(checkboxGroup_96_13_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","PreferenceWindow_Preview_title")));checkboxGroup_96_13_$1.itemId="preferencesPreview";checkboxGroup_96_13_$1.columns=1;var checkbox_100_17_$1=AS3.cast(Ext.form.field.Checkbox,{});checkbox_100_17_$1.itemId="showPreviewHoverFramesCheckBox";AS3.setBindable(checkbox_100_17_$1,
"boxLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","PreferenceWindow_showPreviewHoverFrames_text")));var ui_BindPropertyPlugin_103_21_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_103_21_$1.bidirectional=true;ui_BindPropertyPlugin_103_21_$1.bindTo=this.getShowPreviewHoverFramesValueExpression();checkbox_100_17_$1.plugins=[ui_BindPropertyPlugin_103_21_$1];var checkbox_107_17_$1=AS3.cast(Ext.form.field.Checkbox,
{});checkbox_107_17_$1.itemId="showPreviewScrollbarsCheckBox";AS3.setBindable(checkbox_107_17_$1,"boxLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","PreferenceWindow_showPreviewScrollbars_text")));var ui_BindPropertyPlugin_110_21_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_110_21_$1.bidirectional=true;ui_BindPropertyPlugin_110_21_$1.bindTo=this.getShowPreviewScrollbarsValueExpression();checkbox_107_17_$1.plugins=
[ui_BindPropertyPlugin_110_21_$1];var container_114_17_$1=AS3.cast(Ext.container.Container,{});AS3.setBindable(container_114_17_$1,"margin","5 0 0 2");var displayField_116_21_$1=AS3.cast(Ext.form.field.Display,{});AS3.setBindable(displayField_116_21_$1,"value",this.resourceManager.getString("com.coremedia.cms.editor.Editor","PreferenceWindow_reload_text_1"));var ui_StatefulNumberField_117_21_$1=AS3.cast(com.coremedia.ui.components.StatefulNumberField,{});ui_StatefulNumberField_117_21_$1.itemId="previewDelay";
ui_StatefulNumberField_117_21_$1.allowBlank=false;ui_StatefulNumberField_117_21_$1.allowDecimals=false;AS3.setBindable(ui_StatefulNumberField_117_21_$1,"spinUpEnabled",true);AS3.setBindable(ui_StatefulNumberField_117_21_$1,"spinDownEnabled",true);AS3.setBindable(ui_StatefulNumberField_117_21_$1,"minValue",0);AS3.setBindable(ui_StatefulNumberField_117_21_$1,"width",50);AS3.setBindable(ui_StatefulNumberField_117_21_$1,"maxValue",10);var ui_BindPropertyPlugin_126_25_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,
{});ui_BindPropertyPlugin_126_25_$1.bidirectional=true;ui_BindPropertyPlugin_126_25_$1.ifUndefined=com.coremedia.cms.editor.sdk.preview.PreviewPanelBase.DEFAULT_RELOAD_DELAY;ui_BindPropertyPlugin_126_25_$1.componentEvent="spin";ui_BindPropertyPlugin_126_25_$1.bindTo=this.getPreviewReloadDelayValueExpression();var ui_BindPropertyPlugin_130_25_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_130_25_$1.bidirectional=true;ui_BindPropertyPlugin_130_25_$1.ifUndefined=com.coremedia.cms.editor.sdk.preview.PreviewPanelBase.DEFAULT_RELOAD_DELAY;
ui_BindPropertyPlugin_130_25_$1.bindTo=this.getPreviewReloadDelayValueExpression();ui_StatefulNumberField_117_21_$1.plugins=[ui_BindPropertyPlugin_126_25_$1,ui_BindPropertyPlugin_130_25_$1];var displayField_135_21_$1=AS3.cast(Ext.form.field.Display,{});AS3.setBindable(displayField_135_21_$1,"value",this.resourceManager.getString("com.coremedia.cms.editor.Editor","PreferenceWindow_reload_text_2"));container_114_17_$1.items=[displayField_116_21_$1,ui_StatefulNumberField_117_21_$1,displayField_135_21_$1];
var ui_HorizontalSpacingPlugin_138_21_$1=AS3.cast(com.coremedia.ui.plugins.HorizontalSpacingPlugin,{});container_114_17_$1.plugins=[ui_HorizontalSpacingPlugin_138_21_$1];var layout_HBox_141_21_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(container_114_17_$1,"layout",layout_HBox_141_21_$1);checkboxGroup_96_13_$1.items=[checkbox_100_17_$1,checkbox_107_17_$1,container_114_17_$1];var checkboxGroup_147_13_$1=AS3.cast(Ext.form.CheckboxGroup,{});checkboxGroup_147_13_$1.columns=1;AS3.setBindable(checkboxGroup_147_13_$1,
"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","PreferenceWindow_showAllTabsInForm_title")));var ui_BindVisibilityPlugin_150_17_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,{});ui_BindVisibilityPlugin_150_17_$1.bindTo=com.coremedia.ui.data.ValueExpressionFactory.createFromValue(com.coremedia.cms.editor.sdk.plugins.TabExpandPlugin.ADVANCED_TABS_ENABLED);checkboxGroup_147_13_$1.plugins=[ui_BindVisibilityPlugin_150_17_$1];var checkbox_154_17_$1=
AS3.cast(Ext.form.field.Checkbox,{});checkbox_154_17_$1.itemId="showAllTabsInFormCheckBox";AS3.setBindable(checkbox_154_17_$1,"boxLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","PreferenceWindow_showAllTabsInForm_text")));var ui_BindPropertyPlugin_157_21_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_157_21_$1.bidirectional=true;ui_BindPropertyPlugin_157_21_$1.bindTo=this.getShowAllTabsInFormValueExpression();
checkbox_154_17_$1.plugins=[ui_BindPropertyPlugin_157_21_$1];checkboxGroup_147_13_$1.items=[checkbox_154_17_$1];panel_54_9_$1.items=[ui_LocalComboBox_57_13_$1,checkboxGroup_68_13_$1,checkboxGroup_96_13_$1,checkboxGroup_147_13_$1];var ui_VerticalSpacingPlugin_165_13_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});panel_54_9_$1.plugins=[ui_VerticalSpacingPlugin_165_13_$1];var panel_168_9_$1=AS3.cast(Ext.panel.Panel,{});panel_168_9_$1.flex=1;AS3.setBindable(panel_168_9_$1,"scrollable",
true);AS3.setBindable(panel_168_9_$1,"autoScroll",true);AS3.setBindable(panel_168_9_$1,"title",this.resourceManager.getString("com.coremedia.cms.editor.Editor","PreferenceWindow_shortcuts_text"));var editor_ShortcutsGrid_173_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.preferences.shortcuts.ShortcutsGrid,{});editor_ShortcutsGrid_173_13_$1.itemId=net.jangaroo.ext.Exml.asString(PreferenceWindow.SHORTCUTS_TAB_ITEM_ID);panel_168_9_$1.items=[editor_ShortcutsGrid_173_13_$1];tabPanel_46_5_$1.items=[panel_54_9_$1,
panel_168_9_$1];config_$1.items=[tabPanel_46_5_$1];var button_180_5_$1=AS3.cast(Ext.button.Button,{});button_180_5_$1.itemId="saveBtn";button_180_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_PRIMARY.getSkin());AS3.setBindable(button_180_5_$1,"scale","small");AS3.setBindable(button_180_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","dialog_defaultSubmitButton_text")));AS3.setBindable(button_180_5_$1,"handler",
AS3.bind(this,"saveAndClose"));var button_185_5_$1=AS3.cast(Ext.button.Button,{});button_185_5_$1.itemId="cancelBtn";button_185_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.FOOTER_SECONDARY.getSkin());AS3.setBindable(button_185_5_$1,"scale","small");AS3.setBindable(button_185_5_$1,"handler",AS3.bind(this,"close"));AS3.setBindable(button_185_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","dialog_defaultCancelButton_text")));
config_$1.buttons=[button_180_5_$1,button_185_5_$1];var layout_Fit_192_5_$1=AS3.cast(Ext.layout.container.Fit,{});AS3.setBindable(config_$1,"layout",layout_Fit_192_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$z4Lx(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.preferences.PreferenceWindowBase",alias:"widget.com.coremedia.cms.editor.sdk.config.preferenceWindow",constructor:PreferenceWindow$,super$z4Lx:function(){com.coremedia.cms.editor.sdk.preferences.PreferenceWindowBase.prototype.constructor.apply(this,
arguments)},config:{selectedTabItemId:null},statics:{GENERAL_TAB_ITEM_ID:"general",SHORTCUTS_TAB_ITEM_ID:"shortcuts"},requires:["Ext.button.Button","Ext.container.Container","Ext.form.CheckboxGroup","Ext.form.field.Checkbox","Ext.form.field.Display","Ext.layout.container.Fit","Ext.layout.container.HBox","Ext.panel.Panel","Ext.tab.Panel","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.preferences.PreferenceWindowBase","com.coremedia.ui.components.LocalComboBox","com.coremedia.ui.components.StatefulNumberField",
"com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.BindVisibilityPlugin","com.coremedia.ui.plugins.HorizontalSpacingPlugin","com.coremedia.ui.plugins.VerticalSpacingPlugin","com.coremedia.ui.skins.ButtonSkin","com.coremedia.ui.skins.PanelSkin","com.coremedia.ui.skins.TabBarSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.plugins.TabExpandPlugin","com.coremedia.cms.editor.sdk.preferences.shortcuts.ShortcutsGrid",
"com.coremedia.cms.editor.sdk.preview.PreviewPanelBase"]}});Ext.define("com.coremedia.cms.editor.sdk.dragdrop.DragInfo",function(DragInfo){function DragInfo$(contents){this.contents$h4TJ=contents}function makeDragInfo$static(data){if(!!data){var contents=AS3.as(data.contents,Array);var node=AS3.as(data.node,Ext.data.Model);var records=AS3.as(data.records,Array);if(!contents&&node)contents=[com.coremedia.ui.data.beanFactory.getRemoteBean(node.getId())];if(!contents&&records){contents=records.filter(function(model){return AS3.is(model,com.coremedia.ui.store.BeanRecord)}).map(function(beanRecord){return beanRecord.getBean()}).filter(isNotFalsy$static);
if(contents.length>0)return new DragInfo(contents)}if(contents&&contents.length>0)return new DragInfo(contents)}return undefined}function isNotFalsy$static(value){return!!value}function getContents(){return this.contents$h4TJ}return{contents$h4TJ:null,constructor:DragInfo$,getContents:getContents,statics:{makeDragInfo:makeDragInfo$static},requires:["Ext.data.Model","com.coremedia.ui.data.beanFactory","com.coremedia.ui.store.BeanRecord"]}});Ext.define("com.coremedia.cms.editor.sdk.dragdrop.RichTextAreaDropTarget",function(RichTextAreaDropTarget){function RichTextAreaDropTarget$(component){this.super$dVld(component.getCKEditor().editable().$,AS3.cast(Ext.dd.DropTarget,{ddGroup:"ContentDD"}));this.addToGroup("ContentLinkDD");this.richTextArea$dVld=component}function allowDrop(dragInfo){if(!dragInfo)return false;var draggedItems=dragInfo.getContents();var contents=com.coremedia.cap.content.ContentProxyHelper.getContents(draggedItems);if(draggedItems.length!==
contents.length)return false;if(this.richTextArea$dVld.disabled)return false;if(AS3.getBindable(this.richTextArea$dVld,"readOnly","DUMMY"))return false;return RichTextAreaDropTarget.isValidRichTextContent(contents)}function isValidRichTextContent$static(contents){var imageTypes=com.coremedia.cms.editor.sdk.editorContext.getRichTextEmbeddableTypes();var linkableTypes=com.coremedia.cms.editor.sdk.editorContext.getRichTextLinkableTypes();var allTypes=linkableTypes.concat(imageTypes);for(var $1=0;$1<
contents.length;++$1){var content=contents[$1];if(!hasValidContentType$static(content,allTypes))return false}return true}function hasValidContentType$static(content,validTypes){if(content.getState()!==com.coremedia.ui.data.BeanState.READABLE)return false;for(var $1=0;$1<validTypes.length;++$1){var cType=validTypes[$1];if(content.getType().isSubtypeOf(cType))return true}return false}function findMostSuitableBlobProperty$static(content){var contentType=AS3.as(content.getType(),com.coremedia.cap.content.impl.ContentTypeImpl);
var descriptors=contentType.getDescriptors();for(var i=0;i<descriptors.length;i++){var descriptor=descriptors[i];if(descriptor.type===com.coremedia.cap.common.CapPropertyDescriptorType.BLOB&&descriptor.contentType.indexOf("image/*")!==-1)if(content.getProperties().get(descriptors[i].name)!==null)return descriptors[i].name}return null}function getTargetHover(hoverClass){var dropTargetHoverID=this.richTextArea$dVld.getId();dropTargetHoverID="cke_"+dropTargetHoverID;var dropHoverDom=window.document.getElementById(dropTargetHoverID);
Ext.fly(dropHoverDom).addCls(hoverClass)}function removeClass(cls){var dropTargetHoverID=this.richTextArea$dVld.getId();dropTargetHoverID="cke_"+dropTargetHoverID;var dropHoverDom=window.document.getElementById(dropTargetHoverID);Ext.fly(dropHoverDom).removeCls(cls)}function notifyOver(source,e,data){var dragInfo=com.coremedia.cms.editor.sdk.dragdrop.DragInfo.makeDragInfo(data);if(this.allowDrop$dVld(dragInfo)){this.getTargetHover$dVld(RichTextAreaDropTarget.TARGET_DROP_HOVER);return this.dropAllowed}else return this.dropNotAllowed}
function notifyOut(source,e,data){this.removeClass$dVld(RichTextAreaDropTarget.TARGET_DROP_HOVER)}function notifyDrop(source,e,data){var dragInfo=com.coremedia.cms.editor.sdk.dragdrop.DragInfo.makeDragInfo(data);if(!this.allowDrop$dVld(dragInfo))return false;var draggedItems=dragInfo.getContents();var contents=com.coremedia.cap.content.ContentProxyHelper.getContents(draggedItems);RichTextAreaDropTarget.createLinks(this.richTextArea$dVld,contents);this.removeClass$dVld(RichTextAreaDropTarget.TARGET_DROP_HOVER);
return true}function createLinks$static(richtext,contents){var ckEditor=richtext.getCKEditor();for(var i=0;i<contents.length;i++){richtext.saveSnapshot();if(isImage$static(contents[i]))createImageLink$static(richtext,contents[i]);else createLink$static(richtext,contents[i],contents.length>1);richtext.saveSnapshot();richtext.forceSave()}var ranges=ckEditor.getSelection().getRanges();ckEditor.getSelection().selectRanges(ranges)}function createImageLink$static(richtext,content){var contentUri=content.getUriPath();
var blobProperty=com.coremedia.cms.editor.sdk.editorContext.getRichTextDragDropImageBlobProperty(content.getType().getName());if(blobProperty===null)blobProperty=findMostSuitableBlobProperty$static(content);var attributes={"alt":"","xlink:href":contentUri+"#properties."+blobProperty,"xlink:show":"embed","xlink:actuate":"onLoad","xlink:type":"simple"};var ckEditor=richtext.getCKEditor();var imgElement=ckEditor.document.createElement("img",{attributes:attributes});insertElement$static(ckEditor,imgElement,
true);richtext.convertImageElement(imgElement)}function createLink$static(richtext,content,wrap){var ckEditor=richtext.getCKEditor();var attributes={"href":"#","_xlink:href":content.getUriPath(),"_xlink:show":RichTextAreaDropTarget.DEFAULT_LINK_TYPE};var contentElement=ckEditor.document.createElement("a",{attributes:attributes});var text=ckEditor.document.createText(content.getName());contentElement.append(text);insertElement$static(ckEditor,contentElement,wrap)}function insertElement$static(ckEditor,
newElement,wrap){var ranges=ckEditor.getSelection().getRanges();if(ranges[0]===undefined){ckEditor.focus();ranges=ckEditor.getSelection().getRanges()}if(wrap){var wrapperElement=ckEditor.document.createElement("p",{});wrapperElement.append(newElement);newElement=wrapperElement}ckEditor.insertElement(newElement)}function isImage$static(content){var imageTypes=com.coremedia.cms.editor.sdk.editorContext.getRichTextEmbeddableTypes();for(var $1=0;$1<imageTypes.length;++$1){var contentType=imageTypes[$1];
if(content.getType().isSubtypeOf(contentType))return true}return false}return{extend:"Ext.dd.DropTarget",richTextArea$dVld:null,constructor:RichTextAreaDropTarget$,super$dVld:function(){Ext.dd.DropTarget.prototype.constructor.apply(this,arguments)},allowDrop$dVld:allowDrop,getTargetHover$dVld:getTargetHover,removeClass$dVld:removeClass,notifyOver:notifyOver,notifyOut:notifyOut,notifyDrop:notifyDrop,statics:{DEFAULT_LINK_TYPE:"replace",TARGET_DROP_HOVER:"target-drop-hover",isValidRichTextContent:isValidRichTextContent$static,
createLinks:createLinks$static},requires:["Ext","Ext.dd.DropTarget","com.coremedia.cap.common.CapPropertyDescriptorType","com.coremedia.cap.content.ContentProxyHelper","com.coremedia.cap.content.impl.ContentTypeImpl","com.coremedia.ui.data.BeanState"],uses:["com.coremedia.cms.editor.sdk.dragdrop.DragInfo","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.dragdrop.RichTextDropTargetPluginBase",function(RichTextDropTargetPluginBase){function RichTextDropTargetPluginBase$(config){if(arguments.length<=0)config=null;this.imageContentType$uXo_=AS3.getBindable(config,"imageContentType")}function init(component){if(AS3.is(component,com.coremedia.cms.editor.sdk.components.CoreMediaRichTextArea)){this.component$uXo_=component;if(AS3.cast(com.coremedia.cms.editor.sdk.components.CoreMediaRichTextArea,component).isCKEditorReady())this.createDropTarget$uXo_();
else component.addListener("ckready",AS3.bind(this,"createDropTarget$uXo_"));component.addListener("beforedestroy",AS3.bind(this,"onBeforeDestroyCmp$uXo_"))}}function onBeforeDestroyCmp(){this.richTextShimDropTarget$uXo_&&this.richTextShimDropTarget$uXo_.unreg();this.component$uXo_.removeListener("ckready",AS3.bind(this,"createDropTarget$uXo_"));this.component$uXo_=null}function createDropTarget(){this.richTextShimDropTarget$uXo_=new com.coremedia.cms.editor.sdk.dragdrop.RichTextAreaDropTarget(AS3.cast(com.coremedia.cms.editor.sdk.components.CoreMediaRichTextArea,
this.component$uXo_))}return{mixins:["ext.Plugin"],component$uXo_:null,imageContentType$uXo_:null,richTextShimDropTarget$uXo_:null,constructor:RichTextDropTargetPluginBase$,init:init,onBeforeDestroyCmp$uXo_:onBeforeDestroyCmp,createDropTarget$uXo_:createDropTarget,requires:["ext.Plugin"],uses:["com.coremedia.cms.editor.sdk.components.CoreMediaRichTextArea","com.coremedia.cms.editor.sdk.dragdrop.RichTextAreaDropTarget"]}});Ext.define("com.coremedia.cms.editor.sdk.dragdrop.RichTextDropTargetPlugin",function(RichTextDropTargetPlugin){function RichTextDropTargetPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.dragdrop.RichTextDropTargetPluginBase,{});var defaults_$1=AS3.cast(RichTextDropTargetPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$pP1D(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.dragdrop.RichTextDropTargetPluginBase",
constructor:RichTextDropTargetPlugin$,super$pP1D:function(){com.coremedia.cms.editor.sdk.dragdrop.RichTextDropTargetPluginBase.prototype.constructor.apply(this,arguments)},config:{imageContentType:null},requires:["com.coremedia.cms.editor.sdk.dragdrop.RichTextDropTargetPluginBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.dragdrop.DragDropTypes",function(DragDropTypes){function DragDropTypes$(){}return{constructor:DragDropTypes$,statics:{DELETE_TYPE:"delete",MOVE_TYPE:"delete",LINK_CREATED_TYPE:"linkCreated"}}});Ext.define("com.coremedia.cms.editor.sdk.dragdrop.DragDropVisualFeedback",function(DragDropVisualFeedback){var simpleDragDropTemplate$static;function simpleDragDropTemplate$static_(){simpleDragDropTemplate$static=(new Ext.XTemplate("\x3cspan\x3e{text:htmlEncode}\x3c/span\x3e")).compile()}function getHtmlFeedback$static(items){if(!items||items.length===0)return null;if(items.length===1){var content=AS3.is(items[0],com.coremedia.cap.content.Content)?items[0]:items[0].getBean();var name;var type;if(content.getState()===
com.coremedia.ui.data.BeanState.READABLE){type=content?content.getType():null;name=content?content.getName():"no content"}else{type=com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getDocumentContentType();name=com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.formatNotReadableName(content)}return com.coremedia.ui.util.DraggableItemsUtils.DRAG_GHOST_TEMPLATE.apply({title:name,icon:com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil.getIconStyleClassForContentType(type)})}else return simpleDragDropTemplate$static.apply({text:Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor",
"DragDropVisualFeedback_multiSelect_text"),items.length)})}function DragDropVisualFeedback$(){}return{constructor:DragDropVisualFeedback$,statics:{simpleDragDropTemplate:undefined,getHtmlFeedback:getHtmlFeedback$static,__initStatics__:function(){simpleDragDropTemplate$static_()}},requires:["Ext.String","Ext.XTemplate","com.coremedia.cap.common.SESSION","com.coremedia.cap.content.Content","com.coremedia.cms.editor.Editor_properties","com.coremedia.ui.data.BeanState","com.coremedia.ui.util.DraggableItemsUtils",
"mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.util.ContentLocalizationUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.editorContext",function(editorContext){return{__factory__:function(){return null}}});Ext.define("com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut",function(AddKeyboardShortcut){function AddKeyboardShortcut$(config){if(arguments.length<=0)config=null;if(config.shortcut&&(config.action||config.actionId)){this.shortcut=config.shortcut;this.defaultEventAction=config.defaultEventAction;if(config.action&&config.actionId)com.coremedia.ui.logging.Logger.warn("Only either action or actionId may be given; action will be ignored.");this.action=config.actionId?AS3.cast(ext.ActionRef,
{actionId:config.actionId}):config.action;this.actionId=this.action.actionId;this.description=config.description}else com.coremedia.ui.logging.Logger.error("Missing shortcut or action or actionId.")}function init(editorContext){if(this.shortcut&&this.action)editorContext.getKeyboardShortcutManager().addKeyboardShortcut(this.shortcut,this.action,this.description,this.defaultEventAction)}return{mixins:["com.coremedia.cms.editor.sdk.EditorPlugin"],metadata:{"":["PublicApi"]},shortcut:null,action:null,
actionId:null,description:null,defaultEventAction:null,constructor:AddKeyboardShortcut$,init:init,requires:["com.coremedia.cms.editor.sdk.EditorPlugin","com.coremedia.ui.logging.Logger","ext.ActionRef"]}});Ext.define("com.coremedia.cms.editor.sdk.shortcuts.AddShortcutsPlugin",function(AddShortcutsPlugin){function AddShortcutsPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.configuration.StudioPlugin,{});var defaults_$1=AS3.cast(AddShortcutsPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var editor_AddKeyboardShortcut_33_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut,{});editor_AddKeyboardShortcut_33_5_$1.shortcut=
net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_toggleDashboard_key"));editor_AddKeyboardShortcut_33_5_$1.description=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_toggleDashboard_description"));editor_AddKeyboardShortcut_33_5_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.dashboard.ToggleDashboardAction.ACTION_ID);
editor_AddKeyboardShortcut_33_5_$1.defaultEventAction="stopEvent";var editor_AddKeyboardShortcut_38_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut,{});editor_AddKeyboardShortcut_38_5_$1.shortcut=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_toggleLibrary_key"));editor_AddKeyboardShortcut_38_5_$1.description=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut",
"Shortcut_toggleLibrary_description"));editor_AddKeyboardShortcut_38_5_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.ToggleCollectionViewAction.ACTION_ID);editor_AddKeyboardShortcut_38_5_$1.defaultEventAction="stopEvent";var editor_AddKeyboardShortcut_43_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut,{});editor_AddKeyboardShortcut_43_5_$1.shortcut=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut",
"Shortcut_openHomepage_key"));editor_AddKeyboardShortcut_43_5_$1.description=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_openHomepage_description"));editor_AddKeyboardShortcut_43_5_$1.defaultEventAction="stopEvent";var editor_OpenHomepageAction_47_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.util.OpenHomepageAction,{});editor_AddKeyboardShortcut_43_5_$1.action=new com.coremedia.cms.editor.sdk.util.OpenHomepageAction(editor_OpenHomepageAction_47_9_$1);
var editor_AddKeyboardShortcut_55_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut,{});editor_AddKeyboardShortcut_55_5_$1.shortcut=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_closeWindow_key"));editor_AddKeyboardShortcut_55_5_$1.description=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut",
"Shortcut_closeWindow_description"));editor_AddKeyboardShortcut_55_5_$1.actionId="for-documentation-only";var editor_AddKeyboardShortcut_59_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut,{});editor_AddKeyboardShortcut_59_5_$1.shortcut=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_selectNext_key"));editor_AddKeyboardShortcut_59_5_$1.description=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut",
"Shortcut_selectNext_description"));editor_AddKeyboardShortcut_59_5_$1.actionId="for-documentation-only";var editor_AddKeyboardShortcut_63_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut,{});editor_AddKeyboardShortcut_63_5_$1.shortcut=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_selectPrevious_key"));editor_AddKeyboardShortcut_63_5_$1.description=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut",
"Shortcut_selectPrevious_description"));editor_AddKeyboardShortcut_63_5_$1.actionId="for-documentation-only";var editor_AddKeyboardShortcut_69_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut,{});editor_AddKeyboardShortcut_69_5_$1.shortcut=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_moveUp_key"));editor_AddKeyboardShortcut_69_5_$1.description=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut",
"Shortcut_moveUp_description"));editor_AddKeyboardShortcut_69_5_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.MoveAction.UP);editor_AddKeyboardShortcut_69_5_$1.defaultEventAction="stopEvent";var editor_AddKeyboardShortcut_74_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut,{});editor_AddKeyboardShortcut_74_5_$1.shortcut=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut",
"Shortcut_moveDown_key"));editor_AddKeyboardShortcut_74_5_$1.description=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_moveDown_description"));editor_AddKeyboardShortcut_74_5_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.MoveAction.DOWN);editor_AddKeyboardShortcut_74_5_$1.defaultEventAction="stopEvent";var editor_AddKeyboardShortcut_79_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut,
{});editor_AddKeyboardShortcut_79_5_$1.shortcut=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_moveLeft_key"));editor_AddKeyboardShortcut_79_5_$1.description=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_moveLeft_description"));editor_AddKeyboardShortcut_79_5_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.MoveAction.LEFT);
editor_AddKeyboardShortcut_79_5_$1.defaultEventAction="stopEvent";var editor_AddKeyboardShortcut_84_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut,{});editor_AddKeyboardShortcut_84_5_$1.shortcut=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_moveRight_key"));editor_AddKeyboardShortcut_84_5_$1.description=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut",
"Shortcut_moveRight_description"));editor_AddKeyboardShortcut_84_5_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.MoveAction.RIGHT);editor_AddKeyboardShortcut_84_5_$1.defaultEventAction="stopEvent";var editor_AddKeyboardShortcut_89_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut,{});editor_AddKeyboardShortcut_89_5_$1.shortcut=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut",
"Shortcut_toggle_key"));editor_AddKeyboardShortcut_89_5_$1.description=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_toggle_description"));editor_AddKeyboardShortcut_89_5_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.ToggleFloatingWindowAction.ACTION_ID);editor_AddKeyboardShortcut_89_5_$1.defaultEventAction="stopEvent";var editor_AddKeyboardShortcut_94_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut,
{});editor_AddKeyboardShortcut_94_5_$1.shortcut=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_cut_key"));editor_AddKeyboardShortcut_94_5_$1.description=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_cut_description"));editor_AddKeyboardShortcut_94_5_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.clipboard.CutToClipboardAction.ACTION_ID);
var editor_AddKeyboardShortcut_98_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut,{});editor_AddKeyboardShortcut_98_5_$1.shortcut=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_copy_key"));editor_AddKeyboardShortcut_98_5_$1.description=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut",
"Shortcut_copy_description"));editor_AddKeyboardShortcut_98_5_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction.ACTION_ID);var editor_AddKeyboardShortcut_102_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut,{});editor_AddKeyboardShortcut_102_5_$1.shortcut=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_paste_key"));editor_AddKeyboardShortcut_102_5_$1.description=
net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_paste_description"));editor_AddKeyboardShortcut_102_5_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.clipboard.PasteFromClipboardAction.ACTION_ID);var editor_AddKeyboardShortcut_106_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut,{});editor_AddKeyboardShortcut_106_5_$1.shortcut=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut",
"Shortcut_remove_key"));editor_AddKeyboardShortcut_106_5_$1.description=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_remove_description"));editor_AddKeyboardShortcut_106_5_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.DeleteAction.ACTION_ID);var editor_AddKeyboardShortcut_110_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut,{});editor_AddKeyboardShortcut_110_5_$1.shortcut=
net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_export_key"));editor_AddKeyboardShortcut_110_5_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.util.ContentExportAction.ACTION_ID);editor_AddKeyboardShortcut_110_5_$1.defaultEventAction="stopEvent";var editor_AddKeyboardShortcut_114_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut,{});editor_AddKeyboardShortcut_114_5_$1.shortcut=
net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_bookmark_key"));editor_AddKeyboardShortcut_114_5_$1.description=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_bookmark_description"));editor_AddKeyboardShortcut_114_5_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.bookmarks.BookmarkAction.ACTION_ID);
editor_AddKeyboardShortcut_114_5_$1.defaultEventAction="stopEvent";var editor_AddKeyboardShortcut_119_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut,{});editor_AddKeyboardShortcut_119_5_$1.shortcut=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_show_key"));editor_AddKeyboardShortcut_119_5_$1.description=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut",
"Shortcut_show_description"));editor_AddKeyboardShortcut_119_5_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction.ACTION_ID);editor_AddKeyboardShortcut_119_5_$1.defaultEventAction="stopEvent";var editor_AddKeyboardShortcut_124_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut,{});editor_AddKeyboardShortcut_124_5_$1.shortcut=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut",
"Shortcut_checkin_key"));editor_AddKeyboardShortcut_124_5_$1.description=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_checkin_description"));editor_AddKeyboardShortcut_124_5_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.CheckInAction.ACTION_ID);editor_AddKeyboardShortcut_124_5_$1.defaultEventAction="stopEvent";var editor_AddKeyboardShortcut_129_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut,
{});editor_AddKeyboardShortcut_129_5_$1.shortcut=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_approve_key"));editor_AddKeyboardShortcut_129_5_$1.description=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_approve_description"));editor_AddKeyboardShortcut_129_5_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.ApproveAction.ACTION_ID);
editor_AddKeyboardShortcut_129_5_$1.defaultEventAction="stopEvent";var editor_AddKeyboardShortcut_134_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut,{});editor_AddKeyboardShortcut_134_5_$1.shortcut=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_publish_key"));editor_AddKeyboardShortcut_134_5_$1.description=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut",
"Shortcut_publish_description"));editor_AddKeyboardShortcut_134_5_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.PublishAction.ACTION_ID);editor_AddKeyboardShortcut_134_5_$1.defaultEventAction="stopEvent";var editor_AddKeyboardShortcut_139_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut,{});editor_AddKeyboardShortcut_139_5_$1.shortcut=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut",
"Shortcut_withdraw_key"));editor_AddKeyboardShortcut_139_5_$1.description=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_withdraw_description"));editor_AddKeyboardShortcut_139_5_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.WithdrawAction.ACTION_ID);editor_AddKeyboardShortcut_139_5_$1.defaultEventAction="stopEvent";var editor_AddKeyboardShortcut_144_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut,
{});editor_AddKeyboardShortcut_144_5_$1.shortcut=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_revert_key"));editor_AddKeyboardShortcut_144_5_$1.description=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_revert_description"));editor_AddKeyboardShortcut_144_5_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.RevertAction.ACTION_ID);
editor_AddKeyboardShortcut_144_5_$1.defaultEventAction="stopEvent";var editor_AddKeyboardShortcut_149_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut,{});editor_AddKeyboardShortcut_149_5_$1.shortcut=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_increase_key"));editor_AddKeyboardShortcut_149_5_$1.description=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut",
"Shortcut_increase_description"));editor_AddKeyboardShortcut_149_5_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.MoveAction.INCREASE);editor_AddKeyboardShortcut_149_5_$1.defaultEventAction="stopEvent";var editor_AddKeyboardShortcut_154_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut,{});editor_AddKeyboardShortcut_154_5_$1.shortcut=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut",
"Shortcut_decrease_key"));editor_AddKeyboardShortcut_154_5_$1.description=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_decrease_description"));editor_AddKeyboardShortcut_154_5_$1.actionId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.actions.MoveAction.DECREASE);editor_AddKeyboardShortcut_154_5_$1.defaultEventAction="stopEvent";var editor_AddKeyboardShortcut_160_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut,
{});editor_AddKeyboardShortcut_160_5_$1.shortcut=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_select_next_tab_key"));editor_AddKeyboardShortcut_160_5_$1.description=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_select_next_tab_description"));editor_AddKeyboardShortcut_160_5_$1.defaultEventAction=
"stopEvent";var editor_SelectTabAction_164_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.SelectTabAction,{});AS3.setBindable(editor_SelectTabAction_164_9_$1,"direction",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.desktop.SelectTabAction.DIRECTION_NEXT));editor_AddKeyboardShortcut_160_5_$1.action=new com.coremedia.cms.editor.sdk.desktop.SelectTabAction(editor_SelectTabAction_164_9_$1);var editor_AddKeyboardShortcut_168_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut,
{});editor_AddKeyboardShortcut_168_5_$1.shortcut=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_select_previous_tab_key"));editor_AddKeyboardShortcut_168_5_$1.description=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_select_previous_tab_description"));editor_AddKeyboardShortcut_168_5_$1.defaultEventAction=
"stopEvent";var editor_SelectTabAction_172_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.SelectTabAction,{});AS3.setBindable(editor_SelectTabAction_172_9_$1,"direction",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.desktop.SelectTabAction.DIRECTION_PREVIOUS));editor_AddKeyboardShortcut_168_5_$1.action=new com.coremedia.cms.editor.sdk.desktop.SelectTabAction(editor_SelectTabAction_172_9_$1);var editor_AddKeyboardShortcut_176_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut,
{});editor_AddKeyboardShortcut_176_5_$1.shortcut=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_close_current_tab_key"));editor_AddKeyboardShortcut_176_5_$1.description=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_close_current_tab_description"));editor_AddKeyboardShortcut_176_5_$1.defaultEventAction=
"stopEvent";var editor_CloseTabsAction_180_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.CloseTabsAction,{});AS3.setBindable(editor_CloseTabsAction_180_9_$1,"mode",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.desktop.CloseTabsAction.CLOSE_TAB_MODE));AS3.setBindable(editor_CloseTabsAction_180_9_$1,"asShortcut",true);editor_AddKeyboardShortcut_176_5_$1.action=new com.coremedia.cms.editor.sdk.desktop.CloseTabsAction(editor_CloseTabsAction_180_9_$1);var editor_AddKeyboardShortcut_184_5_$1=
AS3.cast(com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut,{});editor_AddKeyboardShortcut_184_5_$1.shortcut=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_close_all_tabs_key"));editor_AddKeyboardShortcut_184_5_$1.description=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_close_all_tabs_description"));
editor_AddKeyboardShortcut_184_5_$1.defaultEventAction="stopEvent";var editor_CloseTabsAction_188_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.CloseTabsAction,{});AS3.setBindable(editor_CloseTabsAction_188_9_$1,"mode",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.desktop.CloseTabsAction.CLOSE_ALL_TABS_MODE));AS3.setBindable(editor_CloseTabsAction_188_9_$1,"asShortcut",true);editor_AddKeyboardShortcut_184_5_$1.action=new com.coremedia.cms.editor.sdk.desktop.CloseTabsAction(editor_CloseTabsAction_188_9_$1);
var editor_AddKeyboardShortcut_193_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut,{});editor_AddKeyboardShortcut_193_5_$1.shortcut=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_nextRegion_key"));editor_AddKeyboardShortcut_193_5_$1.description=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut",
"Shortcut_nextRegion_description"));editor_AddKeyboardShortcut_193_5_$1.defaultEventAction="stopEvent";var editor_RegionShortcutAction_197_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.util.RegionShortcutAction,{});AS3.setBindable(editor_RegionShortcutAction_197_9_$1,"direction",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.util.RegionShortcutAction.DIRECTION_FORWARDS));editor_AddKeyboardShortcut_193_5_$1.action=new com.coremedia.cms.editor.sdk.util.RegionShortcutAction(editor_RegionShortcutAction_197_9_$1);
var editor_AddKeyboardShortcut_201_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut,{});editor_AddKeyboardShortcut_201_5_$1.shortcut=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut","Shortcut_previousRegion_key"));editor_AddKeyboardShortcut_201_5_$1.description=net.jangaroo.ext.Exml.asString(com.coremedia.ui.PluginRulesBase.resourceManager.getString("com.coremedia.cms.editor.sdk.shortcuts.Shortcut",
"Shortcut_previousRegion_description"));editor_AddKeyboardShortcut_201_5_$1.defaultEventAction="stopEvent";var editor_RegionShortcutAction_205_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.util.RegionShortcutAction,{});AS3.setBindable(editor_RegionShortcutAction_205_9_$1,"direction",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.util.RegionShortcutAction.DIRECTION_BACKWARDS));editor_AddKeyboardShortcut_201_5_$1.action=new com.coremedia.cms.editor.sdk.util.RegionShortcutAction(editor_RegionShortcutAction_205_9_$1);
AS3.setBindable(config_$1,"configuration",[new com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut(editor_AddKeyboardShortcut_33_5_$1),new com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut(editor_AddKeyboardShortcut_38_5_$1),new com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut(editor_AddKeyboardShortcut_43_5_$1),new com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut(editor_AddKeyboardShortcut_55_5_$1),new com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut(editor_AddKeyboardShortcut_59_5_$1),
new com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut(editor_AddKeyboardShortcut_63_5_$1),new com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut(editor_AddKeyboardShortcut_69_5_$1),new com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut(editor_AddKeyboardShortcut_74_5_$1),new com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut(editor_AddKeyboardShortcut_79_5_$1),new com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut(editor_AddKeyboardShortcut_84_5_$1),new com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut(editor_AddKeyboardShortcut_89_5_$1),
new com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut(editor_AddKeyboardShortcut_94_5_$1),new com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut(editor_AddKeyboardShortcut_98_5_$1),new com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut(editor_AddKeyboardShortcut_102_5_$1),new com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut(editor_AddKeyboardShortcut_106_5_$1),new com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut(editor_AddKeyboardShortcut_110_5_$1),new com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut(editor_AddKeyboardShortcut_114_5_$1),
new com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut(editor_AddKeyboardShortcut_119_5_$1),new com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut(editor_AddKeyboardShortcut_124_5_$1),new com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut(editor_AddKeyboardShortcut_129_5_$1),new com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut(editor_AddKeyboardShortcut_134_5_$1),new com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut(editor_AddKeyboardShortcut_139_5_$1),new com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut(editor_AddKeyboardShortcut_144_5_$1),
new com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut(editor_AddKeyboardShortcut_149_5_$1),new com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut(editor_AddKeyboardShortcut_154_5_$1),new com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut(editor_AddKeyboardShortcut_160_5_$1),new com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut(editor_AddKeyboardShortcut_168_5_$1),new com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut(editor_AddKeyboardShortcut_176_5_$1),new com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut(editor_AddKeyboardShortcut_184_5_$1),
new com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut(editor_AddKeyboardShortcut_193_5_$1),new com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut(editor_AddKeyboardShortcut_201_5_$1)]);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$uJhQ(config_$1)}return{extend:"com.coremedia.cms.editor.configuration.StudioPlugin",constructor:AddShortcutsPlugin$,super$uJhQ:function(){com.coremedia.cms.editor.configuration.StudioPlugin.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cms.editor.configuration.StudioPlugin",
"com.coremedia.cms.editor.sdk.shortcuts.Shortcut_properties","com.coremedia.ui.PluginRulesBase","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.actions.ApproveAction","com.coremedia.cms.editor.sdk.actions.CheckInAction","com.coremedia.cms.editor.sdk.actions.DeleteAction","com.coremedia.cms.editor.sdk.actions.MoveAction","com.coremedia.cms.editor.sdk.actions.PublishAction","com.coremedia.cms.editor.sdk.actions.RevertAction","com.coremedia.cms.editor.sdk.actions.ShowInRepositoryAction",
"com.coremedia.cms.editor.sdk.actions.ToggleFloatingWindowAction","com.coremedia.cms.editor.sdk.actions.WithdrawAction","com.coremedia.cms.editor.sdk.bookmarks.BookmarkAction","com.coremedia.cms.editor.sdk.clipboard.CopyToClipboardAction","com.coremedia.cms.editor.sdk.clipboard.CutToClipboardAction","com.coremedia.cms.editor.sdk.clipboard.PasteFromClipboardAction","com.coremedia.cms.editor.sdk.collectionview.ToggleCollectionViewAction","com.coremedia.cms.editor.sdk.dashboard.ToggleDashboardAction",
"com.coremedia.cms.editor.sdk.desktop.CloseTabsAction","com.coremedia.cms.editor.sdk.desktop.SelectTabAction","com.coremedia.cms.editor.sdk.shortcuts.AddKeyboardShortcut","com.coremedia.cms.editor.sdk.util.ContentExportAction","com.coremedia.cms.editor.sdk.util.OpenHomepageAction","com.coremedia.cms.editor.sdk.util.RegionShortcutAction"]}});Ext.define("com.coremedia.cms.editor.sdk.shortcuts.KeyboardShortcutManager",function(KeyboardShortcutManager){function el_(){this.el=Ext.getDoc()}function KeyboardShortcutManager$(config){this.super$Y6T5();el_.call(this);if(arguments.length<=0)config=null;this.initConfig(config||{});this.initKeyMap()}function addKeyboardShortcut(keyDescriptor,action,description,defaultEventAction){switch(Math.max(arguments.length,2)){case 2:description=null;case 3:defaultEventAction=null}var newEntry={};newEntry[keyDescriptor]=
{handler:createExecuteActionHandler$static(action,defaultEventAction),description:description};AS3.setBindable(this,"keyMap",newEntry)}function removeKeyboardShortcut(keyDescriptor){var key=getKey$static(keyDescriptor);if(AS3.getBindable(this,"keyMap","DUMMY")[key]){var bindings=AS3.getBindable(this,"keyMap","DUMMY")[key];for(var i=0;i<bindings.length;i++)if(matchesBinding$static(keyDescriptor,bindings[i])){bindings.splice(i,1);if(bindings.length===0)delete AS3.getBindable(this,"keyMap","DUMMY")[key];
return}}AS3.trace("[WARN]",'No shortcut found for key descriptor "'+keyDescriptor+'" that could be removed')}function findActionById$static(actionId){var action;var focusedElement=AS3.cast(Ext.dom.Element,Ext.dom.Element.getActiveElement(true));var cmp=findNearestComponent$static(focusedElement);if(cmp){var container=cmp.findParentByType(Ext.container.Container);if(container)action=container.getAction(actionId)}if(!action){var topLevelWindow=null;Ext.WindowManager.eachTopDown(function(component){topLevelWindow=
AS3.as(component,Ext.window.Window);return!topLevelWindow});if(topLevelWindow)action=topLevelWindow.getAction(actionId);if(!action)if(!topLevelWindow||!topLevelWindow.modal)action=Ext.app.Application.instance.getMainView().getAction(actionId)}return action}function findNearestComponent$static(element){while(element){if(element.component)return element.component;element=element.parent()}return null}function createExecuteActionHandler$static(action,defaultEventAction){if(arguments.length<=1)defaultEventAction=
null;return function(event){var localAction;var result=true;if(AS3.is(action,ext.ActionRef))localAction=findActionById$static(action.actionId);else if(action&&!action.isInstance)localAction=action=Ext.create(action);else localAction=action;if(localAction&&!localAction.isHidden()&&!localAction.isDisabled())result=localAction.execute();if(defaultEventAction&&Ext.isFunction(event[defaultEventAction]))event[defaultEventAction]();return result}}function getKey$static(keyDescriptor){var items=keyDescriptor.split("+");
return items[items.length-1].toUpperCase()}function matchesBinding$static(keyDescriptor,binding){var items=keyDescriptor.split("+");var key=getKey$static(keyDescriptor);if(binding["name"]!==key)return false;if(binding["altKey"]&&items.indexOf("alt")===-1)return false;if(binding["ctrlKey"]&&items.indexOf("ctrl")===-1)return false;return true}return{extend:"Ext.mixin.Keyboard",metadata:{"":["PublicApi"]},constructor:KeyboardShortcutManager$,super$Y6T5:function(){Ext.mixin.Keyboard.prototype.constructor.apply(this,
arguments)},addKeyboardShortcut:addKeyboardShortcut,removeKeyboardShortcut:removeKeyboardShortcut,requires:["AS3.trace","Ext","Ext.ZIndexManager","Ext.app.Application","Ext.container.Container","Ext.dom.Element","Ext.mixin.Keyboard","Ext.window.Window","ext.ActionRef"]}});Ext.define("com.coremedia.cms.editor.sdk.EditorPluginDescriptor",function(EditorPluginDescriptor){function EditorPluginDescriptor$(descriptor){this.super$wEwf(descriptor)}return{extend:"joo.JavaScriptObject",metadata:{"":["PublicApi"]},constructor:EditorPluginDescriptor$,super$wEwf:function(){joo.JavaScriptObject.prototype.constructor.apply(this,arguments)},requires:["joo.JavaScriptObject"]}});Ext.define("com.coremedia.cms.editor.sdk.remotecontrol.RemoteControlHandlerRegistryImpl",function(RemoteControlHandlerRegistryImpl){function REMOTE_CONTROL_HANDLERS_(){this.REMOTE_CONTROL_HANDLERS$beU1=[]}function REMOTE_CONTROL_HTML$static_(){RemoteControlHandlerRegistryImpl.REMOTE_CONTROL_HTML=net.jangaroo.net.URIUtils.parse("remoteControl.html")}function RemoteControlHandlerRegistryImpl$(){REMOTE_CONTROL_HANDLERS_.call(this)}function initRemoteControlHandlerRegistry$static(){if(!com.coremedia.cms.editor.sdk.remotecontrol.remoteControlHandlerRegistry){com.coremedia.ui.logging.Logger.info(RemoteControlHandlerRegistryImpl+
": initializing singleton");joo.getOrCreatePackage("com.coremedia.cms.editor.sdk.remotecontrol").remoteControlHandlerRegistry=new RemoteControlHandlerRegistryImpl;com.coremedia.cms.editor.sdk.remotecontrol.remoteControlHandlerRegistry.registerRemoteControlHandler(RemoteControlHandlerRegistryImpl.handleContentRemotely)}return com.coremedia.cms.editor.sdk.remotecontrol.remoteControlHandlerRegistry}function registerRemoteControlHandler(remoteControlHandler){var index=this.REMOTE_CONTROL_HANDLERS$beU1.indexOf(remoteControlHandler);
if(index<0)this.REMOTE_CONTROL_HANDLERS$beU1.push(remoteControlHandler);else com.coremedia.ui.logging.Logger.info(RemoteControlHandlerRegistryImpl+": error handler already registered at index "+index)}function startObserving$static(){var self=AS3.cast(RemoteControlHandlerRegistryImpl,com.coremedia.cms.editor.sdk.remotecontrol.remoteControlHandlerRegistry);var hashParamsModel=com.coremedia.ui.util.WindowUtil.getHashParamsAsObject();self.handleRemoteControlCommands(hashParamsModel);com.coremedia.ui.util.WindowUtil.addHashChangeListener(function(){self.handleRemoteControlCommands(com.coremedia.ui.util.WindowUtil.getHashParamsAsObject())})}
function handleRemoteControlCommands(hashParamsModel){var command=hashParamsModel[RemoteControlHandlerRegistryImpl.PARAMETERNAME_COMMAND];if(command)if(command===RemoteControlHandlerRegistryImpl.COMMANDNAME_OPEN){var remoteBeanURI=hashParamsModel[RemoteControlHandlerRegistryImpl.PARAMETERNAME_BEAN];removeRemoteControlCommands$static(hashParamsModel);if(remoteBeanURI){var remoteBean=com.coremedia.ui.data.beanFactory.getRemoteBean(remoteBeanURI);var remoteBeanInvalid=this.REMOTE_CONTROL_HANDLERS$beU1.every(function(remoteCaller){return!remoteCaller(remoteBean)});
if(remoteBeanInvalid)com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showError(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","RemoteControl_openContent_error_title"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","RemoteControl_openContent_error_item_not_exists"))}else com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showError(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","RemoteControl_openContent_error_title"),
mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","RemoteControl_openContent_error_document_not_specified"))}else com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showError(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","RemoteControl_unknown_command_error_title"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","RemoteControl_unknown_command_error"))}function removeRemoteControlCommands$static(hashParamsModel){delete hashParamsModel[RemoteControlHandlerRegistryImpl.PARAMETERNAME_COMMAND];
delete hashParamsModel[RemoteControlHandlerRegistryImpl.PARAMETERNAME_BEAN];window.location.hash="#"+Ext.urlEncode(hashParamsModel)}function createRemoteControlUrl(bean){var uri=net.jangaroo.net.URIUtils.parse(window.location.toString()).resolve(RemoteControlHandlerRegistryImpl.REMOTE_CONTROL_HTML);var commands={};commands[RemoteControlHandlerRegistryImpl.PARAMETERNAME_COMMAND]=RemoteControlHandlerRegistryImpl.COMMANDNAME_OPEN;commands[RemoteControlHandlerRegistryImpl.PARAMETERNAME_BEAN]=bean.getUriPath();
uri["fragment"]=Ext.urlEncode(commands);return uri.toString()}function handleContentRemotely$static(content){var contentToOpen=AS3.as(content,com.coremedia.cap.content.Content);if(contentToOpen){contentToOpen.load(function(){if(contentToOpen.isDestroyed())com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showError(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","RemoteControl_openContent_error_title"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor",
"RemoteControl_openContent_error_item_not_exists"));else if(contentToOpen.isFolder())com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showError(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","RemoteControl_openContent_error_title"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","RemoteControl_openContent_error_document_is_folder"));else if(!content.getState().readable)com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showError(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor",
"RemoteControl_openContent_error_title"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","RemoteControl_openContent_error_document_is_not_readable"));else if(contentToOpen.isDeleted())com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showError(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","RemoteControl_openContent_error_title"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","RemoteControl_openContent_error_document_deleted"));
else com.coremedia.cms.editor.sdk.editorContext.getContentTabManager().openDocument(contentToOpen)});return true}return false}return{mixins:["com.coremedia.cms.editor.sdk.remotecontrol.IRemoteControlHandlerRegistry"],constructor:RemoteControlHandlerRegistryImpl$,registerRemoteControlHandler:registerRemoteControlHandler,handleRemoteControlCommands:handleRemoteControlCommands,createRemoteControlUrl:createRemoteControlUrl,statics:{PARAMETERNAME_COMMAND:"command",COMMANDNAME_OPEN:"open",PARAMETERNAME_BEAN:"bean",
REMOTE_CONTROL_HTML:undefined,initRemoteControlHandlerRegistry:initRemoteControlHandlerRegistry$static,startObserving:startObserving$static,handleContentRemotely:handleContentRemotely$static,__initStatics__:function(){REMOTE_CONTROL_HTML$static_()}},requires:["Ext","com.coremedia.cap.content.Content","com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.remotecontrol.IRemoteControlHandlerRegistry","com.coremedia.ui.data.beanFactory","com.coremedia.ui.logging.Logger","com.coremedia.ui.util.WindowUtil",
"mx.resources.ResourceManager","net.jangaroo.net.URIUtils"],uses:["com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.remotecontrol.remoteControlHandlerRegistry","com.coremedia.cms.editor.sdk.util.MessageBoxUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.remotecontrol.IRemoteControlHandlerRegistry",function(IRemoteControlHandlerRegistry){return{}});Ext.define("com.coremedia.cms.editor.sdk.remotecontrol.remoteControlHandlerRegistry",function(remoteControlHandlerRegistry){return{__factory__:function(){return null}}});Ext.define("com.coremedia.cms.editor.sdk.cloud.CloudStudioPlugin",function(CloudStudioPlugin){function CloudStudioPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.cloud.CloudStudioPluginBase,{});var defaults_$1=AS3.cast(CloudStudioPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var editor_HeaderToolbarUserMenu_32_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.HeaderToolbarUserMenu,{});var ui_AddItemsPlugin_34_9_$1=AS3.cast(com.coremedia.ui.plugins.AddItemsPlugin,
{});var menuItem_36_13_$1=AS3.cast(Ext.menu.Item,{});menuItem_36_13_$1["id"]="logout-from-cloud-menu-item";AS3.setBindable(menuItem_36_13_$1,"handler",com.coremedia.cms.editor.sdk.login.LogoutUtil.logout);var ui_BindPropertyPlugin_39_17_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_39_17_$1.componentProperty="text";ui_BindPropertyPlugin_39_17_$1.transformer=function(value){return Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.cloud.Cloud",
"HeaderToolbar_logoutFromCloud_btn_text"),com.coremedia.ui.util.EncodingUtil.encodeForHTML(value))};var ui_ValueExpression_44_21_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_44_21_$1,"expression","user.name");AS3.setBindable(ui_ValueExpression_44_21_$1,"context",com.coremedia.cap.common.SESSION);ui_BindPropertyPlugin_39_17_$1.bindTo=new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_44_21_$1);menuItem_36_13_$1.plugins=[ui_BindPropertyPlugin_39_17_$1];
var menuItem_50_13_$1=AS3.cast(Ext.menu.Item,{});menuItem_50_13_$1["id"]="return-to-cloud-menu-item";AS3.setBindable(menuItem_50_13_$1,"handler",AS3.bind(this,"returnToCloud"));AS3.setBindable(menuItem_50_13_$1,"text",net.jangaroo.ext.Exml.asString(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.sdk.cloud.Cloud","HeaderToolbar_returnToCloud_btn_text")));AS3.setBindable(ui_AddItemsPlugin_34_9_$1,"items",[menuItem_36_13_$1,menuItem_50_13_$1]);var component_55_13_$1=AS3.cast(Ext.Component,
{});component_55_13_$1.itemId="logout-menu-item";AS3.setBindable(ui_AddItemsPlugin_34_9_$1,"after",[component_55_13_$1]);var ui_RemoveItemsPlugin_58_9_$1=AS3.cast(com.coremedia.ui.plugins.RemoveItemsPlugin,{});var component_60_13_$1=AS3.cast(Ext.Component,{});component_60_13_$1.itemId="logout-menu-item";AS3.setBindable(ui_RemoveItemsPlugin_58_9_$1,"items",[component_60_13_$1]);editor_HeaderToolbarUserMenu_32_5_$1.plugins=[ui_AddItemsPlugin_34_9_$1,ui_RemoveItemsPlugin_58_9_$1];AS3.setBindable(config_$1,
"rules",[editor_HeaderToolbarUserMenu_32_5_$1]);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$aVSh(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.cloud.CloudStudioPluginBase",constructor:CloudStudioPlugin$,super$aVSh:function(){com.coremedia.cms.editor.sdk.cloud.CloudStudioPluginBase.prototype.constructor.apply(this,arguments)},requires:["Ext.Component","Ext.String","Ext.menu.Item","com.coremedia.cap.common.SESSION","com.coremedia.cms.editor.sdk.cloud.CloudStudioPluginBase","com.coremedia.cms.editor.sdk.cloud.Cloud_properties",
"com.coremedia.ui.exml.ValueExpression","com.coremedia.ui.plugins.AddItemsPlugin","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.RemoveItemsPlugin","com.coremedia.ui.util.EncodingUtil","mx.resources.ResourceManager","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.desktop.HeaderToolbarUserMenu","com.coremedia.cms.editor.sdk.login.LogoutUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.cloud.CloudStudioPluginBase",function(CloudStudioPluginBase){function CloudStudioPluginBase$(config){if(arguments.length<=0)config=null;this.super$E_IS(config)}function returnToCloud(){var loginService=com.coremedia.cms.editor.sdk.editorContext.getSession().getConnection().getLoginService();var loginUrl=loginService.get("loginUrl");window.location.href=loginUrl}return{extend:"com.coremedia.cms.editor.configuration.StudioPlugin",constructor:CloudStudioPluginBase$,
super$E_IS:function(){com.coremedia.cms.editor.configuration.StudioPlugin.prototype.constructor.apply(this,arguments)},returnToCloud:returnToCloud,requires:["com.coremedia.cms.editor.configuration.StudioPlugin"],uses:["com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.newcontent.NewContentMenuButton",function(NewContentMenuButton){function NewContentMenuButton$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.button.Button,{});var defaults_$1=AS3.cast(NewContentMenuButton,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);AS3.setBindable(config_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","CreateContentMenuButton_label")));AS3.setBindable(config_$1,
"scale","medium");config_$1["id"]="createContentMenuButton";AS3.setBindable(config_$1,"iconAlign","top");config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.HIGHLIGHT.getSkin());AS3.setBindable(config_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","CreateContentMenuButton_icon")));config_$1.menuAlign="tr";var editor_NewContentMenu_27_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.newcontent.NewContentMenu,{});config_$1.menu=
editor_NewContentMenu_27_5_$1;net.jangaroo.ext.Exml.apply(config_$1,config);this.super$7aPb(config_$1)}return{extend:"Ext.button.Button",alias:"widget.com.coremedia.cms.editor.sdk.config.newContentMenuButton",constructor:NewContentMenuButton$,super$7aPb:function(){Ext.button.Button.prototype.constructor.apply(this,arguments)},requires:["Ext.button.Button","com.coremedia.cms.editor.Editor_properties","com.coremedia.ui.skins.ButtonSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.newcontent.NewContentMenu"]}});Ext.define("com.coremedia.cms.editor.sdk.newcontent.NewContentMenu",function(NewContentMenu){function NewContentMenu$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.menu.Menu,{});var defaults_$1=AS3.cast(NewContentMenu,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.MenuSkin.SIDE.getSkin());AS3.setBindable(config_$1,"style","max-height: 70%;overflow-y: auto");config_$1["id"]="new-content-toolbar-menu";
var menuSeparator_20_5_$1=AS3.cast(Ext.menu.Separator,{});menuSeparator_20_5_$1.itemId="uploadSeparator";var editor_UploadMenuItem_21_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.upload.UploadMenuItem,{});config_$1.items=[menuSeparator_20_5_$1,editor_UploadMenuItem_21_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$ixrJ(config_$1)}return{extend:"Ext.menu.Menu",alias:"widget.com.coremedia.cms.editor.sdk.config.newContentMenu",constructor:NewContentMenu$,super$ixrJ:function(){Ext.menu.Menu.prototype.constructor.apply(this,
arguments)},requires:["Ext.menu.Menu","Ext.menu.Separator","com.coremedia.ui.skins.MenuSkin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.upload.UploadMenuItem"]}});Ext.define("com.coremedia.cms.editor.sdk.LocalesService",function(LocalesService){return{}});Ext.define("com.coremedia.cms.editor.sdk.IMessageService",function(IMessageService){return{}});Ext.define("com.coremedia.cms.editor.sdk.EditorContextImpl",function(EditorContextImpl){function imageBlobPropertyByDocumentType_(){this.imageBlobPropertyByDocumentType$uRne={}}function richTextEmbeddableTypes_(){this.richTextEmbeddableTypes$uRne={}}function richTextLinkableTypes_(){this.richTextLinkableTypes$uRne=[]}function thumbnailUriRenderer_(){this.thumbnailUriRenderer$uRne={}}function tabTooltipHandlers_(){this.tabTooltipHandlers$uRne={}}function tabTooltipSkipFlagsHandler_(){this.tabTooltipSkipFlagsHandler$uRne=
[]}function initializerByDocumentType_(){this.initializerByDocumentType$uRne={}}function excludedDocumentTypes_(){this.excludedDocumentTypes$uRne=[]}function contentTypesExcludedFromSearch_(){this.contentTypesExcludedFromSearch$uRne=[]}function contentTypesExcludedFromSearchResult_(){this.contentTypesExcludedFromSearchResult$uRne=[]}function documentTypesHiddenInReferrers_(){this.documentTypesHiddenInReferrers$uRne=["EditorPreferences","Preferences"]}function documentTypesWithoutPreview_(){this.documentTypesWithoutPreview$uRne=
["EditorPreferences","Preferences","Query","Dictionary"]}function enabledSearchFilterIds_(){this.enabledSearchFilterIds$uRne=[com.coremedia.cms.editor.sdk.collectionview.search.StatusFilterPanel.FILTER_ID,com.coremedia.cms.editor.sdk.collectionview.search.LastEditedFilterPanel.FILTER_ID,"datefilter-panel-modificationdate","datefilter-panel-publicationdate",com.coremedia.cms.editor.sdk.collectionview.search.SiteFilterPanel.FILTER_ID,com.coremedia.cms.editor.sdk.collectionview.search.TranslationStatusFilterPanel.FILTER_ID]}
function previewUrlTransformers_(){this.previewUrlTransformers$uRne=[]}function repositoryListViewColumns_(){this.repositoryListViewColumns$uRne=[]}function searchListViewColumns_(){this.searchListViewColumns$uRne=[]}function listViewDataFields_(){this.listViewDataFields$uRne=[]}function createDashboardConfiguration$static(){var config=AS3.cast(com.coremedia.cms.editor.sdk.dashboard.DashboardConfiguration,{});AS3.setBindable(config,"widgets",[]);AS3.setBindable(config,"types",[new com.coremedia.cms.editor.sdk.dashboard.widgets.search.SavedSearchWidgetType(AS3.cast(com.coremedia.cms.editor.sdk.dashboard.widgets.search.SavedSearchWidgetType,
{}))]);return new com.coremedia.cms.editor.sdk.dashboard.DashboardConfiguration(config)}function theDashboardConfiguration_(){this.theDashboardConfiguration$uRne=createDashboardConfiguration$static()}function translationProcessDefinitions_(){this.translationProcessDefinitions$uRne=[]}function newContentCreationFilters_(){this.newContentCreationFilters$uRne={}}function previewFilters_(){this.previewFilters$uRne={}}function initEditorContext$static(){if(!com.coremedia.cms.editor.sdk.editorContext)joo.getOrCreatePackage("com.coremedia.cms.editor.sdk").editorContext=
new EditorContextImpl;com.coremedia.ui.context.ComponentContextManager.getInstance();com.coremedia.ui.data.impl.BeanFactoryImpl.initBeanFactory();com.coremedia.ui.data.applicationContext.set("editorContext",com.coremedia.cms.editor.sdk.editorContext);com.coremedia.ui.data.impl.RemoteErrorHandlerRegistryImpl.initRemoteErrorHandlerRegistry()}function EditorContextImpl$(){imageBlobPropertyByDocumentType_.call(this);richTextEmbeddableTypes_.call(this);richTextLinkableTypes_.call(this);thumbnailUriRenderer_.call(this);
tabTooltipHandlers_.call(this);tabTooltipSkipFlagsHandler_.call(this);initializerByDocumentType_.call(this);excludedDocumentTypes_.call(this);contentTypesExcludedFromSearch_.call(this);contentTypesExcludedFromSearchResult_.call(this);documentTypesHiddenInReferrers_.call(this);documentTypesWithoutPreview_.call(this);enabledSearchFilterIds_.call(this);previewUrlTransformers_.call(this);repositoryListViewColumns_.call(this);searchListViewColumns_.call(this);listViewDataFields_.call(this);theDashboardConfiguration_.call(this);
translationProcessDefinitions_.call(this);newContentCreationFilters_.call(this);previewFilters_.call(this)}function getInstance$static(){return AS3.as(com.coremedia.cms.editor.sdk.editorContext,EditorContextImpl)}function getTabManager(){return new com.coremedia.cms.editor.sdk.TabManagerImpl}function getContentTabManager(){return this.contentTabManager$uRne}function setContentTabManager(contentTabManager){this.contentTabManager$uRne=contentTabManager}function getWorkAreaTabManager(){return this.workAreaTabManager$uRne}
function setWorkAreaTabManager(workAreaTabManager){this.workAreaTabManager$uRne=workAreaTabManager}function registerRichTextEmbeddableType(documentTypeName,property){this.richTextEmbeddableTypes$uRne[documentTypeName]=property}function getRichTextEmbeddableTypes(){var types=new Array;for(var typeName in this.richTextEmbeddableTypes$uRne){var documentType=com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getContentType(typeName);if(documentType)types.push(documentType)}return types}
function registerRichTextLinkableType(documentTypeName){this.richTextLinkableTypes$uRne.push(documentTypeName)}function getRichTextLinkableTypes(){var types=new Array;for(var $1=0;$1<this.richTextLinkableTypes$uRne.length;++$1){var typeName=this.richTextLinkableTypes$uRne[$1];var documentType=com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getContentType(typeName);if(documentType)types.push(documentType)}return types}function getRichTextDragDropImageBlobProperty(documentTypeName){return getImageBlobPropertyFromRegistry$static(documentTypeName,
this.richTextEmbeddableTypes$uRne)}function registerImageDocumentType(imageDocumentType,imageBlobProperty){this.imageBlobPropertyByDocumentType$uRne[imageDocumentType]=imageBlobProperty}function setDefaultRichTextImageDocumentType(documentTypeName){this.defaultRichTextImageType$uRne=documentTypeName}function getDefaultRichTextImageDocumentType(){return this.defaultRichTextImageType$uRne}function getImageBlobProperty(documentTypeName){return getImageBlobPropertyFromRegistry$static(documentTypeName,
this.imageBlobPropertyByDocumentType$uRne)}function getImageBlobPropertyFromRegistry$static(documentTypeName,registry){var documentType=com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getContentType(documentTypeName);while(documentType){var imageBlobProperty=registry[documentType.getName()];if(imageBlobProperty)return imageBlobProperty;documentType=documentType.getParent()}return null}function getExcludedDocumentTypes(){return this.excludedDocumentTypes$uRne}function getContentTypesExcludedFromSearch(){return this.contentTypesExcludedFromSearch$uRne}
function getDocumentTypesExcludedFromSearch(){return this.getContentTypesExcludedFromSearch()}function getContentTypesExcludedFromSearchResult(){return this.contentTypesExcludedFromSearchResult$uRne}function getDocumentTypesExcludedFromSearchResult(){return this.getContentTypesExcludedFromSearchResult()}function getDocumentTypesHiddenInReferrers(){return this.documentTypesHiddenInReferrers$uRne}function getDocumentTypesWithoutPreview(){return this.documentTypesWithoutPreview$uRne}function getEnabledSearchFilterIds(){return this.enabledSearchFilterIds$uRne}
function setDefaultTabStateManagerEnabled(enable){this.defaultTabStateManagerEnabled$uRne=enable}function isDefaultTabStateManagerEnabled(){return this.defaultTabStateManagerEnabled$uRne}function registerContentInitializer(contentTypeName,initializer){checkContentTypeExists$static(contentTypeName);this.initializerByDocumentType$uRne[contentTypeName]=initializer}function extendContentInitializer(contentTypeName,initializerExtension){checkContentTypeExists$static(contentTypeName);var currentInitFunction=
this.initializerByDocumentType$uRne[contentTypeName];if(currentInitFunction)this.initializerByDocumentType$uRne[contentTypeName]=function(formerInitializer){function extendedInitializer(content){formerInitializer(content);initializerExtension(content)}return extendedInitializer}(currentInitFunction);else this.initializerByDocumentType$uRne[contentTypeName]=initializerExtension}function getContentInitializer(contentTypeName){checkContentTypeExists$static(contentTypeName);return this.initializerByDocumentType$uRne[contentTypeName]}
function lookupContentInitializer(contentType){return this.lookupTypeConfiguration$uRne(this.initializerByDocumentType$uRne,contentType)}function lookupTypeConfiguration(lookup,contentType){while(contentType){var initializer=lookup[contentType.getName()];if(initializer)return initializer;contentType=contentType.getParent()}return undefined}function checkContentTypeExists$static(contentTypeName){if(!com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getContentType(contentTypeName))throw new AS3.Error("Unknown Content type '"+
contentTypeName+"'.");}function addListViewDataField(field){this.listViewDataFields$uRne.push(field)}function getListViewDataFields(){return this.listViewDataFields$uRne}function setRepositoryListViewColumns(columns,instanceName){if(arguments.length<=1)instanceName="defaultCollectionViewList";this.repositoryListViewColumns$uRne[instanceName]=columns}function setSearchListViewColumns(columns,instanceName){if(arguments.length<=1)instanceName="defaultCollectionViewList";this.searchListViewColumns$uRne[instanceName]=
columns}function getRepositoryListViewColumns(instanceName){if(arguments.length<=0)instanceName="defaultCollectionViewList";return this.repositoryListViewColumns$uRne[instanceName]}function getSearchListViewColumns(instanceName){if(arguments.length<=0)instanceName="defaultCollectionViewList";return this.searchListViewColumns$uRne[instanceName]}function getPreviewUrlTransformers(){return this.previewUrlTransformers$uRne}function registerPreviewUrlTransformer(transformer){this.previewUrlTransformers$uRne.push(transformer)}
function getBeanFactory(){return com.coremedia.ui.data.beanFactory}function getApplicationContext(){return com.coremedia.ui.data.applicationContext}function getSession(){return com.coremedia.cap.common.SESSION}function getPreferences(){return this.preferences$uRne}function setPreferences(value){this.preferences$uRne=value}function getRemoteErrorRegistry(){return com.coremedia.ui.data.error.remoteErrorHandlerRegistry}function handleRemoteError(response,source){AS3.as(com.coremedia.ui.data.error.remoteErrorHandlerRegistry,
com.coremedia.ui.data.impl.RemoteErrorHandlerRegistryImpl).handleError(com.coremedia.ui.data.impl.RemoteService.createRemoteError(response),source)}function registerRichTextSymbolMapping(mapping){com.coremedia.ui.ckeditor.RichTextArea.addSymbolMapping(mapping)}function setDashboardConfiguration(config){this.theDashboardConfiguration$uRne=config}function getDashboardConfiguration(){return this.theDashboardConfiguration$uRne}function getWorkArea(){if(!this.workArea$uRne)this.workArea$uRne=AS3.as(Ext.getCmp("workarea"),
Ext.tab.Panel);return this.workArea$uRne}function getWorkAreaTabProxies(){if(!this.workAreaTabProxies$uRne){var mainView=AS3.as(Ext.getCmp(com.coremedia.cms.editor.sdk.desktop.EditorMainView.ID),com.coremedia.cms.editor.sdk.desktop.EditorMainView);if(mainView)this.workAreaTabProxies$uRne=mainView.getWorkAreaTabProxies()}return this.workAreaTabProxies$uRne}function getCollectionViewManager(){if(!this.collectionViewManager$uRne)this.collectionViewManager$uRne=new com.coremedia.cms.editor.sdk.collectionview.CollectionViewManagerImpl;
return this.collectionViewManager$uRne}function getCollectionViewExtender(){if(!this.extender$uRne)this.extender$uRne=new com.coremedia.cms.editor.sdk.collectionview.CollectionViewExtender;return this.extender$uRne}function getCollectionViewModel(reset){if(arguments.length<=0)reset=false;if(!this.collectionViewModel$uRne||reset){var preferredSite=this.getSitesService().getPreferredSite();this.collectionViewModel$uRne=new com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel(preferredSite&&
preferredSite.getSiteRootFolder())}return this.collectionViewModel$uRne}function getSitesService(){if(!this.sitesService$uRne)this.sitesService$uRne=new com.coremedia.cms.editor.sdk.sites.SitesServiceImpl;return this.sitesService$uRne}function getLocalesService(){if(!this.localesService$uRne)this.localesService$uRne=new com.coremedia.cms.editor.sdk.LocalesServiceImpl;return this.localesService$uRne}function registerTranslationProcessDefinition(processDefinitionName){this.translationProcessDefinitions$uRne.push(processDefinitionName)}
function getTranslationProcessDefinitions(){return this.translationProcessDefinitions$uRne}function getMetadataNodeRendererRegistry(){if(!this.metadataNodeRendererRegistry$uRne)this.metadataNodeRendererRegistry$uRne=new com.coremedia.cms.editor.sdk.preview.metadata.MetadataNodeRendererRegistryImpl;return this.metadataNodeRendererRegistry$uRne}function getKeyboardShortcutManager(){if(!this.keyboardShortcutManager$uRne)this.keyboardShortcutManager$uRne=new com.coremedia.cms.editor.sdk.shortcuts.KeyboardShortcutManager;
return this.keyboardShortcutManager$uRne}function isStateBasedPublicationEnabled(){return this.stateBasedPublicationEnabled$uRne}function enableStateBasedPublication(){this.stateBasedPublicationEnabled$uRne=true}function getConfiguration(){return this.configuration$uRne}function setConfiguration(value){this.configuration$uRne=value}function registerThumbnailUriRenderer(doctype,renderFunction){this.thumbnailUriRenderer$uRne[doctype]=renderFunction}function registerThumbnailResolver(resolver){if(resolver.getContentType())this.getThumbnailResolverRegistry().set(resolver.getContentType(),
resolver)}function setThumbnailRenderer(thumbnailRenderer){this.thumbnailRenderer$uRne=thumbnailRenderer}function getThumbnail(model,operations,docType){switch(Math.max(arguments.length,1)){case 1:operations=null;case 2:docType=null}if(AS3.as(model,com.coremedia.ui.data.RemoteBean)&&!AS3.as(model,com.coremedia.ui.data.RemoteBean).isLoaded())return undefined;var dt=docType;if(AS3.as(model,com.coremedia.cap.content.Content)){var type=AS3.as(model,com.coremedia.cap.content.Content).getType();if(!type)return undefined;
dt=type.getName()}var thumbnailResolver=this.getThumbnailResolverRegistry().get(dt);if(thumbnailResolver)return thumbnailResolver.getThumbnail(model,operations);return this.getDefaultThumbnailResolver().getThumbnail(model,operations)}function getThumbnailImage(model,operations,docType){if(arguments.length<=2)docType=null;var thumbnail=this.getThumbnail$uRne(model,operations,docType);if(AS3.is(thumbnail,String))return new com.coremedia.ui.util.ThumbnailImage(AS3.as(thumbnail,String));var tn=AS3.as(thumbnail,
com.coremedia.cms.editor.sdk.util.Thumbnail);if(!tn)return null;if(isAnimatedGif$static(tn))return new com.coremedia.ui.util.ThumbnailImage(this.renderThumbnailUrl$uRne(tn,"png,jpeg"),this.renderThumbnailUrl$uRne(tn,"gif"),com.coremedia.ui.util.ThumbnailImage.ANIMATED_IMAGE_TYPE_GIF);return new com.coremedia.ui.util.ThumbnailImage(this.renderThumbnailUrl$uRne(tn,"png,jpeg"))}function isAnimatedGif$static(thumbnail){if(!thumbnail||!thumbnail.getBlob())return false;var mimeType=thumbnail.getBlob().getContentType();
var gifParamsMatch=mimeType.match(/image\/gif(;.+)/);if(gifParamsMatch){var gifParams=gifParamsMatch[1];if(gifParams.match(/;\s*times=[^;]+/))return true}return false}function getThumbnailUri(model,operations,docType){switch(Math.max(arguments.length,1)){case 1:operations=null;case 2:docType=null}if(AS3.as(model,com.coremedia.ui.data.RemoteBean)&&!AS3.as(model,com.coremedia.ui.data.RemoteBean).isLoaded())return undefined;var result=undefined;if(AS3.as(model,com.coremedia.cap.content.Content)){var content=
AS3.as(model,com.coremedia.cap.content.Content);if(content.getType()){var renderFunction=this.findRenderer$uRne(content.getType());if(renderFunction!==null)result=this.renderWithFunction$uRne(renderFunction,content,operations);else result=this.renderWithRenderer$uRne(content,operations)}}else{var thumbnailResolver=this.getThumbnailResolverRegistry().get(docType);if(thumbnailResolver){var thumbnail=thumbnailResolver.getThumbnail(model,operations);if(thumbnail===null)return null;if(thumbnail)return this.renderThumbnailUrl$uRne(thumbnail)}else return null}return result}
function registerTabTooltipHandler(doctype,handlerFunction){this.tabTooltipHandlers$uRne[doctype]=handlerFunction}function computeAdditionalTabTooltipEntries(content){var contentType=content.getType().getName();if(contentType===undefined)return undefined;var tabTooltipHandler=this.tabTooltipHandlers$uRne[contentType];if(!tabTooltipHandler)return[];return tabTooltipHandler.call(null,content)}function computeTooltipSkipFlags(tooltipSkipFlags,itemCollection){var this$=this;var sites=[];var entities=
[];itemCollection.each(function(proxy){var content=AS3.as(AS3.getBindable(proxy,"proxyState").entity,com.coremedia.cap.content.Content);if(content){var site=this$.sitesService$uRne.getSiteFor(content);sites.push(site)}entities.push(AS3.getBindable(proxy,"proxyState").entity)});this.tabTooltipSkipFlagsHandler$uRne.forEach(function(skipHandler){skipHandler.call(null,tooltipSkipFlags,sites,entities)});var skipSiteName=true;var skipSiteLocale=true;var preferredSite=this.sitesService$uRne.getPreferredSite();
if(preferredSite===undefined)return undefined;if(!preferredSite){skipSiteName=false;skipSiteLocale=false}else{var preferredSiteName=preferredSite.getName();var preferredSiteLocale=preferredSite.getLocale();var returnUndefined=false;for(var i=0;i<sites.length;i++){var site=sites[i];if(site===undefined){returnUndefined=true;continue}var currentSiteName=site&&site.getName();if(preferredSiteName!==currentSiteName)skipSiteName=false;var currentSiteLocale=site&&site.getLocale();if(!preferredSiteLocale.equals(currentSiteLocale))skipSiteLocale=
false;if(!skipSiteName&&!skipSiteLocale)break}}tooltipSkipFlags.set(com.coremedia.cms.editor.sdk.desktop.TabTooltipInfo.SITE,skipSiteName);tooltipSkipFlags.set(com.coremedia.cms.editor.sdk.desktop.TabTooltipInfo.LOCALE,skipSiteLocale)}function registerTooltipSkipFlagHandler(skipHander){this.tabTooltipSkipFlagsHandler$uRne.push(skipHander)}function renderWithRenderer(content,operations){if(arguments.length<=1)operations=null;var result=undefined;var thumbnailResolver=this.getThumbnailResolverRegistry().get(content.getType().getName());
var thumbnail=undefined;if(thumbnailResolver)thumbnail=thumbnailResolver.getThumbnail(content,operations);else thumbnail=this.getDefaultThumbnailResolver().getThumbnail(content,operations);if(thumbnail)result=this.renderThumbnailUrl$uRne(thumbnail);else if(thumbnail===null)result=null;return result}function renderWithFunction(renderFunction,content,operations){var object=renderFunction.call(null,content,operations);if(object&&AS3.as(object,String))return AS3.as(object,String);else if(AS3.as(object,
com.coremedia.cms.editor.sdk.util.Thumbnail))return this.renderThumbnailUrl$uRne(object);return null}function renderThumbnailUrl(thumbnail,targetFormat){if(arguments.length<=1)targetFormat="png,jpeg";if(AS3.as(thumbnail,String))return this.getThumbnailRenderer().transformUrl(AS3.as(thumbnail,String));else if(AS3.as(thumbnail,com.coremedia.cms.editor.sdk.util.Thumbnail)){var tn=AS3.as(thumbnail,com.coremedia.cms.editor.sdk.util.Thumbnail);if(targetFormat)return this.getThumbnailRenderer().renderThumbnailUrl(tn,
"convert;f\x3d"+targetFormat);return this.getThumbnailRenderer().renderThumbnailUrl(tn)}throw new AS3.Error("Unsupported thumbnail type: must be an instance of String or Thumbnail");}function getDefaultThumbnailResolver(){if(!this.thumbnailFinder$uRne)this.thumbnailFinder$uRne=new com.coremedia.cms.editor.sdk.util.ThumbnailResolverImpl;return this.thumbnailFinder$uRne}function getThumbnailResolverRegistry(){if(!this.thumbnailResolverRegistry$uRne)this.thumbnailResolverRegistry$uRne=com.coremedia.ui.data.beanFactory.createLocalBean();
return this.thumbnailResolverRegistry$uRne}function getThumbnailRenderer(){if(!this.thumbnailRenderer$uRne)this.thumbnailRenderer$uRne=new com.coremedia.cms.editor.sdk.util.ThumbnailRendererBase;return this.thumbnailRenderer$uRne}function addContentCreationFilter(documentType,mayCreate,includeSubtypes){if(arguments.length<=2)includeSubtypes=false;this.newContentCreationFilters$uRne[documentType]={"filterFunction":mayCreate,"includeSubtypes":includeSubtypes}}function getContentCreationFilter(contentType){var cType=
com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getContentType(contentType);for(var t in this.newContentCreationFilters$uRne){var includeSubTypes=this.newContentCreationFilters$uRne[t].includeSubtypes;if(includeSubTypes){if(cType.isSubtypeOf(t))return this.newContentCreationFilters$uRne[t].filterFunction}else if(cType.getName()===t)return this.newContentCreationFilters$uRne[t].filterFunction}return null}function addPreviewFilter(documentType,mayPreview){this.previewFilters$uRne[documentType]=
mayPreview}function getPreviewFilter(cType){for(var t in this.previewFilters$uRne)if(cType.isSubtypeOf(t))return this.previewFilters$uRne[t];return null}function findRenderer(contentType){if(this.thumbnailUriRenderer$uRne[contentType.getName()])return this.thumbnailUriRenderer$uRne[contentType.getName()];else if(contentType.getParent())return this.findRenderer$uRne(contentType.getParent());return null}return{mixins:["com.coremedia.cms.editor.sdk.IEditorContext"],metadata:{registerRichTextSymbolMapping:["Deprecated"]},
defaultRichTextImageType$uRne:"CMPicture",contentTabManager$uRne:null,workAreaTabManager$uRne:null,workArea$uRne:null,workAreaTabProxies$uRne:null,collectionViewManager$uRne:null,collectionViewModel$uRne:null,extender$uRne:null,sitesService$uRne:null,localesService$uRne:null,preferences$uRne:null,defaultTabStateManagerEnabled$uRne:true,metadataNodeRendererRegistry$uRne:null,keyboardShortcutManager$uRne:null,stateBasedPublicationEnabled$uRne:false,configuration$uRne:null,thumbnailFinder$uRne:null,
thumbnailRenderer$uRne:null,thumbnailResolverRegistry$uRne:null,constructor:EditorContextImpl$,getTabManager:getTabManager,getContentTabManager:getContentTabManager,setContentTabManager:setContentTabManager,getWorkAreaTabManager:getWorkAreaTabManager,setWorkAreaTabManager:setWorkAreaTabManager,registerRichTextEmbeddableType:registerRichTextEmbeddableType,getRichTextEmbeddableTypes:getRichTextEmbeddableTypes,registerRichTextLinkableType:registerRichTextLinkableType,getRichTextLinkableTypes:getRichTextLinkableTypes,
getRichTextDragDropImageBlobProperty:getRichTextDragDropImageBlobProperty,registerImageDocumentType:registerImageDocumentType,setDefaultRichTextImageDocumentType:setDefaultRichTextImageDocumentType,getDefaultRichTextImageDocumentType:getDefaultRichTextImageDocumentType,getImageBlobProperty:getImageBlobProperty,getExcludedDocumentTypes:getExcludedDocumentTypes,getContentTypesExcludedFromSearch:getContentTypesExcludedFromSearch,getDocumentTypesExcludedFromSearch:getDocumentTypesExcludedFromSearch,getContentTypesExcludedFromSearchResult:getContentTypesExcludedFromSearchResult,
getDocumentTypesExcludedFromSearchResult:getDocumentTypesExcludedFromSearchResult,getDocumentTypesHiddenInReferrers:getDocumentTypesHiddenInReferrers,getDocumentTypesWithoutPreview:getDocumentTypesWithoutPreview,getEnabledSearchFilterIds:getEnabledSearchFilterIds,setDefaultTabStateManagerEnabled:setDefaultTabStateManagerEnabled,isDefaultTabStateManagerEnabled:isDefaultTabStateManagerEnabled,registerContentInitializer:registerContentInitializer,extendContentInitializer:extendContentInitializer,getContentInitializer:getContentInitializer,
lookupContentInitializer:lookupContentInitializer,lookupTypeConfiguration$uRne:lookupTypeConfiguration,addListViewDataField:addListViewDataField,getListViewDataFields:getListViewDataFields,setRepositoryListViewColumns:setRepositoryListViewColumns,setSearchListViewColumns:setSearchListViewColumns,getRepositoryListViewColumns:getRepositoryListViewColumns,getSearchListViewColumns:getSearchListViewColumns,getPreviewUrlTransformers:getPreviewUrlTransformers,registerPreviewUrlTransformer:registerPreviewUrlTransformer,
getBeanFactory:getBeanFactory,getApplicationContext:getApplicationContext,getSession:getSession,getPreferences:getPreferences,setPreferences:setPreferences,getRemoteErrorRegistry:getRemoteErrorRegistry,handleRemoteError:handleRemoteError,registerRichTextSymbolMapping:registerRichTextSymbolMapping,setDashboardConfiguration:setDashboardConfiguration,getDashboardConfiguration:getDashboardConfiguration,getWorkArea:getWorkArea,getWorkAreaTabProxies:getWorkAreaTabProxies,getCollectionViewManager:getCollectionViewManager,
getCollectionViewExtender:getCollectionViewExtender,getCollectionViewModel:getCollectionViewModel,getSitesService:getSitesService,getLocalesService:getLocalesService,registerTranslationProcessDefinition:registerTranslationProcessDefinition,getTranslationProcessDefinitions:getTranslationProcessDefinitions,getMetadataNodeRendererRegistry:getMetadataNodeRendererRegistry,getKeyboardShortcutManager:getKeyboardShortcutManager,isStateBasedPublicationEnabled:isStateBasedPublicationEnabled,enableStateBasedPublication:enableStateBasedPublication,
getConfiguration:getConfiguration,setConfiguration:setConfiguration,registerThumbnailUriRenderer:registerThumbnailUriRenderer,registerThumbnailResolver:registerThumbnailResolver,setThumbnailRenderer:setThumbnailRenderer,getThumbnail$uRne:getThumbnail,getThumbnailImage:getThumbnailImage,getThumbnailUri:getThumbnailUri,registerTabTooltipHandler:registerTabTooltipHandler,computeAdditionalTabTooltipEntries:computeAdditionalTabTooltipEntries,computeTooltipSkipFlags:computeTooltipSkipFlags,registerTooltipSkipFlagHandler:registerTooltipSkipFlagHandler,
renderWithRenderer$uRne:renderWithRenderer,renderWithFunction$uRne:renderWithFunction,renderThumbnailUrl$uRne:renderThumbnailUrl,getDefaultThumbnailResolver:getDefaultThumbnailResolver,getThumbnailResolverRegistry:getThumbnailResolverRegistry,getThumbnailRenderer:getThumbnailRenderer,addContentCreationFilter:addContentCreationFilter,getContentCreationFilter:getContentCreationFilter,addPreviewFilter:addPreviewFilter,getPreviewFilter:getPreviewFilter,findRenderer$uRne:findRenderer,statics:{initEditorContext:initEditorContext$static,
getInstance:getInstance$static},requires:["AS3.Error","Ext","Ext.tab.Panel","com.coremedia.cap.common.SESSION","com.coremedia.cap.content.Content","com.coremedia.cms.editor.sdk.IEditorContext","com.coremedia.ui.ckeditor.RichTextArea","com.coremedia.ui.context.ComponentContextManager","com.coremedia.ui.data.RemoteBean","com.coremedia.ui.data.applicationContext","com.coremedia.ui.data.beanFactory","com.coremedia.ui.data.error.remoteErrorHandlerRegistry","com.coremedia.ui.data.impl.BeanFactoryImpl",
"com.coremedia.ui.data.impl.RemoteErrorHandlerRegistryImpl","com.coremedia.ui.data.impl.RemoteService","com.coremedia.ui.util.ThumbnailImage"],uses:["com.coremedia.cms.editor.sdk.LocalesServiceImpl","com.coremedia.cms.editor.sdk.TabManagerImpl","com.coremedia.cms.editor.sdk.collectionview.CollectionViewExtender","com.coremedia.cms.editor.sdk.collectionview.CollectionViewManagerImpl","com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel","com.coremedia.cms.editor.sdk.collectionview.search.LastEditedFilterPanel",
"com.coremedia.cms.editor.sdk.collectionview.search.SiteFilterPanel","com.coremedia.cms.editor.sdk.collectionview.search.StatusFilterPanel","com.coremedia.cms.editor.sdk.collectionview.search.TranslationStatusFilterPanel","com.coremedia.cms.editor.sdk.dashboard.DashboardConfiguration","com.coremedia.cms.editor.sdk.dashboard.widgets.search.SavedSearchWidgetType","com.coremedia.cms.editor.sdk.desktop.EditorMainView","com.coremedia.cms.editor.sdk.desktop.TabTooltipInfo","com.coremedia.cms.editor.sdk.editorContext",
"com.coremedia.cms.editor.sdk.preview.metadata.MetadataNodeRendererRegistryImpl","com.coremedia.cms.editor.sdk.shortcuts.KeyboardShortcutManager","com.coremedia.cms.editor.sdk.sites.SitesServiceImpl","com.coremedia.cms.editor.sdk.util.Thumbnail","com.coremedia.cms.editor.sdk.util.ThumbnailRendererBase","com.coremedia.cms.editor.sdk.util.ThumbnailResolverImpl"]}});Ext.define("com.coremedia.cms.editor.sdk.synchronization.SynchronizationPropertyFieldBase",function(SynchronizationPropertyFieldBase){function SynchronizationPropertyFieldBase$(config){if(arguments.length<=0)config=null;this.super$AWT_(config)}function getVisibilityVE(config){return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var content=AS3.getBindable(config,"bindTo").getValue();if(!content)return content;var site=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getSiteFor(content);
if(!site)return site;return site.isSynchronizationTargetSite()})}function toBoolean$static(ignoreUpdates){return ignoreUpdates!==SynchronizationPropertyFieldBase.IGNORE_UPDATES}function toInt$static(value){return value?SynchronizationPropertyFieldBase.RECEIVE_UPDATES:SynchronizationPropertyFieldBase.IGNORE_UPDATES}return{extend:"com.coremedia.ui.components.AdvancedFieldContainer",constructor:SynchronizationPropertyFieldBase$,super$AWT_:function(){com.coremedia.ui.components.AdvancedFieldContainer.prototype.constructor.apply(this,
arguments)},getVisibilityVE:getVisibilityVE,config:{bindTo:null},statics:{IGNORE_UPDATES:1,RECEIVE_UPDATES:0,toBoolean:toBoolean$static,toInt:toInt$static},requires:["com.coremedia.cms.editor.Editor_properties","com.coremedia.ui.components.AdvancedFieldContainer","com.coremedia.ui.data.ValueExpressionFactory"],uses:["com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.synchronization.SynchronizationPropertyField",function(SynchronizationPropertyField){function SynchronizationPropertyField$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.sdk.synchronization.SynchronizationPropertyFieldBase,{});var defaults_$1=AS3.cast(SynchronizationPropertyField,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var ui_BindVisibilityPlugin_29_5_$1=AS3.cast(com.coremedia.ui.plugins.BindVisibilityPlugin,
{});ui_BindVisibilityPlugin_29_5_$1.bindTo=this.getVisibilityVE(config);var editor_SetPropertyLabelPlugin_30_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin,{});editor_SetPropertyLabelPlugin_30_5_$1.bindTo=AS3.getBindable(config,"bindTo");editor_SetPropertyLabelPlugin_30_5_$1.propertyName=net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName"));config_$1.plugins=[ui_BindVisibilityPlugin_29_5_$1,editor_SetPropertyLabelPlugin_30_5_$1];var ui_StatefulCheckbox_35_5_$1=
AS3.cast(com.coremedia.ui.components.StatefulCheckbox,{});ui_StatefulCheckbox_35_5_$1.itemId=net.jangaroo.ext.Exml.asString(SynchronizationPropertyField.KEEP_SITE_IN_SYNC_WITH_MASTER_FIELD);AS3.setBindable(ui_StatefulCheckbox_35_5_$1,"boxLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.cms.editor.Editor","SynchronizationPropertyField_ignoreUpdates_boxLabel")));var editor_BindReadOnlyPlugin_38_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPlugin,
{});AS3.setBindable(editor_BindReadOnlyPlugin_38_9_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));editor_BindReadOnlyPlugin_38_9_$1.bindTo=AS3.getBindable(config,"bindTo");var editor_PropertyFieldPlugin_40_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin,{});AS3.setBindable(editor_PropertyFieldPlugin_40_9_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"propertyName")));var ui_BindPropertyPlugin_41_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,
{});ui_BindPropertyPlugin_41_9_$1.bindTo=AS3.getBindable(config,"bindTo").extendBy("properties",AS3.getBindable(config,"propertyName"));ui_BindPropertyPlugin_41_9_$1.transformer=com.coremedia.cms.editor.sdk.synchronization.SynchronizationPropertyFieldBase.toBoolean;ui_BindPropertyPlugin_41_9_$1.reverseTransformer=com.coremedia.cms.editor.sdk.synchronization.SynchronizationPropertyFieldBase.toInt;ui_BindPropertyPlugin_41_9_$1.bidirectional=true;ui_StatefulCheckbox_35_5_$1.plugins=[editor_BindReadOnlyPlugin_38_9_$1,
editor_PropertyFieldPlugin_40_9_$1,ui_BindPropertyPlugin_41_9_$1];config_$1.items=[ui_StatefulCheckbox_35_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$EDiD(config_$1)}return{extend:"com.coremedia.cms.editor.sdk.synchronization.SynchronizationPropertyFieldBase",constructor:SynchronizationPropertyField$,super$EDiD:function(){com.coremedia.cms.editor.sdk.synchronization.SynchronizationPropertyFieldBase.prototype.constructor.apply(this,arguments)},alias:"widget.com.coremedia.cms.editor.sdk.config.synchronizationPropertyField",
config:{propertyName:null,forceReadOnlyValueExpression:null},statics:{KEEP_SITE_IN_SYNC_WITH_MASTER_FIELD:"keepSiteInSyncWithMaster"},requires:["com.coremedia.cms.editor.Editor_properties","com.coremedia.cms.editor.sdk.synchronization.SynchronizationPropertyFieldBase","com.coremedia.ui.components.StatefulCheckbox","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.BindVisibilityPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin",
"com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyLabelPlugin"]}});Ext.define("com.coremedia.cms.editor.sdk.layouts.ExtendedBorderLayout",function(ExtendedBorderLayout){function ExtendedBorderLayout$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.layout.container.Border,{});var defaults_$1=AS3.cast(ExtendedBorderLayout,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$j3qk(config_$1)}return{extend:"Ext.layout.container.Border",constructor:ExtendedBorderLayout$,super$j3qk:function(){Ext.layout.container.Border.prototype.constructor.apply(this,
arguments)},config:{showCollapsedTitles:null},requires:["Ext.layout.container.Border","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.sdk.MessageServiceImpl",function(MessageServiceImpl){function windowListeners_(){this.windowListeners$28q8=[]}function inReplyToIds_(){this.inReplyToIds$28q8=[]}function inReplyToListeners_(){this.inReplyToListeners$28q8=[]}function inReplyToStakeholders_(){this.inReplyToStakeholders$28q8=[]}function MessageServiceImpl$(){windowListeners_.call(this);inReplyToIds_.call(this);inReplyToListeners_.call(this);inReplyToStakeholders_.call(this);Ext.get(window).addListener("message",
AS3.bind(this,"dispatchMessage$28q8"))}function dispatchMessage(e){var eventType=e.type;if(eventType!=="message")return;var origin=e.browserEvent["origin"];if(!this.isValidPreviewOrigin(origin)){com.coremedia.ui.logging.Logger.warn(MessageServiceImpl+" Received message from non-authorized origin: "+origin);return}var msgString=e.browserEvent["data"];var msg=MessageServiceImpl.resolvePostMessage(msgString);var messageSource=e.browserEvent["source"];if(msg){if(msg.inReplyTo){var inReplyToId=msg.inReplyTo;
com.coremedia.ui.logging.Logger.debug(MessageServiceImpl+" Received response for conversation "+inReplyToId);var inReplyToIdIndex=this.inReplyToIds$28q8.indexOf(inReplyToId);if(inReplyToIdIndex>=0){var replyToCallback=this.inReplyToListeners$28q8[inReplyToIdIndex];this.removeFromInReplyTo$28q8(inReplyToIdIndex);replyToCallback.call(null,msg.body)}return}var messageType=msg.type;var typeListenersMapping=this.findTypeListenerMappingForWindow$28q8(messageSource);if(typeListenersMapping){var listeners=
typeListenersMapping[messageType];if(listeners){var replyWith=msg.replyWith?msg.replyWith:undefined;com.coremedia.ui.logging.Logger.debug(MessageServiceImpl+": Received message. Calling "+listeners.length+" message listeners for message with type "+messageType);listeners.forEach(function(listener){listener.call(null,msg.body,replyWith)})}}}}function removeFromInReplyTo(inReplyToIndex){this.inReplyToIds$28q8.splice(inReplyToIndex,1);this.inReplyToListeners$28q8.splice(inReplyToIndex,1);this.inReplyToStakeholders$28q8.splice(inReplyToIndex,
1);var removedStakeholder=this.inReplyToStakeholders$28q8[inReplyToIndex];if(removedStakeholder&&this.inReplyToStakeholders$28q8.indexOf(removedStakeholder)===-1)removedStakeholder.un("destroy",AS3.bind(this,"cancelInReplyToOnDestroy$28q8"))}function initMessageService$static(){if(!com.coremedia.cms.editor.sdk.messageService)joo.getOrCreatePackage("com.coremedia.cms.editor.sdk").messageService=new MessageServiceImpl}function registerMessageListener(iframe,messageType,listener){if(iframe&&messageType&&
listener){var typeListenersMapping=this.findTypeListenerMappingForIframe$28q8(iframe);if(!typeListenersMapping){this.windowListeners$28q8.push([iframe,{}]);typeListenersMapping=this.findTypeListenerMappingForIframe$28q8(iframe)}if(!typeListenersMapping[messageType])typeListenersMapping[messageType]=[];var typeListeners=typeListenersMapping[messageType];com.coremedia.ui.logging.Logger.debug(MessageServiceImpl+" Registered listener for message Type "+messageType);typeListeners.push(listener)}}function findTypeListenerMappingForWindow(contentWindow){var index=
this.findTypeListenerMappingIndexForWindow$28q8(contentWindow);if(index>=0)return this.windowListeners$28q8[index][1];return null}function findTypeListenerMappingIndexForWindow(contentWindow){for(var i=0;i<this.windowListeners$28q8.length;i++){var windowTypesListenersTuple=this.windowListeners$28q8[i];try{if(windowTypesListenersTuple[0].contentWindow===contentWindow)return i}catch(e){com.coremedia.ui.logging.Logger.warn("Error while reading DOM Element")}}return-1}function findTypeListenerMappingForIframe(iframe){var index=
this.findTypeListenerMappingIndexForIframe$28q8(iframe);if(index>=0)return this.windowListeners$28q8[index][1];return null}function findTypeListenerMappingIndexForIframe(iframe){for(var i=0;i<this.windowListeners$28q8.length;i++){var windowTypesListenersTuple=this.windowListeners$28q8[i];try{if(windowTypesListenersTuple[0]===iframe)return i}catch(e){com.coremedia.ui.logging.Logger.warn("Error while reading DOM Element")}}return-1}function cancelInReplyToOnDestroy(stakeholder){for(var i=this.inReplyToStakeholders$28q8.length-
1;i>=0;i--)if(this.inReplyToStakeholders$28q8[i]===stakeholder)this.removeFromInReplyTo$28q8(i)}function sendMessage(messageRecipient,messageType,messageBody,callback,stakeholder){if(messageRecipient&&messageType&&messageBody){var message={type:messageType,body:messageBody};if(callback&&Ext.isFunction(callback)){var replyWithId=this.createConversationId$28q8();message.replyWith=replyWithId;this.inReplyToIds$28q8.push(replyWithId);this.inReplyToListeners$28q8.push(callback);this.inReplyToStakeholders$28q8.push(stakeholder);
if(this.inReplyToIds$28q8.length>MessageServiceImpl.MESSAGE_LISTENERS_LIMIT){this.removeFromInReplyTo$28q8(0);com.coremedia.ui.logging.Logger.info(MessageServiceImpl+" Response callback list size limit exceeded. Removed oldest entry.")}if(stakeholder)stakeholder.on("destroy",AS3.bind(this,"cancelInReplyToOnDestroy$28q8"))}var messageString=com.coremedia.ui.util.ObjectUtils.toJson(message);com.coremedia.ui.logging.Logger.debug(MessageServiceImpl+" Send message of type "+messageType+". Response callback ID: "+
message.replyWith);messageRecipient.postMessage(messageString,this.getTargetOrigin())}}function createConversationId(){return this.conversationCounter$28q8++}function unregisterMessageListener(iframe,messageType,listener){var typeListenersMapping=this.findTypeListenerMappingForIframe$28q8(iframe);if(!typeListenersMapping)return;if(!typeListenersMapping[messageType])return;var typeListeners=typeListenersMapping[messageType];var listenerIndex=typeListeners.indexOf(listener);if(listenerIndex===-1)return;
com.coremedia.ui.logging.Logger.debug(MessageServiceImpl+" Unregistered listener for message Type "+messageType);typeListeners.splice(listenerIndex,1);if(typeListeners.length==0)delete typeListenersMapping[messageType];if(com.coremedia.ui.util.ObjectUtils.isEmpty(typeListenersMapping))this.windowListeners$28q8.splice(this.findTypeListenerMappingIndexForIframe$28q8(iframe),1)}function sendResponse(messageRecipient,inReplyTo,messageBody){if(messageRecipient&&inReplyTo&&messageBody){var message={inReplyTo:inReplyTo,
body:messageBody};var messageString=com.coremedia.ui.util.ObjectUtils.toJson(message);com.coremedia.ui.logging.Logger.debug(MessageServiceImpl+" Send response with conversation ID "+inReplyTo+".");messageRecipient.postMessage(messageString,this.getTargetOrigin())}}function resolvePostMessage$static(msgString){var message=Ext.JSON.decode(msgString,true);return message&&com.coremedia.ui.data.impl.BeanFactoryImpl.resolveBeans(message)}function isValidPreviewOrigin(origin){var validOrigins=this.getValidPreviewOrigins$28q8();
for(var i=0;i<validOrigins.length;i++){var validOriginsRegExpString=AS3.as(validOrigins[i],String).replace(/\*/g,".*");var validOriginRegExp=new RegExp(validOriginsRegExpString);if(origin.match(validOriginRegExp)&&origin.match(validOriginRegExp).indexOf(origin)!=-1)return true}return false}function getValidPreviewOrigins(){if(!this.validPreviewOrigins$28q8||this.validPreviewOrigins$28q8.length==0||!this.validPreviewOrigins$28q8[0]){var whitelist=com.coremedia.cap.common.SESSION.getConnection().getContentRepository()["getPreviewUrlWhitelist"]();
if(whitelist&&whitelist.length>0)this.validPreviewOrigins$28q8=whitelist;else{var previewControllerUri=net.jangaroo.net.URIUtils.parse(com.coremedia.cap.common.SESSION.getConnection().getContentRepository()["getPreviewControllerUriPattern"]());if(previewControllerUri.isAbsolute)this.validPreviewOrigins$28q8=[previewControllerUri.scheme+"://"+previewControllerUri.authority];else{var studioUri=net.jangaroo.net.URIUtils.parse(window.location.href);this.validPreviewOrigins$28q8=[studioUri.scheme+"://"+
studioUri.authority]}}}return this.validPreviewOrigins$28q8}function getTargetOrigin(){var validPreviewOrigin="*";if(this.getValidPreviewOrigins$28q8().length===1&&AS3.as(this.getValidPreviewOrigins$28q8()[0],String).indexOf("*")===-1)validPreviewOrigin=this.getValidPreviewOrigins$28q8()[0];return validPreviewOrigin}function setValidPreviewOrigins(origins){this.validPreviewOrigins$28q8=origins}function getWindowListeners(){return this.windowListeners$28q8}function getInReplyToIds(){return this.inReplyToIds$28q8}
function getInReplyToListeners(){return this.inReplyToListeners$28q8}return{mixins:["com.coremedia.cms.editor.sdk.IMessageService"],conversationCounter$28q8:1,validPreviewOrigins$28q8:null,constructor:MessageServiceImpl$,dispatchMessage$28q8:dispatchMessage,removeFromInReplyTo$28q8:removeFromInReplyTo,registerMessageListener:registerMessageListener,findTypeListenerMappingForWindow$28q8:findTypeListenerMappingForWindow,findTypeListenerMappingIndexForWindow$28q8:findTypeListenerMappingIndexForWindow,
findTypeListenerMappingForIframe$28q8:findTypeListenerMappingForIframe,findTypeListenerMappingIndexForIframe$28q8:findTypeListenerMappingIndexForIframe,cancelInReplyToOnDestroy$28q8:cancelInReplyToOnDestroy,sendMessage:sendMessage,createConversationId$28q8:createConversationId,unregisterMessageListener:unregisterMessageListener,sendResponse:sendResponse,isValidPreviewOrigin:isValidPreviewOrigin,getValidPreviewOrigins$28q8:getValidPreviewOrigins,getTargetOrigin:getTargetOrigin,setValidPreviewOrigins:setValidPreviewOrigins,
getWindowListeners:getWindowListeners,getInReplyToIds:getInReplyToIds,getInReplyToListeners:getInReplyToListeners,statics:{MESSAGE_LISTENERS_LIMIT:100,initMessageService:initMessageService$static,resolvePostMessage:resolvePostMessage$static},requires:["Ext","Ext.JSON","com.coremedia.cap.common.SESSION","com.coremedia.cms.editor.sdk.IMessageService","com.coremedia.ui.data.impl.BeanFactoryImpl","com.coremedia.ui.logging.Logger","com.coremedia.ui.util.ObjectUtils","net.jangaroo.net.URIUtils"],uses:["com.coremedia.cms.editor.sdk.messageService"]}});Ext.define("com.coremedia.cms.editor.sdk.EditorPlugin",function(EditorPlugin){return{}});Ext.define("com.coremedia.cms.editor.sdk.RemoteErrorHandlers",function(RemoteErrorHandlers){function RemoteErrorHandlers$(){}function showError$static(title,text,callback){com.coremedia.cms.editor.sdk.util.MessageBoxUtilInternal.show(title,text,Ext.window.MessageBox.ERROR,Ext.window.MessageBox.OK,callback,true,true)}function handleContentWriteError$static(error,source){var content;if(AS3.is(source,com.coremedia.cap.content.Content))content=AS3.as(source,com.coremedia.cap.content.Content);else if(AS3.is(source,
com.coremedia.cap.content.impl.ContentMethod))content=AS3.as(source["content"],com.coremedia.cap.content.Content);else if(AS3.is(source,com.coremedia.cap.content.impl.ContentStructRemoteBeanImpl)){var contentStruct=AS3.as(source,com.coremedia.cap.content.impl.ContentStructRemoteBeanImpl);content=contentStruct.getContent()}var afterHandle=error.willHandle();var callback=makeErrorCallback$static(content,error,afterHandle);if(callback){if(content)content.invalidate(callback);else callback();error.setHandled(true)}else afterHandle()}
function makeErrorCallback$static(content,error,afterHandle){var callback=null;switch(error.errorCode){case com.coremedia.cap.content.ContentErrorCodes.BLOB_MIME_CONTENT_TYPE_MISMATCH:callback=function(content){showError$static(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","Blob_uploadError_title"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","Blob_uploadError_wrongType"),afterHandle)};break;case com.coremedia.cap.content.ContentErrorCodes.CHECKED_OUT_BY_OTHER:callback=
function(content){var usernameExpression=com.coremedia.ui.data.ValueExpressionFactory.create("editor.name",content);usernameExpression.loadValue(function(newValue){showError$static(Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors","checkedOutByOther_title"),newValue),Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors","checkedOutByOther_message"),newValue),afterHandle)})};break;
case com.coremedia.cap.content.ContentErrorCodes.LOCKED_BY_WORKFLOW:callback=function(content){var workflowContentService=com.coremedia.cap.common.SESSION.getConnection().getWorkflowRepository().getWorkflowContentService();workflowContentService.invalidateLocking(content);com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showError(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors","Workflow_content_locked_warning_title"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors",
"Workflow_content_locked_warning_message"),afterHandle)};break;case com.coremedia.cap.content.ContentErrorCodes.DUPLICATE_NAME:callback=function(content){showError$static(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors","duplicateName_title"),Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors","duplicateName_message"),content.getName()),afterHandle)};break;case com.coremedia.cap.content.ContentErrorCodes.INVALID_NAME:callback=
function(content){showError$static(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors","invalidName_title"),Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors","invalidName_message")),afterHandle)};break;case com.coremedia.cap.content.ContentErrorCodes.INVALID_XML_PROPERTY_VALUE:callback=function(content){showError$static(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors",
"invalidXmlPropertyValue_title"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors","invalidXmlPropertyValue_message"),afterHandle)};break;case com.coremedia.cap.content.ContentErrorCodes.MAX_CARDINALITY_EXCEEDED:callback=function(content){showError$static(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors","maxCardinalityValue_title"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors",
"maxCardinalityValue_message"),afterHandle)};break;case com.coremedia.cap.content.ContentErrorCodes.NOT_AUTHORIZED:callback=function(content){showError$static(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors","notAuthorized_title"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors","notAuthorized_message"),afterHandle)};break;case com.coremedia.cap.content.ContentErrorCodes.STRING_TOO_LONG:callback=function(content){showError$static(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors",
"stringTooLong_title"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors","stringTooLong_message"),afterHandle)};break;case com.coremedia.cap.common.CapErrorCodes.NOT_VALID:callback=function(content){error.setHandled(true);afterHandle();RemoteErrorHandlers.showIssues(AS3.cast(com.coremedia.cap.content.IssuesDetectedError,error))};break;default:com.coremedia.ui.logging.Logger.warn(RemoteErrorHandlers+": don't know how to handle "+error+" raised for "+content)}if(!callback&&
error.status===409)callback=function(content){var title=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors","dataTooOld_title");var text=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors","dataTooOld_message");if(error.errorCode===com.coremedia.cap.content.ContentErrorCodes.MARKED_FOR_DELETION){title=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors","markedForDeletion_title");
text=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors","markedForDeletion_message")}showError$static(title,text,afterHandle)};return callback}function showIssues$static(error){var issues=error.issues;var severity=com.coremedia.cms.editor.sdk.validation.ValidationUtil.computeMaximumSeverity(issues);if(severity===com.coremedia.ui.data.validation.Severity.INFO)return;var key="IssuesDetectedWindow_header_"+severity.toLowerCase()+"_text";var intro=mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor",
key);var texts=issues.map(com.coremedia.cms.editor.sdk.validation.ValidationUtil.formatText).map(com.coremedia.ui.util.EncodingUtil.encodeForHTML);if(issues.length>1){texts=texts.map(function(line){return"\x3cli\x3e"+line+"\x3c/li\x3e"});texts.splice(0,0,mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","IssuesDetectedWindow_multiMessagePrefix_text"));texts.splice(0,0,'\x3cul class\x3d"issues-list"\x3e');texts.push("\x3c/ul\x3e")}else texts.splice(0,0,mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor",
"IssuesDetectedWindow_singleMessagePrefix_text"));texts.splice(0,0,"\x3cp\x3e"+intro+"\x3c/p\x3e");com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showError(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","IssuesDetectedWindow_title"),texts.join(" "),null,false)}function handleSessionLost$static(error,source){if(arguments.length<=1)source=null;var status=error.status;if((status===401||status===403)&&com.coremedia.ui.data.impl.RemoteService.HTTP_ERROR===error.errorName){com.coremedia.cms.editor.sdk.util.MessageBoxUtilInternal.show(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors",
"sessionClosed_title"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors","sessionClosed_message"),Ext.window.MessageBox.ERROR,{ok:mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors","sessionClosed_button")},function(){com.coremedia.cap.common.SESSION.close();com.coremedia.ui.util.WindowUtil.forceReload()});error.setHandled(true)}}function defaultErrorHandler$static(error,source){if(error.status>=500||error.status===
0)if(!com.coremedia.ui.util.UrlUtil.getHashParam("hideGenericError"))showError$static(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors","generalError_title"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors","generalError_message"));com.coremedia.ui.logging.Logger.error("handling "+error+" raised by source "+source)}function registerRemoteErrorHandlers$static(registry){com.coremedia.ui.logging.Logger.debug(RemoteErrorHandlers+
": registering handlers");registry.registerWriteErrorHandler(handleContentWriteError$static);registry.registerErrorHandler(RemoteErrorHandlers.handleSessionLost);registry.registerErrorHandler(defaultErrorHandler$static,true)}return{constructor:RemoteErrorHandlers$,statics:{showIssues:showIssues$static,handleSessionLost:handleSessionLost$static,registerRemoteErrorHandlers:registerRemoteErrorHandlers$static},requires:["Ext.String","Ext.window.MessageBox","com.coremedia.cap.common.CapErrorCodes","com.coremedia.cap.common.SESSION",
"com.coremedia.cap.content.Content","com.coremedia.cap.content.ContentErrorCodes","com.coremedia.cap.content.IssuesDetectedError","com.coremedia.cap.content.impl.ContentMethod","com.coremedia.cap.content.impl.ContentStructRemoteBeanImpl","com.coremedia.cms.editor.EditorErrors_properties","com.coremedia.cms.editor.Editor_properties","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.impl.RemoteService","com.coremedia.ui.data.validation.Severity","com.coremedia.ui.logging.Logger",
"com.coremedia.ui.util.EncodingUtil","com.coremedia.ui.util.UrlUtil","com.coremedia.ui.util.WindowUtil","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.util.MessageBoxUtil","com.coremedia.cms.editor.sdk.util.MessageBoxUtilInternal","com.coremedia.cms.editor.sdk.validation.ValidationUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.ContentTreeRelationProvider",function(ContentTreeRelationProvider){function getContentTreeRelation$static(){var selection=AS3.as(com.coremedia.cms.editor.sdk.editorContext,com.coremedia.cms.editor.sdk.EditorContextImpl).getCollectionViewModel().getMainStateBean().get(com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel.FOLDER_PROPERTY);if(selection){var collectionViewExtender=com.coremedia.cms.editor.sdk.editorContext.getCollectionViewExtender();
var collectionViewExtension=collectionViewExtender.getExtension(selection);if(collectionViewExtension===undefined)return undefined;if(!collectionViewExtension)return null;return collectionViewExtension.getContentTreeRelation()}throw new AS3.Error("No folder selection found in library that can be used to determine the tree relation");}function ContentTreeRelationProvider$(){}return{constructor:ContentTreeRelationProvider$,statics:{getContentTreeRelation:getContentTreeRelation$static},requires:["AS3.Error"],
uses:["com.coremedia.cms.editor.sdk.EditorContextImpl","com.coremedia.cms.editor.sdk.collectionview.CollectionViewModel","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.sdk.RepositoryContentTreeRelation",function(RepositoryContentTreeRelation){var CONTENT_TYPE_DOCUMENT$static="Document_";var CONTENT_TYPE_FOLDER$static="Folder_";function RepositoryContentTreeRelation$(){}function folderNodeType(){return CONTENT_TYPE_FOLDER$static}function leafNodeType(){return CONTENT_TYPE_DOCUMENT$static}function isFolderNode(content){return content.isFolder()}function getParent(content){return content.getParent()}function getParents(content){var parent=
this.getParent(content);return parent?[parent]:[]}function getSubFolders(content){return content.getSubFolders()}function getLeafContent(content){return content.getChildDocuments()}function mayCreate(folder,contentType){if(contentType.getName()===undefined)return undefined;if(folder.getType()===undefined)return undefined;if(folder.getType().getName()===undefined)return undefined;return folder.getType().getName()===CONTENT_TYPE_FOLDER$static}function mayCopy(sources,newParent){if(!newParent.isFolder())return false;
var accessControl=com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getAccessControl();if(!accessControl.mayCopy(sources,newParent))return false;return!com.coremedia.cms.editor.sdk.util.PropertyEditorUtil.isReadOnly(newParent)}function copy(sources,newParent,callback){var contentRepository=com.coremedia.cap.common.SESSION.getConnection().getContentRepository();contentRepository.copyRecursivelyTo(sources,newParent,callback)}function mayMove(sources,newParent){if(sources.some(function(content){return content.getParent()===
null}))return false;if(!newParent)return true;if(!newParent.isFolder())return false;var accessControl=com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getAccessControl();if(!accessControl.mayMove(sources,newParent))return false;for(var i=0;i<sources.length;i++){var source=sources[i];if(com.coremedia.cap.common.IdHelper.parseContentId(source)===com.coremedia.cap.common.IdHelper.parseContentId(newParent))return false;var parent=this.getParent(source);if(!parent||com.coremedia.cap.common.IdHelper.parseContentId(parent)===
com.coremedia.cap.common.IdHelper.parseContentId(newParent))return false;var targetParent=this.getParent(newParent);while(targetParent){if(com.coremedia.cap.common.IdHelper.parseContentId(targetParent)===com.coremedia.cap.common.IdHelper.parseContentId(source))return false;targetParent=this.getParent(targetParent)}}return!com.coremedia.cms.editor.sdk.util.PropertyEditorUtil.isReadOnly(newParent)}function move(sources,newParent,callback){var contentRepository=com.coremedia.cap.common.SESSION.getConnection().getContentRepository();
contentRepository.moveTo(sources,newParent,function(moveResult){if(!moveResult.successful){var moveResultWindowCfg=AS3.cast(com.coremedia.cms.editor.sdk.bulkOperation.MoveResultWindow,{});AS3.setBindable(moveResultWindowCfg,"bulkResultItems",moveResult.results);(new com.coremedia.cms.editor.sdk.bulkOperation.MoveResultWindow(moveResultWindowCfg)).show()}else if(callback)callback(moveResult)})}function deleteContents(contents,callback){var content=contents[0];content.getRepository().deleteAll(contents,
callback)}function undeleteContents(contents,callback){(new com.coremedia.cap.content.impl.BulkUndeleteMethod(contents[0].getRepository(),contents,callback)).execute()}function mayDelete(contents){return true}function addChildNeedsFolderCheckout(folder,childType){return false}function showCheckoutError(target){throw new AS3.Error("operation not supportet - no checkout needed for repository tree operations");}function addChildNodes(treeParent,sources,callback){callback()}function provideRepositoryFolderFor(contentType,
folderNode,name,callback){callback(folderNode)}function rename(content,newName,callback){if(arguments.length<=2)callback=null;if(content&&content.isFolder())content.load(function(){if(content.getChildren().length>0&&content.getName()!==newName)showConfirmationMessageBox$static(doRename);else doRename()});else doRename();function doRename(){content.rename(newName,callback)}}function showConfirmationMessageBox$static(onSuccess){com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showConfirmation(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor",
"dialog_confirmFolderRenameTitle_text"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","dialog_confirmFolderRenameMessage_text"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","dialog_confirmFolderRenameOkButtonText_text"),function(btn){if("ok"===btn)onSuccess()})}function withdraw(contents,publicationService,callback){publicationService.withdrawAll(contents,callback)}function showInTree(contents,view,treeModelId){switch(Math.max(arguments.length,
1)){case 1:view=null;case 2:treeModelId=null}com.coremedia.cms.editor.sdk.editorContext.getCollectionViewManager().showInRepository(contents[0],view)}return{mixins:["com.coremedia.cms.editor.sdk.ContentTreeRelation"],constructor:RepositoryContentTreeRelation$,folderNodeType:folderNodeType,leafNodeType:leafNodeType,isFolderNode:isFolderNode,getParent:getParent,getParents:getParents,getSubFolders:getSubFolders,getLeafContent:getLeafContent,mayCreate:mayCreate,mayCopy:mayCopy,copy:copy,mayMove:mayMove,
move:move,deleteContents:deleteContents,undeleteContents:undeleteContents,mayDelete:mayDelete,addChildNeedsFolderCheckout:addChildNeedsFolderCheckout,showCheckoutError:showCheckoutError,addChildNodes:addChildNodes,provideRepositoryFolderFor:provideRepositoryFolderFor,rename:rename,withdraw:withdraw,showInTree:showInTree,requires:["AS3.Error","com.coremedia.cap.common.IdHelper","com.coremedia.cap.common.SESSION","com.coremedia.cap.content.impl.BulkUndeleteMethod","com.coremedia.cms.editor.Editor_properties",
"com.coremedia.cms.editor.sdk.ContentTreeRelation","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.sdk.bulkOperation.MoveResultWindow","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.util.MessageBoxUtil","com.coremedia.cms.editor.sdk.util.PropertyEditorUtil"]}});Ext.define("com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames",function(EditorComponentsPreferencesPropertyNames){function EditorComponentsPreferencesPropertyNames$(){}return{constructor:EditorComponentsPreferencesPropertyNames$,statics:{PREFERRED_SITE:"preferredSite",DASHBOARD_STRUCT:"dashboard",DASHBOARD_STRUCT_WIDGETS:"widgets",WORK_AREA_STRUCT:"workarea",WORK_AREA_STRUCT_TABS:"tabs",WORK_AREA_STRUCT_ACTIVE_TAB_INDEX:"activeTabIndex",USER_MENU_SUBSTRUCT:"userMenu",DISABLE_SITE_NAME:"disableSiteName",
DISABLE_SITE_LOCALE:"disableSiteLocale",DISABLE_USER_NAME:"disableUserName",DISABLE_PREVIEW_HOVER_FRAMES:"disablePreviewHoverFrames",ENABLE_PREVIEW_SCROLLBARS:"enablePreviewScrollbars",SHOW_ALL_TABS_IN_FORM:"showAllTabsInForm",PREVIEW_RELOAD_DELAY:"previewReloadDelay"}}});Ext.define("com.coremedia.cms.editor.sdk.TabManager",function(TabManager){return{}});Ext.define("com.coremedia.cms.editor.configuration.EnableDisapproveAddCollectionSearchContextMenuItemsPlugin",function(EnableDisapproveAddCollectionSearchContextMenuItemsPlugin){function __initialize__(config){this.componentConfig$iqGi=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.CollectionSearchContextMenu,AS3.getBindable(config,"cmp","DUMMY").initialConfig)}function EnableDisapproveAddCollectionSearchContextMenuItemsPlugin$(config){if(arguments.length<=0)config=null;this.__initialize__$iqGi(config);
var config_$1=AS3.cast(com.coremedia.ui.plugins.AddItemsPlugin,{});var defaults_$1=AS3.cast(EnableDisapproveAddCollectionSearchContextMenuItemsPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var menuItem_23_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_23_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.CollectionSearchContextMenu.DISAPPROVE_MENU_ITEM_ID);var editor_DisapproveAction_25_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.DisapproveAction,
{});AS3.setBindable(editor_DisapproveAction_25_9_$1,"contentValueExpression",this.componentConfig$iqGi.selectedItemsValueExpression);menuItem_23_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.DisapproveAction(editor_DisapproveAction_25_9_$1);AS3.setBindable(config_$1,"items",[menuItem_23_5_$1]);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$iqGi(config_$1)}return{extend:"com.coremedia.ui.plugins.AddItemsPlugin",componentConfig$iqGi:null,__initialize__$iqGi:__initialize__,constructor:EnableDisapproveAddCollectionSearchContextMenuItemsPlugin$,
super$iqGi:function(){com.coremedia.ui.plugins.AddItemsPlugin.prototype.constructor.apply(this,arguments)},requires:["Ext.menu.Item","com.coremedia.ui.plugins.AddItemsPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.actions.DisapproveAction","com.coremedia.cms.editor.sdk.collectionview.CollectionSearchContextMenu"]}});Ext.define("com.coremedia.cms.editor.configuration.AddParameterPreviewUrlTransformerBase",function(AddParameterPreviewUrlTransformerBase){function AddParameterPreviewUrlTransformerBase$(config){if(arguments.length<=0)config=null;this.config$OGoz=config}function postProcessPreviewUrl(url,callback){url.setParameter(AS3.getBindable(this.config$OGoz,"name"),AS3.getBindable(this.config$OGoz,"value"));callback()}return{mixins:["com.coremedia.cms.editor.configuration.PreviewUrlTransformer"],config$OGoz:null,
constructor:AddParameterPreviewUrlTransformerBase$,postProcessPreviewUrl:postProcessPreviewUrl,requires:["com.coremedia.cms.editor.configuration.PreviewUrlTransformer"]}});Ext.define("com.coremedia.cms.editor.configuration.ConfigureDocumentTypes",function(ConfigureDocumentTypes){function ConfigureDocumentTypes$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.configuration.ConfigureDocumentTypesBase,{});var defaults_$1=AS3.cast(ConfigureDocumentTypes,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$$Fys(config_$1)}return{extend:"com.coremedia.cms.editor.configuration.ConfigureDocumentTypesBase",
metadata:{"":["PublicApi"]},constructor:ConfigureDocumentTypes$,super$$Fys:function(){com.coremedia.cms.editor.configuration.ConfigureDocumentTypesBase.prototype.constructor.apply(this,arguments)},config:{names:null,imageProperty:null,richTextImageBlobProperty:null,richTextLinkable:false,exclude:false,excludeFromSearch:false,hideInReferrers:false,preview:false,previewUrlTransformers:null,mayPreview:null,mayCreate:null,includeSubtypes:false},requires:["com.coremedia.cms.editor.configuration.ConfigureDocumentTypesBase",
"net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.configuration.RegisterLibraryTreeFilter",function(RegisterLibraryTreeFilter){function RegisterLibraryTreeFilter$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.configuration.RegisterLibraryTreeFilterBase,{});var defaults_$1=AS3.cast(RegisterLibraryTreeFilter,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$15fG(config_$1)}return{extend:"com.coremedia.cms.editor.configuration.RegisterLibraryTreeFilterBase",
constructor:RegisterLibraryTreeFilter$,super$15fG:function(){com.coremedia.cms.editor.configuration.RegisterLibraryTreeFilterBase.prototype.constructor.apply(this,arguments)},config:{filter:null},requires:["com.coremedia.cms.editor.configuration.RegisterLibraryTreeFilterBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.configuration.EnableDisapproveAddCollectionRepositoryContextMenuItemsPlugin",function(EnableDisapproveAddCollectionRepositoryContextMenuItemsPlugin){function __initialize__(config){this.componentConfig$fEpE=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.CollectionRepositoryContextMenu,AS3.getBindable(config,"cmp","DUMMY").initialConfig)}function EnableDisapproveAddCollectionRepositoryContextMenuItemsPlugin$(config){if(arguments.length<=0)config=null;this.__initialize__$fEpE(config);
var config_$1=AS3.cast(com.coremedia.ui.plugins.AddItemsPlugin,{});var defaults_$1=AS3.cast(EnableDisapproveAddCollectionRepositoryContextMenuItemsPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var menuItem_23_5_$1=AS3.cast(Ext.menu.Item,{});menuItem_23_5_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.CollectionRepositoryContextMenu.DISAPPROVE_MENU_ITEM_ID);var editor_DisapproveAction_25_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.DisapproveAction,
{});AS3.setBindable(editor_DisapproveAction_25_9_$1,"contentValueExpression",this.componentConfig$fEpE.selectedItemsValueExpression);menuItem_23_5_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.DisapproveAction(editor_DisapproveAction_25_9_$1);AS3.setBindable(config_$1,"items",[menuItem_23_5_$1]);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$fEpE(config_$1)}return{extend:"com.coremedia.ui.plugins.AddItemsPlugin",componentConfig$fEpE:null,__initialize__$fEpE:__initialize__,constructor:EnableDisapproveAddCollectionRepositoryContextMenuItemsPlugin$,
super$fEpE:function(){com.coremedia.ui.plugins.AddItemsPlugin.prototype.constructor.apply(this,arguments)},requires:["Ext.menu.Item","com.coremedia.ui.plugins.AddItemsPlugin","net.jangaroo.ext.Exml"],uses:["com.coremedia.cms.editor.sdk.actions.DisapproveAction","com.coremedia.cms.editor.sdk.collectionview.CollectionRepositoryContextMenu"]}});Ext.define("com.coremedia.cms.editor.configuration.PreviewUrlTransformer",function(PreviewUrlTransformer){return{}});Ext.define("com.coremedia.cms.editor.configuration.CopyResourceBundleProperties",function(CopyResourceBundleProperties){function CopyResourceBundleProperties$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.configuration.CopyResourceBundlePropertiesBase,{});var defaults_$1=AS3.cast(CopyResourceBundleProperties,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Xmts(config_$1)}return{extend:"com.coremedia.cms.editor.configuration.CopyResourceBundlePropertiesBase",
metadata:{"":["PublicApi"]},constructor:CopyResourceBundleProperties$,super$Xmts:function(){com.coremedia.cms.editor.configuration.CopyResourceBundlePropertiesBase.prototype.constructor.apply(this,arguments)},config:{source:null,destination:null},requires:["com.coremedia.cms.editor.configuration.CopyResourceBundlePropertiesBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.configuration.AddDependingParameterPreviewUrlTransformer",function(AddDependingParameterPreviewUrlTransformer){function AddDependingParameterPreviewUrlTransformer$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.configuration.AddDependingParameterPreviewUrlTransformerBase,{});var defaults_$1=AS3.cast(AddDependingParameterPreviewUrlTransformer,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$IRRy(config_$1)}return{extend:"com.coremedia.cms.editor.configuration.AddDependingParameterPreviewUrlTransformerBase",metadata:{"":["PublicApi"]},constructor:AddDependingParameterPreviewUrlTransformer$,super$IRRy:function(){com.coremedia.cms.editor.configuration.AddDependingParameterPreviewUrlTransformerBase.prototype.constructor.apply(this,arguments)},config:{valueExpression:null,name:null},requires:["com.coremedia.cms.editor.configuration.AddDependingParameterPreviewUrlTransformerBase",
"net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.configuration.AddParameterPreviewUrlTransformer",function(AddParameterPreviewUrlTransformer){function AddParameterPreviewUrlTransformer$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.configuration.AddParameterPreviewUrlTransformerBase,{});var defaults_$1=AS3.cast(AddParameterPreviewUrlTransformer,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$2bVC(config_$1)}
return{extend:"com.coremedia.cms.editor.configuration.AddParameterPreviewUrlTransformerBase",metadata:{"":["PublicApi"]},constructor:AddParameterPreviewUrlTransformer$,super$2bVC:function(){com.coremedia.cms.editor.configuration.AddParameterPreviewUrlTransformerBase.prototype.constructor.apply(this,arguments)},config:{name:null,value:null},requires:["com.coremedia.cms.editor.configuration.AddParameterPreviewUrlTransformerBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.configuration.EnableDisapprovePlugin",function(EnableDisapprovePlugin){function EnableDisapprovePlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.configuration.StudioPlugin,{});var defaults_$1=AS3.cast(EnableDisapprovePlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var editor_ActionsToolbar_29_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.desktop.ActionsToolbar,{});var ui_AddItemsPlugin_31_9_$1=AS3.cast(com.coremedia.ui.plugins.AddItemsPlugin,
{});var button_33_13_$1=AS3.cast(Ext.button.Button,{});button_33_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.desktop.ActionsToolbar.DISAPPROVE_BUTTON_ITEM_ID);var editor_DisapproveAction_35_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.DisapproveAction,{});AS3.setBindable(editor_DisapproveAction_35_17_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.desktop.ActionsToolbar.CONTENT_VARIABLE_NAME));button_33_13_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.DisapproveAction(editor_DisapproveAction_35_17_$1);
AS3.setBindable(ui_AddItemsPlugin_31_9_$1,"items",[button_33_13_$1]);var component_40_13_$1=AS3.cast(Ext.Component,{});component_40_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.desktop.ActionsToolbar.CHECK_IN_BUTTON_ITEM_ID);var component_41_13_$1=AS3.cast(Ext.Component,{});component_41_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.desktop.ActionsToolbar.REVERT_BUTTON_ITEM_ID);var component_42_13_$1=AS3.cast(Ext.Component,{});component_42_13_$1.itemId=
net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.desktop.ActionsToolbar.APPROVE_BUTTON_ITEM_ID);AS3.setBindable(ui_AddItemsPlugin_31_9_$1,"after",[component_40_13_$1,component_41_13_$1,component_42_13_$1]);editor_ActionsToolbar_29_5_$1.plugins=[ui_AddItemsPlugin_31_9_$1];var editor_CollectionRepositoryContextMenu_48_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.CollectionRepositoryContextMenu,{});var local_EnableDisapproveAddCollectionRepositoryContextMenuItemsPlugin_50_9_$1=
AS3.cast(com.coremedia.cms.editor.configuration.EnableDisapproveAddCollectionRepositoryContextMenuItemsPlugin,{});editor_CollectionRepositoryContextMenu_48_5_$1.plugins=[local_EnableDisapproveAddCollectionRepositoryContextMenuItemsPlugin_50_9_$1];var editor_TreeViewContextMenu_54_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.tree.TreeViewContextMenu,{});var ui_AddItemsPlugin_56_9_$1=AS3.cast(com.coremedia.ui.plugins.AddItemsPlugin,{});var menuItem_58_13_$1=AS3.cast(Ext.menu.Item,{});menuItem_58_13_$1.itemId=
net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.tree.TreeViewContextMenu.DISAPPROVE_MENU_ITEM_ID);var editor_DisapproveAction_60_17_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.DisapproveAction,{});AS3.setBindable(editor_DisapproveAction_60_17_$1,"contentVariableName",net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.CollectionView.SELECTED_FOLDER_VARIABLE_NAME));menuItem_58_13_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.DisapproveAction(editor_DisapproveAction_60_17_$1);
AS3.setBindable(ui_AddItemsPlugin_56_9_$1,"items",[menuItem_58_13_$1]);var component_65_13_$1=AS3.cast(Ext.Component,{});component_65_13_$1.itemId=net.jangaroo.ext.Exml.asString(com.coremedia.cms.editor.sdk.collectionview.tree.TreeViewContextMenu.APPROVE_MENU_ITEM_ID);AS3.setBindable(ui_AddItemsPlugin_56_9_$1,"after",[component_65_13_$1]);editor_TreeViewContextMenu_54_5_$1.plugins=[ui_AddItemsPlugin_56_9_$1];var editor_CollectionSearchContextMenu_71_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.collectionview.CollectionSearchContextMenu,
{});var local_EnableDisapproveAddCollectionSearchContextMenuItemsPlugin_73_9_$1=AS3.cast(com.coremedia.cms.editor.configuration.EnableDisapproveAddCollectionSearchContextMenuItemsPlugin,{});editor_CollectionSearchContextMenu_71_5_$1.plugins=[local_EnableDisapproveAddCollectionSearchContextMenuItemsPlugin_73_9_$1];AS3.setBindable(config_$1,"rules",[editor_ActionsToolbar_29_5_$1,editor_CollectionRepositoryContextMenu_48_5_$1,editor_TreeViewContextMenu_54_5_$1,editor_CollectionSearchContextMenu_71_5_$1]);
net.jangaroo.ext.Exml.apply(config_$1,config);this.super$$uCJ(config_$1)}return{extend:"com.coremedia.cms.editor.configuration.StudioPlugin",metadata:{"":["PublicApi"]},constructor:EnableDisapprovePlugin$,super$$uCJ:function(){com.coremedia.cms.editor.configuration.StudioPlugin.prototype.constructor.apply(this,arguments)},requires:["Ext.Component","Ext.button.Button","Ext.menu.Item","com.coremedia.cms.editor.configuration.StudioPlugin","com.coremedia.ui.plugins.AddItemsPlugin","net.jangaroo.ext.Exml"],
uses:["com.coremedia.cms.editor.configuration.EnableDisapproveAddCollectionRepositoryContextMenuItemsPlugin","com.coremedia.cms.editor.configuration.EnableDisapproveAddCollectionSearchContextMenuItemsPlugin","com.coremedia.cms.editor.sdk.actions.DisapproveAction","com.coremedia.cms.editor.sdk.collectionview.CollectionRepositoryContextMenu","com.coremedia.cms.editor.sdk.collectionview.CollectionSearchContextMenu","com.coremedia.cms.editor.sdk.collectionview.CollectionView","com.coremedia.cms.editor.sdk.collectionview.tree.TreeViewContextMenu",
"com.coremedia.cms.editor.sdk.desktop.ActionsToolbar"]}});Ext.define("com.coremedia.cms.editor.configuration.RegisterRestResourceBase",function(RegisterRestResourceBase){function RegisterRestResourceBase$(config){if(arguments.length<=0)config=null;this.config$$mEK=config}function init(editorContext){AS3.cast(com.coremedia.ui.data.impl.BeanFactoryImpl,editorContext.getBeanFactory()).registerRemoteBeanClass(AS3.getBindable(this.config$$mEK,"beanClass"))}return{mixins:["com.coremedia.cms.editor.sdk.EditorPlugin"],config$$mEK:null,constructor:RegisterRestResourceBase$,
init:init,requires:["com.coremedia.cms.editor.sdk.EditorPlugin","com.coremedia.ui.data.impl.BeanFactoryImpl"]}});Ext.define("com.coremedia.cms.editor.configuration.RegisterLibraryTreeFilterBase",function(RegisterLibraryTreeFilterBase){function RegisterLibraryTreeFilterBase$(config){if(arguments.length<=0)config=null;this.config$pYr1=config}function init(editorContext){var collectionViewManagerInternal=AS3.as(editorContext.getCollectionViewManager(),com.coremedia.cms.editor.sdk.collectionview.CollectionViewManagerInternal);collectionViewManagerInternal.addTreeFilter(AS3.getBindable(this.config$pYr1,"filter"))}
return{mixins:["com.coremedia.cms.editor.sdk.EditorPlugin"],config$pYr1:null,constructor:RegisterLibraryTreeFilterBase$,init:init,requires:["com.coremedia.cms.editor.sdk.EditorPlugin"],uses:["com.coremedia.cms.editor.sdk.collectionview.CollectionViewManagerInternal"]}});Ext.define("com.coremedia.cms.editor.configuration.ConfigureDefaultRichTextImageDocumentType",function(ConfigureDefaultRichTextImageDocumentType){function ConfigureDefaultRichTextImageDocumentType$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.configuration.ConfigureDefaultRichTextImageDocumentTypeBase,{});var defaults_$1=AS3.cast(ConfigureDefaultRichTextImageDocumentType,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,
config);this.super$Z6rk(config_$1)}return{extend:"com.coremedia.cms.editor.configuration.ConfigureDefaultRichTextImageDocumentTypeBase",metadata:{"":["PublicApi"]},constructor:ConfigureDefaultRichTextImageDocumentType$,super$Z6rk:function(){com.coremedia.cms.editor.configuration.ConfigureDefaultRichTextImageDocumentTypeBase.prototype.constructor.apply(this,arguments)},config:{defaultRichTextImageType:null},requires:["com.coremedia.cms.editor.configuration.ConfigureDefaultRichTextImageDocumentTypeBase",
"net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.configuration.RegisterRestResource",function(RegisterRestResource){function RegisterRestResource$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.configuration.RegisterRestResourceBase,{});var defaults_$1=AS3.cast(RegisterRestResource,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$wr8Z(config_$1)}return{extend:"com.coremedia.cms.editor.configuration.RegisterRestResourceBase",
constructor:RegisterRestResource$,super$wr8Z:function(){com.coremedia.cms.editor.configuration.RegisterRestResourceBase.prototype.constructor.apply(this,arguments)},config:{beanClass:null},requires:["com.coremedia.cms.editor.configuration.RegisterRestResourceBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.configuration.StudioPlugin",function(StudioPlugin){function StudioPlugin$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.cms.editor.configuration.StudioPluginBase,{});var defaults_$1=AS3.cast(StudioPlugin,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$5SQ7(config_$1)}return{extend:"com.coremedia.cms.editor.configuration.StudioPluginBase",metadata:{"":["PublicApi"]},
constructor:StudioPlugin$,super$5SQ7:function(){com.coremedia.cms.editor.configuration.StudioPluginBase.prototype.constructor.apply(this,arguments)},config:{configuration:null},requires:["com.coremedia.cms.editor.configuration.StudioPluginBase","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.cms.editor.configuration.StudioPluginBase",function(StudioPluginBase){function StudioPluginBase$(config){if(arguments.length<=0)config=null;this.super$KANu(config);this.configuration$KANu=AS3.getBindable(config,"configuration")||[]}function init(editorContext){for(var i=0;i<this.configuration$KANu.length;i++){var editorPlugin=AS3.as(this.configuration$KANu[i],com.coremedia.cms.editor.sdk.EditorPlugin);if(!editorPlugin)throw new AS3.Error("\x3ceditor:studioPlugin\x3e\x3ceditor:configuration\x3e must contain EditorPlugins, not "+
this.configuration$KANu[i]);editorPlugin.init(editorContext)}}return{extend:"com.coremedia.ui.PluginRules",mixins:["com.coremedia.cms.editor.sdk.EditorPlugin"],metadata:{"":["PublicApi"]},configuration$KANu:null,constructor:StudioPluginBase$,super$KANu:function(){com.coremedia.ui.PluginRules.prototype.constructor.apply(this,arguments)},init:init,requires:["AS3.Error","com.coremedia.cms.editor.sdk.EditorPlugin","com.coremedia.ui.PluginRules"]}});Ext.define("com.coremedia.cms.editor.configuration.AddDependingParameterPreviewUrlTransformerBase",function(AddDependingParameterPreviewUrlTransformerBase){function AddDependingParameterPreviewUrlTransformerBase$(config){if(arguments.length<=0)config=null;this.config$VLFj=config}function postProcessPreviewUrl(url,callback){var value=AS3.getBindable(this.config$VLFj,"valueExpression")&&AS3.as(AS3.getBindable(this.config$VLFj,"valueExpression").getValue(),String);url.setParameter(AS3.getBindable(this.config$VLFj,
"name"),value);callback()}return{mixins:["com.coremedia.cms.editor.configuration.PreviewUrlTransformer"],config$VLFj:null,constructor:AddDependingParameterPreviewUrlTransformerBase$,postProcessPreviewUrl:postProcessPreviewUrl,requires:["com.coremedia.cms.editor.configuration.PreviewUrlTransformer"]}});Ext.define("com.coremedia.cms.editor.configuration.ConfigureDefaultRichTextImageDocumentTypeBase",function(ConfigureDefaultRichTextImageDocumentTypeBase){function ConfigureDefaultRichTextImageDocumentTypeBase$(config){if(arguments.length<=0)config=null;this.defaultRichTextImageType$ku5V=AS3.getBindable(config,"defaultRichTextImageType")}function init(editorContext){editorContext.setDefaultRichTextImageDocumentType(this.defaultRichTextImageType$ku5V)}return{mixins:["com.coremedia.cms.editor.sdk.EditorPlugin"],
metadata:{"":["PublicApi"]},defaultRichTextImageType$ku5V:null,constructor:ConfigureDefaultRichTextImageDocumentTypeBase$,init:init,requires:["com.coremedia.cms.editor.sdk.EditorPlugin"]}});Ext.define("com.coremedia.cms.editor.configuration.CopyResourceBundlePropertiesBase",function(CopyResourceBundlePropertiesBase){function CopyResourceBundlePropertiesBase$(config){if(arguments.length<=0)config=null;this.config$uftd=config}function init(editorContext){com.coremedia.ui.i18n.ResourceBundle.overrideProperties(AS3.getBindable(this.config$uftd,"destination"),AS3.getBindable(this.config$uftd,"source"))}return{mixins:["com.coremedia.cms.editor.sdk.EditorPlugin"],config$uftd:null,constructor:CopyResourceBundlePropertiesBase$,
init:init,requires:["com.coremedia.cms.editor.sdk.EditorPlugin","com.coremedia.ui.i18n.ResourceBundle"]}});Ext.define("com.coremedia.cms.editor.configuration.ConfigureDocumentTypesBase",function(ConfigureDocumentTypesBase){function ConfigureDocumentTypesBase$(config){if(arguments.length<=0)config=null;this.config$VUyd=config}function init(editorContext){this.documentTypeNames$VUyd=AS3.getBindable(this.config$VUyd,"names").split(/\s*,\s*/);for(var i=0;i<this.documentTypeNames$VUyd.length;i++)this.configureDocumentType(editorContext,this.documentTypeNames$VUyd[i])}function configureDocumentType(editorContext,
documentType){if(documentType){if(AS3.getBindable(this.config$VUyd,"imageProperty"))editorContext.registerImageDocumentType(documentType,AS3.getBindable(this.config$VUyd,"imageProperty"));if(AS3.getBindable(this.config$VUyd,"richTextImageBlobProperty"))editorContext.registerRichTextEmbeddableType(documentType,AS3.getBindable(this.config$VUyd,"richTextImageBlobProperty"));if(AS3.getBindable(this.config$VUyd,"richTextLinkable"))editorContext.registerRichTextLinkableType(documentType);if(AS3.getBindable(this.config$VUyd,
"exclude"))editorContext.getExcludedDocumentTypes().push(documentType);if(AS3.getBindable(this.config$VUyd,"excludeFromSearch"))editorContext.getContentTypesExcludedFromSearch().push(documentType);if(AS3.getBindable(this.config$VUyd,"hideInReferrers"))editorContext.getDocumentTypesHiddenInReferrers().push(documentType);if(AS3.getBindable(this.config$VUyd,"preview")===false)editorContext.getDocumentTypesWithoutPreview().push(documentType);if(AS3.getBindable(this.config$VUyd,"previewUrlTransformers"))AS3.getBindable(this.config$VUyd,
"previewUrlTransformers").forEach(AS3.bind(this,"registerPreviewUrlTransformer$VUyd"));if(AS3.getBindable(this.config$VUyd,"mayCreate"))AS3.as(editorContext,com.coremedia.cms.editor.sdk.EditorContextImpl).addContentCreationFilter(documentType,AS3.getBindable(this.config$VUyd,"mayCreate"));if(AS3.getBindable(this.config$VUyd,"mayPreview"))AS3.as(editorContext,com.coremedia.cms.editor.sdk.EditorContextImpl).addPreviewFilter(documentType,AS3.getBindable(this.config$VUyd,"mayPreview"))}}function registerPreviewUrlTransformer(delegate){var this$=
this;com.coremedia.cms.editor.sdk.editorContext.registerPreviewUrlTransformer(function postProcessPreviewUrl(url,callback){if(AS3.is(url.getSource(),com.coremedia.cap.content.Content))AS3.cast(com.coremedia.cap.content.Content,url.getSource()).load(function(content){if(content.getState()===com.coremedia.ui.data.BeanState.READABLE&&this$.isConfiguredRespectingSubtypes$VUyd(content.getType()))delegate.postProcessPreviewUrl(url,callback);else callback()});else callback()})}function isConfiguredRespectingSubtypes(type){if(type)for(var i=
0;i<this.documentTypeNames$VUyd.length;i++)if(this.documentTypeNames$VUyd[i]&&type.isSubtypeOf(this.documentTypeNames$VUyd[i]))return true;return false}return{mixins:["com.coremedia.cms.editor.sdk.EditorPlugin"],config$VUyd:null,documentTypeNames$VUyd:null,constructor:ConfigureDocumentTypesBase$,init:init,configureDocumentType:configureDocumentType,registerPreviewUrlTransformer$VUyd:registerPreviewUrlTransformer,isConfiguredRespectingSubtypes$VUyd:isConfiguredRespectingSubtypes,requires:["com.coremedia.cap.content.Content",
"com.coremedia.cms.editor.sdk.EditorPlugin","com.coremedia.ui.data.BeanState"],uses:["com.coremedia.cms.editor.sdk.EditorContextImpl","com.coremedia.cms.editor.sdk.editorContext"]}});Ext.define("com.coremedia.cms.editor.configuration.TreeFilter",function(TreeFilter){return{}});Ext.define("com.coremedia.cms.editor.LocalStorageProvider",function(LocalStorageProvider){function LocalStorageProvider$(){this.super$5sS7();this.readLocalStorage()}function readLocalStorage(){var this$=this;var encodedKeys=com.coremedia.ui.util.LocalStorageUtil.getItem(LocalStorageProvider.STATE_KEYS);var array=AS3.as(Ext.JSON.decode(encodedKeys),Array);if(array)array.forEach(function(key){var item=com.coremedia.ui.util.LocalStorageUtil.getItem(key);com.coremedia.ui.logging.Logger.info("restoring state "+
item+" for key "+key);this$.state[key]=Ext.JSON.decode(item)});com.coremedia.ui.logging.Logger.info("restored state "+Ext.JSON.encode(this.state))}function clear(name){if(this.state.hasOwnProperty(name)){Ext.state.Provider.prototype.clear.call(this,name);com.coremedia.ui.util.LocalStorageUtil.removeItem(name);this.saveKeys()}}function saveKeys(){var value=Ext.JSON.encode(com.coremedia.ui.util.ObjectUtils.getPropertyNames(this.state));com.coremedia.ui.logging.Logger.info("storing keys "+value);com.coremedia.ui.util.LocalStorageUtil.setItem(LocalStorageProvider.STATE_KEYS,
value)}function set(name,value){var encodedValue=Ext.JSON.encode(value);com.coremedia.ui.util.LocalStorageUtil.setItem(name,encodedValue);var mustSaveKeys=!this.state.hasOwnProperty(name);Ext.state.Provider.prototype.set.call(this,name,value);com.coremedia.ui.logging.Logger.info("stored state "+encodedValue+" for key "+name);if(mustSaveKeys)this.saveKeys()}return{extend:"Ext.state.Provider",constructor:LocalStorageProvider$,super$5sS7:function(){Ext.state.Provider.prototype.constructor.apply(this,
arguments)},readLocalStorage:readLocalStorage,clear:clear,saveKeys:saveKeys,set:set,statics:{STATE_KEYS:"__local_storage_provider_keys"},requires:["Ext.JSON","Ext.state.Provider","com.coremedia.ui.logging.Logger","com.coremedia.ui.util.LocalStorageUtil","com.coremedia.ui.util.ObjectUtils"]}});Ext.define("com.coremedia.cms.editor.EditorMain",function(EditorMain){var config$static=null;var invalidationRetrievalFailedErrorShown$static=false;function loadedPlugins$static_(){EditorMain.loadedPlugins=[]}function main$static(theConfig){if(arguments.length<=0)theConfig=null;config$static=theConfig||{};checkTestMode$static();com.coremedia.ui.util.QtipUtil.registerQtipFormatter();com.coremedia.ui.util.QtipUtil.registerQtipHider();if(com.coremedia.ui.util.testMode)Ext.tip.QuickTipManager.disable();
if(window.document.execCommand)window.document.execCommand("AutoUrlDetect",false,false);Ext.form.field.Time["prototype"]["initDate"]="2/2/2008";var orgAddListener=Ext.EventManager["addListener"];var propRe=/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate)$/;var attachingMousewheelListener=0;Ext.EventManager["addListener"]=function addListener(element,eventName,fn,scope,options){if(attachingMousewheelListener&&eventName==="unload")return;if(typeof eventName==
"object"){var o=eventName,val;for(var e in o){val=o[e];if(!propRe.test(e))if(Ext.isFunction(val))Ext.EventManager.addListener(element,e,val,o.scope,o);else Ext.EventManager.addListener(element,e,undefined,undefined,options)}}else{var incr=eventName==="mousewheel"?1:0;attachingMousewheelListener+=incr;try{orgAddListener(element,eventName,fn,scope,options)}finally{attachingMousewheelListener-=incr}}};Ext.EventManager["on"]=Ext.EventManager["addListener"];if(Ext.dom.Element)if(Ext.dom.Element["prototype"])if(Ext.isGecko)Ext.dom.Element["prototype"]["eventMap"]["mousewheel"]=
"MozMousePixelScroll";else if(Ext.isChrome||Ext.isSafari)Ext.dom.Element["prototype"]["eventMap"]["wheel"]="mousewheel";window.addEventListener("keydown",function(event){if(event.keyCode===KeyEvent.DOM_VK_BACK_SPACE||event.keyCode===KeyEvent.DOM_VK_DELETE){var doPrevent=true;var from=event.srcElement||event.target;var disabled=from.getAttribute("readonly")||from.getAttribute("disabled");if(!disabled)doPrevent=from.getAttribute("contenteditable")!==true&&from.getAttribute("contenteditable")!=="true"&&
from.tagName.toLowerCase()!=="input"&&from.tagName.toLowerCase()!=="textarea";if(doPrevent){event.preventDefault();return false}}},true);com.coremedia.cms.editor.sdk.EditorContextImpl.initEditorContext();com.coremedia.ui.util.ReusableComponentsServiceImpl.initReusableComponentsService();com.coremedia.cms.editor.sdk.MessageServiceImpl.initMessageService();com.coremedia.cms.editor.sdk.RemoteErrorHandlers.registerRemoteErrorHandlers(com.coremedia.cms.editor.sdk.editorContext.getRemoteErrorRegistry());
com.coremedia.cms.editor.sdk.remotecontrol.RemoteControlHandlerRegistryImpl.initRemoteControlHandlerRegistry();window.document.title=Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","studio_window_title")||"CoreMedia Studio",coremediaStudioVersion);com.coremedia.ui.BrowserContextMenuManager.getInstance().registerWindowListener();com.coremedia.cap.impl.CapImpl.prepare(function(connection){Ext.MessageBox.on("hide",function(){com.coremedia.ui.util.EventUtil.invokeLater(showInvalidationsRetrievalFailedIfNecessary$static)});
var capConnectionImpl=AS3.cast(com.coremedia.cap.common.impl.CapConnectionImpl,connection);capConnectionImpl.setInvalidationsRetrievalStateHandler(invalidationRetrievalStateUpdated$static);com.coremedia.ui.util.AsyncObserver.start();var loginService=connection.getLoginService();loginService.retrieveSession(function(session){if(session)EditorMain.startPolling();else loginService.load(function(){var loginUrl=loginService.get("loginUrl");if(loginUrl)window.location.href=loginUrl;else com.coremedia.cms.editor.sdk.login.LoginUtil.autoLogin(loginService,
function(session){if(session)EditorMain.startPolling();else com.coremedia.cms.editor.sdk.login.LoginScreenBase.openLoginScreen(loginService,EditorMain.startPolling)})})})})}function checkTestMode$static(){var testModeStr=com.coremedia.ui.util.UrlUtil.getHashParam("testMode");com.coremedia.ui.util.testMode=!!testModeStr&&testModeStr.toLowerCase()!=="false"}var lastInvalidationsOk$static=true;function invalidationRetrievalStateUpdated$static(invalidationsOk,error){if(!lastInvalidationsOk$static&&invalidationsOk)com.coremedia.ui.util.RequestCounter.networkProblemResolved();
if(lastInvalidationsOk$static&&!invalidationsOk)com.coremedia.ui.util.RequestCounter.networkProblemDetected();lastInvalidationsOk$static=invalidationsOk;if(invalidationsOk)com.coremedia.cms.editor.sdk.util.MessageBoxUtilInternal.hideIf(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors","invalidationsRetrievalFailed_title"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.EditorErrors","invalidationsRetrievalFailed_text"),false);
else{com.coremedia.cms.editor.sdk.RemoteErrorHandlers.handleSessionLost(error);showInvalidationsRetrievalFailedIfNecessary$static();error.setHandled(true)}}function showInvalidationsRetrievalFailedIfNecessary$static(){if(!lastInvalidationsOk$static&&!Ext.MessageBox.isVisible())com.coremedia.cms.editor.sdk.util.MessageBoxUtilInternal.showWait(com.coremedia.cms.editor.EditorErrors_properties.INSTANCE.invalidationsRetrievalFailed_title,com.coremedia.cms.editor.EditorErrors_properties.INSTANCE.invalidationsRetrievalFailed_text,
false)}function startPolling$static(){AS3.cast(com.coremedia.cap.common.impl.CapConnectionImpl,com.coremedia.cap.common.SESSION.getConnection()).setAutomaticInvalidations(true,EditorMain.loadSystemInfos)}var CONFIGURATION_RESOURCE_PATH$static="configuration";function loadSystemInfos$static(){com.coremedia.cap.common.SESSION.getConnection().getSystemInfo().load(EditorMain.loadConfiguration)}function loadConfiguration$static(){(new com.coremedia.ui.data.impl.RemoteServiceMethod(CONFIGURATION_RESOURCE_PATH$static,
"GET")).request(null,function(response){com.coremedia.cms.editor.sdk.EditorContextImpl.getInstance().setConfiguration(response.getResponseJSON());EditorMain.preloadWorkflow()})}function preloadWorkflow$static(){var workflowRepository=AS3.as(com.coremedia.cap.common.SESSION.getConnection().getWorkflowRepository(),com.coremedia.ui.data.RemoteBean);if(workflowRepository)workflowRepository.load(EditorMain.loadSites);else{com.coremedia.ui.logging.Logger.warn("Workflow repository not available");EditorMain.loadSites()}}
function loadSites$static(){AS3.cast(com.coremedia.cms.editor.sdk.sites.SitesServiceImpl,com.coremedia.cms.editor.sdk.editorContext.getSitesService()).load(EditorMain.startEditor)}function startEditor$static(){Ext.state.Manager.setProvider(new com.coremedia.cms.editor.LocalStorageProvider);com.coremedia.ui.util.LayoutUtil.runWithLayouts(function(){Ext.MessageBox.progress(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","message_box_title"),mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor",
"EditorMain_loading_text"))});Ext.MessageBox.updateProgress(.001,"",mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","EditorMain_loading_text"));Ext.MessageBox["progressBar"].setMinWidth(370);Ext.MessageBox.center();Ext.tip.QuickTipManager.init(true);Ext.apply(Ext.tip.QuickTipManager.getQuickTip(),{showDelay:500,dismissDelay:2E4});com.coremedia.ui.util.WindowUtil.registerBeforeUnloadHandlerIfPossible(beforeUnload$static);com.coremedia.cms.editor.sdk.login.LoginUtil.preload(loadLocales$static)}
function beforeUnload$static(){return mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","studio_on_unload")}function loadLocales$static(){com.coremedia.cms.editor.sdk.util.LocaleUtilInternal.setPreferredLocale();var localesService=AS3.as(com.coremedia.cms.editor.sdk.editorContext,com.coremedia.cms.editor.sdk.EditorContextImpl).getLocalesService();AS3.cast(com.coremedia.cms.editor.sdk.LocalesServiceImpl,localesService).init(loadSiteStructure$static)}function loadSiteStructure$static(){com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){return com.coremedia.cms.editor.sdk.editorContext.getSitesService().getSitesById()}).loadValue(loadPreferredSite$static)}
function loadPreferredSite$static(){var preferredSite=com.coremedia.cms.editor.sdk.util.PreferencesUtil.getPreferencesProperty(com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.PREFERRED_SITE);var preferredSiteExpression=com.coremedia.cms.editor.sdk.editorContext.getSitesService().getPreferredSiteIdExpression();preferredSiteExpression.setValue(preferredSite);preferredSiteExpression.addChangeListener(savePreferredSite$static);loadPlugins$static()}function savePreferredSite$static(source){var preferredSiteId=
source.getValue();if(preferredSiteId)com.coremedia.cms.editor.sdk.editorContext.getPreferences().set(com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames.PREFERRED_SITE,preferredSiteId)}function loadPlugins$static(){var packageDependencyOrder=Ext.manifest.packageDependencyOrder;var coremediaEditorPlugins=[];if(isCloudEnabled$static())coremediaEditorPlugins.push({"mainClass":"com.coremedia.cms.editor.sdk.cloud.CloudStudioPlugin","name":"Cloud"});for(var $1=0;$1<packageDependencyOrder.length;++$1){var packageName=
packageDependencyOrder[$1];var pluginJsonManifest=Ext.manifest.packages[packageName];var studioPlugins=pluginJsonManifest.studioPlugins;if(studioPlugins&&studioPlugins.length){studioPlugins.forEach(function(studioPlugin){if(pluginJsonManifest.initWithoutRequestsComplete)studioPlugin.initWithoutRequestsComplete=true});coremediaEditorPlugins=coremediaEditorPlugins.concat(studioPlugins)}}var appStudioPlugins=Ext.manifest.studioPlugins;if(appStudioPlugins&&appStudioPlugins.length)coremediaEditorPlugins=
coremediaEditorPlugins.concat(appStudioPlugins);checkPlugin$static(coremediaEditorPlugins,0)}function isCloudEnabled$static(){var cloudConfiguration=com.coremedia.cms.editor.sdk.editorContext.getConfiguration()["cloud"];return cloudConfiguration&&cloudConfiguration["enable"]}function parsePluginDescriptor$static(descriptor){if(AS3.is(descriptor,String)){var editorPluginClassName=AS3.as(descriptor,String);var pluginName=getPluginNameFromClassName$static(editorPluginClassName);var result=new com.coremedia.cms.editor.sdk.EditorPluginDescriptor({mainClass:editorPluginClassName,
name:pluginName});return result}return AS3.cast(com.coremedia.cms.editor.sdk.EditorPluginDescriptor,descriptor)}function getPluginNameFromClassName$static(editorPluginClassName){return editorPluginClassName.substring(editorPluginClassName.lastIndexOf(".")+1,editorPluginClassName.length)}function checkPlugin$static(editorPlugins,index){if(index===editorPlugins.length){afterPluginsInitialized$static();return}var pluginDescriptor=parsePluginDescriptor$static(editorPlugins[index]);var feature=pluginDescriptor.requiredLicenseFeature;
if(feature&&com.coremedia.cap.common.SESSION.getConnection().getSystemInfo().getLicenseFeatures().indexOf(feature)===-1){com.coremedia.ui.logging.Logger.debug("Plugin "+pluginDescriptor.mainClass+" skipped, because it is not licensed.");com.coremedia.ui.util.EventUtil.invokeLater(function(){checkPlugin$static(editorPlugins,index+1)});return}var requiredGroupName=pluginDescriptor.requiredGroup;if(requiredGroupName)com.coremedia.cap.common.SESSION.getConnection().getUserRepository().getGroupByName(requiredGroupName,
function(requiredGroup){if(requiredGroup)com.coremedia.cap.common.SESSION.getUser().isMemberOf(requiredGroup,function(isMember){if(isMember)loadPlugin$static(editorPlugins,index,pluginDescriptor);else{com.coremedia.ui.logging.Logger.debug("Plugin "+pluginDescriptor.mainClass+" skipped, because it is only activated for members of group '"+requiredGroupName+"'.");checkPlugin$static(editorPlugins,index+1)}});else{com.coremedia.ui.logging.Logger.debug("Plugin "+pluginDescriptor.mainClass+" skipped, because it is only activated for group '"+
requiredGroupName+"', which does not exist.");checkPlugin$static(editorPlugins,index+1)}});else loadPlugin$static(editorPlugins,index,pluginDescriptor)}function loadPlugin$static(editorPlugins,index,pluginDescriptor){updateLoadingWindow$static(editorPlugins,index,pluginDescriptor);var editorPluginClassName=pluginDescriptor.mainClass;com.coremedia.ui.logging.Logger.info("Loading plugin "+editorPluginClassName+"...");joo.DynamicClassLoader.INSTANCE.import_(editorPluginClassName);joo.DynamicClassLoader.INSTANCE.complete(function(imports){try{var editorPlugin=
AS3.as(new (joo.getQualifiedObject(editorPluginClassName)),com.coremedia.cms.editor.sdk.EditorPlugin);if(!editorPlugin)throw new AS3.Error("Editor plugin classes must implement com.coremedia.cms.editor.sdk.EditorPlugin: "+editorPluginClassName);editorPlugin.init(com.coremedia.cms.editor.sdk.editorContext);if(pluginDescriptor.initWithoutRequestsComplete)com.coremedia.ui.util.AsyncObserver.completeEvents(function(){com.coremedia.ui.logging.Logger.debug("Plugin "+editorPluginClassName+" loaded and initialized.");
checkPlugin$static(editorPlugins,index+1)});else com.coremedia.ui.util.AsyncObserver.complete(function(){com.coremedia.ui.logging.Logger.debug("Plugin "+editorPluginClassName+" loaded and initialized.");checkPlugin$static(editorPlugins,index+1)})}catch(e){if(AS3.is(e,AS3.Error)){AS3.trace("[WARN] ignoring error while loading ",editorPluginClassName,e);checkPlugin$static(editorPlugins,index+1)}else throw e;}})}function updateLoadingWindow$static(editorPlugins,index,pluginDescriptor){var progress=.999/
editorPlugins.length*(index+1);var pluginName=pluginDescriptor.name?pluginDescriptor.name:getPluginNameFromClassName$static(pluginDescriptor.mainClass);EditorMain.loadedPlugins.push(pluginName);if(pluginName.length>35)pluginName=pluginName.substr(0,35)+"...";var progressText=Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","EditorMain_loadingProgress_text"),index+1,editorPlugins.length);Ext.MessageBox.updateProgress(progress,progressText,Ext.String.format(mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor",
"EditorMain_loadingPlugin_text"),pluginName))}function afterPluginsInitialized$static(){var startupComponent=new com.coremedia.cms.editor.sdk.desktop.Startup;startupComponent.destroy();com.coremedia.ui.util.AsyncObserver.complete(afterStartupComponentPluginInitialized$static)}function afterStartupComponentPluginInitialized$static(){com.coremedia.ui.logging.Logger.debug("Creating main view...");Ext.MessageBox.updateProgress(1,"",mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor",
"EditorMain_loadingMainView_text"));config$static.listeners={afterrender:com.coremedia.cms.editor.sdk.remotecontrol.RemoteControlHandlerRegistryImpl.startObserving};var editorMainView=window["coremediaEditorMainView"]||"com.coremedia.cms.editor.sdk.desktop.EditorMainView";joo.DynamicClassLoader.INSTANCE.import_(editorMainView);joo.DynamicClassLoader.INSTANCE.complete(function(){var mainView=new (joo.getQualifiedObject(editorMainView))(config$static);var el=mainView.getEl();mainView.mon(el,"dragover",
function(e){if(e["browserEvent"]["dataTransfer"]){e["browserEvent"]["dataTransfer"].dropEffect="none";e.stopPropagation();e.preventDefault();return false}else return true});AS3.cast(com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelManagerImpl,com.coremedia.cms.editor.sdk.desktop.sidepanel.sidePanelManager).init();if(Ext.MessageBox.isVisible()&&Ext.MessageBox.getTitle()===mx.resources.ResourceManager.getInstance().getString("com.coremedia.cms.editor.Editor","message_box_title"))Ext.MessageBox.hide();
com.coremedia.ui.logging.Logger.debug("Main view created.");com.coremedia.cms.editor.sdk.desktop.SystemMessageUtil.attachSystemMessageListener();com.coremedia.ui.logging.Logger.debug("Listening to system messages.");com.coremedia.cms.editor.sdk.login.AutoLogout.init()})}function EditorMain$(){}return{constructor:EditorMain$,statics:{loadedPlugins:undefined,main:main$static,startPolling:startPolling$static,loadSystemInfos:loadSystemInfos$static,loadConfiguration:loadConfiguration$static,preloadWorkflow:preloadWorkflow$static,
loadSites:loadSites$static,startEditor:startEditor$static,__initStatics__:function(){loadedPlugins$static_()}},requires:["AS3.Error","AS3.trace","Ext","Ext.EventManager","Ext.String","Ext.dom.Element","Ext.form.field.Time","Ext.state.Manager","Ext.tip.QuickTipManager","Ext.window.MessageBox","com.coremedia.cap.common.SESSION","com.coremedia.cap.common.impl.CapConnectionImpl","com.coremedia.cap.impl.CapImpl","com.coremedia.cms.editor.EditorErrors_properties","com.coremedia.cms.editor.Editor_properties",
"com.coremedia.ui.BrowserContextMenuManager","com.coremedia.ui.data.RemoteBean","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.impl.RemoteServiceMethod","com.coremedia.ui.logging.Logger","com.coremedia.ui.util.AsyncObserver","com.coremedia.ui.util.EventUtil","com.coremedia.ui.util.LayoutUtil","com.coremedia.ui.util.QtipUtil","com.coremedia.ui.util.RequestCounter","com.coremedia.ui.util.ReusableComponentsServiceImpl","com.coremedia.ui.util.UrlUtil","com.coremedia.ui.util.WindowUtil",
"com.coremedia.ui.util.testMode","joo.DynamicClassLoader","mx.resources.ResourceManager"],uses:["com.coremedia.cms.editor.LocalStorageProvider","com.coremedia.cms.editor.sdk.EditorComponentsPreferencesPropertyNames","com.coremedia.cms.editor.sdk.EditorContextImpl","com.coremedia.cms.editor.sdk.EditorPlugin","com.coremedia.cms.editor.sdk.EditorPluginDescriptor","com.coremedia.cms.editor.sdk.LocalesServiceImpl","com.coremedia.cms.editor.sdk.MessageServiceImpl","com.coremedia.cms.editor.sdk.RemoteErrorHandlers",
"com.coremedia.cms.editor.sdk.desktop.Startup","com.coremedia.cms.editor.sdk.desktop.SystemMessageUtil","com.coremedia.cms.editor.sdk.desktop.sidepanel.SidePanelManagerImpl","com.coremedia.cms.editor.sdk.desktop.sidepanel.sidePanelManager","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.login.AutoLogout","com.coremedia.cms.editor.sdk.login.LoginScreenBase","com.coremedia.cms.editor.sdk.login.LoginUtil","com.coremedia.cms.editor.sdk.remotecontrol.RemoteControlHandlerRegistryImpl",
"com.coremedia.cms.editor.sdk.sites.SitesServiceImpl","com.coremedia.cms.editor.sdk.util.LocaleUtilInternal","com.coremedia.cms.editor.sdk.util.MessageBoxUtilInternal","com.coremedia.cms.editor.sdk.util.PreferencesUtil"]}});Ext.define("com.coremedia.cms.editor.StudioApplication",function(StudioApplication){function StudioApplication$(){Ext.USE_NATIVE_JSON=true;var config=AS3.cast(Ext.app.Application,{});AS3.setBindable(config,"name","Studio");this.super$cphq(config)}function launch(profile){com.coremedia.cms.editor.EditorMain.main();return false}function getMainView(){return AS3.cast(Ext.container.Container,Ext.getCmp(com.coremedia.cms.editor.sdk.desktop.EditorMainView.ID))}return{extend:"Ext.app.Application",namespace:"com.coremedia",
constructor:StudioApplication$,super$cphq:function(){Ext.app.Application.prototype.constructor.apply(this,arguments)},launch:launch,getMainView:getMainView,requires:["Ext","Ext.app.Application","Ext.container.Container"],uses:["com.coremedia.cms.editor.EditorMain","com.coremedia.cms.editor.sdk.desktop.EditorMainView"]}});Ext.define("com.coremedia.cms.editor.sdk.cloud.Cloud_properties",{"HeaderToolbar_logoutFromCloud_btn_text":"Log out {0} from Cloud","HeaderToolbar_returnToCloud_btn_text":"Return to Cloud Manager"},function(){com.coremedia.cms.editor.sdk.cloud.Cloud_properties.INSTANCE=new com.coremedia.cms.editor.sdk.cloud.Cloud_properties});Ext.define("com.coremedia.cms.editor.sdk.foldercombo.FolderCombo_properties",{"FolderCombo_title":"Folder","FolderCombo_emptyText":"Choose a target folder.","FolderCombo_readOnlyText":"The selected folder is readonly."},function(){com.coremedia.cms.editor.sdk.foldercombo.FolderCombo_properties.INSTANCE=new com.coremedia.cms.editor.sdk.foldercombo.FolderCombo_properties});Ext.define("com.coremedia.cms.editor.sdk.validation.Validators_properties",{requires:["com.coremedia.icons.CoreIcons_properties"],"Validator_internalError_text":"Validation was aborted due to an internal error: {0}","Validator_EmailValidator_text":"Field must contain a valid email address.","Validator_ListMaxLengthValidator_text":"List must not contain more than {0} entries.","Validator_ListMinLengthValidator_text":"List must contain at least {0} entries.","Validator_MaxIntegerValidator_text":"The value must be at most {0}.",
"Validator_MaxLengthValidator_text":"Text must not be longer than {0} characters.","Validator_MinIntegerValidator_text":"The value must be at least {0}.","Validator_MinLengthValidator_text":"Text must not be shorter than {0} characters.","Validator_NotEmptyValidator_text":"This field must not be empty.","Validator_RegExpValidator_text":"Text must match the pattern '{0}'.","Validator_UniqueListEntriesValidator_text":"The entries in the list must be unique.","Validator_UriValidator_text":"Field must contain a valid URI.",
"Validator_UrlValidator_text":"Field must contain a valid URL.","Validator_LinkListMaxLengthValidator_text":"List must not contain more than {0} content items.","Validator_LinkListMinLengthValidator_text":"List must contain at least {0} content items.","Validator_MaxBlobSizeValidator_text":"Blob must not be larger than {0} bytes.","Validator_DeadLinkValidator_text":"Field must not link to deleted content '{0}'.","Validator_CropSizeValidator_text":"The resolution for crop {0} is less than {1}x{2}.",
"Validator_NoImageDimensions_text":"The dimensions of the image could not be determined.","Validator_MissingTransformDefinition_text":"Transform definition for {0} must not be empty.","Validator_StructLinkListNotEmptyValidator_text":"This field must not be empty.","Validator_StructLinkListMaxLengthValidator_text":"List must not contain more than {0} content items.","Validator_StructLinkListMinLengthValidator_text":"List must contain at least {0} content items.","Validator_struct_list_index_exceeded_text":"This field muss contain a position value between 1 and {0} for content '{1}'.",
"Validator_struct_list_index_missing_text":"This field must contain a position value for content '{0}'.","Validator_struct_list_index_duplicate_text":"This field contains the same position value {0} for content '{1}' and '{2}'.","Validator_SiteManagerGroupValidator_text":"Site manager group does not exist.","Validator_ImageWriteInterceptor.unreadableImage_text":"The image could not be read.","Validator_ImageWriteInterceptor.noDimensions_text":"The dimensions of the uploaded image could not be determined.",
"Validator_AvailableLocalesConfiguration.DUPLICATE_LOCALE_text":"Multiple definition of the same locale: '{0}' in line {1}","Validator_AvailableLocalesConfiguration.DUPLICATE_LOCALE_DISPLAY_NAME_text":"Locale '{0}' (line {1}) has the same display name as locale '{2}' (line {3}): {4}","Validator_AvailableLocalesConfiguration.INVALID_LOCALE_text":"Invalid locale: '{0}' in line {1} (did you mean: '{2}'?)","Validator_master_version_property_invalid_text":"The master version must be greater than zero and less equal than the checked in version of the master.",
"Validator_not_localized_text":"Content has not been localized and still contains original text from the master.","Validator_undetermined_localization_state_text":"Localization state of content cannot be determined. Complete review required.","Validator_cross_locale_link_text":"This field links to content '{0}' which is part of a site with a different locale: '{2}'.","Validator_cross_site_link_text":"This field links to content '{0}' which is part of a different site: '{1}'.","Validator_cross_site_locale_link_text":"This field links to content '{0}' which is part of a different site: '{1} - {2}'.",
"Validator_image_map_image_missing_text":"This field must not be empty.","Validator_image_map_area_link_missing_text":"A target must be set for all hot zones.","Validator_image_map_overlay_configuration_insufficient_text":"At least one 'Display'-Overlay Configuration should be enabled.","Validator_siteName_missing_text":"A site indicator has to define a site name.","Validator_siteName_different_from_master_text":"A site indicator has to have the same site name as its master: '{0}'.","Validator_archive_not_archive_file_text":"The uploaded file is not a zip or jar archive.",
"Validator_validFrom_is_after_validTo_text":"The Valid From date is after the Valid To date.","Validator_upload-limit-exceeded_text":"The Image size ({0} pixels) exceeds the upload limit of {1} pixels.","Validator_insufficient-memory_text":"The required memory of {0} bytes exceeds the available free memory with {1} bytes. Try again or contact your system administrator.","Validator_unsupported-mime-type_text":"The mime type {0} is not supported.","Validator_cannot-transform-blob_text":"Failed to transform the image blob (see log file for details)."},
function(){this.prototype["Validator_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.validator_check;this.prototype["Validator_error_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.validator_error;this.prototype["Validator_warn_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.validator_attention;this.prototype["Validator_info_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.validator_check;com.coremedia.cms.editor.sdk.validation.Validators_properties.INSTANCE=new com.coremedia.cms.editor.sdk.validation.Validators_properties});Ext.define("com.coremedia.cms.editor.sdk.sites.LocalizationManager_properties",{requires:["com.coremedia.icons.CoreIcons_properties"],"Tab_LocalizationManager_title":"Sites","LocalizationManager_close_button":"Close","Action_showLocalizationManager_text":"Sites","Action_showLocalizationManager_tooltip":"Open Sites tool","Action_openInTab_text":"Open Home Page in Tab","Action_openInTab_tooltip":"Open the site's home page in a tab","Action_openMasterComparison_text":"Compare with Master","Action_openSiteInRepository_text":"Show Site Folder in Library",
"Action_openSiteInRepository_tooltip":"Show the site folder in the Library","Action_cloneSite_text":"Derive a New Localized Site","Action_cloneSite_tooltip":"Derive a new localized site","Tree_site_topLevel_name_pattern":"{0} - {2}","Tree_site_child_name_pattern":"{2}","CloneSiteWindow_title":"Derive a New Localized Site","CloneSiteWindow_name_field":"Name","CloneSiteWindow_locale_field":"Locale","CloneSiteWindow_uriSegment_field":"URL Segment","CloneSiteWindow_siteManagerGroup_field":"Site Manager Group",
"CloneSiteWindow_siteInSyncWithMaster_field":"Synchronization","CloneSiteWindow_siteInSyncWithMaster_boxlabel":"Synchronize with Master","CloneSiteWindow_invalid_name":"Site variants name must have a valid content name","CloneSiteWindow_invalid_locale":"Locale must be unique for the current site hierarchy","CloneSiteWindow_invalid_uriSegment":"URL segment must be unique for all sites","CloneSiteWindow_invalid_siteManagerGroup":"Site Manager group must exist","CloneSiteWindow_cloneErrorMsg":"Could not create local site variant",
"CloneSiteWindow_processDefinitionMissing_title":"Could Not Derive Site","CloneSiteWindow_processDefinitionMissing_text":"Process definition '{0}' not found","CloneSiteWindow_ok_button":"OK","CloneSiteWindow_cancel_button":"Cancel","CloneSiteError_title":"Error Deriving Site","CloneSiteError_aborted":"Deriving the site {0} into {1} has been aborted.","CloneSiteError_escalated":"Could not derive the site {0} into {1}:","CloneSiteErrorDialog_title":"Error Cloning Site"},function(){this.prototype["Action_showLocalizationManager_icon"]=
com.coremedia.icons.CoreIcons_properties.INSTANCE.site;this.prototype["Action_openSiteInRepository_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.show_in_library;this.prototype["Action_cloneSite_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.create_local_site;com.coremedia.cms.editor.sdk.sites.LocalizationManager_properties.INSTANCE=new com.coremedia.cms.editor.sdk.sites.LocalizationManager_properties});Ext.define("com.coremedia.cms.editor.sdk.upload.Upload_properties",{"UploadFileAction_menu_item_text":"Upload Files","UploadFileAction_folder_text":"Upload","UploadFileAction_failed_text":"{0} upload failed.","UploadFileAction_tooltip":"Upload files to the selected folder","UploadFileAction_tooltip_disabled":"The browser does not support HTML 5 uploads","UploadFileAction_drop_text":"Drop your files here","UploadFileAction_status_uploading":"Content item created, uploading file…","UploadFileAction_status_finished":"File upload successful",
"UploadFileAction_status_queued":"Waiting to be uploaded…","UploadFileAction_status_post_processing":"Executing post processing…","Upload_folder_error":"Error creating target folder '{0}': {1}","Upload_error":"Error","Upload_error_tooltip":"Error uploading file: \x3cbr/\x3e{0}","Upload_folder_combo_emptyText":"Select target folder.","Upload_drop_text":"Drop files from your file system here.","Upload_drop_button_text":"Upload File...","Upload_folder_combo_title":"Target Path","Upload_open_in_tab":"Open Content Item in Tab",
"Upload_document_name":"Name of Content Item","Upload_remove_document":"Remove Item","Upload_button_label":"Upload","Upload_progress_title":"Generating Thumbnails","Upload_progress_msg":"Generating preview thumbnails, please wait…","Upload_mimetype_text":"No preview available","Upload_content_type_text":"Type:","UploadProgressDialog_header_msg":"The following files will be uploaded to the selected target folder:","UploadProgressDialog_title":"Upload Running…","UploadProgressDialog_upload_running":"Upload running…",
"UploadProgressDialog_upload_processing":"Postprocessing Upload…","UploadProgressDialog_upload_successful":"Upload Successful","UploadProgressDialog_upload_failed":"Upload Failed","UploadProgressDialog_upload_waiting":"Waiting","bulkResult_error_window_title":"XLIFF could not be imported","bulkResult_success_window_title":"XLIFF imported successfully","bulkResult_error_btn_OK":"OK","bulkResult_error_FAILED_sg_text":"The following document could not be imported.","bulkResult_error_FAILED_pl_text":"The following {0} documents could not be imported.",
"bulkResult_error_DOES_NOT_EXIST_sg_text":"The following document does not exist.","bulkResult_error_DOES_NOT_EXIST_pl_text":"The following {0} documents do not exist.","bulkResult_error_MASTER_CHANGED_sg_text":"For the following document a new master document was chosen after the translation process has been started.","bulkResult_error_MASTER_CHANGED_pl_text":"For the following {0} documents a new master document was chosen after the translation process has been started.","bulkResult_error_MASTER_VERSION_OUTDATED_sg_text":"A more recent version of the following document has already been translated.",
"bulkResult_error_MASTER_VERSION_OUTDATED_pl_text":"A more recent version of the following {0} documents has already been translated.","bulkResult_error_INVALID_CONTENT_ID_sg_text":"A document could not be imported because it contains an invalid content ID.","bulkResult_error_INVALID_CONTENT_ID_pl_text":"{0} documents could not be imported because they contain invalid content ID.","bulkResult_error_ALREADY_CHECKED_OUT_sg_text":"The following document could not be imported because it is checked-out.",
"bulkResult_error_ALREADY_CHECKED_OUT_pl_text":"The following {0} documents could not be imported because they are checked-out.","bulkResult_error_STRING_TOO_LONG_sg_text":"The following document could not be imported because the value of a string property is too long.","bulkResult_error_STRING_TOO_LONG_pl_text":"The following {0} documents could not be imported because the value of a string property is too long.","bulkResult_error_NO_SUCH_PROPERTY_sg_text":"The following document could not be imported because a property should be imported that does not exist.",
"bulkResult_error_NO_SUCH_PROPERTY_pl_text":"The following {0} documents could not be imported because properties should be imported that do not exist.","bulkResult_error_STRING_LIST_TOO_LONG_sg_text":"The following document could not be imported because a string list contains too many items.","bulkResult_error_STRING_LIST_TOO_LONG_pl_text":"The following {0} documents could not be imported because a string list contains too many items.","bulkResult_error_INVALID_MARKUP_sg_text":"The following document could not be imported because it contains an invalid markup.",
"bulkResult_error_INVALID_MARKUP_pl_text":"The following {0} documents could not be imported because they contain invalid markup.","bulkResult_error_INVALID_XLIFF_sg_text":"A document could not be imported because the XLIFF is not valid.","bulkResult_error_INVALID_XLIFF_pl_text":"{0} documents could not be imported because the XLIFF is not valid.","bulkResult_error_INVALID_LOCALE_sg_text":"The target language does not match the expected language.","bulkResult_error_INVALID_LOCALE_pl_text":"The target languages do not match the expected languages.",
"bulkResult_error_DUPLICATE_NAME_sg_text":"A document has been renamed because the intended name was already assigned.","bulkResult_error_DUPLICATE_NAME_pl_text":"The following {0} documents have been renamed because the intended names were already assigned.","bulkResult_error_INVALID_INTERNAL_LINK_sg_text":"A document contains links that could not be resolved / localized properly. Using links from master document.","bulkResult_error_INVALID_INTERNAL_LINK_pl_text":"The following {0} documents contain internal links that could not be resolved / localized properly. Using links from master document.",
"bulkResult_error_EMPTY_TRANSUNIT_TARGET_sg_text":"The following document contains an empty translation.","bulkResult_error_EMPTY_TRANSUNIT_TARGET_pl_text":"The following {0} documents contain empty translations.","bulkResult_error_EMPTY_TRANSUNIT_TARGET_FOR_WHITESPACE_SOURCE_sg_text":"The following document contains an empty translation of a whitespace only source.","bulkResult_error_EMPTY_TRANSUNIT_TARGET_FOR_WHITESPACE_SOURCE_pl_text":"The following {0} documents contain empty translations of whitespace only sources."},
function(){com.coremedia.cms.editor.sdk.upload.Upload_properties.INSTANCE=new com.coremedia.cms.editor.sdk.upload.Upload_properties});Ext.define("com.coremedia.cms.editor.sdk.desktop.LicenseNames_properties",{"LicenseName_personalization":"CoreMedia Adaptive Personalization","LicenseName_elastic-social":"CoreMedia Elastic Social","LicenseName_brand-blueprint":"CoreMedia Brand Blueprint","LicenseName_asset-management":"CoreMedia Advanced Asset Management","LicenseName_livecontext":"CoreMedia e-Commerce Blueprint"},function(){com.coremedia.cms.editor.sdk.desktop.LicenseNames_properties.INSTANCE=new com.coremedia.cms.editor.sdk.desktop.LicenseNames_properties});Ext.define("com.coremedia.cms.editor.sdk.bulkOperation.BulkCheckIn_properties",{"bulkResult_error_window_title":"Error Checking Content Item In","bulkResult_error_btn_OK":"OK","bulkResult_error_documentNotValid_sg_text":"The following content item contains errors and cannot be checked in.","bulkResult_error_documentNotValid_pl_text":"The following {0} content items contain errors and cannot be checked in.","bulkResult_error_documentNoRights_sg_text":"The following content item could not be checked in because you do not have sufficient rights.",
"bulkResult_error_documentNoRights_pl_text":"The following {0} content items could not be checked in because you do not have sufficient rights.","bulkResult_error_documentCheckedOutByOther_sg_text":"The following content item could not be checked in because it is edited by another user.","bulkResult_error_documentCheckedOutByOther_pl_text":"The following {0} content items could not be checked in because it is edited by another user.","bulkResult_error_folderCannotCheckIn_sg_text":"Folders cannot be checked in.",
"bulkResult_error_folderCannotCheckIn_pl_text":"Folders cannot be checked in."},function(){com.coremedia.cms.editor.sdk.bulkOperation.BulkCheckIn_properties.INSTANCE=new com.coremedia.cms.editor.sdk.bulkOperation.BulkCheckIn_properties});Ext.define("com.coremedia.cms.editor.sdk.bulkOperation.BulkDisapprove_properties",{"bulkResult_error_window_title":"Error Disapproving Contents","bulkResult_error_btn_OK":"OK","bulkResult_error_documentAlreadyPublished_sg_text":"The following content item could not be disapproved because it is already published.","bulkResult_error_documentAlreadyPublished_pl_text":"The following {0} content items could not be disapproved because it is already published.","bulkResult_error_folderAlreadyPublished_sg_text":"The following folder could not be disapproved because it is already published.",
"bulkResult_error_folderAlreadyPublished_pl_text":"The following {0} folders could not be disapproved because it is already published.","bulkResult_error_documentDeleted_sg_text":"The following content item has been moved to the trash bin and cannot be disapproved.","bulkResult_error_documentDeleted_pl_text":"The following {0} content items have been moved to the trash bin and cannot be disapproved.","bulkResult_error_documentNoRights_sg_text":"The following content item could not be disapproved because you do not have sufficient rights.",
"bulkResult_error_documentNoRights_pl_text":"The following {0} content items could not be disapproved because you do not have sufficient rights.","bulkResult_error_folderNoRights_sg_text":"The following folder could not be disapproved because you do not have sufficient rights.","bulkResult_error_folderNoRights_pl_text":"The following {0} folders could not be disapproved because you do not have sufficient rights."},function(){com.coremedia.cms.editor.sdk.bulkOperation.BulkDisapprove_properties.INSTANCE=
new com.coremedia.cms.editor.sdk.bulkOperation.BulkDisapprove_properties});Ext.define("com.coremedia.cms.editor.sdk.bulkOperation.BulkApprove_properties",{"bulkResult_error_window_title":"Error Approving Content Items","bulkResult_error_btn_OK":"OK","bulkResult_error_documentNoRights_sg_text":"The following content item could not be deleted because you do not have sufficient rights.","bulkResult_error_documentNoRights_pl_text":"The following {0} content items could not be deleted because you do not have sufficient rights.","bulkResult_error_folderNoRights_sg_text":"The following folder could not be deleted because you do not have sufficient rights.",
"bulkResult_error_folderNoRights_pl_text":"The following {0} folders could not be deleted because you do not have sufficient rights.","bulkResult_error_documentNotValid_sg_text":"The following content item contains errors and cannot be approved.","bulkResult_error_documentNotValid_pl_text":"The following {0} content items contain errors and cannot be approved.","bulkResult_error_folderNotValid_sg_text":"The following folder contains errors and cannot be approved.","bulkResult_error_folderNotValid_pl_text":"The following {0} folders contain errors and cannot be approved.",
"bulkResult_error_documentDeleted_sg_text":"The following content item has been moved to the trash bin and cannot be approved.","bulkResult_error_documentDeleted_pl_text":"The following {0} content items have been moved to the trash bin and cannot be approved.","bulkResult_error_folderDeleted_sg_text":"The following folder has been moved to the trash bin and cannot be approved.","bulkResult_error_folderDeleted_pl_text":"The following {0} folders have been moved to the trash bin and cannot be approved.",
"bulkResult_error_documentCheckedOutByOther_sg_text":"The following content item could not be approved because it is edited by another user.","bulkResult_error_documentCheckedOutByOther_pl_text":"The following {0} content items could not be approved because it is edited by another user."},function(){com.coremedia.cms.editor.sdk.bulkOperation.BulkApprove_properties.INSTANCE=new com.coremedia.cms.editor.sdk.bulkOperation.BulkApprove_properties});Ext.define("com.coremedia.cms.editor.sdk.bulkOperation.BulkUndelete_properties",{"bulkResult_error_window_title":"Error Restoring Contents","bulkResult_error_btn_OK":"OK","bulkResult_error_documentNoRights_sg_text":"The following content item could not be restored because you do not have sufficient rights.","bulkResult_error_documentNoRights_pl_text":"The following {0} content items could not be restored because you do not have sufficient rights.","bulkResult_error_folderNoRights_sg_text":"The following folder could not be restored because you do not have sufficient rights.",
"bulkResult_error_folderNoRights_pl_text":"The following {0} folders could not be restored because you do not have sufficient rights.","bulkResult_error_documentUndeleted_sg_text":"The following content item has been restored.","bulkResult_error_documentUndeleted_pl_text":"The following {0} content items have been restored.","bulkResult_error_folderUndeleted_sg_text":"The following folder has been restored.","bulkResult_error_folderUndeleted_pl_text":"The following {0} folders have been restored.",
"bulkResult_error_documentAlreadyUndeleted_sg_text":"The following content item had already been restored before.","bulkResult_error_documentAlreadyUndeleted_pl_text":"The following {0} content items had already been restored before.","bulkResult_error_folderAlreadyUndeleted_sg_text":"The following folder did not have to be restored.","bulkResult_error_folderAlreadyUndeleted_pl_text":"The following {0} folders did not have to be restored.","bulkResult_error_documentFailed_sg_text":"The following content item could not be restored. Please retry the operation.",
"bulkResult_error_documentFailed_pl_text":"The following {0} content items could not be restored. Please retry the operation.","bulkResult_error_folderFailed_sg_text":"The following folder could not be restored. Please retry the operation.","bulkResult_error_folderFailed_pl_text":"The following {0} folders could not be restored. Please retry the operation.","bulkResult_error_documentDuplicateName_sg_text":"The following content item could not be restored because another object with the same name already exists at the target location.",
"bulkResult_error_documentDuplicateName_pl_text":"The following {0} content items could not be restored because other objects with the same names already exist at the target locations.","bulkResult_error_folderDuplicateName_sg_text":"The following folder could not be restored because another object with the same name already exists at the target location.","bulkResult_error_folderDuplicateName_pl_text":"The following {0} folders could not be restored because other objects with the same names already exist at the target locations.",
"bulkResult_error_documentParentDeleted_sg_text":"The following content item could not be restored because its parent could not be restored.","bulkResult_error_documentParentDeleted_pl_text":"The following {0} content items could not be restored because their parents could not be restored.","bulkResult_error_folderParentDeleted_sg_text":"The following folder could not be restored because its parent could not be restored.","bulkResult_error_folderParentDeleted_pl_text":"The following {0} folders could not be restored because their parents could not be restored.",
"bulkResult_impedimentType_documentDuplicateName_text":"is blocked by","bulkResult_impedimentType_folderDuplicateName_text":"is blocked by"},function(){com.coremedia.cms.editor.sdk.bulkOperation.BulkUndelete_properties.INSTANCE=new com.coremedia.cms.editor.sdk.bulkOperation.BulkUndelete_properties});Ext.define("com.coremedia.cms.editor.sdk.bulkOperation.BulkCopy_properties",{"bulkResult_error_window_title":"Error Copying Contents","bulkResult_error_btn_OK":"OK","bulkResult_error_contentFailed_sg_text":"The following content could not be copied due to an unknown error.","bulkResult_error_contentFailed_pl_text":"The following contents could not be copied due to unknown errors.","bulkResult_error_contentNoRights_sg_text":"The following content could not be copied because you do not have sufficient rights for the target folder.",
"bulkResult_error_contentNoRights_pl_text":"The following contents could not be copied because you do not have sufficient rights for the target folder.","bulkResult_error_contentNoReadRights_sg_text":"The following content could not be copied because you do not have the right to read it.","bulkResult_error_contentNoReadRights_pl_text":"The following contents could not be copied because you do not have the right to read them.","bulkResult_error_contentTargetDeleted_sg_text":"The following content could not be copied because the target folder is deleted.",
"bulkResult_error_contentTargetDeleted_pl_text":"The following contents could not be copied because the target folder is deleted.","bulkResult_error_contentTargetToBeDeleted_sg_text":"The following content could not be copied because the target folder is marked to be deleted.","bulkResult_error_contentTargetToBeDeleted_pl_text":"The following contents could not be copied because the target folder is marked to be deleted.","bulkResult_error_contentDuplicateName_sg_text":"The following content could not be copied because there is already a content with the same name in the target folder. Please choose a new name and try again.",
"bulkResult_error_contentDuplicateName_pl_text":"The following contents could not be copied because there are already contents with the same names in the target folder. Please choose new names and try again.","bulkResult_error_contentInvalidName_sg_text":"The following content could not be copied because the target name would be invalid. Please choose a new name and try again.","bulkResult_error_contentInvalidName_pl_text":"The following contents could not be copied because the target names would be invalid. Please choose new names and try again."},
function(){com.coremedia.cms.editor.sdk.bulkOperation.BulkCopy_properties.INSTANCE=new com.coremedia.cms.editor.sdk.bulkOperation.BulkCopy_properties});Ext.define("com.coremedia.cms.editor.sdk.bulkOperation.BulkRevert_properties",{"bulkResult_error_window_title":"Error Reverting Contents","bulkResult_error_btn_OK":"OK","bulkResult_error_documentNoRights_sg_text":"The following content item could not be reverted because you do not have sufficient rights.","bulkResult_error_documentNoRights_pl_text":"The following {0} content items could not be reverted because you do not have sufficient rights.","bulkResult_error_documentCheckedOutByOther_sg_text":"The following content item could not be reverted because it is edited by another user.",
"bulkResult_error_documentCheckedOutByOther_pl_text":"The following {0} content items could not be reverted because it is edited by another user.","bulkResult_error_folderCannotRevert_sg_text":"Folders cannot be reverted.","bulkResult_error_folderCannotRevert_pl_text":"Folders cannot be reverted."},function(){com.coremedia.cms.editor.sdk.bulkOperation.BulkRevert_properties.INSTANCE=new com.coremedia.cms.editor.sdk.bulkOperation.BulkRevert_properties});Ext.define("com.coremedia.cms.editor.sdk.bulkOperation.BulkMove_properties",{"bulkResult_error_window_title":"Error Moving Contents","bulkResult_error_btn_OK":"OK","bulkResult_error_contentUnchanged_sg_text":"The following content could not be moved because it is already located in the target folder.","bulkResult_error_contentUnchanged_pl_text":"The following contents could not be moved because they are already located in the target folder.","bulkResult_error_contentNoRights_sg_text":"The following content could not be moved because you do not have sufficient rights.",
"bulkResult_error_contentNoRights_pl_text":"The following contents could not be moved because you do not have sufficient rights.","bulkResult_error_contentNoRightsOnTarget_sg_text":"The following content could not be moved because you do not have sufficient rights for the target folder.","bulkResult_error_contentNoRightsOnTarget_pl_text":"The following contents could not be moved because you do not have sufficient rights for the target folder.","bulkResult_error_contentTargetDeleted_sg_text":"The following content could not be moved because the target folder is deleted.",
"bulkResult_error_contentTargetDeleted_pl_text":"The following contents could not be moved because the target folder is deleted.","bulkResult_error_contentTargetToBeDeleted_sg_text":"The following content could not be moved because the target folder is marked to be deleted.","bulkResult_error_contentTargetToBeDeleted_pl_text":"The following contents could not be moved because the target folder is marked to be deleted.","bulkResult_error_contentDuplicateName_sg_text":"The following content could not be moved because there is already a content with the same name in the target folder. Please choose a new name and try again.",
"bulkResult_error_contentDuplicateName_pl_text":"The following contents could not be moved because there are already contents with the same names in the target folder. Please choose new names and try again.","bulkResult_error_contentMoveToOtherBaseFolder_sg_text":"The following content could not be moved because the target folder belongs to a different site.","bulkResult_error_contentMoveToOtherBaseFolder_pl_text":"The following contents could not be moved because the target folder belongs to a different site.",
"bulkResult_error_contentTargetIsDescendant_sg_text":"The following content could not be moved because the target is a descendant of the content.","bulkResult_error_contentTargetIsDescendant_pl_text":"The following contents could not be moved because the target is a descendant of the contents."},function(){com.coremedia.cms.editor.sdk.bulkOperation.BulkMove_properties.INSTANCE=new com.coremedia.cms.editor.sdk.bulkOperation.BulkMove_properties});Ext.define("com.coremedia.cms.editor.sdk.bulkOperation.BulkDelete_properties",{"bulkResult_error_window_title":"Error Deleting Contents","bulkResult_error_btn_OK":"OK","bulkResult_error_folderNotEmpty_sg_text":"The following folder could not be deleted because some children could not be deleted.","bulkResult_error_folderNotEmpty_pl_text":"The following {0} folders could not be deleted because some children could not be deleted.","bulkResult_error_documentNoRights_sg_text":"The following content item could not be deleted because you do not have sufficient rights.",
"bulkResult_error_documentNoRights_pl_text":"The following {0} content items could not be deleted because you do not have sufficient rights.","bulkResult_error_folderNoRights_sg_text":"The following folder could not be deleted because you do not have sufficient rights.","bulkResult_error_folderNoRights_pl_text":"The following {0} folders could not be deleted because you do not have sufficient rights.","bulkResult_error_documentStillPublished_sg_text":"The following content item could not be deleted because it is still published.",
"bulkResult_error_documentStillPublished_pl_text":"The following {0} content items could not be deleted because they are still published.","bulkResult_error_folderStillPublished_sg_text":"The following folder could not be deleted because it is still published.","bulkResult_error_folderStillPublished_pl_text":"The following {0} folders could not be deleted because they are still published.","bulkResult_error_documentCheckedOutByOther_sg_text":"The following content item could not be deleted because it is edited by another user.",
"bulkResult_error_documentCheckedOutByOther_pl_text":"The following {0} content items could not be deleted because they are edited by another user."},function(){com.coremedia.cms.editor.sdk.bulkOperation.BulkDelete_properties.INSTANCE=new com.coremedia.cms.editor.sdk.bulkOperation.BulkDelete_properties});Ext.define("com.coremedia.cms.editor.sdk.actions.Actions_properties",{requires:["com.coremedia.icons.CoreIcons_properties"],"Action_checkIn_text":"Apply","Action_checkIn_all_text":"Apply All Changes","Action_checkIn_tooltip":"Finish editing and\x3cbr\x3eapply all changes","Action_revert_text":"Revert","Action_revert_all_text":"Revert All Changes","Action_revert_tooltip":"Revert changes","Action_revert_buttonText":"Revert","Action_revert_verifyMessage_singleOld_title":"Revert Changes","Action_revert_verifyMessage_singleOld_text":"All of your changes to the content item will be reverted.\x3cbr\x3eYou cannot undo this action.",
"Action_revert_verifyMessage_singleNew_title":"Revert Changes and Delete Content Item","Action_revert_verifyMessage_singleNew_text":"All your changes will be reverted and the content item will be deleted.\x3cbr\x3eYou cannot undo this action.","Action_revert_verifyMessage_manyOld_title":"Revert Changes","Action_revert_verifyMessage_manyOld_text":"All of your changes in {0} content item will be reverted.\x3cbr\x3eYou cannot undo this action.","Action_revert_verifyMessage_manyOldOneNew_title":"Revert Changes and Delete New Content Item",
"Action_revert_verifyMessage_manyOldOneNew_text":"All of your changes in {0} content item will be reverted and one of the content items will be deleted.\x3cbr\x3eYou cannot undo this action.","Action_revert_verifyMessage_manyNew_title":"Revert Changes and Delete New Content Items","Action_revert_verifyMessage_manyNew_text":"All of your changes in {0} content items will be reverted and {1} of the content items will be deleted.\x3cbr\x3eYou cannot undo this action.","Action_revert_verifyMessage_allNew_title":"Revert Changes and Delete New Content Items",
"Action_revert_verifyMessage_allNew_text":"All of your changes in {0} content items will be reverted and the content items will be deleted.\x3cbr\x3eYou cannot undo this action.","Action_approve_text":"Approve","Action_approve_tooltip":"Approve","Action_disapprove_text":"Revoke Approve","Action_disapprove_tooltip":"Revoke approve","Action_publish_text":"Publish","Action_publish_tooltip":"Publish","Action_approvePublish_text":"Approve and Publish","Action_approvePublish_tooltip":"Approve and publish",
"Action_deleteSelectedLinks_text":"Remove from List","Action_deleteSelectedLinks_tooltip":"Remove items from list","Action_deleteImageLink_text":"Remove Image","Action_deleteImageLink_tooltip":"Remove image from list","Action_copyToClipboard_text":"Copy","Action_copyToClipboard_tooltip":"Copy","Action_pasteFromClipboard_text":"Paste","Action_pasteFromClipboard_tooltip":"Paste","Action_cutToClipboard_text":"Cut","Action_cutToClipboard_tooltip":"Cut","Action_openInTab_text":"Open in Tab","Action_openInTab_tooltip":"Open in Tab",
"Action_openInBackgroundTab_text":"Open in Background","Action_openInBackgroundTab_tooltip":"Open in background","Action_openInTree_text":"Open","Action_openInTree_tooltip":"Open folder","Action_openInBrowserTab_text":"Open in Browser","Action_openInBrowserTab_tooltip":"Open in a new browser tab","Action_openInBrowserTab_icon":"","Action_rename_text":"Rename","Action_rename_tooltip":"Rename","Action_rename_icon":"","Action_restoreVersion_text":"Restore Version","Action_restoreVersion_tooltip":"Restore the selected version",
"Action_restoreVersion_buttonText":"Restore","Action_restoreVersion_verifyMessage_title":"Restore the Selected Version","Action_restoreVersion_verifyMessage_text":"Your current changes will be overwritten. Are you sure?","Action_withdraw_text":"Withdraw","Action_withdraw_tooltip":"Withdraw","Action_withdraw_buttonText":"Withdraw","Action_withdraw_folder_verifyMessage_title":"Withdraw Folder","Action_withdraw_folder_verifyMessage_text":"Do you really want to withdraw the folder '{0}'?","Action_withdraw_contents_verifyMessage_title":"Withdraw Contents",
"Action_withdraw_contents_verifyMessage_text":"Do you really want to withdraw {0} contents?","Action_delete_text":"Delete","Action_delete_tooltip":"Delete","Action_delete_buttonText":"Delete","Action_delete_document_verifyMessage_title":"Delete Content Item","Action_delete_document_verifyMessage_text":"Do you really want to delete the content item '{0}'?","Action_delete_folder_verifyMessage_title":"Delete Folder","Action_delete_folder_verifyMessage_text":"Do you really want to delete the folder '{0}'?",
"Action_delete_contents_verifyMessage_title":"Delete Contents","Action_delete_contents_verifyMessage_text":"Do you really want to delete {0} contents?","Action_undelete_text":"Restore","Action_undelete_tooltip":"Restore content item from trash bin","Action_workflow_text":"Workflow","Action_deleteBlob_text":"Remove","Action_deleteBlob_tooltip":"Remove","Action_openBlob_text":"Download","Action_openBlob_tooltip":"Download the file","Action_newContent_newDocumentName_text":"New Content Item","Action_showInTree_text":"Show in Library",
"Action_showInTree_tooltip":"Show content item in Library","Action_showInFolder_text":"Show in Folder","Action_showInFolder_tooltip":"Show content item in Folder","Action_saveSearch_text":"Save search","Action_saveSearch_tooltip":"Save search folder to favorites toolbar","Action_saveSearch_notification_added":"The search has been saved.","Action_deleteSearch_text":"Remove Search Folder","Action_deleteSearch_tooltip":"Remove search folder from the favorites toolbar","Action_addSearch_text":"Add Search Folder",
"Action_addSearch_tooltip":"Add a new search folder to the favorites toolbar","Action_addSearch_hint_text":"Click here to save the \x3c/br\x3e current search and filters","Action_moveUserItemtoTop_text":"Move to Top","Action_moveUserItemtoTop_tooltip":"Move the search folder to the top of the list","Action_moveUserItemup_text":"Move Up","Action_moveUserItemup_tooltip":"Move the search folder one position up","Action_moveUserItemdown_text":"Move Down","Action_moveUserItemdown_tooltip":"Move the search folder one position down",
"Action_moveUserItemtoBottom_text":"Move to Bottom","Action_moveUserItemtoBottom_tooltip":"Move the search folder to the bottom of the list","Action_showSearch_text":"Open","Action_fullWidth_text":"Show full page in overview","Action_fullWidth_tooltip":"Show full page in overview","Action_responsiveMode_text":"Show page in responsive mode","Action_responsiveMode_tooltip":"Show page in responsive mode","Action_closeTabsAction_closeTabText":"Close Tab","Action_closeTabsAction_closeOtherTabsText":"Close Other Tabs",
"Action_closeTabsAction_closeAllTabsText":"Close All Tabs","Action_revert_verifyMessage_allContentTabs_text":"All your changes in opened content items will be reverted.\x3cbr\x3eYou cannot undo this action.","Action_renameTabContentAction_menu_text":"Rename","Action_renameTabContentAction_title_text":"Rename Content","Action_renameTabContentAction_message_text":"Enter a new name for the content","Action_addStructListItem_text":"Add Item","Action_addStructListItem_tooltip":"Add item to ListProperty",
"Action_deleteStructNode_text":"Remove Item","Action_deleteStructNode_tooltip":"Remove item","Action_cutStructNode_text":"Cut","Action_cutStructNode_tooltip":"Cut","Action_copyStructNode_text":"Copy","Action_copyStructNode_tooltip":"Copy","Action_pasteToStructNode_text":"Paste","Action_pasteToStructNode_tooltip":"Paste","Action_duplicateStructNode_text":"Duplicate","Action_duplicateStructNode_tooltip":"Duplicate","Action_moveStructListItemUp_text":"Move Up","Action_moveStructListItemUp_tooltip":"Move up",
"Action_moveStructListItemDown_text":"Move Down","Action_moveStructListItemDown_tooltip":"Move down","Action_downloadXliff_text":"Download XLIFF","Action_downloadXliff_tooltip":"Download an XLIFF file","Action_openVersionComparison_text":"Compare Version with Current Content","Action_openVersionComparison_tooltip":"Compare version with current content","Action_translate_text":"Autotranslate","Action_translate_tooltip":"Translate automatically to {0}","Action_translate_inProgress":"Translation in progress…",
"Action_translate_complete":"Translation complete ({0} translated, {1} errors).","Action_setPreferredSite_text":"Set as Preferred Site","Action_setPreferredSite_tooltip":"Select this site as the preferred site","Action_openSiteHomepageInTab_text":"Open Home Page in Tab","Action_openSiteHomepageInTab_tooltip":"Open the Homepage of the selected Site in Tab (CTRL+ALT+H)","CHECKIN":"Apply Changes","APPROVE":"Approve","APPROVE_PUBLISH":"Approve and Publish"},function(){this.prototype["Action_checkIn_icon"]=
com.coremedia.icons.CoreIcons_properties.INSTANCE.check_in_document;this.prototype["Action_revert_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.revert;this.prototype["Action_approve_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.approve;this.prototype["Action_disapprove_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.revert_approve;this.prototype["Action_publish_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.publish;this.prototype["Action_approvePublish_icon"]=
com.coremedia.icons.CoreIcons_properties.INSTANCE.approve_and_publish;this.prototype["Action_deleteSelectedLinks_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.remove;this.prototype["Action_deleteImageLink_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.remove;this.prototype["Action_copyToClipboard_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.copy;this.prototype["Action_pasteFromClipboard_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.paste;this.prototype["Action_cutToClipboard_icon"]=
com.coremedia.icons.CoreIcons_properties.INSTANCE.cut;this.prototype["Action_openInTab_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.pencil;this.prototype["Action_openInBackgroundTab_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.pencil;this.prototype["Action_restoreVersion_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.restore_version;this.prototype["Action_withdraw_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.withdraw;this.prototype["Action_delete_icon"]=
com.coremedia.icons.CoreIcons_properties.INSTANCE.trash_bin;this.prototype["Action_undelete_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.undelete;this.prototype["Action_workflow_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.workflow;this.prototype["Action_deleteBlob_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.remove;this.prototype["Action_openBlob_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.download;this.prototype["Action_showInTree_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.show_in_library;
this.prototype["Action_showInFolder_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.show_in_library;this.prototype["Action_saveSearch_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.save;this.prototype["Action_fullWidth_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.preview_overview;this.prototype["Action_responsiveMode_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.preview_responsive;this.prototype["Action_addStructListItem_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.add_item_to_property_list;
this.prototype["Action_deleteStructNode_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.remove;this.prototype["Action_cutStructNode_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.cut;this.prototype["Action_copyStructNode_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.copy;this.prototype["Action_pasteToStructNode_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.paste;this.prototype["Action_duplicateStructNode_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.duplicate;
this.prototype["Action_moveStructListItemUp_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.move_up;this.prototype["Action_moveStructListItemDown_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.move_down;this.prototype["Action_downloadXliff_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.xliff;this.prototype["Action_openVersionComparison_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.version_comparison;this.prototype["Action_translate_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.xliff;
com.coremedia.cms.editor.sdk.actions.Actions_properties.INSTANCE=new com.coremedia.cms.editor.sdk.actions.Actions_properties});Ext.define("com.coremedia.cms.editor.sdk.shortcuts.ShortcutLocalization_properties",{3:"Cancel",6:"Help","BACKSPACE":"\x26#27f5;","TAB":"\x26#8633;","NUM_CENTER":"Clear","ENTER":"\x26crarr;",14:"ENTER_SPECIAL","SHIFT":"\x26#8679;","CTRL":"Ctrl","ALT":"Alt","PAUSE":"Pause","CAPS_LOCK":"\x26#8682;",21:"KANA",22:"EISU",23:"JUNJA",24:"FINAL",25:"HANJA","ESC":"Esc",28:"CONVERT",29:"NONCONVERT",30:"ACCEPT",31:"MODECHANGE","SPACE":"Space","PAGE_UP":"Page \x26#8679;","PAGE_DOWN":"Page \x26#8681;","END":"End",
"HOME":"Home","LEFT":"\x26larr;","UP":"\x26uarr;","RIGHT":"\x26rarr;","DOWN":"\x26darr;",41:"Select",42:"Print",43:"EXECUTE","PRINT_SCREEN":"Print","INSERT":"Ins","DELETE":"Del","ZERO":"0","ONE":"1","TWO":"2","THREE":"3","FOUR":"4","FIVE":"5","SIX":"6","SEVEN":"7","EIGHT":"8","NINE":"9","CONTEXT_MENU":"\x26#9636;","NUM_ZERO":"Num0","NUM_ONE":"Num1","NUM_TWO":"Num2","NUM_THREE":"Num3","NUM_FOUR":"Num4","NUM_FIVE":"Num5","NUM_SIX":"Num6","NUM_SEVEN":"Num7","NUM_EIGHT":"Num8","NUM_NINE":"Num9","NUM_MULTIPLY":"Num*",
"NUM_PLUS":"Num+","NUM_MINUS":"Num-","NUM_PERIOD":"Num.","NUM_DIVISION":"Num/","F1":"F1","F2":"F2","F3":"F3","F4":"F4","F5":"F5","F6":"F6","F7":"F7","F8":"F8","F9":"F9","F10":"F10","F11":"F11","F12":"F12",124:"F13",125:"F14",126:"F15",127:"F16",128:"F17",129:"F18",130:"F19",131:"F20",132:"F21",133:"F22",134:"F23",135:"F24",144:"NUM_LOCK",145:"SCROLL_LOCK",146:"WIN_OEM_FJ_JISHO",147:"WIN_OEM_FJ_MASSHOU",148:"WIN_OEM_FJ_TOUROKU",149:"WIN_OEM_FJ_LOYA",150:"WIN_OEM_FJ_ROYA",160:"CIRCUMFLEX",161:"EXCLAMATION",
162:"DOUBLE_QUOTE",163:"HASH",164:"DOLLAR",165:"PERCENT",166:"AMPERSAND",167:"UNDERSCORE",168:"OPEN_PAREN",169:"CLOSE_PAREN",170:"ASTERISK",171:"\x26#43;",172:"\x26#124;",173:"HYPHEN_MINUS",174:"OPEN_CURLY_BRACKET",175:"CLOSE_CURLY_BRACKET",176:"TILDE",181:"VOLUME_MUTE",182:"VOLUME_DOWN",183:"VOLUME_UP",186:";",187:"\x26#61; \x3d",188:",",189:"\x26#45; minus",190:"PERIOD",191:"\x26#47; slash",192:"BACK_QUOTE",219:"OPEN_BRACKET",220:"BACK_SLASH",221:"CLOSE_BRACKET",222:"QUOTE",224:"META",225:"ALTGR",
227:"WIN_ICO_HELP",228:"WIN_ICO_00",230:"WIN_ICO_CLEAR",233:"WIN_OEM_RESET",234:"WIN_OEM_JUMP",235:"WIN_OEM_PA1",236:"WIN_OEM_PA2",237:"WIN_OEM_PA3",238:"WIN_OEM_WSCTRL",239:"WIN_OEM_CUSEL",240:"WIN_OEM_ATTN",241:"WIN_OEM_FINISH",242:"WIN_OEM_COPY",243:"WIN_OEM_AUTO",244:"WIN_OEM_ENLW",245:"WIN_OEM_BACKTAB",246:"ATTN",247:"CRSEL",248:"EXSEL",249:"EREOF",250:"PLAY",251:"ZOOM",253:"PA1",254:"WIN_OEM_CLEAR"},function(){com.coremedia.cms.editor.sdk.shortcuts.ShortcutLocalization_properties.INSTANCE=new com.coremedia.cms.editor.sdk.shortcuts.ShortcutLocalization_properties});Ext.define("com.coremedia.cms.editor.sdk.shortcuts.Shortcut_properties",{"Shortcut_remove_key":"DELETE","Shortcut_remove_description":"Remove item / close tab","Shortcut_selectNext_key":"RIGHT","Shortcut_selectNext_description":"Select next","Shortcut_selectPrevious_key":"LEFT","Shortcut_selectPrevious_description":"Select previous","Shortcut_closeWindow_key":"ESC","Shortcut_closeWindow_description":"Close window","Shortcut_toggleDashboard_key":"F2","Shortcut_toggleDashboard_description":"Toggle Dashboard",
"Shortcut_toggleLibrary_key":"F3","Shortcut_toggleLibrary_description":"Toggle Library","Shortcut_toggleControlRoom_key":"F4","Shortcut_toggleControlRoom_description":"Toggle Control Room","Shortcut_cut_key":"CmdOrCtrl+X","Shortcut_cut_description":"Cut","Shortcut_copy_key":"CmdOrCtrl+C","Shortcut_copy_description":"Copy","Shortcut_paste_key":"CmdOrCtrl+V","Shortcut_paste_description":"Paste","Shortcut_openHomepage_key":"ctrl+alt+H","Shortcut_openHomepage_description":"Open Homepage of preferred site",
"Shortcut_moveUp_key":"ctrl+alt+I","Shortcut_moveUp_description":"Move selection up","Shortcut_moveDown_key":"ctrl+alt+K","Shortcut_moveDown_description":"Move selection down","Shortcut_moveLeft_key":"ctrl+alt+J","Shortcut_moveLeft_description":"Move selection left","Shortcut_moveRight_key":"ctrl+alt+L","Shortcut_moveRight_description":"Move selection right","Shortcut_toggle_key":"ctrl+alt+T","Shortcut_toggle_description":"Toggle docked/windowed state","Shortcut_export_key":"ctrl+alt+D","Shortcut_checkin_key":"ctrl+alt+U",
"Shortcut_checkin_description":"Check In active Content","Shortcut_approve_key":"ctrl+alt+O","Shortcut_approve_description":"Approve active Content","Shortcut_publish_key":"ctrl+alt+P","Shortcut_publish_description":"Publish active Content","Shortcut_withdraw_key":"ctrl+alt+A","Shortcut_withdraw_description":"Withdraw active Content","Shortcut_revert_key":"ctrl+alt+F","Shortcut_revert_description":"Revert active Content","Shortcut_bookmark_key":"ctrl+alt+B","Shortcut_bookmark_description":"Bookmark active Content",
"Shortcut_show_key":"ctrl+alt+S","Shortcut_show_description":"Show in Library","Shortcut_increase_key":"ctrl+alt+M","Shortcut_increase_description":"Increase window size","Shortcut_decrease_key":"ctrl+alt+N","Shortcut_decrease_description":"Decrease window size","Shortcut_close_current_tab_key":"ctrl+alt+W","Shortcut_close_current_tab_description":"Close current tab","Shortcut_close_all_tabs_key":"ctrl+alt+shift+W","Shortcut_close_all_tabs_description":"Close all tabs","Shortcut_select_next_tab_key":"ctrl+alt+PAGE_UP",
"Shortcut_select_next_tab_description":"Select next tab","Shortcut_select_previous_tab_key":"ctrl+alt+PAGE_DOWN","Shortcut_select_previous_tab_description":"Select previous tab","Shortcut_nextRegion_key":"ctrl+alt+R","Shortcut_nextRegion_description":"Jump to next focus region","Shortcut_previousRegion_key":"ctrl+alt+shift+R","Shortcut_previousRegion_description":"Jump to previous focus region"},function(){com.coremedia.cms.editor.sdk.shortcuts.Shortcut_properties.INSTANCE=new com.coremedia.cms.editor.sdk.shortcuts.Shortcut_properties});Ext.define("com.coremedia.cms.editor.sdk.dashboard.Dashboard_properties",{requires:["com.coremedia.icons.CoreIcons_properties"],"tab_title":"Dashboard","header_addWidget_tooltip":"Add widget","show_all_text":"Show All","Action_removeWidget_text":"Remove Widget","Action_saveWidget_text":"Save","WidgetSeparator_addWidget_tooltip":"Add widget at current position","WidgetType_text":"Widget Type","WidgetEditor_notConfigurable_text":"\x3cp\x3eA widget of this type does not support any configuration options.\x3c/p\x3e",
"Action_showDashboard_text":"Dashboard","Action_showDashboard_tooltip":"Show dashboard","Widget_FixedSearch_name":"Search","Widget_FixedSearch_description":"This widget shows the results of a preconfigured search.","Widget_FixedSearch_icon":"search-widget-icon","Widget_SavedSearch_description":"This widget shows the results of a saved search.","Widget_SavedSearch_icon":"search-widget-icon","Widget_SimpleSearch_name":"Simple Search","Widget_SimpleSearch_description":"This widget shows the results of a customizable search.",
"Widget_SimpleSearch_icon":"search-widget-icon","Widget_SimpleSearch_contentType_text":"Content Type","Widget_SimpleSearch_searchText_text":"Search Text","Widget_SimpleSearch_site_text":"Site","Widget_SimpleSearch_site_preferredSite_text":"Preferred Site","Widget_SimpleSearch_site_allContent_text":"All Content","Widget_SearchWidgetTitleFormatter_entireRepository_text":"in all Content","Widget_QuickSearch_name":"Quick Search","Widget_QuickSearch_description":"This widget allows the user to execute a quick search, specifying a search term and a content type.",
"Widget_QuickSearch_icon":"search-widget-icon","Widget_Button_Reload_tooltip_text":"Reload Widget","Widget_Button_Edit_tooltip_text":"Edit Widget","Widget_TranslationStatus_name":"Translation State","Widget_TranslationStatus_description":"This widget shows the translation state of the selected site.","Widget_TranslationStatus_icon":"search-widget-icon","Widget_TranslationStatus_masterSiteLabel_text":"Master Site","Widget_TranslationStatus_noMasterSite_text":"—","Widget_TranslationStatus_extIntegerFormat":",.",
"Widget_TranslationStatus_extDecimalFormat":",.0","Widget_TranslationStatus_kiloSuffix":"k","Widget_TranslationStatus_megaSuffix":"M"},function(){this.prototype["header_addWidget_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.add;this.prototype["Action_showDashboard_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.pencil;com.coremedia.cms.editor.sdk.dashboard.Dashboard_properties.INSTANCE=new com.coremedia.cms.editor.sdk.dashboard.Dashboard_properties});Ext.define("com.coremedia.cms.editor.sdk.premular.fields.struct.StructPropertyField_properties",{requires:["com.coremedia.icons.CoreIcons_properties"],"Action_addStructProperty_tooltip":"Add {0}","property_text":"Property","property_type_text":"Type","property_value_text":"Value","empty_link_text":"---","empty_string_text":"Enter a string here.","empty_integer_text":"Enter a number here.","empty_date_text":"Enter a date here.","link_drop_zone_text":"Add a content item by dragging it from the Library here.",
"links_drop_zone_text":"Add content by dragging it from the Library here.","struct_property_count_0":"Struct (empty)","struct_property_count_1":"Struct with 1 property","struct_property_count_pattern_n":"Struct with {0} properties","struct_collection_item_count_pattern_0":"0 {1} elements (empty)","struct_collection_item_count_pattern_1":"1 {1} element","struct_collection_item_count_pattern_n":"{0} {1} elements","nth_item_pattern":"#{0}","propertyType_string_text":"String","propertyType_strings_text":"String List",
"propertyType_integer_text":"Integer","propertyType_integers_text":"Integer List","propertyType_boolean_text":"Boolean","propertyType_booleans_text":"Boolean List","propertyType_link_text":"Link","propertyType_links_text":"Link List","propertyType_date_text":"Date","propertyType_dates_text":"Date List","propertyType_struct_text":"Struct","propertyType_structs_text":"Struct List","linkProperty_description":"Link to","new_property_text":"new property","property_description_type_text":"Type"},function(){this.prototype["Action_addStructProperty_icon"]=
com.coremedia.icons.CoreIcons_properties.INSTANCE.add;com.coremedia.cms.editor.sdk.premular.fields.struct.StructPropertyField_properties.INSTANCE=new com.coremedia.cms.editor.sdk.premular.fields.struct.StructPropertyField_properties});Ext.define("com.coremedia.cms.editor.sdk.columns.grid.GridColumns_properties",{"creationDate_header":"Created","icon_header":"Icon","name_header":"Name","status_header":"Status","type_header":"Type","freshness_header":"Last Modified","score_header":"Relevance","siteName_header":"Site","siteLocale_header":"Locale"},function(){com.coremedia.cms.editor.sdk.columns.grid.GridColumns_properties.INSTANCE=new com.coremedia.cms.editor.sdk.columns.grid.GridColumns_properties});Ext.define("com.coremedia.cms.editor.sdk.publication.Publisher_properties",{"publicationNotification_publish_succeeded_title":"The Publication Succeeded:","publicationNotification_approvePublish_succeeded_title":"The Publication Succeeded:","publicationNotification_withdraw_succeeded_title":"The Withdrawal Succeeded:","publicationResult_publish_failed_title":"Publication Failed","publicationResult_publish_failed_changeSet_sg_message":"You wanted to publish the following content:","publicationResult_publish_failed_changeSet_pl_message":"You wanted to publish the following contents:",
"publicationResult_publish_conflicts_text":"Conflicts ({0})","publicationResult_publish_conflicts_emptyMessage":"The publication was successful. No conflicts were found.","publicationResult_publish_information_text":"About This Publication ({0})","publicationResult_publish_information_emptyMessage":"No content item or folder could be published without causing a conflict.","publicationResult_approvePublish_failed_title":"Publication Failed","publicationResult_approvePublish_failed_changeSet_sg_message":"You wanted to approve and publish the following content:",
"publicationResult_approvePublish_failed_changeSet_pl_message":"You wanted to approve and publish the following contents:","publicationResult_approvePublish_conflicts_text":"Conflicts ({0})","publicationResult_approvePublish_conflicts_emptyMessage":"The publication was successful. No conflicts were found.","publicationResult_approvePublish_information_text":"About This Publication ({0})","publicationResult_approvePublish_information_emptyMessage":"No content item or folder could be published without causing a conflict.",
"publicationResult_withdraw_failed_title":"Withdrawal Failed","publicationResult_withdraw_failed_changeSet_sg_message":"You wanted to withdraw the following content:","publicationResult_withdraw_failed_changeSet_pl_message":"You wanted to withdraw the following contents:","publicationResult_withdraw_conflicts_emptyMessage":"The withdrawal was successful. No conflicts were found.","publicationResult_withdraw_conflicts_text":"Conflicts ({0})","publicationResult_withdraw_information_emptyMessage":"No content item or folder could be withdrawn without causing a conflict.",
"publicationResult_withdraw_information_text":"About This Withdrawal ({0})","publicationResult_error_documentDoesNotExist_sg_text":"The following content item has been irrevocably deleted in the meantime.","publicationResult_error_documentDoesNotExist_pl_text":"The following {0} content items have been irrevocably deleted in the meantime.","publicationResult_error_folderDoesNotExist_sg_text":"The following folder has been irrevocably deleted in the meantime.","publicationResult_error_folderDoesNotExist_pl_text":"The following {0} folders have been irrevocably deleted in the meantime.",
"publicationResult_error_documentNotApproved_sg_text":"The following content item should be approved.","publicationResult_error_documentNotApproved_pl_text":"The following {0} content items should be approved.","publicationResult_error_folderNotApproved_sg_text":"The following folder should be approved.","publicationResult_error_folderNotApproved_pl_text":"The following {0} folders should be approved.","publicationResult_error_documentConcurrentlyWithdrawn_sg_text":"The following content item has been withdrawn while being published.",
"publicationResult_error_documentConcurrentlyWithdrawn_pl_text":"The following {0} content items have been withdrawn while being published.","publicationResult_error_linkedDocumentNotApproved_sg_text":"The following linked content item should be approved.","publicationResult_error_linkedDocumentNotApproved_pl_text":"The following {0} linked content items should be approved.","publicationResult_error_documentConcurrentlyDeleted_sg_text":"The following content item has been moved to the trash bin in the meantime and cannot be published.",
"publicationResult_error_documentConcurrentlyDeleted_pl_text":"The following {0} content items have been moved to the trash bin in the meantime, therefore they cannot be published.","publicationResult_error_documentAlreadyDeleted_sg_text":"The following content item has been moved to the trash bin in the meantime.","publicationResult_error_documentAlreadyDeleted_pl_text":"The following {0} content items have been moved to the trash bin in the meantime.","publicationResult_error_folderAlreadyDeleted_sg_text":"The following folder has been moved to the trash bin in the meantime.",
"publicationResult_error_folderAlreadyDeleted_pl_text":"The following {0} folders have been moved to the trash bin in the meantime.","publicationResult_error_documentLinkFailed_sg_text":"The following content item cannot be published because a link to a dependent content item cannot be published.","publicationResult_error_documentLinkFailed_pl_text":"Some content items cannot be published because {0} links to dependent content items cannot be published.","publicationResult_error_documentParentFailed_sg_text":"The folder needs to be published before the content item can be published.",
"publicationResult_error_documentParentFailed_pl_text":"These folders need to be published before {0} content item can be published.","publicationResult_error_folderParentFailed_sg_text":"The parent folder needs to be published before the child folder can be published.","publicationResult_error_folderParentFailed_pl_text":"These parent folders need to be published before {0} child folders can be published.","publicationResult_error_documentTargetNameConflict_sg_text":"The content item cannot be published because its current location is occupied by another content item on the live system.",
"publicationResult_error_documentTargetNameConflict_pl_text":"These {0} content items cannot be published because their current locations are occupied by other content items on the live system.","publicationResult_error_folderTargetNameConflict_sg_text":"The folder cannot be published because its current location is occupied by another folder on the live system.","publicationResult_error_folderTargetNameConflict_pl_text":"These {0} folders cannot be published because their current locations are occupied by other folder on the live system.",
"publicationResult_error_documentConcurrentlyRenamed_sg_text":"The name of the following content item was changed during publication. Please retry the publication.","publicationResult_error_documentConcurrentlyRenamed_pl_text":"The names of the following {0} content items were changed during publication. Please retry the publication.","publicationResult_error_folderConcurrentlyRenamed_sg_text":"The name of the following folder was changed during publication. Please retry the publication.","publicationResult_error_folderConcurrentlyRenamed_pl_text":"The names of the following {0} folders were changed during publication. Please retry the publication.",
"publicationResult_error_documentNoApproveRights_sg_text":"You do not have the necessary permissions to approve the following content item.","publicationResult_error_documentNoApproveRights_pl_text":"You do not have the necessary permissions to approve the following {0} content items.","publicationResult_error_folderNoApproveRights_sg_text":"You do not have the necessary permissions to approve the following folder.","publicationResult_error_folderNoApproveRights_pl_text":"You do not have the necessary permissions to approve the following {0} folders.",
"publicationResult_error_documentNoRights_sg_text":"You do not have the necessary permissions to publish the following content item.","publicationResult_error_documentNoRights_pl_text":"You do not have the necessary permissions to publish the following {0} content items.","publicationResult_error_folderNoRights_sg_text":"You do not have the necessary permissions to publish the following folder.","publicationResult_error_folderNoRights_pl_text":"You do not have the necessary permissions to publish the following {0} folders.",
"publicationResult_error_documentNoWithdrawRights_sg_text":"You do not have the necessary permissions to withdraw the following content item.","publicationResult_error_documentNoWithdrawRights_pl_text":"You do not have the necessary permissions to withdraw the following {0} content items.","publicationResult_error_folderNoWithdrawRights_sg_text":"You do not have the necessary permissions to withdraw the following folder.","publicationResult_error_folderNoWithdrawRights_pl_text":"You do not have the necessary permissions to withdraw the following {0} folders.",
"publicationResult_error_documentUnremovableWithdrawal_sg_text":"The following content item is marked for withdrawal and you do not have the necessary permissions to remove the mark.","publicationResult_error_documentUnremovableWithdrawal_pl_text":"The following {0} content items are marked for withdrawal and you do not have the necessary permissions to remove the marks.","publicationResult_error_folderUnremovableWithdrawal_sg_text":"The following folder is marked for withdrawal and you do not have the necessary permissions to remove the mark.",
"publicationResult_error_folderUnremovableWithdrawal_pl_text":"The following {0} folders are marked for withdrawal and you do not have the necessary permissions to remove the marks.","publicationResult_error_documentKeepsLiveLink_sg_text":"The following content item cannot be withdrawn because another published content item still links to it. Please remove the link and retry the withdrawal.","publicationResult_error_documentKeepsLiveLink_pl_text":"The following content items cannot be withdrawn because {0} links from other content items still exist. Please remove the links and retry the withdrawal.",
"publicationResult_error_documentCheckedOutByOther_sg_text":"The following content item is being edited by another user and cannot be published.","publicationResult_error_documentCheckedOutByOther_pl_text":"The following {0} content items are being edited by other users and cannot be published.","publicationResult_error_documentNotValid_sg_text":"The following content item contains errors and cannot be approved.","publicationResult_error_documentNotValid_pl_text":"The following {0} content items contain errors and cannot be approved.",
"publicationResult_error_folderNotValid_sg_text":"The following folder contains errors and cannot be approved.","publicationResult_error_folderNotValid_pl_text":"The following {0} folders contain errors and cannot be approved.","publicationResult_error_documentInTrash_sg_text":"The following content item has been moved to the trash bin and cannot be published.","publicationResult_error_documentInTrash_pl_text":"The following {0} content items have been moved to the trash bin and cannot be published.",
"publicationResult_error_folderInTrash_sg_text":"The following folder has been moved to the trash bin and cannot be published.","publicationResult_error_folderInTrash_pl_text":"The following {0} folders have been moved to the trash bin and cannot be published.","publicationResult_error_folderKeepsLiveChildren_sg_text":"The following folder cannot be withdrawn because it still contains a child object on the live system.","publicationResult_error_folderKeepsLiveChildren_pl_text":"The following {0} folders cannot be withdrawn because they still contain child objects on the live system.",
"publicationResult_error_folderKeepsChildren_sg_text":"The following folder cannot be deleted because it still contains a child object which is not supposed to be deleted.","publicationResult_error_folderKeepsChildren_pl_text":"The following {0} folders cannot be deleted because they still contain child objects which are not supposed to be deleted.","publicationResult_error_folderCannotMarkChildToBeWithdrawn_sg_text":"The following folder cannot be withdrawn because it contains a child object that cannot be withdrawn.",
"publicationResult_error_folderCannotMarkChildToBeWithdrawn_pl_text":"The following {0} folders cannot be withdrawn because they contains child objects that cannot be withdrawn.","publicationResult_error_linkedDocumentNotBelowBaseFolder_sg_text":"The following content item links to a content item of another site. Only links within one site are allowed.","publicationResult_error_linkedDocumentNotBelowBaseFolder_pl_text":"The following {0} content items link to content items of other sites. Only links within one site are allowed.",
"publicationResult_error_documentLaterVersion_sg_text":"This version of the following content item could not be published because a later version is already live.","publicationResult_error_documentLaterVersion_pl_text":"These versions of the following {0} content items could not be published because later versions are already live.","publicationResult_error_documentUnchanged_sg_text":"This version of the following content item is already published.","publicationResult_error_documentUnchanged_pl_text":"These versions of the following {0} content items are already published.",
"publicationResult_error_folderUnchanged_sg_text":"This version of the following folder is already published.","publicationResult_error_folderUnchanged_pl_text":"These versions of the following {0} folders are already published.","publicationResult_error_documentDeleted_sg_text":"The following content item can be moved into the trash bin.","publicationResult_error_documentDeleted_pl_text":"The following {0} content items can be moved into the trash bin.","publicationResult_error_folderDeleted_sg_text":"The following folder can be moved into the trash bin.",
"publicationResult_error_folderDeleted_pl_text":"The following {0} folders can be moved into the trash bin.","publicationResult_error_documentWithdrawn_sg_text":"The following content item can be withdrawn.","publicationResult_error_documentWithdrawn_pl_text":"The following {0} content items can be withdrawn.","publicationResult_error_folderWithdrawn_sg_text":"The following folder can be withdrawn.","publicationResult_error_folderWithdrawn_pl_text":"The following {0} folders can be withdrawn.","publicationResult_error_documentPublished_sg_text":"The following content item can be published.",
"publicationResult_error_documentPublished_pl_text":"The following {0} content items can be published.","publicationResult_error_folderPublished_sg_text":"The following folder can be published.","publicationResult_error_folderPublished_pl_text":"The following {0} folders can be published.","publicationResult_error_publicationSpansBaseFolders_sg_text":"A single object occupies multiple base folders? This should not happen. Please contact your administrator.","publicationResult_error_publicationSpansBaseFolders_pl_text":"The publication set spans multiple base folders in a multi-site repository. Please limit your publication to a single base folder.",
"publicationResult_error_documentInRootFolderUnpublishable_sg_text":"The following content item is placed in the root folder in a multi-site repository. Such content items cannot be published.","publicationResult_error_documentInRootFolderUnpublishable_pl_text":"The following content items are placed in the root folder in a multi-site repository. Such content items cannot be published.","publicationResult_error_unconfiguredPublicationTarget_sg_text":"The following content item or folder is placed in a base folder for which no publication target has been defined.",
"publicationResult_error_unconfiguredPublicationTarget_pl_text":"The elements of the publication set are placed in a base folder for which no publication target has been defined.","publicationResult_error_publicationCancelled_sg_text":"The publication has been cancelled. It is likely that nothing has been published.","publicationResult_error_publicationCancelled_pl_text":"The publication has been cancelled. It is likely that nothing has been published.","publicationResult_error_internalError_sg_text":"An internal error occurred during or after the publication. Please contact your administrator.",
"publicationResult_error_internalError_pl_text":"An internal error occurred during or after the publication. Please contact your administrator.","publicationResult_impedimentType_documentLinkFailed_text":"links to","publicationResult_impedimentType_documentParentFailed_text":"is contained in","publicationResult_impedimentType_folderParentFailed_text":"is contained in","publicationResult_impedimentType_documentTargetNameConflict_text":"conflicts with","publicationResult_impedimentType_folderTargetNameConflict_text":"conflicts with",
"publicationResult_impedimentType_documentKeepsLiveLink_text":"links to","publicationResult_impedimentType_folderKeepsLiveChildren_text":"contains","publicationResult_impedimentType_folderKeepsChildren_text":"contains"},function(){com.coremedia.cms.editor.sdk.publication.Publisher_properties.INSTANCE=new com.coremedia.cms.editor.sdk.publication.Publisher_properties});Ext.define("com.coremedia.cms.editor.sdk.about.Lander_properties",{"instructions_text":"Use the keyboard.\x3cbr\x3eDon't touch the sides.\x3cbr\x3eYou may land, but not too hard.\x3cbr\x3eEnter the portals.\x3cbr\x3eBeware of changing gravities."},function(){com.coremedia.cms.editor.sdk.about.Lander_properties.INSTANCE=new com.coremedia.cms.editor.sdk.about.Lander_properties});Ext.define("com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeSettings_properties",{"pagegrid_new_placements_base_property":"placements_2","pagegrid_list_property":"placements","pagegird_placement_items_property":"items","hidden_in_navigation_property":"hidden","navigation_children_property":"children","navigation_document_type":"CMChannel","navigation_document_type_exclusions":"CMCategory","all_documents_iconCls":"content-type-CMObject-icon","navigation_node_text":"Page","navigation_node_label":"Page",
"navigation_node_iconCls":"content-type-CMChannel-icon","validation_enabled":"true"},function(){com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeSettings_properties.INSTANCE=new com.coremedia.cms.editor.sdk.navigationtree.NavigationTreeSettings_properties});Ext.define("com.coremedia.cms.editor.Editor_properties",{requires:["com.coremedia.icons.CoreIcons_properties"],"studio_window_title":"CoreMedia Studio","message_box_title":"CoreMedia Studio","EditorMain_loading_text":"Starting Studio…","EditorMain_loadingPlugin_text":"Loading plugin\x26#160;'{0}'","EditorMain_loadingProgress_text":"{0} of {1}","EditorMain_loadingMainView_text":"Initializing Studio…","studio_on_unload":"By leaving the site the CoreMedia Studio will be closed.","dateFormat":"Y/m/d g:i A",
"shortDateFormat":"Y/m/d","calendarFormat":"m/d/Y g:i A","content_type_any_txt":"Content","Date_property_field":"Date","Time_property_field":"Time","dialog_defaultSubmitButton_text":"Confirm","dialog_defaultCreateButton_text":"Create","dialog_defaultCancelButton_text":"Cancel","dialog_defaultCloseButton_text":"Close","dialog_pasteErrorTitle_text":"Paste Error","dialog_pasteErrorMessage_text":"The clipboard contains a content item '{0}' with the type '{1}' that doesn't match the linklist content type '{2}'.",
"dialog_pasteErrorUnreadableMessage_text":"The clipboard contains an unreadable content item.","dialog_confirmFolderMoveTitle_text":"Confirm Folder Move","dialog_confirmFolderMoveMessage_text":"Your selection contains folders. Do you really want to move these content items?","dialog_confirmFolderMoveOkButtonText_text":"Move","dialog_confirmCrossSiteMoveTitle_text":"Confirm Cross-Site Move","dialog_confirmCrossSiteMoveMessage_text":"You are about to change the site of the selected content items. Do you really want to move these content items?",
"dialog_confirmCrossSiteMoveOkButtonText_text":"Move","dialog_confirmFolderRenameTitle_text":"Confirm Folder Rename","dialog_confirmFolderRenameMessage_text":"Do you really want to rename this folder?","dialog_confirmFolderRenameOkButtonText_text":"Rename","dialog_confirmLargeCopyOperationTitle_text":"Confirm Copy Operation","dialog_confirmLargeCopyOperationMessage_text":"Do you really want to copy {0} items?","dialog_confirmLargeCopyOperationOkButtonText_text":"Copy","dialog_confirmLargeMoveOperationTitle_text":"Confirm Move Operation",
"dialog_confirmLargeMoveOperationMessage_text":"Do you really want to move {0} items?","dialog_confirmLargeMoveOperationOkButtonText_text":"Move","FavoritesToolbarRegion_label":"Favorites Bar","FavoritesToolbar_label":"Favorites","FavoritesToolbar_lastEdited_btn_text":"Last edited","FavoritesToolbar_extensions_btn_text":"Apps","FavoritesToolbar_lastEdited_btn_height":"46","Content_notReadable_text":"Element name not visible (ID: {0})","SearchField_empty_text":"Search…","SearchField_loading_text":"Loading suggestions…",
"SearchArea_historyBack_btn_tooltip":"Back","SearchArea_historyForward_btn_tooltip":"Forward","SearchArea_search_btn_tooltip":"Start search","SearchArea_breadcrump_label":"Search in:","SearchArea_newFolderName_text":"New folder","SearchArea_newFolder_btn_tooltip":"Create new folder","SearchArea_newDocument_btn_tooltip":"Create new content","SearchArea_listView_btn_tooltip":"Switch to list view","SearchArea_treeView_btn_tooltip":"Switch to tree view","SearchArea_thumbnailView_btn_tooltip":"Switch to thumbnail view",
"SearchArea_repositoryMode_btn_tooltip":"Switch to browse mode","SearchArea_searchMode_btn_tooltip":"Switch to search mode","SearchArea_contenttypeselector_tooltip":"Content type selector","SearchArea_header_toolbar":"Library search","SearchArea_content_type_selector_empty_text":"Select content type","SearchList_sorting_error_handling_ui_has_no_header_title":"Invalid Saved Search Folder","SearchList_sorting_error_handling_ui_has_no_header_message":"Can not sort by sortfield {0}. It will be sorted by 'Last Modified' instead.",
"CollectionView_searchArea_mode_toolbar_label":"Mode","CollectionView_repositoryToolbar_label":"Library","CollectionView_searchToolbar_label":"Search","CollectionView_switchView_toolbar_label":"View","CollectionView_title":"Library","CollectionView_label":"Library (F3)","CollectionView_emptySearch_text":"No search result.","CollectionView_emptySearchNotRoot_text":"No search result, possibly because the search is limited to a specific folder.","CollectionView_emptySearchNotRoot_link_text":"Retry Search in All Content",
"CollectionView_emptyFolder_text":"This folder is empty.","CollectionView_contentRootFolder_treenode_title":"All Content","CollectionView_one_hit_text":"{0} search result","CollectionView_many_hits_text":"{0} search results","CollectionView_partial_hits_text":"{0} search results ({1} shown)","CollectionView_contentState_deleted_text":"In the trash bin, original location: {0}","CollectionView_thumnail_dataview":"Document thumbnail view","CollectionView_repositorylist_text":"Document list view","CollectionView_repositorytree_text":"Document tree view",
"CollectionView_breadcrumb_toolbar_text":"Breadcrumb","CollectionView_breadcrumb_root_text":"Breadcrumb root","CollectionView_number_of_items_in_selected_folder":"{0} items","DatePropertyField_dateFormat":"m/d/Y H:i","DateTimePropertyField_dateFormat":"m/d/Y","DateTimePropertyField_timeFormat":"g:i A","DateTimePropertyField_timeSeparator":"at","DateTimePropertyField_emptyDate":"Date","DateTimePropertyField_emptyTime":"Time","DateTimePropertyField_emptyTimeZone":"Time zone","DateTimePropertyField_dateReset_text":"Reset",
"DateTimePropertyField_dateValidator_message":"Invalid date format","DateTimePropertyField_timeValidator_message":"Invalid time format","DateTimePropertyField_timeZoneValidator_message":"Invalid time zone format","DateTimeMenu_timeZone_title":"Time zone","DateTimeMenu_time_title":"Time","ListView_columnHeader_creationDate":"","ListView_columnHeader_lifecycleStatus":"Status","ListView_columnHeader_name":"","ListView_columnHeader_status":"","ListView_columnHeader_type":"","ListView_suffix":"List","TreeView_repository":"Repository",
"CollectionChooserWindow_title":"Choose a","Filter_status_text":"Status","Filter_status_dropdown_button_text":"Editorial States","Filter_inProduction_text":"In Production","Filter_checkedOutByMe_text":"Checked out by Me","Filter_checkedOutByOthers_text":"Checked out by Others","Filter_notCheckedOut_text":"Not Checked Out","Filter_approved_text":"Approved","Filter_published_text":"Published","Filter_deleted_text":"Deleted","Filter_lastEditedBy_text":"Last Edited By","Filter_lastEditedByAnyone_text":"Anyone",
"Filter_lastEditedByMe_text":"Me","Filters":"Filters","Filter_restore_btn_text":"Restore filter to their defaults","Filter_restore_btn_style":"filter-panel-restore","Filter_Site_text":"Site","Filter_Site_preferred_site_button":"Preferred Site","Filter_Site_all_content_button":"All Content","Filter_TranslationStatus_text":"Translation","Filter_TranslationStatus_site_text":"Target Site","Filter_TranslationStatus_preferredSite_text":"Preferred Site","Filter_TranslationStatus_noSite_text":"Select a Site",
"Filter_TranslationStatus_locale_text":"Target Locale","Filter_TranslationStatus_status_text":"Status","Filter_TranslationStatus_status_new-in-master_text":"New in Master","Filter_TranslationStatus_status_new-in-master_tooltip":"Show content items that exist only in the master site but not in the local site.","Filter_TranslationStatus_status_not-up-to-date_text":"Master Updated","Filter_TranslationStatus_status_not-up-to-date_tooltip":"Show content items that have been translated to the local site, but now have a newer version in the master site.",
"Filter_TranslationStatus_status_not-localized-yet_text":"Not Translated Yet","Filter_TranslationStatus_status_not-localized-yet_tooltip":"Show content items that have been copied to the local site but have not been translated, yet.","Filter_TranslationStatus_status_in-translation_text":"In Translation","Filter_TranslationStatus_status_in-translation_tooltip":"Show content items that are currently in translation to the local site.","Filter_TranslationStatus_status_up-to-date_text":"Up to Date","Filter_TranslationStatus_status_up-to-date_tooltip":"Show content items whose current version in the master site has already been translated to the local site.",
"Filter_language_text":"Language","Filter_language_all_text":"All","Filter_date_modificationdate_text":"Last Modified","Filter_date_publicationdate_text":"Published","Filter_date_days_any_text":"Any","Filter_date_days_1_text":"1 day ago","Filter_date_days_7_text":"1 week ago","Filter_date_days_14_text":"2 weeks ago","Filter_date_days_30_text":"1 month ago","Filter_date_days_365_text":"1 year ago","DocumentFormToolbar_label":"Document Form","DocumentFormToolbar_state_noRights_text":"Read-only","DocumentFormToolbar_state_noRights_info":"You can view the content but you cannot edit it.",
"DocumentFormToolbar_state_checkedOut_text":"Editing in progress","DocumentFormToolbar_state_checkedOut_info":"You have started editing this content. It is now locked for other users.","DocumentFormToolbar_state_checkedOutByOther_mayWrite_text":"Content is edited by '{0}'","DocumentFormToolbar_state_checkedOutByOther_mayWrite_info":"This content item is being edited by another user. Once the user has completed this process, you can apply your changes.","DocumentFormToolbar_state_checkedOutByOther_noRights_text":"Read-only, edited by '{0}'",
"DocumentFormToolbar_state_checkedOutByOther_noRights_info":"You can view the content but you cannot edit it. Furthermore, this content is being edited by another user.","DocumentFormToolbar_state_locked_workflow_text":"Locked by workflow","DocumentFormToolbar_state_locked_workflow_helpTitle":"Locked by Workflow","DocumentFormToolbar_state_locked_workflow_helpText":"You cannot edit the content because it is currently used in the workflow '{0}'.","VersionSelector_version_default_text":"Version {0}",
"VersionSelector_version_latestPublished_text":"Version {0} (Currently Published)","VersionSelector_version_latestTranslated_text":"Version {0} (Currently Localized)","VersionSelector_version_toBeTranslated_text":"Version {0} (To Be Localized)","VersionSelector_versionTooltip_text":"\x3cb\x3eVersion {0}\x3c/b\x3e\x3cbr/\x3eAuthor: {1}\x3cbr/\x3eDate: {2}\x3cbr/\x3eState: {3}","VersionSelector_versionTooltip_state_notPublished":"Not Published","VersionSelector_versionTooltip_state_published":"Published by {0} on {1}",
"VersionSelector_versionTooltip_state_latestPublished":"Currently Published by {0} on {1}","VersionSelector_versionTooltip_state_latestTranslated_notPublished":"Not Published, Currently Localized","VersionSelector_versionTooltip_state_latestTranslated_published":"Published by {0} on {1}, Currently Localized","VersionSelector_versionTooltip_state_latestTranslated_latestPublished":"Currently Published by {0} on {1}, Currently Localized","VersionSelector_versionTooltip_state_toBeTranslated_notPublished":"Not Published, To Be Localized",
"VersionSelector_versionTooltip_state_toBeTranslated_published":"Published by {0} on {1}, To Be Localized","VersionSelector_versionTooltip_state_toBeTranslated_latestPublished":"Currently Published by {0} on {1}, To Be Localized","VersionSelector_enableDifferencing_versionComparison_text":"Compare with Current Content","VersionSelector_enableDifferencing_masterComparison_text":"Compare with Currently Translated Version","VersionSelector_versionSubMenu_text":"… ({2} Versions)","VersionComparisonMenuItem_text":"\x3cb\x3e{0}\x3c/b\x3e by {1} on {2}",
"VersionComparisonMenuItem_newestVersion_text":"\x3cb\x3e{0}\x3c/b\x3e by {1} on {2} (Current Version)","VersionComparisonMenuItem_latestPublished_text":"\x3cb\x3e{0}\x3c/b\x3e by {1} on {2} (Currently Published)","VersionComparisonMenuItem_latestTranslated_text":"\x3cb\x3e{0}\x3c/b\x3e by {1} on {2} (Currently Translated)","VersionComparisonMenuItem_toBeTranslated_text":"\x3cb\x3e{0}\x3c/b\x3e by {1} on {2} (To Be Translated)","VersionComparisonMenuItem_derivedFrom_text":"\x3cb\x3e{0}\x3c/b\x3e by {1} on {2} (Copied Version)",
"SwitchDifferencingButton_master_tooltip":"Open master content item for comparison","SwitchDifferencingButton_master_text":"Compare Languages","SwitchDifferencingButton_version_tooltip":"Open version for comparison","SwitchDifferencingButton_version_text":"Compare Versions","SwitchDifferencingButton_hide_tooltip":"Close comparison view","SwitchDifferencingButton_button_text":"Open Differencing Menu","DifferencingView_fieldChanged_tooltip":"This field has changed.","StartTab_tab_title":"Start","StartTab_title":"welcome",
"StartTab_question_text":"What can you do?","StartTab_info_library_text":"With the Library (F3) you can reach your content items and search.","StartTab_info_searchfolder_text":"With the search folders you get the results of prepared searches.","StartTab_info_controlroom_text":"The Control Room (F4) is your tool to get an overview of your work.","StartTab_info_dashboard_text":"The Dashboard (F2) shows different personalized reports.","StartTab_warning_license_header":"Missing Licenses","StartTab_warning_license_body":"The following components need to be licensed:",
"MainNavigationToolbar_label":"Main Functions","MainNavigationToolbar_showDashboard_btn_text":"Show Dashboard (F2)","MainNavigationToolbar_showLibrary_btn_text":"Show Library (F3)","MainNavigationToolbar_showLibrary_btn_tooltip":'\x3cspan style\x3d"white-space:nowrap"\x3eShow Library (F3)\x3c/span\x3e',"HeaderToolbar_label":"Header","HeaderToolbar_logout_btn_text":"Log Out {0}","HeaderToolbar_changePassword_btn_text":"Change Password","HeaderToolbar_refreshData_btn_text":"Synchronize with server",
"HeaderToolbar_siteSelector_label":"Preferred Site","HeaderToolbar_siteSelector_empty_text":"All sites","HeaderToolbar_siteSelector_none_text":"Not selected","HeaderToolbar_siteSelector_displayName_pattern":"{0} - {2}","HeaderToolbar_userPreferenceMenu_ci_logo_class":"logo-36","HeaderToolbar_userPreferenceMenu_ci_text":"CoreMedia","HeaderToolbar_userMenu_label":"User Menu","Preview_panel_btn_tooltip":"Minimize preview or show standard view","Document_panel_btn_tooltip":"Minimize form or show standard view",
"Premular_closeMessage_title":"Apply Changes?","Premular_closeMessage_title_named":"Apply Changes for '{0}'?","Premular_closeMessage_text":"You are about to close a content item that has not been approved or published. Do you want to apply or revert your changes?","Premular_closeMessage_text_named":"You are about to close the content item '{0}'. It has not been approved or published. Do you want to apply or revert your changes?","Premular_closeMessage_btn_checkin":"Apply","Premular_closeMessage_btn_revert":"Revert",
"Premular_closeMessage_btn_cancel":"Cancel","Premular_closedMessage_title":"Content Closed","Premular_closedMessage_text":"A content item had to be closed because it was deleted concurrently.","Premular_versionNumber_text":"Version {0}","Premular_title_destroyed_text":"destroyed","Premular_developmentMode_enable_tooltip":"Show preview with own theme","Premular_developmentMode_disable_tooltip":"Stop showing preview with own theme","Premular_form_label":"Form","DocumentForm_title":"Content","MetaDataPanel_title":"Properties",
"MetaDataPanel_documentId_text":"Content ID","MetaDataPanel_path_text":"Path","MetaDataPanel_contentType_text":"Type","MetaDataPanel_parentFolderId_text":"Folder ID","MetaDataPanel_creator_text":"Creator","MetaDataPanel_filing_text":"Filing","MetaDataPanel_history_text":"Editing History","MetaDataPanel_history_emptyText":"This document has no version yet.","MetaDataPanel_history_version_text":"Version","MetaDataPanel_history_editor_text":"Editor","MetaDataPanel_history_date_text":"Date","MetaDataPanel_history_state_text":"Status",
"MetaDataPanel_history_state_latest_text":"Current","MetaDataPanel_history_state_latestPublished_text":"Currently Published","MetaDataPanel_history_state_formerlyPublished_text":"Previously Published","MetaDataPanel_history_state_latestApproved_text":"Latest Approved","MetaDataPanel_history_state_lastPublishedBy_text":"Published by","MetaDataPanel_history_state_lastApprovedBy_text":"Approved by","MetaDataPanel_history_state_initial_text":"Created","TranslationStatus_translator_up-to-date_text":"unmodified",
"TranslationStatus_translator_up-to-date_tooltip":"Master has not been modified since previous localization.","TranslationStatus_translator_not-up-to-date_text":"","TranslationStatus_translator_not-up-to-date_tooltip":"Master was modified. Localization needs to be updated.","TranslationStatus_translator_not-localized-yet_text":"new","TranslationStatus_translator_not-localized-yet_tooltip":"The content needs to be localized for the first time.","TranslationStatus_translator_no-master_text":"no master",
"TranslationStatus_translator_no-master_tooltip":"No master link specified.","TranslationStatus_translator_master-version-destroyed_text":"master version destroyed","TranslationStatus_translator_master-version-destroyed_tooltip":"Referenced master version was destroyed.","TranslationStatus_translator_invalid_text":"invalid","TranslationStatus_translator_invalid_tooltip":"Master version is invalid. Completing localization will re-adjust the version.","TranslationStatus_provider_up-to-date_text":"",
"TranslationStatus_provider_up-to-date_tooltip":"Master has not been modified since previous localization.","TranslationStatus_provider_not-up-to-date_text":"needs update","TranslationStatus_provider_not-up-to-date_tooltip":"Master was modified. Localization needs to be updated.","TranslationStatus_provider_not-localized-yet_text":"new","TranslationStatus_provider_not-localized-yet_tooltip":"The content needs to be localized for the first time.","TranslationStatus_provider_no-master_text":"no master",
"TranslationStatus_provider_no-master_tooltip":"No master link specified.","TranslationStatus_provider_master-version-destroyed_text":"master version destroyed","TranslationStatus_provider_master-version-destroyed_tooltip":"Referenced master version was destroyed.","TranslationStatus_provider_invalid_text":"invalid","TranslationStatus_provider_invalid_tooltip":"Master version is invalid.","TranslationStatus_provider_in-translation_text":"in translation","TranslationStatus_provider_in-translation_tooltip":"The content is in translation.",
"DerivedContentsList_title":"Derived Content","DerivedContentsList_emptyText":"No contents have been derived from this content.","SiteInfo_name_text":"Name","SiteInfo_locale_text":"Locale","SiteInfo_header_text":"Site","Blob_size_text":"File size","Blob_size_bytes_text":"bytes","Blob_contentType_text":"File format","Blob_contentType_image":"Image","Blob_contentType_image_helpText":"i.e. with suffix png, jpeg or gif","Blob_contentType_image_x_icon_helpText":"i.e. with suffix ico","Blob_contentType_all":"File",
"Blob_contentType_all_helpText":"You can upload all kinds of file formats.","Blob_uploadError_title":"Upload Failed","Blob_uploadError_type_error":"Files with mime type '{0}' are mapped to '{1}' documents, but only subtypes of '{2}' documents are allowed for this list.","Blob_uploadError_empty_type_error":"No target document type could be calculated. Check the upload settings and the default content type to use for uploads.","Blob_uploadError_wrongType":"The uploaded file has the wrong type.","Blob_uploadButton_text":"Upload {0}…",
"url_trigger_btn_tooltip":"Refresh preview","OpenIssuesWindow_btn_text":"Content Errors and Warnings","OpenIssuesWindow_btn_tooltip":"Show list of content errors and warnings. There are no errors or warnings.","OpenIssuesWindow_btn_errorMessage":"Show list of content errors and warnings. There are errors or warnings.","IssuesWindow_globalProperty_text":"Global","IssuesWindow_title":"Content Errors and Warnings","IssuesWindow_errorHeader_text":"Content Errors ({0})","IssuesWindow_warnHeader_text":"Content Warnings ({0})",
"IssuesWindow_noError_text":"There are no errors.","IssuesWindow_noWarn_text":"There are no warnings.","IssuesWindow_tooltip":"If errors or warnings are present in the content item, they will be displayed here. They contain links to the corresponding fields.\x3cbr\x3e\x3cb\x3eErrors\x3c/b\x3e must be corrected, otherwise the website might be broken.\x3cbr\x3e\x3cb\x3eWarnings\x3c/b\x3e are less severe and should be resolved.","IssuesDetectedWindow_title":"Write Error","IssuesDetectedWindow_header_error_text":"The last change could not be performed.",
"IssuesDetectedWindow_header_warn_text":"The last change might not have been executed correctly.","IssuesDetectedWindow_singleMessagePrefix_text":"Reason:","IssuesDetectedWindow_multiMessagePrefix_text":"The following problems were detected:","OpenDifferencesWindow_text":"Changes","OpenDifferencesWindow_btn_tooltip":"Show list of changes. There are no changes.","OpenDifferencesWindow_btn_changesMessage":"Show list of changes. There are changes.","DifferencesWindow_title":"Changes","DifferencesWindow_headerVersion_text":"Changes since Version {0}",
"DifferencesWindow_headerMaster_text":"Changes between Version {0} and the Currently Localized Version","DifferencesWindow_noChanges_text":"There are no changes.","DifferencesWindow_tooltip":"This window lists fields whose value has changed since creating the selected version.","PublicationResultWindow_retry_btn_text":"Retry","RemoteControl_unknown_command_error_title":"Unknown Command","RemoteControl_unknown_command_error":"The command in the link is unknown. Contact the user who has sent you the link.",
"RemoteControl_openContent_error_title":"Incorrect Link","RemoteControl_openContent_error_item_not_exists":"The link does not work because the item with the given ID does not exist. Contact the user who has sent you the link.","RemoteControl_openContent_error_document_deleted":"The link does not work because the content item with the given ID has been deleted. To recover the content item, contact your administrator.","RemoteControl_openContent_error_document_is_folder":"The link does not work because the content item with the given ID is a folder. Contact the user who has sent you the link.",
"RemoteControl_openContent_error_document_is_not_readable":"The link does not work because you don't have sufficient system privileges to read this content item.","RemoteControl_openContent_error_document_not_specified":"The link does not work because it does not specify a content item to open. Contact the user who has sent you the link.","Mail_SendDocumentLink_template":"Hello,\n\nUser '{0}' has sent you a link to the content item '{1}'.\n\nClick the link below to open the content item in CoreMedia Studio:\n\n{2}\n\nClick the link below if you want to see the preview without logging into CoreMedia Studio:\n{3}\n",
"Mail_SendDocumentLinkWithoutPreview_template":"Hello,\n\nUser '{0}' has sent you a link to the content item '{1}'.\n\nClick the link below to open the content item in CoreMedia Studio:\n\n{2}\n\nNo preview exists for this content type.\n","Mail_SendDocumentLink_subject":"URL for content item '{0}' (sent by CoreMedia Studio)","Login_title":"Login","Login_name":"Name","Login_password":"Password","Login_domain":"Domain","Login_domain_empty_text":"Domain name","Login_failedMessage":"Your login attempt was not successful, please try again.",
"Login_failedMessageMargin":"208","Login_submit":"Log In","Login_remember_name_text":"Remember My Name","Login_in_progress":"Logging In…","Login_displayName_THE_DEFAULT_DOMAIN_ID":"System","Login_margin_right":"0 120 0 11","Login_autoLogout_title":"Auto Logout","Login_autoLogout_message":"To protect your account, your session was automatically closed at {0} after a period of inactivity. Please log in again.","ChangePassword_title":"Change Password","ChangePassword_oldPassword_text":"Old Password",
"ChangePassword_newPassword_text":"New Password","ChangePassword_repeatPassword_text":"Repeat New Password","ChangePassword_successMessage":"The password has been successfully changed.","PreviewPanelToolbar_label":"Preview","PreviewPanelToolbar_sendLink_btn_text":"Send link","PreviewPanelToolbar_reload_btn_tooltip":"Reload preview","PreviewPanelToolbar_openInBrowser_btn_tooltip":"Open preview in browser tab","PreviewPanelToolbar_preview_loading":"Loading preview …","PreviewPanel_emptyPreview":"No preview exists for this content or content type.",
"PreviewPanel_label":"Preview","PreviewIFrameToolbar_label":"Preview Sub","PreviewZoomMenu_zoom-in_text":"zoom in","PreviewZoomMenu_zoom-out_text":"zoom out","PreferenceWindow_title":"Preferences","PreferenceWindow_general_text":"Studio","PreferenceWindow_reload_text_1":"Reload Preview after","PreferenceWindow_reload_text_2":"Seconds","PreferenceWindow_shortcuts_text":"Shortcuts","PreferenceWindow_language_text":"Language","PreferenceWindow_UserMenu_title":"User Menu","PreferenceWindow_userMenuShowSiteCheckBox_text":"Show Site Name",
"PreferenceWindow_userMenuShowSiteLocaleCheckBox_text":"Show Site Locale","PreferenceWindow_userMenuShowUserNameCheckBox_text":"Show User Name","PreferenceWindow_Preview_title":"Preview","PreferenceWindow_showPreviewHoverFrames_text":"Highlight Content in the Preview on Mouse Over","PreferenceWindow_showPreviewScrollbars_text":"Show Scrollbars in the Device Preview","PreferenceWindow_showAllTabsInForm_title":"Tabs","PreferenceWindow_showAllTabsInForm_text":"Always Show Advanced Tabs in Forms","AboutWindow_title":"About",
"AboutWindow_closeButton_text":"Close","AboutWindow_coremedia_text":"CoreMedia Studio {0}","AboutWindow_selectAll_text":"Select all for copying","AboutWindow_property_userName":"Login name","AboutWindow_property_userDomain":"Login domain","AboutWindow_property_userDomain_default":"internal","AboutWindow_property_licenceId":"Licence ID","AboutWindow_property_licensee":"Licensee","AboutWindow_property_licenseFeatures":"License features","AboutWindow_property_requiredLicenses":"Required licenses","AboutWindow_property_studio_locale":"Current locale",
"AboutWindow_property_studio_locales":"Available locales","AboutWindow_property_client_os":"Operating system","AboutWindow_property_client_timezone":"Time zone","AboutWindow_property_client_type":"Browser type","AboutWindow_property_client_type_firefox":"Firefox","AboutWindow_property_client_type_gecko":"Gecko-based browser","AboutWindow_property_client_type_webkit":"WebKit-based browser","AboutWindow_property_client_type_chrome":"Chrome","AboutWindow_property_client_type_opera":"Opera","AboutWindow_property_client_type_safari":"Safari",
"AboutWindow_property_client_type_ie":"Internet Explorer","AboutWindow_property_client_type_ie8":"Internet Explorer 8","AboutWindow_property_client_type_ie9":"Internet Explorer 9","AboutWindow_property_client_type_unknown":"unknown","AboutWindow_property_client_userAgent":"Browser details","AboutWindow_property_client_locale":"Browser locale","AboutWindow_property_server_url":"Server address","AboutWindow_property_server_os":"Server OS","AboutWindow_property_server_jvm":"Server JVM","AboutWindow_property_server_start":"Server start time",
"AboutWindow_property_server_locale":"Server default locale","AboutWindow_property_server_timeZone":"Server time zone","AboutWindow_property_server_versions":"Module versions","AboutWindow_property_cache_contents":"Cache contents","AboutWindow_property_eventQueue_current":"Todo list, now","AboutWindow_property_eventQueue_max":"Todo list, maximum","Locale_en_text":"English","Locale_de_text":"Deutsch","Locale_ja_text":"日本人","lifecycleStatus_checked-out-by-other_text":"Checked out by {0}","lifecycleStatus_checked-out_text":"Checked out by me",
"lifecycleStatus_in-production_text":"In Production","lifecycleStatus_approved_text":"Approved","lifecycleStatus_published_text":"Published","lifecycleStatus_was_published_text":"Was Published","lifecycleStatus_lock_text":"Locked","lifecycleStatus_deleted_text":"Deleted","lifecycleStatus_in-production_icon":"","LinkListPropertyField_text":"Add content by dragging it from the Library here.","LinkListPropertyFieldWithSuggestions_text":"Type here to search or drag and drop content onto this area.","LinkListPropertyFieldWithSuggestions__button_focus_tooltip_text":"Open related content in List",
"LinkListPropertyField_button_aria_label":"Open Library","LinkListPropertyField__button_tooltip_text":"Open related content in Library.","LinkListPropertyFieldWithSuggestions__button_tooltip_text":"Open Suggestions in Library","LinkListPropertyField_boundlist_empty_text":"No results found","LinkListPropertyField_class":"link-list-property-drop-container","DragDropVisualFeedback_multiSelect_text":"{0} selected content items","saveSearchWindow_title":"Save Search","newSearchFolder_metaComboEntry_text":"Create New Search Folder",
"newSearch_textField_label":"Name","newSearch_defaultValue_text":"New Search","newSearchWidget_metaComboEntry_text":"Create New Widget","newSearchWidget_textField_label":"Search Widget Name","newSearchWidget_defaultValue_text":"New Widget","emptyMySearchesMenu_text":"No Saved Search Folders","replaceExistingSearchFolder_text":"Replace Existing Search Folder","saveSearchSubmitButton_text":"Save Search","saveSearch_saveAsLabel_text":"Save as","saveSearch_saveAsWidgetCheckbox_text":"Widget","saveSearch_saveAsFolderCheckbox_text":"Search Folder",
"UserItemsAreaButtonShowAll_text":"All","UserItemsAreaButtonCollapse_text":"Back","ERROR":"Errors","WARN":"Warnings","INFO":"Information","ReferrerListPanel_list_header_site":"Site","ReferrerListPanel_list_header_siteLocale":"Locale","ReferrerListPanel_list_header_name":"Name","ReferrerListPanel_list_include_deleted":"Include Deleted Contents","ReferrerListPanel_label":"Content Items Linking to This Content Item","ReferrerListPanel_emptyListLabel":"There is no readable content that links to this content item.",
"ReferrerListPanel_listLimitLabel":"Showing only a part of the referrers list because it would be too large.","ImageReferrers_name_column_text":"Content Item","StartTranslationWorkflowPanel_empty_text":"Add content to localize by dragging it from the Library here.","StartSynchronisationWorkflowPanel_empty_text":"Add content to synchronize by dragging it from the Library here.","StartPublicationWorkflowPanel_empty_text":"Add content to publish by dragging it from the Library here.","MemberSearchField_qtip_no_member_found":"No person or group by this name found",
"MemberSearchField_emptyText":"Enter a name or a group name here.","MemberSearchField_loading_text":"Loading members…","SelectedMemberElement_group_suffix":"(Group)","SelectedMemberElement_expand_btn_tooltip":"List all people of this group individually","SelectedMemberElement_remove_btn_tooltip":"Remove","SelectedMemberElement_offer":"Assign This Workflow to All Eligible People","SelectedMemberElement_assign":"Assign This Workflow to the Following People:","ContentGridPanel_empty_text":"Add content by dragging it from the Library here.",
"CreateFolder_dialog_title":"Create Folder","CreateFolder_dialog_title_message":"In the selected folder, the following child folders do not exist yet:","CreateFolder_dialog_confirm_question":"Do you want to create these folders now?","CreateFolder_dialog_ok_button":"Create","MasterVersionPropertyField_translated_text":"The content has been localized from version {0}.","MasterVersionPropertyField_notTranslated_text":"The content has been copied from version {0} and is not localized, yet.","SynchronizationPropertyField_ignoreUpdates_boxLabel":"Keep synchronized with Master",
"ExpandFolderLimit_exceeded_title":"Could Not Expand Folders","ExpandFolderLimit_exceeded_text":"One or more selected folders exceed the limit of {0} contained content items.","BookmarksMenuButton_label":"Bookmarks","Bookmark_renameBookmarkAction_menu_text":"Rename","Bookmark_renameBookmarkAction_title_text":"Rename Bookmark","Bookmark_renameBookmarkAction_message_text":"Enter a new name for the bookmark","Bookmark_toggle_text":"Toggle Bookmark","Bookmark_bookmarkAction_menu_text":"Remove","Bookmark_button_add_tooltip":"Bookmark the selected content item",
"Bookmark_button_remove_tooltip":"Remove bookmark","Bookmark_empty_list":"No bookmarks set","Bookmark_button_add_text":"Add Bookmark","Bookmark_button_remove_text":"Remove Bookmark","Bookmark_button_text":"Bookmarks","WorkArea_Premular_tooltip_siteName":"Site","WorkArea_Premular_tooltip_siteLocale":"Site Locale","WorkArea_Premular_tooltip_contentLocale":"Content Locale","WorkArea_Premular_tooltip_locale":"Locale","WorkArea_Premular_tooltip_noSite":"\x3ci\x3enone\x3c/i\x3e","WorkArea_label":"Work Area",
"date_today_text":"Today","date_one_day_ago_text":"Yesterday","date_in_one_day_text":"Tomorrow","date_x_days_ago_text":"{0} days ago","date_in_x_days_text":"In {0} days","date_one_year_ago_text":"A year ago","date_in_one_year_text":"In a year","ApproveAllAndRetryAction_text":"Approve All and Retry","ApproveAllAndRetryAction_failure_title":"Approval Failed","ApproveAllAndRetryAction_failure_text":"The approval process failed. The server says: {0}","CheckBefore_validationErrorWindowTitle":"Content Item Contains Errors",
"CheckBefore_validationErrorWindowTextSimple":"A content item contains errors, so that the attempted operation is not currently possible. Correct the errors and try again.","btn_ok":"OK","btn_start":"Start","btn_cancel":"Cancel","btn_remove":"Remove","ImageLinkList_no_data":"Could not generate thumbnail. Edit content item to upload a picture.","CreateContentMenuButton_label":"New","Button_disabled_insufficient_privileges":"This function is not available due to insufficient privileges.","Navigation_show_all":"All",
"Navigation_root_suffix":"Navigation","Navigation_action_show_hidden_items":"Show all Navigation Items","Navigation_action_hide_items":"Show Only Visible Navigation","navigation_checkout_error_title":"Error Editing Navigation Tree","navigation_checkout_error_message":"Failed to execute action because {0} '{1}' is checked out by another user.","ActionsToolbarRegion_label":"Actions Toolbar","ActionsToolbar_label":"Actions"},function(){this.prototype["metadataTreeProperty_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.arrow_right;
this.prototype["FavoritesToolbar_userItems_btn_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.search_folder;this.prototype["FavoritesToolbar_extensions_btn_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.apps;this.prototype["CollectionView_userHomeFolder_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.home;this.prototype["CollectionView_siteRootFolder_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.site;this.prototype["CollectionView_preferredSiteLink_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.site_link;
this.prototype["CollectionView_synchronizedSite_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.site_synchronized;this.prototype["CollectionView_translatedSite_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.site_translated;this.prototype["CollectionView_folder_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.folder;this.prototype["Filter_restore_btn_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.remove;this.prototype["SwitchDifferencingButton_master_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.language_comparison;
this.prototype["SwitchDifferencingButton_version_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.version_comparison;this.prototype["MainNavigationToolbar_showDashboard_btn_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.dashboard;this.prototype["MainNavigationToolbar_showLibrary_btn_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.library;this.prototype["Premular_checked_out_by_me_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.pencil;this.prototype["Premular_checked_out_by_other_icon"]=
com.coremedia.icons.CoreIcons_properties.INSTANCE.edited_by_user;this.prototype["Blob_contentType_default_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.mimetype;this.prototype["Blob_contentType_image_default_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.type_picture;this.prototype["Blob_contentType_text_default_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.mimetype_txt;this.prototype["Blob_contentType_video_default_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.type_video;
this.prototype["Blob_contentType_application_default_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.type_object;this.prototype["Blob_contentType_image_x_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.type_picture;this.prototype["Blob_contentType_image_tiff_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.mimetype_tiff;this.prototype["Blob_contentType_application_x_shockwave_flash_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.mimetype_swf;this.prototype["Blob_contentType_application_pdf_icon"]=
com.coremedia.icons.CoreIcons_properties.INSTANCE.mimetype_pdf;this.prototype["Blob_contentType_application_zip_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.mimetype_zip;this.prototype["Blob_contentType_application_msword_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.mimetype_doc;this.prototype["Blob_contentType_application_vnd_openxmlformats_officedocument_wordprocessingml_document_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.mimetype_doc;this.prototype["Blob_contentType_application_vnd_openxmlformats_officedocument_wordprocessingml_template_icon"]=
com.coremedia.icons.CoreIcons_properties.INSTANCE.mimetype_doc;this.prototype["Blob_contentType_application_vnd_ms_word_document_macroEnabled_12_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.mimetype_doc;this.prototype["Blob_contentType_application_vnd_ms_word_template_macroEnabled_12_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.mimetype_doc;this.prototype["Blob_contentType_application_vnd_ms_excel_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.mimetype_xls;this.prototype["Blob_contentType_application_vnd_openxmlformats_officedocument_spreadsheetml_sheet_icon"]=
com.coremedia.icons.CoreIcons_properties.INSTANCE.mimetype_xls;this.prototype["Blob_contentType_application_vnd_openxmlformats_officedocument_spreadsheetml_template_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.mimetype_xls;this.prototype["Blob_contentType_application_vnd_ms_excel_sheet_macroEnabled_12_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.mimetype_xls;this.prototype["Blob_contentType_application_vnd_ms_excel_template_macroEnabled_12_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.mimetype_xls;
this.prototype["Blob_contentType_application_vnd_ms_excel_addin_macroEnabled_12_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.mimetype_xls;this.prototype["Blob_contentType_application_vnd_ms_excel_sheet_binary_macroEnabled_12_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.mimetype_xls;this.prototype["Blob_contentType_application_vnd_ms_powerpoint_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.mimetype_ppt;this.prototype["Blob_contentType_application_vnd_openxmlformats_officedocument_presentationml_presentation_icon"]=
com.coremedia.icons.CoreIcons_properties.INSTANCE.mimetype_ppt;this.prototype["Blob_contentType_application_vnd_openxmlformats_officedocument_presentationml_template_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.mimetype_ppt;this.prototype["Blob_contentType_application_vnd_openxmlformats_officedocument_presentationml_slideshow_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.mimetype_ppt;this.prototype["Blob_contentType_application_vnd_ms_powerpoint_addin_macroEnabled_12_icon"]=
com.coremedia.icons.CoreIcons_properties.INSTANCE.mimetype_ppt;this.prototype["Blob_contentType_application_vnd_ms_powerpoint_presentation_macroEnabled_12_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.mimetype_ppt;this.prototype["Blob_contentType_application_vnd_ms_powerpoint_template_macroEnabled_12_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.mimetype_ppt;this.prototype["Blob_contentType_application_vnd_ms_powerpoint_slideshow_macroEnabled_12_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.mimetype_ppt;
this.prototype["OpenDifferencesWindow_btn_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.differencing_summary;this.prototype["lifecycleStatus_checked-out_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.pencil;this.prototype["lifecycleStatus_checked-out-by-other_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.edited_by_user;this.prototype["lifecycleStatus_approved_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.approve;this.prototype["lifecycleStatus_published_icon"]=
com.coremedia.icons.CoreIcons_properties.INSTANCE.publish;this.prototype["lifecycleStatus_was_published_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.publish;this.prototype["lifecycleStatus_lock_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.no_rights;this.prototype["lifecycleStatus_deleted_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.trash_bin;this.prototype["LinkListPropertyField_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.add;this.prototype["LinkListPropertyField_button_icon"]=
com.coremedia.icons.CoreIcons_properties.INSTANCE.library;this.prototype["MySearchItem_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.search_folder;this.prototype["BookmarksMenuButton_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.favorites_folder;this.prototype["CreateContentMenuButton_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.create_content;com.coremedia.cms.editor.Editor_properties.INSTANCE=new com.coremedia.cms.editor.Editor_properties});Ext.define("com.coremedia.cms.editor.DeviceTypes_properties",{requires:["com.coremedia.icons.CoreIcons_properties"],"Device_default_text":"Desktop","Device_mobile_portrait_text":"Mobile","Device_mobile_landscape_text":"Mobile","Device_tablet_portrait_text":"Tablet","Device_tablet_landscape_text":"Tablet","Device_notebook_text":"Notebook","Device_desktop_text":"Desktop","Device_desktopMode_text":"Desktop","Device_label_width":"110"},function(){this.prototype["Device_mobile_portrait_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.channel_mobile_portrait;
this.prototype["Device_mobile_landscape_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.channel_mobile_landscape;this.prototype["Device_tablet_portrait_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.channel_tablet_portrait;this.prototype["Device_tablet_landscape_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.channel_tablet_landscape;this.prototype["Device_notebook_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.channel_notebook;this.prototype["Device_desktop_icon"]=
com.coremedia.icons.CoreIcons_properties.INSTANCE.channel_desktop;this.prototype["Device_desktopMode_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.channel_desktop;this.prototype["Device_default_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.channel_desktop;com.coremedia.cms.editor.DeviceTypes_properties.INSTANCE=new com.coremedia.cms.editor.DeviceTypes_properties});Ext.define("com.coremedia.cms.editor.SystemMessages_properties",{"com.coremedia.cap.content.shutdown_title":"Shutdown Warning","com.coremedia.cap.content.shutdown_text":"The system will be shut down soon.\x3cbr /\x3ePlease finish your work.\x3cbr /\x3eThe shutdown is planned for {1}."},function(){com.coremedia.cms.editor.SystemMessages_properties.INSTANCE=new com.coremedia.cms.editor.SystemMessages_properties});Ext.define("com.coremedia.cms.editor.TimeZones_properties",{},function(){com.coremedia.cms.editor.TimeZones_properties.INSTANCE=new com.coremedia.cms.editor.TimeZones_properties});Ext.define("com.coremedia.cms.editor.TeaserOverlay_properties",{"TeaserOverlay_style_label":"Style","TeaserOverlay_style_no_selection":"No style selected","TeaserOverlay_style_no_title":"No Title","TeaserOverlay_style_tooltip":"Select a style for the teaser text","TeaserOverlay_position_tooltip":"Position","TeaserOverlay_position_text":"Position","TeaserOverlay_width_label":"Width","TeaserOverlay_position_tl":"Position Top Left","TeaserOverlay_position_tc":"Position Top Center","TeaserOverlay_position_tr":"Position Top Right",
"TeaserOverlay_position_ml":"Position Mid Left","TeaserOverlay_position_mc":"Position Mid Center","TeaserOverlay_position_mr":"Position Mid Right","TeaserOverlay_position_bl":"Position Bottom Left","TeaserOverlay_position_bc":"Position Bottom Center","TeaserOverlay_position_br":"Position Bottom Right"},function(){com.coremedia.cms.editor.TeaserOverlay_properties.INSTANCE=new com.coremedia.cms.editor.TeaserOverlay_properties});Ext.define("com.coremedia.cms.editor.EditorErrors_properties",{"editorStart_tooManyDocuments_title":"Recovery of the Session Failed","editorStart_tooManyDocuments_message":"Your last session could not be recovered completely. This is caused by the large amount of content items you have edited.","checkedOutByOther_title":"Content Item is Being Edited by '{0}'","checkedOutByOther_message":"This content item is being edited by '{0}'. Once '{0}' has completed the process, you can apply your changes.",
"duplicateName_title":"Duplicate Name","duplicateName_message":"There is already a file with the same name in this place.\nPlease choose a new name and try again.","invalidName_title":"Invalid Name","invalidName_message":"The entered name is invalid. The name may not be empty, may not be '.'or '..', may not contain '/' characters and must not be too long. Leading and trailing spaces will be removed. Please choose a different name.","invalidName_generic_message":"The name '{0}' is invalid. The name may not be empty, may not be '.'or '..' and it may not contain '/' characters.",
"publish_title":"Publication Failed","publish_message":"Publication of '{0}' failed. Please correct all problems and retry.","notAuthorized_title":"Not Authorized","notAuthorized_message":"You don’t have permission to perform the desired action.","invalidXmlPropertyValue_title":"Error While Saving","invalidXmlPropertyValue_message":"An error occurred while saving. Your input has not been saved. \nYou might have pasted some text from the clipboard. In this case try the function “Paste as plain text”.",
"stringTooLong_title":"Error While Saving","stringTooLong_message":"The following error occurred while saving: string too long. Your input has not been saved.","maxCardinalityValue_title":"Adding Content Items Not Possible","maxCardinalityValue_message":"The list already contains the maximum number of content items. If you want to add another content item, delete an entry and try again.","delete_failedMessage_title":"Error While Deleting","delete_failedMessage_text":"Deletion of '{0}' failed. Please correct all problems and retry.",
"delete_failedMessage_folderNotEmpty_sg_text":"The folder '{0}' contains content items that cannot be deleted.","delete_failedMessage_documentNoRights_sg_text":"You don't have permission to delete the content item '{0}'.","delete_failedMessage_folderNoRights_sg_text":"You don't have permission to delete the folder '{0}'.","delete_failedMessage_documentStillPublished_sg_text":"The content item '{0}' is still published. Please withdraw the content item and try again.","delete_failedMessage_folderStillPublished_sg_text":"The folder '{0}' is still published. Please withdraw the folder and try again.",
"delete_failedMessage_documentCheckedOutByOther_sg_text":"The content item '{0}' is edited by '{1}' and cannot be deleted.","generalError_title":"Failure","generalError_message":"An error occurred. Please contact your system administrator if this problem happens again.","sessionClosed_title":"Session Timed Out","sessionClosed_message":"You have been logged out of the CoreMedia Studio. To protect your account from unauthorized access the connection has been closed after a period of inactivity.","sessionClosed_button":"Log in Again",
"invalidationsRetrievalFailed_title":"Failure","invalidationsRetrievalFailed_text":"The server cannot be reached at the moment. Changes made in the last minute before the failure might have been lost. Please contact your system administrator if this problem occurs repeatedly.\x3cbr\x3eTrying to connect again ...","copy_failedMessage_title":"Error While Copying","copy_failedMessage_text":"Copying failed. Please correct all problems and retry.","startWorkflow_failedMessage_title":"Error While Starting Workflow",
"startWorkflow_failedMessage_text":"Starting a workflow failed. Please contact your administrator.","startWorkflow_failedMessage_WORKFLOW_REPOSITORY_UNAVAILABLE_text":"Starting a workflow failed. The workflow server is unavailable. Please contact your administrator.","startWorkflow_failedMessage_DOCUMENT_CHECKED_OUT_BY_OTHER_USER_text":"The content item to be published is still being edited by another user.","startWorkflow_failedMessage_LINKED_DOCUMENT_CHECKED_OUT_BY_OTHER_USER_text":"A linked content item that needs to be published with the primary content item is still being edited by another user.",
"startWorkflow_noopMessage_title":"Workflow Unnecessary","startWorkflow_noopMessage_text":"Starting the workflow turned out to be unnecessary. The content item in its current state has been published in the meantime.","dataTooOld_title":"Content Item Was Changed","dataTooOld_message":"The content item has been changed by another user and will be reloaded. Your recent changes have not been saved.","markedForDeletion_title":"Content Item Was Marked for Deletion","markedForDeletion_message":"The content item was marked for deletion and therefore cannot be checked out. Your recent changes have not been saved.",
"changePassword_invalidPassword_text":"The password is invalid.","changePassword_passwordsDontMatch_text":"New passwords don't match.","changePassword_generalError_text":"An internal error occurred.","checkBefore_validationErrorWindowTitle":"The Content Item Contains Errors","checkBefore_validationErrorWindowTextSimple":"The content item contains errors, so that the attempted operation is not currently possible. Correct the errors and try again.","checkBefore_validationErrorWindowText":"The content item contains errors, so that the attempted operation is not currently possible. Do you want to open the content item and correct the errors?",
"checkBefore_validationErrorWindow_btn_OK":"OK","checkBefore_validationErrorWindow_btn_openContent":"Yes","checkBefore_validationErrorWindow_btn_dontOpenContent":"No","saveSearch_noSaveOptionSelected_tooltiptext":"Missing save search option.","saveSearch_noSearchNameEntered_tooltiptext":"Missing name.","saveSearch_noSearchNameandOptionEntered_tooltiptext":"Missing name and search option.","saveSearch_searchFolderExists":"A search folder with this name exists already.","saveSearch_widgetExists":"A widget with this name exists already.",
"saveSearch_searchFolderAndWidgetExist":"A search folder and a widget with this name exist already.","Workflow_content_locked_warning_title":"Locked by Workflow","Workflow_content_locked_warning_message":"The content item is currently locked by a workflow. Your recent changes have not been saved."},function(){com.coremedia.cms.editor.EditorErrors_properties.INSTANCE=new com.coremedia.cms.editor.EditorErrors_properties});Ext.define("com.coremedia.cms.editor.ContentTypes_properties",{requires:["com.coremedia.icons.CoreIcons_properties"],"Content__text":"All","Content__toolTip":"All","Folder__text":"Folder","Folder__toolTip":"Folder"},function(){this.prototype["Dictionary_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.dictionary;this.prototype["EditorPreferences_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.type_preferences;this.prototype["Preferences_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.type_preferences;
this.prototype["Query_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.type_query;this.prototype["Settings_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.type_settings;this.prototype["Content__icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.type_object;this.prototype["Document__icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.type_object;this.prototype["Folder__icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.folder;com.coremedia.cms.editor.ContentTypes_properties.INSTANCE=
new com.coremedia.cms.editor.ContentTypes_properties});Ext.define("com.coremedia.cms.editor.ErrorCodes_properties",{"ErrorCode_CAP_WF_06900_text":"No user can execute this task.","ErrorCode_CAP_WF_08020_text":"No user accepted this task in time.","ErrorCode_TRANSLATION_WF_10001_text":"Content in master site not readable: {0}","ErrorCode_TRANSLATION_WF_10002_text":"Content in derived site not writable: {0}","ErrorCode_TRANSLATION_WF_10004_text":"Not authorized to create content of type '{1}' in folder {0}","ErrorCode_TRANSLATION_WF_11001_text":"Site does not exist: {0}",
"ErrorCode_TRANSLATION_WF_11002_text":"Site already exists: {0}","ErrorCode_TRANSLATION_WF_12001_text":"Conflicts on {0} ({1}): {2}","ErrorCode_CAP_SITES_00007_text":"Content in master site has never been checked in: {0}","ErrorCode_CAP_API_20250_text":"You are not authorized to complete this workflow. Please, abort it."},function(){com.coremedia.cms.editor.ErrorCodes_properties.INSTANCE=new com.coremedia.cms.editor.ErrorCodes_properties});Ext.define("com.coremedia.cms.editor.StandardDocumentTypes_properties",{requires:["com.coremedia.icons.CoreIcons_properties"]},function(){this.prototype["ContentType_Dictionary_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.dictionary;this.prototype["ContentType_EditorPreferences_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.type_preferences;this.prototype["ContentType_Preferences_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.type_preferences;this.prototype["ContentType_Query_icon"]=
com.coremedia.icons.CoreIcons_properties.INSTANCE.type_query;this.prototype["ContentType_Content__icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.type_object;this.prototype["ContentType_Document__icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.type_object;this.prototype["ContentType_Folder__icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.folder;this.prototype["ContentType_UserHomeFolder_icon"]=com.coremedia.icons.CoreIcons_properties.INSTANCE.home;com.coremedia.cms.editor.StandardDocumentTypes_properties.INSTANCE=
new com.coremedia.cms.editor.StandardDocumentTypes_properties});Ext.define("com.coremedia.cms.editor.ProcessDefinitions_properties",{"ignored":"ignored"},function(){com.coremedia.cms.editor.ProcessDefinitions_properties.INSTANCE=new com.coremedia.cms.editor.ProcessDefinitions_properties});
//# sourceMappingURL=com.coremedia.ui.sdk__editor-components.js.map
