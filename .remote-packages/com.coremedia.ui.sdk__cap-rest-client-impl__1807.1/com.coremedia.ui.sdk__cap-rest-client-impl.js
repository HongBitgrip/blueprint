Ext.define("com.coremedia.cap.common.impl.CapLoginServiceImpl",function(CapLoginServiceImpl){function CapLoginServiceImpl$(path){this.super$qGjX(path);this.retrieveServiceMethod$qGjX=new com.coremedia.ui.data.impl.RemoteServiceMethod(path+"/retrieve","GET")}function getVersion(){return this.get(com.coremedia.cap.common.CapLoginServicePropertyNames.VERSION)}function getDomains(){return this.get(com.coremedia.cap.common.CapLoginServicePropertyNames.DOMAINS)}function login(user,domain,password,callback){var this$=
this;var loginMethod=new com.coremedia.ui.data.impl.RemoteServiceMethod("../login","POST",false,false,null,true);loginMethod.request({"j_username":user+(domain?"@"+domain:""),"j_password":password},function(response){this$.retrieveSession(callback)},function(response){var error=response.getError();error&&error.setHandled(true);callback(null)})}function retrieveSession(callback){this.requestSession$qGjX(this.retrieveServiceMethod$qGjX,{},function(session){callback(session)})}function requestSession(remoteServiceMethod,
params,callback){var capSession;var capConnection;function success(response){var jsonResponse=response.getResponseJSON();if(!jsonResponse){callback(null);return}com.coremedia.ui.data.impl.RemoteService.initCsrfToken(jsonResponse.csrfToken);capSession=new com.coremedia.cap.common.impl.CapSessionImpl(jsonResponse.user,jsonResponse.connection);capConnection=AS3.cast(com.coremedia.cap.common.impl.CapConnectionImpl,capSession.getConnection());capConnection.load(connectionLoaded)}function connectionLoaded(){AS3.cast(com.coremedia.ui.data.RemoteBean,
capConnection.getContentRepository()).load(repositoryLoaded)}function repositoryLoaded(){callback(capSession)}function failure(response){var error=response.getError();if(error){error.setHandled(true);callback(null)}}remoteServiceMethod.request(params,success,failure)}return{extend:"com.coremedia.ui.data.impl.RemoteBeanImpl",mixins:["com.coremedia.cap.common.CapLoginService"],metadata:{"":["RestResource",["uriTemplate","loginService"]]},retrieveServiceMethod$qGjX:null,constructor:CapLoginServiceImpl$,
super$qGjX:function(){com.coremedia.ui.data.impl.RemoteBeanImpl.prototype.constructor.apply(this,arguments)},getVersion:getVersion,getDomains:getDomains,login:login,retrieveSession:retrieveSession,requestSession$qGjX:requestSession,requires:["com.coremedia.cap.common.CapLoginService","com.coremedia.cap.common.CapLoginServicePropertyNames","com.coremedia.ui.data.RemoteBean","com.coremedia.ui.data.impl.RemoteBeanImpl","com.coremedia.ui.data.impl.RemoteService","com.coremedia.ui.data.impl.RemoteServiceMethod"],
uses:["com.coremedia.cap.common.impl.CapConnectionImpl","com.coremedia.cap.common.impl.CapSessionImpl"]}});Ext.define("com.coremedia.cap.common.impl.CapTypeImpl",function(CapTypeImpl){function CapTypeImpl$(config){this.super$2C6F(config)}function getId(){return AS3.as(this.get("id"),String)}function setId(id){com.coremedia.ui.data.impl.RemoteBeanImpl.prototype.setId.call(this,id);this.setImmediateProperty("id",id)}function getParent(){return null}function isSubtypeOf(type){return false}function isAbstract(){return false}function isConcrete(){return!this.isAbstract()}function getName(){return this.get("name")}
function getDescription(){return AS3.as(this.get("description"),String)}function getDirectDescriptors(){return AS3.as(this.get("directDescriptors"),Array)}function getDescriptors(){return this.getDirectDescriptors()}function getDescriptor(propertyName){return com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorUtil.getDescriptor(this.getDescriptors(),propertyName)}return{extend:"com.coremedia.ui.data.impl.RemoteBeanImpl",mixins:["com.coremedia.cap.common.CapType"],constructor:CapTypeImpl$,
super$2C6F:function(){com.coremedia.ui.data.impl.RemoteBeanImpl.prototype.constructor.apply(this,arguments)},getId:getId,setId:setId,getParent:getParent,isSubtypeOf:isSubtypeOf,isAbstract:isAbstract,isConcrete:isConcrete,getName:getName,getDescription:getDescription,getDirectDescriptors:getDirectDescriptors,getDescriptors:getDescriptors,getDescriptor:getDescriptor,requires:["com.coremedia.cap.common.CapType","com.coremedia.ui.data.impl.RemoteBeanImpl"],uses:["com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorUtil"]}});Ext.define("com.coremedia.cap.common.impl.OperationResultImpl",function(OperationResultImpl){function OperationResultImpl$(error,successful){this.error=error;this.successful=successful}function fromResponse$static(response){var error=response.success?null:response.getError();return new OperationResultImpl(error,response.success)}return{mixins:["com.coremedia.ui.data.OperationResult"],constructor:OperationResultImpl$,statics:{fromResponse:fromResponse$static},requires:["com.coremedia.ui.data.OperationResult"]}});Ext.define("com.coremedia.cap.common.impl.StructRemoteBeanImpl",function(StructRemoteBeanImpl){function StructRemoteBeanImpl$(path){this.super$reV8(path)}function getOrCreate(object,propertyPath,lastProperty){var result=object[lastProperty];if(result===null||result===undefined){var descriptors=AS3.as(object[com.coremedia.cap.common.impl.StructTypeImpl.DESCRIPTORS_PROPERTY],Array);var matchingDescriptors=descriptors.filter(function(descriptor){return descriptor["name"]===lastProperty});if(matchingDescriptors.length===
0||matchingDescriptors[0].type!==com.coremedia.cap.common.CapPropertyDescriptorType.STRUCT||!matchingDescriptors[0].atomic){this.getStructType$reV8(propertyPath).addStructProperty(lastProperty,com.coremedia.cap.common.impl.StructTypeImpl.createStructObject());result=object[lastProperty]}}return result}function processReadResult(newValues){var augmentedNewValues=Ext.apply({},newValues);for(var propertyName in this.getValueObject())if(!(propertyName in newValues))augmentedNewValues[propertyName]=undefined;
return augmentedNewValues}function buildUnreadableProperties(){var newValues=com.coremedia.ui.data.impl.RemoteBeanImpl.prototype.buildUnreadableProperties.call(this);newValues[com.coremedia.cap.common.impl.StructTypeImpl.DESCRIPTORS_PROPERTY]=[];return newValues}function doUpdateProperties(newValues,ignoreUpdate,oldState,newState){var augmentedNewValues={};for(var propertyPath in newValues){var newValue=newValues[propertyPath];var propertyPathArcs=com.coremedia.ui.data.impl.PropertyPathUtil.deserialize(propertyPath);
var lastProperty=propertyPathArcs.pop();var descriptorsPropertyPath=com.coremedia.ui.data.impl.PropertyPathUtil.serialize(propertyPathArcs.concat(com.coremedia.cap.common.impl.StructTypeImpl.DESCRIPTORS_PROPERTY));if(propertyPath===descriptorsPropertyPath){if(!augmentedNewValues[propertyPath])augmentedNewValues[propertyPath]=newValue}else{var descriptors=augmentedNewValues[descriptorsPropertyPath]||newValues[descriptorsPropertyPath]||this.get(descriptorsPropertyPath)||[];var matchingDescriptor=com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorUtil.getDescriptor(descriptors,
lastProperty);if(!matchingDescriptor){if(newValue!==undefined){var augmentedDescriptors=descriptors.concat();augmentedDescriptors.push(com.coremedia.cap.common.impl.StructTypeImpl.createDescriptorImplicitly(newValue,lastProperty));augmentedNewValues[descriptorsPropertyPath]=augmentedDescriptors}}else if(!ignoreUpdate&&!com.coremedia.cap.common.impl.StructTypeImpl.isValidValue(newValue,matchingDescriptor))throw new AS3.Error("struct property "+propertyPath+" set to invalid value "+newValue);augmentedNewValues[propertyPath]=
newValue}}return com.coremedia.ui.data.impl.RemoteBeanImpl.prototype.doUpdateProperties.call(this,augmentedNewValues,ignoreUpdate,oldState,newState)}function isSubObject(value,propertyPath){return value.constructor===Object}function createSubBean(propertyPath){return new com.coremedia.cap.common.impl.StructSubBean(this,propertyPath)}function getType(){return this.getStructType$reV8("")}function getType_(){return this.getType()}function addAt(propertyPath,position,value){switch(Math.max(arguments.length,
1)){case 1:position=-1;case 2:value=null}var propertyPathArcs=com.coremedia.ui.data.impl.PropertyPathUtil.deserialize(propertyPath);var lastProperty=propertyPathArcs.pop();var descriptorsPropertyPath=com.coremedia.ui.data.impl.PropertyPathUtil.serialize(propertyPathArcs.concat(com.coremedia.cap.common.impl.StructTypeImpl.DESCRIPTORS_PROPERTY));var descriptors=this.get(descriptorsPropertyPath);var matchingDescriptor=com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorUtil.getDescriptor(descriptors,
lastProperty);if(!matchingDescriptor)throw new AS3.Error("struct property "+propertyPath+" is not defined");if(!matchingDescriptor.collection)throw new AS3.Error("struct property "+propertyPath+" is not a collection");value=com.coremedia.cap.common.impl.StructTypeImpl.getInitialValue(matchingDescriptor,true,value);if(!com.coremedia.cap.common.impl.StructTypeImpl.isValidAtomicValue(value,matchingDescriptor))throw new AS3.Error("struct property "+propertyPath+" cannot contain invalid value "+value);
com.coremedia.ui.data.impl.RemoteBeanImpl.prototype.addAt.call(this,propertyPath,position,value)}function getStructType(propertyPrefix){return(new com.coremedia.cap.common.impl.StructSubBean(this,propertyPrefix)).getType()}return{extend:"com.coremedia.ui.data.impl.RemoteBeanImpl",mixins:["com.coremedia.cap.struct.Struct"],constructor:StructRemoteBeanImpl$,super$reV8:function(){com.coremedia.ui.data.impl.RemoteBeanImpl.prototype.constructor.apply(this,arguments)},getOrCreate:getOrCreate,processReadResult:processReadResult,
buildUnreadableProperties:buildUnreadableProperties,doUpdateProperties:doUpdateProperties,isSubObject:isSubObject,createSubBean:createSubBean,getType:getType,getType_:getType_,addAt:addAt,getStructType$reV8:getStructType,requires:["AS3.Error","Ext","com.coremedia.cap.common.CapPropertyDescriptorType","com.coremedia.cap.struct.Struct","com.coremedia.ui.data.impl.PropertyPathUtil","com.coremedia.ui.data.impl.RemoteBeanImpl"],uses:["com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorUtil",
"com.coremedia.cap.common.impl.StructSubBean","com.coremedia.cap.common.impl.StructTypeImpl"]}});Ext.define("com.coremedia.cap.common.impl.StructTypeImpl",function(StructTypeImpl){function StructTypeImpl$(structSubBean){this.structSubBean$rtLi=structSubBean}function getStructSubBean(){return this.structSubBean$rtLi}function add(rawDescriptor,initialValue){return this.addProperty(com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorUtil.create(rawDescriptor),initialValue)}function addProperty(descriptor,initialValue){var propertyName=descriptor.name;var oldDescriptors=this.getDirectDescriptors();
if(!oldDescriptors)oldDescriptors=[];if(com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorUtil.getDescriptor(oldDescriptors,propertyName))return false;initialValue=StructTypeImpl.getInitialValue(descriptor,false,initialValue);if(!StructTypeImpl.isValidValue(initialValue,descriptor))return false;var newDescriptors=oldDescriptors.concat();newDescriptors.push(descriptor);this.updateStruct$rtLi(newDescriptors,propertyName,initialValue);return true}function getInitialValue$static(descriptor,
forItem,initialValue){if(descriptor.collection&&!forItem){var objects=AS3.as(initialValue,Array);if(!objects)return[];return objects.map(function(item){return StructTypeImpl.getInitialValue(descriptor,true,item)})}switch(descriptor.type){case com.coremedia.cap.common.CapPropertyDescriptorType.BOOLEAN:return!!initialValue;case com.coremedia.cap.common.CapPropertyDescriptorType.INTEGER:return!initialValue&&initialValue!==0?null:AS3.int_(initialValue);case com.coremedia.cap.common.CapPropertyDescriptorType.STRING:return initialValue||
"";case com.coremedia.cap.common.CapPropertyDescriptorType.LINK:return initialValue||null;case com.coremedia.cap.common.CapPropertyDescriptorType.DATE:return initialValue||null;case com.coremedia.cap.common.CapPropertyDescriptorType.STRUCT:return StructTypeImpl.createStructObject(initialValue)}throw new AS3.Error("Unsupported Struct property type "+descriptor.type);}function addStringProperty(name,maxLength,value){if(arguments.length<=2)value="";return this.add$rtLi({name:name,type:com.coremedia.cap.common.CapPropertyDescriptorType.STRING,
length:maxLength},value)}function addStringListProperty(name,maxLength,values){if(arguments.length<=2)values=null;return this.add$rtLi({name:name,type:com.coremedia.cap.common.CapPropertyDescriptorType.STRING,length:maxLength,collection:true},values)}function addIntegerProperty(name,value){if(arguments.length<=1)value=null;return this.add$rtLi({name:name,type:com.coremedia.cap.common.CapPropertyDescriptorType.INTEGER},value)}function addIntegerListProperty(name,values){if(arguments.length<=1)values=
null;return this.add$rtLi({name:name,type:com.coremedia.cap.common.CapPropertyDescriptorType.INTEGER,collection:true},values)}function addBooleanProperty(name,value){if(arguments.length<=1)value=null;return this.add$rtLi({name:name,type:com.coremedia.cap.common.CapPropertyDescriptorType.BOOLEAN},value)}function addBooleanListProperty(name,values){if(arguments.length<=1)values=null;return this.add$rtLi({name:name,type:com.coremedia.cap.common.CapPropertyDescriptorType.BOOLEAN,collection:true},values)}
function addLinkProperty(name,linkType,link){if(arguments.length<=2)link=null;return this.add$rtLi({name:name,type:com.coremedia.cap.common.CapPropertyDescriptorType.LINK,linkType:linkType},link)}function addLinkListProperty(name,linkType,links){if(arguments.length<=2)links=null;return this.add$rtLi({name:name,type:com.coremedia.cap.common.CapPropertyDescriptorType.LINK,linkType:linkType,collection:true},links)}function addDateProperty(name,value){if(arguments.length<=1)value=null;return this.add$rtLi({name:name,
type:com.coremedia.cap.common.CapPropertyDescriptorType.DATE},value)}function addDateListProperty(name,values){if(arguments.length<=1)values=null;return this.add$rtLi({name:name,type:com.coremedia.cap.common.CapPropertyDescriptorType.DATE,collection:true},values)}function addStructProperty(name,object){if(arguments.length<=1)object=null;return this.add$rtLi({name:name,type:com.coremedia.cap.common.CapPropertyDescriptorType.STRUCT},object)}function addStructListProperty(name,objects){if(arguments.length<=
1)objects=null;return this.add$rtLi({name:name,type:com.coremedia.cap.common.CapPropertyDescriptorType.STRUCT,collection:true},objects)}function removeProperty(propertyName){var oldDescriptors=this.structSubBean$rtLi.get(StructTypeImpl.DESCRIPTORS_PROPERTY);if(!oldDescriptors)return false;var newDescriptors=oldDescriptors.filter(function(descriptor){return descriptor["name"]!==propertyName});if(newDescriptors.length===oldDescriptors.length)return false;this.updateStruct$rtLi(newDescriptors,propertyName);
return true}function renameProperty(oldPropertyName,newPropertyName){if(""===newPropertyName)return false;var oldDescriptors=this.getDirectDescriptors();var oldDescriptor=com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorUtil.getDescriptor(oldDescriptors,oldPropertyName);if(!oldDescriptor)return false;if(oldPropertyName===newPropertyName)return true;if(com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorUtil.getDescriptor(oldDescriptors,newPropertyName))return false;var newDescriptors=
oldDescriptors.concat();var oldPropertyIndex=oldDescriptors.indexOf(oldDescriptor);newDescriptors[oldPropertyIndex]=com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorUtil.withName(oldDescriptor,newPropertyName);var value=atomifyStructs$static(this.structSubBean$rtLi.get(oldPropertyName));this.updateStruct$rtLi(newDescriptors,newPropertyName,value,oldPropertyName);return true}function atomifyStructs$static(value){if(AS3.is(value,com.coremedia.cap.struct.Struct))return AS3.cast(com.coremedia.cap.struct.Struct,
value).toObject();if(AS3.is(value,Array))return AS3.as(value,Array).map(atomifyStructs$static);return value}function rearrangeProperties(propertyNames){var oldDescriptors=this.structSubBean$rtLi.get(StructTypeImpl.DESCRIPTORS_PROPERTY);if(!oldDescriptors)return;var descriptorIndex={};for(var j=0;j<oldDescriptors.length;j++){var descriptor=oldDescriptors[j];descriptorIndex[descriptor.name]=descriptor}var sorted=propertyNames.map(function(propertyName){var result=descriptorIndex[propertyName];delete descriptorIndex[propertyName];
return result}).filter(function(descriptor){return!!descriptor});var remaining=oldDescriptors.filter(function(descriptor){return descriptorIndex.hasOwnProperty(descriptor.name)});this.updateStruct$rtLi(sorted.concat(remaining))}function updateStruct(newDescriptors,propertyName,value,propertyToRemove){switch(Math.max(arguments.length,1)){case 1:propertyName=null;case 3:propertyToRemove=null}var updateRequest={};if(propertyName){updateRequest[propertyName]=value;if(propertyToRemove)updateRequest[propertyToRemove]=
undefined}updateRequest[StructTypeImpl.DESCRIPTORS_PROPERTY]=newDescriptors;this.structSubBean$rtLi.updateProperties(updateRequest)}function hasProperty(propertyName){return!!this.getDescriptor(propertyName)}function getDescriptor(propertyName){return com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorUtil.getDescriptor(this.getDescriptors(),propertyName)}function getParent(){return null}function isSubtypeOf(structType){return AS3.is(structType,StructTypeImpl)&&this.getStructSubBean()===
AS3.as(structType,StructTypeImpl).getStructSubBean()}function getName(){return""}function isAbstract(){return false}function isConcrete(){return true}function getDescription(){return""}function getDirectDescriptors(){return this.structSubBean$rtLi.get(StructTypeImpl.DESCRIPTORS_PROPERTY)}function getDescriptors(){return this.getDirectDescriptors()}function getPropertyNames(){var descriptors=this.getDescriptors();return descriptors&&descriptors.map(descriptorToName$static)}function descriptorToName$static(descriptor){return descriptor.name}
function createStructObject$static(structValue){if(arguments.length<=0)structValue=null;if(!structValue)structValue={};else if(AS3.is(structValue,com.coremedia.cap.struct.Struct))structValue=AS3.cast(com.coremedia.cap.struct.Struct,structValue).toObject();var structObject={};var givenDescriptors=AS3.as(structValue[StructTypeImpl.DESCRIPTORS_PROPERTY],Array);var descriptors=structObject[StructTypeImpl.DESCRIPTORS_PROPERTY]=givenDescriptors?givenDescriptors.concat():[];for(var property in structValue){if(property===
StructTypeImpl.DESCRIPTORS_PROPERTY)continue;var propertyValue=structValue[property];var descriptor=com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorUtil.getDescriptor(descriptors,property);if(!descriptor){descriptor=StructTypeImpl.createDescriptorImplicitly(propertyValue,property);descriptors.push(descriptor)}if(descriptor.type===com.coremedia.cap.common.CapPropertyDescriptorType.STRUCT)if(descriptor.atomic)propertyValue=StructTypeImpl.createStructObject(propertyValue);else propertyValue=
propertyValue instanceof Array?propertyValue.map(StructTypeImpl.createStructObject):[];if(!StructTypeImpl.isValidValue(propertyValue,descriptor))throw new AS3.Error("invalid struct property value "+propertyValue+" for descriptor "+descriptor);structObject[property]=propertyValue}return structObject}function createDescriptorImplicitly$static(value,name,collection){if(arguments.length<=2)collection=false;var rawDescriptor=null;if(!collection&&AS3.is(value,Array)){var array=AS3.as(value,Array);if(array.length>
0){collection=true;value=array[0]}}switch(typeof value){case "string":rawDescriptor={type:com.coremedia.cap.common.CapPropertyDescriptorType.STRING,length:AS3.int_.MAX_VALUE,encodedLength:AS3.int_.MAX_VALUE};break;case "number":rawDescriptor={type:com.coremedia.cap.common.CapPropertyDescriptorType.INTEGER};break;case "boolean":rawDescriptor={type:com.coremedia.cap.common.CapPropertyDescriptorType.BOOLEAN};break;case "object":if(AS3.is(value,com.coremedia.cap.content.Content))rawDescriptor={type:com.coremedia.cap.common.CapPropertyDescriptorType.LINK,
linkType:com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getContentContentType()};else if(AS3.is(value,Date)||AS3.is(value,com.coremedia.ui.data.Calendar))rawDescriptor={type:com.coremedia.cap.common.CapPropertyDescriptorType.DATE};else if(value&&value.constructor===Object)rawDescriptor={type:com.coremedia.cap.common.CapPropertyDescriptorType.STRUCT};break}if(!rawDescriptor)throw new AS3.Error("unsupported untyped set of struct property: '"+name+"', type: '"+typeof value+"' to '"+
value+"'");rawDescriptor.name=name;if(collection){rawDescriptor.atomic=false;rawDescriptor.collection=true}else{rawDescriptor.atomic=true;rawDescriptor.collection=false;rawDescriptor.minCardinality=1;rawDescriptor.maxCardinality=1}return com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorUtil.create(rawDescriptor)}function isValidValue$static(value,propertyDescriptor){if(propertyDescriptor.atomic)return StructTypeImpl.isValidAtomicValue(value,propertyDescriptor);else{var array=AS3.as(value,
Array);if(!array)return false;return array.every(function(element){return StructTypeImpl.isValidAtomicValue(element,propertyDescriptor)})}}function isValidAtomicValue$static(value,propertyDescriptor){var propertyDescriptorType=propertyDescriptor.type;switch(propertyDescriptorType){case com.coremedia.cap.common.CapPropertyDescriptorType.BOOLEAN:return isValidBooleanValue$static(value);case com.coremedia.cap.common.CapPropertyDescriptorType.STRING:return isValidStringValue$static(value,AS3.cast(com.coremedia.cap.common.descriptors.StringPropertyDescriptor,
propertyDescriptor));case com.coremedia.cap.common.CapPropertyDescriptorType.INTEGER:return isValidIntValue$static(value);case com.coremedia.cap.common.CapPropertyDescriptorType.LINK:return isValidLinkValue$static(value,AS3.cast(com.coremedia.cap.common.descriptors.LinkPropertyDescriptor,propertyDescriptor));case com.coremedia.cap.common.CapPropertyDescriptorType.STRUCT:return isValidStructValue$static(value);case com.coremedia.cap.common.CapPropertyDescriptorType.DATE:return isValidDateValue$static(value);
default:throw new AS3.Error("unknown property descriptor type: "+propertyDescriptorType);}}function isValidBooleanValue$static(value){return value===null||value===true||value===false}function isValidStringValue$static(value,propertyDescriptor){return AS3.is(value,String)&&(propertyDescriptor.length===undefined||AS3.as(value,String).length<=propertyDescriptor.length)}function isValidIntValue$static(value){return value===null||AS3.is(value,AS3.int_)}function isValidLinkValue$static(value,propertyDescriptor){if(value===
null)return true;var content=AS3.as(value,com.coremedia.cap.content.Content);if(content){if(propertyDescriptor.linkType!==undefined&&content.getState()===com.coremedia.ui.data.BeanState.READABLE&&content.getType())return content.getType().isSubtypeOf(propertyDescriptor.linkType);return true}return false}function isValidStructValue$static(value){return typeof value==="object"&&value.constructor===Object&&value[StructTypeImpl.DESCRIPTORS_PROPERTY]instanceof Array}function isValidDateValue$static(value){return value===
null||value===undefined||value===""||AS3.is(value,Date)||AS3.is(value,com.coremedia.ui.data.Calendar)}return{mixins:["com.coremedia.cap.struct.StructType"],structSubBean$rtLi:null,constructor:StructTypeImpl$,getStructSubBean:getStructSubBean,add$rtLi:add,addProperty:addProperty,addStringProperty:addStringProperty,addStringListProperty:addStringListProperty,addIntegerProperty:addIntegerProperty,addIntegerListProperty:addIntegerListProperty,addBooleanProperty:addBooleanProperty,addBooleanListProperty:addBooleanListProperty,
addLinkProperty:addLinkProperty,addLinkListProperty:addLinkListProperty,addDateProperty:addDateProperty,addDateListProperty:addDateListProperty,addStructProperty:addStructProperty,addStructListProperty:addStructListProperty,removeProperty:removeProperty,renameProperty:renameProperty,rearrangeProperties:rearrangeProperties,updateStruct$rtLi:updateStruct,hasProperty:hasProperty,getDescriptor:getDescriptor,getParent:getParent,isSubtypeOf:isSubtypeOf,getName:getName,isAbstract:isAbstract,isConcrete:isConcrete,
getDescription:getDescription,getDirectDescriptors:getDirectDescriptors,getDescriptors:getDescriptors,getPropertyNames:getPropertyNames,statics:{DESCRIPTORS_PROPERTY:"$Struct",getInitialValue:getInitialValue$static,createStructObject:createStructObject$static,createDescriptorImplicitly:createDescriptorImplicitly$static,isValidValue:isValidValue$static,isValidAtomicValue:isValidAtomicValue$static},requires:["AS3.Error","AS3.int_","com.coremedia.cap.common.CapPropertyDescriptorType","com.coremedia.cap.common.SESSION",
"com.coremedia.cap.common.descriptors.LinkPropertyDescriptor","com.coremedia.cap.common.descriptors.StringPropertyDescriptor","com.coremedia.cap.content.Content","com.coremedia.cap.struct.Struct","com.coremedia.cap.struct.StructType","com.coremedia.ui.data.BeanState","com.coremedia.ui.data.Calendar"],uses:["com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorUtil"]}});Ext.define("com.coremedia.cap.common.impl.CapObjectImpl",function(CapObjectImpl){function CapObjectImpl$(uri){this.super$iLdK(uri)}function getType_(){return this.get("type")}function setId(id){com.coremedia.ui.data.impl.RemoteBeanImpl.prototype.setId.call(this,id);this.setImmediateProperty("id",id)}return{extend:"com.coremedia.ui.data.impl.RemoteBeanImpl",mixins:["com.coremedia.cap.common.CapObject"],constructor:CapObjectImpl$,super$iLdK:function(){com.coremedia.ui.data.impl.RemoteBeanImpl.prototype.constructor.apply(this,
arguments)},getType_:getType_,setId:setId,requires:["com.coremedia.cap.common.CapObject","com.coremedia.ui.data.impl.RemoteBeanImpl"]}});Ext.define("com.coremedia.cap.common.impl.StructSubBean",function(StructSubBean){function StructSubBean$(parent,propertyPrefix){this.super$LuBU(parent,propertyPrefix)}function getType(){return new com.coremedia.cap.common.impl.StructTypeImpl(this)}function getType_(){return this.getType()}return{extend:"com.coremedia.ui.data.impl.SubBean",mixins:["com.coremedia.cap.struct.Struct"],constructor:StructSubBean$,super$LuBU:function(){com.coremedia.ui.data.impl.SubBean.prototype.constructor.apply(this,
arguments)},getType:getType,getType_:getType_,requires:["com.coremedia.cap.struct.Struct","com.coremedia.ui.data.impl.SubBean"],uses:["com.coremedia.cap.common.impl.StructTypeImpl"]}});Ext.define("com.coremedia.cap.common.impl.CapConnectionImpl",function(CapConnectionImpl){var INITIAL_POLL_DELAY$static=500;var MAX_POLL_DELAY$static=3E4;function messageListeners_(){this.messageListeners$vbjp=new Ext.util.Observable}function getInstance$static(){return AS3.cast(CapConnectionImpl,com.coremedia.ui.data.beanFactory.getRemoteBean("connection"))}function CapConnectionImpl$(path){this.super$vbjp(path);messageListeners_.call(this)}function getLoginService(){return AS3.cast(com.coremedia.cap.common.CapLoginService,
com.coremedia.ui.data.beanFactory.getRemoteBean("loginService"))}function getContentRepository(){return this.get("contentRepository")}function getUserRepository(){return this.get("userRepository")}function getWorkflowRepository(){return this.get("workflowRepository")}function getInvalidationsUri(){return this.get("invalidationsUri")}function getSystemInfo(){return AS3.cast(com.coremedia.cap.common.infos.impl.CapSystemInfoImpl,com.coremedia.ui.data.beanFactory.getRemoteBean("systemInfo"))}function getTimestamps(callback){var timestampsUri=
this.get("timestampsUri");var remoteServiceMethod=new com.coremedia.ui.data.impl.RemoteServiceMethod(timestampsUri,"GET");remoteServiceMethod.request(null,function(response){var timestamp=response.getResponseJSON();callback(timestamp)},function(response){if(response.getError())response.getError().setHandled(true);callback(null)})}function getInvalidations(startTime,immediate,callback){var requestUri=this.getInvalidationsUri$vbjp();var noAsyncObserverOptions={};noAsyncObserverOptions[com.coremedia.ui.util.AsyncObserver.SKIP_ASYNC_OBSERVER_OPTION]=
true;var remoteServiceMethod=new com.coremedia.ui.data.impl.RemoteServiceMethod(requestUri,"POST",true,true,noAsyncObserverOptions,false);remoteServiceMethod.request({"immediate":immediate,"user":com.coremedia.cap.common.SESSION.getUser().getUriPath(),"after":startTime},function(response){var eventsRepresentation=response.getResponseJSON();callback(eventsRepresentation,null)},function(response){callback(null,response.getError())})}function setInvalidationsRetrievalStateHandler(handler){this.invalidationsRetrievalStateHandler$vbjp=
handler}function setAutomaticInvalidations(automaticInvalidations,callback){var this$=this;if(arguments.length<=1)callback=null;this.automaticInvalidations$vbjp=automaticInvalidations;this.load(function(){if(automaticInvalidations&&!this$.polling$vbjp){this$.polling$vbjp=true;this$.getTimestamps(function(timestamp){if(!this$.currentTimestamps$vbjp)this$.currentTimestamps$vbjp=timestamp;callback&&callback();this$.pollEvents$vbjp()})}else callback&&callback()})}function pollEvents(){this.getInvalidations(this.currentTimestamps$vbjp,
this.pollDelay$vbjp>0,AS3.bind(this,"getInvalidationsCallback$vbjp"))}function getInvalidationsCallback(eventsRepresentation,error){if(!this.automaticInvalidations$vbjp){this.polling$vbjp=false;if(error)error.setHandled(true);return}if(eventsRepresentation)this.invalidationsRetrieved$vbjp(eventsRepresentation);else this.invalidationRetrievalFailed$vbjp(error)}function invalidationsRetrieved(eventsRepresentation){var modified=AS3.as(eventsRepresentation.invalidations,Array);if(modified)processInvalidations$static(modified);
else{com.coremedia.ui.data.impl.RemoteBeanCache.invalidateAll();AS3.cast(com.coremedia.cap.workflow.impl.WorkflowRepositoryImpl,this.getWorkflowRepository()).reloadWorklists()}this.sendMessages$vbjp(eventsRepresentation.messages);if(this.invalidationsRetrievalStateHandler$vbjp)this.invalidationsRetrievalStateHandler$vbjp(true,null);this.pollDelay$vbjp=0;this.currentTimestamps$vbjp=eventsRepresentation.timestamps;this.pollEvents$vbjp()}function processInvalidations$static(invalidations){for(var i=
0;i<invalidations.length;i++){var path=invalidations[i];if(com.coremedia.ui.data.impl.URITemplate.containsVariables(path))com.coremedia.ui.data.impl.RemoteBeanCache.search(new com.coremedia.ui.data.impl.URITemplate(path)).forEach(function(remoteBean){remoteBean.invalidate()});else{var remoteBean=com.coremedia.ui.data.impl.RemoteBeanCache.peek(path);if(remoteBean)remoteBean.invalidate()}}}function sendMessages(messages){if(messages)for(var i=0;i<messages.length;i++)this.sendMessage$vbjp(messages[i])}
function invalidationRetrievalFailed(error){this.pollDelay$vbjp=Math.min(MAX_POLL_DELAY$static,Math.max(INITIAL_POLL_DELAY$static,this.pollDelay$vbjp*2));window.setTimeout(AS3.bind(this,"pollEvents$vbjp"),this.pollDelay$vbjp);if(this.invalidationsRetrievalStateHandler$vbjp)this.invalidationsRetrievalStateHandler$vbjp(false,error)}function addMessageListener(subject,listener){this.messageListeners$vbjp.addListener(subject,listener)}function removeMessageListener(subject,listener){this.messageListeners$vbjp.removeListener(subject,
listener)}function sendMessage(message){this.messageListeners$vbjp.fireEvent(message.subject,message)}return{extend:"com.coremedia.ui.data.impl.RemoteBeanImpl",mixins:["com.coremedia.cap.common.CapConnection","com.coremedia.cap.common.MessageService"],metadata:{"":["RestResource",["uriTemplate","connection"]]},invalidationsRetrievalStateHandler$vbjp:null,automaticInvalidations$vbjp:false,polling$vbjp:false,currentTimestamps$vbjp:null,pollDelay$vbjp:0,constructor:CapConnectionImpl$,super$vbjp:function(){com.coremedia.ui.data.impl.RemoteBeanImpl.prototype.constructor.apply(this,
arguments)},getLoginService:getLoginService,getContentRepository:getContentRepository,getUserRepository:getUserRepository,getWorkflowRepository:getWorkflowRepository,getInvalidationsUri$vbjp:getInvalidationsUri,getSystemInfo:getSystemInfo,getTimestamps:getTimestamps,getInvalidations:getInvalidations,setInvalidationsRetrievalStateHandler:setInvalidationsRetrievalStateHandler,setAutomaticInvalidations:setAutomaticInvalidations,pollEvents$vbjp:pollEvents,getInvalidationsCallback$vbjp:getInvalidationsCallback,
invalidationsRetrieved$vbjp:invalidationsRetrieved,sendMessages$vbjp:sendMessages,invalidationRetrievalFailed$vbjp:invalidationRetrievalFailed,addMessageListener:addMessageListener,removeMessageListener:removeMessageListener,sendMessage$vbjp:sendMessage,statics:{getInstance:getInstance$static},requires:["Ext.util.Observable","com.coremedia.cap.common.CapConnection","com.coremedia.cap.common.CapLoginService","com.coremedia.cap.common.MessageService","com.coremedia.cap.common.SESSION","com.coremedia.ui.data.beanFactory",
"com.coremedia.ui.data.impl.RemoteBeanCache","com.coremedia.ui.data.impl.RemoteBeanImpl","com.coremedia.ui.data.impl.RemoteServiceMethod","com.coremedia.ui.data.impl.URITemplate","com.coremedia.ui.util.AsyncObserver"],uses:["com.coremedia.cap.common.infos.impl.CapSystemInfoImpl","com.coremedia.cap.workflow.impl.WorkflowRepositoryImpl"]}});Ext.define("com.coremedia.cap.common.impl.CapSessionImpl",function(CapSessionImpl){function CapSessionImpl$(user,connection){this.user$Tu2X=user;this.connection$Tu2X=connection;com.coremedia.cap.common.SESSION=this;com.coremedia.ui.data.applicationContext.set(CapSessionImpl.CURRENT_SESSION_PROPERTY,this)}function getUser(){return this.user$Tu2X}function getConnection(){return this.connection$Tu2X}function close(callback){if(arguments.length<=0)callback=null;this.connection$Tu2X.setAutomaticInvalidations(false);
com.coremedia.ui.util.WindowUtil.disableUnloadWarning()}return{mixins:["com.coremedia.cap.common.CapSession"],user$Tu2X:null,connection$Tu2X:null,constructor:CapSessionImpl$,getUser:getUser,getConnection:getConnection,close:close,statics:{CURRENT_SESSION_PROPERTY:"session"},requires:["com.coremedia.cap.common.CapSession","com.coremedia.cap.common.SESSION","com.coremedia.ui.data.applicationContext","com.coremedia.ui.util.WindowUtil"]}});Ext.define("com.coremedia.cap.common.infos.impl.CapSystemInfoImpl",function(CapSystemInfoImpl){function CapSystemInfoImpl$(path){this.super$v89R(path)}function getLicenceId(){return this.get("licenceId")}function getLicensee(){return this.get("licensee")}function getLicenseFeatures(){return this.get("licenseFeatures")}function getRequiredLicenses(){return this.get("requiredLicenses")}function getOperatingSystem(){return this.get("operatingSystem")}function getJvm(){return this.get("jvm")}function getDefaultTimeZone(){return this.get("defaultTimeZone")}
function getDefaultLocale(){return this.get("defaultLocale")}function getStartedAt(){return this.get("startedAt")}function getModuleVersions(){return this.get("moduleVersions")}return{extend:"com.coremedia.ui.data.impl.RemoteBeanImpl",mixins:["com.coremedia.cap.common.infos.CapSystemInfo"],metadata:{"":["RestResource",["uriTemplate","systemInfo"]]},constructor:CapSystemInfoImpl$,super$v89R:function(){com.coremedia.ui.data.impl.RemoteBeanImpl.prototype.constructor.apply(this,arguments)},getLicenceId:getLicenceId,
getLicensee:getLicensee,getLicenseFeatures:getLicenseFeatures,getRequiredLicenses:getRequiredLicenses,getOperatingSystem:getOperatingSystem,getJvm:getJvm,getDefaultTimeZone:getDefaultTimeZone,getDefaultLocale:getDefaultLocale,getStartedAt:getStartedAt,getModuleVersions:getModuleVersions,requires:["com.coremedia.cap.common.infos.CapSystemInfo","com.coremedia.ui.data.impl.RemoteBeanImpl"]}});Ext.define("com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorImpl",function(CapPropertyDescriptorImpl){function CapPropertyDescriptorImpl$(config){if(!config.type)throw new ArgumentError("CapPropertyDescriptor must have a type, was: "+config.type);this["name"]=config.name;this["type"]=config.type;this["collection"]=config.collection!==undefined?config.collection:config.atomic!==undefined?!config.atomic:config.maxCardinality>1;this["atomic"]=!this.collection;this["minCardinality"]=config.minCardinality!==
undefined?config.minCardinality:this.collection?0:1;this["maxCardinality"]=config.maxCardinality!==undefined?config.maxCardinality:this.collection?AS3.int_.MAX_VALUE:1}function toObject(){return{name:this.name,type:this.type,atomic:this.atomic,collection:this.collection,minCardinality:this.minCardinality,maxCardinality:this.maxCardinality}}function static$0(){com.coremedia.ui.data.impl.RemoteService.registerMarshaller(CapPropertyDescriptorImpl,marshal$static)}function marshal$static(self){return com.coremedia.ui.data.impl.RemoteService.marshalValue(self.toObject())}
return{mixins:["com.coremedia.cap.common.CapPropertyDescriptor"],constructor:CapPropertyDescriptorImpl$,toObject:toObject,statics:{__initStatics__:function(){static$0()}},requires:["AS3.int_","ArgumentError","com.coremedia.cap.common.CapPropertyDescriptor","com.coremedia.ui.data.impl.RemoteService"]}});Ext.define("com.coremedia.cap.common.descriptors.impl.StringPropertyDescriptorImpl",function(StringPropertyDescriptorImpl){function StringPropertyDescriptorImpl$(config){this.super$TPa8(config);this["length"]=config.length||AS3.int_.MAX_VALUE;this["encodedLength"]=config.encodedLength||AS3.int_.MAX_VALUE}function toObject(){return Ext.apply(com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorImpl.prototype.toObject.call(this),{length:this.length,encodedLength:this.encodedLength})}return{extend:"com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorImpl",
mixins:["com.coremedia.cap.common.descriptors.StringPropertyDescriptor"],constructor:StringPropertyDescriptorImpl$,super$TPa8:function(){com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorImpl.prototype.constructor.apply(this,arguments)},toObject:toObject,requires:["AS3.int_","Ext","com.coremedia.cap.common.descriptors.StringPropertyDescriptor","com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorImpl"]}});Ext.define("com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorUtil",function(CapPropertyDescriptorUtil){function getDescriptor$static(descriptors,propertyName){if(descriptors)for(var $1=0;$1<descriptors.length;++$1){var descriptor=descriptors[$1];if(descriptor.name===propertyName)return descriptor}return null}function registerResolver$static(){AS3.cast(com.coremedia.ui.data.impl.BeanFactoryImpl,com.coremedia.ui.data.beanFactory).registerRemoteObjectResolver("$CapPropertyDescriptor",CapPropertyDescriptorUtil.resolve)}
function resolve$static(property,json){var rawDescriptor=com.coremedia.ui.data.impl.BeanFactoryImpl.resolveBeans(json[property]);return CapPropertyDescriptorUtil.create(rawDescriptor)}var DESCRIPTOR_CLASSES_BY_TYPE$static;function DESCRIPTOR_CLASSES_BY_TYPE$static_(){DESCRIPTOR_CLASSES_BY_TYPE$static={LINK:com.coremedia.cap.common.descriptors.impl.LinkPropertyDescriptorImpl,STRING:com.coremedia.cap.common.descriptors.impl.StringPropertyDescriptorImpl,MARKUP:com.coremedia.cap.common.descriptors.impl.MarkupPropertyDescriptorImpl,
BLOB:com.coremedia.cap.common.descriptors.impl.BlobPropertyDescriptorImpl}}function create$static(rawDescriptor){var type=rawDescriptor["type"];var constructor=DESCRIPTOR_CLASSES_BY_TYPE$static[type]||com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorImpl;return AS3.cast(com.coremedia.cap.common.CapPropertyDescriptor,new constructor(rawDescriptor))}function toObject$static(descriptor){return AS3.cast(com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorImpl,descriptor).toObject()}
function withName$static(descriptor,newName){var newRawDescriptor=CapPropertyDescriptorUtil.toObject(descriptor);newRawDescriptor.name=newName;return CapPropertyDescriptorUtil.create(newRawDescriptor)}function getLinkType$static(descriptor){return descriptor.type===com.coremedia.cap.common.CapPropertyDescriptorType.LINK?AS3.cast(com.coremedia.cap.common.descriptors.LinkPropertyDescriptor,descriptor).linkType:null}function CapPropertyDescriptorUtil$(){}return{constructor:CapPropertyDescriptorUtil$,
statics:{getDescriptor:getDescriptor$static,registerResolver:registerResolver$static,resolve:resolve$static,DESCRIPTOR_CLASSES_BY_TYPE:undefined,create:create$static,toObject:toObject$static,withName:withName$static,getLinkType:getLinkType$static,__initStatics__:function(){DESCRIPTOR_CLASSES_BY_TYPE$static_()}},requires:["com.coremedia.cap.common.CapPropertyDescriptor","com.coremedia.cap.common.CapPropertyDescriptorType","com.coremedia.cap.common.descriptors.LinkPropertyDescriptor","com.coremedia.ui.data.beanFactory",
"com.coremedia.ui.data.impl.BeanFactoryImpl"],uses:["com.coremedia.cap.common.descriptors.impl.BlobPropertyDescriptorImpl","com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorImpl","com.coremedia.cap.common.descriptors.impl.LinkPropertyDescriptorImpl","com.coremedia.cap.common.descriptors.impl.MarkupPropertyDescriptorImpl","com.coremedia.cap.common.descriptors.impl.StringPropertyDescriptorImpl"]}});Ext.define("com.coremedia.cap.common.descriptors.impl.MarkupPropertyDescriptorImpl",function(MarkupPropertyDescriptorImpl){function MarkupPropertyDescriptorImpl$(config){this.super$jHFV(config);this["grammar"]=config.grammar}function toObject(){return Ext.apply(com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorImpl.prototype.toObject.call(this),{grammar:this.grammar})}return{extend:"com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorImpl",mixins:["com.coremedia.cap.common.descriptors.MarkupPropertyDescriptor"],
constructor:MarkupPropertyDescriptorImpl$,super$jHFV:function(){com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorImpl.prototype.constructor.apply(this,arguments)},toObject:toObject,requires:["Ext","com.coremedia.cap.common.descriptors.MarkupPropertyDescriptor","com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorImpl"]}});Ext.define("com.coremedia.cap.common.descriptors.impl.LinkPropertyDescriptorImpl",function(LinkPropertyDescriptorImpl){function LinkPropertyDescriptorImpl$(config){this.super$TvJn(config);var linkType=AS3.as(config.linkType,com.coremedia.cap.common.CapType);if(!linkType){var contentRepository=com.coremedia.cap.common.SESSION.getConnection().getContentRepository();if(AS3.is(config.linkType,String))linkType=contentRepository.getContentType(config.linkType);if(!linkType)linkType=contentRepository.getContentContentType()}this["linkType"]=
linkType}function toObject(){return Ext.apply(com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorImpl.prototype.toObject.call(this),{linkType:this.linkType})}return{extend:"com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorImpl",mixins:["com.coremedia.cap.common.descriptors.LinkPropertyDescriptor"],constructor:LinkPropertyDescriptorImpl$,super$TvJn:function(){com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorImpl.prototype.constructor.apply(this,arguments)},toObject:toObject,
requires:["Ext","com.coremedia.cap.common.CapType","com.coremedia.cap.common.SESSION","com.coremedia.cap.common.descriptors.LinkPropertyDescriptor","com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorImpl"]}});Ext.define("com.coremedia.cap.common.descriptors.impl.BlobPropertyDescriptorImpl",function(BlobPropertyDescriptorImpl){function BlobPropertyDescriptorImpl$(config){this.super$pcXK(config);this["contentType"]=config.contentType||"*/*"}function toObject(){return Ext.apply(com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorImpl.prototype.toObject.call(this),{contentType:this.contentType})}return{extend:"com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorImpl",mixins:["com.coremedia.cap.common.descriptors.BlobPropertyDescriptor"],
constructor:BlobPropertyDescriptorImpl$,super$pcXK:function(){com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorImpl.prototype.constructor.apply(this,arguments)},toObject:toObject,requires:["Ext","com.coremedia.cap.common.descriptors.BlobPropertyDescriptor","com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorImpl"]}});Ext.define("com.coremedia.cap.content.impl.VersionStructRemoteBeanImpl",function(VersionStructRemoteBeanImpl){function VersionStructRemoteBeanImpl$(uri,vars){this.super$3y6y(uri)}function beforeUpdateProperty(){throw new AS3.Error("Can not update Version Struct.");}return{extend:"com.coremedia.cap.common.impl.StructRemoteBeanImpl",metadata:{"":["RestResource",["uriTemplate","content/{id:[0-9]+}/versions/{version:[0-9]+}/structs/{property:[A-Za-z0-9_]+}"]]},constructor:VersionStructRemoteBeanImpl$,
super$3y6y:function(){com.coremedia.cap.common.impl.StructRemoteBeanImpl.prototype.constructor.apply(this,arguments)},beforeUpdateProperty:beforeUpdateProperty,requires:["AS3.Error","com.coremedia.cap.common.impl.StructRemoteBeanImpl"]}});Ext.define("com.coremedia.cap.content.impl.ContentObjectImpl",function(ContentObjectImpl){function ContentObjectImpl$(uri){this.super$m5VH(uri)}function isSubObject(value,propertyPath){return propertyPath==="properties"}function createSubBean(propertyPathPrefix){return new com.coremedia.cap.content.impl.ContentPropertiesImpl(this,propertyPathPrefix)}function getType(){return this.get(com.coremedia.cap.content.ContentPropertyNames.TYPE)}function getType_(){return this.getType()}function getRepository(){return com.coremedia.cap.common.SESSION.getConnection().getContentRepository()}
function getRepositoryInternal(){return AS3.cast(com.coremedia.cap.content.impl.ContentRepositoryInternal,com.coremedia.cap.common.SESSION.getConnection().getContentRepository())}function getProperties(){return this.get(com.coremedia.cap.content.ContentPropertyNames.PROPERTIES)}function isContent(){return AS3.is(this,com.coremedia.cap.content.Content)}function isVersion(){return AS3.is(this,com.coremedia.cap.content.Version)}function isDestroyed(){switch(this.getState()){case com.coremedia.ui.data.BeanState.UNKNOWN:return undefined;
case com.coremedia.ui.data.BeanState.NON_EXISTENT:return true}return false}return{extend:"com.coremedia.cap.common.impl.CapObjectImpl",mixins:["com.coremedia.cap.content.ContentObject"],constructor:ContentObjectImpl$,super$m5VH:function(){com.coremedia.cap.common.impl.CapObjectImpl.prototype.constructor.apply(this,arguments)},isSubObject:isSubObject,createSubBean:createSubBean,getType:getType,getType_:getType_,getRepository:getRepository,getRepositoryInternal:getRepositoryInternal,getProperties:getProperties,
isContent:isContent,isVersion:isVersion,isDestroyed:isDestroyed,requires:["com.coremedia.cap.common.SESSION","com.coremedia.cap.common.impl.CapObjectImpl","com.coremedia.cap.content.Content","com.coremedia.cap.content.ContentObject","com.coremedia.cap.content.ContentPropertyNames","com.coremedia.cap.content.Version","com.coremedia.ui.data.BeanState"],uses:["com.coremedia.cap.content.impl.ContentPropertiesImpl","com.coremedia.cap.content.impl.ContentRepositoryInternal"]}});Ext.define("com.coremedia.cap.content.impl.ContentRequestQueues",function(ContentRequestQueues){var queues$static;function queues$static_(){queues$static={}}function getRequestQueue$static(id){var queue=queues$static[id];if(!queue){queue=new com.coremedia.ui.data.impl.RequestQueue;queues$static[id]=queue}return queue}function deleteAll$static(){queues$static={}}function ContentRequestQueues$(){}return{constructor:ContentRequestQueues$,statics:{queues:undefined,getRequestQueue:getRequestQueue$static,
deleteAll:deleteAll$static,__initStatics__:function(){queues$static_()}},requires:["com.coremedia.ui.data.impl.RequestQueue"]}});Ext.define("com.coremedia.cap.content.impl.ApproveResultBuilder",function(ApproveResultBuilder){function makeResultObject(error,successful,resultItems){return new com.coremedia.cap.content.results.impl.ApproveResultImpl(error,successful,resultItems)}function makeResultItem(resultItem){return new com.coremedia.cap.content.results.impl.ApproveResultItemImpl(resultItem["category"],resultItem["content"],resultItem["editor"])}function ApproveResultBuilder$(){this.super$adzO()}return{extend:"com.coremedia.cap.content.impl.BulkOperationResultBuilder",
makeResultObject:makeResultObject,makeResultItem:makeResultItem,super$adzO:function(){com.coremedia.cap.content.impl.BulkOperationResultBuilder.prototype.constructor.apply(this,arguments)},constructor:ApproveResultBuilder$,requires:["com.coremedia.cap.content.impl.BulkOperationResultBuilder"],uses:["com.coremedia.cap.content.results.impl.ApproveResultImpl","com.coremedia.cap.content.results.impl.ApproveResultItemImpl"]}});Ext.define("com.coremedia.cap.content.impl.BulkMoveMethod",function(BulkMoveMethod){function BulkMoveMethod$(contentRepository,contents,target,callback){this.super$1WZh(contentRepository,"bulkMoveUri",false,false,{contents:contents,target:target},callback);this.contents$1WZh=contents;this.target$1WZh=target}function execute(){com.coremedia.ui.data.RemoteBeanUtil.flushAll(AS3.bind(this,"doExecute"),this.contents$1WZh,this.target$1WZh)}function invalidate(result,executeEventually){com.coremedia.cap.content.impl.ContentRepositoryMethod.prototype.invalidate.call(this,
result,executeEventually);var items=AS3.cast(com.coremedia.cap.content.results.BulkOperationResult,result).results;var modified=[];var parents=[];for(var i=0;i<items.length;i++){var item=items[i];var resultCode=item.resultCode;if(resultCode===com.coremedia.cap.content.results.MoveResultCodes.CONTENT_MOVED){var content=item.content;var parent=content.getParent();if(parent&&parents.indexOf(parent)===-1)parents.push(parent);modified.push(content)}}if(modified.length>0){parents.forEach(function(parent){parent.invalidate()});
this.target$1WZh.invalidate();modified.forEach(function(content){content.invalidate()})}}function makeResult(response){return(new com.coremedia.cap.content.impl.BulkOperationResultBuilder).convert(response)}return{extend:"com.coremedia.cap.content.impl.ContentRepositoryMethod",contents$1WZh:null,target$1WZh:null,constructor:BulkMoveMethod$,super$1WZh:function(){com.coremedia.cap.content.impl.ContentRepositoryMethod.prototype.constructor.apply(this,arguments)},execute:execute,invalidate:invalidate,
makeResult:makeResult,requires:["com.coremedia.cap.content.impl.ContentRepositoryMethod","com.coremedia.cap.content.results.BulkOperationResult","com.coremedia.cap.content.results.MoveResultCodes","com.coremedia.ui.data.RemoteBeanUtil"],uses:["com.coremedia.cap.content.impl.BulkOperationResultBuilder"]}});Ext.define("com.coremedia.cap.content.impl.CheckInResultBuilder",function(CheckInResultBuilder){function makeResultObject(error,successful,resultItems){return new com.coremedia.cap.content.results.impl.CheckInResultImpl(error,successful,resultItems)}function makeResultItem(resultItem){return new com.coremedia.cap.content.results.impl.CheckInResultItemImpl(resultItem["category"],resultItem["content"],resultItem["editor"],resultItem["version"])}function CheckInResultBuilder$(){this.super$FLPO()}return{extend:"com.coremedia.cap.content.impl.BulkOperationResultBuilder",
makeResultObject:makeResultObject,makeResultItem:makeResultItem,super$FLPO:function(){com.coremedia.cap.content.impl.BulkOperationResultBuilder.prototype.constructor.apply(this,arguments)},constructor:CheckInResultBuilder$,requires:["com.coremedia.cap.content.impl.BulkOperationResultBuilder"],uses:["com.coremedia.cap.content.results.impl.CheckInResultImpl","com.coremedia.cap.content.results.impl.CheckInResultItemImpl"]}});Ext.define("com.coremedia.cap.content.impl.BulkOperationResultBuilder",function(BulkOperationResultBuilder){function convert(response){var this$=this;var error=response.success?null:response.getError();var resultItems=[];var responseJSON=response.getResponseJSON();var rawResultItems=responseJSON&&responseJSON["resultItems"]||[];rawResultItems.forEach(function(resultItem){resultItems.push(this$.makeResultItem(resultItem))});var successful=response.success&&responseJSON["successful"];return this.makeResultObject(error,
successful,resultItems)}function makeResultObject(error,successful,resultItems){return new com.coremedia.cap.content.results.impl.BulkOperationResultImpl(error,successful,resultItems)}function makeResultItem(resultItem){return new com.coremedia.cap.content.results.impl.BulkOperationResultItemImpl(resultItem["category"],resultItem["content"],resultItem["impediment"])}function BulkOperationResultBuilder$(){}return{convert:convert,makeResultObject:makeResultObject,makeResultItem:makeResultItem,constructor:BulkOperationResultBuilder$,
uses:["com.coremedia.cap.content.results.impl.BulkOperationResultImpl","com.coremedia.cap.content.results.impl.BulkOperationResultItemImpl"]}});Ext.define("com.coremedia.cap.content.impl.ContentRepositoryImpl",function(ContentRepositoryImpl){var UNREADABLE$static="unreadable";var error403$static;function error403$static_(){error403$static=new com.coremedia.ui.data.error.RemoteError({message:"Forbidden",method:"GET",errorCode:"UNKNOWN",errorName:"UNKNOWN",status:403})}var error404$static;function error404$static_(){error404$static=new com.coremedia.ui.data.error.RemoteError({message:"Not found",method:"GET",errorCode:"UNKNOWN",errorName:"UNKNOWN",
status:404})}function ContentRepositoryImpl$(path){this.super$0bbS(path);this.searchService$0bbS=new com.coremedia.cap.content.search.impl.SearchServiceImpl(this);this.publicationService$0bbS=new com.coremedia.cap.content.publication.impl.PublicationServiceImpl(this);this.accessControl$0bbS=new com.coremedia.cap.content.authorization.impl.AccessControlImpl(this);this.diffService$0bbS=new com.coremedia.ui.data.impl.RemoteServiceMethod(path+"/diff","GET");this.diffMarkupService$0bbS=new com.coremedia.ui.data.impl.RemoteServiceMethod(path+
"/diff/markup","GET");this.addPropertyChangeListener("contentTypes",AS3.bind(this,"contentTypesChanged$0bbS"))}function getReferrersUriTemplate(){if(!this.referrersUriTemplate$0bbS){var referrersUriTemplateString=this.get("referrersUriTemplate");if(referrersUriTemplateString)this.referrersUriTemplate$0bbS=new com.coremedia.ui.data.impl.URITemplate(referrersUriTemplateString)}return this.referrersUriTemplate$0bbS}function getReferrersWithDescriptorUriTemplate(){if(!this.referrersWithDescriptorUriTemplate$0bbS){var referrersWithDescriptorUriTemplateString=
this.get("referrersWithDescriptorUriTemplate");if(referrersWithDescriptorUriTemplateString)this.referrersWithDescriptorUriTemplate$0bbS=new com.coremedia.ui.data.impl.URITemplate(referrersWithDescriptorUriTemplateString)}return this.referrersWithDescriptorUriTemplate$0bbS}function getRoot(){return this.get("root")}function getBaseHomeFolder(){return this.get("baseHomeFolder")}function getContentContentType(){return this.get("contentContentType")}function getFolderContentType(){return this.get("folderContentType")}
function getDocumentContentType(){return this.get("documentContentType")}function getContentTypes(){return this.get("contentTypes")}function getDocumentTypes(){return this.get("documentTypes")}function getConcreteDocumentTypes(){return this.get("concreteDocumentTypes")}function getContentTypesByName(){return this.get("contentTypesByName")}function getContentType(name){var contentTypesByName=this.getContentTypesByName();if(!contentTypesByName)return undefined;return contentTypesByName[name]||AS3.as(com.coremedia.ui.data.beanFactory.getRemoteBean(name),
com.coremedia.cap.content.ContentType)}function contentTypesChanged(){var contentTypes=this.getContentTypes();if(contentTypes){contentTypes.forEach(function(contentType){contentType.init()});this.setInternalProperties({"documentTypes":contentTypes.filter(AS3.bind(this,"isDocumentType$0bbS")),"concreteDocumentTypes":contentTypes.filter(isConcreteDocumentType$static),"contentTypesByName":this.computeContentTypesByName$0bbS(contentTypes)})}}function isDocumentType(contentType){return contentType!==this.getFolderContentType()&&
contentType!==this.getContentContentType()}function isConcreteDocumentType$static(contentType){return contentType.isConcrete()&&contentType.getName()!==ContentRepositoryImpl.FOLDER_CONTENT_TYPE}function computeContentTypesByName(contentTypes){var contentTypesByName={};contentTypes.forEach(function(contentType){contentTypesByName[contentType.getName()]=contentType});return contentTypesByName}function getContent(uriPath){return AS3.as(com.coremedia.ui.data.beanFactory.getRemoteBean(uriPath),com.coremedia.cap.content.Content)}
function getChild(path,callback,folder){switch(arguments.length){case 0:path="/";case 1:callback=null;case 2:folder=null}if(!callback)return this.getChildNow$0bbS(path,folder);com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(AS3.bind(this,"getChildNowNoException$0bbS"),path,folder).loadValue(function(result){var absolutePath=path.charAt(0)!=="/"?folder?folder.getUriPath()+"/"+path:path:path;if(result===null)callback(null,absolutePath,error404$static);else if(result===UNREADABLE$static)callback(null,
absolutePath,error403$static);else callback(result,null,null)});return undefined}function getChildNowNoException(path,folder){var childNow;try{childNow=this.getChildNow$0bbS(path,folder)}catch(e){if(AS3.is(e,com.coremedia.ui.data.error.NotReadableError))return UNREADABLE$static;else throw e;}if(childNow){if(childNow.getState()===com.coremedia.ui.data.BeanState.UNKNOWN){childNow.load();return undefined}if(!childNow.getState().readable)return UNREADABLE$static}return childNow}function getChildNow(path,
folder){var currentContent;if(path.charAt(0)==="/"||!folder)currentContent=this.getRoot();else currentContent=folder;var pathArcs=path.split("/");for(var $1=0;$1<pathArcs.length;++$1){var arc=pathArcs[$1];if(!currentContent)break;if(!currentContent.isLoaded()){currentContent.load();return undefined}if(arc&&arc!==".")if(arc==="..")currentContent=currentContent.getParent();else{var childrenByName=currentContent.getChildrenByName();if(childrenByName===undefined)return undefined;currentContent=childrenByName[arc]||
null}}return currentContent}function diff(start,end,callback){if(!start||!end||!callback)throw new AS3.Error("Missing argument");this.diffService$0bbS.request({start:start,end:end},function(response){callback(response.getResponseJSON())},function(response){var error=response.getError();callback(null,error)})}function diffMarkup(start,end,propertyName,callback){if(!start||!end||!propertyName||!callback)throw new AS3.Error("Missing argument");this.diffMarkupService$0bbS.request({start:start,end:end,
propertyName:propertyName},function(response){if(response.response.status===204)callback(null);else{var responseText=response.response.responseText;var blob=com.coremedia.ui.data.impl.BlobImpl.create(null,responseText);callback(blob)}},function(response){var error=response.getError();callback(null,error)})}function getPreviewControllerUriPattern(){return this.get("previewControllerUriPattern")}function useStrictWorkflow(){return this.get("useStrictWorkflow")}function getPreviewUrlWhitelist(){return this.get("previewUrlWhitelist")}
function getTimeZones(){return this.get("timeZones")}function getDefaultTimeZone(){return this.get("defaultTimeZone")}function getAvailableLocalesContentPath(){return this.get("availableLocalesContentPath")}function getAvailableLocalesPropertyPath(){return this.get("availableLocalesPropertyPath")}function getValidatedActionLevel(){return this.get("validatedActionLevel")}function getSearchService(){return this.searchService$0bbS}function getPublicationService(){return this.publicationService$0bbS}
function getAccessControl(){return this.accessControl$0bbS}function invalidate(callback){if(arguments.length<=0)callback=null;if(callback)callback(this)}function copyRecursivelyTo(sources,target,callback){if(arguments.length<=2)callback=null;(new com.coremedia.cap.content.impl.BulkCopyMethod(this,sources,target,callback)).execute()}function moveTo(contents,target,callback){if(arguments.length<=2)callback=null;(new com.coremedia.cap.content.impl.BulkMoveMethod(this,contents,target,callback)).execute()}
function checkInAll(contents,callback){if(arguments.length<=1)callback=null;(new com.coremedia.cap.content.impl.BulkCheckInMethod(this,contents,callback)).execute()}function revertAll(contents,callback){if(arguments.length<=1)callback=null;(new com.coremedia.cap.content.impl.BulkRevertMethod(this,contents,callback)).execute()}function deleteAll(contents,callback){if(arguments.length<=1)callback=null;(new com.coremedia.cap.content.impl.BulkDeleteMethod(this,contents,callback)).execute()}function isValidName(resourceName){var rNameAsObject=
resourceName;return resourceName&&resourceName.length>0&&resourceName.length<=ContentRepositoryImpl.RESOURCE_NAME_MAX_LENGTH&&resourceName!=="."&&resourceName!==".."&&resourceName.indexOf("/")===-1&&resourceName===rNameAsObject.trim()}function undeleteAll(contents,callback){if(arguments.length<=1)callback=null;(new com.coremedia.cap.content.impl.BulkUndeleteMethod(this,contents,callback)).execute()}function query(callback,query){(new com.coremedia.ui.data.impl.RemoteServiceMethod(this.getUriPath()+
"/query","GET")).request({query:query},function(response){callback(com.coremedia.cap.content.results.impl.QueryResultImpl.fromResponse(response))})}return{extend:"com.coremedia.ui.data.impl.RemoteBeanImpl",mixins:["com.coremedia.cap.content.impl.ContentRepositoryInternal"],metadata:{"":["RestResource",["uriTemplate","content"]]},diffService$0bbS:null,diffMarkupService$0bbS:null,searchService$0bbS:null,publicationService$0bbS:null,accessControl$0bbS:null,referrersUriTemplate$0bbS:null,referrersWithDescriptorUriTemplate$0bbS:null,
constructor:ContentRepositoryImpl$,super$0bbS:function(){com.coremedia.ui.data.impl.RemoteBeanImpl.prototype.constructor.apply(this,arguments)},getReferrersUriTemplate:getReferrersUriTemplate,getReferrersWithDescriptorUriTemplate:getReferrersWithDescriptorUriTemplate,getRoot:getRoot,getBaseHomeFolder:getBaseHomeFolder,getContentContentType:getContentContentType,getFolderContentType:getFolderContentType,getDocumentContentType:getDocumentContentType,getContentTypes:getContentTypes,getDocumentTypes:getDocumentTypes,
getConcreteDocumentTypes:getConcreteDocumentTypes,getContentTypesByName:getContentTypesByName,getContentType:getContentType,contentTypesChanged$0bbS:contentTypesChanged,isDocumentType$0bbS:isDocumentType,computeContentTypesByName$0bbS:computeContentTypesByName,getContent:getContent,getChild:getChild,getChildNowNoException$0bbS:getChildNowNoException,getChildNow$0bbS:getChildNow,diff:diff,diffMarkup:diffMarkup,getPreviewControllerUriPattern:getPreviewControllerUriPattern,useStrictWorkflow:useStrictWorkflow,
getPreviewUrlWhitelist:getPreviewUrlWhitelist,getTimeZones:getTimeZones,getDefaultTimeZone:getDefaultTimeZone,getAvailableLocalesContentPath:getAvailableLocalesContentPath,getAvailableLocalesPropertyPath:getAvailableLocalesPropertyPath,getValidatedActionLevel:getValidatedActionLevel,getSearchService:getSearchService,getPublicationService:getPublicationService,getAccessControl:getAccessControl,invalidate:invalidate,copyRecursivelyTo:copyRecursivelyTo,moveTo:moveTo,checkInAll:checkInAll,revertAll:revertAll,
deleteAll:deleteAll,isValidName:isValidName,undeleteAll:undeleteAll,query:query,statics:{FOLDER_CONTENT_TYPE:"Folder_",RESOURCE_NAME_MAX_LENGTH:233,error403:undefined,error404:undefined,__initStatics__:function(){error403$static_();error404$static_()}},requires:["AS3.Error","com.coremedia.cap.content.Content","com.coremedia.cap.content.ContentType","com.coremedia.cap.content.impl.ContentRepositoryInternal","com.coremedia.ui.data.BeanState","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.beanFactory",
"com.coremedia.ui.data.error.NotReadableError","com.coremedia.ui.data.error.RemoteError","com.coremedia.ui.data.impl.BlobImpl","com.coremedia.ui.data.impl.RemoteBeanImpl","com.coremedia.ui.data.impl.RemoteServiceMethod","com.coremedia.ui.data.impl.URITemplate"],uses:["com.coremedia.cap.content.authorization.impl.AccessControlImpl","com.coremedia.cap.content.impl.BulkCheckInMethod","com.coremedia.cap.content.impl.BulkCopyMethod","com.coremedia.cap.content.impl.BulkDeleteMethod","com.coremedia.cap.content.impl.BulkMoveMethod",
"com.coremedia.cap.content.impl.BulkRevertMethod","com.coremedia.cap.content.impl.BulkUndeleteMethod","com.coremedia.cap.content.publication.impl.PublicationServiceImpl","com.coremedia.cap.content.results.impl.QueryResultImpl","com.coremedia.cap.content.search.impl.SearchServiceImpl"]}});Ext.define("com.coremedia.cap.content.impl.ContentTypeImpl",function(ContentTypeImpl){function ContentTypeImpl$(uri,vars){this.super$oHhC(uri);this.setImmediateProperty("name",vars.id);this.setId("coremedia:///content/type/"+vars.id)}function get(property){if(property==="instances"){var instancesBean=AS3.cast(com.coremedia.ui.data.RemoteBean,com.coremedia.cap.common.impl.CapTypeImpl.prototype.get.call(this,"instancesBean"));if(!instancesBean)return undefined;return instancesBean.get("items")}else return com.coremedia.cap.common.impl.CapTypeImpl.prototype.get.call(this,
property)}function getParent(){return AS3.as(this.get("parent"),com.coremedia.cap.content.ContentType)}function isSubtypeOf(type){var otherType=typeof type==="string"?com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getContentType(type):AS3.as(type,com.coremedia.cap.common.CapType);var currentType=this;do{if(currentType===otherType)return true;currentType=currentType.getParent()}while(currentType);return false}function isAbstract(){return AS3.as(this.get("abstract"),Boolean)}
function getDescriptors(){return AS3.as(this.get("descriptors"),Array)}function create(base,preferredName,callback){if(arguments.length<=2)callback=null;this.createWithProperties(base,preferredName,{},callback)}function createWithProperties(base,preferredName,properties,callback){if(arguments.length<=3)callback=null;var remoteServiceMethod=new com.coremedia.ui.data.impl.RemoteServiceMethod(AS3.cast(com.coremedia.ui.data.RemoteBean,com.coremedia.cap.common.SESSION.getConnection().getContentRepository()).getUriPath(),
"POST",true);if(!base.isFolder())base=base.getParent();var contentType=this;remoteServiceMethod.request({contentType:this.getName(),name:preferredName,folder:base,properties:properties},function(response){if(response.success){if(callback){var content=AS3.as(response.getResponseJSON(),com.coremedia.cap.content.Content);callback(new com.coremedia.cap.content.impl.ContentCreateResultImpl(content))}}else{var error=response.getError();if(callback)callback(new com.coremedia.cap.content.impl.ContentCreateResultImpl(null,
error))}})}function getInstances(){var instances=this.get("instances");return instances===undefined?undefined:AS3.as(instances,Array)}function init(){this.setInternal("descriptors",this.computeDescriptors({}))}function computeDescriptors(propertyDescriptorName2Index){var parent=AS3.cast(ContentTypeImpl,this.getParent());var result=parent?parent.computeDescriptors(propertyDescriptorName2Index):[];var directDescriptors=this.getDirectDescriptors();directDescriptors.forEach(function(d){var propertyName=
d.name;if(!(propertyName in propertyDescriptorName2Index))propertyDescriptorName2Index[propertyName]=result.length;result[propertyDescriptorName2Index[propertyName]]=d});return result}function invalidate(callback){if(arguments.length<=0)callback=null;if(callback)callback(this)}return{extend:"com.coremedia.cap.common.impl.CapTypeImpl",mixins:["com.coremedia.cap.content.ContentType"],metadata:{"":["RestResource",["uriTemplate","content/type/{id:[A-Za-z0-9_]+}"]]},constructor:ContentTypeImpl$,super$oHhC:function(){com.coremedia.cap.common.impl.CapTypeImpl.prototype.constructor.apply(this,
arguments)},get:get,getParent:getParent,isSubtypeOf:isSubtypeOf,isAbstract:isAbstract,getDescriptors:getDescriptors,create:create,createWithProperties:createWithProperties,getInstances:getInstances,init:init,computeDescriptors:computeDescriptors,invalidate:invalidate,requires:["com.coremedia.cap.common.CapType","com.coremedia.cap.common.SESSION","com.coremedia.cap.common.impl.CapTypeImpl","com.coremedia.cap.content.Content","com.coremedia.cap.content.ContentType","com.coremedia.ui.data.RemoteBean",
"com.coremedia.ui.data.impl.RemoteServiceMethod"],uses:["com.coremedia.cap.content.impl.ContentCreateResultImpl"]}});Ext.define("com.coremedia.cap.content.impl.BulkCheckInMethod",function(BulkCheckInMethod){function BulkCheckInMethod$(contentRepository,contents,callback){this.super$yn0L(contentRepository,"bulkCheckInUri",true,false,contents,callback)}function makeResult(response){return(new com.coremedia.cap.content.impl.CheckInResultBuilder).convert(response)}return{extend:"com.coremedia.cap.content.impl.AbstractBulkMethod",constructor:BulkCheckInMethod$,super$yn0L:function(){com.coremedia.cap.content.impl.AbstractBulkMethod.prototype.constructor.apply(this,
arguments)},makeResult:makeResult,requires:["com.coremedia.cap.content.impl.AbstractBulkMethod"],uses:["com.coremedia.cap.content.impl.CheckInResultBuilder"]}});Ext.define("com.coremedia.cap.content.impl.ContentMethod",function(ContentMethod){function ContentMethod$(content,params,actionName,urlSuffix,isModifyingVersions,isModifyingAllVersions,callback){this.super$F1_p(computeUrl$static(content,urlSuffix),actionName);this.content=content;this.params=params;this.isModifyingVersions=isModifyingVersions;this.isModifyingAllVersions=isModifyingAllVersions;this.callback=callback}function computeUrl$static(content,urlSuffix){var url=content.getUriPath();if(urlSuffix){if(urlSuffix.substr(0,
1)!=="/")url+="/";url+=urlSuffix}return url}function execute(){this.content.flush(AS3.bind(this,"doExecute"))}function doExecute(){this.request(this.params,AS3.bind(this,"successOrFailure$F1_p"))}function successOrFailure(response){var result=this.makeResult(response);this.invalidateContentFromResult(result);if(this.callback)this.callback(result)}function invalidateContentFromResult(result){this.content.invalidate();this.invalidateVersionHistory(this.content)}function makeResult(response){return com.coremedia.cap.common.impl.OperationResultImpl.fromResponse(response)}
function invalidateVersionHistory(bean){var this$=this;var versionHistory=AS3.as(bean.get("versionHistory"),com.coremedia.cap.content.VersionHistory);if(versionHistory)versionHistory.invalidate(function(){var items=versionHistory.getItems();if(items&&items.length>0)if(this$.isModifyingAllVersions)for(var i=0;i<items.length;i++)AS3.as(items[i],com.coremedia.cap.content.Version).invalidate();else{if(items.length>=1)AS3.as(items[items.length-1],com.coremedia.cap.content.Version).invalidate();if(items.length>=
2)AS3.as(items[items.length-2],com.coremedia.cap.content.Version).invalidate()}})}return{extend:"com.coremedia.ui.data.impl.RemoteServiceMethod",content:null,params:null,isModifyingVersions:false,isModifyingAllVersions:false,callback:null,constructor:ContentMethod$,super$F1_p:function(){com.coremedia.ui.data.impl.RemoteServiceMethod.prototype.constructor.apply(this,arguments)},execute:execute,doExecute:doExecute,successOrFailure$F1_p:successOrFailure,invalidateContentFromResult:invalidateContentFromResult,
makeResult:makeResult,invalidateVersionHistory:invalidateVersionHistory,requires:["com.coremedia.cap.content.Version","com.coremedia.cap.content.VersionHistory","com.coremedia.ui.data.impl.RemoteServiceMethod"],uses:["com.coremedia.cap.common.impl.OperationResultImpl"]}});Ext.define("com.coremedia.cap.content.impl.RevertResultBuilder",function(RevertResultBuilder){function makeResultObject(error,successful,resultItems){return new com.coremedia.cap.content.results.impl.RevertResultImpl(error,successful,resultItems)}function makeResultItem(resultItem){return new com.coremedia.cap.content.results.impl.RevertResultItemImpl(resultItem["category"],resultItem["content"],resultItem["editor"])}function RevertResultBuilder$(){this.super$M1jp()}return{extend:"com.coremedia.cap.content.impl.BulkOperationResultBuilder",
makeResultObject:makeResultObject,makeResultItem:makeResultItem,super$M1jp:function(){com.coremedia.cap.content.impl.BulkOperationResultBuilder.prototype.constructor.apply(this,arguments)},constructor:RevertResultBuilder$,requires:["com.coremedia.cap.content.impl.BulkOperationResultBuilder"],uses:["com.coremedia.cap.content.results.impl.RevertResultImpl","com.coremedia.cap.content.results.impl.RevertResultItemImpl"]}});Ext.define("com.coremedia.cap.content.impl.DifferenceType",function(DifferenceType){function ADDED$static_(){DifferenceType.ADDED=new DifferenceType}function REMOVED$static_(){DifferenceType.REMOVED=new DifferenceType}function CHANGED$static_(){DifferenceType.CHANGED=new DifferenceType}function values$static_(){DifferenceType.values=com.coremedia.ui.util.Enum.collectValues(DifferenceType)}function named$static(name){return com.coremedia.ui.util.Enum.namedIn(name,DifferenceType)}function DifferenceType$(){this.super$J4G_()}
return{extend:"com.coremedia.ui.util.Enum",metadata:{"":["PublicApi"]},super$J4G_:function(){com.coremedia.ui.util.Enum.prototype.constructor.apply(this,arguments)},constructor:DifferenceType$,statics:{ADDED:undefined,REMOVED:undefined,CHANGED:undefined,values:undefined,named:named$static,__initStatics__:function(){ADDED$static_();REMOVED$static_();CHANGED$static_();values$static_()}},requires:["com.coremedia.ui.util.Enum"]}});Ext.define("com.coremedia.cap.content.impl.BulkUndeleteMethod",function(BulkUndeleteMethod){function BulkUndeleteMethod$(contentRepository,contents,callback){this.super$4EFU(contentRepository,"bulkUndeleteUri",false,false,contents,callback)}function makeResult(response){return(new com.coremedia.cap.content.impl.BulkOperationResultBuilder).convert(response)}return{extend:"com.coremedia.cap.content.impl.AbstractBulkMethod",constructor:BulkUndeleteMethod$,super$4EFU:function(){com.coremedia.cap.content.impl.AbstractBulkMethod.prototype.constructor.apply(this,
arguments)},makeResult:makeResult,requires:["com.coremedia.cap.content.impl.AbstractBulkMethod"],uses:["com.coremedia.cap.content.impl.BulkOperationResultBuilder"]}});Ext.define("com.coremedia.cap.content.impl.BulkCopyMethod",function(BulkCopyMethod){function BulkCopyMethod$(contentRepository,contents,target,callback){this.super$tJ6F(contentRepository,"bulkCopyUri",false,false,{contents:contents,target:target},callback);this.contents$tJ6F=contents;this.target$tJ6F=target}function execute(){com.coremedia.ui.data.RemoteBeanUtil.flushAll(AS3.bind(this,"doExecute"),this.contents$tJ6F,this.target$tJ6F)}function invalidate(result,executeEventually){com.coremedia.cap.content.impl.ContentRepositoryMethod.prototype.invalidate.call(this,
result,executeEventually);var items=AS3.cast(com.coremedia.cap.content.results.CopyResult,result).results;var modified=false;for(var i=0;i<items.length;i++){var item=items[i];var resultCode=item.resultCode;if(resultCode===com.coremedia.cap.content.results.CopyResultCodes.CONTENT_COPIED||resultCode===com.coremedia.cap.content.results.CopyResultCodes.CONTENT_COPIED_CHECKED_OUT){modified=true;break}}if(modified)this.target$tJ6F.invalidate(executeEventually.delay())}function makeResult(response){return(new com.coremedia.cap.content.impl.CopyResultBuilder).convert(response)}
return{extend:"com.coremedia.cap.content.impl.ContentRepositoryMethod",contents$tJ6F:null,target$tJ6F:null,constructor:BulkCopyMethod$,super$tJ6F:function(){com.coremedia.cap.content.impl.ContentRepositoryMethod.prototype.constructor.apply(this,arguments)},execute:execute,invalidate:invalidate,makeResult:makeResult,requires:["com.coremedia.cap.content.impl.ContentRepositoryMethod","com.coremedia.cap.content.results.CopyResult","com.coremedia.cap.content.results.CopyResultCodes","com.coremedia.ui.data.RemoteBeanUtil"],
uses:["com.coremedia.cap.content.impl.CopyResultBuilder"]}});Ext.define("com.coremedia.cap.content.impl.BulkRevertMethod",function(BulkRevertMethod){function BulkRevertMethod$(contentRepository,contents,callback){this.super$XCf_(contentRepository,"bulkRevertUri",true,false,contents,callback)}function doExecute(){com.coremedia.ui.data.RemoteBeanUtil.invalidateAll(BulkRevertMethod["superclass"].doExecute.bind(this),this.getContents())}function makeResult(response){return(new com.coremedia.cap.content.impl.RevertResultBuilder).convert(response)}return{extend:"com.coremedia.cap.content.impl.AbstractBulkMethod",
constructor:BulkRevertMethod$,super$XCf_:function(){com.coremedia.cap.content.impl.AbstractBulkMethod.prototype.constructor.apply(this,arguments)},doExecute:doExecute,makeResult:makeResult,requires:["com.coremedia.cap.content.impl.AbstractBulkMethod","com.coremedia.ui.data.RemoteBeanUtil"],uses:["com.coremedia.cap.content.impl.RevertResultBuilder"]}});Ext.define("com.coremedia.cap.content.impl.ContentRepositoryMethod",function(ContentRepositoryMethod){function ContentRepositoryMethod$(contentRepository,uriProperty,isModifyingVersions,isModifyingAllVersions,params,callback){var url=AS3.cast(com.coremedia.ui.data.RemoteBean,contentRepository).get(uriProperty);this.super$DUaT(url,"POST",true);this.isModifyingVersions$DUaT=isModifyingVersions;this.isModifyingAllVersions$DUaT=isModifyingAllVersions;this.params=params;this.callback=callback}function doExecute(){this.request(this.params,
AS3.bind(this,"successOrFailure$DUaT"))}function successOrFailure(response){var this$=this;var result=this.makeResult(response);var executeEventually=new com.coremedia.ui.util.ExecuteEventually(this.callback?function(){this$.callback(result)}:null);this.invalidate(result,executeEventually);executeEventually.proceed()}function invalidate(result,executeEventually){}function invalidateContent(content,executeEventually){content.invalidate(executeEventually.delay());if(this.isModifyingVersions$DUaT)this.invalidateVersionHistory(content,
executeEventually)}function invalidateVersionHistory(bean,executeEventually){var this$=this;var versionHistory=AS3.as(bean.get("versionHistory"),com.coremedia.cap.content.VersionHistory);if(versionHistory){executeEventually.delay();versionHistory.invalidate(function(){var items=versionHistory.getItems();if(items&&items.length>0)if(this$.isModifyingAllVersions$DUaT)for(var i=0;i<items.length;i++)AS3.as(items[i],com.coremedia.cap.content.Version).invalidate(executeEventually.delay());else{if(items.length>=
1)AS3.as(items[items.length-1],com.coremedia.cap.content.Version).invalidate(executeEventually.delay());if(items.length>=2)AS3.as(items[items.length-2],com.coremedia.cap.content.Version).invalidate(executeEventually.delay())}executeEventually.proceed()})}}function makeResult(response){return com.coremedia.cap.common.impl.OperationResultImpl.fromResponse(response)}return{extend:"com.coremedia.ui.data.impl.RemoteServiceMethod",contentRepository:null,isModifyingVersions$DUaT:false,isModifyingAllVersions$DUaT:false,
params:null,callback:null,constructor:ContentRepositoryMethod$,super$DUaT:function(){com.coremedia.ui.data.impl.RemoteServiceMethod.prototype.constructor.apply(this,arguments)},doExecute:doExecute,successOrFailure$DUaT:successOrFailure,invalidate:invalidate,invalidateContent:invalidateContent,invalidateVersionHistory:invalidateVersionHistory,makeResult:makeResult,requires:["com.coremedia.cap.content.Version","com.coremedia.cap.content.VersionHistory","com.coremedia.ui.data.RemoteBean","com.coremedia.ui.data.impl.RemoteServiceMethod",
"com.coremedia.ui.util.ExecuteEventually"],uses:["com.coremedia.cap.common.impl.OperationResultImpl"]}});Ext.define("com.coremedia.cap.content.impl.CopyResultBuilder",function(CopyResultBuilder){function makeResultObject(error,successful,resultItems){return new com.coremedia.cap.content.results.impl.CopyResultImpl(error,successful,resultItems)}function makeResultItem(resultItem){return new com.coremedia.cap.content.results.impl.CopyResultItemImpl(resultItem["category"],resultItem["content"],resultItem["copy"])}function CopyResultBuilder$(){this.super$$_F2()}return{extend:"com.coremedia.cap.content.impl.BulkOperationResultBuilder",
makeResultObject:makeResultObject,makeResultItem:makeResultItem,super$$_F2:function(){com.coremedia.cap.content.impl.BulkOperationResultBuilder.prototype.constructor.apply(this,arguments)},constructor:CopyResultBuilder$,requires:["com.coremedia.cap.content.impl.BulkOperationResultBuilder"],uses:["com.coremedia.cap.content.results.impl.CopyResultImpl","com.coremedia.cap.content.results.impl.CopyResultItemImpl"]}});Ext.define("com.coremedia.cap.content.impl.ContentPropertiesImpl",function(ContentPropertiesImpl){function ContentPropertiesImpl$(content,basePath){this.super$c_x5(content,basePath)}function getContentObject(){return AS3.as(this.getParentBean(),com.coremedia.cap.content.ContentObject)}return{extend:"com.coremedia.ui.data.impl.SubBean",mixins:["com.coremedia.cap.content.ContentProperties"],constructor:ContentPropertiesImpl$,super$c_x5:function(){com.coremedia.ui.data.impl.SubBean.prototype.constructor.apply(this,
arguments)},getContentObject:getContentObject,requires:["com.coremedia.cap.content.ContentObject","com.coremedia.cap.content.ContentProperties","com.coremedia.ui.data.impl.SubBean"]}});Ext.define("com.coremedia.cap.content.impl.ContentStructRemoteBeanImpl",function(ContentStructRemoteBeanImpl){function ContentStructRemoteBeanImpl$(uri,vars){var id=vars["id"];this.numericId$4hxT=AS3.is(id,Number)?id:parseInt(id);this.super$4hxT(uri)}function getContent(){return AS3.as(com.coremedia.ui.data.beanFactory.getRemoteBean("content/"+this.numericId$4hxT),com.coremedia.cap.content.Content)}function createRequestQueue(){return com.coremedia.cap.content.impl.ContentRequestQueues.getRequestQueue(this.numericId$4hxT)}
return{extend:"com.coremedia.cap.common.impl.StructRemoteBeanImpl",metadata:{"":["RestResource",["uriTemplate","content/{id:[0-9]+}/structs/{property:[A-Za-z0-9_]+}"]]},numericId$4hxT:0,constructor:ContentStructRemoteBeanImpl$,super$4hxT:function(){com.coremedia.cap.common.impl.StructRemoteBeanImpl.prototype.constructor.apply(this,arguments)},getContent:getContent,createRequestQueue:createRequestQueue,requires:["com.coremedia.cap.common.impl.StructRemoteBeanImpl","com.coremedia.cap.content.Content",
"com.coremedia.ui.data.beanFactory"],uses:["com.coremedia.cap.content.impl.ContentRequestQueues"]}});Ext.define("com.coremedia.cap.content.impl.VersionImpl",function(VersionImpl){var VERSION_ID_PREFIX$static="coremedia:///cap/version/";function VersionImpl$(uri,vars){this.super$TTvH(uri);var version=vars["version"];var contentId=vars["id"];this.setImmediateProperty(com.coremedia.cap.content.VersionPropertyNames.VERSION_NUMBER,AS3.is(version,Number)?version:parseInt(version));this.setImmediateProperty(com.coremedia.cap.content.VersionPropertyNames.CONTAINING_CONTENT,com.coremedia.ui.data.beanFactory.getRemoteBean("content/"+
contentId));this.setId(VERSION_ID_PREFIX$static+contentId+"/"+version)}function get(property){switch(property){case com.coremedia.cap.content.VersionPropertyNames.LATEST_APPROVED_VERSION:if(!this.contentLatestApprovedVersionExpression$TTvH)return this.makeContentLatestApprovedVersionExpression$TTvH().getValue()===this;break;case com.coremedia.cap.content.VersionPropertyNames.LATEST_PUBLISHED_VERSION:if(!this.contentLatestPublishedVersionExpression$TTvH)return this.makeContentLatestPublishedVersionExpression$TTvH().getValue()===
this;break;case com.coremedia.cap.content.VersionPropertyNames.LATEST_VERSION:if(!this.contentLatestVersionExpression$TTvH)return this.makeContentLatestVersionExpression$TTvH().getValue()===this;break}return com.coremedia.cap.content.impl.ContentObjectImpl.prototype.get.call(this,property)}function getEditionDate(){return this.get(com.coremedia.cap.content.VersionPropertyNames.EDITION_DATE)}function getApprovalDate(){return this.get(com.coremedia.cap.content.VersionPropertyNames.APPROVAL_DATE)}function getPublicationDate(){return this.get(com.coremedia.cap.content.VersionPropertyNames.PUBLICATION_DATE)}
function getEditor(){return this.get(com.coremedia.cap.content.VersionPropertyNames.EDITOR)}function getApprover(){return this.get(com.coremedia.cap.content.VersionPropertyNames.APPROVER)}function getPublisher(){return this.get(com.coremedia.cap.content.VersionPropertyNames.PUBLISHER)}function getVersionNumber(){return this.get(com.coremedia.cap.content.VersionPropertyNames.VERSION_NUMBER)}function isLatestApprovedVersion(){return this.get(com.coremedia.cap.content.VersionPropertyNames.LATEST_APPROVED_VERSION)}
function isLatestPublishedVersion(){return this.get(com.coremedia.cap.content.VersionPropertyNames.LATEST_PUBLISHED_VERSION)}function isLatestVersion(){return this.get(com.coremedia.cap.content.VersionPropertyNames.LATEST_VERSION)}function getContainingContent(){return this.get(com.coremedia.cap.content.VersionPropertyNames.CONTAINING_CONTENT)}function addPropertyChangeListener(property,onChange){if(property===com.coremedia.cap.content.VersionPropertyNames.LATEST_APPROVED_VERSION&&!this.contentLatestApprovedVersionExpression$TTvH){this.contentLatestApprovedVersionExpression$TTvH=
this.makeContentLatestApprovedVersionExpression$TTvH();this.contentLatestApprovedVersionExpression$TTvH.addChangeListener(AS3.bind(this,"contentLatestApprovedVersionChanged$TTvH"));this.contentLatestApprovedVersionChanged$TTvH()}if(property===com.coremedia.cap.content.VersionPropertyNames.LATEST_PUBLISHED_VERSION&&!this.contentLatestPublishedVersionExpression$TTvH){this.contentLatestPublishedVersionExpression$TTvH=this.makeContentLatestPublishedVersionExpression$TTvH();this.contentLatestPublishedVersionExpression$TTvH.addChangeListener(AS3.bind(this,
"contentLatestPublishedVersionChanged$TTvH"));this.contentLatestPublishedVersionChanged$TTvH()}if(property===com.coremedia.cap.content.VersionPropertyNames.LATEST_VERSION&&!this.contentLatestVersionExpression$TTvH){this.contentLatestVersionExpression$TTvH=this.makeContentLatestVersionExpression$TTvH();this.contentLatestVersionExpression$TTvH.addChangeListener(AS3.bind(this,"contentLatestVersionChanged$TTvH"));this.contentLatestVersionChanged$TTvH()}com.coremedia.cap.content.impl.ContentObjectImpl.prototype.addPropertyChangeListener.call(this,
property,onChange)}function makeContentLatestApprovedVersionExpression(){var expression=com.coremedia.cap.content.VersionPropertyNames.CONTAINING_CONTENT+"."+com.coremedia.cap.content.ContentPropertyNames.LATEST_APPROVED_VERSION;return com.coremedia.ui.data.ValueExpressionFactory.create(expression,this)}function makeContentLatestPublishedVersionExpression(){var expression=com.coremedia.cap.content.VersionPropertyNames.CONTAINING_CONTENT+"."+com.coremedia.cap.content.ContentPropertyNames.LATEST_PUBLISHED_VERSION;
return com.coremedia.ui.data.ValueExpressionFactory.create(expression,this)}function makeContentLatestVersionExpression(){var this$=this;return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var content=this$.getContainingContent();if(!content)return undefined;return content.getCheckedInVersion()||content.getCheckedOutVersion()})}function removePropertyChangeListener(property,onChange){com.coremedia.cap.content.impl.ContentObjectImpl.prototype.removePropertyChangeListener.call(this,
property,onChange);if(property===com.coremedia.cap.content.VersionPropertyNames.LATEST_APPROVED_VERSION&&!this.hasListener(com.coremedia.cap.content.VersionPropertyNames.LATEST_APPROVED_VERSION)){this.contentLatestApprovedVersionExpression$TTvH.removeChangeListener(AS3.bind(this,"contentLatestApprovedVersionChanged$TTvH"));this.contentLatestApprovedVersionExpression$TTvH=null}if(property===com.coremedia.cap.content.VersionPropertyNames.LATEST_PUBLISHED_VERSION&&!this.hasListener(com.coremedia.cap.content.VersionPropertyNames.LATEST_PUBLISHED_VERSION)){this.contentLatestPublishedVersionExpression$TTvH.removeChangeListener(AS3.bind(this,
"contentLatestPublishedVersionChanged$TTvH"));this.contentLatestPublishedVersionExpression$TTvH=null}if(property===com.coremedia.cap.content.VersionPropertyNames.LATEST_VERSION&&!this.hasListener(com.coremedia.cap.content.VersionPropertyNames.LATEST_VERSION)){this.contentLatestVersionExpression$TTvH.removeChangeListener(AS3.bind(this,"contentLatestVersionChanged$TTvH"));this.contentLatestVersionExpression$TTvH=null}}function contentLatestApprovedVersionChanged(){this.setInternal(com.coremedia.cap.content.VersionPropertyNames.LATEST_APPROVED_VERSION,
this.contentLatestApprovedVersionExpression$TTvH.getValue()===this)}function contentLatestPublishedVersionChanged(){this.setInternal(com.coremedia.cap.content.VersionPropertyNames.LATEST_PUBLISHED_VERSION,this.contentLatestPublishedVersionExpression$TTvH.getValue()===this)}function contentLatestVersionChanged(){this.setInternal(com.coremedia.cap.content.VersionPropertyNames.LATEST_VERSION,this.contentLatestVersionExpression$TTvH.getValue()===this)}function beforeUpdateProperty(){com.coremedia.ui.logging.Logger.error("Can not update Version.")}
return{extend:"com.coremedia.cap.content.impl.ContentObjectImpl",mixins:["com.coremedia.cap.content.Version"],metadata:{"":["RestResource",["uriTemplate","content/{id:[0-9]+}/versions/{version:[0-9]+}"]]},contentLatestApprovedVersionExpression$TTvH:null,contentLatestPublishedVersionExpression$TTvH:null,contentLatestVersionExpression$TTvH:null,constructor:VersionImpl$,super$TTvH:function(){com.coremedia.cap.content.impl.ContentObjectImpl.prototype.constructor.apply(this,arguments)},get:get,getEditionDate:getEditionDate,
getApprovalDate:getApprovalDate,getPublicationDate:getPublicationDate,getEditor:getEditor,getApprover:getApprover,getPublisher:getPublisher,getVersionNumber:getVersionNumber,isLatestApprovedVersion:isLatestApprovedVersion,isLatestPublishedVersion:isLatestPublishedVersion,isLatestVersion:isLatestVersion,getContainingContent:getContainingContent,addPropertyChangeListener:addPropertyChangeListener,makeContentLatestApprovedVersionExpression$TTvH:makeContentLatestApprovedVersionExpression,makeContentLatestPublishedVersionExpression$TTvH:makeContentLatestPublishedVersionExpression,
makeContentLatestVersionExpression$TTvH:makeContentLatestVersionExpression,removePropertyChangeListener:removePropertyChangeListener,contentLatestApprovedVersionChanged$TTvH:contentLatestApprovedVersionChanged,contentLatestPublishedVersionChanged$TTvH:contentLatestPublishedVersionChanged,contentLatestVersionChanged$TTvH:contentLatestVersionChanged,beforeUpdateProperty:beforeUpdateProperty,requires:["com.coremedia.cap.content.ContentPropertyNames","com.coremedia.cap.content.Version","com.coremedia.cap.content.VersionPropertyNames",
"com.coremedia.cap.content.impl.ContentObjectImpl","com.coremedia.ui.data.ValueExpressionFactory","com.coremedia.ui.data.beanFactory","com.coremedia.ui.logging.Logger"]}});Ext.define("com.coremedia.cap.content.impl.DeleteResultBuilder",function(DeleteResultBuilder){function makeResultObject(error,successful,resultItems){return new com.coremedia.cap.content.results.impl.DeleteResultImpl(error,successful,resultItems)}function makeResultItem(resultItem){return new com.coremedia.cap.content.results.impl.DeleteResultItemImpl(resultItem["category"],resultItem["content"],resultItem["editor"])}function DeleteResultBuilder$(){this.super$71iC()}return{extend:"com.coremedia.cap.content.impl.BulkOperationResultBuilder",
makeResultObject:makeResultObject,makeResultItem:makeResultItem,super$71iC:function(){com.coremedia.cap.content.impl.BulkOperationResultBuilder.prototype.constructor.apply(this,arguments)},constructor:DeleteResultBuilder$,requires:["com.coremedia.cap.content.impl.BulkOperationResultBuilder"],uses:["com.coremedia.cap.content.results.impl.DeleteResultImpl","com.coremedia.cap.content.results.impl.DeleteResultItemImpl"]}});Ext.define("com.coremedia.cap.content.impl.ContentRepositoryInternal",function(ContentRepositoryInternal){return{mixins:["com.coremedia.cap.content.ContentRepository"],requires:["com.coremedia.cap.content.ContentRepository"]}});Ext.define("com.coremedia.cap.content.impl.BulkDeleteMethod",function(BulkDeleteMethod){function BulkDeleteMethod$(contentRepository,contents,callback){this.super$D3K5(contentRepository,"bulkDeleteUri",false,false,contents,callback)}function makeResult(response){return(new com.coremedia.cap.content.impl.DeleteResultBuilder).convert(response)}return{extend:"com.coremedia.cap.content.impl.AbstractBulkMethod",constructor:BulkDeleteMethod$,super$D3K5:function(){com.coremedia.cap.content.impl.AbstractBulkMethod.prototype.constructor.apply(this,
arguments)},makeResult:makeResult,requires:["com.coremedia.cap.content.impl.AbstractBulkMethod"],uses:["com.coremedia.cap.content.impl.DeleteResultBuilder"]}});Ext.define("com.coremedia.cap.content.impl.CheckOutMethod",function(CheckOutMethod){function CheckOutMethod$(content,callback){this.super$vG$E(content,{},"CHECKOUT","",true,false,callback)}return{extend:"com.coremedia.cap.content.impl.ContentMethod",constructor:CheckOutMethod$,super$vG$E:function(){com.coremedia.cap.content.impl.ContentMethod.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cap.content.impl.ContentMethod"]}});Ext.define("com.coremedia.cap.content.impl.ContentImpl",function(ContentImpl){var PATH_SEPARATOR$static="/";var CONTENT_ID_PREFIX$static="coremedia:///cap/content/";function ContentImpl$(uri,vars){var id=vars["id"];this.numericId$CJro=AS3.is(id,Number)?id:parseInt(id);this.super$CJro(uri);this.setImmediateProperty(com.coremedia.cap.content.ContentPropertyNames.IS_DOCUMENT,this.isDocument());this.setImmediateProperty(com.coremedia.cap.content.ContentPropertyNames.IS_FOLDER,this.isFolder());this.setImmediateProperty(com.coremedia.cap.content.ContentPropertyNames.IS_ROOT,
this.isRoot());this.setId(CONTENT_ID_PREFIX$static+this.numericId$CJro)}function createRequestQueue(){return com.coremedia.cap.content.impl.ContentRequestQueues.getRequestQueue(this.numericId$CJro)}function isRightsCheckInProgress(){return this.rightsCheckInProgress$CJro}function setRightsCheckInProgress(value){this.rightsCheckInProgress$CJro=value}function get(property){switch(property){case com.coremedia.cap.content.ContentPropertyNames.IS_ROOT:return this.getNumericId()===1;case com.coremedia.cap.content.ContentPropertyNames.IS_FOLDER:return this.getNumericId()>
0&&this.getNumericId()%2===0;case com.coremedia.cap.content.ContentPropertyNames.PREVIEW_URL:return Ext.String.format(this.getRepositoryInternal().getPreviewControllerUriPattern(),this.getId(),this.getNumericId());case com.coremedia.cap.content.ContentPropertyNames.PATH:this.attachPathListeners$CJro()}return com.coremedia.cap.content.impl.ContentObjectImpl.prototype.get.call(this,property)}function addPropertyChangeListener(property,onChange){if(property===com.coremedia.cap.content.ContentPropertyNames.PATH)this.attachPathListeners$CJro();
com.coremedia.cap.content.impl.ContentObjectImpl.prototype.addPropertyChangeListener.call(this,property,onChange)}function attachPathListeners(){if(!this.listeningToPath$CJro){this.addPropertyChangeListener(com.coremedia.cap.content.ContentPropertyNames.NAME,AS3.bind(this,"placeChanged$CJro"));this.addPropertyChangeListener(com.coremedia.cap.content.ContentPropertyNames.PARENT,AS3.bind(this,"placeChanged$CJro"));this.placeChanged$CJro(com.coremedia.ui.data.util.PropertyChangeEventUtil.createEvent(this,
com.coremedia.cap.content.ContentPropertyNames.PARENT,undefined,this.getParent()));this.listeningToPath$CJro=true;return true}return false}function fireTopLevelPropertyChangeEvent(property,oldValue,newValue,oldState,newState){com.coremedia.cap.content.impl.ContentObjectImpl.prototype.fireTopLevelPropertyChangeEvent.call(this,property,oldValue,newValue,oldState,newState);switch(property){case com.coremedia.cap.content.ContentPropertyNames.EDITOR:this.editorChanged$CJro(newValue);break;case com.coremedia.cap.content.ContentPropertyNames.CHILDREN_BY_NAME:this.childrenByNameChanged();
break;case com.coremedia.cap.content.ContentPropertyNames.LIFECYCLE_STATUS:this.lifecycleStatusChanged$CJro(newValue);break;case com.coremedia.cap.content.ContentPropertyNames.PARENT:this.folderChanged(oldValue,newValue);break;case com.coremedia.cap.content.ContentPropertyNames.NAME:this.nameChanged(newValue);break}}function getNumericId(){return this.numericId$CJro}function isRoot(){return this.getNumericId()===1}function isFolder(){return this.getNumericId()%2===1}function isDocument(){return this.getNumericId()>
0&&this.getNumericId()%2===0}function getName(){return this.get(com.coremedia.cap.content.ContentPropertyNames.NAME)}function getPath(){return this.get(com.coremedia.cap.content.ContentPropertyNames.PATH)}function getReferrers(){var uriTemplate=this.getRepositoryInternal().getReferrersUriTemplate();var referrersBeanPath=uriTemplate.format({id:this.getNumericId()});var referrersBean=com.coremedia.ui.data.beanFactory.getRemoteBean(referrersBeanPath);return referrersBean.get("items")}function getReferrersInternal(contentTypeName,
propertyName,callback){var uriTemplate=this.getRepositoryInternal().getReferrersWithDescriptorUriTemplate();var referrersBeanPath=uriTemplate.format({id:this.getNumericId(),contentType:contentTypeName,propertyName:propertyName});var referrersBean=com.coremedia.ui.data.beanFactory.getRemoteBean(referrersBeanPath);if(callback)referrersBean.invalidate(function(invalidatedBean){callback.call(null,invalidatedBean.get("items"))});return referrersBean.get("items")}function getReferrersWithDescriptor(contentType,
descriptor){return this.getReferrersInternal$CJro(contentType.getName(),descriptor.name)}function getReferrersWithNamedDescriptor(contentTypeName,propertyName,callback){var contentType=this.getRepository().getContentType(contentTypeName);if(!contentType)throw new AS3.Error("no such content type: "+contentTypeName);var descriptor=contentType.getDescriptor(propertyName);if(!descriptor)throw new AS3.Error("no such property descriptor: "+contentTypeName+"."+propertyName);return this.getReferrersInternal$CJro(contentTypeName,
propertyName,callback)}function hasRightsRules(){return this.get("hasRightsRules")}function getMergeVersions(){return this.get("mergeVersions")}function rename(name,callback){if(arguments.length<=1)callback=null;this.set(com.coremedia.cap.content.ContentPropertyNames.NAME,name);this.flush(callback)}function moveTo(target,callback){if(arguments.length<=1)callback=null;this.set(com.coremedia.cap.content.ContentPropertyNames.PARENT,target);this.flush(callback)}function copyTo(target,callback){if(arguments.length<=
1)callback=null;this.getRepository().copyRecursivelyTo([this],target,callback)}function getCreationDate(){return this.get(com.coremedia.cap.content.ContentPropertyNames.CREATION_DATE)}function getModificationDate(){return this.get(com.coremedia.cap.content.ContentPropertyNames.MODIFICATION_DATE)}function getModifier(){return this.get(com.coremedia.cap.content.ContentPropertyNames.MODIFIER)}function isCheckedOut(){return this.get(com.coremedia.cap.content.ContentPropertyNames.CHECKED_OUT)}function isCheckedIn(){return this.get(com.coremedia.cap.content.ContentPropertyNames.CHECKED_IN)}
function isPublished(){return this.get(com.coremedia.cap.content.ContentPropertyNames.PUBLISHED)}function isInProduction(){return this.get(com.coremedia.cap.content.ContentPropertyNames.IS_IN_PRODUCTION)}function isDeleted(){return this.get(com.coremedia.cap.content.ContentPropertyNames.IS_DELETED)}function getLifecycleStatus(){return this.get(com.coremedia.cap.content.ContentPropertyNames.LIFECYCLE_STATUS)}function getParent(){return this.get(com.coremedia.cap.content.ContentPropertyNames.PARENT)}
function getLastParent(){return this.get(com.coremedia.cap.content.ContentPropertyNames.LAST_PARENT)}function getEditor(){return this.get(com.coremedia.cap.content.ContentPropertyNames.EDITOR)}function getCreator(){return this.get(com.coremedia.cap.content.ContentPropertyNames.CREATOR)}function lifecycleStatusChanged(lifecycleStatus){if(this.getState().readable){var computedProperties={};computedProperties[com.coremedia.cap.content.ContentPropertyNames.IS_DELETED]=lifecycleStatus===com.coremedia.cap.content.LifecycleStatus.DELETED;
this.setInternalProperties(computedProperties)}}function editorChanged(editor){if(this.getState().readable){var isDocument=this.isDocument();var computedProperties={};computedProperties[com.coremedia.cap.content.ContentPropertyNames.CHECKED_OUT]=isDocument&&!!editor;computedProperties[com.coremedia.cap.content.ContentPropertyNames.CHECKED_IN]=isDocument&&!editor;computedProperties[com.coremedia.cap.content.ContentPropertyNames.CHECKED_OUT_BY_CURRENT_SESSION]=isDocument&&editor===com.coremedia.cap.common.SESSION.getUser();
computedProperties[com.coremedia.cap.content.ContentPropertyNames.CHECKED_OUT_BY_OTHER]=isDocument&&!!editor&&editor!==com.coremedia.cap.common.SESSION.getUser();this.setInternalProperties(computedProperties);if(editor)this.setInternal(com.coremedia.cap.content.ContentPropertyNames.LIFECYCLE_STATUS,com.coremedia.cap.content.LifecycleStatus.IN_PRODUCTION)}}function placeChanged(pce){if(pce.property===com.coremedia.cap.content.ContentPropertyNames.PARENT){var oldFolder=AS3.as(pce.oldValue,com.coremedia.cap.content.Content);
if(oldFolder)oldFolder.removePropertyChangeListener(com.coremedia.cap.content.ContentPropertyNames.PATH,AS3.bind(this,"updatePath$CJro"));var newFolder=AS3.as(pce.newValue,com.coremedia.cap.content.Content);if(newFolder)newFolder.addPropertyChangeListener(com.coremedia.cap.content.ContentPropertyNames.PATH,AS3.bind(this,"updatePath$CJro"))}this.updatePath$CJro()}function updatePath(){var path=this.computePath$CJro();if(path!==undefined)this.setInternal(com.coremedia.cap.content.ContentPropertyNames.PATH,
path)}function computePath(){try{if(this.isRoot())return PATH_SEPARATOR$static;var name=this.getName();if(name===undefined)return undefined;var folder=this.getParent();if(folder===undefined)return undefined;if(folder===null)return PATH_SEPARATOR$static+name;if(folder.isRoot())return PATH_SEPARATOR$static+name;var parentPath=folder.getPath();if(parentPath===undefined)return undefined;return parentPath+PATH_SEPARATOR$static+name}catch(e){}return undefined}function isCheckedOutByCurrentSession(){return this.get(com.coremedia.cap.content.ContentPropertyNames.CHECKED_OUT_BY_CURRENT_SESSION)}
function isCheckedOutByOther(){return this.get(com.coremedia.cap.content.ContentPropertyNames.CHECKED_OUT_BY_OTHER)}function getChild(path,callback){if(arguments.length<=1)callback=null;return this.getRepository().getChild(path,callback,this)}function getVersionHistory(){return this.get(com.coremedia.cap.content.ContentPropertyNames.VERSION_HISTORY)}function getLatestApprovedVersion(){return this.get(com.coremedia.cap.content.ContentPropertyNames.LATEST_APPROVED_VERSION)}function getLatestPublishedVersion(){return this.get(com.coremedia.cap.content.ContentPropertyNames.LATEST_PUBLISHED_VERSION)}
function getCheckedOutVersion(){return this.get(com.coremedia.cap.content.ContentPropertyNames.CHECKED_OUT_VERSION)}function getCheckedInVersion(){return this.get(com.coremedia.cap.content.ContentPropertyNames.CHECKED_IN_VERSION)}function getIssues(){return this.get(com.coremedia.cap.content.ContentPropertyNames.ISSUES)}function getPreviewUrl(){return this.get(com.coremedia.cap.content.ContentPropertyNames.PREVIEW_URL)}function toString(){return"Content["+this.getId()+"]"}function getChildrenByName(){return this.get(com.coremedia.cap.content.ContentPropertyNames.CHILDREN_BY_NAME)}
function folderChanged(oldValue,newValue){if(this.getState().readable){this.removeAsChildOfFolder$CJro(oldValue);this.addAsChildOfFolder$CJro(newValue)}else if(this.getState()===com.coremedia.ui.data.BeanState.NON_EXISTENT)this.removeAsChildOfFolder$CJro(oldValue)}function removeAsChildOfFolder(folder){if(folder&&folder.isLoaded()&&folder.getState().readable)folder.childRemoved(this)}function childRemoved(removedChild){var childrenByName=this.getChildrenByName();for(var name in childrenByName){var child=
childrenByName[name];if(child===removedChild){var newChildrenByName=Ext.apply({},childrenByName);delete newChildrenByName[name];this.setInternal(com.coremedia.cap.content.ContentPropertyNames.CHILDREN_BY_NAME,newChildrenByName);return}}}function addAsChildOfFolder(folder){if(folder&&folder.isLoaded()&&folder.getState().readable){var addedChild=this;folder.childAdded(addedChild)}}function childAdded(addedChild){var childrenByName=this.getChildrenByName();if(childrenByName[addedChild.getName()]);else{for(var name in childrenByName){var child=
childrenByName[name];if(child===addedChild)return}var newChildrenByName=Ext.apply({},childrenByName);newChildrenByName[addedChild.getName()]=addedChild;this.setInternal(com.coremedia.cap.content.ContentPropertyNames.CHILDREN_BY_NAME,newChildrenByName)}}function nameChanged(name){if(this.getState().readable){var folder=AS3.as(this.getParent(),ContentImpl);if(folder&&folder.isLoaded()&&folder.getState().readable)folder.childRenamed(name,this)}}function childRenamed(name,renamedChild){var childrenByName=
this.getChildrenByName();if(childrenByName[name]);else{var newChildrenByName=Ext.apply({},childrenByName);for(var childName in newChildrenByName){var child=newChildrenByName[childName];if(child===renamedChild){delete newChildrenByName[childName];break}}newChildrenByName[name]=renamedChild;this.setInternal(com.coremedia.cap.content.ContentPropertyNames.CHILDREN_BY_NAME,newChildrenByName)}}function childrenByNameChanged(){if(this.getState().readable){var childrenByName=this.getChildrenByName();var subFolders=
computeChildren$static(childrenByName,function(c){return c.isFolder()})||[];var childDocuments=computeChildren$static(childrenByName,function(c){return!c.isFolder()})||[];var computedProperties={children:subFolders.concat(childDocuments),subFolders:subFolders,childDocuments:childDocuments};this.setInternalProperties(computedProperties)}}function getChildren(){return this.get(com.coremedia.cap.content.ContentPropertyNames.CHILDREN)}function getChildDocuments(){return this.get(com.coremedia.cap.content.ContentPropertyNames.CHILD_DOCUMENTS)}
function getSubFolders(){return this.get(com.coremedia.cap.content.ContentPropertyNames.SUB_FOLDERS)}function computeChildren$static(childrenByName,filter){if(!childrenByName)return undefined;var nameValuePairs=[];for(var prop in childrenByName){var child=childrenByName[prop];if(filter(child))nameValuePairs.push({name:prop.toLowerCase(),value:child})}if(nameValuePairs.length==0)return nameValuePairs;nameValuePairs.sort(function(p1,p2){return AS3.as(p1.name,String).localeCompare(AS3.as(p2.name,String))});
return nameValuePairs.map(function(item){return item.value})}function checkIn(callback){if(arguments.length<=0)callback=null;this.getRepository().checkInAll([this],callback)}function checkOut(callback){if(arguments.length<=0)callback=null;(new com.coremedia.cap.content.impl.CheckOutMethod(this,callback)).execute()}function revert(callback){if(arguments.length<=0)callback=null;this.getRepository().revertAll([this],callback)}function doDelete(callback){if(arguments.length<=0)callback=null;this.getRepository().deleteAll([this],
callback)}function undelete(callback){if(arguments.length<=0)callback=null;this.getRepository().undeleteAll([this],callback)}return{extend:"com.coremedia.cap.content.impl.ContentObjectImpl",mixins:["com.coremedia.cap.undoc.content.Content"],metadata:{"":["RestResource",["uriTemplate","content/{id:[0-9]+}"]]},numericId$CJro:0,rightsCheckInProgress$CJro:false,listeningToPath$CJro:false,constructor:ContentImpl$,super$CJro:function(){com.coremedia.cap.content.impl.ContentObjectImpl.prototype.constructor.apply(this,
arguments)},createRequestQueue:createRequestQueue,isRightsCheckInProgress:isRightsCheckInProgress,setRightsCheckInProgress:setRightsCheckInProgress,get:get,addPropertyChangeListener:addPropertyChangeListener,attachPathListeners$CJro:attachPathListeners,fireTopLevelPropertyChangeEvent:fireTopLevelPropertyChangeEvent,getNumericId:getNumericId,isRoot:isRoot,isFolder:isFolder,isDocument:isDocument,getName:getName,getPath:getPath,getReferrers:getReferrers,getReferrersInternal$CJro:getReferrersInternal,
getReferrersWithDescriptor:getReferrersWithDescriptor,getReferrersWithNamedDescriptor:getReferrersWithNamedDescriptor,hasRightsRules:hasRightsRules,getMergeVersions:getMergeVersions,rename:rename,moveTo:moveTo,copyTo:copyTo,getCreationDate:getCreationDate,getModificationDate:getModificationDate,getModifier:getModifier,isCheckedOut:isCheckedOut,isCheckedIn:isCheckedIn,isPublished:isPublished,isInProduction:isInProduction,isDeleted:isDeleted,getLifecycleStatus:getLifecycleStatus,getParent:getParent,
getLastParent:getLastParent,getEditor:getEditor,getCreator:getCreator,lifecycleStatusChanged$CJro:lifecycleStatusChanged,editorChanged$CJro:editorChanged,placeChanged$CJro:placeChanged,updatePath$CJro:updatePath,computePath$CJro:computePath,isCheckedOutByCurrentSession:isCheckedOutByCurrentSession,isCheckedOutByOther:isCheckedOutByOther,getChild:getChild,getVersionHistory:getVersionHistory,getLatestApprovedVersion:getLatestApprovedVersion,getLatestPublishedVersion:getLatestPublishedVersion,getCheckedOutVersion:getCheckedOutVersion,
getCheckedInVersion:getCheckedInVersion,getIssues:getIssues,getPreviewUrl:getPreviewUrl,toString:toString,getChildrenByName:getChildrenByName,folderChanged:folderChanged,removeAsChildOfFolder$CJro:removeAsChildOfFolder,childRemoved:childRemoved,addAsChildOfFolder$CJro:addAsChildOfFolder,childAdded:childAdded,nameChanged:nameChanged,childRenamed:childRenamed,childrenByNameChanged:childrenByNameChanged,getChildren:getChildren,getChildDocuments:getChildDocuments,getSubFolders:getSubFolders,checkIn:checkIn,
checkOut:checkOut,revert:revert,doDelete:doDelete,undelete:undelete,requires:["AS3.Error","Ext","Ext.String","com.coremedia.cap.common.SESSION","com.coremedia.cap.content.Content","com.coremedia.cap.content.ContentPropertyNames","com.coremedia.cap.content.LifecycleStatus","com.coremedia.cap.content.impl.ContentObjectImpl","com.coremedia.cap.undoc.content.Content","com.coremedia.ui.data.BeanState","com.coremedia.ui.data.beanFactory","com.coremedia.ui.data.util.PropertyChangeEventUtil"],uses:["com.coremedia.cap.content.impl.CheckOutMethod",
"com.coremedia.cap.content.impl.ContentRequestQueues"]}});Ext.define("com.coremedia.cap.content.impl.Difference",function(Difference){function Difference$(json){this["differenceType"]=json["differenceType"];this["startValue"]=json["startValue"];this["endValue"]=json["endValue"]}return{constructor:Difference$}});Ext.define("com.coremedia.cap.content.impl.VersionHistoryImpl",function(VersionHistoryImpl){function VersionHistoryImpl$(uri){this.super$1_k3(uri)}function getItems(){return this.get("items")}return{extend:"com.coremedia.ui.data.impl.RemoteBeanImpl",mixins:["com.coremedia.cap.content.VersionHistory"],metadata:{"":["RestResource",["uriTemplate","content/{id:[0-9]+}/versions"]]},constructor:VersionHistoryImpl$,super$1_k3:function(){com.coremedia.ui.data.impl.RemoteBeanImpl.prototype.constructor.apply(this,
arguments)},getItems:getItems,requires:["com.coremedia.cap.content.VersionHistory","com.coremedia.ui.data.impl.RemoteBeanImpl"]}});Ext.define("com.coremedia.cap.content.impl.AbstractBulkMethod",function(AbstractBulkMethod){function AbstractBulkMethod$(contentRepository,uriProperty,isModifyingVersions,isModifyingAllVersions,contents,callback){this.super$MmZy(contentRepository,uriProperty,isModifyingVersions,isModifyingAllVersions,{contents:contents},callback);this.contents$MmZy=contents}function getContents(){return this.contents$MmZy}function execute(){com.coremedia.ui.data.RemoteBeanUtil.flushAll(AS3.bind(this,"doExecute"),
this.contents$MmZy)}function makeResult(response){return(new com.coremedia.cap.content.impl.BulkOperationResultBuilder).convert(response)}function invalidate(result,executeEventually){com.coremedia.cap.content.impl.ContentRepositoryMethod.prototype.invalidate.call(this,result,executeEventually);var items=AS3.cast(com.coremedia.cap.content.results.BulkOperationResult,result).results;for(var i=0;i<items.length;i++){var item=items[i];var content=item.content;this.invalidateContent(content,executeEventually)}}
return{extend:"com.coremedia.cap.content.impl.ContentRepositoryMethod",contents$MmZy:null,constructor:AbstractBulkMethod$,super$MmZy:function(){com.coremedia.cap.content.impl.ContentRepositoryMethod.prototype.constructor.apply(this,arguments)},getContents:getContents,execute:execute,makeResult:makeResult,invalidate:invalidate,requires:["com.coremedia.cap.content.impl.ContentRepositoryMethod","com.coremedia.cap.content.results.BulkOperationResult","com.coremedia.ui.data.RemoteBeanUtil"],uses:["com.coremedia.cap.content.impl.BulkOperationResultBuilder"]}});Ext.define("com.coremedia.cap.content.impl.ContentIssuesImpl",function(ContentIssuesImpl){function ContentIssuesImpl$(uri,vars){var id=vars["id"];this.numericId$FF7C=AS3.is(id,Number)?id:parseInt(id);this.super$FF7C(uri)}function createRequestQueue(){return com.coremedia.cap.content.impl.ContentRequestQueues.getRequestQueue(this.numericId$FF7C)}return{extend:"com.coremedia.ui.data.impl.IssuesImpl",metadata:{"":["RestResource",["uriTemplate","content/{id:[0-9]+}/issues"]]},numericId$FF7C:0,constructor:ContentIssuesImpl$,
super$FF7C:function(){com.coremedia.ui.data.impl.IssuesImpl.prototype.constructor.apply(this,arguments)},createRequestQueue:createRequestQueue,requires:["com.coremedia.ui.data.impl.IssuesImpl"],uses:["com.coremedia.cap.content.impl.ContentRequestQueues"]}});Ext.define("com.coremedia.cap.content.impl.ContentCreateResultImpl",function(ContentCreateResultImpl){function ContentCreateResultImpl$(createdContent,error){switch(arguments.length){case 0:createdContent=null;case 1:error=null}this["createdContent"]=createdContent;this["error"]=error}return{mixins:["com.coremedia.cap.content.ContentCreateResult"],constructor:ContentCreateResultImpl$,requires:["com.coremedia.cap.content.ContentCreateResult"]}});Ext.define("com.coremedia.cap.content.authorization.impl.TypeRights",function(TypeRights){return{}});Ext.define("com.coremedia.cap.content.authorization.impl.AccessControlImpl",function(AccessControlImpl){var DEFAULT_BULK_RIGHTS_CHUNKS_SIZE$static=250;function bulkRightsChunkSize_(){this.bulkRightsChunkSize$Xyfd=DEFAULT_BULK_RIGHTS_CHUNKS_SIZE$static}function AccessControlImpl$(contentRepositoryImpl){bulkRightsChunkSize_.call(this);this.contentRepository$Xyfd=contentRepositoryImpl}function setBulkRightsChunkSize(bulkRightsChunkSize){this.bulkRightsChunkSize$Xyfd=bulkRightsChunkSize}function mayPerform(content,
right){if(right===com.coremedia.cap.content.authorization.Right.READ)return mayRead$static(content);if(right===com.coremedia.cap.content.authorization.Right.APPROVE&&content.isDocument()&&this.contentRepository$Xyfd.useStrictWorkflow()){if(content.isCheckedOut())return false;var latestVersion=content.getCheckedInVersion();if(latestVersion===undefined)return undefined;var editor=latestVersion.getEditor();if(editor===undefined)return undefined;if(com.coremedia.cap.common.SESSION.getUser()===editor)return false}var type=
content.getType();if(!type)return undefined;return this.mayPerformForType(content,type,right)}function mayCreate(content,contentType){return this.mayPerformForType(content,contentType,com.coremedia.cap.content.authorization.Right.WRITE)}function mayPerformForType(content,type,right){if(right===com.coremedia.cap.content.authorization.Right.READ)return mayRead$static(content);var contentRights=this.getContentRightsBean$Xyfd(content);if(contentRights===undefined)return undefined;if(contentRights===null)return false;
var rightsAsString=contentRights.getRightsAsString(type);if(rightsAsString===undefined)return undefined;return String(rightsAsString).indexOf(right.asString())!==-1}function isWritable(content){var mayReadContent=mayRead$static(content);if(!mayReadContent)return mayReadContent;var contentRights=this.getContentRightsBean$Xyfd(content);if(contentRights===undefined)return undefined;return contentRights.isWritable()}function getContentRightsBean(content){var currentContent=content;while(!currentContent.isRoot()){var hasRightsRule=
com.coremedia.cap.undoc.content.ContentUtil.hasRightsRules(currentContent);if(hasRightsRule===undefined)return undefined;if(hasRightsRule)break;if(currentContent.isDeleted()){currentContent=currentContent.getLastParent();if(!currentContent){var isAdministrative=com.coremedia.cap.common.SESSION.getUser().isAdministrative();if(isAdministrative===undefined)return undefined;if(isAdministrative)currentContent=com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getRoot()}}else currentContent=
currentContent.getParent();if(!currentContent)if(currentContent===undefined)return undefined;else return null}var rightsBeanId=com.coremedia.ui.util.UrlUtil.addMatrixParameters(AS3.cast(com.coremedia.cap.content.Content,currentContent).getUriPath()+"/rights",{"for":com.coremedia.cap.common.SESSION.getUser().getUriPath().replace(/\//g,"_")});return AS3.cast(com.coremedia.cap.content.authorization.impl.ContentRights,com.coremedia.ui.data.beanFactory.getRemoteBean(rightsBeanId))}function mayRead$static(content){var readable=
content.getState().readable;if(readable===undefined)content.load();return readable}function filterReadableContents(contents){var allRightsKnown=true;for(var i=0;i<contents.length;i++){var content=contents[i];if(content.getState()===com.coremedia.ui.data.BeanState.UNKNOWN){allRightsKnown=false;break}}if(allRightsKnown)return filterReadableContentsNoLoad$static(contents);else{this.performRightsChecks$Xyfd(contents);return undefined}}function mayCopy(contents,target){var this$=this;if(!contents||contents.length<
1)return true;if(!target||!target.isFolder())return false;var valid=true;contents.some(function(content){if(content.getState()===com.coremedia.ui.data.BeanState.UNREADABLE){valid=false;return true}var contentType=content.getType();if(!contentType)valid=undefined;else{var contentValid=this$.mayPerformForType(target,contentType,com.coremedia.cap.content.authorization.Right.WRITE);if(contentValid!=true)valid=contentValid}return valid===false});return valid}function mayMove(contents,target){var this$=
this;if(!contents||contents.length<1)return true;if(!target||!target.isFolder())return false;var userHomeFolder=com.coremedia.cap.common.SESSION.getUser().getHomeFolder();var rootFolder=com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getRoot();var valid=true;contents.some(function(content){if(content.getState()===com.coremedia.ui.data.BeanState.UNREADABLE){valid=false;return true}if(content===userHomeFolder||content===rootFolder||target===content){valid=false;return true}var contentType=
content.getType();if(!contentType)valid=undefined;else{var sourceFolder=content.getParent()||content.getLastParent();if(!sourceFolder){valid=false;return true}if(target===sourceFolder){valid=false;return true}var contentValid=!isChildOf$static(target,content)&&this$.mayPerformForType(sourceFolder,contentType,com.coremedia.cap.content.authorization.Right.WRITE)&&this$.mayPerformForType(target,contentType,com.coremedia.cap.content.authorization.Right.WRITE);if(contentValid!=true)valid=contentValid}return valid===
false});return valid}function mayRename(content){if(content.isDocument())return this.mayPerform(content,com.coremedia.cap.content.authorization.Right.WRITE);else if(content.isRoot())return false;else{var parent=content.getParent();if(parent===undefined)return undefined;if(parent===null)return false;return this.mayPerform(parent,com.coremedia.cap.content.authorization.Right.WRITE)}}function isChildOf$static(child,parent){if(child===parent)return false;var current=child.getParent();while(current!=null){if(current===
undefined)return undefined;if(current===parent)return true;current=current.getParent()}return false}function filterReadableContentsNoLoad$static(contents){var result=[];for(var j=0;j<contents.length;j++){var content2=contents[j];if(content2.getState().readable)result.push(content2)}return result}function performRightsChecks(contents){var this$=this;var toBeChecked=[];for(var i=0;i<contents.length;i++){var originalContent=contents[i];var content=originalContent instanceof com.coremedia.cap.content.impl.ContentImpl?
AS3.cast(com.coremedia.cap.content.impl.ContentImpl,originalContent):AS3.cast(com.coremedia.cap.content.impl.ContentImpl,com.coremedia.ui.data.beanFactory.getRemoteBean(originalContent.getUriPath()));if(content.getState()===com.coremedia.ui.data.BeanState.UNKNOWN&&!content.isRightsCheckInProgress())toBeChecked.push(content)}if(toBeChecked.length>0){var limit=0;var allReadable=[];var allUnreadable=[];var serviceMethod=new com.coremedia.ui.data.impl.RemoteServiceMethod(this.contentRepository$Xyfd.get("bulkRightsUri"),
"POST",true,false,null,true);function sendRequest(){var nextLimit=limit+this$.bulkRightsChunkSize$Xyfd;var chunk=toBeChecked.slice(limit,nextLimit);serviceMethod.request({contents:chunk},function(response){if(response.success){var result=response.getResponseJSON();var readable=result.readable;if(readable)readable.forEach(function(readableContent){allReadable.push(readableContent)});var unreadable=result.unreadable;if(unreadable)unreadable.forEach(function(unreadableContent){allUnreadable.push(unreadableContent)});
limit=nextLimit}else{allUnreadable=allUnreadable.concat(toBeChecked.slice(limit));limit=toBeChecked.length}if(limit<toBeChecked.length)sendRequest();else{injectBeanState$static(allReadable,com.coremedia.ui.data.BeanState.READABLE);injectBeanState$static(allUnreadable,com.coremedia.ui.data.BeanState.UNREADABLE);var retrievedContentIds={};allReadable.concat(allUnreadable).forEach(function(content){retrievedContentIds[content.getUriPath()]=true});var nonExistent=toBeChecked.filter(function(content){return!retrievedContentIds[content.getUriPath()]});
injectBeanState$static(nonExistent,com.coremedia.ui.data.BeanState.NON_EXISTENT)}})}sendRequest()}for(var j=0;j<toBeChecked.length;j++){var checkedContent=toBeChecked[j];checkedContent.setRightsCheckInProgress(true)}}function injectBeanState$static(contents,state){if(contents)for(var i=0;i<contents.length;i++){var contentImpl=AS3.as(contents[i],com.coremedia.cap.content.impl.ContentImpl);if(!contentImpl){contentImpl=AS3.as(com.coremedia.ui.data.beanFactory.getRemoteBean(contents[i]),com.coremedia.cap.content.impl.ContentImpl);
if(!contentImpl)continue}contentImpl.injectBeanState(state);contentImpl.setRightsCheckInProgress(false)}}function mayWrite(content){var deleted=content.isDeleted();if(deleted)return false;var checkedOutByOther=content.isCheckedOutByOther();if(checkedOutByOther)return false;var rightGranted=this.mayPerform(content,com.coremedia.cap.content.authorization.Right.WRITE);if(rightGranted===false)return false;if(deleted===undefined||checkedOutByOther==undefined||rightGranted==undefined)return undefined;return true}
return{mixins:["com.coremedia.cap.content.authorization.AccessControl"],contentRepository$Xyfd:null,constructor:AccessControlImpl$,setBulkRightsChunkSize:setBulkRightsChunkSize,mayPerform:mayPerform,mayCreate:mayCreate,mayPerformForType:mayPerformForType,isWritable:isWritable,getContentRightsBean$Xyfd:getContentRightsBean,filterReadableContents:filterReadableContents,mayCopy:mayCopy,mayMove:mayMove,mayRename:mayRename,performRightsChecks$Xyfd:performRightsChecks,mayWrite:mayWrite,requires:["com.coremedia.cap.common.SESSION",
"com.coremedia.cap.content.Content","com.coremedia.cap.content.authorization.AccessControl","com.coremedia.cap.content.authorization.Right","com.coremedia.cap.undoc.content.ContentUtil","com.coremedia.ui.data.BeanState","com.coremedia.ui.data.beanFactory","com.coremedia.ui.data.impl.RemoteServiceMethod","com.coremedia.ui.util.UrlUtil"],uses:["com.coremedia.cap.content.authorization.impl.ContentRights","com.coremedia.cap.content.impl.ContentImpl"]}});Ext.define("com.coremedia.cap.content.authorization.impl.ContentRights",function(ContentRights){var ITEMS_PROPERTY_NAME$static="items";var BY_TYPE_NAME_PROPERTY_NAME$static="byTypeName";function ContentRights$(uri){this.super$UfF_(uri)}function processReadResult(newValues){var items=newValues[ITEMS_PROPERTY_NAME$static];var byTypeName={};for(var i=0;i<items.length;i++){var typeRights=items[i];byTypeName[typeRights.type.getName()]=typeRights.rights}newValues[BY_TYPE_NAME_PROPERTY_NAME$static]=byTypeName;
return com.coremedia.ui.data.impl.RemoteBeanImpl.prototype.processReadResult.call(this,newValues)}function getRightsAsString(type){var byTypeName=this.get(BY_TYPE_NAME_PROPERTY_NAME$static);if(!byTypeName)return undefined;while(type){var typeName=type.getName();var rights=byTypeName[typeName];if(rights!==undefined)return rights;type=AS3.as(type.getParent(),com.coremedia.cap.content.ContentType)}return""}function isWritable(){var items=this.get(ITEMS_PROPERTY_NAME$static);if(items===undefined)return undefined;
for(var i=0;i<items.length;i++){var typeRights=items[i];if(typeRights.rights.replace("R","")!=="")return true}return false}return{extend:"com.coremedia.ui.data.impl.RemoteBeanImpl",metadata:{"":["RestResource",["uriTemplate","content/{content:[0-9]+}/rights;for\x3duser_{user:[0-9]+}"]]},constructor:ContentRights$,super$UfF_:function(){com.coremedia.ui.data.impl.RemoteBeanImpl.prototype.constructor.apply(this,arguments)},processReadResult:processReadResult,getRightsAsString:getRightsAsString,isWritable:isWritable,
requires:["com.coremedia.cap.content.ContentType","com.coremedia.ui.data.impl.RemoteBeanImpl"]}});Ext.define("com.coremedia.cap.content.search.impl.SuggestionImpl",function(SuggestionImpl){function SuggestionImpl$(uriPath){this.super$piGJ(uriPath)}function getValue(){return this.get(com.coremedia.cap.content.search.SearchSuggestionsParameters.SUGGESTION_VALUE)}function getCount(){return this.get(com.coremedia.cap.content.search.SearchSuggestionsParameters.SUGGESTION_COUNT)}return{extend:"com.coremedia.ui.data.impl.RemoteBeanImpl",mixins:["com.coremedia.cap.content.search.Suggestion"],metadata:{"":["RemoteClass",
["alias","com.coremedia.rest.cap.content.represent.SuggestionRepresentation"]]},constructor:SuggestionImpl$,super$piGJ:function(){com.coremedia.ui.data.impl.RemoteBeanImpl.prototype.constructor.apply(this,arguments)},getValue:getValue,getCount:getCount,requires:["com.coremedia.cap.content.search.SearchSuggestionsParameters","com.coremedia.cap.content.search.Suggestion","com.coremedia.ui.data.impl.RemoteBeanImpl"]}});Ext.define("com.coremedia.cap.content.search.impl.SearchServiceImpl",function(SearchServiceImpl){function SearchServiceImpl$(contentRepository){this.contentRepository$T1T_=contentRepository}function getSearchRemoteUri(searchParameters){return this.contentRepository$T1T_.get("searchUri")+queryString$static(searchParameters)}function search(searchParameters){return AS3.as(com.coremedia.ui.data.impl.BeanFactoryImpl.createRemoteBean(this.getSearchRemoteUri$T1T_(searchParameters)),com.coremedia.cap.content.search.SearchResult)}
function getSearchUri(searchParameters){if(arguments.length<=0)searchParameters=null;return com.coremedia.ui.data.impl.RemoteService.calculateRequestURI(this.getSearchRemoteUri$T1T_(searchParameters))}function getSearchSuggestionsRemoteUri(searchSuggestionsParameters){return this.contentRepository$T1T_.get("searchSuggestionsUri")+queryString$static(searchSuggestionsParameters)}function searchSuggestions(searchParameters){return AS3.as(com.coremedia.ui.data.impl.BeanFactoryImpl.createRemoteBean(this.getSearchSuggestionsRemoteUri$T1T_(searchParameters)),
com.coremedia.cap.content.search.SuggestionResult)}function getSearchSuggestionsUri(searchSuggestionsParameters){if(arguments.length<=0)searchSuggestionsParameters=null;return com.coremedia.ui.data.impl.RemoteService.calculateRequestURI(this.getSearchSuggestionsRemoteUri$T1T_(searchSuggestionsParameters))}function queryString$static(parameters){var parameterObject=com.coremedia.ui.util.ObjectUtils.removeUndefinedOrNullProperties(com.coremedia.ui.util.ObjectUtils.getPublicProperties(parameters));delete parameterObject["xclass"];
return com.coremedia.ui.util.ObjectUtils.isEmpty(parameterObject)?"":"?"+Ext.urlEncode(parameterObject)}return{mixins:["com.coremedia.cap.content.search.SearchService"],metadata:{"":["RemoteClass",["alias","com.coremedia.rest.cap.content.represent.SuggestionRepresentation"]]},contentRepository$T1T_:null,constructor:SearchServiceImpl$,getSearchRemoteUri$T1T_:getSearchRemoteUri,search:search,getSearchUri:getSearchUri,getSearchSuggestionsRemoteUri$T1T_:getSearchSuggestionsRemoteUri,searchSuggestions:searchSuggestions,
getSearchSuggestionsUri:getSearchSuggestionsUri,requires:["Ext","com.coremedia.cap.content.search.SearchResult","com.coremedia.cap.content.search.SearchService","com.coremedia.cap.content.search.SuggestionResult","com.coremedia.ui.data.impl.BeanFactoryImpl","com.coremedia.ui.data.impl.RemoteService","com.coremedia.ui.util.ObjectUtils"]}});Ext.define("com.coremedia.cap.content.search.impl.SearchResultImpl",function(SearchResultImpl){function SearchResultImpl$(uriPath){this.super$joMq(uriPath)}function getTotal(){return this.get(com.coremedia.cap.content.search.SearchParameters.TOTAL)}function getHits(){return this.get(com.coremedia.cap.content.search.SearchParameters.HITS)}return{extend:"com.coremedia.ui.data.impl.RemoteBeanImpl",mixins:["com.coremedia.cap.content.search.SearchResult"],metadata:{"":["RestResource",["uriTemplate","content/search?{query:.+}"]]},
constructor:SearchResultImpl$,super$joMq:function(){com.coremedia.ui.data.impl.RemoteBeanImpl.prototype.constructor.apply(this,arguments)},getTotal:getTotal,getHits:getHits,requires:["com.coremedia.cap.content.search.SearchParameters","com.coremedia.cap.content.search.SearchResult","com.coremedia.ui.data.impl.RemoteBeanImpl"]}});Ext.define("com.coremedia.cap.content.search.impl.SuggestionResultImpl",function(SuggestionResultImpl){function SuggestionResultImpl$(path){this.super$m2UG(path)}function getSuggestions(){return this.get(com.coremedia.cap.content.search.SearchSuggestionsParameters.SUGGESTIONS)}function getSuggestion(index){return this.getSuggestions()[index]}return{extend:"com.coremedia.ui.data.impl.RemoteBeanImpl",mixins:["com.coremedia.cap.content.search.SuggestionResult"],metadata:{"":["RestResource",["uriTemplate",
"content/suggestions?{query:.+}"]]},constructor:SuggestionResultImpl$,super$m2UG:function(){com.coremedia.ui.data.impl.RemoteBeanImpl.prototype.constructor.apply(this,arguments)},getSuggestions:getSuggestions,getSuggestion:getSuggestion,requires:["com.coremedia.cap.content.search.SearchSuggestionsParameters","com.coremedia.cap.content.search.SuggestionResult","com.coremedia.ui.data.impl.RemoteBeanImpl"]}});Ext.define("com.coremedia.cap.content.results.impl.QueryResultImpl",function(QueryResultImpl){function QueryResultImpl$(error,successful,items){this.super$spLs(error,successful);this.items=items}function fromResponse$static(response){var error=response.success?null:response.getError();var responseJSON=response.getResponseJSON();return new QueryResultImpl(error,response.success,responseJSON?responseJSON.items:[])}return{extend:"com.coremedia.cap.common.impl.OperationResultImpl",mixins:["com.coremedia.cap.content.results.QueryResult"],
constructor:QueryResultImpl$,super$spLs:function(){com.coremedia.cap.common.impl.OperationResultImpl.prototype.constructor.apply(this,arguments)},statics:{fromResponse:fromResponse$static},requires:["com.coremedia.cap.common.impl.OperationResultImpl","com.coremedia.cap.content.results.QueryResult"]}});Ext.define("com.coremedia.cap.content.results.impl.RevertResultItemImpl",function(RevertResultItemImpl){function RevertResultItemImpl$(resultCode,content,editor){this.super$nPe3(resultCode,content,null);this.editor=editor}return{extend:"com.coremedia.cap.content.results.impl.BulkOperationResultItemImpl",mixins:["com.coremedia.cap.content.results.RevertResultItem"],constructor:RevertResultItemImpl$,super$nPe3:function(){com.coremedia.cap.content.results.impl.BulkOperationResultItemImpl.prototype.constructor.apply(this,
arguments)},requires:["com.coremedia.cap.content.results.RevertResultItem","com.coremedia.cap.content.results.impl.BulkOperationResultItemImpl"]}});Ext.define("com.coremedia.cap.content.results.impl.DeleteResultImpl",function(DeleteResultImpl){function DeleteResultImpl$(error,successful,results){this.super$8TDN(error,successful,results)}return{extend:"com.coremedia.cap.content.results.impl.BulkOperationResultImpl",mixins:["com.coremedia.cap.content.results.DeleteResult"],constructor:DeleteResultImpl$,super$8TDN:function(){com.coremedia.cap.content.results.impl.BulkOperationResultImpl.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cap.content.results.DeleteResult",
"com.coremedia.cap.content.results.impl.BulkOperationResultImpl"]}});Ext.define("com.coremedia.cap.content.results.impl.CheckInResultItemImpl",function(CheckInResultItemImpl){function CheckInResultItemImpl$(resultCode,content,editor,version){this.super$QwQk(resultCode,content,null);this.editor=editor;this.version=version}return{extend:"com.coremedia.cap.content.results.impl.BulkOperationResultItemImpl",mixins:["com.coremedia.cap.content.results.CheckInResultItem"],constructor:CheckInResultItemImpl$,super$QwQk:function(){com.coremedia.cap.content.results.impl.BulkOperationResultItemImpl.prototype.constructor.apply(this,
arguments)},requires:["com.coremedia.cap.content.results.CheckInResultItem","com.coremedia.cap.content.results.impl.BulkOperationResultItemImpl"]}});Ext.define("com.coremedia.cap.content.results.impl.BulkOperationResultItemImpl",function(BulkOperationResultItemImpl){function BulkOperationResultItemImpl$(resultCode,content,impediment){this["resultCode"]=resultCode;this["content"]=content;this["impediment"]=impediment}return{mixins:["com.coremedia.cap.content.results.BulkOperationResultItem"],constructor:BulkOperationResultItemImpl$,requires:["com.coremedia.cap.content.results.BulkOperationResultItem"]}});Ext.define("com.coremedia.cap.content.results.impl.CopyResultItemImpl",function(CopyResultItemImpl){function CopyResultItemImpl$(resultCode,content,createdContent){this.super$sVsK(resultCode,content,null);this.createdContent=createdContent}return{extend:"com.coremedia.cap.content.results.impl.BulkOperationResultItemImpl",mixins:["com.coremedia.cap.content.results.CopyResultItem"],constructor:CopyResultItemImpl$,super$sVsK:function(){com.coremedia.cap.content.results.impl.BulkOperationResultItemImpl.prototype.constructor.apply(this,
arguments)},requires:["com.coremedia.cap.content.results.CopyResultItem","com.coremedia.cap.content.results.impl.BulkOperationResultItemImpl"]}});Ext.define("com.coremedia.cap.content.results.impl.CheckInResultImpl",function(CheckInResultImpl){function CheckInResultImpl$(error,successful,results){this.super$BXvx(error,successful,results);if(results&&results.length===1)this.version=AS3.as(results[0],com.coremedia.cap.content.results.CheckInResultItem).version}return{extend:"com.coremedia.cap.content.results.impl.BulkOperationResultImpl",mixins:["com.coremedia.cap.content.results.CheckInResult"],constructor:CheckInResultImpl$,super$BXvx:function(){com.coremedia.cap.content.results.impl.BulkOperationResultImpl.prototype.constructor.apply(this,
arguments)},requires:["com.coremedia.cap.content.results.CheckInResult","com.coremedia.cap.content.results.CheckInResultItem","com.coremedia.cap.content.results.impl.BulkOperationResultImpl"]}});Ext.define("com.coremedia.cap.content.results.impl.ApproveResultImpl",function(ApproveResultImpl){function ApproveResultImpl$(error,successful,results){this.super$4PLx(error,successful,results)}return{extend:"com.coremedia.cap.content.results.impl.BulkOperationResultImpl",mixins:["com.coremedia.cap.content.results.ApproveResult"],constructor:ApproveResultImpl$,super$4PLx:function(){com.coremedia.cap.content.results.impl.BulkOperationResultImpl.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cap.content.results.ApproveResult",
"com.coremedia.cap.content.results.impl.BulkOperationResultImpl"]}});Ext.define("com.coremedia.cap.content.results.impl.RevertResultImpl",function(RevertResultImpl){function RevertResultImpl$(error,successful,results){this.super$oGHG(error,successful,results)}return{extend:"com.coremedia.cap.content.results.impl.BulkOperationResultImpl",mixins:["com.coremedia.cap.content.results.RevertResult"],constructor:RevertResultImpl$,super$oGHG:function(){com.coremedia.cap.content.results.impl.BulkOperationResultImpl.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cap.content.results.RevertResult",
"com.coremedia.cap.content.results.impl.BulkOperationResultImpl"]}});Ext.define("com.coremedia.cap.content.results.impl.PublicationResultItemImpl",function(PublicationResultItemImpl){function PublicationResultItemImpl$(resultCode,content,impediment,editor){this.super$AEdD(resultCode,content,impediment);this.editor=editor}return{extend:"com.coremedia.cap.content.results.impl.BulkOperationResultItemImpl",mixins:["com.coremedia.cap.content.results.PublicationResultItem"],constructor:PublicationResultItemImpl$,super$AEdD:function(){com.coremedia.cap.content.results.impl.BulkOperationResultItemImpl.prototype.constructor.apply(this,
arguments)},requires:["com.coremedia.cap.content.results.PublicationResultItem","com.coremedia.cap.content.results.impl.BulkOperationResultItemImpl"]}});Ext.define("com.coremedia.cap.content.results.impl.BulkOperationResultImpl",function(BulkOperationResultImpl){function BulkOperationResultImpl$(error,successful,results){this.super$y9$Z(error,successful);this["results"]=results}return{extend:"com.coremedia.cap.common.impl.OperationResultImpl",mixins:["com.coremedia.cap.content.results.BulkOperationResult"],constructor:BulkOperationResultImpl$,super$y9$Z:function(){com.coremedia.cap.common.impl.OperationResultImpl.prototype.constructor.apply(this,
arguments)},requires:["com.coremedia.cap.common.impl.OperationResultImpl","com.coremedia.cap.content.results.BulkOperationResult"]}});Ext.define("com.coremedia.cap.content.results.impl.CopyResultImpl",function(CopyResultImpl){function CopyResultImpl$(error,successful,results){this.super$TzXX(error,successful,results)}return{extend:"com.coremedia.cap.content.results.impl.BulkOperationResultImpl",mixins:["com.coremedia.cap.content.results.CopyResult"],constructor:CopyResultImpl$,super$TzXX:function(){com.coremedia.cap.content.results.impl.BulkOperationResultImpl.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cap.content.results.CopyResult",
"com.coremedia.cap.content.results.impl.BulkOperationResultImpl"]}});Ext.define("com.coremedia.cap.content.results.impl.PublicationResultImpl",function(PublicationResultImpl){function PublicationResultImpl$(error,successful,results){this.super$3yaQ(error,successful,results)}return{extend:"com.coremedia.cap.content.results.impl.BulkOperationResultImpl",mixins:["com.coremedia.cap.content.results.PublicationResult"],constructor:PublicationResultImpl$,super$3yaQ:function(){com.coremedia.cap.content.results.impl.BulkOperationResultImpl.prototype.constructor.apply(this,
arguments)},requires:["com.coremedia.cap.content.results.PublicationResult","com.coremedia.cap.content.results.impl.BulkOperationResultImpl"]}});Ext.define("com.coremedia.cap.content.results.impl.ApproveResultItemImpl",function(ApproveResultItemImpl){function ApproveResultItemImpl$(resultCode,content,editor){this.super$kvsk(resultCode,content,null);this.editor=editor}return{extend:"com.coremedia.cap.content.results.impl.BulkOperationResultItemImpl",mixins:["com.coremedia.cap.content.results.ApproveResultItem"],constructor:ApproveResultItemImpl$,super$kvsk:function(){com.coremedia.cap.content.results.impl.BulkOperationResultItemImpl.prototype.constructor.apply(this,
arguments)},requires:["com.coremedia.cap.content.results.ApproveResultItem","com.coremedia.cap.content.results.impl.BulkOperationResultItemImpl"]}});Ext.define("com.coremedia.cap.content.results.impl.DeleteResultItemImpl",function(DeleteResultItemImpl){function DeleteResultItemImpl$(resultCode,content,editor){this.super$WOsA(resultCode,content,null);this.editor=editor}return{extend:"com.coremedia.cap.content.results.impl.BulkOperationResultItemImpl",mixins:["com.coremedia.cap.content.results.DeleteResultItem"],constructor:DeleteResultItemImpl$,super$WOsA:function(){com.coremedia.cap.content.results.impl.BulkOperationResultItemImpl.prototype.constructor.apply(this,
arguments)},requires:["com.coremedia.cap.content.results.DeleteResultItem","com.coremedia.cap.content.results.impl.BulkOperationResultItemImpl"]}});Ext.define("com.coremedia.cap.content.publication.impl.PublicationServiceImpl",function(PublicationServiceImpl){function PublicationServiceImpl$(contentRepositoryImpl){this.contentRepositoryImpl$3PME=contentRepositoryImpl}function approveWithPath(content,callback){if(arguments.length<=1)callback=null;this.approveAllWithPath([content],callback)}function approveAllWithPath(contents,callback){if(arguments.length<=1)callback=null;(new com.coremedia.cap.content.publication.impl.BulkApproveMethod(this.contentRepositoryImpl$3PME,
contents,callback)).execute()}function disapprove(content,callback){if(arguments.length<=1)callback=null;this.disapproveAll([content],callback)}function disapproveAll(contents,callback){if(arguments.length<=1)callback=null;(new com.coremedia.cap.content.publication.impl.BulkDisapproveMethod(this.contentRepositoryImpl$3PME,contents,callback)).execute()}function publish(content,callback){if(arguments.length<=1)callback=null;this.publishAll([content],callback)}function publishAll(contents,callback){if(arguments.length<=
1)callback=null;(new com.coremedia.cap.content.publication.impl.BulkPublishMethod(this.contentRepositoryImpl$3PME,contents,callback)).execute()}function approveWithPathAndPublish(content,callback){if(arguments.length<=1)callback=null;this.approveWithPathAndPublishAll([content],callback)}function approveWithPathAndPublishAll(contents,callback){if(arguments.length<=1)callback=null;(new com.coremedia.cap.content.publication.impl.BulkApprovePublishMethod(this.contentRepositoryImpl$3PME,contents,callback)).execute()}
function withdraw(content,callback){if(arguments.length<=1)callback=null;this.withdrawAll([content],callback)}function withdrawAll(contents,callback){if(arguments.length<=1)callback=null;(new com.coremedia.cap.content.publication.impl.BulkWithdrawMethod(this.contentRepositoryImpl$3PME,contents,callback)).execute()}function withdrawAllFromTree(contents,nodeContentType,childNodesProperty,callback){if(arguments.length<=3)callback=null;(new com.coremedia.cap.content.publication.impl.BulkWithdrawFromTreeMethod(this.contentRepositoryImpl$3PME,
contents,nodeContentType,childNodesProperty,callback)).execute()}return{mixins:["com.coremedia.cap.content.publication.PublicationService"],contentRepositoryImpl$3PME:null,constructor:PublicationServiceImpl$,approveWithPath:approveWithPath,approveAllWithPath:approveAllWithPath,disapprove:disapprove,disapproveAll:disapproveAll,publish:publish,publishAll:publishAll,approveWithPathAndPublish:approveWithPathAndPublish,approveWithPathAndPublishAll:approveWithPathAndPublishAll,withdraw:withdraw,withdrawAll:withdrawAll,
withdrawAllFromTree:withdrawAllFromTree,requires:["com.coremedia.cap.content.publication.PublicationService"],uses:["com.coremedia.cap.content.publication.impl.BulkApproveMethod","com.coremedia.cap.content.publication.impl.BulkApprovePublishMethod","com.coremedia.cap.content.publication.impl.BulkDisapproveMethod","com.coremedia.cap.content.publication.impl.BulkPublishMethod","com.coremedia.cap.content.publication.impl.BulkWithdrawFromTreeMethod","com.coremedia.cap.content.publication.impl.BulkWithdrawMethod"]}});Ext.define("com.coremedia.cap.content.publication.impl.BulkDisapproveMethod",function(BulkDisapproveMethod){function BulkDisapproveMethod$(contentRepository,contents,callback){this.super$ANGN(contentRepository,"bulkDisapproveUri",true,false,contents,callback)}function makeResult(response){return(new com.coremedia.cap.content.impl.BulkOperationResultBuilder).convert(response)}return{extend:"com.coremedia.cap.content.impl.AbstractBulkMethod",constructor:BulkDisapproveMethod$,super$ANGN:function(){com.coremedia.cap.content.impl.AbstractBulkMethod.prototype.constructor.apply(this,
arguments)},makeResult:makeResult,requires:["com.coremedia.cap.content.impl.AbstractBulkMethod"],uses:["com.coremedia.cap.content.impl.BulkOperationResultBuilder"]}});Ext.define("com.coremedia.cap.content.publication.impl.BulkPublishMethod",function(BulkPublishMethod){function BulkPublishMethod$(contentRepository,contents,callback){this.super$ZjhP(contentRepository,"bulkPublishUri",false,contents,callback)}return{extend:"com.coremedia.cap.content.publication.impl.AbstractBulkPublishMethod",constructor:BulkPublishMethod$,super$ZjhP:function(){com.coremedia.cap.content.publication.impl.AbstractBulkPublishMethod.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cap.content.publication.impl.AbstractBulkPublishMethod"]}});Ext.define("com.coremedia.cap.content.publication.impl.BulkApproveMethod",function(BulkApproveMethod){function BulkApproveMethod$(contentRepository,contents,callback){this.super$BngN(contentRepository,"bulkApproveUri",true,false,contents,callback)}function makeResult(response){return(new com.coremedia.cap.content.impl.ApproveResultBuilder).convert(response)}return{extend:"com.coremedia.cap.content.impl.AbstractBulkMethod",constructor:BulkApproveMethod$,super$BngN:function(){com.coremedia.cap.content.impl.AbstractBulkMethod.prototype.constructor.apply(this,
arguments)},makeResult:makeResult,requires:["com.coremedia.cap.content.impl.AbstractBulkMethod"],uses:["com.coremedia.cap.content.impl.ApproveResultBuilder"]}});Ext.define("com.coremedia.cap.content.publication.impl.BulkApprovePublishMethod",function(BulkApprovePublishMethod){function BulkApprovePublishMethod$(contentRepository,contents,callback){this.super$Jv1Q(contentRepository,"bulkApprovePublishUri",false,contents,callback)}return{extend:"com.coremedia.cap.content.publication.impl.AbstractBulkPublishMethod",constructor:BulkApprovePublishMethod$,super$Jv1Q:function(){com.coremedia.cap.content.publication.impl.AbstractBulkPublishMethod.prototype.constructor.apply(this,
arguments)},requires:["com.coremedia.cap.content.publication.impl.AbstractBulkPublishMethod"]}});Ext.define("com.coremedia.cap.content.publication.impl.PublicationResultBuilder",function(PublicationResultBuilder){function makeResultObject(error,successful,resultItems){return new com.coremedia.cap.content.results.impl.PublicationResultImpl(error,successful,resultItems)}function makeResultItem(resultItem){return new com.coremedia.cap.content.results.impl.PublicationResultItemImpl(resultItem["category"],resultItem["content"],resultItem["impediment"],resultItem["editor"])}function PublicationResultBuilder$(){this.super$ECsN()}
return{extend:"com.coremedia.cap.content.impl.BulkOperationResultBuilder",makeResultObject:makeResultObject,makeResultItem:makeResultItem,super$ECsN:function(){com.coremedia.cap.content.impl.BulkOperationResultBuilder.prototype.constructor.apply(this,arguments)},constructor:PublicationResultBuilder$,requires:["com.coremedia.cap.content.impl.BulkOperationResultBuilder"],uses:["com.coremedia.cap.content.results.impl.PublicationResultImpl","com.coremedia.cap.content.results.impl.PublicationResultItemImpl"]}});Ext.define("com.coremedia.cap.content.publication.impl.AbstractBulkPublishMethod",function(AbstractBulkPublishMethod){function AbstractBulkPublishMethod$(contentRepository,uriProperty,isModifyingAllVersions,contents,callback){this.super$LGVN(contentRepository,uriProperty,true,isModifyingAllVersions,contents,callback)}function makeResult(response){return(new com.coremedia.cap.content.publication.impl.PublicationResultBuilder).convert(response)}function invalidate(result,executeEventually){com.coremedia.cap.content.impl.AbstractBulkMethod.prototype.invalidate.call(this,
result,executeEventually);var items=AS3.cast(com.coremedia.cap.content.results.PublicationResult,result).results;for(var i=0;i<items.length;i++){var item=items[i];if(item.impediment)item.impediment.invalidate(executeEventually.delay())}}return{extend:"com.coremedia.cap.content.impl.AbstractBulkMethod",constructor:AbstractBulkPublishMethod$,super$LGVN:function(){com.coremedia.cap.content.impl.AbstractBulkMethod.prototype.constructor.apply(this,arguments)},makeResult:makeResult,invalidate:invalidate,
requires:["com.coremedia.cap.content.impl.AbstractBulkMethod","com.coremedia.cap.content.results.PublicationResult"],uses:["com.coremedia.cap.content.publication.impl.PublicationResultBuilder"]}});Ext.define("com.coremedia.cap.content.publication.impl.BulkWithdrawMethod",function(BulkWithdrawMethod){function BulkWithdrawMethod$(contentRepository,contents,callback){this.super$In6Y(contentRepository,"bulkWithdrawUri",true,contents,callback)}return{extend:"com.coremedia.cap.content.publication.impl.AbstractBulkPublishMethod",constructor:BulkWithdrawMethod$,super$In6Y:function(){com.coremedia.cap.content.publication.impl.AbstractBulkPublishMethod.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cap.content.publication.impl.AbstractBulkPublishMethod"]}});Ext.define("com.coremedia.cap.content.publication.impl.BulkWithdrawFromTreeMethod",function(BulkWithdrawFromTreeMethod){function BulkWithdrawFromTreeMethod$(contentRepository,contents,nodeContentType,childNodesProperty,callback){this.super$P5ag(contentRepository,"bulkWithdrawFromTreeUri",true,contents,callback);this.params["nodeContentType"]=nodeContentType;this.params["childNodesProperty"]=childNodesProperty}return{extend:"com.coremedia.cap.content.publication.impl.AbstractBulkPublishMethod",constructor:BulkWithdrawFromTreeMethod$,
super$P5ag:function(){com.coremedia.cap.content.publication.impl.AbstractBulkPublishMethod.prototype.constructor.apply(this,arguments)},requires:["com.coremedia.cap.content.publication.impl.AbstractBulkPublishMethod"]}});Ext.define("com.coremedia.cap.content.validation.impl.RemoteBeanValidatorBase",function(RemoteBeanValidatorBase){function getEntityClass(){throw new AS3.Error("RemoteBeanValidator serves as base class; subclasses must override #getEntityClass()");}function validateReadableBeans(entity,issues){throw new AS3.Error("RemoteBeanValidator serves as base class; subclasses must override #validateReadableBeans(entity:*, issues:LocalIssues)");}function validate(entity,issues){var array=AS3.as(entity,Array);
if(array)this.validateArray$y2qj(array,issues);else if(AS3.is(entity,com.coremedia.ui.data.RemoteBean))this.validateSingleBean$y2qj(entity,issues);else com.coremedia.ui.logging.Logger.warn("RemoteBeanValidator: entity should only contain RemoteBeans, but found "+entity)}function validateArray(array,issues){var pending=false;var readableBeans=[];var unreadableBeans=[];for(var i=0;i<array.length;i++){var bean=AS3.as(array[i],com.coremedia.ui.data.RemoteBean);if(bean){var accessible=com.coremedia.ui.data.RemoteBeanUtil.isAccessible(bean);
if(accessible===undefined){pending=true;continue}if(accessible)readableBeans.push(bean);else unreadableBeans.push(bean)}else com.coremedia.ui.logging.Logger.warn("RemoteBeanValidator: entity should only contain RemoteBeans, but found "+bean)}if(unreadableBeans.length>0)issues.addIssue(com.coremedia.ui.data.validation.Severity.WARN,RemoteBeanValidatorBase.NOT_READABLE_ISSUE_CODE,null,unreadableBeans);if(pending)issues.setPending();else this.validateReadableBeans(readableBeans,issues)}function validateSingleBean(bean,
issues){var accessible=com.coremedia.ui.data.RemoteBeanUtil.isAccessible(bean);if(accessible===undefined)issues.setPending();else if(accessible)this.validateReadableBeans(bean,issues);else issues.addIssue(com.coremedia.ui.data.validation.Severity.WARN,RemoteBeanValidatorBase.NOT_READABLE_ISSUE_CODE,null,1)}function RemoteBeanValidatorBase$(){}return{mixins:["com.coremedia.ui.data.validation.Validator"],getEntityClass:getEntityClass,validateReadableBeans:validateReadableBeans,validate:validate,validateArray$y2qj:validateArray,
validateSingleBean$y2qj:validateSingleBean,constructor:RemoteBeanValidatorBase$,statics:{NOT_READABLE_ISSUE_CODE:"notReadable"},requires:["AS3.Error","com.coremedia.ui.data.RemoteBean","com.coremedia.ui.data.RemoteBeanUtil","com.coremedia.ui.data.validation.Severity","com.coremedia.ui.data.validation.Validator","com.coremedia.ui.logging.Logger"]}});Ext.define("com.coremedia.cap.workflow.impl.WorklistServiceImpl",function(WorklistServiceImpl){var PROCESS_DEFINITIONS_MAY_CREATE$static="processDefinitionsMayCreate";var PROCESSES_NOT_STARTED$static="processesNotStarted";var PROCESSES_RUNNING$static="processesRunning";var TASKS_OFFERED$static="tasksOffered";var TASKS_ACCEPTED$static="tasksAccepted";var TASKS_ESCALATED$static="tasksEscalated";var TASKS_WITH_WARNING$static="tasksWithWarning";function state_(){this.state$QW4L={}}function pendingMessages_(){this.pendingMessages$QW4L=
[]}function WorklistServiceImpl$(){this.super$QW4L();state_.call(this);pendingMessages_.call(this);AS3.cast(com.coremedia.cap.common.MessageService,com.coremedia.cap.common.SESSION.getConnection()).addMessageListener("worklist",AS3.bind(this,"processWorklistMessage$QW4L"));this.loadWorklists()}function loadWorklists(){this.initialized$QW4L=false;var worklistUri=AS3.cast(com.coremedia.cap.user.impl.UserImpl,com.coremedia.cap.common.SESSION.getUser()).getWorklistUri();var worklistMethod=new com.coremedia.ui.data.impl.RemoteServiceMethod(worklistUri,
"GET");worklistMethod.request({},AS3.bind(this,"worklistLoaded$QW4L"))}function worklistLoaded(response){if(response.success){var worklists=response.getResponseJSON();for(var worklistName in worklists){this.state$QW4L[worklistName]=this.indexById$QW4L(worklists[worklistName]);this.sendEventEventually$QW4L(worklistName)}this.tasksEscalatedByProcess$QW4L={};var tasksEscalated=this.state$QW4L[TASKS_ESCALATED$static];for(var $2 in tasksEscalated){var task=tasksEscalated[$2];this.addToTasksEscalatedByProcess$QW4L(task)}}this.initialized$QW4L=
true;for(var i=0;i<this.pendingMessages$QW4L.length;i++)this.processWorklistMessage$QW4L(this.pendingMessages$QW4L[i]);this.pendingMessages$QW4L=[]}function getIdOf(object){return object.getUriPath()}function indexById(items){var map={};for(var j=0;j<items.length;j++){var object=items[j];var id=this.getIdOf$QW4L(object);map[id]=object}return map}function sendEvents(){if(this.dirtyWorklists$QW4L){var toSend=this.dirtyWorklists$QW4L;this.dirtyWorklists$QW4L=null;for(var name in toSend)this.fireEvent(name)}}
function sendEventEventually(name){if(!this.dirtyWorklists$QW4L){this.dirtyWorklists$QW4L={};com.coremedia.ui.util.EventUtil.invokeLater(AS3.bind(this,"sendEvents$QW4L"))}this.dirtyWorklists$QW4L[name]=true}function addToTasksEscalatedByProcess(task){var processId=AS3.cast(com.coremedia.cap.workflow.impl.TaskImpl,task).getNumericProcessId();var processTasksEscalated=this.tasksEscalatedByProcess$QW4L[processId];if(!processTasksEscalated){processTasksEscalated={};this.tasksEscalatedByProcess$QW4L[processId]=
processTasksEscalated}processTasksEscalated[this.getIdOf$QW4L(task)]=task}function removeFromTasksEscalatedByProcess(task){var processId=AS3.cast(com.coremedia.cap.workflow.impl.TaskImpl,task).getNumericProcessId();var processTasksEscalated=this.tasksEscalatedByProcess$QW4L[processId];if(processTasksEscalated){delete processTasksEscalated[this.getIdOf$QW4L(task)];if(com.coremedia.ui.util.ObjectUtils.isEmpty(processTasksEscalated))delete this.tasksEscalatedByProcess$QW4L[processId]}}function processWorklistMessage(message){if(this.initialized$QW4L){var event=
AS3.cast(com.coremedia.cap.workflow.impl.WorklistEvent,message.body);AS3.cast(Function,this[event.event]).apply(this,event.parameters)}else this.pendingMessages$QW4L.push(message)}function addTo(object,name){var objects=this.state$QW4L[name];if(object){var id=object.getUriPath();var result=!objects.hasOwnProperty(id);objects[id]=object;this.sendEventEventually$QW4L(name)}}function removeFrom(object,name){var objects=this.state$QW4L[name];if(object){var id=object.getUriPath();var result=objects.hasOwnProperty(id);
delete objects[id];this.sendEventEventually$QW4L(name)}}function taskNoLongerEscalated(task){this.removeFrom$QW4L(task,TASKS_ESCALATED$static);this.removeFromTasksEscalatedByProcess$QW4L(task)}function tasksOfProcessNoLongerEscalated(process){var processId=AS3.cast(com.coremedia.cap.workflow.impl.ProcessImpl,process).getNumericId();var escalatedTasksOfProcess=this.tasksEscalatedByProcess$QW4L[processId];if(escalatedTasksOfProcess){delete this.tasksEscalatedByProcess$QW4L[processId];for(var i=0;i<
escalatedTasksOfProcess.length;i++){var task=escalatedTasksOfProcess[i];this.removeFrom$QW4L(task,TASKS_ESCALATED$static)}}}function taskNoLongerOffered(task){this.removeFrom$QW4L(task,TASKS_OFFERED$static)}function taskNoLongerAccepted(task){this.removeFrom$QW4L(task,TASKS_ACCEPTED$static)}function taskNoLongerHasWarnings(task){this.removeFrom$QW4L(task,TASKS_WITH_WARNING$static)}function removeClosedProcess(process){this.removeFrom$QW4L(process,PROCESSES_NOT_STARTED$static);this.removeFrom$QW4L(process,
PROCESSES_RUNNING$static)}function processDefinitionEnabled(definition){this.addTo$QW4L(definition,PROCESS_DEFINITIONS_MAY_CREATE$static)}function processDefinitionDisabled(definition){this.removeFrom$QW4L(definition,PROCESS_DEFINITIONS_MAY_CREATE$static)}function processCreated(process){this.addTo$QW4L(process,PROCESSES_NOT_STARTED$static)}function taskWarningsChanged(task){this.addTo$QW4L(task,TASKS_WITH_WARNING$static)}function taskWarningsCleared(task){this.removeFrom$QW4L(task,TASKS_WITH_WARNING$static)}
function processStarted(process){this.removeFrom$QW4L(process,PROCESSES_NOT_STARTED$static);this.addTo$QW4L(process,PROCESSES_RUNNING$static)}function processAborted(process){this.removeClosedProcess$QW4L(process)}function processCompleted(process){this.tasksOfProcessNoLongerEscalated$QW4L(process);this.removeClosedProcess$QW4L(process)}function taskOffered(task){this.addTo$QW4L(task,TASKS_OFFERED$static)}function taskRevoked(task){this.removeFrom$QW4L(task,TASKS_OFFERED$static)}function taskAccepted(task,
performer){this.taskNoLongerOffered$QW4L(task);if(performer===com.coremedia.cap.common.SESSION.getUser())this.addTo$QW4L(task,TASKS_ACCEPTED$static)}function taskExited(task){this.taskNoLongerAccepted$QW4L(task)}function taskCanceled(task){this.taskNoLongerAccepted$QW4L(task)}function taskEscalated(task){this.addTo$QW4L(task,TASKS_ESCALATED$static);this.addToTasksEscalatedByProcess$QW4L(task)}function taskAborted(task){this.taskNoLongerEscalated$QW4L(task);this.taskNoLongerAccepted$QW4L(task);this.taskNoLongerHasWarnings$QW4L(task);
this.taskNoLongerOffered$QW4L(task)}function taskRetried(task,performer){this.taskNoLongerEscalated$QW4L(task);if(performer===com.coremedia.cap.common.SESSION.getUser())this.addTo$QW4L(task,TASKS_ACCEPTED$static)}function taskSkipped(task){this.taskNoLongerOffered$QW4L(task)}function taskDelegated(task,delegatedTo){this.removeFrom$QW4L(task,TASKS_ACCEPTED$static);if(delegatedTo===com.coremedia.cap.common.SESSION.getUser())this.addTo$QW4L(task,TASKS_ACCEPTED$static)}function taskDeactivated(task){this.taskNoLongerOffered$QW4L(task);
this.taskNoLongerHasWarnings$QW4L(task)}function getWorklist(name){com.coremedia.ui.data.dependencies.DependencyTracker.dependOnObservable(this,name);var result=[];var $2;for(var $1 in $2=this.state$QW4L[name]){var object=$2[$1];result.push(object)}return result}function getTasksAccepted(){return this.getWorklist$QW4L(TASKS_ACCEPTED$static)}function getProcessDefinitionsMayCreate(){return this.getWorklist$QW4L(PROCESS_DEFINITIONS_MAY_CREATE$static)}function getProcessesNotStarted(){return this.getWorklist$QW4L(PROCESSES_NOT_STARTED$static)}
function getProcessesRunning(){return this.getWorklist$QW4L(PROCESSES_RUNNING$static)}function getTasksOffered(){return this.getWorklist$QW4L(TASKS_OFFERED$static)}function getTasksEscalated(){return this.getWorklist$QW4L(TASKS_ESCALATED$static)}function getTasksWithWarning(){return this.getWorklist$QW4L(TASKS_WITH_WARNING$static)}return{extend:"Ext.util.Observable",mixins:["com.coremedia.cap.workflow.WorklistService"],tasksEscalatedByProcess$QW4L:null,dirtyWorklists$QW4L:null,initialized$QW4L:false,
constructor:WorklistServiceImpl$,super$QW4L:function(){Ext.util.Observable.prototype.constructor.apply(this,arguments)},loadWorklists:loadWorklists,worklistLoaded$QW4L:worklistLoaded,getIdOf$QW4L:getIdOf,indexById$QW4L:indexById,sendEvents$QW4L:sendEvents,sendEventEventually$QW4L:sendEventEventually,addToTasksEscalatedByProcess$QW4L:addToTasksEscalatedByProcess,removeFromTasksEscalatedByProcess$QW4L:removeFromTasksEscalatedByProcess,processWorklistMessage$QW4L:processWorklistMessage,addTo$QW4L:addTo,
removeFrom$QW4L:removeFrom,taskNoLongerEscalated$QW4L:taskNoLongerEscalated,tasksOfProcessNoLongerEscalated$QW4L:tasksOfProcessNoLongerEscalated,taskNoLongerOffered$QW4L:taskNoLongerOffered,taskNoLongerAccepted$QW4L:taskNoLongerAccepted,taskNoLongerHasWarnings$QW4L:taskNoLongerHasWarnings,removeClosedProcess$QW4L:removeClosedProcess,processDefinitionEnabled:processDefinitionEnabled,processDefinitionDisabled:processDefinitionDisabled,processCreated:processCreated,taskWarningsChanged:taskWarningsChanged,
taskWarningsCleared:taskWarningsCleared,processStarted:processStarted,processAborted:processAborted,processCompleted:processCompleted,taskOffered:taskOffered,taskRevoked:taskRevoked,taskAccepted:taskAccepted,taskExited:taskExited,taskCanceled:taskCanceled,taskEscalated:taskEscalated,taskAborted:taskAborted,taskRetried:taskRetried,taskSkipped:taskSkipped,taskDelegated:taskDelegated,taskDeactivated:taskDeactivated,getWorklist$QW4L:getWorklist,getTasksAccepted:getTasksAccepted,getProcessDefinitionsMayCreate:getProcessDefinitionsMayCreate,
getProcessesNotStarted:getProcessesNotStarted,getProcessesRunning:getProcessesRunning,getTasksOffered:getTasksOffered,getTasksEscalated:getTasksEscalated,getTasksWithWarning:getTasksWithWarning,requires:["Ext.util.Observable","com.coremedia.cap.common.MessageService","com.coremedia.cap.common.SESSION","com.coremedia.cap.workflow.WorklistService","com.coremedia.ui.data.dependencies.DependencyTracker","com.coremedia.ui.data.impl.RemoteServiceMethod","com.coremedia.ui.util.EventUtil","com.coremedia.ui.util.ObjectUtils"],
uses:["com.coremedia.cap.user.impl.UserImpl","com.coremedia.cap.workflow.impl.ProcessImpl","com.coremedia.cap.workflow.impl.TaskImpl","com.coremedia.cap.workflow.impl.WorklistEvent"]}});Ext.define("com.coremedia.cap.workflow.impl.ProcessImpl",function(ProcessImpl){var START_URI$static="startUri";var ABORT_URI$static="abortUri";var SUSPEND_URI$static="suspendUri";var RESUME_URI$static="resumeUri";function static$0(){com.coremedia.ui.logging.Logger.debug("loading ProcessState: "+com.coremedia.cap.workflow.ProcessState.values)}function ProcessImpl$(path,vars){var id=vars["id"];this.numericId$s8r_=AS3.is(id,Number)?id:parseInt(id);this.super$s8r_(path);this.setId("coremedia:///cap/process/"+
this.numericId$s8r_)}function processReadResult(newValues){var state=newValues[com.coremedia.cap.workflow.ProcessPropertyNames.PROCESS_STATE];newValues[com.coremedia.cap.workflow.ProcessPropertyNames.OPEN]=state.isOpen();newValues[com.coremedia.cap.workflow.ProcessPropertyNames.CLOSED]=state.isClosed();newValues[com.coremedia.cap.workflow.ProcessPropertyNames.NOT_STARTED]=state.isNotStarted();newValues[com.coremedia.cap.workflow.ProcessPropertyNames.RUNNING]=state.isRunning();newValues[com.coremedia.cap.workflow.ProcessPropertyNames.NOT_RUNNING]=
state.isNotRunning();newValues[com.coremedia.cap.workflow.ProcessPropertyNames.SUSPENDED]=state.isSuspended();newValues[com.coremedia.cap.workflow.ProcessPropertyNames.COMPLETED]=state.isCompleted();newValues[com.coremedia.cap.workflow.ProcessPropertyNames.ABORTED]=state.isAborted();return com.coremedia.cap.workflow.impl.WorkflowObjectImpl.prototype.processReadResult.call(this,newValues)}function getOwner(){return this.get(com.coremedia.cap.workflow.ProcessPropertyNames.OWNER)}function getNumericId(){return this.numericId$s8r_}
function getCreationDate(){return AS3.as(this.get(com.coremedia.cap.workflow.ProcessPropertyNames.CREATION_DATE),Date)}function getCompletionDate(){return AS3.as(this.get(com.coremedia.cap.workflow.ProcessPropertyNames.COMPLETION_DATE),Date)}function getDefinition(){return this.get(com.coremedia.cap.workflow.ProcessPropertyNames.DEFINITION)}function getType_(){return this.getDefinition()}function isDetached(){return this.get(com.coremedia.cap.workflow.ProcessPropertyNames.DETACHED)}function getParent(){return this.get(com.coremedia.cap.workflow.ProcessPropertyNames.PARENT)}
function getTask(name){var tasksByName=this.getTasksByName();return tasksByName?tasksByName[name]||null:undefined}function getTasks(){return this.get(com.coremedia.cap.workflow.ProcessPropertyNames.TASKS)}function getTasksByName(){return this.get(com.coremedia.cap.workflow.ProcessPropertyNames.TASKS_BY_NAME)}function getSuspensionDate(){return this.get(com.coremedia.cap.workflow.ProcessPropertyNames.SUSPENSION_DATE)}function getResumeDate(){return this.get(com.coremedia.cap.workflow.ProcessPropertyNames.RESUME_DATE)}
function getProcessState(){return this.get(com.coremedia.cap.workflow.ProcessPropertyNames.PROCESS_STATE)}function isOpen(){return this.get(com.coremedia.cap.workflow.ProcessPropertyNames.OPEN)}function isClosed(){return this.get(com.coremedia.cap.workflow.ProcessPropertyNames.CLOSED)}function isNotStarted(){return this.get(com.coremedia.cap.workflow.ProcessPropertyNames.NOT_STARTED)}function isRunning(){return this.get(com.coremedia.cap.workflow.ProcessPropertyNames.RUNNING)}function isNotRunning(){return this.get(com.coremedia.cap.workflow.ProcessPropertyNames.NOT_RUNNING)}
function isProcessSuspended(){return this.get(com.coremedia.cap.workflow.ProcessPropertyNames.SUSPENDED)}function isCompleted(){return this.get(com.coremedia.cap.workflow.ProcessPropertyNames.COMPLETED)}function isAborted(){return this.get(com.coremedia.cap.workflow.ProcessPropertyNames.ABORTED)}function start(callback){var this$=this;if(arguments.length<=0)callback=null;this.flush(function(){this$.load(function(){var rsm=new com.coremedia.ui.data.impl.RemoteServiceMethod(this$.getUriPath()+"/"+this$.get(START_URI$static),
"POST",true);rsm.request({},function(rsmr){if(callback)callback(com.coremedia.cap.common.impl.OperationResultImpl.fromResponse(rsmr))})})})}function abort(callback){var this$=this;if(arguments.length<=0)callback=null;this.flush(function(){this$.load(function(){var rsm=new com.coremedia.ui.data.impl.RemoteServiceMethod(this$.getUriPath()+"/"+this$.get(ABORT_URI$static),"POST",true);rsm.request({},function(rsmr){if(callback)callback(com.coremedia.cap.common.impl.OperationResultImpl.fromResponse(rsmr))})})})}
function suspend(callback){var this$=this;if(arguments.length<=0)callback=null;this.flush(function(){this$.load(function(){var rsm=new com.coremedia.ui.data.impl.RemoteServiceMethod(this$.getUriPath()+"/"+this$.get(SUSPEND_URI$static),"POST",true);rsm.request({},function(rsmr){if(callback)callback(com.coremedia.cap.common.impl.OperationResultImpl.fromResponse(rsmr))})})})}function resume(callback){var this$=this;if(arguments.length<=0)callback=null;this.flush(function(){this$.load(function(){var rsm=
new com.coremedia.ui.data.impl.RemoteServiceMethod(this$.getUriPath()+"/"+this$.get(RESUME_URI$static),"POST",true);rsm.request({},function(rsmr){if(callback)callback(com.coremedia.cap.common.impl.OperationResultImpl.fromResponse(rsmr))})})})}return{extend:"com.coremedia.cap.workflow.impl.WorkflowObjectImpl",mixins:["com.coremedia.cap.workflow.Process"],metadata:{"":["RestResource",["uriTemplate","workflow/process/{id:[0-9]+}"]]},numericId$s8r_:0,constructor:ProcessImpl$,super$s8r_:function(){com.coremedia.cap.workflow.impl.WorkflowObjectImpl.prototype.constructor.apply(this,
arguments)},processReadResult:processReadResult,getOwner:getOwner,getNumericId:getNumericId,getCreationDate:getCreationDate,getCompletionDate:getCompletionDate,getDefinition:getDefinition,getType_:getType_,isDetached:isDetached,getParent:getParent,getTask:getTask,getTasks:getTasks,getTasksByName:getTasksByName,getSuspensionDate:getSuspensionDate,getResumeDate:getResumeDate,getProcessState:getProcessState,isOpen:isOpen,isClosed:isClosed,isNotStarted:isNotStarted,isRunning:isRunning,isNotRunning:isNotRunning,
isProcessSuspended:isProcessSuspended,isCompleted:isCompleted,isAborted:isAborted,start:start,abort:abort,suspend:suspend,resume:resume,statics:{__initStatics__:function(){static$0()}},requires:["com.coremedia.cap.workflow.Process","com.coremedia.cap.workflow.ProcessPropertyNames","com.coremedia.cap.workflow.ProcessState","com.coremedia.cap.workflow.impl.WorkflowObjectImpl","com.coremedia.ui.data.impl.RemoteServiceMethod","com.coremedia.ui.logging.Logger"],uses:["com.coremedia.cap.common.impl.OperationResultImpl"]}});Ext.define("com.coremedia.cap.workflow.impl.WorkflowObjectImpl",function(WorkflowObjectImpl){function WorkflowObjectImpl$(path){this.super$38Fl(path)}function isSubObject(value,propertyPath){return propertyPath==="properties"}function createSubBean(propertyPathPrefix){return new com.coremedia.cap.workflow.impl.WorkflowObjectPropertiesImpl(this,propertyPathPrefix)}function getRepository(){return com.coremedia.cap.common.SESSION.getConnection().getWorkflowRepository()}function getProperties(){return this.get("properties")}
function isProcess(){return AS3.is(this,com.coremedia.cap.workflow.Process)}function isTask(){return AS3.is(this,com.coremedia.cap.workflow.Task)}return{extend:"com.coremedia.cap.common.impl.CapObjectImpl",mixins:["com.coremedia.cap.workflow.WorkflowObject"],constructor:WorkflowObjectImpl$,super$38Fl:function(){com.coremedia.cap.common.impl.CapObjectImpl.prototype.constructor.apply(this,arguments)},isSubObject:isSubObject,createSubBean:createSubBean,getRepository:getRepository,getProperties:getProperties,
isProcess:isProcess,isTask:isTask,requires:["com.coremedia.cap.common.SESSION","com.coremedia.cap.common.impl.CapObjectImpl","com.coremedia.cap.workflow.Process","com.coremedia.cap.workflow.Task","com.coremedia.cap.workflow.WorkflowObject"],uses:["com.coremedia.cap.workflow.impl.WorkflowObjectPropertiesImpl"]}});Ext.define("com.coremedia.cap.workflow.impl.TaskDefinitionImpl",function(TaskDefinitionImpl){function static$0(){com.coremedia.ui.logging.Logger.debug("loading TaskDefinitionType: "+com.coremedia.cap.workflow.TaskDefinitionType.values)}function TaskDefinitionImpl$(path,vars){var id=vars["id"];var processId=vars["processDefinitionId"];this.super$8W$9(path);var numericId=parseInt(id,10);var numericProcessDefinitionId=parseInt(processId,10);this.setId("coremedia:///cap/taskdefinition/"+numericProcessDefinitionId+
"/"+numericId)}function getDeclaringDefinition(){return this.get("declaringDefinition")}function getType(){return this.get("type")}function isFinal(){return this.get("final")}function isReexecutable(){return this.get("reexecutable")}function getDefaultPriority(){return this.get("defaultPriority")}function getDefaultOfferTimeout(){return this.get("defaultOfferTimeout")}function getSuccessorDefinitions(){return this.get("successorDefinitions")}return{extend:"com.coremedia.cap.common.impl.CapTypeImpl",
mixins:["com.coremedia.cap.workflow.TaskDefinition"],metadata:{"":["RestResource",["uriTemplate","workflow/taskdefinition/{processDefinitionId:[0-9]+}/{id:[0-9]+}"]]},constructor:TaskDefinitionImpl$,super$8W$9:function(){com.coremedia.cap.common.impl.CapTypeImpl.prototype.constructor.apply(this,arguments)},getDeclaringDefinition:getDeclaringDefinition,getType:getType,isFinal:isFinal,isReexecutable:isReexecutable,getDefaultPriority:getDefaultPriority,getDefaultOfferTimeout:getDefaultOfferTimeout,getSuccessorDefinitions:getSuccessorDefinitions,
statics:{__initStatics__:function(){static$0()}},requires:["com.coremedia.cap.common.impl.CapTypeImpl","com.coremedia.cap.workflow.TaskDefinition","com.coremedia.cap.workflow.TaskDefinitionType","com.coremedia.ui.logging.Logger"]}});Ext.define("com.coremedia.cap.workflow.impl.TaskImpl",function(TaskImpl){var COMPLETE_URI$static="completeUri";var ACCEPT_URI$static="acceptUri";var REJECT_URI$static="rejectUri";var SKIP_URI$static="skipUri";var CANCEL_URI$static="cancelUri";function static$0(){com.coremedia.ui.logging.Logger.debug("loading TaskState: "+com.coremedia.cap.workflow.TaskState.values)}function TaskImpl$(path,vars){var id=vars["id"];var processId=vars["process"];this.numericId$4zDM=AS3.is(id,Number)?id:parseInt(id);this.numericProcessId$4zDM=
AS3.is(processId,Number)?processId:parseInt(processId);this.super$4zDM(path);this.setId("coremedia:///cap/task/"+this.numericProcessId$4zDM+"/"+this.numericId$4zDM)}function processReadResult(newValues){var state=newValues[com.coremedia.cap.workflow.TaskPropertyNames.TASK_STATE];newValues[com.coremedia.cap.workflow.TaskPropertyNames.ABORTED]=state.isAborted();newValues[com.coremedia.cap.workflow.TaskPropertyNames.ESCALATED]=state.isEscalated();newValues[com.coremedia.cap.workflow.TaskPropertyNames.OPEN]=
state.isOpen();newValues[com.coremedia.cap.workflow.TaskPropertyNames.CLOSED]=state.isClosed();newValues[com.coremedia.cap.workflow.TaskPropertyNames.NOT_STARTED]=state.isNotStarted();newValues[com.coremedia.cap.workflow.TaskPropertyNames.RUNNING]=state.isRunning();newValues[com.coremedia.cap.workflow.TaskPropertyNames.NOT_RUNNING]=state.isNotRunning();newValues[com.coremedia.cap.workflow.TaskPropertyNames.SUSPENDED]=state.isSuspended();newValues[com.coremedia.cap.workflow.TaskPropertyNames.COMPLETING]=
state.isCompleting();newValues[com.coremedia.cap.workflow.TaskPropertyNames.COMPLETED]=state.isCompleted();newValues[com.coremedia.cap.workflow.TaskPropertyNames.ACCEPTED]=state.isAccepted()||state.isSuspended()&&newValues[com.coremedia.cap.workflow.TaskPropertyNames.SUSPENDED_STATE].isAccepted();newValues[com.coremedia.cap.workflow.TaskPropertyNames.WAITING]=state===com.coremedia.cap.workflow.TaskState.WAITING;newValues[com.coremedia.cap.workflow.TaskPropertyNames.ACTIVATED]=state==com.coremedia.cap.workflow.TaskState.ACTIVATED;
newValues[com.coremedia.cap.workflow.TaskPropertyNames.SKIPPED]=state===com.coremedia.cap.workflow.TaskState.SKIPPED;return com.coremedia.cap.workflow.impl.WorkflowObjectImpl.prototype.processReadResult.call(this,newValues)}function getNumericId(){return this.numericId$4zDM}function getNumericProcessId(){return this.numericProcessId$4zDM}function getContainingProcess(){var pathSegments=this.getUriPath().split("/");var processId=pathSegments[pathSegments.length-2];return AS3.as(com.coremedia.ui.data.beanFactory.getRemoteBean("workflow/process/"+
processId),com.coremedia.cap.workflow.Process)}function isOfType(expectedType){var definition=this.getDefinition();if(!definition)return undefined;var taskDefinitionType=definition.getType();if(!taskDefinitionType)return undefined;return taskDefinitionType===expectedType}function isAutomatedTask(){return this.isOfType$4zDM(com.coremedia.cap.workflow.TaskDefinitionType.AUTOMATED)}function isUserTask(){return this.isOfType$4zDM(com.coremedia.cap.workflow.TaskDefinitionType.USER)}function isChoiceTask(){return this.isOfType$4zDM(com.coremedia.cap.workflow.TaskDefinitionType.CHOICE)}
function isSwitchTask(){return this.isOfType$4zDM(com.coremedia.cap.workflow.TaskDefinitionType.SWITCH)}function isIfTask(){return this.isOfType$4zDM(com.coremedia.cap.workflow.TaskDefinitionType.IF)}function isForkTask(){return this.isOfType$4zDM(com.coremedia.cap.workflow.TaskDefinitionType.FORK)}function isJoinTask(){return this.isOfType$4zDM(com.coremedia.cap.workflow.TaskDefinitionType.JOIN)}function isForkSubprocessTask(){return this.isOfType$4zDM(com.coremedia.cap.workflow.TaskDefinitionType.FORK_SUBPROCESS)}
function isJoinSubprocessTask(){return this.isOfType$4zDM(com.coremedia.cap.workflow.TaskDefinitionType.JOIN_SUBPROCESS)}function getTaskState(){return this.get(com.coremedia.cap.workflow.TaskPropertyNames.TASK_STATE)}function getSuspendedState(){return this.get(com.coremedia.cap.workflow.TaskPropertyNames.SUSPENDED_STATE)}function isAborted(){return this.get(com.coremedia.cap.workflow.TaskPropertyNames.ABORTED)}function isEscalated(){return this.get(com.coremedia.cap.workflow.TaskPropertyNames.ESCALATED)}
function isOpen(){return this.get(com.coremedia.cap.workflow.TaskPropertyNames.OPEN)}function isClosed(){return this.get(com.coremedia.cap.workflow.TaskPropertyNames.CLOSED)}function isNotStarted(){return this.get(com.coremedia.cap.workflow.TaskPropertyNames.NOT_STARTED)}function isRunning(){return this.get(com.coremedia.cap.workflow.TaskPropertyNames.RUNNING)}function isNotRunning(){return this.get(com.coremedia.cap.workflow.TaskPropertyNames.NOT_RUNNING)}function isTaskSuspended(){return this.get(com.coremedia.cap.workflow.TaskPropertyNames.SUSPENDED)}
function isCompleting(){return this.get(com.coremedia.cap.workflow.TaskPropertyNames.COMPLETING)}function isCompleted(){return this.get(com.coremedia.cap.workflow.TaskPropertyNames.COMPLETED)}function isAccepted(){return this.get(com.coremedia.cap.workflow.TaskPropertyNames.ACCEPTED)}function isWaiting(){return this.get(com.coremedia.cap.workflow.TaskPropertyNames.WAITING)}function isActivated(){return this.get(com.coremedia.cap.workflow.TaskPropertyNames.ACTIVATED)}function isSkipped(){return this.get(com.coremedia.cap.workflow.TaskPropertyNames.SKIPPED)}
function getPriority(){return this.get(com.coremedia.cap.workflow.TaskPropertyNames.PRIORITY)}function getAcceptanceDate(){return this.get(com.coremedia.cap.workflow.TaskPropertyNames.ACCEPTANCE_DATE)}function isIfTrue(){return this.get(com.coremedia.cap.workflow.TaskPropertyNames.IF_TRUE)}function getPerformer(){return this.get(com.coremedia.cap.workflow.TaskPropertyNames.PERFORMER)}function getOfferedTo(){return this.get(com.coremedia.cap.workflow.TaskPropertyNames.OFFERED_TO)}function isTaskForced(){return this.get(com.coremedia.cap.workflow.TaskPropertyNames.TASK_FORCED)}
function getChoice(){return this.get(com.coremedia.cap.workflow.TaskPropertyNames.CHOICE)}function getChild(){return this.get(com.coremedia.cap.workflow.TaskPropertyNames.CHILD)}function isChildHasCompleted(){return this.get(com.coremedia.cap.workflow.TaskPropertyNames.CHILD_HAS_COMPLETED)}function getSuccessors(){return this.get(com.coremedia.cap.workflow.TaskPropertyNames.SUCCESSORS)}function getDefinition(){return this.get(com.coremedia.cap.workflow.TaskPropertyNames.DEFINITION)}function getType_(){return this.getDefinition()}
function getEscalationException(){return this.get("escalationException")}function getWarnings(){return this.get("warnings")}function complete(callback){var this$=this;if(arguments.length<=0)callback=null;this.flushWithContainingProcess$4zDM(function(){this$.load(function(){var rsm=new com.coremedia.ui.data.impl.RemoteServiceMethod(this$.getUriPath()+"/"+this$.get(COMPLETE_URI$static),"POST",true);rsm.request({},function(rsmr){if(callback)callback(com.coremedia.cap.common.impl.OperationResultImpl.fromResponse(rsmr))})})})}
function accept(callback){var this$=this;if(arguments.length<=0)callback=null;this.flushWithContainingProcess$4zDM(function(){this$.load(function(){var rsm=new com.coremedia.ui.data.impl.RemoteServiceMethod(this$.getUriPath()+"/"+this$.get(ACCEPT_URI$static),"POST",true);rsm.request({},function(rsmr){if(callback)callback(com.coremedia.cap.common.impl.OperationResultImpl.fromResponse(rsmr))})})})}function reject(callback){var this$=this;if(arguments.length<=0)callback=null;this.flushWithContainingProcess$4zDM(function(){this$.load(function(){var rsm=
new com.coremedia.ui.data.impl.RemoteServiceMethod(this$.getUriPath()+"/"+this$.get(REJECT_URI$static),"POST",true);rsm.request({},function(rsmr){if(callback)callback(com.coremedia.cap.common.impl.OperationResultImpl.fromResponse(rsmr))})})})}function skip(callback){var this$=this;if(arguments.length<=0)callback=null;this.flushWithContainingProcess$4zDM(function(){this$.load(function(){var rsm=new com.coremedia.ui.data.impl.RemoteServiceMethod(this$.getUriPath()+"/"+this$.get(SKIP_URI$static),"POST",
true);rsm.request({},function(rsmr){if(callback)callback(com.coremedia.cap.common.impl.OperationResultImpl.fromResponse(rsmr))})})})}function cancel(callback){var this$=this;if(arguments.length<=0)callback=null;this.flushWithContainingProcess$4zDM(function(){this$.load(function(){var rsm=new com.coremedia.ui.data.impl.RemoteServiceMethod(this$.getUriPath()+"/"+this$.get(CANCEL_URI$static),"POST",true);rsm.request({},function(rsmr){if(callback)callback(com.coremedia.cap.common.impl.OperationResultImpl.fromResponse(rsmr))})})})}
function flushWithContainingProcess(callback){if(arguments.length<=0)callback=null;var toBeFlushed=[this];var containingProcess=this.getContainingProcess();if(containingProcess)toBeFlushed.push(containingProcess);com.coremedia.ui.data.RemoteBeanUtil.flushAll(callback,toBeFlushed)}return{extend:"com.coremedia.cap.workflow.impl.WorkflowObjectImpl",mixins:["com.coremedia.cap.workflow.Task"],metadata:{"":["RestResource",["uriTemplate","workflow/task/{process:[0-9]+}/{id:[0-9]+}"]]},numericId$4zDM:0,numericProcessId$4zDM:0,
constructor:TaskImpl$,super$4zDM:function(){com.coremedia.cap.workflow.impl.WorkflowObjectImpl.prototype.constructor.apply(this,arguments)},processReadResult:processReadResult,getNumericId:getNumericId,getNumericProcessId:getNumericProcessId,getContainingProcess:getContainingProcess,isOfType$4zDM:isOfType,isAutomatedTask:isAutomatedTask,isUserTask:isUserTask,isChoiceTask:isChoiceTask,isSwitchTask:isSwitchTask,isIfTask:isIfTask,isForkTask:isForkTask,isJoinTask:isJoinTask,isForkSubprocessTask:isForkSubprocessTask,
isJoinSubprocessTask:isJoinSubprocessTask,getTaskState:getTaskState,getSuspendedState:getSuspendedState,isAborted:isAborted,isEscalated:isEscalated,isOpen:isOpen,isClosed:isClosed,isNotStarted:isNotStarted,isRunning:isRunning,isNotRunning:isNotRunning,isTaskSuspended:isTaskSuspended,isCompleting:isCompleting,isCompleted:isCompleted,isAccepted:isAccepted,isWaiting:isWaiting,isActivated:isActivated,isSkipped:isSkipped,getPriority:getPriority,getAcceptanceDate:getAcceptanceDate,isIfTrue:isIfTrue,getPerformer:getPerformer,
getOfferedTo:getOfferedTo,isTaskForced:isTaskForced,getChoice:getChoice,getChild:getChild,isChildHasCompleted:isChildHasCompleted,getSuccessors:getSuccessors,getDefinition:getDefinition,getType_:getType_,getEscalationException:getEscalationException,getWarnings:getWarnings,complete:complete,accept:accept,reject:reject,skip:skip,cancel:cancel,flushWithContainingProcess$4zDM:flushWithContainingProcess,statics:{__initStatics__:function(){static$0()}},requires:["com.coremedia.cap.workflow.Process","com.coremedia.cap.workflow.Task",
"com.coremedia.cap.workflow.TaskDefinitionType","com.coremedia.cap.workflow.TaskPropertyNames","com.coremedia.cap.workflow.TaskState","com.coremedia.cap.workflow.impl.WorkflowObjectImpl","com.coremedia.ui.data.RemoteBeanUtil","com.coremedia.ui.data.beanFactory","com.coremedia.ui.data.impl.RemoteServiceMethod","com.coremedia.ui.logging.Logger"],uses:["com.coremedia.cap.common.impl.OperationResultImpl"]}});Ext.define("com.coremedia.cap.workflow.impl.WorkflowRepositoryImpl",function(WorkflowRepositoryImpl){function WorkflowRepositoryImpl$(config){this.super$$qPw(config)}function getWorklistService(){if(!this.worklistService$$qPw)this.worklistService$$qPw=new com.coremedia.cap.workflow.impl.WorklistServiceImpl;return this.worklistService$$qPw}function getAccessControl(){if(!this.accessControl$$qPw)this.accessControl$$qPw=new com.coremedia.cap.workflow.authorization.impl.AccessControlImpl;return this.accessControl$$qPw}
function getProcessDefinition(idOrName,callback){if(arguments.length<=1)callback=null;var rsm=new com.coremedia.ui.data.impl.RemoteServiceMethod(this.get(this.GET_PROCESSDEFINITION_URI$$qPw)+"/"+idOrName,"GET",true);rsm.request({},function(rsmr){var processDefinition=com.coremedia.ui.data.impl.RemoteService.resolveResponse(rsmr.response.responseText,"");if(callback)callback(processDefinition)})}function reloadWorklists(){if(this.worklistService$$qPw)this.worklistService$$qPw.loadWorklists()}function getWorkflowContentService(){if(!this.workflowContentService$$qPw)this.workflowContentService$$qPw=
new com.coremedia.cap.workflow.impl.WorkflowContentServiceImpl;return this.workflowContentService$$qPw}return{extend:"com.coremedia.ui.data.impl.RemoteBeanImpl",mixins:["com.coremedia.cap.workflow.WorkflowRepository"],metadata:{"":["RestResource",["uriTemplate","workflow"]]},GET_PROCESSDEFINITION_URI$$qPw:"getProcessDefinition",worklistService$$qPw:null,accessControl$$qPw:null,workflowContentService$$qPw:null,constructor:WorkflowRepositoryImpl$,super$$qPw:function(){com.coremedia.ui.data.impl.RemoteBeanImpl.prototype.constructor.apply(this,
arguments)},getWorklistService:getWorklistService,getAccessControl:getAccessControl,getProcessDefinition:getProcessDefinition,reloadWorklists:reloadWorklists,getWorkflowContentService:getWorkflowContentService,requires:["com.coremedia.cap.workflow.WorkflowRepository","com.coremedia.ui.data.impl.RemoteBeanImpl","com.coremedia.ui.data.impl.RemoteService","com.coremedia.ui.data.impl.RemoteServiceMethod"],uses:["com.coremedia.cap.workflow.authorization.impl.AccessControlImpl","com.coremedia.cap.workflow.impl.WorkflowContentServiceImpl",
"com.coremedia.cap.workflow.impl.WorklistServiceImpl"]}});Ext.define("com.coremedia.cap.workflow.impl.WorkflowObjectPropertiesImpl",function(WorkflowObjectPropertiesImpl){function WorkflowObjectPropertiesImpl$(parent,basePath){this.super$Glq2(parent,basePath)}function getWorkflowObject(){return AS3.as(this.getParentBean(),com.coremedia.cap.workflow.WorkflowObject)}return{extend:"com.coremedia.ui.data.impl.SubBean",mixins:["com.coremedia.cap.workflow.WorkflowObjectProperties"],constructor:WorkflowObjectPropertiesImpl$,super$Glq2:function(){com.coremedia.ui.data.impl.SubBean.prototype.constructor.apply(this,
arguments)},getWorkflowObject:getWorkflowObject,requires:["com.coremedia.cap.workflow.WorkflowObject","com.coremedia.cap.workflow.WorkflowObjectProperties","com.coremedia.ui.data.impl.SubBean"]}});Ext.define("com.coremedia.cap.workflow.impl.WorkflowContentServiceImpl",function(WorkflowContentServiceImpl){function WorkflowContentServiceImpl$(){}function getLockingProcesses(content){var processRemote=getLockingProcessesRemoteBean$static(content);if(processRemote){var processes=AS3.as(processRemote.get("items"),Array);if(processes){processes=processes.filter(function(process){return process.getState().exists!==false});return processes}}return[]}function isLockedForUser(content){var processArray=
this.getLockingProcesses(content);var isLockedForUser=false;if(processArray&&processArray.length>0&&isContentIncluded$static(processArray,content)){isLockedForUser=true;var runningTaskUnlocksContent=false;processArray.forEach(function(process){if(process&&process.getTasks()){isLockedForUser=!process.isCompleted();if(isLockedForUser){var unlockingTaskNamesString=process.getProperties().get("contentNotLockedForPerformerOfTasks");if(unlockingTaskNamesString){unlockingTaskNamesString=unlockingTaskNamesString.replace(/ /g,
"");var unlockingTaskNames=unlockingTaskNamesString.split(",");unlockingTaskNames.forEach(function(taskName){var task=process.getTask(taskName);if(com.coremedia.ui.data.RemoteBeanUtil.isAccessible(task)&&com.coremedia.cap.common.SESSION.getUser()===task.getPerformer()&&task.isRunning())runningTaskUnlocksContent=true})}}}})}if(runningTaskUnlocksContent)return false;else return isLockedForUser}function isContentIncluded$static(processes,content){for(var n=0;n<processes.length;n++){var process=AS3.cast(com.coremedia.cap.workflow.Process,
processes[n]);if(process.getProperties()){var changeSet=process.getProperties().get("changeSet");if(changeSet)for(var i=0;i<changeSet.length;i++){var changeSetItem=changeSet[i];var contentInProcess;if(AS3.is(changeSetItem,com.coremedia.cap.content.Content))contentInProcess=AS3.as(changeSetItem,com.coremedia.cap.content.Content);else{var versionInProcess=AS3.as(changeSetItem,com.coremedia.cap.content.Version);if(versionInProcess)contentInProcess=versionInProcess.getContainingContent()}if(contentInProcess&&
contentInProcess===content)return true}}}return false}function invalidateLocking(content,callback){var this$=this;if(arguments.length<=1)callback=null;var lockingProcessesRemoteBean=getLockingProcessesRemoteBean$static(content);if(lockingProcessesRemoteBean)if(callback)lockingProcessesRemoteBean.invalidate(function(){var execEvt=new com.coremedia.ui.util.ExecuteEventually(callback);var processes=this$.getLockingProcesses(content);processes.forEach(function(process){process.load(execEvt.delay())});
execEvt.proceed()});else lockingProcessesRemoteBean.invalidate()}function getLockingProcessesRemoteBean$static(content){return com.coremedia.ui.data.beanFactory.getRemoteBean("workflowContentService/"+com.coremedia.cap.common.IdHelper.parseContentId(content)+"/lockingProcesses")}return{mixins:["com.coremedia.cap.workflow.WorkflowContentService"],constructor:WorkflowContentServiceImpl$,getLockingProcesses:getLockingProcesses,isLockedForUser:isLockedForUser,invalidateLocking:invalidateLocking,requires:["com.coremedia.cap.common.IdHelper",
"com.coremedia.cap.common.SESSION","com.coremedia.cap.content.Content","com.coremedia.cap.content.Version","com.coremedia.cap.workflow.Process","com.coremedia.cap.workflow.WorkflowContentService","com.coremedia.ui.data.RemoteBeanUtil","com.coremedia.ui.data.beanFactory","com.coremedia.ui.util.ExecuteEventually"]}});Ext.define("com.coremedia.cap.workflow.impl.WorklistEvent",function(WorklistEvent){function WorklistEvent$(){}return{constructor:WorklistEvent$}});Ext.define("com.coremedia.cap.workflow.impl.ProcessDefinitionImpl",function(ProcessDefinitionImpl){var CREATE_URI$static="createUri";function ProcessDefinitionImpl$(path,vars){var id=vars["id"];this.super$WZVn(path);var numericId=parseInt(id,10);this.setId("coremedia:///processdefinition/"+numericId)}function isSubprocessOnly(){return this.get("subprocessOnly")}function isEnabled(){return this.get("enabled")}function isDisabled(){return this.get("disabled")}function isLatest(){return this.get("latest")}
function isSuperseded(){return this.get("superseded")}function getStartTaskDefinition(){return this.get("startTaskDefinition")}function getTaskDefinition(name){var taskDefinitionsByName=this.get("taskDefinitionsByName");return taskDefinitionsByName?taskDefinitionsByName[name]||null:undefined}function getTaskDefinitions(){return this.get("taskDefinitions")}function create(callback){var this$=this;if(arguments.length<=0)callback=null;this.load(function(){var rsm=new com.coremedia.ui.data.impl.RemoteServiceMethod(this$.getUriPath()+
"/"+this$.get(CREATE_URI$static),"POST",true);rsm.request({},function(rsmr){var error=rsmr.getError();var process=error?null:AS3.cast(com.coremedia.cap.workflow.Process,com.coremedia.ui.data.impl.RemoteService.resolveResponse(rsmr.response.responseText,""));if(callback)callback(new com.coremedia.cap.workflow.results.impl.ProcessCreateResultImpl(error,rsmr.success,process))})})}return{extend:"com.coremedia.cap.common.impl.CapTypeImpl",mixins:["com.coremedia.cap.workflow.ProcessDefinition"],metadata:{"":["RestResource",
["uriTemplate","workflow/processdefinition/{id:[0-9]+}"]]},constructor:ProcessDefinitionImpl$,super$WZVn:function(){com.coremedia.cap.common.impl.CapTypeImpl.prototype.constructor.apply(this,arguments)},isSubprocessOnly:isSubprocessOnly,isEnabled:isEnabled,isDisabled:isDisabled,isLatest:isLatest,isSuperseded:isSuperseded,getStartTaskDefinition:getStartTaskDefinition,getTaskDefinition:getTaskDefinition,getTaskDefinitions:getTaskDefinitions,create:create,requires:["com.coremedia.cap.common.impl.CapTypeImpl",
"com.coremedia.cap.workflow.Process","com.coremedia.cap.workflow.ProcessDefinition","com.coremedia.ui.data.impl.RemoteService","com.coremedia.ui.data.impl.RemoteServiceMethod"],uses:["com.coremedia.cap.workflow.results.impl.ProcessCreateResultImpl"]}});Ext.define("com.coremedia.cap.workflow.authorization.impl.ProcessRights",function(ProcessRights){function ProcessRights$(uri){this.super$zHAA(uri)}return{extend:"com.coremedia.cap.workflow.authorization.impl.WorkflowObjectRights",metadata:{"":["RestResource",["uriTemplate","workflow/process/{id:[0-9]+}/rights;for\x3duser_{user:[0-9]+}"]]},constructor:ProcessRights$,super$zHAA:function(){com.coremedia.cap.workflow.authorization.impl.WorkflowObjectRights.prototype.constructor.apply(this,arguments)},
requires:["com.coremedia.cap.workflow.authorization.impl.WorkflowObjectRights"]}});Ext.define("com.coremedia.cap.workflow.authorization.impl.Right",function(Right){function Right$(caption){this.caption$Ghk0=caption}function READ$static_(){Right.READ=new Right("READ")}function WRITE$static_(){Right.WRITE=new Right("WRITE")}function SIGNAL$static_(){Right.SIGNAL=new Right("SIGNAL")}function PROCESS_CREATE$static_(){Right.PROCESS_CREATE=new Right("PROCESS_CREATE")}function PROCESS_START$static_(){Right.PROCESS_START=new Right("PROCESS_START")}function PROCESS_SUSPEND$static_(){Right.PROCESS_SUSPEND=
new Right("PROCESS_SUSPEND")}function PROCESS_RESUME$static_(){Right.PROCESS_RESUME=new Right("PROCESS_RESUME")}function PROCESS_ABORT$static_(){Right.PROCESS_ABORT=new Right("PROCESS_ABORT")}function TASK_ACCEPT$static_(){Right.TASK_ACCEPT=new Right("TASK_ACCEPT")}function TASK_CANCEL$static_(){Right.TASK_CANCEL=new Right("TASK_CANCEL")}function TASK_ASSIGN$static_(){Right.TASK_ASSIGN=new Right("TASK_ASSIGN")}function TASK_REJECT$static_(){Right.TASK_REJECT=new Right("TASK_REJECT")}function TASK_DELEGATE$static_(){Right.TASK_DELEGATE=
new Right("TASK_DELEGATE")}function TASK_COMPLETE$static_(){Right.TASK_COMPLETE=new Right("TASK_COMPLETE")}function TASK_SKIP$static_(){Right.TASK_SKIP=new Right("TASK_SKIP")}function TASK_RETRY$static_(){Right.TASK_RETRY=new Right("TASK_RETRY")}function getCaption(){return this.caption$Ghk0}function fromString$static(caption){var result=Right[caption];if(!AS3.is(result,Right))throw new AS3.Error("bad right definition type name: "+caption);return result}return{caption$Ghk0:null,constructor:Right$,
getCaption:getCaption,statics:{READ:undefined,WRITE:undefined,SIGNAL:undefined,PROCESS_CREATE:undefined,PROCESS_START:undefined,PROCESS_SUSPEND:undefined,PROCESS_RESUME:undefined,PROCESS_ABORT:undefined,TASK_ACCEPT:undefined,TASK_CANCEL:undefined,TASK_ASSIGN:undefined,TASK_REJECT:undefined,TASK_DELEGATE:undefined,TASK_COMPLETE:undefined,TASK_SKIP:undefined,TASK_RETRY:undefined,fromString:fromString$static,__initStatics__:function(){READ$static_();WRITE$static_();SIGNAL$static_();PROCESS_CREATE$static_();
PROCESS_START$static_();PROCESS_SUSPEND$static_();PROCESS_RESUME$static_();PROCESS_ABORT$static_();TASK_ACCEPT$static_();TASK_CANCEL$static_();TASK_ASSIGN$static_();TASK_REJECT$static_();TASK_DELEGATE$static_();TASK_COMPLETE$static_();TASK_SKIP$static_();TASK_RETRY$static_()}},requires:["AS3.Error"]}});Ext.define("com.coremedia.cap.workflow.authorization.impl.WorkflowObjectRights",function(WorkflowObjectRights){var ITEMS_PROPERTY_NAME$static="items";var RIGHTS_ARRAY_PROPERTY_NAME$static="rights";function WorkflowObjectRights$(uri){this.super$fNrn(uri)}function processReadResult(newValues){var items=newValues[ITEMS_PROPERTY_NAME$static];var rights=[];for(var i=0;i<items.length;i++)rights.push(com.coremedia.cap.workflow.authorization.impl.Right.fromString(items[i]));newValues[RIGHTS_ARRAY_PROPERTY_NAME$static]=
rights;return com.coremedia.ui.data.impl.RemoteBeanImpl.prototype.processReadResult.call(this,newValues)}function hasRight(right){var rights=this.get(RIGHTS_ARRAY_PROPERTY_NAME$static);if(rights===undefined)return undefined;for(var i=0;i<rights.length;i++)if(rights[i]===right)return true;return false}return{extend:"com.coremedia.ui.data.impl.RemoteBeanImpl",constructor:WorkflowObjectRights$,super$fNrn:function(){com.coremedia.ui.data.impl.RemoteBeanImpl.prototype.constructor.apply(this,arguments)},
processReadResult:processReadResult,hasRight:hasRight,requires:["com.coremedia.ui.data.impl.RemoteBeanImpl"],uses:["com.coremedia.cap.workflow.authorization.impl.Right"]}});Ext.define("com.coremedia.cap.workflow.authorization.impl.TaskRights",function(TaskRights){function TaskRights$(uri){this.super$IV3O(uri)}return{extend:"com.coremedia.cap.workflow.authorization.impl.WorkflowObjectRights",metadata:{"":["RestResource",["uriTemplate","workflow/task/{process:[0-9]+}/{id:[0-9]+}/rights;for\x3duser_{user:[0-9]+}"]]},constructor:TaskRights$,super$IV3O:function(){com.coremedia.cap.workflow.authorization.impl.WorkflowObjectRights.prototype.constructor.apply(this,arguments)},
requires:["com.coremedia.cap.workflow.authorization.impl.WorkflowObjectRights"]}});Ext.define("com.coremedia.cap.workflow.authorization.impl.ProcessDefinitionRights",function(ProcessDefinitionRights){function ProcessDefinitionRights$(uri){this.super$WQNz(uri)}return{extend:"com.coremedia.cap.workflow.authorization.impl.WorkflowObjectRights",metadata:{"":["RestResource",["uriTemplate","workflow/processdefinition/{id:[0-9]+}/rights;for\x3duser_{user:[0-9]+}"]]},constructor:ProcessDefinitionRights$,super$WQNz:function(){com.coremedia.cap.workflow.authorization.impl.WorkflowObjectRights.prototype.constructor.apply(this,
arguments)},requires:["com.coremedia.cap.workflow.authorization.impl.WorkflowObjectRights"]}});Ext.define("com.coremedia.cap.workflow.authorization.impl.AccessControlImpl",function(AccessControlImpl){function mayRead(workflowObject){return this.mayPerform$FRHz(workflowObject,com.coremedia.cap.workflow.authorization.impl.Right.READ)}function mayWrite(workflowObject){return this.mayPerform$FRHz(workflowObject,com.coremedia.cap.workflow.authorization.impl.Right.WRITE)}function mayStart(process){return this.mayPerform$FRHz(process,com.coremedia.cap.workflow.authorization.impl.Right.PROCESS_START)}
function maySuspend(process){return this.mayPerform$FRHz(process,com.coremedia.cap.workflow.authorization.impl.Right.PROCESS_SUSPEND)}function mayResume(process){return this.mayPerform$FRHz(process,com.coremedia.cap.workflow.authorization.impl.Right.PROCESS_RESUME)}function mayAbort(process){return this.mayPerform$FRHz(process,com.coremedia.cap.workflow.authorization.impl.Right.PROCESS_ABORT)}function mayAccept(task){return this.mayPerform$FRHz(task,com.coremedia.cap.workflow.authorization.impl.Right.TASK_ACCEPT)}
function mayCancel(task){return this.mayPerform$FRHz(task,com.coremedia.cap.workflow.authorization.impl.Right.TASK_CANCEL)}function mayAssign(task){return this.mayPerform$FRHz(task,com.coremedia.cap.workflow.authorization.impl.Right.TASK_ASSIGN)}function mayReject(task){return this.mayPerform$FRHz(task,com.coremedia.cap.workflow.authorization.impl.Right.TASK_REJECT)}function mayDelegate(task){return this.mayPerform$FRHz(task,com.coremedia.cap.workflow.authorization.impl.Right.TASK_DELEGATE)}function mayComplete(task){return this.mayPerform$FRHz(task,
com.coremedia.cap.workflow.authorization.impl.Right.TASK_COMPLETE)}function maySkip(task){return this.mayPerform$FRHz(task,com.coremedia.cap.workflow.authorization.impl.Right.TASK_SKIP)}function mayRetry(task){return this.mayPerform$FRHz(task,com.coremedia.cap.workflow.authorization.impl.Right.TASK_RETRY)}function mayCreate(processDefintion){return this.mayPerform$FRHz(processDefintion,com.coremedia.cap.workflow.authorization.impl.Right.PROCESS_CREATE)}function mayPerform(object,right){var rightsBeanId=
com.coremedia.ui.util.UrlUtil.addMatrixParameters(AS3.cast(com.coremedia.ui.data.RemoteBean,object).getUriPath()+"/rights",{"for":com.coremedia.cap.common.SESSION.getUser().getUriPath().replace(/\//g,"_")});var workflowObjectRights=AS3.cast(com.coremedia.cap.workflow.authorization.impl.WorkflowObjectRights,com.coremedia.ui.data.beanFactory.getRemoteBean(rightsBeanId));var hasRight=workflowObjectRights.hasRight(right);if(hasRight===undefined)return undefined;return Boolean(hasRight)}function AccessControlImpl$(){this.super$FRHz()}
return{extend:"Ext.util.Observable",mixins:["com.coremedia.cap.workflow.authorization.AccessControl"],mayRead:mayRead,mayWrite:mayWrite,mayStart:mayStart,maySuspend:maySuspend,mayResume:mayResume,mayAbort:mayAbort,mayAccept:mayAccept,mayCancel:mayCancel,mayAssign:mayAssign,mayReject:mayReject,mayDelegate:mayDelegate,mayComplete:mayComplete,maySkip:maySkip,mayRetry:mayRetry,mayCreate:mayCreate,mayPerform$FRHz:mayPerform,super$FRHz:function(){Ext.util.Observable.prototype.constructor.apply(this,arguments)},
constructor:AccessControlImpl$,requires:["Ext.util.Observable","com.coremedia.cap.common.SESSION","com.coremedia.cap.workflow.authorization.AccessControl","com.coremedia.ui.data.RemoteBean","com.coremedia.ui.data.beanFactory","com.coremedia.ui.util.UrlUtil"],uses:["com.coremedia.cap.workflow.authorization.impl.Right","com.coremedia.cap.workflow.authorization.impl.WorkflowObjectRights"]}});Ext.define("com.coremedia.cap.workflow.results.impl.ProcessCreateResultImpl",function(ProcessCreateResultImpl){function ProcessCreateResultImpl$(error,successful,createdProcess){this.super$JLfF(error,successful);this["createdProcess"]=createdProcess}return{extend:"com.coremedia.cap.common.impl.OperationResultImpl",mixins:["com.coremedia.cap.workflow.results.ProcessCreateResult"],constructor:ProcessCreateResultImpl$,super$JLfF:function(){com.coremedia.cap.common.impl.OperationResultImpl.prototype.constructor.apply(this,
arguments)},requires:["com.coremedia.cap.common.impl.OperationResultImpl","com.coremedia.cap.workflow.results.ProcessCreateResult"]}});Ext.define("com.coremedia.cap.impl.CapImpl",function(CapImpl){function prepare$static(callback){var beanFactoryImpl=com.coremedia.ui.data.impl.BeanFactoryImpl.initBeanFactory();beanFactoryImpl.registerRemoteBeanClasses(com.coremedia.cap.common.impl.CapConnectionImpl,com.coremedia.cap.common.impl.CapLoginServiceImpl,com.coremedia.cap.content.impl.ContentRepositoryImpl,com.coremedia.cap.content.impl.ContentImpl,com.coremedia.cap.content.impl.ContentStructRemoteBeanImpl,com.coremedia.cap.content.impl.VersionStructRemoteBeanImpl,
com.coremedia.cap.content.impl.VersionHistoryImpl,com.coremedia.cap.content.impl.ContentIssuesImpl,com.coremedia.cap.content.impl.VersionImpl,com.coremedia.cap.content.authorization.impl.ContentRights,com.coremedia.cap.content.impl.ContentTypeImpl,com.coremedia.cap.content.search.impl.SearchResultImpl,com.coremedia.cap.content.search.impl.SuggestionResultImpl,com.coremedia.cap.user.impl.UserRepositoryImpl,com.coremedia.cap.user.impl.UserImpl,com.coremedia.cap.user.impl.GroupImpl,com.coremedia.cap.workflow.impl.WorkflowRepositoryImpl,
com.coremedia.cap.workflow.impl.ProcessDefinitionImpl,com.coremedia.cap.workflow.impl.TaskDefinitionImpl,com.coremedia.cap.workflow.impl.ProcessImpl,com.coremedia.cap.workflow.impl.TaskImpl,com.coremedia.cap.workflow.authorization.impl.ProcessDefinitionRights,com.coremedia.cap.workflow.authorization.impl.TaskRights,com.coremedia.cap.workflow.authorization.impl.ProcessRights,com.coremedia.cap.common.infos.impl.CapSystemInfoImpl);com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorUtil.registerResolver();
com.coremedia.cap.workflow.ProcessState.NOT_STARTED;com.coremedia.cap.workflow.TaskState.NOT_STARTED;com.coremedia.cap.workflow.TaskDefinitionType.AUTOMATED;new com.coremedia.ui.data.impl.ProblemDescriptionImpl({});com.coremedia.cap.common.impl.CapConnectionImpl.getInstance().load(function(connection){connection.getLoginService().load(function(){callback(connection)})})}function CapImpl$(){}return{constructor:CapImpl$,statics:{prepare:prepare$static},requires:["com.coremedia.cap.workflow.ProcessState",
"com.coremedia.cap.workflow.TaskDefinitionType","com.coremedia.cap.workflow.TaskState","com.coremedia.ui.data.impl.BeanFactoryImpl","com.coremedia.ui.data.impl.ProblemDescriptionImpl"],uses:["com.coremedia.cap.common.descriptors.impl.CapPropertyDescriptorUtil","com.coremedia.cap.common.impl.CapConnectionImpl","com.coremedia.cap.common.impl.CapLoginServiceImpl","com.coremedia.cap.common.infos.impl.CapSystemInfoImpl","com.coremedia.cap.content.authorization.impl.ContentRights","com.coremedia.cap.content.impl.ContentImpl",
"com.coremedia.cap.content.impl.ContentIssuesImpl","com.coremedia.cap.content.impl.ContentRepositoryImpl","com.coremedia.cap.content.impl.ContentStructRemoteBeanImpl","com.coremedia.cap.content.impl.ContentTypeImpl","com.coremedia.cap.content.impl.VersionHistoryImpl","com.coremedia.cap.content.impl.VersionImpl","com.coremedia.cap.content.impl.VersionStructRemoteBeanImpl","com.coremedia.cap.content.search.impl.SearchResultImpl","com.coremedia.cap.content.search.impl.SuggestionResultImpl","com.coremedia.cap.user.impl.GroupImpl",
"com.coremedia.cap.user.impl.UserImpl","com.coremedia.cap.user.impl.UserRepositoryImpl","com.coremedia.cap.workflow.authorization.impl.ProcessDefinitionRights","com.coremedia.cap.workflow.authorization.impl.ProcessRights","com.coremedia.cap.workflow.authorization.impl.TaskRights","com.coremedia.cap.workflow.impl.ProcessDefinitionImpl","com.coremedia.cap.workflow.impl.ProcessImpl","com.coremedia.cap.workflow.impl.TaskDefinitionImpl","com.coremedia.cap.workflow.impl.TaskImpl","com.coremedia.cap.workflow.impl.WorkflowRepositoryImpl"]}});Ext.define("com.coremedia.cap.user.impl.UserRepositoryImpl",function(UserRepositoryImpl){function UserRepositoryImpl$(path){this.super$f4yI(path);this.groupByNameService$f4yI=new com.coremedia.ui.data.impl.RemoteServiceMethod(path+"/getgroupbyname","GET")}function get$builtInDomainName(){return""}function getMember(uriPath){return AS3.as(com.coremedia.ui.data.beanFactory.getRemoteBean(uriPath),com.coremedia.cap.user.Member)}function getUser(uriPath){return AS3.as(com.coremedia.ui.data.beanFactory.getRemoteBean(uriPath),
com.coremedia.cap.user.User)}function getGroup(uriPath){return AS3.as(com.coremedia.ui.data.beanFactory.getRemoteBean(uriPath),com.coremedia.cap.user.Group)}function getGroupByName(nameAtDomain,callback){this.groupByNameService$f4yI.request({nameAtDomain:nameAtDomain},function(response){callback(AS3.as(response.getResponseJSON(),com.coremedia.cap.user.Group))},function(response){var error=response.getError();if(error.status===404)error.setHandled(true);callback(null)})}return{extend:"com.coremedia.ui.data.impl.RemoteBeanImpl",
mixins:["com.coremedia.cap.user.UserRepository"],metadata:{"":["RestResource",["uriTemplate","user"]]},groupByNameService$f4yI:null,constructor:UserRepositoryImpl$,super$f4yI:function(){com.coremedia.ui.data.impl.RemoteBeanImpl.prototype.constructor.apply(this,arguments)},getMember:getMember,getUser:getUser,getGroup:getGroup,getGroupByName:getGroupByName,__accessors__:{builtInDomainName:{get:get$builtInDomainName}},requires:["com.coremedia.cap.user.Group","com.coremedia.cap.user.Member","com.coremedia.cap.user.User",
"com.coremedia.cap.user.UserRepository","com.coremedia.ui.data.beanFactory","com.coremedia.ui.data.impl.RemoteBeanImpl","com.coremedia.ui.data.impl.RemoteServiceMethod"]}});Ext.define("com.coremedia.cap.user.impl.UserImpl",function(UserImpl){function UserImpl$(path,vars){this.super$mhwe(path,vars)}function isUser(){return true}function getHomeFolder(){return this.get("homeFolder")}function isAdministrative(){return this.get("administrative")}function getWorklistUri(){return this.get("worklistUri")}function loadPreferences(callback){var loadPreferencesMethod=new com.coremedia.ui.data.impl.RemoteServiceMethod(this.getUriPath()+"/preferences","GET");loadPreferencesMethod.request({},
function(response){callback(AS3.as(response.getResponseJSON(),com.coremedia.cap.struct.Struct))},function(response){callback(null,response.getError())})}function changePassword(oldPassword,newPassword,callback){var changePasswordMethod=new com.coremedia.ui.data.impl.RemoteServiceMethod(this.getUriPath()+"/changePassword","POST");changePasswordMethod.request({oldPassword:oldPassword,newPassword:newPassword},function(){callback(null)},function(response){var error=response.getError();callback(error)})}
return{extend:"com.coremedia.cap.user.impl.MemberImpl",mixins:["com.coremedia.cap.user.User"],metadata:{"":["RestResource",["uriTemplate","user/{id:[0-9]+}"]]},constructor:UserImpl$,super$mhwe:function(){com.coremedia.cap.user.impl.MemberImpl.prototype.constructor.apply(this,arguments)},isUser:isUser,getHomeFolder:getHomeFolder,isAdministrative:isAdministrative,getWorklistUri:getWorklistUri,loadPreferences:loadPreferences,changePassword:changePassword,requires:["com.coremedia.cap.struct.Struct","com.coremedia.cap.user.User",
"com.coremedia.cap.user.impl.MemberImpl","com.coremedia.ui.data.impl.RemoteServiceMethod"]}});Ext.define("com.coremedia.cap.user.impl.MemberImpl",function(MemberImpl){var NUMERIC_ID_PROPERTY$static="numericId";function MemberImpl$(path,vars){this.super$fagt(path);this.isMemberOfService$fagt=new com.coremedia.ui.data.impl.RemoteServiceMethod(path+"/ismemberof","GET");var id=vars["id"];this.setImmediateProperty(NUMERIC_ID_PROPERTY$static,AS3.is(id,Number)?id:parseInt(id))}function getRepository(){return com.coremedia.cap.common.SESSION.getConnection().getUserRepository()}function getName(){return this.get("name")}
function getDomain(){return this.get("domain")}function isGroup(){return!this.isUser()}function isUser(){throw new AS3.Error("do not instantiate MemberImpl!");}function isBuiltIn(){return this.get("builtIn")}function isExternal(){return this.get("external")}function isDirectMemberOf(group){var directGroups=this.getDirectGroups();return directGroups&&directGroups.indexOf(group)!==-1}function isMemberOf(group,callback){if(arguments.length<=1)callback=null;if(arguments.length==2)this.isMemberOfService$fagt.request({group:group},
function(response){var result=response.getResponseJSON();callback(result)},function(response){callback(false)});else{var groups=this.getGroups();return groups&&groups.indexOf(group)!==-1}}function getDirectGroups(){return this.get("directGroups")}function getGroups(){var groupsToExpand=this.getDirectGroups();if(!groupsToExpand)return undefined;var allKnown=true;var groups=[];while(groupsToExpand.length){var groupsToExpandNext=[];for(var $2=0;$2<groupsToExpand.length;++$2){var group=groupsToExpand[$2];
groups.push(group);var directGroups=group.getDirectGroups();if(directGroups===undefined)allKnown=undefined;else for(var $1=0;$1<directGroups.length;++$1){var directGroup=directGroups[$1];if(groups.indexOf(directGroup)===-1)groupsToExpandNext.push(directGroup)}}groupsToExpand=groupsToExpandNext}return allKnown&&groups}return{extend:"com.coremedia.ui.data.impl.RemoteBeanImpl",mixins:["com.coremedia.cap.user.Member"],isMemberOfService$fagt:null,constructor:MemberImpl$,super$fagt:function(){com.coremedia.ui.data.impl.RemoteBeanImpl.prototype.constructor.apply(this,
arguments)},getRepository:getRepository,getName:getName,getDomain:getDomain,isGroup:isGroup,isUser:isUser,isBuiltIn:isBuiltIn,isExternal:isExternal,isDirectMemberOf:isDirectMemberOf,isMemberOf:isMemberOf,getDirectGroups:getDirectGroups,getGroups:getGroups,requires:["AS3.Error","com.coremedia.cap.common.SESSION","com.coremedia.cap.user.Member","com.coremedia.ui.data.impl.RemoteBeanImpl","com.coremedia.ui.data.impl.RemoteServiceMethod"]}});Ext.define("com.coremedia.cap.user.impl.GroupImpl",function(GroupImpl){function GroupImpl$(path,vars){this.super$9zx2(path,vars)}function isUser(){return false}function loadDirectMembers(success,failure){if(arguments.length<=1)failure=null;success=success||Ext.emptyFn;failure=failure||Ext.emptyFn;var rsm=new com.coremedia.ui.data.impl.RemoteServiceMethod(this.getUriPath()+"/directMembers","GET",true);rsm.request(null,function(response){var directMembers=response.getResponseJSON()["items"];success(directMembers,
null)},function(response){failure(null,response.getError())})}return{extend:"com.coremedia.cap.user.impl.MemberImpl",mixins:["com.coremedia.cap.user.Group"],metadata:{"":["RestResource",["uriTemplate","group/{id:[0-9]+}"]]},constructor:GroupImpl$,super$9zx2:function(){com.coremedia.cap.user.impl.MemberImpl.prototype.constructor.apply(this,arguments)},isUser:isUser,loadDirectMembers:loadDirectMembers,requires:["Ext","com.coremedia.cap.user.Group","com.coremedia.cap.user.impl.MemberImpl","com.coremedia.ui.data.impl.RemoteServiceMethod"]}});
//# sourceMappingURL=com.coremedia.ui.sdk__cap-rest-client-impl.js.map
