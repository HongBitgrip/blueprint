Ext.define("com.coremedia.blueprint.base.queryeditor.components.QueryConditionsForm",function(QueryConditionsForm){function QueryConditionsForm$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.base.queryeditor.components.QueryConditionsFormBase,{});var defaults_$1=AS3.cast(QueryConditionsForm,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var container_29_5_$1=AS3.cast(Ext.container.Container,{});container_29_5_$1.itemId="prefix";var displayField_31_9_$1=
AS3.cast(Ext.form.field.Display,{});AS3.setBindable(displayField_31_9_$1,"value",this.resourceManager.getString("com.coremedia.blueprint.base.queryeditor.QueryEditor","DCQE_condition_target_title"));displayField_31_9_$1.flex=1;var button_34_9_$1=AS3.cast(Ext.button.Button,{});button_34_9_$1.itemId="deleteAll";AS3.setBindable(button_34_9_$1,"handler",AS3.bind(this,"removeAllAppliedConditions"));button_34_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE.getSkin());AS3.setBindable(button_34_9_$1,
"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.base.queryeditor.QueryEditor","DCQE_label_delete_all_conditions")));var editor_BindDisablePlugin_39_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin,{});editor_BindDisablePlugin_39_13_$1.bindTo=AS3.getBindable(config,"bindTo","DUMMY");AS3.setBindable(editor_BindDisablePlugin_39_13_$1,"forceReadOnlyValueExpression",this.getDeleteAllConditionDisabledExpression());button_34_9_$1.plugins=
[editor_BindDisablePlugin_39_13_$1];button_34_9_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;container_29_5_$1.items=[displayField_31_9_$1,button_34_9_$1];var layout_HBox_45_9_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_45_9_$1,"align","stretch");AS3.setBindable(container_29_5_$1,"layout",layout_HBox_45_9_$1);var container_49_5_$1=AS3.cast(Ext.container.Container,{});container_49_5_$1.itemId="appliedConditions";var layout_VBox_51_9_$1=AS3.cast(Ext.layout.container.VBox,
{});AS3.setBindable(layout_VBox_51_9_$1,"align","stretch");AS3.setBindable(container_49_5_$1,"layout",layout_VBox_51_9_$1);var ui_VerticalSpacingPlugin_54_9_$1=AS3.cast(com.coremedia.ui.plugins.VerticalSpacingPlugin,{});AS3.setBindable(ui_VerticalSpacingPlugin_54_9_$1,"modifier",com.coremedia.ui.bem.SpacingBEMEntities.VERTICAL_SPACING_MODIFIER_200);container_49_5_$1.plugins=[ui_VerticalSpacingPlugin_54_9_$1];var fieldContainer_58_5_$1=AS3.cast(Ext.form.FieldContainer,{});fieldContainer_58_5_$1.labelSeparator=
":";fieldContainer_58_5_$1.labelAlign="top";AS3.setBindable(fieldContainer_58_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.base.queryeditor.QueryEditor","DCQE_text_add_condition")));fieldContainer_58_5_$1.itemId="conditionActionsField";var ui_LocalComboBox_63_9_$1=AS3.cast(com.coremedia.ui.components.LocalComboBox,{});ui_LocalComboBox_63_9_$1.allowBlank=true;ui_LocalComboBox_63_9_$1.itemId="conditionsCombo";AS3.setBindable(ui_LocalComboBox_63_9_$1,
"encodeItems",true);AS3.setBindable(ui_LocalComboBox_63_9_$1,"store",[]);AS3.setBindable(ui_LocalComboBox_63_9_$1,"minWidth",150);AS3.setBindable(ui_LocalComboBox_63_9_$1,"listeners",{"select":AS3.bind(this,"onConditionSelect")});AS3.setBindable(ui_LocalComboBox_63_9_$1,"emptyText",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.base.queryeditor.QueryEditor","DCQE_option_default")));var editor_BindDisablePlugin_71_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin,
{});editor_BindDisablePlugin_71_13_$1.bindTo=AS3.getBindable(config,"bindTo","DUMMY");AS3.setBindable(editor_BindDisablePlugin_71_13_$1,"forceReadOnlyValueExpression",this.getAddConditionDisabledExpression());ui_LocalComboBox_63_9_$1.plugins=[editor_BindDisablePlugin_71_13_$1];ui_LocalComboBox_63_9_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var container_75_9_$1=AS3.cast(Ext.container.Container,{});container_75_9_$1.flex=1;var button_76_9_$1=AS3.cast(Ext.button.Button,{});button_76_9_$1.itemId=
"conditionHelp";button_76_9_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.ButtonSkin.SIMPLE.getSkin());AS3.setBindable(button_76_9_$1,"iconCls",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.icons.CoreIcons","help")));AS3.setBindable(button_76_9_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.base.queryeditor.QueryEditor","DCQE_label_show_help")));var editor_OpenReferenceWindowAction_81_13_$1=AS3.cast(com.coremedia.cms.editor.sdk.actions.OpenReferenceWindowAction,
{});var ui_HelperWindow_83_17_$1=AS3.cast(com.coremedia.ui.components.HelperWindow,{});AS3.setBindable(ui_HelperWindow_83_17_$1,"title",this.resourceManager.getString("com.coremedia.blueprint.base.queryeditor.QueryEditor","DCQE_help_title"));AS3.setBindable(ui_HelperWindow_83_17_$1,"helpTextUrl",net.jangaroo.ext.Exml.asString(Ext.manifest.globalResources[this.resourceManager.getString("com.coremedia.blueprint.base.queryeditor.QueryEditorSettings","query_editor_window_html_content_key")]));AS3.setBindable(editor_OpenReferenceWindowAction_81_13_$1,
"dialog",ui_HelperWindow_83_17_$1);button_76_9_$1.baseAction=new com.coremedia.cms.editor.sdk.actions.OpenReferenceWindowAction(editor_OpenReferenceWindowAction_81_13_$1);fieldContainer_58_5_$1.items=[ui_LocalComboBox_63_9_$1,container_75_9_$1,button_76_9_$1];var layout_HBox_92_9_$1=AS3.cast(Ext.layout.container.HBox,{});AS3.setBindable(layout_HBox_92_9_$1,"align","stretch");AS3.setBindable(fieldContainer_58_5_$1,"layout",layout_HBox_92_9_$1);config_$1.items=[container_29_5_$1,container_49_5_$1,fieldContainer_58_5_$1];
net.jangaroo.ext.Exml.apply(config_$1,config);this.super$CYTH(config_$1)}return{extend:"com.coremedia.blueprint.base.queryeditor.components.QueryConditionsFormBase",alias:"widget.com.coremedia.blueprint.base.queryeditor.config.queryConditionsForm",constructor:QueryConditionsForm$,super$CYTH:function(){com.coremedia.blueprint.base.queryeditor.components.QueryConditionsFormBase.prototype.constructor.apply(this,arguments)},requires:["Ext","Ext.button.Button","Ext.container.Container","Ext.form.FieldContainer",
"Ext.form.field.Display","Ext.layout.container.HBox","Ext.layout.container.VBox","com.coremedia.blueprint.base.queryeditor.QueryEditorSettings_properties","com.coremedia.blueprint.base.queryeditor.QueryEditor_properties","com.coremedia.blueprint.base.queryeditor.components.QueryConditionsFormBase","com.coremedia.cms.editor.sdk.actions.OpenReferenceWindowAction","com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin","com.coremedia.icons.CoreIcons_properties","com.coremedia.ui.bem.SpacingBEMEntities",
"com.coremedia.ui.components.HelperWindow","com.coremedia.ui.components.LocalComboBox","com.coremedia.ui.plugins.VerticalSpacingPlugin","com.coremedia.ui.skins.ButtonSkin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.blueprint.base.queryeditor.components.ContentQueryForm",function(ContentQueryForm){function ContentQueryForm$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.base.queryeditor.components.ContentQueryFormBase,{});var defaults_$1=AS3.cast(ContentQueryForm,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var editor_PropertyFieldPlugin_40_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin,{});AS3.setBindable(editor_PropertyFieldPlugin_40_5_$1,
"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"queryPropertyName")));config_$1.plugins=[editor_PropertyFieldPlugin_40_5_$1];config_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var local_DocumentTypesForm_44_5_$1=AS3.cast(com.coremedia.blueprint.base.queryeditor.components.DocumentTypesForm,{});local_DocumentTypesForm_44_5_$1.itemId="documenttypesForm";AS3.setBindable(local_DocumentTypesForm_44_5_$1,"title",this.resourceManager.getString("com.coremedia.blueprint.base.queryeditor.QueryEditor",
"DCQE_label_selection_of_document_types"));AS3.setBindable(local_DocumentTypesForm_44_5_$1,"bindTo",AS3.getBindable(config,"bindTo"));AS3.setBindable(local_DocumentTypesForm_44_5_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));AS3.setBindable(local_DocumentTypesForm_44_5_$1,"documentTypes",com.coremedia.blueprint.base.queryeditor.components.ContentQueryFormBase.getAllDocumentTypes(AS3.getBindable(config,"conditions")));AS3.setBindable(local_DocumentTypesForm_44_5_$1,
"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"documentTypesPropertyName")));AS3.setBindable(local_DocumentTypesForm_44_5_$1,"documentTypesFilterHeight",AS3.getBindable(config,"documentTypesFilterHeight"));var local_QueryConditionsForm_53_5_$1=AS3.cast(com.coremedia.blueprint.base.queryeditor.components.QueryConditionsForm,{});local_QueryConditionsForm_53_5_$1.itemId="queryForm";AS3.setBindable(local_QueryConditionsForm_53_5_$1,"title",this.resourceManager.getString("com.coremedia.blueprint.base.queryeditor.QueryEditor",
"DCQE_label_query_title"));AS3.setBindable(local_QueryConditionsForm_53_5_$1,"bindTo",AS3.getBindable(config,"bindTo"));local_QueryConditionsForm_53_5_$1.conditions=AS3.getBindable(config,"conditions");AS3.setBindable(local_QueryConditionsForm_53_5_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));var local_SortingForm_59_5_$1=AS3.cast(com.coremedia.blueprint.base.queryeditor.components.SortingForm,{});local_SortingForm_59_5_$1.itemId="sortingForm";AS3.setBindable(local_SortingForm_59_5_$1,
"title",this.resourceManager.getString("com.coremedia.blueprint.base.queryeditor.QueryEditor","DCQE_label_sorting_search_query"));AS3.setBindable(local_SortingForm_59_5_$1,"bindTo",AS3.getBindable(config,"bindTo"));AS3.setBindable(local_SortingForm_59_5_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression"));AS3.setBindable(local_SortingForm_59_5_$1,"queryVE",this.getQuery(config));AS3.setBindable(local_SortingForm_59_5_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,
"sortingPropertyName")));config_$1.items=[local_DocumentTypesForm_44_5_$1,local_QueryConditionsForm_53_5_$1,local_SortingForm_59_5_$1];var layout_Anchor_67_5_$1=AS3.cast(Ext.layout.container.Anchor,{});layout_Anchor_67_5_$1.anchor="100%";AS3.setBindable(config_$1,"layout",layout_Anchor_67_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$SI_6(config_$1)}return{extend:"com.coremedia.blueprint.base.queryeditor.components.ContentQueryFormBase",alias:"widget.com.coremedia.blueprint.base.queryeditor.config.contentQueryDocumentForm",
constructor:ContentQueryForm$,super$SI_6:function(){com.coremedia.blueprint.base.queryeditor.components.ContentQueryFormBase.prototype.constructor.apply(this,arguments)},config:{documentTypesFilterHeight:NaN,queryPropertyName:null,documentTypesPropertyName:null,sortingPropertyName:null,conditions:null},requires:["Ext.layout.container.Anchor","com.coremedia.blueprint.base.queryeditor.QueryEditor_properties","com.coremedia.blueprint.base.queryeditor.components.ContentQueryFormBase","com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin",
"net.jangaroo.ext.Exml"],uses:["com.coremedia.blueprint.base.queryeditor.components.DocumentTypesForm","com.coremedia.blueprint.base.queryeditor.components.QueryConditionsForm","com.coremedia.blueprint.base.queryeditor.components.SortingForm"]}});Ext.define("com.coremedia.blueprint.base.queryeditor.components.Limit",function(Limit){function Limit$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(Ext.container.Container,{});var defaults_$1=AS3.cast(Limit,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var label_40_5_$1=AS3.cast(Ext.form.Label,{});AS3.setBindable(label_40_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.base.queryeditor.QueryEditor","DCQE_text_how_many")));
var ui_StatefulNumberField_41_5_$1=AS3.cast(com.coremedia.ui.components.StatefulNumberField,{});ui_StatefulNumberField_41_5_$1.name=net.jangaroo.ext.Exml.asString("properties."+AS3.getBindable(config,"queryPropertyName")+"."+AS3.getBindable(config,"propertyName"));ui_StatefulNumberField_41_5_$1.itemId="limitNumberField";AS3.setBindable(ui_StatefulNumberField_41_5_$1,"minWidth",200);AS3.setBindable(ui_StatefulNumberField_41_5_$1,"maxWidth",200);ui_StatefulNumberField_41_5_$1.allowDecimals=false;AS3.setBindable(ui_StatefulNumberField_41_5_$1,
"spinUpEnabled",true);AS3.setBindable(ui_StatefulNumberField_41_5_$1,"spinDownEnabled",true);ui_StatefulNumberField_41_5_$1.hideLabel=true;AS3.setBindable(ui_StatefulNumberField_41_5_$1,"minValue",parseInt(this.resourceManager.getString("com.coremedia.blueprint.base.queryeditor.QueryEditor","DCQE_limit_min_value")));var editor_SetPropertyEmptyTextPlugin_51_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyEmptyTextPlugin,{});editor_SetPropertyEmptyTextPlugin_51_9_$1.bindTo=
AS3.getBindable(config,"bindTo");AS3.setBindable(editor_SetPropertyEmptyTextPlugin_51_9_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"queryPropertyName")+"."+AS3.getBindable(config,"propertyName")));var editor_BindReadOnlyPlugin_53_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPlugin,{});editor_BindReadOnlyPlugin_53_9_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(editor_BindReadOnlyPlugin_53_9_$1,"forceReadOnlyValueExpression",
AS3.getBindable(config,"forceReadOnlyValueExpression"));var editor_PropertyFieldPlugin_55_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin,{});AS3.setBindable(editor_PropertyFieldPlugin_55_9_$1,"propertyName",net.jangaroo.ext.Exml.asString(AS3.getBindable(config,"queryPropertyName")+"."+AS3.getBindable(config,"propertyName")));var ui_BindPropertyPlugin_56_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_56_9_$1.ifUndefined="";ui_BindPropertyPlugin_56_9_$1.bindTo=
AS3.getBindable(config,"bindTo").extendBy("properties",AS3.getBindable(config,"queryPropertyName")+"."+AS3.getBindable(config,"propertyName"));ui_BindPropertyPlugin_56_9_$1.reverseTransformer=function(value){return value||value===0?value:null};ui_BindPropertyPlugin_56_9_$1.bidirectional=true;var ui_BindPropertyPlugin_60_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_60_9_$1.ifUndefined="";ui_BindPropertyPlugin_60_9_$1.componentEvent="spin";ui_BindPropertyPlugin_60_9_$1.bindTo=
AS3.getBindable(config,"bindTo").extendBy("properties",AS3.getBindable(config,"queryPropertyName")+"."+AS3.getBindable(config,"propertyName"));ui_BindPropertyPlugin_60_9_$1.reverseTransformer=function(value){return value||value===0?value:null};ui_BindPropertyPlugin_60_9_$1.bidirectional=true;var ui_BlockEnterPlugin_65_9_$1=AS3.cast(com.coremedia.ui.plugins.BlockEnterPlugin,{});ui_StatefulNumberField_41_5_$1.plugins=[editor_SetPropertyEmptyTextPlugin_51_9_$1,editor_BindReadOnlyPlugin_53_9_$1,editor_PropertyFieldPlugin_55_9_$1,
ui_BindPropertyPlugin_56_9_$1,ui_BindPropertyPlugin_60_9_$1,ui_BlockEnterPlugin_65_9_$1];ui_StatefulNumberField_41_5_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;config_$1.items=[label_40_5_$1,ui_StatefulNumberField_41_5_$1];var layout_VBox_70_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(config_$1,"layout",layout_VBox_70_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$Uwj8(config_$1)}return{extend:"Ext.container.Container",alias:"widget.com.coremedia.blueprint.base.queryeditor.config.limit",
constructor:Limit$,super$Uwj8:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},config:{bindTo:null,forceReadOnlyValueExpression:null,queryPropertyName:null,propertyName:null},requires:["Ext.container.Container","Ext.form.Label","Ext.layout.container.VBox","com.coremedia.blueprint.base.queryeditor.QueryEditor_properties","com.coremedia.cms.editor.sdk.premular.PropertyFieldPlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.BindReadOnlyPlugin","com.coremedia.cms.editor.sdk.premular.fields.plugins.SetPropertyEmptyTextPlugin",
"com.coremedia.ui.components.StatefulNumberField","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.plugins.BlockEnterPlugin","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.blueprint.base.queryeditor.components.ContentQueryFormBase",function(ContentQueryFormBase){var LOCAL_SETTINGS$static="localSettings";function MODEL_PROPERTIES$static_(){ContentQueryFormBase.MODEL_PROPERTIES={APPLICABLE_CONDITIONS:"applicableConditions",APPLIED_CONDITIONS:"appliedConditions"}}function ContentQueryFormBase$(config){if(arguments.length<=0)config=null;this.super$mNTt(AS3.cast(com.coremedia.blueprint.base.queryeditor.components.ContentQueryForm,config));this.conditions$mNTt=
AS3.getBindable(config,"conditions");this.conditionsPerDocumentType$mNTt=getConditionsPerDocumentType$static(this.conditions$mNTt);AS3.getBindable(this,"bindTo").addChangeListener(AS3.bind(this,"maybeAddFilterQueryStruct$mNTt"));this.maybeAddFilterQueryStruct$mNTt();this.queryPropertyName$mNTt=AS3.getBindable(config,"queryPropertyName");this.documentTypesPropertyName$mNTt=AS3.getBindable(config,"documentTypesPropertyName")}function maybeAddFilterQueryStruct(){var c=AS3.getBindable(this,"bindTo").getValue();
c.load(function(cLoaded){var localSettingsBean=AS3.as(cLoaded.getProperties().get(LOCAL_SETTINGS$static),com.coremedia.cap.common.impl.StructRemoteBeanImpl);if(localSettingsBean)localSettingsBean.load(function(localSettings){localSettingsBean.getType().addStructProperty(ContentQueryFormBase.FQ_STRUCT_NAME)})})}function getCommonModel(){if(!this.commonModel$mNTt)this.commonModel$mNTt=com.coremedia.ui.data.beanFactory.createLocalBean(initCommonModelTemplate$static());return this.commonModel$mNTt}function getConditionTitle$static(key){return mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.queryeditor.QueryEditor",
"DCQE_label_condition_"+key.replace(".","_"))||key}function updateApplicableConditions(selectedDocumentTypes){var key=ContentQueryFormBase.MODEL_PROPERTIES.APPLICABLE_CONDITIONS;var applicableConditions=this.calculateApplicableConditions$mNTt(selectedDocumentTypes);this.getCommonModel().set(key,applicableConditions)}function getConditionEditorConfigByXtype(xtype){var conditionEditorConfig;for(var i=0;i<this.conditions$mNTt.length;i++){conditionEditorConfig=this.conditions$mNTt[i];if(conditionEditorConfig.xtype==
xtype)return conditionEditorConfig}return null}function getConditionEditorConfigs(){return this.conditions$mNTt}function getQuery(config){if(arguments.length<=0)config=null;var bve=config?AS3.getBindable(config,"bindTo"):AS3.getBindable(this,"bindTo");var qpn=config?AS3.getBindable(config,"queryPropertyName"):this.queryPropertyName$mNTt;return bve.extendBy("properties",qpn)}function getFilterQuery(config){if(arguments.length<=0)config=null;return this.getQuery(config).extendBy(ContentQueryFormBase.FQ_STRUCT_NAME)}
function getFilterQuerySubProperty(subpropertyName,config){if(arguments.length<=1)config=null;return this.getFilterQuery(config).extendBy(subpropertyName)}function getDocumentTypesRemote(config){if(arguments.length<=0)config=null;return this.getFilterQuerySubProperty(this.documentTypesPropertyName$mNTt,config)}function getAllDocumentTypes$static(conditions){var allDocumentTypes=[];var condition;var documentType;for(var i=0;i<conditions.length;i++){condition=conditions[i];for(var j=0;j<condition.documentTypes.length;j++){documentType=
condition.documentTypes[j];if(allDocumentTypes.indexOf(documentType)==-1)allDocumentTypes.push(documentType)}}return allDocumentTypes}function calculateApplicableConditions(selectedDocumentTypes){var conditionsUnion=[];for(var i=0;i<selectedDocumentTypes.length;i++){var selectedType=selectedDocumentTypes[i];var conditionsForType=this.conditionsPerDocumentType$mNTt[selectedType];for(var j=0;j<conditionsForType.length;j++){var condition=conditionsForType[j];if(conditionsUnion.indexOf(condition)===-1)conditionsUnion.push(condition)}}var conditionsIntersection=
conditionsUnion.slice(0);for(var k=0;k<conditionsUnion.length;k++){condition=conditionsUnion[k];for(var l=0;l<selectedDocumentTypes.length;l++){var selection=selectedDocumentTypes[l];conditionsForType=this.conditionsPerDocumentType$mNTt[selection];if(conditionsForType.indexOf(condition)===-1&&conditionsIntersection.indexOf(condition)!==-1)conditionsIntersection.splice(conditionsIntersection.indexOf(condition),1)}}return conditionsIntersection}function onDestroy(){AS3.getBindable(this,"bindTo").removeChangeListener(AS3.bind(this,
"maybeAddFilterQueryStruct$mNTt"));Ext.container.Container.prototype.onDestroy.call(this)}function getConditionsPerDocumentType$static(conditions){var condPDT={};var condition;var conditionDocumentTypes;var documentType;for(var i=0;i<conditions.length;i++){condition=conditions[i];conditionDocumentTypes=condition.documentTypes;for(var j=0;j<conditionDocumentTypes.length;j++){documentType=conditionDocumentTypes[j];if(!condPDT[documentType])condPDT[documentType]=[];if(condPDT[documentType].indexOf(condition)==
-1)condPDT[documentType].push(condition)}}return condPDT}function initCommonModelTemplate$static(){var props={};props[ContentQueryFormBase.MODEL_PROPERTIES.APPLIED_CONDITIONS]=[];props[ContentQueryFormBase.MODEL_PROPERTIES.DOC_TYPES_EXPERT_EXPRESSION]="";props[ContentQueryFormBase.MODEL_PROPERTIES.SORTING_EXPERT_EXPRESSION]="";return props}return{extend:"Ext.container.Container",commonModel$mNTt:null,conditions$mNTt:null,conditionsPerDocumentType$mNTt:null,queryPropertyName$mNTt:null,documentTypesPropertyName$mNTt:null,
constructor:ContentQueryFormBase$,super$mNTt:function(){Ext.container.Container.prototype.constructor.apply(this,arguments)},maybeAddFilterQueryStruct$mNTt:maybeAddFilterQueryStruct,getCommonModel:getCommonModel,updateApplicableConditions:updateApplicableConditions,getConditionEditorConfigByXtype:getConditionEditorConfigByXtype,getConditionEditorConfigs:getConditionEditorConfigs,getQuery:getQuery,getFilterQuery:getFilterQuery,getFilterQuerySubProperty:getFilterQuerySubProperty,getDocumentTypesRemote:getDocumentTypesRemote,
calculateApplicableConditions$mNTt:calculateApplicableConditions,onDestroy:onDestroy,config:{bindTo:null,forceReadOnlyValueExpression:null},statics:{FQ_STRUCT_NAME:"fq",MODEL_PROPERTIES:undefined,getConditionTitle:getConditionTitle$static,getAllDocumentTypes:getAllDocumentTypes$static,__initStatics__:function(){MODEL_PROPERTIES$static_()}},requires:["Ext.container.Container","com.coremedia.blueprint.base.queryeditor.QueryEditor_properties","com.coremedia.cap.common.impl.StructRemoteBeanImpl","com.coremedia.ui.data.beanFactory",
"mx.resources.ResourceManager"],uses:["com.coremedia.blueprint.base.queryeditor.components.ContentQueryForm"]}});Ext.define("com.coremedia.blueprint.base.queryeditor.components.SortingFormBase",function(SortingFormBase){function SortingFormBase$(config){if(arguments.length<=0)config=null;this.super$AOwc(config);this.queryValueExpression$AOwc=AS3.getBindable(config,"queryVE");this.propertyName$AOwc=AS3.getBindable(config,"propertyName");this.sortingValueExpression$AOwc=this.queryValueExpression$AOwc.extendBy(this.propertyName$AOwc);this.readOnlyValueExpression$AOwc=com.coremedia.cms.editor.sdk.util.PropertyEditorUtil.createReadOnlyValueExpression(AS3.getBindable(config,
"bindTo","DUMMY"),AS3.getBindable(config,"forceReadOnlyValueExpression","DUMMY"))}function afterRender(){com.coremedia.cms.editor.sdk.premular.PropertyFieldGroup.prototype.afterRender.call(this);if(this.itemsAreLazy())this.on(com.coremedia.ui.mixins.LazyItemsContainerMixin.LAZY_ITEMS_ADDED_EVENT,AS3.bind(this,"doInit"));else this.doInit()}function doInit(){this.listenToModelChanges$AOwc()}function listenToModelChanges(){var appliedConditionsKey=com.coremedia.blueprint.base.queryeditor.components.ContentQueryFormBase.MODEL_PROPERTIES.APPLIED_CONDITIONS;
this.getLocalModel().addPropertyChangeListener(this.SELECTED_FIELD,AS3.bind(this,"onSelectedFieldChange$AOwc"));this.getLocalModel().addPropertyChangeListener(this.SELECTED_DIRECTION,AS3.bind(this,"onSelectedDirectionChange$AOwc"));this.sortingValueExpression$AOwc.addChangeListener(AS3.bind(this,"updateLocalModel$AOwc"));this.updateLocalModel$AOwc(this.sortingValueExpression$AOwc);this.getCommonModel$AOwc().addPropertyChangeListener(appliedConditionsKey,AS3.bind(this,"onAppliedChange$AOwc"));this.updateFields$AOwc();
this.readOnlyValueExpression$AOwc.addChangeListener(AS3.bind(this,"enableOrDisable$AOwc"))}function enableOrDisable(valueExpression){var isCheckedOutByOther=valueExpression.getValue();if(isCheckedOutByOther){this.getFieldsComboBox$AOwc().disable();this.getDirectionComboBox$AOwc().disable()}}function onAppliedChange(){this.updateFields$AOwc()}function onSelectedFieldChange(){this.updateDirections$AOwc();var direction=this.getLocalModel().get(this.SELECTED_DIRECTION);if(!direction){direction=this.sortingValueExpression$AOwc.getValue();
if(direction&&direction.indexOf(" ")!==-1)direction=direction.split(" ")[1];else direction=this.resourceManager.getString("com.coremedia.blueprint.base.queryeditor.QueryEditorSettings","sort_direction_asc")}this.updateRemoteBeanAndSerializedExpression$AOwc(direction)}function onSelectedDirectionChange(e){this.updateRemoteBeanAndSerializedExpression$AOwc(e.newValue)}function updateFields(){if(this.readOnlyValueExpression$AOwc.getValue()){this.getFieldsComboBox$AOwc().disable();this.getDirectionComboBox$AOwc().disable()}if(!this.readOnlyValueExpression$AOwc.getValue()){this.getFieldsComboBox$AOwc().enable();
this.getDirectionComboBox$AOwc().enable()}}function updateDirections(){var directions=[];directions.push(com.coremedia.ui.data.beanFactory.createLocalBean({"name":"asc"}));directions.push(com.coremedia.ui.data.beanFactory.createLocalBean({"name":"desc"}));if(this.readOnlyValueExpression$AOwc.getValue()){this.getDirectionComboBox$AOwc().disable();this.getFieldsComboBox$AOwc().disable()}this.getLocalModel().set(this.DIRECTIONS,directions);if(!this.readOnlyValueExpression$AOwc.getValue()){this.getDirectionComboBox$AOwc().enable();
this.getFieldsComboBox$AOwc().enable()}}function updateRemoteBeanAndSerializedExpression(direction){var this$=this;var field=this.getLocalModel().get(this.SELECTED_FIELD);var oldSerializedValue=this.sortingValueExpression$AOwc.getValue();var newSerializedValue=serialize$static(field,direction);if(oldSerializedValue!=newSerializedValue)if(newSerializedValue)this.sortingValueExpression$AOwc.setValue(newSerializedValue);else if(!field&&!direction)this.queryValueExpression$AOwc.loadValue(function(fq){fq.getType().removeProperty(this$.propertyName$AOwc)})}
function updateLocalModel(source){var value=source.getValue();var fieldAndDirection;var oldSerializedValue=serialize$static(this.getLocalModel().get(this.SELECTED_FIELD),this.getLocalModel().get(this.SELECTED_DIRECTION));if(value&&oldSerializedValue!=value){fieldAndDirection=deserialize$static(value);this.getLocalModel().set(this.SELECTED_FIELD,fieldAndDirection.field);this.getLocalModel().set(this.SELECTED_DIRECTION,fieldAndDirection.direction)}if(!value){this.getLocalModel().removePropertyChangeListener(this.SELECTED_FIELD,
AS3.bind(this,"onSelectedFieldChange$AOwc"));this.getLocalModel().removePropertyChangeListener(this.SELECTED_DIRECTION,AS3.bind(this,"onSelectedDirectionChange$AOwc"));this.getLocalModel().set(this.SELECTED_DIRECTION,null);this.getLocalModel().set(this.SELECTED_FIELD,null);this.getLocalModel().set(this.DIRECTIONS,[]);this.getLocalModel().addPropertyChangeListener(this.SELECTED_FIELD,AS3.bind(this,"onSelectedFieldChange$AOwc"));this.getLocalModel().addPropertyChangeListener(this.SELECTED_DIRECTION,
AS3.bind(this,"onSelectedDirectionChange$AOwc"));this.getFieldsComboBox$AOwc().setValue(null);this.getDirectionComboBox$AOwc().setValue(null)}}function serialize$static(field,direction){var sortingExpression=undefined;if(field&&direction)sortingExpression=field+" "+direction;return sortingExpression}function deserialize$static(value){var split;if(value)split=value.split(" ");else split=[];if(split.length>1)return{field:split[0],direction:split[1]};else return{field:undefined,direction:undefined}}
function getFieldText$static(field){return mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.queryeditor.QueryEditorSettings","sort_direction_"+field)||field}function getDirectionText$static(direction){return mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.queryeditor.QueryEditorSettings","sort_direction_"+direction)||direction}function createProperties(){var props={};props[this.FIELDS]=[];props[this.SELECTED_FIELD]="";props[this.DIRECTIONS]=
[];props[this.SELECTED_DIRECTION]="";var sortingColumns=this.resourceManager.getString("com.coremedia.blueprint.base.queryeditor.QueryEditorSettings","sort_directions");var columnNames=sortingColumns.split(",");for(var i=0;i<columnNames.length;i++){var colName=columnNames[i];var locName=this.resourceManager.getString("com.coremedia.blueprint.base.queryeditor.QueryEditorSettings","sort_direction_"+colName);props[this.FIELDS].push({name:colName,localizedName:locName})}return props}function getLocalModel(){if(!this.localModel$AOwc)this.localModel$AOwc=
com.coremedia.ui.data.beanFactory.createLocalBean(this.createProperties$AOwc());return this.localModel$AOwc}function getFieldsComboBox(){if(!this.fieldsComboBox$AOwc)this.fieldsComboBox$AOwc=AS3.cast(Ext.form.field.ComboBox,this.queryById("sortingFields"));return this.fieldsComboBox$AOwc}function getDirectionComboBox(){if(!this.directionComboBox$AOwc)this.directionComboBox$AOwc=AS3.cast(Ext.form.field.ComboBox,this.queryById("sortingDirections"));return this.directionComboBox$AOwc}function getContentQueryEditor(){if(!this.dcqe$AOwc)this.dcqe$AOwc=
AS3.as(this.findParentByType(com.coremedia.blueprint.base.queryeditor.components.ContentQueryForm),com.coremedia.blueprint.base.queryeditor.components.ContentQueryForm);return this.dcqe$AOwc}function getCommonModel(){if(!this.commonModel$AOwc)this.commonModel$AOwc=this.getContentQueryEditor$AOwc().getCommonModel();return this.commonModel$AOwc}function onDestroy(){com.coremedia.cms.editor.sdk.premular.PropertyFieldGroup.prototype.onDestroy.call(this);var appliedConditionsKey=com.coremedia.blueprint.base.queryeditor.components.ContentQueryFormBase.MODEL_PROPERTIES.APPLIED_CONDITIONS;
this.readOnlyValueExpression$AOwc.removeChangeListener(AS3.bind(this,"enableOrDisable$AOwc"));this.sortingValueExpression$AOwc.removeChangeListener(AS3.bind(this,"updateLocalModel$AOwc"));this.commonModel$AOwc&&this.commonModel$AOwc.removePropertyChangeListener(appliedConditionsKey,AS3.bind(this,"onAppliedChange$AOwc"));this.getLocalModel().removePropertyChangeListener(this.SELECTED_FIELD,AS3.bind(this,"onSelectedFieldChange$AOwc"));this.getLocalModel().removePropertyChangeListener(this.SELECTED_DIRECTION,
AS3.bind(this,"onSelectedDirectionChange$AOwc"))}return{extend:"com.coremedia.cms.editor.sdk.premular.PropertyFieldGroup",FIELDS:"sortingFields",SELECTED_FIELD:"selectedSortingField",DIRECTIONS:"sortingDirections",SELECTED_DIRECTION:"selectedSortingDirection",queryValueExpression$AOwc:null,sortingValueExpression$AOwc:null,readOnlyValueExpression$AOwc:null,propertyName$AOwc:null,dcqe$AOwc:null,localModel$AOwc:null,fieldsComboBox$AOwc:null,directionComboBox$AOwc:null,commonModel$AOwc:null,constructor:SortingFormBase$,
super$AOwc:function(){com.coremedia.cms.editor.sdk.premular.PropertyFieldGroup.prototype.constructor.apply(this,arguments)},afterRender:afterRender,doInit:doInit,listenToModelChanges$AOwc:listenToModelChanges,enableOrDisable$AOwc:enableOrDisable,onAppliedChange$AOwc:onAppliedChange,onSelectedFieldChange$AOwc:onSelectedFieldChange,onSelectedDirectionChange$AOwc:onSelectedDirectionChange,updateFields$AOwc:updateFields,updateDirections$AOwc:updateDirections,updateRemoteBeanAndSerializedExpression$AOwc:updateRemoteBeanAndSerializedExpression,
updateLocalModel$AOwc:updateLocalModel,createProperties$AOwc:createProperties,getLocalModel:getLocalModel,getFieldsComboBox$AOwc:getFieldsComboBox,getDirectionComboBox$AOwc:getDirectionComboBox,getContentQueryEditor$AOwc:getContentQueryEditor,getCommonModel$AOwc:getCommonModel,onDestroy:onDestroy,statics:{getFieldText:getFieldText$static,getDirectionText:getDirectionText$static},requires:["Ext.form.field.ComboBox","com.coremedia.blueprint.base.queryeditor.QueryEditorSettings_properties","com.coremedia.cms.editor.sdk.premular.PropertyFieldGroup",
"com.coremedia.cms.editor.sdk.util.PropertyEditorUtil","com.coremedia.ui.data.beanFactory","com.coremedia.ui.mixins.LazyItemsContainerMixin","mx.resources.ResourceManager"],uses:["com.coremedia.blueprint.base.queryeditor.components.ContentQueryForm","com.coremedia.blueprint.base.queryeditor.components.ContentQueryFormBase"]}});Ext.define("com.coremedia.blueprint.base.queryeditor.components.DocumentTypesForm",function(DocumentTypesForm){function DocumentTypesForm$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.base.queryeditor.components.DocumentTypesFormBase,{});var defaults_$1=AS3.cast(DocumentTypesForm,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.collapsible=false;config_$1.itemId="documentTypesFilter";var container_35_5_$1=AS3.cast(Ext.container.Container,
{});var ui_StatefulCheckbox_37_9_$1=AS3.cast(com.coremedia.ui.components.StatefulCheckbox,{});AS3.setBindable(ui_StatefulCheckbox_37_9_$1,"boxLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.base.queryeditor.QueryEditor","DCQE_label_all")));ui_StatefulCheckbox_37_9_$1.itemId="all";ui_StatefulCheckbox_37_9_$1.checked=true;container_35_5_$1.items=[ui_StatefulCheckbox_37_9_$1];var container_43_5_$1=AS3.cast(Ext.container.Container,{});container_43_5_$1.itemId=
"types";container_43_5_$1.items=[];var layout_VBox_46_9_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_46_9_$1,"align","left");AS3.setBindable(container_43_5_$1,"layout",layout_VBox_46_9_$1);config_$1.items=[container_35_5_$1,container_43_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$bSOF(config_$1)}return{extend:"com.coremedia.blueprint.base.queryeditor.components.DocumentTypesFormBase",alias:"widget.com.coremedia.blueprint.base.queryeditor.config.documentTypesForm",
constructor:DocumentTypesForm$,super$bSOF:function(){com.coremedia.blueprint.base.queryeditor.components.DocumentTypesFormBase.prototype.constructor.apply(this,arguments)},config:{documentTypesFilterHeight:NaN,propertyName:null,documentTypes:null},requires:["Ext.container.Container","Ext.layout.container.VBox","com.coremedia.blueprint.base.queryeditor.QueryEditor_properties","com.coremedia.blueprint.base.queryeditor.components.DocumentTypesFormBase","com.coremedia.ui.components.StatefulCheckbox",
"net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.blueprint.base.queryeditor.components.SortingForm",function(SortingForm){function SortingForm$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.base.queryeditor.components.SortingFormBase,{});var defaults_$1=AS3.cast(SortingForm,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);config_$1.manageHeight=false;var label_35_5_$1=AS3.cast(Ext.form.Label,{});AS3.setBindable(label_35_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.base.queryeditor.QueryEditor",
"DCQE_label_sort1")));var ui_LocalComboBox_36_5_$1=AS3.cast(com.coremedia.ui.components.LocalComboBox,{});ui_LocalComboBox_36_5_$1.itemId="sortingFields";ui_LocalComboBox_36_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.LabelableSkin.PLAIN_LABEL.getSkin());AS3.setBindable(ui_LocalComboBox_36_5_$1,"minWidth",200);AS3.setBindable(ui_LocalComboBox_36_5_$1,"maxWidth",200);ui_LocalComboBox_36_5_$1.valueField="name";AS3.setBindable(ui_LocalComboBox_36_5_$1,"displayField","localizedName");
AS3.setBindable(ui_LocalComboBox_36_5_$1,"encodeItems",true);AS3.setBindable(ui_LocalComboBox_36_5_$1,"emptyText",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.base.queryeditor.QueryEditor","DCQE_option_default")));var editor_BindDisablePlugin_45_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin,{});editor_BindDisablePlugin_45_9_$1.bindTo=AS3.getBindable(config,"bindTo","DUMMY");AS3.setBindable(editor_BindDisablePlugin_45_9_$1,
"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression","DUMMY"));var ui_BindListPlugin_47_9_$1=AS3.cast(com.coremedia.ui.plugins.BindListPlugin,{});var data_AutoField_49_13_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_49_13_$1.name="name";var ui_DataField_50_13_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_50_13_$1.name="localizedName";ui_DataField_50_13_$1.mapping="name";ui_DataField_50_13_$1["convert"]=function(name){return com.coremedia.blueprint.base.queryeditor.components.SortingFormBase.getFieldText(name)};
ui_DataField_50_13_$1.encode=false;AS3.setBindable(ui_BindListPlugin_47_9_$1,"fields",[data_AutoField_49_13_$1,ui_DataField_50_13_$1]);var ui_ValueExpression_56_13_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_56_13_$1,"context",this.getLocalModel());AS3.setBindable(ui_ValueExpression_56_13_$1,"expression",net.jangaroo.ext.Exml.asString(this.FIELDS));AS3.setBindable(ui_BindListPlugin_47_9_$1,"bindTo",new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_56_13_$1));
var ui_BindPropertyPlugin_60_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_60_9_$1.bidirectional=true;ui_BindPropertyPlugin_60_9_$1.componentEvent="change";ui_BindPropertyPlugin_60_9_$1.ifUndefined="";var ui_ValueExpression_64_13_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_64_13_$1,"context",this.getLocalModel());AS3.setBindable(ui_ValueExpression_64_13_$1,"expression",net.jangaroo.ext.Exml.asString(this.SELECTED_FIELD));
ui_BindPropertyPlugin_60_9_$1.bindTo=new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_64_13_$1);ui_LocalComboBox_36_5_$1.plugins=[editor_BindDisablePlugin_45_9_$1,ui_BindListPlugin_47_9_$1,ui_BindPropertyPlugin_60_9_$1];ui_LocalComboBox_36_5_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var label_70_5_$1=AS3.cast(Ext.form.Label,{});AS3.setBindable(label_70_5_$1,"text",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.base.queryeditor.QueryEditor","DCQE_label_sort2")));
var ui_LocalComboBox_71_5_$1=AS3.cast(com.coremedia.ui.components.LocalComboBox,{});ui_LocalComboBox_71_5_$1.itemId="sortingDirections";ui_LocalComboBox_71_5_$1.ui=net.jangaroo.ext.Exml.asString(com.coremedia.ui.skins.LabelableSkin.PLAIN_LABEL.getSkin());AS3.setBindable(ui_LocalComboBox_71_5_$1,"minWidth",200);AS3.setBindable(ui_LocalComboBox_71_5_$1,"maxWidth",200);ui_LocalComboBox_71_5_$1.valueField="name";AS3.setBindable(ui_LocalComboBox_71_5_$1,"displayField","localizedName");AS3.setBindable(ui_LocalComboBox_71_5_$1,
"encodeItems",true);AS3.setBindable(ui_LocalComboBox_71_5_$1,"emptyText",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.base.queryeditor.QueryEditor","DCQE_option_default")));var editor_BindDisablePlugin_80_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin,{});editor_BindDisablePlugin_80_9_$1.bindTo=AS3.getBindable(config,"bindTo","DUMMY");AS3.setBindable(editor_BindDisablePlugin_80_9_$1,"forceReadOnlyValueExpression",AS3.getBindable(config,
"forceReadOnlyValueExpression","DUMMY"));var ui_BindListPlugin_82_9_$1=AS3.cast(com.coremedia.ui.plugins.BindListPlugin,{});var data_AutoField_84_13_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_84_13_$1.name="name";var ui_DataField_85_13_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_85_13_$1.name="localizedName";ui_DataField_85_13_$1.mapping="name";ui_DataField_85_13_$1["convert"]=function(name){return com.coremedia.blueprint.base.queryeditor.components.SortingFormBase.getDirectionText(name)};
ui_DataField_85_13_$1.encode=false;AS3.setBindable(ui_BindListPlugin_82_9_$1,"fields",[data_AutoField_84_13_$1,ui_DataField_85_13_$1]);var ui_ValueExpression_91_13_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_91_13_$1,"context",this.getLocalModel());AS3.setBindable(ui_ValueExpression_91_13_$1,"expression",net.jangaroo.ext.Exml.asString(this.DIRECTIONS));AS3.setBindable(ui_BindListPlugin_82_9_$1,"bindTo",new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_91_13_$1));
var ui_BindPropertyPlugin_95_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_95_9_$1.bidirectional=true;ui_BindPropertyPlugin_95_9_$1.componentEvent="change";ui_BindPropertyPlugin_95_9_$1.ifUndefined="";var ui_ValueExpression_99_13_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_99_13_$1,"context",this.getLocalModel());AS3.setBindable(ui_ValueExpression_99_13_$1,"expression",net.jangaroo.ext.Exml.asString(this.SELECTED_DIRECTION));
ui_BindPropertyPlugin_95_9_$1.bindTo=new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_99_13_$1);ui_LocalComboBox_71_5_$1.plugins=[editor_BindDisablePlugin_80_9_$1,ui_BindListPlugin_82_9_$1,ui_BindPropertyPlugin_95_9_$1];ui_LocalComboBox_71_5_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;var dcqe_Limit_105_5_$1=AS3.cast(com.coremedia.blueprint.base.queryeditor.components.Limit,{});AS3.setBindable(dcqe_Limit_105_5_$1,"bindTo",AS3.getBindable(config,"bindTo","DUMMY"));AS3.setBindable(dcqe_Limit_105_5_$1,
"forceReadOnlyValueExpression",AS3.getBindable(config,"forceReadOnlyValueExpression","DUMMY"));AS3.setBindable(dcqe_Limit_105_5_$1,"queryPropertyName","localSettings");AS3.setBindable(dcqe_Limit_105_5_$1,"propertyName","limit");config_$1.items=[label_35_5_$1,ui_LocalComboBox_36_5_$1,label_70_5_$1,ui_LocalComboBox_71_5_$1,dcqe_Limit_105_5_$1];var layout_VBox_113_5_$1=AS3.cast(Ext.layout.container.VBox,{});AS3.setBindable(layout_VBox_113_5_$1,"align","stretch");AS3.setBindable(config_$1,"layout",layout_VBox_113_5_$1);
net.jangaroo.ext.Exml.apply(config_$1,config);this.super$AZOr(config_$1)}return{extend:"com.coremedia.blueprint.base.queryeditor.components.SortingFormBase",alias:"widget.com.coremedia.blueprint.base.queryeditor.config.sortingForm",constructor:SortingForm$,super$AZOr:function(){com.coremedia.blueprint.base.queryeditor.components.SortingFormBase.prototype.constructor.apply(this,arguments)},config:{queryVE:null,propertyName:null},requires:["Ext.data.field.Field","Ext.form.Label","Ext.layout.container.VBox",
"com.coremedia.blueprint.base.queryeditor.QueryEditor_properties","com.coremedia.blueprint.base.queryeditor.components.SortingFormBase","com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin","com.coremedia.ui.components.LocalComboBox","com.coremedia.ui.exml.ValueExpression","com.coremedia.ui.plugins.BindListPlugin","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.skins.LabelableSkin","com.coremedia.ui.store.DataField","net.jangaroo.ext.Exml"],uses:["com.coremedia.blueprint.base.queryeditor.components.Limit"]}});Ext.define("com.coremedia.blueprint.base.queryeditor.components.DocumentTypesFormBase",function(DocumentTypesFormBase){function localModel_(){this.localModel$DQ60=com.coremedia.ui.data.beanFactory.createLocalBean({})}function SELECTED_TYPES_(){this.SELECTED_TYPES$DQ60=SelectedLocal$static.SELECTED_TYPES}function DocumentTypesFormBase$(config){if(arguments.length<=0)config=null;this.super$DQ60(AS3.cast(com.coremedia.cms.editor.sdk.premular.PropertyFieldGroup,Ext.apply({},config)));localModel_.call(this);
SELECTED_TYPES_.call(this);this.documentTypes$DQ60=AS3.getBindable(config,"documentTypes");this.readOnlyValueExpression$DQ60=com.coremedia.cms.editor.sdk.util.PropertyEditorUtil.createReadOnlyValueExpression(AS3.getBindable(config,"bindTo","DUMMY"),AS3.getBindable(config,"forceReadOnlyValueExpression","DUMMY"));this.propertyName$DQ60=AS3.getBindable(config,"propertyName")}function afterRender(){com.coremedia.cms.editor.sdk.premular.PropertyFieldGroup.prototype.afterRender.call(this);if(this.itemsAreLazy())this.on(com.coremedia.ui.mixins.LazyItemsContainerMixin.LAZY_ITEMS_ADDED_EVENT,
AS3.bind(this,"doInit$DQ60"));else this.doInit$DQ60();AS3.getBindable(this,"bindTo","DUMMY").addChangeListener(AS3.bind(this,"doInit$DQ60"))}function doInit(){var this$=this;this.selectedLocal$DQ60=this.initSelectedLocal$DQ60();this.renderTypes$DQ60();if(AS3.as(this.localModel$DQ60.get(this.SELECTED_TYPES$DQ60),Array).length===0)this.localModel$DQ60.set(this.SELECTED_TYPES$DQ60,this.documentTypes$DQ60);this.propertyValueExpression$DQ60=this.getContentQueryEditor$DQ60().getDocumentTypesRemote();this.propertyValueExpression$DQ60.addChangeListener(AS3.bind(this,
"selectedFromRemoteChanged$DQ60"));this.selectedFromRemoteChanged$DQ60(this.propertyValueExpression$DQ60);this.mon(this.getAllCheckbox$DQ60(),"change",AS3.bind(this,"onAllCheckboxChange$DQ60"));Ext.each(this.getTypeCheckboxes$DQ60().getRange(),function(checkbox){this$.mon(checkbox,"change",function(checkbox){var numberOfChecked=AS3.as(this$.getTypeCheckboxes$DQ60(),Ext.util.MixedCollection).filterBy(function(checkbox){return checkbox.checked}).length;this$.updateModel$DQ60(checkbox);if(!this$.triggeredByAllCheckbox$DQ60){this$.triggeredByIndividualCheckbox$DQ60=
true;this$.getAllCheckbox$DQ60().setValue(numberOfChecked===this$.getTypeCheckboxes$DQ60().length);this$.triggeredByIndividualCheckbox$DQ60=false}})},null);this.readOnlyValueExpression$DQ60.addChangeListener(AS3.bind(this,"enableOrDisable$DQ60"));this.enableOrDisable$DQ60(this.readOnlyValueExpression$DQ60)}function initSelectedLocal(){this.localModel$DQ60.set(this.SELECTED_TYPES$DQ60,[]);this.localModel$DQ60.addPropertyChangeListener(this.SELECTED_TYPES$DQ60,AS3.bind(this,"onSelectedTypesChange$DQ60"));
return new SelectedLocal$static(this.localModel$DQ60)}function onSelectedTypesChange(e){this.getContentQueryEditor$DQ60().updateApplicableConditions(e.newValue)}function renderTypes(){var typeCheckboxes=this.getTypeCheckboxes$DQ60(),addMethod=typeCheckboxes instanceof Ext.util.MixedCollection?typeCheckboxes.add:typeCheckboxes.push;this.documentTypes$DQ60.forEach(function(documentType){var checkboxCfg=AS3.cast(Ext.form.field.Checkbox,{});AS3.setBindable(checkboxCfg,"boxLabel",typeNameToString$static(documentType));
checkboxCfg.name=documentType;checkboxCfg.checked=true;addMethod.call(typeCheckboxes,Ext.ComponentManager.create(checkboxCfg))});this.updateLayout()}function updateModel(checkbox){var checkBoxName=checkbox.getName();if(checkbox.checked!==this.selectedLocal$DQ60.contains(checkBoxName)){checkbox.checked?this.selectedLocal$DQ60.add(checkBoxName):this.selectedLocal$DQ60.remove(checkBoxName);var selectedLocalArray=this.selectedLocal$DQ60.asArray();if(selectedLocalArray.length)this.propertyValueExpression$DQ60.setValue(serialize$static(selectedLocalArray));
else{var fq=AS3.as(this.propertyValueExpression$DQ60.getParent().getValue(),com.coremedia.cap.struct.Struct);if(fq&&fq.getType().hasProperty(this.propertyName$DQ60))this.propertyValueExpression$DQ60.setValue("")}}}function updateUI(selectedFromRemote){var this$=this;if(this.getTypeCheckboxes$DQ60()["items"]){this.selectedLocal$DQ60.setTypes(selectedFromRemote);Ext.each(this.getTypeCheckboxes$DQ60()["items"],function(checkbox){var selected=this$.selectedLocal$DQ60.contains(checkbox.getName());checkbox.setValue(selected)},
null);this.getAllCheckbox$DQ60().setValue(this.selectedLocal$DQ60.asArray().length===this.getTypeCheckboxes$DQ60().length)}else;}function serialize$static(selectedDocumentTypes){return selectedDocumentTypes.join(",")}function deserialize$static(selectedDocumentTypes){if(selectedDocumentTypes===undefined||selectedDocumentTypes===null)return null;var split=selectedDocumentTypes.split(",");return split.length>1||split[0]!=""?split:[]}function selectedFromRemoteChanged(source){var selectedFromRemote=
source.getValue();if(selectedFromRemote!==undefined&&selectedFromRemote!==null&&selectedFromRemote!==serialize$static(this.selectedLocal$DQ60.asArray()))this.updateUI$DQ60(deserialize$static(selectedFromRemote))}function onAllCheckboxChange(checkboxAll){if(!this.triggeredByIndividualCheckbox$DQ60){this.triggeredByAllCheckbox$DQ60=true;Ext.each(this.getTypeCheckboxes$DQ60()["items"],function(checkbox){checkbox.setValue(checkboxAll.checked)},this);this.triggeredByAllCheckbox$DQ60=false}}function enableOrDisable(valueExpression){var readOnly=
valueExpression.getValue();var enableOrDisable;if(readOnly!==undefined&&readOnly!==null){enableOrDisable=readOnly?"disable":"enable";this.getAllCheckbox$DQ60()[enableOrDisable]();this.getTypeCheckboxes$DQ60().each(function(checkbox){checkbox[enableOrDisable]()})}}function getAllCheckbox(){if(!this.allCheckbox$DQ60)this.allCheckbox$DQ60=AS3.as(this.queryById("all"),Ext.form.field.Checkbox);return AS3.as(this.allCheckbox$DQ60,Ext.form.field.Checkbox)}function getTypeCheckboxesParent(){if(!this.typeCheckboxesParent$DQ60)this.typeCheckboxesParent$DQ60=
AS3.as(this.queryById("types"),Ext.container.Container);return AS3.as(this.typeCheckboxesParent$DQ60,Ext.container.Container)}function getTypeCheckboxes(){return this.getTypeCheckboxesParent$DQ60().itemCollection}function getContentQueryEditor(){if(!this.dcqe$DQ60)this.dcqe$DQ60=AS3.as(this.findParentByType(com.coremedia.blueprint.base.queryeditor.components.ContentQueryForm),com.coremedia.blueprint.base.queryeditor.components.ContentQueryForm);return this.dcqe$DQ60}function typeNameToString$static(name){return mx.resources.ResourceManager.getInstance().getString("com.coremedia.blueprint.base.queryeditor.QueryEditor",
"DCQE_label_document_types_"+name)||name}function onDestroy(){com.coremedia.cms.editor.sdk.premular.PropertyFieldGroup.prototype.onDestroy.call(this);AS3.getBindable(this,"bindTo","DUMMY").removeChangeListener(AS3.bind(this,"doInit$DQ60"));this.localModel$DQ60.removePropertyChangeListener(this.SELECTED_TYPES$DQ60,AS3.bind(this,"onSelectedTypesChange$DQ60"));this.propertyValueExpression$DQ60&&this.propertyValueExpression$DQ60.removeChangeListener(AS3.bind(this,"selectedFromRemoteChanged$DQ60"));this.readOnlyValueExpression$DQ60.removeChangeListener(AS3.bind(this,
"enableOrDisable$DQ60"))}function SelectedLocal$(localModel){this.localModel$ET62=localModel}function getLocalModel(){return this.localModel$ET62}function setTypes(selectedTypes){this.getLocalModel().set(SelectedLocal$static.SELECTED_TYPES,selectedTypes)}function add(selectedType){var st=this.asArray(true);st.push(selectedType);this.getLocalModel().set(SelectedLocal$static.SELECTED_TYPES,st)}function remove(selectedType){var st=this.asArray(true);st.splice(st.indexOf(selectedType),1);this.getLocalModel().set(SelectedLocal$static.SELECTED_TYPES,
st)}function contains(selectedType){var st=this.asArray();return st.indexOf(selectedType)!==-1}function asArray(copy){if(arguments.length<=0)copy=false;var st=AS3.as(this.getLocalModel().get(SelectedLocal$static.SELECTED_TYPES),Array);return copy?st.slice(0):st}var SelectedLocal$static=Ext.define(null,{localModel$DQ60:null,constructor:SelectedLocal$,getLocalModel:getLocalModel,setTypes:setTypes,add:add,remove:remove,contains:contains,asArray:asArray,statics:{SELECTED_TYPES:"selectedTypes"}});return{extend:"com.coremedia.cms.editor.sdk.premular.PropertyFieldGroup",
documentTypes$DQ60:null,propertyName$DQ60:null,readOnlyValueExpression$DQ60:null,propertyValueExpression$DQ60:null,allCheckbox$DQ60:null,typeCheckboxesParent$DQ60:null,dcqe$DQ60:null,selectedLocal$DQ60:null,triggeredByAllCheckbox$DQ60:false,triggeredByIndividualCheckbox$DQ60:false,constructor:DocumentTypesFormBase$,super$DQ60:function(){com.coremedia.cms.editor.sdk.premular.PropertyFieldGroup.prototype.constructor.apply(this,arguments)},afterRender:afterRender,doInit$DQ60:doInit,initSelectedLocal$DQ60:initSelectedLocal,
onSelectedTypesChange$DQ60:onSelectedTypesChange,renderTypes$DQ60:renderTypes,updateModel$DQ60:updateModel,updateUI$DQ60:updateUI,selectedFromRemoteChanged$DQ60:selectedFromRemoteChanged,onAllCheckboxChange$DQ60:onAllCheckboxChange,enableOrDisable$DQ60:enableOrDisable,getAllCheckbox$DQ60:getAllCheckbox,getTypeCheckboxesParent$DQ60:getTypeCheckboxesParent,getTypeCheckboxes$DQ60:getTypeCheckboxes,getContentQueryEditor$DQ60:getContentQueryEditor,onDestroy:onDestroy,requires:["Ext","Ext.ComponentManager",
"Ext.container.Container","Ext.form.field.Checkbox","Ext.util.MixedCollection","com.coremedia.blueprint.base.queryeditor.QueryEditor_properties","com.coremedia.cap.struct.Struct","com.coremedia.cms.editor.sdk.premular.PropertyFieldGroup","com.coremedia.cms.editor.sdk.util.PropertyEditorUtil","com.coremedia.ui.data.beanFactory","com.coremedia.ui.mixins.LazyItemsContainerMixin","mx.resources.ResourceManager"],uses:["com.coremedia.blueprint.base.queryeditor.components.ContentQueryForm"]}});Ext.define("com.coremedia.blueprint.base.queryeditor.components.QueryConditionsFormBase",function(QueryConditionsFormBase){function QueryConditionsFormBase$(config){if(arguments.length<=0)config=null;this.super$Mv72(config)}function afterRender(){com.coremedia.cms.editor.sdk.premular.PropertyFieldGroup.prototype.afterRender.call(this);if(this.itemsAreLazy())this.on(com.coremedia.ui.mixins.LazyItemsContainerMixin.LAZY_ITEMS_ADDED_EVENT,AS3.bind(this,"doInit"));else this.doInit();com.coremedia.cms.editor.sdk.desktop.TabChangePluginBase.getDocumentTabChangeExpression().addChangeListener(AS3.bind(this,
"updateLocalFromRemote$Mv72"));this.checkInValueExpression$Mv72=AS3.getBindable(this,"bindTo","DUMMY").extendBy(com.coremedia.cap.content.ContentPropertyNames.CHECKED_IN);this.checkInValueExpression$Mv72.addChangeListener(AS3.bind(this,"updateLocalFromRemote$Mv72"));this.checkOutValueExpression$Mv72=AS3.getBindable(this,"bindTo","DUMMY").extendBy(com.coremedia.cap.content.ContentPropertyNames.CHECKED_OUT_BY_OTHER);this.checkOutValueExpression$Mv72.addChangeListener(AS3.bind(this,"updateLocalFromRemote$Mv72"))}
function doInit(){var applicableProp=com.coremedia.blueprint.base.queryeditor.components.ContentQueryFormBase.MODEL_PROPERTIES.APPLICABLE_CONDITIONS;this.applicableConditionsVE$Mv72=com.coremedia.ui.data.ValueExpressionFactory.create(applicableProp,this.getContentQueryEditor$Mv72().getCommonModel());this.applicableConditionsVE$Mv72.addChangeListener(AS3.bind(this,"refreshAppliedConditions$Mv72"));var appliedProp=com.coremedia.blueprint.base.queryeditor.components.ContentQueryFormBase.MODEL_PROPERTIES.APPLIED_CONDITIONS;
this.appliedConditionsVE$Mv72=com.coremedia.ui.data.ValueExpressionFactory.create(appliedProp,this.getContentQueryEditor$Mv72().getCommonModel());this.appliedConditionsVE$Mv72.addChangeListener(AS3.bind(this,"onAppliedChange$Mv72"));this.listenToModelChanges$Mv72();this.refreshConditionCombo()}function getAddConditionDisabledExpression(){var this$=this;return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){if(AS3.getBindable(this$,"forceReadOnlyValueExpression","DUMMY").getValue())return true;
if(this$.applicableConditionsVE$Mv72){var applicableConditions=this$.applicableConditionsVE$Mv72.getValue();var appliedConditions=this$.appliedConditionsVE$Mv72.getValue();return applicableConditions&&appliedConditions&&applicableConditions.length-appliedConditions.length===0}else return undefined})}function getDeleteAllConditionDisabledExpression(){var this$=this;return com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){if(AS3.getBindable(this$,"forceReadOnlyValueExpression",
"DUMMY").getValue())return true;if(this$.appliedConditionsVE$Mv72){var appliedConditions=this$.appliedConditionsVE$Mv72.getValue();return appliedConditions&&appliedConditions.length===0}else return undefined})}function refreshAppliedConditions(applicableConditionsVE){var applicableConditions=applicableConditionsVE.getValue();if(applicableConditions.length===0)this.appliedConditionsVE$Mv72.setValue([]);this.refreshConditionCombo()}function onConditionSelect(){var selectedCondition=this.getConditionsCombo$Mv72().getValue();
if(selectedCondition){this.applyCondition(selectedCondition.xtype);this.getConditionsCombo$Mv72().setValue(undefined)}}function refreshConditionCombo(){var applicableConditions=this.applicableConditionsVE$Mv72.getValue();var records=[];for(var $1=0;$1<applicableConditions.length;++$1){var applicableCondition=applicableConditions[$1];if(!this.isApplied$Mv72(applicableCondition)){var record=[];record.push(applicableCondition);record.push(com.coremedia.blueprint.base.queryeditor.components.ContentQueryFormBase.getConditionTitle(applicableCondition.propertyName));
records.push(record)}}this.getConditionsCombo$Mv72().setStore(records)}function isApplied(applyableCondition){var appliedConditions=this.appliedConditionsVE$Mv72.getValue();for(var $1=0;$1<appliedConditions.length;++$1){var appliedCondition=appliedConditions[$1];if(appliedCondition.xtype===applyableCondition.xtype)return true}return false}function getConditionEditors(){return this.getAppliedConditionsContainer$Mv72().queryBy(function(cmp,container){return AS3.is(cmp,com.coremedia.blueprint.base.queryeditor.conditions.ConditionEditorBase)})}
function listenToModelChanges(){var this$=this;this.appliedConditionsVE$Mv72.addChangeListener(AS3.bind(this,"onAppliedChange$Mv72"));this.fqValueExpression$Mv72=this.getContentQueryEditor$Mv72().getFilterQuery();this.monitorVE$Mv72=com.coremedia.ui.data.ValueExpressionFactory.createFromFunction(function(){var queryVE=this$.getContentQueryEditor$Mv72().getQuery();queryVE.loadValue(Ext.emptyFn);this$.fqValueExpression$Mv72.loadValue(Ext.emptyFn);return queryVE.getValue()&&this$.fqValueExpression$Mv72.getValue()});
this.monitorVE$Mv72.loadValue(function(queryStruct){this$.monitorVE$Mv72.addChangeListener(AS3.bind(this$,"updateLocalFromRemote$Mv72"));this$.updateLocalFromRemote$Mv72()})}function onAppliedChange(appliedConditionsVE){var appliedConditions=appliedConditionsVE.getValue();this.updateUIFromLocal$Mv72(appliedConditions);this.updateRemoteFromLocal$Mv72(appliedConditions);this.refreshConditionCombo();this.updateLayout()}function updateRemoteFromLocal(appliedConditions){var this$=this;this.fqValueExpression$Mv72.loadValue(function(fq){var allConditions=
this$.getContentQueryEditor$Mv72().getConditionEditorConfigs();var appliedConditions=this$.appliedConditionsVE$Mv72.getValue();for(var i=0;i<allConditions.length;i++){var condition=allConditions[i];var remoteExpression=fq.get(condition.propertyName);var isApplied=appliedConditions.some(function(appliedCondition){return appliedCondition.xtype==condition.xtype});if(remoteExpression!=undefined&&!isApplied)if(fq.getType().hasProperty(condition.propertyName))fq.getType().removeProperty(condition.propertyName);
else com.coremedia.ui.logging.Logger.error("Trying to delete non-existing filter query substruct property: "+condition.propertyName)}})}function updateUIFromLocal(appliedConditions){var this$=this;var appliedConditionEditors=this.getConditionEditors();appliedConditions.forEach(function(appliedCondition){var applied=appliedConditionEditors.some(function(appliedConditionEditor){return appliedCondition.xtype==appliedConditionEditor.xtype});if(!applied)this$.getAppliedConditionsContainer$Mv72().add(Ext.ComponentManager.create(appliedCondition))},
null);appliedConditionEditors.forEach(function(appliedConditionEditor){var stillApplied=appliedConditions.some(function(appliedCondition){return appliedConditionEditor.xtype==appliedCondition.xtype});if(!stillApplied)appliedConditionEditor.destroy()},null)}function updateLocalFromRemote(){var fq=this.fqValueExpression$Mv72.getValue();if(fq){var appliedConditions=this.appliedConditionsVE$Mv72.getValue();var newAppliedConditions=[];appliedConditions.forEach(function(appliedCondition){var remoteExpression=
fq.get(appliedCondition.propertyName);if(remoteExpression!=undefined)newAppliedConditions.push(appliedCondition)});var allConditions=this.getContentQueryEditor$Mv72().getConditionEditorConfigs();allConditions.forEach(function(condition){var remoteExpression=fq.get(condition.propertyName);var isApplied=newAppliedConditions.some(function(appliedCondition){return condition.xtype==appliedCondition.xtype});if(remoteExpression!=undefined&&!isApplied)newAppliedConditions.push(condition)});this.appliedConditionsVE$Mv72.setValue(newAppliedConditions)}}
function applyCondition(conditionEditorXtype){var configClone=AS3.cast(com.coremedia.blueprint.base.queryeditor.conditions.ConditionEditorBase,Ext.apply({},this.getContentQueryEditor$Mv72().getConditionEditorConfigByXtype(conditionEditorXtype)));configClone.setToDefault=true;this.addAppliedCondition$Mv72(configClone);if(!this.fqValueExpression$Mv72.getValue()){var contentStruct=this.fqValueExpression$Mv72.getParent().getValue();contentStruct.getType().addStructProperty(com.coremedia.blueprint.base.queryeditor.components.ContentQueryFormBase.FQ_STRUCT_NAME)}}
function removeCondition(conditionEditor){this.removeAppliedCondition$Mv72(conditionEditor)}function addAppliedCondition(condition){var conditions=this.appliedConditionsVE$Mv72.getValue().slice();conditions.push(condition);this.appliedConditionsVE$Mv72.setValue(conditions)}function removeAppliedCondition(condition){var conditions=this.appliedConditionsVE$Mv72.getValue().slice();for(var index=0;index<conditions.length;index++)if(conditions[index].xtype===condition.xtype){conditions.splice(index,1);
this.appliedConditionsVE$Mv72.setValue(conditions);condition.destroy();break}}function removeAllAppliedConditions(){var this$=this;var title=this.resourceManager.getString("com.coremedia.blueprint.base.queryeditor.QueryEditor","DCQE_delete_condition_title");var message=this.resourceManager.getString("com.coremedia.blueprint.base.queryeditor.QueryEditor","DCQE_delete_condition_msg");var confirmationButtonText=this.resourceManager.getString("com.coremedia.blueprint.base.queryeditor.QueryEditor","DCQE_delete_condition_buttonText");
var callback=function(buttonId){if(buttonId==="ok")this$.appliedConditionsVE$Mv72.setValue([])};com.coremedia.cms.editor.sdk.util.MessageBoxUtil.showConfirmation(title,message,confirmationButtonText,callback)}function getAppliedConditionsContainer(){if(!this.appliedConditionsContainer$Mv72)this.appliedConditionsContainer$Mv72=AS3.as(this.getComponent("appliedConditions"),Ext.container.Container);return this.appliedConditionsContainer$Mv72}function getContentQueryEditor(){if(!this.dcqe$Mv72)this.dcqe$Mv72=
AS3.as(this.findParentByType(com.coremedia.blueprint.base.queryeditor.components.ContentQueryForm),com.coremedia.blueprint.base.queryeditor.components.ContentQueryForm);return this.dcqe$Mv72}function getConditionsCombo(){if(this.conditionsCombo$Mv72==null){var fieldContainer=AS3.as(this.getComponent("conditionActionsField"),Ext.container.Container);this.conditionsCombo$Mv72=AS3.as(fieldContainer.getComponent("conditionsCombo"),Ext.form.field.ComboBox)}return this.conditionsCombo$Mv72}function onDestroy(){com.coremedia.cms.editor.sdk.premular.PropertyFieldGroup.prototype.onDestroy.call(this);
this.checkInValueExpression$Mv72.removeChangeListener(AS3.bind(this,"updateLocalFromRemote$Mv72"));this.checkOutValueExpression$Mv72.removeChangeListener(AS3.bind(this,"updateLocalFromRemote$Mv72"));com.coremedia.cms.editor.sdk.desktop.TabChangePluginBase.getDocumentTabChangeExpression().removeChangeListener(AS3.bind(this,"updateLocalFromRemote$Mv72"));this.appliedConditionsVE$Mv72&&this.appliedConditionsVE$Mv72.removeChangeListener(AS3.bind(this,"onAppliedChange$Mv72"));this.applicableConditionsVE$Mv72&&
this.applicableConditionsVE$Mv72.removeChangeListener(AS3.bind(this,"refreshAppliedConditions$Mv72"));this.monitorVE$Mv72&&this.monitorVE$Mv72.removeChangeListener(AS3.bind(this,"updateLocalFromRemote$Mv72"))}return{extend:"com.coremedia.cms.editor.sdk.premular.PropertyFieldGroup",conditions:null,dcqe$Mv72:null,appliedConditionsContainer$Mv72:null,conditionsCombo$Mv72:null,applicableConditionsVE$Mv72:null,appliedConditionsVE$Mv72:null,fqValueExpression$Mv72:null,monitorVE$Mv72:null,checkInValueExpression$Mv72:null,
checkOutValueExpression$Mv72:null,constructor:QueryConditionsFormBase$,super$Mv72:function(){com.coremedia.cms.editor.sdk.premular.PropertyFieldGroup.prototype.constructor.apply(this,arguments)},afterRender:afterRender,doInit:doInit,getAddConditionDisabledExpression:getAddConditionDisabledExpression,getDeleteAllConditionDisabledExpression:getDeleteAllConditionDisabledExpression,refreshAppliedConditions$Mv72:refreshAppliedConditions,onConditionSelect:onConditionSelect,refreshConditionCombo:refreshConditionCombo,
isApplied$Mv72:isApplied,getConditionEditors:getConditionEditors,listenToModelChanges$Mv72:listenToModelChanges,onAppliedChange$Mv72:onAppliedChange,updateRemoteFromLocal$Mv72:updateRemoteFromLocal,updateUIFromLocal$Mv72:updateUIFromLocal,updateLocalFromRemote$Mv72:updateLocalFromRemote,applyCondition:applyCondition,removeCondition:removeCondition,addAppliedCondition$Mv72:addAppliedCondition,removeAppliedCondition$Mv72:removeAppliedCondition,removeAllAppliedConditions:removeAllAppliedConditions,getAppliedConditionsContainer$Mv72:getAppliedConditionsContainer,
getContentQueryEditor$Mv72:getContentQueryEditor,getConditionsCombo$Mv72:getConditionsCombo,onDestroy:onDestroy,requires:["Ext","Ext.ComponentManager","Ext.container.Container","Ext.form.field.ComboBox","com.coremedia.blueprint.base.queryeditor.QueryEditor_properties","com.coremedia.cap.content.ContentPropertyNames","com.coremedia.cms.editor.sdk.desktop.TabChangePluginBase","com.coremedia.cms.editor.sdk.premular.PropertyFieldGroup","com.coremedia.cms.editor.sdk.util.MessageBoxUtil","com.coremedia.ui.data.ValueExpressionFactory",
"com.coremedia.ui.logging.Logger","com.coremedia.ui.mixins.LazyItemsContainerMixin"],uses:["com.coremedia.blueprint.base.queryeditor.components.ContentQueryForm","com.coremedia.blueprint.base.queryeditor.components.ContentQueryFormBase","com.coremedia.blueprint.base.queryeditor.conditions.ConditionEditorBase"]}});Ext.define("com.coremedia.blueprint.base.queryeditor.conditions.ContextConditionEditor",function(ContextConditionEditor){function ContextConditionEditor$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.base.queryeditor.conditions.ContextConditionEditorBase,{});var defaults_$1=AS3.cast(ContextConditionEditor,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var editor_LinkListPropertyField_23_5_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyField,
{});AS3.setBindable(editor_LinkListPropertyField_23_5_$1,"bindTo",AS3.getBindable(config,"bindTo"));AS3.setBindable(editor_LinkListPropertyField_23_5_$1,"linkType",net.jangaroo.ext.Exml.asString(config.contentType));editor_LinkListPropertyField_23_5_$1.labelAlign="top";editor_LinkListPropertyField_23_5_$1.anchor="100%";AS3.setBindable(editor_LinkListPropertyField_23_5_$1,"showThumbnails",false);AS3.setBindable(editor_LinkListPropertyField_23_5_$1,"propertyName",net.jangaroo.ext.Exml.asString(this.resolvePropertyName(config.propertyName)));
AS3.setBindable(editor_LinkListPropertyField_23_5_$1,"forceReadOnlyValueExpression",config.forceReadOnlyValueExpression);config_$1.items=[editor_LinkListPropertyField_23_5_$1];var layout_Fit_32_5_$1=AS3.cast(Ext.layout.container.Fit,{});AS3.setBindable(config_$1,"layout",layout_Fit_32_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$FEhg(config_$1)}return{extend:"com.coremedia.blueprint.base.queryeditor.conditions.ContextConditionEditorBase",alias:"widget.com.coremedia.blueprint.base.queryeditor.config.contextConditionEditor",
constructor:ContextConditionEditor$,super$FEhg:function(){com.coremedia.blueprint.base.queryeditor.conditions.ContextConditionEditorBase.prototype.constructor.apply(this,arguments)},requires:["Ext.layout.container.Fit","com.coremedia.blueprint.base.queryeditor.QueryEditor_properties","com.coremedia.blueprint.base.queryeditor.conditions.ContextConditionEditorBase","com.coremedia.cms.editor.sdk.premular.fields.LinkListPropertyField","net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.blueprint.base.queryeditor.conditions.LinkingTaxonomyConditionEditor",function(LinkingTaxonomyConditionEditor){function LinkingTaxonomyConditionEditor$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.base.queryeditor.conditions.LinkingTaxonomyConditionEditorBase,{});var defaults_$1=AS3.cast(LinkingTaxonomyConditionEditor,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var displayField_24_5_$1=AS3.cast(Ext.form.field.Display,
{});displayField_24_5_$1.anchor="100%";AS3.setBindable(displayField_24_5_$1,"value",this.resourceManager.getString("com.coremedia.blueprint.base.queryeditor.QueryEditor","DCQE_text_linking_taxonomies_linked_by"));config_$1.items=[displayField_24_5_$1];var layout_Anchor_28_5_$1=AS3.cast(Ext.layout.container.Anchor,{});AS3.setBindable(config_$1,"layout",layout_Anchor_28_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$9y50(config_$1)}return{extend:"com.coremedia.blueprint.base.queryeditor.conditions.LinkingTaxonomyConditionEditorBase",
alias:"widget.com.coremedia.blueprint.base.queryeditor.config.linkingTaxonomyConditionEditor",constructor:LinkingTaxonomyConditionEditor$,super$9y50:function(){com.coremedia.blueprint.base.queryeditor.conditions.LinkingTaxonomyConditionEditorBase.prototype.constructor.apply(this,arguments)},config:{propertyName:null},requires:["Ext.form.field.Display","Ext.layout.container.Anchor","com.coremedia.blueprint.base.queryeditor.QueryEditor_properties","com.coremedia.blueprint.base.queryeditor.conditions.LinkingTaxonomyConditionEditorBase",
"net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.blueprint.base.queryeditor.conditions.ConditionEditorBase",function(ConditionEditorBase){function ConditionEditorBase$(config){if(arguments.length<=0)config=null;this.super$R3J8(config);AS3.setBindable(this,"bindTo",AS3.getBindable(config,"bindTo"));this.group=config.group;this.contentType=config.contentType;this.setToDefault=config.setToDefault||false;this.sortable=config.sortable||false;this.attribute=config.attribute;this.documentTypes=config.documentTypes;this.propertyName=
config.propertyName;AS3.setBindable(this,"title",com.coremedia.blueprint.base.queryeditor.components.ContentQueryFormBase.getConditionTitle(config.propertyName));this.ui=com.coremedia.ui.skins.PanelSkin.FRAME_100.getSkin()}function afterRender(){Ext.panel.Panel.prototype.afterRender.call(this);this.getRemoteValueExpression().addChangeListener(AS3.bind(this,"updateSetToDefaultFlag$R3J8"))}function removeCondition(){var conditionsField=AS3.as(this.findParentByType(com.coremedia.blueprint.base.queryeditor.components.QueryConditionsForm),
com.coremedia.blueprint.base.queryeditor.components.QueryConditionsForm);conditionsField.removeCondition(this)}function getLocalModel(){if(!this.localModel)this.localModel=com.coremedia.ui.data.beanFactory.createLocalBean(this.createLocalModelInitObject());return this.localModel}function createLocalModelInitObject(){return{}}function getRemoteValueExpression(){if(!this.valueExpression){this.valueExpression=this.getContentQueryEditor$R3J8().getFilterQuerySubProperty(this.propertyName);this.valueExpression.addChangeListener(conditionChanged$static)}return this.valueExpression}
function conditionChanged$static(){var premular=AS3.as(com.coremedia.cms.editor.sdk.editorContext.getWorkArea().getActiveTab(),Ext.panel.Panel);var previewPanel=AS3.as(premular.queryById("previewPanel"),com.coremedia.cms.editor.sdk.preview.PreviewPanel);if(previewPanel)previewPanel.reloadFrame()}function shouldSetToDefault(){return this.setToDefault}function updateSetToDefaultFlag(valueExpression){if(this.setToDefault&&valueExpression.getValue()){this.setToDefault=false;this.getRemoteValueExpression().removeChangeListener(AS3.bind(this,
"updateSetToDefaultFlag$R3J8"))}}function getContentQueryEditor(){if(!this.dcqe)this.dcqe=AS3.as(this.findParentByType(com.coremedia.blueprint.base.queryeditor.components.ContentQueryForm),com.coremedia.blueprint.base.queryeditor.components.ContentQueryForm);return this.dcqe}function onDestroy(){Ext.panel.Panel.prototype.onDestroy.call(this);this.getRemoteValueExpression().removeChangeListener(AS3.bind(this,"updateSetToDefaultFlag$R3J8"))}function applyBaseStruct$static(bindTo,contentType,structPropertyName){var c=
bindTo.getValue();var struct=c.getProperties().get("localSettings");struct.getType().addStructProperty("fq");var fq=struct.get("fq");var capType=com.coremedia.cap.common.SESSION.getConnection().getContentRepository().getContentType(contentType);fq.getType().addLinkListProperty(structPropertyName,capType,[])}return{extend:"Ext.panel.Panel",forceReadOnlyValueExpression:null,propertyName:null,setToDefault:false,contentType:null,group:null,sortable:false,attribute:null,documentTypes:null,localModel:null,
valueExpression:null,dcqe:null,constructor:ConditionEditorBase$,super$R3J8:function(){Ext.panel.Panel.prototype.constructor.apply(this,arguments)},afterRender:afterRender,removeCondition:removeCondition,getLocalModel:getLocalModel,createLocalModelInitObject:createLocalModelInitObject,getRemoteValueExpression:getRemoteValueExpression,shouldSetToDefault:shouldSetToDefault,updateSetToDefaultFlag$R3J8:updateSetToDefaultFlag,getContentQueryEditor$R3J8:getContentQueryEditor,onDestroy:onDestroy,config:{bindTo:null},
statics:{applyBaseStruct:applyBaseStruct$static},requires:["Ext.panel.Panel","com.coremedia.cap.common.SESSION","com.coremedia.cms.editor.sdk.editorContext","com.coremedia.cms.editor.sdk.preview.PreviewPanel","com.coremedia.ui.data.beanFactory","com.coremedia.ui.skins.PanelSkin"],uses:["com.coremedia.blueprint.base.queryeditor.components.ContentQueryForm","com.coremedia.blueprint.base.queryeditor.components.ContentQueryFormBase","com.coremedia.blueprint.base.queryeditor.components.QueryConditionsForm"]}});Ext.define("com.coremedia.blueprint.base.queryeditor.conditions.ConditionEditor",function(ConditionEditor){function ConditionEditor$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.base.queryeditor.conditions.ConditionEditorBase,{});var defaults_$1=AS3.cast(ConditionEditor,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var tool_20_5_$1=AS3.cast(Ext.panel.Tool,{});AS3.setBindable(tool_20_5_$1,"type","close");tool_20_5_$1.handler=AS3.bind(this,"removeCondition");
var editor_BindDisablePlugin_22_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin,{});editor_BindDisablePlugin_22_9_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(editor_BindDisablePlugin_22_9_$1,"forceReadOnlyValueExpression",config.forceReadOnlyValueExpression);tool_20_5_$1.plugins=[editor_BindDisablePlugin_22_9_$1];tool_20_5_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;config_$1.tools=[tool_20_5_$1];net.jangaroo.ext.Exml.apply(config_$1,config);this.super$QJrN(config_$1)}
return{extend:"com.coremedia.blueprint.base.queryeditor.conditions.ConditionEditorBase",alias:"widget.com.coremedia.blueprint.base.queryeditor.config.conditionEditor",constructor:ConditionEditor$,super$QJrN:function(){com.coremedia.blueprint.base.queryeditor.conditions.ConditionEditorBase.prototype.constructor.apply(this,arguments)},requires:["Ext.panel.Tool","com.coremedia.blueprint.base.queryeditor.conditions.ConditionEditorBase","com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin",
"net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.blueprint.base.queryeditor.conditions.ModificationDateConditionEditorBase",function(ModificationDateConditionEditorBase){function ModificationDateConditionEditorBase$(config){if(arguments.length<=0)config=null;this.timeSlots=config.timeSlots;this.timeSlotsByName$I9h_=mapNameToTitle$static(this.timeSlots);this.super$I9h_(config)}function afterRender(){com.coremedia.blueprint.base.queryeditor.conditions.ConditionEditor.prototype.afterRender.call(this);this.renderTimeSlots$I9h_();
this.listenToModelChanges$I9h_();this.applyModificationDateBaseStruct(AS3.getBindable(this,"bindTo"),this.contentType,this.propertyName)}function applyModificationDateBaseStruct(bindTo,contentType,structPropertyName){var c=bindTo.getValue();var struct=c.getProperties().get("localSettings");struct.getType().addStructProperty("fq");var fq=struct.get("fq");fq.getType().addStringProperty(this.EXPRESSION_PREFIX$I9h_,this.timeSlots[0].name)}function renderTimeSlots(){var slots=[];this.timeSlots.forEach(function(timeSlot){slots.push(com.coremedia.ui.data.beanFactory.createLocalBean({"name":timeSlot.name}))});
this.getLocalModel().set(this.TIME_SLOTS,slots)}function listenToModelChanges(){this.getLocalModel().addPropertyChangeListener(this.SELECTED_TIME_SLOT,AS3.bind(this,"updateRemoteFromLocal$I9h_"));this.getRemoteValueExpression().addChangeListener(AS3.bind(this,"updateLocalFromRemote$I9h_"));this.getRemoteValueExpression().loadValue(AS3.bind(this,"updateLocal$I9h_"))}function updateLocalFromRemote(remoteValueExpression){if(remoteValueExpression.isLoaded())this.updateLocal$I9h_(remoteValueExpression.getValue())}
function updateLocal(serializedValue){var newExpression=deserialize$static(serializedValue);if(!newExpression&&this.shouldSetToDefault())newExpression=this.timeSlots[0].expression;var oldExpression=this.getExpression(this.getLocalModel().get(this.SELECTED_TIME_SLOT));if(newExpression&&newExpression!=oldExpression){var name=this.getName$I9h_(newExpression);this.getLocalModel().set(this.SELECTED_TIME_SLOT,name)}}function updateRemoteFromLocal(e){var timeSlotName=e.newValue,newExpression=this.getExpression(timeSlotName),
oldExpression=deserialize$static(this.getRemoteValueExpression().getValue());if(newExpression&&oldExpression!=newExpression)this.getRemoteValueExpression().setValue(this.serialize$I9h_(newExpression))}function serialize(expression){if(expression)return this.EXPRESSION_PREFIX$I9h_+"["+expression+"]";else return undefined}function deserialize$static(fullExpression){if(AS3.as(fullExpression,Array))return"";var startIndex,endIndex,expression;if(fullExpression){startIndex=fullExpression.indexOf("[")+1;
endIndex=fullExpression.indexOf("]");expression=fullExpression.substring(startIndex,endIndex)}return expression}function getName(expression){var timeSlot;for(var i=0;this.timeSlots.length;i++){timeSlot=this.timeSlots[i];if(timeSlot.expression==expression)return timeSlot.name}return undefined}function getText(name){return this.timeSlotsByName$I9h_[name].text}function getExpression(name){return name&&this.timeSlotsByName$I9h_[name]&&this.timeSlotsByName$I9h_[name].expression}function mapNameToTitle$static(timeSlots){var map=
{},timeSlot;for(var i=0;i<timeSlots.length;i++){timeSlot=timeSlots[i];map[timeSlot.name]=timeSlot}return map}function onDestroy(){com.coremedia.blueprint.base.queryeditor.conditions.ConditionEditor.prototype.onDestroy.call(this);this.getLocalModel().removePropertyChangeListener(this.SELECTED_TIME_SLOT,AS3.bind(this,"updateRemoteFromLocal$I9h_"));this.getRemoteValueExpression().removeChangeListener(AS3.bind(this,"updateLocal$I9h_"))}return{extend:"com.coremedia.blueprint.base.queryeditor.conditions.ConditionEditor",
EXPRESSION_PREFIX$I9h_:"freshness:",TIME_SLOTS:"timeSlots",SELECTED_TIME_SLOT:"selectedTimeSlot",timeSlots:null,timeSlotsByName$I9h_:null,constructor:ModificationDateConditionEditorBase$,super$I9h_:function(){com.coremedia.blueprint.base.queryeditor.conditions.ConditionEditor.prototype.constructor.apply(this,arguments)},afterRender:afterRender,applyModificationDateBaseStruct:applyModificationDateBaseStruct,renderTimeSlots$I9h_:renderTimeSlots,listenToModelChanges$I9h_:listenToModelChanges,updateLocalFromRemote$I9h_:updateLocalFromRemote,
updateLocal$I9h_:updateLocal,updateRemoteFromLocal$I9h_:updateRemoteFromLocal,serialize$I9h_:serialize,getName$I9h_:getName,getText:getText,getExpression:getExpression,onDestroy:onDestroy,requires:["com.coremedia.blueprint.base.queryeditor.conditions.ConditionEditor","com.coremedia.ui.data.beanFactory"]}});Ext.define("com.coremedia.blueprint.base.queryeditor.conditions.LinkingTaxonomyConditionEditorBase",function(LinkingTaxonomyConditionEditorBase){function LinkingTaxonomyConditionEditorBase$(config){if(arguments.length<=0)config=null;this.super$19mn(config)}function afterRender(){com.coremedia.blueprint.base.queryeditor.conditions.ConditionEditor.prototype.afterRender.call(this);var c=AS3.getBindable(this,"bindTo").getValue();var struct=c.getProperties().get("localSettings");struct.getType().addStructProperty("fq");
var fq=struct.get("fq");fq.getType().addBooleanProperty(this.propertyName,true);fq.set(this.propertyName,true)}return{extend:"com.coremedia.blueprint.base.queryeditor.conditions.ConditionEditor",constructor:LinkingTaxonomyConditionEditorBase$,super$19mn:function(){com.coremedia.blueprint.base.queryeditor.conditions.ConditionEditor.prototype.constructor.apply(this,arguments)},afterRender:afterRender,requires:["com.coremedia.blueprint.base.queryeditor.conditions.ConditionEditor"]}});Ext.define("com.coremedia.blueprint.base.queryeditor.conditions.ContextConditionEditorBase",function(ContextConditionEditorBase){function ContextConditionEditorBase$(config){if(arguments.length<=0)config=null;this.super$kE3R(config);com.coremedia.blueprint.base.queryeditor.conditions.ConditionEditorBase.applyBaseStruct(AS3.getBindable(this,"bindTo"),this.contentType,this.propertyName)}function resolvePropertyName(propertyName){return"localSettings.fq."+propertyName}return{extend:"com.coremedia.blueprint.base.queryeditor.conditions.ConditionEditor",
constructor:ContextConditionEditorBase$,super$kE3R:function(){com.coremedia.blueprint.base.queryeditor.conditions.ConditionEditor.prototype.constructor.apply(this,arguments)},resolvePropertyName:resolvePropertyName,requires:["com.coremedia.blueprint.base.queryeditor.conditions.ConditionEditor"],uses:["com.coremedia.blueprint.base.queryeditor.conditions.ConditionEditorBase"]}});Ext.define("com.coremedia.blueprint.base.queryeditor.conditions.ModificationDateConditionEditor",function(ModificationDateConditionEditor){function ModificationDateConditionEditor$(config){if(arguments.length<=0)config=null;var config_$1=AS3.cast(com.coremedia.blueprint.base.queryeditor.conditions.ModificationDateConditionEditorBase,{});var defaults_$1=AS3.cast(ModificationDateConditionEditor,{});config=net.jangaroo.ext.Exml.apply(defaults_$1,config);var ui_LocalComboBox_21_5_$1=AS3.cast(com.coremedia.ui.components.LocalComboBox,
{});ui_LocalComboBox_21_5_$1.itemId="sortingField";AS3.setBindable(ui_LocalComboBox_21_5_$1,"fieldLabel",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.base.queryeditor.QueryEditor","DCQE_label_modification_time")));ui_LocalComboBox_21_5_$1.valueField="name";AS3.setBindable(ui_LocalComboBox_21_5_$1,"displayField","localizedName");AS3.setBindable(ui_LocalComboBox_21_5_$1,"encodeItems",true);ui_LocalComboBox_21_5_$1.labelAlign="top";AS3.setBindable(ui_LocalComboBox_21_5_$1,
"emptyText",net.jangaroo.ext.Exml.asString(this.resourceManager.getString("com.coremedia.blueprint.base.queryeditor.QueryEditor","DCQE_option_default")));var ui_BindListPlugin_29_9_$1=AS3.cast(com.coremedia.ui.plugins.BindListPlugin,{});var data_AutoField_31_13_$1=AS3.cast(Ext.data.field.Field,{});data_AutoField_31_13_$1.name="name";var ui_DataField_32_13_$1=AS3.cast(com.coremedia.ui.store.DataField,{});ui_DataField_32_13_$1.name="localizedName";ui_DataField_32_13_$1.mapping="name";ui_DataField_32_13_$1["convert"]=
AS3.bind(this,"getText");ui_DataField_32_13_$1.encode=false;AS3.setBindable(ui_BindListPlugin_29_9_$1,"fields",[data_AutoField_31_13_$1,ui_DataField_32_13_$1]);var ui_ValueExpression_38_13_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_38_13_$1,"context",this.getLocalModel());AS3.setBindable(ui_ValueExpression_38_13_$1,"expression",net.jangaroo.ext.Exml.asString(this.TIME_SLOTS));AS3.setBindable(ui_BindListPlugin_29_9_$1,"bindTo",new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_38_13_$1));
var ui_BindPropertyPlugin_42_9_$1=AS3.cast(com.coremedia.ui.plugins.BindPropertyPlugin,{});ui_BindPropertyPlugin_42_9_$1.bidirectional=true;ui_BindPropertyPlugin_42_9_$1.ifUndefined="";var ui_ValueExpression_45_13_$1=AS3.cast(com.coremedia.ui.exml.ValueExpression,{});AS3.setBindable(ui_ValueExpression_45_13_$1,"context",this.getLocalModel());AS3.setBindable(ui_ValueExpression_45_13_$1,"expression",net.jangaroo.ext.Exml.asString(this.SELECTED_TIME_SLOT));ui_BindPropertyPlugin_42_9_$1.bindTo=new com.coremedia.ui.exml.ValueExpression(ui_ValueExpression_45_13_$1);
var editor_BindDisablePlugin_49_9_$1=AS3.cast(com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin,{});editor_BindDisablePlugin_49_9_$1.bindTo=AS3.getBindable(config,"bindTo");AS3.setBindable(editor_BindDisablePlugin_49_9_$1,"forceReadOnlyValueExpression",config.forceReadOnlyValueExpression);ui_LocalComboBox_21_5_$1.plugins=[ui_BindListPlugin_29_9_$1,ui_BindPropertyPlugin_42_9_$1,editor_BindDisablePlugin_49_9_$1];ui_LocalComboBox_21_5_$1["plugins$at"]=net.jangaroo.ext.Exml.APPEND;
config_$1.items=[ui_LocalComboBox_21_5_$1];var layout_Anchor_55_5_$1=AS3.cast(Ext.layout.container.Anchor,{});AS3.setBindable(config_$1,"layout",layout_Anchor_55_5_$1);net.jangaroo.ext.Exml.apply(config_$1,config);this.super$hIwD(config_$1)}return{extend:"com.coremedia.blueprint.base.queryeditor.conditions.ModificationDateConditionEditorBase",alias:"widget.com.coremedia.blueprint.base.queryeditor.config.modificationDateConditionEditor",constructor:ModificationDateConditionEditor$,super$hIwD:function(){com.coremedia.blueprint.base.queryeditor.conditions.ModificationDateConditionEditorBase.prototype.constructor.apply(this,
arguments)},requires:["Ext.data.field.Field","Ext.layout.container.Anchor","com.coremedia.blueprint.base.queryeditor.QueryEditor_properties","com.coremedia.blueprint.base.queryeditor.conditions.ModificationDateConditionEditorBase","com.coremedia.cms.editor.sdk.premular.fields.plugins.BindDisablePlugin","com.coremedia.ui.components.LocalComboBox","com.coremedia.ui.exml.ValueExpression","com.coremedia.ui.plugins.BindListPlugin","com.coremedia.ui.plugins.BindPropertyPlugin","com.coremedia.ui.store.DataField",
"net.jangaroo.ext.Exml"]}});Ext.define("com.coremedia.blueprint.base.queryeditor.QueryEditor_properties",{"DCQE_label_general":"General","DCQE_label_all":"All","DCQE_label_conditions":"Conditions","DCQE_label_query":"Query","DCQE_label_number_of_results":"Number of Results","DCQE_label_switch_to_expert_view":"Switch to Expert View","DCQE_label_revert_expert_changes":"Revert Changes","DCQE_label_switch_to_assistant_view":"Switch to Assistant View","DCQE_label_delete_all_conditions":"Delete All Conditions","DCQE_label_selection_of_document_types":"Selection of Content Types",
"DCQE_label_sorting_search_query":"Sorting of the Search Results","DCQE_label_code_errors":"Your Code Contains Errors.","DCQE_label_show_help":"Show Help","DCQE_label_possible_conditions":"Possible Conditions","DCQE_title_condition_group_attributes":"Attributes","DCQE_title_condition_group_reactions":"Reactions","DCQE_title_document_types":"Selection of Content Types","DCQE_label_document_types_CMVideo":"Videos","DCQE_label_document_types_CMArticle":"Articles","DCQE_label_document_types_CMPicture":"Pictures",
"DCQE_label_document_types_CMGallery":"Galleries","DCQE_label_document_types_CMChannel":"Pages","DCQE_label_query_title":"Search Query","DCQE_condition_target_title":"The Content Must Apply To:","DCQE_tooltip_deletethis":"Delete this condition","DCQE_text_how_many":"How many items should be displayed in the list?","DCQE_text_add_condition":"Add Condition","DCQE_option_default":"Choose","DCQE_label_condition_pubdate":"Time","DCQE_label_publication_time":"The content items have been published","DCQE_text_publication_date_same_day":"on the same day",
"DCQE_text_publication_date_day_before":"on the day before","DCQE_text_publication_date_week_before":"the week before","DCQE_text_publication_date_last_month":"last month","DCQE_label_condition_freshness":"Modification Date","DCQE_label_modification_time":"The content items have been modified","DCQE_text_modification_date_same_day":"today","DCQE_text_modification_date_seven_days":"the last 7 days","DCQE_text_modification_date_thirty_days":"the last 30 days","DCQE_text_sorting_field_freshness":"modification date",
"DCQE_text_sorting_value_freshness_asc":"oldest","DCQE_text_sorting_value_freshness_desc":"newest","DCQE_label_condition_subjecttaxonomy":"Tag (Subject)","DCQE_text_sorting_field_subjecttaxonomy":"subject tag","DCQE_text_sorting_value_subjecttaxonomy_asc":"ascending","DCQE_text_sorting_value_subjecttaxonomy_desc":"descending","DCQE_label_condition_locationtaxonomy":"Tag (Location)","DCQE_text_sorting_field_locationtaxonomy":"location tag","DCQE_text_sorting_value_locationtaxonomy_asc":"ascending",
"DCQE_text_sorting_value_locationtaxonomy_desc":"descending","DCQE_label_condition_contextTaxonomies":"Tag Context","DCQE_text_linking_taxonomies_linked_by":"The content items should have the same tag like the context used for this query list.","DCQE_label_condition_documents":"Context","DCQE_label_add_document_by_drag":"Add a page context by dragging it from Library here.","DCQE_text_sorting_field_documents":"content name","DCQE_text_sorting_value_documents_asc":"oldest","DCQE_text_sorting_value_documents_desc":"newest",
"DCQE_tooltip_removedocument":"Remove content items from the list","DCQE_label_condition_keywords":"Tags","DCQE_text_docs_should_contain":"The content items should contain","DCQE_text_following_keywords":"of the following tags:","DCQE_text_enter_keywords":"Enter tags here.","DCQE_option_all":"all","DCQE_option_any":"any","DCQE_label_condition_comments":"Comments","DCQE_text_docs_should_comment":"The content items should have been commented at least","DCQE_text_times":"times.","DCQE_label_condition_folderpath":"File Path",
"DCQE_label_add_folder_by_drag":"Add a folder by dragging it from Library here.","DCQE_text_docs_should_be_in_folders":"The content items should be in one of the following folders:","DCQE_tooltip_removefolder":"Remove folder from the list","DCQE_text_sorting_field_pubdate":"publication time","DCQE_text_sorting_field_comments":"comments","DCQE_text_sorting_value_pubdate_asc":"oldest","DCQE_text_sorting_value_pubdate_desc":"newest","DCQE_text_sorting_value_comments_asc":"least commented","DCQE_text_sorting_value_comments_desc":"most commented",
"DCQE_label_sort1":"By what should the search results be sorted?","DCQE_label_sort2":"By which order should the search results be sorted?","DCQE_delete_condition_title":"Delete All Conditions","DCQE_delete_condition_msg":"Do you really want to delete all conditions?","DCQE_delete_condition_buttonText":"Delete","DCQE_help_title":"Help for Conditions","DCQE_open_in_tab":"Open in Tab","DCQE_read_only":"Element name not visible (ID: {0})","DCQE_limit_min_value":"1"},function(){com.coremedia.blueprint.base.queryeditor.QueryEditor_properties.INSTANCE=
new com.coremedia.blueprint.base.queryeditor.QueryEditor_properties});Ext.define("com.coremedia.blueprint.base.queryeditor.QueryEditorSettings_properties",{"sort_directions":"freshness,creationdate","sort_direction_freshness":"modification date","sort_direction_creationdate":"creation date","sort_direction_asc":"ascending","sort_direction_desc":"descending","query_editor_window_html_content_key":"dynamic-content-query-help-en"},function(){com.coremedia.blueprint.base.queryeditor.QueryEditorSettings_properties.INSTANCE=new com.coremedia.blueprint.base.queryeditor.QueryEditorSettings_properties});
//# sourceMappingURL=com.coremedia.blueprint.base__bpbase-studio-dynamic-query-list.js.map
